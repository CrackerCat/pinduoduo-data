"use strict";(self.webpackChunkmobile_fun_cashback=self.webpackChunkmobile_fun_cashback||[]).push([[3400],{48306:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var n=r(60112),o=r(73897),i=r(1906),a=r(7680),u=r(54466),c=r(82851),f=r(84100),s=r(61340);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(l,e);var t,r,n,i,a,f=m(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=f.call(this,e)).wxAppRequestPayload=e.wxAppRequestPayload,t.miniObjectPath=e.miniObjectPath,t.shortCommandApi=e.shortCommandApi,t.wxAppNavigatePayload=e.wxAppNavigatePayload,t}return t=l,r=[{key:"normalize",value:(i=regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==o.Z.COPY_CIPHER){e.next=2;break}return e.abrupt("return",this.processCipher());case 2:if(r=Object.assign({},this),(n=r.miniObjectPath)&&"string"==typeof n)n=(0,s.ZP)(r);else if("function"==typeof n)try{"string"!=typeof(n=n(r.shareURL))&&(n=null)}catch(e){}return e.abrupt("return",Promise.resolve(Object.assign({},r.wxAppNavigatePayload,{title:r.title,thumbnail:r.thumbnailURL,share_url:n||(0,s.Hr)(r.shareURL)})));case 6:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(r,n){var o=i.apply(e,t);function a(e){p(o,r,n,a,u,"next",e)}function u(e){p(o,r,n,a,u,"throw",e)}a(void 0)}))},function(e){return a.apply(this,arguments)})},{key:"getShareForm",value:function(e){return e===o.Z.COPY_CIPHER?c.Z.COMMAND:c.Z.WXAPP_CARD}},{key:"getShareMethod",value:function(e){return e===o.Z.COPY_CIPHER?u.Z.MANUAL:u.Z.SDK}}],r&&y(t.prototype,r),n&&y(t,n),l}(f.Z),S=v,w=r(69870),P=r(44293),d=r(39569);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A(e);if(t){var o=A(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return C(this,r)}}function C(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var T=w.Z.ShareErrorCode,j=[o.Z.WECHAT_SESSION,o.Z.COPY_CIPHER],x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(c,e);var t,r,n,u=R(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e)).ShareEntityClass=S,t._enableShareTypes=j.concat(),t}return t=c,r=[{key:"share",value:function(e){return this._enableShareTypes.indexOf(e)<0?T.SHARE_TYPE_DISABLED:o.Z.COPY_CIPHER===e?this.copyCipher():this.getShareEntityByShareType(e)?this._shareByNavigate():T.SHARE_PARAMS_NOT_VALID}},{key:"_shareByNavigate",value:function(){var e=this;if(!window.wx||!window.wx.miniProgram||"function"!=typeof window.wx.miniProgram.navigateTo)return T.SHARE_NOT_SUPPORTED;var t=o.Z.WECHAT_SESSION,r=this.getShareEntityByShareType(t);return this.emit(i.Z.ON_SHARE_TRIGGER,{shareType:t}),r.normalize(t).then((function(r){window.wx.miniProgram.navigateTo({url:"".concat("/pages/web_share/web_share?").concat((0,d.XP)(Object.assign({page_sn:(0,P.kd)()+"",page_name:(0,P.j0)(),page_id:(0,P.e6)()},r)))}),e.emit(i.Z.ON_SHARE_COMPLETED,{shareType:t,shareResultType:a.Z.SUCCESS})}),this.getNormalizeErrorHandler(t)),0}},{key:"refreshWxAppChannelShare",value:function(e){return this._setupPlatformShareSDK()}},{key:"notifyWxAppShareComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Z.SUCCESS;this.emit(i.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:t}),this.refreshWxAppChannelShare(e)}},{key:"_setupPlatformShareSDK",value:function(){var e=this;return"object"!==("undefined"==typeof wx?"undefined":g(wx))||"object"!==g(window.wx.miniProgram)||"function"!=typeof window.wx.miniProgram.postMessage?(this.emit(i.Z.SDK_INIT_FAILED),Promise.resolve()):Promise.all([o.Z.WECHAT_SESSION].map((function(t){var r=e.getShareEntityByShareType(t);return r?(e.emit(i.Z.ON_SHARE_PREPARE,{shareType:t}),r.normalize(t).then((function(e){try{window.wx.miniProgram.postMessage({data:{message_type:"share",share_info:e,page_info:{page_sn:(0,P.kd)()+"",page_name:(0,P.j0)(),page_id:(0,P.e6)()}}})}catch(e){}}),e.getNormalizeErrorHandler(t))):Promise.resolve()})))}}],r&&O(t.prototype,r),n&&O(t,n),c}(n.Z),Z=x}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-fun-cashback/js/ms_wx_app_c_40d6bf7a32ba225efd5e.js.map