(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{"1G4H":function(e,t,a){"use strict";a.d(t,"a",(function(){return formatTimeSpecify})),a.d(t,"b",(function(){return pxTransform}));a("ILmP");var r=a("rW/q");r.c.getEnv();function pxTransform(e){return e?r.c.pxTransform(e,750):""}r.c.config||(r.c.config={"designWidth":750,"deviceRatio":{"640":1.17,"750":1,"828":.905}});function padStart(e,t,a){if(e.length>=t)return e;for(var r="",n=0;n<t-e.length;n++)r+=a;return r+e}function formatTimeSpecify(e){var t=Math.floor(e%60),a=Math.floor(e%3600/60),r=Math.floor(e%86400/3600),n=Math.ceil(e/86400),o="";if(n>1)o="".concat(n,"天");else if(86400===e)o="2天";else{var c=padStart(t.toString(),2,"0"),i=padStart(a.toString(),2,"0"),s=padStart(r.toString(),2,"0");o="".concat(s,":").concat(i,":").concat(c)}return o}},"7U8d":function(e,t,a){e.exports={"content":"_4NVFSMa","mainTitle":"_1GI7FHz","mainTitleText":"mWXnzel","mainTitleStrong":"b8r5_yE","rewardContent":"_2yi-_F3","low":"xWWPHZT","rewardContentTitle":"_2qaxByd","bk":"_3ezPqFj","bk2":"_18oJslD","rewardContentTitleText":"_2Yz5REv","itemLightWrap":"_33Wp4wn","itemLight":"_2MF29KZ","cashItem":"_2HKOgUe","cashItemBk":"I3l6pJh","cashItemAmount":"_1NUGrRG","cashItemAmountYuan":"_2QlQ5Th","wepayItem":"_1p2d_Gd","wepayItemBk":"_24Dpr62","wepayItemAmount":"Of0Agf6","wepayItemAmountYuan":"_3Y7khqk","couponItem":"_2ReSxgp","couponItemBk":"_2vnyJfr","couponItemAmount":"_3zfST-T","couponItemAmountYuan":"i5Vg8ts","couponItemDesc":"_3M_xcZt","couponCountdown":"_3FU_6gp","rewardContentItem":"_3dlnj8t","add":"_1K0LfRi","bottomDesc":"_1eqslsy"}},"RObY":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return R}));var r,n=a("a+Ds"),o=a("WvbK"),c=a("p5LO"),i=a("wzp5"),s=a("w9YI"),m=a("QjaO"),l=a("cJQI"),u=a("ZsPb"),p=a("JsaZ"),d=a("MQ17"),w=a("q1tI"),h=a.n(w),f=a("TyAF"),b=a("gpDe"),E=a("2oo6"),T=a("7U8d"),O=a.n(T),S=a("W1Es"),v=a("jXyi"),g=a("3uR/"),N=a("bmJN"),y=a("TRXh"),x=a("TSYQ"),I=a.n(x),R=Object(f.inject)(b.b.GLOBAL,b.b.POPUP_QUEUE,b.b.ORDER_EXTRA_REWARD)(r=Object(f.observer)(r=function(e){Object(u.a)(OrderExtraRewardRewardPopup,e);var t=Object(p.a)(OrderExtraRewardRewardPopup);function OrderExtraRewardRewardPopup(){var e;Object(s.a)(this,OrderExtraRewardRewardPopup);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return e=t.call.apply(t,[this].concat(r)),Object(d.a)(Object(l.a)(e),"onClose",(function(){var t=e.orderExtraRewardStore,a=t.finalRewardInfo,r=void 0===a?[]:a,n=t.canShow,o=null==r?void 0:r.find((function(e){return(null==e?void 0:e.rewardType)===v.b.CASH})),c=!(null==r||!r.find((function(e){return(null==e?void 0:e.rewardType)===v.b.WEPAY})));o&&(e.globalStore.set({"featureReward":null==o?void 0:o.rewardAmount}),e.popupQueueStore.priorityShow({"key":"showExchangeReward","after":function after(){return n&&e.popupQueueStore.instantShow("showOrderExtraRewardProgressPopup"),Promise.resolve()}})),c&&y.a.showToast("已打款至微信，24小时内到账"),e.popupQueueStore.close("showOrderExtraRewardRewardPopup")})),Object(d.a)(Object(l.a)(e),"renderRewardItem",(function(e,t,a){return e===v.b.CASH?h.a.createElement(c.a,{"className":O.a.cashItem},h.a.createElement(c.a,{"className":O.a.itemLightWrap},h.a.createElement(i.a,{"src":Object(S.a)("order-extra-reward-popup-light"),"className":O.a.itemLight})),h.a.createElement(i.a,{"src":Object(S.a)("order-extra-reward-cash-bk"),"className":O.a.cashItemBk}),h.a.createElement(c.a,{"className":O.a.cashItemAmount},Object(g.o)(t/100),h.a.createElement(c.a,{"className":O.a.cashItemAmountYuan},"元"))):e===v.b.COUPON?h.a.createElement(c.a,{"className":O.a.couponItem},h.a.createElement(c.a,{"className":O.a.couponCountdown},"剩",h.a.createElement(o.a,{"showNumberAmount":3,"finishTimeStamp":Date.now()+864e5})),h.a.createElement(c.a,{"className":O.a.itemLightWrap},h.a.createElement(i.a,{"src":Object(S.a)("order-extra-reward-popup-light"),"className":O.a.itemLight})),h.a.createElement(i.a,{"src":Object(S.a)("order-extra-reward-coupon-bk"),"className":O.a.couponItemBk}),h.a.createElement(c.a,{"className":O.a.couponItemAmount},Object(g.o)(t/100),h.a.createElement(c.a,{"className":O.a.couponItemAmountYuan},"元")),h.a.createElement(c.a,{"className":O.a.couponItemDesc},"满",Object(g.o)(a/100),"可用")):e===v.b.WEPAY?h.a.createElement(c.a,{"className":O.a.wepayItem},h.a.createElement(c.a,{"className":O.a.itemLightWrap},h.a.createElement(i.a,{"src":Object(S.a)("order-extra-reward-popup-light"),"className":O.a.itemLight})),h.a.createElement(i.a,{"src":Object(S.a)("order-extra-reward-wepay-bk"),"className":O.a.wepayItemBk}),h.a.createElement(c.a,{"className":O.a.wepayItemAmount},Object(g.o)(t/100),h.a.createElement(c.a,{"className":O.a.wepayItemAmountYuan},"元"))):null})),e}return Object(m.a)(OrderExtraRewardRewardPopup,[{"key":"render","value":function render(){var e=this,t=this.orderExtraRewardStore,a=t.finalRewardInfo,r=void 0===a?[]:a,o=t.currentOrder,s=t.isTwoDay,m=null==r?void 0:r.length,l=!(null==r||!r.find((function(e){return(null==e?void 0:e.rewardType)===v.b.COUPON}))),u=!(null==r||!r.find((function(e){return(null==e?void 0:e.rewardType)===v.b.WEPAY})));return h.a.createElement(E.a,{"showClose":!0,"onClose":this.onClose,"btn1Text":"开心收下","onBtn1Confirm":this.onClose,"deepMask":!0,"disableContentBg":!0,"bottomDesc":u?"*打款将扣除等量账户现金":"","bottomDescStyle":{"marginTop":Object(N.b)(-12)}},h.a.createElement(c.a,{"className":O.a.content},h.a.createElement(c.a,{"className":O.a.mainTitle},h.a.createElement(c.a,{"className":O.a.mainTitleText},"恭喜完成第",o,"单，额外得",h.a.createElement(n.a,{"className":O.a.mainTitleStrong},this.mainTitleText))),h.a.createElement(c.a,{"className":I()(O.a.rewardContent,Object(d.a)({},O.a.low,!l))},h.a.createElement(c.a,{"className":O.a.rewardContentTitle},h.a.createElement(i.a,{"className":O.a.bk,"src":Object(S.a)("order-extra-reward-title-bk1")}),h.a.createElement(i.a,{"className":O.a.bk2,"src":Object(S.a)("order-extra-reward-title-bk2")}),h.a.createElement(n.a,{"className":O.a.rewardContentTitleText},s?"三":"七","日拼单礼包")),h.a.createElement(c.a,{"className":O.a.rewardContentItem},r.map((function(t,a){var r=t.rewardAmount,n=t.rewardType,o=t.minAmount;return h.a.createElement(h.a.Fragment,null,e.renderRewardItem(n,r,o),a+1!==m?h.a.createElement(i.a,{"className":O.a.add,"src":Object(S.a)("order-extra-reward-add")}):null)}))),l?h.a.createElement(c.a,{"className":O.a.bottomDesc},"*限走路赚现金专用，可在“个人中心-优惠券”查看"):null)))}},{"key":"globalStore","get":function get(){return this.props[b.b.GLOBAL]}},{"key":"popupQueueStore","get":function get(){return this.props[b.b.POPUP_QUEUE]}},{"key":"orderExtraRewardStore","get":function get(){return this.props[b.b.ORDER_EXTRA_REWARD]}},{"key":"mainTitleText","get":function get(){var e,t=(e={},Object(d.a)(e,v.b.CASH,"元"),Object(d.a)(e,v.b.COUPON,"元券"),Object(d.a)(e,v.b.WEPAY,"元打款"),e),a=this.orderExtraRewardStore.finalRewardInfo;return(void 0===a?[]:a).map((function(e){return(null==e?void 0:e.rewardAmount)/100+t[e.rewardType]})).join("+")}}]),OrderExtraRewardRewardPopup}(w.Component))||r)||r},"WvbK":function(e,t,a){"use strict";var r=a("a+Ds"),n=a("p5LO"),o=a("w9YI"),c=a("QjaO"),i=a("ZsPb"),s=a("JsaZ"),m=a("q1tI"),l=a.n(m),u=a("1G4H"),p=function(e){Object(i.a)(CountDown,e);var t=Object(s.a)(CountDown);function CountDown(e){var a;return Object(o.a)(this,CountDown),(a=t.call(this,e)).timer=-1,a.state={"nowTimeStamp":0,"dt":a.props.serverTimeStamp?a.props.serverTimeStamp-Date.now():a.props.timeDiff},a}return Object(c.a)(CountDown,[{"key":"componentWillUnmount","value":function componentWillUnmount(){this.timer&&clearInterval(this.timer)}},{"key":"componentDidMount","value":function componentDidMount(){var e=Date.now()+this.state.dt;this.setState({"nowTimeStamp":e}),this.startCountDown()}},{"key":"startCountDown","value":function startCountDown(){var e=this;this.timer=setInterval((function(){var t=Date.now()+e.state.dt;if(t>=e.props.finishTimeStamp)return clearInterval(e.timer),e.setState({"nowTimeStamp":e.props.finishTimeStamp}),void(e.props.onCountDownFinish&&e.props.onCountDownFinish());e.setState({"nowTimeStamp":t},(function(){e.props.onCountDown(e.props.finishTimeStamp-e.state.nowTimeStamp)}))}),this.props.intervalTime)}},{"key":"padZero","value":function padZero(e){return 1===String(e).length?"0"+e:e}},{"key":"getTime","value":function getTime(e){var t=this.padZero(Math.floor(e%6e4/1e3)),a=this.padZero(Math.floor(e%36e5/6e4)),r=this.props.bigHours?this.padZero(Math.floor(e/36e5)):this.padZero(Math.floor(e%864e5/36e5)),n=[this.padZero(Math.floor(e/864e5)),r,a,t],o=[];!this.props.isShowSecond&&e>6e4&&n.pop();for(var c=0;n.length>0&&this.props.showNumberAmount>c++;)o.unshift(n.pop());return o}},{"key":"render","value":function render(){var e=this.props,t=e.finishTimeStamp,a=e.preText,o=e.showNumberAmount,c=e.isShowSecond,i=e.isShowOneThenthSecond,s=e.backText,m=e.useSpecify,p=e.hidePreText,d=e.hideBackText,w=t-this.state.nowTimeStamp,h=Object(u.a)(parseInt("".concat(w/1e3),10))||"",f=h.indexOf(":")>-1,b=this.getTime(w>0?w:0),E=Math.floor(w%1e3/100);return l.a.createElement(n.a,{"className":"expire-time"},m&&p&&f?null:l.a.createElement(r.a,{"className":"normal"},a),m&&h,m?null:b.map((function(e,t){return l.a.createElement(n.a,{"style":{"display":"inline"},"key":t},l.a.createElement(r.a,{"className":"num"},e),b.length-1!==t?l.a.createElement(r.a,{"className":"op"},0===t&&(o>3||o>2&&!c)?"天":":"):null)})),i&&!m?l.a.createElement(n.a,{"style":{"display":"inline"}},l.a.createElement(r.a,{"className":"op"},"."),l.a.createElement(r.a,{"className":"num millsec"},E)):null,m&&d&&f?null:l.a.createElement(r.a,{"className":"normal"},s))}}]),CountDown}(m.PureComponent);p.defaultProps={"showNumberAmount":2,"isShowOneThenthSecond":!1,"isShowSecond":!0,"preText":"","backText":"","finishTimeStamp":0,"timeDiff":0,"isCustomChildren":!1,"intervalTime":100,"onCountDown":function onCountDown(){},"bigHours":!1,"useSpecify":!1,"hidePreText":!1,"hideBackText":!1},t.a=p}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-fit/js/FitV2Popups-OrderExtraRewardRewardPopup_66e03bd352e393cf3b3a.js.map