(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[76],{"+7Xe":function(e,t){function n(t,a){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,a)}e.exports=n},"+LA7":function(e,t,n){e.exports={wrapper:"_3k9zwmL3",selector:"_1_bPG9Nk"}},"1yY8":function(e,t,n){},"5HhQ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){var n=e%t;return n<0?n+t:n};t.default=a},"7HEc":function(e,t,n){"use strict";var a=n("OYUV");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.children,a=e.startIndex,o=e.startX,s=e.pageX,c=e.viewLength,l=e.resistance,u=r.default.Children.count(n)-1,d=a+(o-s)/c;l?d<0?d=Math.exp(d*i.default.RESISTANCE_COEF)-1:d>u&&(d=u+1-Math.exp((u-d)*i.default.RESISTANCE_COEF)):d<0?t=((d=0)-a)*c+s:d>u&&(t=((d=u)-a)*c+s);return{index:d,startX:t}};var r=a(n("q1tI")),i=a(n("UlPe"))},"7VIw":function(e,t,n){"use strict";var a=n("OYUV");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("xZgz")).default;t.default=r},"8SQk":function(e,t,n){"use strict";var a=n("OYUV");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),i=function(e,t){var n=!1,a=function(e){return e?e.key:"empty"};if(e.children.length&&t.children.length){var i=r.default.Children.map(e.children,a)[e.index];if(null!=i)i===r.default.Children.map(t.children,a)[t.index]&&(n=!0)}return n};t.default=i},FRve:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},G2ut:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},n.apply(this,arguments)}e.exports=n},H1zx:function(e,t,n){e.exports={title:"_3wedRC78",text:"_3bs12MzN",inner:"_3Q2kzB04",contentWrapper:"_1HaVuwxi",tab:"_34ipArqb",leftTab:"_1uXCwf8m",rightTab:"_2jrIuX4R",content:"syjkv5--",img1:"_3rrDGPVn",img2:"lJArvShi",headerText:"_2OymYP_-",note1:"_37htZLG0",note:"_3Mcm-03J",img:"_105n0Zdv",promoteReward:"_279VON2D",promoteRewardTitle:"HrEoZ6_-",promoteImg:"_3vGHJm6L",bottomText:"_60ePmsil",rankListBtn:"_8DaO9L7T"}},H817:function(e,t,n){e.exports={mask:"_2Pu2AXiX",root:"_3QBHcArL",show:"_1ddZ7pKM",showMask:"_2Esbv5uA",close:"_3PWigSKj",rule:"_1-aEKUPN",contentWrap:"_2Er0gK1L",headPic:"FcSMSqhI",activityIntro:"_26-so4GZ",topTitle:"HYGV-DD3",description:"_1xj6Xy_Q",activityTime:"_163rEF60",awardInfo:"_2SjX6Wpd",left:"_19FglkTN",intro:"_36sCXK6d",subtitle:"rg36bDNr",title1:"RqpNRE6q",title2:"x6jrm9Aa",rankTitle:"_2ihIRHBM",rankInfo:"_3_YSOpWr",missionContent:"_24Dc2_9E",rankList:"_37r3Yq2r",duration:"_1CHn8Lzg",placeholder:"_2TpLMkyY"}},HEAb:function(e,t,n){"use strict";var a=n("cDf5"),r=n.n(a),i=n("lwsE"),o=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),f=n("Nsbk"),p=n.n(f),h=n("q1tI"),g=n.n(h),v={buildCtx:function(e,t){e=e||{},t=t||{};var n={};for(var a in t)t.hasOwnProperty(a)&&(n[a]={value:t[a],enumerable:!0,writable:!1});return Object.create(e,n)},pickCtx:function(e){e=e||{};var t={};for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}},y=n("eHaf"),b=n("KoDT");function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var k=function(e){u()(n,e);var t=w(n);function n(e){var a;return o()(this,n),(a=t.call(this,e)).ctxUtil=v,a.mountViewID=e.mountViewID,a.viewID=e.viewID,a.setupViewContext(e),a.isServerEnv=!1,a.isClientEnv=!a.isServerEnv,a.platform=a.isClientEnv&&Object(b.getPlatform)(navigator.userAgent),a.buildViewContext(),a}return c()(n,[{key:"setupViewContext",value:function(e){var t=e.viewCtx||{};"object"!==r()(t)||0===Object.keys(t).length&&!t.isRoot?((t={}).isRoot=!0,this.viewCtx=t):(Object.keys(t).length&&!t.isRoot&&(t.isRoot=!0),this.viewCtx=this.ctxUtil.buildCtx(t))}},{key:"buildViewContext",value:function(){}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"track",value:function(e,t){if(this.isClientEnv&&e){var n=v.pickCtx(v.buildCtx(this.viewCtx,e));n.ad&&"object"===r()(n.ad)&&(n.ad=JSON.stringify(n.ad)),n.hasOwnProperty("isRoot")&&delete n.isRoot,Object(y.sendMetrics)(n).catch((function(){})).then(t)}}}]),n}(g.a.Component);k.defaultProps={show:!1};t.a=k},"HNY/":function(e,t,n){var a=n("qcbO"),r=n("Q8e5"),i="string"==typeof a?[[e.i,a,""]]:a;(t=e.exports=a.locals||{})._getContent=function(){return i},t._getCss=function(){return""+a},t._insertCss=function(e){return r(i,e)}},KJF0:function(e,t,n){"use strict";var a=n("OYUV");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"checkIndexBounds",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"computeIndex",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"constant",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"getDisplaySameSlide",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"mod",{enumerable:!0,get:function(){return c.default}});var r=a(n("rRnn")),i=a(n("7HEc")),o=a(n("UlPe")),s=a(n("8SQk")),c=a(n("5HhQ"))},KPHd:function(e,t,n){"use strict";var a=n("lwsE"),r=n.n(a),i=n("W8MJ"),o=n.n(i),s=n("7W2i"),c=n.n(s),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),m=n.n(d),f=n("q1tI"),p=n.n(f),h=n("HEAb"),g=n("KoDT"),v=n("3VHQ"),y=n("MyPv");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}n("1yY8");var w=1,k=2,E=function(e){c()(n,e);var t=b(n);function n(e){var a;return r()(this,n),(a=t.call(this,e)).state={show:!1,isUp:!1},a.animating=!1,a}return o()(n,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.isClientEnv&&!this.animating&&(e.show&&!this.props.show?(this.animating=!0,this.setState({show:!0},(function(){window.setTimeout((function(){t.setState({isUp:!0}),t.animating=!1}),100)}))):!e.show&&this.props.show&&(this.animating=!0,this.setState({isUp:!1}),window.setTimeout((function(){t.setState({show:!1}),t.animating=!1}),100)))}},{key:"render",value:function(){var e=this;return p.a.createElement("div",{id:this.viewID,style:{display:this.state.show?"":"none"},className:"base-image-selector"},p.a.createElement("div",{className:this.state.isUp?"bis-select-image-slide-up bis-select-image":"bis-select-image"},p.a.createElement("div",{className:"bis-select-image-type"},p.a.createElement("p",{id:"".concat(this.viewID,"-camera"),className:"bis-from-camera",onClick:function(){e.selectImageFromCamera()}},"拍照"),p.a.createElement("p",{id:"".concat(this.viewID,"-album"),className:"bis-from-album",onClick:function(){e.selectImageFromAlbum()}},"从相册选择")),p.a.createElement("div",{id:"".concat(this.viewID,"-cancel"),className:"bis-select-cancel",onClick:function(){e.hide()}},"取消")),p.a.createElement("div",{className:"bis-select-image-mask",onClick:function(){e.hide()}}))}},{key:"hide",value:function(){this.props.onClose&&this.props.onClose()}},{key:"selectImageFromCamera",value:function(){this.selectImage(w),this.hide()}},{key:"selectImageFromAlbum",value:function(){this.selectImage(k),this.hide()}},{key:"selectImage",value:function(e){var t=this,n={source:e},a=this.platform.platform===g.PLATFORM.PddIOS,r=a?"4.79.0":"4.85.0",i=Object(g.compareVersion)(this.platform.version,r)>=0;a&&this.props.option&&(n.option=this.props.option),i&&(n.max_images_count=this.props.maxImageCount);var o=i?"getV2":"get";Object(v.invokeBridgeCallNativeFun)("JSPhoto",o,n).then((function(e){if((e=e||{}).image_data){var n=e.image_data,a="".concat("data:image/jpeg;base64,").concat(n);return t.props.onSelectStart&&t.props.onSelectStart(),void(t.props.onSelected&&t.props.onSelected(a))}if(e.image_list){if(!e.image_list.length)return t.props.onSelectFail&&t.props.onSelectFail();e.image_list.reduce((function(e,n){return e.then((function(){return t.props.onSelectStart&&t.props.onSelectStart(),t.props.onSelected&&t.props.onSelected("".concat("data:image/jpeg;base64,").concat(n))}))}),Promise.resolve())}})).catch((function(){t.props.onSelectCancel&&t.props.onSelectCancel()}))}}]),n}(h.a);E.defaultProps={onSelected:null,onSelectStart:null,onSelectCancel:null,onSelectFail:function(){return Object(y.info)("图片上传失败")},onClose:null,option:null};var S={};S=E,t.a=S},MOn9:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},NRM5:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}},OYUV:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},PTHm:function(e,t,n){var a=n("ZZx6");e.exports=function(e,t){if(null==e)return{};var n,r,i=a(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},Sq8v:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=a=function(e){return n(e)}:e.exports=a=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},a(t)}e.exports=a},TkTZ:function(e,t,n){e.exports={footer:"_3AapV1Kz",rankItem:"_1Hh1Z2YP",ranking:"_3SbspxxX",avatar:"_3Cq0AZFL",nickName:"_2QVM4OHM",right:"_2Fzw664E",race:"Gr7RZLcy",popularity:"gPB24Bul"}},UlPe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3}},Us2I:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n("J4zp"),r=n.n(a),i=n("mwIZ"),o=n.n(i),s=n("hA9s"),c=n("uPKN"),l=function(e){var t=e.cdnSrc,n=e.dropQsUrl,a=e.qs,r=e.cdnOptimize;return n.endsWith(".webp")&&!o()(r,"webpEnable")?n+"?".concat(a?a+c.a:"")+"imageView2/format/jpg":t},u=function(e){var t=e.cdnSrc,n=e.dropQsUrl,a=e.qs,i=e.width,o=e.height,l=e.ratio;if(i&&o){var u=Object(c.b)(i,o,l),d=r()(u,2),m=d[0],f=d[1];return n+"?imageMogr2/thumbnail/!".concat(m,"x").concat(f,"r").concat(c.a)+"imageView2/1/w/".concat(m,"/h/").concat(f).concat(c.a)+a}if(s.b)throw new Error("thumbnailMinWidthAndHeight need width and height in cdnOptimize");return t}},VJ99:function(e,t,n){var a=n("Sq8v"),r=n("FRve");e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?r(e):t}},ZZx6:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}},cVyF:function(e,t,n){e.exports={subTitle:"_3GJ2fHgo",textWrapper:"_29klGvAw",text:"cDDuBY3i",line:"_1xbf8ru5",arrow:"_36MZzCKQ",rotate:"_29yAXni"}},dQEz:function(e,t,n){e.exports={taskTitle:"VfZAnj2V",taskSubTitle:"_3F1GgfEZ",index:"_1GS5qSk-",statusImage:"_1KG5t-_J",changeBtn:"AK467iys",progressWrap:"JFADFVf0",progress:"QbRwUEWi",percentage:"QMpVyY5_",progressText:"_2lJwz7a_",hint:"ai289xIz",taskItem1:"_1B62r0Gg",taskItem:"euumH5-x",example:"_2tXbFa-R",select:"_3H7d35IJ",specialTask:"_11YuDDf3",specialTitle:"Jgbj-zvd",specialSub:"FAsu3ckD",goodsIcon:"c0Fq7xzT",superReward:"_20aVp_uX",rewardContent:"_2JUmxP79",contentTitle:"_2nU906IL",contentBtn:"_2r1mpehW",contentBottom:"_2FWOYf_b"}},hR4y:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},"hp/h":function(e,t,n){e.exports={dialog:"iayrWzpQ",text:"_2XK3EWaO",scroll:"_3baMf5Pk",title:"hmwd2cEi",close:"_3ww3JCOt",mask:"_1Pr-1_Vk",pic:"_2KOtcJgU"}},jiea:function(e,t,n){var a=n("+7Xe");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},k0Ia:function(e,t,n){},qcbO:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'._3Gk4x1CB{position:fixed;bottom:0;z-index:10011;height:6rem;width:100%;border-radius:.1rem .1rem 0 0;font-weight:500;overflow:hidden;-webkit-transform:translateY(110%);transform:translateY(110%);-webkit-transition:-webkit-transform .3s ease;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease;will-change:transform;background:#ff9e99;color:#fff;overflow:scroll}._3Gk4x1CB._2Lx6vJj_{-webkit-transform:translate(0);transform:translate(0)}._118bG0GS{height:2.25rem;width:100%}._3ituIU0f{position:absolute;top:.09rem;left:.08rem;width:.39rem;height:.39rem;background:url(https://promotion.pddpic.com/mobile_live/c0542e67-a72f-4b6a-8039-06f77f1186aa.png.slim.png);background-size:100%}._2I4CgsLL{width:3.25rem;height:.86rem;background:url(https://promotion.pddpic.com/mobile_live/137ef7a8-eda6-45dd-8291-ec278cd4a095.png.slim.png);background-repeat:no-repeat;background-size:100%;margin:0 auto}._2r2QSqbL{position:relative;margin:-.2rem auto 0;width:3.59rem;min-height:1rem;border-radius:.05rem;background-image:-webkit-linear-gradient(275deg,#fffdf4 3%,#ffcd9f 100%,#ffcd9f 0,#ffcd9f 0);background-image:linear-gradient(175deg,#fffdf4 3%,#ffcd9f 100%,#ffcd9f 0,#ffcd9f 0);box-shadow:0 .02rem .044px 0 rgba(121,0,0,.17);border:.01rem solid transparent}.x89y-l2S{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:.68rem;position:relative;border:none!important}.x89y-l2S:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;-webkit-transform-origin:0 0;transform-origin:0 0;pointer-events:none;-webkit-transform:scale(.5);transform:scale(.5);width:200%;box-sizing:border-box;border-bottom:1px solid #ffb27e;border-radius:calc(* 2)}._3xbxFKjP{width:.17rem;margin-left:.11rem;margin-right:.07rem;font-size:.16rem;font-weight:600;color:#ec6509;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}._3_yeC5hX{position:relative}._2sWAJI-e{width:.44rem;height:.44rem;border-radius:50%;margin-right:.14rem}._3rjGiI8P{position:absolute;width:.28rem;height:.24rem;left:.05rem;top:-.18rem}.w13WG4ps{width:.52rem;height:.17rem;margin-left:.04rem}._3cbrE4w3{display:-webkit-box;display:-webkit-flex;display:flex}._2YzAimw7{color:#5f3f3a;font-size:.12rem;line-height:.17rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:1.8rem}._1IltSWnf{padding-left:.16rem;padding-right:.17rem;padding-top:.18rem}.pUc5b3_s{width:3.59rem;height:.68rem;background:#ffe9d1;box-shadow:0 2px 4px 0 rgba(0,0,0,.17);border:.01rem solid #ffb27e;border-radius:.3rem;margin:.1rem auto .2rem;padding-left:.16rem}.pUc5b3_s ._3xbxFKjP{width:auto}@media only screen and (min-device-height:812px){.pUc5b3_s{margin-bottom:.35rem}}._3BiWqCtK{padding:.13rem 0;line-height:.15rem;font-size:.12rem}._3BiWqCtK,._23jWoW5-{text-align:center;color:rgba(95,63,58,.5);opacity:.5}._23jWoW5-{font-size:.14rem;margin-top:.4rem}',""]),t.locals={root:"_3Gk4x1CB",show:"_2Lx6vJj_",headPic:"_118bG0GS",backIcon:"_3ituIU0f",rankImage:"_2I4CgsLL",content:"_2r2QSqbL",rankList:"_1IltSWnf",rankItem:"x89y-l2S",ranking:"_3xbxFKjP",avatarWrap:"_3_yeC5hX",avatar:"_2sWAJI-e",avatarImg:"_3rjGiI8P",isLiving:"w13WG4ps",nickNameWrap:"_3cbrE4w3",nickName:"_2YzAimw7",selfRank:"pUc5b3_s",tailText:"_3BiWqCtK",emptyText:"_23jWoW5-"}},rRnn:function(e,t,n){"use strict";var a=n("OYUV");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),i=(a(n("iPTW")),function(e){e.index;var t=e.children;r.default.Children.count(t)});t.default=i},rllQ:function(e,t,n){e.exports={rankList:"xhBQkrRR",rankItem:"_32HrWfEm",ranking:"FSTUJ4XD",avatarWrap:"_2DHosXtj",avatar:"Xsq8SDhq",avatarImg:"_2oBXtQev",isLiving:"_2pI6JeLB",nickNameWrap:"_1XZ1Xh22",nickName:"_3RpHAoGV",popularity:"_34nNeGF2",tailWrap:"_2bRXprt6",tail:"ddQG7eaP",empty:"_35pUENMO",text:"_37S6XJCU",emptyIcon:"s6dAsHLK",foldIcon:"_20gh6_Wu",folded:"_3giqyOz3",placeholder:"_11Br2FDI"}},sEfC:function(e,t,n){e.exports=n("EQ+b")("sEfC")},sXRK:function(e,t,n){"use strict";n.r(t);var a=n("lSNA"),r=n.n(a),i=n("yXPU"),o=n.n(i),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),u=n.n(l),d=n("7W2i"),m=n.n(d),f=n("a1gu"),p=n.n(f),h=n("Nsbk"),g=n.n(h),v=n("o0o1"),y=n.n(v),b=n("q1tI"),w=n.n(b),k=n("i8i4"),E=n.n(k),S=n("TyAF"),x=n("TSYQ"),I=n.n(x),A=n("mFSr"),C=n("kLkQ"),N=n("J4zp"),P=n.n(N),_=n("Vpw8"),L=n("O2NP"),T=n("pVnL"),O=n.n(T),D=n("mwIZ"),R=n.n(D),M=n("sEfC"),U=n.n(M),j=n("PlGL"),F=n("MyPv"),B=n("Us2I"),H=n("iWIM"),W=n.n(H),X=n("DzJC"),G=n.n(X),Q=n("wdb0"),z=n("+LA7"),V=n.n(z);function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p()(this,n)}}var J,q=function(e){m()(n,e);var t=Y(n);function n(){var e;c()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).throttleSelectImage=G()((function(){e.onSelectImage()}),500,{trailing:!1}),e}return u()(n,[{key:"renderSelector",value:function(){return E.a.createPortal(w.a.createElement("div",{id:"live_red_packet_popularity_selector"},this.renderImageSelector()),document.getElementById("main"))}},{key:"onUploadSuccess",value:function(e){W()(g()(n.prototype),"onUploadSuccess",this).call(this,e),this.props.onUpLoadSuccess&&this.props.onUpLoadSuccess(e)}},{key:"imgSelector",value:function(){var e=this;return w.a.createElement("div",{id:"".concat(this.viewID,"-selector"),onClick:function(){return e.throttleSelectImage()},className:V.a.selector})}},{key:"render",value:function(){var e=this.props.viewID;return w.a.createElement("div",{id:e,className:V.a.wrapper},this.imgSelector(),this.renderSelector())}}]),n}(Q.a),K=n("w4oJ"),Z=n.n(K),$=Object(b.memo)((function(e){var t=Object(L.k)().store.$axiosHttp,n=e.isTitlePop,a=e.close,i=e.updateInfo,s=e.checkCompliance,c=e.onEmpClick,l=Object(b.useState)(""),u=P()(l,2),d=u[0],m=u[1],f=Object(b.useState)(""),p=P()(f,2),h=p[0],g=p[1],v=Object(b.useState)(!1),k=P()(v,2),E=k[0],S=k[1],x=Object(b.useState)(!1),A=P()(x,2),C=A[0],N=A[1],_=Object(L.c)(),T=P()(_,2),O=T[0],D=T[1],M=n?"标题":"封面",B=function(){var e=o()(y.a.mark((function e(){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=2;break}return e.abrupt("return");case 2:return t=n?{title:d}:{image:h},e.next=5,i(t);case 5:(r=e.sent).success&&r.result?a(!0):Object(F.info)(r.errorMsg||M+"更换失败");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=Object(b.useCallback)(U()(function(){var e=o()(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=8;break}return e.next=3,s({title:t});case 3:n=e.sent,0===R()(n,"result.titleCheckResult.status")?N(!0):N(!1),S(!0),e.next=9;break;case 8:S(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),600),[]),W=function(e){m(e.target.value),H(e.target.value)},X=function(){var e=o()(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(t),e.next=3,s({image:t});case 3:n=e.sent,0===R()(n,"result.imageCheckResult.status")?N(!0):N(!1),S(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return w.a.createElement(j.a,{className:Z.a.popWrap},w.a.createElement("div",{className:Z.a.close,onClick:a}),w.a.createElement("div",{className:Z.a.popName},"更换直播",M),n?w.a.createElement("input",{className:Z.a.popInput,placeholder:"请输入需要更换的直播标题",value:d,onChange:W,onFocus:O,onBlur:D}):w.a.createElement(ee,{cover:h,updateCover:X,$axiosHttp:t}),E?C?w.a.createElement("div",{className:Z.a.popTip},"直播",M,"合规"):w.a.createElement("div",{className:Z.a.popErrorTip},"直播",M,"不合规"):null,w.a.createElement("div",{className:I()(Z.a.popBtn,r()({},Z.a.disableBtn,!C)),onClick:B},"确认更换"),w.a.createElement("div",{className:Z.a.popEmp,onClick:c},"查看示例",w.a.createElement("div",{className:Z.a.arrow})))})),ee=Object(b.memo)((function(e){var t=e.updateCover,n=e.cover,a={viewID:"live-popularity-contest",bucketTag:"mobile-live-common-fe",maximum:1,fileHttps:!0,axiosHttp:e.$axiosHttp};return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:Z.a.imgWrapper},!!n&&w.a.createElement(A.a,{src:n,className:Z.a.cover,cdnOptimize:{width:173,height:258,processMore:[B.b]}}),w.a.createElement("div",{className:Z.a.imgBtn},"点击更换"),w.a.createElement(q,O()({onUpLoadSuccess:function(e){e&&e.webURL&&t(e.webURL)}},a))))})),te=n("dQEz"),ne=n.n(te),ae=Object(_.a)(S.observer)((function(e){var t=e.onClose,n=Object(L.k)(),a=n.monthlyPromotionStore,r=n.redPackEntryStore,i=r.enableJumpTrafficCard,o=r.handlePullHelper,s=a.showRule,c=a.data,l=a.checkCompliance,u=a.updateInfo,d=a.queryMissionList,m=(c||{}).missions,f=void 0===m?[]:m,p=Object(b.useState)(!1),h=P()(p,2),g=h[0],v=h[1],y=Object(b.useState)(!1),k=P()(y,2),E=k[0],S=k[1],x=Object(b.useCallback)((function(e){e&&setTimeout((function(){d()}),2e3),v(!1)}),[]),I=Object(b.useCallback)((function(e){e&&setTimeout((function(){d()}),2e3),S(!1)}),[]),C=function(){t(),o()},N=f.some((function(e){return"anchor_super_packet"===e.mission_code}))?f.length-1:f.length;return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:ne.a.taskTitle},"满足以下",N,"个条件即获参赛资格"),w.a.createElement(w.a.Fragment,null,f.map((function(e,t){switch(e.mission_code){case"show_title":case"show_cover":return w.a.createElement("div",{className:ne.a.taskItem,key:t},w.a.createElement("div",{className:ne.a.taskSubTitle},w.a.createElement("span",{className:ne.a.index},t+1),e.title,w.a.createElement("span",{className:ne.a.example,onClick:function(){return s(e.mission_code)}},"查看示例"),(n=e.status,w.a.createElement(A.a,{src:1===n?"https://promotion.pddpic.com/mobile_live/70f8d6a8-0b67-44a8-9290-fa852f856e90.png.slim.png":"https://promotion.pddpic.com/mobile_live/58c5d9f3-9d85-46d7-a3ea-a449445f4037.png.slim.png",className:ne.a.statusImage})),function(e,t){if(0===t){if("show_title"===e)return w.a.createElement("div",{className:ne.a.changeBtn,onClick:function(){return v(!0)}},"更换标题");if("show_cover"===e)return w.a.createElement("div",{className:ne.a.changeBtn,onClick:function(){return S(!0)}},"更换封面")}return null}(e.mission_code,e.status)))}var n}))),w.a.createElement("div",{className:ne.a.hint},"*任务状态更新约可能会有5分钟延迟"),function(){if(i)return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:ne.a.superReward},"提示：以下工具可帮助成交，快速涨卖货值"),w.a.createElement("div",{className:ne.a.rewardContent},w.a.createElement("div",{className:ne.a.contentTitle},"使用",w.a.createElement("i",null,"【首单优惠】"),"促进“新用户”转化"),w.a.createElement("div",{className:ne.a.contentBtn,onClick:C},"去配置")),w.a.createElement("div",{className:ne.a.rewardContent},w.a.createElement("div",{className:ne.a.contentTitle},"使用",w.a.createElement("i",null,"【甩货】"),"促进“用户”复购"),w.a.createElement("div",{className:ne.a.contentBtn,onClick:C},"去使用")))}(),g?w.a.createElement($,{checkCompliance:l,updateInfo:u,close:x,isTitlePop:!0,onEmpClick:function(){return s("show_title")}}):E?w.a.createElement($,{checkCompliance:l,updateInfo:u,close:I,onEmpClick:function(){return s("show_cover")}}):null)})),re=n("Mflu"),ie=n("cVyF"),oe=n.n(ie),se=function(e){var t=e.text,n=e.onClick,a=e.rotate,i=e.dataKey,o=void 0===i?"":i,s=e.isShowArrow,c=void 0!==s&&s,l=e.children,u=e.className;return w.a.createElement("div",{className:I()(oe.a.subTitle,u)},w.a.createElement("div",{className:oe.a.textWrapper},w.a.createElement("div",{className:oe.a.text},t),w.a.createElement("div",{className:oe.a.line})),c&&w.a.createElement("div",{className:I()(oe.a.arrow,r()({},oe.a.rotate,a)),onClick:n,"data-fold-key":o}),l)},ce=Object(b.memo)(se),le=n("H1zx"),ue=n.n(le),de=Object(_.a)(S.observer)((function(e){e.showLivePromoteRankList;var t=Object(L.k)().monthlyPromotionStore,n=Object(b.useRef)({}).current,a=t.startDay,r=t.endDay,i=t.currMonth,s=t.refreshScroller,c=t.currentTrackType,l=t.updateCurrentTrackType;n.changeTab=function(){var e=o()(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=parseInt(t.target.dataset.tabType))!==c){e.next=3;break}return e.abrupt("return");case 3:l(n),s();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var u,d,m,f=Object(b.useCallback)(G()((function(e){n.changeTab(e)}),250,{trailing:!1}),[]);return w.a.createElement("div",{className:ue.a.rewardIntro},w.a.createElement("div",{className:ue.a.title},w.a.createElement("div",{className:ue.a.text},"活动详情"),w.a.createElement("div",{className:ue.a.inner},i,"月1日-25日总成交额大于30万进入巅峰赛道",w.a.createElement("br",null),"不足30万进入潜力赛道")),(m=c===re.c.Top?re.a.LeftTabActive:re.a.RightTabActive,w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:ue.a.contentWrapper},w.a.createElement("div",{className:ue.a.tab},w.a.createElement(A.a,{src:m,className:ue.a.tab}),w.a.createElement("div",{className:ue.a.leftTab,onClick:f,"data-tab-type":re.c.Top}),w.a.createElement("div",{className:ue.a.rightTab,onClick:f,"data-tab-type":re.c.Potential})),(u={display:c===re.c.Top?"block":"none"},d=re.b.TopStage1,w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:ue.a.content,style:u},w.a.createElement(ce,{text:"主奖励",dataKey:d}),w.a.createElement("p",{className:ue.a.headerText},"统计",i,".",a,"日-",i,".",r,"日累积卖货值，榜单Top20均可获得至少5万直播流量卡"),w.a.createElement(A.a,{className:ue.a.img1,src:re.a[d]})))),function(){var e={display:c===re.c.Potential?"block":"none"},t=re.b.PotentialStage1;return w.a.createElement("div",{className:ue.a.content,style:e},w.a.createElement(ce,{text:"主奖励",dataKey:t}),w.a.createElement("p",{className:ue.a.headerText},"统计",i,".",a,"日-",i,".",r,"日累积卖货值，榜单Top20均可获得至少2万直播流量卡"),w.a.createElement(A.a,{className:ue.a.img1,src:re.a[t]}))}()))))})),me=function(e){return Object(C.e)("".concat({1:"bd11_rank1.png.slim.png",2:"bd11_rank2.png.slim.png",3:"bd11_rank3.png.slim.png"}[e]))},fe=n("rllQ"),pe=n.n(fe);function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p()(this,n)}}var ge,ve=Object(S.inject)("monthlyPromotionStore")(J=Object(S.observer)(J=function(e){m()(n,e);var t=he(n);function n(){var e;c()(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).store=e.props.monthlyPromotionStore,e.state={folded:!1},e.clickFold=function(){var t=e.store.refreshScroller;if(e.rankList.length>3){var n=e.state.folded;e.setState({folded:!n},t)}},e.renderList=function(){var t=e.rankList,n=e.state.folded;return w.a.createElement("div",null,w.a.createElement("div",{className:pe.a.rankList},e.getList()),w.a.createElement("div",{className:pe.a.tailWrap},w.a.createElement("div",{className:pe.a.tail},"仅展示前",30,"名"),t.length>3&&w.a.createElement("div",{onClick:e.clickFold,className:I()(pe.a.foldIcon,r()({},pe.a.folded,n))},n?"展开":"收起")))},e.renderEmpty=function(){var t=e.store,n=t.currMonth,a=t.startDay;return w.a.createElement("div",{className:pe.a.empty},w.a.createElement(A.a,{className:pe.a.emptyIcon,src:"https://promotion.pddpic.com/mobile_live/0fd1db06-74c4-4681-90f7-a2e4f541b523.png.slim.png"}),w.a.createElement("div",{className:pe.a.text},"当前暂未生成排行榜",w.a.createElement("br",null),"将于",n,"月",a,"日00:00开始统计"))},e}return u()(n,[{key:"rankList",get:function(){var e=this.store,t=e.currentTrackType;return e.mainDataMap[t]||[]}},{key:"renderItem",value:function(e){if(e)return w.a.createElement("div",{key:e.rank,className:pe.a.rankItem},w.a.createElement("div",{className:pe.a.ranking},e.rank),w.a.createElement("div",{className:pe.a.avatarWrap},e.rank<=3&&w.a.createElement(A.a,{className:pe.a.avatarImg,src:me(e.rank)}),w.a.createElement(A.a,{className:pe.a.avatar,src:(e.live_image||"").split("?")[0],cdnOptimize:{width:44}})),w.a.createElement("div",null,w.a.createElement("div",{className:pe.a.nickNameWrap},w.a.createElement("div",{className:pe.a.nickName},e.live_name),!!e.live_status&&w.a.createElement(A.a,{src:"".concat(Object(C.e)("bd11_living.png.slim.png")),className:pe.a.isLiving})),w.a.createElement("div",{className:pe.a.popularity},"卖货值：",e.popularity)))}},{key:"getList",value:function(){var e=this,t=this.rankList;return this.state.folded?t.slice(0,3).map((function(t){return e.renderItem(t)})):t.slice(0,30).map((function(t){return e.renderItem(t)}))}},{key:"render",value:function(){return 0===this.rankList.length?this.renderEmpty():this.renderList()}}]),n}(w.a.Component))||J)||J,ye=Object(_.a)(S.observer)((function(){var e=Object(L.k)().monthlyPromotionStore,t=e.mainDataMap,n=e.currentTrackType;return Object.keys(t).map((function(e,t){var a={display:parseInt(e)===n?"block":"none"};return w.a.createElement("div",{style:a,key:t},w.a.createElement(ve,null))}))})),be=n("E+oP"),we=n.n(be),ke=n("TkTZ"),Ee=n.n(ke),Se=Object(_.a)(S.observer)((function(){var e=Object(L.k)().monthlyPromotionStore.data,t=e||{},n=t.live_image,a=t.live_name,r=t.current_rank,i=t.popularity,o=t.track_type===re.c.Top?"巅峰赛道":"潜力赛道";return we()(e)?null:w.a.createElement("div",{className:Ee.a.footer},w.a.createElement("div",{className:Ee.a.rankItem},w.a.createElement("div",{className:Ee.a.ranking},r>9999?"9999+":r),!!n&&w.a.createElement(A.a,{className:Ee.a.avatar,src:n}),w.a.createElement("div",{className:Ee.a.nickName},a),w.a.createElement("div",{className:Ee.a.right},w.a.createElement("div",{className:Ee.a.race},"所属赛道：",o),w.a.createElement("div",{className:Ee.a.popularity},"卖货值：",i))))})),xe=n("h7Yj"),Ie=n("hp/h"),Ae=n.n(Ie);function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p()(this,n)}}var Ne,Pe=Object(S.inject)("monthlyPromotionStore")(ge=Object(S.observer)(ge=function(e){m()(n,e);var t=Ce(n);function n(e){var a;return c()(this,n),(a=t.call(this,e)).store=a.props.monthlyPromotionStore,a.divRef=w.a.createRef(),a}return u()(n,[{key:"componentDidMount",value:function(){Object(xe.disableScroll)(this.divRef.current)}},{key:"componentWillUnmount",value:function(){Object(xe.enableScroll)()}},{key:"renderTitle",value:function(){return w.a.createElement("div",null,w.a.createElement("div",{className:Ae.a.title},"优质标题示例"),w.a.createElement("p",null,"1.场景/痛点+商品+好处"),w.a.createElement("div",{className:Ae.a.text},"例：XX（ 收纳达人都在用的）XX（打包盒）"),w.a.createElement("div",{className:Ae.a.text},"这些XXX让你XXX"),w.a.createElement("p",null,"2.突出商品的活动和折扣信息"),w.a.createElement("div",{className:Ae.a.text},"例：全场批发价，1件也发"),w.a.createElement("div",{className:Ae.a.text},"云南双人游6天699元"),w.a.createElement("p",null,"3.自己的身份+互动"),w.a.createElement("div",{className:Ae.a.text},"例：音乐学院硕士，在线弹唱"))}},{key:"renderCover",value:function(){return w.a.createElement("div",null,w.a.createElement("div",{className:Ae.a.title},"优质封面图示例"),w.a.createElement("p",null,"1.清晰的人物封面图"),w.a.createElement("p",null,"2.突出场景和特点的场景封面图"),w.a.createElement(A.a,{src:"".concat(Object(C.e)("bd11_sample1.png.slim.png")),className:Ae.a.pic}))}},{key:"renderRule",value:function(){var e=this.store,t=e.currMonth,n=e.startDay,a=e.endDay;return w.a.createElement("div",null,w.a.createElement("div",{className:Ae.a.title},"一、活动规则："),w.a.createElement("p",null,"1、活动期间，进行累计卖货值赛马，优胜者获得涨粉补贴流量奖励，卖货值名词解释：卖货值重点由直播间成交额、互动数、新增粉丝数、直播间人数等多维度构成，直播间成交额占考核的重中之重；"),w.a.createElement("p",null,"2、活动分为两个阶段，会根据榜单名次发送不同的流量奖励"),w.a.createElement("p",null,"3、卖货值计算周期：",w.a.createElement("br",null),"1）",t,"月",n,"日---",t,"月",a,"日 2）按照累计榜单分值决定最终奖励； 3）累计卖货值赛马奖励统计开始时间",t,"月",n,"日0点；"),w.a.createElement("p",null,"4、详细比赛规则，查看奖励说明。"),w.a.createElement("div",{className:Ae.a.title}," 二、注意事项："),w.a.createElement("p",null,"1、比赛期间平台会通过机器和人工的方式对直播间进行巡查，如若出现主播不露脸开播、非本人开播、无人设开播或违反多多直播行为规范，平台将取消大促流量奖励，严重者取消大促参与资格；"),w.a.createElement("p",null,"2、平台严厉打击刷单行为，一经发现，取消流量奖励资格，严重者取消直播浮现权；"),w.a.createElement("p",null,"3、若您对该活动有任何意见，均可发送邮件到duoduozhibo@pinduoduo.com进行反馈，期待您宝贵的意见。"))}},{key:"renderContent",value:function(){var e=this.store.ruleDialog;return"show_title"===e?this.renderTitle():"show_cover"===e?this.renderCover():this.renderRule()}},{key:"render",value:function(){return w.a.createElement(j.a,{className:Ae.a.dialog,BackdropProps:{className:Ae.a.mask,onClick:this.store.hideRule}},w.a.createElement(j.a.CloseButton,{onClick:this.store.hideRule}),w.a.createElement("div",{className:Ae.a.scroll,ref:this.divRef},this.renderContent()))}}]),n}(b.Component))||ge)||ge,_e=n("mJOz"),Le=n("HIPb"),Te=n("HNY/"),Oe=n.n(Te),De=function(e){var t=e.item,n=void 0===t?{}:t;return Object(Le.a)(Oe.a),w.a.createElement("div",{key:n.rank,className:Oe.a.rankItem},w.a.createElement("div",{className:Oe.a.ranking},n.rank),w.a.createElement("div",{className:Oe.a.avatarWrap},n.rank<=3&&w.a.createElement(A.a,{className:Oe.a.avatarImg,src:me(n.rank)}),w.a.createElement(A.a,{className:Oe.a.avatar,src:(n.live_image||"").split("?")[0],cdnOptimize:{width:44}})),w.a.createElement("div",{className:Oe.a.nickNameWrap},w.a.createElement("div",{className:Oe.a.nickName},n.live_name),!!n.live_status&&w.a.createElement(A.a,{src:"".concat(Object(C.e)("bd11_living.png.slim.png")),className:Oe.a.isLiving})))},Re=Object(b.memo)(De),Me=Object(_.a)(S.observer)((function(e){var t=e.isShow,n=e.onClose;Object(Le.a)(Oe.a);var a,i=Object(L.k)().monthlyPromotionStore,s=i.showId,c=i.service,l=Object(b.useState)(null),u=P()(l,2),d=u[0],m=u[1],f=function(){var e=o()(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getPromoteRankList({show_id:s});case 2:null!=(t=e.sent)&&t.success&&null!=t&&t.result?m(t.result):m({isApiError:!0});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.useEffect)((function(){return t&&f(),Object(_e.a)({key:"LivePromoteRankList"}),function(){Object(_e.b)({key:"LivePromoteRankList"})}}),[t]),E.a.createPortal(w.a.createElement("div",{className:I()(Oe.a.root,r()({},Oe.a.show,t))},w.a.createElement("div",{className:Oe.a.backIcon,onClick:n}),w.a.createElement(A.a,{src:re.a.HEADPIC2,className:Oe.a.headPic}),w.a.createElement("div",{className:Oe.a.rankImage}),w.a.createElement("div",{className:Oe.a.content},d?d.isApiError?w.a.createElement("div",{className:Oe.a.emptyText},"网络错误，请稍后重试~"):0===(a=(d.list||[]).slice(0,30)).length?w.a.createElement("div",{className:Oe.a.emptyText},"当前暂无排行榜"):w.a.createElement("div",{className:Oe.a.rankList},a.map((function(e){return w.a.createElement(Re,{key:e.rank,item:e})})),30===a.length&&w.a.createElement("div",{className:Oe.a.tailText},"— 仅展示前",30,"名 —")):null),function(){if(!d||d.isApiError)return null;var e=d.live_image,t=d.live_name,n=d.current_rank,a=void 0===n?"999+":n,r={live_image:e,live_name:t,live_status:0,rank:a>999?"999+":a};return w.a.createElement("div",{className:Oe.a.selfRank},w.a.createElement(Re,{item:r}))}()),document.getElementById("main"))})),Ue=n("H817"),je=n.n(Ue);function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p()(this,n)}}n.d(t,"default",(function(){return Be}));var Be=Object(S.inject)("monthlyPromotionStore")(Ne=Object(S.observer)(Ne=function(e){m()(n,e);var t=Fe(n);function n(){var e;c()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).store=e.props.monthlyPromotionStore,e.listRef=Object(b.createRef)(),e.state={isShow:!1,isShowLivePromoteRankList:!1},e.showLivePromoteRankList=function(){e.setState({isShowLivePromoteRankList:!0})},e.hideLivePromoteRankList=function(){e.setState({isShowLivePromoteRankList:!1})},e.onClose=o()(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.isShowLivePromoteRankList){t.next=4;break}e.hideLivePromoteRankList(),t.next=8;break;case 4:return e.setState({isShow:!1}),t.next=7,Object(C.o)(400);case 7:e.store.hidePopup();case 8:case"end":return t.stop()}}),t)}))),e.renderActivityBanner=function(){var t=e.store.showRule;return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:je.a.close,onClick:e.onClose}),w.a.createElement("div",{className:je.a.rule,onClick:function(){return t("rule")}},"规则"),w.a.createElement(A.a,{src:re.a.HEADPIC,className:je.a.headPic}))},e.renderActivityIntroduce=function(){var t=e.store,n=t.currMonth,a=t.startDay,r=t.endDay;return w.a.createElement("div",{className:je.a.activityIntro},w.a.createElement("div",{className:je.a.topTitle},"活动介绍"),w.a.createElement("p",{className:je.a.description},"活动将粉丝",w.a.createElement("i",null,"成交、涨粉数"),"转换为“卖货值”进行赛马；"),w.a.createElement("div",{className:je.a.activityTime},"活动时间：2021.0",n,".",a,"-2021.0",n,".",r),w.a.createElement("div",{className:je.a.awardInfo},w.a.createElement("div",{className:je.a.left},"奖励："),w.a.createElement("div",{className:je.a.right},w.a.createElement("p",null,"top1 赢最高30万流量卡"),w.a.createElement("p",null,"top4-20 赢至少2万流量卡"))))},e.renderActivityContent=function(){var t=e.store,n=t.currMonth,a=t.startDay,r=t.endDay;return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:je.a.subtitle},w.a.createElement("div",{className:je.a.title1},"活动内容")),w.a.createElement("div",{className:je.a.missionContent},w.a.createElement("div",{className:je.a.duration},"0",n,".",a,"-0",n,".",r),w.a.createElement(ae,{onClose:e.onClose})))},e.renderActivityDetail=function(){return w.a.createElement(de,{showLivePromoteRankList:e.showLivePromoteRankList})},e.renderActivityRankList=function(){var t=e.store.currentTrackType===re.c.Top?"https://promotion.pddpic.com/mobile_live/ff293d64-f273-497a-9239-2a6adbbfb00a.png.slim.png":"https://promotion.pddpic.com/mobile_live/578b6e25-7460-4015-8688-cfd0ac936519.png.slim.png";return w.a.createElement(w.a.Fragment,null,w.a.createElement(A.a,{src:t,className:je.a.rankTitle}),w.a.createElement("div",{className:je.a.rankList},w.a.createElement(ye,null)))},e.renderLivePromoteRankList=function(){var t={isShow:e.state.isShowLivePromoteRankList,onClose:e.onClose};return w.a.createElement(Me,t)},e}return u()(n,[{key:"componentDidMount",value:function(){this.store.scroller=Object(C.j)(this.listRef.current,{bounce:!1}),this.setState({isShow:!0}),this.store.queryMissionList(),this.store.fetchServerTime(),this.store.refreshScroller()}},{key:"componentWillUnmount",value:function(){this.store.updateCurrentTrackType(),this.store.clearMainData()}},{key:"render",value:function(){var e=this.store.ruleDialog;return E.a.createPortal(w.a.createElement("div",{className:I()(r()({},je.a.show,this.state.isShow))},w.a.createElement("div",{className:je.a.mask,onClick:this.onClose}),w.a.createElement("div",{className:je.a.root},w.a.createElement("div",{ref:this.listRef,className:je.a.contentWrap},w.a.createElement("div",{className:je.a.content},this.renderActivityBanner(),this.renderActivityIntroduce(),this.renderActivityContent(),this.renderActivityDetail(),this.renderActivityRankList(),w.a.createElement("div",{className:je.a.placeholder}))),w.a.createElement(Se,null)),e&&w.a.createElement(Pe,null),this.renderLivePromoteRankList()),document.getElementById("main"))}}]),n}(b.PureComponent))||Ne)||Ne},w4oJ:function(e,t,n){e.exports={popWrap:"Huim2cAB",popName:"_25n5QsTz",popInput:"wf_bbRk5",popErrorTip:"_38OshCxp",popTip:"OkhGOsyW",popBtn:"_31dJ4TlX",disableBtn:"_136GjRQM",popEmp:"vvO49Rw0",close:"_1Ji0DzU7",arrow:"_3P0tJ83R",imgWrapper:"_2wRmduKw",cover:"_3Ao_PLqp",imgBtn:"Ek-XAizg"}},wdb0:function(e,t,n){"use strict";var a=n("yXPU"),r=n.n(a),i=n("lwsE"),o=n.n(i),s=n("W8MJ"),c=n.n(s),l=n("iWIM"),u=n.n(l),d=n("7W2i"),m=n.n(d),f=n("a1gu"),p=n.n(f),h=n("Nsbk"),g=n.n(h),v=n("o0o1"),y=n.n(v),b=n("q1tI"),w=n.n(b),k=n("HEAb"),E=n("KPHd"),S=n("KoDT"),x=n("3VHQ"),I=n("h7Yj"),A=n("lSNA"),C=n.n(A),N=n("J4zp"),P=n.n(N),_=n("7VIw"),L=n.n(_),T=n("i8i4"),O=n.n(T),D=function(e){var t,n=e.index,a=e.height,r=e.width,i=e.imageList,o=e.onClose,s=Object(b.useState)(+n||0),c=P()(s,2),l=c[0],u=c[1];Object(b.useEffect)((function(){return Object(I.disableScroll)(),function(){Object(I.enableScroll)()}}),[i,n]);var d=i.map((function(e,t){return w.a.createElement("div",{key:t,style:{background:'center no-repeat url("'.concat(Object(I.forceHttps)(e),'")'),backgroundSize:"contain",height:a,width:r}})}));return w.a.createElement("div",{style:(t={position:"fixed",top:0,bottom:0,left:0,right:0,zIndex:9999999,background:"#000",display:"flex"},C()(t,"display","-webkit-flex"),C()(t,"justifyContent","center"),C()(t,"WebkitJustifyContent","center"),C()(t,"WebkitAlignItems","center"),C()(t,"alignItems","center"),t),onClick:o},w.a.createElement(L.a,{enableMouseEvents:!0,index:l,onChangeIndex:function(e){u(e)}},d))};function R(e,t,n){if(n=n||{},e=Object(I.forceHttps)(e),t&&(t=t.map((function(e){return Object(I.forceHttps)(e)}))),Object(S.getCurrentPlatform)().isNativePlatform){var a=n,r=a.viewAttri,i=a.showIndexBar,o=void 0===i||i,s=a.comeInAnim,c=a.exitOutAnim,l=a.hybridPhotoBrowser,u=a.longImageOptimizeInIphonex;null==t&&(t=[e]);var d=t.indexOf(e);d<0&&(d=0);var m=t.map((function(e){return{url:e}}));Object(x.invokeBridgeCallNativeFun)("JSNavigation","modal",{type:"photo_browse",props:{browse_items:m,view_attri:r,show_index_bar:o,current_index:d,come_in_anim:s,exit_out_anim:c,hybrid_photo_browser:l,long_image_optimize_in_iphonex:u},navigation_bar:{hidden:!0}})}else{var f,p=n.ViewNotWechatInteraface||!1;if(t=t||[e],f=!(!window.wx||!window.wx.previewImage),Object(S.getCurrentPlatform)().isWechatPlatform&&f&&!p)window.wx.previewImage({urls:t,current:e});else!function(e,t){var n=document.createElement("div");document.body.appendChild(n),O.a.render(w.a.createElement(D,{height:window.innerHeight+"px",width:window.innerWidth+"px",imageList:t,index:t.indexOf(e),onClose:function(){setTimeout((function(){O.a.unmountComponentAtNode(n),document.body.removeChild(n),n=null}),0)}}),n)}(e,t)}}var M=n("cDf5"),U=n.n(M),j=function(){function e(t){o()(this,e),this.bucketTag=null,this.loaded=!1,this.api="image/signature",this.axiosHttp=t}return c()(e,[{key:"load",value:function(e){e=e||{},this.bucketTag=e.bucketTag||this.bucketTag}},{key:"getSign",value:function(){var e=this;return new Promise((function(t,n){e.axiosHttp.post(e.api,{bucket_tag:e.bucketTag}).then((function(e){t({signature:(e=e||{}).signature||""})}),(function(){n()}))}))}}]),e}(),F={DEFAULT:0,LOADING:1,ENCODING:2,ENCODED:3,UPLOADING:4,UPLOADED:5},B={VERTICAL:0,HORIZONTAL:1},H=function e(t){o()(this,e),t=t||{},this.key=t.key||null,this.url=t.url||"",this.status=t.status||F.DEFAULT,this.orientation=t.orientation||B.VERTICAL,this.base64=null,this.width=0,this.height=0,this.webURL=null};H.ImageStatus=F,H.ImageOrientation=B;var W=H,X=function(){function e(){o()(this,e),this.img=null,this.coreContext=null}var t;return c()(e,[{key:"load",value:function(e){e=e||{},this.coreContext=e.context||null}},{key:"onSelected",value:(t=r()(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&this.coreContext&&this.img)){e.next=5;break}return this.coreContext.updateImage(this.img,t),e.next=4,this.coreContext.loadImage(this.img);case 4:this.coreContext.process(this.img);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onSelectStart",value:function(){this.img&&(this.img=null),this.img=this.coreContext.createImage()}},{key:"onSelectCancel",value:function(){this.coreContext&&(this.coreContext.remove(this.img),this.img=null)}}]),e}();var G=new function(e){Math.round;var t,n,a,r,i,o=Math.floor,s=new Array(64),c=new Array(64),l=new Array(64),u=new Array(64),d=new Array(65535),m=new Array(65535),f=new Array(64),p=new Array(64),h=[],g=0,v=7,y=new Array(64),b=new Array(64),w=new Array(64),k=new Array(256),E=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],L=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(e,t){for(var n=0,a=0,r=[],i=1;i<=16;i++){for(var o=1;o<=e[i];o++)r[t[a]]=[],r[t[a]][0]=n,r[t[a]][1]=i,a++,n++;n*=2}return r}function O(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<v),n--,--v<0&&(255==g?(D(255),D(0)):D(g),v=7,g=0)}function D(e){h.push(k[e])}function R(e){D(e>>8&255),D(255&e)}function M(e,t,n,a,r){for(var i,o=r[0],s=r[240],c=function(e,t){var n,a,r,i,o,s,c,l,u,d,m=0;for(u=0;u<8;++u){n=e[m],a=e[m+1],r=e[m+2],i=e[m+3],o=e[m+4],s=e[m+5],c=e[m+6];var p=n+(l=e[m+7]),h=n-l,g=a+c,v=a-c,y=r+s,b=r-s,w=i+o,k=i-o,E=p+w,S=p-w,x=g+y,I=g-y;e[m]=E+x,e[m+4]=E-x;var A=.707106781*(I+S);e[m+2]=S+A,e[m+6]=S-A;var C=.382683433*((E=k+b)-(I=v+h)),N=.5411961*E+C,P=1.306562965*I+C,_=.707106781*(x=b+v),L=h+_,T=h-_;e[m+5]=T+N,e[m+3]=T-N,e[m+1]=L+P,e[m+7]=L-P,m+=8}for(m=0,u=0;u<8;++u){n=e[m],a=e[m+8],r=e[m+16],i=e[m+24],o=e[m+32],s=e[m+40],c=e[m+48];var O=n+(l=e[m+56]),D=n-l,R=a+c,M=a-c,U=r+s,j=r-s,F=i+o,B=i-o,H=O+F,W=O-F,X=R+U,G=R-U;e[m]=H+X,e[m+32]=H-X;var Q=.707106781*(G+W);e[m+16]=W+Q,e[m+48]=W-Q;var z=.382683433*((H=B+j)-(G=M+D)),V=.5411961*H+z,Y=1.306562965*G+z,J=.707106781*(X=j+M),q=D+J,K=D-J;e[m+40]=K+V,e[m+24]=K-V,e[m+8]=q+Y,e[m+56]=q-Y,m++}for(u=0;u<64;++u)d=e[u]*t[u],f[u]=d>0?d+.5|0:d-.5|0;return f}(e,t),l=0;l<64;++l)p[S[l]]=c[l];var u=p[0]-n;n=p[0],0==u?O(a[0]):(O(a[m[i=32767+u]]),O(d[i]));for(var h=63;h>0&&0==p[h];)h--;if(0==h)return O(o),n;for(var g,v=1;v<=h;){for(var y=v;0==p[v]&&v<=h;)++v;var b=v-y;if(b>=16){g=b>>4;for(var w=1;w<=g;++w)O(s);b&=15}i=32767+p[v],O(r[(b<<4)+m[i]]),O(d[i]),v++}return 63!=h&&O(o),n}function U(e){if(e<=0&&(e=1),e>100&&(e=100),i!=e){(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var a=o((t[n]*e+50)/100);a<1?a=1:a>255&&(a=255),s[S[n]]=a}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var d=o((r[i]*e+50)/100);d<1?d=1:d>255&&(d=255),c[S[i]]=d}for(var m=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var h=0;h<8;h++)l[f]=1/(s[S[f]]*m[p]*m[h]*8),u[f]=1/(c[S[f]]*m[p]*m[h]*8),f++})(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),i=e}}this.encode=function(e,i,o){(new Date).getTime();i&&U(i),h=[],g=0,v=7,R(65496),R(65504),R(16),D(74),D(70),D(73),D(70),D(0),D(1),D(1),D(0),R(1),R(1),D(0),D(0),function(){R(65499),R(132),D(0);for(var e=0;e<64;e++)D(s[e]);D(1);for(var t=0;t<64;t++)D(c[t])}(),function(e,t){R(65472),R(17),D(8),R(t),R(e),D(3),D(1),D(17),D(0),D(2),D(17),D(1),D(3),D(17),D(1)}(e.width,e.height),function(){R(65476),R(418),D(0);for(var e=0;e<16;e++)D(x[e+1]);for(var t=0;t<=11;t++)D(I[t]);D(16);for(var n=0;n<16;n++)D(A[n+1]);for(var a=0;a<=161;a++)D(C[a]);D(1);for(var r=0;r<16;r++)D(N[r+1]);for(var i=0;i<=11;i++)D(P[i]);D(17);for(var o=0;o<16;o++)D(_[o+1]);for(var s=0;s<=161;s++)D(L[s])}(),R(65498),R(12),D(3),D(1),D(0),D(2),D(17),D(3),D(17),D(0),D(63),D(0);var d=0,m=0,f=0;g=0,v=7,this.encode.displayName="_encode_";for(var p,k,S,T,j,F,B,H,W,X=e.data,G=e.width,Q=e.height,z=4*G,V=0;V<Q;){for(p=0;p<z;){for(F=j=z*V+p,B=-1,H=0,W=0;W<64;W++)F=j+(H=W>>3)*z+(B=4*(7&W)),V+H>=Q&&(F-=z*(V+1+H-Q)),p+B>=z&&(F-=p+B-z+4),k=X[F++],S=X[F++],T=X[F++],y[W]=(E[k]+E[S+256>>0]+E[T+512>>0]>>16)-128,b[W]=(E[k+768>>0]+E[S+1024>>0]+E[T+1280>>0]>>16)-128,w[W]=(E[k+1280>>0]+E[S+1536>>0]+E[T+1792>>0]>>16)-128;d=M(y,l,d,t,a),m=M(b,u,m,n,r),f=M(w,u,f,n,r),p+=32}V+=8}if(v>=0){var Y=[];Y[1]=v+1,Y[0]=(1<<v+1)-1,O(Y)}if(R(65497),o){for(var J=h.length,q=new Uint8Array(J),K=0;K<J;K++)q[K]=h[K].charCodeAt();return h=[],q}var Z="data:image/jpeg;base64,"+btoa(h.join(""));return h=[],Z},e||(e=50),function(){for(var e=String.fromCharCode,t=0;t<256;t++)k[t]=e(t)}(),t=T(x,I),n=T(N,P),a=T(A,C),r=T(_,L),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var a=e;a<t;a++)m[32767+a]=n,d[32767+a]=[],d[32767+a][1]=n,d[32767+a][0]=a;for(var r=-(t-1);r<=-e;r++)m[32767+r]=n,d[32767+r]=[],d[32767+r][1]=n,d[32767+r][0]=t-1+r;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)E[e]=19595*e,E[e+256>>0]=38470*e,E[e+512>>0]=7471*e+32768,E[e+768>>0]=-11059*e,E[e+1024>>0]=-21709*e,E[e+1280>>0]=32768*e+8421375,E[e+1536>>0]=-27439*e,E[e+1792>>0]=-5329*e}(),U(e)}(100),Q={EXIF:null};(function(){var e=function e(t){return t instanceof e?t:this instanceof e?void 0:new e(t)},t=e.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},n=e.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},a=e.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},r=e.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function i(e){return!!e.exifdata}function o(e,t){function n(n){var a=s(n),r=function(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;var n=2,a=e.byteLength,r=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};for(;n+5<a;){if(r(t,n)){var i=t.getUint8(n+7);i%2!=0&&(i+=1),0===i&&(i=4);var o=n+8+i,s=t.getUint16(n+6+i);return l(e,o,s)}n++}}(n);e.exifdata=a||{},e.iptcdata=r||{},t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src))n(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"").replace(/%0A/gi,"");for(var n=atob(e),a=n.length,r=new ArrayBuffer(a),i=new Uint8Array(r),o=0;o<a;o++)i[o]=n.charCodeAt(o);return r}(e.src));else if(/^blob\:/i.test(e.src)){var a=new FileReader;a.onload=function(e){n(e.target.result)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}(e.src,(function(e){a.readAsArrayBuffer(e)}))}else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&&0!==this.status)throw new Error("Could not load image");n(r.response),r=null},r.open("GET",e.src,!0),r.responseType="arraybuffer",r.send(null)}else if(window.FileReader&&(e instanceof window.Blob||e instanceof window.File)){var i=new FileReader;i.onload=function(e){n(e.target.result)},i.readAsArrayBuffer(e)}}function s(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;for(var n=2,a=e.byteLength;n<a;){if(255!=t.getUint8(n))return!1;if(225==t.getUint8(n+1))return f(t,n+4,t.getUint16(n+2));n+=2+t.getUint16(n+2)}}var c={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function l(e,t,n){for(var a,r,i,o,s=new DataView(e),l={},u=t;u<t+n;)28===s.getUint8(u)&&2===s.getUint8(u+1)&&(o=s.getUint8(u+2))in c&&((i=s.getInt16(u+3))+5,r=c[o],a=m(s,u+5,i),l.hasOwnProperty(r)?l[r]instanceof Array?l[r].push(a):l[r]=[l[r],a]:l[r]=a),u++;return l}function u(e,t,n,a,r){var i,o,s=e.getUint16(n,!r),c={};for(o=0;o<s;o++)i=n+12*o+2,c[a[e.getUint16(i,!r)]]=d(e,i,t,n,r);return c}function d(e,t,n,a,r){var i,o,s,c,l,u,d=e.getUint16(t+2,!r),f=e.getUint32(t+4,!r),p=e.getUint32(t+8,!r)+n;switch(d){case 1:case 7:if(1==f)return e.getUint8(t+8,!r);for(i=f>4?p:t+8,o=[],c=0;c<f;c++)o[c]=e.getUint8(i+c);return o;case 2:return m(e,i=f>4?p:t+8,f-1);case 3:if(1==f)return e.getUint16(t+8,!r);for(i=f>2?p:t+8,o=[],c=0;c<f;c++)o[c]=e.getUint16(i+2*c,!r);return o;case 4:if(1==f)return e.getUint32(t+8,!r);for(o=[],c=0;c<f;c++)o[c]=e.getUint32(p+4*c,!r);return o;case 5:if(1==f)return l=e.getUint32(p,!r),u=e.getUint32(p+4,!r),(s=new Number(l/u)).numerator=l,s.denominator=u,s;for(o=[],c=0;c<f;c++)l=e.getUint32(p+8*c,!r),u=e.getUint32(p+4+8*c,!r),o[c]=new Number(l/u),o[c].numerator=l,o[c].denominator=u;return o;case 9:if(1==f)return e.getInt32(t+8,!r);for(o=[],c=0;c<f;c++)o[c]=e.getInt32(p+4*c,!r);return o;case 10:if(1==f)return e.getInt32(p,!r)/e.getInt32(p+4,!r);for(o=[],c=0;c<f;c++)o[c]=e.getInt32(p+8*c,!r)/e.getInt32(p+4+8*c,!r);return o}}function m(e,t,n){for(var a="",r=t;r<t+n;r++)a+=String.fromCharCode(e.getUint8(r));return a}function f(e,i){if("Exif"!=m(e,i,4))return!1;var o,s,c,l,d=i+6;if(18761==e.getUint16(d))o=!1;else{if(19789!=e.getUint16(d))return!1;o=!0}if(42!=e.getUint16(d+2,!o))return!1;var f=e.getUint32(d+4,!o);if(f<8)return!1;var p=u(e,d,d+f,n,o);if(p.ExifIFDPointer)for(s in c=u(e,d,d+p.ExifIFDPointer,t,o)){switch(s){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":c[s]=r[s][c[s]];break;case"ExifVersion":case"FlashpixVersion":c[s]=String.fromCharCode(c[s][0],c[s][1],c[s][2],c[s][3]);break;case"ComponentsConfiguration":c[s]=r.Components[c[s][0]]+r.Components[c[s][1]]+r.Components[c[s][2]]+r.Components[c[s][3]]}p[s]=c[s]}if(p.GPSInfoIFDPointer)for(s in l=u(e,d,d+p.GPSInfoIFDPointer,a,o)){switch(s){case"GPSVersionID":l[s]=l[s][0]+"."+l[s][1]+"."+l[s][2]+"."+l[s][3]}p[s]=l[s]}return p}e.getData=function(e,t){return!((e instanceof Image||e instanceof HTMLImageElement)&&!e.complete)&&(i(e)?t&&t.call(e):o(e,t),!0)},e.getTag=function(e,t){if(i(e))return e.exifdata[t]},e.getAllTags=function(e){if(!i(e))return{};var t,n=e.exifdata,a={};for(t in n)n.hasOwnProperty(t)&&(a[t]=n[t]);return a},e.pretty=function(e){if(!i(e))return"";var t,n=e.exifdata,a="";for(t in n)n.hasOwnProperty(t)&&("object"===U()(n[t])?n[t]instanceof Number?a+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":a+=t+" : ["+n[t].length+" values]\r\n":a+=t+" : "+n[t]+"\r\n");return a},e.readFromBinaryFile=function(e){return s(e)},Q.EXIF=e}).call(window);var z=Q,V=null,Y=function(){function e(t){o()(this,e),this.returnNullIfNotFitLimit=t.returnNullIfNotFitLimit||!1,this.limitBase64Length=t.limitBase64Length||0}return c()(e,[{key:"compressImage",value:function(e,t){var n=this;e&&t&&this.getImgData(e,(function(e,a){var r=a.width,i=a.height,o=r/i;(r>1200||i>1200)&&(r=1200,(i=parseInt(r/o,10))>1200&&(i=1200,r=parseInt(i*o,10)));var s=document.createElement("canvas"),c=s.getContext("2d");if(s.width=r,s.height=i,c.drawImage(a,0,0,r,i),e&&1!==e)switch(e){case 6:n.rotateImg(a,"left",s,r,i);break;case 8:n.rotateImg(a,"right",s,r,i);break;case 3:n.rotateImg(a,"right",s,r,i),n.rotateImg(a,"right",s,r,i)}if(6!==e&&8!==e||(r+=i,r-=i=r-i),n.notSupportCompressJpeg||n.tryLoopCompress(r,i,75,(function(e){return s.toDataURL("image/jpeg",e/100)}),!1,t),n.notSupportCompressJpeg){var l=c.getImageData(0,0,r,i);n.tryLoopCompress(r,i,75,(function(e){return G.encode(l,e,!1)}),!0,t)}}))}},{key:"getImgData",value:function(e,t){var n=new Image;n.src=e.url,n.onload=function(){try{void 0!==e.exifOrientation?t(e.exifOrientation,n):z.EXIF.getData(n,(function(){z.EXIF.getAllTags(n);var e=z.EXIF.getTag(n,"Orientation");t(e,n)}))}catch(e){t(null,n)}}}},{key:"tryLoopCompress",value:function(e,t,n,a,r,i){var o;do{if(o=a(n),n-=10,!r&&(!o||o.length<10||0===o.indexOf("data:image/png;")))return void(this.notSupportCompressJpeg=!0)}while(o.length>this.limitBase64Length&&n>=10);o.length>this.limitBase64Length&&this.returnNullIfNotFitLimit?i&&i(null,e,t):i&&i(o,e,t)}},{key:"rotateImg",value:function(e,t,n,a,r){if(e){var i=2;i||(i=0),"right"===t?++i>3&&(i=0):--i<0&&(i=3);var o=90*i*Math.PI/180,s=n.getContext("2d");switch(i){case 0:n.width=a,n.height=r,s.drawImage(e,0,0,a,r);break;case 1:n.width=r,n.height=a,s.rotate(o),s.drawImage(e,0,-r,a,r);break;case 2:n.width=a,n.height=r,s.rotate(o),s.drawImage(e,-a,-r,a,r);break;case 3:n.width=r,n.height=a,s.rotate(o),s.drawImage(e,-a,0,a,r)}}}}]),e}();Y.getInstance=function(){return V||(V=new Y),V};var J=Y,q=W.ImageStatus,K=W.ImageOrientation,Z=300,$=300;function ee(e,t){if(t&&e){for(var n=[],a=2;a<arguments.length;++a)n.push(arguments[a]);t.apply(e,n)}}var te=function(){function e(t){o()(this,e),this.loaded=!1,this.imageMap=t.imageMap||{},this.keyList=t.keyList||[],this.nativeReceiver=null,this.seed=t.seed||1,this.uploadAPI="v2/store_image",this.signatureModule=null,this.taskMap={},this.callbackMap={},this.context=null,this.imageTargetSize=$,this.imageLimitSize=Z,this.imageUtil=null,this.fileDomain="",this.useXHR=!!t.useXHR,this.axiosHttp=t.axiosHttp}var t,n,a;return c()(e,[{key:"load",value:function(e){this.loaded||(e=e||{},this.uploadAPI=e.uploadAPI||this.uploadAPI,this.callbackMap=e.callbackMap||this.callbackMap,this.context=e.context||this.context,this.imageTargetSize=e.imageTargetSize||this.imageTargetSize,this.imageLimitSize=e.imageLimitSize||this.imageLimitSize,this.fileDomain=e.fileDomain||(location.href.includes("hutaojie")?"https://file.hutaojie.com/":"https://file.pinduoduo.com/"),this.imageUtil=e.imageUtil||new J({limitBase64Length:1024*this.imageLimitSize,returnNullIfNotFitLimit:!1}),this.nativeReceiver=new X,this.signatureModule=new j(this.axiosHttp),this.nativeReceiver.load({context:this}),this.signatureModule.load({bucketTag:e.bucketTag}))}},{key:"createImage",value:function(){return new W({key:"img-"+this.seed++})}},{key:"updateImage",value:function(e,t,n){e&&(n=n||{},e.url=t,e.orientation=n.orientation||e.orientation)}},{key:"loadImage",value:(a=r()(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||t.status!==q.DEFAULT){e.next=11;break}return this.imageMap[t.key]=t,this.keyList.push(t.key),t.status=q.LOADING,e.next=6,this.getImageOrientation(t);case 6:n=e.sent,t.exifOrientation=n,a=this.context,r=this.callbackMap.onLoad,ee(a,r,t);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getImageOrientation",value:(n=r()(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new Image;n.onload=function(){if(2===n.width&&3===n.height)return e(0);var a=new Image;a.onload=function(){try{z.EXIF.getData(a,(function(){e(z.EXIF.getTag(a,"Orientation")||0)}))}catch(t){e(z.EXIF.getTag(a,"Orientation")||0)}},a.src=t.url},n.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k="})));case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"createImageAndLoad",value:(t=r()(y.a.mark((function e(t,n){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.createImage(t,n),this.updateImage(a,t,n),e.next=4,this.loadImage(a);case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"loadImageByFile",value:function(e){if((e=e||{}).type){if(!/^(image\/jpeg|image\/png)$/i.test(e.type))return}else if(e.name){var t=e.name||"";if(-1===(t=t.toUpperCase()).indexOf("IMAGE%3A")&&-1===t.indexOf("IMAGE:"))return}var n=(URL||window.webkitURL).createObjectURL(e);return this.createImageAndLoad(n)}},{key:"remove",value:function(e){if(e){var t=e.key,n=this.keyList.indexOf(t);n>=0&&this.keyList.splice(n,1)}}},{key:"getImage",value:function(e){return this.imageMap[e]||null}},{key:"getImages",value:function(){var e=this.imageMap||{},t=this.keyList||[],n=[];return t.forEach((function(t){var a=e[t]||null;a&&n.push(a)})),n}},{key:"getImageCount",value:function(){return this.keyList.length}},{key:"getImageProperties",value:function(e,t){var n=this.imageMap||{},a=this.keyList||[],r=[];return a.forEach((function(a){var i=n[a];if(e&&i)if("string"==typeof e)i&&i[e]&&r.push(i[e]||t);else if("object"===U()(e)){var o={};for(var s in e)e.hasOwnProperty(s)&&(o[s]=i[e[s]]||t);o&&r.push(o)}})),r}},{key:"encodeImage",value:function(e){e=e||{};var t=this;return new Promise((function(n,a){if(e.status===q.LOADING&&e.url){e.status=q.ENCODING,ee(t.context,t.callbackMap.onEncode,e);var r=new Image,i=e.url,o=function(t,a,r){e.base64=t.replace(/%0A/gi,""),e.width=a,e.height=r,e.orientation=a>r?K.HORIZONTAL:K.VERTICAL,e.status=q.ENCODED,n(e)};r.onload=function(n){0!==i.indexOf("data:image/")||i.length>1024*t.imageLimitSize?t.imageUtil.compressImage(e,o):o(i,r.width,r.height)},r.src=i}else a()}))}},{key:"uploadImage",value:function(e,t){var n=this,a=this;return e=e||{},new Promise((function(r,i){if(t&&e&&e.status===q.ENCODED&&e.base64){e.status=q.UPLOADING,ee(a.context,a.callbackMap.onUpload,e);var o=function(t){e.status=q.UPLOADED,t=t||{},e.webURL=t.url,e.width=t.width,e.height=t.height,r(e)},s=function(e){i(e)},c=n.fileDomain+n.uploadAPI,l={upload_sign:t,image:e.base64};n.useXHR?function(e,t,n,a){var r={method:e,body:null==n?null:JSON.stringify(n),headers:{"Content-Type":null==n?"application/x-www-form-urlencoded;charset=UTF-8":"application/json;charset=UTF-8"},credentials:"include"};r.headers.AccessToken=localStorage.getItem("AccessToken")||"";var i=new XMLHttpRequest;i.open(r.method,t,!0),i.withCredentials=!0;var o=r.headers||{};for(var s in o)i.setRequestHeader(s,o[s]);return i.onerror=a.onUploadError,i.upload.addEventListener("progress",a.onUploadProgress),i.ontimeout=a.onUploadTimeout,i.send(r.body),new Promise((function(e,t){i.onload=function(){var n=null;try{n=JSON.parse(i.responseText)}catch(e){n={}}if(n&&n.error_code)return t({errorCode:n.error_code,errorMessage:n.error_message});e(n)},i.onerror=function(e){t(e)}}))}("POST",c,l,{onUploadProgress:function(t){a.callbackMap.onUploadProgress&&a.callbackMap.onUploadProgress(e.url,t)}}).then(o,s):n.axiosHttp.post(c,l).then(o,s)}else i()}))}},{key:"process",value:function(e){var t=this,n=t.encodeImage(e),a=t.signatureModule.getSign(),r=Promise.all([a,n]).then((function(n){var a=((n=n||[])[0]||{}).signature;return t.uploadImage(n[1]||e,a).then((function(e){ee(t.context,t.callbackMap.onSuccess,e)}),(function(n){ee(t.context,t.callbackMap.onFail,e,n)}))}),(function(){ee(t.context,t.callbackMap.onFail,e)}));return t.taskMap[e.key]=r,r}},{key:"isAllImageReady",value:function(){for(var e=this.keyList||[],t=0,n=e.length;t<n;t++){var a=this.imageMap[e[t]];if(a&&(a.status!==q.UPLOADED||!a.webURL))return!1}return!0}},{key:"waitForAll",value:function(e){var t=[],n=this;this.keyList.forEach((function(e){n.taskMap[e]&&t.push(n.taskMap[e])})),Promise.all(t).then((function(){"function"==typeof e&&e(!0)}),(function(){"function"==typeof e&&e(!1)})).catch((function(t){"function"==typeof e&&e(!1)}))}}]),e}(),ne=n("mG/U"),ae=n("MyPv"),re=n("17x9"),ie=n.n(re);function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p()(this,n)}}n("k0Ia");var se="请选择jpeg、png格式的图片",ce="请检查网络，稍候重试",le="图片上传失败",ue={},de=function(e){m()(n,e);var t=oe(n);function n(e){var a;return o()(this,n),(a=t.call(this,e)).state=a.state||{},a.state.imageInfoList=Array.isArray(e.imageInfoList)?e.imageInfoList:[],a.state.uploadProgressMap={},a.state.showSelector=!1,a.core=null,a.maximum=parseInt(e.maximum||5,10),a.imageSelectorOption=a.props.imageSelectorOption||"",a.imageTargetSize=e.imageTargetSize||300,a.imageLimitSize=e.imageLimitSize||null,a.bucketTag=e.bucketTag||null,a.fileDomain=e.fileDomain||null,a.disabled=!1,a.onInputChange=null,a.axiosHttp=e.axiosHttp,a}return c()(n,[{key:"initImageInfoList",value:function(){var e=[],t={},n=this.state.imageInfoList;return n.forEach((function(n,a){var r="img-".concat(a+1);e.push(r),n.key=r,t[r]=n})),{keyList:e,imageMap:t,seed:n.length+1,useXHR:!!this.props.enableUploadProgress,axiosHttp:this.axiosHttp}}},{key:"componentWillMount",value:function(){if(u()(g()(n.prototype),"componentWillMount",this).call(this),this.isClientEnv){var e=this.platform,t=e.isNativePlatform,a=e.isWeChatMiniProgram,r=e.version;this.isNativePlatform=t,this.isWeChatMiniProgram=a&&window.wx,this.isPhotoDisabled=this.isNativePlatform&&this.platform.statisfy(["1.2.6","1.2.7","1.2.8"],"","contains");var i=r;this.isNativePlatform&&i.length>0&&Object(S.compareVersion)(i,"1.1.2")>0&&(this.canSelectInNative=!0);var o=this.initImageInfoList();this.core=new te(o)}}},{key:"componentDidMount",value:function(){u()(g()(n.prototype),"componentDidMount",this).call(this),this.core.load({bucketTag:this.bucketTag,fileDomain:this.fileDomain,context:this,callbackMap:{onLoad:this.onImageLoad,onEncode:this.onImageEncode,onUpload:this.onImageUpload,onUploadProgress:this.onUploadProgress.bind(this),onSuccess:this.onUploadSuccess,onFail:this.onUploadFail},fileHttpsTester:this.props.fileHttps,useXHR:this.props.enableUploadProgress}),this.resetInput()}},{key:"render",value:function(){var e=this,t=this.state.imageInfoList,n=void 0===t?[]:t,a=this.maximum,r=n.length>=a?{display:"none"}:{};return w.a.createElement("div",{id:this.viewID,className:"image-uploader-module"},this.renderCubes(n),w.a.createElement("div",{id:"".concat(this.viewID,"-selector"),onClick:function(t){e.onSelectImage()},className:"ium-selector ium-cube ium-cube-last-in-line",style:r},w.a.createElement("div",{id:"".concat(this.viewID,"-indicator"),className:"ium-indicator"},w.a.createElement("div",{className:"ium-indicator-icon icon icon-evaluation-camera"}),0===n.length&&w.a.createElement("div",{className:"ium-indicator-text"},this.props.indicatorText?this.props.indicatorText:"上传图片"),n.length>0&&w.a.createElement("div",{className:"ium-indicator-text"},n.length,w.a.createElement("i",null,"/"),a)),!this.isNativePlatform&&!this.isWeChatMiniProgram&&w.a.createElement("input",{id:"".concat(this.viewID,"-input"),accept:"image/*",type:"file"})),this.renderImageSelector(a-n.length))}},{key:"renderCubes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.state.uploadProgressMap,a=this.props.enableUploadProgress;return t.map((function(t,r){return t=t||{},w.a.createElement("div",{key:r,className:"ium-image-block ium-cube",onClick:function(){e.viewImageList(t)}},!!t.url&&e.renderImgCube(t),!!(a&&t.status<5)&&w.a.createElement("div",{className:"ium-progress-block"},w.a.createElement("div",{style:{width:"".concat(n[t.url],"%")}})),!a&&5!==t.status&&w.a.createElement("div",{className:"ium-tip-block"},"上传中"),w.a.createElement("div",{className:"ium-delete icon icon-close",onClick:function(n){e.deleteInfo(t,n)}}))}))}},{key:"renderImgCube",value:function(e){var t=this.getRotationDegree(e.exifOrientation);return this.platform.platform===S.PLATFORM.PddAndroid||this.isWeChatMiniProgram?w.a.createElement("img",{src:e.url,style:{"-webkit-transform":"rotate(".concat(t,"deg)"),transform:"rotate(".concat(t,"deg)")}}):w.a.createElement("div",{className:"image-box",style:{backgroundImage:"url(".concat(e.url,")"),backgroundSize:"cover",backgroundPosition:"center","-webkit-transform":"rotate(".concat(t,"deg)"),transform:"rotate(".concat(t,"deg)")}})}},{key:"onSelectImage",value:function(){this.isWeChatMiniProgram?this.selectImageInWxMiniProgram():this.onSelectNativeImage()}},{key:"onSelectNativeImage",value:function(){this.disabled||(this.isPhotoDisabled?alert("请升级软件"):this.selectImageInNative())}},{key:"deleteInfo",value:function(e,t){(t=t||event)&&t.preventDefault(),t&&t.stopPropagation(),this.disabled||this.removeImage(e)}},{key:"viewImageList",value:function(e,t){if((t=t||event)&&t.preventDefault(),t&&t.stopPropagation(),!this.disabled){var n=this.getImageWebURLs()||[];if(n.length>0){var a=(e=e||{}).webURL;a&&R(a||n[0],n,{ViewNotWechatInteraface:this.isNativePlatform})}}}},{key:"getImages",value:function(){return this.core.getImages()}},{key:"getImageCount",value:function(){return this.core.keyList.length}},{key:"getImageWebURLs",value:function(){return this.core.getImageProperties("webURL","")}},{key:"getImageWebInfo",value:function(){return this.core.getImageProperties({url:"webURL",height:"height",width:"width"})}},{key:"isAllImageReady",value:function(){return this.core.isAllImageReady()}},{key:"waitForAll",value:function(e){this.core.waitForAll(e)}},{key:"resetInput",value:function(){var e=this,t=document.getElementById("".concat(this.viewID,"-input"));t&&(t.outerHTML=t.outerHTML.replace(/(value=\").+\"/i,'$1"'),t=document.getElementById("".concat(this.viewID,"-input")),this.isNativePlatform||(this.onInputChange&&(t.removeEventListener("change",this.onInputChange),this.onInputChange=null),this.onInputChange=function(){var n=r()(y.a.mark((function n(a){var r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.disabled){n.next=2;break}return n.abrupt("return");case 2:if(t.files&&t.files[0]){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,e.core.loadImageByFile(t.files[0]);case 6:(r=n.sent)?(e.core.process(r),e.resetInput()):Object(ae.info)(se);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),t.addEventListener("change",this.onInputChange)))}},{key:"onImageLoad",value:function(e){ue[e.url]?ue[e.url]=void 0:this.setState({imageInfoList:this.state.imageInfoList.concat([e])})}},{key:"onImageEncode",value:function(e){}},{key:"onImageUpload",value:function(e){}},{key:"onUploadSuccess",value:function(e){this.updateImage(e),"function"==typeof this.props.onSuccess&&this.props.onSuccess(e)}},{key:"onUploadFail",value:function(e,t){var n=this,a="";a=!(t=t||{}).errorCode||t instanceof ProgressEvent?ce:Object(ne.getMsgFromCode)(t.errorCode)||le,Object(ae.info)(a),ue[e.url]=!0,setTimeout((function(){n.removeImage(e)}),200)}},{key:"removeImage",value:function(e){for(var t=this,n=this.state.imageInfoList||[],a=0,r=n.length;a<r;a++)if(n[a].key===e.key)return n.splice(a,1),void this.setState({imageInfoList:n},(function(){t.core.remove(e)}))}},{key:"updateImage",value:function(e){for(var t=this.state.imageInfoList||[],n=0,a=t.length;n<a;n++)if(t[n].key===e.key)return t[n].status=e.status,t[n].webURL=e.webURL,t[n].exifOrientation=e.exifOrientation,void this.setState({imageInfoList:t})}},{key:"disable",value:function(){this.disable=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"renderImageSelector",value:function(e){var t=this;if(this.canSelectInNative){var n=this.core.nativeReceiver;return w.a.createElement(E.a,{viewID:"".concat(this.viewID,"-native-selector"),viewCtx:this.viewCtx,option:this.imageSelectorOption,show:this.state.showSelector,maxImageCount:e,onSelected:function(e){return n.onSelected(e)},onSelectStart:function(){n.onSelectStart()},onSelectCancel:function(){n.onSelectCancel()},onClose:function(){t.setState({showSelector:!1})}})}return!1}},{key:"selectImageInNative",value:function(){this.setState({showSelector:!0})}},{key:"onWxAppUploadFail",value:function(e){}},{key:"selectImageInWxMiniProgram",value:function(){var e=this,t=this.state.imageInfoList,n=void 0===t?[]:t,a=this.core.nativeReceiver;window.wx&&window.wx.chooseImage({count:this.maximum-n.length,success:function(t){(t.localIds||[]).reduce((function(t,n){return t.then((function(){return a.onSelectStart(),e.getWxMiniProgramImageData(n).then((function(e){return a.onSelected(e)})).catch((function(t){a.onSelectCancel(),e.onWxAppUploadFail(t)}))}))}),Promise.resolve())},fail:function(t){e.onWxAppUploadFail(t)}})}},{key:"getWxMiniProgramImageData",value:function(e){return new Promise((function(t,n){window.wx&&window.wx.getLocalImgData({localId:e,success:function(e){var n=e.localData;/^\s*data:image/.test(n)||(n="data:image/jpeg;base64,".concat(n)),n=n.replace("image/jpg","image/jpeg"),t(n)},fail:function(e){n(e)}})}))}},{key:"getRotationDegree",value:function(e){var t=0;switch(e){case 6:t=90;break;case 8:t=-90;break;case 3:t=180}return t}},{key:"onUploadProgress",value:function(e,t){var n=this.state.uploadProgressMap;n[e]=100*t.loaded/t.total,this.setState({uploadProgressMap:n})}}]),n}(k.a);de.propTypes={axiosHttp:ie.a.func.isRequired};t.a=de},xZgz:function(e,t,n){"use strict";var a=n("OYUV");Object.defineProperty(t,"__esModule",{value:!0}),t.getDomTreeShapes=k,t.findNativeHandler=S,t.default=void 0;var r=a(n("G2ut")),i=a(n("PTHm")),o=a(n("MOn9")),s=a(n("NRM5")),c=a(n("VJ99")),l=a(n("hR4y")),u=a(n("jiea")),d=a(n("q1tI")),m=a(n("17x9")),f=(a(n("iPTW")),n("KJF0"));function p(e,t,n,a){return e.addEventListener(t,n,a),{remove:function(){e.removeEventListener(t,n,a)}}}var h={direction:"ltr",display:"flex",willChange:"transform"},g={width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"},v={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(e){return"translate(".concat(-e,"%, 0)")},"x-reverse":function(e){return"translate(".concat(e,"%, 0)")},y:function(e){return"translate(0, ".concat(-e,"%)")},"y-reverse":function(e){return"translate(0, ".concat(e,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function y(e,t){var n=t.duration,a=t.easeFunction,r=t.delay;return"".concat(e," ").concat(n," ").concat(a," ").concat(r)}function b(e,t){var n=v.rotationMatrix[t];return{pageX:n.x[0]*e.pageX+n.x[1]*e.pageY,pageY:n.y[0]*e.pageX+n.y[1]*e.pageY}}function w(e){return e.touches=[{pageX:e.pageX,pageY:e.pageY}],e}function k(e,t){for(var n=[];e&&e!==t&&!e.hasAttribute("data-swipeable");){var a=window.getComputedStyle(e);"absolute"===a.getPropertyValue("position")||"hidden"===a.getPropertyValue("overflow-x")?n=[]:(e.clientWidth>0&&e.scrollWidth>e.clientWidth||e.clientHeight>0&&e.scrollHeight>e.clientHeight)&&n.push({element:e,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),e=e.parentNode}return n}var E=null;function S(e){var t=e.domTreeShapes,n=e.pageX,a=e.startX,r=e.axis;return t.some((function(e){var t=n>=a;"x"!==r&&"y"!==r||(t=!t);var i=e[v.scrollPosition[r]],o=i>0,s=i+e[v.clientLength[r]]<e[v.scrollLength[r]];return!!(t&&s||!t&&o)&&(E=e.element,!0)}))}var x=function(e){function t(e){var n;return(0,o.default)(this,t),(n=(0,c.default)(this,(0,l.default)(t).call(this,e))).rootNode=null,n.containerNode=null,n.ignoreNextScrollEvents=!1,n.viewLength=0,n.startX=0,n.lastX=0,n.vx=0,n.startY=0,n.isSwiping=void 0,n.started=!1,n.startIndex=0,n.transitionListener=null,n.touchMoveListener=null,n.activeSlide=null,n.indexCurrent=null,n.firstRenderTimeout=null,n.setRootNode=function(e){n.rootNode=e},n.setContainerNode=function(e){n.containerNode=e},n.setActiveSlide=function(e){n.activeSlide=e,n.updateHeight()},n.handleSwipeStart=function(e){var t=n.props.axis,a=b(e.touches[0],t);n.viewLength=n.rootNode.getBoundingClientRect()[v.length[t]],n.startX=a.pageX,n.lastX=a.pageX,n.vx=0,n.startY=a.pageY,n.isSwiping=void 0,n.started=!0;var r=window.getComputedStyle(n.containerNode),i=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("transform");if(i&&"none"!==i){var o=i.split("(")[1].split(")")[0].split(","),s=window.getComputedStyle(n.rootNode),c=b({pageX:parseInt(o[4],10),pageY:parseInt(o[5],10)},t);n.startIndex=-c.pageX/(n.viewLength-parseInt(s.paddingLeft,10)-parseInt(s.paddingRight,10))||0}},n.handleSwipeMove=function(e){if(n.started){if(null===E||E===n.rootNode){var t=n.props,a=t.axis,r=t.children,i=t.ignoreNativeScroll,o=t.onSwitching,s=t.resistance,c=b(e.touches[0],a);if(void 0===n.isSwiping){var l=Math.abs(c.pageX-n.startX),u=Math.abs(c.pageY-n.startY),m=l>u&&l>f.constant.UNCERTAINTY_THRESHOLD;if(!s&&("y"===a||"y-reverse"===a)&&(0===n.indexCurrent&&n.startX<c.pageX||n.indexCurrent===d.default.Children.count(n.props.children)-1&&n.startX>c.pageX))return void(n.isSwiping=!1);if(l>u&&e.preventDefault(),!0===m||u>f.constant.UNCERTAINTY_THRESHOLD)return n.isSwiping=m,void(n.startX=c.pageX)}if(!0===n.isSwiping){e.preventDefault(),n.vx=.5*n.vx+.5*(c.pageX-n.lastX),n.lastX=c.pageX;var p=(0,f.computeIndex)({children:r,resistance:s,pageX:c.pageX,startIndex:n.startIndex,startX:n.startX,viewLength:n.viewLength}),h=p.index,g=p.startX;if(null===E&&!i)if(S({domTreeShapes:k(e.target,n.rootNode),startX:n.startX,pageX:c.pageX,axis:a}))return;g?n.startX=g:null===E&&(E=n.rootNode),n.setIndexCurrent(h);var v=function(){o&&o(h,"move")};!n.state.displaySameSlide&&n.state.isDragging||n.setState({displaySameSlide:!1,isDragging:!0},v),v()}}}else n.handleTouchStart(e)},n.handleSwipeEnd=function(){if(E=null,n.started&&(n.started=!1,!0===n.isSwiping)){var e,t=n.state.indexLatest,a=n.indexCurrent,r=t-a;e=Math.abs(n.vx)>n.props.threshold?n.vx>0?Math.floor(a):Math.ceil(a):Math.abs(r)>n.props.hysteresis?r>0?Math.floor(a):Math.ceil(a):t;var i=d.default.Children.count(n.props.children)-1;e<0?e=0:e>i&&(e=i),n.setIndexCurrent(e),n.setState({indexLatest:e,isDragging:!1},(function(){n.props.onSwitching&&n.props.onSwitching(e,"end"),n.props.onChangeIndex&&e!==t&&n.props.onChangeIndex(e,t,{reason:"swipe"}),a===t&&n.handleTransitionEnd()}))}},n.handleTouchStart=function(e){n.props.onTouchStart&&n.props.onTouchStart(e),n.handleSwipeStart(e)},n.handleTouchEnd=function(e){n.props.onTouchEnd&&n.props.onTouchEnd(e),n.handleSwipeEnd(e)},n.handleMouseDown=function(e){n.props.onMouseDown&&n.props.onMouseDown(e),e.persist(),n.handleSwipeStart(w(e))},n.handleMouseUp=function(e){n.props.onMouseUp&&n.props.onMouseUp(e),n.handleSwipeEnd(w(e))},n.handleMouseLeave=function(e){n.props.onMouseLeave&&n.props.onMouseLeave(e),n.started&&n.handleSwipeEnd(w(e))},n.handleMouseMove=function(e){n.props.onMouseMove&&n.props.onMouseMove(e),n.started&&n.handleSwipeMove(w(e))},n.handleScroll=function(e){if(n.props.onScroll&&n.props.onScroll(e),e.target===n.rootNode)if(n.ignoreNextScrollEvents)n.ignoreNextScrollEvents=!1;else{var t=n.state.indexLatest,a=Math.ceil(e.target.scrollLeft/e.target.clientWidth)+t;n.ignoreNextScrollEvents=!0,e.target.scrollLeft=0,n.props.onChangeIndex&&a!==t&&n.props.onChangeIndex(a,t,{reason:"focus"})}},n.updateHeight=function(){if(null!==n.activeSlide){var e=n.activeSlide.children[0];void 0!==e&&void 0!==e.offsetHeight&&n.state.heightLatest!==e.offsetHeight&&n.setState({heightLatest:e.offsetHeight})}},n.state={indexLatest:e.index,isDragging:!1,renderOnlyActive:!e.disableLazyLoading,heightLatest:0,displaySameSlide:!0},n.setIndexCurrent(e.index),n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"getChildContext",value:function(){var e=this;return{swipeableViews:{slideUpdateHeight:function(){e.updateHeight()}}}}},{key:"componentDidMount",value:function(){var e=this;this.transitionListener=p(this.containerNode,"transitionend",(function(t){t.target===e.containerNode&&e.handleTransitionEnd()})),this.touchMoveListener=p(this.rootNode,"touchmove",(function(t){e.props.disabled||e.handleSwipeMove(t)}),{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout((function(){e.setState({renderOnlyActive:!1})}),0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"componentWillReceiveProps",value:function(e){var t=e.index;"number"==typeof t&&t!==this.props.index&&(this.setIndexCurrent(t),this.setState({displaySameSlide:(0,f.getDisplaySameSlide)(this.props,e),indexLatest:t}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"setIndexCurrent",value:function(e){if(this.props.animateTransitions||this.indexCurrent===e||this.handleTransitionEnd(),this.indexCurrent=e,this.containerNode){var t=this.props.axis,n=v.transform[t](100*e);this.containerNode.style.WebkitTransform=n,this.containerNode.style.transform=n}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var e,t,n=this,a=this.props,o=(a.action,a.animateHeight),s=a.animateTransitions,c=a.axis,l=a.children,u=a.containerStyle,m=a.disabled,f=(a.disableLazyLoading,a.enableMouseEvents),p=(a.hysteresis,a.ignoreNativeScroll,a.index,a.onChangeIndex,a.onSwitching,a.onTransitionEnd,a.resistance,a.slideStyle),b=a.slideClassName,w=a.springConfig,k=a.style,E=(a.threshold,(0,i.default)(a,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"])),S=this.state,x=S.displaySameSlide,I=S.heightLatest,A=S.indexLatest,C=S.isDragging,N=S.renderOnlyActive,P=m?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},_=!m&&f?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},L=(0,r.default)({},g,p);if(C||!s||x)e="all 0s ease 0s",t="all 0s ease 0s";else if(e=y("transform",w),t=y("-webkit-transform",w),0!==I){var T=", ".concat(y("height",w));e+=T,t+=T}var O={height:null,WebkitFlexDirection:v.flexDirection[c],flexDirection:v.flexDirection[c],WebkitTransition:t,transition:e};if(!N){var D=v.transform[c](100*this.indexCurrent);O.WebkitTransform=D,O.transform=D}return o&&(O.height=I),d.default.createElement("div",(0,r.default)({ref:this.setRootNode,style:(0,r.default)({},v.root[c],k)},E,P,_,{onScroll:this.handleScroll}),d.default.createElement("div",{ref:this.setContainerNode,style:(0,r.default)({},O,h,u),className:"react-swipeable-view-container"},d.default.Children.map(l,(function(e,t){if(N&&t!==A)return null;var a,r=!0;return t===A&&(r=!1,o&&(a=n.setActiveSlide,L.overflowY="hidden")),d.default.createElement("div",{ref:a,style:L,className:b,"aria-hidden":r,"data-swipeable":"true"},e)}))))}}]),t}(d.default.Component);x.displayName="ReactSwipableView",x.propTypes={},x.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1},x.childContextTypes={swipeableViews:m.default.shape({slideUpdateHeight:m.default.func})};var I=x;t.default=I}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_live_red_packet_MonthlyPromotionPopup_557d4b123aef07bd98e2.js.map