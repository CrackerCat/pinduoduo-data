(self.webpackChunkmobile_fun_cashback=self.webpackChunkmobile_fun_cashback||[]).push([[6587],{68081:function(e){e.exports={wrapper:"_2jPGHB",wrapperMask:"_1TO_6Q",wrapperShadow:"_13NNtE",line:"_1HiWbv",title:"_5ZQnBd",titleLeft:"oYyi7J",titleMain:"_26nWuh",titleRight:"_1ejS7w",goods:"_3x0_VO",goodsList:"_1WK18i",goodsImg:"_3vvTJE",gooodsTips:"jhoUKC",goodsTitle:"_2WqL92",commonFadeIn:"_12oA7Z",commonFadeOut:"_2d8-Ro",rotate360:"_3jlQ7X",commonScaleOut:"_2hUPfr",commonScaleIn:"_29awh8"}},11379:function(e){e.exports={weSku:"kG7oYC",wechatIcon:"_2manMj",desc:"D5OuSM",couponSku:"dIufUT",tips:"_5yV9-b",commonFadeIn:"_1VzeyQ",commonFadeOut:"_6L3TRu",rotate360:"_2bPe2T",commonScaleOut:"_2Lr8ku",commonScaleIn:"prmz50"}},31727:function(e){e.exports={wechatIcon:"_3FgkWe",btnText:"_3zrZxW",cashBtn:"dJEWTO",commonFadeIn:"_30Vmgt",commonFadeOut:"_28S6q7",rotate360:"_3SHA5k",commonScaleOut:"_3OjXaG",commonScaleIn:"XgAXPx"}},7812:function(e){e.exports={wrapper:"_yy6Om",title:"_2tg0nU",cashCenter:"_1epUbR",record:"_3mM6Bq",left:"_3mGXk_",right:"_2Z5jU9",jiantou:"_3Wgjf3",amount:"_2Raz0q",coupon:"IiHwjy",item:"_1RW2JV",commonFadeIn:"_2t4nTw",commonFadeOut:"IpQMSr",rotate360:"_16TmIN",commonScaleOut:"_3qy17l",commonScaleIn:"_36Kagv"}},73049:function(e){e.exports={weSku:"_6QIjka",weTitle:"_3cUAhN",weItem:"_2v8UXb",itemWrapper:"_2N8ipf",commonFadeIn:"_3mttQK",commonFadeOut:"_1dMLhq",rotate360:"_39CbWv",commonScaleOut:"NzCPiQ",commonScaleIn:"_1STYRg"}},56671:function(e){e.exports={wrapper:"_1x140F",title:"oZsZ1U",tips:"_3KCO9v",item:"_108WJ1",record:"_16C0UL",recordDesc:"_12PbCJ",recordTime:"_29nabM",timer:"_2x8oMK",tips2:"_16U2k_",descImg:"_2Z4NqH",descWrapper:"_3qhkzP",rightSubText:"_3kAZKY",subTextArrow:"_6Gaq3C",commonFadeIn:"_2OAFjK",commonFadeOut:"_2D4Kbm",rotate360:"_1n9_w6",commonScaleOut:"dzIXL1",commonScaleIn:"_7XyhLO"}},1684:function(e){e.exports={center:"_1SfjtG",title:"_3U03dZ",titlePre:"_1DYmSU",subTitle:"ODKUA7",titleAmount:"_1K4m5D",line:"_3TJR0z",cardWrapper:"_3DaTNS",cardAni:"_1LCbHU",cardZoomIn:"_35U1L5",strong:"_2bVQXf",rewardAmount:"b8mW-U",unit:"_1L-Ovc",extraReward:"IdubfU",cardItem:"_3GrPWv",fingerGuide:"_7wp2g2",commonFadeIn:"_1WsnXo",commonFadeOut:"_2PcMHI",rotate360:"_2YBa2e",commonScaleOut:"_2Ob-OV",commonScaleIn:"_1_SO_V"}},73464:function(e){e.exports={bigCard:"PQKsR1",card:"_2hLK1s",tagBreath:"j-LQmZ",cardBreath:"_3k8D8y",contentBig:"oGEpli",content:"_2qjNrp",contentLight:"_2wSQJh",amount:"_2v6036",amount2:"_2-r4G7",amountFadeInOut:"_32ux_K",tipsFadeInOut:"_1VYaaY",openAmount:"_2Ax0r4",desc:"_1VwoTx",descTag:"mTSnq9",commonFadeIn:"a12pM9",tagInMask:"_1-MG3S",arrow:"_1bPyGO",cardTips:"_1PXIn8",cardGain:"_1EcUcT",cardExtraTips:"_3mHE-4",redGain:"_3Kjzxp",cardTopTips:"_1-zMSH",tipsArrow:"_2xUkRW",gainAni:"_33fEtN",btnBreath:"_1JTTKf",cardAni:"dgDfZo",showTomorrowCardAni:"_2HMe04",titleAni:"FO48sr",rotateCard:"_19U04y",rotateAni:"_2YVZwK",cardRotateAni:"_30Yit4",cardBack:"_3DMCMD",cardFont:"_37RmYu",cardBackImg:"_1D5HR8",cardFontImg:"_3rvnRQ",wrapperBg:"-Fe459",commonFadeOut:"XECC8K",rotate360:"_3glSio",commonScaleOut:"jkJFv6",commonScaleIn:"_2VFU4J"}},85136:function(e){e.exports={content:"wdzrRS",title:"_2ymgzs",counter:"_16YcQ-",hint:"_3qPTXC",line:"_2b7MuV",desc:"VRQWvy",amountTips:"_2Sy5X-",commonFadeIn:"_2czUCK",commonFadeOut:"_1ENvcT",rotate360:"_1XK8_1",commonScaleOut:"_6rY28z",commonScaleIn:"_1O4Z1g"}},5984:function(e){e.exports={content:"_2DwvLm",title:"T1QlLw",counter:"_1b_KZ0",hint:"_2T9iFl",line:"_2l6Nsr",desc:"_1Je36Q",amountTips:"_6UhC0z",commonFadeIn:"_2LjsEW",commonFadeOut:"_2lTubE",rotate360:"_3J-pRe",commonScaleOut:"_1DYBa0",commonScaleIn:"_1TDEYR"}},91705:function(e){e.exports={coupon:"_2X4ZtM",couponNoThreshold:"sSuvjO",couponInvalid:"_1sqA3m",detail:"w8GW6M",desc:"uLpXKs",label:"_2l9TIi",commonFadeIn:"dg6xdC",commonFadeOut:"mvdvPf",rotate360:"_Twmjp",commonScaleOut:"_1A7VRa",commonScaleIn:"iDfSjg"}},84277:function(e){e.exports={border:"_1UJGg1",entry:"_1L3eMG",title:"_2CmkjG",titleLeft:"oDc9Mm",subTitle:"_5S3Gm4",couponValue:"_2IpMpF",inCashPullUp:"ogqcqV",panel:"_1A_Vwb",coupon:"_1w6Jyu",couponBg:"_1yAdjw",couponDesc:"_2E8Vd4",detail:"_19jFDv",detailT1:"_2UMSbc",detailT2:"dUROxr",btn:"_2RuQ86",btnTips:"_2DlNtG",btnCost:"_2xcMRo",commonFadeIn:"aTpHBv",commonFadeOut:"_1_qfxX",rotate360:"_2kDjW3",commonScaleOut:"fToPnV",commonScaleIn:"_2BxtIV"}},73165:function(e){e.exports={container:"D_5VKN",commonFadeIn:"_1-1XtR",commonFadeOut:"_3OSv6g",rotate360:"_3r9Ej_",commonScaleOut:"_2K8umm",commonScaleIn:"_2reLdr"}},48510:function(e){e.exports={scrollWrapper:"_2HaVU1",tab:"_1eQZHM",isActive:"_2gtjFj",spaceHold:"_2sxOAY",commonFadeIn:"_2l5E7R",commonFadeOut:"_3lMbZY",rotate360:"_2Ea1kF",commonScaleOut:"_2LRtvv",commonScaleIn:"_2rvlYI"}},49741:function(e){e.exports={panel:"_3tsO2I",title:"_1aizlX",subTitle:"_1hQa3t",titleInner:"_1fvGyH",remind:"_2uE6cz",commonFadeIn:"_1By7OB",commonFadeOut:"_2rwakp",rotate360:"_2dxTJG",commonScaleOut:"_1kWKWT",commonScaleIn:"_3H96n2"}},43960:function(e){e.exports={wrapper:"kp4Top",bg:"_2Ofd5U",right:"_1ftBhy",main:"_1q2-cD",mainTop:"_20jZls",mainBottom:"_3tdGBN",commonFadeIn:"_3P8JpZ",commonFadeOut:"bgQtzW",rotate360:"_21n5E1",commonScaleOut:"_2ski2r",commonScaleIn:"_2392oV"}},36475:function(e,t,n){"use strict";var o=n(75004),r=n(47750),i=n(68081),a=n.n(i),u=n(64147),c=n(57016),l=n(28064),s=n(35287),p=n(54669),f=n(15001),d=n(58303),m=n(68648),v=n(50806),y=n(738),b=n(72377);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}t.Z=(0,r.Pi)((function(){var e=h((0,o.useState)([]),2),t=e[0],n=e[1],r=(0,y.AG)();(0,o.useEffect)((function(){var e={page_sn:104366,app_name:"cashback_new_promotion",list_id:"cashback_new_promotion_".concat((0,p.zO)(6).toString(),"_0"),biz_pool_id:"TFRQ0v000001_26031",mixed_goods_list:"1"};(0,d.dM)(e).then((function(e){var t;n(null!==(t=null==e?void 0:e.item_list)&&void 0!==t?t:[])}))}),[]);var i=function(){(0,v.oy)().then((function(){var e=r.globalStore.popups;(void 0===e?[]:e).find((function(e){return(null==e?void 0:e.id)===b.$Z.INNER_ORDER_REWARD}))&&((0,v.X0)(),r.popupQueueStore.instantShow("showHomeOrderRewardPopup"))}))},w=function(){(0,f.qw)(i,{native_title:"抗疫专区"})};return t.length?o.createElement("div",{className:a().wrapper},o.createElement("div",{className:a().title},o.createElement("div",{className:a().titleLeft},o.createElement("div",{className:a().titleMain},"上海抗疫专区"),o.createElement(c.Z,{text:"下单立得<#E02E24#大额返现>"})),o.createElement("div",{className:a().titleRight,onClick:w},"查看更多",o.createElement(l.Eh,{width:6,height:10,strokeColor:"#58595B",opacity:.7}))),o.createElement("div",{className:a().goodsList},t.slice(0,10).map((function(e){var t,n,r,i,l,f,d,v,y,b,h,g,O=null!==(t=null==e||null===(n=e.goods)||void 0===n?void 0:n.hd_thumb_url)&&void 0!==t?t:"",_=null!==(r=null==e||null===(i=e.goods)||void 0===i||null===(l=i.biz_result)||void 0===l?void 0:l.cashback)&&void 0!==r?r:[],C=null==e||null===(f=e.goods)||void 0===f?void 0:f.short_name,E=0;_.map((function(e){(null==e?void 0:e.rewardType)===m.Mr.POINTS&&(E=((null==e?void 0:e.rewardAmount)||(null==e?void 0:e.amount))/100||0)}));var S=null!==(d=null!==(v=null==e||null===(y=e.goods)||void 0===y||null===(b=y.group)||void 0===b?void 0:b.promo_price)&&void 0!==v?v:null==e||null===(h=e.goods)||void 0===h||null===(g=h.group)||void 0===g?void 0:g.group_price)&&void 0!==d?d:0;return o.createElement("div",{className:a().goods,onClick:w},o.createElement(u.Z,{src:O,className:a().goodsImg}),o.createElement("div",{className:a().gooodsTips},o.createElement(c.Z,{text:"返现<#E02E24#".concat(E,"元>")})),o.createElement("div",{className:a().goodsTitle},(0,p.VQ)(C,7)),o.createElement(s.Z,{color:"#E02E24",textArr:[["团购价￥",11,12],[(0,p.Ct)(S),16,14]]}))})))):null}))},4133:function(e,t,n){"use strict";var o,r=n(75004),i=n(47750),a=n(31727),u=n.n(a),c=n(28064),l=n(31894),s=n(64147),p=n(51139),f=n(80373);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t,n,o,r,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(o,r)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){m(i,o,r,a,u,"next",e)}function u(e){m(i,o,r,a,u,"throw",e)}a(void 0)}))}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=_(e);if(t){var r=_(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=(0,f.TG)(o=(0,i.Pi)(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,o,i=w(a);function a(){var e;y(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return C(O(e=i.call.apply(i,[this].concat(n))),"cashClick",(0,f.Eq)(function(){var t=v(regeneratorRuntime.mark((function t(n){var o,r,i,a,u,c,l,s,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==n||null===(o=n.stopPropagation)||void 0===o||o.call(n),(0,p.iH)(5536681),a=e.context.popupQueueStore.showPointsRemindPopup,(0,p.iH)(6265359,{source:a?2:1}),u=e.context.popupQueueStore.getPopupData("showPointsRemindPopup"),a&&(0,p.iH)(6436484,{tixm_type:null!=u&&u.outOrderSource?2:1}),a&&(e.context.cashCenterStore.set({inNewbeeProcess:!0}),e.context.popupQueueStore.close("showPointsRemindPopup")),c=null===(r=e.context.grayStore)||void 0===r?void 0:r.cashback1418,l=e.context,s=l.popupQueueStore,f=l.globalStore,t.abrupt("return",null===(i=e.context.cashCenterStore)||void 0===i?void 0:i.directShowWithdrawPopup({jumpPullup:c,globalStore:f,popupQueueStore:s}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.context.popupQueueStore.showPointsRemindPopup;(0,p.oy)(6265359,{source:e?2:1})}},{key:"render",value:function(){var e=this.context.popupQueueStore.showPointsRemindPopup;return r.createElement(c.un,{size:"xs",width:74,color:"gray",mode:"line",onClick:this.cashClick,showFinger:e,showFingerAniIn:!0},r.createElement("div",{className:u().cashBtn},r.createElement(s.Z,{src:(0,l.E$)("bacs_cash_icon2"),className:u().wechatIcon}),r.createElement("p",{className:u().btnText},"提现"),r.createElement(c.Eh,{width:8,height:12,strokeColor:"#8a8b8c"})))}}])&&b(t.prototype,n),o&&b(t,o),a}(r.Component))||o)||o;t.Z=E},81048:function(e,t,n){"use strict";n.d(t,{Z:function(){return te}});var o,r=n(75004),i=n(47750),a=n(7812),u=n.n(a),c=n(28064),l=n(35287),s=n(80373),p=n(54669),f=n(51139),d=n(738),m=n(90841),v=n(42856),y=n(98534),b=n(73049),h=n.n(b),w=n(36326),g=n(69017),O=n(11379),_=n.n(O),C=n(31894),E=n(64147);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=k(e);if(t){var r=k(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return N(this,n)}}function N(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j,L=(0,i.Pi)(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,n,o,i=R(a);function a(){var e;x(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return I(A(e=i.call.apply(i,[this].concat(n))),"btnClick",(function(){if(e.props.onClick)return e.props.onClick()})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.mode,n=void 0===t?"coupon":t,o=e.desc,i=void 0===o?"":o,a=e.rewardAmount,u=void 0===a?0:a,l=e.discount,s=void 0===l?0:l,p=e.label,f=void 0===p?"":p,d=e.canExchange,m=void 0!==d&&d,v=e.hasExchanged,y=void 0!==v&&v;return"coupon"===n?r.createElement("div",{className:_().couponSku},r.createElement("div",{className:_().left},r.createElement(c.PH,{textArr:[[s/100,24,18],["元",13]]}),i?r.createElement("div",{className:_().desc},i):null),r.createElement(c.un,{size:"xs",width:54,color:"red",onClick:this.btnClick},"兑换")):r.createElement("div",{className:_().weSku},f?r.createElement("div",{className:_().tips},f):null,r.createElement("div",{className:_().left},r.createElement(c.PH,{textArr:[[u/100,24,18],["元",13]]}),i?r.createElement("div",{className:_().desc},i):null),m?r.createElement(c.un,{size:"xs",width:64,color:"green",onClick:this.btnClick},r.createElement(E.Z,{src:(0,C.E$)("back_we_icon"),className:_().wechatIcon}),r.createElement("p",{className:_().btnText},"提现")):r.createElement(c.un,{size:"xs",width:64,color:"gray",onClick:this.btnClick},r.createElement("p",{className:_().btnText},y?"已兑换":"已抢光")))}}])&&T(t.prototype,n),o&&T(t,o),a}(r.Component))||o,D=L,M=n(96838),F=n(50806),B=n(31541),Z=n(72966),z=n(67202),G=(0,i.Pi)((function(e){var t,n=(0,d.AG)(),o=n.cashCenterStore,i=o.skuList,a=o.inNewbeeProcess;(0,y.sH)({6280917:{source:null!==(t=n.cashCenterStore)&&void 0!==t&&t.inNewbeeProcess?1:2}}),(0,y.b6)((function(){var e=function(){c(n.cashCenterStore.activeSku)};return z.ZP.on("onSkuExchange",e),function(){z.ZP.removeListener("onSkuExchange",e)}}));var u=(0,r.useCallback)((function(t){var o,r,i,u,c,l,s;n.globalStore.set({pointsAmount:(null==t||null===(o=t.result)||void 0===o||null===(r=o.currentBackpackList)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.amount)/100});var f=null!==(u=null==t||null===(c=t.result)||void 0===c||null===(l=c.exchangeRewardList)||void 0===l||null===(s=l[0])||void 0===s?void 0:s.isDelay)&&void 0!==u&&u;return Z.Z.showToast(f?"正在微信打款中，预计48小时内到账~":"提现成功，正在返回首页~"),(0,p.Dc)(1500).then((function(){var o,r,i;if(null==e||null===(o=e.onClose)||void 0===o||o.call(e),(0,B.$h)(null!==(r=null==t||null===(i=t.result)||void 0===i?void 0:i.compensateMission)&&void 0!==r?r:{})){var u,c,l,s,f,d,m,v,y,b=(0,p.Ct)(null!==(u=null==t||null===(c=t.result)||void 0===c||null===(l=c.exchangeRewardList)||void 0===l||null===(s=l[0])||void 0===s?void 0:s.cashAmount)&&void 0!==u?u:0);n.popupQueueStore.instantShow({key:"showWithdrawSuccessPopup",amount:b,reward:(0,p.Ct)(null!==(f=null==t||null===(d=t.result)||void 0===d||null===(m=d.compensateMission)||void 0===m||null===(v=m.rewardResult)||void 0===v||null===(y=v[0])||void 0===y?void 0:y.maxRewardAmount)&&void 0!==f?f:0)})}n.grayStore.showFreeOrderNotice&&n.freeOrderStore.showFreeOrderEntry&&n.freeOrderStore.isFreeOrderEnable&&a&&!undefined.context.freeOrderStore.isFullBack&&!localStorage.getItem("hasShowFreeOrderNotice")&&n.popupQueueStore.instantShow("showFreeOrderNotice")})),(0,F.oy)(!0)}),[]),c=(0,M.Z)(u),l=a&&!n.couponCenterStore.isEnableCouponCenter,s=(n.withdrawStore.info||{}).skuId;return r.createElement("div",{className:h().weSku},r.createElement("div",{className:h().weTitle},"提现至微信零钱"),r.createElement("div",{className:h().weItem},i.sort((function(e,t){return e.rewardAmount-t.rewardAmount})).filter((function(e){return!(0,v.Q)(e)})).map((function(e,t){return r.createElement("div",{className:h().itemWrapper,key:t},r.createElement(D,{mode:"cash",rewardAmount:null==e?void 0:e.rewardAmount,label:null==e?void 0:e.tipsText,canExchange:(null==e?void 0:e.status)===m.m.CAN_EXCHANEG,hasExchanged:(null==e?void 0:e.status)===m.m.HAS_EXCHANGE,onClick:function(){!function(e){var t,o=((null==e?void 0:e.poundage)||{}).poundageAmount,r=n.cashCenterStore.canSkuExchange(e,null===(t=n.globalStore)||void 0===t?void 0:t.pointsAmount);o&&r?(n.cashCenterStore.activeSku=e,n.popupQueueStore.parallelShow("showHandlingFeePopup")):c(e)}(e)}}),0===t&&l||s===(null==e?void 0:e.skuId)&&(null==e?void 0:e.status)===m.m.CAN_EXCHANEG?r.createElement(w.Z,{customStyle:{top:(0,g.S)(60),right:(0,g.S)(0)}}):null)}))))})),H=n(65439);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=K(e);if(t){var r=K(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return q(this,n)}}function q(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Y(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $={uc:"#F4F4F4",uh:8},ee=(0,s.TG)(j=(0,i.Pi)(j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(a,e);var t,n,o,i=X(a);function a(){var e;U(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return J(Y(e=i.call.apply(i,[this].concat(n))),"finishNewbeeProcess",(function(){return e.context.cashCenterStore.set({inNewbeeProcess:!1}),Promise.resolve()})),J(Y(e),"onClose",(function(){e.lock&&(e.lock=!1);var t=e.context.cashCenterStore.inNewbeeProcess;e.context.cashCenterStore.set({showCashPullup:!1}),t&&(0,p.Dc)(10).then((function(){e.context.globalStore.set({tempNewbieFlowDone:!0});var t,n,o,r=e.context.signInStore.todayIndex;return r?e.context.popupQueueStore.instantShow({key:"showSignInMask",rewards:null!==(t=null===(n=e.context.signInStore.signInArr)||void 0===n||null===(o=n[r])||void 0===o?void 0:o.rewards)&&void 0!==t?t:[],after:e.finishNewbeeProcess}):e.context.popupQueueStore.instantShow({key:e.context.grayStore.cashback_1217?"showComboRemindPopup":"showTomorrowPackMask",after:e.finishNewbeeProcess})}))})),J(Y(e),"showRecord",(function(){var t,n;(0,f.iH)(6280918);var o=e.context.globalStore;null===(t=e.context.cashCenterStore)||void 0===t||null===(n=t.queryUserFlow(o))||void 0===n||n.then((function(){e.onClose()}))})),J(Y(e),"handleCloseClick",(function(){e.context.grayStore.showFreeOrderNotice&&e.context.freeOrderStore.showFreeOrderEntry&&e.context.freeOrderStore.isFreeOrderEnable&&e.context.cashCenterStore.inNewbeeProcess&&!e.context.freeOrderStore.isFullBack&&!localStorage.getItem("hasShowFreeOrderNotice")&&e.context.popupQueueStore.instantShow("showFreeOrderNotice"),e.onClose()})),e}return t=a,(n=[{key:"render",value:function(){var e,t=this.context.cashCenterStore.showCashPullup,n=this.context.globalStore,o=n.pointsAmount,i=void 0===o?0:o,a=n.expiringPointsData,s=this.context.grayStore.showExpiredText,p=Number(null!==(e=null==a?void 0:a.day)&&void 0!==e?e:0)?"其中".concat(null==a?void 0:a.amount,"元, 即将在").concat(null==a?void 0:a.day,"天后过期"):"今日已过期".concat(null==a?void 0:a.amount,"元"),f=this.context.couponCenterStore,d=f.isEnableCouponCenter,m=f.isCouponCenterOpen;return r.createElement(c.Ge,{show:t,onMaskClick:this.handleCloseClick,onClose:this.handleCloseClick},r.createElement("div",{className:u().wrapper},r.createElement("div",{className:u().title},"提现"),r.createElement("div",{className:u().cashCenter},r.createElement("div",{className:u().record},r.createElement("p",{className:u().left},"我的返现"),r.createElement("div",{className:u().right,onClick:this.showRecord},"返现记录",r.createElement("div",{className:u().jiantou},r.createElement(c.Eh,{width:6,height:10,strokeColor:"#58595B"})))),r.createElement("div",{className:u().amount},r.createElement(l.Z,{textArr:[[i,28,22],["元",14]]}),a.amount&&s?r.createElement(c.DD,{text:p}):null)),d&&!m?r.createElement(H.Z,{inCashPullUp:!0,border:$}):null,r.createElement(G,{onClose:this.onClose})))}}])&&W(t.prototype,n),o&&W(t,o),a}(r.Component))||j)||j,te=ee},83585:function(e,t,n){"use strict";var o,r=n(75004),i=n(47750),a=n(56671),u=n.n(a),c=n(28064),l=n(31894),s=n(54669),p=n(64147),f=n(80373),d=n(68648);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=O(e);if(t){var r=O(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=(0,f.TG)(o=(0,i.Pi)(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,o,i=h(a);function a(){var e;v(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return _(g(e=i.call.apply(i,[this].concat(n))),"onClose",(function(){e.context.cashCenterStore.set({showCashRecordPullup:!1,showExpiredRecordPullup:!1})})),_(g(e),"renderTips",(function(t,n,o,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=i.payDelayTime,f=void 0===s?0:s,d={9:"<#25B513#兑换成功>",11:f?"<#25B513#48小时内到账>":"<#25B513#提现成功>",13:"<#9C9C9C#过期扣除>"},m=d[t]||"";return 1===t?o||a?r.createElement("div",{className:u().rightSubText},r.createElement(p.Z,{src:(0,l.p2)("record_arrow_g"),className:u().subTextArrow}),e.generateRewardText({pointAmount:n,cashBackAmount:o,couponAmount:a})):null:m?r.createElement(c.DD,{text:m}):null})),_(g(e),"generateRewardText",(function(e){var t=e.pointAmount,n=void 0===t?0:t,o=e.cashBackAmount,r=void 0===o?0:o,i=e.couponAmount,a=void 0===i?0:i,u=[];return n&&u.push("".concat((0,s.Ct)(n),"元返现")),r&&u.push("".concat((0,s.Ct)(r),"元微信打款")),a&&u.push("".concat((0,s.Ct)(a),"元现金券")),u.join("+")})),e}return t=a,(n=[{key:"render",value:function(){var e,t=this,n=this.context.cashCenterStore,o=n.showCashRecordPullup,i=n.showExpiredRecordPullup,a=n.record,f=this.context.globalStore,m=f.pointsValidateDays,v=f.expiringPointsData,y=a.reduce((function(e,t){return e+(null==t?void 0:t.amount)}),0),b=Number(null!==(e=null==v?void 0:v.day)&&void 0!==e?e:0)?"已过期回收金额: ".concat(y/100,"元"):"今日已过期回收金额: ".concat(null==v?void 0:v.amount,"元");return r.createElement(c.Ge,{show:o||i,onMaskClick:this.onClose,onClose:this.onClose},r.createElement("div",{className:u().wrapper},r.createElement("div",{className:u().title},i?b:"返现记录"),r.createElement("div",{className:u().tips},"每笔免费奖励到账后，",m,"天后将过期回收"),r.createElement("div",{className:u().record},a.map((function(e,n){var o,i=e.ts,a=e.desc,c=e.amount,f=e.source,m=e.action,v=e.detail,y=void 0===v?"":v,b=e.extra,h=void 0===b?{}:b,w=(0,s.o3)(y,{}),g=w.ftt,O=void 0===g?-1:g,_=w.crid,C=void 0===_?{}:_,E=(w.cprid||{}).dc,S=void 0===E?0:E,x=Number(null!==(o=null==C?void 0:C.a)&&void 0!==o?o:0);return r.createElement("div",{className:u().item,key:n},r.createElement("div",{className:u().recordDesc},r.createElement("p",{className:u().descWrapper},d.Ov[O]?r.createElement(p.Z,{className:u().descImg,src:(0,l.p2)(d.Ov[O])}):null,a),r.createElement("p",null,m?"-":"+",(0,s.Ct)((c+x+S)/100,1),"元")),r.createElement("div",{className:u().recordTime},r.createElement("p",null,(0,s.mr)(new Date(1e3*i))),t.renderTips(f,c,x,h,S)))}))),r.createElement("div",{className:u().timer},"仅展示最近1个月的明细")))}}])&&y(t.prototype,n),o&&y(t,o),a}(r.Component))||o)||o;t.Z=C},90841:function(e,t,n){"use strict";n.d(t,{m:function(){return H}});var o,r,i,a,u,c,l,s,p,f,d,m,v,y,b=n(58303),h=n(17717),w=n(56107),g=n(68648),O=n(33140),_=n(56258),C=n(54669),E=n(80373),S=n(87479),x=n(51139),T=n(72966),P=n(16374),R=n(59368);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function A(e,t,n,o,r,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(o,r)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){A(i,o,r,a,u,"next",e)}function u(e){A(i,o,r,a,u,"throw",e)}a(void 0)}))}}function I(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Z(e);if(t){var r=Z(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t,n,o,r){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var H,Q={40008:"两日内限提现一次, 请明日再来",40009:"两日内限提现一次, 请后天再来",40010:"两日内限提现一次",20024:"已抢光~",10018:"抱歉，您有未成团订单，请成团后再提现~"};!function(e){e[e.CAN_EXCHANEG=1]="CAN_EXCHANEG",e[e.HAS_EXCHANGE=2]="HAS_EXCHANGE",e[e.EXCHANGE_LIMIT=3]="EXCHANGE_LIMIT"}(H||(H={}));var U=(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(h,e);var t,n,o,b=M(h);function h(){var e;j(this,h);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return I(B(e=b.call.apply(b,[this].concat(n))),"showCashPullup",r,B(e)),I(B(e),"showCashRecordPullup",i,B(e)),I(B(e),"showExpiredRecordPullup",a,B(e)),I(B(e),"skuList",u,B(e)),I(B(e),"record",c,B(e)),I(B(e),"nextExchangeTime",l,B(e)),I(B(e),"inNewbeeProcess",s,B(e)),I(B(e),"refundCoolingTime",p,B(e)),z(B(e),"activeSku",null),I(B(e),"queryAndeShowCashCenter",f,B(e)),I(B(e),"canSkuExchange",d,B(e)),I(B(e),"onSkuClick",m,B(e)),I(B(e),"directShowWithdrawPopup",v,B(e)),I(B(e),"queryUserFlow",y,B(e)),e}return t=h,(n=[{key:"newbieSku",get:function(){return this.skuList.find((function(e){var t;return null==e||null===(t=e.frontExtra)||void 0===t?void 0:t.newbieBaseSku}))}}])&&L(t.prototype,n),o&&L(t,o),h}(_.Z),r=G(o.prototype,"showCashPullup",[R.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=G(o.prototype,"showCashRecordPullup",[R.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=G(o.prototype,"showExpiredRecordPullup",[R.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=G(o.prototype,"skuList",[R.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=G(o.prototype,"record",[R.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=G(o.prototype,"nextExchangeTime",[R.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=G(o.prototype,"inNewbeeProcess",[R.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=G(o.prototype,"refundCoolingTime",[R.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=G(o.prototype,"queryAndeShowCashCenter",[R.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,S.N)().fun_id,n={sceneIdList:[1],funId:void 0===t?"":t};return(0,w.M)(n).then((function(t){var n,o,r,i,a,u,c=null!==(n=null==t||null===(o=t.result)||void 0===o?void 0:o.nextExchangeTime)&&void 0!==n?n:0,l=null!==(r=null==t||null===(i=t.result)||void 0===i?void 0:i.skuList)&&void 0!==r?r:[];e.set({nextExchangeTime:c,skuList:l,refundCoolingTime:null!==(a=null==t||null===(u=t.result)||void 0===u?void 0:u.refundCoolingTime)&&void 0!==a?a:0})})).catch((function(){T.Z.showToast("网络异常，请稍后重试~")}))}}}),d=G(o.prototype,"canSkuExchange",[R.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var o,r,i,a,u,c,l=(null!==(o=null==t||null===(r=t.resourceList)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.amount)&&void 0!==o?o:0)/100;if((0,x.iH)(6280919,{sku_x:l}),(null==t?void 0:t.status)!==H.CAN_EXCHANEG)return T.Z.showToast("已抢光~"),!1;if(n<(null!==(a=null==t||null===(u=t.resourceList)||void 0===u||null===(c=u[0])||void 0===c?void 0:c.amount)&&void 0!==a?a:0)/100)return T.Z.showToast("返现金额不足，快去累计吧~"),!1;var s=1e3*e.nextExchangeTime-(0,P.TE)();return!(s>0)||(T.Z.showToast(s>864e5?Q[40009]:Q[40008]),!1)}}}),m=G(o.prototype,"onSkuClick",[R.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,E.Eq)(function(){var t=k(regeneratorRuntime.mark((function t(n){var o,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.exchangeType,r=n.subType,i={exchangeType:o,subType:r,sceneId:g.UU.CASH},t.abrupt("return",(0,w.H)(i).then((function(t){var n,o,r=null!==(n=null==t||null===(o=t.result)||void 0===o?void 0:o.skuList)&&void 0!==n?n:[];return e.set({skuList:r}),t})).catch((function(t){(0,h.R)(O.E.CASHBACK_WITHDRAWAL_ERROR,{err:t});var n=t.errorCode;return 10021===n?e.refundCoolingTime&&T.Z.showToast("资源准备中，请".concat((e.refundCoolingTime/60).toFixed(),"分钟后重试~")):T.Z.showToast(Q[n]||"网络异常，请稍后重试~"),Promise.reject()})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}),v=G(o.prototype,"directShowWithdrawPopup",[R.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n,o=t.jumpPullup,r=t.globalStore,i=t.popupQueueStore;return null==e||null===(n=e.queryAndeShowCashCenter)||void 0===n?void 0:n.call(e).then((function(){var t,n;(e.set({showCashPullup:!(o&&e.inNewbeeProcess)}),o&&null!=e&&e.inNewbeeProcess&&e.canSkuExchange(e.newbieSku,null==r?void 0:r.pointsAmount))&&(null==e||null===(t=e.onSkuClick)||void 0===t||null===(n=t.call(e,e.newbieSku))||void 0===n||n.then((function(e){var t,n,o,a,u,c,l,s,p,f,d,m,v;r.set({pointsAmount:null!==(t=(null==e||null===(n=e.result)||void 0===n||null===(o=n.currentBackpackList)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.amount)/100)&&void 0!==t?t:r.pointsAmount});var y=(0,C.Ct)(null!==(u=null==e||null===(c=e.result)||void 0===c||null===(l=c.exchangeRewardList)||void 0===l||null===(s=l[0])||void 0===s?void 0:s.cashAmount)&&void 0!==u?u:0);i.instantShow({key:"showWithdrawSuccessPopup",amount:y,reward:(0,C.Ct)(null!==(p=null==e||null===(f=e.result)||void 0===f||null===(d=f.compensateMission)||void 0===d||null===(m=d.rewardResult)||void 0===m||null===(v=m[0])||void 0===v?void 0:v.maxRewardAmount)&&void 0!==p?p:0),isDirectpopup:!0})})).catch((function(){null==e||e.set({showCashPullup:!0})})))}))}}}),y=G(o.prototype,"queryUserFlow",[R.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,E.Eq)(function(){var t=k(regeneratorRuntime.mark((function t(n){var o,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.length>1&&void 0!==r[1]?r[1]:0,t.abrupt("return",(0,b.hj)().then((function(t){var r,i,a,u,c,l=null!==(r=null==t||null===(i=t.result)||void 0===i?void 0:i.flows)&&void 0!==r?r:[];o&&(l=l.filter((function(e){return(null==e?void 0:e.source)===o}))),e.set({record:l,showCashRecordPullup:!0});var s=null!==(a=null==t||null===(u=t.result)||void 0===u||null===(c=u.user)||void 0===c?void 0:c.pointsValidateDays)&&void 0!==a?a:0;return s&&n.set({pointsValidateDays:s}),t})).catch((function(){})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}),o);t.Z=U},40386:function(e,t,n){"use strict";n.d(t,{Z:function(){return Fe}});var o,r=n(75004),i=n(47750),a=n(1684),u=n.n(a),c=n(73464),l=n.n(c),s=n(31894),p=n(897),f=n.n(p),d=n(64147),m=n(57016),v=n(29394);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=C(e);if(t){var r=C(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S,x=(0,i.Pi)(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,e);var t,n,o,i=g(a);function a(){var e;b(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return E(_(e=i.call.apply(i,[this].concat(n))),"renderDesc",(function(){var t,n=e.props,o=n.descText,i=void 0===o?"":o,a=n.showDescTag,u=void 0!==a&&a,c=n.showCardMask,p=n.tagBreath;return u?r.createElement("div",{className:f()(l().descTag,(t={},E(t,l().tagInMask,c),E(t,l().tagBreath,p),t))},r.createElement(d.Z,{src:(0,s.p2)("combo_card_arrow"),className:l().arrow}),i):r.createElement("div",{className:l().desc},i)})),E(_(e),"renderRotateCard",(function(t,n,o,i){var a=e.props,u=a.title,c=void 0===u?"":u,p=a.showCardRotate,m=void 0!==p&&p,v=a.showTomorrowCardAni,y=void 0!==v&&v,b=a.cardFlyInfo,h=void 0===b?{}:b,w=a.item,g=a.opened,O=a.showCardMask,_=a.type,C=void 0===_?"red":_,S=w.rewardAmount,x=void 0===S?0:S,T=h.moveX,P=void 0===T?0:T,R=h.moveY,N=void 0===R?0:R;return r.createElement(r.Fragment,null,r.createElement("div",{className:l().cardBack},r.createElement(d.Z,{src:(0,s.p2)(i),className:f()(l().cardBackImg,E({},l().cardAni,y))}),m?r.createElement(r.Fragment,null,r.createElement("div",{className:f()("big"===t?l().amount:l().amount2,l().amountFadeInOut),id:"combo-fly-card",style:{color:n,opacity:0,transform:"translate3d(".concat(P,"px, ").concat(N,"px, 0px)"),transition:"transform 1s"}},x/100,"元"),r.createElement("div",{className:"big"===t?l().amount:l().amount2,style:{color:n}},c)):null,"golden"===C?r.createElement("div",{className:l().cardTips},"微信打款"):null),r.createElement("div",{className:f()(l().cardFont,E({},l().contentLight,O))},r.createElement(d.Z,{src:(0,s.p2)(o),className:l().cardFontImg}),g||"golden"!==C?null:r.createElement("div",{className:f()(l().cardTips)},"微信打款")))})),e}return t=a,(n=[{key:"render",value:function(){var e,t,n=this.props,o=n.size,i=void 0===o?"big":o,a=n.opened,u=void 0!==a&&a,c=n.title,p=void 0===c?"":c,y=n.type,b=void 0===y?"red":y,h=n.canGain,w=void 0!==h&&h,g=n.showTomorrowCardAni,O=void 0!==g&&g,_=n.extraReward,C=n.showCardTips,S=n.item,x=n.showCardRotate,T=void 0!==x&&x,P=n.showCardMask,R=S.rewardAmount,N=void 0===R?0:R,A=S.extraRewardAmount,k=void 0===A?0:A,I=("red"===b?"combo3_small_red_":"combo3_small_golden_")+(u?"open":"unopen"),j=("red"===b?"combo3_big_red_":"combo3_big_golden_")+(u?"open":"unopen"),L=u?"#E02E24":"red"===b?"#FFEAC1":"#A36E0A",D="red"===b?"combo3_big_red_open":"combo3_big_golden_open",M="red"===b?"combo3_small_red_open":"combo3_small_golden_open";return"big"===i?r.createElement("div",{className:f()(l().bigCard)},r.createElement("div",{className:l().contentBig},r.createElement(v.Z,{showMask:P,className:l().rotateCard},r.createElement("div",{className:f()(l().rotateCard,E({},l().rotateAni,T))},this.renderRotateCard(i,L,j,D),r.createElement("div",{className:f()(l().amount,(e={},E(e,l().openAmount,u),E(e,l().titleAni,O),e))},p),u?null:r.createElement(d.Z,{src:(0,s.p2)(_?"combo2_card_gain_extra":"combo2_card_gain_red"),className:f()(l().cardExtraTips,(t={},E(t,l().redGain,!_),E(t,l().gainAni,w),t))}))),C?r.createElement("div",{className:l().cardTopTips},r.createElement(d.Z,{src:(0,s.p2)("combo_tips_arrow"),className:l().tipsArrow}),r.createElement(m.Z,{text:"".concat(N/100,"元返现").concat(k?"+<{cash%15%}>".concat(k/100,"元"):"")})):null),this.renderDesc()):r.createElement("div",{className:f()(l().card)},r.createElement("div",{className:l().content},r.createElement("div",{className:f()(l().rotateCard,E({},l().rotateAni,T))},this.renderRotateCard(i,L,I,M),r.createElement("div",{className:l().amount2,style:{color:L}},p)),u||T?null:r.createElement(d.Z,{src:(0,s.p2)("combo2_card_gain"),className:f()(l().cardGain,E({},l().gainAni,w))})),this.renderDesc())}}])&&h(t.prototype,n),o&&h(t,o),a}(r.Component))||o,T=x,P=n(68648),R=n(31541),N=n(72966),A=n(54669),k=n(20064),I=n(51139),j=n(50806),L=n(94767),D=n(80373),M=n(69017),F=n(42856),B=n(15566),Z=n(73136),z=n(87256);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},H.apply(this,arguments)}function Q(e,t,n,o,r,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(o,r)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){Q(i,o,r,a,u,"next",e)}function u(e){Q(i,o,r,a,u,"throw",e)}a(void 0)}))}}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Y(e,t){return Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Y(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ee(e);if(t){var r=ee(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return J(this,n)}}function J(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne,oe={top:(0,M.S)(-100),right:(0,M.S)(0)},re=(0,D.TG)(S=(0,i.Pi)(S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(c,e);var t,n,o,i,a=K(c);function c(){var e;X(this,c);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return te($(e=a.call.apply(a,[this].concat(n))),"state",{showCardFingerGuide:!1,showCardRotatedText:!1,cardFlyInfo:{},showCardTips:!1}),te($(e),"getItemInfo",(function(t,n){var o=e.context.comboLoginStore,r=o.comboLoginRewardArr,i=o.comboLoginType,a=o.showTomorrowPopupAni,u=o.showCardRotateAni,c=t.rewardType,l=t.extraRewardType,s=e.context.comboLoginStore.getMissioninfo(i),p=s.finishCount,f=(0,R.wv)(s)?p+1:p,d=n===r.length-1,m=l?"golden":c===P.Mr.POINTS?"red":"golden",v=r.length>3?"normal":"big",y=n+1<f||n+1===f&&!(0,R.wv)(s),b=n+1===f&&(0,R.wv)(s),h=(0,R.wv)(s)?n===p+1:n===p,w=(0,R.wv)(s)?n===p:n===p-1,g=h&&"big"===v&&a,O=u&&w,_=e.renderCardTitle({opened:y,item:t,isLastDay:d,mission:s,idx:n,size:v}),C=b||n===f&&!(0,R.wv)(s);return{item:t,type:m,size:v,opened:y,title:_,showDescTag:C,descText:C?(0,R.wv)(s)?"当前可领":l?"明日微信打款":"明日可领":"第".concat(n+1,"天"),canGain:b,showTomorrowCardAni:g,extraReward:l,isNextDay:h,isLastDay:d,isToday:w,showCardRotate:O,mission:s}})),te($(e),"renderCardTitle",(function(t){var n,o,i,a,c,l,s,p,d=e.context.comboLoginStore.isThreeType,m=t.opened,v=t.item,y=t.isLastDay,b=t.mission,h=t.idx,w=t.size,g=(null!==(n=null==b||null===(o=b.extMap)||void 0===o?void 0:o.groupMaxReward)&&void 0!==n?n:0)/100,O=(null!==(i=null==b||null===(a=b.extMap)||void 0===a||null===(c=a.secondCashCard)||void 0===c?void 0:c.displayMin)&&void 0!==i?i:0)/100,_=(null!==(l=null==b||null===(s=b.extMap)||void 0===s||null===(p=s.secondCashCard)||void 0===p?void 0:p.displayMax)&&void 0!==l?l:0)/100,C=v.rewardAmount,E=v.rewardType,S=v.extraRewardType,x=v.extraRewardAmount,T=void 0===x?0:x,R="normal"===w;return S&&!m?r.createElement("span",{className:u().extraReward},"可得",O,"-",_,"元"):m?r.createElement("span",{className:f()(u().strong,te({},u().rewardAmount,R))},(C+T)/100,r.createElement("span",{className:f()(te({},u().unit,R))},"元")):y&&g?r.createElement("span",null,"最高",r.createElement("span",{className:u().strong},g,"元")):E===P.Mr.POINTS?d&&0===h?r.createElement("span",null,"高额返现"):r.createElement("span",null,"最高",r.createElement("span",{className:u().strong},"5元")):r.createElement("span",null,"随机金额")})),te($(e),"onItemClick",(function(t){var n,o;(0,I.iH)(5650202);var r=t.canGain,i=t.item,a=t.isLastDay,u=t.isNextDay,c=t.idx,l=e.context.comboLoginStore.comboLoginType,s=e.context.popupQueueStore.showTomorrowPackMask;s&&e.context.popupQueueStore.close("showTomorrowPackMask");var p=(e.context.globalStore||{}).isUserDay1;if((0,I.iH)(6265459,{isnew:p?1:0,packet_id:c+1,source:s?2:1}),!r)return u&&l===k.h.COMBO_LOGIN_THREE?(e.context.comboLoginStore.set({nextDayRewardInfo:V(V({},i),{},{idx:c})}),e.context.popupQueueStore.instantShow("showComboRemindPopup")):N.Z.showToast("明日来可免费领返现~");if(!e.day1AutoGain){!a||(0,F.Q)(e.orderMission)||null!==(n=null===(o=e.orderMission)||void 0===o?void 0:o.finishCount)&&void 0!==n&&n||(i.needOrderGuide=!0),e.context.comboLoginStore.set({rewardInfo:i});var f=e.context.grayStore.disableCombo5&&l===k.h.COMBO_LOGIN_THREE&&a,d=l===k.h.COMBO_LOGIN_FIVE&&a,m=e.context.lotteryStore,v=m.lotteryChance,y=m.recordReward;return e.context.grayStore.stressComboNextReward&&!d&&!f||v?e.context.comboLoginStore.onHandleStressComboNextReward({globalStore:e.context.globalStore,popupQueueStore:e.context.popupQueueStore,hasLottery:v,recordReward:y}):e.context.popupQueueStore.instantShow("showComboLoginRewardPopup")}})),te($(e),"completeCardMission",(0,D.Eq)(U(regeneratorRuntime.mark((function t(){var n,o,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>0&&void 0!==r[0]&&r[0],o=e.context.comboLoginStore.comboLoginType,t.abrupt("return",(0,j.o2)(o).then(function(){var t=U(regeneratorRuntime.mark((function t(o){var r,i,a,u,c,l,s,p,f,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==o||null===(r=o.result)||void 0===r?void 0:r.success,!(0,A.jn)(s)||s){t.next=3;break}return t.abrupt("return",Promise.reject());case 3:p=null!==(i=null==o||null===(a=o.result)||void 0===a?void 0:a.mission)&&void 0!==i?i:{},f=null!==(u=null==o||null===(c=o.result)||void 0===c||null===(l=c.rewardResult)||void 0===l?void 0:l[0])&&void 0!==u?u:{},e.context.comboLoginStore.updateInfo(p),e.context.comboLoginStore.set({rewardInfo:f}),e.context.comboLoginStore.updateMission(p),f.rewardType===P.Mr.POINTS?e.context.globalStore.setPoint((null==o||null===(d=o.result)||void 0===d?void 0:d.pointsAmount)/100,f.amount/100):N.Z.showToast("打款即将到账~"),!n&&e.context.popupQueueStore.instantShow("showComboLoginRewardPopup");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){L.Z.over(),N.Z.showToast("网络异常，请稍后重试~")})));case 3:case"end":return t.stop()}}),t)}))))),te($(e),"onFakeClick",(function(){N.Z.showToast("今日已领取，明日再来领吧")})),te($(e),"renderFakeList",(function(){var t,n=e.context.comboLoginStore,o=n.comboLoginRewardArr,i=void 0===o?[]:o,a=n.showCardTagBreath;return[null!==(t=null==i?void 0:i[4])&&void 0!==t?t:{},{rewardType:P.Mr.POINTS},{rewardType:P.Mr.POINTS},{rewardType:e.context.grayStore.removeCash_246004?P.Mr.POINTS:P.Mr.CASH},{rewardType:P.Mr.POINTS}].map((function(t,n){var o=t||{},i=o.rewardAmount,c=void 0===i?0:i,l=o.extraRewardAmount,s=void 0===l?0:l;return r.createElement("div",{key:n,onClick:e.onFakeClick,className:u().cardItem,id:"combo_card_fake_".concat(n)},r.createElement(T,{type:t.rewardType===P.Mr.POINTS?"red":"golden",size:"normal",opened:0===n,title:t.rewardType!==P.Mr.POINTS?0===n?r.createElement("span",{className:u().strong},(0,A.Ct)(c+s),"元"):"随机金额":0===n?"".concat((0,A.Ct)(c),"元"):"领返现",showDescTag:1===n,descText:1===n?"明日可领":0===n?"今日":"第".concat(n,"天"),canGain:!1,item:t,tagBreath:1===n&&a}))}))})),e}return t=c,n=[{key:"day1AutoGain",get:function(){var e=this.context.comboLoginStore,t=e.comboLoginType,n=e.isThreeType,o=this.context.comboLoginStore.getMissioninfo(t),r=o.finishCount,i=void 0===r?0:r,a=(0,R.wv)(o)&&0===i;return!this.context.newbieGuideStore.isSingleNewbieReward&&a&&n}},{key:"componentDidMount",value:(i=U(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,I.oy)(5650202),t=this.context.popupQueueStore.showTomorrowPackMask,(0,I.oy)(6265459,{source:t?2:1}),!this.day1AutoGain){e.next=7;break}return e.next=6,z.NE;case 6:this.context.comboLoginStore.isRewardUnAutoGain&&this.completeCardMission(!0);case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"orderMission",get:function(){var e=this.context.comboLoginStore.comboLoginType;return this.context.comboLoginStore.getMissioninfo(e===k.h.COMBO_LOGIN_THREE?k.h.COMBO_LOGIN_POINT_ORDER:k.h.COMBO_LOGIN_CASH_ORDER)}},{key:"render",value:function(){var e,t,n=this,o=this.context.comboLoginStore,i=o.comboLoginRewardArr,a=void 0===i?[]:i,c=o.comboLoginType,l=o.showCardAni,s=o.showCardTagBreath,p=this.context.comboLoginStore.getMissioninfo(c),d=(null!==(e=null==p||null===(t=p.extMap)||void 0===t?void 0:t.groupMaxReward)&&void 0!==e?e:0)/100,m=(this.state.showCardFingerGuide,this.context.popupQueueStore.showTomorrowPackMask),v=c===k.h.COMBO_LOGIN_FIVE&&(null==p?void 0:p.finishCount)===(null==p?void 0:p.maxCount)&&this.context.grayStore.stressComboNextReward;return r.createElement("div",{className:u().center},r.createElement("div",{className:u().title},r.createElement("span",{className:u().titlePre},"每日领返现"),r.createElement("span",{className:u().subTitle},"最高可得",r.createElement("span",{className:u().titleAmount},d,"元"))),r.createElement("div",{className:f()(u().cardWrapper,te({},u().cardAni,l))},v?this.renderFakeList():a.map((function(e,t){var o,i,a,c=n.getItemInfo(e,t),l="246003_CASH"===(null==c||null===(o=c.mission)||void 0===o?void 0:o.userLabel),p=null!==(i=null==c||null===(a=c.mission)||void 0===a?void 0:a.finishCount)&&void 0!==i?i:1,f=n.state,d=f.cardFlyInfo,v=void 0===d?{}:d,y=f.showCardTips,b=m&&t===p;return r.createElement("div",{key:t,onClick:function(){n.onItemClick(V(V({},c),{},{item:e,idx:t}))},className:u().cardItem,id:"combo_card".concat(t)},r.createElement(T,H({},c,{tagBreath:c.isNextDay&&s,cardFlyInfo:v,showCardMask:b,showCardTips:y&&(null==c?void 0:c.isToday)&&l})),r.createElement("div",{className:u().fingerGuide},(null==c?void 0:c.isToday)&&r.createElement(B.Z,{scene:Z.f.COMBO_LOGIN,customStyle:oe})))}))))}}],n&&q(t.prototype,n),o&&q(t,o),c}(r.Component))||S)||S,ie=re,ae=n(28064),ue=n(5984),ce=n.n(ue),le=n(67996),se=n(89053),pe=n(35287),fe=n(15001),de=n(72377);function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function be(e,t){return be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},be(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Oe(e);if(t){var r=Oe(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return we(this,n)}}function we(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ge(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce,Ee=(0,D.Z5)(ne=(0,D.TG)(ne=(0,i.Pi)(ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(ComboLoginRewardPopup_BIMD,e);var t,n,o,i=he(ComboLoginRewardPopup_BIMD);function ComboLoginRewardPopup_BIMD(){var e;ve(this,ComboLoginRewardPopup_BIMD);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return _e(ge(e=i.call.apply(i,[this].concat(n))),"onClose",(function(){e.context.popupQueueStore.close("showComboLoginRewardPopup")})),_e(ge(e),"onClick",(function(){var t=e.context.comboLoginStore,n=t.rewardInfo,o=t.comboLoginType;return(0,I.iH)(5650205),n.needOrderGuide?(e.onClose(),o===k.h.COMBO_LOGIN_THREE?(0,fe.HE)(e.afterReturn):(0,fe.YD)(e.afterReturn)):e.onQuitClick()})),_e(ge(e),"afterReturn",(function(){(0,j.oy)().then((function(){var t=e.context.globalStore.popups;(void 0===t?[]:t).find((function(e){return(null==e?void 0:e.id)===de.$Z.COMBO_LOGIN_ORDER}))&&(e.context.grayStore.stressComboNextReward?e.context.comboLoginStore.onHandleStressComboNextReward({globalStore:e.context.globalStore,popupQueueStore:e.context.popupQueueStore}):e.context.popupQueueStore.instantShow("showComboLoginOrderPopup"))}))})),_e(ge(e),"onQuitClick",(function(){var t=e.context.comboLoginStore.comboLoginType;if(!e.lock){var n,o,r=e.context.comboLoginStore.getMissioninfo(t),i=r.finishCount,a=void 0===i?0:i,u=r.maxCount,c=(void 0===u?0:u)===a+1,l=e.context.grayStore.disableCombo5&&t===k.h.COMBO_LOGIN_THREE&&c;return e.lock=!0,e.context.grayStore.stressComboNextReward&&!l?null===(n=e.context.comboLoginStore.onHandleStressComboNextReward({globalStore:e.context.globalStore,popupQueueStore:e.context.popupQueueStore}))||void 0===n||null===(o=n.finally)||void 0===o?void 0:o.call(n,(function(){e.onClose(),e.lock=!1})):(0,j.o2)(t).then((function(t){var n,o,r,i,a,u,c,l,s,p=null==t||null===(n=t.result)||void 0===n?void 0:n.success;if((0,A.jn)(p)&&!p)return Promise.reject();var f,d,m=null!==(o=null==t||null===(r=t.result)||void 0===r?void 0:r.mission)&&void 0!==o?o:{},v=null!==(i=null==t||null===(a=t.result)||void 0===a||null===(u=a.extra)||void 0===u?void 0:u[k.h.COMBO_LOGIN_FIVE])&&void 0!==i?i:{},y=null!==(c=null==t||null===(l=t.result)||void 0===l||null===(s=l.rewardResult)||void 0===s?void 0:s[0])&&void 0!==c?c:{};(e.context.comboLoginStore.updateMission(m),y.rewardType===P.Mr.COUPON&&N.Z.showToast("很抱歉，打款失败，已为您发放等额优惠券"),y.rewardType===P.Mr.POINTS)?e.context.globalStore.setPoint((null==t||null===(f=t.result)||void 0===f?void 0:f.pointsAmount)/100,y.amount/100):e.context.globalStore.setPoint((null==t||null===(d=t.result)||void 0===d?void 0:d.pointsAmount)/100);e.onClose(),(0,F.Q)(v)||(0,A.Dc)(2500).then((function(){N.Z.showToast("本轮奖励已领完, 明天可继续领返现"),e.context.comboLoginStore.updateMission(v),e.context.comboLoginStore.set({showCardAni:!0}),e.context.comboLoginStore.updateInfo(v)}))})).catch((function(){e.onClose(),N.Z.showToast("网络异常，请稍后重试~")})).finally((function(){e.lock=!1}))}})),_e(ge(e),"renderHint",(function(){var t=e.textInfo.hint;return r.createElement("div",{className:ce().hint},r.createElement(le.Z,{text:"恭喜你, 获得"}),r.createElement(le.Z,{start:"#FFEBA6",end:"#FFD200",text:t}))})),e}return t=ComboLoginRewardPopup_BIMD,(n=[{key:"textInfo",get:function(){var e,t,n=this.context.comboLoginStore.comboLoginType,o=this.context.comboLoginStore.getMissioninfo(n),r=(null!==(e=null==o||null===(t=o.extMap)||void 0===t?void 0:t.groupMaxReward)&&void 0!==e?e:0)/100,i=this.context.comboLoginStore.rewardInfo,a=i.rewardType===P.Mr.POINTS,u=i.rewardType===P.Mr.POINTS_CASH;return{hint:a?"今日返现奖励":"今日微信打款",title:a?"已获得今日返现":"已获得今日<{cash%15%}>微信打款",tips:a?"可提现至<{cash%15%}>微信零钱":u?"打款将消耗对应返现余额":"本次打款不消耗返现余额",quitText:i.needOrderGuide?a?"不拼单，仅领取".concat(i.rewardAmount/100,"元"):"放弃，仅得".concat(i.rewardAmount/100,"元打款"):"",rewardAmount:i.needOrderGuide?r:i.rewardAmount/100}}},{key:"btnText",get:function(){var e,t,n=this.context.comboLoginStore.comboLoginType,o=this.context.comboLoginStore.getMissioninfo(n),r=(null!==(e=null==o||null===(t=o.extMap)||void 0===t?void 0:t.groupMaxReward)&&void 0!==e?e:0)/100,i=this.context.comboLoginStore.rewardInfo,a=i.rewardType===P.Mr.POINTS;return i.needOrderGuide?"拼单立得最高<#FFEAC1#".concat(r,a?"元>":"元>打款"):a?"开心收下":"立即提现"}},{key:"componentDidMount",value:function(){(0,I.oy)(5650205)}},{key:"render",value:function(){var e=this.textInfo,t=e.title,n=e.tips,o=e.quitText,i=e.rewardAmount,a=this.context.comboLoginStore.rewardInfo;return r.createElement(ae.wI,{bgLight:"highLight",showBannerLight:!0,hint:this.renderHint(),showStar:!0,onClose:this.onClose,closeIconStyle:{top:(0,M.S)(-174)},bottomDesc:"任务中断, 则任务清零"},r.createElement("div",{className:ce().content},r.createElement("div",{className:ce().title},r.createElement(ae.DD,{weight:!0,text:t})),r.createElement(pe.Z,{color:"#D13922",textArr:[[i||0,64,48],["元","31"]],bottom:n?0:28},a.needOrderGuide?r.createElement(d.Z,{className:ce().amountTips,src:(0,s.p2)("max_tips")}):null),n?r.createElement(se.Z,{top:20,bottom:21,text:n}):null,r.createElement(ae.un,{text:this.btnText,bottom:28,size:"md",color:"red",width:252,onClick:this.onClick,showFinger:!0}),o?r.createElement("div",{className:ce().desc,onClick:this.onQuitClick},o):null))}}])&&ye(t.prototype,n),o&&ye(t,o),ComboLoginRewardPopup_BIMD}(r.Component))||ne)||ne)||ne,Se=Ee,xe=n(85136),Te=n.n(xe);function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ae(e,t){return Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ae(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Le(e);if(t){var r=Le(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ie(this,n)}}function Ie(e,t){if(t&&("object"===Pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return je(e)}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=(0,D.Z5)(Ce=(0,D.TG)(Ce=(0,i.Pi)(Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(ComboLoginOrderPopup_BIMD,e);var t,n,o,i=ke(ComboLoginOrderPopup_BIMD);function ComboLoginOrderPopup_BIMD(){var e;Re(this,ComboLoginOrderPopup_BIMD);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return De(je(e=i.call.apply(i,[this].concat(n))),"onClose",(function(){e.context.popupQueueStore.close("showComboLoginOrderPopup")})),De(je(e),"onClick",(function(){var t=e.context.comboLoginStore.comboLoginType;if(!e.lock)return e.lock=!0,(0,j.o2)(t).then((function(t){var n,o,r,i,a,u,c,l=null==t||null===(n=t.result)||void 0===n?void 0:n.success;if((0,A.jn)(l)&&!l)return Promise.reject();var s=null!==(o=null==t||null===(r=t.result)||void 0===r?void 0:r.mission)&&void 0!==o?o:{},p=null!==(i=null==t||null===(a=t.result)||void 0===a||null===(u=a.extra)||void 0===u?void 0:u[k.h.COMBO_LOGIN_FIVE])&&void 0!==i?i:{};e.context.comboLoginStore.updateMission(s),e.context.globalStore.setPoint((null==t||null===(c=t.result)||void 0===c?void 0:c.pointsAmount)/100),e.onClose(),N.Z.showToast("本轮奖励已领完, 明天可继续领返现"),(0,F.Q)(p)||(0,A.Dc)(1e3).then((function(){e.context.comboLoginStore.updateMission(p),e.context.comboLoginStore.set({showCardAni:!0}),e.context.comboLoginStore.updateInfo(p)}))})).catch((function(){e.onClose(),N.Z.showToast("网络异常，请稍后重试~")})).finally((function(){e.lock=!1}))})),De(je(e),"renderHint",(function(){return r.createElement("div",{className:Te().hint},r.createElement(le.Z,{text:"恭喜你，"}),r.createElement(le.Z,{start:"#FFEBA6",end:"#FFD200",text:"拼单成功"}))})),e}return t=ComboLoginOrderPopup_BIMD,(n=[{key:"rewardInfo",get:function(){var e,t=this.context.globalStore.popups,n=(null===(e=(void 0===t?[]:t).find((function(e){return(null==e?void 0:e.id)===de.$Z.COMBO_LOGIN_ORDER})))||void 0===e?void 0:e.placeHolder)||"";return{rewardAmount:(n.split(":")[1]||0)/100,rewardType:Number(n.split(":")[0]||1)}}},{key:"textInfo",get:function(){var e=this.rewardInfo,t=e.rewardType,n=e.rewardAmount,o=t===P.Mr.POINTS;return{title:o?"已获得<#E02E24#".concat(n,"元>返现"):"已获得今日<{cash%15%}>微信打款",tips:o?"可提现至<{cash%15%}>微信零钱":"打款将消耗对应返现余额",btnText:o?"开心收下":"立即提现至微信"}}},{key:"render",value:function(){var e=this.textInfo,t=e.title,n=e.tips,o=e.btnText,i=this.rewardInfo.rewardAmount;return r.createElement(ae.wI,{bgLight:"highLight",showBannerLight:!0,hint:this.renderHint(),showStar:!0,onClose:this.onClick,closeIconStyle:{top:(0,M.S)(-174)}},r.createElement("div",{className:Te().content},r.createElement("div",{className:Te().title},r.createElement(ae.DD,{weight:!0,text:t})),r.createElement(pe.Z,{color:"#D13922",textArr:[[i||0,64,48],["元","31"]]}),r.createElement(se.Z,{top:20,bottom:26,text:n}),r.createElement(ae.un,{text:o,bottom:28,size:"md",color:"red",width:252,onClick:this.onClick,showFinger:!0})))}}])&&Ne(t.prototype,n),o&&Ne(t,o),ComboLoginOrderPopup_BIMD}(r.Component))||Ce)||Ce)||Ce,Fe={panel:ie,popups:{ComboLoginReward:Se,ComboLoginOrder:Me}}},9403:function(e,t,n){"use strict";var o,r,i,a,u,c,l,s,p,f,d,m,v,y,b=n(20064),h=n(72377),w=n(56258),g=n(54669),O=n(42856),_=n(50806),C=n(80373),E=n(59368),S=n(72966),x=n(68648);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function P(e,t,n,o,r,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(o,r)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){P(i,o,r,a,u,"next",e)}function u(e){P(i,o,r,a,u,"throw",e)}a(void 0)}))}}function N(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=M(e);if(t){var r=M(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t,n,o,r){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Z=(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(_,e);var t,n,o,w=j(_);function _(){var e;A(this,_);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return N(D(e=w.call.apply(w,[this].concat(n))),"comboLoginRewardArr",r,D(e)),N(D(e),"comboLoginType",i,D(e)),N(D(e),"rewardInfo",a,D(e)),N(D(e),"nextDayRewardInfo",u,D(e)),N(D(e),"restartLossAmount",c,D(e)),N(D(e),"showCardAni",l,D(e)),N(D(e),"showTomorrowPopupAni",s,D(e)),N(D(e),"showCardRotateAni",p,D(e)),N(D(e),"forceShowFakeList",f,D(e)),N(D(e),"showCardTagBreath",d,D(e)),F(D(e),"playCardBreath",(function(){e.showCardTagBreath=!0,setTimeout((function(){e.showCardTagBreath=!1}),3e3)})),F(D(e),"getComboLoginRewardArr",(function(e){var t;return(0,O.Q)(e)?[]:null!==(t=Object.values(null==e?void 0:e.rewardConfigMap).map((function(e){var t,n,o,r,i,a,u,c,l=null!==(t=null==e||null===(n=e[0])||void 0===n?void 0:n.maxRewardAmount)&&void 0!==t?t:0,s=null!==(o=null==e||null===(r=e[0])||void 0===r?void 0:r.rewardType)&&void 0!==o?o:0;return e.length>1?{rewardAmount:l,rewardType:s,extraRewardAmount:null!==(i=null==e||null===(a=e[1])||void 0===a?void 0:a.maxRewardAmount)&&void 0!==i?i:0,extraRewardType:null!==(u=null==e||null===(c=e[1])||void 0===c?void 0:c.rewardType)&&void 0!==u?u:0}:{rewardAmount:l,rewardType:s}})).slice(0,-1))&&void 0!==t?t:[]})),N(D(e),"showNextDayCardAni",m,D(e)),N(D(e),"completeCardMission",v,D(e)),N(D(e),"onHandleStressComboNextReward",y,D(e)),e}return t=_,(n=[{key:"init",value:function(e){var t,n,o=this,r=null!==(t=null==e?void 0:e.missionMap)&&void 0!==t?t:{},i=[b.h.COMBO_LOGIN_THREE,b.h.COMBO_LOGIN_FIVE,b.h.COMBO_LOGIN_POINT_ORDER,b.h.COMBO_LOGIN_CASH_ORDER];this.set({missionMap:(0,g.ei)(r,i)});var a=null!==(n=null==e?void 0:e.popups)&&void 0!==n?n:[],u=null!=r&&r[b.h.COMBO_LOGIN_FIVE]?b.h.COMBO_LOGIN_FIVE:null!=r&&r[b.h.COMBO_LOGIN_THREE]?b.h.COMBO_LOGIN_THREE:0;this.updateInfo(r[u]),a.map((function(e){(null==e?void 0:e.id)===h.$Z.COMBO_LOGIN_RESTART&&(o.restartLossAmount=(null==e?void 0:e.placeHolder.split(":")[1])||0),(null==e?void 0:e.id)===h.$Z.COMBO_LOGIN_FIRST_REWARD&&(o.rewardInfo=o.comboLoginRewardArr[0])}))}},{key:"updateInfo",value:function(e){if(!(0,O.Q)(e)){this.set({comboLoginType:e.missionType});var t=this.getComboLoginRewardArr(e);this.set({comboLoginRewardArr:t})}}},{key:"isThreeType",get:function(){return this.comboLoginType===b.h.COMBO_LOGIN_THREE}},{key:"isRewardUnAutoGain",get:function(){var e=this.getMissioninfo(this.comboLoginType);return!(0,O.Q)(e)&&0===(null==e?void 0:e.finishCount)}}])&&k(t.prototype,n),o&&k(t,o),_}(w.Z),r=B(o.prototype,"comboLoginRewardArr",[E.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=B(o.prototype,"comboLoginType",[E.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),a=B(o.prototype,"rewardInfo",[E.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=B(o.prototype,"nextDayRewardInfo",[E.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=B(o.prototype,"restartLossAmount",[E.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=B(o.prototype,"showCardAni",[E.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=B(o.prototype,"showTomorrowPopupAni",[E.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=B(o.prototype,"showCardRotateAni",[E.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=B(o.prototype,"forceShowFakeList",[E.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=B(o.prototype,"showCardTagBreath",[E.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B(o.prototype,"init",[E.aD],Object.getOwnPropertyDescriptor(o.prototype,"init"),o.prototype),B(o.prototype,"updateInfo",[E.aD],Object.getOwnPropertyDescriptor(o.prototype,"updateInfo"),o.prototype),m=B(o.prototype,"showNextDayCardAni",[E.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.set({showTomorrowPopupAni:!0}),(0,g.Dc)(400).then((function(){e.set({showTomorrowPopupAni:!1})}))}}}),B(o.prototype,"isThreeType",[E.Fl],Object.getOwnPropertyDescriptor(o.prototype,"isThreeType"),o.prototype),v=B(o.prototype,"completeCardMission",[E.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,C.Eq)(function(){var t=R(regeneratorRuntime.mark((function t(n){var o,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.globalStore,r=n.updatePoint,i=void 0===r||r,t.abrupt("return",(0,_.o2)(e.comboLoginType).then(function(){var t=R(regeneratorRuntime.mark((function t(n){var r,a,u,c,l,s,p,f,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p=null!==(r=null==n||null===(a=n.result)||void 0===a?void 0:a.mission)&&void 0!==r?r:{},f=null!==(u=null==n||null===(c=n.result)||void 0===c||null===(l=c.rewardResult)||void 0===l?void 0:l[0])&&void 0!==u?u:{},d=[x.Mr.POINTS_CASH,x.Mr.CASH].includes(null==f?void 0:f.rewardType),e.updateInfo(p),e.set({rewardInfo:f}),e.updateMission(p),i&&o.setPoint((null==n||null===(s=n.result)||void 0===s?void 0:s.pointsAmount)/100,d?"":f.amount/100),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){return S.Z.showToast("网络异常，请稍后重试~"),Promise.reject()})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}),y=B(o.prototype,"onHandleStressComboNextReward",[E.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,C.Eq)(function(){var t=R(regeneratorRuntime.mark((function t(n){var o,r,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.globalStore,i=n.popupQueueStore,a=n.hasLottery,u=n.recordReward,t.abrupt("return",null===(o=e.completeCardMission({globalStore:r,updatePoint:!1}))||void 0===o?void 0:o.then((function(t){var n,o,c,l,s,p,f=null!==(n=null==t||null===(o=t.result)||void 0===o||null===(c=o.extra)||void 0===c?void 0:c[b.h.COMBO_LOGIN_FIVE])&&void 0!==n?n:{},d=null!==(l=null==t||null===(s=t.result)||void 0===s||null===(p=s.rewardResult)||void 0===p?void 0:p[0])&&void 0!==l?l:{},m=[x.Mr.POINTS_CASH,x.Mr.CASH].includes(null==d?void 0:d.rewardType);return a?i.instantShow({before:function(){var e;return null==u||u((null==t||null===(e=t.result)||void 0===e?void 0:e.pointsAmount)/100,m?"":d.amount/100),Promise.resolve()},key:"showLotteryRewardPopup",after:function(){return(0,O.Q)(f)||(e.updateInfo(f),e.updateMission(f)),Promise.resolve()}}):(0,O.Q)(f)?i.instantShow({key:"showCombologinRewardAndRemind",after:function(){var e;r.setPoint((null==t||null===(e=t.result)||void 0===e?void 0:e.pointsAmount)/100,m?"":d.amount/100)}}):(e.updateMission(f),i.instantShow({key:"showCombologinRewardAndRemind",after:function(){var n;return e.showCardAni=!0,e.updateInfo(f),r.setPoint((null==t||null===(n=t.result)||void 0===n?void 0:n.pointsAmount)/100,m?"":d.amount/100),Promise.resolve()}}))})).catch((function(){return Promise.reject()})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}),o);t.Z=Z},33246:function(e,t,n){"use strict";var o,r,i,a,u=n(56258),c=n(59368);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function h(e,t,n,o,r){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var w=(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,n,o,u=m(c);function c(){var e;p(this,c);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return s(y(e=u.call.apply(u,[this].concat(n))),"firstOrderCashRate",r,y(e)),s(y(e),"firstOrderCashMaxAmount",i,y(e)),s(y(e),"firstOrderCashMinAmount",a,y(e)),e}return t=c,(n=[{key:"init",value:function(e){var t,n,o,r,i,a,u,c,l;this.set({firstOrderCashRate:(null!==(t=null==e||null===(n=e.cashBack)||void 0===n||null===(o=n.inner)||void 0===o?void 0:o.firstOrderCashRate)&&void 0!==t?t:0)/100,firstOrderCashMaxAmount:(null!==(r=null==e||null===(i=e.cashBack)||void 0===i||null===(a=i.inner)||void 0===a?void 0:a.firstOrderCashMaxAmount)&&void 0!==r?r:0)/100,firstOrderCashMinAmount:(null!==(u=null==e||null===(c=e.cashBack)||void 0===c||null===(l=c.inner)||void 0===l?void 0:l.firstOrderCashMinAmount)&&void 0!==u?u:0)/100})}}])&&f(t.prototype,n),o&&f(t,o),c}(u.Z),r=h(o.prototype,"firstOrderCashRate",[c.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i=h(o.prototype,"firstOrderCashMaxAmount",[c.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),a=h(o.prototype,"firstOrderCashMinAmount",[c.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h(o.prototype,"init",[c.aD],Object.getOwnPropertyDescriptor(o.prototype,"init"),o.prototype),o);t.Z=w},65439:function(e,t,n){"use strict";var o=n(75004),r=n(47750),i=n(84277),a=n.n(i),u=n(38091),c=n(31894),l=n(69804),s=n(738),p=n(15566),f=n(73136),d=n(69017),m=n(57016),v=n(54669),y=n(897),b=n.n(y);var h=(0,c.p2)("9fae2c3a-2db3-4b62-807d-bf491002c106"),w=(0,c.p2)("b2955339-2e3e-4e44-ac88-5fd64f6d6bfd"),g={top:(0,d.Z)(10),right:(0,d.Z)(10)};t.Z=(0,r.Pi)((function(e){var t,n,r,i,c=(0,s.AG)(),y=c.couponCenterStore,O=y.totalCouponValue,_=y.totalNoThresholdValue,C=y.isFreeToOpen,E=null!==(t=e.border)&&void 0!==t?t:{},S=E.uh,x=E.uc,T=E.dh,P=E.dc,R=(0,s.oy)((function(e){c.cashCenterStore.set("showCashPullup",!1),c.popupQueueStore.instantShow("showCouponOpenPopup")})),N=function(){c.cashCenterStore.inNewbeeProcess&&c.cashCenterStore.set({inNewbeeProcess:!1})},A=(0,v.Ct)(c.couponCenterStore.couponCenterData.consumedPoint);return o.createElement(o.Fragment,null,S&&x?o.createElement("div",{className:a().border,style:{height:(0,d.Z)(S),background:x}}):null,o.createElement("div",{onClick:function(){N(),c.popupQueueStore.instantShow({key:"showCouponOpenPopup",showOpenGuide:!0})},className:b()(a().entry,(n={},r=a().inCashPullUp,i=e.inCashPullUp,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n))},o.createElement("div",{className:a().title},o.createElement("span",{className:a().titleLeft},"会员神券"),o.createElement("div",{className:a().subTitle},"开通会员天天领神券")),o.createElement("div",{className:a().panel},o.createElement("div",{className:a().coupon},o.createElement(u.Z,{src:w,className:a().couponBg}),o.createElement("div",{className:a().couponValue},O,o.createElement("span",null,"元")),o.createElement("div",{className:a().couponDesc},"超值券包")),o.createElement("div",{className:a().detail},o.createElement("div",{className:a().detailT1},"每周立享",O,"元优惠券"),o.createElement(m.Z,{wrapperClass:a().detailT2,text:"包含<#E02E24#".concat(_,"元无门槛券>")})),o.createElement(l.Z,{customCls:a().btn,onClick:function(e){var t;return null!=e&&null!==(t=e.stopPropagation)&&void 0!==t&&t.call(e),N(),R()},text:C?"":"".concat(A,"元余额开通"),size:"xs",width:99,color:"red"},C?o.createElement(o.Fragment,null,o.createElement("div",{className:a().btnCost},"0",o.createElement("span",null,"元"),o.createElement("span",null,"5元余额")),o.createElement(u.Z,{className:a().btnTips,src:h})):null,o.createElement(p.Z,{scene:f.f.COUPON_CENTER,customStyle:g})))),T&&P?o.createElement("div",{className:a().border,style:{height:(0,d.Z)(T),background:P}}):null)}))},43627:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var o=n(15566),r=n(73136),i=n(738),a=n(69017),u=n(69804),c=n(57016),l=n(47750),s=n(75004),p=n(10973),f=n(58303),d=n(77356),m=n(67202),v=n(98534),y=n(72966),b=n(91705),h=n.n(b),w=n(897),g=n.n(w),O=n(54669);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}p.XH.BEYOND_TIME;var C=p.XH.CAN_DRAW,E=p.XH.ALREAD_DRAW,S=p.XH.ALREAD_USED,x=p.XH.OUT_TIME,T=p.XH.COUPON_EMPTY,P=function(e){var t,n=e.discount,o=e.minAmount,r=(e.couponItemId,e.status),i=(e.desc,e.onDrawCoupon),a=n===o,u=r===x,c=r===S,l=r===E,p=r===C,f=r===T,d=u||c||f,m=(0,s.useMemo)((function(){var e="待生效";return f&&(e="已抢光"),p&&(e="立即领取"),c&&(e="已使用"),l&&(e="去使用"),u&&(e="已过期"),e}),[r]);return s.createElement("div",{onClick:function(){return i(e)},className:g()(h().coupon,(t={},_(t,h().couponNoThreshold,a),_(t,h().couponInvalid,d),t))},s.createElement("div",{className:h().detail},s.createElement("span",null,(0,O.Ct)(n)),s.createElement("span",{className:h().sep},"元"),s.createElement("div",{className:h().desc},a?"无门槛":"满".concat((0,O.Ct)(o),"可用"))),s.createElement("div",{className:h().label,style:l?{color:"#E02E24"}:{}},m))},R=s.memo(P),N=n(73165),A=n.n(N);function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},k.apply(this,arguments)}var I=p.XH.BEYOND_TIME,j=p.XH.CAN_DRAW,L=p.XH.ALREAD_DRAW,D=(p.XH.ALREAD_USED,p.XH.OUT_TIME,p.XH.COUPON_EMPTY),M=(0,l.Pi)((function(e){var t=(0,i.AG)(),n=t.couponCenterStore,o=n.tabIndex,r=n.couponCenterData,a=n.fakeNextCycleCouponMap,u=n.showRenewalNextCycle,c=r||{},l=c.indexDay,p=c.indexCouponMap,b=-1===o?l:o,h=u?null==a?void 0:a[b]:null==p?void 0:p[b],w=(0,v.JO)((function(e){var n=e||{},o=n.status,r=n.couponItemId;return o===D?y.Z.showToast("优惠券已抢光"):o===I?y.Z.showToast("还未到领取时间噢~"):o===L?(0,d.a)():o===j?(0,f.eA)({sceneId:1,godItemId:r}).then((function(e){var n=((null==e?void 0:e.result)||{}).coupon;return t.popupQueueStore.instantShow({key:"showGetCouponPopup",coupon:n}),t.couponCenterStore.init(null==e?void 0:e.result),m.ZP.emit(m.gL.REFRESH_GOODS,!0)})).catch((function(e){y.Z.showToast("网络开小差了，请稍候重试")})):void 0}));return s.createElement("div",{className:A().container},null==h?void 0:h.map((function(e,t){return s.createElement(R,k({onDrawCoupon:w},e,{key:t}))})))})),F=n(48510),B=n.n(F);var Z={display:"flex"},z=(0,l.Pi)((function(e){var t,n=(0,i.AG)(),o=(0,s.useRef)(null),r=n.couponCenterStore,a=r.tabIndex,u=r.couponCenterData,c=r.fakeNextCycleCouponMap,l=r.showRenewalNextCycle,p=u.indexDay,f=void 0===p?1:p,d=u.indexCouponMap,m=-1===a?f:a,y=l?c:d;return(0,v.b6)((function(){var e,t,r,i,a,u=null===(e=document.querySelector("."+B().scrollWrapper))||void 0===e||null===(t=e.children)||void 0===t?void 0:t[m-1];null===(r=o.current)||void 0===r||null===(i=r.scrollTo)||void 0===i||i.call(r,null!==(a=(m-1)*(null==u?void 0:u.offsetWidth))&&void 0!==a?a:0,0),n.couponCenterStore.set("tabIndex",m)})),s.createElement("div",{ref:o,onClick:function(e){var t,o,r=Number(null==e||null===(t=e.target)||void 0===t||null===(o=t.dataset)||void 0===o?void 0:o.index);r&&m!==r&&n.couponCenterStore.set("tabIndex",r)},className:B().scrollWrapper},null===(t=Object.keys(y||{}))||void 0===t?void 0:t.map((function(e,t){var n,o,r,i=t+1,u=i===a;return s.createElement("div",{style:Z,key:t},s.createElement("div",{className:B().spaceHold}),s.createElement("div",{"data-index":i,className:g()(B().tab,(n={},o=B().isActive,r=u,o in n?Object.defineProperty(n,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[o]=r,n))},"第",i,"天"),s.createElement("div",{className:B().spaceHold}))})))})),G=n(49741),H=n.n(G),Q={top:(0,a.Z)(150),left:(0,a.Z)(70)},U=(0,l.Pi)((function(e){var t=(0,i.AG)(),n=t.couponCenterStore,a=n.isCouponCenterOpen,l=n.totalCouponValue,f=t.couponCenterStore.couponCenterData.status===p.Bv.CENTER_RENEWAL,d=(0,i.oy)((function(){t.popupQueueStore.instantShow("showCouponOpenPopup")}));return s.createElement("div",{className:H().panel},s.createElement("div",{className:H().title},s.createElement("span",null,"会员神券"),s.createElement("div",{className:H().subTitle},a?s.createElement(c.Z,{wrapperClass:H().titleInner,text:"每周立享<#E02E24#".concat(l,"元>优惠券")}):"开通会员天天领神券")),s.createElement(o.Z,{scene:r.f.COUPON_CENTER,customStyle:Q}),s.createElement(z,null),s.createElement(M,null),f?s.createElement("div",{className:H().remind},"你的神券会员即将过期",s.createElement(u.Z,{onClick:d,text:"立即续费",color:"red",size:"xs",width:79})):null)}))},10973:function(e,t,n){"use strict";n.d(t,{Bv:function(){return a},XH:function(){return u},ZP:function(){return R}});var o,r,i,a,u,c=n(54669),l=n(56258),s=n(42856),p=n(59368);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw r}}return i}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function w(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=x(e);if(t){var r=x(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n,o,r){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}!function(e){e[e.CAN_OPEN=1]="CAN_OPEN",e[e.CENTER_EFFECTIVE=2]="CENTER_EFFECTIVE",e[e.CENTER_RENEWAL=3]="CENTER_RENEWAL"}(a||(a={})),function(e){e[e.BEYOND_TIME=1]="BEYOND_TIME",e[e.CAN_DRAW=2]="CAN_DRAW",e[e.ALREAD_DRAW=3]="ALREAD_DRAW",e[e.ALREAD_USED=4]="ALREAD_USED",e[e.OUT_TIME=5]="OUT_TIME",e[e.COUPON_EMPTY=6]="COUPON_EMPTY"}(u||(u={}));var R=(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(p,e);var t,n,o,l=C(p);function p(){var e;g(this,p);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return w(S(e=l.call.apply(l,[this].concat(n))),"couponCenterData",r,S(e)),w(S(e),"tabIndex",i,S(e)),e}return t=p,(n=[{key:"init",value:function(e){this.couponCenterData=e.godMember||{}}},{key:"isEnableCouponCenter",get:function(){return!(0,s.Q)(this.couponCenterData.indexCouponMap)}},{key:"isCouponCenterOpen",get:function(){return[a.CENTER_EFFECTIVE,a.CENTER_RENEWAL].includes(this.couponCenterData.status)}},{key:"totalCouponValue",get:function(){for(var e=0,t=0,n=Object.entries(null!==(o=this.couponCenterData.indexCouponMap)&&void 0!==o?o:{});t<n.length;t++){var o,r=y(n[t],2);r[0],e+=(r[1]||[]).reduce((function(e,t){var n;return null!==(n=e+(null==t?void 0:t.discount))&&void 0!==n?n:0}),0)}return(0,c.Ct)(e)}},{key:"totalCoupons",get:function(){for(var e=[],t=0,n=Object.entries(null!==(o=this.couponCenterData.indexCouponMap)&&void 0!==o?o:{});t<n.length;t++){var o,r=y(n[t],2),i=(r[0],r[1]);e=e.concat(v(i))}var a=e.filter((function(e){return(null==e?void 0:e.discount)===(null==e?void 0:e.minAmount)})).sort((function(e,t){return e.discount-t.discount})),u=e.filter((function(e){return(null==e?void 0:e.discount)!==(null==e?void 0:e.minAmount)})).sort((function(e,t){return e.discount-t.discount})).sort((function(e,t){return e.minAmount-t.minAmount}));return e=a.concat(u)}},{key:"totalNoThresholdValue",get:function(){for(var e=0,t=0,n=Object.entries(null!==(o=this.couponCenterData.indexCouponMap)&&void 0!==o?o:{});t<n.length;t++){var o,r=y(n[t],2);r[0],e+=(r[1].filter((function(e){return(null==e?void 0:e.discount)===(null==e?void 0:e.minAmount)}))||[]||[]).reduce((function(e,t){var n;return null!==(n=e+(null==t?void 0:t.discount))&&void 0!==n?n:0}),0)}return(0,c.Ct)(e)}},{key:"todayCoupons",get:function(){var e,t=this.couponCenterData,n=t.indexDay,o=t.indexCouponMap;return null!==(e=null==o?void 0:o[n])&&void 0!==e?e:[]}},{key:"todayHasCouponInTime",get:function(){return this.todayCoupons.findIndex((function(e){return(null==e?void 0:e.status)===u.ALREAD_DRAW}))>-1}},{key:"isFreeToOpen",get:function(){return this.isEnableCouponCenter&&!this.isCouponCenterOpen&&0===this.couponCenterData.consumedPoint}},{key:"fakeNextCycleCouponMap",get:function(){for(var e=m({},this.couponCenterData.indexCouponMap),t=0,n=Object.entries(null!==(o=this.couponCenterData.indexCouponMap)&&void 0!==o?o:{});t<n.length;t++){var o,r=y(n[t],2),i=r[0],a=v(r[1]).map((function(e){var t=m({},e);return delete t.endTime,delete t.startTime,t.status=u.BEYOND_TIME,t}));e[this.couponCenterData.effectiveDay+Number(i)]=a}return e}},{key:"showRenewalNextCycle",get:function(){return this.couponCenterData.hasRenewal&&7===this.couponCenterData.indexDay}}])&&O(t.prototype,n),o&&O(t,o),p}(l.Z),r=P(o.prototype,"couponCenterData",[p.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=P(o.prototype,"tabIndex",[p.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),P(o.prototype,"init",[p.aD],Object.getOwnPropertyDescriptor(o.prototype,"init"),o.prototype),P(o.prototype,"isEnableCouponCenter",[p.Fl],Object.getOwnPropertyDescriptor(o.prototype,"isEnableCouponCenter"),o.prototype),P(o.prototype,"isCouponCenterOpen",[p.Fl],Object.getOwnPropertyDescriptor(o.prototype,"isCouponCenterOpen"),o.prototype),P(o.prototype,"totalCouponValue",[p.Fl],Object.getOwnPropertyDescriptor(o.prototype,"totalCouponValue"),o.prototype),P(o.prototype,"totalCoupons",[p.Fl],Object.getOwnPropertyDescriptor(o.prototype,"totalCoupons"),o.prototype),P(o.prototype,"totalNoThresholdValue",[p.Fl],Object.getOwnPropertyDescriptor(o.prototype,"totalNoThresholdValue"),o.prototype),P(o.prototype,"todayCoupons",[p.Fl],Object.getOwnPropertyDescriptor(o.prototype,"todayCoupons"),o.prototype),P(o.prototype,"todayHasCouponInTime",[p.Fl],Object.getOwnPropertyDescriptor(o.prototype,"todayHasCouponInTime"),o.prototype),P(o.prototype,"isFreeToOpen",[p.Fl],Object.getOwnPropertyDescriptor(o.prototype,"isFreeToOpen"),o.prototype),P(o.prototype,"fakeNextCycleCouponMap",[p.Fl],Object.getOwnPropertyDescriptor(o.prototype,"fakeNextCycleCouponMap"),o.prototype),P(o.prototype,"showRenewalNextCycle",[p.Fl],Object.getOwnPropertyDescriptor(o.prototype,"showRenewalNextCycle"),o.prototype),o)},97296:function(e,t,n){"use strict";var o=n(75004),r=n(47750),i=n(43960),a=n.n(i),u=n(38091),c=n(31894),l=n(69804),s=n(738),p=n(57016),f=n(60565),d=n(16374),m=n(50806),v=n(15001);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}t.Z=(0,r.Pi)((function(){var e,t,n=(0,s.AG)(),r=null!==(e=null==n||null===(t=n.dailyFreeStore)||void 0===t?void 0:t.drawFree)&&void 0!==e?e:{},i=r.currentCount,b=void 0===i?0:i,h=r.maxCount,w=void 0===h?0:h,g=r.drawGoodsList,O=void 0===g?[]:g,_=y((0,f.Z)({targetDate:(0,d.IH)(),serverTime:n.globalStore.serverTime,onEnd:function(){return(0,m.oy)(!0)}}),2)[1].timeStr;return o.createElement("div",{className:a().wrapper},o.createElement(u.Z,{src:(0,c.p2)("free_order"),className:a().bg}),o.createElement("div",{className:a().main},o.createElement("div",{className:a().mainTop},"天天抽免单"),o.createElement("div",{className:a().mainBottom},b===w?o.createElement(p.Z,{text:"机会已用光，记得<#E02E24#明天再来~>"}):b>0?o.createElement(p.Z,{text:"免单折扣优惠，<#E02E24#".concat(_,">后到期")}):o.createElement(p.Z,{text:"心仪商品抽免单，每天<#E02E24#".concat(w,"次机会>")}))),o.createElement("div",{className:a().right},o.createElement(l.Z,{text:b===w?"明日再来":"去免单",top:12,bottom:5,size:"xs",color:"red",width:62,onClick:function(){(0,v.tW)(m.oy,{drawGoodsList:JSON.stringify(O)})}})))}))},9625:function(e,t,n){"use strict";var o,r,i=n(56258),a=n(59368);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var r=v(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n,o,r){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var b=(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,o,i=f(a);function a(){var e;l(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return c(m(e=i.call.apply(i,[this].concat(n))),"drawFree",r,m(e)),e}return t=a,(n=[{key:"init",value:function(e){this.set({drawFree:null==e?void 0:e.drawFree})}},{key:"showDailyFreeEntry",get:function(){var e,t;return(null==this||null===(e=this.drawFree)||void 0===e?void 0:e.maxCount)&&!(null!==(t=this.drawFree)&&void 0!==t&&t.displayInBtn)}},{key:"goodsList",get:function(){var e;return(null===(e=this.drawFree)||void 0===e?void 0:e.drawGoodsList)||[]}}])&&s(t.prototype,n),o&&s(t,o),a}(i.Z),r=y(o.prototype,"drawFree",[a.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),y(o.prototype,"init",[a.aD],Object.getOwnPropertyDescriptor(o.prototype,"init"),o.prototype),o);t.Z=b}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-fun-cashback/js/index-265b2c1f_ed23881df287f7ea9693.js.map