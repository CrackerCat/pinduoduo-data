(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{"G0nU":function(e,a,t){},"eh7t":function(e,a,t){"use strict";t.r(a);var r,i=t("VTBJ"),n=t("brQG"),s=t("p5LO"),o=t("1OyB"),c=t("vuIU"),l=t("JX7q"),u=t("Ji7U"),d=t("LK+K"),f=t("rePB"),m=t("q1tI"),p=t.n(m),b=t("TyAF"),v=t("TSYQ"),w=t.n(v),T=t("aMeW"),O=t("fWkr"),E=t("k/Ow"),h=t("3uF5"),x=t("hsPD"),g=t("/KWM"),j=t("q0O3"),y=t("h5Qt"),M=t("tSAD"),N=t("1YS8"),P=t("GkIh"),k=t("SLG6"),B=t("PS6B"),S=t("3m2z"),A=t("oyLW"),C=t("8tQc"),R=t("vHnQ"),G=t("AKEH"),I=t("57Sx"),L=t("aqP3"),D=t("B21c"),F=t("gDy5"),_=t("fCYF"),W=t("bdvc"),U=t("UtUr"),V=(t("G0nU"),Object(b.observer)(r=function(e){Object(u.default)(MissionTrigerPop,e);var a=Object(d.default)(MissionTrigerPop);function MissionTrigerPop(){var e;Object(o.default)(this,MissionTrigerPop);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e=a.call.apply(a,[this].concat(r)),Object(f.default)(Object(l.default)(e),"onClick",(function(){e.closePopup(!1);var a=U.a.missionType,t=U.a.subMissionType,r=O.a[t||a]||{},i=r.btnAction,n=r.elSn;n&&Object(D.a)(n),"feed"===i?j.default.feedStore.feed():"goOrder"===i?Object(y.a)(a,(function(){j.default.refreshData()})):a===C.h.missionCowExpire&&Object(I.a)(a)})),Object(f.default)(Object(l.default)(e),"closePopup",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];N.a.closePop(P.a.MISSION_TRIGGER_POP,e)})),Object(f.default)(Object(l.default)(e),"getCowExpireRewards",(function(){var e=U.a.currentMission,a=void 0===e?{}:e,t=a.extraInfo,r=void 0===t?{}:t,i=a.leftAmount,n=void 0===i?1:i;return[{"rewardType":Object(W.B)(r,{}).expiredBuffType,"rewardAmount":n}]})),e}return Object(c.default)(MissionTrigerPop,[{"key":"renderBtnText","value":function renderBtnText(){var e=U.a.missionType,a=U.a.subMissionType,t=U.a.status,r=U.a.currentMission,i=(O.a[a||e]||{}).btnText[t]||"去完成";if(e===C.h.missionBuffGiftPack){var n=r.bizExtMap,o=void 0===n?{}:n,c=o.doubleFactor;if(!o.hasFinish&&c>1){var l=k.a.originAllMissionMap.get(C.h.missionBuffGiftPackView)||{};i="浏览商品".concat((l.frontMap||{}).scanSeconds,"s获取福利")}}return p.a.createElement(s.a,{"className":"btn-normal-v2 mx-auto","onClick":this.onClick},i)}},{"key":"renderTitle","value":function renderTitle(){var e=U.a.missionType,a=U.a.subMissionType,t=U.a.currentMission,r=void 0===t?{}:t,i=U.a.newVersion,o=U.a.rewardList,c=void 0===o?[]:o,l=O.a[a||e]||{},u=l.popTitle,d=l.rewardDesc,f=void 0===d?"":d;if(e===C.h.missionCowExpire){var m=r.extraInfo,b=void 0===m?{}:m,v=r.expireTime,w=void 0===v?0:v;if(!Object(W.B)(b,{}).expiredBuffType)return p.a.createElement(s.a,{"className":"missionTitle ff-m"},u);var T=w-R.a.dateNow/1e3;T=T>0?T:0;var h=Object(G.c)(T),x=h.time,g=h.unit,j=this.getCowExpireRewards(),y=x>0?"将在".concat(x+g,"后过期"):"已过期";return p.a.createElement(s.a,{"className":"missionTitle ff-m"},p.a.createElement(A.a,{"preWords":"有","size":40,"rewardResult":j,"suffix":y}))}var M=Object(S.c)(u,r);if(e===C.h.missionBuffGiftPack){var N=r.bizExtMap,P=(void 0===N?{}:N).doubleFactor;P>1&&(M=p.a.createElement(p.a.Fragment,null,p.a.createElement(n.a,{"className":"text-ff5"},"限时奖励已翻",P,"倍，"),M))}return p.a.createElement(s.a,{"className":"missionTitle ff-m"},f?M:"",p.a.createElement(A.a,{"preWords":f?"":M,"separator":i===E.f.V_RANDOM_AND_SINGLE?"或":"和","rewardResult":c,"intervalDisplay":!0,"numColor":"red","size":46}))}},{"key":"renderReward","value":function renderReward(){var e=U.a.rewardList,a=U.a.newVersion,t=k.a.rewardsConfig;return e.map((function(e){var r=e.rewardType,i=t[r]||{},n=i.unit,o=i.name,c=i.popupImgSrc,l=Object(x.a)(e),u="";return u=Object.values(g.e).indexOf(r)>-1?o+"x"+l:r===E.c.REAL_MONEY?"最高"+e.maxAmount+n+o:a===E.f.V_RANDOM?"最多"+e.maxAmount+n+o:l+n+o,p.a.createElement(s.a,{"className":"rewardInfo","key":r},c&&p.a.createElement(M.a,{"className":"rewardIcon","src":Object(B.d)(c)}),p.a.createElement(s.a,{"className":"rewardText"},p.a.createElement(s.a,{"className":"rText"},u)))}))}},{"key":"render","value":function render(){var e=U.a.currentMission,a=U.a.rewardList,t=U.a.diffTime,r=U.a.subMissionType,n=U.a.missionType,o=O.a[r||n]||{},c=o.slogan,l=void 0===c?"限时奖励":c,u=o.rewardDesc,d=o.elSn,f=n===C.h.missionFeedForTimes||n===C.h.missionFeedForProgress,m=n===C.h.missionCowExpire,b={};if(m){var v=this.getCowExpireRewards();b=Object(i.default)(Object(i.default)({},e),{},{"rewardList":v})}return e?p.a.createElement(T.a,{"title":l,"close":this.closePopup},p.a.createElement(L.a,{"elSn":d},p.a.createElement(s.a,{"className":"missionWrapper"},p.a.createElement(F.a,null),f?p.a.createElement(s.a,{"className":"rewardList fl-x"},p.a.createElement(M.a,{"className":"iconGift","src":Object(B.f)("icon_gift_v2")})):p.a.createElement(s.a,{"className":w()("rewardList fl-b",{"single":1===a.length})},this.renderReward(),a.length>1&&p.a.createElement(_.a,{"bg":Object(B.g)("icon_plus_pink"),"className":"ab-xy w-40 h-40"})),this.renderTitle(),m?p.a.createElement(s.a,{"className":"tips"},Object(S.c)(u,b)):p.a.createElement(s.a,{"className":"tips"},p.a.createElement(h.a,{"countDown":t}),"后失效"),this.renderBtnText()))):null}}]),MissionTrigerPop}(m.Component))||r);a.default=V}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-ranch/js/lazy_missionTriggerPop_0e0a66b4c4054a7d17bf.js.map