(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[48],{e8Le:function(e,t,r){var n=r("yCBm"),a=r("Q8e5"),o="string"==typeof n?[[e.i,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return a(o,e)}},wPnZ:function(e,t,r){"use strict";r.r(t);var n=r("yXPU"),a=r.n(n),o=r("J4zp"),i=r.n(o),c=r("o0o1"),s=r.n(c),l=r("q1tI"),u=r.n(l),h=r("TyAF"),f=r("jWx1"),p=r("fkkr"),d=r("zRS3"),m=r("lwsE"),_=r.n(m),g=r("W8MJ"),S=r.n(g),v=r("7W2i"),b=r.n(v),E=r("a1gu"),O=r.n(E),y=r("Nsbk"),C=r.n(y),T=(r("17x9"),r("kLkQ"));function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var a=C()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return O()(this,r)}}var P="分享失败~ 请重试",k=function(e){b()(r,e);var t=w(r);function r(){var e;_()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).duoCodeResult=null,e.addEvent=function(){var t=e.pddShare.getShareManager(),r=t&&t.getShareController();e.shareController=r,e.shareController&&e.shareController.on(d.ShareEventType.ON_SHARE_COMPLETED,e.onShareCompleted)},e.removeEvent=function(){e.shareController&&e.shareController.removeListener(d.ShareEventType.ON_SHARE_COMPLETED,e.onShareCompleted)},e.onShareSuccess=function(){e.props.successMsgElSn&&Object(p.b)({page_el_sn:e.props.successMsgElSn}),Object(T.p)(e.props.successMsg||"分享成功"),e.props.onShareSuccess&&e.props.onShareSuccess()},e.handleShare=function(t){var r=t||e.props.shareInfo;r?e.pddShare.share(e.shareType,r).catch((function(e){return e})):Object(T.p)(P)},e.onShareCompleted=function(t){var r=t.shareResultType,n=t.shareParams;if(e.shareType===d.ShareType.WECHAT_SESSION_TEXT_WITH_NO_SDK&&r===d.ShareResultType.FAIL)try{var a=n.title;if(!a)return void Object(T.p)(P);e.duoCodeResult={title:a},e.goWechat()}catch(e){Object(T.p)(P)}r===d.ShareResultType.SUCCESS&&e.onShareSuccess()},e.goWechat=a()(s.a.mark((function t(){var r,n,o,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.duoCodeResult||{},n=r.title,o=void 0===n?"":n,t.prev=1,t.next=4,Object(f.addNotificationCallback)("onApplicationResume",a()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.onShareSuccess(),t.t0=i,!t.t0){t.next=5;break}return t.next=5,i();case 5:case"end":return t.stop()}}),t)}))));case 4:i=t.sent,e.shareController&&e.shareController.shareCipherManually(o,d.ThirdPartyOpenType.OPEN_WECHAT),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("goWechat catch:"),console.log(t.t0),Object(T.p)(P);case 13:case"end":return t.stop()}}),t,null,[[1,8]])}))),e}return S()(r,[{key:"shareType",get:function(){return this.props.enableCode?d.ShareType.WECHAT_SESSION_TEXT_WITH_NO_SDK:d.ShareType.WECHAT_SESSION}},{key:"componentDidMount",value:function(){this.pddShare=d.default.getInstance(),this.addEvent()}},{key:"componentWillUnmount",value:function(){this.removeEvent()}},{key:"render",value:function(){return this.props.children(this.handleShare)}}]),r}(u.a.PureComponent);k.defaultProps={enableCode:!1,onShareSuccess:function(){},shareInfo:null};var j,R=r("lSNA"),N=r.n(R),x=r("h7Yj"),I={waterMark:d.ShareWaterMark.NONE},H={title:"{2}",message:"random",thumbnailURL:"",shareURL:"",urlWrapType:d.URLWrapType.SERVER_SHORT_URL,marketActivityID:489,shortCommandApi:"api/flow/chron/share/info",forceDowngrade:!0,requestUsePost:!0},A="SixOneNight",D="FestivalPray",F="Lottery",L=(j={},N()(j,A,"kl_618_show"),N()(j,D,"kl_pray_live_room"),N()(j,F,"kl_live_choujiang0126"),j);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){N()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U=function(e){var t=e.enableCode,r=void 0!==t&&t,n=e.customShareInfo,a=void 0===n?{}:n,o=e.duoCodeType;if(!o)throw new Error("generateShareInfo方法调用未传入duoCodeType");var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.shareURL,n=Object(x.parseUrlQuery)(r)||{},a={mall_id:n.mall_id,room_id:n.room_id,page_from:n.page_from};switch(t){case A:a=W(W({},a),{},{_live_red_envelope_encrypt:n._live_red_envelope_encrypt});break;case D:a=W(W({},a),{},{_live_pray_activity_id:n._live_pray_activity_id})}return{param_map:{scene_id:L[t],download_page_query:"",window_data:JSON.stringify(a)}}}(a,o),c=W({},I);if(r)c=W(W(W({},c),a),{},{payloadMixin:i},H);else{if(!a.miniObjectPath)throw new Error("小程序分享时未传入必传参数miniObjectPath");c=W(W({shareDomain:"https://m.ishangtong.com/"},c),a)}return c},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/package_g/live_room/live_room"+e.substr(e.indexOf(".html")+5)},B=r("O2NP"),z=r("PlGL"),X=r("HIPb"),K=r("mFSr"),J=r("ezvO"),V=r("e8Le"),q=r.n(V),Q=Object(l.memo)((function(e){return Object(X.a)(q.a),Object(B.j)(5424620),u.a.createElement(z.a,{className:q.a.dialog},u.a.createElement(z.a.CloseButton,{onClick:e.onClose}),u.a.createElement("div",{className:q.a.title},u.a.createElement("span",null,"你的口令已生成")),u.a.createElement("div",{className:q.a.shareText},u.a.createElement("span",{className:q.a.num},"1"),u.a.createElement("span",{className:q.a.txt},"选择微信好友或微信群")),u.a.createElement("div",{className:q.a.shareText},u.a.createElement("span",{className:q.a.num},"2"),u.a.createElement("span",{className:q.a.txt},"粘贴发送")),u.a.createElement("div",{className:q.a.chatImg},u.a.createElement(K.a,{src:"https://promotion.pddpic.com/mobile_live/93d39106-aec6-4bf5-83d6-64e647c6d3a1.png.slim.png"})),u.a.createElement(J.c,{text:"去微信粘贴",isWechat:!0,breath:!0,onClick:function(){Object(p.a)({page_el_sn:5424620}),e.handleShare()}}))})),G=function(e){var t=Object(B.k)().store,r=t.lotteryStore,n=t.liveRoomInitInfo,o=r.lotteryInfo||{},c=o.share_config,h=o.share_mini,m=(c||{}).new_share_url,_=void 0===m?"":m,g=(null==n?void 0:n.liveShareInfoVO)||{},S=g.liveImage,v=g.shareTitle,b=g.shareMessage,E=!h,O=Object(l.useState)(!1),y=i()(O,2),C=y[0],w=y[1],P=Object(l.useRef)(null),k=Object(l.useRef)(null),j=Object(l.useRef)(null),R=E?d.ShareType.WECHAT_SESSION_TEXT_WITH_NO_SDK:d.ShareType.WECHAT_SESSION,N=U({enableCode:E,duoCodeType:F,customShareInfo:{title:v,message:b,thumbnailURL:S,miniObjectPath:Y(_),shareURL:_}}),x=function(){Object(p.b)({page_el_sn:5424621}),Object(T.p)(e.successMsg),e.onShareSuccess(),!E&&e.onClose()},I=function(){Object(T.p)("分享失败~ 请重试"),!E&&e.onClose()},H=function(){var e=a()(s.a.mark((function e(){var t,r,n,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.current||{},r=t.title,n=void 0===r?"":r,e.prev=1,e.next=4,Object(f.addNotificationCallback)("onApplicationResume",a()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(),e.t0=i,!e.t0){e.next=5;break}return e.next=5,i();case 5:case"end":return e.stop()}}),e)}))));case 4:i=e.sent,null===(o=k.current)||void 0===o||o.shareCipherManually(n,d.ThirdPartyOpenType.OPEN_WECHAT),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),I();case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),A=function(){P.current.share(R,N).catch((function(e){return e}))};return Object(B.f)((function(){var e=function(e){var t=e.shareResultType,r=e.shareParams;if(R===d.ShareType.WECHAT_SESSION_TEXT_WITH_NO_SDK&&t===d.ShareResultType.FAIL)try{var n=r.title;if(!n)return void I();j.current={title:n},H()}catch(e){I()}t===d.ShareResultType.SUCCESS&&x()};return function(){var t;P.current=d.default.getInstance();var r=P.current.getShareManager();k.current=null==r?void 0:r.getShareController(),null===(t=k.current)||void 0===t||t.on(d.ShareEventType.ON_SHARE_COMPLETED,e),E?w(!0):A()}(),function(){var t;null===(t=k.current)||void 0===t||t.removeListener(d.ShareEventType.ON_SHARE_COMPLETED,e)}})),!!C&&u.a.createElement(Q,{onClose:e.onClose,handleShare:A})};G.defaultProps={onClose:function(){},onShareSuccess:function(){}};t.default=Object(h.observer)(G)},yCBm:function(e,t,r){(t=e.exports=r("I1BE")(!1)).push([e.i,'._3TIPHVjj{width:2.9rem;height:3.61rem;border-radius:.15rem!important;background:-webkit-linear-gradient(315deg,#7f4bfd,#2a18a7);background:linear-gradient(135deg,#7f4bfd,#2a18a7);padding-top:.28rem;color:#fff3e5;text-align:center}._1FY4E3_P{height:.2rem;line-height:.2rem;font-family:PingFangSC-Semibold,PingFang SC,PingFangSC-Regular,STHeiti STXihei,Microsoft YaHei,Microsoft JhengHei,miui;font-weight:700;font-weight:600;margin-bottom:.24rem}._1FY4E3_P span{font-size:.18rem;display:inline-block;vertical-align:middle;position:relative}._1FY4E3_P span:before{background:-webkit-linear-gradient(left,hsla(0,0%,100%,0),#ffeeda);background:linear-gradient(90deg,hsla(0,0%,100%,0),#ffeeda);left:0;-webkit-transform:translate(-200%,-50%);transform:translate(-200%,-50%)}._1FY4E3_P span:after,._1FY4E3_P span:before{content:"";display:inline-block;width:.18rem;height:.02rem;position:absolute;top:50%}._1FY4E3_P span:after{background:-webkit-linear-gradient(right,hsla(0,0%,100%,0),#ffeeda);background:linear-gradient(270deg,hsla(0,0%,100%,0),#ffeeda);right:0;-webkit-transform:translate(200%,-50%);transform:translate(200%,-50%)}._1FY4E3_P i{color:#ffd08b;font-size:.2rem}._5FhRNOEn{width:100%;padding:0 .24rem;margin-bottom:.13rem;text-align:left}._5FhRNOEn,._5FhRNOEn>span{height:.22rem;line-height:.22rem}._5FhRNOEn>span{display:inline-block;vertical-align:middle}._5FhRNOEn ._1Y1d4iDl{width:.22rem;line-height:.22rem;border-radius:.11rem;font-size:.14rem;background:#fff;color:#2b057e;margin-right:.06rem;font-family:PingFangSC-Medium,PingFang SC,PingFangSC-Regular,STHeiti STXihei,Microsoft YaHei,Microsoft JhengHei,miui;font-weight:700;font-weight:500;text-align:center}._5FhRNOEn ._193Sveu1{font-size:.16rem;color:hsla(0,0%,100%,.8)}._2c9xdw9D{width:2.5rem;height:1.33rem;margin:.15rem auto .1rem}',""]),t.locals={dialog:"_3TIPHVjj",title:"_1FY4E3_P",shareText:"_5FhRNOEn",num:"_1Y1d4iDl",txt:"_193Sveu1",chatImg:"_2c9xdw9D"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_LiveActivityPop_Lottery_WechatShareDialog_33874a04b4d660bbe099.js.map