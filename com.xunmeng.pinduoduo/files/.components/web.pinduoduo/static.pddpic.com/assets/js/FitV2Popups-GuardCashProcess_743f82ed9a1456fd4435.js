(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{"4zhU":function(e,t,a){"use strict";a.r(t);var n,c=a("wzp5"),r=a("p5LO"),s=a("kRu4"),o=a.n(s),i=a("RgDV"),l=a("w9YI"),u=a("QjaO"),b=a("cJQI"),h=a("ZsPb"),d=a("JsaZ"),m=a("MQ17"),O=a("q1tI"),p=a.n(O),j=a("2oo6"),k=a("TSYQ"),f=a.n(k),v=a("TyAF"),g=a("vmr4"),C=a.n(g),_=a("gpDe"),E=a("ABVw"),I=a("7Qib"),w=a("lC+4"),y=a("bmJN"),A=a("fsdm"),x=a("M3Mi"),F=a("3uR/"),N=a("Zmla"),B=a("ndO7"),D=a("Fmrv"),P=a("cl2I"),S=a("hn0O"),Q=a("A54J"),G=a("ygAv"),T=a("tpcr"),L=a("glIo"),M=Object(L.b)("guardCash",(function(e){var t=e.guardCashStore;return null==t?void 0:t.canShowEntry})),U=a("ktSw");a.d(t,"default",(function(){return J}));var J=Object(v.inject)(_.b.POPUP_QUEUE,_.b.GUARD_CASH,_.b.GLOBAL)(n=Object(T.b)(M)(n=Object(v.observer)(n=function(e){Object(h.a)(GuardCashProcess,e);var t=Object(d.a)(GuardCashProcess);function GuardCashProcess(e){var a;return Object(l.a)(this,GuardCashProcess),a=t.call(this,e),Object(m.a)(Object(b.a)(a),"onClose",(function(){a.popupQueueStore.close("showGuardCashProcess")})),Object(m.a)(Object(b.a)(a),"btnText",(function(){var e=a.store.info||{},t=e.status,n=e.currentOrderCount,c=e.targetOrderCount,r=e.currentDay,s=e.totalDays,o=e.cashAmount;return t===N.a.canCheckIn?"立即打卡，守卫".concat(Object(F.o)(o/100),"元"):t===N.a.processing?(0===n?"":"再")+"拼".concat(c-n,"单，完成今天打卡"):t===N.a.finished?r===s-1?"完成打卡，成功守卫".concat(Object(F.o)(o/100),"元"):"明日继续打卡":void 0})),Object(m.a)(Object(b.a)(a),"handleBtnClick",Object(U.a)(Object(i.a)(o.a.mark((function _callee2(){var e,t,n,c,r;return o.a.wrap((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:if(t=(null===(e=a.store)||void 0===e?void 0:e.info)||{},n=t.status,c=t.currentDay,Object(x.a)(6470074),n!==N.a.canCheckIn){s.next=11;break}return s.next=5,Object(B.n)();case 5:if(r=s.sent,a.store.init(r),a.store.canShow){s.next=9;break}return s.abrupt("return",a.onClose());case 9:return a.setState({"activeIndex":c}),s.abrupt("return");case 11:if(n!==N.a.processing){s.next=13;break}return s.abrupt("return",Object(D.r)(Object(i.a)(o.a.mark((function _callee(){var e;return o.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(P.a)({"globalStore":a.globalStore,"popupQueueStore":a.popupQueueStore},S.c.GUARD_CASH);case 2:e=t.sent,a.store.init(e);case 4:case"end":return t.stop()}}),_callee)})))));case 13:a.onClose();case 14:case"end":return s.stop()}}),_callee2)}))))),Object(m.a)(Object(b.a)(a),"getLabelText",(function(e,t){return t?"今天":"".concat(e+1,"天")})),Object(m.a)(Object(b.a)(a),"getInnerBarWidth",(function(){var e=a.store,t=e.info,n=e.todayHasCheckIn,c=t||{},r=c.currentDay,s=c.totalDays,o=2===s?166:244;return r===s-1?o:16*(n?r+1:r)+(n?r+1:r)/(s-1)*(o-54-16*(s-1))})),Object(m.a)(Object(b.a)(a),"renderProcess",(function(e){var t,n=e.index,c=e.hasChecked,s=e.isLast,o=e.isActive,i=a.state.activeIndex===n;return s?p.a.createElement(r.a,{"className":f()(C.a.lastItem,(t={},Object(m.a)(t,C.a.activeItem,o),Object(m.a)(t,C.a.lastItemFinish,c),t))},p.a.createElement(r.a,{"className":C.a.lastCircle},"守卫成功"),p.a.createElement(r.a,{"className":C.a.label},a.getLabelText(n,o))):p.a.createElement(r.a,{"className":f()(C.a.item,Object(m.a)({},C.a.activeItem,o))},p.a.createElement(r.a,{"className":f()(C.a.circle)},p.a.createElement(r.a,{"style":{"opacity":c||i?"1":"0"}},p.a.createElement(Q.a,{"width":16,"height":16,"showCheckInAni":i}))),p.a.createElement(r.a,{"className":C.a.label},a.getLabelText(n,o)))})),a.state={"activeIndex":-1},a}return Object(u.a)(GuardCashProcess,[{"key":"componentDidMount","value":function componentDidMount(){Object(x.b)(6470074)}},{"key":"render","value":function render(){var e,t=this,a=(null===(e=this.store)||void 0===e?void 0:e.info)||{},n=a.totalDays,s=a.cashAmount,o=a.currentDay,i=a.status;return p.a.createElement(p.a.Fragment,null,p.a.createElement(A.a,null),p.a.createElement(j.a,{"onClose":this.onClose,"showClose":!0,"onBtn1Confirm":this.handleBtnClick,"customContentStyle":{"backgroundImage":"linear-gradient(180deg, #FFFBF3 0%, #FFF3DD 21%, #FFEECF 88%, #FFF5E3 100%)","border":"".concat(Object(y.a)(4)," solid #FFD9A1")}},p.a.createElement(r.a,{"className":C.a.container},p.a.createElement(r.a,{"className":C.a.header},p.a.createElement(c.a,{"className":C.a.headerBackBg,"src":Object(I.a)("guard_cash_back_header_bg")}),p.a.createElement(c.a,{"className":C.a.headerFrontBg,"src":Object(I.a)("guard_cash_front_header_bg")}),p.a.createElement(r.a,{"className":C.a.headerText},p.a.createElement(w.a,{"text":"连续".concat(n,"天打卡，守卫").concat(Object(F.o)(s/100),"元{redpacket%20%}")}))),p.a.createElement(r.a,{"className":C.a.title},"若中断，将收回加赠现金"),p.a.createElement(r.a,{"className":C.a.content},p.a.createElement(r.a,{"className":f()(C.a.bar,Object(m.a)({},C.a.shortBar,2===n))},p.a.createElement(r.a,{"className":C.a.innerBar,"style":{"width":Object(y.a)(2*this.getInnerBarWidth())}}),p.a.createElement(r.a,{"className":C.a.list},this.days.map((function(e,a){var n;return t.renderProcess({"index":a,"isActive":a===o,"isLast":a===(null===(n=t.days)||void 0===n?void 0:n.length)-1,"hasChecked":a<o||a===o&&i===N.a.finished})}))))),i===N.a.finished?null:p.a.createElement(r.a,{"className":C.a.countdown},p.a.createElement(w.a,{"text":"仅剩<#FF740D#".concat(Object(G.g)(this.globalStore.fakeTodayTimeLeft),">")})),p.a.createElement(r.a,{"className":C.a.btn,"onClick":this.handleBtnClick},p.a.createElement(E.b,{"type":E.a.PopupPrize,"text":this.btnText()})))))}},{"key":"globalStore","get":function get(){return this.props[_.b.GLOBAL]}},{"key":"popupQueueStore","get":function get(){return this.props[_.b.POPUP_QUEUE]}},{"key":"store","get":function get(){return this.props[_.b.GUARD_CASH]}},{"key":"days","get":function get(){var e;return new Array(null===(e=this.store.info)||void 0===e?void 0:e.totalDays).fill(0)}}]),GuardCashProcess}(O.Component))||n)||n)||n},"A54J":function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a("MQ17"),c=a("w9YI"),r=a("QjaO"),s=a("ZsPb"),o=a("JsaZ"),i=a("q1tI"),l=a.n(i),u=a("DW0d"),b=a.n(u),h=a("TSYQ"),d=a.n(h),m=a("bmJN"),O=function(e){Object(s.a)(CheckIn,e);var t=Object(o.a)(CheckIn);function CheckIn(){return Object(c.a)(this,CheckIn),t.apply(this,arguments)}return Object(r.a)(CheckIn,[{"key":"render","value":function render(){var e=this.props,t=e.showCheckInAni,a=e.color,c=void 0===a?"#fb4d27":a,r=e.width,s=void 0===r?16:r,o=e.height,i=void 0===o?16:o;return l.a.createElement("svg",{"style":{"opacity":1,"width":Object(m.a)(2*s),"height":Object(m.a)(2*i),"boxShadow":"inset ".concat(Object(m.a)(0)," ").concat(Object(m.a)(0)," ").concat(Object(m.a)(0)," ").concat(Object(m.a)(50)," ").concat(c)},"className":d()(b.a.done,b.a.tickAnimate1Init,Object(n.a)({},b.a.tickAnimate1End,t)),"xmlns":"https://www.w3.org/2000/svg","viewBox":"0 0 52 52"},l.a.createElement("circle",{"className":d()(b.a.circle,Object(n.a)({},b.a.tickAnimate2,t)),"style":{"stroke":c},"cx":"26","cy":"26","r":"25","fill":"none"}),l.a.createElement("path",{"className":d()(b.a.check,Object(n.a)({},b.a.tickAnimate3,t)),"fill":"none","d":"M14.1 27.2l7.1 7.2 16.7-16.8"}))}}]),CheckIn}(i.Component)},"DW0d":function(e,t,a){e.exports={"done":"_1FAPnuw","circle":"VfstMsP","check":"_3Y0_ij-","tickAnimate1Init":"_2lJxf0t","tickAnimate1End":"_3EA2GlI","tickAnimate2":"_3Bzea_D","strokeAni":"_1K5qOnL","tickAnimate3":"_1tVpAhU"}},"vmr4":function(e,t,a){e.exports={"header":"_1h4UedP","headerText":"_2mkw8I2","headerBackBg":"_2srRGCt","headerFrontBg":"_2tDCKB8","title":"_1MMI6nZ","content":"_3qJQm0U","bar":"mQZXnzK","shortBar":"-T-LOyX","innerBar":"_1nvs7cy","btn":"_3IO_i1u","list":"_2pL5w4V","item":"_1KxYFA8","lastItem":"IAPyRkJ","label":"_17ruv1Y","lastItemFinish":"_3OG4XoM","lastCircle":"NcoEMwe","circle":"_2MrbtFa","checkIn":"_3sW-QkV","activeItem":"_3T-T8G7","countdown":"_141oTOx"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-fit/js/FitV2Popups-GuardCashProcess_743f82ed9a1456fd4435.js.map