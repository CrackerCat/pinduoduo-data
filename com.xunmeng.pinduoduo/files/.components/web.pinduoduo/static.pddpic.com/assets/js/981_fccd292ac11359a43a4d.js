"use strict";(self.webpackChunkmobile_fun_cashback=self.webpackChunkmobile_fun_cashback||[]).push([[981],{43429:function(t,e,r){var n=r(75004);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,o,f,l=c(s);function s(){var t;return i(this,s),(t=l.apply(this,arguments)).observer=null,t.DomNode=null,t.timer=null,t.provideOptions=function(){t.DomNode&&t.registerImprToComponent()},t.registerImprToComponent=function(){var e=t.props,r=e.threshold,n=void 0===r?.75:r,o=e.rootMargin,i={threshold:n,rootMargin:(void 0===o?"0px":o)||"0px",root:null};t.observer=new IntersectionObserver(t.observerCallBack,i),t.observer.observe(t.DomNode)},t.observerCallBack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.singleTracking(e)}))},t.singleTracking=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.props,n=r.onEnter,o=r.onLeave,i=r.doImpr;t.isItemIn(e)?(i&&t.trackingAction(),n&&n(e)):o&&o(e)},t.trackingAction=function(){t.timer&&clearTimeout(t.timer),t.timer=setTimeout((function(){var e=t.DomNode.getBoundingClientRect().top;if(!(e<-200||e>800)){var r=t.props.once;t.props.doTracking&&t.props.doTracking((function(){t.observer&&t.DomNode&&r&&t.observer.unobserve(t.DomNode)}),{})}}),300)},t.isItemIn=function(e){var r=t.props.threshold,n=void 0===r?.75:r;return e.isIntersecting&&e.intersectionRatio>=n},t}return e=s,(o=[{key:"componentDidMount",value:function(){r(98155),this.provideOptions()}},{key:"componentWillUnmount",value:function(){this.observer&&this.DomNode&&this.observer.unobserve(this.DomNode),this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var t=this;return n.createElement("div",{className:"cartoon-widgets-impr",ref:function(e){t.DomNode=e},style:{height:"100%"}},this.props.children)}}])&&a(e.prototype,o),f&&a(e,f),s}(n.Component);s.defaultProps={once:!0,threshold:.75,rootMargin:"0px"},e.Z=s},15819:function(t,e,r){r.d(e,{Xf:function(){return m},zv:function(){return b},ZP:function(){return g}});var n=r(39569),o=r(60008),i=r(40678),a=r(59552);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(){var t=window.location,e=t.protocol,r=t.hostname;return{"m.pinduoduo.net":"m.pinduoduo.net","mobile.yangkeduo.com":"mobile.yangkeduo.com","csr.pddpic.com":"csr.pddpic.com","amcomponent:":"amcomponent://com.xunmeng.pinduoduo"}["amcomponent:"===e?e:r]||"other"}var s={Ios:/iphone|ipad|ipod/i,IosVersion:/os (\d+)_(\d+)_?(\d+)?/i,Android:/Android/i,AndroidNative:/phh_android_version/i,IosNative:/phh_ios_version/i,IosApiRequest:/BundleID\/com.xunmeng.pinduoduo/i},p="android",y="ios",d="out_android",v="out_ios",h="out_other";function m(){var t=window.navigator.userAgent;return s.AndroidNative.test(t)?t.includes("app_type/tiny")?d:p:s.IosNative.test(t)||s.IosApiRequest.test(t)?y:s.Android.test(t)?d:s.Ios.test(t)?v:h}function b(){return a.IP.isTinyNativePlatform?"tiny":a.IP.isLiteNativePlatform?"lite":a.IP.isMecoCore?"meco":a.IP.isNativePlatform&&window.navigator.userAgent.match(/Android/)?window.navigator.userAgent.match(/MQQBrowser/)?"x5":"system":"other"}function g(t){var e,r=t.pn,u=void 0===r?0:r,f=t.groupId,s=window.location,p=s.protocol,y=s.hostname,d=s.href,v=(0,n.FU)(d);return{tags:{isDirty:0,connectZero:0,isPreRender:(0,a.UO)().onPreRenderShow?1:0,hostname:l(),platform:m(),nativePackType:b(),pn:u,firstInit:0},fields:c(c(c({perf:(e=[],window.performance&&window.performance.timing?(e.push(1),e.push(window.performance.getEntriesByName&&window.performance.getEntriesByType?1:0),e.push(window.performance.mark?1:0)):e.push(0),e.join("")),href:d,protocol:p,hostname:y,system:a.IP.system},a.IP.systemVersion?{systemVersion:a.IP.systemVersion}:{}),a.IP.version?{version:a.IP.version}:{}),{},{platform:a.IP.platform,logVersion:o.VU,env:"production",traceId:(0,i.Wj)(f),referPageName:v.refer_page_name||"",referPageSN:v.refer_page_sn||"",userAgent:window.navigator.userAgent}),longFields:c(c({},a.IP.systemVersion?{systemVersionLong:(0,i.eQ)(a.IP.systemVersion)}:{}),a.IP.version?{appLongVersion:(0,i.eQ)(a.IP.version)}:{})}}},11201:function(t,e,r){r.d(e,{q:function(){return Ue},Z:function(){return Fe}});var n=r(38231),o=r(2171),i=r(27087),a=r(15819),u=r(60350);function c(){var t=[["script",function(t){return t.src||""}],["link",function(t){return"stylesheet"===t.rel&&t.href||""}]].map((function(t){return Array.from(document.getElementsByTagName(t[0])).map(t[1]).join("")}));return(0,u.k)(t.join(""))}var f=(0,n.HP)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.skipNewVersionCheck)return!1;if("undefined"==typeof localStorage||!localStorage)return!0;var e=c(),r="pdd_monitor_build_version";if(e){var n=window.location.pathname,o=localStorage.getItem(r);try{o=JSON.parse(o)||{}}catch(t){o={}}var i=e===o[n];return i||(o[n]=e,localStorage.setItem(r,JSON.stringify(o))),!i}return!1}),100,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!t.skipNewVersionCheck})),l=r(59552),s=r(40678),p=r(60008);function y(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var g=["Native","Performance","Custom"],w=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,"datasource",null),b(this,"rts",[]),b(this,"tags",{}),b(this,"fields",{}),b(this,"longFields",{}),b(this,"ranges",{})}var e,r,n;return e=t,(r=[{key:"value",get:function(){return this.datasource}},{key:"request",value:function(){}},{key:"buildData",value:function(){}},{key:"getBoundValue",value:function(){return 1e4}},{key:"addUnHealthyField",value:function(t,e){g.includes(this.name)&&(this.fields["is".concat(this.name,"UnHealthy")]=!0,this.fields["".concat(this.name,"_unhealthy_").concat(t)]=e)}},{key:"reviseValue",value:function(t){var e=t.key,r=t.start,n=t.end;if(r&&n){var o=d(e.split("~"),1)[0],i=o.startsWith("noLog^"),a=0,u=0;if(-1!==n){var c=this.getBoundValue(e);a=u=parseInt(n-r,10)||0,(u<0||u>c)&&(a=Math.max(0,Math.min(u,c)),i||this.addUnHealthyField(e,u))}i||this.longFields["".concat(this.name,"_").concat(o)]||(this.longFields["".concat(this.name,"_").concat(o)]=a),this.rts.push({key:e,start:r,end:n,originValue:u,value:a})}}},{key:"batchReviseValue",value:function(t){var e=this,r=t.source,n=t.start;Object.keys(r).forEach((function(t){e.reviseValue({key:t,start:n,end:r[t]})}))}},{key:"buildRanges",value:function(t){var e=this;return t=Object.entries(t).reduce((function(t,r){var n=d(r,2),o=n[0],i=n[1],a=d(o.split("~"),2),u=a[0],c=a[1],f=d(u.split("#"),2),l=f[0];return f[1]?(o="".concat(l).concat(c?"~"+c:""),e.ranges[o]=[].concat(y(e.ranges[o]||[]),[i])):t[o]=i,t}),{}),Object.entries(this.ranges).forEach((function(t){var r=d(t,2),n=r[0],o=r[1];e.reviseValue({key:n,start:o[0],end:o[1]})})),t}}])&&m(e.prototype,r),n&&m(e,n),t}();function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reduce((function(t,e){var r=new e;if(!(r instanceof w))throw new Error("[monitor]: exist collecter don‘t extends BaseCollecter");if(!r.name)throw new Error("[monitor]: collecter’s name miss");if(t[r.name])throw new Error("[monitor]: repeat collecter name ".concat(r.name));return t[r.name]=r,t}),{}),n=Object.values(r);return Promise.all(n.map((function(t){return t.request(e[t.name])}))).then((function(){return n.forEach((function(t){t.buildData(r)})),r}))}var S=r(84195);function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach((function(e){V(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function k(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){R(i,n,o,a,u,"next",t)}function u(t){R(i,n,o,a,u,"throw",t)}a(void 0)}))}}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(t,e){return x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},x(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=B(t);if(e){var o=B(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return D(this,r)}}function D(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return N(t)}function N(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}function V(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var F=["nativeStartRoute","nativeInit","nativeLoadURL","nativeStartLoad","nativeFetchStart","nativeDnsStart","nativeDnsEnd","nativeConnectStart","nativeSecureConnectStart","nativeSecureConnectEnd","nativeConnectEnd","nativeRequestStart","nativeRequestEnd","nativeResponseStart","nativeResponseEnd","nativeCompeleteLoad"],M=["webViewInit","webViewSetUrl","webViewLoadStart"];var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(u,t);var e,r,n,o,i,a=C(u);function u(){var t;T(this,u);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return V(N(t=a.call.apply(a,[this].concat(r))),"name","Native"),V(N(t),"nativeStart",0),V(N(t),"unoContext",{}),t}return e=u,r=[{key:"getTiming",value:(i=k(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,S.Q6)("WebScene","getTiming",null,"4.29.0","4.29.0").catch((function(){return null}));case 2:this.datasource=t.sent;case 3:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getUnoContext",value:(o=k(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,S.Q6)("WebScene","getUnoContext",null,"4.78.0","4.78.0").catch((function(){return{}}));case 2:this.unoContext=t.sent;case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"request",value:function(){if(l.IP.isNativePlatform)return Promise.all([this.getTiming(),this.getUnoContext()])}},{key:"recordUnoContext",value:function(){var t,e,r,n=this;this.tags={isCold:(t=this.unoContext,e=t.webview_count,r=t.process_lifetime,(void 0===r?0:r)<10||e&&e<=1?1:0),isInset:this.unoContext.is_inset?1:0},Object.entries(this.unoContext).forEach((function(t){var e=I(t,2),r=e[0],o=e[1];if("object"!==_(o)){var i="Native_".concat(r);["process_lifetime","webview_count","webview_load_count"].includes(r)||0===r.indexOf("long_")?n.longFields[i]=parseInt(o,10)||0:n.fields[i]=o}}))}},{key:"getBoundValue",value:function(t){return["nativeCompeleteLoad"].includes(t)?2e4:5e3}},{key:"buildData",value:function(){var t=this;if(l.IP.isNativePlatform)if(this.value)if(this.unoContext.webview_load_count>1)this.addUnHealthyField("webview_load_count",this.unoContext.webview_load_count);else{var e=this.value,r=e.webViewRefresh,n=e.webViewSetUrl,o=e.webViewLoadStart,i=e.webViewInit,a=void 0===i?0:i,u=e.nativeStartRoute,c=void 0===u?0:u,f=e.nativeContainerResume;if(r)this.addUnHealthyField("webViewRefresh",r);else{if(c&&-1!==c)this.nativeStart=c,f&&-1!==f&&1===Number(this.unoContext.string_is_container_resume)&&(this.nativeStart=f),F.forEach((function(e){t.reviseValue({key:e,start:t.nativeStart,end:t.value[e]})}));else{if(this.addUnHealthyField("nativeStartRoute",c),!a||-1===a)return void this.addUnHealthyField("webViewInit",a);this.nativeStart=a}M.forEach((function(e){t.reviseValue({key:e,start:t.nativeStart,end:t.value[e]})})),this.reviseValue({key:"webViewSetUrl_low",start:a,end:n}),this.reviseValue({key:"webViewLoadStart_low",start:n,end:o}),this.longFields["".concat(this.name,"_nativeStart")]=this.nativeStart,this.fields=P(P({},this.fields),this.value),this.recordUnoContext()}}else this.addUnHealthyField("webviewRts",null)}}],r&&A(e.prototype,r),n&&A(e,n),u}(w),q=U;function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}var z=["navigationStart"];function H(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Z(t,e,r){return Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=X(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}},Z(t,e,r||t)}function $(t,e){return $=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$(t,e)}function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=X(t);if(e){var o=X(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return J(this,r)}}function J(t,e){if(e&&("object"===L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return K(t)}function K(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}function Y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tt=["navigationStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","unloadEventStart","unloadEventEnd","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(i,t);var e,r,n,o=G(i);function i(){var t;W(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Y(K(t=o.call.apply(o,[this].concat(r))),"name","Performance"),Y(K(t),"navigationStart",0),t}return e=i,(r=[{key:"request",value:function(){window.performance&&window.performance.timing&&(this.datasource=window.performance.timing)}},{key:"value",get:function(){var t=this;return this.datasource?tt.reduce((function(e,r){return e[r]=t.datasource[r],e}),{}):{}}},{key:"getBoundValue",value:function(t){return["loadEventEnd","loadEventStart","domComplete"].includes(t)?2e4:Z(X(i.prototype),"getBoundValue",this).call(this,t)}},{key:"buildData",value:function(t){this.tags.connectZero=this.value.connectStart===this.value.connectEnd?1:0;var e=this.value,r=e.navigationStart,n=void 0===r?0:r,o=H(e,z),i=t.Native;n||this.addUnHealthyField("navigationStart",0),this.longFields.Performance_base_navigationStart=n,this.navigationStart=n||i.value&&i.value.webViewLoadStart||0,this.navigationStart&&(i.nativeStart&&this.reviseValue({key:"navigationStart",start:i.nativeStart,end:this.navigationStart}),this.batchReviseValue({source:o,start:this.navigationStart}))}}])&&Q(e.prototype,r),n&&Q(e,n),i}(w),rt=et;function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}var ot=["fs","fsn","tti"];function it(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function at(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ut(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ut(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function lt(t,e,r){return lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}},lt(t,e,r||t)}function st(t,e){return st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},st(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=vt(t);if(e){var o=vt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return yt(this,r)}}function yt(t,e){if(e&&("object"===nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vt(t){return vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vt(t)}function ht(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(i,t);var e,r,n,o=pt(i);function i(){var t;ct(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ht(dt(t=o.call.apply(o,[this].concat(r))),"name","Custom"),ht(dt(t),"checkFields",["ps","fp","fs","dr","ld","fsn","fraf","tti"]),t}return e=i,r=[{key:"checkReady",value:function(){var t=this;return this.datasource={},window._plt.forEach((function(e){var r=at(e,3),n=r[0],o=r[1],i=r[2];"tm"===n&&(t.datasource[o]=i)})),this.checkFields.every((function(e){return void 0!==t.datasource[e]}))}},{key:"request",value:function(){var t=this;return new Promise((function(e){var r=window._plt||[],n=r.push,o=function(){return t.checkReady()&&e()};r.push=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var a=n.apply(r,e);return o(),a},window._plt=r,o()}))}},{key:"value",get:function(){var t=window.performance,e=this.datasource,r=0,n=0,o={};if(t&&t.timing&&t.getEntriesByName&&t.getEntriesByType){var i=t.timing.navigationStart,a=t.getEntriesByName("first-paint")[0],u=t.getEntriesByName("first-contentful-paint")[0];a&&(r=a.startTime+i),u&&(n=u.startTime+i);var c=Array.from(document.querySelectorAll("script")).filter((function(t){return t.src&&!t.async})).map((function(t){return t.src})),f=Array.from(document.querySelectorAll('link[rel="stylesheet"]')).map((function(t){return t.href})),l=t.getEntriesByType("resource"),s=l.filter((function(t){return f.includes(t.name)})),p=l.filter((function(t){return c.includes(t.name)})),y=function(t,e,r){return(t.length&&t.reduce((function(t,n){return Math[e](t,n[r])}),t[0][r])||0)+i},d=function(t,e){return y(t,"min",e)},v=function(t,e){return y(t,"max",e)};o={scriptStart:d(p,"fetchStart"),scriptEnd:v(p,"responseEnd"),styleStart:d(s,"fetchStart"),styleEnd:v(s,"responseEnd")}}var h={ps:e.ps,fp:e.fp,fs:e.fs,dr:e.dr,ld:e.ld,fsn:e.fsn,fpc:r,fcp:n,styleStart:o.styleStart,styleEnd:o.styleEnd,scriptStart:o.scriptStart,scriptEnd:o.scriptEnd,fraf:e.fraf,tti:e.tti};return Object.keys(h).reduce((function(t,e){return t[e]=parseInt(h[e],10)||0,t}),{})}},{key:"getBoundValue",value:function(t){return["ld","fs"].includes(t)?2e4:lt(vt(i.prototype),"getBoundValue",this).call(this,t)}},{key:"buildData",value:function(t){var e=t.Performance.navigationStart;if(e){var r=this.value,n=r.fs,o=r.fsn,i=r.tti,a=it(r,ot),u=(0,l.UO)(),c=u.onPreRenderShow,f=u.requestStart,s=u.requestEnd,p=u.onPreRenderFinish,y=c||e;this.batchReviseValue({source:a,start:e}),this.batchReviseValue({source:{fs:n,fsn:o,tti:i},start:y}),this.batchReviseValue({source:{preRequestStart:f,preRequestEnd:s},start:c}),this.batchReviseValue({source:{onPreRenderFinish:p},start:e})}}}],r&&ft(e.prototype,r),n&&ft(e,n),i}(w),bt=mt,gt=r(68340),wt=r(46016);function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function St(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?St(Object(r),!0).forEach((function(e){At(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function It(t,e){return It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},It(t,e)}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Tt(t);if(e){var o=Tt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Rt(this,r)}}function Rt(t,e){if(e&&("object"===Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kt(t)}function kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tt(t){return Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Tt(t)}function At(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(i,t);var e,r,n,o=Et(i);function i(){var t;Pt(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return At(kt(t=o.call.apply(o,[this].concat(r))),"name","DeviceInfo"),t}return e=i,(r=[{key:"request",value:function(){var t,e=this;return Promise.all([(t={0:"未知",1:"wifi",2:"2G",3:"3G",4:"4G"},new Promise((function(e){if(l.IP.isNativePlatform)return(0,S.Q6)("JSNetwork","info").then((function(r){var n=r.reachable,o=r.network_type,i=r.speed;e({fields:{reachable:n,networkType:t[o]},longFields:{speed:parseInt(i||0,10)}})}),(function(){return e({})}));(0,wt.R)().then((function(r){e({fields:{networkType:t[r]}})}),(function(){return e({})}))}))),Ct("memory"),Ct("battery"),Ct("device",(function(t){var e=t.phoneModel,r=void 0===e?"unknown":e,n=t.deviceName;return{phoneModel:r,deviceName:void 0===n?"unknown":n}}))]).then((function(t){t.forEach((function(t){e.fields=jt(jt({},e.fields),t.fields),e.longFields=jt(jt({},e.longFields),t.longFields)}))}))}}])&&_t(e.prototype,r),n&&_t(e,n),i}(w);function Ct(t,e){var r=l.IP.isNativePlatform&&(0,gt.yC)(l.IP.version,"5.51.0")>=0,n={memory:"getMemoryInfo",device:"deviceInfo",battery:"getBatteryInfo"}[t];return r&&n?(0,S.Q6)("AMDevice",n).then((function(r){var n=(e?e(r):r)||{};return{fields:Object.keys(n).reduce((function(e,r){return e["Native_".concat(t,"_").concat(r)]=n[r],e}),{})}}),(function(){return{}})):Promise.resolve({})}var Dt=xt;function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ft(t,e){return Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ft(t,e)}function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Lt(t);if(e){var o=Lt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ut(this,r)}}function Ut(t,e){if(e&&("object"===Nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qt(t)}function qt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lt(t){return Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lt(t)}function zt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ht=function(t){return"number"==typeof t&&!Number.isNaN(t)},Wt=function(t){return[t.transferSize,t.decodedBodySize,t.encodedBodySize].every((function(t){return Ht(t)}))},Qt=function(t){return Math.round(t/1024)},Zt=function(t){return Math.max(Math.min(Math.round(t),2e4),0)},$t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(i,t);var e,r,n,o=Mt(i);function i(){var t;Bt(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return zt(qt(t=o.call.apply(o,[this].concat(r))),"name","Resource"),t}return e=i,r=[{key:"recordWithPrefix",value:function(t){var e=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object.keys(t).forEach((function(n){e[r?"longFields":"fields"]["".concat(e.name,"_").concat(n)]=t[n]}))}},{key:"getJSResourceInfo",value:function(){try{for(var t=0,e=0,r=0,n=0,o=0,i=0,a=performance.getEntriesByType("resource"),u=Array.from(document.querySelectorAll("script")).filter((function(t){return t.src})),c=a.filter((function(t){if(["script","link"].includes(t.initiatorType)&&(t.name.endsWith(".js")||t.name.endsWith(".css"))){var e=u.find((function(e){return e.src===t.name}));return e&&!e.async}return!1})),f=0;f<c.length;f++){var l=c[f],s=l.transferSize,p=l.decodedBodySize,y=l.encodedBodySize;if(!Wt(c[f]))return{};r+=1,t+=y,e+=p,s>0?i+=1:o+=1,n+=s}this.recordWithPrefix({totalEncodedBodySize:Qt(t),totalDecodedBodySize:Qt(e),totalTransferSize:Qt(n),resourceNum:r,cacheResourceNum:o,transferResourceNum:i})}catch(t){}}},{key:"getHtmlResourceInfo",value:function(){try{var t=performance.getEntriesByType("navigation")[0];Wt(t)&&this.recordWithPrefix({htmlEncodedBodySize:Qt(t.encodedBodySize),htmlDecodedBodySize:Qt(t.decodedBodySize),htmlTransferSize:Qt(t.transferSize)})}catch(t){}}},{key:"getFsImgsResourceInfo",value:function(){try{var t=window.__fsImgSrcs||[],e=performance.timing.navigationStart;if(0!==t.length){var r=(0,l.UO)().onPreRenderShow,n=r?r-e:0,o=performance.getEntriesByType("resource").filter((function(e){var r=e.name;return t.includes(r)})),i=o.map((function(t){return t.fetchStart})).reduce((function(t,e){return Math.min(t,e)}),2e4),a=function(t){return t.reduce((function(t,e){return Math.max(t,e)}),0)}(o.map((function(t){return t.responseEnd})));if([i,a].every((function(t){return Ht(t)})))return this.recordWithPrefix({fsImgsFetchStart:Zt(i),fsImgsResponseEnd:Zt(a-n)})}else{var u=function(t){return window._plt.find((function(e){return e[1]===t}))[2]-e};this.recordWithPrefix({fsImgsFetchStart:Zt(u("fp")),fsImgsResponseEnd:Zt(u("fsn"))})}}catch(t){}}},{key:"getServerTimingInfo",value:function(){var t=this;try{performance.getEntriesByType("navigation")[0].serverTiming.forEach((function(e){e.name&&("string"==typeof e.description&&e.description?t.fields["ServerTiming_".concat(e.name)]=e.description:"number"==typeof e.duration&&(t.longFields["ServerTiming_".concat(e.name)]=Math.round(e.duration)))}))}catch(t){}}},{key:"request",value:function(){this.getJSResourceInfo(),this.getHtmlResourceInfo(),this.getFsImgsResourceInfo(),this.getServerTimingInfo()}}],r&&Vt(e.prototype,r),n&&Vt(e,n),i}(w),Gt=$t;function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}var Kt=["nodeInit"];function Xt(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Yt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return te(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return te(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ne(t,e){return ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ne(t,e)}function oe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ue(t);if(e){var o=ue(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ie(this,r)}}function ie(t,e){if(e&&("object"===Jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ae(t)}function ae(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ue(t){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ue(t)}function ce(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ne(t,e)}(i,t);var e,r,n,o=oe(i);function i(){var t;ee(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ce(ae(t=o.call.apply(o,[this].concat(r))),"name","Node"),t}return e=i,(r=[{key:"request",value:function(){var t=window.__MONITOR_INFOS__;t&&(this.datasource=t.serverData)}},{key:"record",value:function(t){var e=this;Object.entries(this.value[t]).forEach((function(r){var n=Yt(r,2),o=n[0],i=n[1];e[t][o]=i}))}},{key:"buildData",value:function(t){if(this.value){var e=t.Performance.value.requestStart,r=this.value.marks,n=r.nodeInit,o=Xt(r,Kt);if(e){var i=n-e;n=e,o=Object.entries(o).reduce((function(t,e){var r=Yt(e,2),n=r[0],o=r[1];return t[n]=o-i,t}),{})}o=this.buildRanges(o),this.batchReviseValue({source:o,start:n}),this.record("tags"),this.record("fields"),this.record("longFields")}}}])&&re(e.prototype,r),n&&re(e,n),i}(w),le=fe;function se(t){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(t)}function pe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ye(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ye(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function de(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function he(t,e){return he=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},he(t,e)}function me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=we(t);if(e){var o=we(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return be(this,r)}}function be(t,e){if(e&&("object"===se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ge(t)}function ge(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function we(t){return we=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},we(t)}function Oe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&he(t,e)}(i,t);var e,r,n,o=me(i);function i(){var t;de(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Oe(ge(t=o.call.apply(o,[this].concat(r))),"name","Client"),t}return e=i,(r=[{key:"request",value:function(){this.datasource=window._plt.reduce((function(t,e){var r=pe(e,3),n=r[0],o=r[1],i=r[2];return"ctm"===n&&(t.ctm[o]=parseInt(i,10)||0),"cf"===n&&(t.cf[o]=i),t}),{ctm:{},cf:{}})}},{key:"recordCustomFields",value:function(){var t=this;Object.keys(this.value.cf).forEach((function(e){t.fields[e]=t.value.cf[e]}))}},{key:"buildData",value:function(t){var e=t.Performance.navigationStart;if(e){var r=this.buildRanges(this.value.ctm);this.batchReviseValue({source:r,start:e}),this.recordCustomFields()}}}])&&ve(e.prototype,r),n&&ve(e,n),i}(w),je=Se;function Pe(t){return t.reduce((function(t,e){var r=e.rts.sort((function(t,e){return t.start-e.start})).map((function(t){return{name:t.key,start:Math.round(t.start),end:Math.round(t.start+t.value)}}));return r.length&&t.push({title:e.name,spans:r}),t}),[])}function _e(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function Ie(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){_e(i,n,o,a,u,"next",t)}function u(t){_e(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Ee(){return(Ee=Ie(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.e(3910).then(r.bind(r,70687));case 2:(0,t.sent.default)(e,n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Re=r(95399).Z;function ke(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Te(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(r),!0).forEach((function(e){Ae(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ae(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||Ne(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function De(t){return function(t){if(Array.isArray(t))return Be(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ne(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(t,e){if(t){if("string"==typeof t)return Be(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Be(t,e):void 0}}function Be(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ve=[].concat([q,rt,bt,Dt,Gt,le,je]);function Fe(t){t=Array.isArray(t)?t:[t],Ve.push.apply(Ve,De(t))}function Me(t){(0,n.K2)(new Error("@pdd/monitor:"+t))}var Ue=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"undefined"!=typeof window){var r=(0,l.Up)(),n=r.amplifyRate,o=r.sampleRate;this.amplifyRate=n,this.sampleRate=o,this.firstInit=String(+f()),this.report(e)}else Me("服务端禁止调用 Pmm.init")}var e,r,u;return e=t,r=[{key:"reportCustom",value:function(t){var e=this,r=String(t.groupId),n=t.customTraceSpanFormatter||Pe,u=Ve,c=[(0,s.VN)(),O(u,{})];Promise.all(c).then((function(u){var c=xe(u,2),f=c[0],y=c[1],d=Object.values(y),v=d.reduce((function(t,e){return t.tags=Te(Te({},t.tags),e.tags),t.longFields=Te(Te({},t.longFields),e.longFields),t.fields=Te(Te({},t.fields),e.fields),t.fields["is".concat(e.name,"UnHealthy")]&&(t.tags.isDirty=1),t}),(0,a.ZP)({pn:t.pn,groupId:r}));v.fields.uid=f||"0",v.fields.pddEtag=(0,o.ej)("ETag")||"0",v.tags.firstInit=e.firstInit,v.longFields.amplifyRate=e.amplifyRate,t.grayTag&&(v.tags.gray=t.grayTag);var h=n(d);window.__MONITOR_INFOS__&&window.__MONITOR_INFOS__.usePanel&&function(t,e){Ee.apply(this,arguments)}(r,h),Math.random()>e.sampleRate||!r||(window.__FRONTEND_PERF_DATA__={tags:Te({},v.tags),longFields:Te({},v.longFields)},(0,i.P2)(Te({groupId:r,amplifyRate:e.amplifyRate},v),{appId:p.oN,bizSide:p.gM}),t.useTrace&&function(t){var e=t.timelines,r=t.pn,n=t.groupId,o=t.userId,i=(0,l.GP)("/api/cmt/trace"),a=l.IP.system,u=l.IP.systemVersion,c=l.IP.version,f=l.IP.platform,p={traceId:(0,s.Wj)(n),tags:{system:a,version:c,systemVersion:u,platform:f,href:window.location.href,userID:o||"0",pageName:r||"none"},span:e};(0,l.wG)(i,p)}({timelines:h,pn:t.pn,groupId:r,userId:f}),function(t,e,r){var n=t.pagePath,o=r.tags,a=r.longFields;(0,i.P2)([{groupId:"90246",amplifyRate:e,tags:{pagePath:String(n)}},{groupId:"90341",amplifyRate:e,tags:{pn:o.pn,hostname:o.hostname,platform:o.platform},longFields:a,fields:o}],{appId:p.oN,bizSide:p.gM},!0)}(t,e.amplifyRate,v))}))}},{key:"report",value:function(t){this.reportCustom(t),Re(t,this.amplifyRate,this.sampleRate)}}],u=[{key:"init",value:function(e){try{var r=["pn","pagePath","groupId"].filter((function(t){return!e[t]}));if(r.length)return void Me("Pmm.init 上报，必须传入: ".concat(r.map((function(t){return"options.".concat(t)})).join(", ")));e.logTTISelf||window._plt.push(["tm","tti",+new Date]),(0,l.Rj)((function(){return new t(Te({},e))}))}catch(t){(0,n.K2)(t)}}}],r&&Ce(e.prototype,r),u&&Ce(e,u),t}()},95399:function(t,e,r){var n=r(17617),o=r(81237),i=r.n(o),a=r(38231),u=r(27087),c=r(15819),f=r(60008);function l(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v={LCP:{sr:1,ul:1e4},TTID:{sr:1,ul:2e4},FID:{sr:10,ul:1e3},CLS:{sr:1e4,ul:1}},h=function(t){return"number"==typeof t&&!Number.isNaN(t)},m=function(t,e){if(!h(t))return-1;var r=v[e],n=r.sr,o=r.ul;return Math.min(Math.max(Math.round(t*n),0),o*n)};function b(t,e,r){var n=t.map((function(t){var n=t.name,o=t.value;return{groupId:90213,amplifyRate:r,tags:y({logType:n},e),fields:{},longFields:{indexValue:m(o,n)}}}));(0,u.P2)(n,{appId:f.oN,bizSide:f.gM},!0)}e.Z=function(t,e,r){var o=t.pn,u=t.grayTag;try{if(Math.random()>r)return;var f={pn:o,platform:(0,c.Xf)(),nativePackType:(0,c.zv)(),grayTag:u};i().getFirstConsistentlyInteractive({}).then((function(t){h(t)&&b([{name:"TTID",value:t}],f,e)}));var s=[],p=function(t){s&&s.push(t)};(0,n.Tx)(p),(0,n.kz)(p),(0,n.Tb)(p);window.addEventListener("visibilitychange",(function t(){if("hidden"===document.visibilityState)try{s.length>0&&(b(l(s),f,e),s=null,window.removeEventListener("visibilitychange",t))}catch(t){(0,a.K2)(t)}}))}catch(t){(0,a.K2)(t)}}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-fun-cashback/js/981_fccd292ac11359a43a4d.js.map