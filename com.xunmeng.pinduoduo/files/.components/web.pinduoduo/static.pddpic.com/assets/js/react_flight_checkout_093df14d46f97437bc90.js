(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6852],{88771:function(e,t){"use strict";t.Z={AliPay:1,WeChat:2,QQPay:3,ApplePay:4,AliPayDirectDebit:5,FriendPay:6,HBInstallmentPay:7,AliPayV2:8,UnionPay:9,DuoDuoPay:10,HBPay:11,XianYongHouFu:12,DuoDuoPayACS:13,CreditCardInstallmentPay:14}},35077:function(e,t){"use strict";t.Z={Normal:"",Tail:"tail",Combine:"combine"}},97719:function(e,t,r){"use strict";r.d(t,{Z:function(){return I}});var n=r(59713),o=r.n(n),i=r(6479),a=r.n(i),s=r(48926),c=r.n(s),u=r(27361),l=r.n(u),p=r(87757),f=r.n(p);r(66337);var d=r(36792),y=r(6341),h=r(62424),v=r(28387),m=r(51308),g=r(12045),b=r(9714),O=["extraPageOptions"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(){return T.apply(this,arguments)}function T(){return(T=c()(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.X6)().then((function(e){return 1==+e.shown_type})).catch((function(){return!1}));case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,d.Rl)();case 7:(0,g.Ku)();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){(0,d.GN)(),(0,d.NX)({type:2}).catch((function(){return(0,d.nk)({enable:!1})})),(0,d.Td)({title:document.title})}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,h.BY)();var r=t.extraPageOptions,n=void 0===r?{}:r,o=a()(t,O),i=(0,y.rL)(o),s=l()(t,"pageProperty.native.pullrebound");s&&(i.initNativeBehavior=k);var c={appId:"100413",bizSide:"consumer-platform-fe",testAppId:"100297"};(0,m.g)(e,E({title:e.appConfig.title,pmmAppInfo:c},i)),(0,h.dP)();var u=(0,v.zT)();if(n.prefetchTarget&&!u.isNativePlatform){var p=n.prefetchTarget,f=p.pageName,d=p.leoMaxAge;(0,b.KF)(f,d)}null!=n&&n.isManualPV&&u.isNativePlatform&&w()}},2248:function(e,t,r){"use strict";r(68975),r(32e3),r(48977),r(98837),r(52310),r(94899),r(1268),r(30522),r(62773),r(56997),r(19371),r(58295),r(50110),r(20075),r(31842),r(19977),r(41560),r(48377),r(88416),r(11246),r(53403),r(75115),r(48646),r(22658),r(83276),r(89375),r(94882),r(98351),r(79622),r(41520),r(16917),r(30372),r(84672),r(96253),r(99176),r(64157),r(35095),r(49892),r(27476),r(43533),r(68838),r(96409),r(40851),r(9865),r(83946),r(66108),r(98184),r(95767),r(79665),r(29539),r(96620),r(50191),r(62850),r(39115),r(41784),r(92770),r(98306),r(10823),r(17732),r(65869),r(94325),r(32564),r(84633),r(91181),r(35666);var n=r(97719),o=r(34575),i=r.n(o),a=r(93913),s=r.n(a),c=r(2205),u=r.n(c),l=r(78585),p=r.n(l),f=r(29754),d=r.n(f),y=r(67294),h=r.n(y),v=r(29323),m=r(693),g=r(8167),b=r(20370),O=r(20971),P=r(80130),E=r(63038),w=r.n(E),T=r(54268),k=r(82696),I=function(){function e(){var t=this;i()(this,e),this.progressTimer=void 0,this.cleanProgressInterval=function(){clearInterval(t.progressTimer)},this.setProgressInterval=function(e,r,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=n;t.progressTimer=setInterval((function(){var n=t.getRangIndex(a,e);if(r[n]&&Math.ceil(a)<100){a+=r[n];var s=Math.ceil(a);o&&o(i?Math.min(s,100):Math.min(s,95))}else t.cleanProgressInterval()}),i?25:200)},this.startProgress=function(e,r){t.cleanProgressInterval();t.setProgressInterval([60,70,80,90,95],[6,2,1,.4,.05],e,r,!1)}}return s()(e,[{key:"getRangIndex",value:function(e,t){return t.findIndex((function(t){return e<t}))}},{key:"setProgressSuccess",value:function(e,t){if(this.cleanProgressInterval(),0!==e){this.setProgressInterval([101],[2.5],e,t,!0)}}}]),e}(),C=new I,_="h6Pw51qD",D="dxDQXV98",L="bcGTC9gE",N="_0Te0hgfC",A="ISSb9jUE",S="wF+3Q1Wp",R=(0,T.H)("/flight/2020-05-10/c26bb509-64e1-4073-8afd-9e41bcea5539.gif"),x=(0,y.memo)((function(e){var t=e.isSuccess,r=e.successCallback,n=(0,y.useState)(0),o=w()(n,2),i=o[0],a=o[1];return(0,y.useEffect)((function(){return t?C.setProgressSuccess(i,(function(e){a(e),e>=100&&r&&r()})):C.startProgress(i,a),C.cleanProgressInterval}),[t]),h().createElement("div",{className:_},h().createElement("div",{className:D},h().createElement(k.Z,{className:L,src:R,resizeWidth:176}),h().createElement("div",{className:N},h().createElement("span",{className:A},"提交中"),h().createElement("span",{className:S},i,"%"))))})),j=r(5551),M=r(79952),B=r(93073),z="+u+5655O";var F=(0,v.Pi)((function(){var e,t=(0,B.m)({}).store;return null!=t&&null!==(e=t.airTipList)&&void 0!==e&&e.length?h().createElement("div",{className:z},t.airTipList.map((function(e){return h().createElement("div",{key:e},e)}))):null})),Z=r(6341),H=r(54405),q="T1njPrvk",U="oc00KrrC",$="CDbym6N7",Y={reserve:2440901,dangerous:2440902,special:2440939,disclaimer:2440940,regulation:2440941},G=[{name:"《机票购票须知》",type:"reserve"},{name:"《锂电池及危险品须知》",type:"dangerous"},{name:"《特殊旅客购票须知》",type:"special"},{name:"《航班信息免责声明》",type:"disclaimer"}],W=(0,y.memo)((function(){return h().createElement(h().Fragment,null,G.map((function(e){return h().createElement("span",{key:e.type,onClick:function(){return t=e.type,void(0,Z.wP)({page_el_sn:Y[t]},(0,H.Q2)(H.Jx.PROTOCALS,{protocolName:t}));var t},className:$},e.name,"、")})))})),V=(0,y.memo)((function(e){var t=e.transferList,r=void 0===t?[]:t;return r&&0!==r.length?h().createElement(h().Fragment,null,r.map((function(e,t){return h().createElement("span",{key:e.conditionKey,onClick:function(){return t=e.conditionUrl,void(0,Z.wP)({page_el_sn:Y.regulation},(0,H.Q2)(t,{timestamp:(new Date).getTime()}));var t},className:$},"《",e.conditionKey,"》",t<r.length-1?"、":"")}))):null}));function X(e){var t=e.transferList;return h().createElement("div",{className:q},h().createElement("div",{className:U},h().createElement("span",null,"点击立即购票表示您已阅读并同意"),h().createElement(W,null),h().createElement(V,{transferList:t})))}var K,Q,J,ee,te,re,ne,oe=(0,y.memo)(X),ie=r(75940),ae=r(94184),se=r.n(ae),ce=r(26920),ue=r(90594),le=(0,y.memo)((function(e){var t=e.data.departureInfo,r=t.date,n=t.weekDay,o=t.time;return h().createElement("span",{className:ue.Z.singleInfo},r," ",n," ",o," 起飞")})),pe=(0,y.memo)((function(e){var t=e.data;return h().createElement("div",{className:ue.Z.roundInfo},t.map((function(e){var t=e.departureInfo,r=t.date,n=t.weekDay,o=t.time,i=e.segmentNo,a=e.sequenceNo;return h().createElement("div",{key:i+a,className:ue.Z.segment},h().createElement("span",{className:ue.Z.segmentNo},ce.NY[i]),h().createElement("span",{className:se()(ue.Z.desc,ue.Z.depDate)},r),h().createElement("span",{className:ue.Z.desc},n),h().createElement("span",{className:ue.Z.depTime},o," 起飞"))})))})),fe=(0,y.memo)((function(e){var t=e.flightList,r=void 0===t?[]:t,n=e.clickHandler;return h().createElement("div",{className:ue.Z.summaryInfo},r.length<=1?h().createElement(le,{data:r[0]}):h().createElement(pe,{data:r}),h().createElement("span",{className:ue.Z.detail,"data-active":"after-gray",onClick:function(){return n(!0)}},"详情"))})),de=r(59713),ye=r.n(de),he=r(6479),ve=r.n(he),me=r(64936),ge=["data","segmentNo"],be=(0,v.Pi)((function(e){var t=e.desc,r=e.needSplit,n=void 0===r||r,o=e.clsName,i=void 0===o?ue.Z.productItem:o;return t?h().createElement(h().Fragment,null,h().createElement("span",{className:i},t),n&&h().createElement("div",{className:ue.Z.splitLine})):null})),Oe=(0,v.Pi)((function(e){var t=e.data,r=e.segmentNo,n=ve()(e,ge),o=t.ruleDesc,i=t.baggage,a=t.baggageDesc,s=t.airportOilFeeDesc,c=a||o?"":"查看退改规则和行李额",u=se()(ue.Z.ruleItem,ye()({},ue.Z.tips,0===i));return h().createElement("div",n,r&&h().createElement("span",{className:ue.Z.seg},ce.gT[r]),h().createElement(be,{desc:s}),h().createElement(be,{desc:c,needSplit:!1}),h().createElement(be,{desc:o,needSplit:!!a}),h().createElement(be,{desc:a,clsName:u,needSplit:!1}))})),Pe=(0,y.memo)((function(e){var t=e.data,r=e.index,n=t||{},o=n.typeName,i=n.salePriceStd;return h().createElement(h().Fragment,null,r>0&&h().createElement("div",{className:ue.Z.productLine}),h().createElement("div",{className:ue.Z.priceItem},h().createElement("span",{className:ue.Z.psgType},o)," ",h().createElement("span",{className:ue.Z.price},h().createElement("span",{className:ue.Z.symbol},"¥"),i)))})),Ee=(0,y.memo)((function(e){var t=e.prices;return h().createElement("div",{className:ue.Z.priceInfo},t.map((function(e,t){return h().createElement(Pe,{key:"booking-price-".concat(t),data:e,index:t})})))})),we=(0,v.Pi)((function(){var e=(0,B.m)().store,t=e.toggleProductInfo,r=e.bookSummaryInfo,n=e.isOneWay,o=function(){t(me.rj.TICKET_INFO)};return r.map((function(e,t){var r=e.productInfo,i=e.segmentNo;return h().createElement(Oe,{key:t,segmentNo:n?null:i,data:r,onClick:o,className:n?ue.Z.oneWayRule:ue.Z.roundRule})}))})),Te=(0,v.Pi)((function(){var e=(0,B.m)().store,t=(0,y.useState)(!1),r=w()(t,2),n=r[0],o=r[1],i=e.bookSummaryInfo,a=e.ticketPriceInfo;return null!=i&&i.length?h().createElement("div",{className:ue.Z.container},h().createElement(fe,{flightList:i,clickHandler:o}),h().createElement("div",{className:ue.Z.priceAndRule},h().createElement(Ee,{prices:a}),h().createElement(we,null)),n&&h().createElement(ie.Z,{toggleDetailPopup:function(){return o(!1)}})):null})),ke=r(21165),Ie=r.n(ke),Ce=r(81506),_e=r.n(Ce),De=r(33124),Le=r.n(De),Ne=(r(67268),r(29017)),Ae=r(99264),Se="xbFD1FCd",Re="_3h5pu6pY",xe="Su55J4Xe",je="ED08jcdI",Me="RI7v8W6e",Be="lmGUr-WJ",ze="cMTQ7ln1",Fe="_4g2mv4zx",Ze="qRzmos3c",He="dHLWUD0s",qe="-oqFvJ+M",Ue="_1k1xylUA",$e="eB6IYzcy",Ye="h1U+j9LA",Ge="HFRT4rJR",We="PxG9GIcC",Ve="tXOHHfyL",Xe="r-qzt4yA";function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var o=d()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var Qe=2223605,Je=2223570,et=(K=(0,v.f3)("store"),Q=(0,Ne.f)(Qe),J=(0,Ne.f)(Je),K(ee=(0,v.Pi)((te=function(e){u()(r,e);var t=Ke(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Ie()(e,"onSelectDiscount",re,_e()(e)),Ie()(e,"onDelete",ne,_e()(e)),e}return s()(r,[{key:"render",value:function(){var e=this.props.data,t=e.showName,r=e.type,n=e.cardTypeName,o=e.cardId,i=e.typeName,a=e.useAdultPrice,s=e.missingMsg,c=this.props.store,u=c.selectPassengers.discountPrice,l=c.toggleProductInfo,p=u>0&&r===Ae.$A.CHILD,f=se()(We,ye()({},Ve,!!a)),d=se()(Me,ye()({},Be,u>0)),y=r!==Ae.$A.ADULT;return h().createElement("div",{className:d},h().createElement("div",{className:ze},h().createElement("div",{className:Fe},h().createElement("div",{className:Ze},t,y&&h().createElement("span",{className:He},"".concat(i))),s&&h().createElement("div",{className:Xe},"".concat(s)),h().createElement("div",{className:Ue},"".concat(n," ").concat(o))),h().createElement("div",{className:$e,onClick:this.onDelete,"data-active":"before-gray"})),p&&h().createElement("div",{className:Ye},h().createElement("div",{className:qe},"以 ¥",u,"优惠价购票",h().createElement("span",{className:Ge,onClick:function(){return l(me.rj.CHANGE,!0)}},"退改规则有改动")),h().createElement("div",{className:f,onClick:this.onSelectDiscount})))}}]),r}(h().Component),re=Le()(te.prototype,"onSelectDiscount",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.props.data,r=t.id,n=t.useAdultPrice;e.props.store.selectDiscountPrice(r,{useAdultPrice:n?Ae.xT.CHILD:Ae.xT.ADULT})}}}),ne=Le()(te.prototype,"onDelete",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.props.data.id;e.props.store.removePassenger(t)}}}),ee=te))||ee)||ee),tt=r(87185),rt=r.n(tt);function nt(e,t){return e.desc===t.desc}function ot(e){return rt()(e||[],nt)||[]}var it="Lg2iUSc8",at="Fa3iBIN0",st="gMAB3GJf",ct=(0,y.memo)((function(e){var t=e.list,r=void 0===t?[]:t,n=ot(r),o=n.length,i=r.length===o;return n.map((function(e){var t=i&&e.prefix?"".concat(e.prefix).concat(e.desc):e.desc;return h().createElement("p",{key:e.desc,className:se()(at,ye()({},st,o>1))},t)}))}));function ut(e){var t=e.prompts,r=e.className;return t&&0!==t.length?h().createElement("div",{className:se()(it,r)},h().createElement(ct,{list:t})):null}var lt,pt,ft,dt,yt,ht=(0,y.memo)(ut);function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var o=d()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var mt=(lt=(0,v.f3)("store"),pt=(0,Ne.f)(2223569),lt(ft=(0,v.Pi)((dt=function(e){u()(r,e);var t=vt(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).store=e.props.store,Ie()(e,"onAdd",yt,_e()(e)),e}return s()(r,[{key:"render",value:function(){var e=this.store.selectPassengers.passengers,t=void 0===e?[]:e,r=this.store.policyInfo.cardTypeList;return h().createElement("div",{className:Se},r.length>0&&h().createElement(ht,{prompts:r}),t.map((function(e){return h().createElement(et,{key:e.id,data:e})})),h().createElement("div",{className:Re,onClick:this.onAdd},h().createElement("div",{className:xe}),h().createElement("div",{className:je},"添加乘机人")))}}]),r}(h().Component),yt=Le()(dt.prototype,"onAdd",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.store.toggelPsgListPopup()}}}),ft=dt))||ft)||ft),gt=r(5503),bt=r(36792),Ot=r(28387),Pt=r(99433),Et=r(48926),wt=r.n(Et),Tt=r(27361),kt=r.n(Tt),It=r(87757),Ct=r.n(It),_t=r(24684),Dt="nm7kIjyz",Lt="avFJnhlT",Nt="kT27GWZl",At="c3KtqYC9",St="DM4u5elH",Rt="WBjsXSsc",xt="aPNsNZwc",jt="Ep1ELiPl",Mt="lkniw8OZ",Bt=r(3601);function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var o=d()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var Ft,Zt="/api/mayflower/history/query",Ht="/api/mayflower/history/delete",qt="/api/mayflower/history/clear",Ut=function(e){u()(r,e);var t=zt(r);function r(){return i()(this,r),t.apply(this,arguments)}return s()(r,[{key:"queryHistoryPhone",value:function(){return this.post({url:Zt,params:{},risk:!0,defaultValue:{}})}},{key:"deleteHistoryPhone",value:function(e){this.post({url:Ht,params:e,risk:!0,defaultValue:{},customConfig:{skipBizErrorCheck:!0}})}},{key:"clearHistoryPhone",value:function(){this.post({url:qt,params:{},risk:!0,defaultValue:{},customConfig:{skipBizErrorCheck:!0}})}}]),r}(Bt.b);function $t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var o=d()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var Yt,Gt,Wt,Vt,Xt,Kt,Qt,Jt,er,tr={page_el_sn:2223433},rr=(0,v.Pi)(Ft=function(e){u()(n,e);var t,r=$t(n);function n(){var e;i()(this,n);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=r.call.apply(r,[this].concat(o))).state={loaded:!1,items:[]},e.service=null,e.getTelPhoneHistory=wt()(Ct().mark((function t(){var r;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.service.queryHistoryPhone();case 2:r=t.sent,e.setState({loaded:!0,items:kt()(r,"mobileList",[])});case 4:case"end":return t.stop()}}),t)}))),e.doRemove=function(t,r){r&&r.stopPropagation(),r&&r.preventDefault();var n=e.state.items[t];e.state.items.splice(t,1),e.setState({items:e.state.items}),e.service.deleteHistoryPhone({mobile:n})},e.doClear=wt()(Ct().mark((function t(){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({items:[]}),e.service.clearHistoryPhone();case 2:case"end":return t.stop()}}),t)}))),e}return s()(n,[{key:"componentDidMount",value:(t=wt()(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.service=new Ut,e.t0=setTimeout,e.next=4,this.getTelPhoneHistory;case 4:e.t1=e.sent,(0,e.t0)(e.t1,200);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,r=t.setShowAutoComplete,n=t.showAutoComplete,o=t.doSelect,i=null;return n&&!this.state.loaded?i=h().createElement("div",{className:jt},h().createElement("div",{className:Mt})):n&&this.state.loaded&&this.state.items&&this.state.items.length>0&&(i=this.state.items.map((function(t,r){return h().createElement("div",{key:t,className:St,onClick:function(){return o(t)}},h().createElement("div",null,t),h().createElement("div",{className:Rt,onClick:function(t){return e.doRemove(r,t)}}))}))).push(h().createElement("div",{className:At,key:"clear",onClick:this.doClear},"清空历史")),i?h().createElement(_t.Z,{trackingInfo:tr},h().createElement(h().Fragment,null,h().createElement("div",{className:xt,onClick:function(){return r(!1)}}),h().createElement("div",{className:Dt},h().createElement("div",{className:Nt},i),h().createElement("div",{className:Lt,onClick:function(){return r(!1)}})))):null}}]),n}(h().Component))||Ft,nr="nGDqc58-",or="_2y+BXGrq",ir="l3aUC-ZK",ar="p2yOe2gC",sr="IL+xgc5W";function cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var o=d()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var ur=2223317,lr=2223318,pr=2223433,fr="$flightCheckout$inputPhoneNo",dr=(Yt=(0,v.f3)("store"),Gt=(0,Ne.f)(ur),Wt=(0,Ne.f)(lr),Vt=(0,Ne.f)(pr),Yt(Xt=(0,v.Pi)((Kt=function(e){u()(r,e);var t=cr(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={showAutoComplete:!1,isFocus:!1,scrollYWhenFocus:0},e.store=e.props.store,e.csr$phoneInput=null,e.mobileFilter=function(e){return e=(e=(e=(e||"").toString()).replace(/(\+86)/g,"")).replace(/[^\d]*/g,"")},e.resetInputTel=function(t){e.csr$phoneInput&&(e.csr$phoneInput.value=t),e.store.updateTelePhone(t)},e.getInputPhone=function(){return e.csr$phoneInput&&e.csr$phoneInput.value?e.csr$phoneInput.value.trim():""},e.setInputElement=function(t){e.csr$phoneInput=t},e.setShowAutoComplete=function(t){e.setState({showAutoComplete:t})},Ie()(e,"onFocus",Qt,_e()(e)),e.onBlur=function(){e.setState({isFocus:!1});var t=(0,Ot.zT)();t.system===Pt.we.IOS&&(0,Pt.yC)(t.systemVersion,"12.0")>=0&&setTimeout((function(){e.state.isFocus||window.scrollTo(0,e.state.scrollYWhenFocus)}),0)},Ie()(e,"invokeContact",Jt,_e()(e)),e.onInput=function(){var t=e.getInputPhone();sessionStorage.setItem(fr,t),e.resetInputTel(t)},Ie()(e,"doSelect",er,_e()(e)),e}return s()(r,[{key:"componentDidMount",value:function(){var e=this.store.telePhoneInfo.telePhone,t=this.mobileFilter(sessionStorage.getItem(fr)||e);t&&this.resetInputTel(t),this.setState({showNativeMobileSelect:(0,Pt.yC)((0,Ot.zT)().version,"3.17.0")>=0})}},{key:"render",value:function(){var e=this;return h().createElement("div",{className:nr},h().createElement("div",{className:or},"手机号码"),h().createElement("div",{className:ar},h().createElement("input",{className:sr,placeholder:"用于接收短信",type:"tel",maxLength:11,ref:function(t){return e.setInputElement(t)},onInput:this.onInput,onFocus:this.onFocus,onBlur:this.onBlur})),this.state.showNativeMobileSelect?h().createElement("div",{className:ir,onClick:this.invokeContact,"data-active":"before-gray"}):null,h().createElement(rr,{doSelect:this.doSelect,showAutoComplete:this.state.showAutoComplete,setShowAutoComplete:this.setShowAutoComplete}))}}]),r}(h().Component),Qt=Le()(Kt.prototype,"onFocus",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setState({isFocus:!0,scrollYWhenFocus:window.scrollY}),e.setShowAutoComplete(!0)}}}),Jt=Le()(Kt.prototype,"invokeContact",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){(0,bt.KJ)().then((function(t){t=t||{},e.resetInputTel(t.mobile)})).catch((function(){}))}}}),er=Le()(Kt.prototype,"doSelect",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.setShowAutoComplete(!1),e.resetInputTel(t)}}}),Xt=Kt))||Xt)||Xt),yr=r(55688),hr="_5Li9SiUu",vr="PaFUiXsP",mr="YEQuN5Md",gr="ggey+gs+",br="jw1x+0-3",Or="AkFjg5q9",Pr="_2TjRPJtW",Er=(0,y.memo)((function(e){var t=e.list,r=e.onClick,n=ot(t);if(1===n.length){var o=n[0]||{},i=o.desc;return o.isFlagship?h().createElement("span",{className:br},i):h().createElement("span",{className:se()(br,Or),onClick:r},i)}return n.map((function(e,t){var n=e||{},o=n.isFlagship,i=n.prefix,a=n.desc;return h().createElement("div",{className:gr,onClick:o?null:r,key:"invoice-tip-".concat(t)},h().createElement("span",{className:Pr},i),h().createElement("span",{className:se()(br,ye()({},Or,o))},a))}))}));var wr=(0,v.Pi)((function(){var e=(0,B.m)().store.policyInfo,t=(0,y.useState)(!1),r=w()(t,2),n=r[0],o=r[1];return h().createElement(h().Fragment,null,h().createElement("div",{className:hr},h().createElement("span",{className:vr},"报销凭证"),h().createElement("div",{className:mr},h().createElement(Er,{list:e.invoiceTxtList,onClick:function(){(0,Ne.V)(2223336,null,(function(){return o(!0)}))}}))),n&&h().createElement(yr.Z,{onClose:function(){return o(!1)}}))})),Tr=r(23493),kr=r.n(Tr),Ir=r(35077),Cr=r(96237),_r=r(9440),Dr=r(51941),Lr=r(69459),Nr="WzM3D8+f",Ar="XDTnXr-L",Sr="EW601HBy";var Rr,xr,jr,Mr,Br,zr,Fr,Zr=(0,v.Pi)((function(e){var t=e.className,r=(0,y.useState)(!1),n=w()(r,2),o=n[0],i=n[1],a=(0,B.m)().store.cashbackActivityStore.cashEntranceInfo||{},s=a.text,c=a.isDailyActivity;return(0,y.useEffect)((function(){o||(i(!0),setTimeout((function(){return i(!1)}),2e3))}),[]),c&&s&&o?h().createElement("div",{className:se()(Nr,t)},h().createElement(k.Z,{src:(0,T.H)("/order_checkout/iconcoupon.png"),className:Ar}),h().createElement("div",{className:Sr}),"购票最高返10元"):null})),Hr="XLXzGRgz",qr="Cw-2K9eB",Ur="_9o7L+Q28",$r="Mp8jlbDN",Yr="GrF2rT-u",Gr="dTcpQFEs",Wr="b+FwFYHE",Vr="Yv1aoQaC",Xr="Fh94Zv21",Kr="KmVmvW6X",Qr="Vs7lAmr8";function Jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var o=d()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var en=2223803,tn=2223802,rn=(Rr=(0,v.f3)("store"),xr=(0,Ne.f)(en),jr=(0,Ne.f)(tn),Rr(Mr=(0,v.Pi)((Br=function(e){u()(r,e);var t=Jr(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).store=e.props.store,e.state={showDetailPopup:!1,payBtnStatus:Dr.rZ.DEFAULT,isPddIOS:!1},e.showFuelInfo=function(){e.store.toggleProductInfo(me.rj.FUEL)},Ie()(e,"toggleDetailPopup",zr,_e()(e)),e.setPayBtnStatus=function(t){e.setState({payBtnStatus:t})},Ie()(e,"onPayBtnClick",Fr,_e()(e)),e}return s()(r,[{key:"label",get:function(){return this.state.payBtnStatus===Dr.rZ.PAYING?"请稍候":"立即购票"}},{key:"render",value:function(){var e=this.store.payBottomInfo,t=e.passengerCount,r=e.totalPrice,n=e.totalPriceStd,o=e.priceDetailMap,i=t>1?"共".concat(t,"人"):"",a=se()(Wr,this.state.showDetailPopup?[Xr]:[Vr]),s=se()(Kr,ye()({},Qr,this.state.isPddIOS)),c=this.store.policyInfo.confirmTimeList;return h().createElement(h().Fragment,null,this.state.showDetailPopup&&h().createElement(Lr.Z,{data:o,onClose:this.toggleDetailPopup,onClickIcon:this.showFuelInfo}),c.length>0&&h().createElement(ht,{prompts:c,className:s}),h().createElement("div",{className:Hr},h().createElement(Zr,null),h().createElement("div",{className:qr},h().createElement("span",{className:Ur},"￥"),h().createElement("span",{className:$r},n),h().createElement("span",{className:Gr},i),r>0&&h().createElement("span",{className:a,"data-active":"after-gray",onClick:this.toggleDetailPopup},"明细")),h().createElement("div",{className:Yr,onClick:this.onPayBtnClick,"data-active":"button-red"},this.label)))}},{key:"componentDidMount",value:function(){this.setState({isPddIOS:(0,_r.zt)()})}}]),r}(h().Component),zr=Le()(Br.prototype,"toggleDetailPopup",[xr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setState({showDetailPopup:!e.state.showDetailPopup})}}}),Fr=Le()(Br.prototype,"onPayBtnClick",[jr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return kr()(wt()(Ct().mark((function t(){var r,n,o,i,a,s,c,u,l,p,f,d,y,h,v,m;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=e.store,n=r.verifyAndComputeParams,o=r.setPolling,i=r.processError,a=r.showPolling,s=r.toggleReserveLoading,c=n(),u=c.success,l=c.params,u){t.next=5;break}return t.abrupt("return");case 5:if(e.state.payBtnStatus!==Dr.rZ.PAYING&&!a){t.next=7;break}return t.abrupt("return");case 7:return e.setPayBtnStatus(Dr.rZ.PAYING),s(),t.next=11,e.store.createOrder(l);case 11:if(p=t.sent,f=p.isApiError,d=p.errorCode,y=p.errorMsg,h=p.parentTravelSn,v=p.errorPayload,!f&&h){t.next=18;break}return s(),i(d,y,v),(0,Cr.e)({error:p,subOp:"flight_error_to_create_order",errorMsg:"创建机票订单失败"}),t.abrupt("return");case 18:m=kt()(p,"bookOrderDetails.length")>1?Ir.Z.Combine:Ir.Z.Normal,o(!0,h,m);case 20:return t.prev=20,e.setPayBtnStatus(Dr.rZ.DEFAULT),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[0,,20,23]])}))),300)}}),Mr=Br))||Mr)||Mr),nn=r(46225),on=r(55572),an=r(1607),sn=r(6393),cn=r(89283),un=r(25370),ln=r(53527),pn=r(66197),fn=r(24788);function dn(){return(dn=wt()(Ct().mark((function e(t,r){var n,o;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,un.e)({pageInfo:{pageId:(0,ln.e6)()}}),fn.$Z(),o={method:"POST"},r===Ir.Z.Combine?Object.assign(o,{url:"api/vancouver/parent_order_cancel",data:{parent_order_sn:t,cancel_type:1}}):Object.assign(o,{url:"order/".concat(t,"/cancel?cancel_type=1")}),e.prev=4,e.next=7,n(o);case 7:(0,pn.Z)("订单取消成功"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),(0,pn.Z)("订单取消异常");case 13:fn.Cp();case 14:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}var yn=r(26810);function hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(r),!0).forEach((function(t){ye()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mn,gn=(0,v.Pi)((function(){var e=(0,B.m)().store,t=e.errorCode,r=e.errorMsg,n=e.listParams,o=e.orderSn,i=e.isOneWay,a=e.resetErrorCode,s=e.extraListParams,c=function(e){var t=e?vn(vn({},n),e):n;i?(0,H.sl)(H.Jx.LIST,t):(0,H.sl)(H.Jx.ROUND_LIST,t)},u=function(){var n=t||0,i=null;switch(n){case yn.Bq.CUSTOM_TIME_OUT:i={type:cn.$.TOAST,onClose:function(){return(0,H.sl)(H.Jx.ORDER_DETAIL,{orderSn:o})}};break;case 1:i={type:cn.$.TOAST,text:r};break;case 3:i={type:cn.$.ALERT,okLabel:"查看航司联系电话",onOk:function(){an.ZP.uniformForward(H.Jx.CONTACT_MOBILE)},text:r};break;case 330056004:case 330056005:i={type:cn.$.ALERT,onOk:function(){an.ZP.back()},onClose:function(){an.ZP.back()},text:r,okLabel:"重新查询航班"};break;case 330056016:case 330056018:case 330056027:case 330056028:case 330056035:case 330056040:case 330056003:case 4:i={type:cn.$.ALERT,onOk:function(){c()},onClose:function(){c()},text:r,okLabel:"重新查询航班"};break;case 330056007:i={type:cn.$.NOTHING,onOk:function(){return e.toggleBookingTipsPopup()}};break;case 2:i={type:cn.$.ALERT,onOk:function(){e.reloadData()},onClose:function(){e.reloadData()},text:r};break;case 5:case 330056008:case 330056011:case 330056012:case 330056017:case 330056019:case 330056022:case 330056032:case 330056036:case 330056037:case 330056038:case 330056039:i={type:cn.$.ALERT,text:r};break;case 330056010:i={type:cn.$.ALERT,okLabel:"知道了"};break;case yn.Bq.UN_PAY_ORDER:var a=e.unPayOrder,u=e.resetUnPayOrder,l=a||{},p=l.parentOrderSn,f=l.passengerNum;i={type:cn.$.CONFIRM,text:"当前您有待支付的机票订单，请先前往支付，或取消后继续购票",okLabel:"前往支付",cancelLabel:"取消订单",onOk:function(){(0,H.sl)(H.Jx.ORDER_DETAIL,{orderSn:p})},onCancel:function(){!function(e,t){dn.apply(this,arguments)}(p,f>1?Ir.Z.Combine:Ir.Z.Normal),u()},onlyClose:!0};break;case 330056030:i={type:cn.$.ALERT,onClose:function(){(0,H.sl)(H.Jx.ORDER_DETAIL,{orderSn:o})},text:r};break;case 330056040:case 330056023:i={type:cn.$.ALERT,onOk:function(){c()},onClose:function(){c()},text:r};break;case 330056033:i={type:cn.$.ALERT,okLabel:"重新查询航班",onOk:function(){c(s)},onClose:function(){c(s)},text:r};break;default:i={type:cn.$.TOAST}}return i.text||(i.text=(0,sn.az)(n,r)||sn.p1),i.errorCode=n,i};return(0,y.useEffect)((function(){if(t){var e=u();(0,cn.Z)(e),a()}}),[t]),null})),bn=r(22188),On=r(77181),Pn=r(80644),En=r(7687),wn=r(93519),Tn=r(76371),kn=r(84160),In=r(97334),Cn=r(16846),_n=r(18446),Dn=r.n(_n),Ln=r(28444),Nn=r(99065),An=r(81376),Sn=r(58332),Rn=r(453);function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){ye()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mn(e){var t,r,n,o,i,a,s,c=0,u=(t=e.policy,n=(r=t||{}).lowestChangeFee,o=r.lowestRefundFee,i=r.checkedBaggage,a=void 0===i?null:i,s=(0,Nn.z$)(a),{baggage:a,ruleDesc:(0,An.c)({lowestChangeFee:n,lowestRefundFee:o}),baggageDesc:s});return kt()(e,"policy.priceList",[]).forEach((function(e){e.passengerType===Ae.$A.ADULT&&(c=e.oilFee+e.airportFee)})),jn({airportOilFeeDesc:"机建燃油¥"+(0,Sn.T)(c)},u)}function Bn(e){return(kt()(e,"detailPolicyList")||[]).map((function(e){var t=(0,Nn.cS)(kt()(e,"flightItemList[0]")),r=t.departureInfo,n=t.airlineInfo,o=t.arrivalInfo,i=Mn(e);return jn(jn({},t),{},{productInfo:i,flightInfoTitle:"".concat(n.flightNameNo," ").concat(r.cityName,"-").concat(o.cityName)})}))}function zn(e){var t=kt()(e,"defaultPassengers")||[],r=kt()(e,"priceStocks")||[];return jn({passengers:(0,Rn.U)(t)},function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((function(e){return e.passengerType===Ae.$A.CHILD}))||{},t=kt()(e,"adultDiscountPrice")||{},r=t.price,n=t.segmentNoList;return{discountPrice:r>0?(0,Sn.T)(r):"0",segmentNoList:n||[]}}(r))}function Fn(e){return{telePhone:kt()(e,"defaultContactMobile","")}}function Zn(e,t){var r=t>0&&t<=9?"当前价格仅剩".concat(t,"张，请尽快购票"):"";return r&&e.unshift({desc:r}),e}function Hn(e){var t=kt()(e,"detailPolicyList")||[],r=t.length>1,n=((e.priceStocks||[]).find((function(e){return e.passengerType===Ae.$A.ADULT}))||{}).stock,o=[],i=[],a=[];return t.map((function(e){var t=e.segmentNo,n=e.isFlagship,s=r?ce.NY[t]+"：":"",c=r?ce.gT[t]:"",u=kt()(e,"policy")||{},l=u.confirmLimitTime,p=u.supportCardTypeList,f=u.reimbursementText,d=l||{},y=d.type,h=d.durationStr,v=(p||[]).map((function(e){return Ln.Fr[e]&&Ln.Fr[e].desc})).join("、"),m=1===y?"支付成功后，预计".concat(h,"内出票"):"最晚于航班起飞前".concat(h,"出票");f&&a.push({prefix:c,desc:f,isFlagship:n}),v&&o.push({prefix:s,desc:"仅支持使用“".concat(v,"”预订（婴儿除外）")}),m&&i.push({prefix:s,desc:m})})),{cardTypeList:Zn(o,n),confirmTimeList:i,invoiceTxtList:a}}function qn(e){var t=[];return(kt()(e,"detailPolicyList")||[]).forEach((function(e){var r=kt()(e,"transferConditionList")||[];t=t.concat(r)})),rt()(t,Dn())}function Un(e){return(e||[]).some((function(e){return e.type===Ae.$A.BABY}))}function $n(e){var t,r,n,o,i=(t=e,(kt()(t,"priceStocks")||[]).map((function(e){var t=e.passengerType,r=e.settlePrice;return{type:t,typeName:Ae.Eg[t],salePrice:r,salePriceStd:(0,Sn.T)(r)}})));return{isApiError:!!e.isApiError,errorMsg:e.errorMsg||null,errorCode:e.errorCode||null,errorPayload:e.errorPayload||null,token:e.token,channel:e.channel,unPayOrder:e.unPayOrder||{},isSupportChildren:(o=i,(o||[]).some((function(e){return e.type===Ae.$A.CHILD}))),isSupportBaby:Un(i),airTipList:(r=e,n=(r.detailPolicyList||[]).map((function(e){var t;return null==e||null===(t=e.issuer)||void 0===t?void 0:t.text})).filter((function(e){return!!e})),rt()(n,Dn())),bookSummaryInfo:Bn(e),selectPassengers:zn(e),telePhoneInfo:Fn(e),transferList:qn(e),policyInfo:Hn(e),ticketPriceInfo:i}}var Yn=1,Gn=2,Wn=3,Vn=4,Xn=(mn={},ye()(mn,Yn,"成人机票"),ye()(mn,Gn,"儿童机票"),ye()(mn,Wn,"婴儿机票"),ye()(mn,Vn,"机建燃油"),mn);function Kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return e.forEach((function(e){var r=e.segmentNo,n=e.priceType,o=e.price,i=e.count;t[r]||(t[r]=[]),t[r].push({name:Xn[n],count:i,priceStd:(0,Sn.T)(o),type:n,showIcon:n===Vn})})),t}function Qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=kt()(e,"totalAmount")||0,n=(0,Sn.T)(r),o=Kn(kt()(e,"priceList")||[]);return{totalPrice:r,totalPriceStd:n,passengerCount:r>0?t:0,priceDetailMap:o}}function Jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eo(e){var t,r,n,o,i,a,s,c=0,u=(t=e.policy,n=(r=t||{}).lowestChangeFee,o=r.lowestRefundFee,i=r.checkedBaggage,a=void 0===i?null:i,s=(0,Nn.z$)(a),{baggage:a,ruleDesc:(0,An.c)({lowestChangeFee:n,lowestRefundFee:o}),baggageDesc:s});return kt()(e,"policy.priceList",[]).forEach((function(e){e.passengerType===Ae.$A.ADULT&&(c=e.oilFee+e.airportFee)})),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(r),!0).forEach((function(t){ye()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({airportOilFeeDesc:"机建燃油¥"+(0,Sn.T)(c)},u)}function to(e){return(kt()(e,"detailPolicyList")||[]).map((function(e){return eo(e)}))}function ro(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var o=d()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var no="api/boeing/book/detail_info",oo="/api/boeing/book/calc",io="/api/boeing/book/create",ao="/api/boeing/book/check_price_cabin",so="/api/boeing/book/check_price_before_pay",co={defaultErrorHandler:function(e){return e}},uo=function(e){u()(r,e);var t=ro(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).queryFlightDetail=function(){var t=wt()(Ct().mark((function t(r){var n;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.post({url:no,params:r,risk:!0,defaultValue:{},extrats:co,customConfig:{fallbackCSR:!0}});case 2:return n=t.sent,t.abrupt("return",$n(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.calcPrice=function(){var t=wt()(Ct().mark((function t(r){var n,o,i,a;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.segmentPidList,o=r.passengers,i=r.token,t.next=3,e.post({url:oo,params:{token:i,segmentPidList:n,passengers:o.length>0?o:null},risk:!0,defaultValue:{},extrats:co});case 3:return a=t.sent,t.abrupt("return",{isApiError:!!a.isApiError,errorMsg:a.errorMsg||null,errorCode:a.errorCode||null,payBottomInfo:Qn(a,o.length)});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createOrder=function(){var t=wt()(Ct().mark((function t(r){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.post({url:io,params:r,risk:!0,defaultValue:{},extrats:co}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.queryPolicy=function(){var t=wt()(Ct().mark((function t(r){var n,o,i,a,s,c,u;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.post({url:no,params:r,risk:!0,defaultValue:{}});case 2:return n=t.sent,o=n.isApiError,i=n.errorMsg,a=n.errorCode,s=n.token,c=(kt()(n,"detailPolicyList")||[]).map((function(e){return e.policyRule})),u=to(n),t.abrupt("return",{isApiError:o,errorMsg:i,errorCode:a,token:s,segmentPolicyList:c,otherNotes:n.otherNotes||[],productHints:n.productHints||[],ruleSummaryList:u,extrats:co,type:null});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.checkPriceCabin=function(t){return e.post({url:ao,params:t,risk:!0,defaultValue:{},extrats:co})},e.validateBeforePay=function(t){return e.post({url:so,params:t,risk:!0,defaultValue:{},extrats:co})},e}return s()(r)}(Bt.b);function lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,r=0,n=0;return e.forEach((function(e){e.type===Ae.$A.CHILD?r++:e.type===Ae.$A.BABY?n++:t++})),{audltCount:t,childCount:r,babyCount:n}}function po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length>9)return(0,kn.w)({text:yn.YO.MAX_TICKETS,okLabel:"知道了"}),!1;var t=lo(e),r=t.audltCount,n=t.childCount,o=t.babyCount;return 0!==r||!(n>0||o>0)||((0,kn.w)({text:yn.YO.NEED_AUDIT,okLabel:"知道了"}),!1)}function fo(e){return!!/^1\d{10}$/.test((e||"").toString())||((0,pn.Z)(yn.YO.MOBILE_ERROR),!1)}function yo(e){return!(null==e||!e.length)||((0,pn.Z)(yn.YO.EMPTY_PSG),!1)}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return!e.some((function(e){return!t&&e.type===r}))}var vo,mo,go,bo,Oo,Po,Eo,wo,To,ko,Io,Co,_o,Do,Lo,No,Ao,So,Ro,xo,jo,Mo,Bo,zo,Fo,Zo,Ho,qo,Uo,$o,Yo,Go,Wo,Vo,Xo,Ko,Qo,Jo,ei,ti,ri,ni,oi,ii,ai,si,ci,ui,li,pi,fi,di,yi,hi,vi,mi,gi,bi,Oi,Pi,Ei,wi,Ti,ki,Ii,Ci,_i,Di=["isApiError","errorCode","errorMsg","errorPayload","channel"],Li=["isApiError","errorCode","errorMsg"],Ni=["ruleSummaryList","token","isApiError","errorCode","errorMsg"];function Ai(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(r),!0).forEach((function(t){ye()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ai(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ri(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var o=d()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var xi,ji=(vo=bn.LO.shallow,mo=bn.LO.shallow,go=(0,On.$)(In.Z),bo=bn.aD.bound,Oo=bn.aD.bound,Po=bn.aD.bound,Eo=bn.aD.bound,wo=bn.aD.bound,To=bn.aD.bound,ko=bn.aD.bound,Io=bn.aD.bound,Co=bn.aD.bound,_o=bn.aD.bound,Do=bn.aD.bound,Lo=bn.aD.bound,No=bn.aD.bound,Ao=bn.aD.bound,So=bn.aD.bound,Ro=bn.aD.bound,xo=bn.aD.bound,jo=bn.aD.bound,Mo=bn.aD.bound,Bo=bn.aD.bound,zo=bn.aD.bound,Fo=bn.aD.bound,Zo=bn.aD.bound,Ho=bn.aD.bound,qo=bn.aD.bound,Uo=function(e){u()(l,e);var t,r,n,o,a,c=Ri(l);function l(){var e;i()(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=c.call.apply(c,[this].concat(r))).$service=null,Ie()(e,"lastOpTime",$o,_e()(e)),Ie()(e,"isApiError",Yo,_e()(e)),Ie()(e,"errorMsg",Go,_e()(e)),Ie()(e,"errorCode",Wo,_e()(e)),Ie()(e,"tripType",Vo,_e()(e)),Ie()(e,"pidList",Xo,_e()(e)),Ie()(e,"listParams",Ko,_e()(e)),Ie()(e,"token",Qo,_e()(e)),Ie()(e,"unPayOrder",Jo,_e()(e)),Ie()(e,"source",ei,_e()(e)),Ie()(e,"innerSource",ti,_e()(e)),Ie()(e,"isLowestPrice",ri,_e()(e)),Ie()(e,"isSupportChildren",ni,_e()(e)),Ie()(e,"isSupportBaby",oi,_e()(e)),Ie()(e,"showPaymentPopup",ii,_e()(e)),Ie()(e,"showPsgListPopup",ai,_e()(e)),Ie()(e,"showBookingTipsPopup",si,_e()(e)),Ie()(e,"showTimeoutRefresh",ci,_e()(e)),Ie()(e,"showProductInfo",ui,_e()(e)),Ie()(e,"showPolling",li,_e()(e)),Ie()(e,"showDiscountRule",pi,_e()(e)),Ie()(e,"showReserveLoading",fi,_e()(e)),Ie()(e,"bookSummaryInfo",di,_e()(e)),Ie()(e,"selectPassengers",yi,_e()(e)),Ie()(e,"telePhoneInfo",hi,_e()(e)),Ie()(e,"payBottomInfo",vi,_e()(e)),Ie()(e,"paymentOrderParams",mi,_e()(e)),Ie()(e,"travelSn",gi,_e()(e)),Ie()(e,"prepayType",bi,_e()(e)),Ie()(e,"ruleTypeId",Oi,_e()(e)),Ie()(e,"transferList",Pi,_e()(e)),Ie()(e,"airTipList",Ei,_e()(e)),Ie()(e,"pollingSuccess",wi,_e()(e)),Ie()(e,"progressCallback",Ti,_e()(e)),Ie()(e,"policyInfo",ki,_e()(e)),Ie()(e,"ticketPriceInfo",Ii,_e()(e)),Ie()(e,"orderSn",Ci,_e()(e)),e.channel=null,e.confirmPrepay=!1,Ie()(e,"cashbackActivityStore",_i,_e()(e)),e.initQuery=function(t){var r=t.query;e.innerSource=kt()(r,"_tp_order_inner_source",""),e.source=kt()(r,"_tp_order_source",""),e.listParams=e.getlistParams(r),e.tripType=parseInt(kt()(r,"trip_type",1)),e.pidList=e.getPidList(r),e.isLowestPrice=kt()(r,"is_lowest_price")},e.setupModel=wt()(Ct().mark((function t(){var r,n,o,i,a,s,c;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$service.queryFlightDetail({segmentPidList:e.pidList});case 2:if(r=t.sent,n=r.isApiError,o=r.errorCode,i=r.errorMsg,a=r.errorPayload,s=r.channel,c=ve()(r,Di),e.listParams.channel=s,Object.assign(_e()(e),c),(n||e.hasUnPayOrder)&&e.processError(o,i,a),n){t.next=10;break}return t.next=10,e.calcPrice();case 10:case"end":return t.stop()}}),t)}))),e.prepareClientData=wt()(Ct().mark((function t(){var r,n,o,i;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.token&&!e.isApiError){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$service.checkPriceCabin({segmentPidList:e.pidList,token:e.token});case 4:r=t.sent,n=r.isApiError,o=r.errorMsg,i=r.errorCode,n&&!sn.zi.includes(i)&&e.processError(i,o);case 7:case"end":return t.stop()}}),t)}))),e.verifyAndComputeParams=function(){return e.isTimeout()?{success:!1}:e.validateParams()?{success:!0,params:{passengers:e.passengerParam,contact_mobile:e.telePhoneInfo.telePhone,segmentPidList:e.pidList,token:e.token,source:e.source,inner_source:e.innerSource,pageId:(0,ln.e6)()||"",lowestPriceSelected:e.isLowestPrice}}:{success:!1}},e.validateParams=function(){var t=e.selectedPassengers,r=e.telePhoneInfo.telePhone;return!(!yo(t)||!fo(r))&&!!e.validataPassengers()},e.createOrder=function(t){return e.$service.createOrder(t)},e.unvalidRoleHandler=function(t){t.isUnvalidFlight&&e.isTimeout(!0)},e.validateBeforePay=wt()(Ct().mark((function t(){var r,n,o,i,a;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$service.validateBeforePay({parent_travel_sn:e.travelSn});case 2:if(r=t.sent,n=r.isApiError,o=r.pass,i=r.errorCode,a=r.errorMsg,!n&&o){t.next=10;break}return e.pollingFail(sn.zi.includes(i)?yn.Bq.CUSTOM_TIME_OUT:i,a),t.abrupt("return",!1);case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t)}))),e}return s()(l,[{key:"selectedPassengers",get:function(){return this.selectPassengers.passengers||[]}},{key:"passengerParam",get:function(){return this.selectedPassengers.map((function(e){return{passenger_id:e.id,adult_price_selected:e.useAdultPrice,snap_shot_id:e.snapshotId,version:e.version}}))}},{key:"extraListParams",get:function(){var e=this.isSupportChildren?1:0;e&&!this.selectedPassengers.some((function(e){return 2===e.type&&!e.useAdultPrice}))&&(e=0);var t=(this.bookSummaryInfo.find((function(e){return 1===e.segmentNo}))||{}).airlineInfo;return{if_children:e,anchor:null==t?void 0:t.flightNo}}},{key:"selectedIds",get:function(){return this.selectedPassengers.map((function(e){return e.id}))}},{key:"departDate",get:function(){return kt()(this.bookSummaryInfo,"departureInfo.dateTime")}},{key:"isOverTime",get:function(){return En.z.isOverTime(this.lastOpTime,Tn.TU)}},{key:"hasUnPayOrder",get:function(){return!!kt()(this.unPayOrder,"parentOrderSn")}},{key:"isOneWay",get:function(){return this.tripType===ce.c2.ONE_WAY}},{key:"getlistParams",value:function(e){return{depCityName:kt()(e,"dep_city_name"),arrCityName:kt()(e,"arr_city_name"),depCityCode:kt()(e,"dep_city_code"),arrCityCode:kt()(e,"arr_city_code"),depDate:kt()(e,"dep_date"),ifChildren:kt()(e,"if_children"),ifBaby:kt()(e,"if_baby"),retDate:kt()(e,"ret_date"),tripType:parseInt(kt()(e,"trip_type")),channel:""}}},{key:"getPidList",value:function(e){var t=[];return t.push({segment_no:ce.K6.DEPARTURE,pid:kt()(e,"dep_pid")||kt()(e,"pid")}),kt()(e,"return_pid")&&t.push({segment_no:ce.K6.RETURN,pid:kt()(e,"return_pid")}),t}},{key:"initServices",value:function(e){this.$service=new uo(e)}},{key:"calcPrice",value:(a=wt()(Ct().mark((function e(){var t,r,n,o,i;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,Cn.y)(),e.next=3,this.$service.calcPrice({segmentPidList:this.pidList,passengers:this.passengerParam,token:this.token});case 3:t=e.sent,(0,Cn.v)(),r=t.isApiError,n=t.errorCode,o=t.errorMsg,i=ve()(t,Li),r&&(this.resetSelectPassengers(),this.processError(n,o)),this.setLastOpTime(),Object.assign(this,i);case 9:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getDatasource",value:function(){return[this.initQuery,this.setupModel,this.cashbackActivityStore.initData]}},{key:"resetSelectPassengers",value:function(){this.selectPassengers.passengers=[],this.selectPassengers.discountPrice="0"}},{key:"resetUnPayOrder",value:function(){this.unPayOrder={}}},{key:"processError",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r&&(this.listParams.channel=r.channel),r&&r.unPayOrder&&(this.unPayOrder=r.unPayOrder),this.errorCode=kt()(this.unPayOrder,"parentOrderSn")?yn.Bq.UN_PAY_ORDER:e,this.errorMsg=t,this.isApiError=!0}},{key:"queryPolicyInfo",value:(o=wt()(Ct().mark((function e(){var t,r,n,o,i,a,s;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$service.queryPolicy({segmentPidList:this.pidList});case 2:if(t=e.sent,r=t.ruleSummaryList,n=t.token,o=t.isApiError,i=t.errorCode,a=t.errorMsg,s=ve()(t,Ni),r.length>0&&this.bookSummaryInfo.forEach((function(e,t){e.productInfo=r[t]})),!o){e.next=9;break}return this.processError(i,a),this.toggleProductInfo(),e.abrupt("return");case 9:return this.token=n||this.token,s.type=this.showDiscountRule?"discount":null,s.tripType=this.tripType,s.discountSegmentNos=(this.selectPassengers.segmentNoList||[]).slice(),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"timeoutRefresh",value:function(){this.showTimeoutRefresh=!1,this.reloadData()}},{key:"reloadData",value:(n=wt()(Ct().mark((function e(){return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,Cn.y)(),e.next=3,this.setupModel();case 3:(0,Cn.v)();case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"isTimeout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(!this.isOverTime&&!e)&&(this.showTimeoutRefresh=!0,this.showPsgListPopup=!1,this.setLastOpTime(),!0)}},{key:"setLastOpTime",value:function(){this.lastOpTime=En.z.now()}},{key:"updateSelectedPassengers",value:(r=wt()(Ct().mark((function e(t){var r,n=arguments;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]&&n[1],!this.isTimeout()){e.next=3;break}return e.abrupt("return");case 3:if(!r){e.next=6;break}return this.toggelPsgListPopup(),e.abrupt("return");case 6:if(this.validataPassengers(t)){e.next=8;break}return e.abrupt("return",!1);case 8:return this.selectPassengers.passengers=t,this.toggelPsgListPopup(),e.next=12,this.calcPrice();case 12:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"reSearchList",value:function(){var e=Si(Si({},this.listParams),{},{ifChildren:1});this.isOneWay?(0,H.sl)(H.Jx.LIST,e):(0,H.sl)(H.Jx.ROUND_LIST,e)}},{key:"validataPassengers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ho(t,this.isSupportBaby,Ae.$A.BABY)?ho(t,this.isSupportChildren,Ae.$A.CHILD)?!!po(t):((0,kn.w)({text:"该航班儿童不可预订，如需携带儿童出行，请重新查询可预订航班。",okLabel:"重新搜索",onOk:function(){return e.reSearchList()},onClose:function(){return e.reSearchList()}}),!1):((0,kn.w)({text:"该航班暂不支持婴儿预订",okLabel:"知道了"}),!1)}},{key:"toggelPaymentPopup",value:function(e){var t=this.isOneWay?(0,wn.I)(this.bookSummaryInfo[0],this.selectedPassengers):{};e&&(this.paymentOrderParams=Si(Si({},e),t)),this.showPaymentPopup=!this.showPaymentPopup}},{key:"toggelPsgListPopup",value:function(){this.isTimeout()||(this.showPsgListPopup=!this.showPsgListPopup)}},{key:"toggleBookingTipsPopup",value:function(){this.showBookingTipsPopup=!this.showBookingTipsPopup}},{key:"selectDiscountPrice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.selectedPassengers.find((function(t){return t.id===e}));r&&Object.assign(r,t),this.calcPrice()}},{key:"removePassenger",value:function(e){var t=this.selectedPassengers.findIndex((function(t){return t.id===e}));t>-1&&this.selectedPassengers.splice(t,1),this.calcPrice()}},{key:"updateTelePhone",value:function(e){this.telePhoneInfo.telePhone=e}},{key:"toggleProductInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.ruleTypeId=e,this.showDiscountRule=t,this.showProductInfo=!this.showProductInfo}},{key:"setPolling",value:function(e,t,r){this.showPolling=e,this.travelSn=t,this.prepayType=r}},{key:"showPaymentPop",value:function(){var e,t=this,r={pay_fail_url:(0,H.Q2)(H.Jx.SUCCESS,{order_sn:this.orderSn}),pay_succ_url:(0,H.Q2)(H.Jx.ORDER_DETAIL,{order_sn:this.orderSn})};return this.toggelPaymentPopup({tracsactionType:Dr.k$.CHECKOUT,orderSn:this.orderSn,prepayType:this.prepayType,onSuccess:function(){return(0,H.sl)(H.Jx.SUCCESS,{order_sn:t.orderSn})},additionalParams:r,amount:null===(e=this.payBottomInfo)||void 0===e?void 0:e.totalPrice})}},{key:"pollingCallback",value:(t=wt()(Ct().mark((function e(t,r){var n,o,i,a,s=this;return Ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.orderSn,o=r.errorMsg,i=r.errorCode,a=r.evilOrder,t){e.next=4;break}return this.pollingFail(i,o),e.abrupt("return");case 4:return this.orderSn=n,e.next=7,this.validateBeforePay();case 7:if(e.sent){e.next=10;break}return e.abrupt("return");case 10:this.progressCallback=function(){s.toggleReserveLoading(),a?(0,kn.w)({text:"当前价格有多人抢购，您支付完成后有95%的几率抢购成功，若抢购失败将为您全额退款。",okLabel:"知道了",onOk:function(){return s.showPaymentPop()},onClose:function(){return s.showPaymentPop()}}):s.showPaymentPop()},this.pollingSuccess=!0;case 12:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"pollingFail",value:function(e,t){this.toggleReserveLoading(),this.setPolling(!1,null,null),this.processError(e,t)}},{key:"toggleReserveLoading",value:function(){this.showReserveLoading||(this.pollingSuccess=!1,this.progressCallback=null),this.showReserveLoading=!this.showReserveLoading}},{key:"resetErrorCode",value:function(){this.errorCode=null}}]),l}(Pn._),$o=Le()(Uo.prototype,"lastOpTime",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return En.z.now()}}),Yo=Le()(Uo.prototype,"isApiError",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Go=Le()(Uo.prototype,"errorMsg",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wo=Le()(Uo.prototype,"errorCode",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vo=Le()(Uo.prototype,"tripType",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xo=Le()(Uo.prototype,"pidList",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ko=Le()(Uo.prototype,"listParams",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qo=Le()(Uo.prototype,"token",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jo=Le()(Uo.prototype,"unPayOrder",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ei=Le()(Uo.prototype,"source",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ti=Le()(Uo.prototype,"innerSource",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ri=Le()(Uo.prototype,"isLowestPrice",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ni=Le()(Uo.prototype,"isSupportChildren",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oi=Le()(Uo.prototype,"isSupportBaby",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ii=Le()(Uo.prototype,"showPaymentPopup",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ai=Le()(Uo.prototype,"showPsgListPopup",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),si=Le()(Uo.prototype,"showBookingTipsPopup",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ci=Le()(Uo.prototype,"showTimeoutRefresh",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ui=Le()(Uo.prototype,"showProductInfo",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),li=Le()(Uo.prototype,"showPolling",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pi=Le()(Uo.prototype,"showDiscountRule",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fi=Le()(Uo.prototype,"showReserveLoading",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),di=Le()(Uo.prototype,"bookSummaryInfo",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yi=Le()(Uo.prototype,"selectPassengers",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),hi=Le()(Uo.prototype,"telePhoneInfo",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),vi=Le()(Uo.prototype,"payBottomInfo",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),mi=Le()(Uo.prototype,"paymentOrderParams",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),gi=Le()(Uo.prototype,"travelSn",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bi=Le()(Uo.prototype,"prepayType",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oi=Le()(Uo.prototype,"ruleTypeId",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return me.rj.TICKET_INFO}}),Pi=Le()(Uo.prototype,"transferList",[vo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ei=Le()(Uo.prototype,"airTipList",[mo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wi=Le()(Uo.prototype,"pollingSuccess",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ti=Le()(Uo.prototype,"progressCallback",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ki=Le()(Uo.prototype,"policyInfo",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ii=Le()(Uo.prototype,"ticketPriceInfo",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ci=Le()(Uo.prototype,"orderSn",[bn.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_i=Le()(Uo.prototype,"cashbackActivityStore",[go],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le()(Uo.prototype,"passengerParam",[bn.Fl],Object.getOwnPropertyDescriptor(Uo.prototype,"passengerParam"),Uo.prototype),Le()(Uo.prototype,"selectedIds",[bn.Fl],Object.getOwnPropertyDescriptor(Uo.prototype,"selectedIds"),Uo.prototype),Le()(Uo.prototype,"isOverTime",[bn.Fl],Object.getOwnPropertyDescriptor(Uo.prototype,"isOverTime"),Uo.prototype),Le()(Uo.prototype,"hasUnPayOrder",[bn.Fl],Object.getOwnPropertyDescriptor(Uo.prototype,"hasUnPayOrder"),Uo.prototype),Le()(Uo.prototype,"isOneWay",[bn.Fl],Object.getOwnPropertyDescriptor(Uo.prototype,"isOneWay"),Uo.prototype),Le()(Uo.prototype,"calcPrice",[bo],Object.getOwnPropertyDescriptor(Uo.prototype,"calcPrice"),Uo.prototype),Le()(Uo.prototype,"resetSelectPassengers",[Oo],Object.getOwnPropertyDescriptor(Uo.prototype,"resetSelectPassengers"),Uo.prototype),Le()(Uo.prototype,"resetUnPayOrder",[Po],Object.getOwnPropertyDescriptor(Uo.prototype,"resetUnPayOrder"),Uo.prototype),Le()(Uo.prototype,"processError",[Eo],Object.getOwnPropertyDescriptor(Uo.prototype,"processError"),Uo.prototype),Le()(Uo.prototype,"queryPolicyInfo",[wo],Object.getOwnPropertyDescriptor(Uo.prototype,"queryPolicyInfo"),Uo.prototype),Le()(Uo.prototype,"timeoutRefresh",[To],Object.getOwnPropertyDescriptor(Uo.prototype,"timeoutRefresh"),Uo.prototype),Le()(Uo.prototype,"reloadData",[ko],Object.getOwnPropertyDescriptor(Uo.prototype,"reloadData"),Uo.prototype),Le()(Uo.prototype,"isTimeout",[Io],Object.getOwnPropertyDescriptor(Uo.prototype,"isTimeout"),Uo.prototype),Le()(Uo.prototype,"setLastOpTime",[Co],Object.getOwnPropertyDescriptor(Uo.prototype,"setLastOpTime"),Uo.prototype),Le()(Uo.prototype,"updateSelectedPassengers",[_o],Object.getOwnPropertyDescriptor(Uo.prototype,"updateSelectedPassengers"),Uo.prototype),Le()(Uo.prototype,"reSearchList",[Do],Object.getOwnPropertyDescriptor(Uo.prototype,"reSearchList"),Uo.prototype),Le()(Uo.prototype,"validataPassengers",[Lo],Object.getOwnPropertyDescriptor(Uo.prototype,"validataPassengers"),Uo.prototype),Le()(Uo.prototype,"toggelPaymentPopup",[No],Object.getOwnPropertyDescriptor(Uo.prototype,"toggelPaymentPopup"),Uo.prototype),Le()(Uo.prototype,"toggelPsgListPopup",[Ao],Object.getOwnPropertyDescriptor(Uo.prototype,"toggelPsgListPopup"),Uo.prototype),Le()(Uo.prototype,"toggleBookingTipsPopup",[So],Object.getOwnPropertyDescriptor(Uo.prototype,"toggleBookingTipsPopup"),Uo.prototype),Le()(Uo.prototype,"selectDiscountPrice",[Ro],Object.getOwnPropertyDescriptor(Uo.prototype,"selectDiscountPrice"),Uo.prototype),Le()(Uo.prototype,"removePassenger",[xo],Object.getOwnPropertyDescriptor(Uo.prototype,"removePassenger"),Uo.prototype),Le()(Uo.prototype,"updateTelePhone",[jo],Object.getOwnPropertyDescriptor(Uo.prototype,"updateTelePhone"),Uo.prototype),Le()(Uo.prototype,"toggleProductInfo",[Mo],Object.getOwnPropertyDescriptor(Uo.prototype,"toggleProductInfo"),Uo.prototype),Le()(Uo.prototype,"setPolling",[Bo],Object.getOwnPropertyDescriptor(Uo.prototype,"setPolling"),Uo.prototype),Le()(Uo.prototype,"showPaymentPop",[zo],Object.getOwnPropertyDescriptor(Uo.prototype,"showPaymentPop"),Uo.prototype),Le()(Uo.prototype,"pollingCallback",[Fo],Object.getOwnPropertyDescriptor(Uo.prototype,"pollingCallback"),Uo.prototype),Le()(Uo.prototype,"pollingFail",[Zo],Object.getOwnPropertyDescriptor(Uo.prototype,"pollingFail"),Uo.prototype),Le()(Uo.prototype,"toggleReserveLoading",[Ho],Object.getOwnPropertyDescriptor(Uo.prototype,"toggleReserveLoading"),Uo.prototype),Le()(Uo.prototype,"resetErrorCode",[qo],Object.getOwnPropertyDescriptor(Uo.prototype,"resetErrorCode"),Uo.prototype),Uo),Mi=r(11145),Bi="_67gyESKX";function zi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var o=d()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var Fi=(0,m.I)({store:ji},yn.ZD)(xi=(0,v.f3)("store")(xi=(0,v.Pi)(xi=function(e){u()(r,e);var t=zi(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).store=e.props.store,e}return s()(r,[{key:"componentDidMount",value:function(){var e=this.store.isOneWay,t=this.store.listParams,r=t.depCityName,n=t.arrCityName;(0,j.Z)({depCityName:r,arrCityName:n,title:"订单填写",middleIcon:e?null:M.l}),(0,Mi.T)(this.store,"enter_page")}},{key:"render",value:function(){var e=this.store,t=e.showPsgListPopup,r=e.showPaymentPopup,n=e.showBookingTipsPopup,o=e.showTimeoutRefresh,i=e.showPolling,a=e.showProductInfo,s=e.queryPolicyInfo,c=e.showReserveLoading,u=this.store,l=u.timeoutRefresh,p=u.toggelPaymentListPopup,f=u.paymentOrderParams,d=u.travelSn,y=u.pollingCallback,v=u.departDate,m=u.toggleProductInfo,E=u.updateSelectedPassengers,w=u.selectedIds,T=u.ruleTypeId,k=u.unvalidRoleHandler,I=u.transferList,C=u.pollingSuccess,_=u.progressCallback;return h().createElement(O.Z,null,h().createElement("div",{className:Bi},h().createElement(rn,null),h().createElement(Te,null),h().createElement(mt,null),h().createElement(dr,null),h().createElement(wr,null),h().createElement(F,null),h().createElement(oe,{transferList:I}),o&&h().createElement(g.Z,{requeryCallback:l}),t&&h().createElement(gt.Z,{departDate:v,onSubmit:E,selectedIds:w}),r&&h().createElement(b.Z,{orderParams:f,onClose:p}),n&&h().createElement(nn.Z,null),a&&h().createElement(P.ZP,{close:m,queryHandler:s,activeTabId:T,unvalidHandler:k}),i&&h().createElement(on.Z,{travelSn:d,callback:y}),c&&h().createElement(x,{successCallback:_,isSuccess:C}),h().createElement(gn,null)))}}]),r}(h().Component))||xi)||xi)||xi;(0,n.Z)(Fi,Fi.appConfig.bootstrapOptions)},26810:function(e,t,r){"use strict";r.d(t,{ZD:function(){return n},YO:function(){return o},x5:function(){return i},Bq:function(){return a}});var n={serverTemplateName:"flight_checkout",title:"订单填写",fallbackCSR:!0,requireLogin:!0,bootstrapOptions:{pageProperty:{title:"订单填写",pageName:"flight_checkout",pageSN:47227,pv:{keys:["source","_tp_order_source","trip_type","_tp_order_inner_source"]},native:{disablepullreload:!0}},disablePullReload:!0}},o={MAX_TICKETS:"该订单最多可添加9位乘机人，如需添加更多乘机人，请分开预订",NEED_AUDIT:"儿童/婴儿不可单独预定，请添加年满18周岁同行乘机人",PSG_LIMIT:"航司规定，1名成人最多同时携带1名儿童和1名婴儿乘机或2名儿童乘机，请返回编辑乘机人",EMPTY_PSG:"请添加乘机人",MOBILE_ERROR:"请填写正确的手机号",MOBILE_SAME:"该乘机人手机号与同行旅客重复，请填写该乘机人本人手机号后重试添加"},i={CLOSE:1,SAVE:2,DELETE:3},a={UN_PAY_ORDER:330056031,CUSTOM_TIME_OUT:330010001}},11145:function(e,t,r){"use strict";r.d(t,{T:function(){return i}});var n=r(4906),o=function(e,t,r,o){var i=e.departureInfo,a=void 0===i?{}:i,s=e.arrivalInfo,c=void 0===s?{}:s,u=e.shared,l=e.operateInfo,p=void 0===l?{}:l,f=e.stopInfo,d=void 0===f?{}:f,y=e.duration,h=e.productInfo,v=void 0===h?{}:h,m=e.segmentNo,g=v.baggage,b=a.dateTime,O=a.airportCode,P=c.dateTime,E=c.airportCode,w=d.cityName,T=d.duration,k={depTime:b,arrTime:P,depCode:O,arrCode:E,price:t.reduce((function(e,t){return"".concat(e,"_").concat(t.type,"_").concat(t.salePriceStd)}),""),baggage:g,duration:y,shared:u,stopCity:w,stopDuration:T,operateFlightNo:u?p.flightNo:"",isOneWay:+r,segText:m};(0,n.k)({detail:JSON.stringify(k),subOp:o})},i=function(e,t){var r=e.bookSummaryInfo,n=e.ticketPriceInfo,i=e.isOneWay;r.length>0?r.forEach((function(e){o(e,n,i,t)})):o(r,n,i,t)}},75940:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3detailpopup"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(9396).then(r.bind(r,8965))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 8965}})},46225:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3bookingTipsPopup"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(3436).then(r.bind(r,55138))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 55138}})},5503:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3passengerListPopup"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(8298).then(r.bind(r,45255))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 45255}})},55572:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3polling"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(508).then(r.bind(r,6584))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 6584}},{isCloseSpinner:!0})},55688:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3voucherPopup"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(9122).then(r.bind(r,93982))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 93982}})},89283:function(e,t,r){"use strict";r.d(t,{$:function(){return s},Z:function(){return c}});var n=r(66197),o=r(4906),i=r(84160),a=r(6393),s={TOAST:"toast",NOTHING:"nothing",ALERT:"alert",CONFIRM:"confirm"};function c(e){if(!e)return!1;var t=e.type,r=void 0===t?s.ALERT:t,c=e.title,u=e.text,l=e.onOk,p=void 0===l?null:l,f=e.onCancel,d=void 0===f?null:f,y=e.onShow,h=void 0===y?null:y,v=e.cancelLabel,m=void 0===v?"取消":v,g=e.errorCode,b=void 0===g?-1:g,O=e.onClose,P=void 0===O?function(){}:O,E=e.onlyClose,w=e.okLabel||(e.type===s.ALERT?"知道了":"确定");switch((0,o.k)({subOp:"errorPayload handleError",errorType:r,errorCode:b,text:u}),r){case s.NOTHING:p&&p();break;case s.ALERT:(0,i.w)({title:c,text:u,onOk:p,onClose:P,okLabel:w});break;case s.CONFIRM:(0,i.i)({title:c,text:u,onOk:p,onCancel:d,cancelLabel:m,okLabel:w,onlyClose:E});break;default:(0,n.Z)(u||a.p1,{onClose:P})}return h&&h(),!0}},99065:function(e,t,r){"use strict";r.d(t,{cS:function(){return E},z$:function(){return w}});var n=r(59713),o=r.n(n),i=r(27361),a=r.n(i),s=r(30381),c=r.n(s),u=r(96237),l=r(7687);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={1:"大",2:"中",3:"小"},y={0:"不提供餐食",1:"提供餐食",2:"提供小食"};function h(e){return c()(e).format("YYYY-MM-DD")}function v(e,t){if(!e||!t)return(0,u.e)({errorMsg:"出发或到达时间为空",stores:{startTime:e,endTime:t}}),null;var r=c()(h(t)).diff(c()(h(e)),"days");return 1===r?"次日":r>1?"+".concat(r):null}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!e||e<=0)return"";var t=Math.floor(e/60),r=e%60;return(t>0?"".concat(t,"时"):"")+(0===r?"":"".concat(r,"分"))}function g(e){return f(f({},function(e){return e?{dateTime:e,date:l.z.chineseMD(e),time:l.z.hColonM(e),weekDay:l.z.weekDayTag(e)}:((0,u.e)({errorMsg:"出发或到达时间为空",stores:{dateTime:e}}),{dateTime:e,date:"--",time:"--",weekDay:"--"})}((e=e||{}).dateTime)),{},{cityName:e.cityName||"未知",cityCode:e.cityCode||"",airportCode:e.airportCode||"",airportTerminal:(e.airportBrief||"")+(e.terminal||"")})}function b(e,t){return{logo:(e=e||{}).logo||"",name:e.name||"",code:e.code||"",flightNo:e.flightNo||"",flightNameNo:"".concat(e.brief).concat(e.flightNo).concat(t?"(共享)":"")}}function O(e){e=e||{};var t=a()(e,"stopList[0]")||{};return{list:e.stopList||[],duration:m(t.duration)||"",cityName:t.cityName||"",num:e.stopNum||0}}function P(e,t){return e?t?"".concat(e,"(").concat(d[t]||"",")"):e:""}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.departureInfo||{},r=e.arrivalInfo||{},n=e.aircraftType||0,o=e.aircraftName||"",i=!!e.shared;return{departureInfo:g(e.departureInfo),arrivalInfo:g(e.arrivalInfo),stopInfo:O(e.stopInfo),airlineInfo:b(e.airlineInfo,i),operateInfo:b(e.operateInfo,!1),shared:!!e.shared,distance:e.distance||"未知",duration:m(e.duration),aircraftType:n,airTypeName:P(o,n),dateTag:v(t.dateTime,r.dateTime),mealTxt:y[e.mealType]||"",cabinMainClassList:e.cabinMainClassList||[],cabin:a()(e,"cabinMainClassList[0]")||"未知",segmentNo:e.segmentNo||0,sequenceNo:e.sequenceNo||0}}function w(e){return null===e?null:e>0?"托运行李".concat(e/1e3,"KG"):"无免费行李托运额"}},453:function(e,t,r){"use strict";r.d(t,{U:function(){return l}});var n=r(27361),o=r.n(n),i=r(99264),a=r(28444);function s(e){var t=[];return e.mobile||t.push(a.FH[a.iS.MOBILE]),e.gender===a.sP.NULL&&e.cardType!==a.qh.PASSPORT&&t.push(a.FH[a.iS.GENDER]),(a.Fr[e.cardType]||{needBirth:!1,birthDate:!1}).needBirth&&!e.birthDate&&t.push(a.FH[a.iS.BIRTH]),t.length>=2?a.FH[a.iS.ALL]:t[0]}function c(e,t){return e&&t?"".concat(e,"/").concat(t):""}function u(e){var t=e.name,r=e.cardType,n=e.surname,o=e.givenName;return r===a.qh.PASSPORT&&c(n,o)||t}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){return{originIndex:t,snapshotId:e.cardSnapshotId,id:e.id,version:e.version,name:e.name||"",cardId:e.cardId,cardType:e.cardType,cardTypeName:o()(a.Fr,"".concat(e.cardType,".desc"))||"",type:e.type,typeName:i.Eg[e.type],mobile:e.mobile||"",expireDate:e.expireDate||"",birthDate:e.birthDate||"",gender:e.gender||a.sP.NULL,countryCode:e.countryCode||0,missingMsg:s(e),surname:e.surname||"",givenName:e.givenName||"",enName:c(e.surname,e.givenName),selectable:!s(e),useAdultPrice:0,showName:u(e)}}))}},93519:function(e,t,r){"use strict";r.d(t,{I:function(){return o}});var n=r(7687);function o(e,t){var r=e.departureInfo,o=r.dateTime,i=r.cityName,a=r.weekDay,s=r.time,c=e.arrivalInfo.cityName,u=o?n.z.chineseYMD(o):"",l="".concat(i,"-").concat(c," ").concat(u," ").concat(a).concat(s),p="";if(1===t.length){var f=t[0],d=f.showName,y=f.cardTypeName,h=f.cardId;p="".concat(d," ").concat(y).concat(h)}else p=t.map((function(e){return e.showName})).join("、")+"等".concat(t.length,"人");return{title:l,subTitle:p}}},58332:function(e,t,r){"use strict";r.d(t,{T:function(){return o}});var n=r(3060);function o(e){return(0,n.bd)(e||0)}},81376:function(e,t,r){"use strict";r.d(t,{c:function(){return i}});var n=r(3060);function o(e){return(0,n.bd)(e)||""}var i=function(e){var t=e||{},r=t.lowestChangeFee,n=t.lowestRefundFee;return 0===n&&0===r?"提前退改免费":0===r?"提前改期免费":0===n?"提前退票免费":n||r?n<0&&r<0?"仅退机建燃油费":n>0&&(r>n||r<0||!r)?"退票¥".concat(o(n),"起"):"改签¥".concat(o(r),"起"):null}},9786:function(e,t,r){"use strict";r.d(t,{x:function(){return u},Z:function(){return l}});var n=r(50008),o=r.n(n),i=r(11865),a=r.n(i),s=r(68929),c=r.n(s);function u(e){if(!e)return e;var t={};return Object.keys(e).forEach((function(r){if(e.hasOwnProperty(r)){var n=a()(r);t[n]=e[r]}})),t}function l(e,t){for(var r in t=t||{},e)e.hasOwnProperty(r)&&("object"===o()(e[r])&&null!==e[r]?t[c()(r)]=l(e[r],Array.isArray(e[r])?[]:{}):t[c()(r)]=e[r]);return t}},29017:function(e,t,r){"use strict";r.d(t,{f:function(){return c},V:function(){return u}});var n=r(59713),o=r.n(n),i=r(12045),a=r(55622);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,a.cM)((function(){return{op:"click",page_el_sn:e}}),t)};function u(e,t,r){try{if(t=t||{},!e)throw new Error("empty pageElSn");e&&(0,i.ax)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({page_el_sn:e},t)),r&&r()}catch(e){r&&r()}}},7687:function(e,t,r){"use strict";r.d(t,{z:function(){return f}});var n=r(34575),o=r.n(n),i=r(93913),a=r.n(i),s=r(30381),c=r.n(s),u=r(2428),l=["今天","明天","后天"],p=["周日","周一","周二","周三","周四","周五","周六"],f=function(){function e(){o()(this,e)}return a()(e,null,[{key:"now",value:function(){return u.Z.serverTimeNow()}},{key:"diffNow",value:function(t){return t-e.now()}},{key:"chineseMD",value:function(e){return c()(e).format("M月D日")}},{key:"hColonM",value:function(e){return c()(e).format("HH:mm")}},{key:"yMD",value:function(e){return c()(e).format("YYYY-MM-DD")}},{key:"yMDTime",value:function(e){return c()(e).format("YYYY-MM-DD HH:mm:ss")}},{key:"yMDayStart",value:function(e){return c()(e).startOf("day").format("YYYY-MM-DD HH:mm:ss")}},{key:"dateStartTime",value:function(e){return c()(e).startOf("day").valueOf()}},{key:"dateEndTime",value:function(e){return c()(e).endOf("day").valueOf()}},{key:"isSameDay",value:function(e,t){return c()(e).isSame(t,"day")}},{key:"twxDay",value:function(e,t,r){var n=c()(e).startOf("day"),o=c()(t).endOf("day"),i=c()(r);return(i.isAfter(n,"day")||i.isSame(n,"day"))&&(i.isBefore(o,"day")||i.isSame(o,"day"))}},{key:"diffNowTag",value:function(t){var r=c()(e.now()),n=Math.ceil((c()(t).startOf("day")-r.startOf("day"))/864e5);return l[n]||""}},{key:"weekDayTag",value:function(e){var t=c()(e).day();return p[t]||""}},{key:"tag",value:function(t){return e.diffNowTag(t)||e.weekDayTag(t)}},{key:"dayIncrease",value:function(e,t){return c()(e).add(t?1:-1,"day").valueOf()}},{key:"chineseYMD",value:function(e){return c()(e).format("YYYY年M月D日")}},{key:"dayDifference",value:function(e,t){if(!e||!t)return 0;var r=c()(e).format("YYYY-MM-DD"),n=c()(t).format("YYYY-MM-DD");return c()(r).diff(c()(n),"days")}},{key:"isOverTime",value:function(t,r){return c()(e.now()).diff(t,"seconds")>=r}},{key:"formatDate",value:function(e,t){return e&&t?c()(e).format(t):""}},{key:"getAge",value:function(e,t){return e&&t?c()(e).diff(t,"years"):0}},{key:"getUnix",value:function(t){return t?c()(t).valueOf():e.now()}},{key:"isNearTime",value:function(t){return c()(t).diff(e.now(),"seconds")<=7200}},{key:"addDay",value:function(e,t){return c()(e).add(t,"day").format("YYYY-MM-DD")}}]),e}()},79859:function(e,t,r){"use strict";var n=r(28387);t.Z=(0,n.zT)()},5551:function(e,t,r){"use strict";r.d(t,{j:function(){return s},Z:function(){return u}});var n=r(36792),o=r(54268),i=r(48144),a=r(79859),s={img:(0,o.H)("/trip/train/right_pointer.png"),width:16,height:14,y_offset:-2,font:18,margin:[4,0,6,0]};function c(e){var t=e.depCityName,r=e.arrCityName,n=e.title,o=e.middleIcon;return t&&r?[{txt:t,color:"#151516",font:18,y_offset:-2,text_style:"bold"},o||s,{txt:r,color:"#151516",font:18,y_offset:-2,text_style:"bold"}]:[{txt:n,color:"#151516",font:18,y_offset:-2,text_style:"bold"}]}function u(e){var t=e.depCityName,r=e.arrCityName,o=e.title,s=e.middleIcon,u=t?"".concat(t,"-").concat(r):o;return a.Z.isNativePlatform?a.Z.isVersionGreaterThanEqual("4.29.0")?((0,n.E3)({desc:c({depCityName:t,arrCityName:r,title:o,middleIcon:s}),hide_line:!0}),null):(0,n.Td)({title:u}):(0,i.r)(u)}},76371:function(e,t,r){"use strict";r.d(t,{TU:function(){return a},CY:function(){return s},Yr:function(){return c}});var n=r(66197),o=r(28628),i=r(7687),a=180;function s(e){var t,r=e.departTime,s=e.lastOpTime,c=e.nearCallback,u=e.overCallback;return r&&i.z.isNearTime(r)?(c&&(t=c,(0,n.Z)(o.Hg.OVER_TIME),setTimeout((function(){t()}),2e3)),!1):!i.z.isOverTime(s,a)||(u&&u(),!1)}function c(e){var t=e.isDataLoading,r=e.departTime,n=e.lastOpTime,o=e.nearCallback,i=e.overCallback;return!t&&s({departTime:r,lastOpTime:n,nearCallback:o,overCallback:i})}},54405:function(e,t,r){"use strict";r.d(t,{Jx:function(){return h},Q2:function(){return m},v_:function(){return g},sl:function(){return b},iH:function(){return O},$b:function(){return P},_T:function(){return T},jL:function(){return k}});var n=r(59713),o=r.n(n),i=r(1607),a=r(30064),s=r(36792),c=r(9440),u=r(9786),l=r(79859),p=r(26920);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y="tandy_recliner.html?wx_flight_redirect_name=",h={NORMAL_ORDER_DETAIL:"order.html",CHECK_OUT:"".concat(y,"flight_checkout"),CHANGE:"".concat(y,"flight_change"),DETAIL:"".concat(y,"flight_detail"),LIST:"".concat(y,"flight_list"),ROUND_LIST:"".concat(y,"flight_round_list"),FLIGHT:"tandy_recliner.html",ORDER_DETAIL:"/transac_ddgj_agreement.html?_t_timestamp=order_plane_ticket",INVOICE_INPUT:"".concat(y,"flight_invoice_input"),SUCCESS:"".concat(y,"flight_success"),PROTOCALS:"".concat(y,"flight_protocols"),ORDER:"transac_orders_search_results.html?keyWord=飞机票",ROUND_DETAIL:"".concat(y,"flight_round_detail"),CASHBACK_ACTIVITY:"invite_user.html?wx_train_redirect_name=train_cashback_activity",TRAIN_FLIGHT:"trip_tickets.html?scene_group=12",FLIGHT_COMPOSE:"tandy_recliner.html?is_compose_page=1",TRAIN_COMPOSE:"train.html?is_compose_page=1",LOGIN_MANAGEMENT:"tcashier_train_checkout.html?_t_timestamp=tcashier_login_management",CONTACT_MOBILE:"".concat(y,"flight_contact_mobile_list")};function v(){var e={},t=(0,a.mB)(window.location.search);return Object.keys(t).forEach((function(r){/^_tp_/.test(r)&&(e[r]=t[r])})),e}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e+(e.includes("?")?"&":"?")+(0,a.XP)(d(d(d({},r),v()),(0,u.x)(t)))}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=m(e,t,r);i.ZP.uniformForward(n)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=m(e,t,r);i.ZP.reload(n)}function O(e,t,r){g(r===p.c2.ROUND_TRIP?h.ROUND_LIST:h.LIST,e,t)}function P(e){b(h.ORDER_DETAIL,e)}function E(e){var t={url:h.ORDER,type:e,props:{search_key:"飞机票"}};(0,s.Q6)("JSNavigation","forward",t)}function w(){g(h.ORDER)}function T(){l.Z.isNativePlatform?(0,c.zt)()&&l.Z.isVersionGreaterThanEqual&&l.Z.isVersionGreaterThanEqual("4.82.0")?E("pdd_order_search"):(0,c.bM)()&&l.Z.isVersionGreaterThanEqual&&l.Z.isVersionGreaterThanEqual("4.60.0")?E():w():w()}function k(e){g(l.Z.isNativePlatform?h.TRAIN_FLIGHT:h.FLIGHT_COMPOSE,e)}},38905:function(e,t,r){"use strict";r.d(t,{Xu:function(){return n},AQ:function(){return o},Af:function(){return i},eI:function(){return a},xr:function(){return s},hS:function(){return c}});var n=["cashBack","receive"],o={BUY_TICKETS:1,TRAIN_TICKETS:3,FLIGHT_TICKETS:4},i={COUPON:1,RULES:2,DETAIL:3,CIPHER:4,RECEIVE:5,CASH:6,SURPRISE:7},a={REC_LIST:1,CASHBACK:2},s={OLD:10002,DAILY:10003},c={DEFAULT:0,REJECT:1,OPEN:2,COMPLETE:3}},28444:function(e,t,r){"use strict";r.d(t,{qh:function(){return u},Fr:function(){return l},D_:function(){return p},sP:function(){return f},OZ:function(){return d},iS:function(){return y},X4:function(){return h},fc:function(){return v},o1:function(){return m},FH:function(){return g}});var n,o,i,a,s=r(59713),c=r.n(s),u={CHINA_ID:"1",PASSPORT:"B",HONGKONG_MACAO_ID:"C",TAIWAN_PASSPORT:"G",FOAREINER_ID:"H",HONGKONG_MACAO_TAIWAN_ID:"2",ACCOUNT_BOOK:"J",BIRTH_CERTIFICATE:"K",MILITARY_CARD:"L"},l=(n={},c()(n,u.CHINA_ID,{desc:"居民二代身份证",regular:/(^\d{18}$)|(^\d{17}(\d|X|x)$)/,length:18,index:1}),c()(n,u.PASSPORT,{desc:"护照",regular:/^[a-zA-Z0-9]{5,17}$/,length:18,needExpire:!0,needBirth:!0,needGender:!0,needRegion:!0,index:2}),c()(n,u.HONGKONG_MACAO_TAIWAN_ID,{desc:"港澳台居民居住证",regular:/^(71|81|82|83|91)\d{16}$/,length:18,needBirth:!0,needGender:!0,index:3}),c()(n,u.FOAREINER_ID,{desc:"外国人永久居留身份证",regular:/^[a-zA-Z]{3}[0-9]{12}$/,length:18,needExpire:!0,needBirth:!0,needGender:!0,needRegion:!0,index:4}),c()(n,u.HONGKONG_MACAO_ID,{desc:"港澳居民来往内地通行证",regular:/^[HMhm]{1}([0-9]{8})$/,length:18,needExpire:!0,needBirth:!0,needGender:!0,index:5}),c()(n,u.TAIWAN_PASSPORT,{desc:"台湾居民来往大陆通行证",regular:/^[0-9]{8}$/,length:18,needExpire:!0,needBirth:!0,needGender:!0,index:6}),c()(n,u.ACCOUNT_BOOK,{desc:"户口簿",regular:/(^\d{18}$)|(^\d{17}(\d|X|x)$)/,length:18,needGender:!0,index:7}),c()(n,u.BIRTH_CERTIFICATE,{desc:"出生证明",regular:/^(\d{8})|([a-zA-Z0-9]{1,20})$/,length:18,needBirth:!0,needGender:!0,index:8}),c()(n,u.MILITARY_CARD,{desc:"军人证",regular:/^[0-9]{1,20}$/,length:18,needBirth:!0,needGender:!0,index:9}),n),p={TRAIN:"TRAIN"},f={NULL:0,MALE:1,FEMALE:2},d=(o={},c()(o,f.NULL,""),c()(o,f.MALE,"男"),c()(o,f.FEMALE,"女"),o),y={NAME:1,CERTIFICATE:2,NUMBER:3,EXPIRE:4,BIRTH:5,GENDER:6,REGION:7,NAME_DESCRIPTION:8,MOBILE:9,SURNAME:10,GIVEN_NAME:11,ALL:99},h=(i={},c()(i,y.NAME,"请填写乘机人姓名"),c()(i,y.CERTIFICATE,"请选择证件类型"),c()(i,y.NUMBER,"请正确填写证件号码"),c()(i,y.EXPIRE,"请选择证件有效期"),c()(i,y.BIRTH,"请选择出生日期"),c()(i,y.GENDER,"请选择性别"),c()(i,y.REGION,"请选择国家地区"),c()(i,y.MOBILE,"请填写乘机人手机号"),c()(i,y.NUMBER_CERTIFICATE,"可填出生日期，如20200125"),c()(i,y.SURNAME,"如：HAN"),c()(i,y.GIVEN_NAME,"如：MEIMEI"),i),v={CN:"CN",EN:"EN"},m="CN",g=(a={},c()(a,y.BIRTH,"请完善乘机人出生日期"),c()(a,y.MOBILE,"请完善乘机人手机号码"),c()(a,y.ALL,"请完善缺失信息"),c()(a,y.GENDER,"请完善乘机人性别"),a)},6393:function(e,t,r){"use strict";r.d(t,{az:function(){return o},p1:function(){return i},Wl:function(){return a},zi:function(){return s}});var n=[330055e3,330059999];function o(e,t){return e=parseInt(e,10),t&&e>=n[0]&&e<=n[1]?t:""}var i="网络不稳定，请稍后再试",a={UNVALID_FLIGHT:330050004},s=[6e4,620011]},28628:function(e,t,r){"use strict";r.d(t,{rG:function(){return s},rA:function(){return c},Pq:function(){return u},pZ:function(){return l},sf:function(){return p},yw:function(){return f},kQ:function(){return d},s:function(){return y},pt:function(){return h},Hg:function(){return v},tD:function(){return m},T0:function(){return g},Qg:function(){return b},SS:function(){return O},bV:function(){return P},c2:function(){return E},Nd:function(){return w},Sz:function(){return T},TT:function(){return k}});var n,o,i=r(59713),a=r.n(i),s={TIME:"TIME",PRICE:"PRICE"},c={UP:"departureInfo-1",DOWN:"departureInfo-0"},u=(n={},a()(n,c.UP,"从早到晚"),a()(n,c.DOWN,"从晚到早"),n),l={NULL:0,UP:1,DOWN:2},p={NULL:0,UP:1,DOWN:2},f={1:"经济舱",2:"公务舱",3:"头等舱"},d={DURATION:"if_duration",CABIN_MAIN_CLASS:"if_main_class",DEP_AIR:"if_dep_air",ARR_AIR:"if_arr_air",AIRLINE:"if_air_line"},y={DURATION:"durationFilters",CABIN_MAIN_CLASS:"cabinClassFilters",DEP_AIR:"depAirFilters",ARR_AIR:"arrAirFilters",AIRLINE:"airlineFilters"},h=(o={},a()(o,d.DURATION,y.DURATION),a()(o,d.CABIN_MAIN_CLASS,y.CABIN_MAIN_CLASS),a()(o,d.DEP_AIR,y.DEP_AIR),a()(o,d.ARR_AIR,y.ARR_AIR),a()(o,d.AIRLINE,y.AIRLINE),o),v={NO_DEP_DATE:"出发日期有误，请重新查询",OVER_TIME:"距离起飞时间太近，换个航班试试。若您在机场柜台，请前往航司柜台咨询"},m={FLIGHT_LIST:"flight_list_error",RESCHEDULE_LIST:"flight_reschedule_list_error"},g=["departureInfo","minPrice"],b=300,O={ADULT:1,CHILDREN:2,BABY:3},P={NO_FILTERS:{text:"没有查询到符合条件航班",subText:"请尝试换个日期查询"},HAS_FILTERS:{text:"没有查询到符合条件航班",subText:"请尝试更新搜索条件"}},E={SINGEL:1,ROUDN:2,MULTI:3},w={DEPARTURE:1,RETURN:2},T={NORMAL:"normal",NEAR:"near"},k="5.50.0"},79952:function(e,t,r){"use strict";r.d(t,{l:function(){return n}});var n={img:(0,r(54268).H)("/flight/connectPoiner.png"),width:16,height:14,y_offset:-2,font:18,margin:[9,0,9,0]}},51941:function(e,t,r){"use strict";r.d(t,{rI:function(){return o},F2:function(){return i},L_:function(){return a},_x:function(){return s},k$:function(){return c},rZ:function(){return u},aT:function(){return l}});var n=r(88771),o={WEIXIN:n.Z.WeChat,ALIPAY:n.Z.AliPay,QQ:n.Z.QQPay,WEIXIN_FRIEND:n.Z.FriendPay,LIANLIANPAY:n.Z.ApplePay,HBFQ_ALI_PAY:n.Z.HBInstallmentPay,DUODUOPAY:n.Z.DuoDuoPay},i={WEIXIN:"wechat",WEIXIN_FRIEND:"wechat",ALIPAY:"ali",QQ:"qq",DUODUOPAY:"ddpay",LIANLIANPAY:"apple"},a={NATIVE:118,H5_FOR_OTHER:119,H5_FOR_WECHAT:120,H5_FOR_MINIPROGRAM:121,H5_FOR_QQ:122},s={CREATED:0,PAYED:1,CANCELED:2},c={CHECKOUT:1,CHANGE:2},u={DEFAULT:0,PAYING:1},l={47227:25}},26920:function(e,t,r){"use strict";r.d(t,{NY:function(){return a},gT:function(){return s},c2:function(){return c},K6:function(){return u},eQ:function(){return p}});var n,o=r(59713),i=r.n(o),a={1:"去程",2:"返程"},s={1:"去",2:"返"},c={ONE_WAY:1,ROUND_TRIP:2},u={DEPARTURE:1,RETURN:2},l=(n={},i()(n,c.ONE_WAY,{1:"单程"}),i()(n,c.ROUND_TRIP,a),n),p=function(e,t){return(l[e]||{})[t]||""}},99264:function(e,t,r){"use strict";r.d(t,{$A:function(){return a},Eg:function(){return s},xT:function(){return c}});var n,o=r(59713),i=r.n(o),a={ADULT:1,CHILD:2,BABY:3},s=(n={},i()(n,a.ADULT,"成人"),i()(n,a.CHILD,"儿童"),i()(n,a.BABY,"婴儿"),n),c={CHILD:0,ADULT:1}},80644:function(e,t,r){"use strict";r.d(t,{_:function(){return k}});var n,o=r(34575),i=r.n(o),a=r(93913),s=r.n(a),c=r(16525),u=r.n(c),l=r(2205),p=r.n(l),f=r(78585),d=r.n(f),y=r(29754),h=r.n(y),v=r(33124),m=r.n(v),g=r(22188),b=r(96060),O=r(62424),P=r(36406),E=r(2428),w=r(52604);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var o=h()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d()(this,r)}}var k=(n=function(e){p()(r,e);var t=T(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).$ctx=void 0,e.$axiosHttp=void 0,e}return s()(r,[{key:"initAxiosHttp",value:function(e){e.req,e.res,e.accessToken;var t={pageInfo:e.pageInfo};this.$axiosHttp=(0,P.W)(t),E.Z.serverTime(this.$axiosHttp.get)}},{key:"initDataCallback",value:function(e){return this.$ctx=(0,w.d)(e),u()(h()(r.prototype),"initDataCallback",this).call(this,e)}},{key:"fromJS",value:function(e,t){var r;e&&e.isServerRendered&&(Object.assign(this,e),this.initAxiosHttp({pageInfo:t}),this.initServices(this.$axiosHttp),(r=this).$substores&&Object.values(r.$substores.values||{}).forEach((function(e){e.isfinishedInitData&&e.initClientData()})),this.dispatchEvent()),(0,O.zv)()}},{key:"dispatchEvent",value:function(){var e=document.createEvent("HTMLEvents");e.initEvent("PRE_RENDER_TARGET",!0,!0),document.dispatchEvent(e)}}]),r}(b.j),m()(n.prototype,"fromJS",[g.aD],Object.getOwnPropertyDescriptor(n.prototype,"fromJS"),n.prototype),n)},93054:function(e,t,r){"use strict";r.d(t,{z:function(){return f}});var n=r(48926),o=r.n(n),i=r(34575),a=r.n(i),s=r(93913),c=r.n(s),u=r(87757),l=r.n(u),p=r(62331),f=function(){function e(t){var r=this;a()(this,e),this.$parent=void 0,this.isfinishedInitData=!1,this.initData=function(){var e=o()(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.initServices(r.$parent.$axiosHttp),e.next=3,r.initDataCallback(t);case 3:r.prepareClientData();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(0,p.Y)(this,"$parent",t)}var t;return c()(e,[{key:"prepareClientData",value:function(){}},{key:"initServices",value:function(e){}},{key:"getDataSource",value:function(e){}},{key:"finishInitData",value:function(){this.isfinishedInitData=!0}},{key:"initDataCallback",value:(t=o()(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataSource(t);case 2:this.finishInitData();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"initClientData",value:function(){this.initServices(this.$parent.$axiosHttp),this.prepareClientData()}}]),e}()},77181:function(e,t,r){"use strict";r.d(t,{$:function(){return y}});var n=r(34575),o=r.n(n),i=r(93913),a=r.n(i),s=r(93054),c=r(62331),u=0;function l(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}var p=function(){function e(t){o()(this,e),this.values=void 0,this.name=void 0,this.name="".concat(t.constructor.name,"@").concat(++u),this.values={}}return a()(e,[{key:"read",value:function(e,t){return this.values[t]}},{key:"write",value:function(e,t,r){Object.assign(this.values[t],r)}}]),e}();function f(e){return{configurable:!0,enumerable:!0,get:function(){return this.$substores.read(this,e)},set:function(t){this.$substores.write(this,e,t)}}}function d(e){if(!0!==e.__substoreDidRunLazyInitializers){var t=e.__substoreDecorators;if(t)for(var r in l(e,"__substoreDidRunLazyInitializers",!0),function(e){if(e.$substores)return e.$substores;var t=new p(e);(0,c.Y)(e,"$substores",t)}(e),t){var n=t[r],o=n.name,i=n.SubStoreClass;e.$substores.values[o]=new i(e),Object.defineProperty(e,o,f(o))}}}var y=function(e){return function(t,r){return Object.getPrototypeOf(e)!==s.z&&console.warn("SubStoreClass need extends SubViewStore"),Object.prototype.hasOwnProperty.call(t,"__substoreDecorators")||l(t,"__substoreDecorators",Object.assign({},t.__substoreDecorators)),t.__substoreDecorators[r]={name:r,SubStoreClass:e},{configurable:!0,enumerable:!0,get:function(){return d(this),this[r]},set:function(e){d(this),this[r]=e}}}}},62331:function(e,t,r){"use strict";function n(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}r.d(t,{Y:function(){return n}})},93073:function(e,t,r){"use strict";r.d(t,{m:function(){return a}});var n=r(67294),o=r.n(n),i=r(29323);function a(){return o().useContext(i.yX)}},52604:function(e,t,r){"use strict";r.d(t,{Z:function(){return l},d:function(){return p}});var n=r(27361),o=r.n(n),i=r(67294),a=r.n(i),s=r(69687);var c=r(28387),u=r(99433);var l=a().createContext(null);function p(e){var t;return{webpEnable:(null==e?void 0:e.isSupportWebp)||(o()(e,"__req"),(0,s.R)()),platform:(o()(e,"userAgent"),t=(0,c.Xf)(window.navigator.userAgent),{current:t.platform,isIOS:t.system===u.we.IOS,isNativePlatform:t.isNativePlatform}),pageName:o()(e,"__res.locals.pageName")}}},27325:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(67154),o=r.n(n),i=r(67294),a=r.n(i),s=r(52604);function c(e){return function(t){return a().createElement(s.Z.Consumer,null,(function(r){return a().createElement(e,o()({},t,{ctx:r}))}))}}},3601:function(e,t,r){"use strict";r.d(t,{b:function(){return _}});var n=r(48926),o=r.n(n),i=r(59713),a=r.n(i),s=r(6479),c=r.n(s),u=r(34575),l=r.n(u),p=r(93913),f=r.n(p),d=r(87757),y=r.n(d),h=r(36406),v=r(50008),m=r.n(v),g=r(97792);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){return e=e||{},parseInt(e.errorCode,10)===g.R0.AUTHENTICATION_FAILED||"needLogin"===e.errorMsg||"needLogin"===e.errorCode}var P=function(e){if(O(e))throw e;return e};var E=function(e,t,r){var n=t||{};"object"!==m()(n)||Array.isArray(n)||(n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isApiError:!0,errorCode:e.errorCode,errorMsg:e.errorMsg,errorPayload:(e.data||{}).errorPayload},n));return n},w=["customDataHandler"],T=["url","params","extrats","customConfig"],k=["url","params","risk","extrats","customConfig"];function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=function(){function e(t){var r=this;if(l()(this,e),this._handleResError=function(e,t){var r=t.customErrorHandler,n=t.defaultValue,o=(t.url,t.customConfig);return P(e),r?r(e):(function(e){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fallbackCSR&&e&&"ECONNABORTED"===e.code)throw e}(e,o),E(e,n))},this._handleResData=function(e,t){var r=t.customDataHandler,n=c()(t,w),o=e;return r&&(o=r(e,C({},n))),o},this.get=function(){var e=o()(y().mark((function e(t){var n,o,i,a,s,u,l,p;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,o=t.params,i=t.extrats,a=void 0===i?{}:i,s=t.customConfig,u=void 0===s?{}:s,l=c()(t,T),e.prev=1,e.next=4,r.$http.get(n,C(C({},a),{},{params:o,customConfig:u}));case 4:return p=e.sent,e.abrupt("return",r._handleResData(p,C({url:n,params:o},l)));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r._handleResError(e.t0,l));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.post=function(){var e=o()(y().mark((function e(t){var n,o,i,a,s,u,l,p,f,d;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,o=t.params,i=void 0===o?{}:o,a=t.risk,s=t.extrats,u=void 0===s?{}:s,l=t.customConfig,p=void 0===l?{}:l,f=c()(t,k),e.prev=1,e.next=4,r.$http.post(n,i,C(C({},u),{},{customConfig:p,risk:a}));case 4:return d=e.sent,e.abrupt("return",r._handleResData(d,C({url:n,params:i},f)));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r._handleResError(e.t0,C({url:n,params:i,customConfig:p},f)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.isClient=!0,this.$http=t||this._initClientHttp(),!this.$http)throw Error("$http is lost")}return f()(e,[{key:"_initClientHttp",value:function(){return this.isClient?(0,h.W)():null}}]),e}()},2428:function(e,t,r){"use strict";var n=r(48926),o=r.n(n),i=r(87757),a=r.n(i);t.Z={__serverTimeDiff:0,serverTime:function(e){var t=this;return o()(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.__serverTime){r.next=2;break}return r.abrupt("return",t.__serverTime);case 2:return t.__queryPromise=t.__queryPromise||t.queryServerTime(e),r.abrupt("return",t.__queryPromise);case 4:case"end":return r.stop()}}),r)})))()},queryServerTime:function(e){var t=this;return o()(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getServerTime(e);case 2:return t.__serverTime=r.sent,t.setServerTimeDiff(t.__serverTime),t.__queryPromise=null,r.abrupt("return",t.__serverTime);case 6:case"end":return r.stop()}}),r)})))()},setServerTimeDiff:function(e){this.__serverTimeDiff=e-Date.now()},serverTimeNow:function(){return this.__serverTimeDiff+Date.now()},getServerTime:function(e){return e("api/server/_stm",{customConfig:{skipBizErrorCheck:!0,skipCamelCaseResponse:!0}}).then((function(e){return e&&e.server_time})).catch((function(){return Date.now()}))}}},36406:function(e,t,r){"use strict";r.d(t,{W:function(){return b}});var n=r(25370),o=r(53527),i=r(59713),a=r.n(i),s=r(97792),c=r(12714),u=r(9786);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(){return{request:function(e){return e.data&&(e.data=(0,u.x)(e.data)),e.params&&(e.params=(0,u.x)(e.params)),e}}},d=function(){return{response:function(e){var t=e.config.customConfig;return t&&t.skipCamelCaseResponse||(e.data=(0,u.Z)(e.data)),e}}},y=function(){return{response:function(e){var t=e.config.customConfig;if(t&&t.skipBizErrorCheck)return e;var r=e.data,n=e.config;if(!r.success||!r.result){var o=r.errorMsg||"project unknown biz error",i=new Error(o);throw i.errorType="project_api_biz_error",i.errorCode=r.errorCode||"unknow",i.data=r,i.config=n,i.isDefaultCustomErrorChecker=!0,i.errorMsg=r.errorMsg,i}return e}}},h=function(e){return{responseError:function(t){var r=t.config,n=r.customConfig||{},o=n.needTimeoutRetry,i=n.retryDelay,a=void 0===i?1:i,s=n.retry,u=void 0===s?3:s,l=n.retryCodes,f=[6e4,620011].concat(void 0===l?[]:l);if(!o||!f.includes(t.errorCode))return Promise.reject(t);if(r.__retryCount=r.__retryCount||0,r.__retryCount>=u)return Promise.reject(t);r.__retryCount+=1;var d={sub_op:"project_api_biz_error",url:r.method+":"+r.url,page_url:location.href,error_code:t.errorCode,error_message:"axiosRetryInterceptor start ".concat(r.__retryCount," times"),error_type:t.errorType,params:JSON.stringify({params:r.params,data:r.data})};return(0,c.K2)(t,p(p({},d),{},{sub_op:"api_error"})),r.data=JSON.parse(r.data||{}),new Promise((function(e){setTimeout((function(){e()}),a)})).then((function(){return e(r)}))}}},v=function(){return{responseError:function(e){if("project_api_biz_error"!==e.errorType)throw e;var t=e.errorCode,r=e.errorMsg,n=e.data,o=e.config,i=(o.url.split("?")[0]||"").replace(o.baseURL,""),a="".concat(t,"-").concat(i,"-").concat(r||(0,s.fY)(t)),u={sub_op:"project_api_biz_error",url:o.method+":"+o.url,page_url:location.href,error_code:e.errorCode,error_message:a,error_type:e.errorType,params:JSON.stringify({params:o.params,data:o.data}),resData:n};throw(0,c.K2)(e,p(p({},u),{},{sub_op:"api_error"})),e}}},m=r(38356),g=function(e,t){return t.forEach((function(t){e.interceptors.request.use(t.request),e.interceptors.response.use(t.response,t.responseError)}))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null;if(e.pageInfo)t=(0,n.e)(e,{useRawResponse:!0});else{var r=(0,o.e6)(),i={pageId:r};t=(0,n.e)({pageInfo:i},{useRawResponse:!0})}var a=[(0,m.WE)(),f(),d(),y(),v(e),{response:function(e){var t=e.config.customConfig;return t&&t.skipBizErrorCheck?e.data:e.data.result}},h(t)];return g(t,a),t}},38356:function(e,t,r){"use strict";r.d(t,{v0:function(){return y},WE:function(){return g}});var n=r(48926),o=r.n(n),i=r(87757),a=r.n(i),s=r(28387),c=r(99433),u=r(2428),l=null,p=function(){var e=(0,s.zT)(),t=e.version;return e.isNativePlatform&&(0,c.yC)(t,"4.69.0")>=0};function f(){return d.apply(this,arguments)}function d(){return(d=o()(a().mark((function e(){var t,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(5928).then(r.bind(r,96636));case 2:return t=e.sent,n=t.default,e.next=6,u.Z.serverTime();case 6:o=e.sent,l=new n({serverTime:o});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return h.apply(this,arguments)}function h(){return(h=o()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=3;break}return e.next=3,f();case 3:return e.abrupt("return",l.messagePackSync());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return m.apply(this,arguments)}function m(){return(m=o()(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=t||{},!r||!p()){e.next=4;break}return t.useNativeAntiToken=!0,e.abrupt("return",t);case 4:return e.next=6,y();case 6:if(n=e.sent,!t.risk_request){e.next=10;break}return t.risk_request={anti_content:n},e.abrupt("return",t);case 10:return t.anti_content=n,e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(){return{request:(e=o()(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.risk){e.next=2;break}return e.abrupt("return",t);case 2:return t.method,r=t.customConfig||{},n=r.useNativeRisk,e.next=6,v(t.data,n);case 6:return t.data=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})};var e}},9714:function(e,t,r){"use strict";r.d(t,{KQ:function(){return d},KF:function(){return h}});var n=r(48926),o=r.n(n),i=r(87757),a=r.n(i),s=r(80016),c=r(55452),u=r(14748),l=r(27527);function p(e){return f.apply(this,arguments)}function f(){return(f=o()(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.sq)().catch((function(){})));case 2:return r=t.cookies,n=void 0===r?{}:r,e.abrupt("return",parseInt(n[s.cn.UID],10)||0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return y.apply(this,arguments)}function y(){return(y=o()(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(r);case 2:return n=e.sent,e.abrupt("return",(0,l.ZP)(t,r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return v.apply(this,arguments)}function v(){return(v=o()(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(r);case 2:+(n=e.sent)>0&&t&&(0,u.ZP)("/csr/".concat(t,"_gray_prefetch.html?max_age=").concat(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},97334:function(e,t,r){"use strict";r.d(t,{Z:function(){return lt}});var n,o=r(48926),i=r.n(o),a=r(21165),s=r.n(a),c=r(34575),u=r.n(c),l=r(93913),p=r.n(l),f=r(81506),d=r.n(f),y=r(2205),h=r.n(y),v=r(78585),m=r.n(v),g=r(29754),b=r.n(g),O=r(33124),P=r.n(O),E=(r(67268),r(27361)),w=r.n(E),T=r(87757),k=r.n(T),I=r(22188),C=r(66197),_=r(93054),D=r(38905),L=r(59713),N=r.n(L),A=r(3601),S=r(58332),R=r(6393);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){N()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M="好友浏览活动页面即可助力成功",B={BTN_TXT:"去购票",TEXT:"购票加快领取进度"},z=(n={},N()(n,D.AQ.BUY_TICKETS,j({TITLE:"再次购票返",MAX_TITLE:"再次购票最高返"},B)),N()(n,D.AQ.TRAIN_TICKETS,j({TITLE:"再买火车票返",MAX_TITLE:"再买火车票最高返"},B)),N()(n,D.AQ.FLIGHT_TICKETS,j({TITLE:"再买飞机票返",MAX_TITLE:"再买飞机票最高返"},B)),N()(n,D.AQ.LOGIN,{TITLE:"登录12306账号返",MAX_TITLE:"登录12306账号最高返",BTN_TXT:"去登录",TEXT:"登录账号加快领取进度"}),n);function F(e){return{isApiError:e.isApiError,errorMsg:(0,R.az)(e.errorCode,e.errorMsg)}}function Z(e){return(e||[]).map((function(e){return{desc:e.prizeDesc||"",validTime:e.receiveTime||"",rightTxt:"已领取"}}))}function H(e){var t,r=e||{},n=r.gainCashList,o=r.receivePrizeList;return{cashList:(t=n,(t||[]).map((function(e){return{desc:e.gainSource||"",validTime:e.gainTime||"",rightTxt:e.priceText||""}}))),receiveList:Z(o)}}function q(e){return(e||[]).map((function(e){var t=e||{},r=t.showType,n=t.cashAmount,o=t.maxCashAmount,i=t.iconUrl,a=t.taskType,s=1===r;return j(j({},function(e,t){var r=z[t]||{},n=r.TITLE,o=r.MAX_TITLE;return{title:e?n:o,btnTxt:r.BTN_TXT,text:r.TEXT}}(s,a)),{},{type:a,iconUrl:i||"",priceStd:(0,S.T)(1===r?n:o),isShowCurCash:s})}))}function U(e,t){var r,n=e||{},o=n.friendList,i=n.status,a=n.showTaskRemind,s=n.inviteFriendLimit,c=n.cashback,u=s>0?"邀请".concat(s,"位好友助力，提前领取"):"",l=(0,S.T)(c),p=i===D.hS.COMPLETE;return j(j({showSurprisePop:!!a,thresholdPriceStd:(0,S.T)(t),friendList:(r=o,(r||[]).map((function(e){return{name:e.friendNickName||"",avatar:e.friendImg||"",validTime:e.helpedTime||"",assistDesc:"已购票 +".concat((0,S.T)(e.helpedCashAmount),"元"),helped:e.helped}}))),isComplete:p,isOpenSurprise:i>1},function(e,t,r){var n=e||{},o=n.inviteFriendLimit,i=n.status,a=n.friendList,s=(null==a?void 0:a.length)>0;return i===D.hS.OPEN?{title:t,text:s?"还差".concat(o-a.length,"人即可领取"):M,btnTxt:"继续邀请"}:r?{title:"邀请好友任务已完成，直接领取",text:s?"已邀".concat(a.length,"人"):M,btnTxt:"立即领取"}:{title:t,text:M,btnTxt:"立即邀请"}}(e,u,p)),{},{popTitle:u,priceStd:l,priceStdTxt:c>0?"".concat(l,"元"):"",status:i})}function $(e){var t,r=e||{},n=r.activityId,o=r.ruleList,i=r.hasCash,a=r.progress,s=r.taskList,c=r.prizeList,u=r.gainReward,l=r.deadlineText,p=r.uin,f=r.commandSn,d=r.tourismImg,y=r.tourismPage,h=r.surpriseTaskVo,v=r.overdueRemindVo,m=a||{},g=m.totalCashAmount,b=m.thresholdCashAmount;return j(j({},F(e)),{},{activityId:n,isDailyActivity:n===D.xr.DAILY,uin:p,commandSn:f||"",ruleList:o||[],deadlineText:l||"",hasCash:i,progressInfo:{totalPriceStd:(0,S.T)(g),thresholdPriceStd:(0,S.T)(b),overdueRemind:(null==v?void 0:v.overdueRemind)||""},taskList:q(s),prizeList:(t=c,(t||[]).map((function(e,t){return{avatar:e.userImg||"",content:"".concat(e.userNickName||""," ").concat(e.prizeDesc||""),key:"".concat(e.userImg,"-").concat(t)}}))),rewardDetail:H(u),bannerMap:{imgUrl:d||"",linkUrl:y||""},surpriseTaskInfo:U(h,b),hasDisplayTask:i||(s||[]).some((function(e){return e.taskType===D.AQ.LOGIN}))})}function Y(e){var t=e||{},r=t.reach,n=t.title,o=t.text,i=t.exchangeType,a=1===r;return j(j({},F(e)),{},{isReachReceive:a,reach:r,title:n||"",text:o||"",btnTxt:a?"立即领取":"知道了",exchangeType:i})}function G(e){var t=e||{},r=t.couponList,n=t.totalValue;return j({couponList:(r||[]).map((function(e){var t=e||{},r=t.name,n=t.hasThreshold,o=t.thresholdValue,i=t.faceValue,a=t.startDate,s=t.endDate;return{desc:r||"",thresholdDesc:n?"满".concat((0,S.T)(o),"元可用"):"无门槛",timeDesc:a&&s?"".concat(a,"-").concat(s):"",faceValue:(0,S.T)(i)}})),totalPriceStd:(0,S.T)(n)},F(e))}function W(e){var t=e||{},r=t.open,n=t.activityId,o=t.addPoints,i=t.totalPoints,a=t.thresholdPoints;return{isApiError:e.isApiError,activityId:n,isDailyActivity:n===D.xr.DAILY,open:r,curPriceStd:(0,S.T)(o),totalPriceStd:(0,S.T)(i),thresholdPriceStd:(0,S.T)(a),diffPriceStd:(0,S.T)(a-i),isFull:i>=a}}function V(e){var t=e||{},r=t.activityId,n=t.prompt,o=t.entranceUrl,i=t.ruleList,a=t.showAlert,s=n||{},c=s.hasCash,u=s.showType,l=s.cashAmount,p=s.maxCashAmount,f=2===u,d=f?p:l,y=(0,S.T)(d),h=r===D.xr.DAILY;return{activityId:r,isDailyActivity:h,entranceUrl:o||"",priceStd:y,showBubble:!c&&h&&d>0,ruleList:i||[],showReceivePop:a&&!!r,text:d>0?f?"购票最高返".concat(y,"元"):"购票立返".concat(y,"元"):""}}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){N()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var o=b()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return m()(this,r)}}var J,ee,te,re,ne,oe,ie,ae,se,ce,ue,le,pe,fe,de,ye,he,ve,me,ge,be,Oe,Pe,Ee,we,Te,ke,Ie,Ce,_e,De,Le,Ne,Ae,Se,Re,xe,je,Me,Be,ze,Fe,Ze,He,qe,Ue,$e,Ye,Ge,We,Ve,Xe,Ke,Qe,Je="api/asteroidea/activity/mayfirst/page",et="api/asteroidea/exchange/reach",tt="api/asteroidea/exchange/prize",rt="/api/boeing/popups/points",nt="api/asteroidea/share/invite",ot="api/asteroidea/activity/mayfirst/entrance",it="api/asteroidea/activity/routine/open_surprise_task",at="api/asteroidea/alert/report",st={activity_id:D.xr.OLD},ct=function(e){h()(c,e);var t,r,n,o,a,s=Q(c);function c(){return u()(this,c),s.apply(this,arguments)}return p()(c,[{key:"queryCashbackInfo",value:(a=i()(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post({url:Je,params:K(K({},st),{},{page_source:"finish_pay"}),risk:!0,defaultValue:{},extrats:{defaultErrorHandler:function(e){return e}}});case 2:return t=e.sent,e.abrupt("return",$(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"queryReceiveInfo",value:(o=i()(k().mark((function e(t){var r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post({url:et,params:t,risk:!0,defaultValue:{},extrats:{defaultErrorHandler:function(e){return e}}});case 2:return r=e.sent,e.abrupt("return",Y(r));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"queryCouponInfo",value:(n=i()(k().mark((function e(t){var r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post({url:tt,params:t,risk:!0,defaultValue:{},extrats:{defaultErrorHandler:function(e){return e}}});case 2:return r=e.sent,e.abrupt("return",G(r));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"inviteFriends",value:function(e){return this.post({url:nt,params:e,risk:!0,defaultValue:{},extrats:{defaultErrorHandler:function(e){return e}}})}},{key:"queryCashPopInfo",value:(r=i()(k().mark((function e(t){var r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post({url:rt,params:t,risk:!0,defaultValue:{},extrats:{defaultErrorHandler:function(e){return e}}});case 2:return r=e.sent,e.abrupt("return",W(r));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getCashEntranceInfo",value:(t=i()(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post({url:ot,defaultValue:{},risk:!0,params:st,extrats:{defaultErrorHandler:function(e){return e}}});case 2:return t=e.sent,e.abrupt("return",V(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"openSurpirseTask",value:function(e){return this.post({url:it,defaultValue:{},risk:!0,params:e})}},{key:"reportPopInfo",value:function(e){return this.post({url:at,defaultValue:{},params:e})}}]),c}(A.b);function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var o=b()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return m()(this,r)}}var lt=(J=I.LO.shallow,ee=I.LO.shallow,te=I.LO.shallow,re=I.LO.shallow,ne=I.LO.shallow,oe=I.LO.shallow,ie=I.LO.shallow,ae=I.LO.shallow,se=I.LO.shallow,ce=I.LO.shallow,ue=I.aD.bound,le=I.aD.bound,pe=I.aD.bound,fe=I.aD.bound,de=I.aD.bound,ye=I.aD.bound,he=I.aD.bound,ve=I.aD.bound,me=I.aD.bound,ge=I.aD.bound,be=I.aD.bound,Oe=I.aD.bound,Pe=I.aD.bound,Ee=I.aD.bound,we=I.aD.bound,Te=function(e){h()(v,e);var t,r,n,o,a,c,l,f,y=ut(v);function v(){var e;u()(this,v);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=y.call.apply(y,[this].concat(r)),s()(e,"ruleList",ke,d()(e)),s()(e,"deadlineText",Ie,d()(e)),s()(e,"hasCash",Ce,d()(e)),s()(e,"progressInfo",_e,d()(e)),s()(e,"taskList",De,d()(e)),s()(e,"prizeList",Le,d()(e)),s()(e,"friendList",Ne,d()(e)),s()(e,"rewardDetail",Ae,d()(e)),s()(e,"surpriseTaskInfo",Se,d()(e)),s()(e,"isDailyActivity",Re,d()(e)),s()(e,"uin",xe,d()(e)),s()(e,"shareUin",je,d()(e)),s()(e,"activityId",Me,d()(e)),s()(e,"commandBizSn",Be,d()(e)),s()(e,"isApiError",ze,d()(e)),s()(e,"errorMsg",Fe,d()(e)),s()(e,"isNative",Ze,d()(e)),s()(e,"inviteRemind",He,d()(e)),s()(e,"receiveInfo",qe,d()(e)),s()(e,"couponInfo",Ue,d()(e)),s()(e,"activeTabId",$e,d()(e)),s()(e,"showPopupType",Ye,d()(e)),s()(e,"showReceiveCashPop",Ge,d()(e)),s()(e,"showCashPop",We,d()(e)),s()(e,"showTeachPop",Ve,d()(e)),s()(e,"bottomModelType",Xe,d()(e)),s()(e,"cashPopInfo",Ke,d()(e)),s()(e,"cashEntranceInfo",Qe,d()(e)),e.command="",e}return p()(v,[{key:"showRetrieveDetail",get:function(){return this.activeTabId===D.Xu[1]}},{key:"closePopup",value:function(){this.showPopupType=null}},{key:"setPopType",value:function(e){this.showPopupType=e}},{key:"selectCurTab",value:function(e){D.Xu.includes(e)&&this.activeTabId!==e&&(this.activeTabId=e)}},{key:"toggleReceiveCashPop",value:function(){this.showReceiveCashPop=!this.showReceiveCashPop}},{key:"getCashEntranceInfo",value:(f=i()(k().mark((function e(){var t,r,n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$service.getCashEntranceInfo();case 2:if(this.cashEntranceInfo=e.sent,t=this.cashEntranceInfo||{},r=t.showReceivePop,n=t.activityId,!r){e.next=8;break}return this.toggleReceiveCashPop(),e.next=8,this.$service.reportPopInfo({activityId:n,alertType:1});case 8:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"queryCashbackInfo",value:(l=i()(k().mark((function e(){var t,r,n,o=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],e.next=3,this.$service.queryCashbackInfo();case 3:r=e.sent,Object.assign(this,r),null!=(n=(r||{}).surpriseTaskInfo)&&n.showSurprisePop&&this.setPopType(D.Af.SURPRISE),t&&(this.bottomModelType=D.eI.CASHBACK);case 8:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"queryCashMainInfo",value:(c=i()(k().mark((function e(){var t,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shareUin){e.next=9;break}return e.next=3,this.$service.inviteFriends({activity_id:this.activityId,to_uin:this.shareUin});case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:t=e.t0,r=t.inviteRemind,this.inviteRemind=r;case 9:return e.next=11,this.queryCashbackInfo();case 11:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"queryReceiveInfo",value:(a=i()(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$service.queryReceiveInfo({activity_id:this.activityId});case 2:this.receiveInfo=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"queryCouponInfo",value:(o=i()(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$service.queryCouponInfo({activity_id:this.activityId,exchange_type:null===(t=this.receiveInfo)||void 0===t?void 0:t.exchangeType});case 2:this.couponInfo=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"queryCashPopInfo",value:(n=i()(k().mark((function e(t){var r,n,o,i,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$service.queryCashPopInfo({parent_order_sn:t});case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:if(r=e.t0,this.cashPopInfo=r,n=r.open,o=r.curPriceStd,i=r.isDailyActivity,a=r.isApiError,this.isDailyActivity=i,i||a){e.next=12;break}return this.bottomModelType=D.eI.REC_LIST,e.abrupt("return");case 12:return n&&o>0&&(this.setPopType(D.Af.CASH),this.isShowCashPop=!0),e.next=15,this.queryCashMainInfo();case 15:this.bottomModelType=this.isApiError||!this.isDailyActivity?D.eI.REC_LIST:D.eI.CASHBACK;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"receiveClickHandler",value:(r=i()(k().mark((function e(){var t,r,n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryReceiveInfo();case 2:if(t=this.receiveInfo,r=t.isApiError,n=t.errorMsg,!r){e.next=6;break}return(0,C.Z)(n),e.abrupt("return");case 6:this.setPopType(D.Af.RECEIVE);case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"openSurpirseTask",value:(t=i()(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$service.openSurpirseTask({openType:t,activityId:D.xr.DAILY});case 2:e.sent.isApiError||(this.surpriseTaskInfo.isOpenSurprise=t>1);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"copyCipher",value:function(){this.setPopType(D.Af.CIPHER)}},{key:"prepareClientData",value:function(){this.inviteRemind&&(0,C.Z)(this.inviteRemind)}},{key:"initQueries",value:function(e){var t=e.query,r=e.platform;this.isNative=r.isNativePlatform,this.shareUin=w()(t,"share_uin",""),this.activityId=w()(t,"activity_id")}},{key:"getDataSource",value:function(e){return e?this.getCashEntranceInfo():null}},{key:"initServices",value:function(e){this.$service=new ct(e)}}]),v}(_.z),ke=P()(Te.prototype,"ruleList",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ie=P()(Te.prototype,"deadlineText",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ce=P()(Te.prototype,"hasCash",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_e=P()(Te.prototype,"progressInfo",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),De=P()(Te.prototype,"taskList",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Le=P()(Te.prototype,"prizeList",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ne=P()(Te.prototype,"friendList",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=P()(Te.prototype,"rewardDetail",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Se=P()(Te.prototype,"surpriseTaskInfo",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Re=P()(Te.prototype,"isDailyActivity",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xe=P()(Te.prototype,"uin",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),je=P()(Te.prototype,"shareUin",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Me=P()(Te.prototype,"activityId",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.xr.OLD}}),Be=P()(Te.prototype,"commandBizSn",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ze=P()(Te.prototype,"isApiError",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fe=P()(Te.prototype,"errorMsg",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ze=P()(Te.prototype,"isNative",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),He=P()(Te.prototype,"inviteRemind",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qe=P()(Te.prototype,"receiveInfo",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ue=P()(Te.prototype,"couponInfo",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$e=P()(Te.prototype,"activeTabId",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.Xu[0]}}),Ye=P()(Te.prototype,"showPopupType",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=P()(Te.prototype,"showReceiveCashPop",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),We=P()(Te.prototype,"showCashPop",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ve=P()(Te.prototype,"showTeachPop",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xe=P()(Te.prototype,"bottomModelType",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=P()(Te.prototype,"cashPopInfo",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Qe=P()(Te.prototype,"cashEntranceInfo",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),P()(Te.prototype,"showRetrieveDetail",[I.Fl],Object.getOwnPropertyDescriptor(Te.prototype,"showRetrieveDetail"),Te.prototype),P()(Te.prototype,"closePopup",[ue],Object.getOwnPropertyDescriptor(Te.prototype,"closePopup"),Te.prototype),P()(Te.prototype,"setPopType",[le],Object.getOwnPropertyDescriptor(Te.prototype,"setPopType"),Te.prototype),P()(Te.prototype,"selectCurTab",[pe],Object.getOwnPropertyDescriptor(Te.prototype,"selectCurTab"),Te.prototype),P()(Te.prototype,"toggleReceiveCashPop",[fe],Object.getOwnPropertyDescriptor(Te.prototype,"toggleReceiveCashPop"),Te.prototype),P()(Te.prototype,"getCashEntranceInfo",[de],Object.getOwnPropertyDescriptor(Te.prototype,"getCashEntranceInfo"),Te.prototype),P()(Te.prototype,"queryCashbackInfo",[ye],Object.getOwnPropertyDescriptor(Te.prototype,"queryCashbackInfo"),Te.prototype),P()(Te.prototype,"queryCashMainInfo",[he],Object.getOwnPropertyDescriptor(Te.prototype,"queryCashMainInfo"),Te.prototype),P()(Te.prototype,"queryReceiveInfo",[ve],Object.getOwnPropertyDescriptor(Te.prototype,"queryReceiveInfo"),Te.prototype),P()(Te.prototype,"queryCouponInfo",[me],Object.getOwnPropertyDescriptor(Te.prototype,"queryCouponInfo"),Te.prototype),P()(Te.prototype,"queryCashPopInfo",[ge],Object.getOwnPropertyDescriptor(Te.prototype,"queryCashPopInfo"),Te.prototype),P()(Te.prototype,"receiveClickHandler",[be],Object.getOwnPropertyDescriptor(Te.prototype,"receiveClickHandler"),Te.prototype),P()(Te.prototype,"openSurpirseTask",[Oe],Object.getOwnPropertyDescriptor(Te.prototype,"openSurpirseTask"),Te.prototype),P()(Te.prototype,"copyCipher",[Pe],Object.getOwnPropertyDescriptor(Te.prototype,"copyCipher"),Te.prototype),P()(Te.prototype,"prepareClientData",[Ee],Object.getOwnPropertyDescriptor(Te.prototype,"prepareClientData"),Te.prototype),P()(Te.prototype,"initQueries",[we],Object.getOwnPropertyDescriptor(Te.prototype,"initQueries"),Te.prototype),Te)},84160:function(e,t,r){"use strict";r.d(t,{w:function(){return W},i:function(){return G}});var n=r(48926),o=r.n(n),i=r(34575),a=r.n(i),s=r(93913),c=r.n(s),u=r(2205),l=r.n(u),p=r(78585),f=r.n(p),d=r(29754),y=r.n(d),h=r(59713),v=r.n(h),m=r(87757),g=r.n(m),b=r(67294),O=r.n(b),P=r(94184),E=r.n(P),w=r(4026),T=r(1010),k=r(24684),I=r(37386),C="-eGIOVzh",_="_6zuLANaV",D="anCSobZ3",L="dXxS8bkW",N="pFQuk6jJ",A="j7EVzWCm",S="Vo82WyOq",R="iAqR16QC",x="HvE-Wtqo",j="FDWMy6q+",M="_2GWFb0P0",B="_6EDLBqjS";function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var o=y()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f()(this,r)}}var F=0,Z=1,H="确认",q="取消",U=(0,b.memo)((function(e){var t=e.okLabel,r=e.type,n=e.onOk,o=E()(j,M,v()({},B,r===F));return O().createElement("div",{className:o,onClick:n,"data-active":"link-red"},O().createElement("div",{className:D}),t||H)})),$=(0,b.memo)((function(e){var t=e.cancelLabel,r=e.type,n=e.onCancel;return r!==F?null:O().createElement("div",{className:j,onClick:n},O().createElement("div",{className:E()(D,L)}),t||q)})),Y=function(e){l()(r,e);var t=z(r);function r(){var e;a()(this,r);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).onClosePop=function(){e.props.cleanupPopup(),(0,I.K)()},e.onOk=o()(g().mark((function t(){var r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.props.onOk)){t.next=7;break}return t.next=4,r();case 4:if(!1!==t.sent){t.next=7;break}return t.abrupt("return");case 7:e.onClosePop();case 8:case"end":return t.stop()}}),t)}))),e.onCancel=function(){var t=e.props.onCancel;t&&t(),e.onClosePop()},e.onClose=o()(g().mark((function t(){var r,n,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,n=r.onClose,o=r.onlyClose,!n){t.next=7;break}return t.next=4,n();case 4:if(!1!==t.sent){t.next=7;break}return t.abrupt("return");case 7:if(!o){t.next=10;break}return e.onClosePop(),t.abrupt("return");case 10:e.onCancel();case 11:case"end":return t.stop()}}),t)}))),e}return c()(r,[{key:"componentDidMount",value:function(){(0,I.X)()}},{key:"render",value:function(){var e=this.props,t=e.title,r=e.text,n=e.cancelLabel,o=e.okLabel,i=e.type,a=e.trackingInfo,s=void 0===a?{}:a;return O().createElement(k.Z,{trackingInfo:s},O().createElement("div",{className:C},O().createElement("div",{className:_}),O().createElement("div",{className:N},O().createElement(T.Z,{onClick:this.onClose}),!!t&&O().createElement("div",{className:A},t),!!r&&O().createElement("div",{className:t?R:S},r),O().createElement("div",{className:x},O().createElement($,{cancelLabel:n,type:i,onCancel:this.onCancel}),O().createElement(U,{okLabel:o,type:i,onOk:this.onOk})))))}}]),r}(O().Component);function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,r=e.text,n=e.onOk,o=e.onCancel,i=e.okLabel,a=e.cancelLabel,s=e.onlyClose,c=e.trackingInfo,u=(0,w.Z)(O().createElement(Y,{title:t,text:r,onOk:n,onCancel:o,cleanupPopup:function(){return u()},okLabel:i,type:F,cancelLabel:a,onlyClose:s,trackingInfo:c}))}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,r=e.text,n=e.onOk,o=e.onClose,i=e.okLabel,a=e.trackingInfo,s=(0,w.Z)(O().createElement(Y,{title:t,text:r,cleanupPopup:function(){return s()},onOk:n,onClose:o,okLabel:i,type:Z,trackingInfo:a}))}},82696:function(e,t,r){"use strict";var n=r(67154),o=r.n(n),i=r(6479),a=r.n(i),s=r(67294),c=r.n(s),u=r(22882),l=r(9164),p=r(44968),f=r(27325),d=["src","background","lazy","children"],y=["src","innerRef","resizeWidth","ctx","preloadResourceName","quality","forceSkipCDN"];function h(e){var t=e.src,r=e.background,n=e.lazy,i=e.children,s=a()(e,d);return r?c().createElement("div",o()({style:{backgroundImage:"url(".concat(t,")")}},s),i):n?c().createElement(u.Z,o()({src:t},s)):c().createElement(l.Z,o()({src:t},s))}t.Z=(0,s.memo)((0,f.Z)((function(e){var t=e.src,r=e.innerRef,n=e.resizeWidth,i=e.ctx,u=(e.preloadResourceName,e.quality),l=void 0===u?80:u,f=e.forceSkipCDN,d=a()(e,y);if(!t)return c().createElement(s.Fragment,null);var v=f?t:(0,p.FT)(t,{resizeWidth:n,quality:l,webpEnable:i.webpEnable});return c().createElement(h,o()({},d,{ref:r,src:v}))})))},38005:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"dynamic_GotoApp"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(4343).then(r.bind(r,22325))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 22325}},{isCloseSpinner:!0})},99349:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3app_share"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(6608).then(r.bind(r,82337))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 82337}},{timeout:300,isCloseSpinner:!0})},37668:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3share_native"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(2633).then(r.bind(r,37578))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 37578}},{isCloseSpinner:!0})},20971:function(e,t,r){"use strict";r.d(t,{Z:function(){return Q}});var n=r(34575),o=r.n(n),i=r(93913),a=r.n(i),s=r(2205),c=r.n(s),u=r(78585),l=r.n(u),p=r(29754),f=r.n(p),d=r(67294),y=r.n(d),h=(r(45697),r(29323)),v=r(30209),m=r(28387),g=r(59738),b=r(52604);function O(e){var t=e.ctx||(0,b.d)();return y().createElement(b.Z.Provider,{value:t},e.children)}var P=r(38005),E=r(59713),w=r.n(E),T=r(94184),k=r.n(T),I=r(24788),C=r(65077),_="jvVVFQTB",D="_1jEsgCwd",L="+cd5MS7v",N="o66Fn2Ec",A="_8yvLPUQJ",S="jOOoTBTT",R="_5lWtf8BM";function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var o=f()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l()(this,r)}}var j="_oc_h5_isfirsterror",M=function(e){c()(r,e);var t=x(r);function r(){var e;o()(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={refreshing:!1,enableRefresh:!1,showType:null,leftSecond:9,isFirsrtError:!1},e.onClick=function(){!e.state.refreshing&&e.state.enableRefresh&&(e.setState({refreshing:!0}),location.reload())},e}return a()(r,[{key:"componentDidMount",value:function(){var e=this;I.Cp();var t=Date.now();if((0,C.XY)(),this.setState({showType:t<=15493032e5&&t>=15492672e5?1:2}),sessionStorage.getItem(j))var r=setInterval((function(){var t=e.state.leftSecond-1;e.setState({leftSecond:t}),t<=0&&(e.setState({enableRefresh:!0}),clearInterval(r))}),1e3);else sessionStorage.setItem(j,"1"),this.setState({leftSecond:0,enableRefresh:!0,isFirsrtError:!0})}},{key:"render",value:function(){var e,t=this.state,r=t.refreshing,n=t.enableRefresh,o=t.leftSecond,i=k()(A,(e={},w()(e,S,!n),w()(e,R,r),e)),a="重新加载";return o>0&&(a="重新加载("+o+"s)"),y().createElement("div",{className:k()(_,D)},y().createElement("div",{className:L}),y().createElement("p",{className:N},"页面正在加载中，请稍后"),y().createElement("div",{className:i,onClick:this.onClick},a))}}]),r}(y().Component),B=r(48926),z=r.n(B),F=r(87757),Z=r.n(F),H=r(99433),q=r(79859),U=r(37668),$=r(99349);function Y(e){var t=e.shareInfo;return(0,d.useEffect)((function(){var e=function(){var e=z()(Z().mark((function e(){var n,o,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(4427).then(r.bind(r,1636));case 2:if(n=e.sent,o=n.default,i=n.ShareType,o){e.next=7;break}return e.abrupt("return");case 7:o.getInstance().prepareShareSafe(t,i.WECHAT_SESSION).catch((function(){}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),null}function G(e){var t=e.shareInfo;return q.Z.isNativePlatform?(0,H.yC)(q.Z.version,"5.0.0")>=0?y().createElement($.Z,{shareInfo:t}):y().createElement(U.Z,{shareInfo:t}):y().createElement(Y,{shareInfo:t})}var W,V=(0,d.memo)(G);function X(e){var t=e.isAddInvisibleChar,r=e.invisibleCharCount,n=void 0===r?200:r;return t?y().createElement("div",{style:{height:0}},"​".repeat(n)):null}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var o=f()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l()(this,r)}}var Q=(0,h.f3)("store")(W=(0,h.Pi)(W=function(e){c()(r,e);var t=K(r);function r(){return o()(this,r),t.apply(this,arguments)}return a()(r,[{key:"componentDidMount",value:function(){(0,g.g)()}},{key:"clientRender",value:function(){var e=(0,m.zT)().isNativePlatform,t=this.props,r=t.showGotoApp,n=t.shareInfo,o=t.shareNativeMap,i=t.goToAppStyle;return y().createElement(y().Fragment,null,!e&&r&&y().createElement(P.Z,{style:i}),n&&y().createElement(V,{shareInfo:n,shareNativeMap:o}))}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.store;if(r&&r.renderError)return y().createElement(M,null);var n=r.isServerPreRendered,o=r.isFinishInitLoading,i=n||o;return y().createElement(O,{ctx:r.$ctx},y().createElement(X,{isAddInvisibleChar:r.$ctx.platform.isIOS}),t,i&&y().createElement(v.eA,null),this.clientRender())}}]),r}(y().Component))||W)||W},20370:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3paymentListPopup"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(7556).then(r.bind(r,68326))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 68326}})},69459:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3priceDetailPopup"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(9226).then(r.bind(r,84987))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 84987}})},8167:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3requeryTipPopup"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(9623).then(r.bind(r,47936))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 47936}})},64936:function(e,t,r){"use strict";r.d(t,{rj:function(){return p},Y9:function(){return d},xM:function(){return h}});var n=r(59713),o=r.n(n),i=r(99264),a=r(26920);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p={TICKET_INFO:1,FUEL:2,BAGGAGE:3,CHANGE:4};function f(e){return(e||[]).map((function(e){return Array.isArray(e)?e:[e]}))}function d(e){return e.departureCityName&&e.arrivalCityName?"".concat(e.departureCityName,"-").concat(e.arrivalCityName):""}function y(e){var t=d(e),r=(e.subRuleList||[]).filter((function(e){return e&&e.passengerType})).map((function(t){return{segmentNo:e.segmentNo,passengerType:t.passengerType,th:i.Eg[t.passengerType],tbody:f(t.contentList)}})),n=(0,a.eQ)(e.tripType,e.segmentNo);return{list:r,thead:t,type:"table",thTitle:(e.titles||[]).map((function(e){return{text:e,className:"g-mi-text gc-title"}})),thLabel:n,segmentNo:e.segmentNo,originRuleList:(null==e?void 0:e.originRuleList)||[]}}function h(e,t){var r,n=[],o=u(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.push(y(i))}}catch(e){o.e(e)}finally{o.f()}return c(c({},e),{},{type:"table",list:n})}},80130:function(e,t,r){"use strict";var n=r(38871);t.ZP=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3RuleModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(4864).then(r.bind(r,95782))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 95782}})},16846:function(e,t,r){"use strict";r.d(t,{v:function(){return y},y:function(){return d}});var n=r(63038),o=r.n(n),i=r(67294),a=r.n(i),s=r(24788),c=r(4026),u="AFvww-6C",l=null,p=null,f=(0,i.memo)((function(){var e=(0,i.useState)(!1),t=o()(e,2),r=t[0],n=t[1],c=(0,i.useState)(""),f=o()(c,2),d=f[0],y=f[1];return l=n,p=y,(0,i.useEffect)((function(){r?s.$Z(d):s.Cp()}),[r,d]),r?a().createElement("div",{className:u}):null}));function d(e){p&&l&&(p(e),l(!0))}function y(){l&&l(!1)}(0,c.Z)(a().createElement(f,null))},46384:function(e,t,r){var n=r(38407),o=r(37465),i=r(63779),a=r(67599),s=r(44758),c=r(34309);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},82908:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},90939:function(e,t,r){var n=r(2492),o=r(37005);e.exports=function e(t,r,i,a,s){return t===r||(null==t||null==r||!o(t)&&!o(r)?t!=t&&r!=r:n(t,r,i,a,e,s))}},2492:function(e,t,r){var n=r(46384),o=r(67114),i=r(18351),a=r(16096),s=r(64160),c=r(1469),u=r(44144),l=r(36719),p="[object Arguments]",f="[object Array]",d="[object Object]",y=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,h,v,m){var g=c(e),b=c(t),O=g?f:s(e),P=b?f:s(t),E=(O=O==p?d:O)==d,w=(P=P==p?d:P)==d,T=O==P;if(T&&u(e)){if(!u(t))return!1;g=!0,E=!1}if(T&&!E)return m||(m=new n),g||l(e)?o(e,t,r,h,v,m):i(e,t,O,r,h,v,m);if(!(1&r)){var k=E&&y.call(e,"__wrapped__"),I=w&&y.call(t,"__wrapped__");if(k||I){var C=k?e.value():e,_=I?t.value():t;return m||(m=new n),v(C,_,r,h,m)}}return!!T&&(m||(m=new n),a(e,t,r,h,v,m))}},67114:function(e,t,r){var n=r(88668),o=r(82908),i=r(74757);e.exports=function(e,t,r,a,s,c){var u=1&r,l=e.length,p=t.length;if(l!=p&&!(u&&p>l))return!1;var f=c.get(e);if(f&&c.get(t))return f==t;var d=-1,y=!0,h=2&r?new n:void 0;for(c.set(e,t),c.set(t,e);++d<l;){var v=e[d],m=t[d];if(a)var g=u?a(m,v,d,t,e,c):a(v,m,d,e,t,c);if(void 0!==g){if(g)continue;y=!1;break}if(h){if(!o(t,(function(e,t){if(!i(h,t)&&(v===e||s(v,e,r,a,c)))return h.push(t)}))){y=!1;break}}else if(v!==m&&!s(v,m,r,a,c)){y=!1;break}}return c.delete(e),c.delete(t),y}},18351:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},16096:function(e,t,r){var n=r(58234),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,a,s){var c=1&r,u=n(e),l=u.length;if(l!=n(t).length&&!c)return!1;for(var p=l;p--;){var f=u[p];if(!(c?f in t:o.call(t,f)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var y=!0;s.set(e,t),s.set(t,e);for(var h=c;++p<l;){var v=e[f=u[p]],m=t[f];if(i)var g=c?i(m,v,f,t,e,s):i(v,m,f,e,t,s);if(!(void 0===g?v===m||a(v,m,r,i,s):g)){y=!1;break}h||(h="constructor"==f)}if(y&&!h){var b=e.constructor,O=t.constructor;b==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof O&&O instanceof O||(y=!1)}return s.delete(e),s.delete(t),y}},58234:function(e,t,r){var n=r(5569)(Object.keys,Object);e.exports=n},64160:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:function(e){e.exports=function(e,t){return function(r){return e(t(r))}}},37465:function(e,t,r){var n=r(38407);e.exports=function(){this.__data__=new n,this.size=0}},63779:function(e){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},67599:function(e){e.exports=function(e){return this.__data__.get(e)}},44758:function(e){e.exports=function(e){return this.__data__.has(e)}},34309:function(e,t,r){var n=r(38407),o=r(57071),i=r(83369);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(e,t),this.size=r.size,this}},44144:function(e){e.exports=function(){return!1}},18446:function(e,t,r){var n=r(90939);e.exports=function(e,t){return n(e,t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},36719:function(e){e.exports=function(){return!1}},90594:function(e,t){"use strict";t.Z={container:"CWOeIc8j",summaryInfo:"UtdMFC8C",singleInfo:"_3Ebhw3z3",roundInfo:"JCWoiAwq",segment:"OkHK1N9p",depDate:"_6lw7TXVb",desc:"DNKcDv04",segmentNo:"THGuMFEF",detail:"nybgDuHw",priceAndRule:"_2Nqse9bW",priceInfo:"pxZXE6i8",priceItem:"TFGjsK1x",psgType:"_5euHWJPi",price:"VSggWfof",symbol:"-bx2h7+9",seg:"i75kyln4",oneWayRule:"uHoLkTCE",roundRule:"_6BX8LK5J",splitLine:"_42ffsg78",ruleItem:"IZ2Bq9Ut",productLine:"b4eQBCQT",tips:"_1Yk8T+PI",detailContainer:"qfq7N4hq",detailInfo:"GToHO1ri",header:"_5Byleix2",logo:"_5tCKpPeE",opetateAirline:"JkcPElwb",arrow:"loVbAqrp",operateLogo:"YNXGPDOG",flightInfo:"_2SxO7ZSV",arriveInfo:"miRC1pbl",departInfo:"_8CXl3fql",stopInfo:"cJraGMqr",stationName:"q1v-FOxH",textRight:"_4Je8sDXg",duration:"+3mR12Gy",stop:"zRKhl5k0",time:"PP0nO1Cd",date:"RFRdqY5i",dateTag:"s-0cFqih",loading:"_7OsllYWl",gradual:"_6Xcme4dz"}},49674:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=49674,e.exports=t},81249:function(e){"use strict";e.exports=pinbridge}},function(e){e.O(0,[4736,4181],(function(){return t=2248,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/m100433/js/react_flight_checkout_093df14d46f97437bc90.js.map