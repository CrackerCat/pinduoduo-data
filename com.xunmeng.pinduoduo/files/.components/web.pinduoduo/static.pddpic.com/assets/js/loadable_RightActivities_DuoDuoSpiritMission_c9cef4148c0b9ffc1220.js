(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[66],{"8DZm":function(e,t,n){var i=n("TQZs"),o=n("Q8e5"),r="string"==typeof i?[[e.i,i,""]]:i;(t=e.exports=i.locals||{})._getContent=function(){return r},t._getCss=function(){return""+i},t._insertCss=function(e){return o(r,e)}},TQZs:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3yMxASTH{position:fixed;width:100%;height:100%;left:0;top:0;z-index:11000}._3yMxASTH.TUB00riz ._32kSMq4S{opacity:1}._32kSMq4S{width:100%;height:100%;background-color:rgba(0,0,0,.4);opacity:0;-webkit-transition:opacity .3s ease;transition:opacity .3s ease}._3lSs8avI{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:100%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}._28gTwQt7{color:#fff;font-family:PingFangSC-Semibold,PingFang SC,PingFangSC-Regular,STHeiti STXihei,Microsoft YaHei,Microsoft JhengHei,miui;font-weight:700;font-weight:600;text-align:center}._28gTwQt7 i{color:#fff370}._2S9CGVPe{font-size:.22rem}._2PLk944t{font-size:.2rem;margin-top:.05rem}._2T78_jb8{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}._2_LfwZZy{width:2.6rem;max-width:inherit;margin-top:.4rem}._27OqnvlS{width:.243rem;height:.233rem;margin:0 .03rem}._334xglkY{width:2.87rem;height:.475rem;background:url(https://promotion.pddpic.com/mobile_live/d7d4265a-2ae7-4dee-b2b8-621603cd4334.png.slim.png);background-size:100%;background-repeat:no-repeat;margin-top:.23rem;font-family:PingFangSC-Medium,PingFang SC,PingFangSC-Regular,STHeiti STXihei,Microsoft YaHei,Microsoft JhengHei,miui;font-weight:700;font-weight:500;font-size:.23rem;color:#fff;text-shadow:0 .02rem 0 #cf3d1d}._2PHEFz4N{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:.04rem}._1-_HtE2Y{width:.23rem;height:.23rem}._1FH0PQxe{width:.237rem;height:.227rem;margin-left:.05rem}",""]),t.locals={root:"_3yMxASTH",show:"TUB00riz",mask:"_32kSMq4S",content:"_3lSs8avI",text:"_28gTwQt7",line1:"_2S9CGVPe",line2:"_2PLk944t",lineFlex:"_2T78_jb8",gold:"_2_LfwZZy",goldImg1:"_27OqnvlS",btn:"_334xglkY",btnContent:"_2PHEFz4N",smallGold:"_1-_HtE2Y",btnSmallGold:"_1FH0PQxe"}},TTrZ:function(e,t,n){"use strict";n.r(t);var i=n("lSNA"),o=n.n(i),r=n("yXPU"),a=n.n(r),c=n("J4zp"),s=n.n(c),l=n("o0o1"),u=n.n(l),m=n("q1tI"),d=n.n(m),p=n("TyAF"),f=n("O2NP"),b=n("mFSr"),g=n("TSYQ"),_=n.n(g),w=n("91HH"),v=n("HIPb"),O=n("N4rI"),y=n("bRjb"),S=n("8DZm"),h=n.n(S),j=n("UYOp"),k=function(e){var t=e.className;return d.a.createElement(b.a,{className:t,src:"https://promotion.pddpic.com/mobile_live/36f5fe17-2ff0-46c3-8b7c-89267241cf2a.png.slim.png"})},E=function(e){var t=e.closeDialog,n=e.entranceStatus,i=e.duoduoSpiritMissionData,r=e.roomId;Object(v.a)(h.a);var a=Object(m.useState)(!1),c=s()(a,2),l=c[0],u=c[1],p=i.duo_duo_spirit_mission_map,f=i.scan_sec,g=null==p?void 0:p[j.c.Browse],S=null==p?void 0:p[j.c.Buy],E=Object(y.b)((null==g?void 0:g.price_num)||0),x=Object(y.b)((null==S?void 0:S.price_num)||0),D=null==g?void 0:g.coefficient,P=null==S?void 0:S.coefficient,N=Object(y.b)(D?Math.floor((null==g?void 0:g.price_num)*D):(null==g?void 0:g.price_num)||0);Object(m.useEffect)((function(){setTimeout((function(){u(!0)}),150);var e=setTimeout((function(){t()}),7e3);return function(){e&&clearTimeout(e)}}),[]);var I=n===j.a.BrowseInit?"去浏览":"去拼单",B=n===j.a.BrowseInit?E:x,T=n===j.a.BrowseInit?D:P;return d.a.createElement(w.Portal,null,d.a.createElement("div",{className:_()(h.a.root,o()({},h.a.show,l))},d.a.createElement("div",{className:h.a.mask,onClick:t}),d.a.createElement("div",{className:h.a.content},n===j.a.BrowseInit?d.a.createElement("div",{className:h.a.text},d.a.createElement("div",{className:h.a.line1},"浏览直播间",f,"秒"),d.a.createElement("div",{className:_()(h.a.line2,h.a.lineFlex)},"可获得",d.a.createElement("i",null,E),d.a.createElement(k,{className:h.a.goldImg1}),!!D&&d.a.createElement("i",null,"×",D),"奖励")):n===j.a.BuyInit?d.a.createElement("div",{className:h.a.text},d.a.createElement("div",{className:_()(h.a.line1,h.a.lineFlex)},"浏览完成获得",N,d.a.createElement(k,{className:h.a.goldImg1}),"奖励"),d.a.createElement("div",{className:_()(h.a.line2,h.a.lineFlex)},d.a.createElement("i",null,"直播间下单可再得",x),d.a.createElement(k,{className:h.a.goldImg1}),!!P&&d.a.createElement("i",null,"×",P))):null,d.a.createElement(b.a,{className:h.a.gold,src:"https://promotion.pddpic.com/mobile_live/7cddf8f8-b6a8-4071-be61-5c9affb1cc27.png.slim.png"}),d.a.createElement("div",{className:h.a.btn,onClick:function(){t(),n===j.a.BuyInit&&Object(O.a)("live_shop_coupon_dialog",{openLiveGoods:!0,lego_data:{goodsListTopHint:"直播间下单可得金币"},room_id:r})}},d.a.createElement("div",{className:h.a.btnContent},I,"+",B,d.a.createElement(k,{className:h.a.btnSmallGold}),!!T&&d.a.createElement("i",null,"×",T))))))},x=n("Vpw8");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=Object(x.a)(p.observer)((function(){var e=Object(f.k)().store.activityPopStore,t=Object(m.useState)(null),n=s()(t,2),i=n[0],r=n[1],c=Object(m.useState)(0),l=s()(c,2),d=l[0],p=l[1],b=e.setValue,g=e.duoduoSpiritMissionData,_=e.showDuoDuoSpiritDialog,w=e.completeDuoDuoSpiritBrowseMission,v=g||{},O=v.scan_sec,y=v.duo_duo_spirit_mission_map,S=(null==y?void 0:y[j.c.Browse])||{},h=function(){var e=a()(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null==S?void 0:S.status)===j.b.CANDO){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,w();case 4:t=e.sent,n=P(P({},y),{},o()({},j.c.Browse,P(P({},S),{},{status:j.b.DONE}))),b({duoduoSpiritMissionData:P(P({},g),{},{duo_duo_spirit_mission_map:n})}),console.log("isBrowseSuccess:",t),t&&null!=y&&y[j.c.Buy]&&_();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=Object(m.useCallback)((function(e){var t=e.stateSeconds,n=e.storeSeconds;void 0!==t&&p(t),void 0!==n&&b({duoduoSpiritWatchCountDown:n})}),[b]);return Object(m.useEffect)((function(){k({storeSeconds:O}),r(1e3)}),[]),Object(f.d)((function(){var e=d+1;k({stateSeconds:e,storeSeconds:O-e}),e>=O&&(r(null),h())}),i),null})),I=n("ZuUz");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=Object(p.observer)((function(){var e=Object(f.k)().store,t=e.roomId,n=e.activityPopStore,i=n.setValue,r=n.updateIconDisplayConfig,c=n.duoduoSpiritMissionData,l=n.showDuoDuoSpiritDialog,p=n.closeDuoDuoSpiritDialog,b=n.isRealShowDuoDuoSpiritDialog,g=c.duo_duo_spirit_mission_map,_=Object(y.a)(g),w=(null==_?void 0:_.mission_type)===j.c.Browse,v=(null==_?void 0:_.mission_type)===j.c.Buy,O=null==g?void 0:g[j.c.Buy],S=Object(m.useState)((function(){return w?j.a.BrowseInit:v?j.a.BuyInit:void 0})),h=s()(S,2),k=h[0],x=h[1],D=null==_?void 0:_.mission_type,P=Object(f.h)(null==_?void 0:_.mission_type);Object(m.useEffect)((function(){_&&r(I.c.DUODUO_SPIRIT_MISSION,!0),w&&l()}),[]),Object(m.useEffect)((function(){P&&D&&P!==D&&x(j.a.BuyInit)}),[D,P,l]),Object(f.g)("OrderStatusChangedNotification",function(){var e=a()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2===((null==t?void 0:t.pay_status)||0)){e.next=3;break}return e.abrupt("return");case 3:n=T(T({},g),{},o()({},j.c.Buy,T(T({},O),{},{status:j.b.DONE}))),i({duoduoSpiritMissionData:T(T({},c),{},{duo_duo_spirit_mission_map:n})}),x(j.a.BuyEnd);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var B={roomId:t,closeDialog:p,entranceStatus:k,duoduoSpiritMissionData:c};return d.a.createElement(d.a.Fragment,null,b&&d.a.createElement(E,B),w&&d.a.createElement(N,null))}))}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_RightActivities_DuoDuoSpiritMission_c9cef4148c0b9ffc1220.js.map