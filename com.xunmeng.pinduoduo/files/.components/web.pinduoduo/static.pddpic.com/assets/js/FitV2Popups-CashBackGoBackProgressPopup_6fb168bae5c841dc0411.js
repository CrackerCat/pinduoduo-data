(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"5ySt":function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return Q}));var n,o,c,r=t("wzp5"),s=t("p5LO"),u=t("kRu4"),i=t.n(u),l=t("RgDV"),d=t("w9YI"),p=t("QjaO"),h=t("cJQI"),m=t("ZsPb"),b=t("JsaZ"),O=t("MQ17"),g=t("q1tI"),_=t.n(g),C=t("fL/A"),k=t.n(C),y=t("W1Es"),f=t("TyAF"),w=t("gpDe"),B=t("2oo6"),S=t("tpcr"),v=t("GhuJ"),j=t("ygAv"),E=t("TSYQ"),N=t.n(E),R=t("ktSw"),P=t("hn0O"),D=t("M3Mi"),T=t("Fmrv"),G=t("cl2I"),M=t("glIo"),q=t("ndO7"),x=t("bmJN"),L=t("Rj+r"),I=t("U+8c"),F=t("TRXh"),U=t("jxdO"),Q=(n=Object(f.inject)(w.b.POPUP_QUEUE,w.b.GLOBAL,w.b.CASH_BACK,w.b.HOME_ORDER,w.b.COUPON_CENTER,w.b.CONTINUE_THREE_ORDER,w.b.ENV),o=Object(S.b)(v.a,"showCashBackGoBackProgressPopup"),n(c=Object(f.observer)(c=o(c=function(e){Object(m.a)(CashBackGoBackProgressPopup,e);var a,t=Object(b.a)(CashBackGoBackProgressPopup);function CashBackGoBackProgressPopup(){var e;Object(d.a)(this,CashBackGoBackProgressPopup);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),Object(O.a)(Object(h.a)(e),"state",{"progressNum":110*Math.PI,"showGainedCashAmount":0,"startFadeout":!1,"showMask":!1,"isShowMoreMoney":!1,"showRedShake":!1,"showLightGood":!1,"aniShowQun":0}),Object(O.a)(Object(h.a)(e),"goToOrderPage",Object(R.a)(Object(l.a)(i.a.mark((function _callee2(){var a;return i.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(e.continueThreeOrderStore.hasGrantCoupon){t.next=10;break}return t.prev=1,t.next=4,Object(q.e)(P.c.CONTINUE_THREE_ORDER,{"featureResponse":!0,"reportType":2});case 4:a=t.sent,e.continueThreeOrderStore.init(a),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:Object(T.g)(Object(l.a)(i.a.mark((function _callee(){var a;return i.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.a)({},P.c.CONTINUE_THREE_ORDER);case 2:a=t.sent,e.continueThreeOrderStore.init(a);case 4:case"end":return t.stop()}}),_callee)}))));case 11:case"end":return t.stop()}}),_callee2,null,[[1,8]])}))))),Object(O.a)(Object(h.a)(e),"goToCouponCb",Object(l.a)(i.a.mark((function _callee3(){var a,t,n,o,c;return i.a.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return t=(null===(a=e.couponCenterStore.featureItem)||void 0===a?void 0:a.featureDataVo)||{},n=t.orderMission,o=(n||{}).finishCount,r.next=4,Object(G.c)({"globalStore":e.globalStore,"popupQueueStore":e.popupQueueStore},P.c.COUPON_CENTER,o,"orderMission");case 4:c=r.sent,e.couponCenterStore.init(c);case 6:case"end":return r.stop()}}),_callee3)})))),Object(O.a)(Object(h.a)(e),"goShowGood",(function(){e.setState({"showLightGood":!0}),setTimeout(Object(l.a)(i.a.mark((function _callee4(){return i.a.wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:e.setState({"showLightGood":!1}),e.setNum();case 2:case"end":return a.stop()}}),_callee4)}))),2e3)})),Object(O.a)(Object(h.a)(e),"setNum",(function(){var a=e.cashBackStore,t=a.targetAmount,n=a.nowMoney,o=a.goods,c=a.isFromGuide,r=(t-n)/100,s=110*Math.PI,u=r>0?(t-n)/t:0;setTimeout((function(){e.setState({"progressNum":u*s}),c&&(setTimeout((function(){e.setState({"isShowMoreMoney":(null==o?void 0:o.initPrice)>0,"showRedShake":(null==o?void 0:o.initPrice)>0})}),300),setTimeout((function(){e.setState({"aniShowQun":2})}),990)),e.cashBackStore.set("isFromGuide",!1)}))})),Object(O.a)(Object(h.a)(e),"onClose",(function(){e.setState({"startFadeout":!0})})),Object(O.a)(Object(h.a)(e),"onConfirm",Object(R.a)(Object(l.a)(i.a.mark((function _callee5(){var a;return i.a.wrap((function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object(D.a)(5569710),t.prev=2,t.next=5,Object(U.b)(P.c.CASH_BACK,I.a.CASH_BACK,{"globalStore":e.globalStore,"popupQueueStore":e.popupQueueStore});case 5:a=t.sent,e.cashBackStore.init(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),F.a.showToast("网络繁忙，请稍后再试");case 12:e.closePopupQueue(),t.next=17;break;case 15:t.prev=15,t.t1=t.catch(0);case 17:case"end":return t.stop()}}),_callee5,null,[[0,15],[2,9]])}))))),Object(O.a)(Object(h.a)(e),"closePopupQueue",(function(){e.cashBackStore.set("isFromGuide",!1),e.popupQueueStore.close("showCashBackGoBackProgressPopup")})),Object(O.a)(Object(h.a)(e),"renderBtnText",(function(){var a=e.cashBackStore,t=a.isDrawable,n=a.backMoney;return t?"领取".concat(n/100,"元奖励"):"立即拼单"})),Object(O.a)(Object(h.a)(e),"onBtn",(function(){if(e.cashBackStore.isDrawable)Object(D.a)(6828562,{"button_state_id":1}),e.onConfirm();else{var a;Object(D.a)(6828562,{"button_state_id":0});var t=null===(a=e.couponList)||void 0===a?void 0:a.find((function(e){return e.couponNoUse}));if(t&&t.show)return void t.jump();Object(T.C)({"scrollIntoDeductCash":1},G.b)}})),Object(O.a)(Object(h.a)(e),"lChange",(function(e){var a=getComputedStyle(window.document.documentElement)["font-size"].split("px")[0],t=e.split("rem")[0];return parseFloat(t)*parseFloat(a)})),e}return Object(p.a)(CashBackGoBackProgressPopup,[{"key":"componentDidMount","value":(a=Object(l.a)(i.a.mark((function _callee6(){var e,a,t,n,o,c,r,s,u=this;return i.a.wrap((function _callee6$(i){for(;;)switch(i.prev=i.next){case 0:e=this.cashBackStore,a=e.isFromGuide,t=void 0!==a&&a,n=e.targetAmount,o=e.nowMoney,c=e.expireTime,r=e.isZero,s=(n-o)/100,Object(D.b)(6828562,{"button_state_id":s>0?1:0}),s>0&&this.couponList.forEach((function(e,a){e.all>0&&Object(D.b)(6828570,{"button_state_id":a})})),this.cashBackStore.setCountdown(c),t?(this.setState({"showMask":!0}),setTimeout((function(){u.setState({"showMask":!1}),r?u.setNum():u.goShowGood()}),600)):(this.setState({"aniShowQun":1}),this.setNum());case 6:case"end":return i.stop()}}),_callee6,this)}))),function componentDidMount(){return a.apply(this,arguments)})},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.cashBackStore.set("isFromGuide",!1)}},{"key":"render","value":function render(){var e=this.cashBackStore,a=e.isFromGuide,t=void 0!==a&&a,n=e.cashBackCountdown,o=e.nowMoney,c=e.backMoney,u=e.isDrawable,i=e.goods,l=e.targetAmount,d=(l-o)/100,p=(c/100).toString(),h=!u&&d>0,m=this.state,b=m.isShowMoreMoney,O=m.showMask,g=m.showRedShake,C=m.showLightGood,f=m.progressNum,w=m.aniShowQun;return _.a.createElement(_.a.Fragment,null,t&&O&&_.a.createElement(s.a,{"className":k.a.exchangeMask}),C&&!Object(L.b)(i)&&_.a.createElement(s.a,{"className":k.a.lightGoodBodyMask},_.a.createElement(s.a,{"className":k.a.lightGoodBody},_.a.createElement(s.a,{"className":k.a.goodCard},_.a.createElement(r.a,{"enablewebp":0,"className":k.a.CashBackGoBackPopupImg,"src":null==i?void 0:i.thumbUrl}),_.a.createElement(s.a,{"className":k.a.goodCardDesc},(null==i?void 0:i.initPrice)/100,_.a.createElement(s.a,{"className":k.a.goodCardDescYuan},"元"))),_.a.createElement(r.a,{"src":Object(y.a)("lightGoodImg"),"className":k.a.lightGoodImg}),_.a.createElement(r.a,{"className":k.a.singleNFreePopupLightBig,"src":Object(y.a)("singleNFreePopupLightBig")}))),_.a.createElement(B.a,{"showClose":!0,"headerTitle":"额外返现","onClose":this.onClose,"customWrapperStyle":h?{"top":"40%"}:{},"mainTitle":h?"再拼<#F96D43#".concat(d,"元>，额外返<#F96D43#").concat(p,"元>{redpacket%15%}"):"已拼满".concat(l/100,"元，可领额外<#F96D43#").concat(p,"元>{redpacket%15%}"),"subTitle":"拼单可得原本奖励，还能再返".concat(p,"元"),"bottomDesc":h?"":"* 若退单将收回奖励","fadeOutIcon":"CashBackIcon","targetAimSelector":"#CashBackIcon","startFadeout":this.state.startFadeout,"onFadeoutEnd":this.closePopupQueue},_.a.createElement(s.a,{"className":k.a.content},_.a.createElement(s.a,{"className":k.a.circle},_.a.createElement("svg",{"className":k.a.svgCircle,"height":Object(x.a)(240),"width":Object(x.a)(240)},_.a.createElement("circle",{"className":k.a.circleOut,"cx":Object(x.a)(120),"cy":Object(x.a)(120),"r":Object(x.a)(110),"fill":"none","stroke":"#FFF0D8","stroke-width":Object(x.a)(18),"stroke-linecap":"round"}),_.a.createElement("circle",{"id":"backCashCircle","style":{"strokeDashoffset":this.lChange(Object(x.a)(2*f))},"className":k.a.circleIn,"cx":Object(x.a)(120),"cy":Object(x.a)(120),"r":Object(x.a)(110),"fill":"none","stroke-width":Object(x.a)(16),"stroke-linecap":"round","strokeDasharray":this.lChange(Object(x.a)(110*Math.PI*2))})),_.a.createElement(s.a,{"className":N()(k.a.redpacketBody,t&&k.a.redpacketBodyChange,g&&k.a.redShake),"id":"allRedPacket"},_.a.createElement(r.a,{"enablewebp":0,"src":Object(y.a)("CashBackGoBackProgressPopupRedpacket"),"className":k.a.redpacket}),_.a.createElement(s.a,{"className":N()(k.a.money,p.length>3&&k.a.lessMoney)},p,_.a.createElement(s.a,{"className":N()(k.a.yuan,p.length>3&&k.a.lessYuan)},"元"))),b&&_.a.createElement(s.a,{"className":k.a.moreMoney},_.a.createElement(s.a,{"className":k.a.moreMoneyOne},"+",(null==i?void 0:i.initPrice)/100,"元"))),_.a.createElement(s.a,{"onClick":this.onBtn,"className":k.a.btn},"00:00:00"!==Object(j.g)(n)&&_.a.createElement(s.a,{"className":k.a.tips},"仅剩",Object(j.g)(n)),this.renderBtnText()),h&&this.allCoupon>0&&w>0&&_.a.createElement(s.a,{"className":N()(k.a.quanBody,2===w?k.a.quanAni:null)},_.a.createElement(r.a,{"enablewebp":0,"src":Object(y.a)("quanBodyLine"),"className":k.a.quanBodyLineLeft}),_.a.createElement(r.a,{"enablewebp":0,"src":Object(y.a)("quanBodyLine"),"className":k.a.quanBodyLineRight}),_.a.createElement(s.a,{"className":k.a.quanBodyCon},_.a.createElement(s.a,{"className":k.a.quanBodyConTitle},"用券拼单立省",this.allCoupon/100,"元，快速获得返现"),_.a.createElement(s.a,{"className":k.a.quanBodyConRu},this.couponList.map((function(e){var a=(e.all/100).toString();return(null==e?void 0:e.show)&&_.a.createElement(s.a,{"className":k.a.quanBodyConRuOne,"onClick":e.jump},_.a.createElement(s.a,{"className":N()(k.a.quanBodyConRuOnemoney,a.length>3&&k.a.lessquanBodyConRuOnemoney)},a,_.a.createElement(s.a,{"className":N()(k.a.quanBodyConRuOneyuan,a.length>3&&k.a.lessquanBodyConRuOneyuan)},"元")),_.a.createElement(r.a,{"enablewebp":0,"src":Object(y.a)("quanBodyConRuOneRed"),"className":k.a.quanBodyConRuOneRed}),_.a.createElement(s.a,{"className":k.a.quanBodyConRuOneDesc},e.name,_.a.createElement(r.a,{"enablewebp":0,"src":Object(y.a)("quanBodyConRuOneDescGo"),"className":k.a.quanBodyConRuOneDescGo})))})))),_.a.createElement(s.a,{"className":k.a.quanBodyDesc},"* 走路赚现金任意场景拼单均计入进度")),_.a.createElement(r.a,{"className":k.a.openFlyRedpacketOne,"src":Object(y.a)("fly_redpacket_icon"),"id":"backCash-fly-redpacket-btn"}))))}},{"key":"cashBackStore","get":function get(){return this.props[w.b.CASH_BACK]}},{"key":"popupQueueStore","get":function get(){return this.props[w.b.POPUP_QUEUE]}},{"key":"globalStore","get":function get(){return this.props[w.b.GLOBAL]}},{"key":"envStore","get":function get(){return this.props[w.b.ENV]}},{"key":"homeOrderStore","get":function get(){return this.props[w.b.HOME_ORDER]}},{"key":"couponCenterStore","get":function get(){return this.props[w.b.COUPON_CENTER]}},{"key":"continueThreeOrderStore","get":function get(){return this.props[w.b.CONTINUE_THREE_ORDER]}},{"key":"couponList","get":function get(){var e,a=this,t=this.homeOrderStore,n=t.sumDiscount,o=void 0===n?0:n,c=t.browseSumDiscount,r=void 0===c?0:c,s=t.coupons,u=void 0===s?[]:s,i=t.browseMissionCoupon,l=t.canGrantCoupon,d=t.browseCanGrantCoupon,p=(null===(e=this.couponCenterStore.featureItem)||void 0===e?void 0:e.featureDataVo)||{},h=p.sumDiscount,m=p.couponList,b=this.continueThreeOrderStore,O=b.totalCouponMoney,g=b.sceneCoupons;return[{"name":"首页拼单","show":o>0||r>0,"all":o||r,"couponNoUse":(null==u?void 0:u.find((function(e){return null==e?void 0:e.usable})))||l||(null==i?void 0:i.find((function(e){return null==e?void 0:e.usable})))||d,"jump":function jump(){Object(D.b)(6828570,{"button_state_id":0}),Object(M.h)({"globalStore":a.globalStore,"envStore":a.envStore}),a.closePopupQueue()}},{"name":"超级神券","show":h>0,"all":h,"couponNoUse":null==m?void 0:m.find((function(e){var a;return(null==e||null===(a=e.usableCoupon)||void 0===a?void 0:a.length)>0||0==(null==e?void 0:e.upperLimit)})),"jump":function jump(){Object(D.b)(6828570,{"button_state_id":1}),Object(T.j)(a.goToCouponCb),a.closePopupQueue()}},{"name":"连续拼单","all":O,"show":O>0&&this.continueThreeOrderStore.canShowPullup,"couponNoUse":(null==g?void 0:g.find((function(e){return null==e?void 0:e.usable})))||!this.continueThreeOrderStore.hasGrantCoupon,"jump":function jump(){Object(D.b)(6828570,{"button_state_id":2}),a.goToOrderPage(),a.closePopupQueue()}}]}},{"key":"allCoupon","get":function get(){var e;return null===(e=this.couponList)||void 0===e?void 0:e.reduce((function(e,a){return e+a.all}),0)}}]),CashBackGoBackProgressPopup}(g.Component))||c)||c)||c)},"fL/A":function(e,a,t){e.exports={"content":"_3VRwcDP","mainTitle":"_34D0WVL","redMainTitle":"_1HUwMa9","circle":"_1e27wUu","timeStr":"_3eO5NqQ","time":"_1wnNxV_","listBody":"_3v_97AJ","redList":"_1tWnagn","redListTitle":"_3q9BFUo","listBodyBg":"oNqDs0D","progress":"rzRmpCw","conPackage":"gkZcQSb","packageList":"_2QKcJLc","money":"lf6CEHJ","lessMoney":"_1RE6fCV","yuan":"_2uT78l-","lessYuan":"_11GzNEv","targetMoney":"_1KwJSxr","targetYuan":"_18Im_mS","targetMoneyBigThree":"_1GZyx6k","targetYuanBigThree":"_1TOfTDn","package":"_1HXueam","envelopesPackageOpenIcon":"_1VYCzQK","desc":"_3E88b0T","opacity":"_2lGs4GX","needNum":"_3cHNjIV","redpacketBody":"_16h_Ig2","redpacket":"lXMZDbu","ingotTosat1":"_2c2bXwW","ingotTosat2":"_3G15dZE","ingotTosat3":"_3c0YDw0","breath":"_1J2mCDJ","myBreath":"_35McS6h","quanBody":"_2e05k-s","quanBodyLineLeft":"_2wmYKNL","quanBodyLineRight":"_2xDsujQ","quanBodyCon":"GDDg3Px","quanBodyConTitle":"_3D0hSqU","quanBodyConRu":"_1jgfSfH","quanBodyConRuOneDesc":"_3gSPY_m","quanBodyConRuOneDescGo":"_1b4Loxw","quanBodyConRuOne":"_1LQi7lc","quanBodyConRuOneRed":"PYRueCq","quanBodyConRuOnemoney":"_2ASpDeS","lessquanBodyConRuOnemoney":"yGZQga6","quanBodyConRuOneyuan":"_1RuiKxW","lessquanBodyConRuOneyuan":"_11aKu5X","btn":"_2UvXpCp","tips":"_1nnDdBs","moreMoney":"_2xH4ZVV","moreMoneyOne":"hEI123V","openFlyRedpacketOne":"_3PwHOym","redpacketBodyChange":"_1q7FG_K","comFadeIn":"_3HkuSb-","exchangeMask":"_2BvE0LV","exchangeMaskChangeIn":"_3jnCISO","redShake":"_1bzw-dc","lightGoodBody":"_3uVD1Ul","lightGoodImg":"_1w5LVAJ","goodCard":"_187C6fm","CashBackGoBackPopupImg":"_14Udwtm","goodCardDesc":"_11bsTxV","goodCardDescYuan":"_3HxWWpt","singleNFreePopupLightBig":"_1OdCx6I","singleNFreePopupLightBigMove":"yXyvoA5","circleIn":"_1oOU-D7","circleOut":"_2ZcU5Y6","svgCircle":"C1Snvng","quanAni":"_21q7HcN","lightGoodBodyMask":"qOg98Ma","quanBodyDesc":"_3zZb6hE"}},"jxdO":function(e,a,t){"use strict";t.d(a,"a",(function(){return s})),t.d(a,"b",(function(){return u}));var n=t("kRu4"),o=t.n(n),c=t("RgDV"),r=t("ndO7"),s=function(){var e=Object(c.a)(o.a.mark((function _callee(e,a,t){var n,c,s,u,i,l;return o.a.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return n=t.globalStore,o.next=3,Object(r.g)(e,a);case 3:if(o.t0=o.sent,o.t0){o.next=6;break}o.t0={};case 6:return c=o.t0,s=c.standardWithdrawProgressVo,u=void 0===s?{}:s,i=c.v2HealthStandardSkuVo,l=void 0===i?{}:i,n.set({"standardWithdrawProgressVo":u,"v2HealthStandardSkuVo":l}),o.abrupt("return",c);case 10:case"end":return o.stop()}}),_callee)})));return function gainMissionUniversal(a,t,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(o.a.mark((function _callee2(e,a,t){var n,c,r,u,i,l,d,p,h;return o.a.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return r=t.globalStore,u=t.popupQueueStore,o.next=3,s(e,a,{"globalStore":r});case 3:if(o.t0=o.sent,o.t0){o.next=6;break}o.t0={};case 6:return i=o.t0,l=i.healthAccountVo,d=void 0===l?{}:l,p=i.rewards,h=void 0===p?[]:p,u.instantShow("showExchangeReward"),r.set({"healthAccountVoTmp":d,"featureReward":null!==(n=null==h||null===(c=h[0])||void 0===c?void 0:c.rewardAmount)&&void 0!==n?n:0,"currentFeatureId":e}),o.abrupt("return",i);case 11:case"end":return o.stop()}}),_callee2)})));return function popupGainMission(a,t,n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-fit/js/FitV2Popups-CashBackGoBackProgressPopup_6fb168bae5c841dc0411.js.map