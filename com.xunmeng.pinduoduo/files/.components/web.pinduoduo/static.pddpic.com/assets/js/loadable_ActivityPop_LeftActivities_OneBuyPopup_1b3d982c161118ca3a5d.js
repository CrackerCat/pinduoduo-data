(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[7],{"1KKG":function(e,t,n){e.exports=n("EQ+b")("1KKG")},"1yPI":function(e,t,n){e.exports={sticky:"_1em03tUN"}},"3O9M":function(e,t,n){"use strict";n.r(t);var a,r,o,i,c,l=n("yXPU"),s=n.n(l),u=n("J4zp"),m=n.n(u),d=n("DzJC"),f=n.n(d),v=n("o0o1"),p=n.n(v),b=n("q1tI"),h=n.n(b),g=n("KoDT"),y=n("1KKG"),E=n("O2NP"),T=n("AZ7A"),O=n("SH1p"),_=n("kLkQ"),N=n("yiM9"),C=n("zRTd"),D=Object(b.createContext)({onClose:function(){},roomId:"",activityType:0,isShowTab:!0,isOneBuy:!0}),w=n("lSNA"),j=n.n(w),k=n("+MQX");!function(e){e[e.Enable=0]="Enable",e[e.Subscribed=1]="Subscribed",e[e.Disable=2]="Disable"}(o||(o={})),function(e){e[e.Todo=1]="Todo",e[e.Doing=2]="Doing",e[e.Done=3]="Done"}(i||(i={})),function(e){e[e.Day1=1]="Day1",e[e.Day2=2]="Day2"}(c||(c={}));var I,S=(a={},j()(a,k.b.ONE_BUY,1),j()(a,k.b.YURONG_BUY,2),a),B=(r={},j()(r,k.b.ONE_BUY,{container:{backgroundColor:"#fff"},banner:{height:"0.65rem",background:{useBackGroundImage:!1,color:"#CE1600"},img:{src:"https://promotion.pddpic.com/mobile_live/db7aa182-05f6-4305-b299-dd3fc56a6ebc.png.slim.png",width:"1.56rem",height:"0.26rem",marginTop:"0.1rem"},ruleEntryText:{backgroundColor:"#EC352B"}},list:{backgroundColor:"#fff"},anchor:{backgroundColor:"#F6F6F6"},gap:{backgroundColor:"#FBF5F5"}}),j()(r,k.b.YURONG_BUY,{container:{backgroundColor:"#FFE6CA"},banner:{height:"0.65rem",background:{useBackGroundImage:!0,color:"linear-gradient(90deg, #FF933F 4%, #FB5F12 100%)"},img:{src:"https://promotion.pddpic.com/mobile_live/665cec0a-144f-49d4-a1b0-19dd96192c1f.png.slim.png",width:"2.51rem",height:"0.28rem",marginTop:"0.13rem"},ruleEntryText:{backgroundColor:"#FF9C55"}},list:{backgroundColor:"#FFE6CA"},anchor:{backgroundColor:"#fff"},gap:{backgroundColor:"#FFD9AF"}}),r),x=n("x8lX"),A=n.n(x),L=function(e){var t,n=e.children,a=Object(b.useContext)(D).activityType,r=B[a];return h.a.createElement("div",{className:A.a.container,style:{backgroundColor:null==r||null===(t=r.container)||void 0===t?void 0:t.backgroundColor}},n)},F=Object(b.memo)(L),M=n("fkkr"),P=n("mFSr"),R=n("PlGL"),G=n("LKQ0"),Y=n.n(G),K=["活动期间： 2021年12月26日00:00:00—2022年1月4日23:59:59。如活动直播间实际直播结束时间晚于前述活动时间的，活动时间自动延长至全部活动直播间直播结束。","活动规则：","1、新人1元抢购活动仅限从未在活动直播间内下单的新用户参加。活动期间，在页面显示的活动商品开抢时间，相应的活动直播间内将会开放1元抢购活动商品的机会，用户进入并关注直播间可有机会参与1元抢购活动。活动商品的具体上线时间以各直播间实际上线时间为准。活动商品数量有限，请您及时参与活动；","2、活动期间，同一用户（包括但不限于同一账户/同一手机号/同一终端设备号）仅限在同一活动直播间内抢购1次，且仅限购买1件活动商品。如用户多拍，拼多多有权取消订单且无需承担任何责任。","3、活动商品相关信息由主播/商家自行制作、上传，商品由商家提供并发货，对于与商品有关的（包括但不限于商品的商品信息、商品本身及商品交付等）任何纠纷，拼多多不承担任何责任。","4、禁止使用任何插件、外挂等不正当手段参与活动。用户下单后，拼多多有权对订单进行审核。如果用户存在违法违规行为（包括但不限于洗钱、虚假交易、赌博、恶意套现、作弊、刷信誉），或者通过插件、外挂等非正常手段参与活动，拼多多有权取消用户的活动资格，并有权撤销相关违规交易，收回补贴、福利等，同时依照相关规则进行处理；","5、如出现不可抗力或情势变更的情况（包括但不限于重大灾害事件、活动受政府机关指令需要停止举办或调整、活动遭受严重网络攻击或因系统故障需要暂停举办的），则拼多多可依相关法律法规的规定主张免责；","6、用户参与本活动即视为接受上述活动规则。"],W={zIndex:12e3},z=function(e){var t=e.onClose,n=e.rule;return h.a.createElement(R.a,{ContainerProps:{style:W},ControllerProps:{shouldDisableBodyScroll:!1},BackdropProps:{onClick:t},style:{width:"3.2rem"}},h.a.createElement(R.a.CloseButton,{onClick:t}),h.a.createElement("div",{className:Y.a.root},h.a.createElement("div",{className:Y.a.header},"活动规则"),h.a.createElement("div",{className:Y.a.content},n?h.a.createElement("div",null,n):h.a.createElement(h.a.Fragment,null,K.map((function(e,t){return h.a.createElement("p",{key:t},e)}))))))},J=Object(b.memo)(z),Q=n("BvzP"),U=n.n(Q),H=function(e){var t,n,a,r,o,i,c,l=e.rule,s=Object(b.useState)(!1),u=m()(s,2),d=u[0],f=u[1],v=Object(b.useContext)(D).activityType,p=B[v].banner,g=null!=p&&null!==(t=p.background)&&void 0!==t&&t.useBackGroundImage?"backgroundImage":"backgroundColor";return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:U.a.wrap,style:j()({height:null==p?void 0:p.height},g,null==p||null===(n=p.background)||void 0===n?void 0:n.color)},h.a.createElement(P.a,{className:U.a.title,src:null==p||null===(a=p.img)||void 0===a?void 0:a.src,style:{width:null==p||null===(r=p.img)||void 0===r?void 0:r.width,height:null==p||null===(o=p.img)||void 0===o?void 0:o.height,marginTop:null==p||null===(i=p.img)||void 0===i?void 0:i.marginTop}}),h.a.createElement("div",{className:U.a.rule,onClick:function(){Object(M.a)({page_el_sn:6004304}),f(!0)},style:{background:null==p||null===(c=p.ruleEntryText)||void 0===c?void 0:c.backgroundColor}},"规则")),d&&h.a.createElement(J,{onClose:function(){f(!1)},rule:l}))},X=Object(b.memo)(H),q=n("TSYQ"),V=n.n(q),Z=n("ihAo"),$=n.n(Z),ee=function(e){var t,n=e.tabList,a=e.tabType,r=e.switchTab;if(n){var o=(null==n?void 0:n[0])||{},i=(null==n?void 0:n[1])||{},l=o.date,s=o.text,u=i.date,m=i.text,d=function(e){a!==e&&(Object(M.a)({page_el_sn:6004305,tab_order:e}),r(e))};return h.a.createElement("div",{className:V()($.a.wrap,(t={},j()(t,$.a.leftActive,a===c.Day1),j()(t,$.a.rightActive,a===c.Day2),t))},h.a.createElement("div",{className:$.a.leftTabItemWrap,onClick:function(){return d(c.Day1)}},h.a.createElement("div",{className:$.a.leftTabItem},h.a.createElement("div",{className:$.a.date},l),!!s&&h.a.createElement("div",{className:$.a.status},s))),h.a.createElement("div",{className:$.a.rightTabItemWrap,onClick:function(){return d(c.Day2)}},h.a.createElement("div",{className:$.a.rightTabItem},h.a.createElement("div",{className:$.a.date},u),!!m&&h.a.createElement("div",{className:$.a.status},m))))}},te=Object(b.memo)(ee),ne=n("pVnL"),ae=n.n(ne),re=n("X0J6"),oe=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};return t&&t!==n?(a.left+=t.offsetLeft,a.top+=t.offsetTop,e(t.offsetParent,n,a)):a},ie=function(e){var t=e.targetActivity,n=e.onScrollEnd,a=Object(b.useRef)(!1);return Object(b.useEffect)((function(){if(!a.current)if(a.current=!0,t){var e=t.startTime,r=t.endTime,o=document.getElementById("header-".concat(e,"-").concat(r)),i=document.getElementById("oneBuyScrollEl");if(o&&i){var c=oe(o,i).top;i.scrollTop=c,setTimeout((function(){n()}),20)}else n()}else n()}),[t]),null},ce=Object(b.memo)(ie),le=n("b4pP"),se=n.n(le),ue=function(e){var t,n,a=e.isShowGap,r=void 0===a||a,o=e.children,i=Object(b.useContext)(D).activityType,c=B[i];return h.a.createElement(h.a.Fragment,null,r&&h.a.createElement("div",{className:se.a.gap,style:{background:null==c||null===(t=c.gap)||void 0===t?void 0:t.backgroundColor}}),h.a.createElement("div",{className:se.a.wrap,style:{background:null==c||null===(n=c.list)||void 0===n?void 0:n.backgroundColor}},o))},me=Object(b.memo)(ue),de=n("ct/d"),fe=n("RqpL"),ve=n.n(fe),pe=function(e){var t=e.isLiving,n=e.isFreshMan,a=e.anchorData,r=a.goodsImage,o=a.activityStatus,c=t&&n&&o===i.Todo,l=!n||o===i.Done;return h.a.createElement("div",{className:V()(ve.a.goodsWrap,j()({},ve.a.disableGoods,l))},h.a.createElement(P.a,{className:ve.a.goodsImage,src:r,cdnOptimize:{width:300}}),c&&h.a.createElement("div",{className:ve.a.goodsTag},"未开始"),o===i.Done&&h.a.createElement("div",{className:ve.a.bottomTag},"已抢光"))},be=Object(b.memo)(pe),he=n("h7Yj"),ge=n("fsrX"),ye=n.n(ge),Ee=function(e){var t=e.isLiving,n=e.isFreshMan,a=e.anchorData,r=a.activityStatus,o=a.roomTitle,c=a.goodsName,l=a.promoPrice,s=a.originPrice,u=a.goodsCount,m=a.roomImage,d=a.anchorName,f=a.anchorImage,v=a.watchPv,p=!n||r===i.Done,g=!t,y=Object(he.sales)(v),E=Object(b.useMemo)((function(){return t?n&&r===i.Doing?"去拼单":"看直播":r===i.Done?"已结束":"即将开始"}),[n,t,r]);return h.a.createElement("div",{className:ye.a.goodsWrap},h.a.createElement("div",{className:ye.a.goodsTitle},t&&h.a.createElement("div",{className:ye.a.livingIcon},"直播中"),!t&&!p&&h.a.createElement("div",{className:ye.a.willLive},"即将开播"),h.a.createElement("div",{className:ye.a.goodsName},c)),h.a.createElement("div",{className:V()(ye.a.goods,j()({},ye.a.disableGoods,p))},h.a.createElement("div",{className:ye.a.anchorLeft},h.a.createElement(P.a,{className:ye.a.roomImage,src:m,cdnOptimize:{width:282}}),t&&h.a.createElement("div",{className:ye.a.corner},y,"人观看"),h.a.createElement("div",{className:ye.a.anchorBottom},h.a.createElement(P.a,{className:ye.a.avatar,src:f,cdnOptimize:{width:60}}),h.a.createElement("div",{className:ye.a.nickname},d))),h.a.createElement("div",{className:ye.a.goodsRight},h.a.createElement("div",{className:ye.a.roomTitle},o),!n&&h.a.createElement("div",{className:ye.a.freshHint},"仅限该直播间新客购买"),!!u&&n&&h.a.createElement("div",{className:ye.a.goodsCount},"共",u,"件"),h.a.createElement("div",{className:ye.a.promoPrice},Object(he.priceCent)(l)),h.a.createElement("div",{className:ye.a.originPrice},"¥",Object(he.priceCent)(s)))),h.a.createElement("div",{className:V()(ye.a.button,j()({},ye.a.disableButton,g))},E))},Te=Object(b.memo)(Ee),Oe=n("Rrb7"),_e=n.n(Oe),Ne=function(e){var t,n=e.anchorData,a=n.goodsId,r=n.roomId,o=n.linkUrl,c=n.freshman,l=n.activityStatus,u=Object(E.k)().store,m=Object(b.useContext)(D),d=m.roomId,v=m.onClose,g=m.activityType,y=B[g],T=!!o,O=!!c,N=function(){var e=s()(p.a.mark((function e(){var t,n,a,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(_.p)("你已在该商品直播间"),null==v||v(),e.next=4,Object(_.o)(400);case 4:(null==u||null===(t=u.newComerCouponStore)||void 0===t||null===(n=t.couponInfo)||void 0===n?void 0:n.batchSn)&&(null==u||null===(a=u.newComerCouponStore)||void 0===a||null===(r=a.couponInfo)||void 0===r?void 0:r.firstBuy)&&(null==u||null===(o=u.newComerCouponStore)||void 0===o||o.showDialog());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=f()((function(){Object(M.a)({page_el_sn:6004306,goods_id:a}),O?function(){if(T){if(r===d)return void N();de.default.uniformForward(o)}else[i.Todo,i.Doing].includes(l)&&Object(_.p)("抢购即将开始，请耐心等待～"),l===i.Done&&Object(_.p)("商品已抢光，去看看其他直播间吧～")}():T?de.default.uniformForward(o):([i.Todo,i.Doing].includes(l)&&Object(_.p)("该商品仅限该直播间新客购买，可以看看其他直播间哦"),l===i.Done&&Object(_.p)("商品已抢光，去看看其他直播间吧"))}),1e3,{trailing:!1});return h.a.createElement("div",{className:_e.a.wrap,onClick:C,style:{backgroundColor:null==y||null===(t=y.anchor)||void 0===t?void 0:t.backgroundColor}},h.a.createElement(be,{isLiving:T,isFreshMan:O,anchorData:n}),h.a.createElement(Te,{isLiving:T,isFreshMan:O,anchorData:n}))},Ce=Object(b.memo)(Ne),De=function(e){var t=e.anchorList;if(t)return h.a.createElement(h.a.Fragment,null,(t||[]).map((function(e,t){return h.a.createElement("div",{key:t,style:{marginTop:t>0?"0.1rem":0}},h.a.createElement(Ce,ae()({anchorData:e},e||{})))})))},we=Object(b.memo)(De),je=n("Wgwc"),ke=n.n(je),Ie=n("SXY3"),Se=n("Ww4m"),Be=n("4SlK"),xe=function(){var e=s()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/freshman/first/one_activity_info",e.next=3,Object(Be.a)("/api/freshman/first/one_activity_info",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=s()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/freshman/first/subscribe",e.next=3,Object(Be.a)("/api/freshman/first/subscribe",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=n("uE/F"),Fe=n.n(Le),Me=function(e){var t=e.activity,n=e.needCountDown,a=e.startTimeString,r=e.localDiffServerTime,i=Object(b.useContext)(D),c=i.roomId,l=i.isOneBuy,u=t||{},d=u.startTime,f=u.subscribeStatus,v=u.id,g=Object(b.useState)(n),y=m()(g,2),T=y[0],O=y[1],N=Object(b.useState)(f===o.Subscribed),C=m()(N,2),w=C[0],j=C[1],k=Object(b.useMemo)((function(){return l&&[o.Enable,o.Subscribed].includes(f)}),[l,f]),I=function(){O(!1)},S=Object(E.e)(s()(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(M.a)({page_el_sn:6352468}),e.next=3,Ae({room_id:c,start_time:d,id:v});case 3:null!=(t=e.sent)&&t.success?(j(!0),Object(_.p)("预约成功，将会开场时收到消息通知")):Object(_.p)("太多人预约了，请重试～");case 5:case"end":return e.stop()}}),e)}))));return h.a.createElement("div",{className:Fe.a.wrap},h.a.createElement(P.a,{className:Fe.a.icon,src:"https://promotion.pddpic.com/mobile_live/bcfa27bb-1c31-464c-829b-4e93dd4218b0.png.slim.png"}),h.a.createElement("i",null,a,"专场 | "),n?T?h.a.createElement(Se.a,{endTime:d,diff:r,onTimeout:I},(function(e){var t=e.second,n=e.minute,a=e.hour;return h.a.createElement(h.a.Fragment,null,h.a.createElement("span",{className:Fe.a.bg},a||"00"),h.a.createElement("span",{className:Fe.a.colon},":"),h.a.createElement("span",{className:Fe.a.bg},n||"00"),h.a.createElement("span",{className:Fe.a.colon},":"),h.a.createElement("span",{className:Fe.a.bg},t||"00"),"后开抢")})):"火爆疯抢中":"敬请期待",k&&h.a.createElement(h.a.Fragment,null,w?h.a.createElement("div",{className:Fe.a.subscribedStatus},"已预约"):h.a.createElement(Ie.a,{trackingInfo:{page_el_sn:6352468}},h.a.createElement("div",{className:Fe.a.subscribeBtn,onClick:S},"立即预约"))))},Pe=Object(b.memo)(Me),Re=n("S7CN"),Ge=n.n(Re),Ye=function(e){var t=e.startTimeString;return h.a.createElement("div",{className:Ge.a.wrap},h.a.createElement(P.a,{className:Ge.a.icon,src:"https://promotion.pddpic.com/mobile_live/bcfa27bb-1c31-464c-829b-4e93dd4218b0.png.slim.png"}),h.a.createElement("i",null,t,"专场 | 火爆疯抢中"))},Ke=Object(b.memo)(Ye),We=n("lUic"),ze=n.n(We),Je=function(e){var t=e.startTimeString;return h.a.createElement("div",{className:ze.a.wrap},h.a.createElement(P.a,{className:ze.a.icon,src:"https://promotion.pddpic.com/mobile_live/bcfa27bb-1c31-464c-829b-4e93dd4218b0.png.slim.png"}),h.a.createElement("i",null,t,"专场 | 已结束"))},Qe=Object(b.memo)(Je),Ue=n("EKZG"),He=n.n(Ue),Xe=(I={},j()(I,i.Todo,Pe),j()(I,i.Doing,Ke),j()(I,i.Done,Qe),I),qe=function(e){var t=e.localDiffServerTime,n=e.currentActivityStatus,a=e.activity,r=e.shouldCountDownActivity,o=a||{},i=o.startTime,c=o.endTime,l=Xe[n],s=ke()(i).format("HH:mm"),u=(null==r?void 0:r.startTime)===i&&r.endTime===c;return h.a.createElement("div",{className:He.a.header,id:"header-".concat(i,"-").concat(c)},h.a.createElement(l,{activity:a,needCountDown:u,startTimeString:s,localDiffServerTime:t}))},Ve=Object(b.memo)(qe),Ze=n("1yPI"),$e=n.n(Ze),et=function(e){var t=e.children;return h.a.createElement("div",{className:$e.a.sticky},t)},tt=Object(b.memo)(et),nt=function(e){var t=e.activityList,n=e.mainData,a=e.localDiffServerTime,r=e.wrapDomId,o=e.shouldCountDownActivity;return h.a.createElement("div",{id:r},t.map((function(e,t){var r=(null==e?void 0:e.showActivityList)||[],c=e||{},l=function(e){var t=e.startTime,n=e.endTime,a=e.currentServerTime;return a<t?i.Todo:a>=t&&a<n?i.Doing:i.Done}({startTime:c.startTime,endTime:c.endTime,currentServerTime:n.currentTime}),s=t>0;return h.a.createElement(me,{key:t,isShowGap:s},h.a.createElement(tt,null,h.a.createElement(Ve,{localDiffServerTime:a,currentActivityStatus:l,currentServerTime:n.currentTime,activity:e,shouldCountDownActivity:o})),h.a.createElement(we,{anchorList:r}))})))},at=Object(b.memo)(nt),rt=n("3e6M"),ot=n.n(rt),it=function(e){var t=(e.activity||{}).startTime,n=ke()(t).format("MM月DD日");return h.a.createElement("div",{className:ot.a.wrap},n)},ct=Object(b.memo)(it),lt=n("WEX9"),st=n.n(lt),ut=function(e){var t=e.mainData,n=e.localDiffServerTime,a=e.switchTab,r=e.targetActivity,o=Object(b.useState)(!0),i=m()(o,2),l=i[0],s=i[1],u=Object(b.useRef)(!0),d=Object(b.useState)(!1),f=m()(d,2),v=f[0],p=f[1],g=Object(b.useContext)(D).isShowTab;Object(E.l)((function(){p(!0)}),100);var y={opacity:l?0:1};return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:V()(st.a.wrap,!g&&st.a.noTabWrap),id:"oneBuyScrollEl",style:y},function(){var e;if(!t||null==t||!t.hourActivityList)return null;if(0===(null==t||null===(e=t.hourActivityList)||void 0===e?void 0:e.length))return h.a.createElement("div",{className:st.a.emptyText},"当前暂无活动，请稍后再来~");var r=t.currentTime,o=t.hourActivityList||[],i=o.findIndex((function(e){return 2===e.dayIndex})),l=o.find((function(e){return e.startTime>=r})),s=null==o?void 0:o[i],m=i<0?o:o.slice(0,i),d=o.slice(i),f={doImpr:!1,threshold:0,onEnter:function(){u.current||a(c.Day2,!1)},onLeave:function(){u.current||a(c.Day1,!1)},root:document.getElementById("oneBuyScrollEl")},v={localDiffServerTime:n,mainData:t};return h.a.createElement(h.a.Fragment,null,h.a.createElement(at,ae()({},v,{activityList:m,wrapDomId:"oneBuyDay1",shouldCountDownActivity:l})),s&&h.a.createElement(re.a,f,h.a.createElement("div",null,h.a.createElement(ct,{activity:s}),h.a.createElement(at,ae()({},v,{activityList:d,wrapDomId:"oneBuyDay2",shouldCountDownActivity:l})))))}()),v&&h.a.createElement(ce,{targetActivity:r,onScrollEnd:function(){u.current=!1,s(!1)}}))},mt=Object(b.memo)(ut),dt=n("CkBJ"),ft=n("eP+g"),vt=n("j1f6"),pt=n.n(vt),bt=O.d.platform===g.PLATFORM.PddAndroid,ht=function(e){var t=e.showId,n=e.roomId,a=e.pendantData,r=e.localDiffServerTime,o=e.onClose,i=Object(b.useState)(null),l=m()(i,2),u=l[0],d=l[1],v=Object(b.useState)(null),g=m()(v,2),O=g[0],w=g[1],j=Object(b.useState)(null),I=m()(j,2),B=I[0],x=I[1],A=Object(b.useState)(null),L=m()(A,2),M=L[0],P=L[1],R=Object(b.useRef)({activityType:+(null==a?void 0:a.type)}).current,G=Object(b.useState)(!1),Y=m()(G,2),K=Y[0],W=Y[1],z=function(e){var t=e.result,n=e.isInitShowTab,a=t.currentTime,r=t.hourActivityList,o=function(e){var t=e.activityList,n=e.currentTime;return t.find((function(e){var t=e||{},a=t.startTime,r=t.endTime;return n>=a&&n<=r}))}({currentTime:a,activityList:r||[]}),i=function(e){var t=e.activityList,n=e.currentTime;return t.find((function(e){return(e||{}).startTime>=n}))}({currentTime:a,activityList:r||[]}),l=o||i;P(l),n&&function(e){var t=e.targetActivity,n=e.activityDateList,a=null==n?void 0:n[0],r=null==n?void 0:n[1];t&&a&&r&&t.startTime>=r?w(c.Day2):w(c.Day1)}({targetActivity:l,activityDateList:null==t?void 0:t.activityDateList})},J=function(e){var t=e.currentTime,n=e.activityDateList,a=null==n?void 0:n[0],r=null==n?void 0:n[1],o=!!a&&!!r,i=function(e){var t=e.currentTime,n=e.day1TimeStamp,a=e.day2TimeStamp;if(!t||!n||!a)return!1;var r="",o="";return t<n&&(r="明日开抢",o="敬请期待"),t>=n&&t<a&&(r="疯抢中",o="明日开抢"),t>=a&&(r="已结束",o="疯抢中"),[{date:ke()(n).format("MM月DD日"),text:r},{date:ke()(a).format("MM月DD日"),text:o}]}({currentTime:t,day1TimeStamp:a,day2TimeStamp:r});return i&&x(i),W(o),o};Object(E.f)((function(){(function(){var e=s()(p.a.mark((function e(){var n,a,r,o,i,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bt?300:0,e.next=3,Promise.all([xe({show_id:t,activity_type:S[R.activityType]}),Object(_.t)(n)]);case 3:a=e.sent,r=m()(a,1),o=r[0],i=Object(T.c)(null==o?void 0:o.result),null!=o&&o.success&&i?(c=J(i),d(i),z({result:i,isInitShowTab:c})):d({isApiError:!0});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),Object(E.j)(6004303),R.switchTab=function(e,t){w(e),t&&function(e){var t=e===c.Day1?"oneBuyDay1":"oneBuyDay2",n=document.getElementById(t),a=document.getElementById("oneBuyScrollEl");if(n&&a){var r=oe(n,a).top,o=Object(ft.c)(a);Object(dt.a)({from:o,to:r,duration:150,cb:function(e){a.scrollTop=e}})}}(e)};var Q=Object(b.useCallback)(f()((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];R.switchTab(e,t)}),250,{trailing:!1}),[]),U=Object(b.useMemo)((function(){return{onClose:o,roomId:n,activityType:R.activityType,isShowTab:K,isOneBuy:R.activityType===k.b.ONE_BUY}}),[o,n,K]);return h.a.createElement(N.a,{scrollKey:"OneBuyePopup",isAnchor:!1,onClose:o},h.a.createElement(D.Provider,{value:U},h.a.createElement(F,null,h.a.createElement(X,{rule:null==u?void 0:u.activityRule}),u?u.isApiError?h.a.createElement("div",{style:{fontSize:"0.14rem",position:"absolute",top:"40%",left:"50%",transform:"translateX(-50%)"}},"活动太火爆了，请稍后再试~"):h.a.createElement(h.a.Fragment,null,h.a.createElement(C.a,{subType:"OneBuyPopup_".concat(R.activityType)}),h.a.createElement("div",{className:pt.a.borderContent},h.a.createElement("div",{className:pt.a.content},K&&h.a.createElement(te,{tabList:B,tabType:O,switchTab:Q}),h.a.createElement(mt,{mainData:u,localDiffServerTime:r,switchTab:Q,targetActivity:M})))):h.a.createElement(y.default,{hideBg:!0}))))};t.default=Object(b.memo)(ht)},"3e6M":function(e,t,n){e.exports={wrap:"RSY_PhOD"}},BvzP:function(e,t,n){e.exports={wrap:"_1qlrkrZt",title:"_1CtVThA9",rule:"eceNwNfE"}},CkBJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("lwsE"),r=n.n(a),o={linear:function(e){return e},ease:function(e){return 1-Math.pow(1-e,2)},easeInQuad:function(e){return Math.pow(e,2)},easeInQuart:function(e){return Math.pow(e,4)},easeInCubic:function(e){return Math.pow(e,3)},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)}},i=function e(t){var n=this,a=t.from,i=void 0===a?0:a,c=t.to,l=void 0===c?1:c,s=t.duration,u=void 0===s?300:s,m=t.cb,d=t.timeFunc,f=void 0===d?o.ease:d,v=t.delay,p=void 0===v?0:v,b=t.loop,h=void 0!==b&&b;r()(this,e),this.from=void 0,this.to=void 0,this.currentVar=void 0,this.progress=void 0,this.duration=void 0,this.cb=void 0,this.timeFunc=void 0,this.isPause=void 0,this.start=void 0,this.loop=void 0,this.tick=function(){if(!n.isPause){n.start||(n.start=Date.now());var e=Date.now()-n.start;if(n.loop&&e>=n.duration&&(e%=n.duration),e>=n.duration||n.to===n.from)n.callback(n.to,!0);else{var t=n.timeFunc(e/n.duration);n.currentVar=t*(n.to-n.from)+n.from,n.progress=100*t,n.callback(n.currentVar,!1),requestAnimationFrame(n.tick)}}},this.callback=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.cb&&n.cb(e,t,n)},this.pause=function(){n.isPause=!0},this.currentVar=this.from=i,this.to=l,this.duration=u,this.cb=m,this.timeFunc=f,this.loop=h,this.isPause=!1,p?setTimeout(this.tick,p):this.tick()};function c(e){return new i(e)}},EKZG:function(e,t,n){e.exports={header:"_2XMNIB3y"}},LKQ0:function(e,t,n){e.exports={root:"_1a--vizF",header:"_1JgfIGMn",content:"_3uTQprl6"}},RqpL:function(e,t,n){e.exports={goodsWrap:"_2XbdBten",disableGoods:"_22Oh3nJQ",goodsImage:"_2ZE5jYfR",goodsTag:"_20p_U7KZ",bottomTag:"_2qfi4DNu"}},Rrb7:function(e,t,n){e.exports={wrap:"_2jpyoKY-",anchorLeft:"_2DGAym3p",roomImage:"_3fU0LcuH",corner:"_1u42eZ4_",anchorBottom:"_1yzYid3F",avatar:"_31Aox3Ko",nickname:"_12RAe_jP",goodsRight:"_1QEbPm1g",goodsTitle:"_1cSs5hUi",livingIcon:"_2N75syfw",roomTitle:"EG6EdhXK",goods:"Op1ndohG",goodsLeft:"_1sIn4Y1g",goodsImage:"_3EWCTGto",goodsName:"_36lQVHhS",promoPrice:"_2-mAROxE",originPrice:"_2SpCxEJW",button:"_2TI3XPYL"}},S7CN:function(e,t,n){e.exports={wrap:"_39Y4rvlz",icon:"_2xfdByjH"}},VirW:function(e,t,n){e.exports={root:"_2ARurRDZ",show:"_2gpcCV4v",mask:"_1YBt4q-7",popupContent:"_366iqbff"}},WEX9:function(e,t,n){e.exports={wrap:"_1Gz8ZMKX",noTabWrap:"OpNYl6SC",sticky:"_1TwQw6YK",emptyText:"_1RWtdzPH"}},X0J6:function(e,t,n){"use strict";var a=n("lwsE"),r=n.n(a),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),l=n.n(c),s=n("7W2i"),u=n.n(s),m=n("a1gu"),d=n.n(m),f=n("Nsbk"),v=n.n(f),p=n("q1tI"),b=n.n(p),h=n("i8i4"),g=n("eHaf");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var r=v()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var E=function(e){u()(a,e);var t=y(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).provideOptions=function(){n.DomNode=Object(h.findDOMNode)(l()(n)),n.DomNode&&n.registerImprToComponent()},n.registerImprToComponent=function(){var e=n.props,t={threshold:e.threshold,rootMargin:e.rootMargin,root:e.root};n.observer=new IntersectionObserver(n.observerCallBack,t),n.observer.observe(n.DomNode)},n.observerCallBack=function(e,t){e.forEach((function(e){n.singleTracking(e)}))},n.singleTracking=function(e){var t=n.props,a=t.onEnter,r=t.onLeave,o=t.doImpr;n.isItemIn(e)?(o&&n.trackingAction(),a(e)):r(e)},n.trackingAction=function(){n.timer&&clearTimeout(n.timer),n.timer=setTimeout((function(){var e=n.DomNode.getBoundingClientRect().top;if(!(e<-200||e>800)){var t=n.props,a=t.once,r=t.trackingInfo,o=void 0===r?{}:r;Object(g.sendImprMetrics)(o),n.observer&&n.DomNode&&a&&n.observer.unobserve(n.DomNode)}}),300)},n.isItemIn=function(e){var t=n.props.threshold;return e.isIntersecting&&e.intersectionRatio>=t},n.observer=null,n.DomNode=null,n.timer=null,n}return i()(a,[{key:"componentDidMount",value:function(){n("Wr5T"),this.provideOptions()}},{key:"componentWillUnmount",value:function(){this.observer&&this.DomNode&&this.observer.unobserve(this.DomNode)}},{key:"render",value:function(){return b.a.Children.only(this.props.children)}}]),a}(p.Component);E.defaultProps={root:null,doImpr:!0,isCombined:!1,threshold:1,rootMargin:"0px",gap:300,imprItem:{},once:!0,onEnter:function(){},onLeave:function(){}},t.a=E},b4pP:function(e,t,n){e.exports={wrap:"_eNhCCtj",gap:"qpMMp8Ng"}},"eP+g":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r}));var a=function(e,t){return t&&t!==document.body?(t.scrollTop=e,t):0===e?(document.body.scrollTop=0,(document.documentElement||{}).scrollTop=0,null):(document.body.scrollTop=e,0!==document.body.scrollTop?document.body:((document.documentElement||{}).scrollTop=e,!(!document.documentElement||0===document.documentElement.scrollTop)&&document.documentElement))},r=function(e){return e&&e!==document.body?e.scrollTop:document.body.scrollTop+((document.documentElement||{}).scrollTop||0)};function o(){return parseFloat(getComputedStyle(document.documentElement).fontSize)}function i(e){return"number"==typeof e?e||0:"string"==typeof e?o()*Number(e||0):e.reduce((function(e,t){return Number(e)+i(t)}),0)}},fsrX:function(e,t,n){e.exports={goodsWrap:"Tkto8oYj",goodsTitle:"QvUatqGq",livingIcon:"_1NmquN0p",willLive:"quFELAyw",disableGoods:"_21fILDKj",goodsCount:"_3O98pww4",promoPrice:"CeIy4Zwk",originPrice:"F-KckJJf",goodsName:"_2VKfsBLv",anchorLeft:"_2m8He11O",roomImage:"_9Wb7xeFi",corner:"c27J8B3B",anchorBottom:"ff4eorbc",avatar:"_3fTJP-x-",nickname:"_1JYcJNX8",goods:"RiCyz9Ax",goodsLeft:"_1wHuGjyS",goodsTag:"_1a5mncJx",goodsImage:"_26NECP68",goodsRight:"_3j0mm1QF",roomTitle:"_3fsJlARU",freshHint:"_1GG6HFz_",button:"_2-CDZ25Y",disableButton:"_290kHONE"}},ihAo:function(e,t,n){e.exports={wrap:"Ip4fXOqY",leftTabItemWrap:"wjLbzxN9",rightTabItemWrap:"_31QmT7O6",leftTabItem:"_1IGK8fh6",rightTabItem:"_3BmmVog4",leftActive:"_2nWTAhmn",rightActive:"rBz9rhRe",date:"_3JFBdkZ_",status:"mXhkAa2H"}},j1f6:function(e,t,n){e.exports={borderContent:"_1aDYTUrP",content:"_3kBep3Oc"}},lUic:function(e,t,n){e.exports={wrap:"_2587xg9I",icon:"R4Cykynu"}},"uE/F":function(e,t,n){e.exports={wrap:"_2iO_eoji",icon:"_1hL77VAq",bg:"_2DFmf0HV",colon:"_2rB_QAMV",subscribeBtn:"_3Z-fu3z5",subscribedStatus:"_5xInhpwz"}},x8lX:function(e,t,n){e.exports={container:"_3QlVOLsw"}},yiM9:function(e,t,n){"use strict";var a=n("lSNA"),r=n.n(a),o=n("J4zp"),i=n.n(o),c=n("lSCD"),l=n.n(c),s=n("q1tI"),u=n.n(s),m=n("TSYQ"),d=n.n(m),f=n("91HH"),v=n("O2NP"),p=n("VirW"),b=n.n(p),h=function(e){var t=e.scrollKey,n=e.isAnchor,a=void 0!==n&&n,o=e.children,c=e.onClose,m=e.mainContentStyle,p=e.mainContentClassName,h=Object(s.useState)(!1),g=i()(h,2),y=g[0],E=g[1],T=Object(s.useRef)(!1),O=Object(s.useRef)();Object(v.f)((function(){E(!0)})),Object(v.b)({key:t,isAnchor:a}),Object(v.m)((function(){clearTimeout(O.current)}));var _=function(){E(!1),O.current=setTimeout((function(){T.current||(T.current=!0,null==c||c())}),300)};return u.a.createElement(f.Portal,null,u.a.createElement("div",{className:d()(b.a.root,r()({},b.a.show,y))},u.a.createElement("div",{className:b.a.mask,onClick:_,onTransitionEnd:function(){y||(T.current=!0,null==c||c())}}),u.a.createElement("div",{className:d()(b.a.popupContent,p),style:m},l()(o)?null==o?void 0:o({onClose:_}):o)))};t.a=Object(s.memo)(h)}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_ActivityPop_LeftActivities_OneBuyPopup_1b3d982c161118ca3a5d.js.map