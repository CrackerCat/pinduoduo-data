(self.webpackChunkmobile_channel=self.webpackChunkmobile_channel||[]).push([[457],{9359:function(e,t,r){e.exports=r(6556)},520:function(e,t,r){"use strict";var n=r(9311),i=r(1923),o=r(4372),a=r(9689),s=r(8645),c=r(3488),u=r(4858),p=r(3855),f=r(4404),l=r(2949);e.exports=function(e){return new Promise((function(t,r){var h,d=e.data,m=e.headers,g=e.responseType;function _(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}n.isFormData(d)&&delete m["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",S=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(y+":"+S)}var E=s(e.baseURL,e.url);function O(){if(v){var n="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:n,config:e,request:v};i((function(e){t(e),_()}),(function(e){r(e),_()}),o),v=null}}if(v.open(e.method.toUpperCase(),a(E,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=O:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(O)},v.onabort=function(){v&&(r(p("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){r(p("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded",n=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(p(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},n.isStandardBrowserEnv()){var w=(e.withCredentials||u(E))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;w&&(m[e.xsrfHeaderName]=w)}"setRequestHeader"in v&&n.forEach(m,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete m[t]:v.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),g&&"json"!==g&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){v&&(r(!e||e&&e.type?new l("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),d||(d=null),v.send(d)}))}},6556:function(e,t,r){"use strict";var n=r(9311),i=r(9066),o=r(3745),a=r(3596);var s=function e(t){var r=new o(t),s=i(o.prototype.request,r);return n.extend(s,o.prototype,r),n.extend(s,r),s.create=function(r){return e(a(t,r))},s}(r(4404));s.Axios=o,s.Cancel=r(2949),s.CancelToken=r(7185),s.isCancel=r(6813),s.VERSION=r(8629).version,s.all=function(e){return Promise.all(e)},s.spread=r(3059),s.isAxiosError=r(7695),e.exports=s,e.exports.default=s},2949:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},7185:function(e,t,r){"use strict";var n=r(2949);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6813:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3745:function(e,t,r){"use strict";var n=r(9311),i=r(9689),o=r(7979),a=r(9811),s=r(3596),c=r(1589),u=c.validators;function p(e){this.defaults=e,this.interceptors={request:new o,response:new o}}p.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!n){var p=[a,void 0];for(Array.prototype.unshift.apply(p,r),p=p.concat(o),i=Promise.resolve(e);p.length;)i=i.then(p.shift(),p.shift());return i}for(var f=e;r.length;){var l=r.shift(),h=r.shift();try{f=l(f)}catch(e){h(e);break}}try{i=a(f)}catch(e){return Promise.reject(e)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},p.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){p.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){p.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=p},7979:function(e,t,r){"use strict";var n=r(9311);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},8645:function(e,t,r){"use strict";var n=r(9241),i=r(8096);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},3855:function(e,t,r){"use strict";var n=r(6230);e.exports=function(e,t,r,i,o){var a=new Error(e);return n(a,t,r,i,o)}},9811:function(e,t,r){"use strict";var n=r(9311),i=r(5794),o=r(6813),a=r(4404),s=r(2949);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6230:function(e){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},3596:function(e,t,r){"use strict";var n=r(9311);e.exports=function(e,t){t=t||{};var r={};function i(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function o(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(e[r],t[r])}function a(e){if(!n.isUndefined(t[e]))return i(void 0,t[e])}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(void 0,t[r])}function c(r){return r in t?i(e[r],t[r]):r in e?i(void 0,e[r]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,i=t(e);n.isUndefined(i)&&t!==c||(r[e]=i)})),r}},1923:function(e,t,r){"use strict";var n=r(3855);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},5794:function(e,t,r){"use strict";var n=r(9311),i=r(4404);e.exports=function(e,t,r){var o=this||i;return n.forEach(r,(function(r){e=r.call(o,e,t)})),e}},4404:function(e,t,r){"use strict";var n=r(9311),i=r(5022),o=r(6230),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=r(520)),c),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||i&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(a)})),e.exports=u},8629:function(e){e.exports={version:"0.22.0"}},9066:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},9689:function(e,t,r){"use strict";var n=r(9311);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},8096:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:function(e,t,r){"use strict";var n=r(9311);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},9241:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},7695:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},4858:function(e,t,r){"use strict";var n=r(9311);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},5022:function(e,t,r){"use strict";var n=r(9311);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},3488:function(e,t,r){"use strict";var n=r(9311),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,a={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},3059:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1589:function(e,t,r){"use strict";var n=r(8629).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,r){function i(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,a){if(!1===e)throw new Error(i(n," has been removed"+(t?" in "+t:"")));return t&&!o[n]&&(o[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],c=void 0===s||a(s,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:i}},9311:function(e,t,r){"use strict";var n=r(9066),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===i.call(e)}function p(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:p,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):o(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)p(arguments[n],r);return t},extend:function(e,t,r){return p(t,(function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},3644:function(e,t,r){"use strict";r.d(t,{hP:function(){return pe},sq:function(){return le},A8:function(){return de},_T:function(){return ge},S1:function(){return ue},x4:function(){return _e}});r(7476),r(5767),r(8837),r(4882),r(8351);var n=r(8482),i=r(5118),o=r(7883),a=r.n(o),s=r(4974),c=(r(6253),r(851),r(2691)),u=r(4711),p=(r(6142),r(6108),r(4649)),f=r(7097),l="snsapi_base",h="snsapi_userinfo",d="BASE",m="USERINFO",g=43058,_=54001,v=54002,y=54003,S="PDDAccessToken",E="pdd_user_id",O="pdd_user_uin",w="AccessToken",P="0e4f9612e0fbe579",I="830d7c3797f9909d";function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UnLoginError";this.name="UnLoginError",this.message=e,this.errorCode=40001,this.stack=(new Error).stack}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"RedirectedError";this.name="RedirectedError",this.message=e,this.errorCode=302,this.stack=(new Error).stack}b.prototype=Object.create(Error.prototype),b.prototype.constructor=b,A.prototype=Object.create(Error.prototype),A.prototype.constructor=A;var C=r(506),T=r(6333);r(6620),r(1876),r(2773);function R(e,t){var r=T.Z.get(e),n=r.RedirectURI.QQConnect+"?"+(0,p.XP)({refer:t}),i=(0,p.XP)({response_type:"code",scope:"get_user_info",client_id:r.ApiKey.QQPublic,redirect_uri:n});return{oAuthUrl:"https://graph.qq.com/oauth2.0/authorize?".concat(i,"#qq_redirect"),redirectUri:n}}function k(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,n=T.Z.get(e);if(n.hasThirdLevelDomain){var i=n.domain||n.shareDomain;return i=i.endsWith("/")?i:i+"/",(0,p.ru)({third_level_from_url:t},"".concat(i).concat(n.thirdLevelLoginPath))}var o=(0,p.XP)({response_type:"code",scope:r,appid:n.ApiKey.WeChat,redirect_uri:t.split("#")[0],state:r===h?m:d});return"https://open.weixin.qq.com/connect/oauth2/authorize?".concat(o,"#wechat_redirect")}var D=[54004,54008,43020,43046,43054];function M(e){return D.includes(e)||e>=54100&&e<=54200}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=(0,u.zT)();function x(){var e=T.Z.get(location.host);return L.isWeChatPlatform?e.AppID.WeChat:L.isWeiboPlatform?e.AppID.Weibo:L.isQQPlatform?L.isEmbeddedBrowser?e.AppID.QQPublic:e.AppID.QQ:0}function j(){return j=(0,i.Z)(a().mark((function e(t,r){var n,i,o,s,c,u,p,f,l,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.code,i=r.state,o=x(),s=i===m?{code:n,app_id:o,is_auth:1}:{code:n,app_id:o},L.isQQPlatform&&(s.is_qq_connect=!0,s.redirect_uri=R(location.host,location.href).redirectUri),e.prev=4,e.next=7,t.post("/login",s,{defaultErrorHandler:function(){}});case 7:return c=e.sent,e.abrupt("return",N(N({},c),{},{accessToken:c.access_token}));case 11:if(e.prev=11,e.t0=e.catch(4),u=e.t0.errorCode,p=e.t0.response,f=p.data||{},l=f.verify_auth_token,d=f.verify_ttl,u!==g||!L.isWeChatPlatform){e.next=18;break}throw location.href=k(location.host,location.href,h),new A;case 18:if(u!==v&&u!==_){e.next=21;break}throw C.ZP.reload("psnl_verification.html?VerifyAuthToken=".concat(l,"&from=").concat(encodeURIComponent(location.href))),new A;case 21:if(u!==y){e.next=24;break}throw C.ZP.reload("fpctdipk.html?_t_module_name=login_error&&ttl=".concat(d,"&from=").concat(encodeURIComponent(location.href))),new A;case 24:if(!M(u)){e.next=27;break}throw C.ZP.reload("/commercial_pre_orders.html?_t_module_name=psnl_account_freeze_alert&error_code=".concat(u)),new A;case 27:throw e.t0;case 28:case"end":return e.stop()}}),e,null,[[4,11]])}))),j.apply(this,arguments)}var U=r(2202);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H=(0,u.zT)();function Q(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{maxAge:864e4};t&&(0,f.ej)(e)!==t&&(0,f.d8)(e,t,r)}function B(){return q.apply(this,arguments)}function q(){return(q=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.isNativePlatform?(0,c.bG)().then((function(e){return e.access_token})).catch((function(){return(0,f.ej)(S)})):(0,f.ej)(S));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return V.apply(this,arguments)}function V(){return(V=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.isNativePlatform?(0,c.bG)().then((function(e){return e.user_id})).catch((function(){return(0,f.ej)(E)})):(0,f.ej)(E));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return z.apply(this,arguments)}function z(){return(z=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H.isNativePlatform){e.next=2;break}return e.abrupt("return",(0,c.bG)().then((function(e){return e.uin||(0,f.ej)(O)})).catch((function(){return(0,f.ej)(O)})));case 2:return e.abrupt("return",(0,f.ej)(O));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){var t=(0,f.ej)(),r=t[S],n=t[E],i=t[O],o=function(){return r?Promise.resolve({accessToken:r,uid:n,uin:i}):Promise.reject(new b)};if(H.isNativePlatform)return(0,c.bG)().then((function(e){if(!e.access_token)throw new b;return{accessToken:e.access_token,uid:e.user_id,uin:e.uin,type:e.type}})).then((function(e){return G(G({},e),{},{uin:e.uin||(e.accessToken===r?i:null)})}),o);var a=(0,p.mB)(location.search),s=a.code,u=a.state;return s&&C.ZP.replaceURL(location.origin+location.pathname+"?"+(0,p.XP)(G(G({},(0,p.mB)(location.search)),{},{code:null,state:null}))),r?o():s?function(e,t){return j.apply(this,arguments)}(e,{code:s,state:u}):o()}function J(){return H.isNativePlatform&&(0,U.yC)(H.version,"5.25.0")>=0}var X=["force_show"];function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e){var t=H.isNativePlatform&&(0,U.yC)(H.version,"5.99.0")>=0,r=e.force_show,n=(0,s.Z)(e,X),i=t?"login.html":"native_login.html";return new Promise((function(o,a){(0,c.Q6)("JSNavigation","modal",ee(ee({},t||!1===r?{}:{type:"login"}),{},{props:ee(ee(ee({},n),!1===r||t?{url:(0,p.ru)(e,i)}:{}),{},{complete:function(e,t){if(0===e)o({accessToken:t.access_token});else{var r=new Error("native login modal error");r.errorCode=e,a(r)}}})})).catch(a)}))}function re(e){var t=(0,u.zT)(),r=t.isNativePlatform,n=J();return r?te(ee(ee({},e.nativeParams),n?{force_show:!e.silent}:{})):new Promise((function(){var r=e.from||location.href;t.isWeChatPlatform?location.href=k(location.host,r,e.scopeType):t.isQQPlatform?location.href=R(location.host,r).oAuthUrl:C.ZP.reload(function(e){return"/login.html?from=".concat(encodeURIComponent(e))}(r))}))}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe=!1,ae={};function se(e){var t=e.accessToken,r=e.uid,n=e.uin,i=void 0===n?"":n,o=e.type;return function(e,t,r){Q(S,e),Q(E,t),Q(O,r)}(t,r=r&&String(r),i),function(e,t,r,n){ae={accessToken:e,uid:t,uin:r,type:n}}(t,r,i,o),function(e,t,r){e&&localStorage.setItem(w,e),t&&localStorage.setItem(P,(+t).toString(36)),r&&localStorage.setItem(I,r)}(t,r,i),{accessToken:t,uid:r,uin:i,type:o}}function ce(){(0,f.nJ)(S),(0,f.nJ)(E),(0,f.nJ)(O),ae={},localStorage.removeItem(w),localStorage.removeItem(P),localStorage.removeItem(I)}function ue(e){return oe=!0,Y(e).then(se,(function(e){throw ce(),e}))}function pe(){return fe.apply(this,arguments)}function fe(){return(fe=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe||console.warn("await init() first to get correct accesstoken"),e.abrupt("return",ae.accessToken||B());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return he.apply(this,arguments)}function he(){return(he=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe||console.warn("await init() first to get correct uid"),e.abrupt("return",ae.uid||F());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return me.apply(this,arguments)}function me(){return(me=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe||console.warn("await init() first to get correct uin"),e.abrupt("return",ae.uin||K());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){if(!oe)throw new Error("未初始化调用getUserInfoSync");return ie({},ae)}function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===e.silent&&(e.silent=!0);var t=e.silent&&J();return t||ce(),re(e).then(se)}},5155:function(e,t,r){"use strict";r.d(t,{O:function(){return d}});r(7476),r(5767),r(8837),r(4882),r(8351);var n=r(8482),i=r(7401),o=r(3877);r(1466);var a=/^#[a-fA-F0-9]{6}$/,s=/^#[a-fA-F0-9]{8}$/;function c(e){if("string"!=typeof e)return"";if(e.match(a))return e;if(e.match(s)){var t=parseFloat((parseInt("".concat(e[1]).concat(e[2]),16)/255).toFixed(2)),r=parseInt("".concat(e[3]).concat(e[4]),16),n=parseInt("".concat(e[5]).concat(e[6]),16),i=parseInt("".concat(e[7]).concat(e[8]),16);return"rgba(".concat(r,", ").concat(n,", ").concat(i,", ").concat(t,")")}return e}var u=r(9566),p=r.n(u);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=i.memo((function(e){var t=e.data,r=e.style,n=void 0===r?null:r,a=(0,i.useRef)(),s=(0,i.useRef)(),u=function(e){var t=e.outerContainerRef,r=e.contentRef,n=e.minScale,a=void 0===n?.5:n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=(0,i.useState)(!1),u=(0,o.Z)(c,2),p=u[0],f=u[1],l=(0,i.useState)(1),h=(0,o.Z)(l,2),d=h[0],m=h[1],g=(0,i.useState)(0),_=(0,o.Z)(g,2),v=_[0],y=_[1];return(0,i.useEffect)((function(){var e=t.current.offsetWidth,n=r.current.offsetWidth;y(e),n>e&&m(Math.max(a,e/n)),f(!0)}),s),{visible:p,scale:d,containerWidth:v}}({outerContainerRef:a,contentRef:s},[t.img_text]),f=u.visible,h=u.scale,d=u.containerWidth;return i.createElement("div",{className:p().wrapper,style:l({color:c(t.text_color),background:c(t.bg_color)},n)},i.createElement("div",{className:p().container,ref:a},i.createElement("div",{style:{WebkitTransformOrigin:"left center",transformOrigin:"left center",WebkitTransform:"scale(".concat(h,")"),transform:"scale(".concat(h,")"),width:d/h,overflow:"hidden",textOverflow:"ellipsis"}},i.createElement("span",{ref:s,style:{visibility:f?"visible":"hidden"}},t.img_text||null))))})),d=i.memo((function(e){var t=e.data;return t&&t.img_text?i.createElement(h,{data:t}):null}))},6333:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});r(1466);var n={CookieKey:{UID:"pdd_user_id",UIN:"pdd_user_uin"},LocalStorageKey:{UID:"0e4f9612e0fbe579",UIN:"830d7c3797f9909d"},CDNImgHostName:"http://pinduoduoimg.yangkeduo.com/"},i=(r(7476),r(5767),r(8837),r(4882),r(8351),r(9385)),o=r(8482),a=(r(2850),r(2773),r(6253),r(1876),r(4711));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={},p=(0,a.zT)(),f="undefined"!=typeof location&&location.hostname.includes("yangkeduo.com"),l=!p.isNativePlatform&&f;var h,d={loggingURL:function(e){return"undefined"!=typeof window&&window.__LogingUrl__?window.__LogingUrl__:e?"https://th.yangkeduo.com/t.gif":"https://th.pinduoduo.com/t.gif"}(l),logRoutes:{ad:function(e){return"undefined"!=typeof window&&window.__AdLogingUrl__?window.__AdLogingUrl__:e?"https://ta.yangkeduo.com/t.gif":"https://ta.pinduoduo.com/t.gif"}(l)}},m={loggingURL:d.loggingURL,logRoutes:c({},d.logRoutes),httpsLoggingURL:d.loggingURL,httpsLogRoutes:c({},d.logRoutes),AppID:{WeChat:2,QQ:12,Weibo:11,QQConnect:13,QQPublic:30},ApiKey:{WeChat:"wx839691cce7c102bb",QQPublic:"200675334"},RedirectURI:{QQConnect:"http://mobile.yangkeduo.com/qqoauth_callback.html"},thirdLevelLoginPath:"jkr_report.html"},g={AppID:{WeChat:24},ApiKey:{WeChat:"wx20392b0342c8af91"}},_={hutaojie:1,mobile:2,weipin:3,app:4,huabei:17,xibei:18,dongbei:19,huazhong:21,huadong:22,dongnan:23,xinan:24,panduoduo:25,sc:26,hybrid:"hybrid",hybridTest:"hybridTest",huanan:40,hzsc:41,dnsc:42,dbsc:43,xbsc:44,xnsc:45,hnsc:46,hbsc:47,pddpt:48,m:49,mm:66,myqxgs:68,mobpinduoduo:72,mmpinduoduo:73,mobilepinduoduo:74,mobileddlequ:75,nvude3:82,mobnvude3:83,mpinduoduo:63,mddlequ:85,hhngpinduoduo:129};function v(e){return function(){for(var e={},t=0;t<arguments.length;t++)"object"===(0,i.Z)(arguments[t])&&y(e,arguments[t]);return e}(m,e)}function y(e,t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r],o=(0,i.Z)(n);"number"===o||"string"===o||"boolean"===o?e[r]=n:"object"===o?(e[r]=e[r]||{},y(e[r],n)):(a=n,"[object Array]"===Object.prototype.toString.call(a)&&(e[r]=e[r]||[],y(e[r],n)))}var a}u[_.hutaojie]={},u[_.mobile]={domain:"https://mobile.yangkeduo.com/"},u[_.weipin]={domain:"https://weipin.yangkeduo.com/",AppID:{WeChat:_.weipin},ApiKey:{WeChat:"wx51e5fe8c95f71b20"}},u[_.huabei]={domain:"https://huabei.yangkeduo.com/",AppID:{WeChat:_.huabei},ApiKey:{WeChat:"wx4044e9709b7188ea"}},u[_.xibei]={domain:"https://xibei.yangkeduo.com/",AppID:{WeChat:_.xibei},ApiKey:{WeChat:"wxbc80866520cc300d"}},u[_.dongbei]={domain:"https://dongbei.yangkeduo.com/",AppID:{WeChat:_.dongbei},ApiKey:{WeChat:"wx27901e8ab752ed35"}},u[_.huazhong]={domain:"https://huazhong.yangkeduo.com/",AppID:{WeChat:_.huazhong},ApiKey:{WeChat:"wx95c952f67a727090"}},u[_.huadong]={domain:"https://huadong.yangkeduo.com/",AppID:{WeChat:_.huadong},ApiKey:{WeChat:"wx03908118b84f285a"}},u[_.dongnan]={domain:"https://dongnan.yangkeduo.com/",AppID:{WeChat:_.dongnan},ApiKey:{WeChat:"wxff2e8dc2762c5b92"}},u[_.xinan]=c({domain:"https://xinan.yangkeduo.com/"},g),u[_.panduoduo]={},u[_.sc]={domain:"https://sc.yangkeduo.com/",AppID:{WeChat:_.sc},ApiKey:{WeChat:"wx32b0d9cdd390ebf0"}},u[_.app]={domain:"https://app.yangkeduo.com/",AppID:{WeChat:4},ApiKey:{WeChat:"wx77d53b84434b9d9a"}},u[_.hybrid]={shareDomain:"https://mobile.yangkeduo.com/",AppID:{WeChat:4},ApiKey:{WeChat:"wx77d53b84434b9d9a"}},u[_.hybridTest]={},u[_.huanan]={shareDomain:"https://huanan.yangkeduo.com/",AppID:{WeChat:40},ApiKey:{WeChat:"wxaffd94b821032481"}},u[_.hzsc]={shareDomain:"https://hzsc.yangkeduo.com/",AppID:{WeChat:41},ApiKey:{WeChat:"wx7bca1a27af0a31ed"}},u[_.dnsc]={shareDomain:"https://dnsc.yangkeduo.com/",AppID:{WeChat:42},ApiKey:{WeChat:"wxb79645ae502205d9"}},u[_.dbsc]={shareDomain:"https://dbsc.yangkeduo.com/",AppID:{WeChat:43},ApiKey:{WeChat:"wx01e7a1f91b8c43d3"}},u[_.xbsc]={shareDomain:"https://xbsc.yangkeduo.com",AppID:{WeChat:44},ApiKey:{WeChat:"wxc50a66d9b6d566ed"}},u[_.xnsc]={shareDomain:"https://xnsc.yangkeduo.com",AppID:{WeChat:45},ApiKey:{WeChat:"wx52457b6561fcd804"}},u[_.hnsc]={shareDomain:"https://hnsc.yangkeduo.com",AppID:{WeChat:46},ApiKey:{WeChat:"wx8e75952076e03567"}},u[_.hbsc]={shareDomain:"https://hbsc.yangkeduo.com",AppID:{WeChat:47},ApiKey:{WeChat:"wx7388833e69aafd89"}},u[_.pddpt]={shareDomain:"https://pddpt.yangkeduo.com",AppID:{WeChat:48},ApiKey:{WeChat:"wxe1b0f22089fadce1"}},u[_.m]={domain:"https://m.ishangtong.com",shareDomain:"https://m.ishangtong.com",AppID:{WeChat:48},ApiKey:{WeChat:"wxe1b0f22089fadce1"}},u[_.mm]={shareDomain:"https://mm.ishangtong.com",AppID:{WeChat:66},ApiKey:{WeChat:"wxf05b577296a1b6ec"}},u[_.myqxgs]={domain:"https://m.yiqixiegushi.com",shareDomain:"https://m.yiqixiegushi.com",AppID:{WeChat:66},ApiKey:{WeChat:"wxf05b577296a1b6ec"}},u[_.mobpinduoduo]={shareDomain:"https://mob.pinduoduo.com",AppID:{WeChat:56},ApiKey:{WeChat:"wx1e2715638762a51b"}},u[_.mmpinduoduo]={shareDomain:"https://mm.pinduoduo.com",AppID:{WeChat:57},ApiKey:{WeChat:"wxa19650a24138625a"}},u[_.mobileddlequ]=c({shareDomain:"https://mobile.ddlequ.com/"},g),u[_.mddlequ]=c({shareDomain:"https://m.ddlequ.com/"},g),u[_.mobilepinduoduo]={domain:"https://mobile.pinduoduo.com",shareDomain:"https://mobile.pinduoduo.com"},u[_.nvude3]={domain:h="https://m.nvude3.com",shareDomain:h,AppID:{WeChat:67},ApiKey:{WeChat:"wx15ee6b92001c5295"},httpsLoggingURL:h+"/proxy/th/t.gif",httpsLogRoutes:{error:h+"/proxy/te/e.gif",chat_error:h+"/proxy/te/e.gif",real_error:h+"/proxy/tne/tne.gif"}},u[_.mobnvude3]={shareDomain:"https://mob.nvude3.com",AppID:{WeChat:65},ApiKey:{WeChat:"wx86161385b94a2ed7"}},u[_.mpinduoduo]={shareDomain:"https://mobile.yangkeduo.com/",AppID:{WeChat:_.mpinduoduo},ApiKey:{WeChat:"wx2993126642818cea"}},u[_.hhngpinduoduo]={shareDomain:"https://hhng.pinduoduo.com/",AppID:{WeChat:_.hhngpinduoduo},ApiKey:{WeChat:"wx8aeafb2c4c5252fa"}};var S={hutaojie:{m:"hutaojie",app:"apptest"},yangkeduo:{mobile:"mobile",app:"app",huabei:"huabei",xibei:"xibei",dongbei:"dongbei",xinan:"xinan",huazhong:"huazhong",dongnan:"dongnan",huadong:"huadong",panduoduo:"panduoduo",sc:"sc",huanan:"huanan",hzsc:"hzsc",dnsc:"dnsc",dbsc:"dbsc",xbsc:"xbsc",xnsc:"xnsc",hnsc:"hnsc",hbsc:"hbsc",pddpt:"pddpt",weipin:"weipin"},ishangtong:{m:"m",mm:"mm"},yiqixiegushi:{m:"myqxgs"},pinduoduo:{mob:"mobpinduoduo",mm:"mmpinduoduo",mobile:"mobilepinduoduo",m:"mpinduoduo",hhng:"hhngpinduoduo"},nvude3:{m:"nvude3",mob:"mobnvude3"},ddlequ:{mobile:"mobileddlequ",m:"mddlequ"}};var E=function(e){var t,r=function(e){var t={hostName:e||"",hasThirdLevelDomain:!1};if(!e)return t.hostName=".",t;var r=["m.ishangtong.com","m.yiqixiegushi.com","m.hutaojie.com"],n=e.split("."),i=n.length;if(i<=3)return t;for(var o=n[i-2],a=0;a<r.length;a++){var s=r[a];if(s.indexOf(o)>0)return t.hostName=s,t.hasThirdLevelDomain=!0,t}return t}((e=e||{}).hostName),n=r.hostName||".",i=n.split(".");if(e.isModuleVersion){var o="undefined"!=typeof window?location.href.indexOf("hutaojie")>=0:n.indexOf("hutaojie")>=0;t=u[o?_.hybridTest:_.hybrid]}else i.length>=2&&S[i[1]]&&(t=u[_[S[i[1]][i[0]]]]);return t||(t=u[_.mobile]),t.hasThirdLevelDomain=r.hasThirdLevelDomain||!1,v(t)},O={get:function(e,t){return t||(t="undefined"!=typeof window&&(window.navigator.userAgent||window.navigator.vendor||window.opera)||""),E({isModuleVersion:!!t&&!(!t.match(/phh_ios_version/i)&&!t.match(/phh_android_version/i)),hostName:e})},constant:n}},7794:function(e,t,r){"use strict";r.d(t,{I:function(){return l},r:function(){return _}});r(6253),r(851);var n,i=r(1403),o=r(4711),a=r(2202),s=r(2691),c="唤起App失败",u=1,p=2,f=3;function l(e,t){var r,i;void 0!==document.hidden?(r="hidden",i="visibilitychange"):void 0!==document.webkitHidden&&(r="webkitHidden",i="webkitvisibilitychange");var s=Date.now(),l=function(){return new Promise((function(e,t){function o(a){if(document.removeEventListener(i,o),clearTimeout(n),document[r]||a.hidden||"hidden"===document.visibilityState)return e();t(new Error(c))}document.addEventListener(i,o,!1),n=setTimeout((function(){return document.removeEventListener(i,o),document[r]||"hidden"===document.visibilityState||Date.now()-s>2500?e():void t(new Error(c))}),2e3)}))};if(t){switch(t){case f:d(e);break;case p:g(e);break;case u:h(e)}return l()}var m=navigator.userAgent.toLowerCase(),_={isIOS:(0,o.zT)().system===a.we.IOS,isAndroid:/android|adr/.test(m)&&!/windows phone/.test(m),isChrome:/(?:chrome|crios)\/([\d\.]+)/.test(m),isQQ:/qq\/|mqqbrowser\/[\d\.]+/.test(m)};return _.isOriginalChrome=_.isAndroid&&_.isChrome,_.isIOS||_.isQQ?g(e):_.isOriginalChrome?h(e):d(e),l()}function h(e){window.location.href=e}function d(e){var t=document.createElement("iframe");t.src=e,t.style.display="none",document.body.appendChild(t),setTimeout((function(){document.body.removeChild(t)}),200)}var m="pdd-launch-node-".concat((0,i.x)());function g(e){var t=document.getElementById(m);t||((t=document.createElement("a")).id=m,t.style.display="none",document.body.appendChild(t)),t.href=e,t.click()}function _(e){(0,o.zT)().isNativePlatform?(0,s.Td)({title:e}):document.title=e}},7097:function(e,t,r){"use strict";r.d(t,{d8:function(){return a},ej:function(){return o},nJ:function(){return s}});var n=r(3877);r(9357),r(1876),r(110),r(5115),r(3276);function i(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function o(e){var t=document.cookie?document.cookie.split("; "):[],r={};return t.some((function(t){var n=t.split("="),o=n.slice(1).join("="),a=i(n[0]);return o=i(o),r[a]=o,e===a})),e?r[e]||"":r}function a(e,t,r){if(void 0===t)return"";"number"==typeof(r=Object.assign({path:"/"},r)).maxAge&&(r["max-age"]=String(r.maxAge),r.maxAge=!1),t=encodeURIComponent(t),e=encodeURIComponent(e);var i=Object.entries(r).reduce((function(e,t){var r=(0,n.Z)(t,2),i=r[0],o=r[1];return o?(e+="; "+i,!0===o?e:e+="="+o.split(";")[0]):e}),"");return document.cookie=e+"="+t+i}function s(e){a(e,"",{maxAge:-1})}},7044:function(e,t,r){"use strict";function n(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n<2048?t+=String.fromCharCode(192|n>>6)+String.fromCharCode(128|63&n):n<55296||n>=57344?t+=String.fromCharCode(224|n>>12)+String.fromCharCode(128|n>>6&63)+String.fromCharCode(128|63&n):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++r)),t+=String.fromCharCode(240|n>>18)+String.fromCharCode(128|n>>12&63)+String.fromCharCode(128|n>>6&63)+String.fromCharCode(128|63&n))}return t}r.d(t,{k:function(){return o}});var i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=n(e),t^=-1;for(var r=0;r<e.length;r++)t=t>>>8^i[255&(t^e.charCodeAt(r))];return(-1^t)>>>0}},6856:function(e,t,r){"use strict";r.d(t,{bd:function(){return i}});r(6253),r(6108),r(110),r(1784),r(9357),r(1246);function n(e,t){return e=Number(e),isNaN(e)?"0":("cent"!==t&&(e=+"".concat(e,"e2")),(Math.floor(e)/100).toString())}function i(e){return n(e,"cent")}},5629:function(e,t,r){"use strict";r.d(t,{FT:function(){return b}});r(7476),r(5767),r(4882),r(8351);var n=r(8482),i=r(9385),o=(r(1876),r(9357),r(8837),r(4649));r(6253),r(6108),r(9371),r(110);function a(e){return e.replace(/[^A-Za-z0-9+/]/g,"")}function s(e){return window.atob(a(e))}function c(e){return window.btoa(e)}function u(e){return window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function p(e){return decodeURIComponent(window.atob(a(e)).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.indexOf("t00img.yangkeduo.com")>-1?e.replace("t00img.yangkeduo.com","img.pddpic.com"):e.indexOf("t16img.yangkeduo.com")>-1?e.replace("t16img.yangkeduo.com","commimg.pddpic.com"):e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){return e.split("?")[0]},m=/\/image\/(.+?)\//;var g=function(e){var t=e.watermark,r=e.width;if(!r)return t;var n=function(e){var t=m.exec(e);return t&&t[1]}(t);if(!n)return t;var i=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?s(e):p(e)}(n)+"?imageMogr2/thumbnail/".concat(r,"x"),o=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!/[^\x00-\x7F]/.test(e)?c(e):u(e)}(i);return t.replace(n,o)};function _(e){var t=e.sharpen,r=e.thumbnail,n=e.radius,i=e.sigma,o=e.custom,a=void 0===o?"":o,s=a?[a]:[];return t&&s.push("/sharpen/".concat(t)),n&&i&&s.push("/blur/".concat(n,"x").concat(i)),r&&r.width&&s.push("/thumbnail/".concat(r.width,"x")),s.length?"imageMogr2".concat(s.join("")):""}var v=function(e){return"boolean"==typeof e};function y(e){return v(e)&&e?400:e}function S(e){return v(e)?70:e}function E(e){return h({addToFront:!0},"object"===(0,i.Z)(e)?e:{image:e})}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,r=e.sigma;return(t||r)&&(r=r||1,t=t||1),{radius:t,sigma:r}}var w=function(e){var t=e.webpEnable,r=e.quality,n=e.resizeWidth,i=e.plainWatermark,o=e.sharpen,a=e.prefitWidth,s=e.watermark,c=e.blur,u=e.imageMogr2,p=c.radius,f=c.sigma,l=[];l.push(_({thumbnail:{width:a}}));var h=i||function(e){var t=e.image,r=e.gravity,n=e.dx,i=e.dy,o=e.scatype,a=e.spcent,s=[];if(!t)return"";var c=e.blogo;return o||a||(c=c||2,s.push("/blogo/".concat(c))),!c&&o&&a&&s.push("/scatype/".concat(o,"/spcent/").concat(a)),t&&s.push("/image/".concat(t)),r&&s.push("/gravity/".concat(r)),n&&s.push("/dx/".concat(n)),i&&s.push("/dy/".concat(i)),s.length?"watermark/1".concat(s.join("")):""}(s);return a&&(h=g({watermark:h,width:a})),s.addToFront&&l.push(h),l.push(_({sharpen:o,radius:p,sigma:f,custom:u})),l.push(function(e){var t=e.mode,r=e.width,n=e.height,i=e.format,o=e.quality,a=e.rQuality,s=e.lQuality,c=[];return t&&(r||n)&&(c.push("/".concat(t)),r&&c.push("/w/".concat(r)),n&&c.push("/h/".concat(n))),o&&c.push("/q/".concat(o)),i&&c.push("/format/".concat(i)),a&&c.push("/rq/".concat(a)),s&&c.push("/lq/".concat(s)),c.length?"imageView2".concat(c.join("")):""}({mode:"2",width:n,quality:r,format:t?"webp":""})),s.addToFront||l.push(h),(l=l.filter((function(e){return!!e}))).length?"?"+l.join("%7C"):""},P={resizeWidth:1300,quality:80},I=function(e){return 0===e.indexOf("http")||0===e.indexOf("//")};function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;if(!I(e=e||""))return e;e=f(e);var r=(e=(0,o.Hm)(e)).split("?")[1];if(r)return e;var n=h(h({},t),{},{sharpen:S(t.sharpen),prefitWidth:y(t.prefitWidth),watermark:E(t.watermark),blur:O(t.blur)});return e.indexOf(".gif")>=0&&(n.sharpen=!1,n.webpEnable=!!n.enableGifToWebp&&n.webpEnable),n.webpEnable&&(n.quality=n.quality||70),d(e)+w(n)}},4169:function(e,t,r){"use strict";r.d(t,{H:function(){return o}});var n="funimg.pddpic.com",i="https://";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return"".concat(i).concat(t).concat(e)}},8965:function(e,t,r){"use strict";r.d(t,{v:function(){return n}});r(6253),r(851),r(7476);function n(e,t){return new Promise((function(r,n){var i=document.createElement("script");i.onload=function(e){document.body.removeChild(i),r(e)},i.onerror=function(e){document.body.removeChild(i),n(e)},t&&Object.keys(t).forEach((function(e){return i.setAttribute(e,t[e])})),i.src=e,document.body.appendChild(i)}))}},1403:function(e,t,r){"use strict";r.d(t,{x:function(){return n}});r(110),r(6253),r(6108);function n(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="";t.length<e;)t+=Math.random().toString(36).slice(2);return t.slice(0,e)}},5493:function(e,t,r){"use strict";r.d(t,{R:function(){return c}});var n=r(9385),i=(r(6253),r(851),{unknown:0,wifi:1,"2g":2,"3g":3,"4g":4}),o="unknown",a=i.unknown;function s(){return new Promise((function(e){if("object"===("undefined"==typeof window?"undefined":(0,n.Z)(window))&&window.WeixinJSBridge&&window.wx&&window.wx.getNetworkType)return e(new Promise((function(e){window.wx.ready((function(){window.wx.getNetworkType({success:function(t){e(t&&t.networkType)},fail:function(){e(o)}})}))})));e("object"===("undefined"==typeof navigator?"undefined":(0,n.Z)(navigator))&&navigator.connection&&navigator.connection.effectiveType)}))}function c(){return s().then((function(e){return i[e]||a}))}},9828:function(e,t,r){"use strict";r.d(t,{H4:function(){return p},Qv:function(){return u},Vm:function(){return f},g$:function(){return c}});var n=r(3877),i=(r(6142),r(3276),r(7732),r(110),r(5115),r(6253),r(851),r(9357),r(2691)),o=r(4711),a=r(4649),s=r(1403);function c(){var e=(0,a.mB)(location.search),t=Object.entries(e).reduce((function(e,t){var r=(0,n.Z)(t,2),i=r[0],o=r[1];return(i.startsWith("refer_")||i.startsWith("_ex_"))&&o&&(e[i=i.startsWith("_ex_")?"refer_".concat(i.slice(4)):i]=o),e}),{});return(0,o.zT)().isNativePlatform?(0,i.pZ)().catch((function(){return{}})).then((function(e){return Object.assign(t,e)})):Promise.resolve(t)}function u(){return c().then((function(e){return{refer_page_sn:e.refer_page_sn,refer_page_id:e.refer_page_id,refer_page_name:e.refer_page_name}}))}function p(e){var t=(0,a.mB)(location.search),r={};for(var n in t)if(!r[n])if(n.startsWith("_x_")||"xcx_trace_id"===n||"xcx_version"===n)r[n]=t[n];else if(e&&n.startsWith("_ex_")){r[n.replace("_ex_","_x_")]=t[n]}else e&&"msgid"===n?r._x_msgid=t[n]:e&&"refer_share_id"===n&&(r._x_share_id=t[n]);return r}function f(e){return"".concat(e,"_").concat(Date.now(),"_").concat((0,s.x)(10))}},6970:function(e,t,r){"use strict";function n(){return document.body.scrollTop||document.documentElement.scrollTop||0}r.d(t,{M:function(){return n}})},4649:function(e,t,r){"use strict";r.d(t,{De:function(){return d},FU:function(){return h},Hm:function(){return m},Rh:function(){return f},XP:function(){return c},mB:function(){return p},rB:function(){return g},ru:function(){return l},sD:function(){return s}});r(7476),r(5767),r(8837),r(4882),r(8351);var n=r(8482),i=r(3877),o=(r(110),r(3276),r(1876),r(6142),r(5115),r(9357),r(109));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){return/^[a-z][a-z\d+.-]*:/.test(e)}function c(e){return Object.entries(e).reduce((function(e,t){var r=(0,i.Z)(t,2),n=r[0],o=r[1];return null==o?e:e+"&"+encodeURIComponent(n)+"="+encodeURIComponent(String(o))}),"").slice(1)}var u=(0,o.HP)((function(e){return(e="?"===e[0]?e.slice(1):e).split("&").reduce((function(e,t){if(t){var r=function(e,t){if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}(t,"="),n=(0,i.Z)(r,2),a=n[0],s=n[1],c=void 0===s?"":s;try{e[decodeURIComponent(a)]=decodeURIComponent(c)}catch(e){(0,o.K2)(e)}}return e}),{})}));function p(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},u(e))}function f(e){if(0===e.indexOf("amcomponent://")){var t=e.indexOf("/","amcomponent://".length);return-1===t?"/":e.slice(t)}if(s(e)){var r=function(e){0;var t=document.createElement("a");return t.href=e,t}(e);return r.pathname+r.search+r.hash}return"/"===e.charAt(0)?e:"/"+e}function l(e,t){var r=(t=t||"").split("#")[1]||"",n=h(t),i=c(Object.assign({},n,e)),o=t.split("?")[0],a=i?[o,i].join("?"):o;return a=r?[a,r].join("#"):a}function h(e){return p((e.split("#")[0]||"").split("?")[1]||"")}function d(e,t){var r=function(e){if(0===window.location.href.indexOf("amcomponent://"))return f(e);var t=document.createElement("a");return t.href=e,t.href}(e);return t?l(t,r):r}function m(e){return e.replace(/^(http:\/\/|\/\/)/,"https://")}function g(e){return m(e)}},109:function(e,t,r){"use strict";r.d(t,{HP:function(){return n},K2:function(){return i},P2:function(){return o}});r(6253),r(851);function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2?arguments[2]:void 0;if("function"!=typeof e||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var n=[],i=[];return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var c=r?r.apply(this,a):a[0],u=i.indexOf(c);if(u>-1)return n[u];var p=e.apply(this,a);return n.push(p),i.push(c),n.length>t&&(i.shift(),n.shift()),p}}function i(e,t){setTimeout((function(){throw e.extraInfo=t,e}))}function o(e,t){var r,n=0;return function(){var i=Date.now();return i-n>=t&&(n=i,r=e.apply(this,arguments)),r}}},4272:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(8309),i=r(9348),o=(r(6253),r(2976));var a=r(9385);function s(e){return e&&"object"===(0,a.Z)(e)}var c=["49.234.253.21","212.129.222.108"],u={"dl.pddpic.com":{"dl-1.pddpic.com":50,"dl-2.pddpic.com":50},"t00img.yangkeduo.com":{"img-1.pddpic.com":30,"img-2.pddpic.com":30,"img-3.pddpic.com":20,"img-4.pddpic.com":20},"t13img.yangkeduo.com":{"promotion-1.pddpic.com":50,"promotion-2.pddpic.com":30,"promotion-3.pddpic.com":20},"t20img.yangkeduo.com":{"avatar2-1.pddpic.com":50,"avatar2-2.pddpic.com":50},"t22img.yangkeduo.com":{"review-1.pddpic.com":50,"review-2.pddpic.com":50,"review-3.pddpic.com":0},"images.pinduoduo.com":{"images-1.pinduoduo.com":60,"images-2.pinduoduo.com":40},"img.pddpic.com":{"img-1.pddpic.com":30,"img-2.pddpic.com":30,"img-3.pddpic.com":20,"img-4.pddpic.com":20},"t04img.yangkeduo.com":{"t04img-b.yangkeduo.com":100},"commimg.pddpic.com":{"commimg-1.pddpic.com":50,"commimg-2.pddpic.com":50},"promotion.pddpic.com":{"promotion-1.pddpic.com":50,"promotion-2.pddpic.com":30,"promotion-3.pddpic.com":20},"funimg.pddpic.com":{"funimg-1.pddpic.com":50,"funimg-2.pddpic.com":50},"avatar.pddpic.com":{"avatar-b.pddpic.com":100},"avatar2.pddpic.com":{"avatar2-1.pddpic.com":50,"avatar2-2.pddpic.com":50},"review.pddpic.com":{"review-1.pddpic.com":50,"review-2.pddpic.com":50,"review-3.pddpic.com":0}};function p(e,t){void 0!==e&&(0,o.Z)({errorMsg:t,payload:{value:JSON.stringify(e)}})}function f(e){if(!s(e))return p(e,"cui-image: 配置错误，backupDomainConfigMap需为object对象"),u;var t={};for(var r in e)s(e[r])?t[r]=e[r]:(p(e,"cui-image: 配置错误，backupDomainConfigMap的".concat(r,"需为object对象")),t[r]={});return t}function l(e){return t=e,"[object Number]"!==Object.prototype.toString.call(t)||isNaN(t)||e<0?(p(e,"cui-image: 配置错误，retryLimit需为大于等于0的数字"),3):e;var t}function h(e){return t=e,"[object Boolean]"!==Object.prototype.toString.call(t)?(p(e,"cui-image: 配置错误，useIpFallback需为boolean"),true):e;var t}var d,m=function(){function e(t){(0,n.Z)(this,e);var r=function(e){return s(e)?{backupDomainConfigMap:f(e.backupDomainConfigMap),useIpFallback:h(e.useIpFallback),retryLimit:l(e.retryLimit)}:(p(e,"cui-image: 配置错误，自定义配置需为object对象"),{backupDomainConfigMap:u,useIpFallback:!0,retryLimit:3})}(t);this._backupDomainConfigMap=r.backupDomainConfigMap,this._useIpFallback=r.useIpFallback,this._retryLimit=r.retryLimit}return(0,i.Z)(e,[{key:"getBackupDomainConfigMap",value:function(){return this._backupDomainConfigMap}},{key:"useIpFallback",value:function(){return this._useIpFallback}},{key:"getRetryLimit",value:function(){return this._retryLimit}},{key:"getBgpIps",value:function(){return c}},{key:"getBackupDomainConfig",value:function(e){var t=this._backupDomainConfigMap[e];return s(t)?t:{}}},{key:"getOriginHost",value:function(e){var t=this._backupDomainConfigMap;for(var r in t){if(e in t[r])return r}return""}}]),e}(),g="__CDN_IMG__";function _(){return d||(d=new m(function(){var e=window.__CDN_IMG__;if(window.hasOwnProperty(g)&&!s(e)){var t="cui-image: window.".concat(g,"的数据不合法");(0,o.Z)({errorMsg:t,payload:{value:e},error:new Error(t)})}return e}())),d}},477:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(4272),i=(r(7476),r(5767),r(4882),r(8351),r(8482)),o=r(8309),a=r(9348),s=(r(8837),r(2850),r(2773),r(6142),r(4649));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){var r=e?(0,s.mB)(e):{};return"?".concat((0,s.XP)(u(u({},r),t)))}r(1736),r(1246);var f=r(7488);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d,m=function(){function e(t){(0,o.Z)(this,e),this._config=t}return(0,a.Z)(e,[{key:"_getBackupIp",value:function(e){if(!this._config.useIpFallback())return e;var t=this._config.getBgpIps().filter((function(t){return t!==e}));return t[Math.floor(Math.random()*t.length)]}},{key:"_isBgpIp",value:function(e){return this._config.getBgpIps().includes(e)}},{key:"_getBackupDomain",value:function(e,t){var r,n,o=this._config.getBackupDomainConfig(e);return r=h(h({},o),{},(0,i.Z)({},t,0)),n=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),(0,f.Z)(r,n)}},{key:"_getOriginHost",value:function(e){var t=e.host,r=this._isBgpIp(t),n=(0,s.FU)(e.search);return r&&n.host||this._config.getOriginHost(t)||t}},{key:"_getNewHost",value:function(e,t,r){var n;return r<2&&(n=this._getBackupDomain(e,t)),n||this._getBackupIp(t)}},{key:"getFallbackUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=document.createElement("a");r.href=e;var n=this._getOriginHost(r),i=this._getNewHost(n,r.host,t);return this._isBgpIp(i)&&(r.search=p(r.search,{host:n}),r.protocol="http:"),r.host=i,r.href}}]),e}();function g(e,t){return d||(d=new m((0,n.Z)())),d.getFallbackUrl(e,t)}},5652:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n,i=r(5118),o=r(7883),a=r.n(o),s=r(2691),c=r(4711),u=r(2202),p=r(2976);function f(){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)(a().mark((function e(){var t,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n){e.next=2;break}return e.abrupt("return",n);case 2:if(t=(0,c.zT)(),r=t.platform,i=t.version,!(r!==u.iw.PddIOS||(0,u.yC)(i,"5.87.0")<0)){e.next=6;break}return n=!1,e.abrupt("return",n);case 6:return e.prev=6,e.next=9,(0,s.Q6)("WebScene","checkImageProtocol");case 9:return o=e.sent,n=o.use_image_sdk,e.abrupt("return",n);case 14:e.prev=14,e.t0=e.catch(6),(0,p.Z)({error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}},7488:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});r(7476);function n(e,t){var r=Object.keys(e).reduce((function(t,r){return t+e[r]}),0);t%=r;var n=0;for(var i in e)if(t<(n+=e[i]))return i;return""}},407:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});r(7732);function n(e){return"string"==typeof e&&["http://","https://","//"].some((function(t){return e.startsWith(t)}))}},2976:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(109);function i(e){var t=e.errorMsg,r=e.payload;var i=e.error||new Error(t);(0,n.K2)(i,{payload:r,error_msg:t})}},96:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});r(9371);var n=r(7401),i=r(2674);function o(e,t){if("undefined"!=typeof USE_ISO_STYLE_LOADER&&!0===USE_ISO_STYLE_LOADER){var o=r(5500);i.render(n.createElement(o.Provider,{value:{insertCss:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return e._insertCss()}));return function(){return n.forEach((function(e){return e()}))}}}},e),t)}else i.render(e,t)}},3262:function(e,t,r){"use strict";r(2850),r(2773),r(7476);var n=function(e){return function(e){return e}};"undefined"!=typeof USE_ISO_STYLE_LOADER&&!0===USE_ISO_STYLE_LOADER&&(n=r(4325)),t.Z=n},2505:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});r(2139);var n=r(8309),i=r(9348),o=r(9057),a=r(5558),s=r(1074),c=r(1269),u=r(7401),p=r(2674),f=r(5118),l=(r(7476),r(7883)),h=r.n(l),d=r(5607),m=r(4711),g=r(2691),_=(r(4964),(0,m.zT)()),v={rootMargin:"0px",threshold:[.75]},y=new((0,i.Z)((function e(){var t=this;(0,n.Z)(this,e),this.init=(0,f.Z)(h().mark((function e(){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(_.isNativePlatform&&_.statisfy&&_.statisfy("4.20.0","4.26.0","greaterThanEqual")){e.next=6;break}return t.createOberver(),e.abrupt("return");case 6:return e.prev=6,e.next=9,(0,g.Q6)("WebScene","getPageShownType",null);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:r=e.t0,parseInt(r.shown_type,10)?(n=function(){t.createOberver()},(0,g.Rl)().then(n)):t.createOberver(),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(6),t.createOberver();case 20:case"end":return e.stop()}var n}),e,null,[[6,17]])}))),this.createOberver=function(){t.oberver=new IntersectionObserver(t.observerCallBack,v),Array.isArray(t.stashQuene)&&t.stashQuene.forEach((function(e){e&&e()})),t.stashQuene=null},this.observerCallBack=function(e){e.forEach((function(e){var r=parseInt(e.target.dataset.uniqid,10);if(r){if(e.isIntersecting&&e.intersectionRatio>=.75){if((t.elStore[r]||{}).immediate)return void t.log(r);t.entryQuene[r]=e}else t.entryQuene[r]&&(e.time-t.entryQuene[r].time>=300&&t.log(r),delete t.entryQuene[r]);t.lastTimer&&clearTimeout(t.lastTimer),t.lastTimer=setTimeout((function(){Object.keys(t.entryQuene).forEach((function(e){t.log(e),delete t.entryQuene[e]}))}),300)}}))},this.log=function(e){if(t.elStore[e]){var r=t.elStore[e]||{},n=r.info,i=r.once,o=r.el,a=r.handleCustomTracking;i&&t.unRegister(o,e),a?a():(0,d.wI)(n)}},this.register=function(e){var r=e.el,n=e.info,i=e.handleCustomTracking,o=e.once,a=void 0===o||o,s=e.immediate,c=void 0!==s&&s;if(r&&n){var u=t._uniqid;t._uniqid++,r.dataset.uniqid=u,t.elStore[u]=i?{el:r,info:n,once:a,immediate:c,handleCustomTracking:i}:{el:r,info:n,once:a,immediate:c},t.oberver?t.oberver.observe(r):t.stashQuene.push((function(){t.oberver.observe(r)}))}},this.unRegister=function(e,r){t.oberver&&t.oberver.unobserve(e),delete t.elStore[r],delete t.entryQuene[r]},this._uniqid=1,this.oberver=null,this.entryQuene={},this.elStore={},this.stashQuene=[],this.init()})));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var E=function(e){(0,a.Z)(r,e);var t=S(r);function r(){var e;(0,n.Z)(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){var t=e.props,r=t.id,n=t.doImpr;e.el=(0,p.findDOMNode)((0,o.Z)(e))||document.getElementById(r),n&&e.registerImpr()},e.componentDidUpdate=function(t){e.lock||!t.doImpr&&e.props.doImpr&&(e.registerImpr(),e.lock=!0)},e.componentWillUnmount=function(){if(e.el&&e.isRegistered){var t=parseInt(e.el.dataset.uniqid,10)||0;y.unRegister(e.el,t)}},e.registerImpr=function(){var t=e.props,r=t.trackingInfo,n=t.once,i=t.handleCustomTracking,o=t.immediate;y.register({el:e.el,info:r,once:n,handleCustomTracking:i,immediate:o}),e.isRegistered=!0},e}return(0,i.Z)(r,[{key:"render",value:function(){return u.Children.only(this.props.children)}}]),r}(u.Component);E.defaultProps={doImpr:!0,id:"",once:!0,trackingInfo:{},immediate:!1};var O=E},9704:function(e,t,r){"use strict";r.d(t,{R:function(){return n},f:function(){return i}});var n={AUTHENTICATION_FAILED:40001,API_SERVICE_BUSY:40002,GRAPHICAL_CODE_FOR_PHONE_CODE:40017,LOGIN_FAILED:40020,ITEM_REMOVED:41002,OUT_OF_STOCK:41003,NOT_IN_LUCKY_TIME:41005,ADDRESS_UNREACHABLE:41006,UPDATE_USER_PROFILE_FORBIDDEN:43035,NO_COUPON_LEFT:44010,COUPON_TAKEN:44011,COUPON_TAKE_FAILED:44012,COUPON_TAKEN_OUT:44026,PERSONAL_INFO_NO_ID:45007,ORDER_PAYED:45008,NEED_VERFICATION:45054,GROUP_INVALID:46001,GROUP_FAILED:42003,OVER_BUY_LIMIT:42004,GROUP_OVERFLOW:42005,GROUP_AUTO_OPEN_FAILED:42006,GROUP_AUTO_OPEN_SUCCESS:42007,ID_CARD_EMPTY:43004,NO_NAME_ID_BEFORE:43006,ID_CARD_FAKE:43008,ID_CARD_FAIL_TOO_MUCH:43009,INSUFFICIENT_COUPON:44047,AVAILABLE_COUPONS_PER_UNIT:44201,NO_SUCH_ORDER:45001,PREPAY_BUSY:45009,ORDER_PAYING:45010,PAYMENT_DISABLED:45210,SPIKE_COMING:45034,ORDER_PAY_RISK:45206,ORDER_PAY_VERIFICATION_INVALID:45207,ORDER_ALREADY_URGED:47030,ORDER_URGE_ERROR:47031,NATIVE_NORMAL_ERROR:6e4,NATIVE_PARAMS_ERROR:60003,NATIVE_USER_REFUSE:60005,NATIVE_USER_CANCEL:60006,NATIVE_AUDIO_RECORD_FAILED:60200,NATIVE_AUDIO_RECORD_UNDETERMINED:60201,NATIVE_AUDIO_TOO_SHORT:60205,NATIVE_AUDIO_UPLOAD_FAILED:60210,NATIVE_AUDIO_PLAY_FAILED:60220,SUCCESSIVE_MOBILE_FEE_ONLY_ONCE:45036,SUCCESSIVE_MOBILE_FEE_RISK:45037,SUCCESSIVE_MOBILE_FEE_UNSIGNED:45038,SUCCESSIVE_MOBILE_FEE_ONLY_WECHAT:45039,OVER_BUY_VIRTUAL_GOODS_LIMIT:45033,AVAILABLE_ACTIVITY_CHANGED:45516,GROUP_COMPLETED:42001,INVALID_ADDRESS:43002,COUPON_DAILY_LIMIT:44037,COUPON_BATCH_LIMIT:44038,COUPON_TOKEN_INVALID:44041,COUPON_TOKEN_EXPIRED:44042,COUPON_PUSH_NOT_IN:44043,COUPON_ACTIVITY_ABSENT:44044,MULTIPLY_DISCOUNT_PAUSE:44064,MULTIPLY_DISCOUNT_END:44066,COUPON_MAX_NUM_REACHED:44200,HISTORY_GROUP_OPEN_FAILED:46014,GOODS_NOT_EXIST:49001,RISK_CONTROL:54001,RISK_CONTROL_FORBIDDEN:54003,NATIVE_PAYMENT_CANCEL:60006,WITHOUT_WE_CHAT_CLIENT:60100,QQ_PAY_FAILED:60120,ORDER_LIMITED_SALES_END:152004,ORDER_LIMITED_SALES_OUT:152006,PAY_LIMITED_SALES_END:47102,PAY_LIMITED_SALES_OUT:47003,SERVER_BUSY:4000004,ORDER_SPIKE_MSG_ERROR:4000006,WX_DIRECT_PAY_WX_BALANCE_ERROR:400001,WX_DIRECT_PAY_CARD_BALANCE_ERROR:400002,WX_DIRECT_PAY_TELEPHONE_ERROR:400003,WX_DIRECT_PAY_CARD_INVALID_ERROR:400004,WX_DIRECT_PAY_REFUSED_ERROR:400005,WX_DIRECT_PAY_UNKNOWN_ERROR:400099,ACT_GROUP_NOT_EXISTS:530001,ACT_GROUP_FAILED:530002,ACT_GROUP_SUCCESS:530003,ACT_RECORD_NOT_EXISTS:530004,PAY_CHANNEL_NOT_SUPPORT:530005,ACT_RECORD_PAID:530006,ACT_RECORD_REFUND:530007,ASSIST_FOR_ONE_DAILY_LIMIT:530011,ASSIST_FOR_ONE_LIMIT:530012,"1101_MSG":"手机网络繁忙，请稍后再试","30400_MSG":"没有安装QQ客户端","40000_MSG":"错误的请求地址或方法","40001_MSG":"登录已过期，请重新登录","40002_MSG":"手机网络繁忙，请稍后再试","40003_MSG":"错误的请求参数","40004_MSG":"微信登录失败","40005_MSG":"请求还在处理中","40006_MSG":"手机登录验证码错误","40015_MSG":"验证码重复请求","40016_MSG":"验证码超出当天限制","40017_MSG":"今日可发送次数已达上限","40018_MSG":"验证码填写错误","40019_MSG":"验证码填写超时","40020_MSG":"登录失败","40031_MSG":"微信登录失败!","40032_MSG":"QQ登录失败!","40033_MSG":"登录重试失败，请稍后再试","40100_MSG":"暂未开通该开放平台","41001_MSG":"商品不存在","41002_MSG":"商品已下架","41003_MSG":"商品已售罄","41004_MSG":"商品不在同一商店","41005_MSG":"该商品当前不在抽奖活动时间","41006_MSG":"商品不在可售区域","41101_MSG":"抽奖活动暂不支持单独购买","41102_MSG":"卡券可使用的时间已过期，请选购其他商品","42001_MSG":"拼单已满","42002_MSG":"该拼单不存在","42003_MSG":"拼单已过期","42004_MSG":"您购买此商品次数达到上限，去看看其他商品吧~","42005_MSG":"该商品开团数已达上限","42006_MSG":"拼单已满","42007_MSG":"此拼单已满，正在发起新拼单...","42501_MSG":"订单已成团，暂不支持修改收货地址，请与商家客服联系","42502_MSG":"该订单已拼单成功，请刷新页面","43001_MSG":"用户不存在","43002_MSG":"地址错误","43004_MSG":"身份证号不存在","43005_MSG":"姓名和身份证号不一致","43006_MSG":"对不起，您无法获取或更新身份证号","43007_MSG":"对不起，您已用完当前最大验证次数，请24小时后再试","43008_MSG":"姓名和身份证不匹配，请重新认证","43009_MSG":"您今日认证过于频繁，请明天再试","43010_MSG":"该地址已存在","43011_MSG":"该地址无法导入","43013_MSG":"一小时内不能重复提交","43015_MSG":"只允许微信用户够买","43016_MSG":"创建地址失败","43017_MSG":"最多只能添加100个收货地址哦~","43035_MSG":"系统维护中，暂时无法修改","43098_MSG":"您在店铺没有拼单成功记录，请勿发红包！拼多多不支持通过发红包购买商品！","43099_MSG":"该商品仅限新用户购买一件哦~","44001_MSG":"优惠券不存在","44002_MSG":"优惠券已使用","44003_MSG":"优惠券没有达到最小使用金额","44004_MSG":"优惠券已过期","44005_MSG":"优惠券不属于用户","44006_MSG":"优惠券已废弃","44007_MSG":"优惠券暂未到使用时间","44008_MSG":"优惠券不能在该分类使用","44010_MSG":"优惠券已经抢完了，下次早点来哦","44011_MSG":"您已经领过该优惠券","44012_MSG":"优惠券领取失败","44015_MSG":"不是团长不能使用团长免单优惠券","44016_MSG":"优惠券批次不存在","44020_MSG":"正在处理中，请稍后再试！","44026_MSG":"该券太火爆，全部已被领完","44027_MSG":"活动已结束！","44033_MSG":"优惠券使用失败","44035_MSG":"批次类型错误","44036_MSG":"团免券已被领完","44037_MSG":"用户已达团免券日领取上限","44038_MSG":"您已领取该券","44039_MSG":"未找到符合条件的团免券批次","44041_MSG":"领取失败","44042_MSG":"领取链接已失效，下次早点哦","44043_MSG":"不符合领取条件哦","44044_MSG":"该优惠券活动不存在","44045_MSG":"不在活动时间","44046_MSG":"只有无订单的新用户可领取哦","44047_MSG":"红包券数量不够","44061_MSG":"多件优惠活动结束","44063_MSG":"多件优惠已经享受过了","44064_MSG":"多件优惠活动暂未开始","44065_MSG":"多件优惠活动暂未开始","44066_MSG":"多件优惠活动结束","44067_MSG":"商家券和多件优惠活动不能同时使用","44072_MSG":"分享码已过期","44073_MSG":"免拼卡不足","44076_MSG":"不符合免拼卡的使用条件","44090_MSG":"商品活动未开始","44091_MSG":"商品活动已结束","44092_MSG":"商品活动不存在","44093_MSG":"活动商品已售罄","44095_MSG":"商品活动已结束","44096_MSG":"商品活动不存在","44097_MSG":"您购买的该活动商品数量已达上限","44098_MSG":"商品订单已创建","44099_MSG":"商品活动有误","44100_MSG":"您未获取抢购资格，不可购买该商品","44200_MSG":"已达红包使用数量上限","44201_MSG":"每满{0}元可用{1}个红包","45001_MSG":"订单不存在","45002_MSG":"订单不属于该用户","45003_MSG":"订单不能取消","45004_MSG":"订单商品不一致","45005_MSG":"订单已经收货","45006_MSG":"订单还未发货","45007_MSG":"海淘订单没有提交身份证","45008_MSG":"订单已支付","45009_MSG":"支付繁忙，请重试","45010_MSG":"订单正在支付中","45012_MSG":"手机充值号码为空","45013_MSG":"手机充值号码不支持","45014_MSG":"手机充值商品不存在","45015_MSG":"确认收货失败","45023_MSG":"正在处理您的退款/售后申诉，无法主动确认收货","45026_MSG":"超过购买商品限制","45030_MSG":"订单正在处理中，请刷新页面","45031_MSG":"单次购买金额不得高于9.5万元","45033_MSG":"超过每个手机号码购买次数限制","45034_MSG":"抱歉，秒杀尚未开始，请稍候","45035_MSG":"该商品为App新人专享秒杀，非首次下载App24小时内的用户无法发起拼单","45036_MSG":"每名用户只能购买一次哦","45037_MSG":"你的当前登录帐号有些风险哦，建议先直接去充值吧","45038_MSG":"包月套餐订单购买免密校验失败","45039_MSG":"包月套餐功能升级中，当前只支持微信帐号登录的用户哦","45040_MSG":"限购商品暂时无法购买哦～","45041_MSG":"本次活动期间已抢到过一张神券，不能再抢了~","45042_MSG":"手机网络繁忙，请稍后再试","45043_MSG":"该类型商品本次活动期间您已抢过，不能再抢了~","45044_MSG":"您好，该商品仅可购买一次哦~","45045_MSG":"该商品仅能在拼多多App中购买！","45046_MSG":"该商品仅允许微信登录用户购买！","45047_MSG":"超过该商品每次购买件数限制","45050_MSG":"您已经在本场下过单了，去看看其他商品吧~","45051_MSG":"已购买过此类优惠商品，看看其他商品吧","45052_MSG":"您最近购买此商品次数达到上限，去看看其他商品吧~","45053_MSG":"手机网络繁忙，请稍后再试","45054_MSG":"需验证码校验！","45055_MSG":"手机网络繁忙，请稍后再试","45104_MSG":"不是定金类型订单","45105_MSG":"订单已取消","45106_MSG":"订单已确认","45107_MSG":"定金未成团","45110_MSG":"未到尾款支付时间","45111_MSG":"超过尾款支付时间","45112_MSG":"未到定金支付时间","45113_MSG":"超过定金支付时间","45206_MSG":"创建订单存在风险","45207_MSG":"创建订单验证码非法","45208_MSG":"价格有变动，请返回上一页查看","45209_MSG":"请更换支付方式，花呗分期暂不可用","45210_MSG":"手机网络繁忙，请稍后再试","45301_MSG":"店铺补差价金额达到上限！","45320_MSG":"未获取活动资格！","45321_MSG":"该活动必须是微信APP用户参加！","45322_MSG":"该活动同一用户不可重复参加！","45323_MSG":"该活动同一设备不可重复参加！","45324_MSG":"该活动用户微信置信度较低！","45325_MSG":"非APP新用户","45326_MSG":"手机网络繁忙，请稍后再试","45327_MSG":"账户存在风险，无法下单","45402_MSG":"该商品秒杀活动已结束","45403_MSG":"该商品免单活动已结束","45404_MSG":"该商品买二送一活动已结束","45405_MSG":"该商品秒杀活动已结束","45406_MSG":"该活动已结束","45407_MSG":"该活动已结束","45412_MSG":"该商品多件优惠活动已结束","45413_MSG":"该商品限时免单活动已结","45416_MSG":"该商品优惠活动已结束","45417_MSG":"该活动已结束","45418_MSG":"该优惠商品已被抢空","45420_MSG":"该活动已结束","45422_MSG":"该活动已结束","45423_MSG":"该活动已结束","45424_MSG":"该包月活动已结束","45425_MSG":"您向商家补的差价已经超过上限","45428_MSG":"该商品属于活动商品，无法正常购买","45429_MSG":"该地区暂时无货","45450_MSG":"此海淘商品仅支持微信支付","45500_MSG":"商品信息和充值号码不匹配","45501_MSG":"新地址暂不支持，请重新选择","45511_MSG":"您不是专属用户，不能以特惠价开团哦~","45514_MSG":"库存不足","45515_MSG":"低于最低起售件数","45516_MSG":"该商品有更低价的优惠活动，请刷新购买","46001_MSG":"团订单不存在","46002_MSG":"无法重复参团","46012_MSG":"商品售罄，免拼失败，拼单到期后将退款","46013_MSG":"秒杀活动结束，免拼失败，拼单到期后将退款","46014_MSG":"插队拼单已满","47003_MSG":"限量件数已被抢光，请重新选购","47010_MSG":"折扣活动检查失败","47011_MSG":"限时折扣活动已经使用","47012_MSG":"限时折扣活动未开启","47013_MSG":"限时折扣活动未到开始时间","47014_MSG":"限时折扣活动已经结束","47015_MSG":"商家券和限时折扣活动不能同时使用","47030_MSG":"已经催过了，正在尽快发货","47031_MSG":"催发货请求异常，请稍后重试","47101_MSG":"支付失败，限时折扣活动已结束","47102_MSG":"支付失败，限量折扣活动已结束，请重新购买","48001_MSG":"图片格式错误","48002_MSG":"图片大小超过限制","49001_MSG":"商品不存在","50000_MSG":"当前访问人数较多，请稍后再试","50001_MSG":"今天票数已用完，明天再来吧","50002_MSG":"当前有未完成的团","54001_MSG":"该账户需要安全验证","54003_MSG":"该账户安全验证未通过，暂时无法登录","60000_MSG":"","60001_MSG":"该团已经结束","60002_MSG":"确认收货失败","60003_MSG":"参数错误","60004_MSG":"您已退款成功，无须确认收货","60005_MSG":"用户拒绝","60006_MSG":"用户取消","60007_MSG":"确认收货失败，请稍后重试","60100_MSG":"未安装微信客户端","60110_MSG":"未安装微博客户端","60120_MSG":"未安装手机QQ","60200_MSG":"录制失败","60201_MSG":"录音没有权限","60205_MSG":"录音时间过短","60210_MSG":"上传失败","60220_MSG":"播放失败","71001_MSG":"获取售后列表失败","71002_MSG":"申请售后失败","71003_MSG":"获取售后单详情失败","71004_MSG":"售后单添加售后信息失败","71005_MSG":"售后单修改失败","71006_MSG":"撤销售后失败","71007_MSG":"售后单用户确认发货失败","71008_MSG":"售后单重新申请失败","71009_MSG":"售后单申请平台介入失败","71010_MSG":"钱款去向查询失败","71011_MSG":"留言标记失败","71012_MSG":"售后用户待处理未读数量获取失败","71013_MSG":"售后未读留言数目获取失败","71014_MSG":"获取付款类型失败","71015_MSG":"获取售后原因失败","71016_MSG":"获取我要发货列表失败","71017_MSG":"获取是否使用平台优惠券失败","71018_MSG":"售后单用户确认完成失败","71019_MSG":"获取小额打款详情失败","71020_MSG":"填写账户信息失败","80001_MSG":"投票活动已结束","144073_MSG":"您没有免拼卡，请返回重新下单","144076_MSG":"不符合免拼卡的使用条件","144078_MSG":"请求失败，请重新发起支付","152001_MSG":"限量折扣活动已经使用","152002_MSG":"限量折扣活动未开启","152003_MSG":"限量折扣活动未到开始时间","152004_MSG":"限量折扣活动已经结束","152005_MSG":"商家券和限量折扣活动不能同时使用","152006_MSG":"限量件数已被抢光，请重新选购","152010_MSG":"已达到该商品活动期内的最多购买件数，不能再抢了～","400001_MSG":"微信零钱不足，且未绑定银行卡，请绑定银行卡再试，或邀请好友代付","400002_MSG":"银行卡余额不足，请绑定其他银行卡再试，或邀请好友代付","400003_MSG":"银行卡预留手机号不符，请核对后再试，或邀请好友代付","400004_MSG":"银行卡已失效，请核对后再试，或邀请好友代付","400005_MSG":"银行拒绝交易，请核对后再试，或邀请好友代付","400099_MSG":"支付未完成，请更换支付方式","450130_MSG":"商品信息和充值号码不匹配","450131_MSG":"该商品每个号码每月限充一次","530001_MSG":"团不存在","530002_MSG":"团已失效","530003_MSG":"团已满","530004_MSG":"助力单不存在","530005_MSG":"不支持该支付方式","530006_MSG":"助力单已支付","530007_MSG":"助力单已退款","530008_MSG":"不在活动时间","530009_MSG":"您已经拿过该商品了，不要贪心哦","530010_MSG":"已达到今日帮忙付款次数上限，明日再来吧","530011_MSG":"已达到今日帮助该好友次数上限，明日再来吧~","530012_MSG":"已经达到帮助该好友支付次数上限，赶紧去帮助其他人吧~","530013_MSG":"不符合免费帮忙条件","530014_MSG":"您不是拼多多App新人，不能开团哦","3000001_MSG":"充值失败，请稍后重试","3000002_MSG":"话费充值失败，请稍后重试","3000003_MSG":"话费充值下单失败，请稍后重试","4000004_MSG":"手机网络繁忙，请稍后再试","4000005_MSG":"手机网络繁忙，请稍后再试","4000006_MSG":"","12960005_MSG":"商品不存在","12960006_MSG":"活动未开始","12960007_MSG":"商品已售罄","12960008_MSG":"拼单人数已满","12960009_MSG":"只有App新人才能参团哦","12960010_MSG":"帐号信息异常","12960012_MSG":"该商品一次只能购买1件哦","12960014_MSG":"请使用微信登录再下单","12960016_MSG":"你已经开过团了，请勿重复开团","12960017_MSG":"今日开团次数已用完，明天再来吧","12960018_MSG":"今日参团次数已用完，明天再来吧","12960019_MSG":"该商品你今日已经参过团了","20504005_MSG":"手机网络繁忙，请稍后再试","20504101_MSG":"团订单不存在"},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n["".concat(e,"_MSG")]||t}},3287:function(e,t,r){"use strict";r.d(t,{j:function(){return v}});var n,i,o,a=r(3877),s=r(5118),c=r(8796),u=r(8309),p=r(9348),f=r(3736),l=r(7883),h=r.n(l),d=(r(6253),r(851),r(5115),r(4882),r(9115),r(6997),r(1181),r(9371),r(3276),r(2188)),m=r(9704),g=r(1385),_=r(3402),v=(n=function(){function e(){(0,u.Z)(this,e),this.$axiosHttp=null,this.errorRedirectUrl="/",(0,c.Z)(this,"isServerRendered",i,this),(0,c.Z)(this,"isFinishInitLoading",o,this)}var t,r,n;return(0,p.Z)(e,[{key:"finishServerRender",value:function(){this.finishInitLoading(),this.isServerRendered=!0}},{key:"finishInitLoading",value:function(){this.isFinishInitLoading=!0}},{key:"prepareClientData",value:function(){}},{key:"dealError",value:function(e){return e.handled?(console.warn("该异常已经被dealError处理过了"),Promise.reject(e)):(e.errorCode=e.errorCode||"unknown",e.redirectUrl=this.errorRedirectUrl,e.alertText=(0,m.f)(e.errorCode),e.handled=!0,Promise.reject(e))}},{key:"initDataCallback",value:function(e){this.initServices(this.$axiosHttp);var t=this.getDatasource();return this.loadDatasource(t,e)}},{key:"initClientData",value:(n=(0,s.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.initAxiosHttp({pageInfo:t}),e.next=4,this.initDataCallback((0,g.Y)());case 4:this.prepareClientData(),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",this.dealError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return n.apply(this,arguments)})},{key:"initServerData",value:(r=(0,s.Z)(h().mark((function e(t,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.initAxiosHttp({req:t.__req,res:t.__res,accessToken:r}),e.next=4,this.initDataCallback(t);case 4:this.finishServerRender(),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",this.dealError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,t){return r.apply(this,arguments)})},{key:"fromJS",value:function(e,t){e&&e.isServerRendered&&(Object.assign(this,e),this.initAxiosHttp({pageInfo:t}),this.initServices(this.$axiosHttp))}},{key:"loadDatasource",value:(t=(0,s.Z)(h().mark((function e(t,r){var n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=2;break}return e.abrupt("return",t.reduce((function(e,t){return e.then((function(){return y(t,r,n)}))}),Promise.resolve()));case 2:return e.abrupt("return",y(t,r,this));case 3:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"getDatasource",value:function(){return[]}},{key:"initServices",value:function(e){}},{key:"initAxiosHttp",value:function(e){e.req,e.res,e.accessToken;var t={pageInfo:e.pageInfo};this.$axiosHttp=(0,_.e)(t)}},{key:"toJSON",value:function(){return(0,d.ZN)(this)}}]),e}(),i=(0,f.Z)(n.prototype,"isServerRendered",[d.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=(0,f.Z)(n.prototype,"isFinishInitLoading",[d.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,f.Z)(n.prototype,"finishServerRender",[d.aD],Object.getOwnPropertyDescriptor(n.prototype,"finishServerRender"),n.prototype),(0,f.Z)(n.prototype,"finishInitLoading",[d.aD],Object.getOwnPropertyDescriptor(n.prototype,"finishInitLoading"),n.prototype),(0,f.Z)(n.prototype,"prepareClientData",[d.aD],Object.getOwnPropertyDescriptor(n.prototype,"prepareClientData"),n.prototype),(0,f.Z)(n.prototype,"initDataCallback",[d.aD],Object.getOwnPropertyDescriptor(n.prototype,"initDataCallback"),n.prototype),(0,f.Z)(n.prototype,"initClientData",[d.aD],Object.getOwnPropertyDescriptor(n.prototype,"initClientData"),n.prototype),(0,f.Z)(n.prototype,"initServerData",[d.aD],Object.getOwnPropertyDescriptor(n.prototype,"initServerData"),n.prototype),(0,f.Z)(n.prototype,"fromJS",[d.aD],Object.getOwnPropertyDescriptor(n.prototype,"fromJS"),n.prototype),(0,f.Z)(n.prototype,"loadDatasource",[d.aD],Object.getOwnPropertyDescriptor(n.prototype,"loadDatasource"),n.prototype),n);function y(e,t,r){return S.apply(this,arguments)}function S(){return S=(0,s.Z)(h().mark((function e(t,r,n){var i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t){e.next=6;break}return e.next=3,t(r,n);case 3:return i=e.sent,(0,d.z)((function(){return Object.assign(n,i)})),e.abrupt("return");case 6:return e.abrupt("return",Promise.all(Object.entries(t).map(function(){var e=(0,s.Z)(h().mark((function e(t){var i,o,s,c,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,a.Z)(t,2),o=i[0],"function"==typeof(s=i[1])&&(s={dump:!1,loader:s}),c=s.loader,e.next=5,Promise.resolve(c(r,n));case 5:u=e.sent,(0,d.z)((function(){s.dump?Object.assign(n,u):n[o]=u}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 7:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}},343:function(e,t,r){"use strict";r.d(t,{C:function(){return c},k:function(){return u}});var n;r(6253),r(851);var i=function(){return n=new Promise((function(e){var t=document.createElement("img");t.onload=t.onerror=function(){return e(!(!t.height||!t.width))},t.src="data:image/webp;base64,UklGRlAAAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSBIAAAABBxAR/Q8ABOH/3EFE/1MDAABWUDggGAAAADABAJ0BKhAAEAACACYlpAADcAD+/PQAAA=="}))};var o=r(7097),a="webp",s={maxAge:2592e3};function c(){return(n||i()).then((function(e){return e&&(0,o.d8)(a,"1",s)}))}function u(e){return"1"===e.webp}},1385:function(e,t,r){"use strict";r.d(t,{Y:function(){return u}});r(6142);var n,i=r(4649),o=r(7097),a=r(4711),s=r(3644),c=r(343);function u(){return{get pathname(){return location.pathname},get query(){return(0,i.mB)(location.search)},get userAgent(){return navigator.userAgent},get hostname(){return location.hostname},get cookies(){return(0,o.ej)()},get platform(){return(0,a.Xf)(navigator.userAgent)},get isSupportWebp(){return void 0===n&&(n=(0,c.k)(this.cookies)),n},get userInfo(){var e=(0,s._T)();return e.accessToken?e:null}}}},3402:function(e,t,r){"use strict";r.d(t,{e:function(){return et}});r(7476),r(5767),r(8837),r(4882),r(8351);var n=r(8482),i=(r(9371),r(9359)),o=r.n(i),a=function(e,t){return t.map((function(t){return{request:e.interceptors.request.use(t.request,t.requestError),response:e.interceptors.response.use(t.response,t.responseError)}}))},s=r(4711),c=r(2202),u=(r(6253),r(851),r(9977),r(1923)),p=r.n(u),f=r(9689),l=r.n(f),h=r(8645),d=r.n(h),m=r(9807),g=r.n(m);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=(0,s.Xf)(window.navigator.userAgent).version,S=(0,c.yC)(y,"4.69.0")>=0,E=(0,c.yC)(y,"5.24.0")>=0;function O(e){return new Promise((function(t,r){var n="post"===e.method&&e.data?e.data:"",i=d()(e.baseURL,e.url),o={method:e.method.toUpperCase(),url:l()(i,e.params,e.paramsSerializer),headers:v(v({},e.headers),{},{Referer:location.href,"p-mode":"1"}),data:n};S&&(o.force_anti_token=!!e.useNativeAntiToken);var a=e.clientTimeout;E&&a&&(o.timeout=a),o.encode_resp=!!e.encodeNativeResponse;var s={nativeParams:o,config:e};function u(e){return e.headers&&e.headers.AccessToken&&(e.headers.AccessToken=e.headers.AccessToken.length),e}g().callNative("JSNetwork","request",o,(function(n){var i=n.status,o=n.response,a=n.response_encoded,c=void 0===a||a,u={data:null,status:i,statusText:""+i,config:e,headers:{},request:s};try{u.data=JSON.parse(c?decodeURIComponent(o):o)}catch(e){0,u.data={error_msg:e.message,error_code:0}}p()(t,r,u)}),(function(t,n){var i=new Error("native request error: ".concat(n));i.errorCode=n,i.nativeErrorCode=n,i.request=s,i.errorType="api_error_app",i.config=e,i.toJSON=function(){return{message:this.message,nativeParams:u(this.request.nativeParams),config:u(this.config),errorCode:this.errorCode,nativeErrorCode:this.nativeErrorCode}},(0,c.yC)(y,"4.0.0")>0&&g().callNative("JSLogger","log",{module:"h5-isomorphic-request",message:e.url+" failed, "+JSON.stringify(u(o)),level:4});r(i)}))}))}var w=r(520),P=r.n(w);function I(e){var t=e.clientTimeout,r=e.timeout;return e.timeout="number"==typeof t?t:r,P()(e).catch((function(t){throw t.config=t.config||e,t}))}r(2850),r(2773);var b=function(e){return e.includes("hutaojie")},A=r(5118),C=r(7883),T=r.n(C),R=(r(6142),r(7097)),k=r(4649),D=r(109),M=r(9704),Z=r(3644),N=r(506);var L=r(4974),x=r(344),j=r(7401),U=r(96),W=r(4184),G=r.n(W),H=r(3262),Q=r(4447),B=r.n(Q),q=["className"];var F=(0,H.Z)(B())((function(e){var t=e.className,r=(0,L.Z)(e,q);return j.createElement("div",(0,x.Z)({},r,{className:G()(B().root,t),role:"alert"}))})),V=r(2402),K=r.n(V),z=["className"];var Y=(0,H.Z)(K())((function(e){var t=e.className,r=(0,L.Z)(e,z);return j.createElement("div",(0,x.Z)({},r,{className:G()(K().root,t)}))})),J=(r(2139),r(8309)),X=r(9348),$=r(5558),ee=r(1074),te=r(1269),re=r(2674);function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,te.Z)(e);if(t){var i=(0,te.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,ee.Z)(this,r)}}var ie=function(e){(0,$.Z)(r,e);var t=ne(r);function r(e){var n;return(0,J.Z)(this,r),(n=t.call(this,e)).el=document.createElement("div"),n}return(0,X.Z)(r,[{key:"container",get:function(){return this.props.getContainer&&this.props.getContainer()||document.body}},{key:"componentDidMount",value:function(){this.container.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.container.removeChild(this.el)}},{key:"render",value:function(){return re.createPortal(this.props.children,this.el)}}]),r}(j.PureComponent);function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,te.Z)(e);if(t){var i=(0,te.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,ee.Z)(this,r)}}var ae=function(e){(0,$.Z)(r,e);var t=oe(r);function r(){return(0,J.Z)(this,r),t.apply(this,arguments)}return(0,X.Z)(r,[{key:"componentDidMount",value:function(){var e=this;this.timeoutId=setTimeout((function(){e.props.onTimeout&&e.props.onTimeout(),e.timeoutId=0}),1e3*this.props.duration)}},{key:"componentWillUnmount",value:function(){this.timeoutId&&clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.PortalComponent,n=e.PortalComponentProps;return r?j.createElement(r,n,t):t}}]),r}(j.PureComponent);function se(e){var t=e.style,r=e.className,n=e.children,i=e.duration,o=e.onTimeout,a=e.ControllerProps,s=e.ContainerProps,c=e.BaseToastProps;return j.createElement(ae,(0,x.Z)({duration:i,onTimeout:o},a),j.createElement(Y,s,j.createElement(F,(0,x.Z)({style:t,className:r},c),n)))}ae.defaultProps={duration:2,PortalComponent:ie},se.Controller=ae,se.Container=Y,se.BaseToast=F;var ce,ue=["onTimeout"];var pe=null;function fe(){(0,U.Z)(pe,ce||(ce=document.createElement("div"),document.body.appendChild(ce),ce))}function le(e){var t=e.onTimeout,r=(0,L.Z)(e,ue);pe=j.createElement(se,(0,x.Z)({},r,{key:"".concat(Math.ceil(Math.random()*Date.now())),onTimeout:function(){return e=t,pe=null,fe(),void(e&&e());var e},ControllerProps:{PortalComponent:null}})),fe()}var he=["onClose"];function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onClose,n=(0,L.Z)(t,he);e&&le(me({onTimeout:r,children:e},n))}var _e=r(2691);function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var r="number"==typeof t.type?t.type:1;(0,_e.Q6)("JSAlert","toast",{message:e,type:r}).then((function(){setTimeout((function(){t.onClose&&t.onClose()}),2e3)})).catch((function(){ge(e,t)}))}}function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e){return 2===e&&((t=(0,s.zT)()).platform===c.iw.PddIOS?(0,c.yC)(t.version,"5.52.0")>=0:t.platform===c.iw.PddAndroid&&(0,c.yC)(t.version,"4.75.0")>=0);var t}var Oe,we=r(7044),Pe=r(5493),Ie=b(location.href),be=(Oe={},(0,n.Z)(Oe,c.iw.PddAndroid,"6"),(0,n.Z)(Oe,c.iw.PddIOS,"5"),(0,n.Z)(Oe,c.iw.PDDTinyAndorid,"10"),(0,n.Z)(Oe,c.iw.WeChat,"11"),(0,n.Z)(Oe,c.iw.Weibo,"12"),(0,n.Z)(Oe,c.iw.WxApp,"15"),(0,n.Z)(Oe,c.iw.QQ,"13"),(0,n.Z)(Oe,c.iw.QQApp,"14"),(0,n.Z)(Oe,"LITE","9"),Oe),Ae=Ie?"49":"138",Ce="pinduoduo";var Te,Re,ke="pdd_user_id",De=(Te="/api/ajax",Re=Ie?"cmtw.hutaojie.com":window.__CMT_HOST__||"cmtw.pinduoduo.com","https://".concat(Re).concat(Te)),Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={1:1,2:.5,4:.25,5:.2,10:.1},r=1,n=1;if(window.__CMT_AMPLIFY_RATE__){var i=window.__CMT_AMPLIFY_RATE__;t[i]?(r=+i,n=t[i]):(0,D.K2)(new Error,{error_message:"cmt放大倍数".concat(i,"不合法支持1,2,4,5,10")})}if(!(Math.random()>n)){var o=e.requestTime,a=e.resTimeConsume,s=e.reqData,c=e.resData,u=e.apiUrl,p=e.statusCode,f=e.pageId,l=0,h=0;s&&(l=JSON.stringify(s).length),c&&(h=JSON.stringify(c).length);var d=Math.pow(10,5)+Math.floor(Math.random()*(Math.pow(10,6)-Math.pow(10,5))),m=function(e){var t={v:1,t:o,r:d,c:(0,we.k)(o+"-"+d),d:{t:Date.now(),tu:u,n:e,c:p,r:r,rt:a,q:l,p:h,e:{uid:(0,R.ej)(ke),page_id:f,model:navigator.userAgent}}},n=new XMLHttpRequest;n.open("POST",De,!0),n.withCredentials=!0,n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n.onerror=n.ontimeout=n.onabort=function(){throw new Error("Network request failed")},n.send(JSON.stringify(t))};(0,Pe.R)().then(m)}};r(1876),r(1784);function Ze(e){return e?+e.split(".").map((function(e){return e.padStart(2,"0")})).join(""):0}function Ne(e,t){if((0,s.zT)().isNativePlatform)(0,_e.Q6)("JSNetwork","request",{url:e,method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"application/json;charset=UTF-8"}});else{var r=new XMLHttpRequest;r.open("POST",e,!0),r.withCredentials=!0,r.send(JSON.stringify(t))}}function Le(){return(0,s.zT)().isLiteNativePlatform?be.LITE:be[(0,s.zT)().platform]||"-1"}function xe(e){return je.apply(this,arguments)}function je(){return je=(0,A.Z)(T().mark((function e(t){var r,n,i,o,a=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=Math.pow(10,5)+Math.floor(Math.random()*(Math.pow(10,6)-Math.pow(10,5))),i=Date.now(),o=String(r.appId||Ae),e.t0=Ze((0,s.zT)().version),e.t1=i,e.t2=n,e.t3=(0,we.k)(i+"-"+n),e.t4=r.bizSide||Ce,e.t5=o,e.next=12,(0,Z.sq)();case 12:if(e.t6=e.sent,e.t6){e.next=15;break}e.t6="0";case 15:return e.t7=e.t6,e.t8=o,e.t9=Le(),e.t10=Le(),e.t11=r.reportPath||location.pathname,e.t12={uid:e.t7,runningAppId:e.t8,runningPlatform:e.t9,p:e.t10,pagePath:e.t11},e.t13=t,e.abrupt("return",{version:e.t0,report_time_ms:e.t1,rand_num:e.t2,crc32:e.t3,biz_side:e.t4,app:e.t5,common_tags:e.t12,datas:e.t13});case 23:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}function Ue(){return Ue=(0,A.Z)(T().mark((function e(){var t,r,n,i,o=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:[],r=o.length>1?o[1]:void 0,n=o.length>2?o[2]:void 0,e.next=5,xe(t,n);case 5:return i=e.sent,e.abrupt("return",Ne(r,i));case 7:case"end":return e.stop()}}),e)}))),Ue.apply(this,arguments)}function We(e,t){var r=e.method,n=e.requestTime,i=e.resTimeConsume,o=e.reqData,a=e.resData,s=e.apiUrl,c=e.statusCode,u=e.pageId,p=o?JSON.stringify(o).length:0,f=a?JSON.stringify(a).length:0;return(0,Pe.R)().then((function(e){return function(){return Ue.apply(this,arguments)}([{category:1,type:100,id_raw_value:s.split("?")[0],timestamp:n,tags:{network:String(e),code:String(c),method:r?r.toUpperCase():"POST"},lvalues:{rspT:{values:[i]},reqP:{values:[p]},rspP:{values:[f]}},extras:{srcPageId:u},api_ratio:1}],function(e){var t=Ie?"pmmtk.hutaojie.com":window.__PMM_HOST__||"pmmtk-a.pinduoduo.com";return"https://".concat(t,"/").concat(e)}("api/pmm/api"),t)}))}function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qe,Be,qe,Fe,Ve,Ke=(Qe=(0,s.zT)(),Be=Qe.platform,qe=Qe.version,Fe=Be===c.iw.PddIOS&&(0,c.yC)(qe,"4.45.0")>=0,Ve=Be===c.iw.PddAndroid&&(0,c.yC)(qe,"4.40.0")>=0,Fe||Ve),ze=function(e){var t=(0,s.zT)().isNativePlatform,r=function(r){var n=r.response,i=r.config;var o={sub_op:"api_error",url:i.method+":"+i.url,error_code:r.errorCode,error_message:r.message,error_type:r.errorType,params:JSON.stringify({params:i.params,data:i.data})};if(!n)throw o.errorCode=o.errorCode||0,(0,D.K2)(r,o),r;var a=n.status,s=n.statusText,c=n.data||{error_code:0};if(r.errorCode=r.errorCode||c.error_code,o.http_code=a,o.statusText=s,o.resData=n.data,(0,D.K2)(r,o),!t){var u={requestTime:i.requestTime,resTimeConsume:Date.now()-i.requestTime,reqData:{params:i.params,data:i.data},resData:n.data,apiUrl:l()(d()(i.baseURL,i.url),i.params,i.paramsSerializer),statusCode:parseInt(c.error_code,10)||a,errorCode:c.error_code,pageId:e.pageId};Me(u),We(He(He({},u),{},{method:i.method}))}throw r};return t?{responseError:r}:{request:function(e){return e.requestTime=Date.now(),e},response:function(t){var r=t.data,n=t.config;n.resTimeConsume=Date.now()-t.config.requestTime;var i={requestTime:n.requestTime,resTimeConsume:n.resTimeConsume,reqData:{params:n.params,data:n.data},resData:r,apiUrl:l()(d()(n.baseURL,n.url),n.params,n.paramsSerializer),statusCode:200,pageId:e.pageId};return Me(i),We(He(He({},i),{},{method:n.method})),t},responseError:r}},Ye=!1,Je=function(){return{responseError:function(e){var t=parseInt(e.errorCode,10),r=(0,s.zT)().isNativePlatform;switch(t){case M.R.AUTHENTICATION_FAILED:Ye||(Ye=!0,(0,Z.x4)({silent:!1}).then((function(){r&&N.ZP.reload()})).catch((function(e){throw Ye=!1,r&&N.ZP.back(),e})));break;case 54001:!function(e){if(Ke)return;var t=e.verify_auth_token;localStorage.setItem("VerifyAuthToken",t),N.ZP.uniformForward("/psnl_verification.html?".concat((0,k.XP)({VerifyAuthToken:t,from:location.href})))}(e.response.data||{});break;default:e.config&&e.config.defaultErrorHandler?e.config.defaultErrorHandler(e):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Se(Se({},t),{},{duration:t.duration||2});Ee(r.duration)?ve(e,r):ge(e,r)}((0,M.f)(t))}throw e}}};function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){e=e||"csr.pddpic.com"===location.hostname;var t=(0,c.BF)()?"https:":location.protocol,r=b(location.href)?t+"//apiv2.hutaojie.com/":"https://api.pinduoduo.com/",n=location.protocol+"//"+location.host+"/proxy/api/";return e?r:n}var et=function(e,t){var r,i=e.pageInfo,u=e.useGlbDomain,p=(0,s.zT)(),f=p.isNativePlatform,l=p.isTinyNativePlatform,h=f||l,d=function(e){var t=o().create(e);return{http:t,usePlugins:function(e){return a(t,e)}}}(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({baseURL:$e(u||h),withCredentials:!0,adapter:h?O:I,headers:{}},t)),m=d.http,g=d.usePlugins,_=[{response:function(e){var t=e.data,r=e.config,n=e.request;if(t&&t.error_code&&!0!==t.success){var i=t.error_msg||"unknown biz error",o=new Error(i);throw o.errorType="api_biz_error",o.errorCode=t.error_code,o.config=r,o.request=n,o.response=e,o}return e},responseError:function(e){if(!e.response)throw e.errorType="api_http_error",e;var t=e.response.data;throw t&&t.error_code&&(e.message=t.error_msg||e.message,e.errorCode=t.error_code,e.errorType="api_biz_error"),e}},ze(i),{request:(r=(0,A.Z)(T().mark((function e(t){var r,n,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.headers,"post"===t.method&&(r["Content-Type"]="application/json;charset=UTF-8"),e.next=4,(0,Z.hP)();case 4:return(n=e.sent)&&(r.AccessToken=n),(i=Ke?null:localStorage.getItem("VerifyAuthToken"))&&(r.VerifyAuthToken=i),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{request:function(e){return((0,c.BF)()?(0,_e.bG)().then((function(e){return e.user_id})).catch((function(){return 0})):Promise.resolve(0)).then((function(t){return e.params=He({pdduid:t||parseInt((0,R.ej)("pdd_user_id"),10)||0,is_back:"1"===(0,k.mB)(window.location.search).is_back?"1":null},e.params),e}))}},Je(),{response:function(e){return e.config.useRawResponse?e:e.data}}];return g(_),m}},1172:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(344),i=r(3877),o=r(4974),a=r(7401),s=r(9521),c=r(3100),u=["rootMargin","rootRef","children"];function p(e){var t=e.rootMargin,r=e.rootRef,p=e.children,f=(0,o.Z)(e,u),l=(0,a.useState)(null),h=(0,i.Z)(l,2),d=h[0],m=h[1],g=void 0===r,_=g?(0,a.useRef)(null):r;(0,a.useEffect)((function(){var e={thresholds:t};_&&(e.container=_.current);var r=new s.Z(e);return m(r),function(){return r.destroy()}}),[]);var v=(0,a.useMemo)((function(){return{lazyLoader:d}}),[d]);return a.createElement(c.Z.Provider,{value:v},g?a.createElement("div",(0,n.Z)({ref:_},f),p):p)}p.defaultProps={rootMargin:"300px",thresholds:"300px"}},3100:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n,i=r(7401),o=r(9521),a=i.createContext({get lazyLoader(){return n||(n=new o.Z),n}})},9521:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});r(7476),r(5767),r(8837),r(4882),r(8351);var n=r(5118),i=r(8482),o=r(8309),a=r(9348),s=r(7883),c=r.n(s),u=(r(1466),r(2249)),p=r(4272),f=r(5652),l=r(407),h=r(477),d=r(109);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e){return parseInt(e.dataset.retryCount,10)||0}r(4964);var v=/\/\/([\w+.-]+)\//;function y(e,t){var r=e.src,n=function(e){var t=_(e);return t?"lazy_image_error_retry_".concat(t):"lazy_image_error"}(e),i=(r.match(v)||[])[1]||"",o=new Error(n);(0,d.K2)(o,{payload:{src:r,host:i,useImageSdk:t},error_msg:n})}var S=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,e);var a,s=r(2732),p=g(g({},u.L),{},{thresholds:i.thresholds||u.L.thresholds,callback_error:(a=(0,n.Z)(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Z)();case 2:n=e.sent,y(r,n),n||t._retry(r);case 5:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})});i.container&&(p.container=i.container),this._lazyLoad=new s(p,[])}return(0,a.Z)(e,[{key:"start",value:function(e){var t=e.el,r=e.src;this._start({el:t,src:r,retryCount:0})}},{key:"destroy",value:function(){var e;this._lazyLoad&&((e=this._lazyLoad)._observer&&(e._elements.forEach((function(t){e._observer.unobserve(t)})),e._observer=null))}},{key:"_start",value:function(e){var t=e.el,r=e.src,n=e.retryCount;!function(e){e.classList.remove("error"),e.removeAttribute("data-was-processed")}(t),t.dataset.src=r,t.dataset.retryCount=n,this._lazyLoad&&this._lazyLoad.update([t])}},{key:"_retry",value:function(e){var t=this;if((0,l.Z)(e.src)){var r=_(e);r>=(0,p.Z)().getRetryLimit()||setTimeout((function(){t._start({el:e,src:(0,h.Z)(e.src,r),retryCount:r+1})}),400*r)}}}]),e}()},2249:function(e,t,r){"use strict";r.d(t,{E:function(){return n},L:function(){return i}});var n={IMAGE:"pdd-lazy-image"},i={thresholds:"100px"}},8382:function(e,t,r){"use strict";r.d(t,{Z:function(){return Y}});r(7476),r(5767),r(8837),r(4882),r(8351);var n=r(344),i=r(8482),o=r(4974),a=r(7401),s=(r(2139),r(8309)),c=r(9348),u=r(5558),p=r(1074),f=r(1269),l=r(5118),h=r(7883),d=r.n(h),m=r(4272);r(110),r(6253),r(6108);function g(e){var t=document.createElement("a");return t.href=e,t}var _,v=r(7488),y=r(407),S=function(){function e(t){(0,s.Z)(this,e),this._config=t}return(0,c.Z)(e,[{key:"_getBackupDomain",value:function(e,t){var r=this._config.getBackupDomainConfig(e),n=Object.keys(r),i=parseInt(+t.slice(-4),10);return n.length>1&&i>=0&&(0,v.Z)(r,i)||e}},{key:"getInitialUrl",value:function(e,t){if(!e)return"";if(!(0,y.Z)(e))return e;if(!(t=""+t))return e;var r=g(e);return r.host=this._getBackupDomain(r.host,t),r.toString()}}]),e}();function E(e,t){return _||(_=new S((0,m.Z)())),_.getInitialUrl(e,t)}var O=r(3644),w=r(109),P=r(2249),I=r(3100),b=(r(4316),["src","className"]);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,p.Z)(this,r)}}function C(e){return T.apply(this,arguments)}function T(){return(T=(0,l.Z)(d().mark((function e(t){var r,n,i,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.prev=1,e.next=4,(0,O.sq)();case 4:n=e.sent,r=E(t,n),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),i="lazy_image_error: 兜底域名替换失败",o=new Error(i),(0,w.K2)(o,{payload:{src:t,uid:n},error_msg:i});case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var R=function(e){(0,u.Z)(i,e);var t,r=A(i);function i(){var e;(0,s.Z)(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))).myRef=a.createRef(),e}return(0,c.Z)(i,[{key:"componentDidMount",value:function(){this._startLazyLoad()}},{key:"componentDidUpdate",value:function(){this._startLazyLoad()}},{key:"_startLazyLoad",value:(t=(0,l.Z)(d().mark((function e(){var t,r,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.src,this._lastSrc!==t){e.next=3;break}return e.abrupt("return");case 3:if(!this.context||!this.context.lazyLoader){e.next=12;break}return this._lastSrc=t,e.next=7,C(t);case 7:if(r=e.sent,n=this.myRef.current){e.next=11;break}return e.abrupt("return");case 11:this.context.lazyLoader.start({el:n,src:r});case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=(e.src,e.className),r=void 0===t?"":t,i=(0,o.Z)(e,b);return a.createElement("img",(0,n.Z)({ref:this.myRef},i,{className:"".concat(P.E.IMAGE," ").concat(r)}))}}]),i}(a.Component);R.contextType=I.Z;var k=r(5629);r(851);function D(e,t){e.dataset.cuiRetryCount=t}function M(e){return parseInt(e.dataset.cuiRetryCount)||0}var Z=r(2976);function N(e,t){var r,n,i=e.getAttribute("src");if(i){var o=M(e);r=o?"cui_image_error_retry_".concat(o):"cui_image_error",n=g(i).host}else r="cui_image_error_empty_src";(0,Z.Z)({errorMsg:r,payload:{src:i,host:n,useImageSdk:t}})}var L,x=r(5652),j=function(e){return e.complete&&0===e.naturalHeight},U=function(e){return D(e,0)},W=function(){var e=(0,l.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){function e(t){var r=t.config,n=t.getFallbackUrl,i=t.retryDurationUnit;(0,s.Z)(this,e),this._config=r,this._getFallbackUrl=n,this._retryDurationUnit=i||400}var t;return(0,c.Z)(e,[{key:"handleLoadError",value:function(e){var t=this;return this._handleError=(0,l.Z)(d().mark((function r(){var n;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,x.Z)();case 2:if(n=r.sent,N(e,n),n){r.next=10;break}if(!e.getAttribute("src")){r.next=10;break}if((0,y.Z)(e.src)){r.next=8;break}return r.abrupt("return");case 8:return r.next=10,t._retry(e);case 10:case"end":return r.stop()}}),r)}))),this._handleLoad=function(){U(e)},e.addEventListener("error",this._handleError),e.addEventListener("load",this._handleLoad),j(e)&&this._handleError(e),function(){e.removeEventListener("error",t._handleError),e.removeEventListener("load",t._handleLoad)}}},{key:"_loadFallbackUrl",value:function(e){if(j(e)){var t=M(e);e.src=this._getFallbackUrl(e.src,t),D(e,t+1)}}},{key:"_retry",value:(t=(0,l.Z)(d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=M(t))>=this._config.getRetryLimit())){e.next=4;break}return U(t),e.abrupt("return");case 4:return e.next=6,W(r*this._retryDurationUnit);case 6:this._loadFallbackUrl(t);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),H=r(477);var Q=a.createContext({});var B=["src"];function q(e){var t=e.src,r=(0,o.Z)(e,B);(0,a.useEffect)((function(){var e,t=(e=i.current,L||(L=new G({config:(0,m.Z)(),getFallbackUrl:H.Z})),L.handleLoadError(e));return function(){return t()}}),[]);var i=(0,a.useRef)(null),s=(0,a.useContext)(Q).getInitialUrl,c=s?function(e,t){var r;try{r=t(e)}catch(t){(0,Z.Z)({errorMsg:"cui-image: 替换备用域名失败",payload:{src:e},error:t}),r=e}return r}(t,s):t;return a.createElement("img",(0,n.Z)({ref:i,src:c},r))}var F=["lazy","src","processParam"];function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var z={resizeWidth:1300,quality:80,strip:!0};function Y(e){var t=e.lazy,r=e.src,i=e.processParam,s=(0,o.Z)(e,F),c=K(K({},z),i),u=t?R:q;return a.createElement(u,(0,n.Z)({},s,{src:(0,k.FT)(r,c)}))}Y.defaultProps={lazy:!0}},6661:function(e,t,r){"use strict";r.d(t,{lV:function(){return te}});r(9371);var n=r(9385),i=(r(7732),r(7476),r(6142),r(9357),r(1466),r(6253),r(6108),r(110),r(6997),r(1181),r(851),r(8837),r(6333)),o=r(4711),a=r(2202),s=r(1403),c=r(7044),u=r(7097),p=r(4649),f=r(2691),l={TrackingChannels:["src","from","campaign","cid","msgid"],TrackingEvent:{OpenAddress:"open_address",SkipAppGroup:"skip_app_group",AlertAppDownload:{Show:"a_a_d_s",Download:"a_a_d_d",Close:"a_a_d_c"}},ReferPageKeys:["refer_page_name","refer_page_section","refer_page_element","refer_page_id"],ReferShareKeys:["refer_share_id","refer_share_uid","refer_share_channel","refer_share_form"],ReferShareMapShort:{_sid:"refer_share_id",_suid:"refer_share_uid",_sc:"refer_share_channel",_sf:"refer_share_form"}},h=r(9480),d=r(8630),m=r.n(d),g=r(3560),_=r.n(g),v=r(1469),y=r.n(v),S=r(8583),E=r.n(S),O=r(2492),w=r.n(O),P=h.ZP.getInstance(),I=i.Z.constant,b=function(){return[Date.now(),(0,s.x)(16)].join("")},A=function(e,t,r){var n=t.substr(0,28),i=t.substr(28);V[r]||(V[r]=1);var o=(0,c.k)("".concat(e).concat(r).concat(i).concat(V[r])),a="".concat(n,".").concat(V[r],".").concat(o);return V[r]++,a},C=function(){return W.platform===a.iw.WeChat?G.AppID.WeChat:W.platform===a.iw.Weibo?G.AppID.Weibo:W.platform===a.iw.QQ?W.isNativePlatform?G.AppID.QQ:G.AppID.QQConnect:""},T=function(){H.isCached||R()},R=function(){var e=P.getReferPageQuery();H.refer=e||{},H.hasReferQuery=!!e&&"{}"!==JSON.stringify(e),H.isCached=H.hasReferQuery},k=function(){var e=localStorage.getItem(I.LocalStorageKey.UID)||"";return e.toString().match(/[0-9]{10}/)?e:(e?parseInt(e,36):(0,u.ej)(I.CookieKey.UID))||0},D=function(){return localStorage.getItem(I.LocalStorageKey.UIN)||(0,u.ej)(I.CookieKey.UIN)},M=function(e,t){var r=P.getPageName()||location.pathname;W.statisfy&&W.statisfy("4.23.0","4.22.0","greaterThanEqual")&&(0,f.Q6)("JSLogger","log",{module:r,message:t,level:e})},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=W.isNativePlatform&&(0,a.yC)(W.version,"5.41.0")>=0;if(!r&&window.__ERROR_SAMPLE_RATE__&&-1!==["chat_error","error","real_error"].indexOf(e.op)&&Math.random()>window.__ERROR_SAMPLE_RATE__)"function"==typeof t&&t();else{var n=(0,p.mB)(window.location.search);e=E()({},e,P.getKeyParams()),T(),e.log_id=e.log_id||b(),e.user_id=e.user_id||k(),e.uin=e.uin||D(),e.app_id=e.app_id||C()||"",e.time=e.time||e.log_id.substring(0,13),e.page_name=e.useExistsParams&&e.page_name?e.page_name:P.getPageName(),e.page_id=P.getPageID(),e.page_sn=P.getPageSN();var i=localStorage.getItem("WxCheckPdd");null!==i&&(e.wx_check_pdd=parseInt(i,10)||0),w()(e,H.refer);var o=P.getExtendTransferParameters();if(w()(e,o),["pv","click","impr"].indexOf(e.op)>=0){l.TrackingChannels.forEach((function(t){var r="refer_channel_"+t;e[r]=e[r]||n[t]})),l.ReferShareKeys.forEach((function(t){var r=e[t]||n[t]||n[t.slice(6)];r&&(e[t]=r)}));var s=l.ReferShareMapShort;for(var c in s){var u=e[c]||n[c];u&&(e[s[c]]=u)}}if("pv"===e.op){for(var f in n)n.hasOwnProperty(f)&&f&&0===f.indexOf("_p_")&&(e[f]=n[f]);e.event="page_show",e.page_url=location.href}"1"===n.is_back&&(e.is_back="1"),e.refer_channel_msgid=e.refer_channel_msgid||n.msgid,delete e.useExistsParams,B&&B.length>0&&(e=B.reduce((function(e,t,r,n){return t(e,r,n)}),e)),Q.push(e),N(t)}},N=function(e){if(0!==Q.length){for(var t=function(){var e=Q.pop();"epv"===e.op?r(e):setTimeout((function(){r(e)}),0)};Q.length>0;)t();e&&(W.isNativePlatform||W.isTinyNativePlatform?Promise.resolve().then((function(){e()})):setTimeout(e,100))}else e&&e();function r(e){var t=G.loggingURL,r=G.logRoutes||{};if(window.location&&"https:"===window.location.protocol&&(r=G.httpsLogRoutes,t=G.httpsLoggingURL),["chat_error","error","real_error"].indexOf(e.op)>=0&&(e.platform=W.platform),null==e.impr_id){var n=z(e.time,e.op||""),i=r[((e=E()({},F,e||{},n)).ad||"ad"===e.routeKey)&&["click","impr"].indexOf(e.op)>=0?"ad":e.op]||t;delete e.routeKey,window.navigator.sendBeacon&&!W.isNativePlatform&&(e.support_beacon=1);var o=L(e),s=o.q,c=o.entries,u="text/plain;charset=UTF-8";if("real_error"==e.op&&(e.status_code&&(e.payload?e.payload.status_code=e.status_code:e.payload={status_code:e.status_code},delete e.status_code),e.error_message&&(e.error_msg=e.error_message,delete e.error_message),e.params&&(e.payload?e.payload.params=e.params:e.payload={params:e.params},delete e.params),e.sub_op&&(e.payload?e.payload.sub_op=e.sub_op:e.payload={sub_op:e.sub_op},delete e.sub_op),e.debug_url&&(e.payload?e.payload.debug_url=e.debug_url:e.payload={debug_url:e.debug_url},delete e.debug_url),e.log_version="1.0.0",s=JSON.stringify(e)),W.isNativePlatform||W.isTinyNativePlatform){var p=W.statisfy&&W.statisfy("4.45.0","4.33.0","greaterThanEqual")||W.isTinyNativePlatform;if(p&&c.length>0)return void c.forEach((function(e){(0,f.Q6)("AMAnalytics","send",{url:i,value:e})}));if(["chat_error","error","real_error"].indexOf(e.op)<0){if(p&&o.oriParams)return o.oriParams.use_AMAnalytics=1,void(0,f.Q6)("AMAnalytics","send",{url:i,value:o.oriParams})}else if((0,a.yC)(W.version,"5.41.0")>=0)return(0,f.Q6)("JSReporter","addMarmotLog",e);(0,f.Q6)("JSNetwork","request",{method:"POST",url:i,headers:{"Content-Type":u},data:s})}else{if(window.navigator.sendBeacon&&["pv","click","impr"].indexOf(e.op)>=0&&window.navigator.sendBeacon(i,s))return;try{var l;if(!window.XMLHttpRequest)return;(l=new XMLHttpRequest).open("POST",i,!0),l.setRequestHeader("Content-Type",u),l.withCredentials=!0,l.send(s)}catch(e){}}}}},L=function(e){var t=(e=e||{}).items;if("string"==typeof t)try{t=JSON.parse(t)}catch(e){console.log(e)}if(y()(e.items)&&e.items.length>0){t=e.items,delete e.items;var r=t.map((function(t,r){t&&!t.log_id&&(t.log_id=b());var n=E()({},e,t);return["ad","p_rec"].forEach((function(e,t){n[e]&&(n[e]=j(n[e]))})),n})),n=r.reduce((function(e,t){var r=(0,p.XP)(t);return"".concat(e).concat(r,"$")}),"");return{q:n=n.slice(0,n.length-1),entries:r}}return e.items=j(e.items),{q:(0,p.XP)(e),oriParams:x(e),entries:[]}},x=function(e){if(m()(e)){var t={};for(var r in e)"object"===(0,n.Z)(e[r])?t[r]=JSON.stringify(e[r]):t[r]=e[r];return t}return null},j=function(e){return e&&"string"!=typeof e?JSON.stringify(e):e},U=function(){var e=Date.now();window.addEventListener("load",(function(){try{if(window.parent!==window){var e=document.referrer;Z({op:"real_error",page:"page been iframed by "+e,error_message:"iframe_injected",page_url:location.href})}}catch(e){console.log(e)}})),W.isNativePlatform||(void 0!==document.hidden&&document.addEventListener("visibilitychange",(function(){document.hidden?Z({op:"epv",sub_op:"leave",enter_time:e,time:Date.now()}):e=Date.now()})),window.addEventListener("unload",(function(){Z({op:"epv",sub_op:"leave",enter_time:e,close_time:Date.now()})})))},W=(0,o.zT)(),G=i.Z.get(location.host),H={isCached:!1,hasReferQuery:!1,refer:{refer_page_id:null,refer_page_name:null,refer_page_section:null,refer_page_element:null}},Q=[],B=[];if(location.search){var q=(0,p.mB)(location.search);q.JS_ERROR&&console.error(q.JS_ERROR.replace(/\)@/g,"\n)@"))}var F={screen_width:window.screen.width,screen_height:window.screen.height,dpr:window.devicePixelRatio,app_version:"",platform:""},V={},K=null,z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!K){var r=(0,u.ej)(),n=r.pdd_vds,i=void 0===n?"":n,a=r._nano_fp;K={pdd_vds:i,_nano_fp:a}}var s={cookie_fp:K._nano_fp,storage_fp:localStorage.getItem("_nano_fp")||""},c=(0,o.zT)(),p=c.isNativePlatform,f=c.isTinyNativePlatform;return p||f||(s.dcf=A(e,K.pdd_vds,t)),s};F.app_version=W.version,F.platform=W.isTinyNativePlatform?a.iw.PddAndroid:W.platform===a.iw.MaJiaBaoAndroid?a.iw.Unknown:W.platform;var Y={init:U,send:Z,info:function(e){M(2,e)},warn:function(e){M(3,e)},error:function(e){M(4,e)},sendPv:function(e,t){e=E()({},e,{op:"pv"}),Z(e)},addDefaultParams:function(e){F=E()({},F,e)},getLogID:b,isImprTester:function(){return true},getImprID:function(e){return b()},getImprTime:function(){return 1e3},initLogger:function(){U()},trackingRecord:function(e,t){null==G.loggingURL||G.loggingURL.length<=0||Z(e,t)},hasReferQuery:function(){return H.isCached||T(),H.hasReferQuery},updateCacheContextInfo:R,isAdTrackingTester:function(e){e},addMiddleware:function(e){_()(e)?B.push(e):y()(e)&&e.forEach((function(e){B.push(e)}))}};function J(e,t){if(!e)throw new Error(t||"leoAssertError")}function X(e,t,r){Y.trackingRecord({op:"real_error",error_message:"6011Error_"+t,page:JSON.stringify(r),page_url:location.href})}r(2850),r(2773);var $=function(e){return e};function ee(e){if(e=e||[],window.leo=window.leo||{},window.leo.data=window.leo.data||{},window.leo.csrFallback&&window.leo.fallbackData&&e.length){var t=(0,u.ej)("pdd_user_id");e.map((function(e){var r=window.leo.fallbackData[e.leoKey];if(r){var i=function(e){var t=e.leoKey,r=e.formatter,i=e.csrFallback,o=$;if("object"===(0,n.Z)(r)&&r){var a="function"==typeof r.normal,s="function"==typeof r.fallback;J(a&&s,"[leoKey=".concat(t,"'] both normal and fallback methods needed")),o=i?r.fallback:r.normal}else"function"==typeof r&&(o=r);return o}(e);try{window.leo.data[e.leoKey]=i(r,{identity:{uid:parseInt(t)||0}})}catch(e){X(0,"csrFormatLeoFailed",e)}}else X(0,"csrLeoFallbackDataNotFound")}))}}function te(e){return function(t){if(t.__$leo_keys)throw new Error("".concat(t.name," duplicate declare"));if(!Array.isArray(e))throw new Error("needs an array for its 1st param");return t.__$leo_keys=e||[],ee(e),t}}},4136:function(e,t,r){"use strict";r.d(t,{J:function(){return n}});var n={CONSUME:0,CONSUME_TIME_DIVIDE:1,CONSUME_RAW:2,RECYCLE:3,RECYCLE_TIME_DIVIDE:4,RECYCLE_RAW:5,RECYCLE_TIME_DIVIDE_MULTI:6}},9145:function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n={DEFAULT:0,SPECIAL:1}},6315:function(e,t,r){"use strict";r(2139);var n=r(8309),i=r(9348),o=r(5558),a=r(1074),s=r(1269),c=(r(6253),r(851),r(8837),r(5115),r(7187)),u=r(6271),p=r(9813),f=r(6294),l=r(4864),h=r(8488);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var m=u.Z.ShareErrorCode,g=function(e){(0,o.Z)(r,e);var t=d(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.Z)(this,r),(e=t.call(this,i)).ShareEntityClass=p.Z,e._hasInited=!1,e.shareEntity=i.shareEntity,e.shareEntityMap=i.shareEntityMap||{},e.disableShareTypes=i.disableShareTypes||[],e}return(0,i.Z)(r,[{key:"initShare",value:function(){this._hasInited||(this._hasInited=!0,this.setMaxListeners(0),this._setupShareTypes(),this._setupPlatformShareSDK())}},{key:"isInited",value:function(){return this._hasInited}},{key:"share",value:function(e){return m.SHARE_ACTION_DISABLE}},{key:"setShareCheck",value:function(e){}},{key:"checkShareTypeEnable",value:function(e){return 0}},{key:"_setupShareTypes",value:function(){return!0}},{key:"_setupPlatformShareSDK",value:function(){return Promise.resolve()}},{key:"getShareEntityByShareType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return e?this.shareEntityMap[e]||(t?null:this.shareEntity):this.shareEntity}},{key:"refreshShare",value:function(e,t){return e?(t?this.shareEntityMap[t]=e:this.shareEntity=e,this._setupPlatformShareSDK()):Promise.resolve()}},{key:"disableShare",value:function(e){var t=this;if(e&&"number"==typeof e)this.disableShareTypes.indexOf(e)<0&&this.disableShareTypes.push(e);else{if("[object Array]"!==Object.prototype.toString.call(e))return;this.disableShareTypes=this.disableShareTypes.concat(e.filter((function(e){return(t.disableShareTypes||[]).indexOf(e)<0})))}!this._setupShareTypes()&&this._adjustMenu()}},{key:"_adjustMenu",value:function(){}},{key:"createShareEntity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=this.ShareEntityClass||p.Z;if(r)return new n(e);var i={};if(t){var o=this.shareEntityMap[t];i=o?Object.assign({},o,e):Object.assign({},this.shareEntity,e)}else i=Object.assign({},this.shareEntity,e);return new n(i)}},{key:"setupNativeShareButton",value:function(e){return m.SHARE_NOT_SUPPORTED}},{key:"copyCipher",value:function(){var e=this,t=f.Z.COPY_CIPHER,r=this.getShareEntityByShareType(t),n=r.cipherScene&&"string"==typeof r.cipher;return!n&&this.emit(l.Z.ON_SHARE_TRIGGER,{shareType:t}),r?(r.normalize(t).then((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n&&(e.emit(l.Z.ON_SHARE_TRIGGER,{shareType:t,shareID:r.shareID}),delete r.shareID),e.emit(l.Z.ON_SHARE_COMPLETED,{shareType:t,shareResultType:h.Z.SUCCESS,content:r.title,rawResponse:r.rawResponse},e.getNormalizeErrorHandler(t))})),0):m.SHARE_PARAMS_NOT_VALID}},{key:"getNormalizeErrorHandler",value:function(e){var t=this;return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.emit(l.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:h.Z.FAIL,errorPayload:n})}}},{key:"resetLimiter",value:function(){}}]),r}(c.EventEmitter);t.Z=g},7277:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Je}});r(2139),r(5767),r(4882),r(8351);var n=r(8482),i=r(4974),o=r(8309),a=r(9348),s=r(1122),c=r(5558),u=r(1074),p=r(1269),f=(r(8837),r(9371),r(7476),r(6253),r(851),r(5115),r(4711)),l=r(2202),h=r(2691),d=r(6315),m=r(6294),g=function(e){return(0,f.zT)().version},_=60006;function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=g();return(0,f.zT)().platform===l.iw.PddIOS&&(0,l.yC)(r,e)>=0||(0,f.zT)().platform===l.iw.PddAndroid&&(0,l.yC)(r,t)>=0||(0,f.zT)().platform===l.iw.PDDTinyAndorid}var y=function(){var e=g();return(0,f.zT)().platform===l.iw.PddIOS&&(0,l.yC)(e,"5.80.0")>=0},S=function(){return v("4.74.0","4.74.0","4.80.0")},E=function(){return v("4.85.0","4.85.0")},O=function(){return(0,f.zT)().platform!==l.iw.PDDTinyAndorid&&v("4.88.0","4.88.0")},w=function(){return v("5.41.0","5.41.0")},P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAMAAADUivDaAAAAM1BMVEUAAABmZmZmZmZlZWVmZmZmZmZlZWVlZWVoaGhlZWVkZGRmZmZlZWVlZWVlZWVmZmZmZmauFdI/AAAAEHRSTlMAhnjzbtHHEBrfJrGXRzZXUNTSwgAAAPRJREFUWMPt1+sKgzAMBWC71NbLLuf9n3a6sxFYN2vq/gxyEBSFz9pGaLpdOYucuyPJCUtSbheGHo/0Q6swjXhmnNqEqwCYHwfk2iJcFkEuJyDwyi7c+O6V4HhuViFyBkhwVqJNCFwHEq+1CTaB1UCCFWI0BJiXkxJLZkAso2BVK8FaD509SjB/QcQkWBO2iYA1kuLHn5KRbQKvFL8vhT2jUKOs55j3z0WORcUnvVEj9EF6/8JsIzKAd8K6qE444cTviNNBYhrHqZnQOOGEE0444USdyDYhA1Lsfs1dRqrtwTXVPTjTw5y+6EfMwvCtK6pHu6I7B+8m1re+k3UAAAAASUVORK5CYII=",I=r(6271),b=r(4864),A=r(8488),C=r(9385),T=r(5118),R=r(7883),k=r.n(R),D=(r(2773),r(2850),r(9496)),M=r(1419),Z=r(9813),N=r(4340),L=(r(9357),r(3804)),x=r(9586),j=r(3402),U="api/flow/audience/share/types";var W=r(9875),G=r(6404),H=r(4898),Q=I.Z.ShareErrorCode,B=function(){function e(){(0,o.Z)(this,e),this._inited=!1,this._queryShareTypePromise=null,this._rules=null,this._enableShareTypes=[],this.appOptional=null,this._rom=0,this._matchedPkgId=void 0,this._isCipherDowngrade=!1,this._enableSilentMode=!1}return(0,a.Z)(e,[{key:"build",value:function(){var e=this;return this._inited?Promise.resolve():(this._queryShareTypePromise||(this._queryShareTypePromise=this.loadRules(),this._queryShareTypePromise.then((function(t){return e._inited=!0,e._processRules(t),W.Z.getInstance().build({magicTrace:t.magic_trace})})).catch((function(t){(0,G.Z)({errorCode:0,message:"分享规则初始化失败",options:{message:t&&t.message,errorCode:t&&t.errorCode}}),e._inited=!0}))),this._queryShareTypePromise)}},{key:"reset",value:function(){this._inited=!1,this._queryShareTypePromise=null,this._rules=null,this._enableShareTypes=[],this.appOptional=null,this._rom=0,this._matchedPkgId=void 0,this._isCipherDowngrade=!1,this._enableSilentMode=!1}},{key:"getAppOptional",value:function(){return this.appOptional}},{key:"getRules",value:function(){var e=this;return this.build().then((function(){return e._rules}),(function(){return Promise.resolve(e._rules)}))}},{key:"loadRules",value:function(){return(0,f.zT)().isNativePlatform?(0,h.Q6)("JSShare","queryShareTypes",{page_sn:(0,x.kd)()+"",page_info:{page_name:(0,x.j0)(),page_url:location&&location.href}}):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,j.e)({pageInfo:{pageId:(0,x.e6)()}},{defaultErrorHandler:function(e){}}),n={};return n.page_sn=t.pageSn||"",n.page_info=t.pageInfo||{},n.platform="h5","post"===e.toLowerCase()?r.post(U,n):r.get(U,{params:n})}("post",{pageSn:(0,x.kd)()+"",pageInfo:{page_name:(0,x.j0)(),page_url:location&&location.href}})}},{key:"_processRules",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.share_types||[];this.appOptional=e.app_optional,this._rom=e.rom,this._matchedPkgId=e.matched_pkg_id,this._enableSilentMode=e.is_weird,e.degrade&&this.setCipherDowngrade(!0);var r=[];return this._rules=t.reduce((function(e,t){var n=t.share_type;return n&&(e[n]=t,r.push(parseInt(n,10))),e}),{}),this._innerShareTypes=e.inner_share_types||[],this._innerShareTypes.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.push(parseInt(e.share_type,10))})),this._enableShareTypes=r,this._rules}},{key:"getRuleByType",value:function(e){return(this._rules||{})[e]}},{key:"checkSync",value:function(e,t){if(!this._rules)return Q.SHARE_LIMITER_NOT_INIT;if(this._enableShareTypes.indexOf(e)<0)return Q.SHARE_TYPE_DISABLED;var r=t.getShareForm(e),n=(this.getRuleByType(e)||{}).share_methods||[];return[M.Z.COMMAND,M.Z.TEXT].indexOf(r)>=0?(0,H.Pp)(t.urlWrapType)&&t.marketActivityID&&(t.shortURLApi&&n.indexOf(L.Z.LINK)>=0||t.shortCommandApi&&n.indexOf(L.Z.CIPHER)>=0||t.urlWrapType===H.ZP.CATEGORY_PROCEDURE||t.urlWrapType===H.ZP.CATEGORY_PROCEDURE_CUSTOM)||n.indexOf(L.Z.NORMAL)>=0?0:Q.SHARE_TYPE_DISABLED:[m.Z.WECHAT_SESSION,m.Z.WECHAT_TIMELINE].indexOf(e)>=0?(0,H.uW)(t.urlWrapType)&&t.marketActivityID&&n.indexOf(L.Z.DOMAIN)<0?Q.SHARE_TYPE_DISABLED:n.indexOf(L.Z.NORMAL)>=0?0:Q.SHARE_TYPE_DISABLED:0}},{key:"isCipherDowngrade",get:function(){return this._isCipherDowngrade}},{key:"rom",get:function(){return this._rom}},{key:"matchedPkgId",get:function(){return this._matchedPkgId}},{key:"isSilentMode",get:function(){return this._enableSilentMode}},{key:"setCipherDowngrade",value:function(e){this._isCipherDowngrade=e}}]),e}(),q=null;function F(){return q||(q=new B),q}var V=r(7503),K=r(7931);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J="api/flow/walrus/inquire/confusion/info",X="api/flow/chron/share/card",$=0,ee=1,te=2;function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(arguments.length>1&&void 0!==arguments[1]||K.X.TP_FIRST,[]),r=[],n=[],i=[];return e.forEach((function(e){if(e)switch(e.dev_type){case ee:t.push(e);break;case te:r.push(e);break;case $:n.push(e);break;default:i.push(e)}})),E()||(t=r=[]),r[0]||t[0]||n[0]}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=(0,j.e)({pageInfo:{pageId:(0,x.e6)()}},{defaultErrorHandler:function(e){}}),n=Y({scene_id:e.activitySceneSn,long_url:e.shareURL||"",rom:e.rom||0,matched_pkg_id:e.matchedPkgId,param:{},page_sn:(0,x.kd)()},(0,V.O$)(e));e.payloadMixin&&"object"===(0,C.Z)(e.payloadMixin)&&(n=Object.assign({},e.payloadMixin.param_map,n)),"string"!=typeof n.param&&(n.param=JSON.stringify(n.param));var i=r.post(X,{param_map:n});return i.then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(e.infos||[]).filter((function(e){return Object.keys(e).length>0})),n=re(r,t);return{raw:e,info:n,tpInfos:r,tpDowngrade:r.length<=0}}))}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=(0,j.e)({pageInfo:{pageId:(0,x.e6)()}},{defaultErrorHandler:function(e){}}),n={long_url:e.shareURL||"",activity_code:(e.marketActivityID||0)+"",scene_sn:e.activitySceneSn||"",rom:e.rom||0,matched_pkg_id:e.matchedPkgId,params:{}};e.payloadMixin&&"object"===(0,C.Z)(e.payloadMixin)&&(n=Object.assign(n,e.payloadMixin)),"string"!=typeof n.params&&(n.params=JSON.stringify(n.params));var i=r.post(J,n);return i.then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(e.infos||[]).filter((function(e){return Object.keys(e).length>0})),n=re(r,t);return{raw:e,info:n,tpInfos:r,tpDowngrade:r.length<=0}}))}var oe=r(2863),ae=r(8921),se=r(392),ce=r(3877),ue=(r(9115),r(6997),r(1181),r(4136)),pe=0,fe=1,le=2;function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.replace(/%s/g,t)}var de={};function me(e){var t=e.consumeMode,r=e.scene;if("number"!=typeof t||[ue.J.CONSUME_RAW,ue.J.RECYCLE_RAW].indexOf(t)>=0)return Promise.resolve();var n=function(e){if(e&&!(e.length<=0)){if([ue.J.CONSUME_TIME_DIVIDE,ue.J.RECYCLE_TIME_DIVIDE].indexOf(t)>=0){var r=new Date,n=r.getMinutes(),i=r.getSeconds();return e[Math.floor(e.length*(60*n+i)/3600)]}if(ue.J.RECYCLE_TIME_DIVIDE_MULTI===t){var o=e.length,a=Math.min(Math.max(parseInt(window.__SHARE_CIPHER_PARALLEL_SIZE__,10)||0,2),o),s=Math.max(Math.floor(o/a),1),c=Math.floor(Math.random()*a),u=new Date,p=u.getMinutes(),f=u.getSeconds(),l=Math.floor(s*(60*p+f)/3600);return e[Math.max(c*s+l,o-1)]}return e[0]}},i=(de[r]||{}).texts;return i?Promise.resolve(n(i)):function(e){return(0,h.Q6)("JSShare","getLocalCipherInfo",{action:fe,page_sn:(0,x.kd)()+"",scene:e}).then((function(){var t=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).texts||[]).map((function(e){if(e)return e.version&&(0,l.yC)(e.version,window.__SHARE_CIPHER_VER__||"0.0.1")>=0?e.text:e.version?void 0:e.text})).filter((function(e){return!!e}));return de[e]=de[e]||{},de[e].texts=t,t}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,G.Z)({errorCode:e.errorCode,message:"本地获取口令文本失败",options:e.data}),null}))}(r).then(n)}function ge(e){var t=e.consumeMode,r=e.scene;return"number"!=typeof t?Promise.resolve():[ue.J.CONSUME,ue.J.CONSUME_TIME_DIVIDE,ue.J.CONSUME_RAW].indexOf(t)>=0?function(e){return(0,h.Q6)("JSShare","getLocalCipherInfo",{action:le,page_sn:(0,x.kd)()+"",scene:e}).then((function(e){return e.cipher}),(function(e){return(0,G.Z)({errorCode:e.errorCode,message:"本地消费口令码失败",options:e.data}),null}))}(r):function(e){return(0,h.Q6)("JSShare","getLocalCipherInfo",{action:pe,page_sn:(0,x.kd)()+"",scene:e}).then((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ciphers||[]}),(function(e){return(0,G.Z)({errorCode:e.errorCode,message:"本地获取口令码失败",options:e.data}),null}))}(r).then((function(e){if(e&&!(e.length<=0))return e[0]}))}function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scene,r=e.consumeMode;return(0,f.zT)().isNativePlatform&&w()&&t&&"number"==typeof r?Promise.all([ge(e),me(e)]).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,ce.Z)(e,2),n=t[0],i=t[1];return n&&[ue.J.CONSUME_RAW,ue.J.RECYCLE_RAW].indexOf(r)>=0?n:n&&i?Object.assign({text:he(i,n.cipher)},n):void 0})):Promise.resolve()}var ve=r(3170);function ye(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,f.zT)().isNativePlatform?Se.apply(void 0,t).then((function(e){return e.missed?N.Yy.apply(void 0,t):e})):N.Yy.apply(void 0,t)}var Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shareURL||"",r=e.urlWrapType;if(e.marketActivityID&&e.activitySceneSn&&r===H.ZP.CATEGORY_PROCEDURE){var n=F().matchedPkgId;return ne(Object.assign({rom:F().rom,matchedPkgId:n},e),e.tpSelectCategory).then((function(e){var r=e.info,n=e.tpInfos,i=e.tpDowngrade,o={raw:e.raw,tpDowngrade:i,tpInfo:r,tpInfos:n,realShareURL:(r||n[0]||{}).link_url||t,targetShareURL:t},a=new Error("category procedure");return a.data=o,Promise.reject(a)}))}if(e.marketActivityID&&r===H.ZP.CATEGORY_PROCEDURE_CUSTOM){var i=(0,H.uW)(r)?ve.v3.WEIXIN_TINY_DOMAIN:ve.v3.SHORT_LINK,o=t.replace(/^(\w+:)?\/\//,""),a=(0,ve.ZP)(e.requestUsePost?"post":"get",{shareURL:o,marketActivityID:e.marketActivityID,platform:(0,N.Ep)(),shareDomainType:i,shortURLApi:e.shortURLApi,shortCommandApi:e.shortCommandApi,domainURLApi:e.domainURLApi,payloadMixin:e.payloadMixin});return a.then((function(e){var t=new Error("category procedure custom");return t.data=e,Promise.reject(t)}))}if(e.marketActivityID&&e.activitySceneSn&&r===H.ZP.SERVER_TP_APP){var s=F().matchedPkgId;return ie(Object.assign({rom:F().rom,matchedPkgId:s},e),e.tpSelectCategory).then((function(e){var r=e.info,n=e.tpInfos;return{tpInfo:r,tpDowngrade:e.tpDowngrade,tpInfos:n,realShareURL:(r||n[0]||{}).link_url||t,targetShareURL:t}}),(function(e){return Promise.resolve({tpDowngrade:!0,realShareURL:t,targetShareURL:t})}))}if(e.marketActivityID&&(0,H.vD)(r)){var c=(0,H.uW)(r)?ve.v3.WEIXIN_TINY_DOMAIN:ve.v3.SHORT_LINK,u=t.replace(/^(\w+:)?\/\//,""),p=(0,oe.Z)(e),f=e.cipherScene,l=e.consumeMode,h=(0,ae.s)(),d=function(){var n=new Promise((function(n,i){(0,ve.ZP)(e.requestUsePost?"post":"get",{shareURL:u,marketActivityID:e.marketActivityID,platform:(0,N.Ep)(),shareDomainType:c,shortURLApi:e.shortURLApi,shortCommandApi:e.shortCommandApi,domainURLApi:e.domainURLApi,payloadMixin:e.payloadMixin}).then((function(e){if(e){var o=e.domain,a=void 0===o?"":o,s=e.shortURL,u=e.shareText,p=e.raw;if(c===ve.v3.WEIXIN_TINY_DOMAIN)r===H.ZP.DOMAIN_REPLACE&&n((0,N.CU)(t,a));else if(c===ve.v3.SHORT_LINK){if(!s&&!u){var f=new Error("empty short_url with empty share_text");return f.data=p,f.extraInfo=p,void i(f)}return void n({useShortURL:!0,realShareURL:s||t,targetShareURL:t,shareText:u,rawResponse:p})}}n({realShareURL:t,targetShareURL:t})})).catch((function(e){i(e)}))}));return c===ve.v3.SHORT_LINK&&n.then((function(e){e&&e.useShortURL&&(h.cacheResponseByHash(p,e),h.setShareID(p,(new se.Z(t).query||{}).refer_share_id))})),n};if(r===H.ZP.SERVER_SHORT_URL_WITH_CACHE){var m=h.getResponseByHash(f);return m?(h.increaseCount(f),Promise.resolve(m)):(m=h.getResponseByHash(p))?(h.increaseCount(p),Promise.resolve(m)):f&&F().isCipherDowngrade?_e({scene:f,consumeMode:l}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&e.share_id){var t={cipher:e.cipher,shareText:e.text,shareID:e.share_id};return h.cacheResponseByHash(f,t),h.setShareID(f,e.shareID),t}return d()}),(function(e){return d()})):d()}return d()}if(e.activitySceneSn&&r===H.ZP.SERVER_TP_APP_CARD){var g=F().matchedPkgId;return ne(Object.assign({rom:F().rom,matchedPkgId:g},e),e.tpSelectCategory).then((function(e){var r=e.info,n=e.tpInfos,i=e.tpDowngrade,o=e.raw;return{tpInfo:r,tpDowngrade:i,tpInfos:n,realShareURL:(r||n[0]||{}).link_url||t,categoryShareInfo:{thumbnailURL:(r||n[0]||{}).thumb_img_url},targetShareURL:t,rawResponse:o}}),(function(e){return Promise.resolve({tpDowngrade:!0,realShareURL:t,targetShareURL:t})}))}return Promise.resolve({missed:!0,realShareURL:t,targetShareURL:t})},Ee=r(6124),Oe=r(3319);function we(){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,T.Z)(k().mark((function e(){var t,r,n,i=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},"function"==typeof(r=i.length>1?i[1]:void 0).cipherProcessor){e.next=4;break}return e.abrupt("return",t);case 4:return e.prev=4,e.next=7,r.cipherProcessor({cipherText:t.title,cipherCode:t.cipher,shareEntity:r});case 7:"string"==typeof(n=e.sent)&&(t.title=t.desc=n),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,null,[[4,11]])}))),Pe.apply(this,arguments)}function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ae="static",Ce="dynamic",Te=function(e){return e?Array.isArray(e)&&e.length>0?e[0]:"object"===(0,C.Z)(e)?e:null:null},Re=function(e){return e?Array.isArray(e)&&e.length>0?e.map((function(e,t){return e?"string"==typeof e?{type:Ae,data:e}:"object"===(0,C.Z)(e)?e.type?e:{type:Ce,options:e}:void 0:null})).filter((function(e){return!!e})):"object"===(0,C.Z)(e)?[{type:Ce,options:e}]:[]:[]};function ke(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.drawImageOptions;return"function"==typeof n?n(r=be({shareRefer:(0,V.O$)(e)},r||{})):"object"===(0,C.Z)(n)?t?Promise.resolve(Re(n)):Promise.resolve(Te(n)):Promise.resolve({})}var De=r(3e3),Me=["share_rec_mask"];function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.Z)(this,r)}}var xe=function(e){(0,c.Z)(n,e);var t,r=Le(n);function n(e){var t;return(0,o.Z)(this,n),(t=r.call(this,e)).drawImageOptions=e.drawImageOptions,t.redirectURI=e.redirectURI||"",t.miniObjectPath=e.miniObjectPath||"",t.miniObjectID=e.miniObjectID,t.useWxAppShare=e.useWxAppShare||!1,t.forceDowngrade=e.forceDowngrade||!1,t.excludeShareChoices=e.excludeShareChoices||[],t.thirdPartyOpenType=e.thirdPartyOpenType,t.drawImageClass=e.drawImageClass,t.needSharedAmount=e.needSharedAmount||!1,t.cipherScene=e.cipherScene,t.consumeMode=e.consumeMode,t.activitySceneSn=e.activitySceneSn,t.tpSelectCategory=e.tpSelectCategory,t.pinTimelineParams=e.pinTimelineParams,t.withShareTicket=e.withShareTicket,t.systemShareMode=e.systemShareMode||De.q.DEFAULT,t.wechatMaskConfig=e.wechatMaskConfig,t}return(0,a.Z)(n,[{key:"normalize",value:(t=(0,T.Z)(k().mark((function e(t){var r,n,o,a,s,c,u,p,f,l,h,d,g=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==m.Z.COPY_CIPHER){e.next=2;break}return e.abrupt("return",this.processCipher());case 2:if(r=Object.assign({},this),t!==m.Z.PIN_TIMELINE){e.next=5;break}return e.abrupt("return",r.pinTimelineParams);case 5:n={title:r.title,desc:r.message,thumbnail:r.thumbnailURL,share_url:r.shareURL,share_id:r.shareID,with_share_ticket:!!r.withShareTicket,system_share_mode:r.systemShareMode},(o=r.wechatMaskConfig)&&"object"===(0,C.Z)(o)&&(a=o.share_rec_mask,s=(0,i.Z)(o,Me),c=Ne({},s),a&&(c.share_rec_mask=Ne({share_type:t,activity_code:r.marketActivityID,share_id:r.shareID},a)),n.wechat_mask_config=c),r.payloadMixin&&(u=r.payloadMixin.extra,"object"===(0,C.Z)(u)&&void 0!==u.share_prefer&&(n.share_prefer=u.share_prefer)),p=!1,e.t0=t,e.next=e.t0===m.Z.WECHAT_SESSION?13:e.t0===m.Z.WECHAT_TIMELINE_IMAGE||e.t0===m.Z.WECHAT_TIMELINE_IMAGE_WITH_NO_SDK||e.t0===m.Z.WECHAT_SESSION_IMAGE||e.t0===m.Z.QQ_CHAT_SESSION_IMAGE||e.t0===m.Z.QQ_ZONE_IMAGE||e.t0===m.Z.WEIBO_IMAGE||e.t0===m.Z.WECHAT_SESSION_IMAGE_WITH_NO_SDK?16:e.t0===m.Z.WECHAT_SESSION_IMAGES_WITH_NO_SDK?21:e.t0===m.Z.SHARE_IMAGE_PASSIVELY?26:e.t0===m.Z.IOS_SYSTEM_SHARE_CARD||e.t0===m.Z.WECHAT_SESSION_CARD_WITH_NO_SDK||e.t0===m.Z.WECHAT_TIMELINE_CARD_WITH_NO_SDK?32:34;break;case 13:if(r.miniObjectPath&&"string"==typeof r.miniObjectPath)n.mini_object_path=(0,V.ZP)(r);else if("function"==typeof r.miniObjectPath)try{n.mini_object_path=r.miniObjectPath(r.shareURL)}catch(e){}return r.miniObjectID&&(n.mini_object_id=r.miniObjectID),e.abrupt("break",35);case 16:return p=!0,e.next=19,ke(r);case 19:return n.options=e.sent,e.abrupt("break",35);case 21:return p=!0,e.next=24,ke(r,!0);case 24:return n.multi_image_options=e.sent,e.abrupt("break",35);case 26:return p=!0,e.next=29,ke(r);case 29:return n.options=e.sent,r.thirdPartyOpenType&&(n.open_type=r.thirdPartyOpenType),e.abrupt("break",35);case 32:return n.excluded_types=r.excludeShareChoices,e.abrupt("break",35);case 34:return e.abrupt("break",35);case 35:if(f=this.getShareForm.call(r,t),l=[M.Z.COMMAND,M.Z.TEXT].indexOf(f)>=0,this.targetShareURL=r.shareURL,this.realShareURL=r.shareURL,this.useShortURL=!1,t===m.Z.WECHAT_SESSION&&n.mini_object_path&&(this.realShareURL=n.mini_object_path),(0,Oe.i)(t)&&(h=(0,N.ls)(t,r.shareURL),n.share_url=h,this.shareURL=h,this.realShareURL=h,this.targetShareURL=h),t===m.Z.WECHAT_SESSION&&n.mini_object_path&&(this.realShareURL=this.targetShareURL=n.mini_object_path),f!==M.Z.CARD&&f!==M.Z.WXAPP_CARD||!r.urlWrapType){e.next=47;break}return e.abrupt("return",ye(r).then((function(e){var t=e.realShareURL,i=e.targetShareURL,o=e.useShortURL,a=e.tpDowngrade,s=e.tpInfo,c=e.tpInfos,u=e.appendQuery,p=e.categoryShareInfo,f=e.useCipher,l=e.missed,h=e.rawResponse,d=void 0===h?{}:h;return f?Promise.reject(new Error("operation refused")):(l||(g.useShortURL=o,g.realShareURL=t,g.targetShareURL=i),n.share_url=t,s&&(n.title=s.title||n.title,n.desc=s.message||n.desc),p&&(n.title=p.title||n.title,n.thumbnail=p.thumbnailURL||n.thumbnail),n.tpInfo=s,n.tpInfos=c,n.tpDowngrade=a,n.rawResponse=d,r.urlWrapType===H.ZP.SERVER_QUERY_APPEND&&"string"==typeof n.mini_object_path&&n.mini_object_path&&(n.mini_object_path=(0,V.ZP)({miniObjectPath:n.mini_object_path,shareURL:t},{appendQuery:u}),g.realShareURL=n.mini_object_path),n)})));case 47:if(!p||!(0,H.Pp)(r.urlWrapType)&&r.urlWrapType!==H.ZP.MAGIC_TRACE&&r.urlWrapType!==H.ZP.MAGIC_TRACE_DYNAMIC){e.next=51;break}return e.abrupt("return",ye(r).then((0,T.Z)(k().mark((function e(){var t,i,o,a,s,c=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},i=t.realShareURL,o=t.targetShareURL,a=t.useShortURL,s=t.shareText,g.targetShareURL=o,r.shortCommandApi?(g.pcode=s,n.share_url=s):(g.useShortURL=a,g.realShareURL=i,n.share_url=a?(0,Ee.Z)(i):i),!a){e.next=16;break}if(!n.multi_image_options){e.next=11;break}return e.next=8,ke(r,!0,t);case 8:n.multi_image_options=e.sent,e.next=16;break;case 11:if(!n.options){e.next=16;break}return e.next=14,ke(r,!1,t);case 14:n.options=e.sent,n.options&&"object"===(0,C.Z)(n.options)&&n.options.$params&&(Object.assign(n,n.options.$params),delete n.options.$params);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)})))));case 51:if(!l){e.next=62;break}if(d=n.title||"",!(0,H.Pp)(r.urlWrapType)){e.next=57;break}return e.abrupt("return",ye(r).then((function(e){var t=e.realShareURL,i=e.targetShareURL,o=e.useShortURL,a=e.shareText,s=e.shareID,c=e.cipher,u=e.tpInfo,p=e.tpInfos,f=e.tpDowngrade,l=e.rawResponse,h=void 0===l?{}:l;if(s&&(n.shareID=s),c&&(n.cipher=c),u&&(n.title=u.link_url||n.title,n.desc=u.link_url||n.desc,d=n.title),n.tpInfo=u,n.tpInfos=p,n.tpDowngrade=f,n.rawResponse=h,g.targetShareURL=i,r.shortCommandApi){var m=o||c?a:"",_=m||i;d=(0,Z.W)(d,_,i,m),n.title=n.desc=d,g.pcode=d}else{var v=o?t:"",y=v||i;d=(0,Z.W)(d,y,i,v),n.title=n.desc=d,g.useShortURL=o,g.realShareURL=y}return we(n,r)})));case 57:return d=(0,Z.W)(d,r.shareURL),n.title=n.desc=d,e.abrupt("return",we(n,r));case 60:e.next=63;break;case 62:return e.abrupt("return",Promise.resolve(n));case 63:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getShareForm",value:function(e){return e===m.Z.WECHAT_SESSION?this.miniObjectPath||this.useWxAppShare?M.Z.WXAPP_CARD:M.Z.CARD:[4,2,5,6,24,25,18,9996,9997].includes(e)?M.Z.CARD:[8,9,10,11,12,13,15,19,20,22].includes(e)?M.Z.IMAGE:[3,16,17,21,m.Z.COPY_CIPHER].includes(e)?this.shortCommandApi?M.Z.COMMAND:M.Z.TEXT:e===m.Z.COPY_LINK?M.Z.COPY_LINK:M.Z.DEFAULT}},{key:"getShareMethod",value:function(e){return[9,16,19,20,18,9996,9997].includes(e)?D.Z.SYSTEM:[1,2,3,4,5,8,10,11,12,13,15,17,21,24,25].includes(e)?D.Z.SDK:e===m.Z.SHARE_IMAGE_PASSIVELY?this.thirdPartyOpenType?D.Z.MANUAL:D.Z.DEFAULT:e===m.Z.COPY_CIPHER?D.Z.MANUAL:D.Z.DEFAULT}}]),n}(Z.Z),je=xe,Ue=r(3023),We=r(1022);function Ge(e){return"string"!=typeof e?Promise.reject():(0,f.zT)().isNativePlatform?(0,h.Q6)("AMStorage","setPasteboard",{text:e}):Promise.reject()}var He=r(9145),Qe=["tpInfo","tpInfos","tpDowngrade","wechat_mask_config","rawResponse"],Be=["share_code","system_share_mode","wechat_mask_config"],qe=["tpInfo","tpInfos","tpDowngrade","wechat_mask_config"];function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.Z)(this,r)}}var ze=Object.keys(m.Z).map((function(e){return m.Z[e]})).filter((function(e){return[m.Z.WECHAT_BIG_IMAGE].indexOf(e)<=0})),Ye=function(e){(0,c.Z)(r,e);var t=Ke(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).ShareEntityClass=je,n._enableShareTypes=ze.concat(),n.shareLimiter=F(),n._isEnableShareCheck=!1,n.setShareCheck(!0),n}return(0,a.Z)(r,[{key:"setShareCheck",value:function(e){(0,f.zT)().isTinyNativePlatform?this._isEnableShareCheck=!0:this._isEnableShareCheck=!!e&&v("4.51.0","4.51.0")}},{key:"checkShareTypeEnable",value:function(e){var t=this.getShareEntityByShareType(e);if(!this.validateShareParams(e,t))return I.D.SHARE_PARAMS_NOT_VALID;if(!function(e){var t=!1;if("number"!=typeof e)return!1;switch(e){case m.Z.WECHAT_SESSION:case m.Z.WECHAT_TIMELINE:case m.Z.WECHAT_SESSION_APP:case m.Z.QQ_CHAT_SESSION:case m.Z.QQ_ZONE:case m.Z.WECHAT_TIMELINE_IMAGE:case m.Z.WECHAT_TIMELINE_IMAGE_WITH_NO_SDK:case m.Z.WECHAT_SESSION_IMAGE:case m.Z.QQ_CHAT_SESSION_IMAGE:case m.Z.QQ_ZONE_IMAGE:case m.Z.WECHAT_SESSION_TEXT_WITH_NO_SDK:case m.Z.WECHAT_SESSION_TEXT:t=!0;break;case m.Z.WEIBO:case m.Z.WEIBO_IMAGE:t=v("4.81.0","4.81.0");break;case m.Z.WECHAT_SESSION_IMAGE_WITH_NO_SDK:case m.Z.WECHAT_SESSION_IMAGES_WITH_NO_SDK:t=v("4.37.0","4.36.0");break;case m.Z.WECHAT_TIMELINE_TEXT:t=v("4.39.0","4.39.0");break;case m.Z.IOS_SYSTEM_SHARE_CARD:case m.Z.WECHAT_SESSION_CARD_WITH_NO_SDK:case m.Z.WECHAT_TIMELINE_CARD_WITH_NO_SDK:t=y();break;case m.Z.SHARE_IMAGE_PASSIVELY:t=v("4.49.0","4.49.0");break;case m.Z.COPY_LINK:case m.Z.COPY_CIPHER:t=!0;break;case m.Z.WECHAT_SESSION_MUSIC:case m.Z.WECHAT_SESSION_VIDEO:t=v("4.86.0","4.86.0");break;case m.Z.FRIENDS:case m.Z.WECHAT_BIG_IMAGE:t=!0;break;case m.Z.PIN_TIMELINE:t=v("5.6.0","5.6.0")}return t}(e)||this._enableShareTypes.indexOf(e)<0)return I.D.SHARE_TYPE_DISABLED;if(this._isEnableShareCheck&&[m.Z.COPY_LINK,m.Z.COPY_CIPHER].indexOf(e)<0){var r=this.shareLimiter.checkSync(e,t);if(r)return r}return 0}},{key:"share",value:function(e){var t=this.checkShareTypeEnable(e);return t||(e===m.Z.PIN_TIMELINE?this._sharePinTimeline(e):e===m.Z.WECHAT_BIG_IMAGE?this._nativeShareBigImage(e):[m.Z.WECHAT_SESSION,m.Z.WECHAT_TIMELINE,m.Z.WEIBO,m.Z.QQ_CHAT_SESSION,m.Z.QQ_ZONE,m.Z.TENCENT_WEIBO,m.Z.WECHAT_SESSION_APP,m.Z.FRIENDS,m.Z.WECHAT_SESSION_MUSIC,m.Z.WECHAT_SESSION_VIDEO].indexOf(e)>=0?this._nativeShareCard(e):[m.Z.IOS_SYSTEM_SHARE_CARD,m.Z.WECHAT_SESSION_CARD_WITH_NO_SDK,m.Z.WECHAT_TIMELINE_CARD_WITH_NO_SDK].indexOf(e)>=0?this._nativeShareCardSpecial(e):[m.Z.WECHAT_TIMELINE_IMAGE,m.Z.WECHAT_TIMELINE_IMAGE_WITH_NO_SDK,m.Z.WECHAT_SESSION_IMAGE,m.Z.QQ_CHAT_SESSION_IMAGE,m.Z.QQ_ZONE_IMAGE,m.Z.WEIBO_IMAGE,m.Z.WECHAT_SESSION_IMAGE_WITH_NO_SDK,m.Z.WECHAT_SESSION_IMAGES_WITH_NO_SDK,m.Z.SHARE_IMAGE_PASSIVELY].indexOf(e)>=0?this._nativeShareImage(e):[m.Z.WECHAT_SESSION_TEXT_WITH_NO_SDK,m.Z.WECHAT_SESSION_TEXT,m.Z.WECHAT_TIMELINE_TEXT].indexOf(e)>=0?this._nativeShareText(e):m.Z.COPY_LINK===e?this._nativeShareClipboard(e):m.Z.COPY_CIPHER===e?this.copyCipher():I.D.SHARE_TYPE_NOT_FOUND)}},{key:"validateShareParams",value:function(e){return!0}},{key:"_setupShareTypes",value:function(){}},{key:"resetLimiter",value:function(){return this.shareLimiter.reset(),this._queryShareTypePromise=null,this.waitShareLimiter()}},{key:"refreshShare",value:function(e,t){var n=(0,s.Z)((0,p.Z)(r.prototype),"refreshShare",this).call(this,e,t);return this.emit(b.Z.ON_SHARE_PREPARE,{shareType:t}),n}},{key:"_setupPlatformShareSDK",value:function(){return this.waitShareLimiter()}},{key:"waitShareLimiter",value:function(){var e=this;return this._isEnableShareCheck?(this._queryShareTypePromise||(this._queryShareTypePromise=this.shareLimiter.build().catch((function(t){return e.emit(b.Z.SHARE_LIMIT_LOAD_FAIL),Promise.resolve()}))),this._queryShareTypePromise):Promise.resolve()}},{key:"_nativeShareCard",value:function(e){var t=this;this.emit(b.Z.ON_SHARE_TRIGGER,{shareType:e});var r=this.getShareEntityByShareType(e);return r.normalize(e).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.tpInfo,a=n.tpInfos,s=n.tpDowngrade,c=n.wechat_mask_config,u=n.rawResponse,p=void 0===u?{}:u,f=(0,i.Z)(n,Qe);if(s)t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:A.Z.FAIL,tpDowngrade:!0,tpInfo:o});else{var l=p.sdk_type,h=Object.assign({type:e,redirect_uri:r.redirectURI||"",share_params:f,share_method:(0,We.w)(r,e),sdk_type:l});r.needSharedAmount&&(h.show_check_detail=1),c&&(h.wechat_mask_config=c),o&&o.dev_type&&(h.dev_app=o.dev_app,h.dev_type=o.dev_type),a&&(h.dev_infos=a),t._invokeNativeShare(h,(function(r){t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:A.Z.SUCCESS,responseData:r,tpInfo:o})}),(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=parseInt(r.errorCode,10)||0,i=n===_?A.Z.CANCEL:A.Z.FAIL;t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:i,nativeShareErrorCode:n,responseData:r.data,tpInfo:o})}))}}),this.getNormalizeErrorHandler(e)),0}},{key:"_nativeShareCardSpecial",value:function(e){var t=this;this.emit(b.Z.ON_SHARE_TRIGGER,{shareType:e});var r=this.getShareEntityByShareType(e);return r.normalize(e).then((function(n){var i=Object.assign({type:m.Z.IOS_SYSTEM_SHARE_CARD,share_params:n,share_method:(0,We.w)(r,e)});t._invokeNativeShare(i,(function(r){t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:A.Z.SUCCESS,responseData:r})}),(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=parseInt(r.errorCode,10)||0,i=n===_?A.Z.CANCEL:A.Z.FAIL;t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:i,nativeShareErrorCode:n,responseData:r.data})}))}),this.getNormalizeErrorHandler(e)),0}},{key:"_nativeShareImage",value:function(e){var t=this;this.emit(b.Z.ON_SHARE_TRIGGER,{shareType:e});var r=this.getShareEntityByShareType(e),n=e;return r.normalize(e).then((function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=o.share_code,s=o.system_share_mode,c=o.wechat_mask_config,u=(0,i.Z)(o,Be),p={type:n,share_params:u,share_method:(0,We.w)(r,e),share_code:a,system_share_mode:s};c&&(p.wechat_mask_config=c);var f=!1;t._invokeNativeShare(p,(function(r){!f&&t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:A.Z.SUCCESS,responseData:r})}),(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=parseInt(r.errorCode,10),i=n===_?A.Z.CANCEL:A.Z.FAIL;!f&&t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:i,nativeShareErrorCode:n,responseData:r.data})}))}),this.getNormalizeErrorHandler(e)),0}},{key:"_nativeShareText",value:function(e){var t=this,r=this.getShareEntityByShareType(e),n=r.cipherScene&&"string"==typeof r.cipher;!n&&this.emit(b.Z.ON_SHARE_TRIGGER,{shareType:e});var o=e;return r.normalize(e).then((function(a){var s=a.tpInfo,c=a.tpInfos,u=a.tpDowngrade,p=a.wechat_mask_config,h=(0,i.Z)(a,qe);if(n&&(t.emit(b.Z.ON_SHARE_TRIGGER,{shareType:e,shareID:h.shareID}),delete h.shareID),u)t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:A.Z.FAIL,tpDowngrade:!0,tpInfo:s});else{var d=Object.assign({type:o,share_params:h,share_method:(0,We.w)(r,e)});s&&s.dev_type&&(d.dev_app=s.dev_app,d.dev_type=s.dev_type),c&&(d.dev_infos=c),p&&(d.wechat_mask_config=p);if(r.forceDowngrade||(0,f.zT)().system===l.we.IOS&&o===m.Z.WECHAT_SESSION_TEXT_WITH_NO_SDK)return t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:A.Z.FAIL,shareParams:a}),0;t._invokeNativeShare(d,(function(r){t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:A.Z.SUCCESS,responseData:r})}),(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=parseInt(r.errorCode,10)||0,i=n===_?A.Z.CANCEL:A.Z.FAIL;t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:i,nativeShareErrorCode:n,responseData:r.data})}))}}),this.getNormalizeErrorHandler(e)),0}},{key:"_nativeShareBigImage",value:function(e){return I.D.SHARE_TYPE_DISABLED}},{key:"_nativeShareClipboard",value:function(e){var t=this;this.emit(b.Z.ON_SHARE_TRIGGER,{shareType:e});var r=this.getShareEntityByShareType(e);return r.normalize(e).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.share_url||r.shareURL;Ge(i).then((function(){t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:A.Z.SUCCESS,content:i,originContent:""})}),(function(){t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:A.Z.FAIL,content:i,originContent:""})}))}),this.getNormalizeErrorHandler(e)),0}},{key:"_sharePinTimeline",value:function(e){var t=this;return this.emit(b.Z.ON_SHARE_TRIGGER,{shareType:e}),this.getShareEntityByShareType(e).normalize(e).then((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({type:e,share_params:r});t._invokeNativeShare(n,(function(r){t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:A.Z.SUCCESS,responseData:r})}),(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=parseInt(r.errorCode,10)||0;t.emit(b.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:A.Z.FAIL,nativeShareErrorCode:n,responseData:r.data})}))}),this.getNormalizeErrorHandler(e)),0}},{key:"setupNativeShareButton",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.shareIcon,n=void 0===r?P:r,i=t.shareIconSize,o=void 0===i?22:i;return"string"!=typeof n||"number"!=typeof o?I.D.SHARE_PARAMS_NOT_VALID:((0,h.Q6)("JSUIControl","setRightBarButtons",{buttons:[{icons:{normal:n},callback:function(){e.emit(b.Z.ON_SHARE_BUTTON_CLICKED)},size:o}]}).catch((function(e){})),0)}},{key:"_invokeNativeShare",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n="JSShare",i="share",o=(0,x.kd)()+"";this._isEnableShareCheck?(e=Object.assign({origin:"h5",page_sn:o,page_info:{page_name:(0,x.j0)(),page_url:location&&location.href}},e),this.shareLimiter.getAppOptional()&&(e.app_optional=this.shareLimiter.getAppOptional()),i="performShare"):e.page_sn=o,(0,h.Q6)(n,i,e).then(t,r)}},{key:"shareCipherManually",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue.Z.OPEN_WECHAT,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:He.a.DEFAULT,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return e&&"string"==typeof e?S()?(t!==Ue.Z.OPEN_WECHAT&&t!==Ue.Z.OPEN_WECHAT_IOS_SILENT&&t!==Ue.Z.OPEN_WECHAT_ANDROID_SILENT||(t=O()&&this.shareLimiter.isSilentMode?(0,f.zT)().system===l.we.IOS?Ue.Z.OPEN_WECHAT_IOS_SILENT:Ue.Z.OPEN_WECHAT_ANDROID_SILENT:Ue.Z.OPEN_WECHAT),(0,h.Q6)("JSShare","shareCipher",Ve({cipher:e,open_type:t,paste_type:r,share_code:n},i))):Promise.reject(new Error("not support")):Promise.reject(new Error("invalid cipher"))}}]),r}(d.Z),Je=Ye},582:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});r(2139);var n=r(8309),i=r(9348),o=r(5558),a=r(1074),s=r(1269),c=r(8482),u=(r(9371),r(8837),r(6253),r(851),r(6315)),p=r(6294),f=r(4864),l=r(8488),h=(r(5115),r(9496)),d=r(1419),m=r(9813),g=r(3319),_=r(4340);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var y,S,E=function(e){(0,o.Z)(r,e);var t=v(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"normalize",value:function(e){var t=this;return e===p.Z.COPY_CIPHER?this.processCipher():new Promise((function(r,n){var i=Object.assign({},t);(0,g.i)(e)?(t.targetShareURL=(0,_.ls)(e,i.shareURL),t.realShareURL=t.targetShareURL,r({title:i.title,desc:i.message,share_url:t.realShareURL,image_url:i.thumbnailURL,back:!0})):r({title:i.title,desc:i.message,share_url:i.shareURL,image_url:i.thumbnailURL,back:!0})}))}},{key:"getShareForm",value:function(e){return e===p.Z.COPY_LINK?d.Z.COPY_LINK:e===p.Z.COPY_CIPHER?d.Z.COMMAND:d.Z.CARD}},{key:"getShareMethod",value:function(e){return e===p.Z.COPY_LINK||e===p.Z.COPY_CIPHER?h.Z.MANUAL:h.Z.SDK}}]),r}(m.Z),O=E;function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var P=r(6271).Z.ShareErrorCode,I=[p.Z.QQ_CHAT_SESSION,p.Z.QQ_ZONE,p.Z.WECHAT_SESSION,p.Z.WECHAT_TIMELINE,p.Z.COPY_LINK,p.Z.COPY_CIPHER],b=(y={},(0,c.Z)(y,p.Z.QQ_CHAT_SESSION,0),(0,c.Z)(y,p.Z.QQ_ZONE,1),(0,c.Z)(y,p.Z.WECHAT_SESSION,2),(0,c.Z)(y,p.Z.WECHAT_TIMELINE,3),y),A=(S={},(0,c.Z)(S,p.Z.QQ_CHAT_SESSION,"menuItem:share:qq"),(0,c.Z)(S,p.Z.QQ_ZONE,"menuItem:share:QZone"),(0,c.Z)(S,p.Z.WECHAT_SESSION,"menuItem:share:appMessage"),(0,c.Z)(S,p.Z.WECHAT_TIMELINE,"menuItem:share:timeline"),S),C=function(e){(0,o.Z)(r,e);var t=w(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e)).ShareEntityClass=O,i._enableShareTypes=I.concat(),i}return(0,i.Z)(r,[{key:"share",value:function(e){var t=this;if(this._enableShareTypes.indexOf(e)<0)return P.SHARE_TYPE_DISABLED;if(p.Z.COPY_CIPHER===e)return this.copyCipher();if("undefined"==typeof mqq||void 0===window.mqq.ui)return P.SHARE_NOT_SUPPORTED;var r=this.getShareEntityByShareType(e);return this.emit(f.Z.ON_SHARE_TRIGGER,{shareType:e}),r.normalize(e).then((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.share_type=b[e],window.mqq.ui.shareMessage(r,t.createShareCallback(e))}),this.getNormalizeErrorHandler(e)),0}},{key:"_adjustMenu",value:function(){var e=this,t=I.filter((function(t){return e._enableShareTypes.indexOf(t)<0})).map((function(e){return A[e]}));window.mqq&&window.mqq.hideMenuItems({menuList:t})}},{key:"createShareCallback",value:function(e){var t=this;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=parseInt(r.retCode,10);switch(n){case 0:t.emit(f.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:l.Z.SUCCESS});break;case 1:case-2:t.emit(f.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:l.Z.CANCEL});break;default:t.emit(f.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:l.Z.FAIL})}}}},{key:"_setupShareTypes",value:function(){var e=this,t=this._enableShareTypes.length;return this._enableShareTypes=I.filter((function(t){return(e.disableShareTypes||[]).indexOf(t)<0})),t===this._enableShareTypes.length}},{key:"_setupPlatformShareSDK",value:function(){var e=this;return"undefined"==typeof mqq||void 0===window.mqq.ui?(this.emit(f.Z.SDK_INIT_FAILED),Promise.resolve()):(window.mqq.ui.setOnShareHandler((function(t){var r=I[parseInt(t,10)],n=e.getShareEntityByShareType(r);n&&A[r]&&(e.emit(f.Z.ON_SHARE_TRIGGER,{shareType:r}),n.normalize(r).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.share_type=t,window.mqq.ui.shareMessage(n,e.createShareCallback(r))}),e.getNormalizeErrorHandler(r)))})),Promise.resolve())}},{key:"checkShareTypeEnable",value:function(e){return this._enableShareTypes.indexOf(e)<0?P.SHARE_TYPE_DISABLED:0}}]),r}(u.Z);C.SUPPORTED_SHARE_TYPE=I;var T=C},2882:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});r(2139);var n=r(8309),i=r(9348),o=r(5558),a=r(1074),s=r(1269),c=r(6315),u=r(6294),p=r(6271),f=r(4864),l=r(8488),h=r(5118),d=r(7883),m=r.n(d),g=(r(5115),r(9496)),_=r(1419);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var y=function(e){(0,o.Z)(a,e);var t,r=v(a);function a(){return(0,n.Z)(this,a),r.apply(this,arguments)}return(0,i.Z)(a,[{key:"normalize",value:(t=(0,h.Z)(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object.assign({},this),t!==u.Z.COPY_CIPHER){e.next=3;break}return e.abrupt("return",this.processCipher());case 3:return e.abrupt("return",{title:r.shareURL});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getShareForm",value:function(e){return e===u.Z.COPY_LINK?_.Z.COPY_LINK:e===u.Z.COPY_CIPHER?_.Z.COMMAND:_.Z.DEFAULT}},{key:"getShareMethod",value:function(){return g.Z.MANUAL}}]),a}(r(9813).Z),S=y;function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var O=[u.Z.COPY_LINK,u.Z.COPY_CIPHER],w=function(e){(0,o.Z)(r,e);var t=E(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e)).ShareEntityClass=S,i._enableShareTypes=O.concat(),i}return(0,i.Z)(r,[{key:"share",value:function(e){var t=this;return this._enableShareTypes.indexOf(e)<0?p.D.SHARE_TYPE_DISABLED:u.Z.COPY_CIPHER===e?this.copyCipher():(this.emit(f.Z.ON_SHARE_TRIGGER,{shareType:e}),this.getShareEntityByShareType(e).normalize(e).then((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.emit(f.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:l.Z.SUCCESS,content:r.title})}),this.getNormalizeErrorHandler(e)),0)}}]),r}(c.Z),P=w},1126:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});r(2139);var n=r(8309),i=r(9348),o=r(5558),a=r(1074),s=r(1269),c=r(8482),u=(r(6253),r(851),r(8837),r(9115),r(6997),r(1181),r(9371),r(5115),r(6315)),p=r(6294),f=r(4864),l=r(8488),h=r(9496),d=r(1419),m=r(9813),g=r(3319),_=r(4340);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var y,S=function(e){(0,o.Z)(r,e);var t=v(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"normalize",value:function(e){var t=this,r=Object.assign({},this);return e===p.Z.COPY_CIPHER?this.processCipher():new Promise((function(n,i){var o=r.shareURL;t.targetShareURL=t.shareURL,t.realShareURL=t.shareURL,t.useShortURL=!1,e===p.Z.WECHAT_TIMELINE||e===p.Z.WECHAT_SESSION?(0,_.Yy)(r).then((function(e){var i=e.realShareURL,o=e.targetShareURL,a=e.useShortURL;t.useShortURL=a,t.targetShareURL=o,t.realShareURL=i,n({title:r.title,desc:r.message,imgUrl:r.thumbnailURL,link:i})}),(function(){})):(0,g.i)(e)?(t.targetShareURL=(0,_.ls)(e,o),t.realShareURL=t.targetShareURL,n({title:r.title,desc:r.message,imgUrl:r.thumbnailURL,link:t.realShareURL})):n({title:r.title,desc:r.message,imgUrl:r.thumbnailURL,link:o})}))}},{key:"getShareForm",value:function(e){return e===p.Z.COPY_CIPHER?d.Z.COMMAND:d.Z.CARD}},{key:"getShareMethod",value:function(e){return e===p.Z.COPY_CIPHER?h.Z.MANUAL:h.Z.SDK}}]),r}(m.Z),E=S;function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var w=r(6271).Z.ShareErrorCode,P=(y={},(0,c.Z)(y,p.Z.WECHAT_SESSION,{name:"onMenuShareAppMessage",tag:"menuItem:share:appMessage"}),(0,c.Z)(y,p.Z.WECHAT_TIMELINE,{name:"onMenuShareTimeline",tag:"menuItem:share:timeline"}),(0,c.Z)(y,p.Z.QQ_CHAT_SESSION,{name:"onMenuShareQQ",tag:"menuItem:share:qq"}),(0,c.Z)(y,p.Z.QQ_ZONE,{name:"onMenuShareQZone",tag:"menuItem:share:QZone"}),(0,c.Z)(y,p.Z.TENCENT_WEIBO,{name:"onMenuShareWeibo",tag:"menuItem:share:weiboApp"}),y),I=[p.Z.WECHAT_SESSION,p.Z.WECHAT_TIMELINE,p.Z.QQ_CHAT_SESSION,p.Z.QQ_ZONE,p.Z.TENCENT_WEIBO,p.Z.COPY_CIPHER],b=function(e){(0,o.Z)(r,e);var t=O(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e)).ShareEntityClass=E,i._enableShareTypes=I.concat(),i}return(0,i.Z)(r,[{key:"share",value:function(e){return e===p.Z.COPY_CIPHER?this.copyCipher():w.SHARE_ACTION_DISABLE}},{key:"refreshShare",value:function(e,t){var r=this;return e?t?(this.shareEntityMap[t]=e,"undefined"==typeof wx?(this.emit(f.Z.SDK_INIT_FAILED),Promise.resolve()):this.refreshWeChatChannelShare(t)):(this.shareEntity=e,this._enableShareTypes.forEach((function(t){r.shareEntityMap[t]=r.createShareEntity(e,t)})),this._setupPlatformShareSDK()):Promise.resolve()}},{key:"_setupShareTypes",value:function(){var e=this,t=this._enableShareTypes.length;return this._enableShareTypes=I.filter((function(t){return e.disableShareTypes.indexOf(t)<0})),t===this._enableShareTypes.length}},{key:"_setupPlatformShareSDK",value:function(){var e=this;return"undefined"==typeof wx?(this.emit(f.Z.SDK_INIT_FAILED),Promise.resolve()):Promise.all(this._enableShareTypes.map((function(t){e.refreshWeChatChannelShare(t)})))}},{key:"_adjustMenu",value:function(){var e=this,t=I.filter((function(t){return e._enableShareTypes.indexOf(t)<0})).map((function(e){return P[e].tag}));window.wx&&window.wx.hideMenuItems({menuList:t})}},{key:"refreshWeChatChannelShare",value:function(e){var t=P[e];return t?this._setupWeChatChannelShare(e,t.name):Promise.resolve()}},{key:"_setupWeChatChannelShare",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!window.wx||"function"!=typeof window.wx[r])return Promise.resolve();var n=this.shareEntityMap[e]||this.shareEntity;return n?(this.emit(f.Z.ON_SHARE_PREPARE,{shareType:e}),n.normalize(e).then((function(n){var i=Object.assign({trigger:function(){t.emit(f.Z.ON_SHARE_TRIGGER,{shareType:e})},success:function(){t.emit(f.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:l.Z.SUCCESS}),t.refreshWeChatChannelShare(e)},fail:function(){t.emit(f.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:l.Z.FAIL}),t.refreshWeChatChannelShare(e)},cancel:function(){t.emit(f.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:l.Z.CANCEL}),t.refreshWeChatChannelShare(e)}},n);window.wx[r](i)}),this.getNormalizeErrorHandler(e))):Promise.resolve()}},{key:"checkShareTypeEnable",value:function(e){return this._enableShareTypes.indexOf(e)<0?w.SHARE_TYPE_DISABLED:0}}]),r}(u.Z);b.SUPPORTED_SHARE_TYPE=I.concat();var A=b},8989:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return R}});r(2139);var n=r(9385),i=r(8309),o=r(9348),a=r(5558),s=r(1074),c=r(1269),u=(r(5115),r(6253),r(851),r(9115),r(6997),r(1181),r(9371),r(6315)),p=r(6294),f=r(4864),l=r(8488),h=r(5118),d=r(7883),m=r.n(d),g=r(9496),_=r(1419),v=r(9813),y=r(7503);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var E=function(e){(0,a.Z)(n,e);var t,r=S(n);function n(e){var t;return(0,i.Z)(this,n),(t=r.call(this,e)).wxAppRequestPayload=e.wxAppRequestPayload,t.miniObjectPath=e.miniObjectPath,t.shortCommandApi=e.shortCommandApi,t.wxAppNavigatePayload=e.wxAppNavigatePayload,t}return(0,o.Z)(n,[{key:"normalize",value:(t=(0,h.Z)(m().mark((function e(t){var r,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==p.Z.COPY_CIPHER){e.next=2;break}return e.abrupt("return",this.processCipher());case 2:if(r=Object.assign({},this),(n=r.miniObjectPath)&&"string"==typeof n)n=(0,y.ZP)(r);else if("function"==typeof n)try{"string"!=typeof(n=n(r.shareURL))&&(n=null)}catch(e){}return e.abrupt("return",Promise.resolve(Object.assign({},r.wxAppNavigatePayload,{title:r.title,thumbnail:r.thumbnailURL,share_url:n||(0,y.Hr)(r.shareURL)})));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getShareForm",value:function(e){return e===p.Z.COPY_CIPHER?_.Z.COMMAND:_.Z.WXAPP_CARD}},{key:"getShareMethod",value:function(e){return e===p.Z.COPY_CIPHER?g.Z.MANUAL:g.Z.SDK}}]),n}(v.Z),O=E,w=r(6271),P=r(9586),I=r(4649);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var A=w.Z.ShareErrorCode,C=[p.Z.WECHAT_SESSION,p.Z.COPY_CIPHER],T=function(e){(0,a.Z)(r,e);var t=b(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).ShareEntityClass=O,n._enableShareTypes=C.concat(),n}return(0,o.Z)(r,[{key:"share",value:function(e){return this._enableShareTypes.indexOf(e)<0?A.SHARE_TYPE_DISABLED:p.Z.COPY_CIPHER===e?this.copyCipher():this.getShareEntityByShareType(e)?this._shareByNavigate():A.SHARE_PARAMS_NOT_VALID}},{key:"_shareByNavigate",value:function(){var e=this;if(!window.wx||!window.wx.miniProgram||"function"!=typeof window.wx.miniProgram.navigateTo)return A.SHARE_NOT_SUPPORTED;var t=p.Z.WECHAT_SESSION,r=this.getShareEntityByShareType(t);return this.emit(f.Z.ON_SHARE_TRIGGER,{shareType:t}),r.normalize(t).then((function(r){window.wx.miniProgram.navigateTo({url:"".concat("/pages/web_share/web_share?").concat((0,I.XP)(Object.assign({page_sn:(0,P.kd)()+"",page_name:(0,P.j0)(),page_id:(0,P.e6)()},r)))}),e.emit(f.Z.ON_SHARE_COMPLETED,{shareType:t,shareResultType:l.Z.SUCCESS})}),this.getNormalizeErrorHandler(t)),0}},{key:"refreshWxAppChannelShare",value:function(e){return this._setupPlatformShareSDK()}},{key:"notifyWxAppShareComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Z.SUCCESS;this.emit(f.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:t}),this.refreshWxAppChannelShare(e)}},{key:"_setupPlatformShareSDK",value:function(){var e=this;return"object"!==("undefined"==typeof wx?"undefined":(0,n.Z)(wx))||"object"!==(0,n.Z)(window.wx.miniProgram)||"function"!=typeof window.wx.miniProgram.postMessage?(this.emit(f.Z.SDK_INIT_FAILED),Promise.resolve()):Promise.all([p.Z.WECHAT_SESSION].map((function(t){var r=e.getShareEntityByShareType(t);return r?(e.emit(f.Z.ON_SHARE_PREPARE,{shareType:t}),r.normalize(t).then((function(e){try{window.wx.miniProgram.postMessage({data:{message_type:"share",share_info:e,page_info:{page_sn:(0,P.kd)()+"",page_name:(0,P.j0)(),page_id:(0,P.e6)()}}})}catch(e){}}),e.getNormalizeErrorHandler(t))):Promise.resolve()})))}}]),r}(u.Z),R=T},9813:function(e,t,r){"use strict";r.d(t,{W:function(){return h}});var n=r(5118),i=r(8309),o=r(9348),a=r(7883),s=r.n(a),c=(r(9357),r(6253),r(851),r(5115),r(7500)),u=r(4898),p=r(1419),f=r(9496),l=r(4340);function h(e){for(var t=[],r=1;r<arguments.length;++r)t.push(arguments[r]);return e.replace(/{(\d+)}/g,(function(e,r){return 0===t[r]?0:t[r]||""}))}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this.title=t.title||"",this.message=t.message||"",this.shareURL=t.shareURL||"",this.targetShareURL="",this.realShareURL="",this.shareDomain=t.shareDomain||"",this.thumbnailURL=t.thumbnailURL||"",this.timelineDomain=t.timelineDomain||"",this.timelineAppId=t.timelineAppId||"",this.marketActivityID=t.marketActivityID||0,this.urlWrapType=t.urlWrapType||u.ZP.DEFAULT,this.shortURLApi=t.shortURLApi||"",this.domainURLApi=t.domainURLApi||"",this.payloadMixin=t.payloadMixin||null,this.requestUsePost=t.requestUsePost||!1,this.shortCommandApi=t.shortCommandApi||"",this.cipherProcessor=t.cipherProcessor}var t;return(0,o.Z)(e,[{key:"normalize",value:(t=(0,n.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({}));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"setShareURLQueries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.urlWrapType!==u.ZP.RAW&&(this.shareID=e.refer_share_id,this.shareURL=(0,c.Z)(e,this.shareURL))}},{key:"getShareForm",value:function(e){return p.Z.DEFAULT}},{key:"getShareMethod",value:function(e){return f.Z.DEFAULT}},{key:"processCipher",value:function(){var e=this,t=Object.assign({},this),r={title:t.title},n=r.title||"";return(0,l.Yy)(t).then((function(t){var i=t.targetShareURL,o=t.useShortURL,a=t.shareText,s=t.cipher;s&&(r.cipher=s),e.targetShareURL=i;var c=o||s?a:"";return n=h(n,c||i,i,c),r.title=n,e.pcode=n,r}))}}]),e}();t.Z=d},6271:function(e,t,r){"use strict";r.d(t,{D:function(){return o}});var n=r(9348),i=r(8309),o={DEFAULT:0,SHARE_PARAMS_NOT_VALID:1,SHARE_TYPE_DISABLED:2,SHARE_TYPE_NOT_FOUND:3,SHARE_ACTION_DISABLE:4,SHARE_STATUS_ILLEGAL:5,SHARE_NOT_SUPPORTED:6,SHARE_LIMITER_NOT_INIT:7},a=(0,n.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this.errorCode=t.errorCode||o.DEFAULT,this.message=t.message||""}));a.create=function(e){return new a({errorCode:e})},a.ShareErrorCode=o,t.Z=a},4864:function(e,t){"use strict";t.Z={DEFAULT:0,ON_SHARE_TRIGGER:1,ON_SHARE_COMPLETED:2,SDK_INIT_FAILED:3,ON_SHARE_BUTTON_CLICKED:4,ON_SHARE_PREPARE:5,ON_SDK_READY:6,ON_SHARE_INTERRUPT:7,SHARE_LIMIT_LOAD_FAIL:8,PERFORM_LOG_FAILED:9,SHARE_REACH_LIMIT:10}},1419:function(e,t){"use strict";t.Z={DEFAULT:"",COMMAND:"kouling",IMAGE:"image",TEXT:"text",CARD:"card",WXAPP_CARD:"custom_card",COPY_LINK:"text"}},3804:function(e,t){"use strict";t.Z={CIPHER:"CIPHER_TEXT",LINK:"LINK",DOMAIN:"DOMAIN",NORMAL:"NORMAL",IMAGE:"IMAGE",COPY:"COPY"}},8639:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(4711);function i(){var e=(0,n.zT)();return e.isWeChatMiniProgram?e.WxApp:e.isWeChatPlatform?e.WeChat:e.isQQPlatform?e.QQ:e.isNativePlatform||e.isTinyNativePlatform?"h5":""}},1022:function(e,t,r){"use strict";r.d(t,{I:function(){return a},w:function(){return s}});var n=r(4898),i=r(1419),o=r(3804);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{title:e.title,message:e.message,thumb_url:e.thumbnailURL,share_url:e.shareURL}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,n.Pp)(e.urlWrapType)&&e.marketActivityID&&e.getShareForm(t)===i.Z.COMMAND?o.Z.CIPHER:(0,n.Pp)(e.urlWrapType)&&e.marketActivityID&&e.getShareForm(t)===i.Z.TEXT?o.Z.LINK:(0,n.uW)(e.urlWrapType)&&e.marketActivityID&&e.getShareForm(t)===i.Z.CARD?o.Z.DOMAIN:e.getShareForm(t)===i.Z.IMAGE?o.Z.IMAGE:o.Z.NORMAL}},9496:function(e,t){"use strict";t.Z={DEFAULT:"",SYSTEM:"system",SDK:"sdk",MANUAL:"manual",EXTENSION:"extension",STAND:"stand"}},8488:function(e,t){"use strict";t.Z={COMPLETE:0,SUCCESS:1,FAIL:2,CANCEL:3,ERROR:4}},6404:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(109);function i(e){var t=e.errorCode,r=void 0===t?0:t,i=e.message,o=void 0===i?"":i,a=e.options,s=void 0===a?{}:a;(0,n.K2)(new Error("share error"),{error_type:"share error: ".concat(r),error_message:o,payload:s})}},6294:function(e,t){"use strict";t.Z={DEFAULT:0,WECHAT_SESSION:1,WECHAT_TIMELINE:2,WEIBO:3,QQ_CHAT_SESSION:4,QQ_ZONE:5,TENCENT_WEIBO:6,WECHAT_SESSION_APP:7,WECHAT_TIMELINE_IMAGE:8,WECHAT_TIMELINE_IMAGE_WITH_NO_SDK:9,WECHAT_SESSION_IMAGE:10,QQ_CHAT_SESSION_IMAGE:11,QQ_ZONE_IMAGE:12,WEIBO_IMAGE:13,WECHAT_TIMELINE_IMAGES:15,WECHAT_SESSION_TEXT_WITH_NO_SDK:16,WECHAT_SESSION_TEXT:17,IOS_SYSTEM_SHARE_CARD:18,WECHAT_SESSION_IMAGE_WITH_NO_SDK:19,WECHAT_SESSION_IMAGES_WITH_NO_SDK:20,WECHAT_TIMELINE_TEXT:21,SHARE_IMAGE_PASSIVELY:22,COPY_LINK:23,WECHAT_SESSION_MUSIC:24,WECHAT_SESSION_VIDEO:25,COPY_CIPHER:9995,WECHAT_SESSION_CARD_WITH_NO_SDK:9996,WECHAT_TIMELINE_CARD_WITH_NO_SDK:9997,FRIENDS:9998,WECHAT_BIG_IMAGE:9999,PIN_TIMELINE:1e4}},3e3:function(e,t,r){"use strict";r.d(t,{q:function(){return n}});var n={DEFAULT:0,ANDROID_SP:1}},7931:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});var n={TP_FIRST:0,GENERAL_FIRST:1,GENERAL_ONLY:2}},3023:function(e,t){"use strict";t.Z={DEFAULT:0,OPEN_WECHAT:1,OPEN_QQ:2,OPEN_WEIBO:3,OPEN_WECHAT_IOS_SILENT:101,OPEN_WECHAT_ANDROID_SILENT:201}},326:function(e,t,r){"use strict";r.r(t),r.d(t,{CipherConsumeMode:function(){return Le.J},CipherPasteType:function(){return je.a},ShareChannel:function(){return k},ShareErrorCode:function(){return We},ShareEventType:function(){return h.Z},ShareForm:function(){return O.Z},ShareMethod:function(){return v.Z},ShareResult:function(){return y},ShareResultType:function(){return S.Z},ShareType:function(){return l.Z},ShareWaterMark:function(){return Pe},SystemShareMode:function(){return Ue.q},TPSelectCategory:function(){return xe.X},ThirdPartyOpenType:function(){return Ne.Z},URLWrapType:function(){return F.ZP},default:function(){return Ge},setPageContext:function(){return K.I8}});var n=r(9385),i=r(5118),o=r(8309),a=r(9348),s=r(7883),c=r.n(s),u=(r(1876),r(5115),r(8837),r(6253),r(851),r(9115),r(6997),r(1181),r(9357),r(7476),r(9371),r(4169)),p=r(9828),f=r(4649),l=r(6294),h=r(4864),d=r(4711),m=r(8482),g=(r(5767),r(4882),r(8351),r(5607)),_=r(2202),v=r(9496),y={SUCCESS:"success",FAIL:"fail",CANCEL:"cancel",COMPLETE:"complete",ERROR:"error"},S=r(8488),E=r(6271),O=r(1419),w=r(6315),P="event",I={SHARE:"share",SHARE_RESULT:"share_result"},b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,e),this.userID=t.userID||"",this.uin=t.uin||"",this.shareID=t.shareID||"",this.op=t.op||P,this.subOP=t.subOP||"",this.shareChannel=t.shareChannel||"",this.shareResult=t.shareResult||"",this.shareURL=t.shareURL||"",this.shareDomain=t.shareDomain||"",this.shareForm=t.shareForm||"",this.shareMethod=t.shareMethod||"",this.shareAppID=t.shareAppID,this.pcode=t.pcode,this.wxShareCount=t.wxShareCount,this.cipherScene=t.cipherScene}return(0,a.Z)(e,[{key:"normalize",value:function(e){if(this.subOP===I.SHARE)return{op:this.op,sub_op:this.subOP,share_id:this.shareID,share_channel:this.shareChannel,share_url:this.shareURL,share_domain:this.shareDomain,share_form:this.shareForm,share_method:this.shareMethod,share_app_id:this.shareAppID,pcode:this.pcode,pcode_scene:this.cipherScene};if(this.subOP===I.SHARE_RESULT){var t={op:this.op,sub_op:this.subOP,event:"share_result",share_id:this.shareID,share_channel:this.shareChannel,share_url:this.shareURL,share_domain:this.shareDomain,share_result:this.shareResult,share_form:this.shareForm,share_method:this.shareMethod,share_app_id:this.shareAppID,wx_share_count:this.wxShareCount,pcode:this.pcode,pcode_scene:this.cipherScene};return this.walrusID&&(t.walrus_id=this.walrusID,t.walrus_type=this.walrusType),t}return{}}},{key:"getShareURLTrackingQueries",value:function(){return e.getTrackingQueries(this)}}]),e}();b.TRACKING_SUB_OP=I,b.getTrackingQueries=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{refer_share_id:e.shareID,refer_share_uin:e.uin,refer_share_channel:e.shareChannel}};var A=b,C=r(1403);function T(e){return e=e||32,(0,C.x)(e)}var R,k={UNKNOWN:"unknown",APP_MESSAGE:"message",TIMELINE:"timeline",QQ:"qq",QQ_ZONE:"qzone",QQ_WEIBO:"qq_weibo",SINA_WEIBO:"weibo",CLIPBOARD:"copy_link"},D=(R={1:k.APP_MESSAGE,2:k.TIMELINE,3:k.SINA_WEIBO,4:k.QQ,5:k.QQ_ZONE,8:k.TIMELINE,9:k.TIMELINE,10:k.APP_MESSAGE,11:k.QQ,12:k.QQ_ZONE,13:k.SINA_WEIBO,16:k.APP_MESSAGE,17:k.APP_MESSAGE,18:k.APP_MESSAGE,19:k.APP_MESSAGE,20:k.APP_MESSAGE,21:k.TIMELINE,23:k.CLIPBOARD,24:k.APP_MESSAGE,25:k.APP_MESSAGE},(0,m.Z)(R,l.Z.COPY_CIPHER,k.CLIPBOARD),(0,m.Z)(R,l.Z.WECHAT_SESSION_CARD_WITH_NO_SDK,k.APP_MESSAGE),(0,m.Z)(R,l.Z.WECHAT_TIMELINE_CARD_WITH_NO_SDK,k.TIMELINE),R);function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return D[e]||k.UNKNOWN}var Z,N=r(392),L=r(9063),x=r(2691),j=0,U=1,W=(Z={},(0,m.Z)(Z,k.UNKNOWN,0),(0,m.Z)(Z,k.APP_MESSAGE,1),(0,m.Z)(Z,k.TIMELINE,1),(0,m.Z)(Z,k.QQ,2),(0,m.Z)(Z,k.QQ_ZONE,2),(0,m.Z)(Z,k.QQ_WEIBO,2),(0,m.Z)(Z,k.SINA_WEIBO,3),Z);var G=function(e){return W[e]||j},H=function(){function e(){(0,o.Z)(this,e),this._venderAppIDs={},this._isInited=!1}return(0,a.Z)(e,[{key:"build",value:function(e){var t=e.wechatAppID;return this._isInited?Promise.resolve():(this._isInited=!0,(0,d.zT)().isNativePlatform?this._buildNativeCache():(0,d.zT)().isWeChatPlatform?this._buildWeChatCache(t):Promise.resolve())}},{key:"isInited",value:function(){return this._isInited}},{key:"_buildNativeCache",value:function(){var e,t=this;return(e=[U],(0,d.zT)().statisfy("4.49.0","4.49.0","greaterThan")?Array.isArray(e)?(0,x.Q6)("JSShare","venderAppIds",{channels:e}):Promise.reject({message:"invalid params"}):Promise.reject({message:"not support"})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t._venderAppIDs=Object.assign(t._venderAppIDs,e)})).catch((function(){return Promise.resolve()}))}},{key:"_buildWeChatCache",value:function(e){return this._venderAppIDs[U]=e,Promise.resolve()}},{key:"getAppIDSync",value:function(e){var t=G(e);return this._venderAppIDs[t]}}]),e}(),Q=null;H.getInstance=function(e){return Q||(Q=new H(e)),Q};var B=H,q=r(8921),F=r(4898),V=r(2863),K=r(9586);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=E.Z.ShareErrorCode,X=A.TRACKING_SUB_OP;var $=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,e),this.transparentTransmission=t.transparentTransmission||{},this.trackingEntity=null,this.onTriggerListener=null,this.onCompletedListener=null,this.shareController=null,this._cachePrepareInfo={}}return(0,a.Z)(e,[{key:"listen",value:function(e){e&&e instanceof w.Z&&(this.disconnect(),this.shareController=e,this._setupDefaultTrackListener(e))}},{key:"disconnect",value:function(){this.shareController&&this._removeDefaultTrackListener(this.shareController)}},{key:"updateTrackerTrans",value:function(e){this.transparentTransmission=Object.assign({},this.transparentTransmission,e)}},{key:"_setupDefaultTrackListener",value:function(e){this._removeDefaultTrackListener(e),this.onPrepareListener=this._onDefaultSharePrepare.bind(this),this.onTriggerListener=this._onDefaultShareTrigger.bind(this),this.onCompletedListener=this._onDefaultShareCompleted.bind(this),e.on(h.Z.ON_SHARE_PREPARE,this.onPrepareListener),e.on(h.Z.ON_SHARE_TRIGGER,this.onTriggerListener),e.on(h.Z.ON_SHARE_COMPLETED,this.onCompletedListener)}},{key:"_removeDefaultTrackListener",value:function(e){this.onPrepareListener&&e.removeListener(h.Z.ON_SHARE_PREPARE,this.onPrepareListener),this.onTriggerListener&&e.removeListener(h.Z.ON_SHARE_TRIGGER,this.onTriggerListener),this.onCompletedListener&&e.removeListener(h.Z.ON_SHARE_COMPLETED,this.onCompletedListener)}},{key:"_sendLog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign(e,this.transparentTransmission);(0,g.oP)(Y({page_id:(0,K.e6)(),page_name:(0,K.j0)(),page_sn:(0,K.kd)()},t))}},{key:"_onDefaultSharePrepare",value:function(e){var t=e.shareType;if(this._cachePrepareInfo[t]){var r=this.shareController.getShareEntityByShareType(t)||{},n=this._cachePrepareInfo[t];return n.userID=(0,L.ZP)(),n.uin=(0,L.j9)(),void r.setShareURLQueries(A.getTrackingQueries(n))}var i=this.shareController.getShareEntityByShareType(t),o={userID:(0,L.ZP)(),uin:(0,L.j9)(),shareID:this._getCachedShareID(i)||T(),shareChannel:M(t)};i&&i.setShareURLQueries(A.getTrackingQueries(o)),this._cachePrepareInfo[t]=o}},{key:"_onDefaultShareTrigger",value:function(e){var t=e.shareType,r=e.shareID;if(t===l.Z.PIN_TIMELINE||(0,d.zT)().isWeChatMiniProgram&&t===l.Z.WECHAT_SESSION)return 0;var n=this.shareController.getShareEntityByShareType(t)||{},i=this._cachePrepareInfo[t];this._cachePrepareInfo[t]=null;var o=M(t),a=B.getInstance();if(this.trackingEntity=new A(Object.assign({userID:(0,L.ZP)(),uin:(0,L.j9)(),shareID:this._getCachedShareID(n)||T(),subOP:X.SHARE,shareChannel:o,timelineDomain:n.timelineDomain,cipherScene:n.cipherScene,shareForm:n.getShareForm&&n.getShareForm(t),shareMethod:n.getShareMethod&&n.getShareMethod(t),shareAppID:a.getAppIDSync(o)},i,r?{shareID:r}:null)),!i&&n.setShareURLQueries(A.getTrackingQueries(this.trackingEntity)),n.getShareForm(t)!==O.Z.COMMAND){var s=n.targetShareURL||n.shareURL;this.trackingEntity.shareURL=s,this.trackingEntity.shareDomain=new N.Z(s).origin}this._sendLog(this.trackingEntity.normalize(t))}},{key:"_onDefaultShareCompleted",value:function(e){var t=e.shareType,r=e.shareResultType,i=e.useComplete,o=e.responseData,a=void 0===o?{}:o,s=e.tpInfo,c=(0,d.zT)();if(t===l.Z.PIN_TIMELINE||c.isWeChatMiniProgram&&t===l.Z.WECHAT_SESSION)return 0;if(!this.trackingEntity)return J.SHARE_STATUS_ILLEGAL;var u=this.shareController.getShareEntityByShareType(t)||{},p=this.getShareResultByType(r);if(i&&(p=y.COMPLETE),u.getShareForm(t)!==O.Z.COMMAND){var f=u.realShareURL||u.shareURL;this.trackingEntity.shareURL=f,this.trackingEntity.shareDomain=new N.Z(f).origin}else this.trackingEntity.pcode=u.pcode;var h,m=(h=a)&&"object"===(0,n.Z)(h)?"string"!=typeof h.wx_app_id?null:h.wx_app_id:null;m&&(this.trackingEntity.shareAppID=m),a.hasOwnProperty("wx_share_count")&&(this.trackingEntity.wxShareCount=a.wx_share_count,delete a.wx_share_count),this.trackingEntity.subOP=X.SHARE_RESULT,this.trackingEntity.shareResult=p,s&&(this.trackingEntity.walrusID=s.group_id,this.trackingEntity.walrusType=s.dev_type),u.forceDowngrade||c.platform===_.iw.PddIOS&&t===l.Z.WECHAT_SESSION_TEXT_WITH_NO_SDK||l.Z.COPY_LINK===t&&!c.isNativePlatform&&!c.isTinyNativePlatform||l.Z.COPY_CIPHER===t||(this._sendLog(this.trackingEntity.normalize(t)),this.trackingEntity=null)}},{key:"trackProlongation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!this.trackingEntity)return!1;this.trackingEntity.shareMethod=v.Z.MANUAL,this.trackingEntity.shareResult=y.COMPLETE;var n=Object.assign(this.trackingEntity.normalize(e),t);return this.trackingEntity=null,"function"==typeof r?r(n):this._sendLog(n),!0}},{key:"getShareResultByType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case S.Z.COMPLETE:return y.COMPLETE;case S.Z.SUCCESS:return y.SUCCESS;case S.Z.FAIL:return y.FAIL;case S.Z.CANCEL:return y.CANCEL;default:return y.ERROR}}},{key:"_getCachedShareID",value:function(e){if(e.urlWrapType===F.ZP.SERVER_SHORT_URL_WITH_CACHE){var t=(0,q.s)(),r=(0,V.Z)(e);return t.getShareID(r)}}}]),e}(),ee=$,te=r(3402),re="api/flow/audience/share/content";function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,te.e)({pageInfo:{pageId:(0,K.e6)()}},{defaultErrorHandler:function(e){}}),n={};return n.share_params=t.shareParams||{},n.origin=t.platform||"",n.page_sn=t.pageSn||(0,K.kd)()+"",n.page_info=t.pageInfo||{page_name:(0,K.j0)(),page_url:location&&location.href},"post"===e.toLowerCase()?r.post(re,n):r.get(re,{params:n})}var ie="api/flow/audience/share/perform";function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,te.e)({pageInfo:{pageId:(0,K.e6)()}},{defaultErrorHandler:function(e){}}),n={};return n.share_params=t.shareParams||{},n.share_type=t.shareType||0,n.share_method=t.shareMethod||"",n.origin=t.platform||"",n.page_sn=t.pageSn||(0,K.kd)(),n.page_info=t.pageInfo||{page_name:(0,K.j0)(),page_url:location&&location.href},n.extra=t.extra||{},"post"===e.toLowerCase()?r.post(ie,n):r.get(ie,{params:n})}var ae={REACH_HOUR_LIMIT:43367,REACH_DAY_LIMIT:43368},se=function(){function e(){(0,o.Z)(this,e),this._shareController=null,this._onPerformShareErrorHandler=null}return(0,a.Z)(e,[{key:"listen",value:function(e){e&&e instanceof w.Z&&(this.disconnect(),this._shareController=e,this._setupListener(e))}},{key:"disconnect",value:function(){this.removeListener()}},{key:"_setupListener",value:function(e){this.removeListener(),this._onPerformShareErrorHandler=this._onPerformShareError.bind(this),e.on(h.Z.PERFORM_LOG_FAILED,this._onPerformShareErrorHandler)}},{key:"removeListener",value:function(){this._shareController&&this._onPerformShareErrorHandler&&this._shareController.removeListener(h.Z.PERFORM_LOG_FAILED,this._onPerformShareErrorHandler)}},{key:"_onPerformShareError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.error||{},r=e.shareType,n=parseInt(t.errorCode,10)||0;[ae.REACH_DAY_LIMIT,ae.REACH_HOUR_LIMIT].indexOf(n)>=0&&(this._shareController.emit(h.Z.SHARE_REACH_LIMIT,{shareType:r,errorCode:n}),this.hideShareMenuOption(r))}},{key:"hideShareMenuOption",value:function(e){var t=this._shareController;e&&t&&t.disableShare(e)}}]),e}(),ce=se,ue=r(6404),pe=r(1022),fe=r(8639),le="undefined"!=typeof window;function he(){return(he=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(457).then(r.bind(r,7277));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=(0,d.zT)()).isWeChatMiniProgram){e.next=7;break}return e.next=4,r.e(457).then(r.bind(r,8989));case 4:case 10:case 16:case 22:case 27:return e.abrupt("return",e.sent.default);case 7:if(!t.isWeChatPlatform){e.next=13;break}return e.next=10,r.e(457).then(r.bind(r,1126));case 13:if(!t.isQQPlatform){e.next=19;break}return e.next=16,r.e(457).then(r.bind(r,582));case 19:if(!t.isNativePlatform&&!t.isTinyNativePlatform){e.next=25;break}return e.next=22,r.e(457).then(r.bind(r,7277));case 25:return e.next=27,r.e(457).then(r.bind(r,2882));case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me={BROWSER:!0,BUNDLE_PLATFORM:"production"}.HYBRID?function(){return he.apply(this,arguments)}:function(){return de.apply(this,arguments)},ge=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,e),this.shareController=null,this.shareTracker=null,this.menuWatcher=null,this.platform=(0,fe.Z)(),this._disableContentCheck=!0,this._disablePerformShareLog=!1,this.controllerOptions=t.controllerOptions||{},this.noDefaultShare=t.noDefaultShare||!1,this.disableShare=t.disableShare||!1,this._initControllerPromise=null,this.loadErrorRetry=t.loadErrorRetry||0,this.enableInfiniteRetry=t.enableInfiniteRetry||!1,this._loadControllerFailed=!1}var t,r,n,s,u;return(0,a.Z)(e,[{key:"setup",value:(u=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le&&!this.shareController){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(!this._loadControllerFailed||this.enableInfiniteRetry){e.next=4;break}return e.abrupt("return",Promise.reject(new Error("load controller failed")));case 4:return this._setupShareTracker(),this._setupMenuWatcher(),this._initControllerPromise=this._initControllerPromise||this._setupController(),t=!1,e.prev=8,e.next=11,this._initControllerPromise;case 11:e.next=25;break;case 13:if(e.prev=13,e.t0=e.catch(8),this._initControllerPromise=null,!(this.loadErrorRetry>0)){e.next=22;break}(0,ue.Z)({errorCode:0,message:"加载分享控制器失败, 剩余重试次数".concat(this.loadErrorRetry),options:{message:e.t0&&e.t0.message}}),this.loadErrorRetry--,t=!0,e.next=25;break;case 22:throw this._loadControllerFailed=!0,(0,ue.Z)({errorCode:0,message:"加载分享控制器失败",options:{message:e.t0&&e.t0.message}}),e.t0;case 25:if(!t){e.next=27;break}return e.abrupt("return",this.setup());case 27:case"end":return e.stop()}}),e,this,[[8,13]])}))),function(){return u.apply(this,arguments)})},{key:"_setupController",value:(s=(0,i.Z)(c().mark((function e(){var t,r,n,i=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shareController){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return t=this.controllerOptions,r=(0,d.zT)(),e.next=6,me();case 6:n=e.sent,this.shareController=new n(t),r.isWeChatPlatform||r.isQQPlatform?this.noDefaultShare||this._prepareShareController():(r.isNativePlatform||r.isTinyNativePlatform)&&this.shareController.on(h.Z.ON_SHARE_COMPLETED,(function(e){var t=e.shareType,r=e.shareResultType,n=e.nativeShareErrorCode;r===S.Z.FAIL&&[ae.REACH_HOUR_LIMIT,ae.REACH_DAY_LIMIT].indexOf(n)>=0&&(i.shareController.emit(h.Z.SHARE_REACH_LIMIT,{shareType:t,errorCode:n}),(0,ue.Z)({errorCode:n,message:"分享达到上限"}))})),this.shareTracker.listen(this.shareController),this.menuWatcher.listen(this.shareController),this._setupPerformShareLog();case 12:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"_prepareShareController",value:function(){this.shareController&&!this.shareController.isInited()&&this.shareController.initShare()}},{key:"_setupMenuWatcher",value:function(){this.menuWatcher||(this.menuWatcher=new ce)}},{key:"_setupShareTracker",value:function(){this.disableTracker||this.shareTracker||(this.shareTracker=new ee({transparentTransmission:this.trackerTrans}))}},{key:"_setupPerformShareLog",value:function(){var e=this;this.shareController&&!(0,d.zT)().isNativePlatform&&this.shareController.on(h.Z.ON_SHARE_COMPLETED,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e._disablePerformShareLog&&t.shareResultType===S.Z.SUCCESS&&t.shareType!==l.Z.COPY_CIPHER){var r=t.shareType,n=e.getShareEntity(r);oe("post",{platform:e.platform,shareType:r,shareParams:(0,pe.I)(n),shareMethod:(0,pe.w)(n,r),extra:n.payloadMixin&&n.payloadMixin.extra}).catch((function(t){e.shareController.emit(h.Z.PERFORM_LOG_FAILED,{shareType:r,error:t})}))}}))}},{key:"share",value:(n=(0,i.Z)(c().mark((function e(t){var r,n,i=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.shareController&&!this.disableShare){e.next=4;break}return(r=new Error("no controller exists")).shareType=t,e.abrupt("return",Promise.reject(r));case 4:return e.next=6,(0,L.fX)();case 6:if(this._prepareShareController(),n=function(){return new Promise((function(e,r){var n=i,o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.shareResultType;if(a(),S.Z.SUCCESS===n)e(t);else{var i=new Error("分享失败");Object.assign(i,t),r(i)}};function a(){n.shareController.removeListener(h.Z.ON_SHARE_COMPLETED,o)}i.shareController.on(h.Z.ON_SHARE_COMPLETED,o);var s=i.shareController.share(t);if(s){a(),i.shareController.emit(h.Z.ON_SHARE_INTERRUPT,{shareType:t,shareErrorType:s}),(0,ue.Z)({errorCode:s,message:"分享前置流程异常",options:{shareType:t}});var c=new Error("分享前置流程异常");Object.assign(c,{shareType:t,shareErrorType:s}),r(c)}}))},!(0,d.zT)().isNativePlatform){e.next=12;break}return e.abrupt("return",this.shareController.waitShareLimiter().then((function(e){return n()}),(function(e){return n()})));case 12:return e.abrupt("return",n());case 13:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"checkShareContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ne("post",{platform:this.platform,shareParams:(0,pe.I)(e)})}},{key:"setContentCheck",value:function(e){this._disableContentCheck=!e}},{key:"setPerformShareLog",value:function(e){this._disablePerformShareLog=!e}},{key:"prepareShare",value:(r=(0,i.Z)(c().mark((function e(){var t,r,n,i,o,a,s=this,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},r=u.length>1?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},this.shareController){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("no controller exists")));case 5:return e.next=7,(0,L.fX)();case 7:if(this._prepareShareController(),i=t.entityConfig,o=void 0===i?{}:i,a=this.shareController.createShareEntity(o,r),!(n.skipShareContentCheck||this._disableContentCheck||(0,d.zT)().isNativePlatform)){e.next=12;break}return e.abrupt("return",this.shareController.refreshShare(a,r));case 12:return e.abrupt("return",this.checkShareContent(a).then((function(){return s.shareController.refreshShare(a,r)})));case 13:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getShareController",value:function(){return this.shareController}},{key:"getShareControllerAsync",value:(t=(0,i.Z)(c().mark((function e(){var t=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shareController){e.next=2;break}return e.abrupt("return",this.shareController);case 2:if(!this._initControllerPromise){e.next=4;break}return e.abrupt("return",this._initControllerPromise.then((function(e){return t.shareController})).catch((function(e){return null})));case 4:return e.abrupt("return",this.setup().then((function(e){return t.shareController})).catch((function(e){return null})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getShareTracker",value:function(){return this.shareTracker}},{key:"getShareEntity",value:function(e,t){return this.shareController?this.shareController.getShareEntityByShareType(e,t):null}},{key:"setupNativeShareButton",value:function(e,t){this.shareController&&(this.shareController.removeAllListeners(h.Z.ON_SHARE_BUTTON_CLICKED),"function"==typeof t&&this.shareController.on(h.Z.ON_SHARE_BUTTON_CLICKED,t),this.shareController.setupNativeShareButton(e))}}]),e}(),_e=ge,ve={title:0,message:0,thumbnailURL:0,shareURL:0,shareDomain:0,waterMark:0,urlWrapType:0,drawImageOptions:0,drawImageClass:0,marketActivityID:0,miniObjectPath:0,miniObjectID:0,useWxAppShare:0,shortURLApi:0,shortCommandApi:0,domainURLApi:0,forceDowngrade:0,payloadMixin:0,requestUsePost:0,excludeShareChoices:0,thirdPartyOpenType:0,needSharedAmount:0,cipherScene:0,consumeMode:0,activitySceneSn:0,tpSelectCategory:0,pinTimelineParams:0,wxAppRequestPayload:0,cipherProcessor:0,wxAppNavigatePayload:0,withShareTicket:0,systemShareMode:0,wechatMaskConfig:0},ye={noDefaultShare:0,isSDKPrepare:0,disableShare:0},Se={wechatAppID:0,magicTrace:0,shareTypeEnable:0},Ee={USELESS:-1,DEFAULT:0,OUT_OF_DATE:1,FORBIDDEN:2,ABANDONED:3},Oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,e),this.cacheRaw=t.cacheRaw||!1,this.deleteAfterCollect=t.deleteAfterCollect||!1}return(0,a.Z)(e,[{key:"filter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._filterShareEntity(e),r=this._filterShareConfigFlag(e),n=this._filterShareOther(e),i={};return{_rawShareInfo:this.cacheRaw?e:null,entityConfig:t,flowControllConfig:r,otherConfig:n,compatibleShareConfig:i}}},{key:"_filterByItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(r)||[],i={};return n.forEach((function(n,o){var a=r[n];a===Ee.FORBIDDEN||a===Ee.ABANDONED?delete t[n]:void 0!==t[n]&&(i[n]=t[n],e.deleteAfterCollect&&delete t[n])})),i}},{key:"_filterShareEntity",value:function(e){return this._filterByItems(e,ve)}},{key:"_filterShareConfigFlag",value:function(e){return this._filterByItems(e,ye)}},{key:"_filterShareOther",value:function(e){return this._filterByItems(e,Se)}}]),e}(),we=Oe,Pe={DEFAULT:"!share_v2",WE_CHAT_MSG:"!share_v3",SHARE:"!share",TRANSPARENT:"!transparent",NONE:"",NO_LOGO:"!share_v4"},Ie=r(6333),be=r(7500),Ae=r(9875),Ce={};"undefined"!=typeof window&&(Ce=Ie.Z.get(location.host)||{});var Te={code:null,from:null,isappinstalled:null,at:null,share_id:null,is_back:null,page_id:null,list_id:null},Re=["refer_page_name","refer_page_section","refer_page_element","refer_page_id","refer_page_sn","refer_page_el_sn","refer_mid","refer_adg","refer_cam","refer_ced"];function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(e=e||"").indexOf("!")>=0&&!r?e:(e=e.split("!")[0],e+=t)}var De=null,Me=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,e),this._hasInited=!1,this.opts=t||{},this.shopConfig=t.shopConfig,this.defaultShareEntityConfig={},this.shareManager=null,this.shareInfoFilter=null,this._sdkPrepared=!1}var t,r,s,m,g,_;return(0,a.Z)(e,[{key:"setup",value:function(){this._hasInited||(this._hasInited=!0,this._setupShareInfoFilter(),this._setupShareManager(),!(this.opts.shareManagerConfig||{}).noDefaultShare&&this._prepareDefaultShare(),this.waitAppIDCacheBuild())}},{key:"_setupShareInfoFilter",value:function(){this.shareInfoFilter||(this.shareInfoFilter=new we(this.opts.shareInfoFilterConfig))}},{key:"_setupShareManager",value:function(){var e=this;if(!this.shareManager){var t=Object.assign({},{noDefaultShare:!1,disableShare:!1,useNativeShareButton:!1,loadErrorRetry:1,enableInfiniteRetry:!1},this.opts.shareManagerConfig);this.shareManager=new _e(t)}return this._managerReadyPromise=this._managerReadyPromise||this.shareManager.setup(),this._managerReadyPromise.then((function(t){e._managerReady=!0})).catch((function(t){e._managerReadyPromise=null})),this._managerReadyPromise}},{key:"_prepareDefaultShare",value:function(){(0,d.zT)().isWeChatMiniProgram||(Object.assign(this.defaultShareEntityConfig,{title:"拼多多商城",message:"风靡全国的拼单商城，优质商品新鲜直供，快一起来拼多多吧",thumbnailURL:(0,u.H)("/base/logo.jpg"),shareURL:"/"}),this.prepareShare(this.defaultShareEntityConfig,void 0,{skipShareContentCheck:!0}))}},{key:"_prepareShareByShareType",value:(_=(0,i.Z)(c().mark((function e(){var t,r,n,i,o,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},r=a.length>1?a[1]:void 0,n=a.length>2?a[2]:void 0,this.setup(),this._managerReady){e.next=7;break}return e.next=7,this.waitManagerReady();case 7:return i=t.entityConfig,o=void 0===i?{}:i,this._buildThumbnailURL(o,r),this._buildShareURL(o,r),e.abrupt("return",this.shareManager.prepareShare(t,r,n));case 11:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"prepareShare",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.setup();var i=this.shareInfoFilter.filter(e),o=this._prepareShareByShareType(i,t,n);return!this._sdkPrepared&&o.then((function(e){r._checkSDKPrepared(i)}),(function(e){r._checkSDKPrepared(i)})),o}},{key:"prepareShareSafe",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.setup();var n=this.shareInfoFilter.filter(t),i=n.flowControllConfig,o=void 0===i?{}:i;if(!this._sdkPrepared&&!o.isSDKPrepare)return this.waitSDKReady().then((function(){return e._prepareShareByShareType(n,r)}));var a=this._prepareShareByShareType(n,r);return!this._sdkPrepared&&a.then((function(t){e._checkSDKPrepared(n)}),(function(t){e._checkSDKPrepared(n)})),a}},{key:"waitSDKReady",value:function(){var e=this;return this.waitWeChatSDKReady().then((function(){return e.waitAppIDCacheBuild()}))}},{key:"waitWeChatSDKReady",value:(g=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._sdkPrepared){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:if(!this.sdkReadyPromise){e.next=8;break}return e.abrupt("return",this.sdkReadyPromise);case 8:return e.next=10,this.shareManager.getShareControllerAsync();case 10:if(t=e.sent){e.next=13;break}return e.abrupt("return",Promise.resolve());case 13:return this.sdkReadyPromise=new Promise((function(e,r){t.once(h.Z.ON_SDK_READY,(function(){e()}))})),e.abrupt("return",this.sdkReadyPromise);case 15:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"waitAppIDCacheBuild",value:(m=(0,i.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=B.getInstance()).isInited()){e.next=5;break}return e.abrupt("return",Promise.resolve());case 5:if(!this._actualWeChatAppID){e.next=9;break}return e.abrupt("return",t.build({wechatAppID:this._actualWeChatAppID}));case 9:if(this.appIDReadyPromise){e.next=16;break}return e.next=12,this.shareManager.getShareControllerAsync();case 12:if(r=e.sent){e.next=15;break}return e.abrupt("return",Promise.resolve());case 15:this.appIDReadyPromise=new Promise((function(e,n){r.once(h.Z.ON_SDK_READY,(function(r){var n=r.wechatAppID,i=r.magicTrace;Promise.all([t.build({wechatAppID:n}),Ae.Z.getInstance().build({magicTrace:i})]).then((function(){e()}))}))}));case 16:return e.abrupt("return",this.appIDReadyPromise);case 17:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"waitManagerReady",value:function(){return this._managerReady?Promise.resolve():this._managerReadyPromise?this._managerReadyPromise:this._setupShareManager()}},{key:"share",value:(s=(0,i.Z)(c().mark((function e(t,r){var n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setup(),!r){e.next=5;break}return e.abrupt("return",this.prepareShareSafe(r,t).then((function(){return n.shareManager.share(t)})));case 5:if(this._managerReady){e.next=8;break}return e.next=8,this.waitManagerReady();case 8:return e.abrupt("return",this.shareManager.share(t));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"_buildThumbnailURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.thumbnailURL;if(void 0!==r){var n=e.waterMark,i=r||"";null==n&&(n=Pe.DEFAULT),i=ke(i,n),t===l.Z.WECHAT_SESSION&&n===Pe.DEFAULT&&(i=ke(i,Pe.WE_CHAT_MSG,!0)),i=(i||"").replace(/^\/\//,"http://"),e.thumbnailURL=i}}},{key:"_buildShareURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.shareURL;if(r){if(e.urlWrapType!==F.ZP.RAW){var n=new N.Z(r),i=n.query||{},o=Object.keys(i).reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Re.indexOf(t)>=0&&(e[t]=null),e}),{}),a=(0,p.H4)(!0),s={_wv:41729,_wvx:10};!(0,d.zT)().isWeChatPlatform||t!==l.Z.QQ_CHAT_SESSION&&t!==l.Z.QQ_ZONE||(s.sf_tag="wechat"),t!==l.Z.WECHAT_TIMELINE_IMAGE&&t!==l.Z.WECHAT_TIMELINE_IMAGE_WITH_NO_SDK||(s.from="qrImg");var c=n.pathname||"",u=Object.assign({},s,a,i,Te,o),h=e.shareDomain||Ce.shareDomain;e.shareURL=(0,be.Z)(u,(0,f.De)(c),h)}}else delete e.shareURL}},{key:"_checkSDKPrepared",value:(r=(0,i.Z)(c().mark((function e(t){var r,i,o,a,s,u,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.flowControllConfig,i=void 0===r?{}:r,o=t.otherConfig,a=void 0===o?{}:o,!i.isSDKPrepare||this._sdkPrepared){e.next=10;break}return this._sdkPrepared=!0,e.next=5,this.shareManager.getShareControllerAsync();case 5:s=e.sent,a.wechatAppID&&(this._actualWeChatAppID=a.wechatAppID),(u=a.shareTypeEnable)&&"object"===(0,n.Z)(u)&&(p=Object.keys(u).filter((function(e){return!u[e]})).map((function(e){return parseInt(e,10)})),s&&s.disableShare(p)),s&&s.emit(h.Z.ON_SDK_READY,{wechatAppID:a.wechatAppID,magicTrace:a.magicTrace});case 10:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getShareManager",value:function(){return this.setup(),this.shareManager}},{key:"setupNativeShareButton",value:(t=(0,i.Z)(c().mark((function e(t,r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setup(),this.shareManager){e.next=3;break}return e.abrupt("return");case 3:if(this._managerReady){e.next=6;break}return e.next=6,this.waitManagerReady();case 6:return e.abrupt("return",this.shareManager.setupNativeShareButton(t,r));case 7:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}();Me.getInstance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return De||(De=new Me(e)),De};var Ze=Me,Ne=r(3023),Le=r(4136),xe=r(7931),je=r(9145),Ue=r(3e3),We=E.Z.ShareErrorCode,Ge=Ze},3319:function(e,t,r){"use strict";r.d(t,{i:function(){return o}});var n=r(6294),i=[n.Z.QQ_CHAT_SESSION,n.Z.QQ_ZONE,n.Z.QQ_CHAT_SESSION_IMAGE,n.Z.QQ_ZONE_IMAGE],o=function(e){return i.indexOf(e)>=0}},8921:function(e,t,r){"use strict";r.d(t,{s:function(){return c}});var n=r(1253),i=r(8309),o=r(9348),a=(r(7476),r(110),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this._cacheMap={},this._cacheLimit=t.cacheLimit||20}return(0,o.Z)(e,[{key:"getResponseByHash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this._cacheMap[e];return t?t.response:null}},{key:"cacheResponseByHash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(e&&t){var r=Object.keys(this._cacheMap).length||0;if(!(r>=this._cacheLimit)){var n=this._cacheMap[e];n?n.response=t:this._cacheMap[e]={response:t,count:1,trigger:!1,complete:!1}}}}},{key:"_write",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=this._cacheMap[t]||{};n[e]=r,this._cacheMap[t]=n}},{key:"_read",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(this._cacheMap[t]||{})[e]}},{key:"getCountByHash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._read("count",e)||0}},{key:"increaseCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._write("count",e,this.getCountByHash()+1)}},{key:"getShareID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._read("share_id",e)}},{key:"setShareID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._write("share_id",e,t)}}]),e}()),s=null;function c(){return s||(s=(0,n.Z)(a,Array.prototype.slice.call(arguments))),s}},9875:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(8309),i=r(9348),o=r(8482),a=(r(5115),r(6253),r(851),r(392)),s=r(7500),c=r(9385),u=r(9586),p=r(3402),f="api/flow/audience/share/trace";function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,p.e)({pageInfo:{pageId:(0,u.e6)()}},{defaultErrorHandler:function(e){}}),n={};return n.origin=t.platform||"",n.share_params=t.shareParams||{},n.page_sn=t.pageSn||(0,u.kd)()+"",n.page_info=t.pageInfo||{page_name:(0,u.j0)(),page_url:location&&location.href},t.payloadMixin&&"object"===(0,c.Z)(t.payloadMixin)&&(n=Object.assign(n,t.payloadMixin)),("post"===e.toLowerCase()?r.post(f,n):r.get(f,{params:n})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.magic_trace}))}var h=r(1022),d=r(8639);function m(e,t){if(!(t&&t.key&&t.value&&t.trace))return e;var r=new a.Z(e),n=t.key,i=t.value,c=t.trace;return(0,s.Z)(Object.assign((0,o.Z)({},n,i),r.query),c,r.origin)}var g=function(){function e(){(0,n.Z)(this,e),this._isInited=!1,this._magicTrace=null}return(0,i.Z)(e,[{key:"build",value:function(e){var t=e.magicTrace,r=void 0===t?{}:t;return this._isInited||r.key&&r.value&&r.trace&&(this._magicTrace=r,this._isInited=!0),Promise.resolve()}},{key:"isInited",value:function(){return this._isInited}},{key:"transform",value:function(e){return m(e,this._magicTrace)}},{key:"transformByShareEntity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l("post",{platform:(0,d.Z)(),shareParams:(0,h.I)(e),payloadMixin:e.payloadMixin}).then((function(t){return m(e.shareURL,t)}))}}]),e}(),_=null;g.getInstance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _||(_=new g(e)),_};var v=g},392:function(e,t,r){"use strict";var n=r(3877),i=r(8309),o=r(9348),a=(r(6142),r(1876),r(1466),r(9357),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,i.Z)(this,e),this.hostname="",this.origin="",this.pagename="",this.pathname="",this.port=0,this.protocol="",this.query={},this.search="",this.hashTag="",this.parseURL(t)}return(0,o.Z)(e,[{key:"parseURL",value:function(e){var t=e.split("#"),r=t[0]||"";this.hashTag=t[1]||"";var i=r.split("?"),o=i[0]||"",a=i[1]||"";this.search="?"+a,this.query=(a.split("&")||[]).reduce((function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=n.split("=");try{t=decodeURIComponent(i[0]||""),r=decodeURIComponent(i[1]||"")}catch(e){t=""}return t&&(e[t]=r),e}),{});var s=o.match(/^([a-zA-Z]+:)\/\//)||[];this.protocol=s[1]||"";s[0]&&(o=o.replace(s[0],""));var c=o.match(/^((:?[a-zA-Z0-9](:?[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6})(:\d+)?\//)||[],u=(c[0]||"").replace(/\//g,"").split(":"),p=(0,n.Z)(u,2),f=p[0],l=p[1];this.hostname=f,this.port=parseInt(l||0,10),c[0]&&(o=o.replace(c[0],"")),this.protocol&&this.hostname&&(this.origin="".concat(this.protocol,"//").concat(this.hostname)),this.pathname="/"+o.replace(/^\//,"");var h=o.match(/\/?(\w+\.html)$/)||[];this.pagename=h[1]||""}}]),e}());t.Z=a},4898:function(e,t,r){"use strict";r.d(t,{Pp:function(){return a},uW:function(){return o},vD:function(){return i}});var n={DEFAULT:0,REDIRECT:1,SERVER_DOMAIN:2,SERVER_CONTROL:3,SERVER_SHORT_URL:4,RAW:5,SERVER_TINY_DOMAIN:6,SERVER_DOMAIN_BASE64:7,DOMAIN_REPLACE:8,MAGIC_TRACE:9,MAGIC_TRACE_DYNAMIC:10,SERVER_SHORT_URL_WITH_CACHE:11,SERVER_TP_APP:12,SERVER_TP_APP_CARD:13,SERVER_QUERY_APPEND:14,CATEGORY_PROCEDURE:15,CATEGORY_PROCEDURE_CUSTOM:16};function i(e){return[n.SERVER_CONTROL,n.SERVER_SHORT_URL,n.SERVER_TINY_DOMAIN,n.SERVER_DOMAIN_BASE64,n.DOMAIN_REPLACE,n.SERVER_SHORT_URL_WITH_CACHE].indexOf(e)>=0}function o(e){return[n.SERVER_CONTROL,n.SERVER_TINY_DOMAIN,n.SERVER_DOMAIN_BASE64,n.DOMAIN_REPLACE].indexOf(e)>=0}function a(e){return[n.SERVER_SHORT_URL,n.SERVER_SHORT_URL_WITH_CACHE,n.SERVER_TP_APP_CARD,n.CATEGORY_PROCEDURE,n.CATEGORY_PROCEDURE_CUSTOM].indexOf(e)>=0}t.ZP=n},7500:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});r(9357);var n=r(4649),i=r(392);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return 0===window.location.href.indexOf("amcomponent://")&&(r=r||new i.Z(t).origin),t=(0,n.ru)(e,(0,n.De)(t||location.href)),r?(r=r.replace(/\/$/g,""),"".concat(r).concat((0,n.Rh)(t))):t}},2863:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7500),i=r(2568),o=r.n(i);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shareURL,r=(0,n.Z)({refer_share_id:null,refer_share_uid:null,refer_share_channel:null,refer_share_uin:null},t),i=e.payloadMixin||{},a=JSON.stringify(i);return o()(r+a)}},9586:function(e,t,r){"use strict";r.d(t,{I8:function(){return i},e6:function(){return o},j0:function(){return s},kd:function(){return a}});r(5115);var n={};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(n,e)}function o(){return n.pageId||""}function a(){return n.pageSN||""}function s(){return n.pageName||""}},9063:function(e,t,r){"use strict";r.d(t,{ZP:function(){return c},fX:function(){return a},j9:function(){return s}});r(9115),r(6253),r(6997),r(1181),r(851);var n=r(3644),i="",o="";function a(){return Promise.all([(0,n.sq)().then((function(e){i=e})).catch((function(e){})),(0,n.A8)().then((function(e){o=e})).catch((function(e){}))])}function s(){return o}function c(){return i}},6124:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});r(1466);var n=r(4711),i="undefined"!=typeof window;function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.match(/^http:?/)?e:(0,n.zT)().isNativePlatform||!i?"http://".concat(e):location.protocol?"".concat(location.protocol,"//").concat(e):void 0}},7503:function(e,t,r){"use strict";r.d(t,{Hr:function(){return m},O$:function(){return d},ZP:function(){return g}});r(7476),r(5767),r(8837),r(4882),r(8351);var n=r(8482),i=r(4974),o=(r(9357),r(5115),r(4649)),a=r(7500),s=r(392),c=r(9063),u=r(6333),p=["refer_share_uid"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new s.Z(e.shareURL).query||{};return{refer_share_id:t.refer_share_id,refer_share_uid:t.refer_share_uid||(0,c.ZP)(),refer_share_channel:t.refer_share_channel,refer_share_uin:t.refer_share_uin}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/^(?:https?:?)?\/\//,"https://")}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.miniObjectPath,n=new s.Z(r),c=new s.Z(n.query.target_page||""),u=c.query||{},f=t.appendQuery||{},g=l(l({},d(e)),f),_=(g.refer_share_uid,(0,i.Z)(g,p)),v=e.shareDomain||h.shareDomain;if(u.specialUrl||u.src)return u.src?u.src=(0,a.Z)(_,u.src,v):u.src=m(e.shareURL),"".concat(n.pathname,"?").concat((0,o.XP)(Object.assign({},n.query,{target_page:"".concat(c.pathname,"?").concat((0,o.XP)(u))})));if(u.jump_url||u.launch_url){if(u.jump_url){var y=new s.Z(u.jump_url);if(!y.hostname){var S=y.query;S.specialUrl&&(S.src?S.src=(0,a.Z)(_,S.src,v):S.src=m(e.shareURL),u.jump_url="".concat(y.pathname,"?").concat((0,o.XP)(S)))}}return u.launch_url&&(u.launch_url=(0,a.Z)(_,u.launch_url)),"".concat(n.pathname,"?").concat((0,o.XP)(Object.assign({},n.query,{target_page:"".concat(c.pathname,"?").concat((0,o.XP)(u))})))}return n.hostname||c.hostname||!n.query.target_page?"".concat(n.pathname,"?").concat((0,o.XP)(Object.assign({},n.query,_))):"".concat(n.pathname,"?").concat((0,o.XP)(Object.assign({},n.query,{target_page:"".concat(c.pathname,"?").concat((0,o.XP)(Object.assign(u,_)))})))}"undefined"!=typeof window&&(h=u.Z.get(location.host)||{})},3170:function(e,t,r){"use strict";r.d(t,{SY:function(){return l},X4:function(){return p},ZP:function(){return h},v3:function(){return u}});var n=r(9385),i=(r(5115),r(1876),r(9586)),o=r(3402),a=r(7503),s=r(392),c=r(4649),u={WEIXIN_TINY_DOMAIN:"weixin",SHORT_LINK:"link"},p={WECHAT:"h5",IOS:"ios",ANDROID:"android"},f="api/flow/chron/share/miniprogram";function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,o.e)({pageInfo:{pageId:(0,i.e6)()}},{defaultErrorHandler:function(e){}}),s={};s.share_refer=(0,a.O$)({shareURL:t.shareURL}),t.payloadMixin&&"object"===(0,n.Z)(t.payloadMixin)&&(s=Object.assign(s,t.payloadMixin));var c=t.shortURLApi||f;return("post"===e.toLowerCase()?r.post(c,s):r.get(c,{params:s})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}))}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,o.e)({pageInfo:{pageId:(0,i.e6)()}},{defaultErrorHandler:function(e){}}),p={};p.url=t.shareURL||"",p.activity=t.marketActivityID||0,p.platform=t.platform||"",p.share_refer=(0,a.O$)({shareURL:t.shareURL}),p.page_sn=(0,i.kd)(),t.payloadMixin&&"object"===(0,n.Z)(t.payloadMixin)&&(p=Object.assign(p,t.payloadMixin));var f=t.urlAlias||"url_code",l=p[f];if(l&&"string"==typeof l){var h=new s.Z(l).query||{};Object.assign(h,p.share_refer),p[f]="".concat(l.split("?")[0]||"","?").concat((0,c.XP)(h))}var d="api/flow/audience/activity/domain/weixin";return t.shareDomainType===u.SHORT_LINK?d=t.shortURLApi?t.shortURLApi:t.shortCommandApi?t.shortCommandApi:"api/flow/audience/activity/domain/short_url":t.domainURLApi&&(d=t.domainURLApi),("post"===e.toLowerCase()?r.post(d,p):r.get(d,{params:p})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{domain:e.domain,openAppID:e.open_app_id||"",shortURL:e.short_url||"",shareText:e.share_text||"",raw:e}}))}},4340:function(e,t,r){"use strict";r.d(t,{CU:function(){return v},Ep:function(){return y},Yy:function(){return _},ls:function(){return S}});var n=r(4974),i=(r(6253),r(851),r(9357),r(3170)),o=r(4711),a=r(2202),s=r(3319),c=r(9875),u=r(2863),p=r(8921),f=r(4898),l=r(392),h=r(6124),d=r(7500),m=["share_title","share_img","dev_infos"],g=["mobile.yangkeduo.com","m.hutaojie.com","panduoduo.yangkeduo.com"],_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shareURL||"",r=e.urlWrapType;if(r===f.ZP.DEFAULT||r===f.ZP.RAW)return Promise.resolve({missed:!0,realShareURL:t,targetShareURL:t});if(e.marketActivityID&&(0,f.vD)(r)){var o=(0,f.uW)(r)?i.v3.WEIXIN_TINY_DOMAIN:i.v3.SHORT_LINK,a=t.replace(/^(\w+:)?\/\//,""),s=(0,u.Z)(e),h=(0,p.s)(),g=function(){var n=new Promise((function(n,s){(0,i.ZP)(e.requestUsePost?"post":"get",{shareURL:a,marketActivityID:e.marketActivityID,platform:y(),shareDomainType:o,shortURLApi:e.shortURLApi,shortCommandApi:e.shortCommandApi,domainURLApi:e.domainURLApi,payloadMixin:e.payloadMixin}).then((function(e){if(e){var a=e.domain,s=void 0===a?"":a,c=e.shortURL,u=e.shareText,p=e.raw;if(o===i.v3.WEIXIN_TINY_DOMAIN)r===f.ZP.DOMAIN_REPLACE&&n(v(t,s));else if(o===i.v3.SHORT_LINK)return void n({useShortURL:!0,realShareURL:c||t,targetShareURL:t,shareText:u,rawResponse:p})}n({realShareURL:t,targetShareURL:t})})).catch((function(e){s(e)}))}));return o===i.v3.SHORT_LINK&&n.then((function(e){e&&e.useShortURL&&(h.cacheResponseByHash(s,e),h.setShareID(s,(new l.Z(t).query||{}).refer_share_id))})),n};if(r===f.ZP.SERVER_SHORT_URL_WITH_CACHE){var _=h.getResponseByHash(s);return _?(h.increaseCount(s),Promise.resolve(_)):g()}return g()}if(r===f.ZP.MAGIC_TRACE){var S=c.Z.getInstance().transform(t);return Promise.resolve({realShareURL:S,targetShareURL:S})}return r===f.ZP.MAGIC_TRACE_DYNAMIC?c.Z.getInstance().transformByShareEntity(e).then((function(e){return{realShareURL:e,targetShareURL:e}}),(function(){return{realShareURL:t,targetShareURL:t}})):r===f.ZP.SERVER_QUERY_APPEND?(0,i.SY)(e.requestUsePost?"post":"get",{shareURL:t,payloadMixin:e.payloadMixin,shortURLApi:e.shortURLApi}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e&&e.code_method;if(r)return{useCipher:r,realShareURL:t,targetShareURL:t};var i=e.share_title,o=e.share_img,a=e.dev_infos,s=(0,n.Z)(e,m),c=(0,d.Z)(s,t);return{appendQuery:s,categoryShareInfo:{title:i,thumbnailURL:o},realShareURL:c,targetShareURL:c,tpInfos:a}})):Promise.resolve({missed:!0,realShareURL:t,targetShareURL:t})},v=function(e,t){var r=(0,d.Z)({},e,(0,h.Z)(t));return{targetShareURL:r,realShareURL:r}},y=function(){var e=(0,o.zT)();return e.platform===a.iw.PddAndroid?i.X4.ANDROID:e.platform===a.iw.PddIOS?i.X4.IOS:i.X4.WECHAT},S=function(e,t){if(!(0,s.i)(e))return t;var r=new l.Z(t).hostname;return g.indexOf(r)<0&&(t=t.replace("//".concat(r),"//".concat("mobile.yangkeduo.com"))),t}},5607:function(e,t,r){"use strict";r.d(t,{Ef:function(){return J},wI:function(){return V},oP:function(){return q},Ku:function(){return F},sA:function(){return B}});r(5767),r(8837),r(4882),r(8351);var n=r(8482),i=(r(2171),r(5118)),o=r(7883),a=r.n(o),s=(r(5115),r(7476),r(2773),r(6333)),c=r(4711),u=r(3877),p=(r(9115),r(6253),r(6997),r(1181),r(851),r(6142),r(110),r(3276),r(3644)),f=r(2202),l=r(7097),h=r(1403),d=r(109),m=r(9828),g=r(4649),_=r(7044);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=null,E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!S){var r=(0,l.ej)(),n=r.pdd_vds,i=void 0===n?"":n,o=r._nano_fp;S={pdd_vds:i,_nano_fp:o}}var a={cookie_fp:S._nano_fp,storage_fp:localStorage.getItem("_nano_fp")||""},s=(0,c.zT)(),u=s.isNativePlatform,p=s.isTinyNativePlatform;return u||p||(a.dcf=M(e,S.pdd_vds,t)),a},O=function(){var e=(0,i.Z)(a().mark((function e(t){var r,n,i,o,s,l,d,m,g,_,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Date.now(),n=(0,c.zT)(),i=n.version,o=n.isTinyNativePlatform,s=n.platform,l={time:r,log_id:r+(0,h.x)(16),user_id:"",uin:"",app_id:k(t),screen_width:window.screen.width,screen_height:window.screen.height,dpr:window.devicePixelRatio,app_version:i,platform:o?f.iw.PddAndroid:s},e.next=5,Promise.all([(0,p.sq)(),(0,p.A8)()]);case 5:return d=e.sent,m=(0,u.Z)(d,2),g=m[0],_=m[1],l.user_id=g,l.uin=_,null!==(v=localStorage.getItem("WxCheckPdd"))&&(l.wx_check_pdd=parseInt(v,10)||0),e.abrupt("return",l);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=(0,d.HP)(m.g$),P=(0,d.HP)(m.H4),I=function(){var e=(0,i.Z)(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return t=e.sent,r=P(),e.abrupt("return",y(y({},t),r));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=["src","from","campaign","cid"],A=["refer_share_id","refer_share_uid","refer_share_channel","refer_share_form"],C={_sid:"refer_share_id",_suid:"refer_share_uid",_sc:"refer_share_channel",_sf:"refer_share_form"},T=function(){var e=(0,g.mB)(location.search),t=b.reduce((function(t,r){return e[r]&&(t["refer_channel_"+r]=e[r]),t}),{});for(var r in t=A.reduce((function(t,r){var n=e[r]||e[r.slice(0,6)];return n&&(t[r]=n),t}),t),C){var n=e[r];if(n)t[C[r]]=n}return t},R=function(e){var t=(0,g.mB)(location.search),r="1"===t.is_back?{is_back:"1"}:{},n=t.refer_channel_msgid||t.msgid;return n&&(r.refer_channel_msgid=n),e&&Object.entries(t).forEach((function(e){var t=(0,u.Z)(e,2),n=t[0],i=t[1];0===n.indexOf("_p_")&&(r[n]=i)})),r};function k(e){switch((0,c.zT)().platform){case f.iw.WeChat:return e.AppID.WeChat;case f.iw.QQ:return e.AppID.QQConnect}return""}var D={};function M(e,t,r){var n=t.substr(0,28),i=t.substr(28);D[r]||(D[r]=1);var o=(0,_.k)("".concat(e).concat(r).concat(i).concat(D[r])),a="".concat(n,".").concat(D[r],".").concat(o);return D[r]++,a}var Z=r(9385),N=r(2691),L=function(){var e=(0,c.zT)(),t=e.isNativePlatform,r=e.isTinyNativePlatform;return t||r?j:x},x=function(e,t){try{if("function"==typeof window.navigator.sendBeacon&&(t.support_beacon=1,window.navigator.sendBeacon(e,(0,g.XP)(t))))return;var r=new XMLHttpRequest;r.open("POST",e,!0),r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),r.withCredentials=!0,r.send((0,g.XP)(t))}catch(e){U(e)}},j=function(e,t){var r=(0,c.zT)();return r.isTinyNativePlatform||r.statisfy("4.45.0","4.33.0","greaterThanEqual")?((t=function(e){return Object.entries(e).reduce((function(e,t){var r=(0,u.Z)(t,2),n=r[0],i=r[1];return null!==i&&(e[n]="object"===(0,Z.Z)(i)?JSON.stringify(i):i),e}),{})}(t)).use_AMAnalytics=1,(0,N.Q6)("AMAnalytics","send",{url:e,value:t}).catch(U)):(0,N.Q6)("JSNetwork","request",{method:"POST",url:e,headers:{"Content-Type":"text/plain;charset=UTF-8"},data:(0,g.XP)(t)}).catch(U)};function U(e){console.error("@pdd/metrics#onReporterError",e)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H=s.Z.get(location.host),Q={},B=function(e){Object.assign(Q,e)},q=function(){var e=(0,i.Z)(a().mark((function e(t){var r,n,i,o,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:L(),n=(t=t||{}).op,e.next=5,K(t,"pv"===n);case 5:return t=e.sent,e.next=8,O(H);case 8:return i=e.sent,o=E(i.time,n||""),t=G(G(G(G({},Q),t),i),o),e.abrupt("return",r(X(t,H),t));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return q(G(G({},e),{},{op:"pv"}),t)},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return q(G(G({},e),{},{op:"impr"}),t)},K=function(){var e=(0,i.Z)(a().mark((function e(t,r){var n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return n=e.sent,i=G(G(G({},n),T()),R(r)),r&&(i.event="page_show",i.page_url=location.href),e.abrupt("return",Object.assign(i,t));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),z=!1,Y=Date.now(),J=function(e){z?console.warn("initGlobalMetrics has been called"):((0,c.zT)().isNativePlatform||(window.addEventListener("unload",(function(){q({op:"epv",sub_op:"leave",enter_time:Y,close_time:Date.now()},e)})),void 0!==document.hidden&&document.addEventListener("visibilitychange",(function(){document.hidden?q({op:"epv",sub_op:"leave",enter_time:Y},e):Y=Date.now()}))),z=!0)};function X(e,t){var r=t.httpsLoggingURL;return t.httpsLogRoutes[e.ad&&["click","impr"].includes(e.op)?"ad":e.op]||r}},533:function(e,t,r){"use strict";r.d(t,{eA:function(){return p}});r(2139);var n=r(8309),i=r(9348),o=r(5558),a=r(1074),s=r(1269),c=r(7401);r(9371);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var p=function(e){(0,o.Z)(r,e);var t=u(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){window._plt.fs||function(e,t){var r=e._plt=e._plt||[];r.fs=r.fs||!0;var n="load",i="error",o=+new Date;r.push(["tm","fsn",o]);var a=t.getElementsByTagName("img"),s=t.documentElement.clientHeight,c=[],u="complete"===t.readyState,p=function(){for(var e=0;e<c.length;e++){var t=c[e],n=t.img.getBoundingClientRect().top||0;n+t.img.height>0&&s>n&&(o=Math.max(t.time,o))}r.push(["tm","fs",o])};function f(){for(var e=!0,t=0;t<c.length;t++)if(!(e=e&&c[t].time))return;p()}for(var l=0;l<a.length;l++){var h=a[l];!h.complete&&h.src&&function(){var e={img:h},t=function t(){this.removeEventListener(n,t,!1),this.removeEventListener(i,t,!1),e.time=+new Date,u&&f()};h.addEventListener(n,t,!1),h.addEventListener(i,t,!1),c.push(e)}()}u?f():e.addEventListener(n,p),e.__fsImgItems=c,e.__fsImgSrcs=c.map((function(e){return e.img.src}))}(window,document)}},{key:"render",value:function(){return c.createElement("script",{dangerouslySetInnerHTML:{__html:'!function(e,t){var n=e._plt=e._plt||[];n.fs=n.fs||!0;var r=+new Date;n.push(["tm","fsn",r]);var i=t.getElementsByTagName("img"),a=t.documentElement.clientHeight,m=[],o="complete"===t.readyState,s=function(){for(var e=0;e<m.length;e++){var t=m[e],i=t.img.getBoundingClientRect().top||0;i+t.img.height>0&&a>i&&(r=Math.max(t.time,r))}n.push(["tm","fs",r])};function f(){for(var e=!0,t=0;t<m.length;t++)if(!(e=e&&m[t].time))return;s()}for(var g=0;g<i.length;g++){var v=i[g];!v.complete&&v.src&&function(){var e={img:v},t=function t(){this.removeEventListener("load",t,!1),this.removeEventListener("error",t,!1),e.time=+new Date,o&&f()};v.addEventListener("load",t,!1),v.addEventListener("error",t,!1),m.push(e)}()}o?f():e.addEventListener("load",s),e.__fsImgItems=m,e.__fsImgSrcs=m.map(function(e){return e.img.src})}(window,document);'}})}}]),r}(c.PureComponent)},2691:function(e,t,r){"use strict";r.d(t,{GN:function(){return I},I8:function(){return P},Q6:function(){return S},Rl:function(){return T},Td:function(){return E},X6:function(){return b},bG:function(){return A},nk:function(){return O},pZ:function(){return w},vY:function(){return C}});r(6253),r(851),r(2773),r(9977);var n,i,o,a,s,c,u=r(4711),p=r(2202),f=r(9807),l=r.n(f),h={fullfilled:!1},d=new Promise((function(e,t){h.resolve=e,h.reject=t})),m="AMStorage",g="JSUIControl",_="WebScene",v="AMUser";n=(0,u.Xf)(window.navigator.userAgent),i=n.version,o=p.iw.PddIOS===n.platform,a=p.iw.PddAndroid===n.platform||p.iw.PDDTinyAndorid===n.platform,s=(0,p.yC)(i,"4.80.0")>=0?"JSNavigation":"AMNavigator",(0,p.yC)(i,"4.53.0"),(0,p.yC)(i,"4.14.0");var y=function(e,t){return"请检查当前环境，".concat(e," ").concat(t,"接口需要在原生App环境中使用。")};function S(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(o||a){var u=a&&n?n:o&&s?s:"";if(u&&(0,p.yC)(i,u)<0){var f="请检查App版本号，".concat(e," ").concat(t,"接口最小支持版本号：").concat(u,"。"),h=new Error(f);return h.errorType="version_error",Promise.reject(h)}var d=function(r){if(!["JSNetwork:request","JSShare:queryShareTypes","JSShare:performShare","JSNotification:register","JSNavigation:forward","AMAnalytics:send","PDDHighLayerManager:getPageInitData","WebScene:getPageShownType","JSPhoto:getV2","AMAlert:showAlert","JSAlert:showAlert","JSPay:pay"].includes("".concat(e,":").concat(t))&&!["JSReporter"].includes(e))return setTimeout((function(){throw new Error("call native ".concat(e,":").concat(t," cost over ").concat(r,"ms"))}),r)},m=c&&d(1e3);return new Promise((function(n,i){l().callNative(e,t,r,(function(e){m&&clearTimeout(m),n(e)}),(function(n,o){m&&clearTimeout(m);var a=new Error("callNative ".concat(e," ").concat(t," error: ").concat(o));a.errorCode=o,a.params=r,a.data=n,a.toJSON=function(){return{errorCode:this.errorCode,params:this.params,data:this.data}},i(a)}))}))}var g=y(e,t);return Promise.reject(new Error(g))}function E(e){return S(g,"setTitle",e)}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enable:!0};return S(g,e.enable?"enablePullReload":"disablePullReload",null,"4.1.0","4.1.0").catch((function(e){if("version_error"!==e.errorType)throw e}))}function w(){return S(s,"referPageContext")}function P(e){var t=S(s,"setPageContext",e);return h.fullfilled?d=t:(h.fullfilled=!0,h.resolve(t),d)}function I(){return S(_,"onWebMounted",null,"4.27.0","4.27.0").catch((function(e){if("version_error"!==e.errorType)throw e}))}function b(){return S(_,"getPageShownType",null,"4.20.0","4.20.0")}function A(){return S(v,"info")}function C(e){return S(_,"showRetryPage",e,"4.18.0","4.18.0")}function T(e){return c||(c=S(_,"getPageVisibility",e,"4.27.0","4.27.0")),c}},506:function(e,t,r){"use strict";r.d(t,{ZP:function(){return H},R_:function(){return N}});var n=r(9385),i=(r(6142),r(5115),r(6253),r(851),r(9115),r(6997),r(1181),r(2310),r(7476),r(3946),r(1876),r(9357),r(110),r(2691)),o=r(4711),a=r(2202),s=r(4649),c=r(7794),u="com.xunmeng.pinduoduo",p="微信sdk还没有初始化",f="唤起App失败",l=(0,o.zT)();function h(e,t){if(l.isNativePlatform||l.isWeChatMiniProgram){return Promise.reject(new Error("Native环境,node环境,微信小程序环境无法唤起"))}var r="".concat("pinduoduo:","//").concat(u);return e=(0,s.Rh)(e),l.isWeChatPlatform?window.wx?new Promise((function(t){window.wx.ready((function(){t(l.isIOSWeChatPlatform?d("".concat(r).concat(e)):(l.isAndroidWeChatPlatform?window.wx?new Promise((function(e,t){window.wx.ready((function(){if(!window.WeixinJSBridge||!window.WeixinJSBridge.invoke)return t(new Error(p));window.WeixinJSBridge.invoke("getInstallState",{packageName:u,packageUrl:"pinduoduo://"},(function(r){var n=r.err_msg,i=void 0===n?"":n,o=r.versionName,a=void 0===o?"":o;return/get_install_state:yes/.test(i)?e({installed:!0,version:a}):/get_install_state:no/.test(i)?e({installed:!1,version:a}):void t(new Error(i))}))}))})):Promise.reject(p):Promise.reject(new Error("不支持iOS"))).then((function(t){var r=t.installed,n=t.version;if(r&&(0,a.yC)(n,"3.13.0")>0)return d(e.slice(1));throw new Error("".concat(f,"，安装状态：").concat(JSON.stringify({installed:r,version:n})))})))}))})):Promise.reject(new Error(p)):(0,c.I)("".concat(r).concat(e),t)}function d(e){var t="from=wx_webview&forward_url="+encodeURIComponent(e);return window.wx&&window.wx.invoke?new Promise((function(r,n){window.wx.invoke("launchApplication",{appID:"wx77d53b84434b9d9a",extInfo:t,messageExt:e},(function(e){return"launchApplication:ok"===e.err_msg?r():n(new Error("".concat(f,":").concat(e.err_msg)))}))})):Promise.reject(p)}var m=r(1403),g=r(8965),_=r(109),v=(r(5767),r(8837),r(4882),r(8351),r(3877)),y=r(8482),S=(r(3276),r(7732),r(9828));function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,y.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e){return(0,s.Rh)(e).split("?")[0]}var P=function(e){if(e){var t=(0,s.FU)(e),r={},n=t.page_el_sn;n&&(r.refer_page_el_sn=n);var i=(0,S.H4)(!0);return(0,s.ru)(O(O(O({},i),t),r),e)}},I=function(e){return e?Object.entries((0,s.FU)(e)).reduce((function(e,t){var r=(0,v.Z)(t,2),n=r[0],i=r[1];if(n.startsWith("refer_")||n.startsWith("_ex_")){var o=n.replace(/^refer_/,"").replace(/^_ex_/,"");o&&i&&((e=e||{})[o]=i)}return e}),null):null},b={"sc.yangkeduo.com":1,"csr.pinduoduo.net":1},A=(0,o.Xf)(window.navigator.userAgent),C=["/goods.html","/subject.html","/subjects.html","/spike.html","/order.html","/order_checkout.html","/orders.html","/personal.html","chat_detail.html","chat_detail_logistics","commercial_bargain_list.html","mkt_bargain_list.html","coupons.html","mall_page.html","/comm_brand_page.html","group7.html","/index.html"],T={},R=300,k=(0,s.mB)(window.location.search);T=window.Navigation={nextPageQuery:{},setNextPageQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(e&&"object"===(0,n.Z)(e))for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];"page_el_sn"===r?window.Navigation.nextPageQuery.refer_page_el_sn=i:window.Navigation.nextPageQuery[r]=i}t&&"function"==typeof t&&t()},getNextPageQuery:function(){return window.Navigation.nextPageQuery},reload:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e;e?(e=P(e),e=j(window.Navigation.nextPageQuery,e)):o=e=j(Object.assign({},k,window.Navigation.querySet));var a=W(e);e=a.url,0===o.indexOf("//")&&(o=e);try{history.replaceState(r,"",e)}catch(e){}var c=function(){try{history.replaceState(r,"",e)}catch(e){}setTimeout((function(){window&&window.location?window.location=e:location.href=e,"function"==typeof t&&t()}),0)};if(A.isNativePlatform||A.isTinyNativePlatform){var u=(0,s.FU)(e),p="1"===u.use_urm_navigation||!(0,s.sD)(o);p&&(e=(0,s.Rh)(e));var f={url:e,type:"web",props:Object.assign({},u,{url:e},n.props)};A.statisfy&&A.statisfy("4.26.0","4.40.0","greaterThanEqual")&&p&&(f.type="");var l=I(e);l&&(f.transient_refer_page_context=l),(0,i.Q6)("JSNavigation","replace",f).then(t)}else c()},back:function(e,t,r,n){n=n||{},A.isNativePlatform||A.isTinyNativePlatform?null==e?(0,i.Q6)("JSNavigation","back",{props:n.props||{}}).then(t):(0,i.Q6)("JSNavigation","back",{url:(0,s.De)(e),props:n.props||{}}).then(t):setTimeout((function(){null==e||r?history.back():location.href=e,"function"==typeof t&&t()}),0)},initWxAppNavigateWait:function(e){R=e||R,T.throttleForwardWxAppPage=L(R)},throttleForwardWxAppPage:L(),webForward:function(e,t){setTimeout((function(){N&&N(e)?T.throttleForwardWxAppPage(e):location.href=e,"function"==typeof t&&t()}),0)},prepareForwardUrl:function(e){return window.Navigation.querySet=Object.assign({},k,window.Navigation.querySet,{is_back:A.isNativePlatform?null:"1"}),A.isWeChatMiniProgram||A.isQQMiniProgram||window.Navigation.replaceURL(j(window.Navigation.querySet),(function(){}),window.history.state),e=P(e),W(e=j(window.Navigation.nextPageQuery,e))},uniformForward:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e,o=T.prepareForwardUrl(e),a=o.launchApp,c=o.url;e=c;var u=a?h(e):Promise.reject();u.catch((function(){if(0===n.indexOf("//")&&(n=e),A.isNativePlatform||A.isTinyNativePlatform){(0,s.sD)(n)||(e=(0,s.Rh)(e));var o=r.props,a=r.transient_refer_page_context,c=Object.assign({url:e,type:"web",props:Object.assign({url:e},(0,s.FU)(e),o)},{transient_refer_page_context:a});A.statisfy&&A.statisfy("4.26.0","4.40.0","greaterThanEqual")&&(c.type=""),null!=r.tab_index&&(c.tab_index=r.tab_index);var u=I(e);u&&(c.transient_refer_page_context=Object.assign({},c.transient_refer_page_context,u)),(0,i.Q6)("JSNavigation","forward",c).then(t)}else T.webForward(e,t)}))},maskAppPage:function(e,t){(0,i.Q6)("JSNavigation","mask",{type:e,props:t})},replaceURL:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;k=(0,s.FU)(e);var n=function(){try{history.replaceState(r,"",e)}catch(e){}"function"==typeof t&&t()};A.statisfy&&A.statisfy("1.2.5","2.1.0","greaterThan")?(0,i.Q6)("WebScene","replaceURL",{url:e}).then(n,n):n()},querySet:null,replaceQuery:function(e,t){window.Navigation.querySet=Object.assign({},window.Navigation.querySet,e),"function"==typeof t&&t()},nativeAppPage:function(e,t,r,n){"reload"===(e=e||"forward")&&(e="replace"),"backAndReload"===e&&(e="back");var o=r.props,a=void 0===o?r:o,s=r.transient_refer_page_context,c={type:t,props:a,transient_refer_page_context:Object.assign({},s,I(a.url))};r.url&&(c.url=r.url),(0,i.Q6)("JSNavigation",e,c).then(n)}};var D,M;function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return new Promise((function(t,r){setTimeout((function(){r(new Error("timeout after ".concat(e,"ms")))}),e)}))}function N(e){var t=!1;if((0,s.mB)(window.location.search)._x_minpgm_webnav_)return t;if(!e||"string"!=typeof e||!A.isWeChatMiniProgram&&!A.isQQMiniProgram||!window.wx||!window.wx.miniProgram)return!1;if(D)try{return Object.keys(D).some((function(t){return new RegExp(t).test(e)}))}catch(e){(0,_.K2)(e)}return C.forEach((function(r){-1!==e.indexOf(r)&&(t=!0)})),t}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return(0,_.P2)(x,e)}function x(e,t){var r=function(e,t){var r="navigateTo";if(e)try{var n=Object.keys(e).find((function(e){return new RegExp(e).test(t)}));if(!n)return{};var i=e[n],o=i.path,a=i.params,c=i.query,u=t.split("#")[0].split("?")[1];if(u){if(a){var p=(0,s.mB)(u),f={};Object.keys(p).forEach((function(e){e in a?f[a[e]]=p[e]:f[e]=p[e]})),o=o+"?"+(0,s.XP)(f)}else o=o+"?"+u;c&&(o=o+"&"+c)}else c&&(o=o+"?"+c);return{routeType:i.routeType||r,miniProgramUrl:o}}catch(e){(0,_.K2)(e)}var l=C.some((function(e){return-1!==t.indexOf(e)}));return l?{routeType:r,miniProgramUrl:"/pages/web_bridge/web_bridge?targetpage="+t.replace("?","&")}:{}}(D,e),n=window.wx.miniProgram[r.routeType];n&&n({url:r.miniProgramUrl,success:t})}function j(e,t){return t=(0,s.ru)(e,(0,s.De)(t||location.href))}function U(e){return window.__NAVIGATION_MAP__[e]?window.__NAVIGATION_MAP__[e]:window.__NAVIGATION_MAP__[e.slice(1)]}function W(e){var t=w(e),r=function(e){if(window.__NAVIGATION_MAP__&&A.isWeChatPlatform){for(var t=w(e),r={},n=t,i=null;void 0!==U(n);){if(void 0!==r[n]){console.error("circular navigation route ".concat(t));break}var o=U(n);if("APP"===o.toUpperCase())return{finalPathName:n,finalUrlQuery:i,launchApp:!0};-1!==o.indexOf("?")&&(i=Object.assign({},i,(0,s.FU)(o))),n=r[n]=w(o)}return{finalPathName:n,finalUrlQuery:i,launchApp:!1}}return{finalPathName:null,finalUrlQuery:null,launchApp:!1}}(e);if(r.finalPathName&&r.finalPathName!==t){var n=new RegExp("(.*)".concat(t));e=e.replace(n,"$1".concat(r.finalPathName)),r.finalUrlQuery&&(e=(0,s.ru)(r.finalUrlQuery,e))}if(A.isNativePlatform&&b[location.hostname]){var i="".concat(location.protocol,"//").concat(location.hostname);e=(0,s.Rh)(e),e=(0,s.ru)({pr_domain:i},e)}return{url:e,launchApp:r.launchApp}}(A.isWeChatMiniProgram||A.isQQMiniProgram)&&(window.__minPgmUrlMap__&&(D=window.__minPgmUrlMap__),!D&&Promise.race([new Promise((function(e,t){var r,n=new Date;n.setMinutes(0,0,0);var i,o=n.getTime(),a="wxaPageMap",s=localStorage.getItem(a);if(s&&(i=JSON.parse(s))&&(r=i[o]),r)e(r);else{var c="https://xcxcdn.yangkeduo.com/mini_program/sdk/v2/pddminiprogram.js?"+(0,m.x)();(0,g.v)(c,{async:!0,crossOrigin:"anonymous"}).then((function(){r=window.pddMiniProgram.routeConfig;var t={};t[o]=r,localStorage.setItem(a,JSON.stringify(t)),e(r)})).catch((function(e){t(e)}))}})),Z(M)]).catch((function(e){(0,_.K2)(e)})).then((function(e){D=e})));var G=T,H=(G.setNextPageQuery,G.getNextPageQuery,G.reload,G.back,G.initWxAppNavigateWait,G.uniformForward,G.maskAppPage,G.replaceURL,G.replaceQuery,T)},9480:function(e,t,r){"use strict";r.d(t,{ZP:function(){return _}});r(2171);var n=r(5118),i=(r(7732),r(110),r(5115),r(1876),r(9357),r(7883)),o=r.n(i),a=r(9385),s=(r(1466),r(6253),r(6997),r(1181),r(4711)),c=r(2202),u=r(4649),p=r(1403);function f(e,t){"object"===(0,a.Z)(t)&&(this.pageProperty=t),this.initByUrl(e)}f.prototype.initByUrl=function(e){var t=(e=e||window.location.href).split("#")[0].split("?")[1]||"",r=(0,u.mB)(t);this.pageELSN=r.page_el_sn||null,this.query=r;var n=function(e){var t=e.split("?")[0].split("/");return"/"+t[t.length-1]}(e),i=n.slice(1).split(".")[0];this.initWithPageKey(i)},f.prototype.initWithPageKey=function(e){this.pageKey=e||"";var t=Object.assign({},this.pageProperty||{});if(this.info=t,this.pageName=t.pageName||e,this.pageSN=t.pageSN||null,this.tkShareClick=t.tkShareClick||!1,this.keyParams=t.keyParams||{},this.query=this.query||{},this.native=t.native||{},"undefined"!=typeof window&&window.rawData&&window.rawData.pageID)this.pageID=window.rawData.pageID;else if(this.query&&this.query.page_id)this.pageID=this.query.page_id;else{var r=this.pageName,n=this.pageSN;r.match(/app_\w+_popup/)&&(r="index"),this.pageID=t.pageId||function(e,t,r){return[t||e||r||"",Date.now(),(0,p.x)(10)].join("_")}(r,n,e)}this.pvInfo=t.pv||{},e.match(/^app_\w+/)&&(this.pvInfo.isAppModal=!0)},f.prototype.getPageName=function(){return this.pageName},f.prototype.getPageSN=function(){return this.pageSN},f.prototype.getPageID=function(){return this.pageID},f.prototype.getQuery=function(){return this.query},f.prototype.getNativePageContext=function(){if((0,s.zT)().isNativePlatform){var e={};for(var t in this.query)t.startsWith("refer")||(e[t]=this.query[t]);return Object.assign(e,{page_name:this.pageName,page_id:this.pageID,page_sn:this.pageSN})}},f.prototype.getAdQuery=function(){return{cid:this.query.cid,src:this.query.src,campaign:this.query.campaign}},f.prototype.getNativeQuery=function(e){var t=this.getNativeInfo(e);if(!t)return this.query;var r=Object.assign({},this.query);if(t.queryMap)for(var n in t.queryMap)if(t.queryMap.hasOwnProperty(n)){var i=t.queryMap[n];r[n]&&(r[i]=r[n])}return r},f.prototype.setKeyParams=function(e){for(var t in e)e.hasOwnProperty(t)&&null==e[t]&&delete e[t];this.keyParams=Object.assign({},this.keyParams,e)},f.prototype.getKeyParams=function(){return this.keyParams},f.prototype.getNativeInfo=function(e){return this.native[e.toLowerCase()]},f.prototype.checkNativePageVersion=function(e,t){var r=this.getNativeInfo(e);return!(!r||!r.version)&&(0,c.yC)(t,r.version)>=0},f.prototype.getNativePageName=function(e){var t=this.getNativeInfo(e);if(t)return t.name},f.prototype.getKeyParamsFromQuery=function(){var e=this.pvInfo.keys||[],t={},r=this.getQuery();return e.forEach((function(e){var n,i;"string"==typeof e?i=r[n=e]:"object"===(0,a.Z)(e)&&(n=e.key,i=r[n],e.mapping&&e.mapping.forEach((function(e){null!=r[e]&&(i=r[e])})),null==i&&null!=e.default&&(i=e.default)),null!=n&&null!=i&&(t[n]=i)})),this.setKeyParams(t),this.getKeyParams()},f.prototype.hasIndividualPV=function(){return this.pvInfo.indiv},f.prototype.isAppModal=function(){return this.pvInfo.isAppModal};var l=f,h=r(2691);function d(){}function m(e){e=e||{};var t={},r=!1;for(var n in e)if(n.startsWith("refer_")||n.startsWith("_ex_")){var i=e[n];i&&(t[n]=i,r=!0)}return r?t:null}d.prototype.initPageInfo=function(e){if(e=e||{},this.pageInfo)return this.pageInfo;this.pageInfo=new l(window.location.href,e.pageProperty);var t=m(this.pageInfo.getQuery());return t&&this.updateReferInfo(t),this.pageInfo},d.prototype.init=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n,i,a,u,p,f=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=r||{},n=this.initPageInfo(r),i="function"==typeof r.callback?r.callback:function(){},a=(0,s.zT)(),u=a.isNativePlatform,p=a.version,u){e.next=7;break}return i(),e.abrupt("return");case 7:if((0,h.pZ)().then((function(e){f.updateReferPageContextFromNative(e),i()}),i),!((0,c.yC)(p,"5.73.0")<0)){e.next=12;break}return(0,h.X6)().then((function(e){return 1==+e.shown_type})).catch((function(){return!1})).then((function(e){return!e&&(0,h.I8)(n.getNativePageContext())})),e.abrupt("return");case 12:(0,h.I8)(n.getNativePageContext()).catch((function(e){if(e&&60100!==e.errorCode)throw e}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),d.prototype.getPageInfo=function(){return this.pageInfo||this.init(),this.pageInfo},d.prototype.getQuery=function(){return this.pageInfo||this.init(),this.pageInfo.getQuery()},d.prototype.getParameters=function(){return this.getQuery()},d.prototype.getParameter=function(e){return(this.getQuery()||{})[e]},d.prototype.getPageName=function(){return this.pageInfo?this.pageInfo.getPageName():""},d.prototype.getPageSN=function(){return this.pageInfo?this.pageInfo.getPageSN():""},d.prototype.getPageID=function(){return this.pageInfo?this.pageInfo.getPageID():""},d.prototype.setKeyParams=function(e){this.pageInfo&&this.pageInfo.setKeyParams(e)},d.prototype.getKeyParams=function(){return this.pageInfo?this.pageInfo.getKeyParams():null},d.prototype.getKeyParamsFromQuery=function(){if(this.pageInfo)return this.pageInfo.getKeyParamsFromQuery()},d.prototype.updateReferInfo=function(e){for(var t in e=e||{},this.referInfo||(this.referInfo={}),e){var r=e[t];r&&(t.startsWith("refer_")||t.startsWith("_ex_")?t.startsWith("_ex_")&&(t="refer_".concat(t.slice(4))):t=["refer",t].join("_"),this.referInfo[t]=r)}},d.prototype.getReferPageQuery=function(){return this.referInfo?Object.assign({},this.referInfo):null},d.prototype.getReferPageID=function(){return this.referInfo?this.referInfo.refer_page_id:null},d.prototype.getReferPageName=function(){return this.referInfo?this.referInfo.refer_page_name:null},d.prototype.getReferPageSection=function(){return this.referInfo?this.referInfo.refer_page_section:null},d.prototype.getReferPageElement=function(){return this.referInfo?this.referInfo.refer_page_element:null},d.prototype.getReferPageQueryString=function(){var e=this.getReferPageQuery();return(0,u.XP)(e)},d.prototype.addReferPageQueryString=function(e){var t=new l(e),r=Object.assign({},t.getQuery(),this.getReferPageQuery());return[e.split("?")[0],(0,u.XP)(r)].join("?")},d.prototype.addPageNameAsRefer=function(e){var t=new l(e),r=Object.assign({},t.getQuery(),{refer_page_name:this.getPageName()});return[e.split("?")[0],(0,u.XP)(r)].join("?")},d.prototype.addPageAsRefer=function(e){if(e){var t=new l(e),r={refer_page_name:this.getPageName(),refer_page_id:this.getPageID()},n=this.getPageSN();n&&(r.refer_page_sn=n);var i=t.pageELSN||"";i&&(r.refer_page_el_sn=i);var o=Object.assign({},t.getQuery(),r);return[e.split("?")[0],(0,u.XP)(o)].join("?")}},d.prototype.addPageTransferParameters=function(e){if(e){var t=new l(e),r={refer_page_name:this.getPageName(),refer_page_id:this.getPageID()},n=this.getPageSN();n&&(r.refer_page_sn=n);var i=t.pageELSN||"";i&&(r.refer_page_el_sn=i);var o=this.getExtendTransferParameters(!0),a=Object.assign({},o,t.getQuery(),r);return[e.split("?")[0],(0,u.XP)(a)].join("?")}},d.prototype.getExtendTransferParameters=function(e){var t=this.getQuery()||{},r={};for(var n in t)if(t.hasOwnProperty(n)&&!r[n]){n.startsWith("_x_")||"xcx_trace_id"===n||"xcx_version"===n?r[n]=t[n]:e&&n.startsWith("_ex_")?r[n.replace("_ex_","_x_")]=t[n]:e&&"msgid"===n?r["_x_msgid"]=t[n]:e&&"refer_share_id"===n&&(r["_x_share_id"]=t[n])}return r},d.prototype.hasIndividualPV=function(){return this.pageInfo?this.pageInfo.hasIndividualPV():null},d.prototype.isAppModal=function(){return!!this.pageInfo&&this.pageInfo.isAppModal()},d.prototype.getAdQuery=function(){return this.pageInfo?this.pageInfo.getAdQuery():""},d.prototype.getPageInfoByUrl=function(e){return e?new l(e):null},d.prototype.updateReferPageContextFromNative=function(e){this.setKeyParams(e),this.updateReferInfo(e)},d.prototype.getTransientReferPageParams=function(e){var t,r;("string"==typeof e?r=e:e.url&&(r=e.url),r)?t=m(new l(r).getQuery()):t=m(e);if(!t)return null;var n={},i=!1;for(var o in t)if(t.hasOwnProperty(o)){var a=t[o],s=o.startsWith("refer_")?o.slice(6):o.startsWith("_ex_")?o.slice(4):"";if(!a||!s)continue;n[s]=a,i=!0}return i?n:null},d.prototype.getNativeInfo=function(e){if(this.pageInfo)return this.pageInfo.getNativeInfo(e)},d.prototype.checkNativePageVersion=function(e,t){if(this.pageInfo)return this.pageInfo.checkNativePageVersion(t)},d.prototype.getNativePageName=function(e){if(this.pageInfo)return this.pageInfo.getNativePageName(e)};var g={instance:null,getInstance:function(){return this.instance||(this.instance=new d),this.instance}};var _=g},2202:function(e,t,r){"use strict";r.d(t,{BF:function(){return u},C_:function(){return a},Os:function(){return h},Y0:function(){return l},an:function(){return m},eP:function(){return d},fZ:function(){return s},iw:function(){return i},lJ:function(){return p},we:function(){return o},yC:function(){return c}});r(1466),r(9371),r(1876),r(2850),r(2773);var n={MiniProgram:/miniprogram/i,WeChat:/MicroMessenger/i,QQ:/QQ\/[\d\.]+\s+/i,QQAndQzone:/(QQ\/[\d\.]+\s+)|Qzone/i,QQApp:/QQ\//i,Weibo:/Weibo/i,Ios:/iphone|ipad|ipod/i,IosVersion:/os (\d+)_(\d+)_?(\d+)?/i,Android:/Android/i,AndroidVersion:/Android (\d+).?(\d+)?.?(\d+)?/i,AndroidNative:/phh_android_version/i,IosNative:/phh_ios_version/i,IosApiRequest:/BundleID\/com.xunmeng.pinduoduo/i,Mobile:/Android|webOS|iPhone|iPad|iPod/i,AndroidNativeVersion:/(phh_android_version)\/([^\s]+)\s*/i,IosNativeVersion:/(phh_ios_version|AppVersion)\/([^\s]+)\s*/i,MecoWebViewCore:/MecoCore\/(\d)/i,MecoWebViewSdk:/MecoSDK\/(\d)/i},i={Unknown:"unknown",PddIOS:"ios",PddAndroid:"android",PDDTinyAndorid:"tinyAndroid",WeChat:"wechat",Weibo:"weibo",QQ:"qq",QQApp:"qqapp",WxApp:"wxapp"},o={Android:"android",IOS:"ios",Unknown:"unknown"};function a(e,t){var r=t===i.PddAndroid?n.AndroidNativeVersion:n.IosNativeVersion,o=e.match(r);return o&&o[2]||""}function s(e){return n.MecoWebViewCore.test(e)&&n.MecoWebViewSdk.test(e)}function c(e,t){[e,t].forEach((function(e){if("string"!=typeof e)throw new TypeError("Invalid argument expected string")}));for(var r=function(e){return e.split(".").map((function(e){return parseInt(e,10)||0}))},n=r(e),i=r(t),o=Math.max(n.length,i.length),a=0;a<o;++a){var s=n[a]||0,c=i[a]||0;if(s!==c)return s-c}return 0}function u(){return"amcomponent:"===window.location.protocol}function p(e,t,r){return void 0===e[t]&&(e[t]=r),e[t]}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.MiniProgram.test(e)||"undefined"!=typeof window&&"miniprogram"===window.__wxjs_environment}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.AndroidNative.test(e)?e.includes("app_type/tiny")?i.PDDTinyAndorid:i.PddAndroid:n.IosNative.test(e)||n.IosApiRequest.test(e)?i.PddIOS:n.WeChat.test(e)?f(e)?i.WxApp:i.WeChat:n.Weibo.test(e)?i.Weibo:n.QQApp.test(e)&&f(e)?i.QQApp:n.QQAndQzone.test(e)?i.QQ:i.Unknown}function h(e){return n.Ios.test(e)?o.IOS:n.Android.test(e)?o.Android:o.Unknown}function d(e){var t=h(e),r="";if(t===o.IOS&&(r=n.IosVersion),t===o.Android&&(r=n.AndroidVersion),r){var i=e.match(r);return(i?[i[1],i[2],i[3]].map((function(e){return e?parseInt(e,10):0})):[]).join(".")}return""}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.Mobile.test(e)}},4711:function(e,t,r){"use strict";r.d(t,{zT:function(){return W},Xf:function(){return j}});r(8416),r(9115),r(6253),r(6997),r(1181),r(2139);var n=r(8309),i=r(9348),o=r(5558),a=r(1074),s=r(1269),c=(r(1466),r(2202)),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,n.Z)(this,e),this.cache={},this.ua=t}return(0,i.Z)(e,[{key:"platform",get:function(){return(0,c.Y0)(this.ua)}},{key:"system",get:function(){return(0,c.Os)(this.ua)}},{key:"systemVersion",get:function(){return(0,c.eP)(this.ua)}},{key:"version",get:function(){return""}},{key:"isNativePlatform",get:function(){return!1}},{key:"isLiteNativePlatform",get:function(){return!1}},{key:"isTinyNativePlatform",get:function(){return!1}},{key:"isMecoCore",get:function(){return!1}},{key:"isMajiabaoNativePlatform",get:function(){return!1}},{key:"wechatVersion",get:function(){return""}},{key:"wechatPlatform",get:function(){return""}},{key:"isSupportHistoryAPI",get:function(){return!1}},{key:"isPureWeChatPlatform",get:function(){return!1}},{key:"isWeChatMiniProgram",get:function(){return!1}},{key:"isWeChatPlatform",get:function(){return!1}},{key:"isAndroidWeChatPlatform",get:function(){return!1}},{key:"isIOSWeChatPlatform",get:function(){return!1}},{key:"isEmbeddedBrowser",get:function(){return!1}},{key:"isSupportWechatFloatingWindow",get:function(){return!1}},{key:"isShowSMAlertPlatform",get:function(){return!1}},{key:"isQQPlatform",get:function(){return!1}},{key:"isPureQQPlatform",get:function(){return!1}},{key:"isQQMiniProgram",get:function(){return!1}},{key:"isWeiboPlatform",get:function(){return!1}}]),e}(),p=u;function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var l=/micromessenger\/([^\s]+)\s*/i,h="wechat_android",d="wechat_ios",m="wechat_unknown";var g=function(e){(0,o.Z)(r,e);var t=f(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"wechatVersion",get:function(){return(0,c.lJ)(this.cache,"wechatVersion",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(l);return e&&e[1]||""}(this.ua))}},{key:"wechatPlatform",get:function(){return(0,c.lJ)(this.cache,"wechatPlatform",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==(e=e.toUpperCase()).indexOf("ANDROID")?h:-1!==e.indexOf("IPHONE")||-1!==e.indexOf("IPAD")||-1!==e.indexOf("ITOUCH")?d:m}(this.ua))}},{key:"isSupportHistoryAPI",get:function(){return(0,c.lJ)(this.cache,"isSupportHistoryAPI",(0,c.yC)(this.wechatVersion,"6.5.1")>0)}},{key:"isPureWeChatPlatform",get:function(){return this.platform===c.iw.WeChat}},{key:"isWeChatMiniProgram",get:function(){return this.platform===c.iw.WxApp}},{key:"isWeChatPlatform",get:function(){return this.platform===c.iw.WeChat||this.platform===c.iw.WxApp}},{key:"isAndroidWeChatPlatform",get:function(){return this.isWeChatPlatform&&this.wechatPlatform===h}},{key:"isIOSWeChatPlatform",get:function(){return this.isWeChatPlatform&&this.wechatPlatform===d}},{key:"isEmbeddedBrowser",get:function(){return this.isWeChatPlatform}},{key:"isWeChatPayAvailable",get:function(){return this.isWeChatPlatform}},{key:"isSupportWechatFloatingWindow",get:function(){return(0,c.lJ)(this.cache,"isSupportWechatFloatingWindow",(0,c.yC)(this.wechatVersion,"6.6.7")>0)}},{key:"isShowSMAlertPlatform",get:function(){var e=this;return(0,c.lJ)(this.cache,"isShowSMAlertPlatform",!!e.isIOSWeChatPlatform||!!(e.isAndroidWeChatPlatform&&(0,c.yC)(e.wechatVersion,"6.5.6")>=0))}}]),r}(p),_=g;r(2850),r(2773);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var y="greaterThan",S="greaterThanEqual",E="contains",O=function(e){(0,o.Z)(r,e);var t=v(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"isVersionGreater",value:function(e){return!!e&&(0,c.yC)(this.version,e)>0}},{key:"isVersionGreaterThanEqual",value:function(e){return!!e&&(0,c.yC)(this.version,e)>=0}},{key:"statisfy",value:function(e,t,r){return r===y?this.platform===c.iw.PddAndroid?this.isVersionGreater(e):this.isVersionGreater(t):r===S?this.platform===c.iw.PddAndroid?this.isVersionGreaterThanEqual(e):this.isVersionGreaterThanEqual(t):r===E&&(this.platform===c.iw.PddAndroid?e.includes(this.version):t.includes(this.version))}},{key:"version",get:function(){return(0,c.lJ)(this.cache,"version",(0,c.C_)(this.ua,this.platform))}},{key:"isNativePlatform",get:function(){return this.platform===c.iw.PddIOS||this.platform===c.iw.PddAndroid}},{key:"isLiteNativePlatform",get:function(){return this.isNativePlatform&&this.ua.includes("app_type/lite")}},{key:"isMecoCore",get:function(){return(0,c.lJ)(this.cache,"isMecoCore",this.isNativePlatform&&(0,c.fZ)(this.ua))}}]),r}(p),w=O;function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var I=function(e){(0,o.Z)(r,e);var t=P(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"isQQPlatform",get:function(){return this.platform===c.iw.QQ||this.platform===c.iw.QQApp}},{key:"isPureQQPlatform",get:function(){return this.platform===c.iw.QQ}},{key:"isQQMiniProgram",get:function(){return this.platform===c.iw.QQApp}},{key:"isEmbeddedBrowser",get:function(){return this.isQQPlatform}},{key:"isQQPayAvailable",get:function(){return this.isQQPlatform}},{key:"isWeChatPayAvailable",get:function(){return this.isQQPlatform}}]),r}(p),b=I;function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var C=function(e){(0,o.Z)(r,e);var t=A(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"isWeiboPlatform",get:function(){return this.platform===c.iw.Weibo}},{key:"isEmbeddedBrowser",get:function(){return this.isWeiboPlatform}},{key:"isAliPayAvailable",get:function(){return!0}}]),r}(p),T=C;function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var k=function(e){(0,o.Z)(r,e);var t=R(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"isWeChatPayAvailable",get:function(){return(0,c.lJ)(this.cache,"isWeChatPayAvailable",(0,c.an)(this.ua))}},{key:"isAliPayAvailable",get:function(){return!0}}]),r}(p),D=k;function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var Z=function(e){(0,o.Z)(r,e);var t=M(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"isTinyNativePlatform",get:function(){return this.platform===c.iw.PDDTinyAndorid}},{key:"version",get:function(){return(0,c.lJ)(this.cache,"version",(0,c.C_)(this.ua,c.iw.PddAndroid))}}]),r}(D),N=Z,L=[],x=new Map;function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(x.has(e))return x.get(e);var t,r=(0,c.Y0)(e);switch(r){case c.iw.PddAndroid:case c.iw.PddIOS:t=new w(e);break;case c.iw.QQ:case c.iw.QQApp:t=new b(e);break;case c.iw.Weibo:t=new T(e);break;case c.iw.WxApp:case c.iw.WeChat:t=new _(e);break;case c.iw.PDDTinyAndorid:t=new N(e);break;default:t=new D(e)}return U(e,t),t}function U(e,t){if(L.push(e),x.set(e,t),L.length>10){var r=L.shift();x.delete(r)}}function W(){return j(window.navigator.userAgent)}},409:function(e,t,r){"use strict";r.r(t),r.d(t,{initQQConfig:function(){return h}});var n=r(3877),i=r(5118),o=r(7883),a=r.n(o),s=(r(9115),r(6253),r(6997),r(1181),r(851),r(6108),r(1876),r(6333)),c=r(109),u=r(8965),p=r(4711),f=s.Z.get(location.host),l="qq/jsapi/signature";function h(e){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)(a().mark((function e(t){var r,i,o,s,u,p,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Math.random().toString().substring(2),i=Date.now().toString(),o={timestamp:i,noncestr:r,url:location.href.split("#")[0],open_app_id:f.ApiKey.QQPublic},e.next=5,Promise.all([t.get(l,{params:o}),m()]);case 5:if(s=e.sent,u=(0,n.Z)(s,1),p=u[0],window.mqq&&p.signature){e.next=10;break}throw new Error("qq sdk is no ready!");case 10:return h=p.signature,e.abrupt("return",new Promise((function(e){window.mqq.config({timestamp:i,signature:h,debug:!1,appId:f.ApiKey.QQPublic,nonceStr:r,jsApiList:["showMenuItems","hideMenuItems","onMenuShareAppMessage","onMenuShareTimeline","onMenuShareQQ","onMenuShareQZone","previewImage","chooseImage","uploadImage","getLocation"]}),window.mqq.ready((function(){window.mqq.hideMenuItems({menuList:["menuItem:favorite","menuItem:openWithSafari","menuItem:openWithQQBrowser","menuItem:share:email","menuItem:share:timeline"]}),window.mqq.showMenuItems({menuList:["menuItem:share:appMessage","menuItem:share:qq","menuItem:share:QZone"]}),e()})),window.mqq.error((function(t){(0,c.K2)(new Error(JSON.stringify(t)),{error_type:"qq_config_error",payload:{signature:h}}),e()}))})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(){return(0,p.zT)().isPureQQPlatform?Promise.all([(0,u.v)("https://mp.gtimg.cn/open/js/openApi.js",{crossOrigin:"anonymous"}),(0,u.v)("https://open.mobile.qq.com/sdk/qqapi.wk.js?_bid=152")]):Promise.all([r.e(457),r.e(216)]).then(r.t.bind(r,4369,23))}},4369:function(e,t,r){var n,i,o=r(1230);r(9357),r(1876),r(1466),i=window,n=function(){return function(e,t){function r(t,r,n){e.WeixinJSBridge?WeixinJSBridge.invoke(t,i(r),(function(e){c(t,e,n)})):f(t,n)}function n(t,r,n){e.WeixinJSBridge?WeixinJSBridge.on(t,(function(e){n&&n.trigger&&n.trigger(e),c(t,e,r)})):f(t,n||r)}function i(e){return(e=e||{}).appId=D.appId,e.verifyAppId=D.appId,e.verifySignType="sha1",e.verifyTimestamp=D.timestamp+"",e.verifyNonceStr=D.nonceStr,e.verifySignature=D.signature,e}function a(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function s(e){return e.postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo,e}function c(e,t,r){"openEnterpriseChat"==e&&(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var n=t.errMsg;n||(n=t.err_msg,delete t.err_msg,n=u(e,n),t.errMsg=n),(r=r||{})._complete&&(r._complete(t),delete r._complete),n=t.errMsg||"",D.debug&&!r.isInnerInvoke&&alert(JSON.stringify(t));var i=n.indexOf(":");switch(n.substring(i+1)){case"ok":r.success&&r.success(t);break;case"cancel":r.cancel&&r.cancel(t);break;default:r.fail&&r.fail(t)}r.complete&&r.complete(t)}function u(e,t){var r=e,n=y[r];n&&(r=n);var i="ok";if(t){var o=t.indexOf(":");"confirm"==(i=t.substring(o+1))&&(i="ok"),"failed"==i&&(i="fail"),-1!=i.indexOf("failed_")&&(i=i.substring(7)),-1!=i.indexOf("fail_")&&(i=i.substring(5)),"access denied"!=(i=(i=i.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=i||(i="permission denied"),"config"==r&&"function not exist"==i&&(i="ok"),""==i&&(i="fail")}return r+":"+i}function p(e){if(e){for(var t=0,r=e.length;t<r;++t){var n=e[t],i=v[n];i&&(e[t]=i)}return e}}function f(e,t){if(!(!D.debug||t&&t.isInnerInvoke)){var r=y[e];r&&(e=r),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function l(e){if(!(P||I||D.debug||T<"6.0.2"||k.systemType<0)){var t=new Image;k.appId=D.appId,k.initTime=R.initEndTime-R.initStartTime,k.preVerifyTime=R.preVerifyEndTime-R.preVerifyStartTime,x.getNetworkType({isInnerInvoke:!0,success:function(e){k.networkType=e.networkType;var r="https://open.weixin.qq.com/sdk/report?v="+k.version+"&o="+k.isPreVerifyOk+"&s="+k.systemType+"&c="+k.clientVersion+"&a="+k.appId+"&n="+k.networkType+"&i="+k.initTime+"&p="+k.preVerifyTime+"&u="+k.url;t.src=r}})}}function h(){return(new Date).getTime()}function d(t){b&&(e.WeixinJSBridge?t():S.addEventListener&&S.addEventListener("WeixinJSBridgeReady",t,!1)&&S.addEventListener("QQJSBridgeReady",t,!1))}function m(){x.invoke||(x.invoke=function(t,r,n){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,i(r),n)},x.on=function(t,r){e.WeixinJSBridge&&WeixinJSBridge.on(t,r)})}function g(e){if("string"==typeof e&&e.length>0){var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?t+"?"+r:t}}if(!e.jWeixin){var _,v={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},y=function(){var e={};for(var t in v)e[v[t]]=t;return e}(),S=e.document,E=S.title,O=navigator.userAgent.toLowerCase(),w=navigator.platform.toLowerCase(),P=!(!w.match("mac")&&!w.match("win")),I=-1!=O.indexOf("wxdebugger"),b=!0,A=-1!=O.indexOf("android"),C=-1!=O.indexOf("iphone")||-1!=O.indexOf("ipad"),T=function(){var e=O.match(/micromessenger\/(\d+\.\d+\.\d+)/)||O.match(/micromessenger\/(\d+\.\d+)/);return e?e[1]:""}(),R={initStartTime:h(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},k={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:C?1:A?2:-1,clientVersion:T,url:encodeURIComponent(location.href)},D={},M={_completes:[]},Z={state:0,data:{}};d((function(){R.initEndTime=h()}));var N=!1,L=[],x=(_={config:function(e){D=e,f("config",e);var t=!1!==D.check;d((function(){if(t)r(v.config,{verifyJsApiList:p(D.jsApiList)},function(){M._complete=function(e){R.preVerifyEndTime=h(),Z.state=1,Z.data=e},M.success=function(e){k.isPreVerifyOk=0},M.fail=function(e){M._fail?M._fail(e):Z.state=-1};var e=M._completes;return e.push((function(){l()})),M.complete=function(t){for(var r=0,n=e.length;r<n;++r)e[r]();M._completes=[]},M}()),R.preVerifyStartTime=h();else{Z.state=1;for(var e=M._completes,n=0,i=e.length;n<i;++n)e[n]();M._completes=[]}})),m()},ready:function(e){0!=Z.state?e():(M._completes.push(e),!b&&D.debug&&e())},error:function(e){T<"6.0.2"||(-1==Z.state?e(Z.data):M._fail=e)},checkJsApi:function(e){var t=function(e){var t=e.checkResult;for(var r in t){var n=y[r];n&&(t[n]=t[r],delete t[r])}return e};r("checkJsApi",{jsApiList:p(e.jsApiList)},(e._complete=function(e){if(A){var r=e.checkResult;r&&(e.checkResult=JSON.parse(r))}e=t(e)},e))},onMenuShareTimeline:function(e){n(v.onMenuShareTimeline,{complete:function(){r("shareTimeline",{title:e.title||E,desc:e.title||E,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){n(v.onMenuShareAppMessage,{complete:function(t){"favorite"===t.scene?r("sendAppMessage",{title:e.title||E,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):r("sendAppMessage",{title:e.title||E,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){n(v.onMenuShareQQ,{complete:function(){r("shareQQ",{title:e.title||E,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){n(v.onMenuShareWeibo,{complete:function(){r("shareWeiboApp",{title:e.title||E,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){n(v.onMenuShareQZone,{complete:function(){r("shareQZone",{title:e.title||E,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){r("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){r("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){r("startRecord",{},e)},stopRecord:function(e){r("stopRecord",{},e)},onVoiceRecordEnd:function(e){n("onVoiceRecordEnd",e)},playVoice:function(e){r("playVoice",{localId:e.localId},e)},pauseVoice:function(e){r("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){r("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){n("onVoicePlayEnd",e)},uploadVoice:function(e){r("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){r("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){r("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){r("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(A){var t=e.localIds;try{t&&(e.localIds=JSON.parse(t))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){r(v.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){r("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){r("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===N?(N=!0,r("getLocalImgData",{localId:e.localId},(e._complete=function(e){if(N=!1,L.length>0){var t=L.shift();wx.getLocalImgData(t)}},e))):L.push(e)},getNetworkType:function(e){var t=function(e){var t=e.errMsg;if(e.errMsg="getNetworkType:ok",e.subtype,e.networkType)return e;var r=t.indexOf(":"),n=t.substring(r+1);switch(n){case"wifi":case"edge":case"wwan":e.networkType=n;break;default:e.errMsg="getNetworkType:fail"}return e};r("getNetworkType",{},(e._complete=function(e){e=t(e)},e))},openLocation:function(e){r("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)}},o(_,"getLocation",(function(e){e=e||{},r(v.getLocation,{type:e.type||"wgs84"},(e._complete=function(e){delete e.type},e))})),o(_,"hideOptionMenu",(function(e){r("hideOptionMenu",{},e)})),o(_,"showOptionMenu",(function(e){r("showOptionMenu",{},e)})),o(_,"closeWindow",(function(e){r("closeWindow",{},e=e||{})})),o(_,"hideMenuItems",(function(e){r("hideMenuItems",{menuList:e.menuList},e)})),o(_,"showMenuItems",(function(e){r("showMenuItems",{menuList:e.menuList},e)})),o(_,"hideAllNonBaseMenuItem",(function(e){r("hideAllNonBaseMenuItem",{},e)})),o(_,"showAllNonBaseMenuItem",(function(e){r("showAllNonBaseMenuItem",{},e)})),o(_,"scanQRCode",(function(e){r("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(C){var t=e.resultStr;if(t){var r=JSON.parse(t);e.resultStr=r&&r.scan_code&&r.scan_code.scan_result}}},e))})),o(_,"openAddress",(function(e){r(v.openAddress,{},(e._complete=function(e){e=s(e)},e))})),o(_,"openProductSpecificView",(function(e){r(v.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)})),o(_,"addCard",(function(e){for(var t=e.cardList,n=[],i=0,o=t.length;i<o;++i){var a=t[i],s={card_id:a.cardId,card_ext:a.cardExt};n.push(s)}r(v.addCard,{card_list:n},(e._complete=function(e){var t=e.card_list;if(t){for(var r=0,n=(t=JSON.parse(t)).length;r<n;++r){var i=t[r];i.cardId=i.card_id,i.cardExt=i.card_ext,i.isSuccess=!!i.is_succ,delete i.card_id,delete i.card_ext,delete i.is_succ}e.cardList=t,delete e.card_list}},e))})),o(_,"chooseCard",(function(e){r("chooseCard",{app_id:D.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))})),o(_,"openCard",(function(e){for(var t=e.cardList,n=[],i=0,o=t.length;i<o;++i){var a=t[i],s={card_id:a.cardId,code:a.code};n.push(s)}r(v.openCard,{card_list:n},e)})),o(_,"consumeAndShareCard",(function(e){r(v.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)})),o(_,"chooseWXPay",(function(e){r(v.chooseWXPay,a(e),e)})),o(_,"openEnterpriseRedPacket",(function(e){r(v.openEnterpriseRedPacket,a(e),e)})),o(_,"startSearchBeacons",(function(e){r(v.startSearchBeacons,{ticket:e.ticket},e)})),o(_,"stopSearchBeacons",(function(e){r(v.stopSearchBeacons,{},e)})),o(_,"onSearchBeacons",(function(e){n(v.onSearchBeacons,e)})),o(_,"openEnterpriseChat",(function(e){r("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)})),o(_,"launchMiniProgram",(function(e){r("launchMiniProgram",{targetAppId:e.targetAppId,path:g(e.path),envVersion:e.envVersion},e)})),o(_,"miniProgram",{navigateBack:function(e){e=e||{},d((function(){r("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)}))},navigateTo:function(e){d((function(){r("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)}))},redirectTo:function(e){d((function(){r("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)}))},switchTab:function(e){d((function(){r("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)}))},reLaunch:function(e){d((function(){r("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)}))},postMessage:function(e){d((function(){r("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)}))},getEnv:function(t){d((function(){t({miniprogram:"miniprogram"===e.__wxjs_environment})}))}}),_),j=1,U={};return S.addEventListener("error",(function(e){if(!A){var t=e.target,r=t.tagName,n=t.src;if(("IMG"==r||"VIDEO"==r||"AUDIO"==r||"SOURCE"==r)&&-1!=n.indexOf("wxlocalresource://")){e.preventDefault(),e.stopPropagation();var i=t["wx-id"];if(i||(i=j++,t["wx-id"]=i),U[i])return;U[i]=!0,wx.ready((function(){wx.getLocalImgData({localId:n,success:function(e){t.src=e.localData}})}))}}}),!0),S.addEventListener("load",(function(e){if(!A){var t=e.target,r=t.tagName;if(t.src,"IMG"==r||"VIDEO"==r||"AUDIO"==r||"SOURCE"==r){var n=t["wx-id"];n&&(U[n]=!1)}}}),!0),x&&(e.qq=e.wx=e.jWeixin=x),x}}(i)}.call(t,r,t,e),void 0===n||(e.exports=n)},3878:function(e,t,r){"use strict";r.r(t),r.d(t,{initWxConfig:function(){return C}});r(5767),r(8837),r(4882),r(8351);var n,i,o=r(5118),a=r(8482),s=r(7883),c=r.n(s),u=(r(7476),r(6253),r(851),r(109)),p=["addDownloadTask","queryDownloadTask","installDownloadTask","showMenuItems","hideMenuItems","onMenuShareAppMessage","onMenuShareTimeline","onMenuShareQQ","onMenuShareQZone","onMenuShareWeibo","addCard","openCard","chooseCard","previewImage","editAddress","chooseImage","uploadImage","getLocation","openAddress","getInstallState","launch3rdApp","launchApplication","startRecord","stopRecord","uploadVoice","openBusinessView"],f=["wx-open-launch-app","wx-open-launch-weapp","wx-open-subscribe","wx-open-audio"],l="menuItem:share:appMessage",h="menuItem:share:qq",d="menuItem:share:QZone",m="menuItem:share:timeline",g="menuItem:copyUrl",_=["menuItem:openWithSafari","menuItem:share:email"],v=1,y=2,S=4,E=5,O=(n={},(0,a.Z)(n,v,l),(0,a.Z)(n,y,m),(0,a.Z)(n,S,h),(0,a.Z)(n,E,d),n),w=(i={},(0,a.Z)(i,v,0),(0,a.Z)(i,y,0),(0,a.Z)(i,S,0),(0,a.Z)(i,E,0),i),P=(r(413),r(5607));function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A="WxCheckPdd";function C(e,t){var r=e.wechatAppID,n=e.timestamp,i=e.nonceStr,a=e.signature,s=e.shareTypeEnable,l=void 0===s?{}:s;return new Promise((function(e){var s=top.wx||window.wx;s.config({timestamp:n,signature:a,nonceStr:i,debug:!1,beta:!0,appId:r,jsApiList:p,openTagList:f}),s.ready((function(){var r=function(e,t){var r=v,n=y;return e=b(b({},w),e),Object.keys(e).reduce((function(i,o){var a=O[o];if(t&&[r,n].indexOf(+o)<0)a&&i.menuShareItemsToHide.push(a);else{var s=e[o]?i.menuShareItemsToShow:i.menuShareItemsToHide;a&&s.push(a)}return i}),{menuShareItemsToShow:[],menuShareItemsToHide:[]})}(l,t.onlyWeChat),n=r.menuShareItemsToShow,i=r.menuShareItemsToHide,o=[],a=_.concat(i);t.disableShare?a=a.concat(n):o=o.concat(n),t.disableCopyUrl&&a.push(g),t.enableBrowserOpen&&a.splice(0,1),s.hideMenuItems({menuList:a}),s.showMenuItems({menuList:o}),window.wxReady||Object.defineProperty(window,"wxReady",{get:function(){return console.warn("window.wxReady 即将废弃，使用方尽快解除依赖"),!0}}),e()})),s.error((function(e){(0,u.K2)(e,{error_type:"wx_config_error",error_message:JSON.stringify(e),payload:{signature:a}})})),window.wx.ready((0,o.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,r=t.wxCheckPdd,+localStorage.getItem(A)!==r&&(0,P.oP)({op:"event",sub_op:"app_check",uninstall_status:r}),localStorage.setItem(A,""+r);case 7:case"end":return e.stop()}}),e)}))))}))}function T(){return window.WeixinJSBridge&&window.WeixinJSBridge.invoke?new Promise((function(e){window.WeixinJSBridge.invoke("getInstallState",{packageName:"com.xunmeng.pinduoduo",packageUrl:"pinduoduo://"},(function(t){var r=t.err_msg,n=void 0===r?"":r,i=t.versionName,o=void 0===i?"":i,a=/get_install_state:yes/.test(n),s=/get_install_state:no/.test(n);e({version:o,wxCheckPdd:a?1:s?0:2})}))})):Promise.resolve({version:"",wxCheckPdd:2})}},413:function(e,t,r){var n,i,o=r(1230);r(1466),r(1876),r(9357),i=window,n=function(){return function(e,t){if(!e.jWeixin){var r,n,i={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},a=function(){var e={};for(var t in i)e[i[t]]=t;return e}(),s=e.document,c=s.title,u=navigator.userAgent.toLowerCase(),p=navigator.platform.toLowerCase(),f=!(!p.match("mac")&&!p.match("win")),l=-1!=u.indexOf("wxdebugger"),h=-1!=u.indexOf("micromessenger"),d=-1!=u.indexOf("android"),m=-1!=u.indexOf("iphone")||-1!=u.indexOf("ipad"),g=(n=u.match(/micromessenger\/(\d+\.\d+\.\d+)/)||u.match(/micromessenger\/(\d+\.\d+)/))?n[1]:"",_={initStartTime:Z(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},v={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:m?1:d?2:-1,clientVersion:g,url:encodeURIComponent(location.href)},y={},S={_completes:[]},E={state:0,data:{}};N((function(){_.initEndTime=Z()}));var O=!1,w=[],P=(r={config:function(t){M("config",y=t);var r=!1!==y.check;N((function(){if(r)A(i.config,{verifyJsApiList:D(y.jsApiList),verifyOpenTagList:D(y.openTagList)},function(){S._complete=function(e){_.preVerifyEndTime=Z(),E.state=1,E.data=e},S.success=function(e){v.isPreVerifyOk=0},S.fail=function(e){S._fail?S._fail(e):E.state=-1};var e=S._completes;return e.push((function(){!function(){if(!(f||l||y.debug||g<"6.0.2"||v.systemType<0)){var e=new Image;v.appId=y.appId,v.initTime=_.initEndTime-_.initStartTime,v.preVerifyTime=_.preVerifyEndTime-_.preVerifyStartTime,P.getNetworkType({isInnerInvoke:!0,success:function(t){v.networkType=t.networkType;var r="https://open.weixin.qq.com/sdk/report?v="+v.version+"&o="+v.isPreVerifyOk+"&s="+v.systemType+"&c="+v.clientVersion+"&a="+v.appId+"&n="+v.networkType+"&i="+v.initTime+"&p="+v.preVerifyTime+"&u="+v.url;e.src=r}})}}()})),S.complete=function(t){for(var r=0,n=e.length;r<n;++r)e[r]();S._completes=[]},S}()),_.preVerifyStartTime=Z();else{E.state=1;for(var e=S._completes,t=0,n=e.length;t<n;++t)e[t]();S._completes=[]}})),P.invoke||(P.invoke=function(t,r,n){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,T(r),n)},P.on=function(t,r){e.WeixinJSBridge&&WeixinJSBridge.on(t,r)})},ready:function(e){0!=E.state?e():(S._completes.push(e),!h&&y.debug&&e())},error:function(e){g<"6.0.2"||(-1==E.state?e(E.data):S._fail=e)},checkJsApi:function(e){A("checkJsApi",{jsApiList:D(e.jsApiList)},(e._complete=function(e){if(d){var t=e.checkResult;t&&(e.checkResult=JSON.parse(t))}e=function(e){var t=e.checkResult;for(var r in t){var n=a[r];n&&(t[n]=t[r],delete t[r])}return e}(e)},e))},onMenuShareTimeline:function(e){C(i.onMenuShareTimeline,{complete:function(){A("shareTimeline",{title:e.title||c,desc:e.title||c,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){C(i.onMenuShareAppMessage,{complete:function(t){"favorite"===t.scene?A("sendAppMessage",{title:e.title||c,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):A("sendAppMessage",{title:e.title||c,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){C(i.onMenuShareQQ,{complete:function(){A("shareQQ",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){C(i.onMenuShareWeibo,{complete:function(){A("shareWeiboApp",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){C(i.onMenuShareQZone,{complete:function(){A("shareQZone",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){A("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){A("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){A("startRecord",{},e)},stopRecord:function(e){A("stopRecord",{},e)},onVoiceRecordEnd:function(e){C("onVoiceRecordEnd",e)},playVoice:function(e){A("playVoice",{localId:e.localId},e)},pauseVoice:function(e){A("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){A("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){C("onVoicePlayEnd",e)},uploadVoice:function(e){A("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){A("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){A("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){A("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(d){var t=e.localIds;try{t&&(e.localIds=JSON.parse(t))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){A(i.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){A("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){A("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===O?(O=!0,A("getLocalImgData",{localId:e.localId},(e._complete=function(e){if(O=!1,0<w.length){var t=w.shift();wx.getLocalImgData(t)}},e))):w.push(e)},getNetworkType:function(e){A("getNetworkType",{},(e._complete=function(e){e=function(e){var t=e.errMsg;e.errMsg="getNetworkType:ok";var r=e.subtype;if(delete e.subtype,r)e.networkType=r;else{var n=t.indexOf(":"),i=t.substring(n+1);switch(i){case"wifi":case"edge":case"wwan":e.networkType=i;break;default:e.errMsg="getNetworkType:fail"}}return e}(e)},e))},openLocation:function(e){A("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)}},o(r,"getLocation",(function(e){A(i.getLocation,{type:(e=e||{}).type||"wgs84"},(e._complete=function(e){delete e.type},e))})),o(r,"hideOptionMenu",(function(e){A("hideOptionMenu",{},e)})),o(r,"showOptionMenu",(function(e){A("showOptionMenu",{},e)})),o(r,"closeWindow",(function(e){A("closeWindow",{},e=e||{})})),o(r,"hideMenuItems",(function(e){A("hideMenuItems",{menuList:e.menuList},e)})),o(r,"showMenuItems",(function(e){A("showMenuItems",{menuList:e.menuList},e)})),o(r,"hideAllNonBaseMenuItem",(function(e){A("hideAllNonBaseMenuItem",{},e)})),o(r,"showAllNonBaseMenuItem",(function(e){A("showAllNonBaseMenuItem",{},e)})),o(r,"scanQRCode",(function(e){A("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(m){var t=e.resultStr;if(t){var r=JSON.parse(t);e.resultStr=r&&r.scan_code&&r.scan_code.scan_result}}},e))})),o(r,"openAddress",(function(e){A(i.openAddress,{},(e._complete=function(e){e=function(e){return e.postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo,e}(e)},e))})),o(r,"openProductSpecificView",(function(e){A(i.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)})),o(r,"addCard",(function(e){for(var t=e.cardList,r=[],n=0,o=t.length;n<o;++n){var a=t[n],s={card_id:a.cardId,card_ext:a.cardExt};r.push(s)}A(i.addCard,{card_list:r},(e._complete=function(e){var t=e.card_list;if(t){for(var r=0,n=(t=JSON.parse(t)).length;r<n;++r){var i=t[r];i.cardId=i.card_id,i.cardExt=i.card_ext,i.isSuccess=!!i.is_succ,delete i.card_id,delete i.card_ext,delete i.is_succ}e.cardList=t,delete e.card_list}},e))})),o(r,"chooseCard",(function(e){A("chooseCard",{app_id:y.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))})),o(r,"openCard",(function(e){for(var t=e.cardList,r=[],n=0,o=t.length;n<o;++n){var a=t[n],s={card_id:a.cardId,code:a.code};r.push(s)}A(i.openCard,{card_list:r},e)})),o(r,"consumeAndShareCard",(function(e){A(i.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)})),o(r,"chooseWXPay",(function(e){A(i.chooseWXPay,R(e),e)})),o(r,"openEnterpriseRedPacket",(function(e){A(i.openEnterpriseRedPacket,R(e),e)})),o(r,"startSearchBeacons",(function(e){A(i.startSearchBeacons,{ticket:e.ticket},e)})),o(r,"stopSearchBeacons",(function(e){A(i.stopSearchBeacons,{},e)})),o(r,"onSearchBeacons",(function(e){C(i.onSearchBeacons,e)})),o(r,"openEnterpriseChat",(function(e){A("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)})),o(r,"launchMiniProgram",(function(e){A("launchMiniProgram",{targetAppId:e.targetAppId,path:function(e){if("string"==typeof e&&0<e.length){var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?t+"?"+r:t}}(e.path),envVersion:e.envVersion},e)})),o(r,"openBusinessView",(function(e){A("openBusinessView",{businessType:e.businessType,queryString:e.queryString||"",envVersion:e.envVersion},(e._complete=function(e){if(d){var t=e.extraData;if(t)try{e.extraData=JSON.parse(t)}catch(t){e.extraData={}}}},e))})),o(r,"miniProgram",{navigateBack:function(e){e=e||{},N((function(){A("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)}))},navigateTo:function(e){N((function(){A("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)}))},redirectTo:function(e){N((function(){A("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)}))},switchTab:function(e){N((function(){A("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)}))},reLaunch:function(e){N((function(){A("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)}))},postMessage:function(e){N((function(){A("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)}))},getEnv:function(t){N((function(){t({miniprogram:"miniprogram"===e.__wxjs_environment})}))}}),r),I=1,b={};return s.addEventListener("error",(function(e){if(!d){var t=e.target,r=t.tagName,n=t.src;if(("IMG"==r||"VIDEO"==r||"AUDIO"==r||"SOURCE"==r)&&-1!=n.indexOf("wxlocalresource://")){e.preventDefault(),e.stopPropagation();var i=t["wx-id"];if(i||(i=I++,t["wx-id"]=i),b[i])return;b[i]=!0,wx.ready((function(){wx.getLocalImgData({localId:n,success:function(e){t.src=e.localData}})}))}}}),!0),s.addEventListener("load",(function(e){if(!d){var t=e.target,r=t.tagName;if(t.src,"IMG"==r||"VIDEO"==r||"AUDIO"==r||"SOURCE"==r){var n=t["wx-id"];n&&(b[n]=!1)}}}),!0),P&&(e.wx=e.jWeixin=P),P}function A(t,r,n){e.WeixinJSBridge?WeixinJSBridge.invoke(t,T(r),(function(e){k(t,e,n)})):M(t,n)}function C(t,r,n){e.WeixinJSBridge?WeixinJSBridge.on(t,(function(e){n&&n.trigger&&n.trigger(e),k(t,e,r)})):M(t,n||r)}function T(e){return(e=e||{}).appId=y.appId,e.verifyAppId=y.appId,e.verifySignType="sha1",e.verifyTimestamp=y.timestamp+"",e.verifyNonceStr=y.nonceStr,e.verifySignature=y.signature,e}function R(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function k(e,t,r){"openEnterpriseChat"!=e&&"openBusinessView"!==e||(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var n=t.errMsg;n||(n=t.err_msg,delete t.err_msg,n=function(e,t){var r=e,n=a[r];n&&(r=n);var i="ok";if(t){var o=t.indexOf(":");"confirm"==(i=t.substring(o+1))&&(i="ok"),"failed"==i&&(i="fail"),-1!=i.indexOf("failed_")&&(i=i.substring(7)),-1!=i.indexOf("fail_")&&(i=i.substring(5)),"access denied"!=(i=(i=i.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=i||(i="permission denied"),"config"==r&&"function not exist"==i&&(i="ok"),""==i&&(i="fail")}return r+":"+i}(e,n),t.errMsg=n),(r=r||{})._complete&&(r._complete(t),delete r._complete),n=t.errMsg||"",y.debug&&!r.isInnerInvoke&&alert(JSON.stringify(t));var i=n.indexOf(":");switch(n.substring(i+1)){case"ok":r.success&&r.success(t);break;case"cancel":r.cancel&&r.cancel(t);break;default:r.fail&&r.fail(t)}r.complete&&r.complete(t)}function D(e){if(e){for(var t=0,r=e.length;t<r;++t){var n=e[t],o=i[n];o&&(e[t]=o)}return e}}function M(e,t){if(!(!y.debug||t&&t.isInnerInvoke)){var r=a[e];r&&(e=r),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function Z(){return(new Date).getTime()}function N(t){h&&(e.WeixinJSBridge?t():s.addEventListener&&s.addEventListener("WeixinJSBridgeReady",t,!1))}}(i)}.call(t,r,t,e),void 0===n||(e.exports=n)},7032:function(e,t,r){"use strict";r.d(t,{Iq:function(){return X},D4:function(){return ee}});var n=r(5118),i=r(344),o=r(4974),a=r(7883),s=r.n(a),c=(r(6409),r(9115),r(6253),r(6997),r(1181),r(851),r(9371),r(7401)),u=r(798),p=r(8679),f=r.n(p),l=(r(3220),r(2139),r(5767),r(8837),r(4882),r(8351),r(8482)),h=r(8309),d=r(9348),m=r(5558),g=r(1074),_=r(1269),v=(r(7476),r(4711)),y=r(2691);function S(){return(0,v.zT)().isNativePlatform}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.hideBg,n=r?{}:{loading_style:"2",message:e};(0,y.Q6)("JSUIControl","showLoading",n)}var O=r(4184),w=r.n(O),P=r(3262),I=r(4169),b=r(6484),A=r.n(b),C=["className","bigger"],T=(0,I.H)("/core-ui/spinner.png");setTimeout((function(){return e=T,void((new Image).src=e);var e}),0);var R=(0,P.Z)(A())((function(e){var t=e.className,r=e.bigger,n=(0,o.Z)(e,C);return c.createElement("img",(0,i.Z)({src:T},n,{className:w()(A().root,t,r&&A().bigger)}))})),k=r(1120),D=r.n(k),M=["className","style","bigger","hideBg"];function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var N=(0,P.Z)(D())((function(e){var t=e.className,r=e.style,n=e.bigger,a=e.hideBg,s=(0,o.Z)(e,M),u=a?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({backgroundColor:"transparent"},r):r;return c.createElement("div",(0,i.Z)({},s,{style:u,className:w()(D().root,t,n&&D().bigger)}))}));var L,x=function(e){var t=e.style,r=e.className,n=e.children,o=e.hideBg,a=e.ContainerProps,s=e.SpinnerImgProps,u=!!n;return c.createElement(N,(0,i.Z)({bigger:u,hideBg:o,style:t,className:r},a),c.createElement(R,(0,i.Z)({bigger:u},s)),o?"":n)},j=r(2674),U=r(96);function W(e){var t,r=document.createElement("div");return document.body.appendChild(r),(0,U.Z)(e,r),function(){t||(t=setTimeout((function(){j.unmountComponentAtNode(r),document.body.removeChild(r)}),0))}}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};L&&L(),L=W(c.createElement(x,t,e))}function H(){S()?E.apply(void 0,arguments):G.apply(void 0,arguments)}function Q(){S()?(0,y.Q6)("JSUIControl","hideLoading"):(L&&L(),L=null)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,g.Z)(this,r)}}var q=function(e){(0,m.Z)(r,e);var t=B(r);function r(){return(0,h.Z)(this,r),t.apply(this,arguments)}return(0,d.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props;H(e.msg,{hideBg:e.hideBg})}},{key:"componentWillUnmount",value:function(){Q()}},{key:"render",value:function(){return null}}]),r}(c.PureComponent);function F(){return(0,c.useEffect)((function(){if((0,v.zT)().isNativePlatform){var e={errorType:"networkError",params:{title:"手机网络有问题",message:"请检查网络",iconType:"e779"}},t=setTimeout((function(){return(0,y.vY)(e).catch((function(){return(0,y.vY)(e)}))}),1e4);return function(){return clearTimeout(t)}}}),[]),c.createElement(q,{hideBg:!0})}q.defaultProps={hideBg:!1,msg:""};var V=r(9704);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,_.Z)(e);if(t){var i=(0,_.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,g.Z)(this,r)}}var J={redirectUrl:"/",requireLogin:!0,fallbackCSR:!1,beforeRender:function(e,t,r){return!0},renderSpinner:function(){return c.createElement(F,null)}};function X(e,t){return function(r){var i=function(t){(0,m.Z)(a,t);var i,o=Y(a);function a(){return(0,h.Z)(this,a),o.apply(this,arguments)}return(0,d.Z)(a,[{key:"componentDidMount",value:(i=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.stores.some((function(e){return!e.isServerRendered}))||this.props.stores.forEach((function(e){return e.prepareClientData()})),this.props.stores.forEach((function(e){return e.finishInitLoading()}));case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"componentDidCatch",value:function(e,t){e.message+="_"+JSON.stringify(t),setTimeout((function(){throw e}))}},{key:"render",value:function(){return this.props.stores.every((function(e){return e.isFinishInitLoading}))?c.createElement(r,null):a.appConfig.renderSpinner()}}],[{key:"createStores",value:function(){return Object.keys(e).reduce((function(t,r){return t[r]=new e[r],t}),{})}}]),a}(c.Component);return i.displayName="appProvider(".concat(r.displayName||r.name,")"),i.appConfig=z(z({dealServerError:function(e){return e.errorCode===V.R.AUTHENTICATION_FAILED||t.fallbackCSR?null:e},errorTemplateName:t.serverTemplateName},J),t),(0,u.Pi)(i)}}var $=["stores"],ee=function(e){var t=function(t){var r=t.stores,n=(0,o.Z)(t,$);return c.createElement(u.zt,r,c.createElement(e,(0,i.Z)({stores:Object.values(r)},n)))};return f()(t,e),{Component:t,getInitialProps:te(e),requireLogin:e.appConfig.requireLogin}},te=function(e){return function(){var t=(0,n.Z)(s().mark((function t(r){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.stores=e.stores||e.createStores(),t.next=3,Promise.all(Object.values(n).map((function(t){return t.initClientData(e.pageInfo)})));case 3:return t.abrupt("return",{stores:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},6839:function(e,t,r){"use strict";r.d(t,{Q:function(){return n},y:function(){return i}});var n="XRenderInitialPropsLoaded",i="XRenderChunkDataLoaded"},4170:function(e,t,r){"use strict";r.d(t,{$E:function(){return a},IY:function(){return s},KQ:function(){return o},kc:function(){return i}});r(6253),r(851);var n=r(6839);function i(e){return"1"===e.webp}function o(e){try{return Promise.resolve(e())}catch(e){return Promise.reject(e)}}function a(){return new Promise((function(e){window.hasOwnProperty("rawData")||"loading"!==document.readyState?e():(document.addEventListener(n.Q,e,{once:!0}),document.addEventListener("DOMContentLoaded",e,{once:!0}))}))}function s(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()}},9303:function(e,t,r){"use strict";r.d(t,{D:function(){return j},x:function(){return w}});var n=r(3877),i=r(5118),o=(r(6253),r(851),r(3276),r(9115),r(6997),r(1181),r(7883)),a=r.n(o),s=r(7401),c=r(2674),u=r(8482),p=(r(5115),r(7476),r(5767),r(8837),r(4882),r(8351),r(5697)),f=r.n(p),l=s.createContext({}),h=r(4170),d=r(6839);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var g=function(e){var t=e.initialContext,r=e.children,i=(0,s.useState)(t),o=(0,n.Z)(i,2),a=o[0],c=o[1];return(0,s.useEffect)((function(){var e=function(e){Object.entries(e).forEach((function(e){var t=(0,n.Z)(e,2),r=t[0],i=t[1];Object.assign(a[r],i)})),c(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},a))},t=Object.entries(a).reduce((function(t,r){var i=(0,n.Z)(r,2),o=i[0],a=i[1];return a.hasOwnProperty("data")?t[o]={isReady:!0}:(0,h.IY)((function(){return function(t,r){r.isReady||r.retriever().then((function(r){return e((0,u.Z)({},t,{data:r,isReady:!0}))})).catch((function(e){throw e.message="chunkFetcher 失败: "+e.message,e}))}(o,a)})),t}),{});e(t);var r=function(t){var r=t.detail,n=r.dataKey,i=r.data;e((0,u.Z)({},n,{data:i,isReady:!0}))};document.addEventListener(d.y,r),(0,h.IY)((function(){return document.removeEventListener(d.y,r)}))}),[]),s.createElement(l.Provider,{value:a},r)};g.propTypes={initialContext:f().object,children:f().element};r(6142);var _,v=r(4649),y=r(7097),S=r(4711),E=r(3644);function O(){return{get pathname(){return location.pathname},get query(){return(0,v.mB)(location.search)},get userAgent(){return navigator.userAgent},get hostname(){return location.hostname},get cookies(){return(0,y.ej)()},get platform(){return(0,S.Xf)(navigator.userAgent)},get isSupportWebp(){return void 0===_&&(_=(0,h.kc)(this.cookies)),_},get userInfo(){var e=(0,E._T)();return e.accessToken?e:null},getHeader:function(e){console.error("浏览器环境下无法调用getHeader方法")}}}function w(e){return P.apply(this,arguments)}function P(){return(P=(0,i.Z)(a().mark((function e(t){var r,i,o,u,p,f,l,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.$E)();case 2:return r=t.Component,i=window.__SSR__,o=i?"hydrate":"render",e.next=7,I(t,{isSSR:i});case 7:u=e.sent,p=(0,n.Z)(u,2),f=p[0],l=p[1],d=s.createElement(g,{initialContext:l},s.createElement(r,f)),c[o](d,document.getElementById("main"));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return b.apply(this,arguments)}function b(){return b=(0,i.Z)(a().mark((function e(t,r){var o,s,c,u,p,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,r){return"function"==typeof t.getChunkDataFetcher?t.getChunkDataFetcher(e,r):Promise.resolve({})},s=function(){var e=(0,i.Z)(a().mark((function e(t,i){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t,i);case 2:return s=e.sent,e.abrupt("return",Object.entries(s).reduce((function(e,t){var i=(0,n.Z)(t,2),o=i[0];i[1];if(e[o]=e[o]||{},e[o].retriever=s[o],!r.isSSR){var a=(0,h.KQ)(s[o]);e[o].retriever=function(){return a}}return e}),window.__CHUNK_DATA__||{}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),c=function(e){var r=window.__INITIAL_PROPS__||window.rawData;return r?Promise.resolve(r):"function"==typeof t.getInitialProps?t.getInitialProps(e):Promise.resolve({})},u=O(),p=c(u),f=s(u,p),e.abrupt("return",Promise.all([p,f]));case 7:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}var A=r(344),C=(r(110),r(6108),r(2139),r(4974)),T=r(8309),R=r(9348),k=r(5558),D=r(1074),M=r(1269),Z=["children","FallbackComponent"];function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,M.Z)(e);if(t){var i=(0,M.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,D.Z)(this,r)}}var L=function(e){(0,k.Z)(r,e);var t=N(r);function r(){var e;(0,T.Z)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={hasError:!1},e}return(0,R.Z)(r,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.FallbackComponent,n=(0,C.Z)(e,Z);return this.state.hasError?s.createElement(r,n):t}}]),r}(s.Component);L.defaultProps={FallbackComponent:function(){return null}};var x=L,j=function(e){var t,r=e.chunkDataKey,n=e.Component,i=e.ComponentProps,o=e.FallbackComponent,a=(t=r,(0,s.useContext)(l)[t]);return a.isReady?s.createElement("div",null,s.createElement(x,(0,A.Z)({chunkData:a.data},i,{FallbackComponent:o}),s.createElement(n,(0,A.Z)({chunkData:a.data},i)))):s.createElement("div",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:""}})};j.propTypes={chunkDataKey:f().string.isRequired,Component:f().elementType.isRequired,ComponentProps:f().object,children:f().node,FallbackComponent:f().elementType}},3220:function(e,t,r){"use strict";r.d(t,{I:function(){return ot}});r(5767),r(8837),r(4882),r(8351);var n=r(8482),i=r(4974),o=(r(6253),r(851),r(7476),r(2188)),a=r(4711),s=r(2202),c=r(3877),u=r(5118),p=r(7883),f=r.n(p),l=(r(6142),r(9115),r(6997),r(1181),r(1876),r(506)),h=r(3644),d=r(5607),m=r(1758),g=r.n(m),_=r(4649),v=r(5493),y=(r(2850),r(2773),r(2691)),S=r(9385);r(9357),r(110),r(6108);function E(e){if(!e||!e.stack)return"";var t=e.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,5).join("@").replace(/\?[^:]+/gi,""),r=e.toString();return t.indexOf(r)<0?r+"@"+t:t}function O(e){return{error_msg:e&&e.message,error_stack:E(e),Error:e}}function w(e){return e&&e.replace(/(PDDAccessToken=|AccessToken=|"AccessToken":)\s*"?([^;,"]+)"?([;,]?\s*)/gi,(function(e,t,r,n){return"".concat(t).concat(r.length).concat(n)}))}function P(){var e=[];return function(t,r){if(null!==r&&"object"===(0,S.Z)(r)){if(e.indexOf(r)>=0)return;e.push(r)}return r}}function I(e){var t=null;return function(){if(!t){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t=e.apply(null,n)}return t}}var b=I((function(){var e=(0,s.Y0)(navigator.userAgent),t=e===s.iw.PddAndroid||e===s.iw.PddIOS;return{isNativePlatform:t,isTinyNativePlatform:e===s.iw.PDDTinyAndorid,platform:e,version:t&&(0,s.C_)(navigator.userAgent,e)}}));function A(e){var t=R(),r=b(),n=r.isNativePlatform,i=r.version,o=n&&(0,s.yC)(i,"5.41.0")>=0;if(o||!D())return o?(0,y.Q6)("JSReporter","addMarmotLog",e).catch(k):void(0,y.Q6)("JSNetwork","request",{method:"POST",url:t,headers:{"Content-Type":"text/plain;charset=UTF-8"},data:JSON.stringify(e)}).catch(k)}function C(e){if(!D()){var t=R(),r=new XMLHttpRequest;r.open("POST",t,!0),r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),r.withCredentials=!0,r.send(JSON.stringify(e))}}function T(){var e=b(),t=e.isNativePlatform,r=e.isTinyNativePlatform;return t||r?A:C}var R=I((function(){return location.href.includes("hutaojie")||location.hostname.includes("panduoduo.yangkeduo.com")?"https://tne.hutaojie.com/tne.gif":"https://tne.pinduoduo.com/tne.gif"}));function k(e){var t=O(e);console.error(w(JSON.stringify(t,P())))}function D(){return window.__ERROR_SAMPLE_RATE__&&Math.random()>window.__ERROR_SAMPLE_RATE__}r(1246);var M=r(7044),Z=r(7097),N=(r(2310),"https://pmmtk.hutaojie.com"),L="https://pmmtk-a.pinduoduo.com",x="/api/pmm/front_log",j="/api/pmm/front_err",U=5,W=6,G=500,H=501,Q=502,B=600,q="undefined"==typeof window||(window.location.href.includes("hutaojie")||window.location.hostname.includes("panduoduo.yangkeduo.com")),F=I((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;if(r)return r;var n=window.location.pathname;if(e.indexOf(n)<0||t.length<=0)return n;var i,o=window.location.search,a=t.find((function(e){return o.indexOf(e)>-1}));if(a){var s=(0,_.mB)(o);i=s[a]}return i?"/"===i[0]?"".concat(i,".html"):"/".concat(i,".html"):n}));function V(e){return"[object Object]"===Object.prototype.toString.call(e)}function K(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}var z={};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e}function X(){return z}var $,ee,te=["app_version","log_version","network","page","page_id","page_name","page_sn","page_url","payload","platform","refer_page_id","refer_page_name","refer_page_sn","user_agent","user_id","error_msg","error_message","serverIp","httpCode","http_code","httpMethod","errorCode","error_code","module","pageId","referPageId","type","url","lvalues","fvalues"];function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e,t){var r,n=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).pmmHost||L;return e===B?q?"".concat(N).concat(x):"".concat(t).concat(x):q?"".concat(N).concat(j):"".concat(t).concat(j)}(null==e||null===(r=e.datas[0])||void 0===r?void 0:r.type,t);if(b().isNativePlatform&&window.pinbridge)window.pinbridge.callNative("JSNetwork","request",{method:"POST",url:n,headers:{"Content-Type":"text/plain;charset=UTF-8"},data:JSON.stringify(e)});else{var i=new XMLHttpRequest;i.open("POST",n,!0),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),i.withCredentials=!0,i.send(JSON.stringify(e))}}function oe(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.bizSide,a=n.appId,s=n.testAppId,c=r.app_version,u=r.log_version,p=r.network,f=r.page,l=r.page_id,h=r.page_name,d=r.page_sn,m=r.page_url,g=r.payload,_=r.platform,v=r.refer_page_id,y=r.refer_page_name,S=r.refer_page_sn,E=r.user_agent,O=r.user_id,w=r.error_msg,P=r.error_message,I=r.serverIp,b=void 0===I?"":I,A=r.httpCode,C=void 0===A?"":A,T=r.http_code,R=r.httpMethod,k=void 0===R?"":R,D=r.errorCode,M=void 0===D?"555555":D,Z=r.error_code,N=r.module,L=void 0===N?"":N,x=r.pageId,j=void 0===x?"":x,G=r.referPageId,q=void 0===G?"":G,F=r.type,V=r.url,K=r.lvalues,z=r.fvalues,Y=(0,i.Z)(r,te),J=X();((null==w?void 0:w.indexOf("lazy_image_error"))>-1||(null==w?void 0:w.indexOf("cui_image_error"))>-1)&&(e=!0,t=null==g?void 0:g.src);var $=F===B,ee=ce(ne(ne({},J),g)),re=ee||{},ie=re.sub_op,oe="api_error"===ie,pe=F||e&&H||$&&B||Q,fe=ae({bizSide:o,appId:a,testAppId:s,app_version:c}),le=se(_,O),he=ue({app_version:c,log_version:u,network:p,page:f,page_id:l,page_name:h,page_sn:d,page_url:m,refer_page_id:v,refer_page_name:y,refer_page_sn:S,user_agent:E,error_msg:w,error_message:P||ee.error_message,serverIp:b,httpCode:C||T,httpMethod:k,errorCode:M,error_code:Z,module:L,pageId:j,referPageId:q,url:V||t},n,oe);if($){var de=ce(Y);he=ne(ne({},he),de)}return fe.common_tags=le,fe.datas=[ne({category:F===B?W:U,type:pe,timestamp:Date.now(),tags:he,extras:ee},F===B?{lvalues:K,fvalues:z}:{})],fe}function ae(e){var t,r=e||{},n=r.bizSide,i=r.appId,o=r.testAppId,a=r.app_version,s=function(e){var t=e.bizSide,r=e.appId,n=e.testAppId;if("undefined"!=typeof window){var i={bizSide:"consumer-platform-fe"};return t&&(i.bizSide=t),q&&!n?(console.error("缺少 testAppId 测试环境应用 id"),i):r?(i.appId=q?n:r,i):(console.error("缺少 appId 正式环境环境应用 id"),i)}return{}}({bizSide:n,appId:i,testAppId:o}),c=Date.now(),u=Math.pow(10,5)+Math.floor(Math.random()*(Math.pow(10,6)-Math.pow(10,5)));return $=void 0!==$?$:Number(null===(t=a||"")||void 0===t?void 0:t.split(".").reduce((function(e,t,r){return 0===r?e+t:"".concat(e).concat(t.length<2?"0".concat(t):t)}),"")),{biz_side:s.bizSide,app:s.appId,level:2,version:$,report_time_ms:c,rand_num:u,crc32:(0,M.k)("".concat(c,"-").concat(u))}}function se(e,t){var r=function(e){var t,r;return(q?(t={},(0,n.Z)(t,s.iw.PddAndroid,"1"),(0,n.Z)(t,s.iw.PddIOS,"3"),(0,n.Z)(t,s.iw.PDDTinyAndorid,"0"),t):(r={},(0,n.Z)(r,s.iw.PddAndroid,"3"),(0,n.Z)(r,s.iw.PddIOS,"5"),(0,n.Z)(r,s.iw.PDDTinyAndorid,"59"),r))[e]||"-1"}(e);ee=void 0!==ee?ee:(0,Z.ej)("ETag");var i=(0,s.eP)(navigator.userAgent),o=(0,s.Os)(navigator.userAgent);return{p:e,runningPlatform:e,runningAppId:r,b:"",did:"",mid:"",osV:"".concat(o,"_").concat(i),pid:ee,uid:t?t+"":""}}function ce(e){if(!V(e))return{};var t=Object.keys(e),r={};return t.forEach((function(t){var n=e[t];r[t]=String(n)})),r}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.universalPaths,i=t.universalQueryKeys,o=t.reportPath,a=e.app_version,s=e.log_version,c=void 0===s?"0.0.1":s,u=e.network,p=e.page,f=void 0===p?"":p,l=e.page_id,h=e.page_name,d=e.page_sn,m=e.page_url,g=e.refer_page_id,_=e.refer_page_name,v=e.refer_page_sn,y=e.user_agent,S=e.error_msg,E=e.error_message,O=e.serverIp,w=void 0===O?"":O,P=e.httpCode,I=void 0===P?"":P,b=e.httpMethod,A=void 0===b?"":b,C=e.errorCode,T=void 0===C?"555555":C,R=e.error_code,k=e.module,D=void 0===k?"":k,M=e.pageId,Z=void 0===M?"":M,N=e.referPageId,L=void 0===N?"":N,x=e.url,j=F(n,i,o);return ne({network:(u||"0")+"",serverIp:w,url:x,errorCode:String(R||T),errorMsg:(S||E||"").substr(0,150),module:D,pageId:Z,pagePath:j,pageSn:d?d+"":"",pageUrl:m||window.location.href,referPageId:L,page_id:l?l+"":"",refer_page_id:g?g+"":"",referPageName:_||"",referPageSn:v?v+"":"",pageName:h||"",page:f,log_version:c,user_agent:y||window.navigator.userAgent,app_version:a||""},r?{httpCode:String(I),httpMethod:A}:{})}function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(){return le=(0,u.Z)(f().mark((function e(t,r){var n,i,o,a,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(t),Y(r),i=(n=r||{}).bizSide,o=n.appId,a=n.testAppId,i&&o&&a||console.error("@pdd/error-logger init 方法第二个参数缺少必传项 bizSide, appId, testAppId"),g().remoteFetching=!1,g().extendToAsynchronousCallbacks(),window.__RESET_ERROR_LISTENER__&&window.__RESET_ERROR_LISTENER__(),s=T(),g().report.subscribe(function(){var e=(0,u.Z)(f().mark((function e(n,i,o){var a,c,u,p,l,h,d,m,g,v,y,S,E,O,w;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",u=(c=n||{}).name,p=c.message,l=c.stack,n&&(a=u+":"+p,l&&l.length))for(h=0;h<l.length;h++)a+="@ ".concat(l[h].func,"(").concat(l[h].url,":").concat(l[h].line,":").concat(l[h].column,")");return e.next=5,he(fe(fe({error_message:String(p)},null==o?void 0:o.extraInfo),{},{page:n?u+" "+p+" "+JSON.stringify(l):"no info",debug_url:(0,_.ru)({JS_ERROR:a},location.href)}),t);case 5:d=e.sent,m=(null==o?void 0:o.extraInfo)||{},g=m.sub_op,v="api_error"===g,y=(null==o?void 0:o.config)||{},S=y.method,E=y.baseURL,O=y.url,E&&O&&(w=(0,_.sD)(O)?O:K(E,O)),s(d);try{ie(oe(fe(fe(fe(fe({},d),S?{httpMethod:S}:{}),w?{url:w}:{}),v?{type:G}:{}),r),r)}catch(e){}case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),window.addEventListener("unhandledrejection",function(){var e=(0,u.Z)(f().mark((function e(n){var i,o,a,c,u,p,l,h,d,m;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=O(n.reason),o=(i||{}).error_msg,a=n.reason||{},c=a.errorCode,u=a.params,p=a.data,l=(n.reason||{}).extraInfo||{},h=(l||{}).payload,c&&(l.errorCode=c),d={},u&&(d.apiParams=V(u)?JSON.stringify(u):String(u)),p&&(d.data=V(p)?JSON.stringify(p):String(p)),l.payload=fe(fe({},V(h)?h:{}),d),e.next=12,he(fe(fe({},l),{},{page:"unhandledrejection reason:"+w(JSON.stringify(i,P())),error_msg:o}),t);case 12:m=e.sent,s(m);try{ie(oe(m,r),r)}catch(e){}case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}function he(e,t){return de.apply(this,arguments)}function de(){return de=(0,u.Z)(f().mark((function e(t,r){var n,i,o,s,c,u,p,l,d,m,g,_;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.pageSN,i=r.pageId,o=r.pageName,s=r.referPageId,c=r.referPageName,u=r.referPageSN,p=(0,a.zT)(),l=p.platform,d=p.version,e.next=4,(0,v.R)().catch((function(){return 0}));case 4:return m=e.sent,e.next=7,(0,h.sq)();case 7:return g=e.sent,(_=fe({log_version:"1.0.0",page_url:location.href,app_version:d,user_agent:navigator.userAgent,user_id:g,platform:l,page_id:i,page_name:o,page_sn:n,refer_page_id:s,refer_page_name:c,refer_page_sn:u,network:m},t)).payload=V(_.payload)?_.payload:{},["status_code","error_message","params","sub_op","debug_url"].forEach((function(e){void 0!==_[e]&&(_.payload[e]=_[e],_[e]=void 0)})),_.payload.unique_tag="".concat(Date.now(),"_").concat(g),_.payload.error_logger=1,e.abrupt("return",_);case 15:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}var me,ge=r(9828),_e=r(109),ve=r(9480),ye=r(7401),Se=r(2674),Ee=r(3493),Oe=r.n(Ee);function we(e){e.stopPropagation(),e.preventDefault()}var Pe;function Ie(e){var t=(0,ye.useState)(!1),r=(0,c.Z)(t,2),n=r[0],i=r[1],o=(0,ye.useRef)();(0,ye.useEffect)((function(){if(me||(me=(0,a.zT)()),me&&me.system===s.we.Android){var t=e.interval||200,r=t/2,n=Oe()((function(){i(!0),clearTimeout(o.current),o.current=setTimeout((function(){i(!1)}),t)}),r);return window.addEventListener("scroll",n),function(){window.removeEventListener("scroll",n)}}}),[e.interval]);return ye.createElement("div",{style:n?{}:{display:"none"}},ye.createElement("div",{style:{opacity:0,height:"100%",width:"100%",position:"fixed",top:0,left:0,zIndex:999},onClick:we}))}Ie.initGlobal=function(){if(!Pe){var e=document.createElement("div");return document.body.appendChild(e),Pe=function(){e&&(Se.unmountComponentAtNode(e),document.body.removeChild(e),e=null,Pe=null)},Se.render(ye.createElement(Ie,null),e)}},Ie.cleanup=function(){Pe&&Pe()};var be=Ie,Ae=r(3402),Ce=r(6333),Te=(0,a.zT)().system===s.we.IOS?location.href.split("#")[0]:null;function Re(e,t){var r=Math.random().toString().substring(2),n=Date.now().toString(),i=Ce.Z.get(location.host).ApiKey.WeChat,o={page_sn:t,timestamp:n,noncestr:r,open_app_id:i,url:Te||location.href.split("#")[0]};return e.get("weixin/jsapi/signature",{params:o}).then((function(e){return{timestamp:n,nonceStr:r,signature:e.signature,wechatAppID:e.mirror?e.open_app_id:i,shareTypeEnable:e.share_type_enable,shareDomain:e.share_domain,mirror:e.mirror,magicTrace:e.magic_trace}})).catch((function(e){return(0,_e.K2)(e),{timestamp:n,nonceStr:r,wechatAppID:i}}))}function ke(){return(ke=(0,u.Z)(f().mark((function e(t){var r,n,i,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&(0,s.BF)()){e.next=2;break}return e.abrupt("return");case 2:return r="com.xunmeng.pinduoduo.".concat(t),e.prev=3,e.next=6,(0,y.Q6)("AMComponent","info",{name:r},"4.0.0","4.0.0");case 6:if(n=e.sent,i=void 0===(i=n.bundles)?[]:i,o=(0,c.Z)(i,1),!(u=o[0])){e.next=12;break}return e.abrupt("return",(0,a.zT)().platform===s.iw.PddIOS?u.version:u);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ze=ve.ZP.getInstance(),Ne=(0,a.zT)(),Le=Ne.isNativePlatform,xe=Ne.isWeChatPlatform,je=Ne.isQQPlatform,Ue=Ne.isTinyNativePlatform,We=function(){var e=arguments;return(0,u.Z)(f().mark((function t(){var r,n,i,o,a,s,c,u,p,h,d,m,g,v,y,S,E;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:{},n=e.length>1&&void 0!==e[1]?e[1]:function(){},i=r.hybridPackName,o=r.pageProperty,a=o.pageSN,s=o.pageName,c=void 0===s?Je():s,u=o.extraPvParams,p=o.noReportPv,h=r.initNativeBehavior,d=void 0===h?Be:h,m=r.pmmAppInfo,g=void 0===m?{}:m,v=r.pageId||(0,_.mB)(location.search).page_id||(0,ge.Vm)(a),He(y={pageSN:a,pageId:v,pageName:c},i,g).then((function(){return Qe({pageInfo:y,extraPvParams:u,noReportPv:p})})),l.ZP.setNextPageQuery({refer_page_name:c,refer_page_id:v,refer_page_sn:a}),S=(0,Ae.e)({pageInfo:{pageId:v}}),t.next=10,qe(S,r);case 10:if(E=Ge(Ve(S,y,r),"initShareAndMenu 调用超时").catch(_e.K2),Le&&d(r.disablePullReload),!xe){t.next=15;break}return t.next=15,E;case 15:n(y),be.initGlobal();case 17:case"end":return t.stop()}}),t)})))()};function Ge(e,t){var r=new Promise((function(e,r){setTimeout((function(){return r(new Error(t))}),1e3)}));return Promise.race([e,r])}function He(e,t,r){var n=function(e){return ke.apply(this,arguments)}(t).then((function(t){var r=e.pageSN,n=e.pageId,i=t?{page_sn:r,page_id:n,component_version:t}:{page_sn:r,page_id:n};(0,d.sA)(i),(0,d.Ef)()}));return(0,ge.Qv)().then((function(t){var n=t.refer_page_sn,i=t.refer_page_id,o=t.refer_page_name;return function(e,t){return le.apply(this,arguments)}(Me(Me({},e),{},{referPageSN:n,referPageId:i,referPageName:o}),r)})),n}function Qe(e){var t=e.pageInfo,r=e.extraPvParams,n=e.noReportPv;Ze.init(null,{pageProperty:t,callback:function(){return(0,u.Z)(f().mark((function e(){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.ZP.replaceQuery({page_id:t.pageId}),!n){e.next=3;break}return e.abrupt("return");case 3:if(i=!1,!Le){e.next=8;break}return e.next=7,(0,y.X6)().then((function(e){return 1==+e.shown_type})).catch((function(){return!1}));case 7:i=e.sent;case 8:!i&&(0,d.Ku)(r);case 9:case"end":return e.stop()}}),e)})))()}})}function Be(e){(0,y.GN)(),(0,y.nk)({enable:!e}),(0,y.Td)({title:document.title})}function qe(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,u.Z)(f().mark((function e(t,r){var n,i,o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.requireLogin,i=r.skipLogin,o=r.loginParams,a=void 0===o?{}:o,e.prev=1,e.next=4,(0,h.S1)(t);case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),n=n||xe||je,302!==e.t0.errorCode&&n&&!i){e.next=12;break}return e.abrupt("return");case 12:return e.abrupt("return",(0,h.x4)(a).catch((function(e){throw l.ZP.back(),e})));case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function Ve(e,t,r){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(f().mark((function e(t,n,i){var o,a,s,u,p,l,h,d,m,g,_,v,y,S,E;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.shareInfo,a=void 0===o?{}:o,s=i.noDefaultShare,u=a.onlyWeChat,p=a.disableCopyUrl,l=a.disableShare,h=a.enableBrowserOpen,d={shareInfo:a,noDefaultShare:s,pageInfo:n},m=a.disableShare?null:Promise.all([r.e(457),r.e(216)]).then(r.bind(r,326)),!Le&&!Ue){e.next=6;break}return e.abrupt("return",ze(m,d));case 6:if(!xe){e.next=17;break}return e.next=9,Promise.all([Re(t,n.pageSN),Promise.all([r.e(457),r.e(216)]).then(r.bind(r,3878))]);case 9:return g=e.sent,_=(0,c.Z)(g,2),v=_[0],y=_[1].initWxConfig,S=Me(Me({},a),v),e.next=16,y(S,{onlyWeChat:u,disableCopyUrl:p,disableShare:l,enableBrowserOpen:h});case 16:return e.abrupt("return",ze(m,d));case 17:if(!je){e.next=23;break}return e.next=20,r.e(457).then(r.bind(r,409));case 20:E=e.sent,(0,E.initQQConfig)(t).then((function(){return ze(m,d)}));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,u.Z)(f().mark((function e(t,r){var n,i,o,a,s,c,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.shareInfo,i=void 0===n?{}:n,o=r.noDefaultShare,a=r.pageInfo,!i.disableShare){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t;case 5:s=e.sent,c=s.default,(0,s.setPageContext)(a),i.isSDKPrepare=!0,(u=c.getInstance({shareManagerConfig:{noDefaultShare:o}})).setup(),u.prepareShare(i);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(){return location.pathname.split("/").pop().split(".")[0]||"index"}var Xe=r(343),$e=r(4170),et=["useStrict","forceWKWebviewBackRefresh"];function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nt=!0,it=!1;function ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useStrict,n=void 0===r?it:r,c=t.forceWKWebviewBackRefresh,u=void 0===c?nt:c,p=(0,i.Z)(t,et);return n&&(0,o.jQ)({enforceActions:!0}),(0,$e.$E)().then((function(){return new Promise((function(t){We(rt({requireLogin:e.appConfig.requireLogin,shareInfo:{disableShare:!0}},p),(function(r){return t(at(e,r.pageId))})),(0,Xe.C)(),window.__wxjs_is_wkwebview&&u&&window.addEventListener("pageshow",(function(e){e.persisted&&location.reload()})),(0,a.zT)().system===s.we.IOS&&document.addEventListener("touchstart",(function(){}))}))}))}function at(e,t){var r=e.createStores(),n={pageId:t};Object.keys(r).forEach((function(e){var t;return r[e].fromJS(((null===(t=window.rawData)||void 0===t?void 0:t.stores)||{})[e],n)})),window.rawData&&(window.__INITIAL_PROPS__={stores:r,pageInfo:n}),e.stores=r,e.pageInfo=n}},4316:function(){},9566:function(e){e.exports={wrapper:"_34XMyt7Q",container:"_1R13RRdw"}},1120:function(e){e.exports={root:"QkGS9nId",bigger:"_2h3oObbv"}},6484:function(e){e.exports={root:"_3vblRuQJ",cuiSpinner:"_2VSYZIBr",bigger:"_3z8HdYNn"}},4447:function(e){e.exports={root:"_2c09EThh",fadeIn:"_2gSfzSZh"}},2402:function(e){e.exports={root:"_3tX2o67p"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/pdd_vendors_f58043735d9c70714ba7.js.map