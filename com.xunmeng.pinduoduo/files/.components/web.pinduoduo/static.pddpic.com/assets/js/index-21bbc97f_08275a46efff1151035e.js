(self.webpackChunkmobile_fun_cashback=self.webpackChunkmobile_fun_cashback||[]).push([[3575],{1289:function(e){e.exports={discount:"_1JuAAY",hasDone:"_1L7Qxl",title:"_2LIZIT",titlePre:"_3h7oes",colLine:"_325hOm",wrapper:"EP2mwg",bg:"s_tisc",left:"_2bHs-D",right:"ZqBnQM",main:"_3h1QHx",mainText:"_1mwV-S",mainTop:"b9dJM9",bar:"_1KjXJs",innerbar:"_3Y02Ww",bottom:"_1WRH3L",bottomDone:"_2bgC9X",dots:"_1gpdIS",dot:"_1mcN-P",redDot:"_2ji74j",subText:"_24W1Xk",timer:"_3CsWMc",bottomInner:"TuU5o2",rightDot:"_2IrmAc",nextGainDot:"_3sePpJ",highLight:"_1I6_DV",fingerGuide:"_2YoFcH",commonFadeIn:"_29x3DI",commonFadeOut:"_31PWcK",rotate360:"conWp3",commonScaleOut:"_1lJoOd",commonScaleIn:"_3z8SF3"}},12325:function(e){e.exports={btnText:"_1OkA0Y",badge:"_2KbwU4",commonFadeIn:"Hc2WMe",commonFadeOut:"_2OOhyk",rotate360:"_XrV97",commonScaleOut:"XGOS_H",commonScaleIn:"_2u1qA2"}},57420:function(e){e.exports={container:"EGLpYX",header:"_2vfRca",item:"_1Ozu3x",left:"uNwXRW",icon:"_330Ms9",iconImg:"_2QAS0W",title:"_22NzQo",tip:"mgwDhd",desc:"_1fcoe8",right:"_2FVhR_",badge:"_1Wtbc6",disabled:"TwSCwj",commonFadeIn:"iFUos1",commonFadeOut:"AX96vM",rotate360:"_1lLEgw",commonScaleOut:"_3r1BTJ",commonScaleIn:"_3tDmLv"}},9085:function(e){e.exports={entry:"yPLhZA",title:"_31djSp",titleLeft:"_36-bd0",titleRight:"_2FE0vW",icon:"_13ti2X",expireWarn:"_3YoPew",content:"_1E1Y4Z",coupon:"HVn4Bs",couponBg:"_1FMlxe",couponValue:"_2co1zu",deciaml:"_1o7pPi",couponContainer:"_3qp6kV",couponItem:"_3U04Cf",commonFadeIn:"_1D8aPR",commonFadeOut:"_269Wjg",rotate360:"GIefH5",commonScaleOut:"_1-ujWB",commonScaleIn:"_3rxZxO"}},41577:function(e){e.exports={entry:"_3_x5tN",title:"_1lZzJp",titleLeft:"_2FmPWA",titleRight:"_3ua0Of",orderList:"_1Ny26g",orderItem:"_132xjN",orderImg:"_3hqpQC",orderStatus:"_2FErbT",orderPrice:"VswfqS",icon:"J6hsvt",expireWarn:"_1EWsbf",content:"_1vzc8M",coupon:"_35RivW",progress:"_2tD3zY",progressT1:"_2tMdcx",info:"KErAOy",progressT2:"cliKy2",progressBar:"_1gVGXr",progressInner:"_2K2iNa",progressStage:"B1SMxK",stageReach:"_33QrRv",commonFadeIn:"_1ToXs0",commonFadeOut:"_3WS8jO",rotate360:"_1GRuRD",commonScaleOut:"_2Nkj_R",commonScaleIn:"CQgke8"}},98041:function(e){e.exports={entry:"W_qz2w",title:"_3YDNG_",titleLeft:"_1cjc83",titleRight:"DB8HVU",icon:"_3IhehK",expireWarn:"m4yhW8",content:"_184Wnj",coupon:"t0tL3P",progress:"-MvP3a",progressT1:"_28RmSg",info:"_9r02pV",progressT2:"_7QY99_",commonFadeIn:"_1oUcZd",commonFadeOut:"_1WoLPH",rotate360:"_2VSZtv",commonScaleOut:"_3S5dG8",commonScaleIn:"M74WZ4"}},78628:function(e){e.exports={entry:"_3dh88V",title:"_2PqaUh",titleLeft:"_2w8a2D",titleRight:"_30Jymj",orderList:"yz9u0T",orderItem:"_2af61N",orderImg:"Xj0UzM",orderStatus:"_9eokTM",orderPrice:"_3ou50_",icon:"famXtH",expireWarn:"_3O9cXW",content:"_2aoSCw",coupon:"_2KvK_w",add:"_33lC45",commonFadeIn:"_1BmsI-",commonFadeOut:"tnX5qd",rotate360:"_3ilg1K",commonScaleOut:"_3bjxzf",commonScaleIn:"_3LsFnm"}},60268:function(e){e.exports={wrapper:"_2ZgsWr",hint:"_888458",rate:"_2TPng-",img:"_2vD6FC",desc:"_1mBMPI",commonFadeIn:"_3ajoEV",commonFadeOut:"hc55Z2",rotate360:"_2PqrlU",commonScaleOut:"_18ovHy",commonScaleIn:"_2AIJBQ"}},38355:function(e){e.exports={content:"_19nRFE",title:"_3jWGXd",red:"_2Z4pvO",point:"_1KlQLO",coupon:"_3mmi8P",bg:"_2EtnyL",amount:"_1-BIu1",pointAmount:"_2yXiKA",discount:"_3XKYYp",minAmount:"_2VJAtF",tag:"_15RNup",main:"_19fegS",addIcon:"_2HabNZ",multiContent:"_1wDsuE",header:"U2-uV1",unit:"_1QauS2",singleCouponBox:"_2w25ls",customTipCls:"_3livOK",commonFadeIn:"_1SByGF",commonFadeOut:"_1ivN5l",rotate360:"_34Ww-g",commonScaleOut:"oDcFeK",commonScaleIn:"i0jiZg"}},10020:function(e){e.exports={limitPay:"_2NDrR4",title:"_1qXK9d",titlePre:"dFXDdw",subTitle:"_1OTeBs",colLine:"_3d6Eyh",center:"_3F0scW",left:"_2P-IXJ",leftImg:"_1PhdzL",main:"Njjc-i",mainTop:"xW_IvE",bar:"_3-x_Tg",right:"BZW8ca",innerbar:"P-PHNu",amount:"upLM2r",btn:"_1p7vrS",disabled:"_3E6xMP",commonFadeIn:"_360uUM",commonFadeOut:"Sprm1h",rotate360:"_1REZa9",commonScaleOut:"_7mldad",commonScaleIn:"_3ZoNke"}},34748:function(e,t,n){"use strict";var r=n(738),o=n(54669),i=n(60565),u=n(31894),l=n(16374),a=n(69804),c=n(38091),s=n(35287),f=n(57016),p=n(47750),d=n(75004),m=n(1289),y=n.n(m),v=n(40477),h=n(897),b=n.n(h),g=n(15001),E=n(50806);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=d.memo((function(e){var t=w((0,i.Z)({targetDate:1e3*e.deadline,serverTime:e.serverTime,onEnd:E.oy}),2)[1],n="".concat(t.days,"天").concat((0,l.c)(t.hours,2),":").concat((0,l.c)(t.minutes,2));return d.createElement("div",{className:y().timer},n)})),R=d.memo((function(e){var t=w((0,i.Z)({targetDate:e.endTime,serverTime:e.serverTime,dynamic:!0,onEnd:function(){(0,E.oy)()}}),2)[1],n="".concat(t.days,"天").concat((0,l.c)(t.hours,2),":").concat((0,l.c)(t.minutes,2));return d.createElement("div",{className:y().mainTop},"距失效",n)}));t.Z=(0,p.Pi)((function(){var e,t,n,i,l,p,m,h,w,_,P=(0,r.AG)(),C=P.discountStore,D=C.isGainCoupon,N=void 0!==D&&D,x=(C.hasFinish,C.hasDone),A=void 0!==x&&x,I=C.progress,T=C.nextCoupon,F=void 0===T?{}:T,j=C.deadline,M=void 0===j?0:j,k=C.maxDiscount,L=C.couponProgress,Z=C.maxHasCoupon,z=void 0===Z?{}:Z,B=(0,o.Ct)(null!==(e=null==F||null===(t=F.coupon)||void 0===t?void 0:t.discount)&&void 0!==e?e:0,10),W=(0,o.Ct)((null!==(n=null==F?void 0:F.threshold)&&void 0!==n?n:0)/100-I,1),G=P.globalStore.serverTime,U=1e3*Number(null==z||null===(i=z.coupon)||void 0===i?void 0:i.endTime);return d.createElement("div",{className:b()(y().discount,O({},y().hasDone,A))},d.createElement("div",{className:y().title},d.createElement("span",{className:y().titlePre},"拼单赚折扣"),d.createElement(c.Z,{src:(0,u.E$)("back_banner_line"),className:y().colLine}),d.createElement(f.Z,{text:A?"明日再来":N?"<#E02E24#".concat((0,o.Ct)(null!==(l=null==z||null===(p=z.coupon)||void 0===p?void 0:p.discount)&&void 0!==l?l:0,10),"折券>已到账, 快去使用吧"):"拼得多折得多, 最高可得<#E02E24#".concat(k,"折券>")})),A?null:d.createElement("div",{className:y().wrapper},d.createElement(c.Z,{src:(0,u.p2)("discount_coupon_bg"),className:y().bg}),d.createElement("div",{className:y().left},d.createElement(s.Z,{textArr:[[N?(0,o.Ct)(null!==(m=null==z||null===(h=z.coupon)||void 0===h?void 0:h.discount)&&void 0!==m?m:0,10):B,27,20],["折",14,14]]})),d.createElement("div",{className:y().main},d.createElement("div",{className:y().mainText},N?"仅限指定商品可用":W>0?"场景内再拼".concat(W,"元, 立得").concat(B,"折券"):null),N?d.createElement(R,{serverTime:G,endTime:U}):d.createElement("div",{className:y().mainTop},d.createElement("div",{className:y().bar},d.createElement("div",{className:y().innerbar,style:{width:L}})),I,"/",(0,o.Ct)(null==F?void 0:F.threshold),"元")),d.createElement("div",{className:y().right},d.createElement(a.Z,{text:N?"去使用":"去拼单",top:12,bottom:5,size:"xs",color:"red",width:67,onClick:function(){(0,g.b8)((function(){(0,E.oy)(),P.discountStore.set({isSceneBack:!0})}))}}),d.createElement(S,{serverTime:G,deadline:M}))),d.createElement("div",{className:b()(y().bottom,O({},y().bottomDone,A))},d.createElement("div",{className:y().bottomInner,style:{width:L}}),d.createElement("div",{className:y().dots},null===(w=P.discountStore)||void 0===w||null===(_=w.nodeList)||void 0===_?void 0:_.map((function(e){var t,n,r,i=(null==e||null===(t=e.coupon)||void 0===t?void 0:t.status)>v.s.unGain,l=(null==e?void 0:e.nodeId)===(null==F?void 0:F.nodeId);return d.createElement("div",{className:b()(y().dot,O({},y().redDot,i||l)),key:null==e?void 0:e.nodeId},l?d.createElement(c.Z,{src:(0,u.p2)("discount_dot_bg"),className:y().nextGainDot}):null,"满",(0,o.Ct)(null==e?void 0:e.threshold),d.createElement("div",{className:b()(y().subText,O({},y().highLight,l))},(0,o.Ct)(null!==(n=null==e||null===(r=e.coupon)||void 0===r?void 0:r.discount)&&void 0!==n?n:0,10),"折券"),i?d.createElement(c.Z,{src:(0,u.p2)("discoungt_right_dot"),className:y().rightDot}):null)})))))}))},40477:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});var r,o,i,u,l,a,c=n(20064),s=n(56258),f=n(54669),p=n(59368);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function w(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}!function(e){e[e.unGain=1]="unGain",e[e.canGain=2]="canGain",e[e.hasGain=3]="hasGain",e[e.used=4]="used",e[e.overTime=5]="overTime"}(a||(a={}));var _=(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(p,e);var t,n,r,s=b(p);function p(){var e;y(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(E(e=s.call.apply(s,[this].concat(n))),"deadline",o,E(e)),m(E(e),"nodeList",i,E(e)),m(E(e),"progress",u,E(e)),m(E(e),"isSceneBack",l,E(e)),e}return t=p,(n=[{key:"init",value:function(e){var t,n,r=null!==(t=null==e?void 0:e.orderDiscount)&&void 0!==t?t:{},o=r.deadline,i=r.nodeList,u=void 0===i?[]:i,l=r.progress,a=void 0===l?0:l,s=null!==(n=null==e?void 0:e.missionMap)&&void 0!==n?n:{},p=[c.h.DISCOUNT_CENTER];this.set({missionMap:(0,f.ei)(s,p),deadline:o,nodeList:u,progress:(0,f.Ct)(a)})}},{key:"showDiscountCenter",get:function(){return this.nodeList.length>0}},{key:"maxDiscount",get:function(){var e,t,n,r,o;return(0,f.Ct)(null!==(e=null===(t=this.nodeList)||void 0===t||null===(n=t[(null===(o=this.nodeList)||void 0===o?void 0:o.length)-1])||void 0===n||null===(r=n.coupon)||void 0===r?void 0:r.discount)&&void 0!==e?e:0,10)}},{key:"maxCost",get:function(){var e,t,n,r;return(0,f.Ct)(null!==(e=null===(t=this.nodeList)||void 0===t||null===(n=t[(null===(r=this.nodeList)||void 0===r?void 0:r.length)-1])||void 0===n?void 0:n.threshold)&&void 0!==e?e:0)}},{key:"hasFinish",get:function(){return-1===this.nodeList.findIndex((function(e){var t;return(null==e||null===(t=e.coupon)||void 0===t?void 0:t.status)<a.hasGain}))}},{key:"hasDone",get:function(){return-1===this.nodeList.findIndex((function(e){var t;return(null==e||null===(t=e.coupon)||void 0===t?void 0:t.status)<a.used}))}},{key:"nextCoupon",get:function(){return this.nodeList.find((function(e){var t;return(null==e||null===(t=e.coupon)||void 0===t?void 0:t.status)===a.unGain}))||{}}},{key:"isGainCoupon",get:function(){return-1!==this.nodeList.findIndex((function(e){var t;return(null==e||null===(t=e.coupon)||void 0===t?void 0:t.status)===a.hasGain}))}},{key:"maxHasCoupon",get:function(){var e=this.nodeList.filter((function(e){var t;return(null==e||null===(t=e.coupon)||void 0===t?void 0:t.status)===a.hasGain}));return null==e?void 0:e[e.length-1]}},{key:"couponProgress",get:function(){var e,t,n,r,o;if(0===this.progress)return"0%";if(this.hasFinish)return"100%";var i=this.nodeList.filter((function(e){var t,n;return(null==e||null===(t=e.coupon)||void 0===t?void 0:t.status)===a.hasGain||(null==e||null===(n=e.coupon)||void 0===n?void 0:n.status)===a.overTime})),u=(null==i?void 0:i[(null==i?void 0:i.length)-1])||{},l=(0,f.Ct)((null==u?void 0:u.threshold)||0),c=(this.progress-l)/((0,f.Ct)(null!==(e=null===(t=this.nextCoupon)||void 0===t?void 0:t.threshold)&&void 0!==e?e:0)-l)||0;return 100*(null!==(n=(null!==(r=null==u?void 0:u.nodeId)&&void 0!==r?r:0+(0,f.Ct)(c,1))/(null===(o=this.nodeList)||void 0===o?void 0:o.length))&&void 0!==n?n:5)-5+"%"}}])&&v(t.prototype,n),r&&v(t,r),p}(s.Z),o=w(r.prototype,"deadline",[p.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i=w(r.prototype,"nodeList",[p.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=w(r.prototype,"progress",[p.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=w(r.prototype,"isSceneBack",[p.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w(r.prototype,"init",[p.aD],Object.getOwnPropertyDescriptor(r.prototype,"init"),r.prototype),r);t.Z=_},29501:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r,o=n(72377),i=n(20064),u=n(54669),l=n(56258),a=n(42856),c=n(59368),s=n(31541);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function b(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var g=(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,n,r,l=y(c);function c(){return p(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"init",value:function(e){var t;this.missionMap=(0,u.ei)(null!==(t=null==e?void 0:e.missionMap)&&void 0!==t?t:{},[i.h.DOUBLE_ORDER])}},{key:"doubleOrderMission",get:function(){return this.getMissioninfo(i.h.DOUBLE_ORDER)}},{key:"isDoubleOrderFinish",get:function(){return(0,s.hI)(this.doubleOrderMission)}},{key:"isTriggerDoubleOrder",get:function(){var e,t,n,r,u,l,a,c,s,f,p=(null===(e=window)||void 0===e||null===(t=e.__stores__)||void 0===t||null===(n=t.globalStore)||void 0===n||null===(r=n.popups)||void 0===r||null===(u=r.find)||void 0===u||null===(l=u.call(r,(function(e){return(null==e?void 0:e.id)===o.$Z.INNER_ORDER_REWARD})))||void 0===l?void 0:l.placeHolder)||"";return(null==p||null===(a=p.split)||void 0===a||null===(c=a.call(p,","))||void 0===c||null===(s=c[0])||void 0===s||null===(f=s.split(":"))||void 0===f?void 0:f[2])==i.h.DOUBLE_ORDER}},{key:"doubleOrderExpireTime",get:function(){return 1e3*this.doubleOrderMission.expireTime}},{key:"isDoubleOrderEnable",get:function(){var e=(this.doubleOrderMission.extMap||{}).style;return!((0,a.Q)(this.doubleOrderMission)||!(window.__stores__.globalStore.serverTime<this.doubleOrderExpireTime))&&("GROUP_FOR_DOUBLE_A"===e?"oA":"oB")}}])&&d(t.prototype,n),r&&d(t,r),c}(l.Z),b(r.prototype,"init",[c.aD],Object.getOwnPropertyDescriptor(r.prototype,"init"),r.prototype),b(r.prototype,"doubleOrderMission",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"doubleOrderMission"),r.prototype),b(r.prototype,"isDoubleOrderFinish",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"isDoubleOrderFinish"),r.prototype),b(r.prototype,"isTriggerDoubleOrder",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"isTriggerDoubleOrder"),r.prototype),b(r.prototype,"doubleOrderExpireTime",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"doubleOrderExpireTime"),r.prototype),b(r.prototype,"isDoubleOrderEnable",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"isDoubleOrderEnable"),r.prototype),r)},12625:function(e,t,n){"use strict";var r=n(75004),o=n(47750),i=n(57016),u=n(28064),l=n(35287),a=n(54669),c=n(15001),s=n(58303),f=n(50806),p=n(76797),d=n(738),m=n(20064),y=n(60565),v=n(98534),h=n(51139),b=n(15566),g=n(73136),E=n(69017);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _={top:(0,E.S)(20),right:(0,E.S)(30)},S=function(e,t,n){var o,l,c,s,f,p,d=null!==(o=null==e?void 0:e.extMap)&&void 0!==o?o:{},m=d.rewardRate,y=d.maxRewardAmount,v=null!==(l=(0,a.Ct)(null==n||null===(c=n.goods)||void 0===c||null===(s=c.biz_result)||void 0===s||null===(f=s.cashback)||void 0===f||null===(p=f[0])||void 0===p?void 0:p.rewardAmount))&&void 0!==l?l:0;return v?r.createElement(u.un,{size:"xs",bottom:16,color:"red",width:117,tipsText:t?"最高可翻2倍":"已翻倍"},r.createElement(i.Z,{text:"返现<#FEE7BC#".concat(Math.min((0,a.Ct)(v*m,1),(0,a.Ct)(y)),"元>")})):null},R=function(e){var t,n,o=null!==(t=null==e?void 0:e.goods)&&void 0!==t?t:{},i=o.price,u=o.group,c=void 0===u?{}:u,s=Number(i||(null==c?void 0:c.price)),f=2===Number(null==c?void 0:c.price_type)&&null!==(n=null==c?void 0:c.price_str)&&void 0!==n?n:"";return r.createElement(l.Z,{fontWeight:400,color:"#E02E24",textArr:[["券后￥",12],[f||(0,a.Ct)(s,100),16,14]]})};t.Z=(0,o.Pi)((function(){var e,t,n,o;(0,v.sH)({6744655:{}});var i=O((0,r.useState)([]),2),u=i[0],l=i[1],E=(0,d.AG)(),w=(0,r.useRef)(null),P=(null===(e=E.doubleRewardStore)||void 0===e||null===(t=e.getMissioninfo)||void 0===t?void 0:t.call(e,m.h.DOUBLE_REWARD_SCAN))||{};(0,r.useEffect)((function(){var e={page_sn:104366,app_name:"cashback_quicken",list_id:"cashback_quicken_".concat((0,a.zO)(6).toString(),"_0")};(0,s.dM)(e).then((function(e){var t,n;l(null!==(t=null==e||null===(n=e.item_list)||void 0===n?void 0:n.slice(0,4))&&void 0!==t?t:[])}))}),[]);var C=O((0,y.Z)({dynamic:!0,targetDate:1e3*(null!==(n=null==P||null===(o=P.extMap)||void 0===o?void 0:o.m246020ExpireTime)&&void 0!==n?n:0),onEnd:function(){return P.finishCount>0&&(0,f.oy)()}}),2)[1].timeStr,D=E.grayStore.dynamicAccelerate;return u.length?r.createElement(p.Z,{title:D?"加速领返现":"翻倍领返现",subTitle:"拼单返现金额<#E02E24#翻倍>",goodsList:u,renderExtra:r.createElement(b.Z,{ref:w,scene:g.f.DOUBLE_REWARD,customStyle:_}),renderBottom:S.bind(undefined,P,D),renderGoodsTips:R,onGoodsClick:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null==w||null===(e=w.current)||void 0===e||null===(t=e.onClick)||void 0===t||t.call(e),(0,h.iH)(n?6744658:6744657),(0,s.TA)({tipsIds:[g.f.DOUBLE_REWARD],businessType:0}),(0,c.H_)((function(){return(0,f.oy)(!0)}),{dynamic:D?1:0})},rightTitle:null!=P&&P.finishCount?"距结束".concat(C):D?"去加速":""}):null}))},97113:function(e,t,n){"use strict";var r,o=n(20064),i=n(56258),u=n(42856),l=n(54669),a=n(31541),c=n(59368);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var h,b,g,E,O,w,_=(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,n,r,i=m(c);function c(){return f(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"init",value:function(e){var t,n=null!==(t=null==e?void 0:e.missionMap)&&void 0!==t?t:{},r=[o.h.DOUBLE_REWARD_SCAN,o.h.DOUBLE_REWARD_ORDER];this.set({missionMap:(0,l.ei)(n,r)})}},{key:"showDoubleRewardCenter",get:function(){var e,t,n=null===(e=this.missionMap)||void 0===e?void 0:e[o.h.DOUBLE_REWARD_SCAN];return!((0,u.Q)(n)||0===(null==n?void 0:n.finishCount)&&!(0,a.wv)(n)||(null==n?void 0:n.finishCount)>0&&1e3*(null==n||null===(t=n.extMap)||void 0===t?void 0:t.m246020ExpireTime)<Date.now())}}])&&p(t.prototype,n),r&&p(t,r),c}(i.Z),h=r.prototype,b="init",g=[c.aD],E=Object.getOwnPropertyDescriptor(r.prototype,"init"),O=r.prototype,w={},Object.keys(E).forEach((function(e){w[e]=E[e]})),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=g.slice().reverse().reduce((function(e,t){return t(h,b,e)||e}),w),O&&void 0!==w.initializer&&(w.value=w.initializer?w.initializer.call(O):void 0,w.initializer=void 0),void 0===w.initializer&&(Object.defineProperty(h,b,w),w=null),r);t.Z=_},38949:function(e,t,n){"use strict";var r,o,i=n(56258),u=n(59368);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function a(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var y,v,h,b,g,E,O=(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=f(n);function n(){var e;c(this,n);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return a(d(e=t.call.apply(t,[this].concat(i))),"missionTimeLeft",o,d(e)),e}return n}(i.Z),y=r.prototype,v="missionTimeLeft",h=[u.LO],b={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}},E={},Object.keys(b).forEach((function(e){E[e]=b[e]})),E.enumerable=!!E.enumerable,E.configurable=!!E.configurable,("value"in E||E.initializer)&&(E.writable=!0),E=h.slice().reverse().reduce((function(e,t){return t(y,v,e)||e}),E),g&&void 0!==E.initializer&&(E.value=E.initializer?E.initializer.call(g):void 0,E.initializer=void 0),void 0===E.initializer&&(Object.defineProperty(y,v,E),E=null),o=E,r);t.Z=O},36211:function(e,t,n){"use strict";var r,o=n(75004),i=n(12325),u=n.n(i),l=n(28064),a=n(47750),c=n(72966),s=n(77356),f=n(20064),p=n(31541),d=n(16374),m=n(15566),y=n(69017),v=n(27302),h=n(50806),b=n(80373),g=n(51139),E=n(17717),O=n(33140),w=n(15001),_=n(54669),S=n(42856),R=n(67202),P=n(68648);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function D(e,t,n,r,o,i,u){try{var l=e[i](u),a=l.value}catch(e){return void n(e)}l.done?t(a):Promise.resolve(a).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){D(i,r,o,u,l,"next",e)}function l(e){D(i,r,o,u,l,"throw",e)}u(void 0)}))}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L={top:(0,y.S)(40),right:(0,y.S)(30)},Z=(0,b.TG)(r=(0,a.Pi)(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(a,e);var t,n,r,i=T(a);function a(){var e;x(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(j(e=i.call.apply(i,[this].concat(n))),"handleMissionRes",(function(t,n){var r,o,i,u,l,a,c=(null!==(r=null==t||null===(o=t.result)||void 0===o||null===(i=o.rewardResult)||void 0===i||null===(u=i[0])||void 0===u?void 0:u.amount)&&void 0!==r?r:0)/100,s=(null!==(l=null==t||null===(a=t.result)||void 0===a?void 0:a.pointsAmount)&&void 0!==l?l:0)/100;return e.context.globalStore.setPoint(s,c),e.context.popupQueueStore.instantShow({key:n,reward:c}),e.context.freeMissionStore.queryFressMission()})),k(j(e),"completeFreeMission",(0,b.Eq)(function(){var t=N(regeneratorRuntime.mark((function t(n,r){var o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.context.globalStore.serverTime,i=void 0===o?0:o,t.abrupt("return",(0,h.o2)(n).then((function(t){var n,o;e.handleMissionRes(t,r);var u=null!==(n=null==t||null===(o=t.result)||void 0===o?void 0:o.mission)&&void 0!==n?n:{};e.context.freeMissionStore.updateFreeMission(u),!(0,p.hI)(u)&&(null==u?void 0:u.nextCompleteTime)&&e.context.drawPointsStore.setCounter({key:"missionTimeLeft",delta:1e3*(null==u?void 0:u.nextCompleteTime)-i})})).catch((function(t){return c.Z.showToast("网络异常，请稍后重试~"),(0,E.R)(O.E.GENERAL_FE_DEBUG,{freeMissionErr:1,err:t}),e.context.freeMissionStore.queryFressMission()})));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())),k(j(e),"getBtnConfig",(function(t){var n,r,o={btnTips:"",btnText:"明日免费领返现",onClick:function(){c.Z.showToast("明日免费领返现")}};return null!==(r=(k(n={},f.h.DRAW_POINTS,{btnTips:function(){var t=(0,d.WE)(e.context.drawPointsStore.missionTimeLeft),n=e.context.freeMissionStore.getFreeMission(f.h.DRAW_POINTS),r=!(0,p.hI)(n)&&Number(t)>0?"".concat(t,"秒后"):"";return r?r+"继续领奖励":""},btnText:function(){var t=e.context.freeMissionStore.getFreeMission(f.h.DRAW_POINTS);return(0,p.hI)(t)?"明日免费领返现":"免费领返现"},onClick:function(){var t=e.context.freeMissionStore.getFreeMission(f.h.DRAW_POINTS);if(!(0,p.hI)(t)){var n;if((0,p.wv)(t))return(0,g.iH)(6265382,{task_name:"free_"+(null!==(n=1+(null==t?void 0:t.finishCount))&&void 0!==n?n:0)}),e.completeFreeMission(f.h.DRAW_POINTS,"showDrawPointsPopup");var r=e.context.drawPointsStore.missionTimeLeft,o=void 0===r?0:r,i=(0,d.WE)(o);return c.Z.showToast("".concat(i,"秒后可再领取"))}}}),k(n,f.h.SCAN_REWARD,{btnTips:"",btnText:function(){var t=e.context.freeMissionStore.getFreeMission(f.h.SCAN_REWARD);return(0,p.hI)(t)?"明日免费领返现":"免费浏览得返现"},onClick:function(){var t,n=e.context.freeMissionStore.getFreeMission(f.h.SCAN_REWARD);if(!(0,p.hI)(n))return(0,g.iH)(6265382,{task_name:"browse_"+(null!==(t=1+(null==n?void 0:n.finishCount))&&void 0!==t?t:0)}),e.context.grayStore.independentBrowsePage?(0,w.jg)(h.oy):(0,s.a)()}}),k(n,f.h.DAILY_FREE_ORDER,{btnTips:"",btnText:function(){return"天天抽免单"},onClick:function(){var t,n,r,o=(null!==(t=null===(n=e.context)||void 0===n||null===(r=n.dailyFreeStore)||void 0===r?void 0:r.drawFree)&&void 0!==t?t:{}).drawGoodsList,i=void 0===o?[]:o;(0,w.tW)(h.oy,{drawGoodsList:JSON.stringify(i)})}}),k(n,f.h.SCAN_GET_COUPON,{btnTips:function(){var t=e.context.ViewCouponStore,n=t.isViewCouponEnable,r=t.viewCouponValue,o=t.isScanFinish;return n&&!o?"最高得".concat(r,"元"):""},btnText:function(){var t=e.context.ViewCouponStore,n=t.isScanFinish,r=t.isViewCouponEnable,o=t.viewCouponValue,i=t.isCouponEnable;return r?n?i?"全场减".concat(o,"元"):"明日免费领返现":"浏览得优惠券":"明日免费领返现"},onClick:function(){return(0,w.f)((function(){return(0,h.oy)(!0)}))}}),n)[t])&&void 0!==r?r:o})),k(j(e),"onBtnClick",(function(){var t=e.getBtnConfig(e.getCurrentMissionType).onClick,n=void 0===t?_.ZT:t;e.context.popupQueueStore.showHomeMainArea&&e.context.popupQueueStore.close("showHomeMainArea"),n()})),k(j(e),"renderFreePullupEntry",(function(){var t=e.props.showHomeFlyLight,n=e.context.freeMissionStore,r=n.hasFinishAllMisison,i=n.canDrawBadge,a=n.showFreeMissionPullup,c=!r||e.context.ViewCouponStore.isViewCouponEnable;return o.createElement(l.un,{mode:"line",size:"md",width:170,color:"red",showFlyLight:t,onClick:a},o.createElement("div",{className:u().btnText},"领更多返现"),c?o.createElement("div",null,o.createElement(l.Eh,{width:8,height:12,strokeColor:"#E02E24"})):null,o.createElement(m.Z,{scene:v.Yo[e.getCurrentMissionType],customStyle:L}),i?o.createElement("div",{className:u().badge},i):null)})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;(0,g.oy)(6265382);var t=this.context.freeMissionStore.getFreeMission(f.h.DRAW_POINTS);(null==t?void 0:t.nextCompleteTime)&&this.context.drawPointsStore.setCounter({key:"missionTimeLeft",delta:1e3*(null==t?void 0:t.nextCompleteTime)-this.context.globalStore.serverTime}),R.ZP.on(P.hL.FREE_MISSION_PULLUP_CLICK,(function(t){var n,r;null===(n=e.getBtnConfig(t))||void 0===n||null===(r=n.onClick)||void 0===r||r.call(n)}))}},{key:"getCurrentMissionType",get:function(){var e,t=this.context.freeMissionStore.getFreeMission(f.h.DRAW_POINTS);if(!(0,S.Q)(t)&&!(0,p.hI)(t))return f.h.DRAW_POINTS;var n=this.context.freeMissionStore.getFreeMission(f.h.SCAN_REWARD);return(0,S.Q)(t)||(0,p.hI)(n)?null!==(e=this.context.dailyFreeStore.drawFree)&&void 0!==e&&e.displayInBtn?f.h.DAILY_FREE_ORDER:this.context.ViewCouponStore.isViewCouponEnable?f.h.SCAN_GET_COUPON:"":f.h.SCAN_REWARD}},{key:"render",value:function(){var e=this.props.showHomeFlyLight,t=this.context.freeMissionStore,n=t.hasFinishAllMisison,r=t.isShowPullupListEntry,i=!n||this.context.ViewCouponStore.isViewCouponEnable,a=this.getBtnConfig(this.getCurrentMissionType),c=a.btnText,s=a.btnTips;return r?this.renderFreePullupEntry():o.createElement(l.un,{mode:"line",size:"md",width:170,color:"red",showFlyLight:e,onClick:this.onBtnClick,tipsText:"function"==typeof s?s():s},o.createElement("div",{className:u().btnText},"function"==typeof c?c():c),i?o.createElement("div",null,o.createElement(l.Eh,{width:8,height:12,strokeColor:"#E02E24"})):null,o.createElement(m.Z,{scene:v.Yo[this.getCurrentMissionType],customStyle:L}))}}])&&A(t.prototype,n),r&&A(t,r),a}(o.PureComponent))||r)||r;t.Z=Z},11907:function(e,t,n){"use strict";var r=n(75004),o=n(47750),i=n(57420),u=n.n(i),l=n(28064),a=n(738),c=n(98534),s=n(27302),f=n(72966),p=n(67202),d=n(68648);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t,n=e.desc,o=void 0===n?"":n,i=e.panelContext,u=(0,a.AG)().freeMissionStore,s=u.queryMissionPullup,f=(u.hiddenFreeMissionPullup,"");t=null==o?void 0:o.replace(/\${{[a-zA-Z-0-9]+}}/g,(function(e){return f=e.slice(3,-2),""}));var p=m((0,c.hk)({targetDate:1e3*((null==i?void 0:i[f])||0),onEnd:s,dynamic:!0}),2)[1].timeStr;return r.createElement(r.Fragment,null,r.createElement(l.DD,{text:t}),f?p:"")},h=function(e){var t=e||{},n=t.missionName,o=t.missionType,i=t.panelContext,c=void 0===i?{}:i,m=t.missionDesc,y=t.missionIconUrl,h=t.buttonWording,b=t.buttonMark,g=t.panelMissionStatus,E=(0,a.AG)().freeMissionStore.hiddenFreeMissionPullup,O=g===s.zw.COMPLETE;return r.createElement("div",{key:o,className:u().item,onClick:function(){if(O)return f.Z.showToast("明日再来");E(),p.ZP.emit(d.hL.FREE_MISSION_PULLUP_CLICK,o)}},r.createElement("div",{className:u().left},r.createElement("div",{className:u().icon},r.createElement("img",{src:y,className:u().iconImg})),r.createElement("div",{className:u().content},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="";return e=e.replace(/<subTitle>.+<\/subTitle>/g,(function(e){return t=e.slice(10,-11),""})),r.createElement("div",{className:u().title},e,t?r.createElement("div",{className:u().tip},t):null)}(n),r.createElement("div",{className:u().desc},r.createElement(v,{desc:m,panelContext:c})))),r.createElement("div",{className:u().right},r.createElement(l.un,{color:"red",width:72,size:"xs",customCls:O?u().disabled:""},O?"明日再来":h,b?r.createElement("div",{className:u().badge},b):null)))},b=(0,o.Pi)((function(){var e=(0,a.AG)().freeMissionStore,t=e.isShowFreeMissionPullup,n=e.missionPullupList,o=e.hiddenFreeMissionPullup;return r.createElement(l.Ge,{show:t,onMaskClick:o,showClose:!0,onClose:o},r.createElement("div",{className:u().container},r.createElement("div",{className:u().header},"免费领返现"),r.createElement("div",null,null==n?void 0:n.map((function(e){return h(e)})))))}));t.Z=b},27302:function(e,t,n){"use strict";n.d(t,{Yo:function(){return L},zw:function(){return k}});var r,o,i,u,l,a,c,s,f,p=n(17717),d=n(85641),m=n(33140),y=n(56258),v=n(42856),h=n(54669),b=n(59368),g=n(20064),E=n(31541),O=n(73136);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,r,o,i,u){try{var l=e[i](u),a=l.value}catch(e){return void n(e)}l.done?t(a):Promise.resolve(a).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){R(i,r,o,u,l,"next",e)}function l(e){R(i,r,o,u,l,"throw",e)}u(void 0)}))}}function C(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function j(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,L=(M(r={},g.h.SCAN_GET_COUPON,O.f.SCAN_GET_COUPON_OR_DAILY_FREE_ORDER),M(r,g.h.DAILY_FREE_ORDER,O.f.SCAN_GET_COUPON_OR_DAILY_FREE_ORDER),M(r,g.h.DRAW_POINTS,O.f.FREE_MISSION),M(r,g.h.SCAN_REWARD,O.f.FREE_MISSION),r);!function(e){e[e.NON=0]="NON",e[e.INIT=1]="INIT",e[e.PROCESSING=2]="PROCESSING",e[e.COMPLETE=3]="COMPLETE"}(k||(k={}));var Z=(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(y,e);var t,n,r,o=A(y);function y(){var e;D(this,y);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(T(e=o.call.apply(o,[this].concat(n))),"freeMissionData",i,T(e)),C(T(e),"hasInitFreeMissionData",u,T(e)),C(T(e),"isShowFreeMissionPullup",l,T(e)),C(T(e),"missionPullupList",a,T(e)),C(T(e),"initMisisonPullupList",c,T(e)),M(T(e),"queryMissionPullup",P(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.B)({missionTagList:["missionPanel"]});case 2:n=t.sent,r=n.result,e.initMisisonPullupList(r);case 5:case"end":return t.stop()}}),t)})))),C(T(e),"showFreeMissionPullup",s,T(e)),C(T(e),"hiddenFreeMissionPullup",f,T(e)),M(T(e),"getFreeMission",(function(t){var n,r;return null!==(n=null===(r=e.freeMissionData)||void 0===r?void 0:r[t])&&void 0!==n?n:{}})),e}return t=y,(n=[{key:"init",value:function(e){var t,n=(0,h.ei)(null!==(t=null==e?void 0:e.missionMap)&&void 0!==t?t:{},Object.values(g.t));this.set({freeMissionData:n}),this.initMisisonPullupList(e)}},{key:"isShowPullupListEntry",get:function(){var e,t;return(null===(e=this.missionPullupList)||void 0===e?void 0:e.length)&&(0,E.hI)((null===(t=this.freeMissionData)||void 0===t?void 0:t[g.h.DRAW_POINTS])||{})}},{key:"queryFressMission",value:function(){var e=this;return(0,d.B)({missionTagList:["dailyFree"]}).then((function(t){var n,r=(null!==(n=null==t?void 0:t.result)&&void 0!==n?n:{}).missionMap,o=void 0===r?{}:r;if((0,v.Q)(o))return Promise.reject();e.set({freeMissionData:o}),null!=o&&o[g.h.SCAN_GET_COUPON]&&window.__stores__.ViewCouponStore.updateMission(null==o?void 0:o[g.h.SCAN_GET_COUPON])})).catch((function(){(0,p.R)(m.E.CASHBACK_COMMON_CHECKDATA,{desc:"dailyFree Data error"})}))}},{key:"updateFreeMission",value:function(e){if(!(0,v.Q)(e)){var t,n=null!==(t=null==e?void 0:e.missionType)&&void 0!==t?t:0;this.freeMissionData[n]=e}}},{key:"hasFinishAllMisison",get:function(){return-1===Object.values(this.freeMissionData).findIndex((function(e){return(null==e?void 0:e.finishCount)<(null==e?void 0:e.maxCount)}))}},{key:"canDrawBadge",get:function(){var e;return null===(e=this.missionPullupList.filter((function(e){return[k.PROCESSING,k.INIT].includes(e.panelMissionStatus)})))||void 0===e?void 0:e.length}}])&&N(t.prototype,n),r&&N(t,r),y}(y.Z),i=j(o.prototype,"freeMissionData",[b.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=j(o.prototype,"hasInitFreeMissionData",[b.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=j(o.prototype,"isShowFreeMissionPullup",[b.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=j(o.prototype,"missionPullupList",[b.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j(o.prototype,"init",[b.aD],Object.getOwnPropertyDescriptor(o.prototype,"init"),o.prototype),c=j(o.prototype,"initMisisonPullupList",[b.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n;e.missionPullupList=null===(n=Object.entries((null==t?void 0:t.missionMap)||{}).filter((function(e){var t=_(e,2),n=t[0],r=t[1];if(void 0!==(null==r?void 0:r.panelOrder))return[n,r]})).map((function(e){return null==e?void 0:e[1]}))||[])||void 0===n?void 0:n.sort((function(e,t){return(e.panelOrder||0)-(t.panelOrder||0)}))}}}),s=j(o.prototype,"showFreeMissionPullup",[b.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isShowFreeMissionPullup=!0,e.queryMissionPullup()}}}),f=j(o.prototype,"hiddenFreeMissionPullup",[b.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isShowFreeMissionPullup=!1}}}),j(o.prototype,"queryFressMission",[b.aD],Object.getOwnPropertyDescriptor(o.prototype,"queryFressMission"),o.prototype),j(o.prototype,"updateFreeMission",[b.aD],Object.getOwnPropertyDescriptor(o.prototype,"updateFreeMission"),o.prototype),o);t.ZP=Z},6016:function(e,t,n){"use strict";var r=n(75004),o=n(47750),i=n(9085),u=n.n(i),l=n(38091),a=n(31894),c=n(69804),s=n(60734),f=n(738),p=n(15566),d=n(73136),m=n(69017),y=n(86789),v=n(15001),h=n(50806),b=n(98534),g=n(897),E=n.n(g);function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=(0,a.p2)("040b2a61-1bf6-4b83-b673-4b0942bdc39c"),R={top:(0,m.Z)(80),right:(0,m.Z)(20)},P=function(){return(0,h.oy)(!0)};t.Z=(0,o.Pi)((function(e){var t,n,o,i,m,h=(0,f.AG)(),g=h.freeOrderStore,_=g.freeOrderCouponList,C=g.totalCouponValue,D=g.freeOrderInfo,N=g.isFullBack,x=null!==(t=1e3*(null==D?void 0:D.expireTime))&&void 0!==t?t:Date.now()+432e6,A=w((0,b.hk)({targetDate:x,onEnd:P}),2)[1].timeDayStr,I=(0,r.useMemo)((function(){var e,t,n,o=C.toString().split("."),i=(null==o?void 0:o.length)>1;return i?r.createElement("div",{className:E()(u().couponValue,(e={},t=u().deciaml,n=i,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))},r.createElement("div",null,r.createElement("span",null,o[0]),".",o[1]),r.createElement("span",null,"元")):r.createElement("div",{className:u().couponValue},C,r.createElement("span",null,"元"))}),[C]);return(0,b.sH)({6695529:{btn_type:3,area_type:(n=(0,f.AG)(),o=n.grayStore,i=(n.freeOrderStore.freeOrderInfo||{}).targetAmount,m=o.freeOrderEntryEnhance,2===i?m?1:2:i)}}),r.createElement("div",{className:u().entry,onClick:function(){(0,v.C3)(P)}},r.createElement("div",{className:u().title},r.createElement("span",{className:u().titleLeft},N?"首单全额免":"免单特权"),r.createElement("div",{className:u().titleRight},"免单奖励已到账, 距结束",A,r.createElement("div",{className:u().icon},r.createElement(l.Z,{src:(0,a.p2)("rule_icon2"),className:u().expireWarn,onClick:function(e){var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),h.popupQueueStore.instantShow("showFreeOrderRule")}})))),r.createElement("div",{className:u().content},r.createElement("div",{className:u().coupon},r.createElement(l.Z,{src:S,className:u().couponBg}),I),r.createElement(s.Z,{scrollX:!0,className:u().couponContainer},_.map((function(e,t){return r.createElement(y.Z,O({key:t,cls:u().couponItem},e))}))),r.createElement(c.Z,{color:"red",size:"xs",width:63,text:"去使用"})),r.createElement(p.Z,{customStyle:R,scene:d.f.FREE_ORDER}))}))},89423:function(e,t,n){"use strict";var r=n(75004),o=n(47750),i=n(41577),u=n.n(i),l=n(38091),a=n(31894),c=n(69804),s=n(738),f=n(15566),p=n(73136),d=n(69017),m=n(15001),y=n(50806),v=n(98534),h=n(897),b=n.n(h),g=n(54669);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=(0,a.p2)("94587397-8318-4e6f-bad2-8ba1db92ca79"),S={top:(0,d.Z)(80),right:(0,d.Z)(20)},R=function(){return(0,y.oy)(!0)};t.Z=(0,o.Pi)((function(e){var t,n=(0,s.AG)(),o=n.freeOrderStore,i=o.freeOrderInfo,d=o.isFreeOrderProgressFinish,y=o.freeOrderProgress,h=void 0===y?[]:y,w=null!==(t=1e3*(null==i?void 0:i.expireTime))&&void 0!==t?t:Date.now()+432e6,P=O((0,v.hk)({targetDate:w,onEnd:R}),2)[1].timeDayStr,C=n.grayStore.freeOrderEntryEnhance;return(0,v.sH)({6695529:{btn_type:d?2:1,area_type:C?2:1}}),r.createElement("div",{className:u().entry,onClick:function(){(0,m.C3)(R)}},r.createElement("div",{className:u().title},r.createElement("span",{className:u().titleLeft},"免单奖励"),r.createElement("div",{className:u().titleRight},"距结束仅剩 ",P,r.createElement("div",{className:u().icon},r.createElement(l.Z,{src:(0,a.p2)("rule_icon2"),className:u().expireWarn,onClick:function(e){var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),n.popupQueueStore.instantShow("showFreeOrderRule")}})))),r.createElement("div",{className:u().content},C?r.createElement("div",{className:u().orderList},null==h?void 0:h.map((function(e,t){var n=e.thumbUrl,o=e.goodsAmount;return r.createElement("div",{className:u().orderItem,key:t},r.createElement("img",{className:u().orderImg,src:n}),r.createElement("div",{className:u().orderStatus},"待免单"),r.createElement("div",{className:u().orderPrice},"¥",(0,g.Ct)(o)))}))):r.createElement("div",{className:u().coupon},r.createElement(l.Z,{src:_,className:u().couponBg}),r.createElement("span",null,"免单")),r.createElement("div",{className:u().progress},r.createElement("div",{className:u().progressT1},"拼2单, 免1单"),d?r.createElement("div",{className:u().progressT2},C?"已完成拼单,领免单":r.createElement(r.Fragment,null,"已完成拼单, 可",r.createElement("span",null,"领取免单奖励"))):r.createElement("div",{className:u().progressT2},"再拼1单, 可随机免一单"),r.createElement("div",{className:u().progressBar},r.createElement("div",{className:u().progressInner}),r.createElement("div",{className:b()(u().progressStage,E({},u().stageReach,h.length>=1))},"1"),r.createElement("div",{className:b()(u().progressStage,E({},u().stageReach,2===h.length))},"2"))),r.createElement(c.Z,{color:"red",size:"xs",width:63,text:d?"领免单":"去拼单"})),r.createElement(f.Z,{customStyle:S,scene:p.f.FREE_ORDER}))}))},23522:function(e,t,n){"use strict";var r=n(75004),o=n(47750),i=n(98041),u=n.n(i),l=n(38091),a=n(31894),c=n(69804),s=n(738),f=n(15566),p=n(73136),d=n(69017),m=n(15001),y=n(50806),v=n(98534),h=n(28064);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E={top:(0,d.Z)(80),right:(0,d.Z)(20)},O=function(){return(0,y.oy)(!0)};t.Z=(0,o.Pi)((function(e){var t,n=(0,s.AG)().freeOrderStore,o=n.freeOrderInfo,i=n.isFreeOrderProgressFinish,d=null!==(t=1e3*(null==o?void 0:o.expireTime))&&void 0!==t?t:Date.now()+432e6,y=b((0,v.hk)({targetDate:d,onEnd:O}),2)[1].timeDayStr;(0,v.sH)({6695529:{btn_type:i?2:1,area_type:0}});return r.createElement("div",{className:u().entry,onClick:function(){(0,m.C3)(O)}},r.createElement("div",{className:u().title},r.createElement("span",{className:u().titleLeft},"首单全额免"),r.createElement("div",{className:u().titleRight},r.createElement(h.DD,{text:"专区内拼单，<#E02E24#金额全免>"}))),r.createElement("div",{className:u().content},r.createElement("div",{className:u().coupon},r.createElement(l.Z,{src:(0,a.RZ)("cashabck_fullback_entry_icon_bg"),className:u().couponBg})),r.createElement("div",{className:u().progress},r.createElement("div",{className:u().progressT1},"限时免单福利"),r.createElement("div",{className:u().progressT2},"距结束仅剩",y)),r.createElement(c.Z,{color:"red",size:"xs",width:65,text:i?"领免单":"去拼单"})),r.createElement(f.Z,{customStyle:E,scene:p.f.FREE_ORDER}))}))},94993:function(e,t,n){"use strict";var r=n(47750),o=n(75004),i=n(78628),u=n.n(i),l=n(738),a=n(60565),c=n(15001),s=n(54669),f=n(38091),p=n(50806),d=n(31894),m=n(28064),y=n(15566),v=n(73136),h=n(69017),b=n(98534);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(){return(0,p.oy)(!0)},w={top:(0,h.Z)(80),right:(0,h.Z)(20)};t.Z=(0,r.Pi)((function(){var e,t=(0,l.AG)(),n=t.freeOrderStore,r=n.freeOrderInfo,i=n.isFreeOrderProgressFinish,p=n.freeOrderProgress,h=void 0===p?[]:p,E=null!==(e=1e3*(null==r?void 0:r.expireTime))&&void 0!==e?e:Date.now()+432e6,_=g((0,a.Z)({targetDate:E,onEnd:O}),2)[1].timeDayStr;(0,b.sH)({6695529:{btn_type:i?2:1,area_type:r.targetAmount}});var S;return o.createElement("div",{className:u().entry,onClick:function(){return(0,c.C3)(O)}},o.createElement("div",{className:u().title},o.createElement("span",{className:u().titleLeft},"免单奖励"),o.createElement("div",{className:u().titleRight},i?o.createElement(m.DD,{text:"已完成拼单, 可<#E02E24#领取免单奖励>"}):o.createElement(o.Fragment,null,"距结束仅剩 ",_),o.createElement("div",{className:u().icon},o.createElement(f.Z,{src:(0,d.p2)("rule_icon2"),className:u().expireWarn,onClick:function(e){var n;null==e||null===(n=e.stopPropagation)||void 0===n||n.call(e),t.popupQueueStore.instantShow("showFreeOrderRule")}})))),o.createElement("div",{className:u().content},o.createElement("div",{className:u().orderList},null===(S=h.slice(0,4))||void 0===S?void 0:S.map((function(e,t){var n=e.thumbUrl,r=e.goodsAmount;return o.createElement("div",{className:u().orderItem,key:t},o.createElement("img",{className:u().orderImg,src:n}),o.createElement("div",{className:u().orderStatus},"待免单"),o.createElement("div",{className:u().orderPrice},"¥",(0,s.Ct)(r)))})),i||3!==(null==r?void 0:r.targetAmount)?null:o.createElement("div",{className:u().orderItem},o.createElement("img",{className:u().orderImg,src:(0,d.RZ)("multi_order_empty_border")}),o.createElement("img",{className:u().add,src:(0,d.RZ)("multi_order_empty_add")}),o.createElement("div",{className:u().orderPrice},"立即拼单"))),o.createElement(m.un,{color:"red",size:"xs",width:63,text:i?"领免单":"去拼单"})),o.createElement(y.Z,{customStyle:w,scene:v.f.FREE_ORDER}))}))},5736:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r,o,i,u=n(54669),l=n(56258),a=n(42856),c=n(59368),s=n(20064),f=n(72377),p=n(17717),d=n(33140);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function _(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}!function(e){e[e.UN_TIME=1]="UN_TIME",e[e.CAN_DRAW=2]="CAN_DRAW",e[e.WITHDRAW=3]="WITHDRAW",e[e.USED=4]="USED",e[e.REPEAL=5]="REPEAL",e[e.RISK=6]="RISK"}(i||(i={}));var S=(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(c,e);var t,n,r,l=g(c);function c(){var e;v(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(O(e=l.call.apply(l,[this].concat(n))),"popups",o,O(e)),e}return t=c,(n=[{key:"init",value:function(e){var t,n,r=null!==(t=null==e?void 0:e.missionMap)&&void 0!==t?t:{},o=null!==(n=null==e?void 0:e.popups)&&void 0!==n?n:[],i=[s.h.NEW_FREE_ORDER];this.set({missionMap:(0,u.ei)(r,i),popups:o}),function(e){if(!(0,a.Q)(e)){var t=e||{},n=t.currentAmount,r=(t.extMap||{}).orderList,o=void 0===r?[]:r;(null==o?void 0:o.length)<n&&(0,p.R)(d.E.FREE_ORDER_MISS_ORDER_HISTORY,{msg:"n免1历史订单缺失",mission:e})}}(null==r?void 0:r[s.h.NEW_FREE_ORDER])}},{key:"isFreeOrderEnable",get:function(){var e;return!(0,a.Q)(null===(e=this.missionMap)||void 0===e?void 0:e[s.h.NEW_FREE_ORDER])}},{key:"freeOrderInfo",get:function(){var e;return(null===(e=this.missionMap)||void 0===e?void 0:e[s.h.NEW_FREE_ORDER])||{}}},{key:"showFreeOrderEntry",get:function(){var e;return!this.isFreeOrderProgressFinish||(null===(e=this.popups)||void 0===e?void 0:e.find((function(e){return e.id===f.$Z.FREE_ORDER_COMPLETE})))}},{key:"isFullBack",get:function(){var e;return 1===(null===(e=this.missionMap[s.h.NEW_FREE_ORDER])||void 0===e?void 0:e.targetAmount)}},{key:"isMultiOrder",get:function(){var e;return[3,5].includes(null===(e=this.missionMap[s.h.NEW_FREE_ORDER])||void 0===e?void 0:e.targetAmount)}},{key:"showFreeOrderCouponEntry",get:function(){return this.isFreeOrderProgressFinish&&!this.isNoFreeOrderCoupon}},{key:"freeOrderProgress",get:function(){var e,t,n;return null!==(e=null===(t=this.freeOrderInfo)||void 0===t||null===(n=t.extMap)||void 0===n?void 0:n.orderList)&&void 0!==e?e:[]}},{key:"isFreeOrderProgressFinish",get:function(){var e=this.freeOrderInfo||{};return e.currentAmount>=e.targetAmount}},{key:"isNoFreeOrderCoupon",get:function(){return this.freeOrderCouponList.length&&this.freeOrderCouponList.every((function(e){return[i.USED,i.REPEAL,i.RISK].includes(e.status)}))}},{key:"freeOrderCouponList",get:function(){var e,t,n,r;return null!==(e=null===(t=this.freeOrderInfo)||void 0===t||null===(n=t.extMap)||void 0===n||null===(r=n.couponInfo)||void 0===r?void 0:r.couponBizList)&&void 0!==e?e:[]}},{key:"totalCouponValue",get:function(){var e,t,n=null===(e=this.freeOrderCouponList)||void 0===e||null===(t=e.reduce)||void 0===t?void 0:t.call(e,(function(e,t){return e+(null==t?void 0:t.discount)}),0);return(0,u.Ct)(n)}}])&&h(t.prototype,n),r&&h(t,r),c}(l.Z),o=_(r.prototype,"popups",[c.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_(r.prototype,"init",[c.aD],Object.getOwnPropertyDescriptor(r.prototype,"init"),r.prototype),_(r.prototype,"isFreeOrderEnable",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"isFreeOrderEnable"),r.prototype),_(r.prototype,"freeOrderInfo",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"freeOrderInfo"),r.prototype),_(r.prototype,"showFreeOrderEntry",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"showFreeOrderEntry"),r.prototype),_(r.prototype,"showFreeOrderCouponEntry",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"showFreeOrderCouponEntry"),r.prototype),_(r.prototype,"freeOrderProgress",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"freeOrderProgress"),r.prototype),_(r.prototype,"isFreeOrderProgressFinish",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"isFreeOrderProgressFinish"),r.prototype),_(r.prototype,"isNoFreeOrderCoupon",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"isNoFreeOrderCoupon"),r.prototype),_(r.prototype,"freeOrderCouponList",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"freeOrderCouponList"),r.prototype),_(r.prototype,"totalCouponValue",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"totalCouponValue"),r.prototype),r)},58671:function(e,t,n){"use strict";var r,o,i,u,l=n(56258),a=n(54669),c=n(59368);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var O=(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,n,r,l=y(c);function c(){var e;p(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=l.call.apply(l,[this].concat(n))),"adUlike",null),f(h(e),"showIcon",o,h(e)),f(h(e),"goods",i,h(e)),f(h(e),"canPopup",u,h(e)),g(h(e),"onClickUlike",(function(t,n){(0,a.mf)((e.adUlike||{}).doClick)&&e.adUlike.doClick(t,n)})),g(h(e),"onClickLeftIcon",(function(){if(e.enableShowPopup(),(0,a.mf)((e.adUlike||{}).doFetch))return e.adUlike.doFetch()})),e}return t=c,(n=[{key:"isCanShow",get:function(){var e=(this.goods||{}).list;return!!this.adUlike&&e&&e.length>0}},{key:"enableShowPopup",value:function(){this.canPopup=!0}},{key:"disableShowPopup",value:function(){this.canPopup=!1}},{key:"setGuessLikeGoods",value:function(e){this.goods=e}},{key:"showRightIcon",value:function(){this.showIcon=!0}},{key:"hideRightIcon",value:function(){this.showIcon=!1}},{key:"setAdULike",value:function(e){this.adUlike=e}}])&&d(t.prototype,n),r&&d(t,r),c}(l.Z),o=E(r.prototype,"showIcon",[c.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=E(r.prototype,"goods",[c.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{list:[],imprData:{}}}}),u=E(r.prototype,"canPopup",[c.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E(r.prototype,"isCanShow",[c.Fl],Object.getOwnPropertyDescriptor(r.prototype,"isCanShow"),r.prototype),E(r.prototype,"enableShowPopup",[c.aD],Object.getOwnPropertyDescriptor(r.prototype,"enableShowPopup"),r.prototype),E(r.prototype,"disableShowPopup",[c.aD],Object.getOwnPropertyDescriptor(r.prototype,"disableShowPopup"),r.prototype),E(r.prototype,"setGuessLikeGoods",[c.aD],Object.getOwnPropertyDescriptor(r.prototype,"setGuessLikeGoods"),r.prototype),E(r.prototype,"showRightIcon",[c.aD],Object.getOwnPropertyDescriptor(r.prototype,"showRightIcon"),r.prototype),E(r.prototype,"hideRightIcon",[c.aD],Object.getOwnPropertyDescriptor(r.prototype,"hideRightIcon"),r.prototype),r);t.Z=O},62450:function(e,t,n){"use strict";var r=n(72377),o=n(15237),i=n(66696);t.Z={popups:{RewardPopup:o.default,RemindPopup:i.default},checkRewardPopup:function(e){var t=e.popups,n=e.popupQueueStore,o=e.freeOrderStore;if(t.find((function(e){return(null==e?void 0:e.id)===r.$Z.WITHDRAW_FINISH_POPUP})))n.enqueue("showWithdrawFinishPopup");else if(t.find((function(e){return(null==e?void 0:e.id)===r.$Z.INNER_ORDER_REWARD}))){var i,u,l,a,c,s,f=null!==(i=null===(u=window)||void 0===u||null===(l=u.__stores__)||void 0===l?void 0:l.doubleOrderStore)&&void 0!==i?i:{},p=f.isDoubleOrderEnable,d=f.isTriggerDoubleOrder,m=(null!==(a=null===(c=window)||void 0===c||null===(s=c.__stores__)||void 0===s?void 0:s.orderStore)&&void 0!==a?a:{}).hasOneMoreOrder,y=o||{},v=y.isFullBack,h=y.isFreeOrderEnable,b=y.isFreeOrderProgressFinish;n.enqueue(m?"showOneMoreRewardPopup":"oA"===p&&d?"showDoubleOrderRewardA":"showHomeOrderRewardPopup"),t.find((function(e){return e.id===r.$Z.FREE_ORDER_GUIDE_AFTER_HOME_ORDER}))&&!b&&!v&&h&&n.enqueue("showFreeOrderNotice")}t.find((function(e){return(null==e?void 0:e.id)===r.$Z.COMPOSE_ORDER_REWARD}))&&n.enqueue("showComposeRewaredPopup");var g=t.find((function(e){return(null==e?void 0:e.id)===r.$Z.APPLE_ORDER_REWARD}));return g&&n.enqueue({key:"showOfficialSelectionRewardPopup",popupData:g}),Promise.resolve()}}},66696:function(e,t,n){"use strict";n.r(t);var r,o=n(75004),i=n(80217),u=n(60268),l=n.n(u),a=n(28064),c=n(47750),s=n(89053),f=n(67996),p=n(69017),d=n(35287),m=n(31894),y=n(64147),v=n(80373);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=(0,v.Z5)(r=(0,v.TG)(r=(0,c.Pi)(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(HomeOrderRemindPopup_BIMD,e);var t,n,r,u=O(HomeOrderRemindPopup_BIMD);function HomeOrderRemindPopup_BIMD(){var e;b(this,HomeOrderRemindPopup_BIMD);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(_(e=u.call.apply(u,[this].concat(n))),"onClose",(function(){e.context.popupQueueStore.close("showHomeOrderRemindPopup")})),R(_(e),"renderHint",(function(){var t=e.context.globalStore.innerRate;return o.createElement("div",{className:l().hint},o.createElement(f.Z,{text:"继续拼单，"}),o.createElement(f.Z,{start:"#FFEBA6",end:"#FFD200",text:"再返".concat(t,"%")}))})),e}return t=HomeOrderRemindPopup_BIMD,(n=[{key:"render",value:function(){var e=this.context.globalStore,t=e.innerRate,n=e.maxAmountPerOrder;return o.createElement(i.Z,{onClose:this.onClose,bgLight:"highLight",showBannerLight:!0,showStar:!0,hint:this.renderHint(),closeIconStyle:{top:(0,p.S)(-174)}},o.createElement("div",{className:l().wrapper},o.createElement("div",{className:l().rate},o.createElement(y.Z,{src:(0,m.p2)("order_remain"),className:l().img}),o.createElement(d.Z,{textArr:[[t,42,32],["%","20"]],top:18}),o.createElement("div",{className:l().desc},"返现比例")),o.createElement(s.Z,{text:"最高可返<#151516#".concat(n,"元>"),bottom:24}),o.createElement(a.un,{size:"md",width:252,color:"red",onClick:this.onClose,showFinger:!0,bottom:28},"立即拼单赚返现")))}}])&&g(t.prototype,n),r&&g(t,r),HomeOrderRemindPopup_BIMD}(o.Component))||r)||r)||r;t.default=P},15237:function(e,t,n){"use strict";n.r(t);var r,o=n(75004),i=n(80217),u=n(38355),l=n.n(u),a=n(28064),c=n(47750),s=n(72966),f=n(72377),p=n(89053),d=n(58303),m=n(68648),y=n(80373),v=n(31894),h=n(54669),b=n(67996),g=n(77356),E=n(50806),O=n(16374),w=n(15001);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,o,i,u){try{var l=e[i](u),a=l.value}catch(e){return void n(e)}l.done?t(a):Promise.resolve(a).then(r,o)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){P(i,r,o,u,l,"next",e)}function l(e){P(i,r,o,u,l,"throw",e)}u(void 0)}))}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=(0,y.Z5)(r=(0,y.TG)(r=(0,c.Pi)(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(HomeOrderRewardPopup_BIMD,e);var t,n,r,u=A(HomeOrderRewardPopup_BIMD);function HomeOrderRewardPopup_BIMD(){var e;D(this,HomeOrderRewardPopup_BIMD);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(T(e=u.call.apply(u,[this].concat(n))),"onClose",(function(){var t=e.context.doubleOrderStore,n=t.isTriggerDoubleOrder,r=t.isDoubleOrderEnable,o=e.context.globalStore.risk;"oB"===r&&n&&e.context.popupQueueStore.priorityShow("showDoubleOrderGuideB"),e.context.popupQueueStore.close("showHomeOrderRewardPopup"),e.context.globalStore.hasInnerOrderLimit&&!o&&s.Z.showToast("今日拼单返现已达上限, 明日来仍可得返现")})),j(T(e),"handleCouponBtnClick",(function(){e.onClose(),(0,g.a)()})),j(T(e),"handleWithdrawBtnClick",(function(){if(e.onClose(),e.context.withdrawStore.isHomePage)return(0,g.a)();(0,w.Fy)(C(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,E.oy)(!0);case 2:n=e.context.withdrawStore,r=n.currentAmount,o=n.targetAmount,r>=o&&(e.context.cashCenterStore.showCashPullup=!0,e.context.cashCenterStore.queryAndeShowCashCenter());case 4:case"end":return t.stop()}}),t)}))))})),j(T(e),"renderPointItem",(function(e){var t=e.rewardAmount,n=void 0===t?0:t;return o.createElement("div",{className:l().point},o.createElement("img",{src:(0,v.RZ)("home_order_coupon_reward_bg_v2"),className:l().bg}),o.createElement("div",{className:l().pointAmount},(0,h.Ct)(n),o.createElement("span",{className:l().unit},"元")))})),j(T(e),"renderCouponItem",(function(e){var t=e.discount,n=void 0===t?0:t,r=e.minAmount,i=e.isExtra,u=void 0!==i&&i;return o.createElement("div",{className:l().coupon},o.createElement("img",{src:(0,v.RZ)("home_order_coupon_reward_bg"),className:l().bg}),o.createElement("div",{className:l().discount},(0,h.Ct)(n),o.createElement("span",{className:l().unit},"元")),o.createElement("div",{className:l().minAmount},r===n?"无门槛":"满".concat((0,h.Ct)(r),"可用")),o.createElement("div",{className:l().tag},u?"额外获得":"现金券"))})),j(T(e),"renderOnlyCouponReward",(function(){var t=e.rewardInfo||{},n=t.point,r=void 0===n?0:n,i=t.discount,u=void 0===i?0:i,c=t.minAmount;return o.createElement("div",{className:l().singleCoupon},o.createElement("div",{className:l().header},o.createElement(b.Z,{textArr:[["拼单成功, 获得"],["".concat((0,h.Ct)(r+u),"元")],["现金券","#FFFBED","#FDDD99"]]})),o.createElement("div",{className:l().singleCouponBox},e.renderCouponItem({discount:u,minAmount:c})),o.createElement(a.un,{size:"md",width:290,color:"red",onClick:e.handleCouponBtnClick,showFinger:!0},"开心收下，立即使用"))})),j(T(e),"renderWithdrawBtn",(function(t){var n=e.context.withdrawStore,r=n.currentAmount,i=n.targetAmount,u=n.skuAmount,c=n.withdrawCountdown;return o.createElement(a.un,{size:"md",width:t,color:"red",onClick:e.handleWithdrawBtnClick,showFinger:!0,tipCls:l().customTipCls,tipsText:"仅剩 ".concat((0,O.NF)(c||0))},o.createElement(a.DD,{text:"再拼<#FFE5B6#".concat((0,h.Ct)(i-r),"元>，必提现<#FFE5B6#").concat((0,h.Ct)(u),"元>")}))})),e}return t=HomeOrderRewardPopup_BIMD,(n=[{key:"componentDidMount",value:function(){(0,d.TA)({tipsIds:[f.$Z.INNER_ORDER_REWARD],businessType:m._f.POPUP}),this.isMultiReward&&(0,E.X0)()}},{key:"renderMultiReward",value:function(){return o.createElement("div",{className:l().multiReward})}},{key:"rewardInfo",get:function(){var e,t,n=this.context.globalStore.popups,r=null===(e=(void 0===n?[]:n).find((function(e){return(null==e?void 0:e.id)===f.$Z.INNER_ORDER_REWARD})))||void 0===e||null===(t=e.placeHolder)||void 0===t?void 0:t.split(",").map((function(e){return e.split(":")})),o=S((null==r?void 0:r.find((function(e){return 1===Number(e[0])})))||[],2)[1],i=S((null==r?void 0:r.find((function(e){return 2===Number(e[0])})))||[],3),u=i[1],l=i[2];return{point:Number(o||0),minAmount:Number(u),discount:Number(l)}}},{key:"showWithdrawEntry",get:function(){var e=this.context.withdrawStore.showWithdrawEntry;return this.showWithdrawTrigger||e}},{key:"showWithdrawTrigger",get:function(){var e,t,n,r,o,i=this.context.globalStore.popups,u=void 0===i?[]:i,l=null==u||null===(e=u.find((function(e){return e.id===f.$Z.INNER_ORDER_REWARD})))||void 0===e||null===(t=e.placeHolder)||void 0===t||null===(n=t.split(","))||void 0===n||null===(r=n.map((function(e){return e.split(":")})))||void 0===r||null===(o=r.find((function(e){return 13===Number(e[0])})))||void 0===o?void 0:o[2];return 0===Number(l)&&!this.context.withdrawStore.isHomePage}},{key:"gradientTitle",get:function(){return this.isMultiReward||this.isSingleCoupon?"":"恭喜你拼单成功"}},{key:"isSingleCoupon",get:function(){var e=this.rewardInfo||{},t=e.point,n=e.discount;return!t&&(void 0===n?0:n)}},{key:"isMultiReward",get:function(){var e=this.rewardInfo||{},t=e.point,n=e.minAmount;return t>0&&n>0}},{key:"renderReward",value:function(){var e=this.rewardInfo||{},t=e.point,n=e.discount,r=void 0===n?0:n,i=e.minAmount;if(this.isSingleCoupon)return this.renderOnlyCouponReward();var u=this.context.grayStore.isShowHomeOrderExtraCoupon,c=this.showWithdrawEntry;return this.isMultiReward?o.createElement("div",{className:l().multiContent},o.createElement("div",{className:l().header},o.createElement(b.Z,{textArr:[["拼单成功, 获得"],["".concat((0,h.Ct)(t+(u||c?0:r)),"元")],["返现","#FFFBED","#FDDD99"]]})),o.createElement("div",{className:l().main},this.renderPointItem({rewardAmount:t}),this.isMultiReward?o.createElement("img",{src:(0,v.RZ)("home_order_add_icon"),className:l().addIcon}):null,this.renderCouponItem({discount:r,minAmount:i,isExtra:u||c})),c?this.renderWithdrawBtn(290):o.createElement(a.un,{size:"md",width:290,color:"red",onClick:this.handleCouponBtnClick,showFinger:!0},"开心收下，立即使用")):o.createElement("div",{className:l().content},o.createElement("div",{className:l().title},"已获得",o.createElement("span",{className:l().red},t/100,"元"),"返现"),o.createElement(a.eu,{height:22}),o.createElement("div",{className:l().amount},t/100,o.createElement("p",null,"元")),o.createElement(a.eu,{height:22}),o.createElement(p.Z,null),o.createElement(a.eu,{height:20}),c?this.renderWithdrawBtn(252):o.createElement(a.un,{size:"md",width:252,color:"red",onClick:this.onClose,showFinger:!0},"开心收下"))}},{key:"render",value:function(){return o.createElement(i.Z,{onClose:this.onClose,bgLight:"highLight",showBannerLight:!(this.isMultiReward||this.isSingleCoupon),showStar:!this.showWithdrawEntry&&!this.showWithdrawTrigger,gradientTitle:this.gradientTitle,bottomDesc:"提示: 个人原因退单将回收对应奖励"},this.renderReward())}}])&&N(t.prototype,n),r&&N(t,r),HomeOrderRewardPopup_BIMD}(o.Component))||r)||r)||r;t.default=M},44710:function(e,t,n){"use strict";var r=n(20064),o=n(738),i=n(50806),u=n(54669),l=n(15001),a=n(31894),c=n(31541),s=n(16374),f=n(38091),p=n(35287),d=n(57016),m=n(47750),y=n(75004),v=n(10020),h=n.n(v),b=n(897),g=n.n(b),E=n(98534),O=n(51139);t.Z=(0,m.Pi)((function(){var e,t,n,m;(0,E.sH)({6695099:{}});var v,b,w,_=(0,o.AG)(),S=null===(e=_.limitPayStore)||void 0===e||null===(t=e.missionMap)||void 0===t?void 0:t[r.h.LIMIT_PAY],R=S||{},P=R.currentAmount,C=void 0===P?0:P,D=R.targetAmount,N=void 0===D?0:D,x=(0,u.Ct)(null==S||null===(n=S.rewardResult)||void 0===n||null===(m=n[0])||void 0===m?void 0:m.maxRewardAmount),A=_.globalStore.fakeTodayTimeLeft,I=C>=N&&!(0,c.$h)(S),T=C>=N&&(0,c.$h)(S),F=C>N?"100%":C/N*100+"%";return y.createElement("div",{className:h().limitPay,onClick:function(){I||((0,O.iH)(6695223,{btn_type:T?2:1}),(0,l.x)(i.oy))}},y.createElement("div",{className:h().title},y.createElement("span",{className:h().titlePre},"限时打款"),y.createElement(d.Z,{text:"专区拼满".concat((0,u.Ct)(N),"元, 得{cash%14%}打款<#E02E24#").concat(x,"元>"),wrapperClass:h().subTitle})),y.createElement("div",{className:h().center},y.createElement("div",{className:h().left},y.createElement(f.Z,{src:(0,a.p2)("limit_pay_main"),className:h().leftImg}),y.createElement("div",{className:h().amount},y.createElement(p.Z,{textArr:[[x,18,15],["元",13]]}))),y.createElement("div",{className:h().main},y.createElement("div",{className:h().mainTop},y.createElement("div",{className:h().bar},y.createElement("div",{className:h().innerbar,style:{width:F}})),(0,u.Ct)(C),"/",(0,u.Ct)(N),"元"),I?"距进度重置还有":"距结束仅剩",(0,s.NF)(A)),y.createElement("div",{className:h().right},y.createElement("div",{className:g()(h().btn,(v={},b=h().disabled,w=I,b in v?Object.defineProperty(v,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):v[b]=w,v))},I?"已打款":T?"去领打款":"立即拼单"))))}))},45811:function(e,t,n){"use strict";var r,o=n(20064),i=n(56258),u=n(42856),l=n(54669),a=n(59368);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v,h,b,g,E,O,w=(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,i=d(a);function a(){return s(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"init",value:function(e){var t,n=null!==(t=null==e?void 0:e.missionMap)&&void 0!==t?t:{},r=[o.h.LIMIT_PAY];this.set({missionMap:(0,l.ei)(n,r)})}},{key:"showLimitPayCenter",get:function(){var e;return!(0,u.Q)(null===(e=this.missionMap)||void 0===e?void 0:e[o.h.LIMIT_PAY])}}])&&f(t.prototype,n),r&&f(t,r),a}(i.Z),v=r.prototype,h="init",b=[a.aD],g=Object.getOwnPropertyDescriptor(r.prototype,"init"),E=r.prototype,O={},Object.keys(g).forEach((function(e){O[e]=g[e]})),O.enumerable=!!O.enumerable,O.configurable=!!O.configurable,("value"in O||O.initializer)&&(O.writable=!0),O=b.slice().reverse().reduce((function(e,t){return t(v,h,e)||e}),O),E&&void 0!==O.initializer&&(O.value=O.initializer?O.initializer.call(E):void 0,O.initializer=void 0),void 0===O.initializer&&(Object.defineProperty(v,h,O),O=null),r);t.Z=w}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-fun-cashback/js/index-21bbc97f_08275a46efff1151035e.js.map