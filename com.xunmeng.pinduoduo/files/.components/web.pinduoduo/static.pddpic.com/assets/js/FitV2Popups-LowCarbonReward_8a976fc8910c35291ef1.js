(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{"/Ua+":function(e,t,a){e.exports={"reward":"_11tpxWj","leaf":"_5na97gZ","redpacketBg":"_534j5Mr","amount":"_3cLzCC3","unit":"_2QrQw1-"}},"D1SJ":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return T}));var n,r=a("p5LO"),o=a("wzp5"),c=a("kRu4"),s=a.n(c),i=a("RgDV"),l=a("w9YI"),u=a("QjaO"),b=a("cJQI"),p=a("ZsPb"),d=a("JsaZ"),w=a("MQ17"),O=a("q1tI"),m=a.n(O),f=a("2oo6"),v=a("/Ua+"),h=a.n(v),_=a("7Qib"),j=a("3uR/"),k=a("TyAF"),C=a("gpDe"),g=a("bmJN"),R=a("ktSw"),L=a("klxc"),x=a("4r5b"),y=a("hn0O"),A=a("ndO7"),B=a("0S3Q"),G=a("Fmrv"),S=a("cl2I"),T=Object(k.inject)(C.b.POPUP_QUEUE,C.b.LOW_CARBON,C.b.GLOBAL)(n=Object(k.observer)(n=function(e){Object(p.a)(LowCarbonReward,e);var t,a=Object(d.a)(LowCarbonReward);function LowCarbonReward(){var e;Object(l.a)(this,LowCarbonReward);for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return e=a.call.apply(a,[this].concat(n)),Object(w.a)(Object(b.a)(e),"handleBtnClick",Object(i.a)(s.a.mark((function _callee2(){var t,a,n;return s.a.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(a=(null===(t=e.store)||void 0===t?void 0:t.rewardItem)||{},n=a.status,!e.autoGain){r.next=3;break}return r.abrupt("return",e.handleAutoGain());case 3:if(n===B.a.unFinish&&Object(G.v)(Object(i.a)(s.a.mark((function _callee(){var t;return s.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(S.a)({},y.c.LOW_CARBON);case 2:t=a.sent,e.store.init(t);case 4:case"end":return a.stop()}}),_callee)})))),n!==B.a.canDraw){r.next=8;break}return r.next=7,e.handleGainReward();case 7:e.onClose();case 8:case"end":return r.stop()}}),_callee2)})))),Object(w.a)(Object(b.a)(e),"handleGainReward",Object(R.a)(Object(i.a)(s.a.mark((function _callee3(){var t,a;return s.a.wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(x.b)(y.c.LOW_CARBON,null===(t=e.store.gainMission)||void 0===t?void 0:t.missionType,{"globalStore":e.globalStore,"popupQueueStore":e.popupQueueStore,"closeCallback":function closeCallback(){var t;return null!=a&&null!==(t=a.featureMap)&&void 0!==t&&t[y.c.LOW_CARBON]&&e.popupQueueStore.instantShow("showLowCarbonProcess"),Promise.resolve()}});case 2:a=n.sent,e.onClose(),e.store.init(a);case 5:case"end":return n.stop()}}),_callee3)}))))),Object(w.a)(Object(b.a)(e),"handleAutoGain",Object(R.a)(Object(i.a)(s.a.mark((function _callee4(){var t;return s.a.wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(x.a)(y.c.LOW_CARBON,null===(t=e.store.walkMission)||void 0===t?void 0:t.missionType,{"globalStore":e.globalStore});case 2:return a.next=4,e.handleGainReward();case 4:e.store.initCountdown();case 5:case"end":return a.stop()}}),_callee4)}))))),Object(w.a)(Object(b.a)(e),"onClose",(function(){e.popupQueueStore.close("showLowCarbonReward")})),Object(w.a)(Object(b.a)(e),"renderRedpacket",(function(){var t;return m.a.createElement(r.a,{"className":h.a.reward},e.autoGain?m.a.createElement(o.a,{"className":h.a.leaf,"src":Object(_.a)("low_carbon_process_leaf")}):null,m.a.createElement(o.a,{"className":h.a.redpacketBg,"src":Object(_.a)("walk_game_open_redpacket_max_bg")}),m.a.createElement(r.a,{"className":h.a.amount},Object(j.o)(((null===(t=e.store.rewardItem)||void 0===t?void 0:t.rewardAmount)||0)/100),m.a.createElement(r.a,{"className":h.a.unit},"元")))})),e}return Object(u.a)(LowCarbonReward,[{"key":"componentWillUnmount","value":(t=Object(i.a)(s.a.mark((function _callee5(){return s.a.wrap((function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.I)(L.a.LOW_CARBON_TRIGGER);case 2:return e.t0=this.store,e.next=5,Object(A.w)([y.c.LOW_CARBON]);case 5:e.t1=e.sent,e.t0.init.call(e.t0,e.t1);case 7:case"end":return e.stop()}}),_callee5,this)}))),function componentWillUnmount(){return t.apply(this,arguments)})},{"key":"render","value":function render(){return m.a.createElement(f.a,{"showClose":!0,"deepMask":!0,"mainTitleStyle":{"color":"#FFFFFF"},"subTitleStyle":{"color":"rgba(255,255,255,0.8)"},"onClose":this.onClose,"btn1Text":this.btnText,"closeIconStyle":{"top":Object(g.a)(10)},"mainTitle":this.mainTitle,"subTitle":this.subTitle,"onBtn1Confirm":this.handleBtnClick,"disableContentBg":!0},this.renderRedpacket())}},{"key":"globalStore","get":function get(){return this.props[C.b.GLOBAL]}},{"key":"popupQueueStore","get":function get(){return this.props[C.b.POPUP_QUEUE]}},{"key":"store","get":function get(){return this.props[C.b.LOW_CARBON]}},{"key":"autoGain","get":function get(){var e,t;return null===(e=this.store)||void 0===e||null===(t=e.popupVos)||void 0===t?void 0:t.find((function(e){return e.popupType===L.a.LOW_CARBON_TRIGGER}))}},{"key":"btnText","get":function get(){var e;return this.autoGain||(null===(e=this.store.rewardItem)||void 0===e?void 0:e.status)===B.a.canDraw?"开心收下":"浏览领取现金"}},{"key":"mainTitle","get":function get(){var e=this.store,t=e.walkMission,a=e.rewardItem||{},n=a.rewardAmount,r=void 0===n?0:n,o=a.needClockCount;return this.autoGain?"你的100步，节能减碳".concat(this.store.getMissionCarbonAmount(t),"克"):"完成".concat(o,"次节能打卡，获得现金<#FF5B2E#").concat(Object(j.o)(r/100),"元>{redpacket}")}},{"key":"subTitle","get":function get(){var e,t;return this.autoGain?"奖励现金<#red1#".concat(Object(j.o)(((null===(e=this.store)||void 0===e||null===(t=e.rewardItem)||void 0===t?void 0:t.rewardAmount)||0)/100),"元>{redpacket}"):""}}]),LowCarbonReward}(O.Component))||n)||n}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-fit/js/FitV2Popups-LowCarbonReward_8a976fc8910c35291ef1.js.map