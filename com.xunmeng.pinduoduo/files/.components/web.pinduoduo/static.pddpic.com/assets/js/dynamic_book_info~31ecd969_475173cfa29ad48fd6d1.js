(window.ReadWeJsonp=window.ReadWeJsonp||[]).push([[6],{"6vk5":function(e,a,t){"use strict";t.r(a);var n,c,l=t("JqEv"),o=t("a+Ds"),r=t("Q/z/"),s=t("p5LO"),m=t("1OyB"),i=t("vuIU"),u=t("JX7q"),d=t("Ji7U"),E=t("LK+K"),b=t("rePB"),f=t("q1tI"),N=t.n(f),O=t("TyAF"),_="_3t6DOw5",h=t("jY+O"),p=t("Y9WU"),j=t("d7Jr"),k=t("FpOS"),v=Object(O.observer)(n=function(e){Object(d.default)(Header,e);var a=Object(E.default)(Header);function Header(){return Object(m.default)(this,Header),a.apply(this,arguments)}return Object(i.default)(Header,[{"key":"handleClickHome","value":function handleClickHome(){Object(j.a)(k.c.INFO_GO_BACK),h.b.goBack()}},{"key":"render","value":function render(){return N.a.createElement(s.a,{"className":_},N.a.createElement(p.a,{"onClick":this.handleClickHome}))}}]),Header}(f.Component))||n,g="_3qunKKQ",I="_3DTvvny",T="_25AfYpN",y="_h-MTVhD",R="_34kIP7s",w="_1mpuPOy",C="_EG6Degi",B="_2URfl5v",L="_1ehS3Km",S="__tGW3Qz",W="_2awlyi0",H="_14IYKIu",A="_CK3LU65",D="_18iHui4",F="_3dAGBzU",U="_1g461r3",M="_2Z4iWHe",J="_gIsJq0M",x="_3uJL4nW",G="_3BewSyw",K="_1kEECp7",P="_GI6f3hk",Q="_HGZWCd8",Y="_2-osNLL",X="_3UluoNS",q="_19DQgpP",z="_48LQUFa",V="_27nQjx4",Z="_1hp3SYR",$="_3W389NW",ee="_3MAuwx7",ae="_1RED2DG",te="_PR7wy0f",ne="_6k9dQW9",ce="_UeR6Ozb",le="_2jFgTvv",oe="_2yOnVnF",re="_1lx8bqF",se="_2zwQUH1",me="_22mj_sV",ie="_IHWpv-s",ue="_39qAnRf",de="_1X30pWs",Ee="_XAGJnwL",be="_3gftnWu",fe="_1BBnc0r",Ne="_3XHtc4b",Oe="_3OisX60",_e="_2gh5_Ct",he="_3Q8ypd5",pe="_2EE4ORc",je="_33gWRrh",ke="_2p72sWZ",ve="_1ARyXsm",ge="_36dhOAY",Ie="_jIwDb0n",Te="_3447OzK",ye=t("JwLs"),Re=t("nigR"),we=t("bdvc"),Ce=t("bmJN"),Be=t("SATD"),Le=t("Md8m"),Se=t("TSYQ"),We=t.n(Se),He=t("2vnA"),Ae=t("ofKo"),De=t("vZ4y"),Fe=t("NlLh"),Ue=t("Nq3W"),Me=t("Y/FJ"),Je=t("e5OJ"),xe=t("S7BE"),Ge=t("XB18"),Ke=t("guv2"),Pe=t("/98v"),Qe=t("pArG"),Ye=t("XS0u"),Xe=t("N17M"),qe=t("rgpQ"),ze=Object(Xe.a)({"errorType":qe.a.WHITE_SCREEN_ERROR,"componentName":"BookInfo"})(c=Object(O.observer)(c=function(e){Object(d.default)(BookInfo,e);var a=Object(E.default)(BookInfo);function BookInfo(){var e;Object(m.default)(this,BookInfo);for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return e=a.call.apply(a,[this].concat(n)),Object(b.default)(Object(u.default)(e),"sto",void 0),Object(b.default)(Object(u.default)(e),"disposer",void 0),Object(b.default)(Object(u.default)(e),"state",{"clicked":!1,"bottomLine":!1}),Object(b.default)(Object(u.default)(e),"onMoreContent",(function(){var e=ye.a.bidStr;h.b.gotoReadPage({"bidStr":e})})),Object(b.default)(Object(u.default)(e),"onMoreIntro",(function(){ye.a.set({"showMoreIntro":!0,"moreIntroIcon":!1})})),Object(b.default)(Object(u.default)(e),"computedMoreIntro",(function(){Object(we.B)(100).then((function(){Ce.b.call(Object(u.default)(e),".".concat(z)).then((function(a){return Ce.b.call(Object(u.default)(e),".introText").then((function(e){ye.a.set({"moreIntroIcon":e.height>a.height})}))})).catch((function(e){console.log(e)}))}))})),Object(b.default)(Object(u.default)(e),"gotoRead",(function(){var e=ye.a.bidStr;Object(j.a)(k.c.INFO_GOTO_READ),h.b.gotoReadPage({"bidStr":e})})),Object(b.default)(Object(u.default)(e),"handleChange",(function(){ye.a.refreshRecommendData()})),Object(b.default)(Object(u.default)(e),"handleScroll",(function(a){var t=a.detail.scrollTop,n=e.state.bottomLine;(t>1&&!n||t<1&&n)&&e.setState({"bottomLine":t>1})})),Object(b.default)(Object(u.default)(e),"gotoRank",(function(){var e=ye.a.rankType,a=ye.a.gender;h.b.gotoBookRankPage({"rankType":e,"gender":a})})),Object(b.default)(Object(u.default)(e),"handleListenBook",(function(){var e=ye.a.bidStr;Pe.a.getListenBookData(e)})),Object(b.default)(Object(u.default)(e),"renderTips",(function(){return N.a.createElement(s.a,null,N.a.createElement(s.a,null,"试试听书吧"),N.a.createElement(s.a,null,"随时随地轻松听"))})),e}return Object(i.default)(BookInfo,[{"key":"componentDidMount","value":function componentDidMount(){var e=this;this.disposer=Object(He.autorun)((function(){ye.a.getHomeInfo().then((function(){e.computedMoreIntro()})),ye.a.getUserLikeList()})),Object(j.b)(k.c.INFO_ADD_SHELF),Object(j.b)(k.c.INFO_GO_BACK),Object(j.b)(k.c.INFO_GOTO_READ),Object(Ye.a)(Ge.b)||(ye.a.showTips=!0,Object(Ye.c)(Ge.b,1),this.sto=window.setTimeout((function(){ye.a.showTips=!1}),3e3))}},{"key":"componentWillUnmount","value":function componentWillUnmount(){var e;this.sto&&clearTimeout(this.sto),ye.a.showTips=!1,null===(e=this.disposer)||void 0===e||e.call(this),ye.a.initStore()}},{"key":"render","value":function render(){var e,a,t=ye.a.bookInfo,n=ye.a.moreIntroIcon,c=ye.a.showMoreIntro,m=ye.a.indexVo,i=ye.a.content,u=(ye.a.bidStr,ye.a.userLikeList),d=ye.a.currentRank,E=ye.a.rankTitle,f=ye.a.scrollTop,O=ye.a.recommendPageElSn,_=ye.a.hasTts,h=ye.a.showTips,p=Ke.a.ttsAvailable,j=t||{},k=j.tagVos,Se=void 0===k?[]:k,He=j.coverUrl,Pe=void 0===He?"":He,Ye=j.title,Xe=j.authorName,qe=j.finishStatus,ze=void 0===qe?1:qe,Ve=j.words,Ze=j.reviewScore,$e=void 0===Ze?0:Ze,ea=j.viewCount,aa=void 0===ea?0:ea,ta=j.intro,na=void 0===ta?"":ta,ca=j.friendReadVo,la=void 0===ca?{}:ca,oa=j.source,ra=void 0===oa?Re.f.YUE_WEN:oa,sa=this.state.bottomLine,ma="".concat($e.toFixed(1),"%"),ia=($e/10).toFixed(1),ua=c?{"maxHeight":"100%"}:{"maxHeight":Object(Ce.a)(176)},da=Be.b.isIphoneX,Ea=Je.a.isVip,ba=u.slice(0,Ge.a),fa=u.slice(Ge.a,2*Ge.a),Na={"paddingBottom":da?Object(Ce.a)(188):Object(Ce.a)(120)},Oa=na.split(Me.kb).map((function(e){return e.trim()})),_a=(null==la?void 0:la.readFriendCount)||0;return N.a.createElement(s.a,{"className":g,"style":Na},N.a.createElement(l.a,{"scrollY":!0,"className":I,"onScroll":this.handleScroll,"scrollTop":f},N.a.createElement(Ae.a,{"bottomLine":sa},N.a.createElement(v,null)),N.a.createElement(s.a,{"className":T},N.a.createElement(r.a,{"className":y,"src":Pe}),N.a.createElement(s.a,{"className":R},N.a.createElement(s.a,{"className":w},Ye),N.a.createElement(s.a,{"className":C},Xe),N.a.createElement(s.a,{"className":B},N.a.createElement(s.a,null,Re.c[ze]),N.a.createElement(s.a,{"className":L},"·"),N.a.createElement(s.a,null,Object(we.z)(Number(Ve),0),"字")))),N.a.createElement(s.a,null,N.a.createElement(xe.a,null)),N.a.createElement(s.a,{"className":D},N.a.createElement(s.a,{"className":F},N.a.createElement(s.a,{"className":Q},ia,N.a.createElement(o.a,{"className":Y},"分")),N.a.createElement(s.a,{"className":U},N.a.createElement(s.a,{"className":J}),N.a.createElement(s.a,{"className":M,"style":{"width":ma}}))),N.a.createElement(s.a,{"className":x},N.a.createElement(s.a,{"className":Q},N.a.createElement(o.a,null,Object(we.z)(aa)),N.a.createElement(o.a,{"className":Y},"人")),N.a.createElement(s.a,{"className":X},"正在阅读")),!!d&&N.a.createElement(s.a,{"className":G,"onClick":this.gotoRank},N.a.createElement(s.a,{"className":K},"No. ",d),N.a.createElement(s.a,{"className":P},E))),N.a.createElement(s.a,{"className":A}),N.a.createElement(s.a,{"className":q},"简介"),N.a.createElement(s.a,{"className":S},!!_a&&N.a.createElement(s.a,{"className":We()(H,W)},"好友在读"),Se.map((function(e){return N.a.createElement(s.a,{"key":e.tagId,"className":W},e.tagName)}))),N.a.createElement(s.a,{"className":We()(z,Object(b.default)({},Z,n)),"style":ua,"onClick":this.onMoreIntro},N.a.createElement(s.a,{"className":"introText"},Oa.map((function(e,a){return N.a.createElement(s.a,{"className":V,"key":a},e)}))),n&&N.a.createElement(s.a,{"className":$},N.a.createElement(s.a,{"className":ee},"1"),N.a.createElement(s.a,{"className":ee},"1"),N.a.createElement(s.a,{"className":ee},"1"),N.a.createElement(s.a,{"className":ae},N.a.createElement(s.a,{"className":te},c?"收起":"展开"),N.a.createElement(s.a,{"className":We()((e={},Object(b.default)(e,le,!c),Object(b.default)(e,oe,c),e))})))),N.a.createElement(s.a,{"className":ne}),N.a.createElement(s.a,{"className":re},null!==(a=null==m?void 0:m.chapterTitle)&&void 0!==a?a:""),N.a.createElement(s.a,{"className":se,"onClick":this.onMoreContent},N.a.createElement(s.a,{"className":me},i.map((function(e,a){return N.a.createElement(s.a,{"key":a,"className":ie},e)}))),N.a.createElement(s.a,{"className":ue},N.a.createElement(s.a,{"className":de},N.a.createElement(o.a,null,"继续阅读"),N.a.createElement(s.a,{"className":"".concat(le," ").concat(Ee)})))),N.a.createElement(s.a,{"className":ne}),N.a.createElement(s.a,null,ba.length>0&&N.a.createElement(s.a,{"className":be},N.a.createElement(s.a,{"className":fe},"同类热门书"),N.a.createElement(Ue.a,{"onRefreshBook":this.handleChange}))),N.a.createElement(s.a,{"className":ce},N.a.createElement(Le.a,{"bookList":ba,"trackingElsn":O,"trackPrec":!0,"hideTag":!0,"startIdx":0})),N.a.createElement(s.a,{"className":ce},N.a.createElement(Le.a,{"bookList":fa,"trackingElsn":O,"trackPrec":!0,"hideTag":!0,"startIdx":4})),ra===Re.f.YUE_WEN&&N.a.createElement(s.a,{"className":ge},N.a.createElement(s.a,{"className":Ie}),N.a.createElement(s.a,{"className":Te},"本作品由阅文提供并授权发行"),N.a.createElement(s.a,{"className":Ie})),N.a.createElement(s.a,{"className":Ne},N.a.createElement(s.a,{"className":Oe},_&&p?N.a.createElement(s.a,{"className":_e,"onClick":this.handleListenBook},N.a.createElement(Qe.a,{"arrowCenter":!0,"renderTip":this.renderTips,"placement":"top","show":h},N.a.createElement(s.a,{"className":We()(he)})),N.a.createElement(s.a,{"className":We()(pe)},"听书")):null,Ea?N.a.createElement(De.a,{"className":We()(ke),"type":Fe.b.super,"onClick":this.gotoRead},"会员畅读"):N.a.createElement(De.a,{"className":We()(je),"type":Fe.b.super,"onClick":this.gotoRead},"免费阅读")),da&&N.a.createElement(s.a,{"className":ve}))))}}]),BookInfo}(f.Component))||c)||c;a.default=ze}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-fun-read/js/dynamic_book_info~31ecd969_475173cfa29ad48fd6d1.js.map