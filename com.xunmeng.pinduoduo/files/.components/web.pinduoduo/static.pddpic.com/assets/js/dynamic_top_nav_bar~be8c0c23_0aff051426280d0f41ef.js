(window.ReadWeJsonp=window.ReadWeJsonp||[]).push([[42],{"H6lm":function(e,a,t){"use strict";t.r(a);var n,r,o,c,i,l,u,s=t("p5LO"),d=t("o0o1"),b=t.n(d),h=t("HaE+"),f=t("a3ss"),p=t("1OyB"),_=t("vuIU"),O=t("JX7q"),k=t("Ji7U"),m=t("LK+K"),g=t("rePB"),S=t("Y65e"),j=(t("+JCI"),t("q1tI")),v=t.n(j),C=t("JAw4"),w=t("deMC"),B="_3ksnKxh",N="_1BGgbtx",x="_3F5p_5Y",E="_2BbmBJB",I="_1uu6c7j",T="_r_bXZ1j",M="_DqbpAja",y="_3NFmDs4",R="_1XFR5E-",P="_3q7tou9",A=t("TSYQ"),H=t.n(A),D=t("SATD"),U=t("TyAF"),W=t("4bvG"),G=t("cmhe"),q=t("Y9WU"),J=t("jY+O"),F=t("HIM3"),K=t("k/Ow"),L=t("p4l5"),Y=t("P1DG"),X=t("Wq/A"),z=t("3fu3"),Q=t("9uCs"),V=t("bdvc"),Z=t("2vnA"),$=t("VTBJ"),ee=t("Mo2x"),ae=t("h7Yj"),te=t("vevb"),ne=t("e5OJ"),re=t("nigR"),oe=t("TRXh"),ce=t("6OU5"),ie=K.i.SHARE_UNLOCK_BOOK,le=Object(U.observer)((r=function(e){Object(k.default)(NavShareUnlockIcon,e);var a=Object(m.default)(NavShareUnlockIcon);function NavShareUnlockIcon(){var e;Object(p.default)(this,NavShareUnlockIcon);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=a.call.apply(a,[this].concat(n)),Object(g.default)(Object(O.default)(e),"handleClickShareBook",(function(){Object(V.b)("AMShare","showSharePage",e.getPDDShareCfg()).catch(ce.m)})),Object(g.default)(Object(O.default)(e),"getPDDShareCfg",(function(){var a=w.a.coverUrl,t=w.a.bookName,n=w.a.bidStr,r=Object($.default)(Object($.default)({},ee.b),{},{"refer_share_uid":te.a.userID,"refer_share_uin":te.a.userUIN,"refer_share_book":n}),o=Object(ae.appendQuery)(r,"/read_index.html"),c=F.b.getMissionInfo(ie),i=c.status,l=(c.extMap||{}).unlockCount,u=i===K.g.progressing?[{"text":"分享到拼小圈聊天，可解锁".concat(l||3,"章内容"),"color":"#FFC423"}]:void 0,s=Object($.default)(Object($.default)({},ee.a),{},{"share_url":o,"hint":u,"thumb_url":a,"title":t,"share_callback":e.handleShareCallback,"channel_selection_callback":e.handleShareCallback});return s.pdd_timeline_info.extra.link_url=o,s.pdd_timeline_info.pxq_friends_info.data.link_url=o,s.pdd_timeline_info.pxq_friends_info.data.refer_share_book=n,s.pdd_timeline_info.thumb_url=a,s.pdd_timeline_info.pxq_friends_info.data.thumb_url=a,s.pdd_timeline_info.title=t,s.pdd_timeline_info.pxq_friends_info.data.title=t,s.cipher_window.refer_share_book=n,s})),Object(f.a)(Object(O.default)(e),"handleShareCallback",o,Object(O.default)(e)),e}return Object(_.default)(NavShareUnlockIcon,[{"key":"render","value":function render(){var e=F.b.getMissionInfo(ie),a=e.status,t=(e.extMap||{}).unlockCount;return v.a.createElement(s.a,{"onClick":this.handleClickShareBook,"className":I},a===K.g.progressing?v.a.createElement(s.a,{"className":M},"解锁",t||3,"章"):null,v.a.createElement(G.a,{"className":T,"fontName":"share"}))}}]),NavShareUnlockIcon}(j.Component),o=Object(S.a)(r.prototype,"handleShareCallback",[W.a],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return function(e,a){if(0===e){var t=w.a.bidStr,n=w.a.currentChapter,r=ne.a.isVip,o=n||{},c=o.chapterIdStr,i=o.lockType,l=F.b.getMissionInfo(ie).status;return c&&!r&&l===K.g.progressing?Object(re.L)({"missionType":ie,"extraInfoMap":{"bidStr":t,"chapterIdStr":c}}).then((function(e){var a=e.completeSuccess;F.b.updateMissionFromRemote(ie),a&&w.a.unlockCurrentBook().then((function(){i===re.s.LOCKED&&oe.a.showToast("分享成功，已解锁章节")}))})):void 0}}}}),n=r))||n,ue=t("AKEH"),se=t("vHnQ"),de=t("XS0u"),be=t("ygK2"),he=K.i.CASH_NEWBIE_READ_1_MIN,fe=K.i.CASH_NEWBIE_READ_MULTI_CASH,pe=K.i.CASH_READING_GET_CASH,_e=K.i.CASH_BIG_TOMORROW,Oe=K.g.progressing,ke=K.g.drawable,me=K.g.completed,ge=K.g.drawableTomorrow,Se=(c=Object(W.b)(1500),Object(U.observer)((l=function(e){Object(k.default)(TopNavBar,e);var a=Object(m.default)(TopNavBar);function TopNavBar(){var e;Object(p.default)(this,TopNavBar);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=a.call.apply(a,[this].concat(n)),Object(g.default)(Object(O.default)(e),"handleOpenMoreMenu",(function(){w.a.toggleSettingControl(),Y.a.show()})),Object(f.a)(Object(O.default)(e),"handleClickBackBtn",u,Object(O.default)(e)),Object(g.default)(Object(O.default)(e),"handleCashBack",Object(h.default)(b.a.mark((function _callee(){var a,t,n,r,o,c,i,l,u,s,d,h,f,p,_,O,k,m,g,S,j,v,C;return b.a.wrap((function _callee$(b){for(;;)switch(b.prev=b.next){case 0:if(a=L.a.canShowPop,t=D.b.isBlankUser,a&&!t){b.next=5;break}return e.handleBackTo(),b.abrupt("return");case 5:L.a.disableExitShowPop(),(n=(null===be.b||void 0===be.b?void 0:be.b.getData())||[]).sort((function(e,a){return e.sort()-a.sort()})),r=0;case 9:if(!(r<n.length)){b.next=16;break}if(!n[r].handler()){b.next=13;break}return b.abrupt("return");case 13:r++,b.next=9;break;case 16:if(o=F.b.getMissionInfo(he),c=o.status,i=F.b.getMissionInfo(fe),l=i.maxCount,u=void 0===l?0:l,s=i.finishCount,d=void 0===s?0:s,h=i.status,f=F.b.getMissionInfo(pe),p=f.maxCount,_=void 0===p?0:p,O=f.finishCount,k=void 0===O?0:O,m=f.extMap,g=void 0===m?{}:m,S=F.b.getMissionInfo(_e),j=S.status,v=F.b.isBigCashAccountGray,C=X.a.hasCoupon,c!==Oe){b.next=26;break}return z.a.cashReaderRecommendBookStore.showRecommendPullUp({"exitHome":!1,"showNewbieDetain":!0}),b.abrupt("return");case 26:if(c!==ke&&h!==ke||v){b.next=29;break}return z.a.exitHomeCashDrawPopupStore.open(),b.abrupt("return");case 29:if(!(u>d&&u>0&&h===Oe)){b.next=32;break}return z.a.cashNewbieReadMultiPopupStore.openWithExit(),b.abrupt("return");case 32:if(!C||Q.a.almostExpiredCouponGray){b.next=35;break}return z.a.cashBigCouponExpiredPopupStore.open(),b.abrupt("return");case 35:if(!((!u||h===me)&&_>0&&_>k)){b.next=39;break}return(g||{}).showWechat?z.a.cashReadingWechatRewardPopupStore.openWithExit():z.a.cashReadingRewardPopupStore.openWithExit(),b.abrupt("return");case 39:if(j!==ge){b.next=42;break}return z.a.cashBigTomorrowRewardTipPopupStore.openWithExit(),b.abrupt("return");case 42:e.handleBackTo();case 43:case"end":return b.stop()}}),_callee)})))),Object(g.default)(Object(O.default)(e),"handleBackTo",(function(){J.b.goBack()})),Object(g.default)(Object(O.default)(e),"handleGotoSelfHelpPage",(function(){J.b.gotoSelfHelpPage()})),e}return Object(_.default)(TopNavBar,[{"key":"render","value":function render(){var e=w.a.colorMode,a=w.a.showSettingControl,t=D.b.statusbarHeight,n=D.b.navBarHeight,r=Q.a.feedbackGray,o={"paddingTop":"".concat(t,"px"),"height":"".concat(n,"px")};return v.a.createElement(v.a.Fragment,null,v.a.createElement(s.a,{"className":H()(B,C.b[e],Object(g.default)({},N,!a)),"style":o},v.a.createElement(s.a,{"className":x},v.a.createElement(q.a,{"onClick":this.handleClickBackBtn}),v.a.createElement(s.a,{"className":y},r&&v.a.createElement(s.a,{"className":H()(R,Object(g.default)({},P,this.showShareIcon)),"onClick":this.handleGotoSelfHelpPage}),this.showShareIcon?v.a.createElement(le,null):v.a.createElement(s.a,{"onClick":this.handleOpenMoreMenu,"className":H()(E)},v.a.createElement(G.a,{"className":T,"fontName":"menu"}))))))}},{"key":"showShareIcon","get":function get(){return w.a.source===re.f.YUE_WEN&&Object(V.s)("4.52.0")&&Q.a.shareBookGray&&Q.a.needShowMissionOf(K.f.shareUnlockBook)}}]),TopNavBar}(j.Component),u=Object(S.a)(l.prototype,"handleClickBackBtn",[c],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){var e=this;return function(){var a=D.b.showPageNameList,t=Object(V.i)().fun_id,n=t===re.i.PERSON_TOP_ICON&&!Object(ue.j)(ee.c);a.filter((function(e){return e===D.a.READ})).length>1||n?e.handleBackTo():(t===re.i.PERSON_TOP_ICON&&Object(de.c)(ee.c,se.a.serverTime),e.handleCashBack())}}}),Object(S.a)(l.prototype,"showShareIcon",[Z.computed],Object.getOwnPropertyDescriptor(l.prototype,"showShareIcon"),l.prototype),i=l))||i);a.default=Se}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-fun-read/js/dynamic_top_nav_bar~be8c0c23_0aff051426280d0f41ef.js.map