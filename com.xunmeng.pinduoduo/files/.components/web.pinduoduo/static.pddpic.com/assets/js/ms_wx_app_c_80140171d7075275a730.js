(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[7],{YYoc:function(e,t,r){"use strict";r.r(t);var n=r("cDf5"),a=r.n(n),i=r("lwsE"),o=r.n(i),s=r("W8MJ"),c=r.n(s),u=r("7W2i"),h=r.n(u),f=r("a1gu"),p=r.n(f),l=r("Nsbk"),y=r.n(l),_=r("dKgK"),S=r("a/1V"),m=r("chhR"),E=r("EECB"),P=r("o0o1"),g=r.n(P),d=r("yXPU"),v=r.n(d),A=r("YSLc"),O=r("W9H9"),w=r("gfNA"),R=r("bbLm");function C(e){return function(){var t,r=y()(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=y()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return p()(this,t)}}var b=function(e){h()(r,e);var t=C(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).wxAppRequestPayload=e.wxAppRequestPayload,n.miniObjectPath=e.miniObjectPath,n.shortCommandApi=e.shortCommandApi,n.wxAppNavigatePayload=e.wxAppNavigatePayload,n}return c()(r,[{key:"normalize",value:function(){var e=v()(g.a.mark(function e(t){var r,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==S.a.COPY_CIPHER){e.next=2;break}return e.abrupt("return",this.processCipher());case 2:if(r=Object.assign({},this),(n=r.miniObjectPath)&&"string"==typeof n)n=Object(R.a)(r);else if("function"==typeof n)try{"string"!=typeof(n=n(r.shareURL))&&(n=null)}catch(e){}return e.abrupt("return",Promise.resolve(Object.assign({},r.wxAppNavigatePayload,{title:r.title,thumbnail:r.thumbnailURL,share_url:n||Object(R.c)(r.shareURL)})));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getShareForm",value:function(e){return e===S.a.COPY_CIPHER?O.a.COMMAND:O.a.WXAPP_CARD}},{key:"getShareMethod",value:function(e){return e===S.a.COPY_CIPHER?A.a.MANUAL:A.a.SDK}}]),r}(w.a),D=r("/bZk"),T=r("uf4C"),N=r("mj+i");function x(e){return function(){var t,r=y()(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=y()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return p()(this,t)}}var H=D.b.ShareErrorCode,j=[S.a.WECHAT_SESSION,S.a.COPY_CIPHER],L=function(e){h()(r,e);var t=x(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).ShareEntityClass=b,n._enableShareTypes=j.concat(),n}return c()(r,[{key:"share",value:function(e){return this._enableShareTypes.indexOf(e)<0?H.SHARE_TYPE_DISABLED:S.a.COPY_CIPHER===e?this.copyCipher():this.getShareEntityByShareType(e)?this._shareByNavigate():H.SHARE_PARAMS_NOT_VALID}},{key:"_shareByNavigate",value:function(){var e=this;if(!window.wx||!window.wx.miniProgram||"function"!=typeof window.wx.miniProgram.navigateTo)return H.SHARE_NOT_SUPPORTED;var t=S.a.WECHAT_SESSION,r=this.getShareEntityByShareType(t);return this.emit(m.a.ON_SHARE_TRIGGER,{shareType:t}),r.normalize(t).then(function(r){window.wx.miniProgram.navigateTo({url:"".concat("/pages/web_share/web_share?").concat(Object(N.b)(Object.assign({page_sn:Object(T.f)()+"",page_name:Object(T.e)(),page_id:Object(T.d)()},r)))}),e.emit(m.a.ON_SHARE_COMPLETED,{shareType:t,shareResultType:E.a.SUCCESS})},this.getNormalizeErrorHandler(t)),0}},{key:"refreshWxAppChannelShare",value:function(e){return this._setupPlatformShareSDK()}},{key:"notifyWxAppShareComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.a.SUCCESS;this.emit(m.a.ON_SHARE_COMPLETED,{shareType:e,shareResultType:t}),this.refreshWxAppChannelShare(e)}},{key:"_setupPlatformShareSDK",value:function(){var e=this;return"object"!==("undefined"==typeof wx?"undefined":a()(wx))||"object"!==a()(window.wx.miniProgram)||"function"!=typeof window.wx.miniProgram.postMessage?(this.emit(m.a.SDK_INIT_FAILED),Promise.resolve()):Promise.all([S.a.WECHAT_SESSION].map(function(t){var r=e.getShareEntityByShareType(t);return r?(e.emit(m.a.ON_SHARE_PREPARE,{shareType:t}),r.normalize(t).then(function(e){try{window.wx.miniProgram.postMessage({data:{message_type:"share",share_info:e,page_info:{page_sn:Object(T.f)()+"",page_name:Object(T.e)(),page_id:Object(T.d)()}}})}catch(e){}},e.getNormalizeErrorHandler(t))):Promise.resolve()}))}}]),r}(_.a);t.default=L}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-expert/js/ms_wx_app_c_80140171d7075275a730.js.map