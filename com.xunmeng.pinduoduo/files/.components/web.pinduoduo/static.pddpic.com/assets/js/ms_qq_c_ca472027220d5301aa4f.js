(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"gouW":function(e,a,r){"use strict";r.r(a);var t,n,i=r("1OyB"),h=r("vuIU"),s=r("Ji7U"),u=r("LK+K"),S=r("rePB"),l=r("dKgK"),o=r("a/1V"),c=r("chhR"),E=r("EECB"),_=r("YSLc"),y=r("W9H9"),m=r("gfNA"),T=r("Upw4"),O=r("Ne86"),b=function(e){Object(s.a)(QQShareEntity,e);var a=Object(u.a)(QQShareEntity);function QQShareEntity(){return Object(i.a)(this,QQShareEntity),a.apply(this,arguments)}return Object(h.a)(QQShareEntity,[{"key":"normalize","value":function normalize(e){var a=this;return new Promise((function(r,t){var n=Object.assign({},a);Object(T.a)(e)?(a.targetShareURL=Object(O.b)(e,n.shareURL),a.realShareURL=a.targetShareURL,r({"title":n.title,"desc":n.message,"share_url":a.realShareURL,"image_url":n.thumbnailURL,"back":!0})):r({"title":n.title,"desc":n.message,"share_url":n.shareURL,"image_url":n.thumbnailURL,"back":!0})}))}},{"key":"getShareForm","value":function getShareForm(e){return y.a.CARD}},{"key":"getShareMethod","value":function getShareMethod(e){return _.a.SDK}}]),QQShareEntity}(m.a),p=r("/bZk").b.ShareErrorCode,f=[o.a.QQ_CHAT_SESSION,o.a.QQ_ZONE,o.a.WECHAT_SESSION,o.a.WECHAT_TIMELINE],d=(t={},Object(S.a)(t,o.a.QQ_CHAT_SESSION,0),Object(S.a)(t,o.a.QQ_ZONE,1),Object(S.a)(t,o.a.WECHAT_SESSION,2),Object(S.a)(t,o.a.WECHAT_TIMELINE,3),t),Q=(n={},Object(S.a)(n,o.a.QQ_CHAT_SESSION,"menuItem:share:qq"),Object(S.a)(n,o.a.QQ_ZONE,"menuItem:share:QZone"),Object(S.a)(n,o.a.WECHAT_SESSION,"menuItem:share:appMessage"),Object(S.a)(n,o.a.WECHAT_TIMELINE,"menuItem:share:timeline"),n),v=function(e){Object(s.a)(QQShareController,e);var a=Object(u.a)(QQShareController);function QQShareController(e){var r;return Object(i.a)(this,QQShareController),(r=a.call(this,e)).ShareEntityClass=b,r._enableShareTypes=f.concat(),r}return Object(h.a)(QQShareController,[{"key":"share","value":function share(e){var a=this;if(this._enableShareTypes.indexOf(e)<0)return p.SHARE_TYPE_DISABLED;if("undefined"==typeof mqq||void 0===window.mqq.ui)return p.SHARE_NOT_SUPPORTED;var r=this.getShareEntityByShareType(e);return this.emit(c.a.ON_SHARE_TRIGGER,{"shareType":e}),r.normalize(e).then((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.share_type=d[e],window.mqq.ui.shareMessage(r,a.createShareCallback(e))}),this.getNormalizeErrorHandler(e)),0}},{"key":"_adjustMenu","value":function _adjustMenu(){var e=this,a=f.filter((function(a){return e._enableShareTypes.indexOf(a)<0})).map((function(e){return Q[e]}));window.mqq&&window.mqq.hideMenuItems({"menuList":a})}},{"key":"createShareCallback","value":function createShareCallback(e){var a=this;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=parseInt(r.retCode,10);switch(t){case 0:a.emit(c.a.ON_SHARE_COMPLETED,{"shareType":e,"shareResultType":E.a.SUCCESS});break;case 1:case-2:a.emit(c.a.ON_SHARE_COMPLETED,{"shareType":e,"shareResultType":E.a.CANCEL});break;default:a.emit(c.a.ON_SHARE_COMPLETED,{"shareType":e,"shareResultType":E.a.FAIL})}}}},{"key":"_setupShareTypes","value":function _setupShareTypes(){var e=this,a=this._enableShareTypes.length;return this._enableShareTypes=f.filter((function(a){return(e.disableShareTypes||[]).indexOf(a)<0})),a===this._enableShareTypes.length}},{"key":"_setupPlatformShareSDK","value":function _setupPlatformShareSDK(){var e=this;return"undefined"==typeof mqq||void 0===window.mqq.ui?(this.emit(c.a.SDK_INIT_FAILED),Promise.resolve()):(window.mqq.ui.setOnShareHandler((function(a){var r=f[parseInt(a,10)],t=e.getShareEntityByShareType(r);t&&(e.emit(c.a.ON_SHARE_TRIGGER,{"shareType":r}),t.normalize(r).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.share_type=a,window.mqq.ui.shareMessage(t,e.createShareCallback(r))}),e.getNormalizeErrorHandler(r)))})),Promise.resolve())}},{"key":"checkShareTypeEnable","value":function checkShareTypeEnable(e){return this._enableShareTypes.indexOf(e)<0?p.SHARE_TYPE_DISABLED:0}}]),QQShareController}(l.a);v.SUPPORTED_SHARE_TYPE=f;a.default=v}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-farm/js/ms_qq_c_ca472027220d5301aa4f.js.map