!function(){var e,t,n,r,o,i,a,c={41435:function(e,t,n){"use strict";n(96253),n(40851);var r=n(45063),o=function(e){return(0,r.D4)(e)},i=n(67376),a=(n(82139),n(68309)),c=n(69348),s=n(45558),l=n(91074),u=n(11269),d=n(87401),p=n(70798),f=n(77153),m=n(8224),v=n(61824),g=n(56406),h=n(25118),y=n(37883),b=n.n(y),_=n(22691),w=n(86056),E=n(18482),O=(n(27476),n(95767),n(98837),n(94882),n(98351),n(42202)),x=n(41501),T=n(43644),P=n(74711);var N,S=(N=window.navigator.userAgent,(0,P.Xf)(N));S.system,O.we.IOS,"undefined"!=typeof window&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(){var e={1:1,2:.5,4:.25,5:.2,10:.1},t=1;if(window.__CMT_AMPLIFY_RATE__){var n=window.__CMT_AMPLIFY_RATE__;e[n]&&(t=e[n])}return Math.random()>t},j=function(){var e=(0,h.Z)(b().mark((function e(){var t,n,r,o,i,a,c,s,l,u,d,p=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:{},!(0,O.BF)()){e.next=3;break}return e.abrupt("return");case 3:if(null!=t&&t.skipSampleRate||!D()){e.next=5;break}return e.abrupt("return");case 5:if(n="10200",r=t.type,o=t.tags,i=t.fields,a=t.longFields,c=t.needAwait,s=void 0===c||c,l=S.system,u=S.systemVersion,!s){e.next=11;break}return e.next=11,new Promise((function(e){var t=5e3*Math.random();setTimeout((function(){e()}),t)}));case 11:return e.next=13,(0,T.sq)();case 13:d=e.sent,console.log("uid",d),console.log("cmtvlog Start"),(0,x.Z)({commonTags:{groupId:n},mutipleKvList:[{tags:I({type:r,groupId:n,system:l,systemVersion:u,platform:S.platform},o),fields:I({userId:d},i||{}),longFields:a||{}}]}),console.log("cmtvlog Over");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=n(52171),Z=n(63320);function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=(0,d.useRef)(t);r.current=t,(0,d.useEffect)((function(){var t=(0,Z.rB)(e,(function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];null===(e=r.current)||void 0===e||e.call.apply(e,[r].concat(n))}));return function(){t.then((function(e){null==e||e()}))}}),(0,C.Z)(n))}var L=function(){return d.useContext(p.yX)};function G(e){var t=(0,d.useRef)(!1);return(0,d.useCallback)((0,h.Z)(b().mark((function n(){var r,o=arguments;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.current){n.next=2;break}return n.abrupt("return");case 2:return t.current=!0,n.prev=3,n.next=6,e.apply(void 0,o);case 6:return r=n.sent,t.current=!1,n.abrupt("return",r);case 11:throw n.prev=11,n.t0=n.catch(3),t.current=!1,n.t0;case 15:case"end":return n.stop()}}),n,null,[[3,11]])}))),[e])}var F=n(36102),A=n.n(F),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var n=e();return null==n?t:n}catch(e){return t}},z=(n(60690),A()(p.Pi)((function(){var e=L().store,t=e.needRefreshIndex,n=e.goodsList,r=e.shopUrl,o=e.updatePageLoading,i=e.reloadPage,a=e.querySingleGoods,c=(0,d.useRef)();return R("LiveRoomCheckedNotification",(function(e){console.log("LiveRoomCheckedNotification",e),j({needAwait:!1,type:"oppo_slide",fields:{loggerParams:B((function(){return JSON.stringify(e)}),{})}}),o(!0),c.current&&(clearTimeout(c.current),c.current=null),c.current=setTimeout((function(){i(e)}),800)})),R("onPageShow",(0,h.Z)(b().mark((function e(){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return");case 2:if(r=n[t]){e.next=5;break}return e.abrupt("return");case 5:return console.log("onPageShow.goods",r),e.next=8,a(t);case 8:case"end":return e.stop()}}),e)}))),[t]),(0,d.useEffect)((function(){return function(){c.current&&clearTimeout(c.current)}}),[]),(0,d.useEffect)((function(){S.isNativePlatform&&(r?(0,_.WJ)({buttons:[{type:1,size:16,text:"进店",callback:function(){w.ZP.uniformForward(r)}}]}):(0,_.WJ)({buttons:[{type:1,size:0,text:"",callback:function(){}}]}))}),[r]),null}))),W=(n(19371),n(94184)),M=n.n(W),q=n(15913),H=n.n(q);function U(e){var t=e.show,n=e.style;return t?d.createElement("div",{className:H().root,style:n},d.createElement("span",{className:H().icon}),d.createElement("span",{className:H().text},"正在加载中...")):null}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e){var t=e.show,n=e.text,r=e.style;return t?d.createElement("div",{style:K({lineHeight:1,fontWeight:400,width:"100%",fontSize:"0.14rem",textAlign:"center",color:"#666",padding:"0.2rem 0"},r)},n||"没有更多了..."):null}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e){var t=e.rootMargin,n=e.onIntersecting,r=e.threshold,o=e.root,i=e.style,a=(0,d.useRef)(null);return(0,d.useEffect)((function(){var e=new IntersectionObserver((function(e){n&&e.length&&e.forEach((function(t){t.isIntersecting&&n(e[0])}))}),{root:o,rootMargin:t,threshold:r});return e.observe(a.current),function(){return e.disconnect()}}),[n,o,t,r]),d.createElement("div",{ref:a,style:Y({height:1},i)})}U.defaultProps={style:null},Q.defaultProps={text:"没有更多了...",style:null},J.defaultProps={rootMargin:"600px"};var $=(0,d.forwardRef)((function(e,t){var n=e.loadMore,r=e.hasMore,o=e.initialLoading,i=e.showInitialLoading,a=e.loading,c=e.children,s=e.className,l=e.style,u=e.renderEnd,p=e.renderLoading,f=e.dataLength,m=e.rootMargin,v=o?i:a,g=null;g=p?!!v&&p():d.createElement(U,{show:v});var h=!r&&!a,y=null;return y=u?h&&u():d.createElement(Q,{show:h}),d.createElement("section",{className:s,style:l,ref:t},c,g,y,r&&!a&&!o&&d.createElement(J,{key:f,onIntersecting:n,rootMargin:m}))}));$.defaultProps={showInitialLoading:!0,style:null,className:"",dataLength:0,renderEnd:null,renderLoading:null};var ee=n(344),te=n(95813),ne=(n(51876),n(37548)),re=n(3009),oe=n(31658),ie=["processParam","resizeWidth","quality","lazy","trimUrlQuery","src"];function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e){var t,n=e.processParam,r=e.resizeWidth,o=e.quality,i=e.lazy,a=void 0!==i&&i,c=e.trimUrlQuery,s=void 0!==c&&c,l=e.src,u=(0,te.Z)(e,ie),p=(0,d.useContext)(re.Z),f=(0,d.useContext)(oe.Z),m=null==f||null===(t=f.platform)||void 0===t?void 0:t.system,v=!!m&&m!==O.we.IOS,g=l||"";return s&&(g=g.split("?")[0]),d.createElement(ne.Z,(0,ee.Z)({processParam:ce({webpEnable:p,enableGifToWebp:v,resizeWidth:r,quality:o},n),lazy:a,src:g},u))}var le=n(14908),ue=n.n(le),de=function(e){var t=e.children;return d.createElement("div",{className:ue().container},t)},pe=(0,d.memo)(de),fe=n(94499),me=n.n(fe);var ve=function(e){var t,n=e.descTag,r=(t=n.color,"rgba("+parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+","+parseInt(t.substring(5,7),16)+",0.08)");return d.createElement("div",{className:me().wrapper,style:{backgroundColor:r}},d.createElement("div",{className:me().inner,style:{color:n.color,backgroundColor:r}},n.text))},ge=(0,d.memo)(ve),he=n(23877);n(50110),n(41784);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=1e3,we=36e5,Ee=864e5;function Oe(e){return String(e).padStart(2,"0")}var xe,Te,Pe,Ne,Se,ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=t-n,a=0;a=r||(o?i-e:e-i);var c=(a=Math.max(0,a))%_e,s=Math.floor(a/_e)%60,l=Math.floor(a/6e4)%60,u=Math.floor(a/we)%24,d=Math.floor(a/Ee),p={millisecond:c,second:s,minute:l,hour:u,day:d};return Object.keys(p).forEach((function(e){p[e]=Oe(p[e])})),be({leftTs:a},p)};function Ie(e){var t=e.endTime,n=e.diff,r=e.children,o=e.onEnd,i=e.interval,a=(0,d.useState)((function(){return ke(t,Date.now(),n)})),c=(0,he.Z)(a,2),s=c[0],l=c[1];return function(e){var t=e.endTime,n=void 0===t?0:t,r=e.onUpdate,o=e.onEnd,i=e.diff,a=void 0===i?0:i,c=e.interval,s=void 0===c?500:c,l=(0,d.useRef)({onEnd:o,onUpdate:r}).current;l.onEnd=o,l.onUpdate=r,(0,d.useEffect)((function(){var e=setInterval((function(){var t,r,o=ke(n,Date.now(),a);null===(t=l.onUpdate)||void 0===t||t.call(l,o),o.leftTs<=0&&(null===(r=l.onEnd)||void 0===r||r.call(l),clearInterval(e))}),s);return function(){clearInterval(e)}}),[n,l,a])}({endTime:t,onUpdate:l,onEnd:o,diff:n,interval:i}),r(s)}!function(e){e[e.Goods=0]="Goods",e[e.ShopFollowingCoupon=1]="ShopFollowingCoupon",e[e.GoodsFollowingCoupon=2]="GoodsFollowingCoupon",e[e.ScrollCoupon=3]="ScrollCoupon",e[e.SaleGoods=4]="SaleGoods",e[e.AuctionGoods=5]="AuctionGoods"}(xe||(xe={})),function(e){e[e.ShopFollowing=3]="ShopFollowing",e[e.GoodsFollowing=4]="GoodsFollowing"}(Te||(Te={})),function(e){e[e.Normal=0]="Normal",e[e.SpikeOld=1]="SpikeOld",e[e.SpikeNew=3]="SpikeNew",e[e.Auction=4]="Auction"}(Pe||(Pe={})),function(e){e[e.HasNotReceived=1]="HasNotReceived",e[e.HasReceived=2]="HasReceived"}(Ne||(Ne={})),function(e){e[e.NotStart=1]="NotStart",e[e.Doing=2]="Doing",e[e.Done=3]="Done"}(Se||(Se={}));var De={native_url:"",live_room_high_layer_id:"",high_layer_id:"",shop_url:"",show_id:"",room_id:"",mall_id:""},je=n(30134),Ce=n.n(je),Ze=function(e){var t=1e3*((null==e?void 0:e.couponEndTimeSeconds)||0);return!!t&&t>Date.now()},Re=function(e){var t,n=e.goods,r=Ze(n),o=(0,d.useState)((function(){return r})),i=(0,he.Z)(o,2),a=i[0],c=i[1],s=(null==n?void 0:n.couponStatus)===Ne.HasReceived,l="".concat(100-n.consumedPer,"%"),u=function(){c(!1)};(0,d.useEffect)((function(){c(Ze(n))}),[n]);return d.createElement("div",{className:Ce().coupon},d.createElement("div",{className:M()(Ce().couponText,(t={},(0,E.Z)(t,Ce().hasReceviedCouponBg,s),(0,E.Z)(t,Ce().hasNotReceviedCouponBg,!s),t))},n.couponHit),r?d.createElement(d.Fragment,null,a?d.createElement("div",{className:Ce().timerWrapper},d.createElement(Ie,{endTime:1e3*n.couponEndTimeSeconds,interval:10,onEnd:u},(function(e){var t=e.millisecond>100?e.millisecond.slice(0,1):0;return d.createElement(d.Fragment,null,d.createElement("div",{className:Ce().timerText},e.hour,":",e.minute,":",e.second,":",t),"后失效")}))):null):d.createElement("div",{className:Ce().couponProgressWrapper},d.createElement("div",{className:Ce().couponProgressInner},d.createElement("div",{className:Ce().couponProgressBar,style:{width:l}})),d.createElement("div",{className:Ce().text},"已领",100-(null==n?void 0:n.consumedPer),"%")))},Le=(0,d.memo)(Re),Ge=n(76856),Fe=function(e){return"number"==typeof e?"".concat((e/100).toFixed(2),"rem"):e},Ae=(n(62850),n(62773),n(24649)),Be=n(23493),ze=n.n(Be),We=n(92263),Me=ze()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.querySelector(".pin-toast-container");n&&(n.style.top=t?"80%":""),(0,We.Z)(e)}),3e3),qe=Me;function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve=function(e,t){var n=(0,Ae.FU)(location.href),r=n.live_room_high_layer_id,o=void 0===r?"":r,i=n.high_layer_id,a=void 0===i?"":i;(0,Z.lW)(e,Ue({live_room_high_layer_id:o,high_layer_id:a},t))},Ke=function(){w.ZP.back()},Qe=function(e,t){return{cellType:e,data:t}},Xe=function(e){return Array.isArray(e)?e.map((function(e){return null!=(t=e)&&t.bargainSale&&1e3*(null==t||null===(n=t.bargainSale)||void 0===n?void 0:n.endTsInSeconds)>Date.now()?Qe(xe.SaleGoods,t):t.type===Pe.Auction?Qe(xe.AuctionGoods,t):Qe(xe.Goods,t);var t,n})):[]},Ye=function(e){return function(e){if(1===e.length){var t=e[0];if(t.templateType===Te.ShopFollowing)return Qe(xe.ShopFollowingCoupon,t.data);if(t.templateType===Te.GoodsFollowing)return Qe(xe.GoodsFollowingCoupon,t.data)}if(e.length>1){var n=e.map((function(e){return Ue(Ue({},e.data),{},{templateType:e.templateType})}));return Qe(xe.ScrollCoupon,n)}return null}(null==e?void 0:e.filter((function(e){return function(e){var t,n;return((null==e?void 0:e.templateType)!==Te.ShopFollowing||0!==(null==e||null===(t=e.data)||void 0===t?void 0:t.canTakenCount)||0!==(null==e||null===(n=e.data)||void 0===n?void 0:n.usableCount))&&!![Te.ShopFollowing,Te.GoodsFollowing].includes(null==e?void 0:e.templateType)}(e)})))},Je=function(e){return[Pe.SpikeOld,Pe.SpikeNew].includes(e.type)},$e=function(){qe("该商品已售罄，看看其他好货吧")},et=function(e,t){var n=function(e,t){var n=(0,Ae.FU)(t);return Object.keys(n).forEach((function(e){0!==e.indexOf("_oc_")&&delete n[e]})),(0,Ae.ru)(n,e)}((0,Ae.ru)({goods_id:e.goodsId,sku_id:t.skuId,group_id:t.groupId,source_channel:t.sourceChannel,goods_number:0},"order_checkout.html"),e.goodsLink);null!=t&&t.hitSpriteGoodsBlackList?qe((null==t?void 0:t.hitSpriteGoodsBlackListToast)||"服务异常，请稍后再试"):w.ZP.uniformForward(n)},tt=function(e){return Object.keys(e).reduce((function(t,n){return 0===n.indexOf("_live_")||0===n.indexOf("_oc_")?Ue(Ue({},t),{},(0,E.Z)({},n,e[n])):t}),{})},nt=function(e){return Object.keys(e).reduce((function(t,n){return 0===n.indexOf("_ops")?Ue(Ue({},t),{},(0,E.Z)({},n,e[n])):t}),{})},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.length>=8?12:e.length>=7?14:e.length>=6?16:18;return Fe(t)},ot=n(17603),it=n.n(ot),at=function(e){var t=e.goods,n=e.onClick,r=(t.couponHit||"").length?t.couponStatus===Ne.HasReceived?"用券拼单":"领券拼单":"立即拼单";return d.createElement("div",{className:it().button,onClick:function(e){e.preventDefault(),e.stopPropagation(),null==n||n()}},r)},ct=(0,d.memo)(at),st=n(30675),lt=n.n(st),ut=function(e){var t=e.goods,n=e.onClick,r=((null==t?void 0:t.priceTag)||[]).length>=2,o=(0,Ge.bd)(t.price),i=rt(o);return d.createElement("div",{className:lt().goodsPriceInfo},d.createElement("div",{className:lt().content},d.createElement("div",{className:lt().priceInfo},r?d.createElement(d.Fragment,null,t.priceTag.map((function(e,t){return d.createElement("div",{className:lt().priceTagText,key:t,style:{fontSize:Fe(e.fontSize),color:e.fontColor,fontWeight:e.bold?"bold":"normal"}},e.text)}))):d.createElement("div",{className:lt().money,style:{fontSize:i}},o),d.createElement("div",{className:lt().salesTip},t.salesTip)),!t.soldOut&&d.createElement("div",{className:lt().btn},d.createElement(ct,{goods:t,onClick:function(e){null==n||n()}}))))},dt=(0,d.memo)(ut),pt=n(71770),ft=n.n(pt),mt=function(e){var t,n,r=e.goods,o="".concat(r.order),i=null==r||null===(t=r.goodsExtraInfoVO)||void 0===t?void 0:t.urlGoodsText;return d.createElement("div",{className:ft().tagWrapper},i?d.createElement("div",{className:ft().tagInner1},null==r||null===(n=r.goodsExtraInfoVO)||void 0===n?void 0:n.urlGoodsText):d.createElement("div",{className:ft().tagInner2},o))},vt=(0,d.memo)(mt),gt=n(65575),ht=n.n(gt),yt=function(e){var t=e.goods,n=e.containerStyle,r=void 0===n?{}:n;return d.createElement("div",{className:ht().imageWrapper,style:r},d.createElement(se,{className:ht().goodsImage,src:t.image,resizeWidth:330}),Je(t)?d.createElement(se,{className:ht().spikeTag,src:"https://pinduoduoimg.yangkeduo.com/app/lego/2020-04-29/e1e97ad8-0803-482b-a7bc-dcc152159357.png"}):t.type===Pe.Auction?d.createElement(se,{className:ht().auctionTag,src:"https://funimg.pddpic.com/app/lego/2020-10-13/b9e91f6d-e7c2-4a68-8b58-681116f4acb0.png.slim.png"}):d.createElement(vt,{goods:t}),t.showPromotingTag&&d.createElement("div",{className:ht().promotingTag},"讲解中"))},bt=(0,d.memo)(yt),_t=n(62103),wt=n.n(_t),Et=function(e){var t,n,r,o=e.goods,i=e.index,a=e.gotoGoodsDetail,c=e.updateNeedRefreshIndex,s=function(){c(i),null==a||a(o)},l=o.couponHit&&!o.soldOut,u=Fe(15*((null===(t=o.goodsTitleTag)||void 0===t?void 0:t.width)||0)/((null===(n=o.goodsTitleTag)||void 0===n?void 0:n.height)||1)),p=o.showPromotingTag?Fe(110):Fe(126),f={width:o.showPromotingTag?Fe(94):Fe(110),height:o.showPromotingTag?Fe(94):Fe(110)};return d.createElement(pe,null,d.createElement("div",{className:wt().container,style:{height:p},onClick:s},d.createElement(bt,{goods:o,containerStyle:f}),d.createElement("div",{className:wt().goodsInfo},d.createElement("div",{className:wt().goodsNameWrapper},(null===(r=o.goodsTitleTag)||void 0===r?void 0:r.url)&&d.createElement(se,{style:{width:u},src:o.goodsTitleTag.url}),o.title),o.desc&&d.createElement("div",{className:wt().goodsDesc},o.desc),function(e){return!e.desc&&((null==e||null===(t=e.goodsDescTags)||void 0===t?void 0:t.length)||0)>0;var t}(o)&&d.createElement("div",{className:wt().goodsTagList},o.goodsDescTags.map((function(e,t){return d.createElement(ge,{key:t,descTag:e})}))),l&&d.createElement(Le,{goods:o}),d.createElement(dt,{goods:o,onClick:s}),o.soldOut&&d.createElement("div",{className:wt().soldOutTag}))))},Ot=(0,d.memo)(Et),xt=n(50332),Tt=n.n(xt);function Pt(e){var t=Math.abs(Date.now()-e.serverTime)<5e3?Date.now():e.serverTime;return e.status===Se.Done||t>=e.endTime}var Nt=function(e){var t,n,r,o=e.goods,i=15*((null===(t=o.goodsTitleTag)||void 0===t?void 0:t.width)||0)/((null===(n=o.goodsTitleTag)||void 0===n?void 0:n.height)||1),a=(0,Ge.bd)(o.liveAuction.priceNow),c=rt(a),s={width:o.showPromotingTag?Fe(104):Fe(110),height:o.showPromotingTag?Fe(104):Fe(110)};return d.createElement(pe,null,d.createElement("div",{className:Tt().container,onClick:Ke},d.createElement(bt,{goods:o,containerStyle:s}),d.createElement("div",{className:Tt().goodsInfo},d.createElement("div",{className:Tt().goodsNameWrapper},o.goodsTitleTag&&d.createElement(Emage,{style:{width:i},src:null===(r=o.goodsTitleTag)||void 0===r?void 0:r.url}),d.createElement("div",{className:Tt().goodsName},o.title)),d.createElement("div",{className:Tt().statusTextWrapper},d.createElement("div",{className:Tt().statusText},o.liveAuction.statusText)),d.createElement("div",{className:Tt().priceInfoWrapper},d.createElement("div",{className:Tt().priceInfo},Pt(o.liveAuction)?"成交价":"当前价",d.createElement("div",{style:{fontSize:c}},a)),d.createElement("div",{className:Tt().button,style:{backgroundColor:Pt(o.liveAuction)?"#FBE0DE":"#E02E24"},onClick:Ke},"我要出价")))))},St=(0,d.memo)(Nt),kt=n(93371),It=n.n(kt),Dt=function(e){var t=e.goods,n=100*(1-t.bargainSale.remainQuantity/t.bargainSale.totalQuantity);return d.createElement("div",{className:It().progressWrapper},d.createElement("div",{className:It().timerWrapper},d.createElement(Ie,{endTime:1e3*t.bargainSale.endTsInSeconds,interval:10},(function(e){var t=e.millisecond>100?e.millisecond.slice(0,1):0;return d.createElement(d.Fragment,null,d.createElement("div",{className:It().timerText},e.hour,":",e.minute,":",e.second,":",t),"后结束")}))),d.createElement("div",{className:It().progress,style:{width:"1.2rem"}},d.createElement("div",{className:It().bar,style:{width:n}}),d.createElement("div",{className:It().text},t.bargainSale.progressTip)))},jt=(0,d.memo)(Dt),Ct=n(55842),Zt=n.n(Ct),Rt=function(e){var t=e.goods,n=e.onClick,r=t.priceTag.length>=2,o=t.buyButtonText||"马上抢";return d.createElement(d.Fragment,null,d.createElement("div",{className:Zt().goodsPriceInfo},r?d.createElement("div",{className:Zt().priceTagList},t.priceTag.map((function(e,t){return d.createElement("div",{className:Zt().tag,style:{fontSize:e.fontSize,color:e.fontColor,fontWeight:e.bold?"bold":"normal"}},e.text)}))):d.createElement("div",{className:Zt().priceTagList},d.createElement("div",{className:Zt().singleTagPrefix},"甩卖价"),d.createElement("div",{className:Zt().singleTagValue},t.price/100))),d.createElement("div",{className:Zt().saleTips},"活动结束后恢复￥",t.bargainSale.originPriceStr),d.createElement("div",{className:Zt().button,onClick:function(e){e.stopPropagation(),e.preventDefault(),null==n||n()}},o))},Lt=(0,d.memo)(Rt),Gt=n(36257),Ft=n.n(Gt),At=function(e){var t,n=e.goods,r=e.index,o=e.gotoGoodsDetail,i=e.updateNeedRefreshIndex,a=function(){i(r),null==o||o(n)},c={width:n.showPromotingTag?Fe(104):Fe(110),height:n.showPromotingTag?Fe(104):Fe(110)};return d.createElement(pe,null,d.createElement("div",{className:Ft().container,onClick:a},d.createElement(bt,{goods:n,containerStyle:c}),d.createElement("div",{className:Ft().goodsInfo},d.createElement("div",{className:Ft().goodsNameWrapper},(null===(t=n.goodsTitleTag)||void 0===t?void 0:t.url)&&d.createElement(se,{style:{width:"0.42rem"},src:n.goodsTitleTag.url}),d.createElement("div",{className:Ft().goodsName},n.title)),d.createElement(jt,{goods:n}),d.createElement(Lt,{goods:n,onClick:a}))))},Bt=(0,d.memo)(At),zt=n(40576),Wt=n.n(zt),Mt=A()(p.Pi)((function(){var e=L().store,t=e.goodsList,n=e.gray,r=e.coupons,o=e.hasMore,i=e.isLoading,a=e.loadMore,c=e.gotoGoodsDetail,s=e.updateNeedRefreshIndex,l=(0,d.useCallback)((function(){a(!1)}),[]);return d.createElement(d.Fragment,null,d.createElement("div",{className:M()(Wt().listContainer,(0,E.Z)({},Wt().listV2,!r))},d.createElement($,{hasMore:o,loading:i,loadMore:l},t.map((function(e,t){e.cellType;var r=e.data,o={index:t,gray:n,key:t,goods:r,gotoGoodsDetail:c,updateNeedRefreshIndex:s};return e.cellType===xe.Goods?d.createElement(Ot,o):e.cellType===xe.AuctionGoods?d.createElement(St,o):e.cellType===xe.SaleGoods?d.createElement(Bt,o):null})))))})),qt=n(22961),Ht=n.n(qt),Ut=function(e){var t=e.money;return d.createElement("div",{className:Ht().container},d.createElement(se,{className:Ht().bgImg,src:"http://funimg.pddpic.com/app/lego/2020-06-10/431ec83d-c5ac-4871-aa93-da82565fa27b.png"}),d.createElement("div",{className:Ht().money},t),d.createElement("div",{className:Ht().moneyText},"无门槛"))},Vt=(0,d.memo)(Ut),Kt=n(24403),Qt=n.n(Kt),Xt=function(e){var t=e.onClick,n=e.couponData,r=e.isBigSize,o=void 0===r||r,i=e.children,a=n.discount,c=o?187.5:176;return d.createElement("div",{className:Qt().container,onClick:function(){null==t||t()},style:{width:Fe(c)}},d.createElement("div",{className:Qt().left},d.createElement(Vt,{money:(0,Ge.bd)(a)})),d.createElement("div",{className:Qt().right},i))},Yt=(0,d.memo)(Xt),Jt=n(16695),$t=n.n(Jt),en=A()(p.Pi)((function(e){var t=L().store.followGoodsAndRecieveCoupon,n=e.couponData,r=e.isBigSize,o=n.discount,i=n.batchEndTime,a=n.receivedCoupon,c=n.linkUrl,s=n.batchSn,l=(0,d.useState)((function(){return!a})),u=(0,he.Z)(l,2),p=u[0],f=u[1],m=(0,d.useState)((function(){return a})),v=(0,he.Z)(m,2),g=v[0],y=v[1],_=function(){y(!1)},E=G(ze()((0,h.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}c&&w.ZP.uniformForward(c),e.next=8;break;case 4:return e.next=6,t({batchSn:s});case 6:e.sent?(f(!1),y(!0),qe("".concat((0,Ge.bd)(o),"元商品关注券领取成功")),c&&w.ZP.uniformForward(c)):qe("关注失败");case 8:case"end":return e.stop()}}),e)}))),1e3));return d.createElement(Yt,{onClick:E,couponData:n,isBigSize:r},d.createElement("div",{className:$t().title},"商品关注券"),p?d.createElement("div",{className:$t().button},"关注并领取"):d.createElement(d.Fragment,null,g?d.createElement("div",{className:$t().timerWrapper},d.createElement(Ie,{endTime:1e3*i,interval:10,onEnd:_},(function(e){return"".concat(e.hour,":").concat(e.minute,":").concat(e.second,"后过期")}))):null))})),tn=A()(p.Pi)((function(e){var t=L().store,n=t.followAndRecieveCoupon,r=t.mallId,o=t.roomId,i=e.children,a=e.couponData,c=a.discount,s=a.batchSn,l=(0,Ge.bd)(c),u=G(ze()(function(){var e=(0,h.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({batchSn:s});case 2:e.sent?(Ve("LiveRoomFollowStatusUpdateNotification",{liver_id:(r||o)+"",is_follwed:!0}),qe("".concat(l,"元店铺无门槛券领取成功")),null==t||t()):(Ve("LiveRoomFollowStatusUpdateNotification",{liver_id:(r||o)+"",is_follwed:!1}),qe("关注失败"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),2e3));return i(u)})),nn=n(71695),rn=n.n(nn),on=A()(p.Pi)((function(e){var t=e.couponData,n=t.discount,r=t.text,o=t.canTakenCount,i=(0,Ge.bd)(n),a=(0,d.useState)((function(){return o>0})),c=(0,he.Z)(a,2),s=c[0],l=c[1],u=function(){l(!1)};return d.createElement(tn,{couponData:t},(function(e){return d.createElement("div",{className:rn().container},d.createElement("div",{className:rn().left},d.createElement(Vt,{money:i})),d.createElement("div",{className:rn().middle},d.createElement("div",{className:rn().line1},"店铺关注券"),d.createElement("div",{className:rn().line2},r)),s?d.createElement("div",{className:rn().button,onClick:function(){return e(u)}},"关注并领取"):d.createElement("div",{className:rn().hasReceivedText},"已领取"))}))})),an=n(15082),cn=n.n(an),sn=function(e){var t=e.couponData,n=t.receivedCoupon,r=(0,d.useState)((function(){return!n})),o=(0,he.Z)(r,2),i=o[0],a=o[1],c=function(){a(!1)};return d.createElement(tn,{couponData:t},(function(e){return d.createElement(Yt,{couponData:t,isBigSize:!1},d.createElement("div",{className:cn().title},"店铺关注券"),i?d.createElement("div",{className:cn().button,onClick:function(){return e(c)}},"关注并领取"):d.createElement("div",{className:cn().hasReceivedText},"已领取"))}))},ln=(0,d.memo)(sn),un=n(73613),dn=n.n(un),pn=function(e){var t=e.couponData;return d.createElement("div",{className:dn().scroller},(t||[]).map((function(e,t){return e.templateType===Te.ShopFollowing?d.createElement(ln,{key:t,couponData:e}):e.templateType===Te.GoodsFollowing?d.createElement(en,{key:t,couponData:e,isBigSize:!1}):void 0})))},fn=(0,d.memo)(pn),mn=n(1889),vn=n.n(mn),gn=A()(p.Pi)((function(){var e=L().store.coupons;if(!e)return null;var t=e.cellType,n=e.data;return d.createElement("div",{className:vn().couponContainer},t===xe.ShopFollowingCoupon?d.createElement(on,{couponData:n}):t===xe.GoodsFollowingCoupon?d.createElement(en,{couponData:n,isBigSize:!0}):t===xe.ScrollCoupon?d.createElement(fn,{couponData:n}):null)})),hn=n(38796),yn=n(99057),bn=n(61122),_n=n(43736),wn=(n(75115),n(22188)),En=n(94537);function On(e){var t={};return t.isNewUI=function(e){return!!e&&-1!==e.indexOf("small_red_box_show_new_view_gray")}(e),t.isHeightGray=function(e){return!e||-1!==e.indexOf("small_red_box_height_gray")}(e),t.isSoldOutGreyAllowRedirect=function(e){return!!e&&-1!==e.indexOf("sold_out_allow_redirect")}(e),t.isSoldOutGreyRefuseRedirect=function(e){return!!e&&-1!==e.indexOf("sold_out_refuse_redirect")}(e),t.isSKUGray=function(e){return!!e&&-1!==e.indexOf("small_red_box_trigger_sku_page_gray")}(e),t}function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Tn,Pn,Nn,Sn,kn,In,Dn,jn,Cn=function(e){(0,s.Z)(l,e);var t,n,r,o,i=xn(l);function l(){return(0,a.Z)(this,l),i.apply(this,arguments)}return(0,c.Z)(l,[{key:"getGoodsList",value:(o=(0,h.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("api/sprite/live/goods_list",t,{enableTransfer:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"followAndRecieveCoupon",value:(r=(0,h.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("api/eclipse/coupon/receive/receive_coupon",t,{enableTransfer:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"querySpikeGoodsDetail",value:(n=(0,h.Z)(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Ae.ru)(t,"api/deer/spike/spike_goods/detail"),e.next=3,this.post(n,t,{enableTransfer:!1});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"querySpikeGoodsDetailV2",value:(t=(0,h.Z)(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Ae.ru)(t,"api/tom/spike/v2/spike_goods/detail"),e.next=3,this.post(n,t,{enableTransfer:!1});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),l}(n(44518).Z);function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Gn,Fn={mallId:void 0,roomId:void 0,showId:void 0,shopUrl:void 0,pageFrom:void 0,gray:{},query:{}},An={hasMore:!0,isLoading:!1,goodsList:[],coupons:null,pageLoading:!1,needRefreshIndex:void 0},Bn=(Tn=wn.aD.bound,Pn=wn.aD.bound,Nn=function(e){(0,s.Z)(r,e);var t,n=Ln(r);function r(){var e;return(0,a.Z)(this,r),(e=n.call(this)).service=void 0,(0,hn.Z)(e,"updatePageLoading",Sn,(0,yn.Z)(e)),e.getRequestParams=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={roomId:e.roomId,mallId:e.mallId,showId:e.showId,page_from:e.pageFrom,pageSize:10,legoRequest:!0};return e.query.eavc_idx&&(n.eavc_idx=e.query.eavc_idx),n=Rn(Rn(Rn(Rn({},tt(e.query)),nt(e.query)),n),t)},(0,hn.Z)(e,"querySingleGoods",kn,(0,yn.Z)(e)),(0,hn.Z)(e,"loadMore",In,(0,yn.Z)(e)),e.followAndRecieveCoupon=function(){var t=(0,h.Z)(b().mark((function t(n){var r,o;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Rn({activityId:3,showId:e.showId,scene:1007},n||{}),t.next=3,e.service.followAndRecieveCoupon(r);case 3:return o=t.sent,t.abrupt("return",null==o?void 0:o.success);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.followGoodsAndRecieveCoupon=function(){var t=(0,h.Z)(b().mark((function t(n){var r,o,i;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!S.isNativePlatform){t.next=13;break}return t.prev=1,t.next=4,(0,_.Q6)("PDDFavorite","follow",{publisher_id:e.mallId,publisher_type:2,extra:{page_sn:31430}});case 4:if(null!=(r=t.sent)&&r.success){t.next=7;break}return t.abrupt("return",!1);case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(1),console.log(t.t0),t.abrupt("return",!1);case 13:return o=Rn({activityId:7,showId:e.showId,scene:1013},n||{}),t.next=16,e.service.followAndRecieveCoupon(o);case 16:return i=t.sent,t.abrupt("return",null==i?void 0:i.success);case 18:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e.getSpikeQueryParam=function(t){var n,r={goodsId:t.goodsId};return null!==(n=e.showId)&&void 0!==n&&n.length&&(r.showId=e.showId),r},e.goToSpikeOrderCheck=function(){var t=(0,h.Z)(b().mark((function t(n){var r,o,i;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getSpikeQueryParam(n),t.next=3,e.service.querySpikeGoodsDetail(r);case 3:null!=(o=t.sent)&&o.success&&null!=o&&o.result&&(i=o.result,et(n,i));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.goToSpikeOrderCheckV2=function(){var t=(0,h.Z)(b().mark((function t(n){var r,o,i;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getSpikeQueryParam(n),n.skuId&&(r.skuId=n.skuId),t.next=4,e.service.querySpikeGoodsDetailV2(r);case 4:null!=(o=t.sent)&&o.success&&null!=o&&o.result&&(i=o.result,et(n,i));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.gotoGoodsDetail=function(t){if(Je(t)){var n;if(null!=t&&t.soldOut&&null!==(n=e.gray)&&void 0!==n&&n.isSoldOutGreyRefuseRedirect)return void $e();if(t.type===Pe.SpikeOld)return void e.goToSpikeOrderCheck(t);e.goToSpikeOrderCheckV2(t)}else{if(t.soldOut&&e.gray.isSoldOutGreyRefuseRedirect)return void $e();w.ZP.uniformForward(t.goodsLink)}},(0,hn.Z)(e,"reloadPage",Dn,(0,yn.Z)(e)),(0,hn.Z)(e,"updateNeedRefreshIndex",jn,(0,yn.Z)(e)),(0,wn.dw)((0,yn.Z)(e),An),Object.assign((0,yn.Z)(e),Fn),e}return(0,c.Z)(r,[{key:"initServices",value:function(e){(0,bn.Z)((0,u.Z)(r.prototype),"initServices",this).call(this,e),this.service=new Cn(e)}},{key:"initGoodsList",value:(t=(0,h.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMore(!0);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"initBaseData",value:function(e){var t=e.query,n=t||{},r=n.live_room_high_layer_id,o=n.high_layer_id,i=n.native_url,a=n.shop_url,c=(0,Ae.FU)(decodeURIComponent(i))||{},s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null==t?void 0:t[e])||(null==c?void 0:c[e])||n},l=s("show_id"),u=s("mall_id"),d=s("room_id"),p=s("page_from");Object.assign(this,{live_room_high_layer_id:r,high_layer_id:o,native_url:i,shopUrl:a,mallId:u,showId:l,roomId:d,pageFrom:p,query:Rn(Rn({},t),c)})}},{key:"getDatasource",value:function(){return[this.initBaseData,this.initGoodsList]}}]),r}(En.u),Sn=(0,_n.Z)(Nn.prototype,"updatePageLoading",[wn.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.pageLoading=t}}}),kn=(0,_n.Z)(Nn.prototype,"querySingleGoods",[wn.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,h.Z)(b().mark((function t(n){var r,o,i,a,c,s;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getRequestParams({pageSize:1,nextIndex:e.goodsList[n].data.order}),t.prev=1,t.next=4,e.service.getGoodsList(r);case 4:null!=(a=t.sent)&&a.success&&null!=a&&a.result&&(null===(o=a.result)||void 0===o||null===(i=o.goodsList)||void 0===i?void 0:i.length)>0&&(s=null===(c=a.result)||void 0===c?void 0:c.goodsList[0],(0,wn.z)((function(){var t,r;e.goodsList[n].data=Rn(Rn({},s),{},{showPromotingTag:null===(t=e.goodsList[n])||void 0===t||null===(r=t.data)||void 0===r?void 0:r.showPromotingTag})}))),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:(0,wn.z)((function(){e.needRefreshIndex=void 0}));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),In=(0,_n.Z)(Nn.prototype,"loadMore",[wn.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,h.Z)(b().mark((function t(){var n,r,o,i,a,c,s,l,u,d,p,f,m,v=arguments;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=v.length>0&&void 0!==v[0]&&v[0],r=e.getRequestParams(),n||(r.nextIndex=((null===(o=e.goodsList[e.goodsList.length-1])||void 0===o||null===(i=o.data)||void 0===i?void 0:i.order)||1)-1),!e.isLoading){t.next=5;break}return t.abrupt("return");case 5:return e.isLoading=!0,t.prev=6,t.next=9,e.service.getGoodsList(r);case 9:null!=(a=t.sent)&&a.success&&null!=a&&a.result?(c=a.result,s=c.goodsList,l=c.hasMore,u=c.nativeTemplateProVOList,d=c.currentGrayExperiments,n&&(p=Ye(u),f=On(d),(0,wn.z)((function(){e.coupons=p,e.gray=f}))),m=Xe(s),(0,wn.z)((function(){e.goodsList=[].concat((0,C.Z)(e.goodsList),(0,C.Z)(m)),e.hasMore=l}))):(0,wn.z)((function(){e.hasMore=!1})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),e.hasMore=!1;case 16:e.isLoading=!1;case 17:case"end":return t.stop()}}),t,null,[[6,13]])})))}}),Dn=(0,_n.Z)(Nn.prototype,"reloadPage",[wn.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,h.Z)(b().mark((function t(n){var r,o;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object.assign(e,An,{pageLoading:!0}),Object.assign(e,Fn),i=n,r=Ue(Ue({},De),i||{}),o=(0,Ae.ru)(r,location.href),history.replaceState({},"",o),w.ZP.replaceURL(o),e.initBaseData({query:r}),t.next=9,e.loadMore(!0);case 9:(0,wn.z)((function(){e.pageLoading=!1}));case 10:case"end":return t.stop()}var i}),t)})));return function(e){return t.apply(this,arguments)}}()}}),jn=(0,_n.Z)(Nn.prototype,"updateNeedRefreshIndex",[wn.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.needRefreshIndex=t}}}),(0,_n.Z)(Nn.prototype,"initGoodsList",[Tn],Object.getOwnPropertyDescriptor(Nn.prototype,"initGoodsList"),Nn.prototype),(0,_n.Z)(Nn.prototype,"initBaseData",[Pn],Object.getOwnPropertyDescriptor(Nn.prototype,"initBaseData"),Nn.prototype),Nn);function zn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Wn=(0,f.k)()(Gn=(0,r.Iq)({store:Bn},{serverTemplateName:"vlive_oppo_red_box",title:"全部商品",fallbackCSR:!0,requireLogin:!1,options:{pageProperty:{pageName:"vlive_oppo_red_box",pageSN:31430}}})(Gn=(0,p.f3)("store")(Gn=(0,p.Pi)(Gn=function(e){(0,s.Z)(n,e);var t=zn(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"render",value:function(){var e=this.props.store.pageLoading;return d.createElement(m.I,{store:this.props.store},d.createElement(z,null),e?d.createElement(g.Z,{hideBg:!0}):d.createElement(d.Fragment,null,d.createElement(gn,null),d.createElement(Mt,null)),d.createElement(v.eA,null))}}]),n}(d.Component))||Gn)||Gn)||Gn)||Gn,Mn=o(Wn),qn=(0,i.Z)(Wn),Hn=n(19303);Promise.resolve("function"==typeof qn&&qn()).then((function(){return(0,Hn.x)(Mn)}))},81114:function(e,t,n){"use strict";var r;!function(e){e[e.DouYin=1]="DouYin",e[e.KuaiShou=2]="KuaiShou",e[e.ShiPinHao=3]="ShiPinHao",e[e.Bilibili=4]="Bilibili",e[e.XiaoHongShu=5]="XiaoHongShu",e[e.Taobao=6]="Taobao",e[e.Other=7]="Other",e[e.WeiSi=8]="WeiSi",e[e.DuXiaoSi=9]="DuXiaoSi",e[e.XiGua=10]="XiGua"}(r||(r={}));var o,i,a;r.DouYin,r.KuaiShou,r.XiaoHongShu,r.Bilibili;!function(e){e[e.DOING=0]="DOING",e[e.COMPLETED=1]="COMPLETED",e[e.FAILED=2]="FAILED",e[e.INIT=3]="INIT"}(o||(o={})),function(e){e[e.NOT=0]="NOT",e[e.LOADING=1]="LOADING",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED"}(i||(i={})),function(e){e[e.PullDownRefresh=1]="PullDownRefresh",e[e.NormalLoad=0]="NormalLoad"}(a||(a={}))},57753:function(e,t,n){"use strict";var r;!function(e){e.Impr="impr",e.Click="click"}(r||(r={}))},24316:function(){},16695:function(e){e.exports={timerWrapper:"KrQ89vT7",title:"_1NPjEsFY",button:"_16ZChcHJ"}},73613:function(e){e.exports={"fixed-cover":"_1XpxrsFc",scroller:"_2AoAXgOK",zoomIn:"_1x1PSdrG"}},71695:function(e){e.exports={container:"_2fp2Fh__",left:"skpDD8bg",couponImg:"_1TFJTkLl",money:"_1tgsRhJq",moneyText:"_1B94Qol1",middle:"_2MEIhTas",line1:"_2O3p_tNA",line2:"_2C4XJoRd",button:"uO-3_Lzp",hasReceivedText:"_2NDwKn7d"}},15082:function(e){e.exports={button:"_2EQAQk84",title:"_1yaco3Je",hasReceivedText:"_3SWqHDqb"}},1889:function(e){e.exports={couponContainer:"_1pltyym6"}},24403:function(e){e.exports={container:"wnoKzT38",left:"_3X6XySof",right:"_2JdASTFo"}},22961:function(e){e.exports={container:"_2GnD4-ix",bgImg:"_3BuJ-wVn",money:"apk5b25j",moneyText:"_1vbFnwi-"}},50332:function(e){e.exports={"fixed-cover":"xS5XxouN",container:"_1D3Eq68z",goodsInfo:"m1G_BTcr",goodsNameWrapper:"_1ZA-BBsn",goodsName:"_2cb_b00K",statusTextWrapper:"_22437sRx",statusText:"_26FPfwp8",priceInfoWrapper:"sFZvXw07",priceInfo:"_2BtQhr2k",button:"_2tCG4lBK",zoomIn:"_1sHPZ7HD"}},30134:function(e){e.exports={"fixed-cover":"_10sE7ETY",coupon:"_2nzAN8lT",couponText:"_2-IdSPSW",hasReceviedCouponBg:"_2fAYG8qB",hasNotReceviedCouponBg:"_2xexGfMA",timerWrapper:"n_F-sPbr",timerText:"_1oivwzx8",couponProgressWrapper:"IGytN2C2",text:"_3uB3UOdF",couponProgressInner:"_1JV6ih6S",couponProgressBar:"_3AKvH80o",zoomIn:"jSqJFdTb"}},94499:function(e){e.exports={wrapper:"O3BGC0dB",inner:"VTDdArJj"}},30675:function(e){e.exports={goodsPriceInfo:"_3u6i6z0Q",content:"Ab4AQ064",priceInfo:"_3edG0DcY",priceTagText:"tAG233iF",money:"_3kSXpP-K",salesTip:"_2PL3z5M4",btn:"_14vUK1_f"}},62103:function(e){e.exports={"fixed-cover":"CbBaANVH",container:"_1fmHWnWB",imageWrapper:"_28pYDOBy",goodsImage:"_3zj3HNoe",spikeTag:"_2QnbKpws",promotingTag:"_3Id2_LUQ",goodsInfo:"_1v1tg9IZ",goodsNameWrapper:"_1REu-OvC",goodsDesc:"p_YK08-v",goodsTagList:"Y2qEBjGs",soldOutTag:"_39oBvK3X",zoomIn:"B_tIo0wq"}},55842:function(e){e.exports={goodsPriceInfo:"_1g-dxI77",priceTagList:"_2P2yBjyz",tag:"_22SxV4YN",singleTagPrefix:"_2tem_Fpi",singleTagValue:"cTIOQgWv",saleTips:"jWc8-OLu",button:"_1aQwdQV1"}},93371:function(e){e.exports={progressWrapper:"_1v2xNxbs",timerWrapper:"TexUDYxV",timerText:"_2M4mxaBh",progress:"_2lsKT9TP",bar:"O5ffSf-S",text:"_3wlTS3Cd"}},36257:function(e){e.exports={container:"_1ZFSly_V",goodsInfo:"sPjKl46X",goodsNameWrapper:"_2IRddIDc",goodsName:"_1pKHBcDC",goodsDesc:"_2ccyjW5v",goodsTagList:"_1resgRw2"}},40576:function(e){e.exports={listContainer:"_261thvWI",listV2:"_2Q38zd8H"}},14908:function(e){e.exports={container:"QapVzp2u"}},71770:function(e){e.exports={tagWrapper:"_24tmR8kn",tagInner1:"_3VNa46OY",tagInner2:"_2KonwNzC"}},65575:function(e){e.exports={imageWrapper:"_2YjnvALR",goodsImage:"_1kjW1v1C",spikeTag:"_1RNmC90-",auctionTag:"_3qKl-VcG",promotingTag:"_2jYjYW63"}},17603:function(e){e.exports={button:"_3JE8lyXu"}},60690:function(e){e.exports={container:"_1Q4xHlgI"}},15913:function(e){e.exports={root:"_2XEBYAxN",icon:"h3w-V8Rd",loading:"_1CGPMlPN",text:"_3G4Gq7Iz"}},29807:function(e){"use strict";e.exports=pinbridge}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return c[e].call(n.exports,n,n.exports,l),n.loaded=!0,n.exports}l.m=c,e=[],l.O=function(t,n,r,o){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],o=e[u][2];for(var a=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(l.O).every((function(e){return l.O[e](n[c])}))?n.splice(c--,1):(a=!1,o<i&&(i=o));if(a){e.splice(u--,1);var s=r();void 0!==s&&(t=s)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},l.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var o=Object.create(null);l.r(o);var i={};t=t||[null,n({}),n([]),n(n)];for(var a=2&r&&e;"object"==typeof a&&!~t.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((function(t){i[t]=function(){return e[t]}}));return i.default=function(){return e},l.d(o,i),o},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce((function(t,n){return l.f[n](e,t),t}),[]))},l.u=function(e){return"assets/js/"+({699:"ms_web_c",1437:"pdd-mod/qq-service",1795:"react_anti",2840:"ms_wx_c",3400:"ms_wx_app_c",3910:"monitor-dev-panel",5911:"ms_native_c",6795:"ms_qq_c",8920:"pdd-mod/wechat-service"}[e]||e)+"_"+{699:"6732b5028e99ec3711b5",1437:"8c02393760457f458cb0",1795:"441bea40694e5c52acea",2568:"6a9075934c166e207340",2840:"6434b9a1d923ed8182f5",3400:"24b2cb1994a4daafc256",3910:"1463c1311397215db064",4369:"5a4a3b3070791597ae79",5911:"7eb7b058f14ab10fa6ff",5929:"a14da7d1d823f43f659e",6795:"0c9491c4660477c5771a",8920:"02c40a20678ac528640a"}[e]+".js"},l.miniCssF=function(e){return"assets/css/monitor-dev-panel_d314c614b241f08063cc.css"},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r={},o="mobile-live-video:",l.l=function(e,t,n,i){if(r[e])r[e].push(t);else{var a,c;if(void 0!==n)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var d=s[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==o+n){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,l.nc&&a.setAttribute("nonce",l.nc),a.setAttribute("data-webpack",o+n),a.src=e),r[e]=[t];var p=function(t,n){a.onerror=a.onload=null,clearTimeout(f);var o=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),c&&document.head.appendChild(a)}},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},l.j=935,l.p="https://static.pddpic.com/",l.p=window.__webpack_public_path__||l.p,i=function(e){return new Promise((function(t,n){var r=l.miniCssF(e),o=l.p+r;if(function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var a;if((o=(a=i[r]).getAttribute("data-href"))===e||o===t)return a}}(r,o))return t();!function(e,t,n,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=function(i){if(o.onerror=o.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),c=i&&i.target&&i.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=a,s.request=c,o.parentNode.removeChild(o),r(s)}},o.href=t,document.head.appendChild(o)}(e,o,t,n)}))},a={935:0},l.f.miniCss=function(e,t){a[e]?t.push(a[e]):0!==a[e]&&{3910:1}[e]&&t.push(a[e]=i(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))},function(){var e={935:0};l.f.j=function(t,n){var r=l.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,o){r=e[t]=[n,o]}));n.push(r[2]=o);var i=l.p+l.u(t),a=new Error;l.l(i,(function(n){if(l.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+t,t)}},l.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,i=n[0],a=n[1],c=n[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)l.o(a,r)&&(l.m[r]=a[r]);if(c)var u=c(l)}for(t&&t(n);s<i.length;s++)o=i[s],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(u)},n=self.webpackChunkmobile_live_video=self.webpackChunkmobile_live_video||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var u=l.O(void 0,[1216,6457,4115],(function(){return l(41435)}));u=l.O(u)}();
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/vlive_oppo_red_box_f5af78ca31ba9868e82d.js.map