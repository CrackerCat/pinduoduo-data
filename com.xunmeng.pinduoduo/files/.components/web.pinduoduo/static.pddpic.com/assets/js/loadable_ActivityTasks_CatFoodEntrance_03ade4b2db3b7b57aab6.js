(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[12],{"63HP":function(e,t,n){var r=n("a6uS"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},KS3t:function(e,t,n){"use strict";n.r(t);var r=n("J4zp"),a=n.n(r),o=n("q1tI"),c=n.n(o),i=n("TyAF"),s=n("Vpw8"),u=n("HIPb"),l=n("O2NP"),b=n("N4rI"),f=n("kLkQ"),p=n("mFSr"),m=n("zRTd"),d=n("/WLQ"),O=n("yXPU"),_=n.n(O),w=n("o0o1"),v=n.n(w),h=n("FoiV"),j=n("spdq"),g=Object(s.a)(i.observer)((function(){var e,t,n,r=Object(o.useRef)(null),i=Object(o.useRef)(null),s=Object(o.useState)(!1),u=a()(s,2),b=u[0],p=u[1],m=Object(o.useRef)(""),d=Object(l.k)().store.activityTaskStore.missionMap,O=(null===(e=d[h.b.CAT_BROWSE])||void 0===e?void 0:e.status)===h.c.UNDONE,w=(null===(t=d[h.b.CAT_BROWSE])||void 0===t?void 0:t.status)===h.c.DONE,g=(null===(n=d[h.b.CAT_BUY])||void 0===n?void 0:n.status)===h.c.UNDONE,E=function(){r.current&&clearTimeout(r.current),i.current&&clearTimeout(i.current)},S=function(){var e=_()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(),r.current=setTimeout((function(){p(!0)}),500),i.current=setTimeout((function(){p(!1)}),6e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){return function(){E()}}),[]),Object(o.useEffect)((function(){var e="LiveOuterTask_Entrancebubble_catBrowse";O&&!Object(f.b)(e)&&(S(),m.current="直播间浏览可得",Object(f.m)(e))}),[O]),Object(o.useEffect)((function(){var e="LiveOuterTask_Entrancebubble_catBuy";w&&g&&!Object(f.b)(e)&&(S(),m.current="直播间下单可得",Object(f.m)(e))}),[w,g]),c.a.createElement(j.a,{isShow:b,text:m.current,bg:"https://promotion.pddpic.com/mobile_live/cd1a0579-ffc4-4a19-bc59-183c559d67fa.png.slim.png"})})),E=n("eQJp"),S=Object(s.a)(i.observer)((function(e){var t=Object(l.k)().store.activityTaskStore,n=t.missionMap,r=t.refreshPendantInfo,a=t.requestCompleteMission,i=n[h.b.CAT_BROWSE]||{},s=i.completeSeconds,u=i.priceNum,b={bizKey:"catBrowse",completeSeconds:s,onComplete:Object(l.e)(Object(o.useCallback)(_()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(h.b.CAT_BROWSE);case 2:return null!=(t=e.sent)&&t.success&&Object(f.p)("浏览任务完成，获得".concat(u,"克猫粮")),e.next=6,Object(f.o)(1e3);case 6:r();case 7:case"end":return e.stop()}}),e)}))),[])),onUpdateSeconds:e.onUpdateSeconds};return c.a.createElement(E.a,b)})),k=n("63HP"),C=n.n(k);t.default=Object(s.a)(i.observer)((function(){Object(u.a)(C.a);var e,t=Object(l.k)().store,n=t.activityTaskStore,r=t.roomId,i=n.missionMap,s=Object(o.useState)(0),O=a()(s,2),_=O[0],w=O[1],v=i[h.b.CAT_BROWSE]||{},j=v.status,E=v.priceNum,k=v.completeSeconds,T=void 0===k?60:k,x=i[h.b.CAT_BUY]||{},N=x.status,y=(x.priceNum,N===h.c.UNDONE),A=j===h.c.UNDONE;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:C.a.catEntranceRoot,onClick:function(){Object(m.f)({subType:d.e.CatFood}),A?Object(f.p)("浏览".concat(T,"秒即可获得").concat(E,"步")):y?Object(b.a)("live_shop_coupon_dialog",{openLiveGoods:!0,room_id:r}):Object(f.p)("今日直播间任务已全部完成，请明日再来")}},c.a.createElement(m.b,{subType:d.e.CatFood}),c.a.createElement("div",{className:C.a.iconContainer},c.a.createElement(p.a,{className:C.a.img,src:"https://promotion.pddpic.com/mobile_live/5470e910-9dde-4b04-8d56-6aedf4f4a9ec.png.slim.png"}),c.a.createElement(g,null)),(e="已获得",A?e="看".concat(T-_,"秒得"):y&&(e="直播间下单得"),c.a.createElement("div",{className:C.a.textContainer},c.a.createElement("p",{className:C.a.text},e)))),A&&c.a.createElement(S,{onUpdateSeconds:w}))}))},a6uS:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3ZTCUPx5{width:100%;height:100%;text-align:center}._1kCBj1xp{width:.5rem;height:.5rem;margin:0 auto;position:relative}._3oGeoI8S{width:100%;height:100%}._2yTHXj0b{height:.16rem;margin-top:-.07rem;position:relative;z-index:1}.dPjAxBu2{display:inline-block;min-width:.6rem;height:100%;line-height:normal;padding:0 .03rem;border-radius:.12rem;background:-webkit-linear-gradient(bottom,#ff3132 3%,#ff633d);background:linear-gradient(0deg,#ff3132 3%,#ff633d);color:#fff;font-size:.11rem}",""]),t.locals={catEntranceRoot:"_3ZTCUPx5",iconContainer:"_1kCBj1xp",img:"_3oGeoI8S",textContainer:"_2yTHXj0b",text:"dPjAxBu2"}},eQJp:function(e,t,n){"use strict";var r=n("yXPU"),a=n.n(r),o=n("J4zp"),c=n.n(o),i=n("o0o1"),s=n.n(i),u=n("q1tI"),l=n("TyAF"),b=n("Vpw8"),f=n("O2NP"),p=n("yo/L"),m=n("hA9s"),d=function(e){var t=e.bizKey,n=e.completeSeconds,r=e.onComplete,o=e.onUpdateSeconds,i="LiveOuterTaskWatchedSeconds_"+t,l=(Object(f.k)().store.query||{}).list_id,b=void 0===l?"":l,d=Object(u.useState)(0),O=c()(d,2),_=O[0],w=O[1],v=Object(u.useState)(null),h=c()(v,2),j=h[0],g=h[1],E=function(e){w(e||0),o(e||0)};return Object(u.useEffect)((function(){if(t)(function(){var e=a()(s.a.mark((function e(){var t,n,r,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(Object(p.c)(i)||"").split("$__split__$"),n=c()(t,2),r=n[0],a=n[1],o=void 0===a?0:a,r&&b===r&&E(parseInt(o)||0),g(1e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();else if(m.b)throw new Error("BrowseCountdown的bizKey不能为空！")}),[]),Object(f.d)((function(){var e=_+1;Object(p.f)(i,"".concat(b).concat("$__split__$").concat(e)),E(e),e>=n&&(g(null),r(),Object(p.a)(i))}),j),null};d.defaultProps={completeSeconds:31536e3,onComplete:function(){},onUpdateSeconds:function(){}},t.a=Object(b.a)(l.observer)(d)},sN3p:function(e,t,n){var r=n("sT4o"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},sT4o:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2YwTQJRM{width:1.05rem;height:.28rem;position:absolute;top:50%;left:-.05rem;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%);pointer-events:none}._2YwTQJRM.Onup0dK3 .ZCnEDGQL{-webkit-transform:scale(1);transform:scale(1)}.ZCnEDGQL{-webkit-transform-origin:right center;transform-origin:right center;-webkit-transform:scale(0);transform:scale(0);will-change:transform;-webkit-transition:-webkit-transform .4s ease;transition:-webkit-transform .4s ease;transition:transform .4s ease;transition:transform .4s ease,-webkit-transform .4s ease}._3uSw1WF0,.ZCnEDGQL{width:100%;height:100%}._3uSw1WF0{position:absolute;left:0;top:0;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;flex-wrap:nowrap;-ms-wrap-through:nowrap;-webkit-flex-wrap:nowrap;padding-right:.05rem;color:#fff;font-size:.12rem}",""]),t.locals={bubble:"_2YwTQJRM",show:"Onup0dK3",bubbleInner:"ZCnEDGQL",bubbleText:"_3uSw1WF0"}},spdq:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("q1tI"),c=n.n(o),i=n("TyAF"),s=n("TSYQ"),u=n.n(s),l=n("HIPb"),b=n("O2NP"),f=n("mFSr"),p=n("sN3p"),m=n.n(p);t.a=Object(i.observer)((function(e){Object(l.a)(m.a);var t=e.isShow,n=e.text,r=e.bg,o=e.children;return!Object(b.k)().store.activityPopStore.needScroll&&c.a.createElement("div",{className:u()(m.a.bubble,e.className,a()({},m.a.show,t))},c.a.createElement("div",{className:m.a.bubbleInner},c.a.createElement(f.a,{src:r}),c.a.createElement("div",{className:m.a.bubbleText},n),o))}))}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_ActivityTasks_CatFoodEntrance_03ade4b2db3b7b57aab6.js.map