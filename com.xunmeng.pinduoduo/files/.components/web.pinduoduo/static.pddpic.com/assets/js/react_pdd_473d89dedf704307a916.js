(window.webpackJsonpForReact=window.webpackJsonpForReact||[]).push([["react_pdd"],{"+xyA":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a}));var o={IOS_PAGE_HOME:"garden_index_xt_0.html",IOS_PAGE_FESTIVAL:"garden_festival_aa.html",IOS_PAGE_ORDER:"cartoon_fruit_order.html",IOS_PAGE_LOTTERY:"cartoon_fruit_lottery.html",IOS_PAGE_BALLOT:"cartoon_fruit_draw_lots.html",IOS_PAGE_PROPS:"cartoon_fruit_props.html",IOS_PAGE_PROPS_SSR:"cartoon_sub_fruit_props.html",IOS_PAGE_GOODS_LIST:"cartoon_fruit_goods.html",IOS_PAGE_GOODS_LIST_SSR:"cartoon_sub_fruit_goods.html",IOS_PAGE_GOODS_LIST_GARDEN:"cartoon_sub_fruit_goods_garden3.html",IOS_PAGE_SEEK_GOODS:"cartoon_sub_fruit_seek_goods.html",IOS_PAGE_LAND:"cartoon_sub_fruit_land.html",IOS_PAGE_LAND_SSR:"cartoon_sub_fruit_land.html",IOS_PAGE_LUCKY_WATER_GOODS:"cartoon_sub_fruit_lucky_water_goods.html",IOS_PAGE_LUCKY_WATER_GOODS_SSR:"cartoon_sub_fruit_lucky_water_goods.html",IOS_PAGE_RAIN_GAME:"cartoon_fruit_rain_game.html",IOS_PAGE_TREASURE_BOWL:"",IOS_PAGE_TEAM:"cartoon_fruit_team.html",IOS_PAGE_GUIDE_DOWNLOAD:"cartoon_fruit_guide_download.html",IOS_PAGE_CALLBACK:"",IOS_PAGE_GOODS_LAND:"cartoon_sub_fruit_goods_land.html",IOS_PAGE_GOODS_LAND_SSR:"cartoon_sub_fruit_goods_land.html",IOS_PAGE_FARM:"",IOS_PAGE_LUCKY_WATER:"cartoon_fruit_lucky_water.html",IOS_PAGE_SWIPE:"cartoon_sub_fruit_swipe.html",IOS_PAGE_ANSWER:"",IOS_PAGE_ORDER_BENEFIT:"cartoon_sub_fruit_order_benefits.html",IOS_PAGE_DIVIDE_WATER:"cartoon_sub_fruit_divide_water.html",IOS_PAGE_INTERESTS:"cartoon_sub_fruit_interest.html",IOS_PAGE_TRANSFER:"cartoon_fruiter_transfer.html",IOS_PAGE_TRANSFER_SSR:"cartoon_fruiter_transfer.html",IOS_PAGE_COLLECT:"cartoon_sub_fruit_collect.html",IOS_PAGE_FRUIT_SEARCH_GOODS:"cartoon_sub_fruit_search_goods.html",IOS_PAGE_FRUIT_DIVINE_GOODS:"fgoods_garden_divine_goods.html",IOS_PAGE_FRUIT_SEARCH_GOODS_NEW:"fgoods_garden_search_goods.html",IOS_PAGE_TOPIC_GOODS:"cartoon_sub_fruit_topic.html",IOS_PAGE_TOPIC_GOODS_V2:"cartoon_sub_fruit_topic_v2.html",IOS_PAGE_GARDEN_SEARCH_INPUT:"fgoods_garden_search_input.html",IOS_PAGE_GARDEN_SEARCH_RESULT:"fgoods_garden_search_result.html",IOS_PAGE_FUN_GARDEN_GOODS:"fgoods_garden_goods.html",IOS_PAGE_GARDEN_3RD_GOODS:"fgoods_garden_3rd_goods.html",IOS_PAGE_GARDEN_LIVE_GOODS:"fgoods_garden_live_goods.html"},i={APP_PAGE_GOODS_LIST:"cartoon_fruit_goods.html",APP_PAGE_GOODS_LIST_SSR:"cartoon_sub_fruit_goods.html",APP_PAGE_GOODS_LIST_GARDEN:"cartoon_sub_fruit_goods_garden.html",APP_PAGE_LAND:"cartoon_sub_fruit_land.html",APP_PAGE_LAND_SSR:"cartoon_sub_fruit_land.html",APP_PAGE_GOODS_LAND:"cartoon_sub_fruit_goods_land.html",APP_PAGE_GOODS_LAND_SSR:"cartoon_sub_fruit_goods_land.html",APP_PAGE_DIVIDE_WATER:"cartoon_sub_fruit_divide_water.html",APP_PAGE_FRUIT_SEARCH_GOODS:"cartoon_sub_fruit_search_goods.html",APP_PAGE_FRUIT_DIVINE_GOODS:"fgoods_garden_divine_goods.html",APP_PAGE_FRUIT_SEARCH_GOODS_NEW:"fgoods_garden_search_goods.html",APP_PAGE_TOPIC_GOODS:"cartoon_sub_fruit_topic.html",APP_PAGE_GARDEN_SEARCH_INPUT:"fgoods_garden_search_input.html",APP_PAGE_GARDEN_SEARCH_RESULT:"fgoods_garden_search_result.html",APP_PAGE_FUN_GARDEN_GOODS:"fgoods_garden_goods.html",APP_PAGE_GARDEN_3RD_GOODS:"fgoods_garden_3rd_goods.html",APP_PAGE_GARDEN_LIVE_GOODS:"fgoods_garden_live_goods.html"},r=Object.assign({},{PAGE_HOME:"garden_index_xt_0.html",PAGE_FESTIVAL:"garden_festival_aa.html",PAGE_ORDER:"cartoon_fruiter_suffix_123123123123123123123123123123123123123123123123123123123123123.html",PAGE_LOTTERY:"cartoon_fruiter_suffix_123123123123123123123.html",PAGE_BALLOT:"cartoon_fruiter_suffix_123123123123123123123123123.html",PAGE_PROPS:"cartoon_fruiter_suffix_123123123123123.html",PAGE_PROPS_SSR:"cartoon_sub_potato1.html",PAGE_GOODS_LIST:"garden_festival_a.html",PAGE_GOODS_LIST_SSR:"garden_week_mon1.html",PAGE_GOODS_LIST_GARDEN:"garden_week_mon1.html",PAGE_SEEK_GOODS:"cartoon_fruiter_wf1.html",PAGE_LUCKY_WATER_GOODS:"cartoon_fruiter_suffix_123123123.html",PAGE_LUCKY_WATER_GOODS_SSR:"cartoon_sub_potato0.html",PAGE_RAIN_GAME:"cartoon_fruiter_suffix_123123123123123123123123123123123123123123123123123123123123123123123123123.html",PAGE_TREASURE_BOWL:"garden_list_game0.html",PAGE_TEAM:"cartoon_fruiter_suffix_123123123123123123.html",PAGE_GUIDE_DOWNLOAD:"garden_manor_home0.html",PAGE_CALLBACK:"garden_manor_new0.html",PAGE_GOODS_LAND:"garden_festival_bb.html",PAGE_GOODS_LAND_SSR:"cartoon_fruiter_wf6.html",PAGE_LUCKY_WATER:"cartoon_fruiter_sz4.html",PAGE_ORDER_BENEFIT:"cartoon_fruiter_wf4.html.html",PAGE_DIVIDE_WATER:"cartoon_sub_potato4.html",PAGE_INTERESTS:"cartoon_sub_potato3.html",PAGE_TRANSFER:"cartoon_fruiter_transfer.html",PAGE_TRANSFER_SSR:"cartoon_sub_potato5.html",PAGE_LAND:"garden_manor_index0.html",PAGE_LAND_SSR:"garden_week_mon0.html",PAGE_FAVORITE_GOODS:"garden_manor_index1.html",PAGE_FRUIT_SEARCH_GOODS:"garden_festival_aa.html",PAGE_FRUIT_DIVINE_GOODS:"pet_duopet_44.html",PAGE_FRUIT_SEARCH_GOODS_NEW:"pet_duopet_45.html",PAGE_TOPIC_GOODS:"cartoon_sub_potato2.html",PAGE_TOPIC_GOODS_V2:"cartoon_sub_potato2.html",PAGE_GARDEN_SEARCH_INPUT:"pet_duopet_45.html",PAGE_GARDEN_SEARCH_RESULT:"pet_duopet_45.html"}),a={farm:1,pet:2,garden:3,ranch:4,sign:5,answerking:6,fit:7}},"/hlV":function(e,t,n){"use strict";n.d(t,"p",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"k",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"l",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"m",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"j",(function(){return h})),n.d(t,"q",(function(){return _})),n.d(t,"a",(function(){return b})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return O}));var o=n("KoDT");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return 1*Number((e/t).toFixed(n))}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;try{var n=/^#/.test(e)?e.slice(1):e,o="transparent"===e?0:Math.ceil(t);3===(n=/^[0-9a-f]{3}|[0-9a-f]{6}$/i.test(n)?n:"fffff").length&&(n=n.replace(/(\w)(\w)(\w)/gi,"$1$1$2$2$3$3"));var i=n.slice(0,2),r=n.slice(2,4),a=n.slice(4,6);return"rgba(".concat(parseInt(i,16),",").concat(parseInt(r,16),",").concat(parseInt(a,16),",").concat((o/100).toFixed(2),")")}catch(t){return e}}function a(e){return"[object Function]"===Object.prototype.toString.call(e)}function s(e){return"[object Undefined]"===Object.prototype.toString.call(e)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png";t=t||"png";var n="https://pinduoduoimg.yangkeduo.com/cartoon_activity/fruiter";return"".concat(n,"/").concat(e,".").concat(t)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png";t=t||"png";var n="https://funimg.pddpic.com/cartoon_activity/fruiter";return"".concat(n,"/").concat(e,".").concat(t)}function d(e,t){var n=arguments,o=null,i=function(){var i=n;o&&(clearTimeout(o),o=null),o=setTimeout((function(){e(i)}),t)};return i}function u(e){var t=(e=e||{}).offsetTop,n=void 0===t?-1:t;if(-1===n)return n;for(var o=e.offsetParent;o;)n+=o.offsetTop,o=o.offsetParent;return n}var p=function(e){return e>=1e12?parseInt((e/1e3).toString(),10):e},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;for(e=(e||0).toString();e.length<n;)e=t+e;return e},g=function(e,t){var n=Math.max(1e3*(t-e),0),o=Math.floor(n/1e3),i=Math.floor(o/60),r=Math.floor(i/60),a=Math.floor(r/24),s=Math.floor(n%1e3/100);a%=365;var c=m(r%24,"0",2),l=m(i%60,"0",2),d=m(Math.floor(o%60),"0",2);return{days:a.toString(),hours:c,minutes:l,seconds:d,millSecond:s.toString(),totalSeconds:n}},f=function(){return"undefined"!=typeof window},v=function(e){if(f()){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):void 0}},h=function(){return!!a(o.getCurrentPlatform)&&Object(o.getCurrentPlatform)().isNativePlatform},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===e)return document.body.scrollTop=0,void((document.documentElement||{}).scrollTop=0);document.body.scrollTop=e,0===document.body.scrollTop&&((document.documentElement||{}).scrollTop=e)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new RegExp(/^#([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i);try{if(!t.test(e))return!1;var n=(e.match(t)||[])[1]||"";3!==n.length&&4!==n.length||(n=(n.match(/./g)||[]).reduce((function(e,t){return e+t+t}),""));var o=(n.match(/.{1,2}/g)||[]).map((function(e){return parseInt(e,16)}));return 4===o.length?(o[0]=+(o[0]/255).toPrecision(3),o.push(o.shift())):o.push(1),o.toString=function(){return"rgba(".concat(this[0],",").concat(this[1],",").concat(this[2],",").concat(this[3].toFixed(1),")")},o}catch(e){return!1}},y=function(e){return e&&isNaN(e)?e:Number(e)||0},O=function(e){if(!e||!e.stack)return"";try{var t=e.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,5).join("@").replace(/\?[^:]+/gi,""),n=e.toString();return t.indexOf(n)<0&&(t=n+"@"+t),t}catch(t){return e}}},"3CSA":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o={PAGE_HOME:"garden_index_xt_0.html",PAGE_FESTIVAL:"garden_festival_aa.html",PAGE_ORDER:"cartoon_fruiter_suffix_123123123123123123123123123123123123123123123123123123123123123.html",PAGE_LOTTERY:"cartoon_fruiter_suffix_123123123123123123123.html",PAGE_BALLOT:"cartoon_fruiter_suffix_123123123123123123123123123.html",PAGE_PROPS:"cartoon_fruiter_suffix_123123123123123.html",PAGE_PROPS_SSR:"cartoon_sub_potato1.html",PAGE_GOODS_LIST:"garden_festival_a.html",PAGE_GOODS_LIST_SSR:"garden_week_mon1.html",PAGE_GOODS_LIST_GARDEN:"garden_week_mon1.html",PAGE_SEEK_GOODS:"cartoon_fruiter_wf1.html",PAGE_LUCKY_WATER_GOODS:"cartoon_fruiter_suffix_123123123.html",PAGE_LUCKY_WATER_GOODS_SSR:"cartoon_sub_potato0.html",PAGE_RAIN_GAME:"cartoon_fruiter_suffix_123123123123123123123123123123123123123123123123123123123123123123123123123.html",PAGE_TREASURE_BOWL:"garden_list_game0.html",PAGE_TEAM:"cartoon_fruiter_suffix_123123123123123123.html",PAGE_GUIDE_DOWNLOAD:"garden_manor_home0.html",PAGE_CALLBACK:"garden_manor_new0.html",PAGE_GOODS_LAND:"garden_festival_bb.html",PAGE_GOODS_LAND_SSR:"cartoon_fruiter_wf6.html",PAGE_LUCKY_WATER:"cartoon_fruiter_sz4.html",PAGE_ORDER_BENEFIT:"cartoon_fruiter_wf4.html.html",PAGE_DIVIDE_WATER:"cartoon_sub_potato4.html",PAGE_INTERESTS:"cartoon_sub_potato3.html",PAGE_TRANSFER:"cartoon_fruiter_transfer.html",PAGE_TRANSFER_SSR:"cartoon_sub_potato5.html",PAGE_LAND:"garden_manor_index0.html",PAGE_LAND_SSR:"garden_week_mon0.html",PAGE_FAVORITE_GOODS:"garden_manor_index1.html",PAGE_FRUIT_SEARCH_GOODS:"garden_festival_aa.html",PAGE_FRUIT_DIVINE_GOODS:"pet_duopet_44.html",PAGE_FRUIT_SEARCH_GOODS_NEW:"pet_duopet_45.html",PAGE_TOPIC_GOODS:"cartoon_sub_potato2.html",PAGE_TOPIC_GOODS_V2:"cartoon_sub_potato2.html",PAGE_FRUIT_SEARCH_INPUT:"pet_duopet_45.html",PAGE_FRUIT_SEARCH_RESULT:"pet_duopet_45.html"}},"4St7":function(e,t,n){"use strict";(function(e){var o=n("uf4C"),i=n("h7Yj"),r=n("IFnD"),a=n("RoDR");t.a={apiRequest:function(e,t,n,a,s){e=(e||"").toUpperCase();var c=o.default.instance.getPageSN(),l=n,d=t||"";("POST"===e&&(l=Object.assign({page_sn:c},l||{})),"GET"===e)&&((Object(i.parseUrlQuery)(d)||{}).page_sn||""||(d+=-1!==d.indexOf("?")?"&":"?",d+="&page_sn=".concat(c)));return r.a.apiRequest(e,d,l,a,s)},manortkRequest:function(t,n,o,i,s){if(o=o||{},t=t||"POST",Object(a.d)()&&(o=Object.assign({},o,{href:((window||{}).location||{}).href})),Object(a.c)(r.a.manortkRequest))return r.a.manortkRequest(t,n,o,i,s);var c={method:t,headers:{"Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify(o)};return e(n,c).then((function(e){i&&i(e)})).catch((function(e){s&&s(e)}))}}}).call(this,n("BlQd"))},"8AxI":function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),g=n.n(m),f=n("TSYQ"),v=n.n(f),h=(n("fjk/"),function(e){function t(){var e;return i()(this,t),(e=c()(this,d()(t).apply(this,arguments))).onClick=function(t){if(t.stopPropagation&&t.stopPropagation(),e.props.onClick){var n=e.props.data;e.props.onClick(n)}},e}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.data,o=e.className,i=n||{},r=i.imageUrl,a=void 0===r?"":r,s=i.text,c=void 0===s?"":s,l=i.html,d=void 0===l?"":l;return a&&t?g.a.createElement("div",{className:v()("cartoon-widgets-right-icon",o),onClick:this.onClick},g.a.createElement("img",{alt:"",className:"cartoon-widgets-right-icon-img",src:a}),!!d&&g.a.createElement("p",{className:"cartoon-widgets-right-icon-content",dangerouslySetInnerHTML:{__html:d}}),!!c&&g.a.createElement("p",{className:"cartoon-widgets-right-icon-text"},c)):null}}]),t}(m.Component));t.a=h},CWnw:function(e,t,n){"use strict";var o=n("o0o1"),i=n.n(o),r=n("kk8N"),a=n("KoDT"),s=n("jRgZ"),c=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((o=o.apply(e,t||[])).next())}))};function l(){return!!Object(a.getCurrentPlatform)().isNativePlatform}var d=function(e,t){return e?new Promise((function(n){r.default.callNative("AMStorage","get",{key:"".concat(t,"_").concat(e)},(function(e){n((e||{}).value||"")}),(function(){n("")}))})):Promise.resolve("")},u=function(e,t,n){return e?new Promise((function(o){r.default.callNative("AMStorage","set",{key:"".concat(n,"_").concat(e),value:t},(function(){o(!0)}),(function(){o(!1)}))})):Promise.resolve(!1)},p=function(e,t){var n="";if(!e)return Promise.resolve(n);try{n=localStorage.getItem("".concat(t,"_").concat(e))||""}catch(e){}return Promise.resolve(n)},m=function(e,t,n){var o=!1;if(!e)return Promise.resolve(o);try{localStorage.setItem("".concat(n,"_").concat(e),t),o=!0}catch(e){}return Promise.resolve(o)},g=function(e,t){var n=!1;if(!e)return Promise.resolve(!1);try{localStorage.removeItem("".concat(t,"_").concat(e)),n=!0}catch(e){}return Promise.resolve(n)},f=function(e,t){return e?new Promise((function(n){r.default.callNative("AMStorage","set",{key:"".concat(t,"_").concat(e)},(function(){n(!0)}),(function(){n(!1)}))})):Promise.resolve(!1)};t.a={setItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cartoon_react_common",o=(Object(a.getCurrentPlatform)()||{}).version;return l()&&Object(a.compareVersion)(o,s.a)>0?u(e,t,n):m(e,t,n)},getItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cartoon_react_common",n=(Object(a.getCurrentPlatform)()||{}).version;return l()&&Object(a.compareVersion)(n,s.a)>0?d(e,t):p(e,t)},removeItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cartoon_react_common",n=(Object(a.getCurrentPlatform)()||{}).version;return l()&&Object(a.compareVersion)(n,s.a)>0?f(e,t):g(e,t)},setExpiredItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1D",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cartoon_react_common",i=s.b.D;n=(n||"").toString().toUpperCase();var r=!isNaN(Number(n));if(r)i=Number(n);else{var c=n.substr(-1)||"D";i=s.b[c]}if(i){var d={key:e,value:t,storeTime:Date.now(),expiredTime:Date.now()+i},p=(Object(a.getCurrentPlatform)()||{}).version;return l()&&Object(a.compareVersion)(p,s.a)>0?u(e,JSON.stringify(d),o):m(e,JSON.stringify(d),o)}},getExpiredItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cartoon_react_common";return c(void 0,void 0,void 0,i.a.mark((function n(){var o,r,c,u,m,g,f;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=(Object(a.getCurrentPlatform)()||{}).version,r="",!(l()&&Object(a.compareVersion)(o,s.a)>0)){n.next=8;break}return n.next=5,d(e,t);case 5:r=n.sent,n.next=11;break;case 8:return n.next=10,p(e,t);case 10:r=n.sent;case 11:try{r=JSON.parse(r)||{}}catch(t){r={},console.warn("cartoon_react_common :: getExpiredItem > ".concat(e," : ").concat(JSON.stringify(t)))}if(u=(c=r||{}).expiredTime,m=void 0===u?0:u,g=c.value,f=void 0===g?"":g,!(Date.now()>m)){n.next=15;break}return n.abrupt("return","");case 15:return n.abrupt("return",f);case 16:case"end":return n.stop()}}),n)})))}}},FORR:function(e,t,n){"use strict";var o,i;n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return p})),n.d(t,"h",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return g})),function(e){e[e.Goods=0]="Goods",e[e.AdGoods=1]="AdGoods",e[e.LvGoods=2]="LvGoods",e[e.LgGoods=3]="LgGoods",e[e.Hmall=10]="Hmall",e[e.Vmall=20]="Vmall",e[e.Coupon=30]="Coupon",e[e.Favorite=40]="Favorite",e[e.Similar=50]="Similar",e[e.SimilarInRows=51]="SimilarInRows",e[e.HGoods=60]="HGoods",e[e.VGoods=70]="VGoods",e[e.Recommend=80]="Recommend",e[e.Topic=90]="Topic",e[e.Ulike=100]="Ulike",e[e.CPT=110]="CPT",e[e.CPS=120]="CPS",e[e.Game=130]="Game",e[e.Video=140]="Video",e[e.Sliding=150]="Sliding",e[e.SGoods=160]="SGoods",e[e.LvMall=170]="LvMall",e[e.LvMallGoods=180]="LvMallGoods",e[e.RankingList=190]="RankingList",e[e.RankingGoods=200]="RankingGoods"}(o||(o={})),function(e){e[e.Goods=1]="Goods",e[e.Mall=2]="Mall",e[e.Cpt=3]="Cpt",e[e.Topic=7]="Topic",e[e.Live=8]="Live",e[e.Live2=12]="Live2"}(i||(i={}));var r,a,s,c,l,d,u,p={CPM:3,LIVE:8,FAST_LIVE:12};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.NEW_USER_REC=1]="NEW_USER_REC",e[e.NEW_DEVICE_REC=2]="NEW_DEVICE_REC"}(r||(r={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.GARDEN=1]="GARDEN",e[e.FARM=2]="FARM",e[e.RANCH=3]="RANCH",e[e.FIT=4]="FIT",e[e.DAILY=5]="DAILY",e[e.HOUSE=6]="HOUSE"}(a||(a={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.GARDEN=10]="GARDEN",e[e.FARM=40]="FARM",e[e.RANCH=82]="RANCH",e[e.FIT=85]="FIT",e[e.DAILY=19]="DAILY",e[e.HOUSE=110]="HOUSE"}(s||(s={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LU_SEARCH=1]="LU_SEARCH"}(c||(c={})),function(e){e[e.WAIST_RECOMMEND=0]="WAIST_RECOMMEND",e[e.ULIKE_RECOMMEND=0]="ULIKE_RECOMMEND",e[e.SIMILAR=100]="SIMILAR",e[e.WISHING=2]="WISHING"}(l||(l={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.COUPON=1]="COUPON",e[e.TOPIC=4]="TOPIC",e[e.BEST_SELLER=7]="BEST_SELLER",e[e.CPT=-1]="CPT"}(d||(d={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.TEHUI=2]="TEHUI"}(u||(u={}));var m="https://manortk.pinduoduo.com/me.gif",g="http://manortk.htj.pdd.net/me.gif"},FxVL:function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"i",(function(){return v})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return _})),n.d(t,"e",(function(){return b}));var o=n("LZ1O"),i=n("FORR"),r=n("OfVG"),a="undefined"!=typeof window,s=function(e){var t=e||{},n=t.ad_product_type,o=void 0===n?0:n,r=t.live_status,a=void 0===r?0:r,s=t.live_url,c=void 0===s?"":s,l=t.h5_live_url,d=void 0===l?"":l,u=(Number(o)===i.a.LIVE||Number(o)===i.a.FAST_LIVE)&&1===Number(a),p=!!(c||"").toString().trim()&&!!(d||"").toString().trim();return u&&p},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.oLogger,n=void 0===t?{}:t,i=e.pageName,r=void 0===i?"":i,a=o.a.getFunctions(),s=a.coreUtil,c=s.getCurrentPageName(),l=c.pathname,d=c.link;return{pageName:r=r||l,oLogger:n=Object.assign({},n||{},{link:d})}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.a.getFunctions(),s=n.coreUtil,l=n.pddAuth,d=Object(r.e)(s.isWeapp)&&s.isWeapp();if((a||d)&&e){var u=o.a.getFunctions(),p=u.requestUtil,m=c({oLogger:t,pageName:""}),g=m.pageName,f=m.oLogger,v="[".concat(g,"] :: cartoon-goods-plugins > logger: ").concat(JSON.stringify(f));try{return l.getUid().then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n={pdd_uid:t,event_type:e,event_message:v},o=Object(r.g)()?i.l:i.k;return p.manortkRequest(o,{method:"POST",params:n})})).catch((function(e){console.error("cartoon-goods-plugins :: logInToCat > reject",e)}))}catch(e){console.error("cartoon-goods-plugins :: logInToCat > auth",e)}}};function d(e){for(var t=e=e||{},n=t.ad,o=t.sub_items,i=void 0===o?[]:o,r=(t.link_unit||{}).info_to_second_page,a=void 0===r?"":r,s=[],c=0,l=(i||[]).length;c<l;c++){var d=i[c]||{},u=d.thumb_url,p=d.goods_id,m=d.link_unit||{},g=m.ad_id,f=m.lu_query,v=m.trigger_goods_id,h=m.default_price,_=m.coupon_price,b=m.info_to_second_page,y=m.creative_id;s.push({creative:{creative_id:y,image_url:u},goods_id:p,ad_id:g,query:f,trigger_goods_id:v,default_price:h,coupon_price:_,ad_to_second_page:b})}return{info_to_second_page:a,recommend_query_ad_single_list:s,track_log_fields:n}}function u(e){var t=i.e.DEFAULT,n=i.e.LU_SEARCH,o=i.d.WAIST_RECOMMEND,r=e||{},a=r.lu_general_type,c=void 0===a?t:a,l=r.link_unit,u=void 0===l?{}:l,p=r.sub_items,m=void 0===p?[]:p;c=c||t,m=m||[];var g=(u=u||{}).lu_style_type,f=e||{},v=f.nest_ad_type,h=void 0===v?0:v,_=f.hole_size,b=void 0===_?1:_;if(2===Number(h)&&2===Number(b))return Object.assign({},e,{elem_type:i.c.RankingList});if(c!==n||!m.length)return Object.assign({},e,{elem_type:s(e)?i.c.LvGoods:i.c.Goods});if(g===o){var y=d(e)||{},O=y.recommend_query_ad_single_list||[];return O.length>4&&(O=O.slice(0,4)),4===O.length?Object.assign({},y,{elem_type:i.c.Recommend}):(console.error("pdd-cartoon-goods-plugins :: formatDefault > 腰部推荐数据不合法"),null)}return Object.assign({},e,{elem_type:s(e)?i.c.LvGoods:i.c.Goods})}var p=function(e,t){t&&Object(r.e)(t)||(t=function(e){return e});for(var n=[],o=0,a=(e=e||[]).length;o<a;o++){var s=e[o]||{}||{},c=s.product_type,l=void 0===c?1:c,d=s.goods,p=void 0===d?{}:d,m=s.mall,g=void 0===m?{}:m,f=s.cpt,v=void 0===f?{}:f,h=s.topic,_=void 0===h?{}:h;if(p=p||{},g=g||{},v=v||{},_=_||{},(l=Number(l)||i.g.Goods)===i.g.Mall&&Object.keys(g).length>0){var b=g.hole_type,y=void 0===b?2:b;n.push(t(Object.assign({},g,{elem_type:1===y?i.c.Vmall:i.c.Hmall})))}else if(l===i.g.Topic&&Object.keys(_).length>0)n.push(t(Object.assign({},_,{elem_type:i.c.Topic})));else if(l===i.g.Cpt&&Object.keys(v).length>0)n.push(t(Object.assign({},v,{elem_type:i.c.CPT})));else if(Object.keys(p).length>0){var O=u(p)||{};Object.keys(O).length>0&&n.push(t(O))}}return n},m=function(e){var t=(e=e||[]).filter((function(e){var t=(e||{}).in_sliding_window;return void 0!==t&&t})),n=e.filter((function(e){var t=(e||{}).in_sliding_window;return!(void 0!==t&&t)})),o=e.findIndex((function(e){var t=(e||{}).in_sliding_window;return void 0!==t&&t}));return o<0||n.splice(o,0,{elem_type:i.c.Sliding,sliding_goods:t.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},e||{},{elem_type:i.c.SGoods})}))}),n},g=function(e){var t=d(((e=(e||[]).filter((function(e){e=e||{};var t=Number(e.product_type)||i.g.Goods,n=(e.goods||{}).lu_general_type,o=void 0===n?i.e.DEFAULT:n;return t===i.g.Goods&&Number(o)===i.e.LU_SEARCH})).map((function(e){return e.goods})))||[]).find((function(e){var t=(e||{}).link_unit,n=((void 0===t?{}:t)||{}).lu_style_type;return Number(void 0===n?0:n)===i.d.SIMILAR}))||{});return Object.assign({},t,{elem_type:i.c.Similar})},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(e=e||{}).item_list||[];if((n||[]).length>0)return n;var o=e||{},r=o.goods_list||[],a=o.resultBundle||[];if(!r.length&&!a.length)return[];for(var s=[],c=0,l=r.length;c<l;c++){var d=r[c]||{},p=Number(d.source_type)||i.i.DEFAULT;p===i.i.TOPIC&&(d.elem_type=i.c.Topic),p===i.i.CPT&&(d.elem_type=i.c.CPT),p||(d=u(d)),Object.keys(d||{}).length>0&&s.push(d)}for(var m=0,g=a.length;m<g;m++){var f=a[m]||{};if(f.mall_id){var v=Number(f.hole_type)||2,h=Number(f.position)||0;(h=(h-t)%20)>=s.length&&(h=s.length-1),h%2==1&&2===v&&(h-=1),f.elem_type=2===v?i.c.Hmall:i.c.VGoods,s.splice(h,0,f)}}return s},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.a.getFunctions(),n=t.coreUtil,i=t.navigation;if(a&&Object(r.e)(i.replaceURL)){for(var s=location.pathname,c=location.protocol,l=location.host,d=n.parseUrlQuery(Object(r.b)())||{},u=0,p=Object.keys(e).length;u<p;u++)isNaN(e.sp)||(d.sp=e.sp),Object(r.j)(e.opt_id)||(d.opt_id=e.opt_id),Object(r.j)(e.sub_opt_id)||(d.sub_opt_id=e.sub_opt_id),e.list_id&&(d.list_id=e.list_id),e.sub_app_name?d.sub_app_name=e.sub_app_name:delete d.sub_app_name,e.sub_scene_id?d.sub_scene_id=e.sub_scene_id:delete d.sub_scene_id;Object.keys(d).length>0&&(s=n.appendQuery(d,"".concat(c,"//").concat(l).concat(s)));try{i.replaceURL(s)}catch(e){}}},h=function(){var e=(o.a.getFunctions().platformUtil||{}).getCurrentPlatform,t=void 0===e?function(){return{}}:e;return!!Object(r.e)(t)&&t().isNativePlatform},_=function(){var e=(o.a.getFunctions().platformUtil||{}).getCurrentPlatform,t=void 0===e?function(){return{}}:e;return!!Object(r.e)(t)&&t().isWeChatMiniProgram},b=function(e,t){if(t=t||e,!h())return!1;var n=o.a.getFunctions().platformUtil||{},i=n.compareVersion,a=void 0===i?function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!1}:i,s=n.getCurrentPlatform,c=void 0===s?function(){return{}}:s,l=n.PLATFORM,d=void 0===l?{}:l;if(!Object(r.e)(c)||!d)return!1;var u=c()||{},p=!!d.PddAndroid&&u.platform===d.PddAndroid?e:t;return!!Object(r.e)(a)&&a(u.version,p)>=0}},Gvwk:function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),g=n.n(m),f=function(e){function t(){var e;return i()(this,t),(e=c()(this,d()(t).apply(this,arguments))).observer=null,e.DomNode=null,e.timer=null,e.provideOptions=function(){e.DomNode&&e.registerImprToComponent()},e.registerImprToComponent=function(){var t=e.props,n=t.threshold,o=void 0===n?.75:n,i=t.rootMargin,r={threshold:o,rootMargin:(void 0===i?"0px":i)||"0px",root:null};e.observer=new IntersectionObserver(e.observerCallBack,r),e.observer.observe(e.DomNode)},e.observerCallBack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.singleTracking(t)}))},e.singleTracking=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props,o=n.onEnter,i=n.onLeave,r=n.doImpr;e.isItemIn(t)?(r&&e.trackingAction(),o&&o(t)):i&&i(t)},e.trackingAction=function(){e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){var t=e.DomNode.getBoundingClientRect().top;if(!(t<-200||t>800)){var n=e.props.once;e.props.doTracking&&e.props.doTracking((function(){e.observer&&e.DomNode&&n&&e.observer.unobserve(e.DomNode)}),{})}}),300)},e.isItemIn=function(t){var n=e.props.threshold,o=void 0===n?.75:n;return t.isIntersecting&&t.intersectionRatio>=o},e}return p()(t,e),a()(t,[{key:"componentDidMount",value:function(){n("Wr5T"),this.provideOptions()}},{key:"componentWillUnmount",value:function(){this.observer&&this.DomNode&&this.observer.unobserve(this.DomNode),this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this;return g.a.createElement("div",{className:"cartoon-widgets-impr",ref:function(t){e.DomNode=t},style:{height:"100%"}},this.props.children)}}]),t}(m.Component);f.defaultProps={once:!0,threshold:.75,rootMargin:"0px"},t.a=f},IFnD:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return y}));var o,i=n("rIj9"),r=n("xnWZ"),a=n("uf4C"),s=n("h7Yj"),c=n("lv9X"),l=1,d=2,u=4,p=5,m=6,g=7,f=8,v=9,h=10,_=11,b=12,y=function(e){var t;if(!("undefined"!=typeof window))return e&&e.from_packenv?l:p;if(r.default.isNativePlatform&&r.default.isNativePlatform()&&r.default.isComponentPackageEnv&&r.default.isComponentPackageEnv())r.default.Current===r.default.IOS?t=l:r.default.Current===r.default.Android&&(t=u);else{t=d;var n=window.navigator.userAgent,o=/iPad|iPhone|iPod/.test(n)&&!window.MSStream,i=/android/i.test(n);r.default.Current===r.default.WeChat&&i&&(t=m),r.default.Current===r.default.WeChat&&o&&(t=v),r.default.Current===r.default.WxApp&&i&&(t=g),r.default.Current===r.default.WxApp&&o&&(t=h),r.default.Current===r.default.IOS&&(t=_),r.default.Current===r.default.Android&&(t=f)}var a=((window||{}).location||{}).href||"";return(Object(s.parseUrlQuery)(a)||{}).from_packenv&&(t=l),"undefined"!=typeof wx&&wx.getAppInfo&&wx.getAppInfo().isElfin&&(t=b),t};t.a={apiRequest:function(e,t,n,r,s){var c=n,l=y(),d=t;if("POST"===e)(c=c||{}).fun_pl=l;else if("GET"===e){var u=-1!==t.indexOf("?")?"&":"?";d=t+u+"fun_pl=".concat(l)}var p=!1;location.href.indexOf("hutaojie")>-1&&(p=!0);var m=a.default.instance.getPageID();(o=o||Object(i.createDefaultAxios)({pageInfo:{pageId:m},useGlbDomain:p},{defaultErrorHandler:function(){}}))[e.toLowerCase()](d,c).then((function(e){if(e.error_code){var t=new Error(e.error_msg);throw t.errorCode=e.error_code,t.response={data:e},t}r(e)})).catch((function(e){s(e.errorCode,e.response&&e.response.data||{})}))},manortkRequest:function(t,n,o,i,r){var a=o.degradeTK||{},s=a.forceNoDegrade,l=void 0!==s&&s,d=a.sampleRate,u=void 0===d?1:d,p=a.customTime,m=void 0===p?{startStamp:16092324e5,endStamp:1609254e6}:p,g=Object(c.b)(m);if(g&&!l&&!Object(c.c)(u))return Promise.resolve({});g&&!l||(u=c.a[100]),t=t||"POST",(o=o||{}).sample_rate=u;var f={method:t,headers:{"Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify(o)};return e(n,f).then((function(e){i&&i(e)})).catch((function(e){r&&r(e)}))}}}).call(this,n("BlQd"))},JPpk:function(e,t,n){"use strict";var o=n("RIqP"),i=n.n(o),r=n("lwsE"),a=n.n(r),s=n("W8MJ"),c=n.n(s),l=n("LZ1O"),d=n("OfVG"),u=n("FORR"),p=n("FxVL"),m=n("glE4"),g="api/manor-gateway/manor/query/search/ads",f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;a()(this,e),this.baseUrl=g,this.beginFirst=!0,this.postClickGoods=!0,this.clickedIds={},this.queries={},this.extendParams={},this.maxPage=-1;var o={},i=l.a.getFunctions(),r=i.coreUtil;Object(d.f)()&&(o=r.parseUrlQuery(Object(d.b)())||{}),this.queries=o;var s=o,c=s.prev_goods,u=void 0===c?"":c;u&&(this.clickedIds[0]=[u]),this.reset(t,n)}return c()(e,[{key:"runInContructor",value:function(e){var t=(e||{}).dataList;((void 0===t?[]:t)||[]).length>0&&(this.beginFirst=!1)}},{key:"reset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.baseUrl,n=e||{},o=n.beginFirst,i=void 0===o?this.beginFirst:o,r=n.postClickGoods,a=void 0===r?this.postClickGoods:r,s=n.extendParams,c=void 0===s?this.extendParams:s,l=n.maxPage,d=void 0===l?this.maxPage:l;this.baseUrl=t,this.beginFirst=i,this.postClickGoods=a,this.extendParams=c,this.maxPage=d,Object(m.a)().reset(e)}},{key:"buildExtParams",value:function(){var e=this.queries||{},t=e.trigger_goods_id,n=void 0===t?"":t,o=e.query_goods_id,i=void 0===o?"":o,r=e.recommend_ad_idx,a=void 0===r?0:r,s=e.recommend_ad_list,c=void 0===s?"":s,l=e.recommend_ad_click_text,d=void 0===l?0:l;n=(n||"").trim(),i=(i||"").trim(),c=(c||"").trim(),a=Number(a),d=Number(d)||0;var u=[];return n&&u.push("triggerGoodsId,".concat(n)),i&&u.push("goodsId,".concat(i)),a>=0&&u.push("idx,".concat(a)),d&&u.push("clickQuery,".concat(!0)),c&&u.push("recommendList,".concat(c)),u.join(";")}},{key:"isFetchEnded",value:function(){var e=Object(m.a)(),t=this.beginFirst?1:e.page+1;return this.maxPage>0&&t>this.maxPage}},{key:"fetch",value:function(e){var t=this,n=Object(m.a)(),o=n.getBaseParams(),i=e||{},r=i.page,a=void 0===r?o.page:r,s=i.size,c=void 0===s?o.size:s,d=i.listId,u=void 0===d?o.listId:d,g=this.queries||{},f=g.query,v=void 0===f?"":f,h=g.info_to_second_page,_=void 0===h?"":h,b=l.a.getFunctions().requestUtil,y=o.destAppName,O=o.destSceneId,I={query:v||"百货",page_sn:o.pageSn,app_name:y,scene_id:O,list_id:"".concat(y,"_").concat(o.listId,"_0"),page:this.beginFirst?1:n.page+1,size:this.beginFirst?n.page*n.size:n.size},k=(this.clickedIds||{})[0]||[],E=this.postClickGoods;k.length>0&&E&&(I.click_goods_ids=k.join(",")),I.ad=this.buildExtParams(),_&&(I=Object.assign({},I,{info_to_second_page:_})),n.reset({page:a,size:c,listId:u});var S=this.extendParams||{};return I=Object.assign({},S,I),(o.getAntiContent||function(){return Promise.resolve("")})(!0).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return b.baseRequest(t.baseUrl,{method:"POST",params:Object.assign({},I,{anti_content:encodeURIComponent(e)})})})).then((function(e){var o=(e||{}).items,i=void 0===o?[]:o,r=Object(p.c)(i||[]);return(r||[]).length>0&&!t.beginFirst&&n.incrPage(),(r||[]).length>0&&(t.beginFirst=!1),{page:a,size:c,list:r||[]}}))}},{key:"beforeLeave",value:function(e){var t=(e||{}).data,n=((void 0===t?{}:t)||{}).goods_id,o=void 0===n?"":n;(this.clickedIds[0]||[]).length||(this.clickedIds[0]=[]),o&&this.clickedIds[0].push(o)}},{key:"beforePatch",value:function(e,t){for(var n=[].concat(i()(e),i()(t)),o=0,r=0,a=n.length;r<a;r++){var s=n[r]||{},c=n[r-1]||{},l=(n[r]||{}).elem_type,d=void 0===l?0:l;d=Number(d)||0,o%2!=1||d!==u.c.Hmall&&d!==u.c.Sliding?(n[r]||{}).impr_index=o:(n[r-1]=Object.assign({},s,{impr_index:c.impr_index}),n[r]=Object.assign({},c,{impr_index:o})),o+=1,d!==u.c.Hmall&&d!==u.c.Sliding||(o+=1)}return n}}]),e}();t.a=f},LZ1O:function(e,t,n){"use strict";var o={};o=n("U0PJ"),t.a=o},Luio:function(e,t,n){"use strict";var o,i=n("lwsE"),r=n.n(i),a=n("W8MJ"),s=n.n(a),c=n("lSNA"),l=n.n(c),d=n("LZ1O"),u=n("FORR"),p=n("OfVG"),m=n("FxVL"),g=n("glE4"),f=(o={},l()(o,u.c.Goods,"goods.html"),l()(o,u.c.Hmall,"mall_page.html"),l()(o,u.c.Similar,"cartoon_fruiter_wf6.html"),l()(o,u.c.HGoods,"goods.html"),l()(o,u.c.Recommend,"cartoon_fruiter_wf6.html"),l()(o,u.c.Topic,"cartoon_sub_potato2.html"),o),v=function(){function e(t,n){r()(this,e),this.sp=0,this.needBackPosition=!0,this.prodType=u.b.DEFAULT,this.bizType="2002",this.bizTag="",this.isFirstUpdate=!1,this.adFowardExParams=null,this.adFowardExParams=n;var o=Object.assign({isFirstUpdate:!0},t),i=o.sp,a=void 0===i?-1:i,s=d.a.getFunctions().coreUtil;if(Object(p.f)()&&a<0){var c=s.parseUrlQuery(Object(p.b)())||{};a=Number(c.sp)||0}o=Object.assign({},o,{sp:a}),this.reset(o),Object(p.f)()&&this.initPagePosition(a)}return s()(e,[{key:"reset",value:function(e){var t=e||{},n=t.sp,o=void 0===n?this.sp:n,i=t.prodType,r=void 0===i?this.prodType:i,a=t.bizType,s=void 0===a?this.bizType:a,c=t.bizTag,l=void 0===c?this.bizTag:c,d=t.isFirstUpdate,u=void 0===d?this.isFirstUpdate:d,p=t.needBackPosition,m=void 0===p?this.needBackPosition:p;this.needBackPosition=m,this.isFirstUpdate=u,this.bizType=s||this.bizType,this.bizTag=l||this.bizTag,this.prodType=r||this.prodType,this.sp=o||0,Object(g.a)().reset(e)}},{key:"initPagePosition",value:function(e){if(!Object(m.f)()){var t=document.body.scrollHeight||document.documentElement.scrollHeight,n=document.body.offsetHeight||document.documentElement.clientHeight;if(this.isFirstUpdate&&e&&!(t<n+100)){this.isFirstUpdate=!1;var o=d.a.getFunctions().page;setTimeout((function(){o.setScrollTop(e)}),0)}}}},{key:"getPluginConfig",value:function(){return Object(g.a)().getBaseParams().monitorCfg||{}}},{key:"setScrollPosition",value:function(e){var t=d.a.getFunctions().page,n=Object(g.a)().getBaseParams(),o=t.getScrollTop(),i=Object.assign({},e,{opt_id:n.optId,sub_opt_id:n.subId,size:n.size,sp:1,app_name:n.appName,sub_app_name:"",sub_scene_id:""});n.subAppName&&n.appName!==n.subAppName&&(i=Object.assign({},i,{sub_app_name:n.subAppName})),n.subSceneId&&n.sceneId!==n.subSceneId&&(i=Object.assign({},i,{sub_scene_id:n.subSceneId})),(this.needBackPosition||n.page<=1)&&(i=Object.assign({},i,{sp:o,page:n.page,list_id:n.listId})),t.setPageScrollPosition({queries:i})}},{key:"getMissionRecordType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.c.Goods,t=Object(g.a)().getBaseParams()||{},n=t.destAppName,o=t.multiMissionLogCfg||{},i=t.missionLogCfg||{};Object.keys(i).length||(i=o[n]||{});var r=i[e||u.c.Goods]||{},a=r||{},s=a.missionRecId,c=void 0===s?0:s;return Number(c)||0}},{key:"getBizTag",value:function(){var e=(Object(g.a)().getBaseParams()||{}).bizTag;return this.bizTag||e}},{key:"getBizType",value:function(){var e=(Object(g.a)().getBaseParams()||{}).bizType;return this.bizType||e}},{key:"getMissionLogId",value:function(e){var t=Object(g.a)().getBaseParams()||{},n=t.destAppName,o=t.multiMissionLogCfg||{},i=t.missionLogCfg||{};Object.keys(i).length||(i=o[n]||{});var r=i[e||u.c.Goods]||{};Object.keys(r).length||(r=i[u.c.Goods]||{});var a=(r||{}).missionRecId;return void 0===a?0:a}},{key:"afterLoad",value:function(e){var t=Object(g.a)(),n=t.getBaseParams(),o=e||{},i=o.optId,r=void 0===i?n.optId:i,a=o.subId,s=void 0===a?n.subId:a;t.reset({optId:r,subId:s})}},{key:"afterUpdate",value:function(){var e=this;if(this.isFirstUpdate&&this.sp&&!Object(m.f)()){this.isFirstUpdate=!1;var t=d.a.getFunctions().page;setTimeout((function(){t.setScrollTop(e.sp)}),0)}}},{key:"doForwarding",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,o=e.idx,i=void 0===o?0:o,r=e.type,a=void 0===r?0:r;if(a===u.c.Hmall||a===u.c.Vmall)return this.mallForward(n,i);if(a===u.c.Similar)return this.similarForward(n,i);if(a===u.c.Recommend)return this.recommendForward(n,i);if(a===u.c.Topic)return this.topicForward(n,i);if(a===u.c.LvGoods){var s=n||{},c=s.ext_info||{},l=c.liveToGd;if(!l)return this.liveRoomForward(n,i)}return a===u.c.LvMall?this.liveRoomForward(n,i):a!==u.c.RankingList?this.goodsForward(n,i):void 0}},{key:"getLandUrls",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(g.a)().getBaseParams(),n=t.destAppName,o=t.customCfg,i=t.landUrls,r={};r=Object.assign({},f,i||{});var a=(o||{})[n]||{},s=a=a[e]||{},c=s.land_page_url,l=s.landing_page_url,d=c||l||"";return d||r[e]}},{key:"getFowardExParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t={};t=Object(p.e)(this.adFowardExParams)?this.adFowardExParams():this.adFowardExParams||{};var n=Object(g.a)().getBaseParams(),o=n.destAppName;return(t=t[o]||{})[e]||{}}},{key:"getNavGoodsParams",value:function(e,t){var n=e||{},o=n.goods_id,i=void 0===o?"":o,r=n.mkt_domain,a=void 0===r?"":r,s=n.mkt_tr_sc,c=void 0===s?"":s,l=n.mkt_tr_token,d=void 0===l?"":l,p=n.creative_ad_info,g=void 0===p?{}:p,f=n.cost_type,v=void 0===f?0:f,h=n.duoduo_type,_=void 0===h?"":h,b=n.cps_sign,y=void 0===b?"":b,O=n.pid,I=void 0===O?"":O,k=(g||{}).image_id,E=void 0===k?"":k,S=this.getMissionRecordType(u.c.Goods),w=this.getFowardExParams(u.c.Goods),N=Object.assign({goods_id:i,gallery_id:E,page_el_sn:S,_oc_mkt_domain:a,_oc_mkt_tr_sc:c,_oc_mkt_tr_token:d},w),C=this.getBizType();C&&(N=Object.assign({},N,{_oc_biz_type:C}));var j=this.getBizTag();j&&(N=Object.assign({},N,{_oc_biz_tag:j})),4===Number(v)&&(N=Object.assign({},N,{duoduo_type:_,_oc_duoduo_type:_,_oc_cps_sign:y,_oc_pid:I})),this.prodType===u.b.GARDEN&&(N.page_from=56);var P=this.getMissionLogId(u.c.Goods);return!isNaN(P)&&P||Object(m.h)(2915,{_x_fun_source_el:P,type:"getNavGoodsParams"}),P&&(N._x_fun_source_el=P),N}},{key:"goodsForward",value:function(e,t){var n=(e||{}).goods_id,o=void 0===n?"":n;if(o){var i=this.getNavGoodsParams(e,t);i=this.beforeNavigate({data:e,srcParams:i,index:t,type:u.c.Goods});var r=d.a.getFunctions(),a=r.navigation,s=r.coreUtil,c=s.appendQuery(i,"goods.html");if(Object(p.e)(s.isWeapp)&&s.isWeapp()||this.setScrollPosition({prev_goods:o}),Object(p.e)(a.uniformForward))return a.uniformForward(c);Object(p.e)(s.isWeapp)&&s.isWeapp()?(c=s.appendQuery(i,"/package_c/goods/goods"),a.navigate(c)):a.forward(c)}}},{key:"getNavMallParams",value:function(e,t){var n=e=e||{},o=n.mall_id,i=void 0===o?"":o,r=n.mkt_domain,a=void 0===r?"":r,s=n.mkt_tr_sc,c=void 0===s?"":s,l=n.mkt_tr_token,g=void 0===l?"":l,f=n.beautified_mall,v=void 0!==f&&f,h=n.landing_page_url,_=void 0===h?"":h,b=n.cartoon_land_url,y=void 0===b?"":b,O=_.toString(),I=y.toString(),k=d.a.getFunctions().coreUtil;if(v&&I){var E=k.parseUrlQuery(Object(p.b)());return Object.assign({},E,{mall_id:i})}var S=this.getFowardExParams(u.c.Hmall),w=Object.assign({mkt_domain:a,mkt_tr_sc:c,mkt_mall_token:g},S),N=this.getMissionLogId(u.c.Hmall);return!isNaN(N)&&N||Object(m.h)(2915,{_x_fun_source_el:N,type:"getNavMallParams"}),N&&(w._x_fun_source_el=N),O?w:Object.assign({},w,{mall_id:i})}},{key:"mallForward",value:function(e,t){var n=e=e||{},o=n.mall_id,i=void 0===o?"":o,r=n.beautified_mall,a=void 0!==r&&r,s=n.landing_page_url,c=void 0===s?"":s,l=n.cartoon_land_url,p=void 0===l?"":l;if(i){var m=this.getNavMallParams(e,t),g=c.toString(),f=p.toString(),v=d.a.getFunctions(),h=v.navigation,_=v.coreUtil;g||(g=this.getLandUrls(u.c.Hmall)),a&&f&&(g=f),g=_.appendQuery(m,g),h.forward(g)}}},{key:"getNavSimilarParams",value:function(e,t){for(var n=e=e||{},o=n.similar_list,i=n.click_idx,r=n.click_text,a=o.recommend_query_ad_single_list,s=o.is_hidden_banner,c=o.info_to_second_page,l=e,d=l.query,p=l.trigger_goods_id,f=void 0===p?"":p,v=l.goods_id,h=[],_=0,b=(a||[]).length;_<b;_++){var y=a[_]||{},O=y.creative,I=y.goods_id,k=y.trigger_goods_id,E=y.query,S=(O||{}).creative_id,w=void 0===S?"undefined":S;h.push("".concat(E,"_$_").concat(w,"_$_").concat(I,"_$_").concat(k))}var N=h.join(","),C=Object(g.a)().getBaseParams(),j=C.appName,P=C.subAppName,T=C.sceneId,L=C.subSceneId,x=this.getFowardExParams(u.c.Similar),A=Object(g.a)().getBaseParams(),G=A.destAppName,R=(A.customCfg||{})[G]||{},D=R=R[u.c.Similar]||{},M=D.land_app_name,U=D.land_scene_id;M=M||P||j,U=U||L||T;var F=Object.assign({app_name:M,scene_id:U,query:d||"百货",trigger_goods_id:f,query_goods_id:v,recommend_ad_idx:i,recommend_ad_list:N},x);s&&(F.is_hidden=1),r&&(F.recommend_ad_click_text=1),c&&(F=Object.assign({},F,{info_to_second_page:c}));var W=this.getMissionLogId(u.c.Similar);return!isNaN(W)&&W||Object(m.h)(2915,{_x_fun_source_el:W,type:"getNavSimilarParams"}),W&&(F._x_fun_source_el=W),F}},{key:"similarForward",value:function(e,t){var n=(e=e||{}).similar_list.landing_page_url,o=void 0===n?"":n;o||(o=this.getLandUrls(u.c.Similar));var i=this.getNavSimilarParams(e,t),r=d.a.getFunctions(),a=r.navigation,s=r.coreUtil.appendQuery(i,o);a.forward(s)}},{key:"getNavTopicParams",value:function(e,t){var n=e=e||{},o=n.goods_id,i=n.main_title,r=n.tag_id,a=this.getFowardExParams(u.c.Topic),s=Object(g.a)().getBaseParams(),c=s.appName,l=s.subAppName,d=s.sceneId,p=s.subSceneId,f=Object.assign({app_name:l||c,scene_id:p||d,goods_ids:o,ref_idx:t,main_title:i,tag_id:r},a),v=this.getMissionLogId(u.c.Topic);return!isNaN(v)&&v||Object(m.h)(2915,{_x_fun_source_el:v,type:"getNavTopicParams"}),v&&(f._x_fun_source_el=v),f}},{key:"topicForward",value:function(e,t){var n=(e=e||{}).landing_page_url,o=void 0===n?"":n;o||(o=this.getLandUrls(u.c.Topic));var i=this.getNavTopicParams(e,t),r=d.a.getFunctions(),a=r.navigation,s=r.coreUtil.appendQuery(i,o);a.forward(s)}},{key:"getNavRecommendParams",value:function(e,t){for(var n=e=e||{},o=n.recommend_list,i=n.click_idx,r=n.click_text,a=o.recommend_query_ad_single_list,s=o.is_hidden_banner,c=o.info_to_second_page,l=e,d=l.query,p=l.trigger_goods_id,f=void 0===p?"":p,v=l.goods_id,h=l.ad_to_second_page,_=void 0===h?"":h,b=[],y=0,O=(a||[]).length;y<O;y++){var I=a[y]||{},k=I.creative,E=I.goods_id,S=I.trigger_goods_id,w=I.query,N=(k||{}).creative_id,C=void 0===N?"undefined":N;b.push("".concat(w,"_$_").concat(C,"_$_").concat(E,"_$_").concat(S))}var j=b.join(","),P=this.getFowardExParams(u.c.Recommend),T=Object(g.a)().getBaseParams(),L=T.destAppName,x=(T.customCfg||{})[L]||{},A=x=x[u.c.Recommend]||{},G=A.land_app_name,R=A.land_scene_id,D=Object.assign({app_name:G,scene_id:R,query:d||"百货",trigger_goods_id:f,query_goods_id:v,recommend_ad_idx:i,sug_idx:t,recommend_ad_list:j,lu_ext:_},P);s&&(D.is_hidden=1),r&&(D=Object.assign({},D,{recommend_ad_click_text:1})),c&&(D=Object.assign({},D,{info_to_second_page:c}));var M=this.getMissionLogId(u.c.Recommend);return!isNaN(M)&&M||Object(m.h)(2915,{_x_fun_source_el:M,type:"getNavRecommendParams"}),M&&(D._x_fun_source_el=M),D}},{key:"recommendForward",value:function(e,t){var n=((e=e||{}).recommend_list||{}).landing_page_url,o=void 0===n?"":n;o||(o=this.getLandUrls(u.c.Recommend));var i=this.getNavRecommendParams(e,t),r=d.a.getFunctions(),a=r.navigation,s=r.coreUtil.appendQuery(i,o);a.forward(s)}},{key:"getNavLiveRoomParams",value:function(e,t,n){var o=(e=e||{})||{},i=o.room_id,r=void 0===i?"":i,a=o.elem_type,s=void 0===a?u.c.LvGoods:a,c=o.mkt_tr_sc,l=void 0===c?"":c,d=o.mkt_domain,p=void 0===d?"":d,g=o.mkt_tr_token,f=void 0===g?"":g,v=o.g_mkt_tr_sc,h=void 0===v?"":v,_=o.g_mkt_domain,b=void 0===_?"":_,y=o.g_mkt_tr_token,O=void 0===y?"":y,I=o.g_mkt_type,k=void 0===I?"":I,E=o.url_tracks,S=void 0===E?{}:E,w=o.cost_type,N=void 0===w?"":w,C=o.dsp_origin,j=void 0===C?"":C,P={_live_mkt_trade_scene:l,_live_mkt_domain:p,_live_mkt_mall_token:f,_live_fruit_source_el:this.getMissionRecordType(s)};if(h&&b&&O&&k&&(P=Object.assign({},P,{_oc_mkt_type:k,_oc_mkt_tr_sc:h,_oc_mkt_domain:b,_oc_mkt_tr_token:O})),this.getBizTag()&&(P._oc_biz_tag=this.bizTag,P._live_oc_biz_tag=this.bizTag),5===N){var T=(S||{}).refer_banner_middle,L=void 0===T?"":T;P._ex_banner_middle=L}0===Number(j)&&(P._live_data_from=1e3);var x=(n||{}).goods_id,A=void 0===x?"":x;A&&(P._live_goods_id=A);var G=this.getMissionLogId(u.c.LvGoods);return!isNaN(G)&&G||Object(m.h)(2915,{_x_fun_source_el:G,type:"getNavLiveRoomParams"}),G&&(P._x_fun_source_el=G),Object.assign({page_from:3,room_id:r},P)}},{key:"liveRoomForward",value:function(e,t,n){var o=Object(m.e)("4.88.0","4.89.0"),i=e||{},r=i.live_url,a=void 0===r?"":r,s=i.h5_live_url,c=void 0===s?"":s;Object(m.f)()&&o&&(c=a);var l=this.getNavLiveRoomParams(e,t,n),u=d.a.getFunctions(),p=u.navigation,g=u.coreUtil;if(!o)return c=g.appendQuery(l,c),p.forward(c);l=Object.assign({},l,{use_urm_navigation:1}),c=g.appendQuery(l,c),p.forward(c,(function(){}),null,{componentFirst:!0})}},{key:"beforeNavigate",value:function(e){var t=e.data,n=void 0===t?{}:t,o=e.srcParams,i=void 0===o?{}:o,r=(e.index,e.type),a=void 0===r?u.c.Goods:r,s=i||{};if(a>0&&a!==u.c.Goods)return s;try{var c=(n||{}).link_url_ext||{},l=((this.getPluginConfig()[u.c.Goods]||{}).linkExt||{}).eventId||374,d=Object(p.d)(i,c);d.length>0&&Object(m.h)(l,{keys:d,srcParams:i,extPrams:c}),s=Object.assign({},s,c)}catch(e){}return s}}]),e}();t.a=v},OfVG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"j",(function(){return i})),n.d(t,"h",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"n",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return v})),n.d(t,"l",(function(){return h}));var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";t=t||"yyyy-MM-dd";var n={"M+":(e=e||new Date).getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),S:e.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t},i=function(e){return"[object Undefined]"===Object.prototype.toString.call(e)},r=function(e){return"[object Object]"===Object.prototype.toString.call(e)},a=function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=function(e){return"[object Function]"===Object.prototype.toString.call(e)},c=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){return"undefined"!=typeof window},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return e.replace(new RegExp("^\\"+t+"+|\\"+t+"+$","igm"),"")},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"eq",o=arguments.length>3?arguments[3]:void 0;return o&&(e=o(e)),"some"===n?(t=(t=a(t)?t:[t]).map((function(e){return o?o(e):e}))).indexOf(e)>=0:(a(t)&&(t=t[0]),o&&(t=o(t)),"ne"===n||"neq"===n?e!==t:"gt"===n?e>t:"ge"===n?e>=t:"lt"===n?e<t:"le"===n?e<=t:e===t)},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Date.now()-t;return function(){var o=Date.now();o-n>=t&&s(e)&&(n=o,e())}},m=function(e,t){e=e||{},t=t||{};var n=Object.keys(e),o=Object.keys(t);return n.filter((function(e){return o.indexOf(e)>-1}))},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;e=e||32;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,o="",i=0;i<e;i++)o+=t.charAt(Math.floor(Math.random()*n));return o},f=function(){return l()&&(window||{}).location.href||""},v=function(){return"m.hutaojie.com"===location.hostname},h=function(e){return e&&isNaN(e)?e:Number(e)||0}},RoDR:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a}));var o=n("jRgZ"),i=function(e){return"[object Function]"===Object.prototype.toString.call(e)},r=function(){return"undefined"!=typeof window},a=function(){return document.body.scrollTop+((document.documentElement||{}).scrollTop||0)};t.a={formatTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";t=t||"yyyy-MM-dd";var n={"M+":(e=e||new Date).getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),S:e.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t},isUndefined:function(e){return void 0===e},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:i,isInBrowser:r,strTrim:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return e.replace(new RegExp("^\\"+t+"+|\\"+t+"+$","igm"),"")},throttle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Date.now()-t;return function(){var o=Date.now();o-n>=t&&i(e)&&(n=o,e())}},getRandomString:function(e){e=e||32;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,o="",i=0;i<e;i++)o+=t.charAt(Math.floor(Math.random()*n));return o},setScrollTop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===e)return document.body.scrollTop=0,void((document.documentElement||{}).scrollTop=0);document.body.scrollTop=e,0===document.body.scrollTop&&((document.documentElement||{}).scrollTop=e)},getScrollTop:a,endOfToday:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.setHours(0,0,0,0),n=o.b.D,i=n-(Date.now()-t),r=Math.floor(i/o.b.H),a=Math.floor((i-o.b.H*r)/o.b.M),s=Math.floor((i-o.b.H*r-o.b.M*a)/o.b.S),c=i-o.b.H*r-o.b.M*a-o.b.S*s;return{hour:r,min:a,sec:s,ms:c,total:i}},ahexToRgba:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new RegExp(/^#([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i);try{if(!t.test(e))return!1;var n=(e.match(t)||[])[1]||"";3!==n.length&&4!==n.length||(n=(n.match(/./g)||[]).reduce((function(e,t){return e+t+t}),""));var o=(n.match(/.{1,2}/g)||[]).map((function(e){return parseInt(e,16)}));return 4===o.length?(o[0]=+(o[0]/255).toPrecision(3),o.push(o.shift())):o.push(1),o.toString=function(){return"rgba(".concat(this[0],",").concat(this[1],",").concat(this[2],",").concat(this[3].toFixed(1),")")},o}catch(e){return!1}}}},S6Yx:function(e,t,n){"use strict";var o=n("q1tI"),i=n.n(o),r=n("pVnL"),a=n.n(r),s=(n("17x9"),n("QILm")),c=n.n(s),l=n("TSYQ"),d=n.n(l),u=n("91HH"),p=n("h7Yj"),m=n("x7kv"),g=n.n(m),f=Object(p.getCDNImgUrl)("/core-ui/spinner.png");setTimeout((function(){return e=f,void((new Image).src=e);var e}),0);var v=Object(u.withStyles)(g.a)((function(e){var t=e.className,n=e.bigger,o=c()(e,["className","bigger"]);return i.a.createElement("img",a()({src:f},o,{className:d()(g.a.root,t,n&&g.a.bigger)}))})),h=n("lSNA"),_=n.n(h),b=n("sxqM"),y=n.n(b);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var I=Object(u.withStyles)(y.a)((function(e){var t=e.className,n=e.style,o=e.bigger,r=e.hideBg,s=c()(e,["className","style","bigger","hideBg"]),l=r?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({backgroundColor:"transparent"},n):n;return i.a.createElement("div",a()({},s,{style:l,className:d()(y.a.root,t,o&&y.a.bigger)}))}));var k,E=function(e){var t=e.style,n=e.className,o=e.children,r=e.hideBg,s=e.ContainerProps,c=e.SpinnerImgProps,l=!!o;return i.a.createElement(I,a()({bigger:l,hideBg:r,style:t,className:n},s),i.a.createElement(v,a()({bigger:l},c)),r?"":o)};function S(){k&&k(),k=null}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k&&k(),k=Object(u.renderPopup)(i.a.createElement(E,t,e))}n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return w}))},U0PJ:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"initFunctions",(function(){return _})),n.d(t,"getFunctions",(function(){return b}));var o=n("ct/d"),i=n("3VHQ"),r=n("Fcpp"),a=n("IFnD"),s=n("h7Yj"),c=n("5Otn"),l=n("uf4C"),d=n("KoDT"),u=n("jWx1"),p=n("OfVG"),m={baseRequest:function(e,t){return Promise.reject("The baseRequest method is unsupported")},manortkRequest:function(e,t){return Promise.reject("The manortkRequest method is unsupported")}},g={setStorageSync:function(e,t){},getStorageSync:function(e){return""}},f={setStorageSync:function(e,t){},getStorageSync:function(e){return""}};if("undefined"!=typeof window){var v=window.localStorage;g=Object.assign({},g,{setStorageSync:function(e,t){v.setItem(e,t)},getStorageSync:function(e){return v.getItem(e)||""}});var h=window.sessionStorage;f=Object.assign({},f,{setStorageSync:function(e,t){h.setItem(e,t)},getStorageSync:function(e){return h.getItem(e)||""}})}m=Object.assign({},m,{baseRequest:function(e,t){var n=(t=t||{}).method||"GET";n=(n||"").toUpperCase();var o=l.default.instance.getPageSN(),i=e||"",r=t.params||{};("POST"!==n||r.page_sn||(r=Object.assign({},r||{},{page_sn:o})),"GET"===n)&&((s.parseUrlQuery(i)||{}).page_sn||""||(i+=-1!==i.indexOf("?")?"&":"?",i+="&page_sn=".concat(o)));return new Promise((function(e,t){a.a.apiRequest(n,i,r,(function(t){e(t)}),(function(e){t(e)}))}))},manortkRequest:function(t,n){var o=(n=n||{}).method||"POST";o=(o||"").toUpperCase();var i=n.params||null;if(Object(p.e)(a.a.manortkRequest))return a.a.manortkRequest(o,t,i);var r={method:o,headers:{"Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify(i)};return e(t,r).catch((function(){}))}});var _=function(e){},b=function(){return{navigation:o.default,platformUtil:d,page:{setPageScrollPosition:function(e,t){if((e=e||{}).queries=e.queries||{},"undefined"!=typeof document){var n=document.querySelector("#nav-bar");n&&(e.queries.nbsl=n.scrollLeft)}o.default.replaceQuery(e.queries,t)},setScrollTop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===e)return document.body.scrollTop=0,void((document.documentElement||{}).scrollTop=0);document.body.scrollTop=e,0===document.body.scrollTop&&((document.documentElement||{}).scrollTop=e)},getScrollTop:function(){return document.body.scrollTop+((document.documentElement||{}).scrollTop||0)}},logger:r.default,requestUtil:m,localStorage:g,sessionStorage:f,pddAuth:c,coreUtil:Object.assign({getCurrentPageName:function(){var e=location.pathname,t=e.indexOf("/")+1,n=e.indexOf(".html");return{name:e.substr(t,n-t),pathname:e,link:window.location.href}}},s||{}),nativeUtil:i,nativeNotification:u}}}.call(this,n("BlQd"))},VJO7:function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("FxVL"),c=n("OfVG"),l=n("FORR"),d=n("glE4"),u=function(){function e(t){i()(this,e),this.inspectCfg={},this.multiInspectCfg={},this.reset(t)}return a()(e,[{key:"reset",value:function(e){var t=e||{},n=t.inspectCfg,o=void 0===n?this.inspectCfg:n,i=t.multiInspectCfg,r=void 0===i?this.multiInspectCfg:i;this.inspectCfg=o,this.multiInspectCfg=r,Object(d.a)().reset(e)}},{key:"loadInspectConfig",value:function(){var e=Object(d.a)().getBaseParams()||{},t=e.destAppName,n=this.inspectCfg,o=this.multiInspectCfg||{};return Object.keys(n).length||(n=e.inspectCfg||{}),Object.keys(o).length||(o=e.multiInspectCfg||{}),Object.keys(n).length||(n=o[t]||{}),n||{}}},{key:"beforeLeave",value:function(e){var t=(e||{}).type,n=void 0===t?0:t;if(!n||n===l.c.Hmall||n===l.c.Vmall){var o=(e||{}).data||{},i=o.goods_id,r=void 0===i?"":i,a=o.mall_id,d=void 0===a?"":a,u=o.mkt_domain,p=void 0===u?"":u,m=o.mkt_tr_sc,g=void 0===m?"":m,f=o.mkt_tr_token,v={goods_id:r,mall_id:d,mkt_domain:p,mkt_tr_sc:g,mkt_tr_token:void 0===f?"":f,goodsType:n},h=this.loadInspectConfig();(Object.keys(h)||[]).forEach((function(e){var t=o[e],n=h[e],i=n.value,r=n.op,a=n.failedEventId,l=n.type;Object(c.k)(t,i,r,l)||Object(s.h)(a,v)}))}}}]),e}();t.a=u},"VP/J":function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),g=n.n(m),f=n("TSYQ"),v=n.n(f),h=n("/hlV"),_=(n("vFeT"),function(e){function t(e){var n;i()(this,t),(n=c()(this,d()(t).call(this,e))).parentRef=null,n.offsetWidth=0,n.isConnected=!1,n.initOptId=0,n.addInitMenu=function(){var e=n.props.mainId,t=void 0===e?n.initOptId:e,o=(n.state.data||[]).find((function(e){return Object(h.n)((e||{}).optId)===Object(h.n)(t)}))||{};((n.props.plugins||{}).switch||[]).forEach((function(e){Object(h.i)(e.addMenuToMap)&&e.addMenuToMap(t,0,o)}))},n.scrollIntoView=function(e){if(n.addInitMenu(),n.parentRef){var t=n.state.mainId,o=void 0===t?n.initOptId:t;Object(h.k)(e)||(o=e);var i=n.state.data||[],r=i.findIndex((function(e){return Object(h.n)((e||{}).optId)===Object(h.n)(o)}))||0,a=i[r]||i[0];a=Object.assign({optId:o},a||{}),o=Object(h.n)(a.optId)||0,n.setState({mainId:o}),n.isConnected&&n.innerChangeId(a),n.props.onChange&&n.props.onChange(a,r);var s="#cartoon-widgets-one-dim-menu-".concat(o),c=n.parentRef.offsetWidth||375,l=document.querySelector(s);if(l){var d=(l.offsetLeft||0)-Math.floor(c/2)+Math.floor(l.offsetWidth/2);n.parentRef.scrollLeft!==d&&(n.parentRef.scrollLeft=d)}}},n.runBeforePatch=function(e){var t=((n.props.plugins||{}).switch||[])[0]||{};return Object(h.i)(t.beforePatch)?t.beforePatch(e):e},n.runLifeCycle=function(e){var t=n.state.data||[],o={data:n.runBeforePatch(t)};Object(h.k)((e||{}).optId)||(o.mainId=e.optId),n.setState(o,(function(){setTimeout(n.scrollIntoView,0)}))},n.fetch=function(){var e=((n.props.plugins||{}).switch||[])[0]||{};if(Object(h.i)(e.fetch))return e.fetch().then((function(e){if(!(e||[]).length)throw new Error("one dim menu list fetched is empty");return e=n.runBeforePatch(e),n.setState({data:e},(function(){var e=n.props.mainId,t=void 0===e?n.initOptId:e;setTimeout((function(){return n.scrollIntoView(t)}),0)})),e})).catch((function(e){console.error("one dim menu list fetch error > ",e)}));console.error("one dim menu list is empty")},n.innerChangeId=function(e){var t=(e||{}).optId,o=void 0===t?0:t;o=Object(h.n)(o)||0,((n.props.plugins||{}).switch||[]).forEach((function(t){Object(h.i)(t.manualReset)&&t.manualReset(o,0,e)})),n.setState({mainId:o})},n.onClick=function(e,t,o){if(n.isConnected&&n.innerChangeId(e),n.props.onChange&&n.props.onChange(e,t),n.props.onClick&&n.props.onClick(e,t,o),n.parentRef){n.offsetWidth||(n.offsetWidth=n.parentRef.offsetWidth);var i=n.offsetWidth||375,r=o.target;if(r){var a=(r.offsetLeft||0)-Math.floor(i/2)+Math.floor(r.offsetWidth/2);n.parentRef.scrollLeft!==a&&a>=0&&(n.parentRef.scrollLeft=a)}}};var o=Object(h.n)(Object(h.e)("sub_opt_id"))||Object(h.n)(Object(h.e)("opt_id"))||0,r=n.props,a=r.mainId,s=void 0===a?o:a,l=r.data,u=void 0===l?[]:l;return n.initOptId=s,n.state={mainId:s,data:u},n}return p()(t,e),a()(t,[{key:"componentDidMount",value:function(){var e=this;((this.props.plugins||{}).switch||[]).forEach((function(t){Object(h.i)(t.connect)&&(t.connect(),e.isConnected=!0),Object(h.i)(t.registRefreshCB)&&t.registRefreshCB((function(t){e.runLifeCycle(t)}))})),(this.state.data||[]).length?this.scrollIntoView():this.fetch()}},{key:"componentWillReceiveProps",value:function(e){(Number(e.componentId)||0)!==(Number(this.props.componentId)||0)&&this.fetch()}},{key:"render",value:function(){var e=this,t=this.props,n=t.mainId,o=void 0===n?this.initOptId:n,i=t.showIcon,r=void 0!==i&&i,a=t.className,s=void 0===a?"":a,c=t.renderCustomSubItem,l=this.state,d=l.mainId,u=l.data,p=this.isConnected?d:o;if(!(u&&u.length>0))return null;var m="cartoon-widgets-one-dim ".concat(s);return g.a.createElement("div",{className:v()(m,"")},g.a.createElement("div",{className:"cartoon-widgets-one-dim-menu"},g.a.createElement("div",{ref:function(t){e.parentRef=t},className:"cartoon-widgets-one-dim-menu-ul"},u.map((function(t,n){var o=t||{},i=o.optId,a=void 0===i?0:i,s=o.optName,l=void 0===s?0:s,d=o.selectedIcon,u=void 0===d?"":d,m=o.unselectedIcon,f=p===a?u:void 0===m?"":m,h=p===a?"current":"",_=c?c(t):null;return g.a.createElement("div",{key:"menu-item-".concat(n),id:"cartoon-widgets-one-dim-menu-".concat(a),className:v()("cartoon-widgets-one-dim-menu-li",h),onClick:function(o){return e.onClick(t,n,o)}},!!r&&!!f&&g.a.createElement("img",{alt:"",className:"cartoon-widgets-one-dim-menu-img",src:f}),l,_)})))))}}]),t}(m.PureComponent));t.a=_},W7oU:function(e,t,n){"use strict";var o=n("RIqP"),i=n.n(o),r=n("lwsE"),a=n.n(r),s=n("W8MJ"),c=n.n(s),l=n("LZ1O"),d=n("OfVG"),u=n("FORR"),p=n("FxVL"),m=n("glE4"),g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api/tyrion/ad_list";a()(this,e),this.baseUrl="api/tyrion/ad_list",this.beginFirst=!0,this.postClickGoods=!0,this.clickedIds={},this.maxPage=-1,this.extendParams={},this.pageImprCnt={};var o={},i=l.a.getFunctions(),r=i.coreUtil;Object(d.f)()&&(o=r.parseUrlQuery(Object(d.b)())||{});var s=Object(m.a)().getBaseParams()||{},c=s.optId,u=void 0===c?0:c,p=s.subId,g=void 0===p?0:p,f=o,v=f.prev_goods,h=void 0===v?"":v;h&&(this.clickedIds[g||u]=[h]),this.reset(t,n)}return c()(e,[{key:"reset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.baseUrl,n=e||{},o=n.beginFirst,i=void 0===o?this.beginFirst:o,r=n.postClickGoods,a=void 0===r?this.postClickGoods:r,s=n.extendParams,c=void 0===s?this.extendParams:s,l=n.maxPage,d=void 0===l?this.maxPage:l;this.baseUrl=t,this.beginFirst=i,this.postClickGoods=a,this.extendParams=c,this.maxPage=d,Object(m.a)().reset(e)}},{key:"runInContructor",value:function(e){var t=(e||{}).dataList;((void 0===t?[]:t)||[]).length>0&&(this.beginFirst=!1)}},{key:"isFetchEnded",value:function(){var e=Object(m.a)(),t=this.beginFirst?1:e.page+1;return this.maxPage>0&&t>this.maxPage}},{key:"fetch",value:function(e){var t=Object(m.a)(),n=t.getBaseParams(),o=e||{},i=o.subId,r=void 0===i?0:i,a=o.optId,s=void 0===a?n.optId:a,c=o.page,d=void 0===c?n.page:c,g=o.size,f=void 0===g?n.size:g,v=o.listId,h=void 0===v?n.listId:v,_=l.a.getFunctions().requestUtil,b=n.destAppName,y={page_sn:n.pageSn,app_name:b,list_id:"".concat(b,"_").concat(n.listId,"_").concat(t.subId||t.optId),page:this.beginFirst?1:t.page+1,size:this.beginFirst?t.page*t.size:t.size},O=n.menu||{};(Number(O.tab_type)||0)===u.j.DEFAULT&&(y=Object.assign({},y,{opt_id:t.subId||t.optId}));var I=this.baseUrl||"";O.fetch_ad_url&&(I=O.fetch_ad_url||"");var k=this.pageImprCnt[y.opt_id]||0,E=(this.clickedIds||{})[y.opt_id]||[],S=this.postClickGoods;E.length>0&&S&&(y.click_goods_ids=E.join(",")),t.reset({optId:s,subId:r,page:d,size:f,listId:h});var w=this.extendParams||{};y=Object.assign({},w,y);var N=I.indexOf("orchard_merge")>=0;N&&(y=Object.assign({},y,{hole_cnt:k})),y.opt_id&&isNaN(y.opt_id)&&(y.opt_id=0),Object.keys(O.fetch_extend_params||{}).length>0&&(y=Object.assign({},y,O.fetch_extend_params));var C=this.beginFirst;return this.beginFirst=!1,_.baseRequest(I,{method:"POST",params:y}).then((function(e){var n=e||{},o=n.item_list,i=void 0===o?[]:o,a=n.result,c=void 0===a?{}:a,l=n.title_show_type,u=void 0===l?0:l,m=(c||{}).title_show_type,g=void 0===m?0:m,v=N?Object(p.a)(c,k):Object(p.b)(i);return(v||[]).length>0&&!C&&t.incrPage(),{page:d,size:f,optId:s,subId:r,list:(v||[]).map((function(e){return Object.assign({title_show_type:u||g},e)})),origin:e}}))}},{key:"beforeLeave",value:function(e){var t=(e||{}).data,n=((void 0===t?{}:t)||{}).goods_id,o=void 0===n?"":n,i=Object(m.a)().getBaseParams()||{},r=i.subId,a=void 0===r?0:r,s=i.optId,c=a||(void 0===s?0:s);(this.clickedIds[c]||[]).length||(this.clickedIds[c]=[]),o&&this.clickedIds[c].push(o)}},{key:"doPatching",value:function(e){var t,n,o;return t=e,o=[],e=(n="goods_id")&&(t||[]).length?t.filter((function(e,t){var i=(e||{})[n],r=(e||{}).elem_type,a=(e||{}).ext_info||{};if(0!==r)return!0;var s=!!a.duplicateAd;return!!(o.indexOf(i)<0||s)&&(o.push(i),!0)})):t}},{key:"beforePatch",value:function(e,t){for(var n=Object(m.a)().getBaseParams()||{},o=n.subId,r=void 0===o?0:o,a=n.optId,s=r||(void 0===a?0:a),c=this.doPatching([].concat(i()(e),i()(t))),l=0,d=0,p=c.length;d<p;d++){var g=(c[d]||{}).elem_type,f=void 0===g?0:g;f=Number(f)||0,(c[d]||{}).impr_index=l,l+=f===u.c.Hmall?2:1}return this.pageImprCnt[s]=l,c}}]),e}();t.a=g},WdoF:function(e,t,n){"use strict";var o=n("o0o1"),i=n.n(o),r=n("yXPU"),a=n.n(r),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),d=n.n(l),u=n("lSNA"),p=n.n(u),m=n("3OdE"),g=n("KoDT"),f=n("rIj9"),v=n("h7Yj"),h=n("9rL1"),_=n("UlUl"),b=n("dZ2L");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){return e.get("User-Agent")||e.cookies[h.CookieKey.UA]||""}function I(e){var t=e.hostname,n=m.default.get(t),o=O(e),i=n.AppID;return Object(g.getPlatform)(o).isQQPlatform?i.QQPublic:i.WeChat}function k(e){e.clearCookie(h.CookieKey.AccessToken),e.clearCookie(h.CookieKey.UID),e.clearCookie(h.CookieKey.UIN)}function E(e,t,n,o){o&&o!==e.cookies[n]&&t.cookie(n,o,{expires:new Date(Date.now()+864e7),overwrite:!0})}function S(e,t,n,o,i){E(e,t,h.CookieKey.AccessToken,n),E(e,t,h.CookieKey.UID,o),E(e,t,h.CookieKey.UIN,i)}function w(e,t,n,o,i){t.locals=t.locals||{},t.locals.accessToken=n,t.locals.uid=o,t.locals.uin=i}function N(e,t,n){return Object(f.createDefaultAxios)({req:e,res:t,accessToken:n}).get("/user/short_profile/me").then((function(e){var t=e.uid,o=e.uin;return{accessToken:n,uid:t,uin:o}}))}function C(e,t,n){var o=O(e),i=e.query.state;i=Array.isArray(i)?i.pop():i;var r={code:n,ua:o,app_id:I(e)};return i===h.WechatAuthType.UserInfo&&(r.is_auth=1),function(e,t,n){return Object(f.createDefaultAxios)({req:e,res:t}).post("/login",n).catch((function(n){var o=n.errorCode,i=n.response.data||{},r=i.verify_auth_token,a=i.verify_ttl,s=new URL("".concat(e.protocol,"://").concat(e.headers.host).concat(e.originalUrl)),c=Object(g.getPlatform)(O(e)).isWeChatPlatform;if(s.search=Object(v.buildQuery)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.query,{code:null,state:null})),o===h.LOGIN_RISK_CONTROL_CODE.NeedAuthenticationLogin&&c)throw t.redirect(Object(b.resolveWechatLoginUrl)(e.hostname,s.href,h.ScopeType.UserInfo)),new _.RedirectedError;if(o===h.LOGIN_RISK_CONTROL_CODE.LoginVerifyRisk||o===h.LOGIN_RISK_CONTROL_CODE.DefaultLoginRisk)throw t.redirect("/psnl_verification.html?".concat(Object(v.buildQuery)({VerifyAuthToken:r,from:s.href}))),new _.RedirectedError;if(o===h.LOGIN_RISK_CONTROL_CODE.LoginForbidden)throw t.redirect("/fpctdipk.html?_t_module_name=login_error&".concat(Object(v.buildQuery)({ttl:a,from:s.href}))),new _.RedirectedError;if(Object(b.isForbiddenErrorCode)(o))throw t.redirect("/commercial_pre_orders.html?_t_module_name=psnl_account_freeze_alert&error_code=".concat(o)),new _.RedirectedError;throw n}))}(e,t,r).then((function(e){return{accessToken:e.access_token,uid:e.uid,uin:e.uin}}))}function j(e){return P.apply(this,arguments)}function P(){return(P=a()(i.a.mark((function e(t){var n,o,r,a,s,c,l,d,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.req,o=t.res,r=n.cookies[h.CookieKey.AccessToken],a=n.cookies[h.CookieKey.UID],s=n.cookies[h.CookieKey.UIN],c=n.query.code,c=Array.isArray(c)?c.pop():c,l=function(){if(r&&a&&s)return{accessToken:r,uid:a,uin:s};if(r)return N(n,o,r);throw new _.UnLoginError},d=Object(g.getPlatform)(O(n)),u=d.isWeChatPlatform,p=d.isQQPlatform,(u||p)&&c){e.next=11;break}return e.abrupt("return",l());case 11:return e.abrupt("return",C(n,o,c).catch((function(e){if(302===e.errorCode)throw e;return l()})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function L(e,t){var n=e.get("User-Agent")||e.cookies[h.CookieKey.UA]||"",o=Object(g.getPlatform)(n),i=new URL("".concat(e.protocol,"://").concat(e.headers.host).concat(e.originalUrl));i.search=Object(v.buildQuery)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.query,{code:null,state:null})),i=i.href,o.isWeChatPlatform?t.redirect(Object(b.resolveWechatLoginUrl)(e.hostname,i)):o.isQQPlatform?t.redirect(Object(b.resolveQQLoginUrl)(e.hostname,i)):o.isNativePlatform?t.redirect(Object(b.resolveAppLoginUrl)(i)):t.redirect(Object(b.resolveH5LoginUrl)(i))}n.d(t,"a",(function(){return A}));var x=Symbol("authInit"),A=function(){function e(t){var n=t.req,o=t.res;c()(this,e),this.req=n,this.res=o,this[x]=!1,this._accessToken=n.cookies[h.CookieKey.AccessToken],this._uid=n.cookies[h.CookieKey.UID],this._uin=n.cookies[h.CookieKey.UIN]}var t;return d()(e,[{key:"init",value:(t=a()(i.a.mark((function e(){var t,n,o=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.req,n=this.res,!this[x]&&!t[x]){e.next=3;break}throw new Error(this[x]?"Auth has been init!":"init auth twice in a request");case 3:return this[x]=!0,t[x]=!0,e.abrupt("return",j({req:t,res:n}).then((function(e){var i=e.accessToken,r=e.uid,a=e.uin;return o._accessToken=i,o._uid=r,o._uin=a,S(t,n,i,r,a),w(0,n,i,r,a),{accessToken:i,uid:r,uin:a}})).catch((function(e){throw o._accessToken=o._uid=o._uin=null,302!==e.errorCode&&k(n),e})));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"login",value:function(){k(this.res),L(this.req,this.res)}},{key:"uid",get:function(){if(!this[x])throw new Error("await init() first to get correct uid");return this._uid}},{key:"accessToken",get:function(){if(!this[x])throw new Error("await init() first to get correct accessToken");return this._accessToken}},{key:"uin",get:function(){if(!this[x])throw new Error("await init() first to get correct uin");return this._uin}}]),e}()},X0J6:function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),g=n.n(m),f=n("q1tI"),v=n.n(f),h=n("i8i4"),_=n("Fcpp"),b=function(e){function t(e){var n;return i()(this,t),(n=c()(this,d()(t).call(this,e))).provideOptions=function(){n.DomNode=Object(h.findDOMNode)(p()(n)),n.DomNode&&n.registerImprToComponent()},n.registerImprToComponent=function(){var e=n.props,t={threshold:e.threshold,rootMargin:e.rootMargin,root:e.root};n.observer=new IntersectionObserver(n.observerCallBack,t),n.observer.observe(n.DomNode)},n.observerCallBack=function(e,t){e.forEach((function(e){n.singleTracking(e)}))},n.singleTracking=function(e){var t=n.props,o=t.onEnter,i=t.onLeave,r=t.doImpr;n.isItemIn(e)?(r&&n.trackingAction(),o(e)):i(e)},n.trackingAction=function(){n.timer&&clearTimeout(n.timer),n.timer=setTimeout((function(){var e=n.DomNode.getBoundingClientRect().top;if(!(e<-200||e>800)){var t=n.props.trackingInfo||{},o=n.props.once,i=Object.assign({op:"impr"},t);(n.props.logger||_.default).trackingRecord(i,(function(){n.observer&&n.DomNode&&o&&n.observer.unobserve(n.DomNode)}))}}),300)},n.isItemIn=function(e){var t=n.props.threshold;return e.isIntersecting&&e.intersectionRatio>=t},n.observer=null,n.DomNode=null,n.timer=null,n}return g()(t,e),a()(t,[{key:"componentDidMount",value:function(){n("Wr5T"),this.provideOptions()}},{key:"componentWillUnmount",value:function(){this.observer&&this.DomNode&&this.observer.unobserve(this.DomNode)}},{key:"render",value:function(){return v.a.Children.only(this.props.children)}}]),t}(f.Component);b.defaultProps={root:null,doImpr:!0,isCombined:!1,threshold:1,rootMargin:"0px",gap:300,imprItem:{},once:!0,onEnter:function(){},onLeave:function(){}},t.a=b},XQsM:function(e,t,n){"use strict";var o,i=n("lwsE"),r=n.n(i),a=n("W8MJ"),s=n.n(a),c=n("a1gu"),l=n.n(c),d=n("Nsbk"),u=n.n(d),p=n("7W2i"),m=n.n(p),g=n("q1tI"),f=n.n(g),v=n("TSYQ"),h=n.n(v),_=n("/hlV"),b=n("pIEX");!function(e){e[e.Menu=0]="Menu",e[e.subMenu=10]="subMenu"}(o||(o={}));n("+3Ql");var y=function(e){function t(e){var n;r()(this,t),(n=l()(this,u()(t).call(this,e))).parentRef=null,n.offsetWidth=0,n.isConnected=!1,n.initMainId=0,n.initSubId=0,n.addInitMenu=function(){var e=n.props,t=e.mainId,o=void 0===t?n.initMainId:t,i=e.subId,r=void 0===i?n.initSubId:i,a=(n.state.data||[]).find((function(e){return Object(_.n)((e||{}).optId)===Object(_.n)(o)}))||{},s=a.secondaryOpts||[];Object(_.n)(r)&&(a=s.find((function(e){return Object(_.n)((e||{}).secondaryOptId)===Object(_.n)(r)}))||{}),((n.props.plugins||{}).switch||[]).forEach((function(e){Object(_.i)(e.addMenuToMap)&&e.addMenuToMap(o,r,a)}))},n.scrollIntoView=function(e,t){if(n.addInitMenu(),n.parentRef){var i=n.state,r=i.mainId,a=void 0===r?n.initMainId:r,s=i.subId,c=void 0===s?n.initSubId:s;Object(_.k)(e)||(a=e),Object(_.k)(t)||(c=t);var l=n.state.data||[],d=l.findIndex((function(e){return Object(_.n)((e||{}).optId)===Object(_.n)(a)}))||0,u=l[d]||l[0];u=Object.assign({optId:a},u||{}),a=Object(_.n)(u.optId)||0;var p=(u.secondaryOpts||[]).find((function(e){return Object(_.n)((e||{}).secondaryOptId)===Object(_.n)(c)}))||{};if(c=Object(_.n)(p.secondaryOptId)||0,n.setState({mainId:a,subId:c}),n.isConnected){var m=p.secondaryOptId;n.innerChangeId(m?p:u,m?o.subMenu:o.Menu)}var g="#cartoon-widgets-parent-menu-".concat(c||a),f=n.parentRef.offsetWidth||375,v=document.querySelector(g);if(v){var h=(v.offsetLeft||0)-Math.floor(f/2)+Math.floor(v.offsetWidth/2);n.parentRef.scrollLeft!==h&&h>=0&&(n.parentRef.scrollLeft=h)}}},n.runBeforePatch=function(e){var t=((n.props.plugins||{}).switch||[])[0]||{};return Object(_.i)(t.beforePatch)?t.beforePatch(e):e},n.runLifeCycle=function(e){var t=n.state.data||[],o={data:n.runBeforePatch(t)};Object(_.k)((e||{}).optId)||(o.mainId=e.optId),Object(_.k)((e||{}).subOptId)||(o.subId=e.subOptId),n.setState(o,(function(){setTimeout(n.scrollIntoView,0)}))},n.fetch=function(){var e=((n.props.plugins||{}).switch||[])[0]||{};Object(_.i)(e.fetch)?e.fetch().then((function(e){if(!(e||[]).length)throw new Error("menu list fetched is empty");e=n.runBeforePatch(e),n.setState({data:e},(function(){var e=n.props,t=e.mainId,o=void 0===t?n.initMainId:t,i=e.subId,r=void 0===i?n.initSubId:i;setTimeout((function(){return n.scrollIntoView(o,r)}),0)}))})).catch((function(e){console.error("menu list fetch error > ",e)})):console.error("menu list is empty")},n.renderParent=function(){var e=n.props,t=e.mainId,i=void 0===t?n.initMainId:t,r=e.renderCustomSubItem,a=e.renderParent,s=n.state,c=s.mainId,l=s.data,d=n.isConnected?c:i;return f.a.createElement("div",{className:"cartoon-widgets-parent-menu"},f.a.createElement("div",{ref:function(e){n.parentRef=e},className:"cartoon-widgets-parent-menu-ul"},l.map((function(e,t){var i=e||{},s=i.optId,c=void 0===s?0:s,l=i.optName,u=void 0===l?0:l,p=i.selectedIcon,m=void 0===p?"":p,g=i.unselectedIcon,v=void 0===g?"":g,b=null;a&&Object(_.i)(a)&&(b=a({selected:d===c,data:e,idx:t,onClick:function(i){return n.onClick(e,o.Menu,t,i)}}));var y=d===c?m:v,O=d===c?"current":"",I=r?r(e):null;return b||f.a.createElement("div",{key:"menu-item-".concat(t),id:"cartoon-widgets-parent-menu-".concat(c),className:h()("cartoon-widgets-parent-menu-li",O),onClick:function(i){return n.onClick(e,o.Menu,t,i)}},!!y&&f.a.createElement("img",{alt:"",className:"cartoon-widgets-parent-menu-img",src:y}),u,I)}))))},n.innerChangeId=function(e,t){var o=n.state,i=o.mainId,r=void 0===i?0:i,a=o.subId,s=void 0===a?0:a;t?s=Object(_.n)((e||{}).secondaryOptId):(r=Object(_.n)((e||{}).optId),s=0),((n.props.plugins||{}).switch||[]).forEach((function(t){Object(_.i)(t.manualReset)&&t.manualReset(r,s,e)})),n.setState({mainId:r,subId:s})},n.onClick=function(e,t,i,r){if(n.isConnected&&n.innerChangeId(e,t),n.props.onClick&&n.props.onClick(e,t,i,r),t!==o.subMenu&&n.parentRef){n.offsetWidth||(n.offsetWidth=n.parentRef.offsetWidth);var a=n.offsetWidth||375,s=r.target;if(s){var c=(s.offsetLeft||0)-Math.floor(a/2)+Math.floor(s.offsetWidth/2);n.parentRef.scrollLeft!==c&&(n.parentRef.scrollLeft=c)}}};var i=Object(_.n)(Object(_.e)("sub_opt_id"))||0,a=Object(_.n)(Object(_.e)("opt_id"))||0,s=n.props,c=s.mainId,d=void 0===c?a:c,p=s.subId,m=void 0===p?i:p,g=s.data,v=void 0===g?[]:g;return n.initMainId=d,n.initSubId=i,n.state={mainId:d,subId:m,data:v},n}return m()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;((this.props.plugins||{}).switch||[]).forEach((function(t){Object(_.i)(t.connect)&&(t.connect(),e.isConnected=!0),Object(_.i)(t.registRefreshCB)&&t.registRefreshCB((function(t){e.runLifeCycle(t)}))})),(this.state.data||[]).length?this.scrollIntoView():this.fetch()}},{key:"componentWillReceiveProps",value:function(e){(Number(e.componentId)||0)!==(Number(this.props.componentId)||0)&&this.fetch()}},{key:"render",value:function(){var e=this,t=this.props,n=t.mainId,i=void 0===n?this.initMainId:n,r=t.subId,a=void 0===r?this.initSubId:r,s=t.relative,c=t.className,l=void 0===c?"":c,d=t.fixedTop,u=t.children,p=void 0===u?[]:u,m=t.appendChildIdx,g=void 0===m?0:m,v=this.state,y=v.mainId,O=v.subId,I=v.data,k=this.isConnected?y:i,E=this.isConnected?O:a;if(!I.length)return null;var S=(I.filter((function(e){return Object(_.n)((e||{}).optId)===Object(_.n)(k)}))[0]||{}).secondaryOpts||[];S=S.slice(0,10);var w=Number(g)||0,N=p,C=[];return p&&Object(_.i)(p.slice)&&(N=p.slice(0,w||p.length),C=p.slice(N.length)),this.props.prependNodes&&(N=this.props.prependNodes()),this.props.appendNodes&&(C=this.props.appendNodes()),f.a.createElement("div",{className:h()("cartoon-widgets-menu",l)},!!s&&this.renderParent(),!!s&&f.a.createElement(b.a,{fixedTop:d},p),!s&&f.a.createElement(b.a,{fixedTop:d},N,this.renderParent(),C),S.length>0&&f.a.createElement("div",{className:"cartoon-widgets-sub-menu"},f.a.createElement("div",{className:"cartoon-widgets-sub-menu-ul"},S.map((function(t,n){var i=t||{},r=i.secondaryOptId,a=void 0===r?"":r,s=i.secondaryOptName,c=void 0===s?"":s,l=[];return a===E&&l.push("current"),(c||"").toString().length>=5&&l.push("h-padding-0"),f.a.createElement("div",{key:"sub-menu-item-".concat(a,"-").concat(n),className:h()("cartoon-widgets-sub-menu-li",l.join(" ")),onClick:function(i){return e.onClick(t,o.subMenu,n,i)}},f.a.createElement("span",{className:h()("cartoon-widgets-sub-menu-span",l.join(" "))},c))})))))}}]),t}(g.PureComponent);t.a=y},Xq6S:function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),g=n.n(m),f=n("TSYQ"),v=n.n(f),h=(n("dTTm"),function(e){function t(){var e;return i()(this,t),(e=c()(this,d()(t).apply(this,arguments))).onBtnClose=function(){e.props.onClose()},e}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.btnImage,n=e.className,o=g.a.createElement("div",{className:v()("cartoon-widgets-top-right",n),onClick:this.onBtnClose},g.a.createElement("img",{className:"cartoon-widgets-close-img",src:t})),i=g.a.createElement("div",{className:v()("cartoon-widgets-top-right-out",n),onClick:this.onBtnClose},g.a.createElement("img",{className:"cartoon-widgets-close-img",src:t})),r=g.a.createElement("div",{className:v()("cartoon-widgets-bottom",n),onClick:this.onBtnClose},g.a.createElement("img",{className:"cartoon-widgets-close-img",src:t}));return g.a.createElement("div",{className:"cartoon-widgets-popup-close"},"inBottom"===this.props.type?r:"inTopRight"===this.props.type?o:i)}}]),t}(m.PureComponent));h.defaultProps={type:"inTopRight"},t.a=h},eLnb:function(e,t,n){"use strict";var o,i=n("lSNA"),r=n.n(i),a=n("QILm"),s=n.n(a),c=n("q1tI"),l=n.n(c),d=n("i8i4"),u=n.n(d),p=n("TyAF"),m=n("2vnA"),g=n("3OsT"),f=n.n(g),v=n("uf4C"),h=n("KoDT"),_=n("jsxS"),b=n("J4zp"),y=n.n(b),O=n("o0o1"),I=n.n(O),k=n("yXPU"),E=n.n(k),S=n("ct/d"),w=n("5Otn"),N=n("Fcpp"),C=(n("17x9"),n("DzJC")),j=n.n(C);function P(e){e.stopPropagation(),e.preventDefault()}var T;function L(e){var t=Object(c.useState)(!1),n=y()(t,2),i=n[0],r=n[1],a=Object(c.useRef)();Object(c.useEffect)((function(){if(o||(o=Object(h.getCurrentPlatform)()),o&&o.system===h.SYSTEM.Android){var t=e.interval||200,n=t/2,i=j()((function(){r(!0),clearTimeout(a.current),a.current=setTimeout((function(){r(!1)}),t)}),n);return window.addEventListener("scroll",i),function(){window.removeEventListener("scroll",i)}}}),[e.interval]);return l.a.createElement("div",{style:i?{}:{display:"none"}},l.a.createElement("div",{style:{opacity:0,height:"100%",width:"100%",position:"fixed",top:0,left:0,zIndex:999},onClick:P}))}L.initGlobal=function(){if(!T){var e=document.createElement("div");return document.body.appendChild(e),T=function(){e&&(u.a.unmountComponentAtNode(e),document.body.removeChild(e),e=null,T=null)},u.a.render(l.a.createElement(L,null),e)}},L.cleanup=function(){T&&T()};var x,A=L,G=n("zRS3"),R=n("rIj9"),D=n("3OdE");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F;F=D.default.get(location.host);var W=["addDownloadTask","queryDownloadTask","installDownloadTask","showMenuItems","hideMenuItems","onMenuShareAppMessage","onMenuShareTimeline","onMenuShareQQ","onMenuShareQZone","onMenuShareWeibo","addCard","openCard","chooseCard","previewImage","editAddress","chooseImage","uploadImage","getLocation","openAddress","getInstallState","launch3rdApp","launchApplication","startRecord","stopRecord","uploadVoice"],B="menuItem:share:appMessage",q="menuItem:share:qq",H="menuItem:share:QZone",V="menuItem:share:timeline",z="menuItem:copyUrl",J=["menuItem:openWithSafari","menuItem:share:email"],Q={WECHAT_SESSION:1,WECHAT_TIMELINE:2,QQ_CHAT_SESSION:4,QQ_ZONE:5},K=(x={},r()(x,Q.WECHAT_SESSION,B),r()(x,Q.WECHAT_TIMELINE,V),r()(x,Q.QQ_CHAT_SESSION,q),r()(x,Q.QQ_ZONE,H),x),Y=Object.keys(Q).reduce((function(e,t){return e[Q[t]]=0,e}),{});function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return e=Object.assign({},Y,e),Object.keys(e).reduce((function(n,o){o=parseInt(o,10);var i=K[o];if(t&&[Q.WECHAT_SESSION,Q.WECHAT_TIMELINE].indexOf(o)<0)i&&n.menuShareItemsToHide.push(i);else{var r=e[o]?n.menuShareItemsToShow:n.menuShareItemsToHide;i&&r.push(i)}return n}),{menuShareItemsToShow:[],menuShareItemsToHide:[]})}function $(e,t,n){return X.apply(this,arguments)}function X(){return(X=E()(I.a.mark((function e(t,n,o){var i,r,a,s,c,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.marketActivityID||"",r=Math.random().toString().substring(2),a=Date.now().toString(),s=F.ApiKey.WeChat,c={page_sn:o,timestamp:a,noncestr:r,open_app_id:s,url:location.href.split("#")[0],activity:i},e.next=7,t.get("weixin/jsapi/signature",{params:c}).then((function(e){return{signature:e.signature,openAppID:e.open_app_id,shareDomain:e.share_domain,share:!!parseInt(e.share,10),mirror:!!parseInt(e.mirror,10),shareTypeEnable:e.share_type_enable,magicTrace:e.magic_trace}})).catch((function(){return{}}));case 7:return l=e.sent,e.abrupt("return",new Promise((function(e){var t=l.signature,o=l.openAppID,i=l.mirror,c=l.shareTypeEnable;if(window.wx){i&&(s=o),window.wx.config({timestamp:a,signature:t,debug:!1,beta:!0,appId:s,nonceStr:r,jsApiList:W});var d=U({},l,{wechatAppID:s});window.wx.ready((function(){var t=Z(c,n.onlyWeChat),o=t.menuShareItemsToShow,i=t.menuShareItemsToHide,r=[],a=J.concat(i);n.disableShare?a=a.concat(o):r=r.concat(o),n.disableCopyUrl&&a.push(z),n.enableBroswerOpen&&a.splice(0,1),window.wx.hideMenuItems({menuList:a}),window.wx.showMenuItems({menuList:r}),window.wxReady=!0,e(d)})),window.wx.error((function(e){N.default.trackingRecord({op:"real_error",event:"wx_error",signature:t,res:JSON.stringify(e)})}))}})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=n("3VHQ");function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(n,!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe,ie=v.default.getInstance(),re=Object(h.getCurrentPlatform)(),ae={prepare:(oe=E()(I.a.mark((function e(){var t,n,o,i=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1&&void 0!==i[1]?i[1]:function(){},N.default.init(),se(t),o={pageId:ie.getPageID()},le(t).then((function(){ue(t,o),re.isNativePlatform&&("function"==typeof t.initNativeBehavior?t.initNativeBehavior():ce(t.disablePullReload)),n(),me(),A.initGlobal()}));case 6:case"end":return e.stop()}}),e)}))),function(){return oe.apply(this,arguments)})};function se(e){var t,n=e.pageProperty,o=e.isSkipPv,i=e.hybridPackName;ie.init(null,{pageProperty:n,callback:(t=E()(I.a.mark((function e(){var t,n,r,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.default.replaceQuery({page_id:ie.getPageID()}),!re.isNativePlatform){e.next=13;break}return e.next=4,Promise.all([ge(i).catch((function(){return null})),Object(ee.getPageShownType)().then((function(e){return 1==+e.shown_type})).catch((function(){return!1}))]);case 4:t=e.sent,n=y()(t,2),r=n[0],a=n[1],r&&ie.setKeyParams({component_version:r}),Object(ee.onWebMounted)(),!a&&ve(o),e.next=14;break;case 13:ve(o);case 14:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})})}function ce(e){Object(ee.setupPullReload)({enable:!e}),Object(ee.setTitle)({title:document.title})}function le(e){return de.apply(this,arguments)}function de(){return(de=E()(I.a.mark((function e(t){var n,o,i,r,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.requireLogin,o=t.skipLogin,i=t.loginParams,r=void 0===i?{}:i,a={pageId:ie.getPageID()},e.prev=2,e.next=5,Object(w.init)(Object(R.createDefaultAxios)({pageInfo:a}));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),n=n||re.isWeChatPlatform||re.isQQPlatform,302!==e.t0.errorCode&&n&&!o){e.next=13;break}return e.abrupt("return");case 13:return e.abrupt("return",Object(w.login)(r).catch((function(e){throw S.default.back(),e})));case 14:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function ue(e,t){return pe.apply(this,arguments)}function pe(){return(pe=E()(I.a.mark((function e(t,o){var i,r,a,s,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=G.default.getInstance(ne({shareManagerConfig:{disableShare:t.disableShare,noDefaultShare:t.noDefaultShare}},t.pddShareConfig||{}))).setup(),(r=t.shareInfo||{}).isSDKPrepare=!0,re.isWeChatPlatform||re.isQQPlatform){e.next=6;break}return e.abrupt("return",i.prepareShare(r));case 6:if(a=Object(R.createDefaultAxios)({pageInfo:o}),!re.isWeChatPlatform){e.next=15;break}return e.next=10,$(a,r,t.pageProperty.pageSN);case 10:s=e.sent,Object.assign(r,s),i.prepareShare(r),e.next=21;break;case 15:if(!re.isQQPlatform){e.next=21;break}return e.next=18,n.e(1).then(n.bind(null,"3uWq"));case 18:c=e.sent,(0,c.initQQConfig)(a).then((function(){return i.prepareShare(r)}));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){re.isWeChatPlatform&&window.wx&&window.wx.ready(E()(I.a.mark((function e(){var t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.WeixinJSBridge&&window.WeixinJSBridge.invoke?new Promise((function(e){window.WeixinJSBridge.invoke("getInstallState",{packageName:"com.xunmeng.pinduoduo",packageUrl:"pinduoduo://"},(function(t){var n=t.err_msg,o=void 0===n?"":n,i=t.versionName,r=void 0===i?"":i,a=/get_install_state:yes/.test(o),s=/get_install_state:no/.test(o);e({version:r,wxCheckPdd:a?1:s?0:2})}))})):Promise.resolve({version:"",wxCheckPdd:2});case 2:t=e.sent,n=t.wxCheckPdd,+localStorage.getItem("WxCheckPdd")!==n&&N.default.trackingRecord({op:"event",sub_op:"app_check",uninstall_status:n}),localStorage.setItem("WxCheckPdd",""+n);case 7:case"end":return e.stop()}}),e)}))))}function ge(e){return fe.apply(this,arguments)}function fe(){return(fe=E()(I.a.mark((function e(t){var n,o,i,r,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&Object(h.isWebBundle)()){e.next=2;break}return e.abrupt("return");case 2:return n="com.xunmeng.pinduoduo.".concat(t),e.next=5,Object(ee.invokeBridgeCallNativeFun)("AMComponent","info",{name:n},"4.0.0","4.0.0");case 5:if(o=e.sent,i=void 0===(i=o.bundles)?[]:i,r=y()(i,1),!(a=r[0])){e.next=11;break}return e.abrupt("return",re.platform===h.PLATFORM.PddIOS?a.version:a);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){(!ie.hasIndividualPV()&&!ie.isAppModal()||e)&&(ie.setKeyParams(ie.getKeyParamsFromQuery()),N.default.trackingRecord({op:"pv"}))}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(n,!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return Ie}));var be=!0,ye=!1,Oe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.map((function(e){return e._insertCss()}));return function(){return o.forEach((function(e){return e()}))}};function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useStrict,o=void 0===n?ye:n,i=t.forceWKWebviewBackRefresh,r=void 0===i?be:i,a=s()(t,["useStrict","forceWKWebviewBackRefresh"]);o&&(m.useStrict?Object(m.useStrict)(!0):Object(m.configure)({enforceActions:!0})),ae.prepare(_e({requireLogin:e.appConfig.requireLogin,shareInfo:{disableShare:!0}},a),(function(){return ke(e)})),Object(_.b)(),window.__wxjs_is_wkwebview&&r&&window.addEventListener("pageshow",(function(e){e.persisted&&location.reload()})),Object(h.getCurrentPlatform)().system===h.SYSTEM.IOS&&document.addEventListener("touchstart",(function(){}))}function ke(e){var t=e.createStores(),n=Object(v.getPageID)();Object.keys(t).forEach((function(e){return t[e].fromJS((window.rawData||{})[e],{pageId:n})})),u.a.hydrate(l.a.createElement(f.a.Provider,{value:{insertCss:Oe}},l.a.createElement(p.Provider,t,l.a.createElement(e,{stores:Object.values(t),pageInfo:{pageId:n}}))),document.getElementById("main"))}},eW8z:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),g=n.n(m),f=(n("CvyG"),function(e){function t(e){var n;return i()(this,t),(n=c()(this,d()(t).call(this,e))).onClick=function(){n.props.onClick&&n.props.onClick()},n.state={shadeText:"输入搜索词"},n}return p()(t,e),a()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getShadeText&&this.props.getShadeText().then((function(t){var n=(t||{}).query,o=void 0===n?"输入搜索词":n;e.setState({shadeText:o||"输入搜索词"})})).catch((function(e){}))}},{key:"render",value:function(){var e=this.state.shadeText;return g.a.createElement("div",{className:"cartoon-widgets-search"},g.a.createElement("div",{onClick:this.onClick,className:"cartoon-widgets-search-main"},g.a.createElement("span",{className:"cartoon-widgets-search-icon"}),g.a.createElement("span",{className:"cartoon-widgets-search-shade"},e)))}}]),t}(m.Component))},ezrW:function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),g=n.n(m),f=n("TSYQ"),v=n.n(f),h=(n("JEAk"),function(e){function t(){return i()(this,t),c()(this,d()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.descText,o=e.children,i=e.bgImage,r=i?{backgroundImage:"url(".concat(i,")")}:{};return g.a.createElement("div",{className:v()("cartoon-widgets-banner",t),style:r},!!n&&g.a.createElement("p",{className:"cartoon-widgets-banner-desc"},n),o)}}]),t}(m.Component));t.a=h},fWF0:function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),g=n.n(m),f=n("TSYQ"),v=n.n(f),h=n("O7Vp"),_=n("IgcI"),b=(n("ZeuE"),function(e){function t(e){var n;return i()(this,t),(n=c()(this,d()(t).call(this,e))).onClick=function(e){var t=n.state.isShining;if(n.props.onClick)return t?(_.default.enableScrollNew(),void n.props.onClick(e)):void n.setState({isShining:!0},(function(){setTimeout((function(){_.default.enableScrollNew(),n.props.onClick(e)}),1e3)}))},n.state={isShining:!1},n}return p()(t,e),a()(t,[{key:"componentDidMount",value:function(){_.default.disableScrollNew()}},{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,o=e.desc,i=void 0===o?"浏览获得一个惊喜礼包，拆开看看":o,r=e.boxImage,a=void 0===r?"fit_goods_shaking_box":r,s=this.state.isShining;return g.a.createElement("div",{className:v()("cartoon-widgets-shaking",n)},!!s&&g.a.createElement("div",{className:"cartoon-widgets-shaking-effects"},g.a.createElement("div",{className:"cartoon-widgets-shaking-effects-circle"}),g.a.createElement("div",{className:"cartoon-widgets-shaking-effects-star"})),g.a.createElement("div",{className:"cartoon-widgets-shaking-box",onClick:this.onClick},g.a.createElement("div",{className:"cartoon-widgets-shaking-box-text"},i),g.a.createElement("div",{className:"cartoon-widgets-shaking-box-light"}),g.a.createElement("div",{className:"cartoon-widgets-shaking-box-dot"}),g.a.createElement("div",{className:"cartoon-widgets-shaking-box-img"},g.a.createElement(h.LazyImage,{src:a,lazy:!0}))))}}]),t}(m.PureComponent));t.a=b},ga5S:function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),g=n.n(m),f=n("TSYQ"),v=n.n(f),h=n("/hlV"),_=(n("cZOl"),function(e){function t(e){var n;i()(this,t),(n=c()(this,d()(t).call(this,e))).timer=null,n.initTimer=function(){var e=n.state,t=e.hasEnd,o=e.currentTime,i=e.endTime;if(!t&&o&&i){n.timer&&(clearInterval(n.timer),n.timer=null);var r="s"===n.props.precision?1:.1;n.timer=setInterval((function(){var e=n.state.currentTime,t=n.state.endTime;t-e<1?(e=t,n.timer&&(clearInterval(n.timer),n.timer=null),n.setState({hasEnd:!0,currentTime:t},(function(){n.props.onTimeEnd&&n.props.onTimeEnd(e)}))):n.setState({currentTime:e+r})}),1e3*r)}};var o=(Date.now()/1e3).toString(),r=e.currentTime,a=e.endTime;return r=r||parseInt(o,10),a=a||parseInt(o,10),n.state={hasEnd:!1,currentTime:Object(h.l)(r),endTime:Object(h.l)(a)},n.timer=null,n}return p()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.state.currentTime-this.state.endTime>=0||this.initTimer()}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=(Date.now()/1e3).toString(),o=e.currentTime,i=e.endTime;o=o||parseInt(n,10);var r=(i=i||parseInt(n,10))-o<1;this.setState({currentTime:Object(h.l)(o),endTime:Object(h.l)(i),hasEnd:r},(function(){t.initTimer()}))}},{key:"componentWillUnmount",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"render",value:function(){var e=this.state,t=e.currentTime,n=e.endTime,o=this.props,i=o.className,r=o.precision,a=Object(h.b)(t,n),s=a.days,c=a.hours,l=a.minutes,d=a.seconds,u=a.millSecond,p=24*(Number(s)||0)+(Number(c)||0);return g.a.createElement("ul",{className:v()("cartoon-widgets-timer",i)},g.a.createElement("li",{className:"num hour"},Object(h.m)(p)),g.a.createElement("li",{className:"op"},":"),g.a.createElement("li",{className:"num min"},l),g.a.createElement("li",{className:"op"},":"),g.a.createElement("li",{className:"num sec"},d),"s"!==r&&g.a.createElement("li",{className:"op"},":"),"s"!==r&&g.a.createElement("li",{className:"num millsec"},u))}}]),t}(m.Component));t.a=_},glE4:function(e,t,n){"use strict";var o=n("o0o1"),i=n.n(o),r=n("lwsE"),a=n.n(r),s=n("W8MJ"),c=n.n(s),l=n("LZ1O"),d=n("OfVG"),u=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((o=o.apply(e,t||[])).next())}))},p=function(){function e(t){var n=this;a()(this,e),this.appName="",this.subAppName="",this.sceneId=0,this.subSceneId=0,this.listId="",this.optId=0,this.subId=0,this.page=1,this.size=20,this.pageSn=0,this.imprElsn={},this.missionLogCfg={},this.multiMissionLogCfg={},this.monitorCfg={},this.inspectCfg={},this.multiInspectCfg={},this.getAntiContent=function(){return Promise.resolve("")},this.customCfg={},this.landUrls={},this.bizTag="",this.menuMap={},this.initLandingUrls=function(){return u(n,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(d.e)(this.landUrls)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.landUrls();case 4:this.landUrls=e.sent;case 5:case"end":return e.stop()}}),e,this)})))};var o=Object.assign({},t),r=o,s=r.appName,c=void 0===s?"":s,p=r.subAppName,m=void 0===p?"":p,g=r.sceneId,f=void 0===g?0:g,v=r.subSceneId,h=void 0===v?0:v,_=r.listId,b=void 0===_?"":_,y=r.optId,O=void 0===y?0:y,I=r.subId,k=void 0===I?0:I,E=r.page,S=void 0===E?0:E,w=r.size,N=void 0===w?0:w,C={},j=l.a.getFunctions().coreUtil;Object(d.f)()&&(C=j.parseUrlQuery(Object(d.b)())||{}),c=c||C.app_name||"cartoon_fruit_goods",f=f||C.scene_id||0,m=m||C.sub_app_name||"",h=h||C.sub_scene_id||0,b=b||C.list_id||Object(d.c)(6).toString(),O=O||Object(d.l)(C.opt_id)||0,k=k||Object(d.l)(C.sub_opt_id)||0,S=S||Number(C.page)||1,N=N||Number(C.size)||20,o=Object.assign({},o,{appName:c,subAppName:m,sceneId:f,subSceneId:h,listId:b,optId:O,subId:k,page:S,size:N}),this.reset(o)}return c()(e,[{key:"reset",value:function(e){var t=e||{},n=t.appName,o=void 0===n?"":n,i=t.subAppName,r=void 0===i?"":i,a=t.sceneId,s=void 0===a?"":a,c=t.subSceneId,l=void 0===c?"":c,d=t.listId,u=void 0===d?"":d,p=t.optId,m=void 0===p?this.optId:p,g=t.subId,f=void 0===g?this.subId:g,v=t.page,h=void 0===v?this.page:v,_=t.size,b=void 0===_?this.size||20:_,y=t.pageSN,O=void 0===y?this.pageSn:y,I=t.imprElsn,k=void 0===I?this.imprElsn:I,E=t.missionLogCfg,S=void 0===E?this.missionLogCfg:E,w=t.multiMissionLogCfg,N=void 0===w?this.multiMissionLogCfg:w,C=t.monitorCfg,j=void 0===C?this.monitorCfg:C,P=t.inspectCfg,T=void 0===P?this.inspectCfg:P,L=t.multiInspectCfg,x=void 0===L?this.multiInspectCfg:L,A=t.getAntiContent,G=void 0===A?this.getAntiContent:A,R=t.customCfg,D=void 0===R?this.customCfg:R,M=t.landUrls,U=void 0===M?this.landUrls:M,F=t.bizTag,W=void 0===F?this.bizTag:F;this.appName=o||this.appName,this.subAppName=r||this.subAppName,this.sceneId=s||this.sceneId,this.subSceneId=l||this.subSceneId,this.listId=u||this.listId,this.optId=m,this.subId=f,this.page=h,this.size=b||this.size,this.pageSn=O,this.missionLogCfg=S,this.multiMissionLogCfg=N,this.monitorCfg=j,this.inspectCfg=T,this.multiInspectCfg=x,this.getAntiContent=G,this.customCfg=D,this.imprElsn=k,this.landUrls=U,this.bizTag=W,this.initLandingUrls()}},{key:"incrPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=this.page+e}},{key:"changeBaseParams",value:function(e){var t=e||{},n=t.appName,o=void 0===n?this.appName:n,i=t.subAppName,r=void 0===i?this.subAppName:i,a=t.sceneId,s=void 0===a?this.sceneId:a,c=t.subSceneId,l=void 0===c?this.subSceneId:c;this.appName=o,this.subAppName=r,this.sceneId=s,this.subSceneId=l}},{key:"addMenuToMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).length>0&&(this.menuMap[e]=t)}},{key:"getBaseParams",value:function(){var e={appName:this.appName,subAppName:this.subAppName,destAppName:this.subAppName||this.appName,sceneId:this.sceneId,subSceneId:this.subSceneId,destSceneId:this.subSceneId||this.sceneId,listId:this.listId,optId:this.optId,subId:this.subId,page:this.page,size:this.size,pageSn:this.pageSn,monitorCfg:this.monitorCfg,getAntiContent:this.getAntiContent,customCfg:this.customCfg,imprElsn:this.imprElsn,landUrls:this.landUrls,bizTag:this.bizTag,menu:this.menuMap[this.subId||this.optId]};return Object.keys(this.multiInspectCfg).length?(e.multiInspectCfg=this.multiInspectCfg,e.inspectCfg={}):(e.inspectCfg=this.inspectCfg,e.multiInspectCfg={}),Object.keys(this.multiMissionLogCfg).length?(e.multiMissionLogCfg=this.multiMissionLogCfg,e.missionLogCfg={}):(e.missionLogCfg=this.missionLogCfg,e.multiMissionLogCfg={}),e}}]),e}(),m=null;t.a=function(){return m||(m=new p({})),m}},h15V:function(e,t,n){"use strict";var o=n("h7Yj"),i=n("3VHQ"),r=n("KoDT"),a=n("ct/d"),s=n("kk8N"),c=n("RoDR");function l(){return!!Object(r.getCurrentPlatform)().isNativePlatform}var d="unknown";t.a={changeTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e&&"undefined"!=typeof document&&(document.title=e,l()))return Object(c.c)(o.changeTitle)?Object(o.changeTitle)(e):Object(c.c)(i.setTitle)?Object(i.setTitle)({title:e}):void 0},setBackButton:function(e){if(Object(c.c)((e||{}).callback)&&l())return Object(i.setBackButton)(e)},setPageScrollPosition:function(e,t){if((e=e||{}).queries=e.queries||{},e.queries.sp||(e.queries.sp=Object(c.b)()),"undefined"!=typeof document&&Object(c.c)((document||{}).querySelector)){var n=document.querySelector("#nav-bar");n&&(e.queries.nbsl=n.scrollLeft)}Object(c.c)((a.default||{}).replaceQuery)&&a.default.replaceQuery(e.queries,t)},safeParseJson:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(c.c)(o.safeParseJson))return Object(o.safeParseJson)(e,t);try{return JSON.parse(e)}catch(e){return console.error("safeParseJson: 参数解析失败",e),t}},getNetWork:function(){return"unknown"!==d?Promise.resolve(Number(d)||0):l()?new Promise((function(e){s.default.callNative("JSNetwork","info",null,(function(t){var n=(t||{}).network_type;d=n,e(Number(n)||0)}),(function(){d="0",e(0)}))})):new Promise((function(e){var t=((navigator.userAgent||"").match(/NetType\/\w+/)||[])[0]||"NetType/other";if(t=t.toLowerCase().replace("nettype/","").toLowerCase(),navigator.onLine){var n=t.indexOf("wifi")>=0?"1":t;d=n}else d="0";e(Number(d)||0)}))}}},ian6:function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),g=n.n(m),f=n("TSYQ"),v=n.n(f),h=(n("nyG/"),function(e){function t(){var e;return i()(this,t),(e=c()(this,d()(t).apply(this,arguments))).hide=function(){e.props.onClick&&e.props.onClick()},e}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.hideMask,n=e.className;return t?null:g.a.createElement("div",{className:v()("widgets-popup-overlay",n),onClick:this.hide})}}]),t}(m.PureComponent));t.a=h},jRgZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var o="4.0.0",i={S:1e3,M:6e4,H:36e5,D:864e5}},jsxS:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var o=n("o0o1"),i=n.n(o),r=n("yXPU"),a=n.n(r),s=n("h7Yj");function c(){return l.apply(this,arguments)}function l(){return(l=a()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.isSupportWebp)();case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}Object(s.setCookie)("webp","1");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return"1"===e.webp}},lIn6:function(e,t,n){"use strict";var o=n("lSNA"),i=n.n(o),r=n("lwsE"),a=n.n(r),s=n("W8MJ"),c=n.n(s),l=n("LZ1O"),d=n("OfVG"),u=n("FORR"),p=n("glE4"),m=function(){function e(t){var n=this;a()(this,e),this.imprElsn={},this.queries={},this.createRecommendLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,o=void 0===t?{}:t,i=e.idx,r=void 0===i?0:i,a=e.type,s=void 0===a?0:a,c=n.loadImprElSn()[s];if(!(c=(c||{}).impr||c))return{};var l=Object(p.a)().getBaseParams(),d=l.optId,u=l.subId,m=l.destSceneId,g=o||{},f=g.impr_index,v=g.track_log_fields,h={page_el_sn:c,idx:Number(f)||Number(r),sug_idx:r,ad:JSON.stringify(v),opt_id:Number(u)||Number(d)||0,scene_id:m};return h},this.createMallLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,o=void 0===t?{}:t,i=e.idx,r=void 0===i?0:i,a=e.type,s=void 0===a?0:a,c=o||{},l=n.loadImprElSn()[s];if(!(l=(l||{}).impr||l))return{};var d=c.mall_id,u=c.p_search,m=c.p_rec,g=c.ad,f=c.impr_index,v=c.track_info,h=c.fun_track_info,_=Object(p.a)().getBaseParams(),b=_.optId,y=_.subId,O=_.destSceneId,I={page_el_sn:l,opt_id:Number(y)||Number(b)||0,idx:Number(f)||Number(r),mall_id:d,scene_id:O,is_collect:!1};return g&&Object.keys(g).length>0&&(I.ad=JSON.stringify(g)),m&&Object.keys(m).length>0&&(I.p_rec=JSON.stringify(m)),u&&Object.keys(u).length>0&&(I.p_search=JSON.stringify(u)),Object.keys(v||{}).length>0&&(I=Object.assign({},v||{},I)),Object.keys(h||{}).length>0&&(I=Object.assign({},h||{},I)),I},this.createSimilarLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,o=void 0===t?{}:t,i=e.idx,r=void 0===i?0:i,a=e.type,s=void 0===a?0:a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"impr",l=o||{};l=l.similar_list||l;var d=n.loadImprElSn()[s];if(!(d=(d||{})[c]||d))return{};var u=l,m=u.trigger_goods_id,g=u.trigger_goods_index,f=void 0===g?r:g,v=u.track_log_fields,h=Object(p.a)().getBaseParams(),_=h.optId,b=h.subId,y=h.destSceneId,O={page_el_sn:d,idx:f,trigger_goods_id:m,opt_id:Number(b)||Number(_)||0,scene_id:y,ad:""};return v&&Object.keys(v).length>0&&(O.ad=JSON.stringify(v)),O},this.createRankingLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,o=void 0===t?{}:t,i=e.idx,r=void 0===i?0:i,a=e.type,s=void 0===a?0:a,c=o||{},l=n.loadImprElSn()[s];if(!(l=(l||{}).impr||l))return{};var d=c.p_search,u=c.p_rec,m=c.ad,g=c.impr_index,f=c.track_info,v=c.fun_track_info,h=Object(p.a)().getBaseParams(),_=h.optId,b=h.subId,y=h.destSceneId,O={page_el_sn:l,opt_id:Number(b)||Number(_)||0,idx:Number(g)||Number(r),scene_id:y};return m&&Object.keys(m).length>0&&(O.ad=JSON.stringify(m)),u&&Object.keys(u).length>0&&(O.p_rec=JSON.stringify(u)),d&&Object.keys(d).length>0&&(O.p_search=JSON.stringify(d)),Object.keys(f||{}).length>0&&(O=Object.assign({},f||{},O)),Object.keys(v||{}).length>0&&(O=Object.assign({},v||{},O)),O},this.doClickImpr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,o=void 0===t?{}:t,i=e.idx,r=void 0===i?-1:i,a=e.type,s=void 0===a?0:a,c=o||{},d=null;if(s===u.c.Recommend){var p=c.ad_id,m=c.query,g=c.click_idx,f=c.recommend_list,v=JSON.stringify({ad_id:p,query:m});d=n.createRecommendLogger({data:f,idx:r,type:s}),d=Object.assign({},d,{query_idx:g,clkQuery:v})}if(s!==u.c.Hmall&&s!==u.c.Vmall||(d=n.createMallLogger({data:o,idx:r,type:s})),s===u.c.LvMall&&(d=n.createLiveMallLogger({data:o,idx:r,type:s})),s===u.c.LvMallGoods&&(d=n.createLvMallGoodsLogger({data:o,idx:r,type:s})),s!==u.c.HGoods&&s!==u.c.VGoods||(d=n.createMallGoodsLogger({data:o,idx:r,type:s})),s===u.c.RankingList&&(d=n.createRankingLogger({data:o,idx:r,type:s})),s===u.c.RankingGoods&&(d=n.createRankingGoodsLogger({data:o,idx:r,type:s})),s===u.c.Similar){var h=c.click_idx,_=void 0===h?0:h;d=n.createSimilarLogger({data:o,idx:r,type:s},"click"),d=Object.assign({},d,{query_idx:_})}s===u.c.SGoods&&(d=n.createSlidingGoodsLogger({data:o,idx:r,type:s})),s!==u.c.AdGoods&&s!==u.c.LvGoods||(d=n.createLogger({data:o,idx:r,type:s})),s&&s!==u.c.Goods||(d=n.createLogger({data:o,idx:r,type:s}));var b=l.a.getFunctions(),y=b.logger;return new Promise((function(e,t){d||e(o),y.trackingRecord(Object.assign({op:"click"},d),(function(){e(o)}))}))};var o={},i=l.a.getFunctions().coreUtil;Object(d.f)()&&(o=i.parseUrlQuery(Object(d.b)())||{}),this.queries=o,this.reset(t)}return c()(e,[{key:"reset",value:function(e){var t=(e||{}).imprElsn,n=void 0===t?{}:t;this.imprElsn=Object.assign({},this.imprElsn,n||{}),Object(p.a)().reset(e)}},{key:"loadImprConfig",value:function(e){var t;return t={},i()(t,u.c.Goods,!0),i()(t,u.c.AdGoods,!0),i()(t,u.c.LvGoods,!0),i()(t,u.c.Hmall,!0),i()(t,u.c.Vmall,!0),i()(t,u.c.Coupon,!0),i()(t,u.c.Favorite,!0),i()(t,u.c.Similar,!0),i()(t,u.c.HGoods,!0),i()(t,u.c.VGoods,!0),i()(t,u.c.Recommend,!0),i()(t,u.c.Sliding,!0),i()(t,u.c.SGoods,!0),i()(t,u.c.LvMall,!0),i()(t,u.c.LvMallGoods,!0),i()(t,u.c.RankingList,!0),i()(t,u.c.RankingGoods,!0),t}},{key:"loadImprElSn",value:function(){var e=Object(p.a)().getBaseParams().destAppName,t=this.imprElsn,n=this.imprElsn[e]||{};return Object.keys(n).length>0&&(t=n),t}},{key:"createLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,o=e.idx,i=void 0===o?0:o,r=e.type,a=void 0===r?0:r,s=n||{},c=this.loadImprElSn()[a];if(!(c=(c||{}).impr||c))return{};var l=s.goods_id,d=s.p_search,u=s.p_rec,m=s.ad,g=s.impr_index,f=s.cost_type,v=void 0===f?0:f,h=s.duoduo_type,_=void 0===h?"":h,b=s.cps_sign,y=void 0===b?"":b,O=s.pid,I=void 0===O?"":O,k=s.track_info,E=s.fun_track_info,S=Object(p.a)().getBaseParams(),w=S.optId,N=S.subId,C=S.destSceneId,j=this.queries||{},P=j.query,T=void 0===P?"":P,L=j.recommend_ad_idx,x=void 0===L?null:L,A=j.sug_idx,G=void 0===A?null:A,R={page_el_sn:c,goods_id:l,idx:Number(g)||Number(i),scene_id:C,opt_id:Number(N)||Number(w)||0,rec_goods_id:l,sug_idx:G,query_idx:x,query:T};return m&&Object.keys(m).length>0&&(R.ad=JSON.stringify(m)),u&&Object.keys(u).length>0&&(R.p_rec=JSON.stringify(u)),d&&Object.keys(d).length>0&&(R.p_search=JSON.stringify(d)),4===Number(v)&&(R=Object.assign({},R,{duoduo_type:_,cps_sign:y,pid:I})),Object.keys(k||{}).length>0&&(R=Object.assign({},k||{},R)),Object.keys(E||{}).length>0&&(R=Object.assign({},E||{},R)),R}},{key:"createMallGoodsLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,o=e.idx,i=void 0===o?0:o,r=e.type,a=void 0===r?0:r,s=n||{},c=this.loadImprElSn()[a];if(!(c=(c||{}).impr||c))return{};var l=s.goods_id,d=s.p_search,u=s.p_rec,m=s.ad,g=s.track_info,f=s.fun_track_info,v=s.impr_goods_index,h=s.impr_mall_data,_=h||{},b=_.mall_id,y=void 0===b?"":b,O=_.impr_index,I=void 0===O?0:O,k=Object(p.a)().getBaseParams(),E=k.optId,S=k.subId,w=k.destSceneId,N={page_el_sn:c,goods_id:l,mall_id:y,idx:Number(I)||Number(i),scene_id:w,opt_id:Number(S)||Number(E)||0,goods_idx:v,is_collect:!1};return m&&Object.keys(m).length>0&&(N.ad=JSON.stringify(m)),u&&Object.keys(u).length>0&&(N.p_rec=JSON.stringify(u)),d&&Object.keys(d).length>0&&(N.p_search=JSON.stringify(d)),Object.keys(g||{}).length>0&&(N=Object.assign({},g||{},N)),Object.keys(f||{}).length>0&&(N=Object.assign({},f||{},N)),N}},{key:"createSlidingGoodsLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,o=e.idx,i=void 0===o?0:o,r=e.type,a=void 0===r?0:r,s=n||{},c=this.loadImprElSn()[a];if(!(c=(c||{}).impr||c))return{};var l=this.createLogger({data:n,idx:i,type:u.c.SGoods}),d=s.sliding_pos;return l=Object.assign({},l,{in_sliding_window:1,sliding_pos:d})}},{key:"createVideoLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,o=e.idx,i=void 0===o?0:o,r=e.type,a=void 0===r?0:r,s=n||{},c=this.loadImprElSn()[a];if(!(c=(c||{}).impr||c))return{};var l=s.goods_id,d=void 0===l?"":l,u=s.p_search,m=s.p_rec,g=s.ad,f=s.track_info,v=s.fun_track_info,h=s.impr_index,_=Object(p.a)().getBaseParams(),b=_.optId,y=_.subId,O=_.destSceneId,I={page_el_sn:c,goods_id:d,idx:Number(h)||Number(i),scene_id:O,opt_id:Number(y)||Number(b)||0};return g&&Object.keys(g).length>0&&(I.ad=JSON.stringify(g)),m&&Object.keys(m).length>0&&(I.p_rec=JSON.stringify(m)),u&&Object.keys(u).length>0&&(I.p_search=JSON.stringify(u)),Object.keys(f||{}).length>0&&(I=Object.assign({},f||{},I)),Object.keys(v||{}).length>0&&(I=Object.assign({},v||{},I)),I}},{key:"createGameLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,o=e.idx,i=void 0===o?0:o,r=e.type,a=void 0===r?0:r;return this.createVideoLogger({data:n,idx:i,type:a})}},{key:"createLiveMallLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,o=e.idx,i=void 0===o?0:o,r=e.type,a=void 0===r?0:r,s=n||{},c=this.loadImprElSn()[a];if(!(c=(c||{}).impr||c))return{};var l=s.mall_id,d=s.room_id,u=s.live_fans,m=s.p_search,g=s.p_rec,f=s.ad,v=s.url_tracks,h=s.impr_index,_=s.cost_type,b=v||{},y=b.refer_banner_middle,O=void 0===y?"":y,I=Object(p.a)().getBaseParams(),k=I.optId,E=I.subId,S=I.destSceneId,w={page_el_sn:c,mall_id:l,room_id:d,is_fans:u?1:0,idx:Number(h)||Number(i),scene_id:S,opt_id:Number(E)||Number(k)||0};return 5===_&&(w.refer_banner_middle=O),f&&Object.keys(f).length>0&&(w.ad=JSON.stringify(f)),g&&Object.keys(g).length>0&&(w.p_rec=JSON.stringify(g)),m&&Object.keys(m).length>0&&(w.p_search=JSON.stringify(m)),w}},{key:"createLvMallGoodsLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,o=e.idx,i=void 0===o?0:o,r=e.type,a=void 0===r?0:r,s=n||{},c=this.loadImprElSn()[a];if(!(c=(c||{}).impr||c))return{};var l=s.goods_id,d=s.impr_shop_data,u=d||{},m=u.mall_id,g=void 0===m?0:m,f=u.impr_index,v=void 0===f?0:f,h=u.room_id,_=void 0===h?0:h,b=u.live_fans,y=void 0!==b&&b,O=Object(p.a)().getBaseParams(),I=O.destSceneId;return{scene_id:I,page_el_sn:c,idx:Number(v)||Number(i),room_id:_,is_fans:y?1:0,mall_id:g,goods_id:l,goods_idx:i}}},{key:"createRankingGoodsLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,o=e.idx,i=void 0===o?0:o,r=e.type,a=void 0===r?0:r,s=n||{},c=this.loadImprElSn()[a];if(!(c=(c||{}).impr||c))return{};var l=s.goods_id,d=s.p_search,u=s.p_rec,m=s.ad,g=s.track_info,f=s.fun_track_info,v=s.impr_goods_index,h=s.impr_ranking_data,_=h||{},b=_.impr_index,y=void 0===b?0:b,O=Object(p.a)().getBaseParams(),I=O.optId,k=O.subId,E=O.destSceneId,S={page_el_sn:c,goods_id:l,idx:Number(y)||Number(i),scene_id:E,opt_id:Number(k)||Number(I)||0,goods_idx:v};return m&&Object.keys(m).length>0&&(S.ad=JSON.stringify(m)),u&&Object.keys(u).length>0&&(S.p_rec=JSON.stringify(u)),d&&Object.keys(d).length>0&&(S.p_search=JSON.stringify(d)),Object.keys(g||{}).length>0&&(S=Object.assign({},g||{},S)),Object.keys(f||{}).length>0&&(S=Object.assign({},f||{},S)),S}},{key:"doLogImpr",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,o=e.idx,i=void 0===o?-1:o,r=e.type,a=void 0===r?0:r,s=n||{},c=null;if(a===u.c.Recommend){var d=s.recommend_query_ad_single_list||[];(c=this.createRecommendLogger({data:n,idx:i,type:a})).imprQuery=JSON.stringify(d.map((function(e){return{query:e.query,ad_id:e.ad_id}})))}a!==u.c.Hmall&&a!==u.c.Vmall||(c=this.createMallLogger({data:n,idx:i,type:a})),a===u.c.LvMall&&(c=this.createLiveMallLogger({data:n,idx:i,type:a})),a===u.c.LvMallGoods&&(c=this.createLvMallGoodsLogger({data:n,idx:i,type:a})),a!==u.c.HGoods&&a!==u.c.VGoods||(c=this.createMallGoodsLogger({data:n,idx:i,type:a})),a===u.c.RankingList&&(c=this.createRankingLogger({data:n,idx:i,type:a})),a===u.c.RankingGoods&&(c=this.createRankingGoodsLogger({data:n,idx:i,type:a})),a===u.c.Similar&&(c=this.createSimilarLogger({data:n,idx:i,type:a})),a===u.c.SGoods&&(c=this.createSlidingGoodsLogger({data:n,idx:i,type:a})),a!==u.c.AdGoods&&a!==u.c.LvGoods||(c=this.createLogger({data:n,idx:i,type:a})),a&&a!==u.c.Goods||(c=this.createLogger({data:n,idx:i,type:a}));var p=s.ad_report;if(p&&Object.keys(p||{}).length>0&&(c.ad=JSON.stringify(p)),(c||{}).page_el_sn){var m=l.a.getFunctions(),g=m.logger;g.trackingRecord(Object.assign({op:"impr"},c))}}}]),e}();t.a=m},lv9X:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r}));var o={1:1,5:5,10:10,20:20,100:100},i=function(e){var t,n,o=!1,i=e||{},r=i.startStamp,a=i.endStamp;return r&&a&&(t=r,n=a,o=Date.now()>t&&Date.now()<n),o},r=function(e){var t=o[e+=""];return t===o[100]||(t?100*Math.random()<=t:(console.warn("传的sampleRate不合法"),!0))}},m1ZW:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return h}));var o=n("4St7"),i=n("KoDT"),r=n("h7Yj"),a=n("5Otn"),s=n("kk8N"),c=function(){return"undefined"!=typeof window},l=function(){return 0===((location||{}).href||"").toString().indexOf("http")},d=function(e,t){var n={event_type:e,event_message:t},i="https://manortk.pinduoduo.com/me.gif";try{a.getUid().then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n=Object.assign({},n,{pdd_uid:e}),o.a.manortkRequest("POST",i,n,(function(){}),(function(){}))})).catch((function(e){console.error("fun-app-provider :: eventRecord > reject",e)}))}catch(e){console.error("fun-app-provider :: eventRecord > auth",e)}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.oLogger,o=void 0===n?{}:n,i=t.pageName,r=void 0===i?"":i;if(c()&&e){var a=((window||{}).location||{}).pathname,s=window.location.href;r=r||a,o=Object.assign({},o||{},{link:s}),d(e,"[".concat(r,"] :: Fun app provider > logger: ").concat(JSON.stringify(o)))}},p=function(e){if("string"!=typeof e)return"";var t=[];try{for(var n=0;n<e.length;n++){var o=917+13*n,i=Math.floor((e.charCodeAt(n)+o)%87)%10,r=String(i);t.push(r)}}catch(e){}return t.join("")},m=function(){if(Object(i.getCurrentPlatform)().isWeChatMiniProgram&&c()){var e=Object(r.parseQuery)((window.location||{}).search||"")||{},t=e.relogin_uid,n=e.from_client_relogin,o=String(Object(r.getCookie)("pdd_user_id"));if(t){if(d(203,JSON.stringify({reloginUid:t,url:location.href,n:p(Object(r.getCookie)("PDDAccessToken"))})),parseInt(o,10).toString(36)!==localStorage.getItem("0e4f9612e0fbe579")&&localStorage.setItem("0e4f9612e0fbe579",parseInt(o,10).toString(36)),String(t)!==String(Object(r.getCookie)("pdd_user_id"))){if(Object(r.removeCookie)("PDDAccessToken"),Object(r.removeCookie)("pdd_user_id"),Object(r.removeCookie)("pdd_user_uin"),localStorage.removeItem("AccessToken"),localStorage.removeItem("0e4f9612e0fbe579"),"undefined"!=typeof history){var a=Object.assign({},e);a.from_client_relogin=1,delete a.relogin_uid,delete a.state,history.replaceState(null,"",Object(r.appendQuery)(a,location.pathname))}setTimeout((function(){location.reload()}),0)}}else n&&d(204,JSON.stringify({url:location.href,n:p(Object(r.getCookie)("PDDAccessToken"))}))}},g=function(e){if(!e||!e.stack)return"";var t=e.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,5).join("@").replace(/\?[^:]+/gi,""),n=e.toString();return t.indexOf(n)<0&&(t=n+"@"+t),t},f=function(e,t,n){o.a.apiRequest("POST","api/fun-gateway/query/page/url",e,(function(e){e=(e||{}).url_map||[],t&&t(e)}),(function(e){n&&n(e)}))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return t?e.replace(new RegExp("^\\"+t+"+","gm"),""):e.replace(/^\s+/gm,"")},h=function(e){var t=Object(i.getCurrentPlatform)()||{},n="function"==typeof i.compareVersion&&Object(i.compareVersion)(t.version,"4.29.0")>=0;c()&&Object(i.getCurrentPlatform)().isNativePlatform&&n&&e&&s.default.callNative("WebScene","getTiming",{parms:""},(function(t){var n=t.webViewInit;if(Number(n)>0){var o=(new Date).valueOf()-Number(n);o>6e3&&d(e,JSON.stringify(o))}}))}},"n+QH":function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),g=n.n(m),f=n("TSYQ"),v=n.n(f),h=n("/hlV"),_=(n("HL1/"),function(e){function t(){return i()(this,t),c()(this,d()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props.data||{},t=Number(e.discount)||0,n=Number(e.min_amount)||0,o=e.className||"",i=e.fun_coupon_name||"";i||(i=n<=t?"无门槛":"满".concat(Object(h.p)(n,100),"可用"));var r=e.fun_coupon_sub_name||"",a=e.fun_coupon_desc||"";return g.a.createElement("div",{className:v()("cartoon-widgets-coupon",o)},g.a.createElement("div",{className:"cartoon-widgets-coupon-left"},g.a.createElement("p",{className:"cartoon-widgets-coupon-mount"},g.a.createElement("dfn",null,"￥"),Object(h.p)(t,100)),!!r&&g.a.createElement("p",{className:"cartoon-widgets-coupon-sub-name"},r)),g.a.createElement("div",{className:"cartoon-widgets-coupon-right"},g.a.createElement("p",{className:"cartoon-widgets-coupon-title"},i),g.a.createElement("p",{className:"cartoon-widgets-coupon-desc"},a)))}}]),t}(m.PureComponent)),b=function(e){function t(){return i()(this,t),c()(this,d()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.coupons,n=e.className,o=void 0===n?"":n;if(!(t=(t||[]).filter((function(e){return(Number(e.discount)||0)>0}))).length)return null;var i=t.length;return g.a.createElement("div",{className:v()("cartoon-widgets-coupons-wrapper",o,{"cartoon-widgets-coupons-flex":i<=2})},t.length>0&&g.a.createElement("ul",{className:v()("cartoon-widgets-coupon-list")},t.map((function(e,t){return g.a.createElement("li",{key:"cartoon_widgets_coupon_".concat(t),className:"cartoon-widgets-coupon-list-item"},g.a.createElement(_,{data:e}))}))))}}]),t}(m.Component);t.a=b},nGR4:function(e,t,n){"use strict";var o=n("lSNA"),i=n.n(o),r=n("o0o1"),a=n.n(r),s=n("yXPU"),c=n.n(s),l=n("lwsE"),d=n.n(l),u=n("W8MJ"),p=n.n(u),m=n("a1gu"),g=n.n(m),f=n("Nsbk"),v=n.n(f),h=n("7W2i"),_=n.n(h),b=n("q1tI"),y=n.n(b),O=n("KoDT"),I=n("3VHQ");n("17x9");function k(){return Object(O.getCurrentPlatform)().isNativePlatform}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.hideBg,o=n?{}:{loading_style:"2",message:e};Object(I.invokeBridgeCallNativeFun)("JSUIControl","showLoading",o)}var S=n("S6Yx");function w(){k()?E.apply(void 0,arguments):S.b.apply(void 0,arguments)}function N(){k()?Object(I.invokeBridgeCallNativeFun)("JSUIControl","hideLoading"):Object(S.a)()}var C=function(e){function t(){return d()(this,t),g()(this,v()(t).apply(this,arguments))}return _()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this.props;w(e.msg,{hideBg:e.hideBg})}},{key:"componentWillUnmount",value:function(){N()}},{key:"render",value:function(){return null}}]),t}(b.PureComponent);function j(){return Object(b.useEffect)((function(){if(Object(O.getCurrentPlatform)().isNativePlatform){var e={errorType:"networkError",params:{title:"手机网络有问题",message:"请检查网络",iconType:"e779"}},t=setTimeout((function(){return Object(I.showRetryPage)(e).catch((function(){return Object(I.showRetryPage)(e)}))}),1e4);return function(){return clearTimeout(t)}}}),[]),y.a.createElement(C,{hideBg:!0})}C.defaultProps={hideBg:!1,msg:""};var P=n("mG/U"),T=n("TyAF");function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}n.d(t,"a",(function(){return A}));var x={redirectUrl:"/",requireLogin:!0,fallbackCSR:!1,beforeRender:function(e,t,n){return!0},renderSpinner:function(){return y.a.createElement(j,null)}};function A(e,t){return function(n){var o=function(t){function o(){return d()(this,o),g()(this,v()(o).apply(this,arguments))}var i;return _()(o,t),p()(o,[{key:"componentDidMount",value:(i=c()(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.stores.some((function(e){return!e.isServerRendered}))){e.next=6;break}return e.next=4,Promise.all(this.props.stores.map((function(e){return e.initClientData(t.props.pageInfo)})));case 4:e.next=7;break;case 6:this.props.stores.forEach((function(e){return e.prepareClientData()}));case 7:this.props.stores.forEach((function(e){return e.finishInitLoading()}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"componentDidCatch",value:function(e,t){e.message+="_"+JSON.stringify(t),setTimeout((function(){throw e}))}},{key:"render",value:function(){return this.props.stores.every((function(e){return e.isFinishInitLoading}))?y.a.createElement(n,null):o.appConfig.renderSpinner()}}],[{key:"createStores",value:function(){return Object.keys(e).reduce((function(t,n){return t[n]=new e[n],t}),{})}}]),o}(y.a.Component);return o.displayName="appProvider(".concat(n.displayName||n.name,")"),o.appConfig=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({dealServerError:function(e){return e.errorCode===P.errors.AUTHENTICATION_FAILED||t.fallbackCSR?null:e},errorTemplateName:t.serverTemplateName},x,{},t),Object(T.observer)(o)}}},pIEX:function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("PJYZ"),p=n.n(u),m=n("7W2i"),g=n.n(m),f=n("q1tI"),v=n.n(f),h=n("TSYQ"),_=n.n(h),b=n("/hlV"),y=(n("J/NP"),function(e){function t(){var e;return i()(this,t),(e=c()(this,d()(t).apply(this,arguments))).state={isFixed:!1},e.domElem=null,e.scrollElem=null,e.childrenElem=null,e.bindScroll=null,e.observeDom=function(){if(e.domElem&&e.childrenElem){e.bindScroll=e.onScroll.bind(p()(e));var t=e.props.selector||"";e.scrollElem=t?document.querySelector(t):null,(e.scrollElem||document).addEventListener("scroll",e.bindScroll,!1)}},e.onScroll=function(){var t=parseInt((e.props.fixedTop||"").toString(),10)||0,n=Object(b.f)(e.domElem),o=(e.scrollElem||{}).scrollTop||0;e.scrollElem||(o=document.documentElement.scrollTop||document.body.scrollTop||0);var i=o+t>n,r=e.state.isFixed;i!==r&&e.setState({isFixed:i},(function(){i&&e.props.onLeave&&e.props.onLeave(),!i&&e.props.onEnter&&e.props.onEnter()}))},e}return g()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.observeDom()}},{key:"componentWillUnmount",value:function(){(this.scrollElem||document).removeEventListener("scroll",this.bindScroll,!1)}},{key:"render",value:function(){var e=this,t=this.state.isFixed,n=t?"cartoon-widgets-sticky-wrapper-fixed":"",o=(this.childrenElem||{}).offsetHeight||0,i={height:o>0&&t?"".concat(o,"px"):"100%"},r=Number(this.props.fixedTop),a=t&&!isNaN(r)?{top:r}:{};return v.a.createElement("div",{ref:function(t){e.domElem=t},className:"cartoon-widgets-sticky",style:i},v.a.createElement("div",{ref:function(t){e.childrenElem=t},className:_()("cartoon-widgets-sticky-wrapper",n),style:a},this.props.children))}}]),t}(f.PureComponent));t.a=y},pi6U:function(e,t,n){"use strict";var o=n("RIqP"),i=n.n(o),r=n("lwsE"),a=n.n(r),s=n("W8MJ"),c=n.n(s),l=function(){function e(t){a()(this,e),this.pageKey="cartoon_widgets_fruit_goods",this.optId=0,this.subId=0,this.size=20,this.page=0,this.list=[],this.cacheData={};var n=t||{},o=n.page,i=void 0===o?0:o,r=n.size,s=void 0===r?20:r,c=n.optId,l=void 0===c?0:c,d=n.subId,u=void 0===d?0:d;this.size=s,this.page=i,this.optId=l,this.subId=u}return c()(e,[{key:"putInCache",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=arguments.length>3?arguments[3]:void 0;e.length&&(this.page=o||this.page+1,this.optId=t,n>=0&&(this.subId=n),this.list=[].concat(i()(this.list),i()(e)))}},{key:"getFromCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=this.subId||this.optId;this.cacheData[n]={page:this.page,list:this.list};var o=t||e;this.optId=e,t>=0&&(this.subId=t);var i=this.cacheData[o]||{},r=i.page,a=void 0===r?0:r,s=i.list,c=void 0===s?[]:s;return this.page=a,this.list=c||[],{options:{optId:this.optId,subId:this.subId,size:this.size,page:this.page},list:this.list}}}]),e}();t.a=l},"q/Nq":function(e,t,n){"use strict";var o,i,r,a=n("RIqP"),s=n.n(a),c=n("Luio"),l=n("lIn6"),d=n("pi6U"),u=n("tNyt"),p=n("VJO7"),m=n("zuJa"),g=n("lSNA"),f=n.n(g),v=n("FORR"),h=n("OfVG"),_={appName:"",subAppName:"",sceneId:0,subSceneId:0,imprElsn:(o={},f()(o,v.c.Goods,0),f()(o,v.c.Recommend,0),f()(o,v.c.Ulike,0),f()(o,v.c.Similar,0),o),bizTag:"",customCfg:{mobile_fit_browse:f()({},v.c.Similar,{trigger_scene_id:0,land_app_name:"",land_scene_id:0,land_page_url:""})},monitorCfg:{requestQPS:f()({},v.c.Goods,{eventId:100}),loadError:{eventId:200},loadEmpty:{eventId:201},loadBack:{eventId:202},dotDepth:{depth:30,eventId:203},effectPrice:{bizType:v.f.DEFAULT,floor:0,ceil:0,eventId:204},dotShow:(i={},f()(i,v.c.Similar,{eventId:300}),f()(i,v.c.Recommend,{eventId:301}),f()(i,v.c.CPS,{eventId:302}),i),clickFrequency:(r={},f()(r,v.c.Similar,{eventId:400}),f()(r,v.c.Recommend,{eventId:401}),f()(r,v.c.CPS,{eventId:402}),r)},inspectCfg:{mkt_tr_sc:{op:"some",value:[],failedEventId:500},mkt_tr_token:{op:"neq",value:"",failedEventId:501},mkt_domain:{op:"eq",type:Number,value:0,failedEventId:502}},missionLogCfg:f()({},v.c.Goods,{missionRecId:0,failedEventId:600,missionRecPath:"api/manor-gateway/normal/goods/record"})},b=function(e){var t=e||{},n=t.baseCfg,o=void 0===n?_:n,i=t.config,r=void 0===i?{}:i;o=Object.assign({},o||{});var a=(r=Object.assign({},r))||{},s=a.appName,c=void 0===s?"":s,l=a.subAppName,d=void 0===l?"":l,u=a.sceneId,p=void 0===u?0:u,m=a.subSceneId,g=void 0===m?0:m,f=a.listId,b=void 0===f?"":f,y=a.bizTag,O=void 0===y?"":y,I=a.mktTrSc,k=void 0===I?[]:I,E=a.mktDomain,S=void 0===E?0:E,w=a.baseCatId,N=void 0===w?0:w,C=a.imprElsn,j=void 0===C?{}:C,P=a.missionLogCfg,T=void 0===P?{}:P,L=a.customCfg,x=void 0===L?{}:L,A=a.searchAdConfig,G=void 0===A?{}:A;o.appName=c,o.subAppName=d,o.sceneId=p,o.subSceneId=g,o.listId=b,o.bizTag=O||o.bizTag,o.inspectCfg=o.inspectCfg||{},o.inspectCfg.mkt_tr_sc.value=k,o.inspectCfg.mkt_domain.value=S,o.imprElsn=o.imprElsn||{};var R=j||{},D=R.goods,M=void 0===D?0:D,U=R.recommend,F=void 0===U?0:U,W=R.uLike,B=void 0===W?0:W,q=R.similar,H=void 0===q?{}:q;Number(M)>0&&(o.imprElsn[v.c.Goods]=M),Number(F)>0&&(o.imprElsn[v.c.Recommend]=F),Number(B)>0&&(o.imprElsn[v.c.Ulike]=B);var V=H||{},z=V.impr,J=void 0===z?0:z,Q=V.click,K=void 0===Q?0:Q,Y={};Number(J)>0&&Number(K)>0&&(Y.impr=J,Y.click=K),Object.keys(Y).length>0&&(o.imprElsn[v.c.Similar]=Y),j[v.c.Goods]>0&&(o.imprElsn[v.c.Goods]=j[v.c.Goods]),j[v.c.LvGoods]>0&&(o.imprElsn[v.c.LvGoods]=j[v.c.LvGoods]),j[v.c.LgGoods]>0&&(o.imprElsn[v.c.LgGoods]=j[v.c.LgGoods]),j[v.c.Hmall]>0&&(o.imprElsn[v.c.Hmall]=j[v.c.Hmall]),j[v.c.Vmall]>0&&(o.imprElsn[v.c.Vmall]=j[v.c.Vmall]);var Z=j[v.c.Similar]||{},$=Z.impr,X=void 0===$?0:$,ee=Z.click,te=void 0===ee?0:ee,ne={};Number(X)>0&&Number(te)>0&&(ne.impr=X,ne.click=te),Object.keys(ne).length>0&&(o.imprElsn[v.c.Similar]=ne),j[v.c.HGoods]>0&&(o.imprElsn[v.c.HGoods]=j[v.c.HGoods]),j[v.c.VGoods]>0&&(o.imprElsn[v.c.VGoods]=j[v.c.VGoods]),j[v.c.Recommend]>0&&(o.imprElsn[v.c.Recommend]=j[v.c.Recommend]),j[v.c.Topic]>0&&(o.imprElsn[v.c.Topic]=j[v.c.Topic]),j[v.c.Ulike]>0&&(o.imprElsn[v.c.Ulike]=j[v.c.Ulike]),j[v.c.CPT]>0&&(o.imprElsn[v.c.CPT]=j[v.c.CPT]),j[v.c.CPS]>0&&(o.imprElsn[v.c.CPS]=j[v.c.CPS]),j[v.c.Sliding]>0&&(o.imprElsn[v.c.Sliding]=j[v.c.Sliding]),j[v.c.SGoods]>0&&(o.imprElsn[v.c.SGoods]=j[v.c.SGoods]),j[v.c.LvMall]>0&&(o.imprElsn[v.c.LvMall]=j[v.c.LvMall]),j[v.c.LvMallGoods]>0&&(o.imprElsn[v.c.LvMallGoods]=j[v.c.LvMallGoods]),o.missionLogCfg=o.missionLogCfg||{};var oe=T||{},ie=oe.missionRecPath,re=void 0===ie?"":ie,ae=oe.goods,se=void 0===ae?0:ae;o.missionLogCfg[v.c.Goods]=o.missionLogCfg[v.c.Goods]||{},o.missionLogCfg[v.c.Goods].missionRecPath=re,o.missionLogCfg[v.c.Goods].missionRecId=se,o.customCfg=o.customCfg||{};var ce=x||{},le=ce[v.c.Recommend],de=void 0===le?{}:le,ue=ce[v.c.Ulike],pe=void 0===ue?{}:ue,me=ce[v.c.Similar],ge=void 0===me?{}:me,fe=G||{},ve=fe.recommend,he=void 0===ve?{}:ve,_e=fe.uLike,be=void 0===_e?{}:_e,ye=fe.similar,Oe=void 0===ye?{}:ye;return Object.keys(he).length>0&&(de=he),Object.keys(be).length>0&&(pe=be),Object.keys(Oe).length>0&&(ge=Oe),o.customCfg[c]=o.customCfg[c]||{},o.customCfg[c][v.c.Recommend]=de||{},o.customCfg[c][v.c.Ulike]=pe||{},o.customCfg[c][v.c.Similar]=ge||{},o.customCfg[d]=o.customCfg[d]||{},o.customCfg[d][v.c.Recommend]=de||{},o.customCfg[d][v.c.Ulike]=pe||{},o.customCfg[d][v.c.Similar]=ge||{},function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Object(h.h)(t))return t;n=Number(n)||0;var o=Object.keys(t);t.eventId>0&&(t.eventId=t.eventId+n),t.failedEventId>0&&(t.failedEventId=t.failedEventId+n);for(var i=0,r=o.length;i<r;i++){var a=o[i],s=t[a];Object(h.h)(s)&&(s=e(s,n)),t[a]=s}return t}(o,N)};n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return I}));var y=null,O=function(e){if(Object(h.f)()&&!(Object.keys(y||{}).length>0)){var t=b(e),n=new l.a(t),o=new u.a({}),i=new d.a({}),r=new c.a({},null),a=new p.a({}),s=new m.a({});return y={forward:[r,a],log:[n,o],switch:[],skim:[],custom:[],load:[],cache:[i],monitor:[s]}}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(h.f)()){Object.keys(y).length||(y=O({}));for(var t=Object.keys(e)||[],n=0,o=t.length;n<o;n++){var i=t[n],r=e[i]||[],a=y[i]||[];y[i]=[].concat(s()(a),s()(r))}return y}}},t4Im:function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),g=n.n(m),f=n("TSYQ"),v=n.n(f),h=(n("HJXV"),function(e){function t(){return i()(this,t),c()(this,d()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.zIndex,o=Object.assign({},this.props.style||{},{zIndex:n});return g.a.createElement("div",{className:v()("cartoon-widgets-popup-body",t),style:o},this.props.children)}}]),t}(m.PureComponent));t.a=h},tNyt:function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("LZ1O"),c=n("FxVL"),l=n("FORR"),d=n("glE4"),u=function(){function e(t){i()(this,e),this.missionLogCfg={},this.multiMissionLogCfg={},this.extendParams={};var n=t||{},o=n.missionLogCfg,r=void 0===o?this.missionLogCfg:o,a=n.multiMissionLogCfg,s=void 0===a?this.multiMissionLogCfg:a,c=n.extendParams,l=void 0===c?this.extendParams:c;this.extendParams=l||this.extendParams,this.missionLogCfg=Object.assign({},this.missionLogCfg,r||{}),this.multiMissionLogCfg=Object.assign({},this.multiMissionLogCfg,s||{}),Object(d.a)().reset(t)}return a()(e,[{key:"loadImprConfig",value:function(e){var t=Object(d.a)().getBaseParams()||{},n=t.destAppName,o=this.missionLogCfg||{},i=this.multiMissionLogCfg||{};return Object.keys(o).length||(o=t.missionLogCfg||{}),Object.keys(i).length||(i=t.multiMissionLogCfg||{}),Object.keys(o).length||(o=i[n]||{}),o}},{key:"sendRequest",value:function(e,t){if(!t)return Promise.resolve({success:!1,url:t});var n=s.a.getFunctions().requestUtil,o=1;return new Promise((function(i,r){!function a(){return s=function(e){i(e)},c=function(e){o<2?(o++,a()):r(e)},void n.baseRequest(t,{method:"POST",params:e}).then((function(e){var t=!!(e||{}).success;t&&s&&s(e),!t&&c&&c(e)})).catch((function(e){c&&c(e)}));var s,c}()}))}},{key:"doClickImpr",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,o=(e.idx,e.type),i=void 0===o?0:o,r=n||{},a=this.extendParams,s=this.loadImprConfig()||{},d=s[i||l.c.Goods]||{},u=r.goods_id||"",p=r.mall_id||"",m=d||{},g=m.missionRecId,f=void 0===g?0:g,v=m.failedEventId,h=void 0===v?0:v,_=m.missionRecPath,b=void 0===_?"api/manor-gateway/normal/goods/record":_;if(!f)return Promise.resolve(!1);var y=h||0,O={record_type:f};return i!==l.c.Hmall&&i!==l.c.Vmall||(O=Object.assign({},O,{mall_id:p})),i&&i!==l.c.Goods||(O=Object.assign({},O,{goods_id:u})),O=Object.assign({},O,a),this.sendRequest(O,b).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e||{}).success||Object(c.h)(y,{goodsId:u,ret:e,params:O}),e})).catch((function(e){Object(c.h)(y,{goodsId:u,ex:e,params:O})}))}}]),e}();t.a=u},ubuf:function(e,t,n){"use strict";var o=n("lSNA"),i=n.n(o),r=n("RIqP"),a=n.n(r),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),d=n.n(l),u=n("LZ1O"),p=n("OfVG"),m=n("FxVL"),g="cartoon_widgets_san_x_mins",f=function(){function e(t){c()(this,e),this.pageKey="".concat("cartoon_widgets","_scan_x_mins"),this.goodsTime=-1,this.phases=[{1:20},{2:20},{3:20}],this.domCutDown="#cartoon-plugin-cutdown",this.message="当前页面浏览<span>#{second}秒</span>，即可获得1000步",this.startTime=Date.now()+1e3,this.interval=null,this.isNativeBack=!1,this.isForceUpdate=!0,this.initProps={},this.callBack=function(e,t,n){};var n=(t||{}).autoStart,o=void 0===n||n;this.initProps=t,this.ticketCb=function(e){return{}},o&&this.start(t)}return d()(e,[{key:"restart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.initProps;this.delStorage(),this.start(e)}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.initProps,t=u.a.getFunctions(),n=t.coreUtil,o=n.getCurrentPageName(),i=o.name,r=e||{},s=r.pageName,c=void 0===s?i:s,l=r.phases,d=void 0===l?[{1:20},{2:20},{3:20}]:l,m=r.goodsTime,f=void 0===m?-1:m,v=r.domCutDown,h=void 0===v?"#cartoon-plugin-cutdown":v,_=r.message,b=void 0===_?"当前页面浏览<span>#{second}秒</span>，即可获得1000步":_,y=r.isForceUpdate,O=void 0===y||y,I=r.callBack,k=void 0===I?function(e,t,n){}:I,E=r.ticketCb,S=void 0===E?this.ticketCb:E;this.pageKey="".concat("cartoon_widgets","_").concat(c||"scan_x_mins"),this.callBack=k,this.ticketCb=S,this.phases=a()(d),this.goodsTime=f,this.domCutDown=h,this.message=b,this.isForceUpdate=O;var w=this.readStorage(),N=w[g]||{},C=N.date,j=Object(p.a)(new Date),P=N.phases||[];C===j&&P.length>0&&!O&&(this.phases=P),setTimeout(this.countDown.bind(this),0)}},{key:"countDown",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=a()(this.phases||[]),o=document.querySelector(this.domCutDown)||{},i=this.phases.shift()||{},r=Number(Object.values(i)[0])||0,s=this.readStorage()||{},c=s[g]||{},l=c.leaveTime,d=void 0===l?Date.now():l,m=c.startTime,f=void 0===m?Date.now():m,v=c.phases,h=void 0===v?[]:v;h=h||[],f=f||Date.now();var _=u.a.getFunctions(),b=_.coreUtil,y=b.parseUrlQuery(Object(p.b)())||{},O=1===Number(y.is_back)||this.isNativeBack;O||(this.isNativeBack=!1,f=Date.now(),d=-1);var I=Math.floor((Date.now()-d)/1e3);I=d<0?0:I>=0?I:0;var k=0;this.goodsTime>=0&&I>this.goodsTime&&(k=I-this.goodsTime);var E=Math.floor((Date.now()-f)/1e3);if(E>=k&&(E-=k),this.saveStorage({date:Object(p.a)(new Date),startTime:Date.now()-1e3*E,leaveTime:-1,phases:n}),(r-=E)<=0){o.innerHTML="";var S=t?1:0;(h||[]).length>S&&this.endPhaseCutDown(i)}else{var w=this.message;this.interval&&(clearInterval(this.interval),this.interval=null),Object(p.e)(this.ticketCb)&&this.ticketCb(r),o.innerHTML=r<=0?"":w.replace(/\#\{second\}/gi,r.toString()),this.interval=setInterval((function(){Object(p.e)(e.ticketCb)&&e.ticketCb(r),o.innerHTML=w.replace(/\#\{second\}/gi,(r--).toString()),r<=0&&e.interval&&(o.innerHTML="",clearInterval(e.interval),e.interval=null,e.endPhaseCutDown(i))}),1e3)}}},{key:"endPhaseCutDown",value:function(e){var t=this;this.callBack&&(0,this.callBack)((function(){t.countDown(!0)}),(function(){var e=(t.readStorage()||{})[g]||{};(e.phases||[]).length>0&&(e.startTime=Date.now(),e.leaveTime=-1,t.saveStorage(e))}),e)}},{key:"beforeLeave",value:function(e){var t=this,n=(this.readStorage()||{})[g]||{};(n.phases||[]).length>0&&(n.leaveTime=Date.now(),this.saveStorage(n));var o=u.a.getFunctions().nativeNotification;if(!Object(m.g)()){this.interval&&Object(p.e)(clearInterval)&&(clearInterval(this.interval),this.interval=null);var i=Object(p.e)(o.addSceneReturnCallback);if(Object(m.f)()&&i){o.addSceneReturnCallback(function(){t.isNativeBack=!0,t.runAfterEnter()}.bind(this))}}}},{key:"runAfterEnter",value:function(e){this.interval&&(clearInterval(this.interval),this.interval=null);var t=(this.readStorage()||{})[g]||{};(t.phases||[]).length>0&&(this.phases=t.phases),this.countDown()}},{key:"delStorage",value:function(){var e=this.readStorage();e=Object.assign({},e,i()({},g,null)),u.a.getFunctions().sessionStorage.setStorageSync(this.pageKey,JSON.stringify(e))}},{key:"saveStorage",value:function(e){var t=this.readStorage();t=Object.assign({},t,i()({},g,e)),u.a.getFunctions().sessionStorage.setStorageSync(this.pageKey,JSON.stringify(t))}},{key:"readStorage",value:function(){var e={};try{var t=u.a.getFunctions().sessionStorage.getStorageSync(this.pageKey)||"";e=t?JSON.parse(t):{}}catch(e){}return e||{}}}]),e}();t.a=f},vHpM:function(e,t,n){"use strict";var o,i=n("J4zp"),r=n.n(i),a=n("o0o1"),s=n.n(a),c=n("yXPU"),l=n.n(c),d=n("yG8O"),u=n.n(d),p=n("lwsE"),m=n.n(p),g=n("W8MJ"),f=n.n(g),v=n("U+yc"),h=n.n(v),_=(n("1ABj"),n("2vnA")),b=n("mG/U"),y=n("h7Yj"),O=n("KoDT"),I=n("jsxS");var k,E,S,w=n("rIj9");n.d(t,"a",(function(){return N}));var N=(k=function(){function e(){m()(this,e),this.$axiosHttp=null,this.errorRedirectUrl="/",u()(this,"isServerRendered",E,this),u()(this,"isFinishInitLoading",S,this)}var t,n,i;return f()(e,[{key:"finishServerRender",value:function(){this.finishInitLoading(),this.isServerRendered=!0}},{key:"finishInitLoading",value:function(){this.isFinishInitLoading=!0}},{key:"prepareClientData",value:function(){}},{key:"dealError",value:function(e){if(e.handled)return console.warn("该异常已经被dealError处理过了"),Promise.reject(e);var t=e.errorCode;return Promise.reject({handled:!0,errorCode:void 0===t?"unknown":t,error:e,alertText:Object(b.getMsgFromCode)(t),redirectUrl:this.errorRedirectUrl})}},{key:"initDataCallback",value:function(e){this.initServices(this.$axiosHttp);var t=this.getDatasource();return this.loadDatasource(t,e)}},{key:"initClientData",value:(i=l()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.initAxiosHttp({pageInfo:t}),e.next=4,this.initDataCallback({get pathname(){return location.pathname},get query(){return Object(y.parseQuery)(location.search)},get queries(){return console.warn("requestContext queries is deprecated, use query instead!"),Object(y.parseQuery)(location.search)},get userAgent(){return navigator.userAgent},get hostname(){return location.hostname},get cookies(){return Object(y.getCookie)()},get platform(){return Object(O.getPlatform)(navigator.userAgent)},get isSupportWebp(){return void 0===o&&(o=Object(I.a)(this.cookies)),o}});case 4:this.prepareClientData(),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",this.dealError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return i.apply(this,arguments)})},{key:"initServerData",value:(n=l()(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.initAxiosHttp({req:t.__req,res:t.__res,accessToken:n}),e.next=4,this.initDataCallback(t);case 4:this.finishServerRender(),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",this.dealError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,t){return n.apply(this,arguments)})},{key:"fromJS",value:function(e,t){e&&e.isServerRendered&&(Object.assign(this,e),this.initAxiosHttp({pageInfo:t}),this.initServices(this.$axiosHttp))}},{key:"loadDatasource",value:(t=l()(s.a.mark((function e(t,n){var o=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=2;break}return e.abrupt("return",t.reduce((function(e,t){return e.then((function(){return C(t,n,o)}))}),Promise.resolve()));case 2:return e.abrupt("return",C(t,n,this));case 3:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"getDatasource",value:function(){return[]}},{key:"initServices",value:function(e){}},{key:"initAxiosHttp",value:function(e){e.req,e.res,e.accessToken;var t={pageInfo:e.pageInfo};this.$axiosHttp=Object(w.createDefaultAxios)(t)}},{key:"toJSON",value:function(){return Object(_.toJS)(this)}}]),e}(),E=h()(k.prototype,"isServerRendered",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=h()(k.prototype,"isFinishInitLoading",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h()(k.prototype,"finishServerRender",[_.action],Object.getOwnPropertyDescriptor(k.prototype,"finishServerRender"),k.prototype),h()(k.prototype,"finishInitLoading",[_.action],Object.getOwnPropertyDescriptor(k.prototype,"finishInitLoading"),k.prototype),h()(k.prototype,"prepareClientData",[_.action],Object.getOwnPropertyDescriptor(k.prototype,"prepareClientData"),k.prototype),h()(k.prototype,"initDataCallback",[_.action],Object.getOwnPropertyDescriptor(k.prototype,"initDataCallback"),k.prototype),h()(k.prototype,"initClientData",[_.action],Object.getOwnPropertyDescriptor(k.prototype,"initClientData"),k.prototype),h()(k.prototype,"initServerData",[_.action],Object.getOwnPropertyDescriptor(k.prototype,"initServerData"),k.prototype),h()(k.prototype,"fromJS",[_.action],Object.getOwnPropertyDescriptor(k.prototype,"fromJS"),k.prototype),h()(k.prototype,"loadDatasource",[_.action],Object.getOwnPropertyDescriptor(k.prototype,"loadDatasource"),k.prototype),k);function C(e,t,n){return j.apply(this,arguments)}function j(){return(j=l()(s.a.mark((function e(t,n,o){var i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t){e.next=6;break}return e.next=3,t(n,o);case 3:return i=e.sent,Object(_.runInAction)((function(){return Object.assign(o,i)})),e.abrupt("return");case 6:return e.abrupt("return",Promise.all(Object.entries(t).map(function(){var e=l()(s.a.mark((function e(t){var i,a,c,l,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r()(t,2),a=i[0],"function"==typeof(c=i[1])&&(c={dump:!1,loader:c}),l=c.loader,e.next=5,Promise.resolve(l(n,o));case 5:d=e.sent,Object(_.runInAction)((function(){c.dump?Object.assign(o,d):o[a]=d}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},y43z:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}));var o=n("KoDT"),i=n("m1ZW"),r=n("+xyA"),a=r.d,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.b;if(!Object(i.c)())return r.d;Object.keys(e||{}).length||(e=r.b);var t=Object.keys(e||{})||[],n=t.filter((function(e){return 0===(e||"").toString().indexOf("APP_")}));if(Object(o.getCurrentPlatform)().isNativePlatform)for(var s=0,c=n.length;s<c;s++){var l=n[s],d=Object(i.d)(l,"APP_"),u=e[l];a[d]=u}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.c;if(!Object(i.c)())return r.d;Object.keys(e||{}).length||(e=r.c);var t=Object.keys(e||{})||[],n=t.filter((function(e){return 0===(e||"").toString().indexOf("IOS_")}));if(Object(o.getCurrentPlatform)().platform===o.PLATFORM.PddIOS&&!Object(i.b)())for(var s=0,c=n.length;s<c;s++){var l=n[s],d=Object(i.d)(l,"IOS_"),u=e[l];a[d]=u}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.c;if(!Object(i.c)())return r.d;Object.keys(e||{}).length||(e=r.c);for(var t=Object.keys(e||{})||[],n=t.filter((function(e){return 0!==(e||"").toString().indexOf("IOS_")&&0!==(e||"").toString().indexOf("APP_")})),o=0,l=n.length;o<l;o++){var d=n[o],u=e[d];a[d]=u}s(e),c(e)}},yYfL:function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),d=n.n(l),u=n("7W2i"),p=n.n(u),m=n("q1tI"),g=n.n(m),f=n("TSYQ"),v=n.n(f),h=(n("LCzs"),function(e){function t(){return i()(this,t),c()(this,d()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.className;return t?g.a.createElement("div",{className:v()("cartoon-widgets-popup-popup",n)},this.props.children):null}}]),t}(m.PureComponent));t.a=h},z0YQ:function(e,t,n){"use strict";var o=n("lwsE"),i=n.n(o),r=n("W8MJ"),a=n.n(r),s=n("LZ1O"),c=n("glE4"),l=n("OfVG"),d=n("FxVL"),u=function(){function e(t){i()(this,e),this.connected=!1,this.optId=0,this.subId=0,this.menuCache={},this.callBacks=[],this.cbRefresh=[],this.fetchParams={},this.baseUrl="api/tyrion/opts";var n=Object(c.a)().getBaseParams()||{},o=n.optId,r=void 0===o?0:o,a=n.subId,s=void 0===a?0:a,l=t||{},d=l.optId,u=void 0===d?r:d,p=l.subId,m=void 0===p?s:p,g=l.optFetchUrl,f=void 0===g?this.baseUrl:g,v=l.fetchParams,h=void 0===v?{}:v;this.optId=u,this.subId=m,this.baseUrl=f,this.fetchParams=h,Object(c.a)().reset({optId:u,subId:m})}return a()(e,[{key:"connect",value:function(){this.connected=!0}},{key:"isConnected",value:function(){return this.connected}},{key:"reigistResetCB",value:function(e){this.callBacks.push(e)}},{key:"registRefreshCB",value:function(e){this.cbRefresh.push(e)}},{key:"beforePatch",value:function(e){return e}},{key:"addMenuToMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.optId,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;Object(c.a)().addMenuToMap(Object(l.l)(t)||Object(l.l)(e)||0,n)}},{key:"manualReset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.optId,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(Object(c.a)().addMenuToMap(Object(l.l)(t)||Object(l.l)(e)||0,n),e!==this.optId||t!==this.subId){var o=n||{},i=o.link_app_name,r=void 0===i?"":i,a=o.link_scene_id,s=void 0===a?0:a;Object(c.a)().changeBaseParams({subAppName:r,subSceneId:s});for(var d=0,u=this.callBacks.length;d<u;d++){var p=this.callBacks[d];Object(l.e)(p)&&p(e,t)}}}},{key:"menuRefresh",value:function(e){for(var t=0,n=this.cbRefresh.length;t<n;t++){var o=this.cbRefresh[t];Object(l.e)(o)&&o(e)}}},{key:"manualRefresh",value:function(){for(var e=0,t=this.callBacks.length;e<t;e++){var n=this.callBacks[e];Object(l.e)(n)&&n(this.optId,this.subId,1)}}},{key:"fetch",value:function(){var e=s.a.getFunctions(),t=e.requestUtil,n=e.coreUtil.appendQuery(this.fetchParams,this.baseUrl);return t.baseRequest(n)}},{key:"beforeReset",value:function(e){var t=Object(c.a)().getBaseParams()||{},n=t.page,o=void 0===n?1:n,i=t.optId,r=t.subId,a=void 0===r?0:r,l=s.a.getFunctions().page.getScrollTop(),d=a||i,u=this.menuCache[d]||{};this.menuCache[d]=Object.assign({},u,{page:o,scrollTop:l})}},{key:"afterUpdate",value:function(e){var t=e||{},n=t.optId,o=void 0===n?this.subId:n,i=t.subId,r=void 0===i?this.subId:i,a=r||o;if(a!==(this.subId||this.optId)){var l=(this.menuCache[a]||{}).scrollTop,u=void 0===l?-1:l,p=s.a.getFunctions().page;u>=0&&p.setScrollTop(u),this.optId=o,this.subId=r;var m=Object(c.a)().getBaseParams(),g=m.subAppName,f=void 0===g?"":g,v=m.subSceneId,h=void 0===v?0:v,_={opt_id:o,sub_opt_id:r,sp:0,page:0};f&&(_=Object.assign({},_,{sub_app_name:f})),h&&(_=Object.assign({},_,{sub_scene_id:h})),Object(d.i)(_)}}}]),e}();t.a=u},zK7Y:function(e,t,n){"use strict";var o,i,r=n("RIqP"),a=n.n(r),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),d=n.n(l),u=n("a1gu"),p=n.n(u),m=n("Nsbk"),g=n.n(m),f=n("PJYZ"),v=n.n(f),h=n("7W2i"),_=n.n(h),b=n("cDf5"),y=n.n(b),O=n("q1tI"),I=n.n(O),k=n("O7Vp"),E=n("Gvwk"),S=n("/hlV"),w=(n("wgM/"),function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).onClickGoods=function(t,n){var o=(e.props.data||{}).mall_goods,i=(void 0===o?[]:o)[t];e.props.onClick(i,t,n)},e.onGoodsImpr=function(t,n){var o=(e.props.data||{}).mall_goods,i=(void 0===o?[]:o)[n]||{};e.props.onGoodsImpr(i,n),Object(S.i)(t)&&t()},e.getGoodsInfo=function(t){var n=(e.props.data||{}).mall_goods,o=(void 0===n?[]:n)||[];if(o.length<t+1)return{image:"",price:0,tip:"",tracker:{}};var i=o[t]||{},r=i.hd_thumb_url,a=i.thumb_url,s=i.group,c=i.sales_tip,l=s||{},d=l.price,u=void 0===d?0:d,p=l.price_type,m=void 0===p?0:p,g=l.price_str,f=void 0===g?"":g,v=Object(S.p)(u,100);return 1===Number(m)&&f&&(v=f),{image:r||a||"",price:v||0,tip:c||""}},e}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.getGoodsInfo(0),n=t.image,o=t.price,i=(this.props.data||{}).goods_num,r=void 0===i?0:i;return I.a.createElement("div",{className:"cartoon-widgets-h-mall-goods"},I.a.createElement(E.a,{doImpr:!0,index:0,doTracking:function(t){return e.onGoodsImpr(t,0)}},I.a.createElement("div",{className:"main-good-container",onClick:function(t){return e.onClickGoods(0,t)}},I.a.createElement(k.LazyImage,{className:"goods-icon",src:n,lazy:!0}),I.a.createElement("div",{className:"first-goods-black-bg"},I.a.createElement("div",{className:"first-goods-price"},I.a.createElement("span",{className:"symbol"},"￥"),o)))),I.a.createElement("div",{className:"right-container"},I.a.createElement("div",{className:"goods-bottom-container"},[1,2,3].map((function(t){var n=e.getGoodsInfo(t),o=n.image,i=n.price;return o?I.a.createElement(E.a,{key:t,doImpr:!0,index:t,doTracking:function(n){return e.onGoodsImpr(n,t)}},I.a.createElement("div",{className:"second-goods-container",onClick:function(n){return e.onClickGoods(t,n)}},I.a.createElement(k.LazyImage,{className:"goods-icon",src:o,lazy:!0}),I.a.createElement("div",{className:"second-goods-black-bg"},I.a.createElement("div",{className:"second-goods-price"},I.a.createElement("span",{className:"symbol"},"￥"),i)))):null})),I.a.createElement("div",{className:"more-goods-container"},I.a.createElement("div",{className:"more-goods-black-bg",onClick:this.props.goToMall},I.a.createElement("div",null,r,"件商品"),I.a.createElement("div",{className:"more-goods-btn"},"查看更多",I.a.createElement("div",{className:"right-icon"})))))))}}]),t}(O.PureComponent)),N=n("TSYQ"),C=n.n(N),j=(n("KLYV"),function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).onClick=function(t){e.props.onClick&&e.props.onClick(t)},e.renderButton=function(e){var t,n=e.collected,o=(e||{}).favorite_coupon,i=((void 0===o?{}:o)||{}).discount_amount,r=void 0===i?0:i,a=Number(Object(S.p)(r,100))||0;if(n)t=a?I.a.createElement("div",{className:C()("mall-button")},a,"元券",I.a.createElement("div",{className:"divider"}),"进店使用"):I.a.createElement("div",{className:C()("mall-button")},"进店逛逛");else{var s=a?"".concat(a,"元券 | 关注并进店 "):"关注并进店";t=I.a.createElement("div",{className:"mall-button"},s)}return I.a.createElement("div",{className:"button-wrapper"},t)},e}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.data||{},t=e.mall_name,n=e.image_url_list,o=e.mall_logos,i=e.labels,r=(n||[])[0]||"",a=(o||[]).sort((function(e,t){var n=(e||{}).logo_type,o=void 0===n?0:n,i=(t||{}).logo_type;return(void 0===i?0:i)-o})).slice(0,2);return I.a.createElement("div",{className:"cartoon-widgets-h-mall-head",onClick:this.onClick},I.a.createElement(k.LazyImage,{className:"mall-avatar-image-container",lazy:!0,src:r}),I.a.createElement("div",{className:"mall-desc-container"},I.a.createElement("div",{className:"mall-desc-top-line"},I.a.createElement("div",{className:"mall-name"},t),a.map((function(e,t){var n=(e||{}).logo_url,o=void 0===n?"":n;return I.a.createElement(k.LazyImage,{key:t,className:"mall-icon",src:o,optimize:!1})}))),I.a.createElement("div",{className:"mall-desc-second-line"},(i||[]).slice(0,2).map((function(e,t){var n=e.text,o=e.type,i="type".concat(void 0===o?2:o);return I.a.createElement("div",{key:t,className:C()("tag",i)},I.a.createElement("div",{className:"tag-text"},n))})))),this.renderButton(e))}}]),t}(O.PureComponent)),P=(n("465f"),function(e){function t(e){var n;return c()(this,t),(n=p()(this,g()(t).call(this,e))).getShowComment=function(e){var t=(e||{}).comment_person,n=void 0===t?"":t,o=(e||{}).content,i=void 0===o?"":o,r=n.length>2?Array(n.length-2).fill("*"):[],a=n.slice(0,2)+r.join("");return a?I.a.createElement("div",{className:"comment-content"},a,"说: ",I.a.createElement("span",{className:"content-text"},i)):I.a.createElement("div",{className:"comment-content"},I.a.createElement("span",{className:"content-text"},i))},n.timer=null,n.domIdx=0,n.containerRef=I.a.createRef(),n.state={oStyle:{transform:"translateY(0)"}},n}return _()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.startAnimation()}},{key:"startAnimation",value:function(){var e=this;if(!this.timer){var t=(this.props.data||{}).comments,n=((void 0===t?[]:t)||[]).length||1,o=(this.containerRef.current||{}).offsetHeight||73;n>1&&(this.timer=setInterval((function(){var t=e.domIdx++%n,i={transform:"translateY(-".concat(o*(t+1),"px)")};i=Object.assign({},i,{transition:"transform ".concat(1e3,"ms")}),e.setState({oStyle:i}),e.domIdx%n==0&&setTimeout((function(){i={transform:"translateY(-".concat(0,"px)"),transition:"none"},e.setState({oStyle:i})}),1e3)}),3e3))}}},{key:"stopAnimation",value:function(){this.timer&&clearInterval(this.timer),this.timer=null}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"render",value:function(){var e=this,t=this.props.data,n=this.state.oStyle,o=(t||{}).comments,i=((void 0===o?[]:o)||[]).slice();return i.length?(i=[].concat(a()(i),[i[0]]),I.a.createElement("div",{className:"cartoon-widgets-h-mall-goods-comment",ref:this.containerRef,onClick:this.props.onTomall},I.a.createElement("div",{className:"comment-container-list",style:Object.assign({},n)},i.map((function(t,n){var o=(t||{}).comment_avatar,i=void 0===o?"":o,r=e.getShowComment(t);return I.a.createElement("div",{key:n,className:"commnet-list-item"},I.a.createElement(k.LazyImage,{className:"comment-avatar",lazy:!0,src:i}),r)}))))):null}}]),t}(O.Component)),T=(n("gn6A"),function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).goToMall=function(t){e.props.onTomall&&e.props.onTomall(t)},e.onTogood=function(t,n,o){e.props.onTogood&&e.props.onTogood(t,n,o)},e.onGoodsImpr=function(t,n){e.props.doGoodsTracking&&e.props.doGoodsTracking(t,n)},e}return _()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.data||{},n=e.data||{};return t.mall_id!==n.mall_id||!!n.force_refresh}},{key:"render",value:function(){var e=this.props.data||{},t=this.props.className,n=void 0===t?[]:t,o=e.mall_goods;return o=(o||[]).slice(0,8),I.a.createElement("div",{className:"cartoon-widgets-h-mall ".concat((n||[]).join(" "))},I.a.createElement(j,{data:e,onClick:this.goToMall}),I.a.createElement(P,{data:e,onTomall:this.goToMall}),I.a.createElement(w,{data:e,onGoodsImpr:this.onGoodsImpr,goToMall:this.goToMall,onClick:this.onTogood}))}}]),t}(O.Component)),L=(n("oN0C"),function(e){function t(){return c()(this,t),p()(this,g()(t).apply(this,arguments))}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,o=void 0===n?"":n,i=(t||{}).hd_thumb_url,r=void 0===i?"":i,a="cartoon-widgets-v-mall-goods "+o;return I.a.createElement("div",{className:a},I.a.createElement("div",{className:"cartoon-widgets-v-mall-goods-image"},I.a.createElement(k.LazyImage,{src:r,placeholder:"#fafafa",lazy:!0})))}}]),t}(O.PureComponent)),x=(n("dLKY"),function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).onClick=function(t){e.props.onClick&&e.props.onClick(t)},e}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.data||{},t=e.mall_name,n=e.mall_desp,o=e.image_url_list,i=(e.mall_coupons||[]).slice(0,2),r=(o||[])[0]||"",a=parseInt(n||"0",10)||0;return I.a.createElement("div",{className:"cartoon-widgets-v-mall-bottom"},I.a.createElement("div",{className:"cartoon-widgets-v-mall-head"},I.a.createElement("img",{alt:"",className:"cartoon-widgets-v-mall-head-image",src:r}),I.a.createElement("div",{className:"cartoon-widgets-v-mall-head-desc"},I.a.createElement("div",{className:"cartoon-widgets-v-mall-head-name"},t),I.a.createElement("div",{className:"cartoon-widgets-v-mall-head-sub-desc"},I.a.createElement("span",null,"已拼",a<1e3?a:Object(S.p)(a,1e4,1),"万+件")))),I.a.createElement("div",{className:"cartoon-widgets-v-mall-button"},I.a.createElement("p",{className:"cartoon-widgets-v-mall-tags"},i.map((function(e,t){return I.a.createElement("span",{className:C()("cartoon-widgets-v-mall-head-card","type".concat(e.coupon_type)),key:t},e.copywriting)}))),I.a.createElement("p",{className:"cartoon-widgets-v-mall-btn"},"进店")))}}]),t}(O.PureComponent)),A=(n("dsW0"),function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).goTomall=function(t){t.stopPropagation&&t.stopPropagation(),e.props.onTomall&&e.props.onTomall(t)},e.onTogood=function(t,n,o){o.stopPropagation&&o.stopPropagation(),e.props.onTogood&&e.props.onTogood(t,n,o)},e}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props.data||{},n=t.mall_goods;return n=(n||[]).slice(0,4),I.a.createElement("div",{className:"cartoon-widgets-v-mall",onClick:this.goTomall},I.a.createElement("div",{className:"cartoon-widgets-v-mall-list"},(n||[]).map((function(n,o){var i="mall-good-".concat(o),r=o%2==0?"left":"right";return n=Object.assign({},n,{impr_mall_data:t}),I.a.createElement(L,{key:i,className:r,index:o,data:n,onClick:e.onTogood})}))),I.a.createElement(x,{data:t,onClick:this.goTomall}))}}]),t}(O.Component)),G=function(e,t,n){e.override=!0;var o=n.value;if("[object Function]"!==Object.prototype.toString.call(o))return n;var i=n.configurable,r=n.enumerable;return e._mixins_=e._mixins_||[],e._mixins_.push(t),{configurable:i,enumerable:r,get:function(){var e=o.bind(this);return Object.defineProperty(this,t,{configurable:i,enumerable:r,writable:!0,value:e}),e}}},R=function(e){var t=(e||{}).special_text||{},n=t.bg_color,o=void 0===n?"":n,i=t.text_color,r=void 0===i?"":i,a=t.img_text,s=void 0===a?"":a;return s&&o&&r?(s&&o&&r&&(o=Object(S.a)(o),r=Object(S.a)(r)),{text:s,style:{backgroundColor:o,color:r}}):{}};!function(e){e[e.Goods=0]="Goods",e[e.AdGoods=1]="AdGoods",e[e.LvGoods=2]="LvGoods",e[e.Hmall=10]="Hmall",e[e.Vmall=20]="Vmall",e[e.Coupon=30]="Coupon",e[e.Favorite=40]="Favorite",e[e.Similar=50]="Similar",e[e.SimilarInRows=51]="SimilarInRows",e[e.HGoods=60]="HGoods",e[e.VGoods=70]="VGoods",e[e.Recommend=80]="Recommend",e[e.Topic=90]="Topic",e[e.Ulike=100]="Ulike",e[e.CPT=110]="CPT",e[e.CPS=120]="CPS",e[e.Game=130]="Game",e[e.Video=140]="Video",e[e.Sliding=150]="Sliding",e[e.SGoods=160]="SGoods",e[e.LvMall=170]="LvMall",e[e.LvMallGoods=180]="LvMallGoods",e[e.RankingList=190]="RankingList",e[e.RankingGoods=200]="RankingGoods"}(o||(o={})),function(e){e[e.Default=0]="Default",e[e.Button=1]="Button"}(i||(i={}));n("90lh");var D,M,U,F,W,B=function(e){function t(){return c()(this,t),p()(this,g()(t).apply(this,arguments))}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.data,t=e.sales_tip,n=e.price,o=e.group,i=n||((void 0===o?{}:o)||{}).price;return I.a.createElement("div",{className:"cartoon-widgets-grid-buy"},I.a.createElement("div",{className:"cartoon-widgets-buy-detail"},I.a.createElement("span",{className:"cartoon-widgets-buy-icon"},"¥"),I.a.createElement("span",{className:"cartoon-widgets-buy-price"},Object(S.p)(i,100)),I.a.createElement("span",{className:"cartoon-widgets-buy-tips"},t||"")),I.a.createElement("div",{className:"go-buy-button"},"抢"))}}]),t}(O.PureComponent),q=function(e){function t(){return c()(this,t),p()(this,g()(t).apply(this,arguments))}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.data,t=e.sales_tip,n=e.price,o=e.group,i=void 0===o?{}:o,r=e.button_html,a=void 0===r?"立即拼单":r,s=Number(n||(i||{}).price);return I.a.createElement("div",{className:"cartoon-widgets-buy-custom"},I.a.createElement("div",{className:"cartoon-widgets-custom-detail"},I.a.createElement("p",{className:"cartoon-widgets-custom-price"},I.a.createElement("span",{className:"cartoon-widgets-price-icon"},"¥"),I.a.createElement("span",{className:"cartoon-widgets-price-num"},Object(S.p)(s,100))),I.a.createElement("span",{className:"cartoon-widgets-sales-tips"},t||"")),I.a.createElement("div",{className:"cartoon-widgets-buy-btn android-padding",dangerouslySetInnerHTML:{__html:a}}))}}]),t}(O.PureComponent),H=function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).onClick=function(t){e.props.onClick&&e.props.onClick(t)},e}return _()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.data||{},n=e.data||{};return t.goods_id!==n.goods_id||!!n.force_refresh}},{key:"render",value:function(){var e=this.props.data||{};if(!e.goods_id)return null;var t=e.elem_type===o.LvGoods,n=(e.twelve_tag||"").trim();t&&(n=Object(S.h)("cartoon_goods_live_tag","gif"));var r=e.tag_list||[],a=e.spec_id,s=void 0===a?0:a,c=e.goods_name,l=void 0===c?"":c,d=e.hd_thumb_url,u=void 0===d?"":d,p=e.fun_show_type,m=void 0===p?0:p,g=e.icon_html,f=void 0===g?"":g,v=e.name_html,h=void 0===v?"":v,_=e.bottom_html,b=void 0===_?"":_,y=e.tag_html,O=void 0===y?"":y,E={backgroundColor:"#e02e24",color:"#ff5706"},w=this.props.className||"",N="";7===Number(s)&&(N="cartoon-widgets-grid-image-long");var C=R(e),j=C.text,P=void 0===j?"":j,T=C.style,L=void 0===T?{}:T;return I.a.createElement("div",{className:"cartoon-widgets-grid ".concat(w),onClick:this.onClick},I.a.createElement("div",{className:"cartoon-widgets-grid-image ".concat(N)},I.a.createElement(k.LazyImage,{src:u,placeholder:"#fafafa",lazy:!0}),!!P&&I.a.createElement("p",{className:"cartoon-widgets-special-txt",style:L},P),!!f&&I.a.createElement("div",{className:"cartoon-widgets-grid-icon",dangerouslySetInnerHTML:{__html:f}})),I.a.createElement("div",{className:"cartoon-widgets-grid-content"},!h&&I.a.createElement("div",{className:"cartoon-widgets-grid-name"},!!n&&I.a.createElement("img",{alt:"",className:"promotion-tag",src:n}),I.a.createElement("span",{className:"cartoon-widgets-grid-name-text"},l)),!!h&&I.a.createElement("div",{className:"cartoon-widgets-grid-name",dangerouslySetInnerHTML:{__html:h}}),!!O&&I.a.createElement("div",{className:"cartoon-widgets-grid-tag",dangerouslySetInnerHTML:{__html:h}}),!O&&I.a.createElement("div",{className:"cartoon-widgets-grid-tag"},r.map((function(e,t){var n=(e||{}).text_color||"#ff5706",o=((e||{}).text||"").trim(),i=Object.assign({},E,{backgroundColor:Object(S.g)(n,8),color:n});return I.a.createElement("span",{key:"g-tip-".concat(o,"-").concat(t),className:"cartoon-widgets-text",style:i},o)}))),!!b&&I.a.createElement("div",{className:"cartoon-widgets-grid-buy",dangerouslySetInnerHTML:{__html:b}}),!b&&m!==i.Button&&I.a.createElement(B,{data:e}),!b&&m===i.Button&&I.a.createElement(q,{data:e})))}}]),t}(O.Component),V=(n("COWS"),function(e){function t(){return c()(this,t),p()(this,g()(t).apply(this,arguments))}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.isShow,t=this.props.text||"正在加载中...";return e&&I.a.createElement("div",{className:"cartoon-widgets-loading"},I.a.createElement("div",{className:"cartoon-widgets-loading-spinner"}," "),I.a.createElement("span",{className:"cartoon-widgets-loading-text"},t))}}]),t}(O.PureComponent)),z=(n("WKWa"),function(e){function t(){return c()(this,t),p()(this,g()(t).apply(this,arguments))}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.isShow,t=this.props.text||"没有更多了...";return e&&I.a.createElement("div",{className:"cartoon-widgets-load-end"},t)}}]),t}(O.PureComponent)),J=(n("mGSg"),function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).onClick=function(t,n){var o=e.props.data,i=e.props.index;e.props.onClick(o,i,t,n)},e}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props.index,n=this.props.data,o=(n||{}).creative||{},i=(n||{}).query||"",r=(o||{}).image_url,a=void 0===r?"":r,s="cartoon-widgets-similar-ads-image"+" cartoon-widgets-similar-ads-image-".concat(["left","right"][t%2]);return I.a.createElement("div",{className:"cartoon-widgets-similar-ads",onClick:function(t){return e.onClick(!1,t)}},I.a.createElement(k.LazyImage,{className:C()(s),src:a,placeholder:"#fafafa",lazy:!0}),I.a.createElement("div",{className:"cartoon-widgets-similar-ads-desc",onClick:function(t){return e.onClick(!0,t)}},I.a.createElement("span",{className:"cartoon-widgets-similar-ads-text"},i)))}}]),t}(O.PureComponent)),Q=(n("7a1t"),function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).state={isShow:!1},e.showTimer=null,e.hideTimer=null,e.clearHideTimer=function(){e.hideTimer&&(window.clearTimeout(e.hideTimer),e.hideTimer=null)},e.onClose=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.clearHideTimer(),t.stopPropagation&&t.stopPropagation(),e.setState({isShow:!1}),e.props.onClose){var n=e.props,o=n.data,i=n.index;e.props.onClose(o,i,t)}},e.onClick=function(t,n,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.clearHideTimer(),i.stopPropagation&&i.stopPropagation();var r=e.props,a=r.data,s=r.index;e.props.onClick&&e.props.onClick(a,t,n,o,s)},e}return _()(t,e),d()(t,[{key:"componentWillUnmount",value:function(){this.showTimer&&(window.clearTimeout(this.showTimer),this.showTimer=null),this.clearHideTimer()}},{key:"componentDidMount",value:function(){var e=this;this.showTimer=window.setTimeout((function(){e.setState({isShow:!0},e.componentDidAppear)}),700)}},{key:"componentDidAppear",value:function(){var e=this,t=this.props,n=t.data,o=t.index,i=(n||{}).show_time_span,r=void 0===i?0:i;r>0&&(this.hideTimer=window.setTimeout((function(){e.setState({isShow:!1})}),1e3*r)),this.props.onDidShow&&this.props.onDidShow(n,o)}},{key:"render",value:function(){var e=this,t=(this.props.data||{}).recommend_query_ad_single_list||[],n=this.state.isShow?"transform0":"transform100";return I.a.createElement("div",{className:C()("cartoon-widgets-similar",n)},I.a.createElement("div",{className:"cartoon-widgets-similar-main"},I.a.createElement("div",{className:"cartoon-widgets-similar-header"},I.a.createElement("p",{className:"cartoon-widgets-similar-header-title"},I.a.createElement("span",{className:"cartoon-widgets-similar-header-search"}),"猜你想找",I.a.createElement("span",{className:"cartoon-widgets-similar-header-close",onClick:this.onClose})),I.a.createElement("p",{className:"cartoon-widgets-similar-header-desc"},"你喜欢的都在这里")),I.a.createElement("div",{className:"cartoon-widgets-similar-body"},t.map((function(t,n){var o="u-like-item-".concat(n);return I.a.createElement(J,{key:o,index:n,data:t,onClick:e.onClick})})))))}}]),t}(O.Component)),K=(n("A4Ek"),function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).onClick=function(t){if(e.props.onClick){var n=e.props,o=n.data,i=n.index;e.props.onClick(o,i,t)}},e.onGoodsImpr=function(t){if(e.props.onGoodsImpr){var n=e.props,o=n.data,i=n.index;e.props.onGoodsImpr(o,i),Object(S.i)(t)&&t()}},e}return _()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.data||{},n=e.data||{};return t.goods_id!==n.goods_id}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.index,o=t||{},i=o.hd_thumb_url,r=void 0===i?"":i,a=o.goods_name,s=void 0===a?"":a,c=o.price,l=void 0===c?0:c,d=o.sales_tip,u=void 0===d?"":d,p=o.rev_user_icon_url,m=void 0===p?"":p,g=o.rev_content,f=void 0===g?"":g;return I.a.createElement("div",{className:"cartoon-widgets-sliding-item",onClick:this.onClick},I.a.createElement(E.a,{doImpr:!0,index:n,doTracking:this.onGoodsImpr},I.a.createElement("div",{className:"cartoon-widgets-sliding-item-main"},I.a.createElement(k.LazyImage,{className:"cartoon-widgets-sliding-item-image",src:r,lazy:!0}),I.a.createElement("div",{className:"cartoon-widgets-sliding-item-right"},I.a.createElement("p",{className:"cartoon-widgets-sliding-item-name"},s),I.a.createElement("div",{className:"cartoon-widgets-sliding-item-bottom"},I.a.createElement("p",{className:"cartoon-widgets-sliding-item-tags"},I.a.createElement("span",null,"立减5元")),I.a.createElement("p",{className:"cartoon-widgets-sliding-item-detail"},I.a.createElement("span",{className:"cartoon-widgets-sliding-item-yuan"},"￥"),I.a.createElement("span",{className:"cartoon-widgets-sliding-item-price"},Object(S.p)(Number(l),100)),I.a.createElement("span",{className:"cartoon-widgets-sliding-item-tip"},u))))),I.a.createElement("div",{className:"cartoon-widgets-sliding-item-comment"},I.a.createElement(k.LazyImage,{className:"cartoon-widgets-sliding-item-avtar",lazy:!0,src:m}),I.a.createElement("span",{className:"cartoon-widgets-sliding-item-content"},f))))}}]),t}(O.Component)),Y=(n("KsI+"),function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).onTogood=function(t,n,o){e.props.onTogood&&e.props.onTogood(t,n,o)},e.onGoodsImpr=function(t,n){e.props.doGoodsTracking&&e.props.doGoodsTracking(t,n)},e}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props.className,n=void 0===t?[]:t,o=(this.props.data||{}).sliding_goods||[];return o=o.slice(0,8),I.a.createElement("div",{className:C()("cartoon-widgets-sliding",(n||[]).join(" "))},I.a.createElement("p",{className:"cartoon-widgets-sliding-title"},"你可能喜欢"),I.a.createElement("div",{className:"cartoon-widgets-sliding-list-wrapper"},I.a.createElement("div",{className:"cartoon-widgets-sliding-list"},o.map((function(t,n){return I.a.createElement(K,{key:"sliding-item-".concat(n),data:t,index:n,onClick:e.onTogood,onGoodsImpr:e.onGoodsImpr})})))))}}]),t}(O.PureComponent)),Z=(n("kRcm"),function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).onClick=function(t,n){var o=e.props.data,i=e.props.index;e.props.onClick(o,i,t,n)},e}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props.index,n=this.props.data,o=(n||{}).creative||{},i=(n||{}).query||"",r=(o||{}).image_url,a=void 0===r?"":r,s="cartoon-widgets-recommend-ads-image"+" cartoon-widgets-recommend-ads-image-".concat(["left","right"][t%2]);return I.a.createElement("div",{className:"cartoon-widgets-recommend-ads",onClick:function(t){return e.onClick(!1,t)}},I.a.createElement(k.LazyImage,{className:C()(s),src:a,placeholder:"#fafafa",lazy:!0}),I.a.createElement("div",{className:"cartoon-widgets-recommend-ads-desc",onClick:function(t){return e.onClick(!0,t)}},I.a.createElement("span",{className:"cartoon-widgets-recommend-ads-text"},i)))}}]),t}(O.PureComponent)),$=(n("b+8Z"),function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).onClick=function(t,n,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.stopPropagation&&i.stopPropagation();var r=e.props,a=r.data,s=r.index;e.props.onClick&&e.props.onClick(a,t,n,o,s)},e}return _()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(e){return!!(e.data||{}).force_refresh}},{key:"render",value:function(){var e=this,t=(this.props.data||{}).recommend_query_ad_single_list||[];return I.a.createElement("div",{className:"cartoon-widgets-recommend"},I.a.createElement("div",{className:"cartoon-widgets-recommend-main"},I.a.createElement("div",{className:"cartoon-widgets-recommend-header"},I.a.createElement("p",{className:"cartoon-widgets-recommend-header-title"},I.a.createElement("span",{className:"cartoon-widgets-recommend-header-icon"}),"给你推荐"),I.a.createElement("p",{className:"cartoon-widgets-recommend-header-desc"},"你喜欢的都在这里")),I.a.createElement("div",{className:"cartoon-widgets-recommend-body"},t.map((function(t,n){var o="c-recommend-item-".concat(n);return I.a.createElement(Z,{key:o,index:n,data:t,onClick:e.onClick})})))))}}]),t}(O.Component)),X=(n("eDls"),function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).onClick=function(t){e.props.onClick&&e.props.onClick(t)},e}return _()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(e){return!!(e.data||{}).force_refresh}},{key:"render",value:function(){var e=this.props.data||{},t=e||{},n=t.comment_tag,o=void 0===n?{}:n,i=t.tag_list,r=void 0===i?[]:i,a=t.topic_icon,s=void 0===a?"":a,c=t.main_title,l=void 0===c?"":c,d=t.sub_title,u=void 0===d?"":d,p=[],m=(o||{}).tag,g=void 0===m?"":m;(g=(g||"").toString().trim())&&p.push(g),p.length||(p=(r||[]).map((function(e){return(e||{}).text})));var f=this.props.className||"",v=R(e),h=v.text,_=void 0===h?"":h,b=v.style,y=void 0===b?{}:b;return I.a.createElement("div",{className:C()("cartoon-widgets-topic",f),onClick:this.onClick},I.a.createElement("div",{className:"cartoon-widgets-topic-image"},I.a.createElement(k.LazyImage,{src:s,placeholder:"#fafafa",lazy:!0}),!!_&&I.a.createElement("p",{className:"cartoon-widgets-special-txt",style:y},_)),I.a.createElement("div",{className:"cartoon-widgets-topic-body"},I.a.createElement("p",{className:"cartoon-widgets-topic-title"},l),I.a.createElement("p",{className:"cartoon-widgets-topic-desc"},u,I.a.createElement("span",{className:"cartoon-widgets-topic-desc-right"})),I.a.createElement("p",{className:"cartoon-widgets-topic-tags"},p.map((function(e,t){return e.length<12?I.a.createElement("span",{key:"".concat(e,"_").concat(t),className:"cartoon-widgets-topic-tags-txt"},e):null})))))}}]),t}(O.Component)),ee=n("h15V"),te=n("o0o1"),ne=n.n(te),oe=n("jWx1"),ie=n("Fcpp");!function(e){e[e.default=0]="default",e[e.loading=1]="loading",e[e.playing=2]="playing",e[e.paused=3]="paused",e[e.ended=4]="ended"}(D||(D={})),function(e){e[e.default=0]="default",e[e.manualPlay=1]="manualPlay",e[e.onceAuto=10]="onceAuto",e[e.wifiAuto=100]="wifiAuto",e[e.delayPlay=1e3]="delayPlay"}(M||(M={})),function(e){e[e.default=0]="default",e[e.start=1]="start",e[e.pause=2]="pause"}(U||(U={})),function(e){e[e.default=0]="default",e[e.auto=1]="auto",e[e.manual=2]="manual",e[e.back=3]="back"}(F||(F={})),function(e){e[e.default=0]="default",e[e.jump=1]="jump",e[e.leave=2]="leave"}(W||(W={}));n("JbG7");var re=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((o=o.apply(e,t||[])).next())}))},ae=function(e){function t(e){var n;return c()(this,t),(n=p()(this,g()(t).call(this,e))).lenthTime=0,n.lastTime=0,n.currentTime=0,n.videoElem=null,n.domElem=null,n.observer=null,n.isPlaying=!1,n.autoTimer=null,n.loggerEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U.default,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.props.imprOp||{},i=o||{},r=i.startOp,a=void 0===r?"":r,s=i.pauseOp,c=void 0===s?"":s,l=i.extendObj,d=void 0===l?{}:l,u=n.props.data||{},p=u.ad,m=void 0===p?{}:p,g=Object.assign({op:"event",play_time_now:n.lastTime,ad:JSON.stringify(m)},d||{});if(o&&Object.keys(o).length){if(e===U.start&&a&&(g=Object.assign({},g,{sub_op:"video_start",start_type:t})),e===U.pause&&c){var f=n.currentTime-n.lastTime;f<0&&n.lenthTime>0&&(f+=n.lenthTime),f>0&&(g=Object.assign({},g,{sub_op:"video_end",play_time:f,play_time_now:n.lastTime,end_type:t}))}g.sub_op&&ie.default.trackingRecord(g)}},n.addNativeListener=function(){if(Object(S.j)()){var e=v()(n);Object(S.i)(oe.addSceneReturnCallback)&&Object(oe.addSceneReturnCallback)((function(){e.isPlaying&&(e.videoElem||{}).play&&(e.loggerEvent(U.start,F.back),e.videoElem.play())})),Object(S.i)(oe.addSceneLeaveCallback)&&e.isPlaying&&(e.videoElem||{}).pause&&(e.loggerEvent(U.pause,W.jump),e.videoElem.pause(),n.lastTime=n.currentTime)}},n.addIntersectionListener=function(){if(n.domElem){var e=(n.props.options||{}).threshold,t=void 0===e?.9:e;n.observer=new IntersectionObserver((function(e){e.forEach((function(e){var t=e||{},o=t.isIntersecting,i=void 0!==o&&o,r=t.intersectionRatio;i&&(void 0===r?0:r)>.9?n.onEnter():n.onLeave()}))}),{threshold:t}),n.observer.observe(n.domElem)}},n.onEnter=function(){return re(v()(n),void 0,void 0,ne.a.mark((function e(){var t,n,o,i,r,a,s,c,l,d,u,p;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.data,o=t.getNetWork,i=void 0===o?function(){return Promise.resolve(0)}:o,this.props.onEnter&&this.props.onEnter(n),(this.videoElem||{}).play){e.next=4;break}return e.abrupt("return");case 4:if(r=M.default,a=M.onceAuto,s=M.delayPlay,c=this.props.data||{},l=c.mode,d=void 0===l?M.default:l,u=[r,a,s].includes(d),Number(d)!==M.wifiAuto){e.next=12;break}return e.next=10,i();case 10:p=e.sent,u=1===Number(p);case 12:u&&this.autoPlay();case 13:case"end":return e.stop()}}),e,this)})))},n.onLeave=function(){n.autoTimer&&(clearTimeout(n.autoTimer),n.autoTimer=null),(n.videoElem||{}).pause&&(n.loggerEvent(U.pause,W.leave),n.isPlaying=!1,n.videoElem.pause(),n.lastTime=n.currentTime)},n.autoPlay=function(){var e=M.delayPlay,t=n.props.data||{},o=t.mode,i=void 0===o?M.default:o,r=t.delayTime,a=void 0===r?1e3:r,s=0;i!==e||n.state.hasStart||(s=a||1e3),n.autoTimer&&(clearTimeout(n.autoTimer),n.autoTimer=null),n.autoTimer=setTimeout((function(){n.loggerEvent(U.start,F.auto),n.isPlaying=!0,n.videoElem.play()}),s)},n.onPlay=function(e){e.stopPropagation&&e.stopPropagation(),n.isPlaying=!0,n.state.hasStart||(n.setState({hasStart:!0,status:D.loading}),(n.videoElem||{}).play&&(n.loggerEvent(U.start,F.manual),n.videoElem.play()))},n.onTimeUpdate=function(e){var t=n.props.data;n.props.onTimeUpdate&&n.props.onTimeUpdate(t);var o=Number((n.videoElem||{}).currentTime)||0;if(o=Math.floor(1e3*o),n.currentTime=o,n.lenthTime<o&&(n.lenthTime=o),!(o<=0)){var i=n.state,r=i.hasStart;i.status>D.loading&&r||n.setState({status:D.playing,hasStart:!0})}},n.onEnd=function(){var e=(n.props.data||{}).mode,t=void 0===e?M.default:e;Number(t)===M.onceAuto&&n.setState({hasStart:!1,status:D.ended},(function(){n.isPlaying=!1}))},n.state={status:D.default,hasStart:!1},n}return _()(t,e),d()(t,[{key:"componentDidMount",value:function(){n("Wr5T"),this.addIntersectionListener(),this.addNativeListener()}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,o=t.className,i=void 0===o?"":o,r=n.source,a=n.poster,s=n.mode,c=void 0===s?M.default:s,l=Number(c)===M.onceAuto,d=this.state,u=d.status,p=d.hasStart,m=u>=D.loading&&u!==D.ended;return I.a.createElement("div",{className:C()("cartoon-widgets-video",i),ref:function(t){e.domElem=t}},I.a.createElement("div",{className:C()("cartoon-widgets-video-image",{"cartoon-widgets-video-image-hide":m})},I.a.createElement(k.LazyImage,{src:a,lazy:!0})),I.a.createElement("div",{className:C()("cartoon-widgets-video-play-icon",{"cartoon-widgets-video-play-icon-hide":p}),onClick:this.onPlay}),I.a.createElement("video",{className:"cartoon-widgets-video-media",ref:function(t){e.videoElem=t},src:r,poster:a,preload:"none",autoPlay:!1,loop:!l,muted:!0,onTimeUpdate:this.onTimeUpdate,onEnded:this.onEnd,controls:!1,playsInline:"false","webkit-playsinline":"false","x5-video-player-type":"h5-page","x5-video-player-fullscreen":"false"},"您的浏览器可能不支持视频播放"))}}]),t}(O.PureComponent),se=(n("K/fE"),function(e){function t(){return c()(this,t),p()(this,g()(t).apply(this,arguments))}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.data||{},t=this.props.className||"",n=e.hd_thumb_url,o=e.play_mode,i=void 0===o?0:o,r=e.video_delay_time,a=void 0===r?1e3:r,s=e.first_video_frame,c=void 0===s?"":s,l=e.hls_play_url,d=e.ad_product_type,u=e.live_status,p=e.live_image,m=e.ext_info,g=e.ad,f=void 0===g?{}:g,v=Number((m||{}).livePattern)||0,h=p||c||n||"";if(!((8===Number(d)||12===Number(d))&&1===Number(u)&&3===v)||!l)return I.a.createElement(k.LazyImage,{src:h,lazy:!0});var _={source:l,poster:h,mode:i,delayTime:a,ad:f||{}};return I.a.createElement(ae,{data:_,getNetWork:(ee.a||{}).getNetWork,className:t})}}]),t}(O.PureComponent)),ce=function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).onClick=function(t){e.props.onClick&&e.props.onClick(t)},e}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.data||{},t=e.mall_name,n=e.image_url_list,o=e.live_name,i=e.audience_count,r=(n||[])[0];return I.a.createElement("div",{className:"cartoon-widgets-live-goods",onClick:this.onClick},I.a.createElement("div",{className:"cartoon-widgets-live-goods-poster"},I.a.createElement(se,{className:"cartoon-widgets-live-goods-pic",data:e}),I.a.createElement("div",{className:"cartoon-widgets-live-goods-tag"},I.a.createElement(k.LazyImage,{className:"cartoon-widgets-live-goods-tag-img",src:Object(S.h)("fruit_live_tag","gif")}),I.a.createElement("span",{className:"cartoon-widgets-live-goods-audience-cnt"},i,"观看"))),I.a.createElement("div",{className:"cartoon-widgets-live-goods-info"},I.a.createElement("p",{className:"cartoon-widgets-live-goods-name"},o),I.a.createElement("p",{className:"cartoon-widgets-live-goods-mall"},I.a.createElement(k.LazyImage,{className:"cartoon-widgets-live-goods-mall-avatar",src:r}),I.a.createElement("span",{className:"cartoon-widgets-live-goods-mall-name"},t))),I.a.createElement("div",{className:"cartoon-widgets-live-goods-bottom"},I.a.createElement("p",{className:"cartoon-widgets-live-goods-btn"},"立即观看")))}}]),t}(O.Component),le=function(){function e(){c()(this,e),this.props={},this.imprConfig={}}return d()(e,[{key:"onToLiveGoods",value:function(e,t){this.onBubbleItem&&this.onBubbleItem(e,t,o.LvGoods)}},{key:"onImprLiveGoodsTracking",value:function(e,t,n){this.runLogImpr&&this.runLogImpr({data:Object.assign({},e,{impr_goods_index:n}),idx:t,type:o.LvMallGoods})}},{key:"renderLiveGoodsItem",value:function(e,t){var n=this,i=(e||{}).impr_index,r=void 0===i?t:i,a=(this.imprConfig||{})[o.LvMall],s=null,c=null;return this.props.renderItem&&Object(S.i)(this.props.renderItem)&&(s=this.props.renderItem(e,r)),!s&&this.props.getComponent&&Object(S.i)(this.props.getComponent)&&(c=this.props.getComponent(e,t)),c||(c=ce),I.a.createElement(E.a,{doImpr:a,index:r,doTracking:function(t){n.onImprTracking&&n.onImprTracking(e,r,o.LvGoods,t)}},s||I.a.createElement(c,{data:Object.assign({},e,{impr_index:r}),onClick:function(t){return n.onToLiveGoods(e,r)}}))}}]),e}(),de=function(e){function t(e){var n;return c()(this,t),(n=p()(this,g()(t).call(this,e))).play=function(){if(n.videoElem&&n.videoElem.play){if(n.playPromise=n.videoElem.play()||null,n.playPromise&&n.playPromise.finally)return n.playPromise.catch((function(){})).finally((function(){n.playPromise=null}));n.playPromise=null}},n.pause=function(){var e=function(){n.videoElem&&n.videoElem.pause&&n.videoElem.pause()};if(n.playPromise&&n.playPromise.finally)return n.playPromise.then((function(){e()})).catch((function(){e()})).finally((function(){e()}));e()},n.videoElem=null,n.playPromise=null,n}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this;return I.a.createElement("video",Object.assign({},this.props,{playsInline:"false",ref:function(t){e.videoElem=t}}),this.props.children?this.props.children:"您的浏览器可能不支持视频播放")}}]),t}(O.Component),ue=(n("oqEr"),function(e){var t=e.data||{},n=t.live_image,o=t.audience_count,i=t.hd_thumb_url,r=t.thumb_url,a=t.live_goods_count,s=void 0===a?0:a,c=t.replay,l=t.hls_play_url,d=o;d>1e4&&(d=Object(S.p)(Number(d),1e4,1)+"万");var u=i||r||n,p=1===Number(c)?Object(S.d)("fruit_live_replay"):Object(S.d)("fruit_live_tag","gif");return I.a.createElement("div",{className:"cartoon-widgets-live-mall-cover"},I.a.createElement(k.LazyImage,{lazy:"true",src:u}),!!l&&I.a.createElement("div",{className:"cartoon-widgets-live-mall-camera",onClick:function(t){Object(S.i)(e.onClick)&&e.onClick(t)}}),I.a.createElement("div",{className:"cartoon-widgets-live-mall-tag"},I.a.createElement(k.LazyImage,{className:"cartoon-widgets-live-mall-tag-emage",src:p}),I.a.createElement("span",{className:"cartoon-widgets-live-mall-audiences"},d||0,"人观看")),I.a.createElement("span",{className:"cartoon-widgets-live-mall-goods-num"},s||0,"件宝贝"))}),pe=function(e){var t=(e.data||{}).live_goods_count,n=void 0===t?0:t;return I.a.createElement("div",{className:"cartoon-widgets-live-mall-goods-fallback"},I.a.createElement("p",null,n||0,"件"),I.a.createElement("p",null,"商品"),I.a.createElement("div",{className:"cartoon-widgets-live-mall-more"},"查看更多"))},me=function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).doTracking=function(t){if(e.props.onGoodsImpr){var n=e.props,o=n.data,i=n.index;Object(S.i)(t)&&t(),e.props.onGoodsImpr(o,i)}},e}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.data||{},t=e.hd_thumb_url,n=e.thumb_url,o=e.price,i=e.group,r=o||(i||{}).price;return I.a.createElement("div",{className:"cartoon-widgets-live-mall-goods"},I.a.createElement(E.a,{doImpr:!0,doTracking:this.doTracking},I.a.createElement(k.LazyImage,{src:t||n}),I.a.createElement("div",{className:"cartoon-widgets-live-mall-goods-price"},I.a.createElement("span",{className:"cartoon-widgets-live-mall-goods-price-num"},"￥"),Object(S.p)(r,100,1))))}}]),t}(O.PureComponent),ge=function(e){function t(e){var n;return c()(this,t),(n=p()(this,g()(t).call(this,e))).onClick=function(){if(n.props.onClick){var e=n.props.data||{},t=n.props.index||0;n.props.onClick(e,t)}},n.onTimeUpdate=function(){},n.onEnded=function(){n.onLiveMallLeave()},n.onLiveMallEnter=function(){var e=t.playingMall||{};Object(S.i)(e.onLiveMallLeave)&&e.onLiveMallLeave(),t.playingMall=v()(n);var o=n.props.data,i=o.hls_play_url,r=(o.ext_info||{}).autoplay,a=!!(void 0===r||r)&&!!i;n.setState({isShowVideo:!0},(function(){a&&setTimeout((function(){n.videoElem&&n.videoElem.play()}),100)}))},n.onLiveMallLeave=function(){n.videoElem&&Object(S.i)((n.videoElem||{}).pause)&&n.videoElem.pause(),n.setState({isShowVideo:!1,isPlaying:!1})},n.onToPlay=function(e){(e||{}).stopPropagation&&e.stopPropagation(),n.setState({isPlaying:!0},(function(){n.onLiveMallEnter()}))},n.onGoodsImpr=function(e,t){n.props.doGoodsTracking&&n.props.doGoodsTracking(e,t)},n.state={isShowVideo:!1,isPlaying:!1},n}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props.data||{},n=t.mall_name,o=t.image_url_list,i=t.sub_items,r=t.live_name,a=t.live_image,s=t.hd_thumb_url,c=t.thumb_url,l=t.hls_play_url,d=t.ext_info,u=this.state,p=u.isShowVideo,m=void 0!==p&&p,g=u.isPlaying,f=void 0!==g&&g,v=(d||{}).autoplay,h=(!!f||!!(void 0===v||v))&&!!l&&m,_=s||c||a,b=(o||[])[0],y=(i||[]).slice(0,2);return I.a.createElement("div",{className:"cartoon-widgets-live-mall",onClick:this.onClick},I.a.createElement("div",{className:"cartoon-widgets-live-mall-header"},I.a.createElement(k.LazyImage,{className:"cartoon-widgets-live-mall-avatar",src:b}),I.a.createElement("div",{className:"cartoon-widgets-live-mall-desc"},I.a.createElement("p",{className:"cartoon-widgets-live-mall-title"},n),I.a.createElement("p",{className:"cartoon-widgets-live-mall-sub-title"},r)),I.a.createElement("div",{className:"cartoon-widgets-live-mall-button"},"进入直播间")),I.a.createElement("div",{className:"cartoon-widgets-live-mall-main",ref:function(t){return e.domElem=t}},I.a.createElement(E.a,{doImpr:!0,threshold:1,rootMargin:"0px 0px -70px 0px",once:!1,onEnter:this.onLiveMallEnter,onLeave:this.onLiveMallLeave},!!h&&I.a.createElement("div",{className:"cartoon-widgets-live-mall-video"},I.a.createElement(de,{ref:function(t){e.videoElem=t},onEnded:this.onEnded,onTimeUpdate:this.onTimeUpdate,src:l,preload:"metadata",poster:_,controls:!1,autoPlay:!0,playsInline:"false","webkit-playsinline":"false","x5-video-player-type":"h5-page","x5-video-player-fullscreen":"false"})),I.a.createElement(ue,{data:t,onClick:this.onToPlay}),I.a.createElement("div",{className:"cartoon-widgets-live-mall-right"},y.map((function(n,o){var i="live-room-goods-".concat(o);return n=Object.assign({},n,{impr_shop_data:t}),I.a.createElement(me,{key:i,data:n,index:o,onGoodsImpr:e.onGoodsImpr})})),y.length<2&&I.a.createElement(pe,{data:t})))))}}]),t}(O.Component),fe=function(){function e(){c()(this,e),this.props={},this.imprConfig={}}return d()(e,[{key:"onToLiveMall",value:function(e,t){this.onBubbleItem&&this.onBubbleItem(e,t,o.LvMall)}},{key:"onImprLiveGoodsTracking",value:function(e,t,n){this.runLogImpr&&this.runLogImpr({data:Object.assign({},e,{impr_goods_index:n}),idx:t,type:o.LvMallGoods})}},{key:"renderLiveMallItem",value:function(e,t){var n=this,i=(e||{}).impr_index,r=void 0===i?t:i,a=(this.imprConfig||{})[o.LvMall],s=null,c=null;return this.props.renderItem&&Object(S.i)(this.props.renderItem)&&(s=this.props.renderItem(e,r)),!s&&this.props.getComponent&&Object(S.i)(this.props.getComponent)&&(c=this.props.getComponent(e,t)),c||(c=ge),I.a.createElement(E.a,{doImpr:a,index:r,doTracking:function(t){n.onImprTracking&&n.onImprTracking(e,r,o.LvMall,t)}},s||I.a.createElement(c,{data:Object.assign({},e,{impr_index:r}),onClick:function(t){return n.onToLiveMall(e,r)},doGoodsTracking:function(e,t){n.onImprLiveGoodsTracking(e,r,t)}}))}}]),e}(),ve=function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).onClick=function(t){e.props.onClick&&e.props.onClick(t)},e.onClickGoods=function(t,n,o){e.props.onClickGoods&&e.props.onClickGoods(t,n,o)},e.onGoodsImpr=function(t,n){e.props.doGoodsTracking&&e.props.doGoodsTracking(t,n)},e}return _()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(e){return!!(e.data||{}).force_refresh}},{key:"render",value:function(){return null}}]),t}(O.Component),he=function(){function e(){c()(this,e),this.props={},this.imprConfig={}}return d()(e,[{key:"onToRankingList",value:function(e,t,n){this.onBubbleItem&&this.onBubbleItem(e,t,o.RankingList,n)}},{key:"onToRankingGoods",value:function(e,t,n){this.onBubbleItem&&this.onBubbleItem(e,t,o.RankingGoods,n)}},{key:"onImprRankingGoodsTracking",value:function(e,t,n){this.runLogImpr&&this.runLogImpr({data:Object.assign({},e,{impr_goods_index:n}),idx:t,type:o.RankingGoods})}},{key:"renderRankingListItem",value:function(e,t){var n=this,i=(e||{}).impr_index,r=void 0===i?t:i,a=(this.imprConfig||{})[o.RankingList],s=null,c=null;return this.props.renderItem&&Object(S.i)(this.props.renderItem)&&(s=this.props.renderItem(e,r)),!s&&this.props.getComponent&&Object(S.i)(this.props.getComponent)&&(c=this.props.getComponent(e,t)),c||(c=ve),I.a.createElement(E.a,{doImpr:a,index:r,doTracking:function(t){n.onImprTracking&&n.onImprTracking(e,r,o.RankingList,t)}},s||I.a.createElement(c,{data:Object.assign({},e,{impr_index:r}),onClick:function(t){return n.onToRankingList(e,r,t)},onClickGoods:function(t,o,i){n.onToRankingGoods(Object.assign({},t,{impr_ranking_data:e}),o,i)},doGoodsTracking:function(t,o){n.onImprRankingGoodsTracking(Object.assign({},t,{impr_ranking_data:e}),r,o)}}))}}]),e}(),_e=(n("UxDy"),function(e){function t(){return c()(this,t),p()(this,g()(t).apply(this,arguments))}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.subTitle;return I.a.createElement("div",{className:"cartoon-widgets-network-error"},I.a.createElement("div",{className:"cartoon-widgets-network-error-content"},I.a.createElement("p",{className:"cartoon-widgets-network-error-title"},t||"手机网络有问题"),I.a.createElement("p",{className:"cartoon-widgets-network-error-sub-title"},I.a.createElement("span",null,n||"请检查网络"))))}}]),t}(O.PureComponent)),be=(n("SDJ/"),function(e){function t(){var e;return c()(this,t),(e=p()(this,g()(t).apply(this,arguments))).onClick=function(t){e.props.onClick&&e.props.onClick(t)},e}return _()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.isShow;return I.a.createElement("div",{className:C()("cartoon-widgets-gotop",{"cartoon-widgets-gotop-show":e}),onClick:this.onClick},I.a.createElement("span",{className:"cartoon-widgets-gotop-text"},"顶部"))}}]),t}(O.Component)),ye=(n("dTIC"),function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":y()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}),Oe=function(e){function t(e){var n;c()(this,t),(n=p()(this,g()(t).call(this,e))).imprConfig={},n.scrollFn=null,n.hasLoadNext=!1,n.domRef=null,n.preload=function(){var e=(n.props.config||{}).loadDistance,t=void 0===e?1200:e,o=n.state.dataList;if(!(t<0)&&(o||[]).length){var i=document.documentElement.clientHeight||document.body.clientHeight||0,r=document.documentElement.scrollHeight||document.body.scrollHeight||0,a=document.documentElement.scrollTop||document.body.scrollTop||0;r-a-i>t&&(n.hasLoadNext=!1),r-a-i<=t&&!n.hasLoadNext&&(n.hasLoadNext=!0,n.onLoadDown(!0))}},n.getImprConfig=function(e){var t=((n.props.plugins||{}).log||[])[0]||{};return n.imprConfig=t.loadImprConfig?t.loadImprConfig(e):{},n.imprConfig},n.runBeforeReset=function(e){var t=e||{},o=t.prevCatId,i=void 0===o?0:o,r=t.prevSubCatId,a=void 0===r?0:r,s=t.currentCatId,c=void 0===s?0:s,l=t.currentSubCatId,d=void 0===l?0:l,u=t.data,p=void 0===u?[]:u,m={prevOptId:i,prevSubOptId:a,optId:Object(S.n)(c)||0,subId:Object(S.n)(d)||0,data:p};((n.props.plugins||{}).switch||[]).forEach((function(e){Object(S.i)((e||{}).beforeReset)&&e.beforeReset(m)}));var g=n.props.config||{},f=g.standStill,v=void 0!==f&&f,h=g.standOffsetTop,_=void 0===h?48:h;if(v&&n.domRef&&Object(S.i)(n.domRef.getBoundingClientRect)){var b=(n.domRef.getBoundingClientRect()||{}).top;if((void 0===b?0:b)<_){var y=n.domRef.offsetTop-_||0;Object(S.q)(y)}}},n.runInConstructor=function(){((n.props.plugins||{}).load||[]).forEach((function(e){Object(S.i)((e||{}).runInContructor)&&e.runInContructor(n.state)}))},n.runInitComponent=function(e){var t=e||{},o=t.currentCatId,i=void 0===o?0:o,r=t.currentSubCatId,a=void 0===r?0:r,s=t.data,c=void 0===s?[]:s,l=t.manualNum,d=void 0===l?0:l,u=Object(S.n)(i)||0,p=Object(S.n)(a)||0,m={optId:u,subId:p},g=c||[],f=((n.props.plugins||{}).cache||[])[0]||{};if(!g.length&&f.getFromCache){var v=f.getFromCache(u,p)||{};m=v.options||{},g=v.list||[]}var h=(n.props.plugins||{}).load||[],_=(n.props.plugins||{}).forward||[];h.concat(_).forEach((function(e){Object(S.i)((e||{}).reset)&&e.reset(m)}));var b=n.state.dataList||[],y=n.runBeforePatch({pacthList:g});d&&(y=y.map((function(e){return Object.assign({},e,{force_refresh:d})}))),n.setState({isEmpty:0,isEnd:!1,optId:u,subId:p,dataList:y},(function(){b.length+g.length<=0&&n.onLoadDown()}))},n.runBeforeUpdate=function(e){var t=(n.props.plugins||{}).forward||[],o=(n.props.plugins||{}).switch||[];t.concat(o).forEach((function(t){Object(S.i)((t||{}).beforeUpdate)&&t.beforeUpdate(e)}))},n.runAfterUpdate=function(e){var t=(n.props.plugins||{}).forward||[],o=(n.props.plugins||{}).switch||[];t.concat(o).forEach((function(t){Object(S.i)((t||{}).afterUpdate)&&t.afterUpdate(e)}))},n.runCheckFetchEnd=function(e){for(var t=(n.props.plugins||[]).load||[],o=0,i=t.length;o<i;o++){var r=t[o]||{};if(Object(S.i)(r.isFetchEnded)&&r.isFetchEnded(e))return!0}return!1},n.runBeforeLoad=function(e){var t=n.props.plugins||[],o=t.load||[],i=t.monitor||[];o.concat(i).forEach((function(t){Object(S.i)((t||{}).beforeLoad)&&t.beforeLoad(e)}))},n.runInLoading=function(e){((n.props.plugins||{}).load||[]).forEach((function(t){Object(S.i)((t||{}).doLoading)&&t.doLoading(e)}))},n.runBeforePatch=function(e){var t=e||{},i=t.prevList,r=void 0===i?[]:i,s=t.pacthList,c=void 0===s?[]:s;r=r||[],c=c||[];for(var l=n.props.plugins||{},d=l.load||[],u=l.custom||[],p=0,m=(d=d.concat(u)).length;p<m;p++){var g=d[p]||{};if(Object(S.i)(g.beforePatch)){var f=g.beforePatch(r,c)||{};f.prevList||f.pacthList?(r=f.prevList||[],c=f.pacthList||[]):(r=[],c=f)}}for(var v=[].concat(a()(r),a()(c)),h=0,_=0;_<v.length;_++){var b=v[_]||{},y=b.elem_type,O=y===o.Hmall||y===o.Sliding||y===o.RankingList;if(O&&h%2==1){var I=v[_-1];v[_-1]=b,v[_]=I}O&&(h+=1),h+=1}return v},n.runAfterLoad=function(e){var t=(n.props.plugins||{}).load||[],o=(n.props.plugins||{}).forward||[],i=(n.props.plugins||{}).monitor||[],r=t.concat(o);(r=r.concat(i)).forEach((function(t){Object(S.i)((t||{}).afterLoad)&&t.afterLoad(e)}));var a=(e||{}).data,s=((void 0===a?{}:a)||{}).list||[],c=n.state,l=c.optId,d=c.subId;((n.props.plugins||{}).cache||[]).forEach((function(e){Object(S.i)((e||{}).putInCache)&&s.length&&e.putInCache(s,l,d)}))},n.runBeforeLeave=function(e,t){var o=n.props.plugins||{},i=o.skim||[],r=o.forward||[],a=o.monitor||[],s=o.load||[],c=i.concat(r);(c=(c=c.concat(a)).concat(s)).forEach((function(o){Object(S.i)((o||{}).beforeLeave)&&o.beforeLeave(e,t),Object(S.i)((o||{}).pushBackCb)&&o.pushBackCb((function(){if(Object(S.i)((o||{}).afterEnter)){var e=n.state,t=e.optId,i=void 0===t?0:t,r=e.subId,a=void 0===r?0:r,s=e.dataList,c=void 0===s?[]:s;o.afterEnter({optId:i,subId:a,list:c}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.patchNewAds2List(e)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.error("Skim plugin error",e)}))}}),{params:e,type:t})}))},n.runInLeaving=function(e){((n.props.plugins||{}).forward||[]).forEach((function(t){t.doForwarding&&t.doForwarding(e)}))},n.runInEntering=function(e){var t=(n.props.plugins||{}).skim||[],o=e||{},i=o.optId,r=void 0===i?0:i,a=o.subId,s=void 0===a?0:a,c=o.dataList,l=void 0===c?[]:c;n.getImprConfig(e),t.forEach((function(e){Object(S.i)((e||{}).doEntering)&&e.doEntering({optId:r,subId:s,list:l})}))},n.runAfterEnter=function(e){var t=n.props.plugins||{};(t.switch||[]).forEach((function(e){Object(S.i)(e.isConnected)&&Object(S.i)(e.reigistResetCB)&&e.isConnected()&&e.reigistResetCB((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=n.state,r=i.optId,a=i.subId,s={prevCatId:r,preSubCatId:a};if(e!==r||t!==a||o){var c={currentCatId:e,currentSubCatId:t};n.runBeforeReset(Object.assign({},s,c)),n.runInitComponent(Object.assign({},s,c,{manualNum:o}))}}))})),(t.skim||[]).forEach((function(t){Object(S.i)((t||{}).afterEnter)&&t.afterEnter(e).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.patchNewAds2List(e)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.error("Skim plugin error",e)}))})),(t.monitor||[]).forEach((function(t){Object(S.i)(t.afterEnter)&&t.afterEnter(e)}));var o=(t.cache||[])[0]||{},i=e||{},r=i.optId,a=void 0===r?0:r,s=i.subId,c=void 0===s?0:s,l=i.list,d=void 0===l?[]:l;if((d||[]).length){var u=[];if(Object(S.i)(o.getFromCache))u=(o.getFromCache(a,c)||{}).list||[];!u.length&&Object(S.i)(o.putInCache)&&o.putInCache(d,a,c)}},n.patchNewAds2List=function(e){var t=e||{},i=t.data,r=void 0===i?{}:i,s=t.type,c=void 0===s?o.Similar:s,l=t.offset,d=void 0===l?0:l,u=t.timeSpan,p=void 0===u?0:u,m=a()(n.state.dataList||[]),g=(e||{}).index,f=void 0===g?-1:g;if(Object(S.i)(m.findIndex)&&(f=m.findIndex((function(e){return Number((e||{}).impr_index)===Number(f)}))),f>=0&&f<m.length&&Object.keys(r).length>0){var v=f+d,h=Object.assign({},m[f]||{}),_=Object.assign({},m[f+d]||{});if(_.elem_type&&_.elem_type!==o.Goods&&(_=h,v=f),c===o.Similar){var b=m.findIndex((function(e){return Object.keys((e||{}).similar_goods||{}).length>0})),y=m[b]||{};y=Object.assign({},y,{similar_goods:null,force_refresh:!0}),m[b]=y,_.similar_goods=Object.assign({},r||{},{show_time_span:p}),_.force_refresh=!0}m[v]=_,n.setState({dataList:m})}},n.runInScrolling=function(e){var t=document.documentElement.scrollTop||document.body.scrollTop||0,o=n.state,i=o.optId,r=void 0===i?0:i,a=o.subId,s={optId:r,subId:void 0===a?0:a},c=n.props.plugins||{},l=c.scroll||[],d=c.monitor||[],u=c.skim||[],p=l.concat(d);(p=p.concat(u)).forEach((function(e){Object(S.i)(e.doScrolling)&&e.doScrolling(s,t)}))},n.runLogImpr=function(e){var t=n.props.plugins||{},o=t.log||[],i=t.monitor||[];o.concat(i).forEach((function(t){Object(S.i)((t||{}).doLogImpr)&&t.doLogImpr(e)}))},n.runLogClick=function(e){var t=(n.props.plugins||{}).log||[],o={};return t.forEach((function(t,n){if(Object(S.i)((t||{}).doClickImpr)){var i=t.doClickImpr(e);0===n&&(o=i)}})),o},n.runSpecAdDidShow=function(e){((n.props.plugins||{}).monitor||[]).forEach((function(t){Object(S.i)((t||{}).adDidShow)&&t.adDidShow(e)}))},n.onLoadDown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=function(){return Promise.resolve({})},o=((n.props.plugins||{}).load||[])[0]||{};if(o.fetch&&(t=function(){return o.fetch()}),n.props.loadDown&&(t=n.props.loadDown),n.runCheckFetchEnd())n.setState({isEnd:!0});else{var i=n.state,r=i.optId,a=i.subId,s={optId:r,subId:a};n.runBeforeLoad(s),t().catch((function(e){var t=n.state.dataList;return n.setState({isEmpty:t.length>0?0:2}),n.runAfterLoad(Object.assign({error:1,ex:Object(S.o)(e)},s)),{error:1}})).then((function(t){if(1!==(t||{}).error){n.runInLoading({data:t});var o=(t||{}).list,i=void 0===o?[]:o;i=i||[];var r=n.state.dataList,a=n.runBeforePatch({prevList:r,pacthList:i});n.setState({dataList:a,isEnd:!i.length&&a.length>0,isEmpty:a.length>0?0:1},(function(){n.runAfterLoad(Object.assign({prevList:r,data:t},s,{isPreload:e}))}))}})).catch((function(e){n.runAfterLoad(Object.assign({error:2,ex:Object(S.o)(e)},s))}))}},n.groupGoods=function(e){var t=[],n=e;n.length%2==1&&(n=n.slice(0,-1));for(var i=0,r=n.length;i<r;i+=1){var a=[];a.push(n[i]);var s=(n[i]||{}).elem_type,c=void 0===s?o.Goods:s,l=c===o.Hmall||c===o.Sliding||c===o.RankingList;void 0===n[i+1]||l||(a.push(n[i+1]),i+=1),t.push(a)}return t},n.processList=function(e){for(var t=[],n=!1,o=0,i=e.length;o<i;o+=2){var r=e[o]||{},a=e[o+1]||{},s=r.tag_list||[],c=a.tag_list||[],l=s.length+c.length>0;!n&&l?(7!==Number(r.spec_id)&&7!==Number(a.spec_id)||(n=!0),s.length||(r=Object.assign({},r,{tag_list:[{text:"",text_color:"transparent"}]})),c.length||(a=Object.assign({},a,{tag_list:[{text:"",text_color:"transparent"}]})),r.goods_id&&t.push(r),a.goods_id&&t.push(a)):(r.goods_id&&t.push(r),a.goods_id&&t.push(a))}return t},n.onClickGoods=function(e,t,i){var r=(e||{}).elem_type,a=void 0===r?o.Goods:r;n.onBubbleItem(e,t,a||o.Goods,i)},n.onClickMallGoods=function(e,t,o,i,r,a){n.onBubbleItem(e,t,r,a)},n.onToMall=function(e,t,o,i){n.onBubbleItem(e,t,o,i)},n.onBubbleItem=function(e,t,o,i){var r=n.state,a=r.optId,s=void 0===a?0:a,c=r.subId,l={optId:s,subId:void 0===c?0:c};n.runBeforeLeave(Object.assign({data:e,idx:t,type:o},l),o);var d=n.runLogClick(Object.assign({data:e,idx:t,type:o},l));(d||{}).then?d.then((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.runInLeaving(Object.assign({data:e,idx:t,type:o},l)),n.props.onClickItem&&n.props.onClickItem(r,t,o,i)})):(n.runInLeaving(Object.assign({data:e,idx:t,type:o},l)),n.props.onClickItem&&n.props.onClickItem(e,t,o,i))},n.onBubbleShow=function(e,t,o){n.runSpecAdDidShow({data:e,idx:t,type:o}),n.props.onDidShowItem&&n.props.onDidShowItem(e,t,o)},n.onTop=function(e){e.stopPropagation&&e.stopPropagation(),document.documentElement.scrollTop=0,document.body.scrollTop=0,n.props.onGoTop&&n.props.onGoTop(e)},n.onScroll=function(e){var t=(n.props.config||{}).showTopDistance,o=void 0===t?160:t,i=(document.documentElement.scrollTop||document.body.scrollTop||0)>=o;n.state.isShowTop!==i&&n.setState({isShowTop:i}),n.props.onScroll&&n.props.onScroll(e)},n.onDidShowSimilar=function(e,t){n.runLogImpr({data:e,idx:t,type:o.Similar}),n.onBubbleShow(e,t,o.Similar)},n.onCloseSimilar=function(e,t,i){n.props.onCloseItem&&n.props.onCloseItem(e,t,o.Similar,i)},n.onClickSimilar=function(e,t,i,r,a){n.onBubbleItem(Object.assign({},t,{similar_list:e,click_idx:i,click_text:r}),a,o.Similar)},n.onClickRecommend=function(e,t,i,r,a){n.onBubbleItem(Object.assign({},t,{recommend_list:e,click_idx:i,click_text:r}),a,o.Recommend)},n.onClickTopic=function(e,t,i){n.onBubbleItem(e,t,o.Topic,i)},n.onImprTracking=function(e,t,o,i){n.runLogImpr({data:e,idx:t,type:o});try{Object(S.i)(i)&&i(),n.onBubbleShow(e,t,o)}catch(e){}},n.onImprMallGoodsTracking=function(e,t,o,i){n.runLogImpr({data:Object.assign({},e,{impr_goods_index:o}),idx:t,type:i})},n.renderMallItem=function(e,t,i){var r=e||{},a=r.elem_type,s=void 0===a?0:a,c=r.impr_index,l=void 0===c?t:c,d=(n.imprConfig||{})[s],u=null,p=null;n.props.renderItem&&Object(S.i)(n.props.renderItem)&&(u=n.props.renderItem(e,l,i)),i=i===o.Vmall?o.Vmall:o.Hmall,!u&&n.props.getComponent&&Object(S.i)(n.props.getComponent)&&(p=n.props.getComponent(e,t,i));var m=i===o.Vmall?o.VGoods:o.HGoods;return p||(p=i===o.Vmall?A:T),I.a.createElement(E.a,{doImpr:d,index:l,doTracking:n.onImprTracking.bind(v()(n),e,l,s)},u||I.a.createElement(p,{data:Object.assign({},e,{impr_index:l}),onTomall:function(t){return n.onToMall(e,l,i,t)},onTogood:function(t,o,i){n.onClickMallGoods(t,o,e,l,m,i)},doGoodsTracking:function(e,t){n.onImprMallGoodsTracking(e,l,t,m)}}))},n.onImprSlidingGoodsTracking=function(e,t,i){n.runLogImpr({data:Object.assign({},e,{impr_goods_index:i}),idx:t,type:o.SGoods})},n.onClickSlidingGoods=function(e,t,i,r){n.onBubbleItem(Object.assign({},e,{impr_goods_index:i}),t,o.SGoods,r)},n.renderSlidingItem=function(e,t){var o=e||{},i=o.elem_type,r=void 0===i?0:i,a=o.impr_index,s=void 0===a?t:a,c=(n.imprConfig||{})[r],l=n.props.renderItem?n.props.renderItem(e,s):null;return I.a.createElement(E.a,{doImpr:c,index:s,doTracking:n.onImprTracking.bind(v()(n),e,s,r)},l||I.a.createElement(Y,{data:Object.assign({},e,{impr_index:s}),onTogood:function(e,t,o){n.onClickSlidingGoods(e,s,t,event)},doGoodsTracking:function(e,t){n.onImprSlidingGoodsTracking(e,s,t)}}))},n.renderRecommendItem=function(e,t){var o=e||{},i=o.elem_type,r=void 0===i?0:i,a=o.impr_index,s=void 0===a?t:a,c=(n.imprConfig||{})[r],l=null,d=null;n.props.renderItem&&Object(S.i)(n.props.renderItem)&&(l=n.props.renderItem(e,s)),!l&&n.props.getComponent&&Object(S.i)(n.props.getComponent)&&(d=n.props.getComponent(e,t));var u=d||$;return I.a.createElement(E.a,{doImpr:c,index:s,doTracking:n.onImprTracking.bind(v()(n),e,s,r)},l||I.a.createElement(u,{index:s,data:e,onClick:n.onClickRecommend}))},n.renderTopicItem=function(e,t){var o=e||{},i=o.elem_type,r=void 0===i?0:i,a=o.impr_index,s=void 0===a?t:a,c=(n.imprConfig||{})[r],l=n.props.renderItem?n.props.renderItem(e,s):null;return I.a.createElement(E.a,{doImpr:c,index:s,doTracking:n.onImprTracking.bind(v()(n),e,s,r)},l||I.a.createElement(X,{index:s,data:e,onClick:function(t){return n.onClickTopic(e,s,t)}}))},n.renderGoodsItem=function(e,t){var i=e||{},r=i.goods_id,a=void 0===r?"":r,s=i.elem_type,c=void 0===s?0:s,l=i.impr_index,d=void 0===l?t:l,u=(e||{}).similar_goods||{};u=Object.assign({},u,{trigger_goods_id:a});var p=(n.imprConfig||{})[c],m=null,g=null;n.props.renderItem&&Object(S.i)(n.props.renderItem)&&(m=n.props.renderItem(e,d)),!m&&n.props.getComponent&&Object(S.i)(n.props.getComponent)&&(g=n.props.getComponent(e,t));var f=g||H,h=(u||{}).recommend_query_ad_single_list,_=void 0===h?[]:h,b=_.length>0?"cartoon-widgets-abs-cell":"",y=null,O=null;_.length>0&&(y=Q),_.length>0&&n.props.getComponent&&Object(S.i)(n.props.getComponent)&&(O=n.props.getComponent(Object.assign({},e,{elem_type:o.Similar}),t)),O&&(y=O);var k=(n.props.config||{}).vertical;return void 0!==k&&k||7!==Number((e||{}).spec_id)||(e.spec_id=0),I.a.createElement(E.a,{doImpr:p,index:d,doTracking:n.onImprTracking.bind(v()(n),e,d,c)},m&&I.a.createElement("div",{className:"cartoon-widgets-grid-wrapper",onClick:function(t){return n.onClickGoods(e,d,t)}},m),!m&&I.a.createElement(f,{index:t,className:b,data:e,onClick:function(t){return n.onClickGoods(e,d,t)}}),!!y&&I.a.createElement(y,{index:t,data:u,onDidShow:n.onDidShowSimilar,onClose:n.onCloseSimilar,onClick:n.onClickSimilar}))},n.renderListInColumn=function(e){(e=a()(e||[]).filter((function(e){var t=e||{},n=t.goods_id,i=void 0===n?"":n,r=t.elem_type;return(Number(void 0===r?0:r)||0)===o.Goods&&!!i}))).length%2==1&&(e=e.slice(0,-1)),e=n.processList(e);var t=[],i=[],r=Object(S.n)(n.state.subId)||Object(S.n)(n.state.optId);return e.forEach((function(e,o){var a=(e||{}).goods_id,s="".concat(r,"_").concat(a,"_").concat(o),c=I.a.createElement("div",{key:s,className:"cartoon-widgets-columns-item"},n.renderGoodsItem(e,o));o%2==0?t.push(c):i.push(c)})),I.a.createElement("div",{className:"cartoon-widgets-columns"},I.a.createElement("div",{className:"cartoon-widgets-columns-left"},t),I.a.createElement("div",{className:"cartoon-widgets-columns-right"},i))},n.renderListInRow=function(e){var t=0,i=n.state.subId||n.state.optId;return n.groupGoods(e||[]).map((function(e,r){var a=null,s=(e[0]||{}).section_num,c=void 0===s?0:s;c&&c!==t&&(t=c,n.props.renderSectionHeader&&Object(S.i)(n.props.renderSectionHeader)&&(a=n.props.renderSectionHeader(c,e)));var l="cartoon-widgets-row-".concat(i,"-").concat(r);return[a,I.a.createElement("div",{key:l,className:"cartoon-widgets-row"},e.map((function(e,t){var i=t+2*r,a="cartoon-widgets-cell cartoon-widgets-cell-".concat(["left","right"][t]),s=e||{},c=s.goods_id,d=void 0===c?"":c,u=s.mall_id,p=void 0===u?"":u,m=s.elem_type,g=void 0===m?0:m;d||(a="".concat(a," cartoon-widgets-cell-hidden"));var f="cartoon-widgets-row-".concat(d||p||l,"-").concat(i),v="cartoon-widgets-cell cartoon-widgets-cell-"+["left","right"][t];return g===o.Hmall?I.a.createElement("div",{key:f,className:"cartoon-widgets-2cell"},n.renderMallItem(e,i,o.Hmall)):g===o.LvMall?I.a.createElement("div",{key:f,className:"cartoon-widgets-2cell"},n.renderLiveMallItem(e,i)):g===o.Vmall?I.a.createElement("div",{key:f,className:v},n.renderMallItem(e,i,o.Vmall)):g===o.LvGoods?I.a.createElement("div",{key:f,className:v},n.renderLiveGoodsItem(e,i)):g===o.Recommend?I.a.createElement("div",{key:f,className:v},n.renderRecommendItem(e,i)):g===o.Topic?I.a.createElement("div",{key:f,className:v},n.renderTopicItem(e,i)):g===o.Sliding?I.a.createElement("div",{key:f,className:"cartoon-widgets-2cell"},n.renderSlidingItem(e,i)):g===o.RankingList?I.a.createElement("div",{key:f,className:"cartoon-widgets-2cell"},n.renderRankingListItem(e,i)):I.a.createElement("div",{key:f,className:a},n.renderGoodsItem(e,i))})))]}))};var i=e.data||[],r=Object(S.n)(Object(S.e)("opt_id"))||0,s=Object(S.n)(Object(S.e)("sub_opt_id"))||0,l=e.currentCatId,d=void 0===l?r:l,u=e.currentSubCatId,m=void 0===u?s:u,f=Object(S.n)(d)||0,h=Object(S.n)(m)||0,_=n.runBeforePatch({pacthList:i});return n.state={optId:f,subId:h,isEmpty:0,isEnd:!1,isLoading:!0,isShowTop:!1,dataList:_},n.runInConstructor(),n}return _()(t,e),d()(t,[{key:"componentWillUpdate",value:function(){var e=this.state,t=e.optId,n=void 0===t?0:t,o=e.subId,i=void 0===o?0:o,r=e.dataList,a=void 0===r?[]:r,s={optId:n,subId:i,list:a};a.length<=0||this.runBeforeUpdate(s)}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.optId,n=void 0===t?0:t,o=e.subId,i=void 0===o?0:o,r=e.dataList,a={optId:n,subId:i,list:void 0===r?[]:r};this.runAfterUpdate(a)}},{key:"componentWillMount",value:function(){var e=this.state,t=e.optId,n=void 0===t?0:t,o=e.subId,i=void 0===o?0:o,r=e.dataList,a={optId:n,subId:i,list:void 0===r?[]:r};this.runInEntering(a)}},{key:"componentDidMount",value:function(){var e=this;n("Wr5T");var t=new IntersectionObserver((function(t){t[0].intersectionRatio<=0||e.onLoadDown()}),{threshold:[.9]}),o=document.querySelector("#cartoon-widgets-scroll-intersection");o&&t.observe(o),this.scrollFn=Object(S.c)(this.onScroll,300),this.preload=this.preload.bind(this),this.runInScrolling=this.runInScrolling.bind(this),document.addEventListener("scroll",this.scrollFn,!1),document.addEventListener("scroll",this.preload,!1),document.addEventListener("scroll",this.runInScrolling,!1);var i=this.state,r=i.optId,a=void 0===r?0:r,s=i.subId,c=void 0===s?0:s,l=i.dataList,d={optId:a,subId:c,list:void 0===l?[]:l};this.runAfterEnter(d)}},{key:"componentWillReceiveProps",value:function(e){var t=((this.props.plugins||{}).switch||[])[0]||{};if(!(Object(S.i)(t.isConnected)&&t.isConnected())){var n=e.currentCatId,o=e.currentSubCatId,i=Object(S.n)(n)||0,r=Object(S.n)(o)||0,a=this.state,s=a.optId,c=a.subId,l={prevCatId:s,preSubCatId:c};i===s&&r===c||(this.runBeforeReset(Object.assign({},l,e)),this.runInitComponent(Object.assign({},l,e)))}}},{key:"componentWillUnmount",value:function(){this.scrollFn&&document.removeEventListener("scroll",this.scrollFn,!1),this.preload&&document.removeEventListener("scroll",this.preload,!1),this.runInScrolling&&document.removeEventListener("scroll",this.runInScrolling,!1)}},{key:"renderLiveMallItem",value:function(e,t){return null}},{key:"onImprLiveMallGoodsTracking",value:function(e,t,n){}},{key:"onToLiveMall",value:function(e,t){}},{key:"renderLiveGoodsItem",value:function(e,t){return null}},{key:"onImprLiveGoodsTracking",value:function(e,t){}},{key:"onToLiveGoods",value:function(e,t){}},{key:"renderRankingListItem",value:function(e,t){return null}},{key:"onToRankingList",value:function(e,t,n){}},{key:"onImprRankingGoodsTracking",value:function(e,t,n){}},{key:"onToRankingGoods",value:function(e,t,n){}},{key:"render",value:function(){var e=this,t=this.props.config||{},n=t.standStill,o=void 0!==n&&n,i=t.vertical,r=void 0!==i&&i;this.imprConfig=this.imprConfig||this.getImprConfig({});var a=this.state.isShowTop,s=this.state.isEnd,c=this.state.isLoading&&!s,l=this.state.isEmpty,d="cartoon-widgets-scroll cartoon-widgets-grid-list "+(this.props.className||"");o&&(d+=" cartoon-widgets-scroll-100vh");var u=!(1!==l&&2!==l||s||this.props.children),p=1===l?"没有查到您想要的宝贝":"手机网络有问题",m=1===l?"请退出重试":"请检查网络";u&&(d+=" cartoon-widgets-scroll-error");var g=this.state.dataList||[];return I.a.createElement("div",{ref:function(t){e.domRef=t},className:d},this.props.children,!r&&this.renderListInRow(g),!!r&&this.renderListInColumn(g),!!u&&I.a.createElement(_e,{title:p,subTitle:m}),!u&&I.a.createElement("p",{id:"cartoon-widgets-scroll-intersection",className:"cartoon-widgets-scroll-intersection"}),!u&&I.a.createElement(V,{isShow:c}),!!s&&I.a.createElement(z,{isShow:!!s}),!u&&I.a.createElement(be,{isShow:a,onClick:this.onTop}))}}]),t}(O.Component);Oe.defaultProps={plugins:{cache:[],load:[],scroll:[],skim:[],log:[],forward:[],switch:[],monitor:[],custom:[]},data:[]},ye([G],Oe.prototype,"renderLiveMallItem",null),ye([G],Oe.prototype,"onImprLiveMallGoodsTracking",null),ye([G],Oe.prototype,"onToLiveMall",null),ye([G],Oe.prototype,"renderLiveGoodsItem",null),ye([G],Oe.prototype,"onImprLiveGoodsTracking",null),ye([G],Oe.prototype,"onToLiveGoods",null),ye([G],Oe.prototype,"renderRankingListItem",null),ye([G],Oe.prototype,"onToRankingList",null),ye([G],Oe.prototype,"onImprRankingGoodsTracking",null),ye([G],Oe.prototype,"onToRankingGoods",null);var Ie;t.a=(Ie=Oe,[fe,le,he].forEach((function(e){Object.getOwnPropertyNames(e.prototype).forEach((function(t){var n=(Object.getOwnPropertyDescriptor(Ie.prototype,"_mixins_")||{}).value||[],o=Object.getOwnPropertyDescriptor(e.prototype,t)||{};n.indexOf(t)>=0&&Object.defineProperty(Ie.prototype,t,o)}))})),Ie)},zrNX:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var o=n("lSNA"),i=n.n(o),r=n("lwsE"),a=n.n(r),s=n("W8MJ"),c=n.n(s),l=n("a1gu"),d=n.n(l),u=n("Nsbk"),p=n.n(u),m=n("7W2i"),g=n.n(m),f=n("q1tI"),v=n.n(f),h=n("TyAF"),_=n("hQH6"),b=n("EhXv"),y=n("+xyA"),O=n("m1ZW"),I=n("y43z");function k(e){return e=e||{},function(t){var n=function(n){function o(){var e;return a()(this,o),(e=d()(this,p()(o).apply(this,arguments))).prevScrollRestoration="auto",e.hasLogError=!1,e.componentName="",e}return g()(o,n),c()(o,[{key:"componentDidMount",value:function(){var t=e.cmtPerfId||"";t&&b.default.init({id:t}),Object(O.g)();var n=window||{},o=e.__loadingFailed||"__loadingFailed";n[o]&&(n[o]=!1);var i=n.history||{};this.prevScrollRestoration=i.scrollRestoration||"auto",(n.history||{}).scrollRestoration="manual",Object(O.e)(e.pvRecordId),this.loadDynamicUrls(),this.monitorCsrInCat(),Object(O.f)(e.longLoadingRecordId)}},{key:"componentWillUnmount",value:function(){var e=this.prevScrollRestoration||"auto";((window||{}).history||{}).scrollRestoration=e}},{key:"componentDidCatch",value:function(t,n){var o={error:Object(O.h)(t),info:n};return this.hasLogError||(Object(O.e)(e.exRecordId,{oLogger:o}),this.hasLogError=!0),t.message+="_"+JSON.stringify(n),Promise.reject(t)}},{key:"monitorCsrInCat",value:function(){try{var t=window||{},n=t.rawData||{};if(Object.keys(n).length>0)return;var o=e,i=o.fallbackCSR,r=o.manualCSR,a=o.csrRecordId;if(a>0)return Object(O.e)(a);var s=(t.location||{}).href||"";if(i&&s.indexOf("__csr")<0)return Object(O.e)(i);if(r&&s.indexOf("__csr")>=0)return Object(O.e)(r)}catch(e){console.error("monitorCsrInCat:: error",e)}}},{key:"loadDynamicUrls",value:function(){if(e.isRequireWebviewUrl){for(var t=e.dynamicUrls||{},n=t[y.a.garden]||{},o=Object.assign({},y.d,y.b,y.c,n),r=i()({},y.a.garden,Object.keys(o)),a=Object.keys(y.a).map((function(e){return y.a[e]})),s=0,c=a.length;s<c;s++){var l=Number(a[s]);if(l!==y.a.garden){var d=Object.keys(t[l]||{})||[];d.length>0&&(r[l]=d)}}Object(O.a)({page_name_map:r},(function(e){var t=(e||{})[y.a.garden]||{};Object(I.b)(Object.assign({},o,t))}),(function(){Object(I.b)(Object.assign({},o))}))}}},{key:"render",value:function(){return e.cmtPerfId||""?v.a.createElement("div",{className:"fun-provider-container"},v.a.createElement(t,null),v.a.createElement(b.FirstScreen,null)):v.a.createElement(t,null)}}]),o}(v.a.Component);return n.componentName=t.displayName||t.name,n.displayName="funAppProvider(".concat(t.displayName||t.name,")"),Object(h.observer)(n)}}_.default.enabled("options"),_.default.enabled("no-options"),_.default.enabled("nologMiniProgram")},zuJa:function(e,t,n){"use strict";var o=n("lSNA"),i=n.n(o),r=n("lwsE"),a=n.n(r),s=n("W8MJ"),c=n.n(s),l=n("FxVL"),d=n("FORR"),u=n("LZ1O"),p=n("glE4"),m=n("OfVG"),g=function(){function e(t){a()(this,e),this.bizType=d.f.DEFAULT,this.fetchedTime=0,this.isFetched=!1,this.floor=0,this.ceil=Number.MAX_VALUE,this.monitorCfg={};var n=(t||{}).monitorCfg,o=void 0===n?this.monitorCfg:n;this.monitorCfg=o,Object(p.a)().reset(t)}return c()(e,[{key:"getPluginConfig",value:function(){return Object.keys(this.monitorCfg).length>0?this.monitorCfg:Object(p.a)().getBaseParams().monitorCfg||{}}},{key:"beforeLoad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.c.Goods,n=this.getPluginConfig()||{},o=(n[t]||{}).request||{},i=n.requestQPS||{},r=i[t]||{},a=Number(o.eventId)||Number(r.eventId)||0;a&&Object(l.h)(a,e)}},{key:"beforeLeave",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.c.Goods,n=e||{},o=n.type,i=void 0===o?d.c.Goods:o;i=t||i;var r=e||{},a=r.data,s=void 0===a?{}:a,c=s||{},u=c.goods_id,p=void 0===u?"":u,m=c.goods_name,g=void 0===m?"":m,f=c.mkt_tr_sc,v=void 0===f?"":f,h=c.hd_thumb_url,_=void 0===h?"":h,b=c.cost_type,y=void 0===b?"":b,O=c.duoduo_type,I=void 0===O?"":O,k=c.cps_sign,E=void 0===k?"":k,S=c.pid,w=void 0===S?"":S;4===Number(y)&&(i=d.c.CPS);var N=this.getPluginConfig()||{},C=(N[i]||{}).click||{},j=(N.clickFrequency||{})[i]||{},P=Number(C.eventId)||Number(j.eventId)||0;if(P){var T=Object.assign({},e,{data:{goods_id:p,goods_name:g,mkt_tr_sc:v,hd_thumb_url:_,cost_type:y,duoduo_type:I,cps_sign:E,pid:w}});Object(l.h)(P,T)}}},{key:"afterLoad",value:function(e){var t=e||{},n=t.error,o=void 0===n?0:n,i=t.data,r=void 0===i?{}:i,a=t.prevList,s=void 0===a?[]:a,c=t.isPreload,d=void 0!==c&&c,u=(r||{}).list||[],p=this.getPluginConfig(),m=p.loadError,g=void 0===m?{}:m,f=p.loadBack,v=void 0===f?{}:f,h=p.loadEmpty,_=void 0===h?{}:h,b=(g||{}).eventId,y=void 0===b?0:b,O=Object.assign({},e,{prevList:(s||[]).length,data:Object.assign({},r,{list:u.length})});if(o>0&&y>0)Object(l.h)(y,O);else{var I=u.length,k=v||{},E=k.eventId,S=void 0===E?0:E,w=k.minAmount;I&&I<(void 0===w?20:w)&&S>0&&Object(l.h)(S,O);var N=(_||{}).eventId,C=void 0===N?0:N;C>0&&!u.length&&!d&&Object(l.h)(C,O)}}},{key:"afterEnter",value:function(e){var t=e.data||e.list||[];t=t.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e||{},n=t.elem_type,o=void 0===n?d.c.Goods:n;return o===d.c.Goods||!o})),e=Object.assign({},e,{data:t.slice(0,4)}),this.doCheckPrice(e)}},{key:"adDidShow",value:function(e){var t=(e||{}).data,n=void 0===t?{}:t,o=(e||{}).type,i=void 0===o?d.c.Goods:o,r=n||{},a=r.mall_id,s=void 0===a?"":a,c=r.mall_name,u=void 0===c?"":c,p=r.goods_id,m=void 0===p?"":p,g=r.goods_name,f=void 0===g?"":g,v=r.mkt_tr_sc,h=void 0===v?"":v,_=r.hd_thumb_url,b=void 0===_?"":_,y=r.cost_type,O=void 0===y?"":y,I=r.duoduo_type,k=void 0===I?"":I,E=r.cps_sign,S=void 0===E?"":E,w=r.pid,N=void 0===w?"":w,C=r.spec_id,j=void 0===C?0:C;i&&i!==d.c.Goods||(this.doCheckPrice({data:[n]}),i=4===Number(O)?d.c.CPS:i,i=7===Number(j)?d.c.LgGoods:i);var P=this.getPluginConfig()||{},T=(P[i]||{}).show||{},L=(P.dotShow||{})[i]||{},x=Number(T.eventId)||Number(L.eventId)||0;if(x){var A=Object.assign({},e,{data:{mall_id:s,mall_name:u,goods_id:m,goods_name:f,mkt_tr_sc:h,hd_thumb_url:b,cost_type:O,duoduo_type:k,cps_sign:S,pid:N}});Object(l.h)(x,A)}}},{key:"doLogImpr",value:function(e){var t=(e||{}).idx,n=void 0===t?0:t,o=this.getPluginConfig().dotDepth,i=(void 0===o?{}:o)||{},r=i.depth,a=void 0===r?0:r,s=i.eventId,c=void 0===s?0:s;c>0&&a>0&&a===n&&Object(l.h)(c,{})}},{key:"isPriceUnEffect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!(this.floor<this.ceil&&(this.floor>0||this.ceil<Number.MAX_VALUE)))return[];var n=t.filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t||{},o=n.source_type,i=void 0===o?0:o,r=n.group,a=void 0===r?{}:r,s=n.price,c=void 0===s?0:s,l=Number((a||{}).price)||Number(c)||0,d=Number(i)>0||l>=e.floor&&l<=e.ceil;return!d}));return n.length>0&&this.fetchedTime<2&&(this.fetchedTime=this.fetchedTime+1,this.isFetched=!1),(n||[]).map((function(e){var t=e||{},n=t.mkt_tr_sc,o=void 0===n?"":n,i=t.mkt_domain,r=void 0===i?"":i,a=t.source_type,s=void 0===a?"":a,c=t.ad_product_type,l=void 0===c?"":c,d=t.goods_id,u=void 0===d?"":d,p=t.goods_name,m=void 0===p?"":p,g=t.mall_id,f=void 0===g?"":g,v=t.mall_name,h=void 0===v?"":v,_=t.hd_thumb_url,b=void 0===_?"":_,y=t.group,O=void 0===y?"":y,I=t.price;return{mkt_tr_sc:o,mkt_domain:r,source_type:s,ad_product_type:l,mall_id:f,mall_name:h,goods_id:u,goods_name:m,hd_thumb_url:b,group:O,price:void 0===I?"":I}}))}},{key:"doCheckPrice",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=e||{};var o=this.getPluginConfig(),r=o.effectPrice,a=void 0===r?{}:r,s=a||{},c=s.bizType,l=void 0===c?d.f.DEFAULT:c,g=s.floor,f=void 0===g?0:g,v=s.ceil,h=void 0===v?Number.MAX_VALUE:v,_=s.requestUrl,b=void 0===_?"api/fun-gateway/query/price/config":_,y=s.eventId,O=void 0===y?0:y;this.bizType=l;var I=e.data||e.list||[];if(I.length>0&&(I=I.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=e||{};var t=Number((e||{}).fun_production_type)||0;return t!==d.h.NEW_DEVICE_REC&&t!==d.h.NEW_USER_REC}))),(O||Object(m.e)(n))&&I.length){var k=Object(p.a)().getBaseParams(),E=k||{},S=E.destSceneId,w=void 0===S?"":S,N=e.sceneIds||[];!N.length&&w&&(N=[w]),N=N.map((function(e){return Number(e)})).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return!!e})),f<h&&(f>0||h<Number.MAX_VALUE)&&(this.isFetched=!0,this.floor=f,this.ceil=h<=0?Number.MAX_VALUE:h);var C=k||{},j=C.listId,P=void 0===j?"":j,T=C.optId,L=void 0===T?"":T,x=C.subId,A=void 0===x?"":x,G=C.page,R=void 0===G?0:G,D=C.destSceneId,M=void 0===D?"":D,U=e.loggerExt||{},F={listId:P,optId:L,subId:A,page:R,sceneId:M,loggerExt:U};if(this.isFetched){var W=this.isPriceUnEffect(I);W.length>0&&(Object(m.e)(n)?n(W,Object.assign({},F,{sceneIds:N})):this.logUnEffectPriceGoods(W,Object.assign({},F,{sceneIds:N})))}else if(b){this.isFetched=!0;var B=u.a.getFunctions(),q=B.requestUtil,H={scene_id:N};l>0&&(H={media_scene_map:i()({},l,N)}),q.baseRequest(b,{method:"POST",params:H}).then((function(e){e=(e=(e||{}).scene_price_config_map||{})[N[0]]||{},t.floor=Number(e.floor_price)||0,t.ceil=Number(e.ceil_price)||Number.MAX_VALUE,t.ceil=t.ceil<=0?Number.MAX_VALUE:t.ceil;var o=t.isPriceUnEffect(I);o.length>0&&(Object(m.e)(n)?n(o,Object.assign({},F,{sceneIds:N})):t.logUnEffectPriceGoods(o,Object.assign({},F,{sceneIds:N})))})).catch((function(){t.floor=0,t.ceil=Number.MAX_VALUE}))}}}},{key:"logIfPriceUnEffect",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Number(n)&&this.doCheckPrice({data:e},(function(e,o){Object(l.h)(n,Object.assign({},o||{},{bizType:t.bizType,foor:t.floor,ceil:t.ceil,goods:Object.assign({},e[0]||{})}))}))}},{key:"logUnEffectPriceGoods",value:function(e,t){var n=this,o=this.getPluginConfig().effectPrice,i=((void 0===o?{}:o)||{}).eventId,r=void 0===i?0:i;Number(r)&&(e||[]).length&&e.forEach((function(e){Object(l.h)(r,Object.assign({},t||{},{bizType:n.bizType,foor:n.floor,ceil:n.ceil,goods:Object.assign({},e||{})}))}))}}]),e}();t.a=g}}]);