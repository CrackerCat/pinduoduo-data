(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2251,1811,2063],{61980:function(e,t,r){"use strict";r.d(t,{ZP:function(){return E},TA:function(){return I}});var n=r(44227),o=r(19756),i=r(22122);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}var l=r(59864),c=r(8679),u=r.n(c);function p(e,t){if(!e){var r=new Error("loadable: "+t);throw r.framesToPop=1,r.name="Invariant Violation",r}}function d(e){console.warn("loadable: "+e)}var h=n.createContext();function f(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var m={initialChunks:{}},g="PENDING",y="REJECTED";var b=function(e){return e};function v(e){var t=e.defaultResolveComponent,r=void 0===t?b:t,c=e.render,d=e.onLoad;function f(e,t){void 0===t&&(t={});var f=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),b={};function v(e){return t.cacheKey?t.cacheKey(e):f.resolve?f.resolve(e):"static"}function _(e,n,o){var i=t.resolveComponent?t.resolveComponent(e,n):r(e);if(t.resolveComponent&&!(0,l.isValidElementType)(i))throw new Error("resolveComponent returned something that is not a React component!");return u()(o,i,{preload:!0}),i}var w,S,P=function(e){var r,n;function l(r){var n;return(n=e.call(this,r)||this).state={result:null,error:null,loading:!0,cacheKey:v(r)},p(!r.__chunkExtractor||f.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),r.__chunkExtractor?(!1===t.ssr||(f.requireAsync(r).catch((function(){return null})),n.loadSync(),r.__chunkExtractor.addChunk(f.chunkName(r))),s(n)):(!1!==t.ssr&&(f.isReady&&f.isReady(r)||f.chunkName&&m.initialChunks[f.chunkName(r)])&&n.loadSync(),n)}n=e,(r=l).prototype=Object.create(n.prototype),r.prototype.constructor=r,a(r,n),l.getDerivedStateFromProps=function(e,t){var r=v(e);return(0,i.Z)({},t,{cacheKey:r,loading:t.loading||t.cacheKey!==r})};var u=l.prototype;return u.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===y&&this.setCache(),this.state.loading&&this.loadAsync()},u.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},u.componentWillUnmount=function(){this.mounted=!1},u.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},u.getCacheKey=function(){return v(this.props)},u.getCache=function(){return b[this.getCacheKey()]},u.setCache=function(e){void 0===e&&(e=void 0),b[this.getCacheKey()]=e},u.triggerOnLoad=function(){var e=this;d&&setTimeout((function(){d(e.state.result,e.props)}))},u.loadSync=function(){if(this.state.loading)try{var e=_(f.requireSync(this.props),this.props,O);this.state.result=e,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:f.resolve(this.props),chunkName:f.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},u.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var r=_(t,e.props,{Loadable:O});e.safeSetState({result:r,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},u.resolveAsync=function(){var e=this,t=this.props,r=(t.__chunkExtractor,t.forwardedRef,(0,o.Z)(t,["__chunkExtractor","forwardedRef"])),n=this.getCache();return n||((n=f.requireAsync(r)).status=g,this.setCache(n),n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:f.resolve(e.props),chunkName:f.chunkName(e.props),error:t?t.message:t}),n.status=y}))),n},u.render=function(){var e=this.props,r=e.forwardedRef,n=e.fallback,s=(e.__chunkExtractor,(0,o.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),a=this.state,l=a.error,u=a.loading,p=a.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===g)throw this.loadAsync();if(l)throw l;var d=n||t.fallback||null;return u?d:c({fallback:d,result:p,options:t,props:(0,i.Z)({},s,{ref:r})})},l}(n.Component),k=(S=function(e){return n.createElement(h.Consumer,null,(function(t){return n.createElement(w,Object.assign({__chunkExtractor:t},e))}))},(w=P).displayName&&(S.displayName=w.displayName+"WithChunkExtractor"),S),O=n.forwardRef((function(e,t){return n.createElement(k,Object.assign({forwardedRef:t},e))}));return O.displayName="Loadable",O.preload=function(e){f.requireAsync(e)},O.load=function(e){return f.requireAsync(e)},O}return{loadable:f,lazy:function(e,t){return f(e,(0,i.Z)({},t,{suspense:!0}))}}}var _=v({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,r=e.props;return n.createElement(t,r)}}),w=_.loadable,S=_.lazy,P=v({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,r=e.props;return r.children?r.children(t):null}}),k=P.loadable,O=P.lazy,C="undefined"!=typeof window;function I(e,t){void 0===e&&(e=function(){});var r=void 0===t?{}:t,n=r.namespace,o=void 0===n?"":n,i=r.chunkLoadingGlobal,s=void 0===i?"__LOADABLE_LOADED_CHUNKS__":i;if(!C)return d("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var a=null;if(C){var l=f(o),c=document.getElementById(l);if(c){a=JSON.parse(c.textContent);var u=document.getElementById(l+"_ext");if(!u)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(u.textContent).namedChunks.forEach((function(e){m.initialChunks[e]=!0}))}}if(!a)return d("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var p=!1;return new Promise((function(e){window[s]=window[s]||[];var t=window[s],r=t.push.bind(t);function n(){a.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(p||(p=!0,e()))}t.push=function(){r.apply(void 0,arguments),n()},n()})).then(e)}var x=w;x.lib=k,S.lib=O;var E=x},88572:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t,r){var o=r.value;if("function"!=typeof o)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(n(o)));var i=!1;return{configurable:!0,get:function(){if(i||this===e.prototype||this.hasOwnProperty(t)||"function"!=typeof o)return o;var r=o.bind(this);return i=!0,Object.defineProperty(this,t,{configurable:!0,get:function(){return r},set:function(e){o=e,delete this[t]}}),i=!1,r},set:function(e){o=e}}}function i(e){var t;return"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?t=Reflect.ownKeys(e.prototype):(t=Object.getOwnPropertyNames(e.prototype),"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e.prototype)))),t.forEach((function(t){if("constructor"!==t){var r=Object.getOwnPropertyDescriptor(e.prototype,t);"function"==typeof r.value&&Object.defineProperty(e.prototype,t,o(e,t,r))}})),e}function s(){return 1===arguments.length?i.apply(void 0,arguments):o.apply(void 0,arguments)}r.d(t,{ZP:function(){return s}})},40487:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},71012:function(e){var t,r;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],i=0;i<4;i++)8*n+6*i<=8*e.length?r.push(t.charAt(o>>>6*(3-i)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(n))>>>6-2*o);return r}},e.exports=r},17187:function(e){"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&m(e,"error",t,r)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var o,i,s,c;if(a(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),void 0===s)s=i[t]=r,++e._eventsCount;else if("function"==typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=l(e))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=u.bind(n);return o.listener=r,n.wrapFn=o,o}function d(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):f(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){n.once&&e.removeEventListener(t,o),r(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else{var c=l.length,u=f(l,c);for(r=0;r<c;++r)n(u[r],this,t)}return!0},i.prototype.addListener=function(e,t){return c(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return c(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,p(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,p(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,o,i,s;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},48738:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},94604:function(e,t,r){var n=r(52404),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},53e3:function(e,t,r){var n=r(8293),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},74324:function(e,t,r){var n=r(32289),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},45534:function(e,t,r){var n=r(37477),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},33656:function(e,t,r){var n=r(80039),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},13925:function(e,t,r){var n=r(67504),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},59657:function(e,t,r){var n=r(25862),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},49096:function(e,t,r){var n=r(61744),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},80550:function(e,t,r){var n=r(20303),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},81947:function(e,t,r){var n=r(2118),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},56691:function(e,t,r){var n=r(53319),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},5363:function(e,t,r){var n=r(91903),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},99341:function(e,t,r){var n=r(5070),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},9920:function(e,t,r){var n=r(11998),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},10089:function(e,t,r){var n=r(48557),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},12672:function(e,t,r){var n=r(31848),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},47929:function(e,t,r){var n=r(75390),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},7255:function(e,t,r){var n=r(50781),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},16142:function(e,t,r){var n=r(48487),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},49375:function(e,t,r){var n=r(42893),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},92346:function(e,t,r){var n=r(86066),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},31223:function(e,t,r){var n=r(32184),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},71846:function(e,t,r){var n=r(62288),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},75849:function(e,t,r){var n=r(16297),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},42178:function(e,t,r){var n=r(72297),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},22605:function(e,t,r){var n=r(10887),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},67619:function(e,t,r){var n=r(15609),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},65846:function(e,t,r){var n=r(42476),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},92780:function(e,t,r){var n=r(85560),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},40716:function(e,t,r){var n=r(6894),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},22001:function(e,t,r){var n=r(26991),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},52089:function(e,t,r){var n=r(70648),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},2316:function(e,t,r){var n=r(8411),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},74245:function(e,t,r){var n=r(96919),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},8146:function(e,t,r){var n=r(13708),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},80863:function(e,t,r){var n=r(39173),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},50247:function(e,t,r){var n=r(38565),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},23969:function(e,t,r){var n=r(76640),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},50411:function(e,t,r){var n=r(72819),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},69562:function(e,t,r){var n=r(95935),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},82100:function(e,t,r){var n=r(18008),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},58259:function(e,t,r){var n=r(88926),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},5546:function(e,t,r){var n=r(56079),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},3352:function(e,t,r){var n=r(25475),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},93035:function(e,t,r){var n=r(56861),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},49198:function(e,t,r){var n=r(76177),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},85461:function(e,t,r){var n=r(15434),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},43799:function(e,t,r){var n=r(22856),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},6609:function(e,t,r){var n=r(89),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},87429:function(e,t,r){var n=r(36897),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},7213:function(e,t,r){var n=r(24747),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},43057:function(e,t,r){var n=r(81560),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},14612:function(e,t,r){var n=r(79286),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},36633:function(e,t,r){var n=r(65582),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},66346:function(e,t,r){var n=r(70297),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},1236:function(e,t,r){var n=r(1516),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},49159:function(e,t,r){var n=r(72261),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},26652:function(e,t,r){var n=r(83735),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},71362:function(e,t,r){var n=r(79399),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},44174:function(e){e.exports=function(e,t,r,n){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(n,s,r(s),e)}return n}},77412:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},70151:function(e,t,r){var n=r(278),o=r(73480);e.exports=function(e){return o(n(e))}},81119:function(e,t,r){var n=r(89881);e.exports=function(e,t,r,o){return n(e,(function(e,n,i){t(o,e,r(e),i)})),o}},44037:function(e,t,r){var n=r(98363),o=r(3674);e.exports=function(e,t){return e&&n(t,o(t),e)}},63886:function(e,t,r){var n=r(98363),o=r(81704);e.exports=function(e,t){return e&&n(t,o(t),e)}},85990:function(e,t,r){var n=r(46384),o=r(77412),i=r(34865),s=r(44037),a=r(63886),l=r(64626),c=r(278),u=r(18805),p=r(1911),d=r(58234),h=r(46904),f=r(64160),m=r(43824),g=r(29148),y=r(38517),b=r(1469),v=r(44144),_=r(56688),w=r(13218),S=r(72928),P=r(3674),k=r(81704),O="[object Arguments]",C="[object Function]",I="[object Object]",x={};x[O]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x[I]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x[C]=x["[object WeakMap]"]=!1,e.exports=function e(t,r,E,T,D,A){var R,L=1&r,M=2&r,Z=4&r;if(E&&(R=D?E(t,T,D,A):E(t)),void 0!==R)return R;if(!w(t))return t;var j=b(t);if(j){if(R=m(t),!L)return c(t,R)}else{var N=f(t),z=N==C||"[object GeneratorFunction]"==N;if(v(t))return l(t,L);if(N==I||N==O||z&&!D){if(R=M||z?{}:y(t),!L)return M?p(t,a(R,t)):u(t,s(R,t))}else{if(!x[N])return D?t:{};R=g(t,N,L)}}A||(A=new n);var U=A.get(t);if(U)return U;A.set(t,R),S(t)?t.forEach((function(n){R.add(e(n,r,E,n,t,A))})):_(t)&&t.forEach((function(n,o){R.set(o,e(n,r,E,o,t,A))}));var B=j?void 0:(Z?M?h:d:M?k:P)(t);return o(B||t,(function(n,o){B&&(n=t[o=n]),i(R,o,e(n,r,E,o,t,A))})),R}},74221:function(e){e.exports=function(e,t,r,n){for(var o=r-1,i=e.length;++o<i;)if(n(e[o],t))return o;return-1}},23933:function(e,t,r){var n=r(44239),o=r(37005);e.exports=function(e){return o(e)&&"[object RegExp]"==n(e)}},65464:function(e,t,r){var n=r(29932),o=r(42118),i=r(74221),s=r(7518),a=r(278),l=Array.prototype.splice;e.exports=function(e,t,r,c){var u=c?i:o,p=-1,d=t.length,h=e;for(e===t&&(t=a(t)),r&&(h=n(e,s(r)));++p<d;)for(var f=0,m=t[p],g=r?r(m):m;(f=u(h,g,f,c))>-1;)h!==e&&l.call(h,f,1),l.call(e,f,1);return e}},25127:function(e,t,r){var n=r(73480),o=r(52628);e.exports=function(e){return n(o(e))}},47415:function(e,t,r){var n=r(29932);e.exports=function(e,t){return n(t,(function(t){return e[t]}))}},57157:function(e,t,r){var n=r(74318);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},93147:function(e){var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},40419:function(e,t,r){var n=r(62705),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},18805:function(e,t,r){var n=r(98363),o=r(99551);e.exports=function(e,t){return n(e,o(e),t)}},1911:function(e,t,r){var n=r(98363),o=r(51442);e.exports=function(e,t){return n(e,o(e),t)}},55189:function(e,t,r){var n=r(44174),o=r(81119),i=r(67206),s=r(1469);e.exports=function(e,t){return function(r,a){var l=s(r)?n:o,c=t?t():{};return l(r,e,i(a,2),c)}}},24626:function(e,t,r){var n=r(77813),o=Object.prototype,i=o.hasOwnProperty;e.exports=function(e,t,r,s){return void 0===e||n(e,o[r])&&!i.call(s,r)?t:e}},60696:function(e,t,r){var n=r(68630);e.exports=function(e){return n(e)?void 0:e}},89464:function(e,t,r){var n=r(18674)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=n},31994:function(e){var t={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};e.exports=function(e){return"\\"+t[e]}},43824:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},29148:function(e,t,r){var n=r(74318),o=r(57157),i=r(93147),s=r(40419),a=r(77133);e.exports=function(e,t,r){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,r);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Symbol]":return s(e)}}},79865:function(e){e.exports=/<%-([\s\S]+?)%>/g},76051:function(e){e.exports=/<%([\s\S]+?)%>/g},5712:function(e){e.exports=/<%=([\s\S]+?)%>/g},73480:function(e,t,r){var n=r(69877);e.exports=function(e,t){var r=-1,o=e.length,i=o-1;for(t=void 0===t?o:t;++r<t;){var s=n(r,i),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}},29018:function(e,t,r){var n=r(98363),o=r(21463),i=r(81704),s=o((function(e,t,r,o){n(t,i(t),e,o)}));e.exports=s},9591:function(e,t,r){var n=r(96874),o=r(5976),i=r(64647),s=o((function(e,t){try{return n(e,void 0,t)}catch(e){return i(e)?e:new Error(e)}}));e.exports=s},7187:function(e,t,r){var n=r(89464),o=r(79833),i=/[&<>"']/g,s=RegExp(i.source);e.exports=function(e){return(e=o(e))&&s.test(e)?e.replace(i,n):e}},8804:function(e,t,r){e.exports=r(91175)},94654:function(e,t,r){var n=r(21078),o=r(35161);e.exports=function(e,t){return n(o(e,t),1)}},7739:function(e,t,r){var n=r(89465),o=r(55189),i=Object.prototype.hasOwnProperty,s=o((function(e,t,r){i.call(e,r)?e[r].push(t):n(e,r,[t])}));e.exports=s},18446:function(e,t,r){var n=r(90939);e.exports=function(e,t){return n(e,t)}},64647:function(e,t,r){var n=r(44239),o=r(37005),i=r(68630);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},96347:function(e,t,r){var n=r(23933),o=r(7518),i=r(31167),s=i&&i.isRegExp,a=s?o(s):n;e.exports=a},82492:function(e,t,r){var n=r(42980),o=r(21463)((function(e,t,r){n(e,t,r)}));e.exports=o},30236:function(e,t,r){var n=r(42980),o=r(21463)((function(e,t,r,o){n(e,t,r,o)}));e.exports=o},57557:function(e,t,r){var n=r(29932),o=r(85990),i=r(57406),s=r(71811),a=r(98363),l=r(60696),c=r(99021),u=r(46904),p=c((function(e,t){var r={};if(null==e)return r;var c=!1;t=n(t,(function(t){return t=s(t,e),c||(c=t.length>1),t})),a(e,u(e),r),c&&(r=o(r,7,l));for(var p=t.length;p--;)i(r,t[p]);return r}));e.exports=p},97019:function(e,t,r){var n=r(5976)(r(45604));e.exports=n},45604:function(e,t,r){var n=r(65464);e.exports=function(e,t){return e&&e.length&&t&&t.length?n(e,t):e}},69983:function(e,t,r){var n=r(70151),o=r(25127),i=r(1469);e.exports=function(e){return(i(e)?n:o)(e)}},71640:function(e,t,r){var n=r(80531),o=r(40180),i=r(62689),s=r(16612),a=r(96347),l=r(83140),c=r(79833);e.exports=function(e,t,r){return r&&"number"!=typeof r&&s(e,t,r)&&(t=r=void 0),(r=void 0===r?4294967295:r>>>0)?(e=c(e))&&("string"==typeof t||null!=t&&!a(t))&&!(t=n(t))&&i(e)?o(l(e),0,r):e.split(t,r):[]}},12297:function(e,t,r){var n=r(67762),o=r(6557);e.exports=function(e){return e&&e.length?n(e,o):0}},41106:function(e,t,r){var n=r(29018),o=r(9591),i=r(47415),s=r(24626),a=r(31994),l=r(64647),c=r(16612),u=r(3674),p=r(5712),d=r(15835),h=r(79833),f=/\b__p \+= '';/g,m=/\b(__p \+=) '' \+/g,g=/(__e\(.*?\)|\b__t\)) \+\n'';/g,y=/[()=,{}\[\]\/\s]/,b=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,v=/($^)/,_=/['\n\r\u2028\u2029\\]/g,w=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var S=d.imports._.templateSettings||d;r&&c(e,t,r)&&(t=void 0),e=h(e),t=n({},t,S,s);var P,k,O=n({},t.imports,S.imports,s),C=u(O),I=i(O,C),x=0,E=t.interpolate||v,T="__p += '",D=RegExp((t.escape||v).source+"|"+E.source+"|"+(E===p?b:v).source+"|"+(t.evaluate||v).source+"|$","g"),A=w.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(D,(function(t,r,n,o,i,s){return n||(n=o),T+=e.slice(x,s).replace(_,a),r&&(P=!0,T+="' +\n__e("+r+") +\n'"),i&&(k=!0,T+="';\n"+i+";\n__p += '"),n&&(T+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),x=s+t.length,t})),T+="';\n";var R=w.call(t,"variable")&&t.variable;if(R){if(y.test(R))throw new Error("Invalid `variable` option passed into `_.template`")}else T="with (obj) {\n"+T+"\n}\n";T=(k?T.replace(f,""):T).replace(m,"$1").replace(g,"$1;"),T="function("+(R||"obj")+") {\n"+(R?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(P?", __e = _.escape":"")+(k?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+T+"return __p\n}";var L=o((function(){return Function(C,A+"return "+T).apply(void 0,I)}));if(L.source=T,l(L))throw L;return L}},15835:function(e,t,r){var n=r(7187),o={escape:r(79865),evaluate:r(76051),interpolate:r(5712),variable:"",imports:{_:{escape:n}}};e.exports=o},52628:function(e,t,r){var n=r(47415),o=r(3674);e.exports=function(e){return null==e?[]:n(e,o(e))}},2568:function(e,t,r){var n,o,i,s,a;n=r(71012),o=r(40487).utf8,i=r(48738),s=r(40487).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):o.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=n.bytesToWords(e),l=8*e.length,c=1732584193,u=-271733879,p=-1732584194,d=271733878,h=0;h<r.length;h++)r[h]=16711935&(r[h]<<8|r[h]>>>24)|4278255360&(r[h]<<24|r[h]>>>8);r[l>>>5]|=128<<l%32,r[14+(l+64>>>9<<4)]=l;var f=a._ff,m=a._gg,g=a._hh,y=a._ii;for(h=0;h<r.length;h+=16){var b=c,v=u,_=p,w=d;c=f(c,u,p,d,r[h+0],7,-680876936),d=f(d,c,u,p,r[h+1],12,-389564586),p=f(p,d,c,u,r[h+2],17,606105819),u=f(u,p,d,c,r[h+3],22,-1044525330),c=f(c,u,p,d,r[h+4],7,-176418897),d=f(d,c,u,p,r[h+5],12,1200080426),p=f(p,d,c,u,r[h+6],17,-1473231341),u=f(u,p,d,c,r[h+7],22,-45705983),c=f(c,u,p,d,r[h+8],7,1770035416),d=f(d,c,u,p,r[h+9],12,-1958414417),p=f(p,d,c,u,r[h+10],17,-42063),u=f(u,p,d,c,r[h+11],22,-1990404162),c=f(c,u,p,d,r[h+12],7,1804603682),d=f(d,c,u,p,r[h+13],12,-40341101),p=f(p,d,c,u,r[h+14],17,-1502002290),c=m(c,u=f(u,p,d,c,r[h+15],22,1236535329),p,d,r[h+1],5,-165796510),d=m(d,c,u,p,r[h+6],9,-1069501632),p=m(p,d,c,u,r[h+11],14,643717713),u=m(u,p,d,c,r[h+0],20,-373897302),c=m(c,u,p,d,r[h+5],5,-701558691),d=m(d,c,u,p,r[h+10],9,38016083),p=m(p,d,c,u,r[h+15],14,-660478335),u=m(u,p,d,c,r[h+4],20,-405537848),c=m(c,u,p,d,r[h+9],5,568446438),d=m(d,c,u,p,r[h+14],9,-1019803690),p=m(p,d,c,u,r[h+3],14,-187363961),u=m(u,p,d,c,r[h+8],20,1163531501),c=m(c,u,p,d,r[h+13],5,-1444681467),d=m(d,c,u,p,r[h+2],9,-51403784),p=m(p,d,c,u,r[h+7],14,1735328473),c=g(c,u=m(u,p,d,c,r[h+12],20,-1926607734),p,d,r[h+5],4,-378558),d=g(d,c,u,p,r[h+8],11,-2022574463),p=g(p,d,c,u,r[h+11],16,1839030562),u=g(u,p,d,c,r[h+14],23,-35309556),c=g(c,u,p,d,r[h+1],4,-1530992060),d=g(d,c,u,p,r[h+4],11,1272893353),p=g(p,d,c,u,r[h+7],16,-155497632),u=g(u,p,d,c,r[h+10],23,-1094730640),c=g(c,u,p,d,r[h+13],4,681279174),d=g(d,c,u,p,r[h+0],11,-358537222),p=g(p,d,c,u,r[h+3],16,-722521979),u=g(u,p,d,c,r[h+6],23,76029189),c=g(c,u,p,d,r[h+9],4,-640364487),d=g(d,c,u,p,r[h+12],11,-421815835),p=g(p,d,c,u,r[h+15],16,530742520),c=y(c,u=g(u,p,d,c,r[h+2],23,-995338651),p,d,r[h+0],6,-198630844),d=y(d,c,u,p,r[h+7],10,1126891415),p=y(p,d,c,u,r[h+14],15,-1416354905),u=y(u,p,d,c,r[h+5],21,-57434055),c=y(c,u,p,d,r[h+12],6,1700485571),d=y(d,c,u,p,r[h+3],10,-1894986606),p=y(p,d,c,u,r[h+10],15,-1051523),u=y(u,p,d,c,r[h+1],21,-2054922799),c=y(c,u,p,d,r[h+8],6,1873313359),d=y(d,c,u,p,r[h+15],10,-30611744),p=y(p,d,c,u,r[h+6],15,-1560198380),u=y(u,p,d,c,r[h+13],21,1309151649),c=y(c,u,p,d,r[h+4],6,-145523070),d=y(d,c,u,p,r[h+11],10,-1120210379),p=y(p,d,c,u,r[h+2],15,718787259),u=y(u,p,d,c,r[h+9],21,-343485551),c=c+b>>>0,u=u+v>>>0,p=p+_>>>0,d=d+w>>>0}return n.endian([c,u,p,d])})._ff=function(e,t,r,n,o,i,s){var a=e+(t&r|~t&n)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},a._gg=function(e,t,r,n,o,i,s){var a=e+(t&n|r&~n)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},a._hh=function(e,t,r,n,o,i,s){var a=e+(t^r^n)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},a._ii=function(e,t,r,n,o,i,s){var a=e+(r^(t|~n))+(o>>>0)+s;return(a<<i|a>>>32-i)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(a(e,t));return t&&t.asBytes?r:t&&t.asString?s.bytesToString(r):n.bytesToHex(r)}},27418:function(e){"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var s,a,l=o(e),c=1;c<arguments.length;c++){for(var u in s=Object(arguments[c]))r.call(s,u)&&(l[u]=s[u]);if(t){a=t(s);for(var p=0;p<a.length;p++)n.call(s,a[p])&&(l[a[p]]=s[a[p]])}}return l}},38698:function(e,t,r){"use strict";var n=r(27418),o=r(44227);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s="function"==typeof Symbol&&Symbol.for,a=s?Symbol.for("react.portal"):60106,l=s?Symbol.for("react.fragment"):60107,c=s?Symbol.for("react.strict_mode"):60108,u=s?Symbol.for("react.profiler"):60114,p=s?Symbol.for("react.provider"):60109,d=s?Symbol.for("react.context"):60110,h=s?Symbol.for("react.concurrent_mode"):60111,f=s?Symbol.for("react.forward_ref"):60112,m=s?Symbol.for("react.suspense"):60113,g=s?Symbol.for("react.suspense_list"):60120,y=s?Symbol.for("react.memo"):60115,b=s?Symbol.for("react.lazy"):60116,v=s?Symbol.for("react.block"):60121,_=s?Symbol.for("react.fundamental"):60117,w=s?Symbol.for("react.scope"):60119;function S(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case a:return"Portal";case u:return"Profiler";case c:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case d:return"Context.Consumer";case p:return"Context.Provider";case f:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case y:return S(e.type);case v:return S(e.render);case b:if(e=1===e._status?e._result:null)return S(e)}return null}var P=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;P.hasOwnProperty("ReactCurrentDispatcher")||(P.ReactCurrentDispatcher={current:null}),P.hasOwnProperty("ReactCurrentBatchConfig")||(P.ReactCurrentBatchConfig={suspense:null});var k={};function O(e,t){for(var r=0|e._threadCount;r<=t;r++)e[r]=e._currentValue2,e._threadCount=r+1}for(var C=new Uint16Array(16),I=0;15>I;I++)C[I]=I+1;C[15]=0;var x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E=Object.prototype.hasOwnProperty,T={},D={};function A(e){return!!E.call(D,e)||!E.call(T,e)&&(x.test(e)?D[e]=!0:(T[e]=!0,!1))}function R(e,t,r,n,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){L[e]=new R(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];L[t]=new R(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){L[e]=new R(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){L[e]=new R(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){L[e]=new R(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){L[e]=new R(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){L[e]=new R(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){L[e]=new R(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){L[e]=new R(e,5,!1,e.toLowerCase(),null,!1)}));var M=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(M,Z);L[t]=new R(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(M,Z);L[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(M,Z);L[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){L[e]=new R(e,1,!1,e.toLowerCase(),null,!1)})),L.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){L[e]=new R(e,1,!1,e.toLowerCase(),null,!0)}));var j=/["'&<>]/;function N(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=j.exec(e);if(t){var r,n="",o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}function z(e,t){var r,n=L.hasOwnProperty(e)?L[e]:null;return(r="style"!==e)&&(r=null!==n?0===n.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),r||function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,n,!1)?"":null!==n?(e=n.attributeName,3===(r=n.type)||4===r&&!0===t?e+'=""':(n.sanitizeURL&&(t=""+t),e+'="'+N(t)+'"')):A(e)?e+'="'+N(t)+'"':""}var U="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},B=null,G=null,F=null,H=!1,W=!1,q=null,V=0;function K(){if(null===B)throw Error(i(321));return B}function Y(){if(0<V)throw Error(i(312));return{memoizedState:null,queue:null,next:null}}function Q(){return null===F?null===G?(H=!1,G=F=Y()):(H=!0,F=G):null===F.next?(H=!1,F=F.next=Y()):(H=!0,F=F.next),F}function X(e,t,r,n){for(;W;)W=!1,V+=1,F=null,r=e(t,n);return G=B=null,V=0,F=q=null,r}function $(e,t){return"function"==typeof t?t(e):t}function J(e,t,r){if(B=K(),F=Q(),H){var n=F.queue;if(t=n.dispatch,null!==q&&void 0!==(r=q.get(n))){q.delete(n),n=F.memoizedState;do{n=e(n,r.action),r=r.next}while(null!==r);return F.memoizedState=n,[n,t]}return[F.memoizedState,t]}return e=e===$?"function"==typeof t?t():t:void 0!==r?r(t):t,F.memoizedState=e,e=(e=F.queue={last:null,dispatch:null}).dispatch=ee.bind(null,B,e),[F.memoizedState,e]}function ee(e,t,r){if(!(25>V))throw Error(i(301));if(e===B)if(W=!0,e={action:r,next:null},null===q&&(q=new Map),void 0===(r=q.get(t)))q.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}function te(){}var re=0,ne={readContext:function(e){var t=re;return O(e,t),e[t]},useContext:function(e){K();var t=re;return O(e,t),e[t]},useMemo:function(e,t){if(B=K(),t=void 0===t?null:t,null!==(F=Q())){var r=F.memoizedState;if(null!==r&&null!==t){e:{var n=r[1];if(null===n)n=!1;else{for(var o=0;o<n.length&&o<t.length;o++)if(!U(t[o],n[o])){n=!1;break e}n=!0}}if(n)return r[0]}}return e=e(),F.memoizedState=[e,t],e},useReducer:J,useRef:function(e){B=K();var t=(F=Q()).memoizedState;return null===t?(e={current:e},F.memoizedState=e):t},useState:function(e){return J($,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:te,useEffect:te,useDebugValue:te,useResponder:function(e,t){return{props:t,responder:e}},useDeferredValue:function(e){return K(),e},useTransition:function(){return K(),[function(e){e()},!1]}},oe="http://www.w3.org/1999/xhtml";function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var se={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ae=n({menuitem:!0},se),le={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ce=["Webkit","ms","Moz","O"];Object.keys(le).forEach((function(e){ce.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),le[t]=le[e]}))}));var ue=/([A-Z])/g,pe=/^ms-/,de=o.Children.toArray,he=P.ReactCurrentDispatcher,fe={listing:!0,pre:!0,textarea:!0},me=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ge={},ye={};var be=Object.prototype.hasOwnProperty,ve={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function _e(e,t){if(void 0===e)throw Error(i(152,S(t)||"Component"))}function we(e,t,r){function s(o,s){var a=s.prototype&&s.prototype.isReactComponent,l=function(e,t,r,n){if(n&&"object"==typeof(n=e.contextType)&&null!==n)return O(n,r),n[r];if(e=e.contextTypes){for(var o in r={},e)r[o]=t[o];t=r}else t=k;return t}(s,t,r,a),c=[],u=!1,p={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===c)return null},enqueueReplaceState:function(e,t){u=!0,c=[t]},enqueueSetState:function(e,t){if(null===c)return null;c.push(t)}};if(a){if(a=new s(o.props,l,p),"function"==typeof s.getDerivedStateFromProps){var d=s.getDerivedStateFromProps.call(null,o.props,a.state);null!=d&&(a.state=n({},a.state,d))}}else if(B={},a=s(o.props,l,p),null==(a=X(s,o.props,a,l))||null==a.render)return void _e(e=a,s);if(a.props=o.props,a.context=l,a.updater=p,void 0===(p=a.state)&&(a.state=p=null),"function"==typeof a.UNSAFE_componentWillMount||"function"==typeof a.componentWillMount)if("function"==typeof a.componentWillMount&&"function"!=typeof s.getDerivedStateFromProps&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&"function"!=typeof s.getDerivedStateFromProps&&a.UNSAFE_componentWillMount(),c.length){p=c;var h=u;if(c=null,u=!1,h&&1===p.length)a.state=p[0];else{d=h?p[0]:a.state;var f=!0;for(h=h?1:0;h<p.length;h++){var m=p[h];null!=(m="function"==typeof m?m.call(a,d,o.props,l):m)&&(f?(f=!1,d=n({},d,m)):n(d,m))}a.state=d}}else c=null;if(_e(e=a.render(),s),"function"==typeof a.getChildContext&&"object"==typeof(o=s.childContextTypes)){var g=a.getChildContext();for(var y in g)if(!(y in o))throw Error(i(108,S(s)||"Unknown",y))}g&&(t=n({},t,g))}for(;o.isValidElement(e);){var a=e,l=a.type;if("function"!=typeof l)break;s(a,l)}return{child:e,context:t}}var Se=function(){function e(e,t){o.isValidElement(e)?e.type!==l?e=[e]:(e=e.props.children,e=o.isValidElement(e)?[e]:de(e)):e=de(e),e={type:null,domNamespace:oe,children:e,childIndex:0,context:k,footer:""};var r=C[0];if(0===r){var n=C,s=2*(r=n.length);if(!(65536>=s))throw Error(i(304));var a=new Uint16Array(s);for(a.set(n),(C=a)[0]=r+1,n=r;n<s-1;n++)C[n]=n+1;C[s-1]=0}else C[0]=C[r];this.threadID=r,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;C[e]=C[0],C[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,r=e.type._context,n=this.threadID;O(r,n);var o=r[n];this.contextStack[t]=r,this.contextValueStack[t]=o,r[n]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],r=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=r},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=re;re=this.threadID;var r=he.current;he.current=ne;try{for(var n=[""],o=!1;n[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var s=this.threadID;C[s]=C[0],C[0]=s;break}var a=this.stack[this.stack.length-1];if(o||a.childIndex>=a.children.length){var l=a.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===a.type)this.currentSelectValue=null;else if(null!=a.type&&null!=a.type.type&&a.type.type.$$typeof===p)this.popProvider(a.type);else if(a.type===m){this.suspenseDepth--;var c=n.pop();if(o){o=!1;var u=a.fallbackFrame;if(!u)throw Error(i(303));this.stack.push(u),n[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}n[this.suspenseDepth]+=c}n[this.suspenseDepth]+=l}else{var d=a.children[a.childIndex++],h="";try{h+=this.render(d,a.context,a.domNamespace)}catch(e){if(null!=e&&"function"==typeof e.then)throw Error(i(294));throw e}n.length<=this.suspenseDepth&&n.push(""),n[this.suspenseDepth]+=h}}return n[0]}finally{he.current=r,re=t}},t.render=function(e,t,r){if("string"==typeof e||"number"==typeof e)return""===(r=""+e)?"":this.makeStaticMarkup?N(r):this.previousWasTextNode?"\x3c!-- --\x3e"+N(r):(this.previousWasTextNode=!0,N(r));if(e=(t=we(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!o.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((r=e.$$typeof)===a)throw Error(i(257));throw Error(i(258,r.toString()))}return e=de(e),this.stack.push({type:null,domNamespace:r,children:e,childIndex:0,context:t,footer:""}),""}var s=e.type;if("string"==typeof s)return this.renderDOM(e,t,r);switch(s){case c:case h:case u:case g:case l:return e=de(e.props.children),this.stack.push({type:null,domNamespace:r,children:e,childIndex:0,context:t,footer:""}),"";case m:throw Error(i(294))}if("object"==typeof s&&null!==s)switch(s.$$typeof){case f:B={};var v=s.render(e.props,e.ref);return v=X(s.render,e.props,v,e.ref),v=de(v),this.stack.push({type:null,domNamespace:r,children:v,childIndex:0,context:t,footer:""}),"";case y:return e=[o.createElement(s.type,n({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:r,children:e,childIndex:0,context:t,footer:""}),"";case p:return r={type:e,domNamespace:r,children:s=de(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(r),"";case d:s=e.type,v=e.props;var S=this.threadID;return O(s,S),s=de(v.children(s[S])),this.stack.push({type:e,domNamespace:r,children:s,childIndex:0,context:t,footer:""}),"";case _:throw Error(i(338));case b:switch(function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(s=e.type),s._status){case 1:return e=[o.createElement(s._result,n({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:r,children:e,childIndex:0,context:t,footer:""}),"";case 2:throw s._result;default:throw Error(i(295))}case w:throw Error(i(343))}throw Error(i(130,null==s?s:typeof s,""))},t.renderDOM=function(e,t,r){var s=e.type.toLowerCase();if(r===oe&&ie(s),!ge.hasOwnProperty(s)){if(!me.test(s))throw Error(i(65,s));ge[s]=!0}var a=e.props;if("input"===s)a=n({type:void 0},a,{defaultChecked:void 0,defaultValue:void 0,value:null!=a.value?a.value:a.defaultValue,checked:null!=a.checked?a.checked:a.defaultChecked});else if("textarea"===s){var l=a.value;if(null==l){l=a.defaultValue;var c=a.children;if(null!=c){if(null!=l)throw Error(i(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(i(93));c=c[0]}l=""+c}null==l&&(l="")}a=n({},a,{value:void 0,children:""+l})}else if("select"===s)this.currentSelectValue=null!=a.value?a.value:a.defaultValue,a=n({},a,{value:void 0});else if("option"===s){c=this.currentSelectValue;var u=function(e){if(null==e)return e;var t="";return o.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(a.children);if(null!=c){var p=null!=a.value?a.value+"":u;if(l=!1,Array.isArray(c)){for(var d=0;d<c.length;d++)if(""+c[d]===p){l=!0;break}}else l=""+c===p;a=n({selected:void 0,children:void 0},a,{selected:l,children:u})}}if(l=a){if(ae[s]&&(null!=l.children||null!=l.dangerouslySetInnerHTML))throw Error(i(137,s,""));if(null!=l.dangerouslySetInnerHTML){if(null!=l.children)throw Error(i(60));if("object"!=typeof l.dangerouslySetInnerHTML||!("__html"in l.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=l.style&&"object"!=typeof l.style)throw Error(i(62,""))}for(_ in l=a,c=this.makeStaticMarkup,u=1===this.stack.length,p="<"+e.type,l)if(be.call(l,_)){var h=l[_];if(null!=h){if("style"===_){d=void 0;var f="",m="";for(d in h)if(h.hasOwnProperty(d)){var g=0===d.indexOf("--"),y=h[d];if(null!=y){if(g)var b=d;else if(b=d,ye.hasOwnProperty(b))b=ye[b];else{var v=b.replace(ue,"-$1").toLowerCase().replace(pe,"-ms-");b=ye[b]=v}f+=m+b+":",m=d,f+=g=null==y||"boolean"==typeof y||""===y?"":g||"number"!=typeof y||0===y||le.hasOwnProperty(m)&&le[m]?(""+y).trim():y+"px",m=";"}}h=f||null}d=null;e:if(g=s,y=l,-1===g.indexOf("-"))g="string"==typeof y.is;else switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":g=!1;break e;default:g=!0}g?ve.hasOwnProperty(_)||(d=A(d=_)&&null!=h?d+'="'+N(h)+'"':""):d=z(_,h),d&&(p+=" "+d)}}c||u&&(p+=' data-reactroot=""');var _=p;l="",se.hasOwnProperty(s)?_+="/>":(_+=">",l="</"+e.type+">");e:{if(null!=(c=a.dangerouslySetInnerHTML)){if(null!=c.__html){c=c.__html;break e}}else if("string"==typeof(c=a.children)||"number"==typeof c){c=N(c);break e}c=null}return null!=c?(a=[],fe.hasOwnProperty(s)&&"\n"===c.charAt(0)&&(_+="\n"),_+=c):a=de(a.children),e=e.type,r=null==r||"http://www.w3.org/1999/xhtml"===r?ie(e):"http://www.w3.org/2000/svg"===r&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":r,this.stack.push({domNamespace:r,type:s,children:a,childIndex:0,context:t,footer:l}),this.previousWasTextNode=!1,_},e}(),Pe={renderToString:function(e){e=new Se(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new Se(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw Error(i(207))},renderToStaticNodeStream:function(){throw Error(i(208))},version:"16.14.0"};e.exports=Pe.default||Pe},97762:function(e,t,r){"use strict";r(38698)},68254:function(e){"use strict";var t=Math.floor(1099511627776*Math.random()).toString(16),r=new RegExp('"@__(F|R|D|M|S)-'+t+'-(\\d+)__@"',"g"),n=/\{\s*\[native code\]\s*\}/g,o=/function.*?\(/,i=/.*?=>.*?/,s=/[<>\/\u2028\u2029]/g,a=["*","async"],l={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};function c(e){return l[e]}e.exports=function e(l,u){u||(u={}),"number"!=typeof u&&"string"!=typeof u||(u={space:u});var p,d=[],h=[],f=[],m=[],g=[];return"string"!=typeof(p=u.isJSON&&!u.space?JSON.stringify(l):JSON.stringify(l,u.isJSON?null:function(e,r){if(!r)return r;var n=this[e],o=typeof n;if("object"===o){if(n instanceof RegExp)return"@__R-"+t+"-"+(h.push(n)-1)+"__@";if(n instanceof Date)return"@__D-"+t+"-"+(f.push(n)-1)+"__@";if(n instanceof Map)return"@__M-"+t+"-"+(m.push(n)-1)+"__@";if(n instanceof Set)return"@__S-"+t+"-"+(g.push(n)-1)+"__@"}return"function"===o?"@__F-"+t+"-"+(d.push(n)-1)+"__@":r},u.space))?String(p):(!0!==u.unsafe&&(p=p.replace(s,c)),0===d.length&&0===h.length&&0===f.length&&0===m.length&&0===g.length?p:p.replace(r,(function(t,r,s){return"D"===r?'new Date("'+f[s].toISOString()+'")':"R"===r?h[s].toString():"M"===r?"new Map("+e(Array.from(m[s].entries()),u)+")":"S"===r?"new Set("+e(Array.from(g[s].values()),u)+")":function(e){var t=e.toString();if(n.test(t))throw new TypeError("Serializing native function: "+e.name);if(o.test(t))return t;if(i.test(t))return t;var r=t.indexOf("("),s=t.substr(0,r).trim().split(" ").filter((function(e){return e.length>0}));return s.filter((function(e){return-1===a.indexOf(e)})).length>0?(s.indexOf("async")>-1?"async ":"")+"function"+(s.join("").indexOf("*")>-1?"*":"")+t.substr(r):t}(d[s])})))}},52404:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".VJ6xp>*{display:none!important}",""]),n.locals={childHide:"VJ6xp"},e.exports=n},8293:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".e\\+RR3{position:relative}.Xh9cD{pointer-events:auto;transform:translateZ(0)}.SQFZa{width:3.75rem;height:.74rem;font-size:.12rem}.WERdK{position:relative;-webkit-overflow-scrolling:touch;background:#fff}.ww3bt,.WERdK{width:3.75rem;height:.38rem}.ww3bt{font-size:.14rem;background:linear-gradient(0deg,hsla(0,0%,100%,0),hsla(0,0%,100%,0) 1px,#fff 0,#fff);opacity:1}.bciYz{position:absolute;bottom:.4rem;left:.12rem;width:3.51rem;height:1px}.QlOnO{position:relative;width:100%;height:100%;display:flex;justify-content:flex-start;align-items:flex-start;flex-direction:row;flex-wrap:nowrap;overflow-x:auto;overflow-y:visible;z-index:10}.QlOnO::-webkit-scrollbar{display:none}.u1StJ{position:absolute;bottom:0;left:0;width:100%;height:1px;border-bottom:1px solid rgba(0,0,0,.04);z-index:0}.wIN-d{flex-shrink:0;flex-basis:1;height:100%;position:relative}.wIN-d:first-child{padding-left:.06rem}.wIN-d:last-child{padding-right:.06rem}.mQ\\+Lt{width:.67rem}.jANY2,.mQ\\+Lt{position:relative;height:100%}.jANY2{padding:0 .1rem}.jANY2 .mxKHE{min-width:.64rem}.DGnbs{position:relative;padding:0 .1rem;height:100%}.DGnbs .mxKHE{min-width:.3rem}.KMqVh{position:relative;height:100%}.KMqVh ._29J4I{width:.8rem}.axIN9{position:relative;min-width:.3rem;padding:0 .1rem;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:row}.gCAVP{margin:0 auto;padding-bottom:.05rem;width:.45rem;height:.5rem}.cHEAV{width:.45rem;height:.45rem;border-radius:50%}.mxKHE{margin:0 auto;width:-webkit-fit-content;width:fit-content;height:100%;line-height:normal;text-align:center;font-size:.15rem;color:#151516;overflow:hidden;word-break:break-all;display:flex;justify-content:center;align-items:center;flex-direction:row}.\\+8ql3,.mxKHE{position:relative}.\\+8ql3{font-weight:700;color:#e02e24;border-bottom:2px solid #e02e24;border-top:2px solid transparent}._29J4I{position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:.48rem;height:2px;background-color:#e02e24;z-index:2}.mbVK\\+{opacity:0;pointer-events:none}.JzuWc{min-width:.2rem;height:.15rem;position:absolute;top:.02rem;left:calc(100% - .1rem);z-index:2;background:#ec1107;padding:0 .03rem;border-radius:.07rem .07rem .07rem .01rem;white-space:nowrap}",""]),n.locals={wrapper:"e+RR3",stickyListWrapper:"Xh9cD",tabList:"SQFZa",tabListV2:"WERdK",stickyList:"ww3bt",sentinel:"bciYz",list:"QlOnO",border:"u1StJ",item:"wIN-d",tab:"mQ+Lt",stickyTab:"jANY2",text:"mxKHE",shortTab:"DGnbs",stickyImgTab:"KMqVh",line:"_29J4I",stickyRichRowTab:"axIN9",image:"gCAVP",icon:"cHEAV",active:"+8ql3",hide:"mbVK+",tabRedRichRow:"JzuWc"},e.exports=n},32289:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.ufHwZ{right:0;top:50%;transform:translateY(-50%);width:.8rem;height:.3rem;line-height:.3rem;text-align:center;font-size:.14rem;position:absolute;border-radius:4px;border:none!important;color:#e02e24;background-color:transparent;border-radius:.04rem}.ufHwZ:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;transform-origin:0 0;pointer-events:none;transform:scale(.5);box-sizing:border-box;border:1px solid #e02e24;border-radius:8px}.J2iG5{color:rgba(224,46,36,.6)}',""]),n.locals={subscribe:"ufHwZ",active:"J2iG5"},e.exports=n},37477:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.VpIQJ .sjAK1{background:#fff;margin-bottom:0;position:relative;border:none!important}.VpIQJ .sjAK1:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;transform-origin:0 0;pointer-events:none;transform:scale(.5);box-sizing:border-box;border-bottom:1px solid rgba(0,0,0,.05)}.VpIQJ .zAyVM{background:#fff;margin-bottom:0;height:.4rem;padding:.12rem 0 .12rem .08rem;width:3.59rem;overflow-x:auto;overflow-y:hidden}.VpIQJ .zAyVM::-webkit-scrollbar{display:none}',""]),n.locals={waistContainer:"VpIQJ",wrapper:"sjAK1",wrapperV6:"zAyVM"},e.exports=n},80039:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".K3fGL{width:.48rem;height:.79rem;margin-right:.11rem;padding-top:.06rem}.K3fGL:nth-child(6n){margin-right:0}.vvkQr{width:.48rem;height:.48rem;margin-bottom:.06rem}.ZC4zL{font-size:.13rem;line-height:.13rem;height:.13rem;color:#000;max-width:.48rem;text-align:center;white-space:nowrap;overflow:hidden}",""]),n.locals={itemWrapper:"K3fGL",iconImage:"vvkQr",iconText:"ZC4zL"},e.exports=n},67504:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"._4ytm6{padding:0 .08rem;width:100%;display:flex;justify-content:space-between;align-items:center;flex-direction:row;flex-wrap:wrap;background-color:#fff}",""]),n.locals={wrapper:"_4ytm6"},e.exports=n},25862:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".cWtUj{width:3.59rem;margin:.04rem .08rem;padding:.06rem 0;background-color:#fff;border-radius:.08rem;overflow:hidden}",""]),n.locals={activityModule:"cWtUj"},e.exports=n},61744:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".MYdnF{flex-shrink:0;display:flex;justify-content:flex-start;align-items:center;flex-direction:row;height:.18rem;line-height:normal;color:#fff;font-size:.12rem}@supports not (-webkit-overflow-scrolling:auto){@media(-webkit-max-device-pixel-ratio:2.5){.MYdnF{transform:translateY(-.01rem)}}}._3Fade{width:.18rem;height:.18rem}",""]),n.locals={wrap:"MYdnF",icon:"_3Fade"},e.exports=n},20303:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.a2FM7{width:100%;height:.66rem;padding:.1rem .16rem;background:#fff;position:relative;border:none!important}.a2FM7:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;transform-origin:0 0;pointer-events:none;transform:scale(.5);box-sizing:border-box;border-bottom:1px solid rgba(0,0,0,.05)}.bdBBv{width:100%;height:.58rem;padding:.06rem .16rem;background:#fff}.O34Gi{width:100%;height:100%;background:#fdefee;border-radius:.08rem;padding:.06rem .12rem;display:flex;justify-content:space-between;align-items:center;flex-direction:row}',""]),n.locals={wrapper:"a2FM7",wrapperV6:"bdBBv",content:"O34Gi"},e.exports=n},2118:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.dsTZr{width:100%;height:.66rem;padding:.1rem .16rem;background:#fff;position:relative;border:none!important}.dsTZr:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;transform-origin:0 0;pointer-events:none;transform:scale(.5);box-sizing:border-box;border-bottom:1px solid rgba(0,0,0,.05)}.N\\+6pA{width:100%;height:.58rem;padding:.06rem .16rem;background:#fff}.ASgWR{height:100%;background:#fdefee;border-radius:.08rem;padding:.06rem .12rem;display:flex;justify-content:flex-start;align-items:center;flex-direction:row}.ASgWR,._7HeJq{width:100%}',""]),n.locals={wrapper:"dsTZr",wrapperV6:"N+6pA",content:"ASgWR",richText:"_7HeJq"},e.exports=n},53319:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.M6d2l{display:flex;justify-content:center;align-items:flex-end;flex-direction:column;position:relative;padding-left:.16rem;padding-top:1px;flex-shrink:0;width:.38rem;height:39px}.N85UF{margin-bottom:5px;height:20px}.N85UF,.j8Pdx{width:.22rem;text-align:center}.j8Pdx{font-size:12px;line-height:12px;white-space:nowrap}.VgKnL:before{content:"";font-size:.22rem;font-size:22px}.VgKnL:before,._18DuC:before{color:inherit;font-family:vgt;line-height:1;font-weight:400;-webkit-font-smoothing:antialiased}._18DuC:before{content:"";font-size:.22rem;font-size:22px}',""]),n.locals={iconWrap:"M6d2l",iconContent:"N85UF",iconText:"j8Pdx",iconOrder:"VgKnL",iconShare:"_18DuC"},e.exports=n},91903:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.bSha5{width:100%;height:88px;padding-top:42px}._1swYf{position:fixed;left:0;max-width:768px;color:#fff;z-index:202}@media only screen and (min-width:768px){._1swYf{left:calc(50% - 384px)!important}}.-zib\\+{position:relative;height:100%}.tq2Px{top:0;position:fixed;left:0;max-width:768px;width:3.75rem;z-index:203;pointer-events:none}@media only screen and (min-width:768px){.tq2Px{left:calc(50% - 384px)!important}}.tq2Px .BpDEx{background:#ededed}.bp1PU{color:#58595b;background-color:#fff}.V\\+Xbm{position:relative;border:none!important;z-index:-1}.V\\+Xbm:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;transform-origin:0 0;pointer-events:none;transform:scale(.5);box-sizing:border-box;border-bottom:1px solid rgba(0,0,0,.08)}.F51UC{position:relative}.QXr9D{background:#fff;overflow:hidden;position:absolute;left:0;top:-2px;width:100%;z-index:-1;max-height:100%}._2PJDE{left:.12rem;justify-content:flex-start;height:22px}._2PJDE,.NJKxK{position:absolute;top:50%;transform:translateY(-50%);display:flex;align-items:center;flex-direction:row}.NJKxK{right:.16rem;justify-content:flex-end;height:39px}.nnjK4{height:.24rem;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}._4p9VU{line-height:1}._4p9VU:before{content:"";font-size:.24rem;color:unset;font-family:vgt;line-height:1;font-weight:400;-webkit-font-smoothing:antialiased}.koiy\\+,.koiy\\+:before{line-height:1}.koiy\\+:before{content:"";font-size:.24rem;color:unset;font-family:vgt;font-weight:400;-webkit-font-smoothing:antialiased}',""]),n.locals={nav:"bSha5",absolutePart:"_1swYf",contentWrap:"-zib+",stickyPart:"tq2Px",searchWarp:"BpDEx",stickyNavBg:"bp1PU",border:"V+Xbm",itemsWrap:"F51UC",stickyItemsBg:"QXr9D",leftButtons:"_2PJDE",rightButtons:"NJKxK",logo:"nnjK4",share:"_4p9VU",back:"koiy+"},e.exports=n},5070:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".\\+Angn{position:relative;width:3.75rem;height:88px;background-color:transparent}._4smbp{top:0;position:fixed;left:0;max-width:768px;width:3.75rem;z-index:203;pointer-events:none}@media only screen and (min-width:768px){._4smbp{left:calc(50% - 384px)!important}}.wZPR\\+{background:#fff;overflow:hidden;position:absolute;left:0;top:-2px;width:100%;z-index:-1;max-height:100%}",""]),n.locals={placeholder:"+Angn",stickyPart:"_4smbp",stickyBg:"wZPR+"},e.exports=n},11998:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".BWx1o{position:relative;width:3.75rem;height:.85rem;background-color:#e02e24}.BWx1o .XY2Q3{bottom:.17rem;height:.21rem;display:flex;justify-content:center;align-items:center;flex-direction:row}.pOopx,.BWx1o .XY2Q3{position:absolute;left:0;width:100%}.pOopx{bottom:0;object-fit:contain}.RA0sG{line-height:normal}",""]),n.locals={wrapper:"BWx1o",text:"XY2Q3",bg:"pOopx",item:"RA0sG"},e.exports=n},48557:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"._78wxU{width:3.75rem;height:.85rem}",""]),n.locals={content:"_78wxU"},e.exports=n},31848:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".FHyBD{width:3.75rem;height:.85rem;padding-top:.27rem;background-color:#e02e24;background-image:url(https://funimg.pddpic.com/vgt/ce66a77f-2bec-44aa-89df-e767c2cb83de.png.slim.png);background-repeat:no-repeat;background-size:100% auto}.wlIc6{display:flex;justify-content:center;align-items:center;flex-direction:row;width:100%;height:.42rem}.wlIc6 .zE\\+L1{width:.22rem;height:.42rem}.wlIc6 .QmUN0{width:.1rem}.wlIc6 .V0N-m{width:.08rem}.\\+NwVj{width:1.51rem}.I4FnX{width:2.52rem}.K7g4Y,.J1X9N{width:.27rem}.H61SF{width:.13rem;height:.13rem;margin-left:.04rem}",""]),n.locals={content:"FHyBD",title:"wlIc6",number:"zE+L1",number_1:"QmUN0",number_dot:"V0N-m",titleLeftImage:"+NwVj",titleImage:"I4FnX",font:"K7g4Y",unit:"J1X9N",helpIcon:"H61SF"},e.exports=n},75390:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".ItSfV{position:relative;width:3.75rem}",""]),n.locals={wrapper:"ItSfV"},e.exports=n},50781:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'._7rfcO{position:relative;width:100%;height:2.2rem}._7tPbO{position:absolute;left:.7rem;margin:auto;bottom:0;width:2.35rem;height:.59rem;z-index:1;padding-bottom:.06rem;font-size:.19rem;color:#fff;font-weight:700;text-align:center;text-shadow:0 .01rem 0 rgba(237,0,52,.5);line-height:.19rem;opacity:1;animation:KAHh3 .1s linear;display:flex;justify-content:center;align-items:center;flex-direction:row;background-image:url(https://funimg.pddpic.com/vgt/f48515c9-32d7-4d49-b8ad-6d61fb96a152.png);background-repeat:no-repeat;background-size:100% auto}@keyframes KAHh3{0%{opacity:0}to{opacity:1}}.N5fz6{position:relative;width:3.75rem;height:2.2rem;z-index:1}.zpEuY{position:absolute;top:.05rem;left:.13rem;width:2.04rem;height:.39rem;pointer-events:none;animation:bhff3 1.76s linear 0s infinite normal none;background-image:url(https://funimg.pddpic.com/vgt/e9e25b65-1a2b-43a4-935a-d585bd79e500.png.slim.png);background-repeat:no-repeat;background-size:100% auto}@keyframes bhff3{0%{transform:translateZ(0) scale(1);opacity:0}18.18%{transform:translate3d(0,-.01rem,0) scale(.99);opacity:.5}20.45%{transform:translate3d(0,-.03rem,0) scale(.98);opacity:1}56.81%{transform:translate3d(0,-.33rem,0) scale(.86);opacity:1}59.09%{transform:translate3d(0,-.35rem,0) scale(.86);opacity:.75}61.36%{transform:translate3d(0,-.37rem,0) scale(.85);opacity:.5}63.63%{transform:translate3d(0,-.39rem 0) scale(.84);opacity:.25}65.9%{transform:translate3d(0,-.41rem,0) scale(.84);opacity:.01}to{transform:translate3d(0,-.41rem,0) scale(.84);opacity:.01}}.UeQr\\+{position:absolute;top:-.15rem;left:.08rem;width:2.13rem;height:.82rem;pointer-events:none;transform:translate(0) rotate(0) scale(.16);animation:rfg6F 1.76s steps(1) 0s infinite normal none;background-image:url(https://funimg.pddpic.com/vgt/98b6828e-98a6-41bf-99c7-8be0dec42cba.png.slim.png);background-repeat:no-repeat;background-size:100% auto}@keyframes rfg6F{0%{transform:scale(.16)}15.9%{transform:scale(.2)}18.18%{transform:scale(.24)}20.45%{transform:scale(.29)}22.72%{transform:scale(.33)}25%{transform:scale(.38)}27.27%{transform:scale(.42)}29.54%{transform:scale(.46)}31.81%{transform:scale(.51)}34.09%{transform:scale(.55)}36.36%{transform:scale(.6)}38.63%{transform:scale(.64)}40.9%{transform:scale(.69)}43.18%{transform:scale(.73)}45.45%{transform:scale(.77)}47.72%{transform:scale(.82)}50%{transform:scale(.86)}52.27%{transform:scale(.91)}54.54%{transform:scale(.95)}56.81%{transform:scale(1)}to{transform:scale(1)}}._5AxIo{position:absolute;right:0;top:.1rem;width:.21rem;height:.77rem;font-size:.12rem;padding:.05rem .03rem 0 .06rem;z-index:1;color:#fff;line-height:.14rem;background-image:url(https://funimg.pddpic.com/vgt/bcc93e79-c6a2-457a-93ee-46441d3148ba.png.slim.png);background-repeat:no-repeat;background-size:100% auto}.hcNpV{height:.33rem;position:relative;border:none!important}.hcNpV:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;transform-origin:0 0;pointer-events:none;transform:scale(.5);box-sizing:border-box;border-bottom:1px solid hsla(0,0%,100%,.5)}.oOQq2{margin-top:.05rem}',""]),n.locals={bannerContent:"_7rfcO",packetBtn:"_7tPbO",btnAnimation:"KAHh3",video:"N5fz6",lightPot:"zpEuY",EHXZ_AniKey4:"bhff3",lightCircle:"UeQr+",EHXZ_AniKey3:"rfg6F",ruleRecords:"_5AxIo",rules:"hcNpV",records:"oOQq2"},e.exports=n},48487:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".CuHGU{display:flex;justify-content:flex-start;align-items:center;flex-direction:row;position:relative;padding:0 .16rem .02rem;width:3.75rem;height:.34rem;color:#fff}.PATxC{top:-1px}.\\+tDLi,.PATxC{position:absolute;left:0;width:100%;height:2px;z-index:-1}.\\+tDLi{bottom:-1px}.hsXHb{display:flex;justify-content:flex-start;align-items:center;flex-direction:row;line-height:normal}._8MtYS{width:.18rem;height:.18rem;margin-right:.03rem;flex-shrink:0}.VhA1e{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;font-size:.14rem;flex-shrink:1}.ZK6iq{margin:0 .06rem;width:1px;height:.12rem;background-color:#fff;opacity:.3;flex-shrink:0}.i33tB{font-size:.12rem;flex-shrink:0}._7ggy6{margin-left:.04rem;width:.06rem;flex-shrink:0}.o6QsX{margin:0 .08rem;flex:1}.xuJrP{margin:0 .1rem;font-size:.13rem}",""]),n.locals={wrap:"CuHGU",wrapBefore:"PATxC",wrapAfter:"+tDLi",left:"hsXHb",mallIcon:"_8MtYS",storeName:"VhA1e",line:"ZK6iq",changeText:"i33tB",arrowIcon:"_7ggy6",placeholder:"o6QsX",clear:"xuJrP"},e.exports=n},42893:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".hIlV0{overflow:hidden;width:3.75rem;min-height:.36rem;background:#fff5b2;padding:.08rem .12rem}.hIlV0 .jHRdy{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;max-height:.4rem}.hIlV0 .qro7e{font-size:.14rem;line-height:normal}",""]),n.locals={wrapper:"hIlV0",richTexts:"jHRdy",richTextItem:"qro7e"},e.exports=n},86066:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"._35LS6{background-image:linear-gradient(0deg,rgba(249,19,60,0),rgba(249,21,60,.22) 5%,#f22b41 16%,#e02e24 73%)}.-kZLn{height:0;width:100%;position:relative}.-kZLn .RfaaG{background:cover}.P4bHG,.-kZLn .RfaaG{position:absolute;width:100%;bottom:0;z-index:-1}.P4bHG{height:100vh}",""]),n.locals={homeTopClx:"_35LS6",topBgImage:"-kZLn",imageClx:"RfaaG",bgPlaceHolder:"P4bHG"},e.exports=n},32184:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.pIjji{overflow:hidden;background-color:#f4f4f4}.pIjji .infinite-list-wrapper{padding-bottom:.4rem}.pIjji .infinite-list-wrapper .go-top-show{bottom:1.4rem;z-index:202}@media only screen and (min-device-height:812px){.pIjji .infinite-list-wrapper .go-top-show{bottom:calc(1.4rem + constant(safe-area-inset-bottom));bottom:calc(1.4rem + env(safe-area-inset-bottom))}}.pIjji .infinite-list-wrapper .downloader-container{position:absolute;left:0;right:0;bottom:0}._2trov{border-radius:.12rem}.heDD7{height:0}.g1TBZ{position:relative;height:1.87rem;background-color:#fff;width:3.75rem;height:1.99rem}.g1TBZ:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:linear-gradient(90deg,#f8f8f8,#f8f8f8),linear-gradient(90deg,#f8f8f8,#f8f8f8),linear-gradient(90deg,#f8f8f8,#f8f8f8),linear-gradient(90deg,#f8f8f8,#f8f8f8),linear-gradient(90deg,#f8f8f8,#f8f8f8),linear-gradient(90deg,#f8f8f8,#f8f8f8);background-size:1.68rem 1.68rem,1.67rem .18rem,1.67rem .18rem,.49rem .18rem,.86rem .3rem,3.59rem 1px;background-position:bottom .16rem left .16rem,bottom 1.66rem right .16rem,bottom 1.42rem right .16rem,bottom .21rem right 1.34rem,bottom .15rem right .16rem,bottom 0 right 0;background-repeat:no-repeat}',""]),n.locals={root:"pIjji",hasRadius:"_2trov",placeholderAnchor:"heDD7",placeholder:"g1TBZ"},e.exports=n},62288:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".scq8b .TvgEK{min-width:.86rem}._23bRK{position:absolute;right:0;top:0;width:.86rem;height:.3rem;line-height:.3rem;font-size:.14rem;text-align:center;color:#fff;border-radius:.04rem;background-color:#d2d2d2}",""]),n.locals={wrapper:"scq8b",presellAddButton:"TvgEK",inaccessibleCartButton:"_23bRK"},e.exports=n},16297:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"._0cjdz{width:3.75rem;display:flex;justify-content:space-between;padding:.1rem .16rem .12rem;background-color:#fff}._9DBpx{height:2.06rem}._9DBpx:first-child{margin-bottom:.1rem}",""]),n.locals={promotionCrossModule:"_0cjdz",rightContent:"_9DBpx"},e.exports=n},72297:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".islider-outer{display:block;position:relative;list-style:none;margin:0;padding:0;height:100%;width:100%;overflow:hidden}.islider-outer>li{position:absolute;top:0;left:0;margin:0;padding:0;width:100%;height:100%;list-style:none;overflow:hidden;display:flex;justify-content:center;align-items:center}.islider-outer>li>img{display:block;width:100%}.islider-outer>li>div>img{width:3.75rem}.islider-img>img{max-width:100%;max-height:100%}.islider-sliding{z-index:0}.islider-sliding-focus{z-index:1}.islider-btn-outer{position:absolute;width:3em;height:3em;cursor:pointer;top:0;bottom:0;margin:auto 0;display:block;background-color:#777}.islider-btn-outer.left{left:5%}.islider-btn-outer.right{right:5%}.islider-btn-inner{position:absolute;width:50%;height:50%;border-top:2px solid #fff;border-left:2px solid #fff;margin:auto;top:0;bottom:0;left:0;right:0}.islider-btn-outer.left>.islider-btn-inner{transform:rotate(-45deg)}.islider-btn-outer.right>.islider-btn-inner{transform:rotate(135deg)}.islider-dot-wrap{width:80%;height:10%;margin:0 auto;position:absolute;padding:0;left:0;right:0;bottom:0;z-index:10000;text-align:center}.rp-islider-dot-wrap{width:100%;height:6px;margin:0;position:absolute;padding:0 .16rem 0 0;left:0;right:0;bottom:10px;z-index:10000;text-align:right}.rp-islider-dot{position:relative;display:inline-block;width:6px;height:6px;border-radius:50%;background:#fff;list-style:none;margin:0 0 .06rem .06rem}.rp-islider-dot.active{background-color:#e02e24}.islider-dot{position:relative;display:inline-block;width:10px;height:10px;border-radius:100%;background:#fff;list-style:none;margin:5px}.islider-dot.active{background-color:red}#_7YnqS{position:relative}.tGivT{box-sizing:content-box;text-align:center;position:absolute;right:.12rem;bottom:.14rem;height:.18rem;line-height:.18rem;color:#fff;font-size:.13rem;padding:0 .05rem;border-radius:.09rem;background-color:rgba(0,0,0,.341)}._21xgJ li{overflow:hidden!important}._8VKSf{bottom:.62rem}",""]),n.locals={banner:"_7YnqS",bannerIndex:"tGivT",goodsBanner:"_21xgJ",hasBpBotom:"_8VKSf"},e.exports=n},10887:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".o5Zl2{width:.54rem;height:.54rem;margin-left:.08rem}.\\+d480{display:flex;flex-direction:column;background-color:transparent;width:.78rem;height:.93rem}.NdFaC{width:.7rem;height:.7rem;background-color:#fff;margin:.04rem;border-radius:.04rem;overflow:hidden}.PYkvj{width:100%;line-height:.12rem;height:.12rem;overflow:hidden;white-space:nowrap;margin-top:.01rem;display:flex;justify-content:center;align-items:center;flex-direction:row;font-size:.12rem;font-weight:700;text-align:center;color:#fff}.Pz1pB{margin-top:-.01rem}.sqT8k{width:100%;line-height:.13rem;height:.13rem;overflow:hidden;color:#e02e24;font-weight:700;display:flex;justify-content:center;align-items:center;flex-direction:row;font-size:.13rem;text-align:center;z-index:1;margin-top:.01rem}",""]),n.locals={goodsImg:"o5Zl2",goodsWrapper:"+d480",goodsTop:"NdFaC",goodsTag:"PYkvj",goodsTagV2:"Pz1pB",goodsPrice:"sqT8k"},e.exports=n},15609:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"._10mDh,.nlPUm{position:relative;width:3.75rem;height:1.94rem;background-image:url(https://funimg.pddpic.com/vgt/83659fa5-be90-4d47-871c-c8914ad7e89f.png);background-size:100% auto;background-size:3.75rem 1.94rem;background-repeat:no-repeat;padding-top:.74rem}.nlPUm{height:1.67rem;background-size:3.75rem 1.67rem;padding-top:.6rem;background-image:url(https://funimg.pddpic.com/vgt/28415380-88be-4317-b8a1-b0941f957eb9.png.slim.png);background-repeat:no-repeat;background-size:100% auto}.rKf0m,.uKyrX{position:absolute;top:.37rem;left:0;width:100%;height:.24rem;font-size:.2rem;color:#fff;font-weight:700;line-height:1;display:flex;justify-content:center;align-items:center;flex-direction:row}.uKyrX{top:.21rem}.vRC38{position:relative;width:.78rem;height:.93rem;border-radius:.04rem;overflow:hidden}._7EQ-3{position:absolute;top:.14rem;left:0;text-align:center;color:#fff;font-weight:700;width:100%;height:.24rem;line-height:normal;display:flex;justify-content:center;align-items:center;flex-direction:row}.NS6gh{font-size:.2rem;height:.24rem}._8Y-rs{font-size:.12rem;height:.24rem;line-height:.24rem;padding-top:.05rem}.Jt6-J{display:flex;justify-content:space-between;margin:0 .24rem}.V52AS{width:.77rem;height:.61rem;background:#fff}.WnOj1{width:.45rem;height:.45rem;margin-left:.16rem}",""]),n.locals={content:"_10mDh",contentV2:"nlPUm",subTitle:"rKf0m",subTitleV2:"uKyrX",packet:"vRC38",packetMoney:"_7EQ-3",price:"NS6gh",priceUnit:"_8Y-rs",goodsList:"Jt6-J",goods:"V52AS",goodsImg:"WnOj1"},e.exports=n},42476:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".o5Nrw,.IEsP\\+{position:relative;width:3.75rem;height:1.94rem;background-size:3.75rem 1.94rem;background-repeat:no-repeat;padding-top:.74rem}.IEsP\\+{height:1.67rem;background-size:3.75rem 1.67rem;background-repeat:no-repeat;padding-top:.6rem}.uPqVy{top:.13rem;height:.17rem;font-size:.12rem;color:#e20032}.xUmel,.n51fQ,.uPqVy{position:absolute;left:0;width:100%;font-weight:700;line-height:1;display:flex;justify-content:center;align-items:center;flex-direction:row}.xUmel,.n51fQ{top:.37rem;height:.24rem;font-size:.2rem;color:#fff}.n51fQ{top:.21rem}._5zqqI{display:flex;justify-content:space-between;margin:0 .24rem}",""]),n.locals={promotionInfo:"o5Nrw",promotionInfoV2:"IEsP+",title:"uPqVy",subTitle:"xUmel",subTitleV2:"n51fQ",goodsList:"_5zqqI"},e.exports=n},85560:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".cOmo3{position:relative;width:100%;width:3.75rem;overflow:hidden}.cOmo3 .carouse-slider-wrapper-item{position:relative;width:3.75rem;height:1.94rem}.cOmo3 .k8c0L{position:relative;width:3.75rem;height:1.94rem;background-size:contain;background-repeat:no-repeat;overflow:hidden}.TSK0n{position:relative;width:100%;width:3.75rem;overflow:hidden}.TSK0n .carouse-slider-wrapper-item{position:relative;width:3.75rem;height:1.67rem}.TSK0n .k8c0L{position:relative;width:3.75rem;height:1.67rem;background-size:contain;background-repeat:no-repeat;overflow:hidden}.iS349{position:relative;height:.03rem;width:100%;margin-bottom:.03rem;display:flex;justify-content:center;align-items:center;flex-direction:row}.yvoaU{width:.1rem;height:.03rem;background-color:#ccc;border-radius:.26rem}.yvoaU:first-child{margin-right:.04rem}.tW7S4{width:.2rem;height:.03rem;background-color:#e02e24}",""]),n.locals={promotionWindow:"cOmo3",slides:"k8c0L",promotionWindowV2:"TSK0n",bottomBar:"iS349",barItem:"yvoaU",activeBarItem:"tW7S4"},e.exports=n},6894:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"._31v1V{top:.68rem;position:fixed;left:0;max-width:768px;display:flex;justify-content:center;align-items:center;flex-direction:row;padding-right:.03rem;width:.53rem;height:.2rem;border-radius:0 .1rem .1rem 0;border:.5px solid hsla(0,0%,61%,.2);background-color:hsla(0,0%,100%,.2);color:rgba(0,0,0,.3);font-size:.11rem;pointer-events:auto;z-index:301;transition:.3s ease-in-out}@media only screen and (min-width:768px){._31v1V{left:calc(50% - 384px)!important}}",""]),n.locals={rules:"_31v1V"},e.exports=n},26991:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.sVsPC{height:.36rem;padding:0 .16rem;z-index:1;margin-bottom:-.08rem;background-color:#fff;display:flex;justify-content:space-between;align-items:center;flex-direction:row;position:relative;border:none!important}.sVsPC:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;transform-origin:0 0;pointer-events:none;transform:scale(.5);box-sizing:border-box;border-bottom:1px solid rgba(0,0,0,.04)}',""]),n.locals={newComerTitle:"sVsPC"},e.exports=n},70648:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'._0fxDF{position:relative}.DnH0R:before{content:"";height:4px;top:-2px;z-index:-1}.pBTIp,.DnH0R:before{width:100%;background-color:#fff}.pBTIp{display:flex;justify-content:flex-start;align-items:flex-start;flex-direction:row;padding:.04rem .12rem .08rem;flex-wrap:wrap}.nVa4t{flex-wrap:nowrap}.QVcQI{display:flex;justify-content:center;align-items:center;flex-direction:row;margin:.08rem .04rem 0;width:.8rem;height:.32rem;line-height:normal;color:#58595b;font-size:.13rem;background-color:#f4f4f4;border-radius:.02rem;flex-shrink:0;flex-grow:0}.QVcQI:nth-child(4n+2){margin:.08rem .03rem 0 .04rem}._1qTIu{color:#e02e24;background-color:#ffeeed;font-weight:700}.edaw6{opacity:0;pointer-events:none}',""]),n.locals={wrapper:"_0fxDF",sticky:"DnH0R",content:"pBTIp",singleLine:"nVa4t",subChannel:"QVcQI",active:"_1qTIu",hide:"edaw6"},e.exports=n},8411:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".QfQYy{position:relative;width:3.75rem;min-height:100vh}.a3TzJ{margin-top:-.08rem}.fYJTE{margin-top:-.4rem}.KwPOG{height:.08rem;background:#f4f4f4}.WMOa-{padding-top:.08rem;height:.48rem;background-color:#fff;margin-bottom:-.03rem}._2CWgB{width:3.75rem;height:.32rem;align-items:flex-end}._3GHOv,._2CWgB{background-color:#fff;position:relative;display:flex;justify-content:center;flex-direction:row}._3GHOv{align-items:center;width:100%;height:.19rem;font-size:.15rem;color:#e02e24;z-index:1}.Qfc7I{margin-right:.08rem;width:.19rem;height:.19rem}",""]),n.locals={wrapper:"QfQYy",hasSubChannel:"a3TzJ",recList:"fYJTE",blank:"KwPOG",titleWrapper:"WMOa-",titleContainer:"_2CWgB",title:"_3GHOv",titleIcon:"Qfc7I"},e.exports=n},96919:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".X4aY1{position:relative;min-height:100vh}.X4aY1 .infinite-list-wrapper{padding-bottom:.4rem}.X4aY1 .infinite-list-wrapper .go-top-show{bottom:1.4rem;z-index:202}@media only screen and (min-device-height:812px){.X4aY1 .infinite-list-wrapper .go-top-show{bottom:calc(1.4rem + constant(safe-area-inset-bottom));bottom:calc(1.4rem + env(safe-area-inset-bottom))}}.X4aY1 .infinite-list-wrapper .downloader-container{position:absolute;left:0;right:0;bottom:0}._8dAtq{position:relative}",""]),n.locals={wrapper:"X4aY1",moduleEntry:"_8dAtq"},e.exports=n},13708:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".TpPVc{position:relative;padding-top:0;background-color:#fff}.z6jrg{width:100%;height:.08rem;background:transparent}",""]),n.locals={content:"TpPVc",moduleGap:"z6jrg"},e.exports=n},39173:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"*{border:0;-webkit-tap-highlight-color:transparent;outline:0;margin:0;padding:0}*,:after,:before{box-sizing:border-box}html{-webkit-text-size-adjust:100%;text-size-adjust:100%}body,html{width:100%;height:100%;font-family:PingFang SC,miui,system-ui,-apple-system,BlinkMacSystemFont,Helvetica Neue,Helvetica,sans-serif}body{margin:0}blockquote,body,button,dd,dl,dt,fieldset,form,h1,h2,h3,h4,h5,h6,hr,input,legend,li,ol,p,pre,td,textarea,th,ul{vertical-align:baseline;border:0;list-style:none outside none}em,i{font-style:normal}ol,ul{list-style:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{color:#333;background-color:transparent;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}a:active,a:hover,a:visited{text-decoration:none;outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub{bottom:-.25em}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}img{border:0;max-width:100%;width:auto;height:auto;vertical-align:top}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0;resize:none}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}@media only screen and (max-width:480px){html{font-size:128px}}@media only screen and (max-width:414px){html{font-size:110.4px}}@media only screen and (max-width:412px){html{font-size:109.8666666667px}}@media only screen and (max-width:400px){html{font-size:106.6666666667px}}@media only screen and (max-width:393px){html{font-size:104.8px}}@media only screen and (max-width:375px){html{font-size:100px}}@media only screen and (max-width:360px){html{font-size:96px}}@media only screen and (max-width:345px){html{font-size:92px}}@media only screen and (max-width:320px){html{font-size:85.3333333333px}}html{-webkit-text-size-adjust:none;font-size:26.66667vw}@media only screen and (min-width:768px){html{font-size:204.8px}}._80bD2,div[contentEditable=true],input,p[contentEditable=true],textarea{-webkit-user-select:text;user-select:text}@font-face{font-family:icomoon;src:url(https://funimg.pddpic.com/fonts/iconfont_20180706.ttf);font-weight:400;font-style:normal;line-height:1}.O-ZdC{font-family:icomoon;font-style:normal;font-smoothing:antialiased}#MgsuO{height:100%;width:100%}.NHc-t{margin-left:auto;margin-right:auto;max-width:768px;background-color:#f2f2f2;color:#666;font-size:.12rem;line-height:1.4}.jCgSl{overflow:auto;-webkit-overflow-scrolling:touch}body,html{font-family:PingFangSC-Regular,STHeiti STXihei,Microsoft YaHei,Microsoft JhengHei,miui,system-ui}body{background:#f4f4f4;color:#666;font-size:12px;line-height:1.5;margin:auto;max-width:768px;-webkit-user-select:none;user-select:none}img{pointer-events:none}input{caret-color:#407cff}.NHc-t{position:relative;height:100%}.icon{font-family:icomoon;font-style:normal;-webkit-font-smoothing:antialiased}@font-face{font-family:vgt;src:url(https://funimg.pddpic.com/fonts/iconfont_vgt_20211020.ttf);font-weight:400;font-style:normal;line-height:1}.Fctgw,body{background-color:#f4f4f4}",""]),n.locals={"enable-select":"_80bD2",icon:"O-ZdC",main:"MgsuO","mobile-container":"NHc-t","native-scroll":"jCgSl","vgt-mall-list":"Fctgw"},e.exports=n},38565:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"._8Wx2C{display:flex;justify-content:space-between;align-items:center;flex-direction:column;height:.72rem}._8Wx2C,.NKt\\+A{position:relative;width:.51rem}.NKt\\+A,.Tpil2{height:.51rem}.Tpil2{width:.51rem;background-color:#f8f8f8;border-radius:.16rem}.r52vq{border-radius:.16rem;overflow:hidden}.fxEVx{white-space:nowrap;height:.17rem}.U5kQY{display:flex;justify-content:center;align-items:center;flex-direction:row;font-weight:bolder;font-size:.12rem;line-height:normal;color:#151516}",""]),n.locals={multiEntry:"_8Wx2C",multiIcon:"NKt+A",multiImg:"Tpil2",multiImgRadius:"r52vq",multiTitle:"fxEVx",multiTitleText:"U5kQY"},e.exports=n},76640:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".xb-wA{min-width:.8rem;max-width:.94rem;height:.28rem;position:relative;background-color:#f5f5f5;border-radius:.14rem;padding-top:.06rem;padding-right:.08rem;margin-right:.08rem;white-space:nowrap}.J5t2G{height:.16rem;line-height:.16rem;max-width:.64rem;font-size:.12rem;font-weight:700;color:#000;white-space:nowrap;overflow:hidden;flex-shrink:1;margin-left:.24rem}.hwxLG{position:absolute;bottom:.03rem;left:.02rem;width:.22rem;height:.22rem;z-index:0}",""]),n.locals={fourItemEntry:"xb-wA",pickTxt:"J5t2G",icon:"hwxLG"},e.exports=n},72819:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".Ubarr{left:.38rem;min-width:.18rem;height:.18rem;line-height:.12rem;padding-top:.02rem;font-size:.12rem;color:#fff;background-color:#e02e24;border:1px solid #fff;border-top-left-radius:.18rem;border-top-right-radius:.18rem;border-bottom-right-radius:.18rem;text-align:center;white-space:nowrap;transform:scale(.9)}.UCQe9,.Ubarr{position:absolute;top:-.08rem}.UCQe9{left:.39rem}.UCQe9,._71GQR{width:.2rem;height:.2rem}.PyKhb{width:.16rem;height:.16rem}.EawV3{position:absolute;top:0;right:0;width:.09rem;height:.09rem;font-size:0;border-radius:.09rem;background-color:#e02e24}.k9w4x{right:-.02rem}.BWunw{position:absolute;width:.16rem;height:.16rem;top:-.06rem;right:-.08rem;transform:scale(1)}",""]),n.locals={tagContent:"Ubarr",tagBubble:"UCQe9",tagImg:"_71GQR",tagImageV6:"PyKhb",tagDot:"EawV3",tagDotV2:"k9w4x",tagContentV2:"BWunw"},e.exports=n},95935:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".gX8RO{display:flex;justify-content:space-between;align-items:center;flex-direction:row;height:.94rem;padding:.12rem .16rem .1rem;margin-bottom:.08rem;background:#fff}",""]),n.locals={wrapper:"gX8RO"},e.exports=n},18008:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".Sjktv{background:rgba(0,0,0,.8);border-radius:.04rem;position:fixed;left:.18rem;max-width:3rem;display:flex;justify-content:flex-start;align-items:center;flex-direction:row;padding:.04rem .07rem .04rem .08rem;z-index:203;transition:opacity .1s linear 0s;pointer-events:none}@media only screen and (min-width:768px){.Sjktv{left:calc(50% - 384px + .18rem)!important}}.lUAl-{background:rgba(0,0,0,.7);border-radius:.04rem;position:fixed;left:.16rem;max-width:3rem;display:flex;justify-content:flex-start;align-items:center;flex-direction:row;padding:.02rem .07rem .02rem .02rem;z-index:203;transition:opacity .1s linear 0s;pointer-events:none}@media only screen and (min-width:768px){.lUAl-{left:calc(50% - 384px + .16rem)!important}}.TSOZ8{flex-shrink:0;width:.24rem;height:.24rem;margin-right:.08rem;border-radius:50%}._5xU9m{flex-shrink:0;width:.28rem;height:.28rem;margin-right:.04rem;border-radius:.03rem}.kYFd9{font-size:.12rem;font-weight:400;color:#fff;line-height:normal;display:flex;justify-content:center;align-items:center;flex-direction:row;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}._6o5cG{visibility:hidden;pointer-events:none;position:absolute;left:-3rem}",""]),n.locals={box:"Sjktv",goodsBox:"lUAl-",avatar:"TSOZ8",goodsImage:"_5xU9m",text:"kYFd9",hiddenNextPreloadImage:"_6o5cG"},e.exports=n},88926:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.gRbZt{background-color:#000;color:#fff;width:100%;height:100%;position:relative}.x04eR{display:flex;justify-content:center;align-items:center;opacity:1}.OR1Tg{background-image:linear-gradient(-180deg,#000,transparent);top:0}.C-9PL,.OR1Tg{position:absolute;width:100%;height:18%;z-index:5}.C-9PL{background-image:linear-gradient(-180deg,transparent,#000);bottom:0;bottom:-.01rem}@media only screen and (min-device-height:812px){.C-9PL{bottom:calc(-.01rem + constant(safe-area-inset-bottom));bottom:calc(-.01rem + env(safe-area-inset-bottom))}}.\\+qvrs{z-index:10;position:absolute;bottom:-.01rem;flex-direction:column}.\\+qvrs,.\\+qvrs .Zqf0A{width:100%;display:flex;justify-content:center;align-items:center}.\\+qvrs .Zqf0A{flex-direction:row;padding-bottom:.2rem}.I0fYd{flex:1;padding-left:.12rem;align-items:flex-start;flex-direction:column}.I0fYd,.B8AMJ{display:flex;justify-content:center}.B8AMJ{width:.74rem;font-size:.14rem;align-items:center;flex-direction:row}.kXcZ7{font-size:.15rem;color:#fff;line-height:.21rem}.-Xd1Z{margin-top:.02rem}.WUqsL,.-Xd1Z{display:flex;justify-content:center;align-items:center;flex-direction:row}.WUqsL{position:relative;border:none!important;margin-right:.04rem;height:.16rem;padding:0 .04rem;font-size:.12rem;line-height:normal;color:#fff}.WUqsL:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;transform-origin:0 0;pointer-events:none;transform:scale(.5);box-sizing:border-box;border:1px solid hsla(0,0%,100%,.4);border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.-RsKA{font-size:.14rem;color:hsla(0,0%,100%,.7);margin-top:.03rem}.-RsKA ._439Yr{display:inline-block;line-height:.18rem}.-RsKA .QfCE6{display:inline-block;transform:scale(.7);height:.2rem;margin:0 .03rem 0 .04rem;color:hsla(0,0%,100%,.6)}.ema-g{display:flex;justify-content:center;align-items:center;flex-direction:row;background-color:#e02e24;position:absolute;right:.12rem;border-radius:.04rem;width:.52rem;height:.3rem;text-align:center;line-height:normal;color:#fff;font-size:.14rem}.tgQmA{width:100%;height:100%;object-fit:contain;opacity:0}.bAIiT{opacity:1}.eRIxW{width:100%;height:100%;position:absolute;display:flex;justify-content:center;align-items:center;flex-direction:row}.VW06-{color:#fff;position:absolute;top:45%;animation:tk0xq 1s linear infinite;background-size:contain;width:.35rem;height:.35rem;background-image:url(https://funimg.pddpic.com/vgt/2021-03-14/651f2cb1-07fa-4ba1-ac52-b558826c322c.png);background-repeat:no-repeat;background-size:100% auto}@keyframes tk0xq{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.n-j96{width:.6rem;height:.6rem;position:absolute;left:0;padding-right:.15rem;padding-left:.15rem;padding-top:.3rem;top:.3rem;z-index:10}.n-j96 .J7Jth{width:.13rem;height:.13rem;background-size:contain;background-image:url(https://funimg.pddpic.com/vgt/2021-03-14/b5608456-a927-4d0c-bab7-f5a8b051cb7c.png);background-repeat:no-repeat;background-size:100% auto}._3rlnu{background-color:#000;width:100%;height:"0px"}@media only screen and (min-device-height:812px){._3rlnu{height:calc(constant(safe-area-inset-bottom));height:calc(env(safe-area-inset-bottom))}}',""]),n.locals={bigImage:"gRbZt",showBigImage:"x04eR",gradientBgTop:"OR1Tg",gradientBg:"C-9PL",bottomArea:"+qvrs",bottomSub:"Zqf0A",bottomAreaLeft:"I0fYd",bottomAreaRight:"B8AMJ",storeName:"kXcZ7",tagContainer:"-Xd1Z",tag:"WUqsL",addressContainer:"-RsKA",distance:"_439Yr",line:"QfCE6",btn:"ema-g",bigImageStyle:"tgQmA",showBigImageStyle:"bAIiT",loadingContainer:"eRIxW",loading:"VW06-",spin:"tk0xq",closeContainer:"n-j96",close:"J7Jth",allBlack:"_3rlnu"},e.exports=n},56079:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.eOD6M{width:100%;text-align:center;line-height:0;margin-top:.72rem}.qFRj9{margin:0 auto;width:.72rem;height:.72rem}.\\-2g3Z{margin:.18rem auto 0;line-height:.21rem;color:#58595b;font-size:.15rem;text-align:center}._4f5Dz{margin:.3rem auto .16rem;font-size:.17rem}.b4Byl{display:flex;justify-content:center;align-items:center;flex-direction:row;margin:0 auto;width:2.5rem;height:.45rem;border-radius:.04rem;background-color:#e02e24;line-height:normal;color:#fff;font-size:.17rem}.b4Byl:active{color:#edbbb8!important;background-color:#c51e14!important}.V\\+nPu{position:relative;border:none!important;display:flex;justify-content:center;align-items:center;flex-direction:row;margin:.12rem auto 0;width:2.5rem;height:.45rem;border-radius:.04rem;font-size:.17rem;color:#e02e24;line-height:normal}.V\\+nPu:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;transform-origin:0 0;pointer-events:none;transform:scale(.5);box-sizing:border-box;border:1px solid #e02e24;border-radius:.08rem}.V\\+nPu:active{background-color:#f9d7d5!important}',""]),n.locals={empty:"eOD6M",logo:"qFRj9",tips:"-2g3Z",buttons:"_4f5Dz",select:"b4Byl",location:"V+nPu"},e.exports=n},25475:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"*{border:0;-webkit-tap-highlight-color:transparent;outline:0;margin:0;padding:0}*,:after,:before{box-sizing:border-box}html{-webkit-text-size-adjust:100%;text-size-adjust:100%}body,html{width:100%;height:100%;font-family:PingFang SC,miui,system-ui,-apple-system,BlinkMacSystemFont,Helvetica Neue,Helvetica,sans-serif}body{margin:0}blockquote,body,button,dd,dl,dt,fieldset,form,h1,h2,h3,h4,h5,h6,hr,input,legend,li,ol,p,pre,td,textarea,th,ul{vertical-align:baseline;border:0;list-style:none outside none}em,i{font-style:normal}ol,ul{list-style:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{color:#333;background-color:transparent;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}a:active,a:hover,a:visited{text-decoration:none;outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub{bottom:-.25em}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}img{border:0;max-width:100%;width:auto;height:auto;vertical-align:top}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0;resize:none}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input::-moz-focus-inner{border:0;padding:0}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}@media only screen and (max-width:480px){html{font-size:128px}}@media only screen and (max-width:414px){html{font-size:110.4px}}@media only screen and (max-width:412px){html{font-size:109.8666666667px}}@media only screen and (max-width:400px){html{font-size:106.6666666667px}}@media only screen and (max-width:393px){html{font-size:104.8px}}@media only screen and (max-width:375px){html{font-size:100px}}@media only screen and (max-width:360px){html{font-size:96px}}@media only screen and (max-width:345px){html{font-size:92px}}@media only screen and (max-width:320px){html{font-size:85.3333333333px}}html{-webkit-text-size-adjust:none;font-size:26.66667vw}@media only screen and (min-width:768px){html{font-size:204.8px}}._23cbZ,div[contentEditable=true],input,p[contentEditable=true],textarea{-webkit-user-select:text;user-select:text}@font-face{font-family:icomoon;src:url(https://funimg.pddpic.com/fonts/iconfont_20180706.ttf);font-weight:400;font-style:normal;line-height:1}.bP9RH{font-family:icomoon;font-style:normal;font-smoothing:antialiased}#HgKLK{height:100%;width:100%}.f7WeK{margin-left:auto;margin-right:auto;max-width:768px;background-color:#f2f2f2;color:#666;font-size:.12rem;line-height:1.4}.UKTbI{overflow:auto;-webkit-overflow-scrolling:touch}body,html{font-family:PingFangSC-Regular,STHeiti STXihei,Microsoft YaHei,Microsoft JhengHei,miui,system-ui}body{background:#f4f4f4;color:#666;font-size:12px;line-height:1.5;margin:auto;max-width:768px;-webkit-user-select:none;user-select:none}img{pointer-events:none}input{caret-color:#407cff}.f7WeK{position:relative;height:100%}.icon{font-family:icomoon;font-style:normal;-webkit-font-smoothing:antialiased}@font-face{font-family:vgt;src:url(https://funimg.pddpic.com/fonts/iconfont_vgt_20211020.ttf);font-weight:400;font-style:normal;line-height:1}.fcNkX{position:fixed;z-index:z(loading);width:100%;height:100vh;background:transparent}.i5HJD{position:absolute;top:40%;left:50%;transform:translateX(-50%) translateY(-50%);width:.52rem;height:.52rem}.i5HJD .O0V-A{margin:auto}.i5HJD .PTitq{font-size:.15rem;line-height:.21rem;color:#949494;text-align:center;margin-top:.06rem}",""]),n.locals={"enable-select":"_23cbZ",icon:"bP9RH",main:"HgKLK","mobile-container":"f7WeK","native-scroll":"UKTbI",downloaderContainer:"fcNkX",loaderContent:"i5HJD",loaderSpinner:"O0V-A",loaderText:"PTitq"},e.exports=n},56861:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.zy8MC{position:relative;z-index:1;height:.6rem;width:100%;background-color:#fff;padding:.12rem 0}._2gyY5{position:relative;border:none!important}._2gyY5:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;transform-origin:0 0;pointer-events:none;transform:scale(.5);box-sizing:border-box;border-top:1px solid rgba(0,0,0,.08)}.VCwSa{position:relative;margin:0 auto;width:3.51rem;height:.36rem;padding-left:.32rem;background-color:#ededed;border-radius:.08rem;display:flex;align-items:center;justify-content:flex-start}.hXi8k{width:.15rem;height:.15rem;position:absolute;top:.1rem;left:.11rem}.Hkmod{display:flex;justify-content:flex-start;align-items:center;flex-direction:row;margin-left:.03rem;font-size:.16rem;line-height:normal;color:#9c9c9c;text-align:left}',""]),n.locals={root:"zy8MC",rootHalfBorder:"_2gyY5",container:"VCwSa",searchIcon:"hXi8k",searchTip:"Hkmod"},e.exports=n},76177:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".nHo7O{margin-top:.04rem;padding-left:.84rem}.WBFB4{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}",""]),n.locals={reviewWrap:"nHo7O",reviewText:"WBFB4"},e.exports=n},15434:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".JBXzb{margin-top:.04rem;display:flex;justify-content:flex-start}.pBsE7{display:flex;justify-content:center;align-items:center;flex-direction:row;margin-right:.04rem;position:relative;height:.16rem;padding:0 .03rem;line-height:normal;box-sizing:content-box;border-radius:.02rem;white-space:nowrap;font-size:.12rem;font-weight:400;color:#e02e24}.ihlnW{display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;transform-origin:0 0;pointer-events:none;transform:scale(.5);box-sizing:border-box;border-radius:.04rem;border:.01rem solid #e02e24}.AZE5B{border:none}",""]),n.locals={storeTags:"JBXzb",tag:"pBsE7",border:"ihlnW",noBorder:"AZE5B"},e.exports=n},22856:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.WyyGy{background-color:#fff;position:relative;padding-bottom:.12rem;text-align:left}.QE-c4{display:flex;padding-top:.12rem;padding-left:.12rem;min-height:.77rem}.QE-c4.OWRu2{position:relative;border:none!important}.QE-c4.OWRu2:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;transform-origin:0 0;pointer-events:none;transform:scale(.5);box-sizing:border-box;border-top:1px solid rgba(0,0,0,.08)}.vAkWD{overflow:hidden;background-color:#fff;margin-right:.1rem;flex-shrink:0;width:.62rem;height:.62rem;border-radius:.02rem;border:.01rem solid rgba(0,0,0,.04);margin-top:.03rem}.-oX8U{width:.6rem;height:.6rem;border-radius:.02rem;object-fit:cover}.tWftH{margin-top:.02rem;width:100%;max-width:2.15rem}.-yAHe{width:2.15rem;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;color:#151516;font-size:.15rem;line-height:.21rem;letter-spacing:.003rem}.-yAHe+.xYY7t{margin-top:.04rem}.s7a-X{display:inline-block;line-height:.18rem;font-size:.14rem;color:#58595b}.\\+l29T{color:#e02e24}.aX9RZ{display:inline-block;transform:scale(.7);height:.2rem;margin:0 .03rem 0 .04rem;color:rgba(0,0,0,.2)}.u8z1Y{margin-top:.03rem;max-height:.6rem;overflow:hidden;position:relative}.u8z1Y.R5Pkg{overflow:initial;max-height:none}.a9gNb{font-size:.14rem;line-height:.2rem;color:#9c9c9c}.sinm3{position:absolute;bottom:0;right:0;height:.2rem;white-space:nowrap;display:flex;justify-content:flex-end;align-items:center;line-height:normal;font-size:.14rem;color:#9c9c9c;background-image:linear-gradient(90deg,hsla(0,0%,100%,0),#fff 46.6%,#fff)}.sinm3 .BaEsZ{width:.44rem;height:.15rem}.sinm3 .mdTVn{width:.12rem;height:.06rem}._0TuTZ{display:flex;justify-content:center;align-items:center;flex-direction:row;position:absolute;top:50%;right:.12rem;border-radius:.04rem;width:.52rem;height:.3rem;text-align:center;line-height:normal;color:#fff;font-size:.14rem;transform:translateY(-50%);background-color:#e02e24}._0TuTZ:active{color:#edbbb8!important;background-color:#c51e14!important}.C-\\+hq{position:absolute;top:50%;transform:translateY(-50%);right:.1rem;height:.14rem;text-align:center;color:#9c9c9c;font-size:.14rem;white-space:nowrap;line-height:normal;display:flex;justify-content:center;align-items:center;flex-direction:row}.t6KUR{opacity:.4}.OzYNS,.X91v5{position:absolute;left:.13rem;top:.61rem;width:.6rem;height:.16rem;font-size:.11rem;color:#fff;background:rgba(0,0,0,.4);border-radius:0 0 .02rem .02rem;display:flex;justify-content:center;align-items:center;flex-direction:row;line-height:normal}.X91v5{background:#e02e24}',""]),n.locals={store:"WyyGy",base:"QE-c4",border:"OWRu2",avatarWrap:"vAkWD",avatar:"-oX8U",info:"tWftH",name:"-yAHe",address:"xYY7t",distance:"s7a-X",distanceText:"+l29T",line:"aX9RZ",addressContainer:"u8z1Y",isOpen:"R5Pkg",addressContent:"a9gNb",addressOpenBtn:"sinm3",openBtnCover:"BaEsZ",openBtnArrow:"mdTVn",btn:"_0TuTZ",rightDisabledText:"C-+hq",disabledStore:"t6KUR",closedStore:"OzYNS",currentStore:"X91v5"},e.exports=n},89:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".sWG6r{width:100%;text-align:center;line-height:0;margin-top:.72rem}.oa9nQ{margin:0 auto;width:.72rem;height:.72rem}._2KXTW{margin:.18rem auto 0;line-height:.21rem;color:#58595b;font-size:.15rem;text-align:center}.pt\\+cD{white-space:pre-wrap}.YfoxL{margin:.3rem auto .16rem;font-size:.17rem}.f3-\\+R{display:flex;justify-content:center;align-items:center;flex-direction:row;margin:0 auto;width:2.5rem;height:.45rem;border-radius:.04rem;background-color:#e02e24;line-height:normal;color:#fff;font-size:.17rem}.f3-\\+R:active{color:#edbbb8!important;background-color:#c51e14!important}",""]),n.locals={empty:"sWG6r",logo:"oa9nQ",tips:"_2KXTW",tipsText:"pt+cD",buttons:"YfoxL",select:"f3-+R"},e.exports=n},36897:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.sCVx1{background-color:#fff;padding:0 .12rem;height:.38rem;position:relative;border:none!important;display:flex;justify-content:flex-start;align-items:center;flex-direction:row}.sCVx1:after{content:"";display:block;position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;box-sizing:border-box;border-bottom:1px solid rgba(0,0,0,.04)}.vWUeB{display:flex;justify-content:flex-start;align-items:center;flex-direction:row}.ZIJS5{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;font-size:.13rem;line-height:.18rem;color:#58595b}.RhXyi{flex-shrink:0;margin-right:.04rem;width:.18rem;height:.18rem}',""]),n.locals={root:"sCVx1",content:"vWUeB",contentText:"ZIJS5",trumpet:"RhXyi"},e.exports=n},24747:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".cIbAP{position:relative;width:3.75rem}.cIbAP .infinite-list-wrapper .go-top-show{bottom:1.4rem;z-index:z(stick-component)}@media only screen and (min-device-height:812px){.cIbAP .infinite-list-wrapper .go-top-show{bottom:calc(1.4rem + constant(safe-area-inset-bottom));bottom:calc(1.4rem + env(safe-area-inset-bottom))}}.jT4oQ{display:flex;justify-content:center;align-items:center;flex-direction:row;width:100%;height:.45rem;font-size:.15rem;color:#e02e24;background:#f4f4f4}.pvpBc{margin-right:.08rem;width:.19rem;height:.19rem}.jjQl\\+{margin-top:.01rem}.znzXQ{display:flex;justify-content:space-between;align-items:flex-start;flex-direction:row;flex-wrap:wrap}",""]),n.locals={wrapper:"cIbAP",title:"jT4oQ",titleIcon:"pvpBc",titleText:"jjQl+",flexList:"znzXQ"},e.exports=n},81560:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.mbRo6{display:flex;justify-content:center;align-items:center;flex-direction:row;font-size:.14rem;color:#9c9c9c;background:#fff;box-shadow:0 2px 6px 0 rgba(0,0,0,.02);border-radius:.08rem;width:2.45rem;height:.3rem;position:absolute;top:50%;left:.38rem;transform:translateY(-50%);line-height:normal}.mbRo6:before{content:"";font-size:.16rem;color:unset;font-family:vgt;line-height:1;font-weight:400;-webkit-font-smoothing:antialiased;margin-right:.06rem}@supports(-webkit-touch-callout:none){.mbRo6:before{line-height:normal}}',""]),n.locals={searchWarp:"mbRo6"},e.exports=n},79286:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".QchU1{object-fit:fill;display:block}.J4kMN,.QchU1{width:100%;height:100%}.J4kMN{position:absolute;top:0;left:0;pointer-events:none}",""]),n.locals={wrap:"QchU1",playerPoster:"J4kMN"},e.exports=n},65582:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"._1Guob{width:2.9rem;height:3rem}.w8Oe5{width:1.39rem;height:1.39rem;margin:.18rem auto 0}.LES7M{width:100%;height:100%;display:block}.VReFg{width:100%;height:.5rem;font-size:.18rem;color:#151516;text-align:center;line-height:.25rem;font-weight:500;margin:.08rem auto 0}.CJGzL{margin:.2rem auto 0;width:2.5rem;height:.45rem;background:#07c160;border-radius:.04rem;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center}.CJGzL .bLjiW{width:.29rem;margin-right:.08rem}.CJGzL .Tsvjf{height:.24rem;font-size:.17rem;color:#fff;font-weight:400}",""]),n.locals={wrap:"_1Guob",imgTop:"w8Oe5",img:"LES7M",conntent:"VReFg",okBtn:"CJGzL",btnIcon:"bLjiW",btnText:"Tsvjf"},e.exports=n},70297:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.Hherd{width:.4rem;height:.4rem;bottom:.8rem;position:fixed;right:.16rem;max-width:768px;display:flex;justify-content:center;align-items:center;flex-direction:column;margin-bottom:"0px";color:#58595b;background:#fff;text-align:center;z-index:101;opacity:0;transition:bottom .8s ease,opacity .6s ease;box-shadow:0 0 4px 0 rgba(0,0,0,.1);border:1px solid #e2e2e2;border-radius:50%}@media only screen and (min-width:768px){.Hherd{right:calc(50% - 384px + .16rem)!important}}@media only screen and (min-device-height:812px){.Hherd{margin-bottom:calc(env(safe-area-inset-bottom))}}.i303u{width:100%;height:.14rem;line-height:.14rem;font-size:.1rem;text-align:center}.FYwEq{width:.18rem;height:.1rem;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAAeCAMAAABQZB20AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABmUExURUdwTFhZW19fX19fX1lZXFhaW2ZmZoODg1hZW1hZW1hZW1paXVhZW1hZW1lZXV5eXllZW1haW1hZXFlZW1hZW1haXFhaXFhZW1hbW11dXVhZW1xcXFpaX1lZW1haXFpaXFhaW1hZW01rcNoAAAAhdFJOUwDcGg2irQgDzO38UPn1QxPVl4x2uGs5wFwi5Sgug39jxk2tiRMAAADlSURBVHja1dTbEoIgEAZgSQ08n/KElv7v/5IxFk5ZCnsp4wUs8zE7y6Jz7tEL0dPVIAE5UNUYIFDfSFNNADmOEkFDUWkCOSyJJilJsX4pCyO4KEZ+eU0vOeLITnUh8kwvshxhZ6OmEEKp1QmEk1nVQOt+BtwWqE2qAm7X79D1BlTH6g74Sm2cD9yPVKkU/w1z5cpdxAvA4393PKBQO7t7e0fqE42ZmPPX9Xo4B+Oha7y9ncp4N627UTNQW3TC/OUyYdV5ne47Wp/z5W2siill/aaYdgJJSnjB4j31WEP4yzDPOcl4Aq6DEQSE0oAMAAAAAElFTkSuQmCC");background-size:contain;background-repeat:no-repeat;background-position:50%}._5F1e2{bottom:.8rem;opacity:1}.-ujyI{bottom:-.8rem;opacity:0}',""]),n.locals={goTop:"Hherd",text:"i303u",arrow:"FYwEq",show:"_5F1e2",hide:"-ujyI"},e.exports=n},1516:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".JdBig{overflow:hidden;background-color:#fff}",""]),n.locals={wrapper:"JdBig"},e.exports=n},72261:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".O-4Qr{background-color:#fff}.O-4Qr>*{display:none!important}.O-4Qr .observer-placeholder{display:block!important}",""]),n.locals={itemHide:"O-4Qr"},e.exports=n},83735:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'.V9OBo{z-index:501;top:0;position:fixed;left:0;max-width:768px;background-color:rgba(0,0,0,.8);height:100vh;width:100vw}@media only screen and (min-width:768px){.V9OBo{left:calc(50% - 384px)!important}}.agzYh{position:absolute;padding-top:.32rem;left:0;width:100%;bottom:0;line-height:.24rem;background-color:#fff;font-size:.17rem;color:#151516}.agzYh.E0w1e{padding-top:0}._2iUf8{box-sizing:content-box;padding:.21rem 0 .2rem;height:.24rem;line-height:.24rem;text-align:center;font-size:.17rem}.Z\\+P40{display:flex;justify-content:center;align-items:center;flex-direction:row;padding-bottom:.26rem}.CLbSC{height:.08rem;background-color:#f4f4f4}.BrSXO{height:.48rem;line-height:.48rem;text-align:center;box-sizing:content-box;padding-bottom:"0px"}@media only screen and (min-device-height:812px){.BrSXO{padding-bottom:calc(env(safe-area-inset-bottom))}}.f73gd{position:relative;width:.5rem;overflow:visible;margin-left:.68rem;height:.73rem}.f73gd:first-child{margin-left:0}.kSp-G{width:.5rem;height:.5rem}.DkbTp{position:absolute;left:50%;transform:translateX(-50%);top:.55rem;width:1rem;height:.18rem;line-height:.18rem;text-align:center;font-size:.13rem}',""]),n.locals={share:"V9OBo",panel:"agzYh",headed:"E0w1e",title:"_2iUf8",content:"Z+P40",divider:"CLbSC",footer:"BrSXO",item:"f73gd",icon:"kSp-G",text:"DkbTp"},e.exports=n},79399:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".BuuYz{position:relative;width:100%;display:flex;justify-content:flex-start;align-items:stretch;touch-action:pan-x pan-y;transition-timing-function:ease-out;transition-property:transform;will-change:transform}.BuuYz.t\\+ZKx{transition-property:left;will-change:left}.-Rmiz{width:100%;flex-shrink:0;overflow:hidden}.qMqof,.-Rmiz{position:relative}.qMqof{contain:content}",""]),n.locals={content:"BuuYz",isNotTransform:"t+ZKx",item:"-Rmiz",innerItem:"qMqof"},e.exports=n},97386:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(9980),o=r(96156),i=r(97849);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const l=()=>{};function c(e){e.onClose=e.onClose||e.onCancel,(0,i.S)()?function(e){(0,i.Z)(a(a({},e),{},{onCancel:e.onCancel||l}))}(e):(0,n.Z)(e)}},18087:function(e,t,r){"use strict";r.d(t,{J:function(){return n}});const n={CONSUME:0,CONSUME_TIME_DIVIDE:1,CONSUME_RAW:2,RECYCLE:3,RECYCLE_TIME_DIVIDE:4,RECYCLE_RAW:5,RECYCLE_TIME_DIVIDE_MULTI:6}},87634:function(e,t,r){"use strict";r.d(t,{a:function(){return n}});const n={DEFAULT:0,SPECIAL:1}},43956:function(e,t){"use strict";t.Z={UNKNOWN:"unknown",APP_MESSAGE:"message",TIMELINE:"timeline",QQ:"qq",QQ_ZONE:"qzone",QQ_WEIBO:"qq_weibo",SINA_WEIBO:"weibo",CLIPBOARD:"copy_link"}},21922:function(e,t,r){"use strict";var n=r(17187),o=r(99714),i=r(13939),s=r(51152),a=r(2975),l=r(43172);const{ShareErrorCode:c}=o.Z;class u extends n.EventEmitter{constructor(e={}){super(e),this.ShareEntityClass=i.Z,this._hasInited=!1,this.shareEntity=e.shareEntity,this.shareEntityMap=e.shareEntityMap||{},this.disableShareTypes=e.disableShareTypes||[]}initShare(){this._hasInited||(this._hasInited=!0,this.setMaxListeners(0),this._setupShareTypes(),this._setupPlatformShareSDK())}isInited(){return this._hasInited}share(e){return c.SHARE_ACTION_DISABLE}setShareCheck(e){}checkShareTypeEnable(e){return 0}_setupShareTypes(){return!0}_setupPlatformShareSDK(){return Promise.resolve()}getShareEntityByShareType(e=0,t){return e?this.shareEntityMap[e]||(t?null:this.shareEntity):this.shareEntity}refreshShare(e,t){return e?(t?this.shareEntityMap[t]=e:this.shareEntity=e,this._setupPlatformShareSDK()):Promise.resolve()}disableShare(e){if(e&&"number"==typeof e)this.disableShareTypes.indexOf(e)<0&&this.disableShareTypes.push(e);else{if("[object Array]"!==Object.prototype.toString.call(e))return;this.disableShareTypes=this.disableShareTypes.concat(e.filter((e=>(this.disableShareTypes||[]).indexOf(e)<0)))}!this._setupShareTypes()&&this._adjustMenu()}_adjustMenu(){}createShareEntity(e={},t,r){const n=this.ShareEntityClass||i.Z;if(r)return new n(e);let o={};if(t){const r=this.shareEntityMap[t];o=r?Object.assign({},r,e):Object.assign({},this.shareEntity,e)}else o=Object.assign({},this.shareEntity,e);return new n(o)}setupNativeShareButton(e){return c.SHARE_NOT_SUPPORTED}copyCipher(){const e=s.Z.COPY_CIPHER,t=this.getShareEntityByShareType(e),r=t.cipherScene&&"string"==typeof t.cipher;return!r&&this.emit(a.Z.ON_SHARE_TRIGGER,{shareType:e}),t?(t.normalize(e).then(((t={})=>{r&&(this.emit(a.Z.ON_SHARE_TRIGGER,{shareType:e,shareID:t.shareID}),delete t.shareID),this.emit(a.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:l.Z.SUCCESS,content:t.title,rawResponse:t.rawResponse},this.getNormalizeErrorHandler(e))})),0):c.SHARE_PARAMS_NOT_VALID}getNormalizeErrorHandler(e){return(...t)=>{this.emit(a.Z.ON_SHARE_COMPLETED,{shareType:e,shareResultType:l.Z.FAIL,errorPayload:t})}}resetLimiter(){}}t.Z=u},13939:function(e,t,r){"use strict";r.d(t,{W:function(){return l}});var n=r(46332),o=r(60712),i=r(21315),s=r(29173),a=r(17288);function l(e){const t=[];for(let e=1;e<arguments.length;++e)t.push(arguments[e]);return e.replace(/{(\d+)}/g,(function(e,r){return 0===t[r]?0:t[r]||""}))}t.Z=class{constructor(e={}){this.title=e.title||"",this.message=e.message||"",this.shareURL=e.shareURL||"",this.targetShareURL="",this.realShareURL="",this.shareDomain=e.shareDomain||"",this.thumbnailURL=e.thumbnailURL||"",this.timelineDomain=e.timelineDomain||"",this.timelineAppId=e.timelineAppId||"",this.marketActivityID=e.marketActivityID||0,this.urlWrapType=e.urlWrapType||o.ZP.DEFAULT,this.shortURLApi=e.shortURLApi||"",this.domainURLApi=e.domainURLApi||"",this.payloadMixin=e.payloadMixin||null,this.requestUsePost=e.requestUsePost||!1,this.shortCommandApi=e.shortCommandApi||"",this.cipherProcessor=e.cipherProcessor}async normalize(e){return Promise.resolve({})}setShareURLQueries(e={}){this.urlWrapType!==o.ZP.RAW&&(this.shareID=e.refer_share_id,this.shareURL=(0,n.Z)(e,this.shareURL))}getShareForm(e){return i.Z.DEFAULT}getShareMethod(e){return s.Z.DEFAULT}processCipher(){const e=Object.assign({},this),t={title:e.title};let r=t.title||"";return(0,a.Yy)(e).then((({targetShareURL:e,useShortURL:n,shareText:o,cipher:i})=>{i&&(t.cipher=i),this.targetShareURL=e;const s=n||i?o:"";return r=l(r,s||e,e,s),t.title=r,this.pcode=r,t}))}}},99714:function(e,t,r){"use strict";r.d(t,{D:function(){return n}});const n={DEFAULT:0,SHARE_PARAMS_NOT_VALID:1,SHARE_TYPE_DISABLED:2,SHARE_TYPE_NOT_FOUND:3,SHARE_ACTION_DISABLE:4,SHARE_STATUS_ILLEGAL:5,SHARE_NOT_SUPPORTED:6,SHARE_LIMITER_NOT_INIT:7};class o{constructor(e={}){this.errorCode=e.errorCode||n.DEFAULT,this.message=e.message||""}}o.create=e=>new o({errorCode:e}),o.ShareErrorCode=n,t.Z=o},2975:function(e,t){"use strict";t.Z={DEFAULT:0,ON_SHARE_TRIGGER:1,ON_SHARE_COMPLETED:2,SDK_INIT_FAILED:3,ON_SHARE_BUTTON_CLICKED:4,ON_SHARE_PREPARE:5,ON_SDK_READY:6,ON_SHARE_INTERRUPT:7,SHARE_LIMIT_LOAD_FAIL:8,PERFORM_LOG_FAILED:9,SHARE_REACH_LIMIT:10}},21315:function(e,t){"use strict";t.Z={DEFAULT:"",COMMAND:"kouling",IMAGE:"image",TEXT:"text",CARD:"card",WXAPP_CARD:"custom_card",COPY_LINK:"text"}},57872:function(e,t){"use strict";t.Z={CIPHER:"CIPHER_TEXT",LINK:"LINK",DOMAIN:"DOMAIN",NORMAL:"NORMAL",IMAGE:"IMAGE",COPY:"COPY"}},10853:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(445);function o(){const e=(0,n.zT)();return e.isWeChatMiniProgram?e.WxApp:e.isWeChatPlatform?e.WeChat:e.isQQPlatform?e.QQ:e.isNativePlatform||e.isTinyNativePlatform?"h5":""}},77017:function(e,t,r){"use strict";r.d(t,{I:function(){return s},w:function(){return a}});var n=r(60712),o=r(21315),i=r(57872);function s(e={}){return{title:e.title,message:e.message,thumb_url:e.thumbnailURL,share_url:e.shareURL}}function a(e={},t){return(0,n.Pp)(e.urlWrapType)&&e.marketActivityID&&e.getShareForm(t)===o.Z.COMMAND?i.Z.CIPHER:(0,n.Pp)(e.urlWrapType)&&e.marketActivityID&&e.getShareForm(t)===o.Z.TEXT?i.Z.LINK:(0,n.uW)(e.urlWrapType)&&e.marketActivityID&&e.getShareForm(t)===o.Z.CARD?i.Z.DOMAIN:e.getShareForm(t)===o.Z.IMAGE?i.Z.IMAGE:i.Z.NORMAL}},29173:function(e,t){"use strict";t.Z={DEFAULT:"",SYSTEM:"system",SDK:"sdk",MANUAL:"manual",EXTENSION:"extension",STAND:"stand"}},25265:function(e,t){"use strict";t.Z={SUCCESS:"success",FAIL:"fail",CANCEL:"cancel",COMPLETE:"complete",ERROR:"error"}},43172:function(e,t){"use strict";t.Z={COMPLETE:0,SUCCESS:1,FAIL:2,CANCEL:3,ERROR:4}},21179:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(89544);function o({errorCode:e=0,message:t="",options:r={}}){(0,n.K2)(new Error("share error"),{share_error_code:e,share_error_message:t,params:JSON.stringify(r)})}},51152:function(e,t){"use strict";t.Z={DEFAULT:0,WECHAT_SESSION:1,WECHAT_TIMELINE:2,WEIBO:3,QQ_CHAT_SESSION:4,QQ_ZONE:5,TENCENT_WEIBO:6,WECHAT_SESSION_APP:7,WECHAT_TIMELINE_IMAGE:8,WECHAT_TIMELINE_IMAGE_WITH_NO_SDK:9,WECHAT_SESSION_IMAGE:10,QQ_CHAT_SESSION_IMAGE:11,QQ_ZONE_IMAGE:12,WEIBO_IMAGE:13,WECHAT_TIMELINE_IMAGES:15,WECHAT_SESSION_TEXT_WITH_NO_SDK:16,WECHAT_SESSION_TEXT:17,IOS_SYSTEM_SHARE_CARD:18,WECHAT_SESSION_IMAGE_WITH_NO_SDK:19,WECHAT_SESSION_IMAGES_WITH_NO_SDK:20,WECHAT_TIMELINE_TEXT:21,SHARE_IMAGE_PASSIVELY:22,COPY_LINK:23,WECHAT_SESSION_MUSIC:24,WECHAT_SESSION_VIDEO:25,COPY_CIPHER:9995,WECHAT_SESSION_CARD_WITH_NO_SDK:9996,WECHAT_TIMELINE_CARD_WITH_NO_SDK:9997,FRIENDS:9998,WECHAT_BIG_IMAGE:9999,PIN_TIMELINE:1e4}},72956:function(e,t,r){"use strict";r.d(t,{q:function(){return n}});const n={DEFAULT:0,ANDROID_SP:1}},75874:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});const n={TP_FIRST:0,GENERAL_FIRST:1,GENERAL_ONLY:2}},48864:function(e,t){"use strict";t.Z={DEFAULT:0,OPEN_WECHAT:1,OPEN_QQ:2,OPEN_WEIBO:3,OPEN_WECHAT_IOS_SILENT:101,OPEN_WECHAT_ANDROID_SILENT:201}},42063:function(e,t,r){"use strict";r.r(t),r.d(t,{CipherConsumeMode:function(){return Se.J},CipherPasteType:function(){return ke.a},ShareChannel:function(){return A.Z},ShareErrorCode:function(){return Ce},ShareEventType:function(){return a.Z},ShareForm:function(){return g.Z},ShareMethod:function(){return d.Z},ShareResult:function(){return h.Z},ShareResultType:function(){return f.Z},ShareType:function(){return s.Z},ShareWaterMark:function(){return ue},SystemShareMode:function(){return Oe.q},TPSelectCategory:function(){return Pe.X},ThirdPartyOpenType:function(){return we.Z},URLWrapType:function(){return B.ZP},default:function(){return xe},setPageContext:function(){return F.I8}});var n=r(6236),o=r(69062),i=r(88798),s=r(51152),a=r(2975),l=r(445),c=r(96156),u=r(28671),p=r(38644),d=r(29173),h=r(25265),f=r(43172),m=r(99714),g=r(21315),y=r(21922);const b={SHARE:"share",SHARE_RESULT:"share_result"};class v{constructor(e={}){this.userID=e.userID||"",this.uin=e.uin||"",this.shareID=e.shareID||"",this.op=e.op||"event",this.subOP=e.subOP||"",this.shareChannel=e.shareChannel||"",this.shareResult=e.shareResult||"",this.shareURL=e.shareURL||"",this.shareDomain=e.shareDomain||"",this.shareForm=e.shareForm||"",this.shareMethod=e.shareMethod||"",this.shareAppID=e.shareAppID,this.pcode=e.pcode,this.wxShareCount=e.wxShareCount,this.cipherScene=e.cipherScene}normalize(e){if(this.subOP===b.SHARE)return{op:this.op,sub_op:this.subOP,share_id:this.shareID,share_channel:this.shareChannel,share_url:this.shareURL,share_domain:this.shareDomain,share_form:this.shareForm,share_method:this.shareMethod,share_app_id:this.shareAppID,pcode:this.pcode,pcode_scene:this.cipherScene};if(this.subOP===b.SHARE_RESULT){const e={op:this.op,sub_op:this.subOP,event:"share_result",share_id:this.shareID,share_channel:this.shareChannel,share_url:this.shareURL,share_domain:this.shareDomain,share_result:this.shareResult,share_form:this.shareForm,share_method:this.shareMethod,share_app_id:this.shareAppID,wx_share_count:this.wxShareCount,pcode:this.pcode,pcode_scene:this.cipherScene};return this.walrusID&&(e.walrus_id=this.walrusID,e.walrus_type=this.walrusType),e}return{}}getShareURLTrackingQueries(){return v.getTrackingQueries(this)}}v.TRACKING_SUB_OP=b,v.getTrackingQueries=(e={})=>({refer_share_id:e.shareID,refer_share_uid:e.userID,refer_share_uin:e.uin,refer_share_channel:e.shareChannel});var _=v,w=r(53158);function S(e){return e=e||32,(0,w.x)(e)}var P=r(34105),k=r(23840),O=r(61240);let C="",I="";function x(){return Promise.all([(0,O.sq)().then((e=>{C=e})).catch((e=>{})),(0,O.A8)().then((e=>{I=e})).catch((e=>{}))])}function E(){return I}function T(){return C}var D=r(88237),A=r(43956);const R=0,L=1,M={[A.Z.UNKNOWN]:0,[A.Z.APP_MESSAGE]:1,[A.Z.TIMELINE]:1,[A.Z.QQ]:2,[A.Z.QQ_ZONE]:2,[A.Z.QQ_WEIBO]:2,[A.Z.SINA_WEIBO]:3};var Z=function(e){return M[e]||R};class j{constructor(){this._venderAppIDs={},this._isInited=!1}build({wechatAppID:e}){return this._isInited?Promise.resolve():(this._isInited=!0,(0,l.zT)().isNativePlatform?this._buildNativeCache():(0,l.zT)().isWeChatPlatform?this._buildWeChatCache(e):Promise.resolve())}isInited(){return this._isInited}_buildNativeCache(){return(e=[L],(0,l.zT)().statisfy("4.49.0","4.49.0","greaterThan")?Array.isArray(e)?(0,D.Q6)("JSShare","venderAppIds",{channels:e}):Promise.reject({message:"invalid params"}):Promise.reject({message:"not support"})).then(((e={})=>{this._venderAppIDs=Object.assign(this._venderAppIDs,e)})).catch((()=>Promise.resolve()));var e}_buildWeChatCache(e){return this._venderAppIDs[L]=e,Promise.resolve()}getAppIDSync(e){const t=Z(e);return this._venderAppIDs[t]}}let N=null;j.getInstance=function(e){return N||(N=new j(e)),N};var z=j,U=r(9127),B=r(60712),G=r(86804),F=r(79372);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const{ShareErrorCode:W}=m.Z,{TRACKING_SUB_OP:q}=_;var V=class{constructor(e={}){this.transparentTransmission=e.transparentTransmission||{},this.trackingEntity=null,this.onTriggerListener=null,this.onCompletedListener=null,this.shareController=null,this._cachePrepareInfo={}}listen(e){e&&e instanceof y.Z&&(this.disconnect(),this.shareController=e,this._setupDefaultTrackListener(e))}disconnect(){this.shareController&&this._removeDefaultTrackListener(this.shareController)}updateTrackerTrans(e){this.transparentTransmission=Object.assign({},this.transparentTransmission,e)}_setupDefaultTrackListener(e){this._removeDefaultTrackListener(e),this.onPrepareListener=this._onDefaultSharePrepare.bind(this),this.onTriggerListener=this._onDefaultShareTrigger.bind(this),this.onCompletedListener=this._onDefaultShareCompleted.bind(this),e.on(a.Z.ON_SHARE_PREPARE,this.onPrepareListener),e.on(a.Z.ON_SHARE_TRIGGER,this.onTriggerListener),e.on(a.Z.ON_SHARE_COMPLETED,this.onCompletedListener)}_removeDefaultTrackListener(e){this.onPrepareListener&&e.removeListener(a.Z.ON_SHARE_PREPARE,this.onPrepareListener),this.onTriggerListener&&e.removeListener(a.Z.ON_SHARE_TRIGGER,this.onTriggerListener),this.onCompletedListener&&e.removeListener(a.Z.ON_SHARE_COMPLETED,this.onCompletedListener)}_sendLog(e={}){const t=Object.assign(e,this.transparentTransmission);(0,u.oP)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({page_id:(0,F.e6)(),page_name:(0,F.j0)(),page_sn:(0,F.kd)()},t))}_onDefaultSharePrepare({shareType:e}){if(this._cachePrepareInfo[e]){const t=this.shareController.getShareEntityByShareType(e)||{},r=this._cachePrepareInfo[e];return r.userID=T(),r.uin=E(),void t.setShareURLQueries(_.getTrackingQueries(r))}const t=this.shareController.getShareEntityByShareType(e),r={userID:T(),uin:E(),shareID:this._getCachedShareID(t)||S(),shareChannel:(0,P.Z)(e)};t&&t.setShareURLQueries(_.getTrackingQueries(r)),this._cachePrepareInfo[e]=r}_onDefaultShareTrigger({shareType:e,shareID:t}){if(e===s.Z.PIN_TIMELINE||(0,l.zT)().isWeChatMiniProgram&&e===s.Z.WECHAT_SESSION)return 0;const r=this.shareController.getShareEntityByShareType(e)||{},n=this._cachePrepareInfo[e];this._cachePrepareInfo[e]=null;const o=(0,P.Z)(e),i=z.getInstance();if(this.trackingEntity=new _(Object.assign({userID:T(),uin:E(),shareID:this._getCachedShareID(r)||S(),subOP:q.SHARE,shareChannel:o,timelineDomain:r.timelineDomain,cipherScene:r.cipherScene,shareForm:r.getShareForm&&r.getShareForm(e),shareMethod:r.getShareMethod&&r.getShareMethod(e),shareAppID:i.getAppIDSync(o)},n,t?{shareID:t}:null)),!n&&r.setShareURLQueries(_.getTrackingQueries(this.trackingEntity)),r.getShareForm(e)!==g.Z.COMMAND){const e=r.targetShareURL||r.shareURL;this.trackingEntity.shareURL=e,this.trackingEntity.shareDomain=new k.Z(e).origin}this._sendLog(this.trackingEntity.normalize(e))}_onDefaultShareCompleted({shareType:e,shareResultType:t,useComplete:r,responseData:n={},tpInfo:o}){const i=(0,l.zT)();if(e===s.Z.PIN_TIMELINE||i.isWeChatMiniProgram&&e===s.Z.WECHAT_SESSION)return 0;if(!this.trackingEntity)return W.SHARE_STATUS_ILLEGAL;const a=this.shareController.getShareEntityByShareType(e)||{};let c=this.getShareResultByType(t);if(r&&(c=h.Z.COMPLETE),a.getShareForm(e)!==g.Z.COMMAND){const e=a.realShareURL||a.shareURL;this.trackingEntity.shareURL=e,this.trackingEntity.shareDomain=new k.Z(e).origin}else this.trackingEntity.pcode=a.pcode;const u=(d=n)&&"object"==typeof d?"string"!=typeof d.wx_app_id?null:d.wx_app_id:null;var d;u&&(this.trackingEntity.shareAppID=u),n.hasOwnProperty("wx_share_count")&&(this.trackingEntity.wxShareCount=n.wx_share_count,delete n.wx_share_count),this.trackingEntity.subOP=q.SHARE_RESULT,this.trackingEntity.shareResult=c,o&&(this.trackingEntity.walrusID=o.group_id,this.trackingEntity.walrusType=o.dev_type),a.forceDowngrade||i.platform===p.iw.PddIOS&&e===s.Z.WECHAT_SESSION_TEXT_WITH_NO_SDK||s.Z.COPY_LINK===e&&!i.isNativePlatform&&!i.isTinyNativePlatform||s.Z.COPY_CIPHER===e||(this._sendLog(this.trackingEntity.normalize(e)),this.trackingEntity=null)}trackProlongation(e,t={},r){if(!this.trackingEntity)return!1;this.trackingEntity.shareMethod=d.Z.MANUAL,this.trackingEntity.shareResult=h.Z.COMPLETE;const n=Object.assign(this.trackingEntity.normalize(e),t);return this.trackingEntity=null,"function"==typeof r?r(n):this._sendLog(n),!0}getShareResultByType(e=0){switch(e){case f.Z.COMPLETE:return h.Z.COMPLETE;case f.Z.SUCCESS:return h.Z.SUCCESS;case f.Z.FAIL:return h.Z.FAIL;case f.Z.CANCEL:return h.Z.CANCEL;default:return h.Z.ERROR}}_getCachedShareID(e){if(e.urlWrapType===B.ZP.SERVER_SHORT_URL_WITH_CACHE){const t=(0,U.s)(),r=(0,G.Z)(e);return t.getShareID(r)}}},K=r(6288);const Y="api/flow/audience/share/content";const Q="api/flow/audience/share/perform";var X={REACH_HOUR_LIMIT:43367,REACH_DAY_LIMIT:43368};var $=class{constructor(e={}){this._shareController=null,this._onPerformShareErrorHandler=null}listen(e){e&&e instanceof y.Z&&(this.disconnect(),this._shareController=e,this._setupListener(e))}disconnect(){this.removeListener()}_setupListener(e){this.removeListener(),this._onPerformShareErrorHandler=this._onPerformShareError.bind(this),e.on(a.Z.PERFORM_LOG_FAILED,this._onPerformShareErrorHandler)}removeListener(){this._shareController&&this._onPerformShareErrorHandler&&this._shareController.removeListener(a.Z.PERFORM_LOG_FAILED,this._onPerformShareErrorHandler)}_onPerformShareError(e={}){const t=e.error||{},r=e.shareType,n=parseInt(t.errorCode,10)||0;[X.REACH_DAY_LIMIT,X.REACH_HOUR_LIMIT].indexOf(n)>=0&&(this._shareController.emit(a.Z.SHARE_REACH_LIMIT,{shareType:r,errorCode:n}),this.hideShareMenuOption(r))}hideShareMenuOption(e){const t=this._shareController;e&&t&&t.disableShare(e)}},J=r(21179),ee=r(77017),te=r(10853);const re="undefined"!=typeof window;const ne={BROWSER:!0,BUNDLE_PLATFORM:"production"}.HYBRID?async function(){return(await r.e(5911).then(r.bind(r,40154))).default}:async function(){const e=(0,l.zT)();return e.isWeChatMiniProgram?(await r.e(3400).then(r.bind(r,80979))).default:e.isWeChatPlatform?(await r.e(2840).then(r.bind(r,15872))).default:e.isQQPlatform?(await r.e(6795).then(r.bind(r,30654))).default:e.isNativePlatform||e.isTinyNativePlatform?(await r.e(5911).then(r.bind(r,40154))).default:(await r.e(699).then(r.bind(r,69976))).default};var oe=class{constructor(e={}){this.shareController=null,this.shareTracker=null,this.menuWatcher=null,this.platform=(0,te.Z)(),this._disableContentCheck=!0,this._disablePerformShareLog=!1,this.controllerOptions=e.controllerOptions||{},this.noDefaultShare=e.noDefaultShare||!1,this.disableShare=e.disableShare||!1,this._initControllerPromise=null,this.loadErrorRetry=e.loadErrorRetry||0,this.enableInfiniteRetry=e.enableInfiniteRetry||!1,this._loadControllerFailed=!1}async setup(){if(!re||this.shareController)return Promise.resolve();if(this._loadControllerFailed&&!this.enableInfiniteRetry)return Promise.reject(new Error("load controller failed"));this._setupShareTracker(),this._setupMenuWatcher(),this._initControllerPromise=this._initControllerPromise||this._setupController();let e=!1;try{await this._initControllerPromise}catch(t){if(this._initControllerPromise=null,!(this.loadErrorRetry>0))throw this._loadControllerFailed=!0,(0,J.Z)({errorCode:0,message:"加载分享控制器失败",options:{message:t&&t.message}}),t;(0,J.Z)({errorCode:0,message:"加载分享控制器失败, 剩余重试次数".concat(this.loadErrorRetry),options:{message:t&&t.message}}),this.loadErrorRetry--,e=!0}return e?this.setup():void 0}async _setupController(){if(this.shareController)return Promise.resolve();const e=this.controllerOptions,t=(0,l.zT)(),r=await ne();this.shareController=new r(e),t.isWeChatPlatform||t.isQQPlatform?this.noDefaultShare||this._prepareShareController():(t.isNativePlatform||t.isTinyNativePlatform)&&this.shareController.on(a.Z.ON_SHARE_COMPLETED,(({shareType:e,shareResultType:t,nativeShareErrorCode:r})=>{t===f.Z.FAIL&&[X.REACH_HOUR_LIMIT,X.REACH_DAY_LIMIT].indexOf(r)>=0&&(this.shareController.emit(a.Z.SHARE_REACH_LIMIT,{shareType:e,errorCode:r}),(0,J.Z)({errorCode:r,message:"分享达到上限"}))})),this.shareTracker.listen(this.shareController),this.menuWatcher.listen(this.shareController),this._setupPerformShareLog()}_prepareShareController(){this.shareController&&!this.shareController.isInited()&&this.shareController.initShare()}_setupMenuWatcher(){this.menuWatcher||(this.menuWatcher=new $)}_setupShareTracker(){this.disableTracker||this.shareTracker||(this.shareTracker=new V({transparentTransmission:this.trackerTrans}))}_setupPerformShareLog(){this.shareController&&!(0,l.zT)().isNativePlatform&&this.shareController.on(a.Z.ON_SHARE_COMPLETED,((e={})=>{if(this._disablePerformShareLog||e.shareResultType!==f.Z.SUCCESS||e.shareType===s.Z.COPY_CIPHER)return;const t=e.shareType,r=this.getShareEntity(t);(function(e="",t={}){const r=(0,K.e)({pageInfo:{pageId:(0,F.e6)()}},{defaultErrorHandler:e=>{}});let n=null;const o={};return o.share_params=t.shareParams||{},o.share_type=t.shareType||0,o.share_method=t.shareMethod||"",o.origin=t.platform||"",o.page_sn=t.pageSn||(0,F.kd)(),o.page_info=t.pageInfo||{page_name:(0,F.j0)(),page_url:location&&location.href},o.extra=t.extra||{},n="post"===e.toLowerCase()?r.post(Q,o):r.get(Q,{params:o}),n})("post",{platform:this.platform,shareType:t,shareParams:(0,ee.I)(r),shareMethod:(0,ee.w)(r,t),extra:r.payloadMixin&&r.payloadMixin.extra}).catch((e=>{this.shareController.emit(a.Z.PERFORM_LOG_FAILED,{shareType:t,error:e})}))}))}async share(e){if(!this.shareController||this.disableShare){const t=new Error("no controller exists");return t.shareType=e,Promise.reject(t)}await x(),this._prepareShareController();const t=()=>new Promise(((t,r)=>{const n=this,o=(e={})=>{const n=e.shareResultType;if(i(),f.Z.SUCCESS===n)t(e);else{const t=new Error("分享失败");Object.assign(t,e),r(t)}};function i(){n.shareController.removeListener(a.Z.ON_SHARE_COMPLETED,o)}this.shareController.on(a.Z.ON_SHARE_COMPLETED,o);const s=this.shareController.share(e);if(s){i(),this.shareController.emit(a.Z.ON_SHARE_INTERRUPT,{shareType:e,shareErrorType:s}),(0,J.Z)({errorCode:s,message:"分享前置流程异常",options:{shareType:e}});const t=new Error("分享前置流程异常");Object.assign(t,{shareType:e,shareErrorType:s}),r(t)}}));return(0,l.zT)().isNativePlatform?this.shareController.waitShareLimiter().then((e=>t()),(e=>t())):t()}checkShareContent(e={}){return function(e="",t={}){const r=(0,K.e)({pageInfo:{pageId:(0,F.e6)()}},{defaultErrorHandler:e=>{}});let n=null;const o={};return o.share_params=t.shareParams||{},o.origin=t.platform||"",o.page_sn=t.pageSn||(0,F.kd)()+"",o.page_info=t.pageInfo||{page_name:(0,F.j0)(),page_url:location&&location.href},n="post"===e.toLowerCase()?r.post(Y,o):r.get(Y,{params:o}),n}("post",{platform:this.platform,shareParams:(0,ee.I)(e)})}setContentCheck(e){this._disableContentCheck=!e}setPerformShareLog(e){this._disablePerformShareLog=!e}async prepareShare(e={},t,r={}){if(!this.shareController)return Promise.reject(new Error("no controller exists"));await x(),this._prepareShareController();const{entityConfig:n={}}=e,o=this.shareController.createShareEntity(n,t);return r.skipShareContentCheck||this._disableContentCheck||(0,l.zT)().isNativePlatform?this.shareController.refreshShare(o,t):this.checkShareContent(o).then((()=>this.shareController.refreshShare(o,t)))}getShareController(){return this.shareController}async getShareControllerAsync(){return this.shareController?this.shareController:this._initControllerPromise?this._initControllerPromise.then((e=>this.shareController)).catch((e=>null)):this.setup().then((e=>this.shareController)).catch((e=>null))}getShareTracker(){return this.shareTracker}getShareEntity(e,t){return this.shareController?this.shareController.getShareEntityByShareType(e,t):null}setupNativeShareButton(e,t){this.shareController&&(this.shareController.removeAllListeners(a.Z.ON_SHARE_BUTTON_CLICKED),"function"==typeof t&&this.shareController.on(a.Z.ON_SHARE_BUTTON_CLICKED,t),this.shareController.setupNativeShareButton(e))}};const ie={title:0,message:0,thumbnailURL:0,shareURL:0,shareDomain:0,waterMark:0,urlWrapType:0,drawImageOptions:0,drawImageClass:0,marketActivityID:0,miniObjectPath:0,miniObjectID:0,useWxAppShare:0,shortURLApi:0,shortCommandApi:0,domainURLApi:0,forceDowngrade:0,payloadMixin:0,requestUsePost:0,excludeShareChoices:0,thirdPartyOpenType:0,needSharedAmount:0,cipherScene:0,consumeMode:0,activitySceneSn:0,tpSelectCategory:0,pinTimelineParams:0,wxAppRequestPayload:0,cipherProcessor:0,wxAppNavigatePayload:0,withShareTicket:0,systemShareMode:0,wechatMaskConfig:0},se={noDefaultShare:0,isSDKPrepare:0,disableShare:0},ae={wechatAppID:0,magicTrace:0,shareTypeEnable:0},le={USELESS:-1,DEFAULT:0,OUT_OF_DATE:1,FORBIDDEN:2,ABANDONED:3};var ce=class{constructor(e={}){this.cacheRaw=e.cacheRaw||!1,this.deleteAfterCollect=e.deleteAfterCollect||!1}filter(e={}){const t=this._filterShareEntity(e),r=this._filterShareConfigFlag(e),n=this._filterShareOther(e);return{_rawShareInfo:this.cacheRaw?e:null,entityConfig:t,flowControllConfig:r,otherConfig:n,compatibleShareConfig:{}}}_filterByItems(e={},t={}){const r=Object.keys(t)||[],n={};return r.forEach(((r,o)=>{const i=t[r];i===le.FORBIDDEN||i===le.ABANDONED?delete e[r]:void 0!==e[r]&&(n[r]=e[r],this.deleteAfterCollect&&delete e[r])})),n}_filterShareEntity(e){return this._filterByItems(e,ie)}_filterShareConfigFlag(e){return this._filterByItems(e,se)}_filterShareOther(e){return this._filterByItems(e,ae)}};var ue={DEFAULT:"!share_v2",WE_CHAT_MSG:"!share_v3",SHARE:"!share",TRANSPARENT:"!transparent",NONE:"",NO_LOGO:"!share_v4"},pe=r(71863),de=r(46332),he=r(75665);let fe={};"undefined"!=typeof window&&(fe=pe.Z.get(location.host)||{});const me={code:null,from:null,isappinstalled:null,at:null,share_id:null,is_back:null,page_id:null,list_id:null},ge=["refer_page_name","refer_page_section","refer_page_element","refer_page_id","refer_page_sn","refer_page_el_sn","refer_mid","refer_adg","refer_cam","refer_ced"];function ye(e="",t="",r=!1){return(e=e||"").indexOf("!")>=0&&!r?e:(e=e.split("!")[0],e+=t)}let be=null;class ve{constructor(e={}){this._hasInited=!1,this.opts=e||{},this.shopConfig=e.shopConfig,this.defaultShareEntityConfig={},this.shareManager=null,this.shareInfoFilter=null,this._sdkPrepared=!1}setup(){this._hasInited||(this._hasInited=!0,this._setupShareInfoFilter(),this._setupShareManager(),!(this.opts.shareManagerConfig||{}).noDefaultShare&&this._prepareDefaultShare(),this.waitAppIDCacheBuild())}_setupShareInfoFilter(){this.shareInfoFilter||(this.shareInfoFilter=new ce(this.opts.shareInfoFilterConfig))}_setupShareManager(){if(!this.shareManager){const e=Object.assign({},{noDefaultShare:!1,disableShare:!1,useNativeShareButton:!1,loadErrorRetry:1,enableInfiniteRetry:!1},this.opts.shareManagerConfig);this.shareManager=new oe(e)}return this._managerReadyPromise=this._managerReadyPromise||this.shareManager.setup(),this._managerReadyPromise.then((e=>{this._managerReady=!0})).catch((e=>{this._managerReadyPromise=null})),this._managerReadyPromise}_prepareDefaultShare(){if((0,l.zT)().isWeChatMiniProgram)return;const e=(this.shopConfig||fe.shop||{}).name||"拼多多";Object.assign(this.defaultShareEntityConfig,{title:"".concat(e,"商城"),message:"风靡全国的拼单商城，优质商品新鲜直供，快一起来".concat(e,"吧"),thumbnailURL:(0,n.H)("/base/logo.jpg"),shareURL:"/"}),this.prepareShare(this.defaultShareEntityConfig,void 0,{skipShareContentCheck:!0})}async _prepareShareByShareType(e={},t,r){this.setup(),this._managerReady||await this.waitManagerReady();const{entityConfig:n={}}=e;return this._buildThumbnailURL(n,t),this._buildShareURL(n,t),this.shareManager.prepareShare(e,t,r)}prepareShare(e,t,r={}){this.setup();const n=this.shareInfoFilter.filter(e),o=this._prepareShareByShareType(n,t,r);return!this._sdkPrepared&&o.then((e=>{this._checkSDKPrepared(n)}),(e=>{this._checkSDKPrepared(n)})),o}prepareShareSafe(e={},t){this.setup();const r=this.shareInfoFilter.filter(e),{flowControllConfig:n={}}=r;if(!this._sdkPrepared&&!n.isSDKPrepare)return this.waitSDKReady().then((()=>this._prepareShareByShareType(r,t)));const o=this._prepareShareByShareType(r,t);return!this._sdkPrepared&&o.then((e=>{this._checkSDKPrepared(r)}),(e=>{this._checkSDKPrepared(r)})),o}waitSDKReady(){return this.waitWeChatSDKReady().then((()=>this.waitAppIDCacheBuild()))}async waitWeChatSDKReady(){if(this._sdkPrepared)return Promise.resolve();if(this.sdkReadyPromise)return this.sdkReadyPromise;{const e=await this.shareManager.getShareControllerAsync();return e?(this.sdkReadyPromise=new Promise(((t,r)=>{e.once(a.Z.ON_SDK_READY,(()=>{t()}))})),this.sdkReadyPromise):Promise.resolve()}}async waitAppIDCacheBuild(){const e=z.getInstance();if(e.isInited())return Promise.resolve();if(this._actualWeChatAppID)return e.build({wechatAppID:this._actualWeChatAppID});if(!this.appIDReadyPromise){const t=await this.shareManager.getShareControllerAsync();if(!t)return Promise.resolve();this.appIDReadyPromise=new Promise(((r,n)=>{t.once(a.Z.ON_SDK_READY,(({wechatAppID:t,magicTrace:n})=>{Promise.all([e.build({wechatAppID:t}),he.Z.getInstance().build({magicTrace:n})]).then((()=>{r()}))}))}))}return this.appIDReadyPromise}waitManagerReady(){return this._managerReady?Promise.resolve():this._managerReadyPromise?this._managerReadyPromise:this._setupShareManager()}async share(e,t){return this.setup(),t?this.prepareShareSafe(t,e).then((()=>this.shareManager.share(e))):(this._managerReady||await this.waitManagerReady(),this.shareManager.share(e))}_buildThumbnailURL(e={},t){const r=e.thumbnailURL;if(void 0===r)return;let n=e.waterMark,o=r||"";null==n&&(n=ue.DEFAULT),o=ye(o,n),t===s.Z.WECHAT_SESSION&&n===ue.DEFAULT&&(o=ye(o,ue.WE_CHAT_MSG,!0)),o=(o||"").replace(/^\/\//,"http://"),e.thumbnailURL=o}_buildShareURL(e={},t,r={}){const n=e.shareURL;if(!n)return void delete e.shareURL;if(e.urlWrapType===B.ZP.RAW)return;const a=new k.Z(n),c=a.query||{},u=Object.keys(c).reduce(((e,t="")=>(ge.indexOf(t)>=0&&(e[t]=null),e)),{}),p=(0,o.H4)(!0),d={_wv:41729,_wvx:10};!(0,l.zT)().isWeChatPlatform||t!==s.Z.QQ_CHAT_SESSION&&t!==s.Z.QQ_ZONE||(d.sf_tag="wechat"),t!==s.Z.WECHAT_TIMELINE_IMAGE&&t!==s.Z.WECHAT_TIMELINE_IMAGE_WITH_NO_SDK||(d.from="qrImg");const h=a.pathname||"",f=Object.assign({},d,p,c,me,u),m=e.shareDomain||fe.shareDomain;e.shareURL=(0,de.Z)(f,(0,i.De)(h),m)}async _checkSDKPrepared({flowControllConfig:e={},otherConfig:t={}}){if(e.isSDKPrepare&&!this._sdkPrepared){this._sdkPrepared=!0;const e=await this.shareManager.getShareControllerAsync();t.wechatAppID&&(this._actualWeChatAppID=t.wechatAppID);const r=t.shareTypeEnable;if(r&&"object"==typeof r){const t=Object.keys(r).filter((e=>!r[e])).map((e=>parseInt(e,10)));e&&e.disableShare(t)}e&&e.emit(a.Z.ON_SDK_READY,{wechatAppID:t.wechatAppID,magicTrace:t.magicTrace})}}getShareManager(){return this.setup(),this.shareManager}async setupNativeShareButton(e,t){if(this.setup(),this.shareManager)return this._managerReady||await this.waitManagerReady(),this.shareManager.setupNativeShareButton(e,t)}}ve.getInstance=(e={})=>(be||(be=new ve(e)),be);var _e=ve,we=r(48864),Se=r(18087),Pe=r(75874),ke=r(87634),Oe=r(72956);const Ce=m.Z.ShareErrorCode;let Ie={};Ie=_e;var xe=Ie},3296:function(e,t,r){"use strict";r.d(t,{i:function(){return i}});var n=r(51152);const o=[n.Z.QQ_CHAT_SESSION,n.Z.QQ_ZONE,n.Z.QQ_CHAT_SESSION_IMAGE,n.Z.QQ_ZONE_IMAGE],i=e=>o.indexOf(e)>=0},9127:function(e,t,r){"use strict";r.d(t,{s:function(){return i}});class n{constructor(e={}){this._cacheMap={},this._cacheLimit=e.cacheLimit||20}getResponseByHash(e=""){const t=this._cacheMap[e];return t?t.response:null}cacheResponseByHash(e="",t){if(!e||!t)return;if((Object.keys(this._cacheMap).length||0)>=this._cacheLimit)return;const r=this._cacheMap[e];r?r.response=t:this._cacheMap[e]={response:t,count:1,trigger:!1,complete:!1}}_write(e="",t="",r){const n=this._cacheMap[t]||{};n[e]=r,this._cacheMap[t]=n}_read(e="",t=""){return(this._cacheMap[t]||{})[e]}getCountByHash(e=""){return this._read("count",e)||0}increaseCount(e=""){return this._write("count",e,this.getCountByHash()+1)}getShareID(e=""){return this._read("share_id",e)}setShareID(e="",t=null){return this._write("share_id",e,t)}}let o=null;function i(){return o||(o=new n(...arguments)),o}},75665:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(23840),o=r(46332),i=r(79372),s=r(6288);const a="api/flow/audience/share/trace";var l=r(77017),c=r(10853);function u(e,t){if(!(t&&t.key&&t.value&&t.trace))return e;const r=new n.Z(e),{key:i,value:s}=t,a=t.trace;return(0,o.Z)(Object.assign({[i]:s},r.query),a,r.origin)}class p{constructor(e={}){this._isInited=!1,this._magicTrace=null}build({magicTrace:e={}}){return this._isInited||e.key&&e.value&&e.trace&&(this._magicTrace=e,this._isInited=!0),Promise.resolve()}isInited(){return this._isInited}transform(e){return u(e,this._magicTrace)}transformByShareEntity(e={}){return function(e="",t={}){const r=(0,s.e)({pageInfo:{pageId:(0,i.e6)()}},{defaultErrorHandler:e=>{}});let n=null,o={};return o.origin=t.platform||"",o.share_params=t.shareParams||{},o.page_sn=t.pageSn||(0,i.kd)()+"",o.page_info=t.pageInfo||{page_name:(0,i.j0)(),page_url:location&&location.href},t.payloadMixin&&"object"==typeof t.payloadMixin&&(o=Object.assign(o,t.payloadMixin)),n="post"===e.toLowerCase()?r.post(a,o):r.get(a,{params:o}),n.then(((e={})=>e.magic_trace))}("post",{platform:(0,c.Z)(),shareParams:(0,l.I)(e),payloadMixin:e.payloadMixin}).then((t=>u(e.shareURL,t)))}}let d=null;p.getInstance=function(e={}){return d||(d=new p(e)),d};var h=p},23840:function(e,t){"use strict";t.Z=class{constructor(e=""){this.hostname="",this.origin="",this.pagename="",this.pathname="",this.port=0,this.protocol="",this.query={},this.search="",this.hashTag="",this.parseURL(e)}parseURL(e){const t=e.split("#"),r=t[0]||"";this.hashTag=t[1]||"";const n=r.split("?");let o=n[0]||"";const i=n[1]||"";this.search="?"+i,this.query=(i.split("&")||[]).reduce(((e,t="")=>{const r=t.split("=");let n,o;try{n=decodeURIComponent(r[0]||""),o=decodeURIComponent(r[1]||"")}catch(e){n=""}return n&&(e[n]=o),e}),{});const s=o.match(/^([a-zA-Z]+:)\/\//)||[];this.protocol=s[1]||"";s[0]&&(o=o.replace(s[0],""));const a=o.match(/^((:?[a-zA-Z0-9](:?[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6})(:\d+)?\//)||[],[l,c]=(a[0]||"").replace(/\//g,"").split(":");this.hostname=l,this.port=parseInt(c||0,10),a[0]&&(o=o.replace(a[0],"")),this.protocol&&this.hostname&&(this.origin="".concat(this.protocol,"//").concat(this.hostname)),this.pathname="/"+o.replace(/^\//,"");const u=o.match(/\/?(\w+\.html)$/)||[];this.pagename=u[1]||""}}},60712:function(e,t,r){"use strict";r.d(t,{vD:function(){return o},uW:function(){return i},Pp:function(){return s}});const n={DEFAULT:0,REDIRECT:1,SERVER_DOMAIN:2,SERVER_CONTROL:3,SERVER_SHORT_URL:4,RAW:5,SERVER_TINY_DOMAIN:6,SERVER_DOMAIN_BASE64:7,DOMAIN_REPLACE:8,MAGIC_TRACE:9,MAGIC_TRACE_DYNAMIC:10,SERVER_SHORT_URL_WITH_CACHE:11,SERVER_TP_APP:12,SERVER_TP_APP_CARD:13,SERVER_QUERY_APPEND:14,CATEGORY_PROCEDURE:15,CATEGORY_PROCEDURE_CUSTOM:16};function o(e){return[n.SERVER_CONTROL,n.SERVER_SHORT_URL,n.SERVER_TINY_DOMAIN,n.SERVER_DOMAIN_BASE64,n.DOMAIN_REPLACE,n.SERVER_SHORT_URL_WITH_CACHE].indexOf(e)>=0}function i(e){return[n.SERVER_CONTROL,n.SERVER_TINY_DOMAIN,n.SERVER_DOMAIN_BASE64,n.DOMAIN_REPLACE].indexOf(e)>=0}function s(e){return[n.SERVER_SHORT_URL,n.SERVER_SHORT_URL_WITH_CACHE,n.SERVER_TP_APP_CARD,n.CATEGORY_PROCEDURE,n.CATEGORY_PROCEDURE_CUSTOM].indexOf(e)>=0}t.ZP=n},46332:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(88798),o=r(23840);function i(e={},t="",r=""){return 0===window.location.href.indexOf("amcomponent://")&&(r=r||new o.Z(t).origin),t=(0,n.ru)(e,(0,n.De)(t||location.href)),r?(r=r.replace(/\/$/g,""),"".concat(r).concat((0,n.Rh)(t))):t}},86804:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(46332),o=r(2568),i=r.n(o);function s(e={}){const t=e.shareURL,r=(0,n.Z)({refer_share_id:null,refer_share_uid:null,refer_share_channel:null,refer_share_uin:null},t),o=e.payloadMixin||{},s=JSON.stringify(o);return i()(r+s)}},79372:function(e,t,r){"use strict";r.d(t,{I8:function(){return o},e6:function(){return i},kd:function(){return s},j0:function(){return a}});const n={};function o(e={}){Object.assign(n,e)}function i(){return n.pageId||""}function s(){return n.pageSN||""}function a(){return n.pageName||""}},34105:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(43956),o=r(51152);const i={1:n.Z.APP_MESSAGE,2:n.Z.TIMELINE,3:n.Z.SINA_WEIBO,4:n.Z.QQ,5:n.Z.QQ_ZONE,8:n.Z.TIMELINE,9:n.Z.TIMELINE,10:n.Z.APP_MESSAGE,11:n.Z.QQ,12:n.Z.QQ_ZONE,13:n.Z.SINA_WEIBO,16:n.Z.APP_MESSAGE,17:n.Z.APP_MESSAGE,18:n.Z.APP_MESSAGE,19:n.Z.APP_MESSAGE,20:n.Z.APP_MESSAGE,21:n.Z.TIMELINE,23:n.Z.CLIPBOARD,24:n.Z.APP_MESSAGE,25:n.Z.APP_MESSAGE,[o.Z.COPY_CIPHER]:n.Z.CLIPBOARD,[o.Z.WECHAT_SESSION_CARD_WITH_NO_SDK]:n.Z.APP_MESSAGE,[o.Z.WECHAT_TIMELINE_CARD_WITH_NO_SDK]:n.Z.TIMELINE};function s(e=0){return i[e]||n.Z.UNKNOWN}},58437:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(445);const o="undefined"!=typeof window;function i(e=""){return e.match(/^http:?/)?e:(0,n.zT)().isNativePlatform||!o?"http://".concat(e):location.protocol?"".concat(location.protocol,"//").concat(e):void 0}},35338:function(e,t,r){"use strict";r.d(t,{O$:function(){return p},Hr:function(){return d},ZP:function(){return h}});var n=r(96156),o=r(88798),i=r(46332),s=r(23840),a=r(71863);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let u={};function p(e={}){const t=new s.Z(e.shareURL).query||{};return{refer_share_id:t.refer_share_id,refer_share_uid:t.refer_share_uid,refer_share_channel:t.refer_share_channel,refer_share_uin:t.refer_share_uin}}function d(e=""){return e.replace(/^(?:https?:?)?\/\//,"https://")}function h(e={},t={}){const r=e.miniObjectPath,n=new s.Z(r),a=new s.Z(n.query.target_page||""),l=a.query||{},h=t.appendQuery||{},f=c(c({},p(e)),h),m=e.shareDomain||u.shareDomain;if(l.specialUrl||l.src)return l.src?l.src=(0,i.Z)(f,l.src,m):l.src=d(e.shareURL),"".concat(n.pathname,"?").concat((0,o.XP)(Object.assign({},n.query,{target_page:"".concat(a.pathname,"?").concat((0,o.XP)(l))})));if(l.jump_url||l.launch_url){if(l.jump_url){const t=new s.Z(l.jump_url);if(!t.hostname){const r=t.query;r.specialUrl&&(r.src?r.src=(0,i.Z)(f,r.src,m):r.src=d(e.shareURL),l.jump_url="".concat(t.pathname,"?").concat((0,o.XP)(r)))}}return l.launch_url&&(l.launch_url=(0,i.Z)(f,l.launch_url)),"".concat(n.pathname,"?").concat((0,o.XP)(Object.assign({},n.query,{target_page:"".concat(a.pathname,"?").concat((0,o.XP)(l))})))}return n.hostname||a.hostname||!n.query.target_page?"".concat(n.pathname,"?").concat((0,o.XP)(Object.assign({},n.query,f))):"".concat(n.pathname,"?").concat((0,o.XP)(Object.assign({},n.query,{target_page:"".concat(a.pathname,"?").concat((0,o.XP)(Object.assign(l,f)))})))}"undefined"!=typeof window&&(u=a.Z.get(location.host)||{})},9903:function(e,t,r){"use strict";r.d(t,{v3:function(){return l},X4:function(){return c},SY:function(){return u},ZP:function(){return p}});var n=r(79372),o=r(6288),i=r(35338),s=r(23840),a=r(88798);const l={WEIXIN_TINY_DOMAIN:"weixin",SHORT_LINK:"link"},c={WECHAT:"h5",IOS:"ios",ANDROID:"android"};function u(e="",t={}){const r=(0,o.e)({pageInfo:{pageId:(0,n.e6)()}},{defaultErrorHandler:e=>{}});let s=null,a={};a.share_refer=(0,i.O$)({shareURL:t.shareURL}),t.payloadMixin&&"object"==typeof t.payloadMixin&&(a=Object.assign(a,t.payloadMixin));const l=t.shortURLApi||"api/flow/chron/share/miniprogram";return s="post"===e.toLowerCase()?r.post(l,a):r.get(l,{params:a}),s.then(((e={})=>e))}function p(e="",t={}){const r=(0,o.e)({pageInfo:{pageId:(0,n.e6)()}},{defaultErrorHandler:e=>{}});let c=null,u={};u.url=t.shareURL||"",u.activity=t.marketActivityID||0,u.platform=t.platform||"",u.share_refer=(0,i.O$)({shareURL:t.shareURL}),u.page_sn=(0,n.kd)(),t.payloadMixin&&"object"==typeof t.payloadMixin&&(u=Object.assign(u,t.payloadMixin));const p=t.urlAlias||"url_code",d=u[p];if(d&&"string"==typeof d){const e=new s.Z(d).query||{};Object.assign(e,u.share_refer),u[p]="".concat(d.split("?")[0]||"","?").concat((0,a.XP)(e))}let h="api/flow/audience/activity/domain/weixin";return t.shareDomainType===l.SHORT_LINK?h=t.shortURLApi?t.shortURLApi:t.shortCommandApi?t.shortCommandApi:"api/flow/audience/activity/domain/short_url":t.domainURLApi&&(h=t.domainURLApi),c="post"===e.toLowerCase()?r.post(h,u):r.get(h,{params:u}),c.then(((e={})=>({domain:e.domain,openAppID:e.open_app_id||"",shortURL:e.short_url||"",shareText:e.share_text||"",raw:e})))}},17288:function(e,t,r){"use strict";r.d(t,{Yy:function(){return g},CU:function(){return y},Ep:function(){return b},ls:function(){return v}});var n=r(81253),o=r(9903),i=r(445),s=r(38644),a=r(3296),l=r(75665),c=r(86804),u=r(9127),p=r(60712),d=r(23840),h=r(58437),f=r(46332);const m=["mobile.yangkeduo.com","m.hutaojie.com","panduoduo.yangkeduo.com"],g=(e={})=>{const t=e.shareURL||"",r=e.urlWrapType;if(r===p.ZP.DEFAULT||r===p.ZP.RAW)return Promise.resolve({missed:!0,realShareURL:t,targetShareURL:t});if(e.marketActivityID&&(0,p.vD)(r)){const n=(0,p.uW)(r)?o.v3.WEIXIN_TINY_DOMAIN:o.v3.SHORT_LINK,i=t.replace(/^(\w+:)?\/\//,""),s=(0,c.Z)(e),a=(0,u.s)(),l=()=>{const l=new Promise(((s,a)=>{(0,o.ZP)(e.requestUsePost?"post":"get",{shareURL:i,marketActivityID:e.marketActivityID,platform:b(),shareDomainType:n,shortURLApi:e.shortURLApi,shortCommandApi:e.shortCommandApi,domainURLApi:e.domainURLApi,payloadMixin:e.payloadMixin}).then((e=>{if(e){const{domain:i="",shortURL:a,shareText:l,raw:c}=e;if(n===o.v3.WEIXIN_TINY_DOMAIN)r===p.ZP.DOMAIN_REPLACE&&s(y(t,i));else if(n===o.v3.SHORT_LINK)return void s({useShortURL:!0,realShareURL:a||t,targetShareURL:t,shareText:l,rawResponse:c})}s({realShareURL:t,targetShareURL:t})})).catch((e=>{a(e)}))}));return n===o.v3.SHORT_LINK&&l.then((e=>{e&&e.useShortURL&&(a.cacheResponseByHash(s,e),a.setShareID(s,(new d.Z(t).query||{}).refer_share_id))})),l};if(r===p.ZP.SERVER_SHORT_URL_WITH_CACHE){let e=a.getResponseByHash(s);return e?(a.increaseCount(s),Promise.resolve(e)):l()}return l()}if(r===p.ZP.MAGIC_TRACE){const e=l.Z.getInstance().transform(t);return Promise.resolve({realShareURL:e,targetShareURL:e})}return r===p.ZP.MAGIC_TRACE_DYNAMIC?l.Z.getInstance().transformByShareEntity(e).then((e=>({realShareURL:e,targetShareURL:e})),(()=>({realShareURL:t,targetShareURL:t}))):r===p.ZP.SERVER_QUERY_APPEND?(0,o.SY)(e.requestUsePost?"post":"get",{shareURL:t,payloadMixin:e.payloadMixin,shortURLApi:e.shortURLApi}).then(((e={})=>{const r=e&&e.code_method;if(r)return{useCipher:r,realShareURL:t,targetShareURL:t};{const{share_title:r,share_img:o,dev_infos:i}=e,s=(0,n.Z)(e,["share_title","share_img","dev_infos"]),a=(0,f.Z)(s,t);return{appendQuery:s,categoryShareInfo:{title:r,thumbnailURL:o},realShareURL:a,targetShareURL:a,tpInfos:i}}})):Promise.resolve({missed:!0,realShareURL:t,targetShareURL:t})},y=(e,t)=>{const r=(0,f.Z)({},e,(0,h.Z)(t));return{targetShareURL:r,realShareURL:r}},b=()=>{const e=(0,i.zT)();return e.platform===s.iw.PddAndroid?o.X4.ANDROID:e.platform===s.iw.PddIOS?o.X4.IOS:o.X4.WECHAT},v=(e,t)=>{if(!(0,a.i)(e))return t;const r=new d.Z(t).hostname;return m.indexOf(r)<0&&(t=t.replace("//".concat(r),"//".concat("mobile.yangkeduo.com"))),t}},19005:function(e,t){"use strict";t.Z={CLIENT_RENDER:"CLIENT_RENDER",SERVER_RENDER:"SERVER_RENDER",FETCH_DATA:"FETCH_DATA"}},37988:function(e,t,r){"use strict";r.d(t,{GH:function(){return i}});var n=r(6288),o=r(7549);function i(){const e=(0,o.kd)();if(!e)throw new Error("monet请求远端动画, pageSn不能为空");return{pageSn:e,axiosHttpClient:(0,n.e)({pageInfo:{pageId:(0,o.e6)()}},{defaultErrorHandler:()=>{}})}}},19862:function(e,t,r){"use strict";r.d(t,{jV:function(){return v}});var n=r(17187),o=r(95831),i=r(23330),s=r(53740),a=r(37988),l=r(85564),c=r.n(l);const u=new Map,p=new n.EventEmitter;p&&p.setMaxListeners(0);const d=[];let h=5,f=0;const m={USE_IDLE:0,USE_TIMEOUT:1,USE_CUSTOM:2};async function g(e,t={category:m.USE_CUSTOM}){if(e&&Array.isArray(e))return Promise.all(e.map((e=>g(e,t))));if(!e||"string"!=typeof e)return Promise.reject(new Error("invalid params"));if(u.has(e))return u.get(e);if(f>=h){const e=Math.random().toString(36).slice(2),t="PENDING_".concat(e),r=new Promise(((e,r)=>{p.once(t,(t=>{t instanceof Error?r(t):e(t)}))}));return d.push({event:t,args:[...arguments]}),r}f++;const{category:r=m.USE_IDLE,timeout:n=3e3}=t,s=()=>{const r=e.endsWith(".json")?(0,o.rd)(e):b(e);u.set(e,r.catch((e=>{})));const n=r.then((t=>(y(),e)),(t=>{y(),u.delete(e)}));if("number"==typeof t.resolvedTimeout){let e=t.resolvedTimeout;return e=Math.min(Math.max(0,e),1e4),Promise.race([n,(0,i.OU)(e)])}return n};return new Promise((e=>{let t=null;window&&"function"==typeof window.requestIdleCallback&&[m.USE_IDLE,m.USE_CUSTOM].includes(r)?window.requestIdleCallback((async t=>{e(await s())})):[m.USE_TIMEOUT,m.USE_CUSTOM].includes(r)?t=setTimeout((async r=>{clearTimeout(t),e(await s())}),n):s().then((t=>e(t)))}))}function y(){if(f--,f<h&&d.length>0){const e=d.shift(1)||{},{event:t,args:r=[]}=e;g(...r).then((e=>{p.emit(t,e)}),(e=>{p.emit(t,e)}))}}async function b(e=""){return new Promise(((t,r)=>{const n=new Image;n.onerror=()=>{r(new Error("preloadImage failed"))},n.onload=()=>{t(e)},n.src=e}))}async function v(e,t={}){const{preserveOriginSprites:r=!1}=t,n=await(0,s.GB)({fetchOptions:t.fetchOptions||(0,a.GH)(),scene:e}),o=Object.keys(n).reduce(((e,t)=>{const o=n[t],{imageAssets:i=[],animJsonUrl:s,loadOptions:a={},spriteUrl:l,spriteDraft:c}=o;let u=[];if(c){const{draft:e=[]}=c;u=u.concat(e.map(((e=[])=>e[0])).filter((e=>!!e)))}const p=i.map(((e="")=>/^https?:\/\//.test(e)?e:a.assetsPath?"".concat(a.assetsPath).concat(e):e)).filter((e=>!!e&&(!u.includes(e)||r))).concat([s]);return l&&p.push(l),e[t]=p.length?g(p):Promise.resolve(),e}),{});return t.seperate?o:Promise.all(Object.values(o)).then(((e=[])=>{const t=c()(e),r=t.filter((e=>!!e));return{urls:r,success:r.length,fail:t.length-r.length}}))}},42004:function(e,t,r){"use strict";r.d(t,{V:function(){return n}});const n={COMPLETE:"complete",LOOP_COMPLETE:"loopComplete",ENTER_FRAME:"enterFrame",SEGMENT_START:"segmentStart",CONFIG_READY:"config_ready",DATA_READY:"data_ready",DATA_FAILED:"data_failed",LOADED_IMAGES:"loaded_images",DOM_LOADED:"DOMLoaded",DESTROY:"destroy"}},53740:function(e,t,r){"use strict";r.d(t,{YS:function(){return L},GB:function(){return A},HZ:function(){return D}});var n=r(96156),o=r(95831);const i=window.requestAnimationFrame||window.webkitRequestAnimationFrame,s=window.cancelAnimationFrame||window.webkitCancelAnimationFrame,a=new Map;var l=r(42004),c=r(23330),u=r(68421),p=r(17187);const d=function(){const e=(0,u.ln)("canvas");e.width=1,e.height=1;const t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function h(e,t,r){var n="";if(e.e)n=e.p;else if(t){var o=e.p;-1!==o.indexOf("images/")&&(o=o.split("/")[1]),n=t+o}else n=r,n+=e.u?e.u:"",n+=e.p;return n}let f=null;const m=new Map,g="IMAGE_LOADED",y="FALLBACK_URL",b=function(){function e(e){return e.response&&"object"==typeof e.response?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,r,n){var o,i=new XMLHttpRequest;try{i.responseType="json"}catch(e){}i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status)o=e(i),r(o);else try{o=e(i),r(o)}catch(e){n&&n(e)}},i.open("GET",t,!0),i.send()}}}();class v extends p.EventEmitter{constructor(...e){super(...e),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[],this.failedMap={},this.setMaxListeners(0)}imageLoaded(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&(this.emit(g),this.imagesLoadedCb(null))}footageLoaded(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&(this.emit(g),this.imagesLoadedCb(null))}handleFallback(e,t){if(!f||"function"!=typeof f)return null;const r=this.failedMap[t]||0;return r>=3?null:f(e,r)}createImageData(e){const t=h(e,this.assetsPath,this.path),r=(0,u.fz)(t);if(r&&(0,u.iO)()){const t={img:(0,u.b7)("image"),assetData:e};return r.then(((r={})=>{const{image:n,dataUrl:o}=r||{};n?(e.e=1,e.p=o,e.u="",t.img=n):t.img=d,this.imageLoaded()})),this._elementHelper&&(this._elementHelper.append?this._elementHelper.append(t.img):this._elementHelper.appendChild(t.img)),t}if(f){const r={img:null,assetData:e},n=e=>{const o=(0,u.b7)("image");return new Promise(((t,r)=>{o.addEventListener("load",(()=>{t(o)}),!1),o.addEventListener("error",(()=>{r(new Error("load failed"))}),!1),o.setAttributeNS("http://www.w3.org/1999/xlink","href",e)})).then((n=>{r.img=n,e!==t&&(m.set(t,e),this.emit(y,{path:t,url:e})),this.imageLoaded()})).catch((o=>{const i=this.handleFallback(e,t);if(i){const e=this.failedMap[t]||0;this.failedMap[t]=e+1,n(i)}else r.img=d,this.imageLoaded()})),o};return r.img=n(t),this._elementHelper&&(this._elementHelper.append?this._elementHelper.append(r.img):this._elementHelper.appendChild(r.img)),r}{const r=(0,u.b7)("image");(0,u.yE)(t).then((e=>{this.imageLoaded()}),(e=>{n.img=d,console.error(e),this.imageLoaded()})),r.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this._elementHelper&&(this._elementHelper.append?this._elementHelper.append(r):this._elementHelper.appendChild(r));const n={img:r,assetData:e};return n}}createImgData(e){const t=h(e,this.assetsPath,this.path);if(f){const r={img:null,assetData:e},n=e=>{const o=(0,u.ln)("img");return new Promise(((e,r)=>{o.crossOrigin="anonymous",o.addEventListener("load",(()=>{e(o)}),!1),o.addEventListener("error",(()=>{r(new Error("load failed"))}),!1),o.src=t})).then((n=>{r.img=n,e!==t&&(m.set(t,e),this.emit(y,{path:t,url:e})),this.imageLoaded()})).catch((o=>{const i=this.handleFallback(e,t);if(i){const e=this.failedMap[t]||0;this.failedMap[t]=e+1,n(i)}else r.img=d,this.imageLoaded()})),o};return r.img=n(t),r}{const r=(0,u.ln)("img");r.crossOrigin="anonymous",r.addEventListener("load",(()=>{this.imageLoaded()}),!1),r.addEventListener("error",(()=>{n.img=d,this.imageLoaded()}),!1),r.src=t;const n={img:r,assetData:e};return n}}loadAssets(e,t){this.imagesLoadedCb=t;var r,n=e.length;for(r=0;r<n;r+=1)e[r].layers||(e[r].t?3===e[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[r]))):(this.totalImages+=1,this.images.push(this._createImageData(e[r]))))}createFootageData(e){const t={assetData:e},r=h(e,this.assetsPath,this.path);return b.load(r,(e=>{t.img=e,this.footageLoaded()}),(()=>{t.img={},this.footageLoaded()})),t}setPath(e){this.path=e||""}setAssetsPath(e){this.assetsPath=e||""}getImage(e){for(var t=0,r=this.images.length;t<r;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}}destroy(){this.imagesLoadedCb=null,this.images.length=0}loaded(){return this.totalImages===this.loadedAssets}loadedImages(){return this.totalImages===this.loadedAssets}loadedFootages(){return this.totalFootages===this.loadedFootagesCount}setCacheType(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}}function _(){return f}var w=v;function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let k=null;function O({lottie:e,loadAnimConfig:t,proxyOptions:r={},originAnimation:n,pretreatEffect:o,scene:p}){const{sendFPSRecord:d,recordFps:h=!1,recordConfig:f,enableProtection:m=!1,useAsyncCall:b=!1,enableSprite:v=!1,enableImageFallback:_=!1}=r;if((v||_)&&"function"!=typeof k)try{const t=e.loadAnimation({});if(t){const e=t.renderer?t.renderer.constructor.prototype.createImage:null;if(e){const t=e.call({globalData:{getAssetData:()=>({w:0,h:0,pr:"xMidYMid meet"}),getAssetsPath:e=>"",renderConfig:{}}},{sr:1}),r=Object.getPrototypeOf(t).constructor,n=r.prototype.createContent;r.prototype.createContent=function(...e){if(n.apply(this,[...e]),this.globalData&&this.globalData.imageLoader&&"function"==typeof this.globalData.imageLoader.on&&this.innerElem){const e=this.globalData.imageLoader,t=({path:r,url:n}={})=>{if(!this.innerElem)return;const o=this.innerElem.getAttributeNS("http://www.w3.org/1999/xlink","href");r===o&&n!==o&&(this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",n),e.removeListener(y,t))};e.on(y,t),e.once(g,(()=>{e.removeListener(y,t)}))}}}k=Object.getPrototypeOf(t).constructor;const r=k.prototype.setParams;k.prototype.setParams=function(...e){try{const t=e[0]||{},{monet$enableSprite:r}=t;this.monet$enableSprite=!!r,delete t.monet$enableSprite}catch(e){}return!1===this.isLoaded&&(this.imagePreloader=new w),r.apply(this,[...e])};const n=k.prototype.checkLoaded;k.prototype.checkLoaded=function(...e){if(!this.monet$enableSprite||this.imagePreloader.loaded())return n.apply(this,[...e])}}}catch(e){(0,u.hl)(!0)}const S=e.loadAnimation(P(P({},t),{},{monet$enableSprite:v}));if(!S)return S;S.monet$enableSprite=v,S.$$monet=!0,n&&n.monet$originLoadConfig?S.monet$originLoadConfig=n.monet$originLoadConfig:S.monet$originLoadConfig=t,S.monet$loadAnimConfig=t,S.monet$lottie=e,t.animationData&&(S.monet$isEditable=!0),o&&Object.keys(o).forEach((e=>{S["monet$".concat(e)]=o[e]})),function(e){if(!e)return e;if(e.monet$eventTriggers)return e;e.monet$eventTriggers=e.monet$eventTriggers||{};const t=e.monet$eventTriggers;[l.V.CONFIG_READY,l.V.DATA_FAILED,l.V.DATA_READY,l.V.DOM_LOADED,l.V.LOADED_IMAGES,l.V.DESTROY].forEach((r=>{t[r]=(0,c.Dc)(e,r)}))}(S);const O=S.name||p||"unknown-scene";if("undefined"==typeof Proxy)return S;const{start:C,stop:I}=function(e,t={}){const{sendFPSRecord:r=(()=>{})}=t;function n(){if(!a.has(e)||"function"!=typeof s)return null;const t=a.get(e);t.endTime=Date.now(),s(t.handle),delete t.handle,a.delete(e),r(t)}return{start:function(t={}){let{timeout:r=5e3,timeGap:o=1e3}=t;if(a.has(e)||"function"!=typeof i)return;const s={eventId:Math.random().toString(36).slice(2),eventName:e,startTime:Date.now(),endTime:null,fpsList:[]};a.set(e,s),r=Math.max(Math.min(Number(r),3e4),0);let l=0;const c=()=>{const e=Date.now();l++,e>s.startTime+o*(s.fpsList.length+1)&&(s.fpsList.push(l),l=0),!s.endTime&&e-s.startTime>=r?n():s.handle=i(c)};s.handle=i(c)},stop:n}}(O,{sendFPSRecord:d});return h&&t.autoplay&&((0,c.Dc)(S,l.V.DOM_LOADED,{cache:!0}).then((()=>{C(f)})),(0,c.Dc)(S,l.V.COMPLETE).then((()=>{I()}))),new Proxy(S,{get:function(e,t){let r=null;if(["play","resume","playSegments","goToAndPlay"].includes(t)){const n=e[t];r=function(...e){h&&C(f),n.apply(this,e)}}else if(["pause","stop","destroy"].includes(t)){const n=e[t];r=function(...e){h&&I(),"destroy"===t?m&&S.$$monet&&!S.monet$lottie||(!function(e){if(!e)return;Object.keys(e).filter((e=>(e+"").startsWith("monet$"))).forEach((t=>{delete e[t]}))}(S),n.apply(this,e)):n.apply(this,e)}}return r?b?async function(...e){return r.apply(this,e)}.bind(e):r.bind(e):e[t]}})}var C=r(87470);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let E=!1,T=!1;async function D({lottie:e,container:t,loadOptions:r,scene:n,fetchOptions:i={},proxyOptions:s={},originAnimation:a,pretreatOptions:l={}}){if(!e)return Promise.reject(new Error("invalid param: `lottie`"));const c=x({enableJsonFallback:T,enableImageFallback:E},s);if(r&&!n){const[o,i]=await Promise.all([R({loadOptions:x({container:t},r),pretreatOptions:l,proxyOptions:c,scene:n}),e]),{loadAnimConfig:s,pretreatEffect:u}=o;return O({lottie:i,loadAnimConfig:s,proxyOptions:c,originAnimation:a,pretreatEffect:u})}if(!n||"string"!=typeof n)return Promise.reject(new Error("invalid param: `scene`"));const[u,p]=await Promise.all([(0,o.D9)(x({sceneSns:[n]},i)),e]),{[n]:d}=u;if(!d)return Promise.reject(new Error("load scene config failed"));const{loadAnimConfig:h,pretreatEffect:f}=await R({scene:n,loadOptions:x(x({container:t},d.loadOptions||{}),r||{}),pretreatOptions:l,proxyOptions:c,sceneConfig:d});return O({scene:n,lottie:p,loadAnimConfig:h,proxyOptions:c,originAnimation:a,pretreatEffect:f})}async function A({fetchOptions:e,scene:t=""}){if(!t||!e)return null;const r="string"==typeof t?[t]:Array.isArray(t)?t:[],n=await(0,o.D9)(x({sceneSns:r},e));return r.reduce(((t,r)=>{const o=n[r]||{},{imageAssets:i=[],animJsonUrl:s="",loadOptions:a={},spriteUrl:l,spriteDraft:c}=o;return t[r]={imageAssets:i.map((t=>{let n=t;if("function"==typeof e.imageUrlProcessor)try{n=e.imageUrlProcessor(n,{scene:r})}catch(e){0}return a.assetsPath&&(n=a.assetsPath+n),n})),animJsonUrl:s},l&&(t[r].spriteUrl=l,t[r].spriteDraft=c),t}),{})}async function R({scene:e,loadOptions:t={},pretreatOptions:r={},sceneConfig:n={},proxyOptions:o={}}={}){const{layerRefs:i=[],imageReplaceMap:s,absolute:a,customProcess:l,replaceMap:c,editable:u}=r,p={layerRefsMap:{},bucketName:null};if((u||o.enableJsonFallback&&"function"==typeof _())&&(t=await(0,C.mh)(t,x({resolveImageFallbackUrl:_()},o))),n.bucketName&&(p.bucketName=n.bucketName),u){i&&i.length&&t.animationData&&(p.layerRefsMap=i.reduce(((e,r)=>{let n=null;try{n=(0,C.NQ)(t.animationData,r)}catch(e){}return e[r]=n,e}),{})),s&&t.animationData&&(0,C.bW)(t.animationData,s,{absolute:a}),c&&t.animationData&&Object.keys(c).forEach((e=>{(0,C.tW)(t.animationData,e,c[e])}));let r=[];if(l&&"function"==typeof l?r.push(l):Array.isArray(l)&&r.push(...l),r=r.filter((e=>"function"==typeof e)),r.length>0)for(const o of r)t=await o(t,n,{scene:e})}return{loadAnimConfig:t,pretreatEffect:p}}function L(e,t="",r={}){if(!e||!t||"string"!=typeof t)return null;return(e.monet$layerRefsMap||{})[t]||null}},68421:function(e,t,r){"use strict";r.d(t,{fz:function(){return i},yE:function(){return s},N$:function(){return a},hl:function(){return l},iO:function(){return c},ln:function(){return u},b7:function(){return p}});let n=new Map,o=!1;function i(e){return e?n.get(e):null}async function s(e){return new Promise(((t,r)=>{const n=new Image;n.crossOrigin="Anonymous",n.onload=()=>{t(n)},n.onerror=()=>{r(new Error("get size failed"))},n.src=e}))}function a(e,t={}){if(o||!e)return;const{useCompress:r=!1,isCanvas:i}=t,{url:a,compressed:l,draft:c=[]}=e,d=s(r?l:a);c.forEach(((e=[],t)=>{const[r,o,s,a,l]=e,c=d.then((e=>{if(!e)throw new Error("invalid sprites image");const t=document.createElement("canvas");t.width=a,t.height=l;t.getContext("2d").drawImage(e,o,s,a,l,0,0,a,l);const r=i?u("img"):p("img"),n=t.toDataURL();return i?r.src=n:r.setAttributeNS("http://www.w3.org/1999/xlink","href",n),{image:r,dataUrl:n}})).catch((e=>{n.delete(r)}));n.set(r,c)}))}function l(e){o=e}function c(){return!o}function u(e){return document.createElement(e)}function p(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}},95831:function(e,t,r){"use strict";r.d(t,{D9:function(){return l},rd:function(){return c},Bx:function(){return p}});var n=r(96156),o=r(68421);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const a=new Map;async function l({axiosHttpClient:e=null,disableCache:t=!1,pageSn:r="",sceneSns:n=[],versions:i,useCompressedSprites:l=!1}){n=n.filter((e=>e&&"string"==typeof e));const c={};if(t||(n=n.filter((e=>!a.has(e)||(c[e]=a.get(e),!1)))),n.length<=0)return u(c);if(!e||"function"!=typeof e.post)return Promise.reject(new Error("使用远端场景加载功能需要传入axios实例对象"));const p=(async()=>{const t={page_sn:r,scene_sns:n,versions:i},{data:s=[]}=await e.post("/api/flow/pit/lottie/json",t);return s.reduce(((e,t={})=>{const r={};try{r.bucketName=t.bucket_name,r.sceneSn=t.scene_sn,r.animJsonUrl=t.json_value,r.imageAssets=JSON.parse(t.image_value||"{}"),r.loadOptions=JSON.parse(t.config_value||"{}");const n=r.loadOptions.$spriteDraft;n&&((0,o.N$)(n,{useCompress:l,isCanvas:"svg"!==r.loadOptions.renderer}),r.spriteUrl=l?n.compressed:n.url,r.spriteDraft=n,delete r.loadOptions.$spriteDraft),e[t.scene_sn]=r}catch(e){}return e}),{})})();n.forEach((e=>{a.set(e,p.then(((t={})=>t[e]),(t=>{a.delete(e)})))}));const d=await p;return s(s({},await u(c)),d)}async function c(e){return e&&"string"==typeof e?fetch(e,{method:"GET",mode:"cors",header:{Accept:"*/*"}}).then((e=>{if(e&&200===e.status)return e.json()})):Promise.reject(new Error("invalid path"))}async function u(e={}){return(await Promise.all(Object.keys(e).map((async t=>({scene:t,value:await e[t]}))))).reduce(((e,t={})=>{const{scene:r,value:n}=t;return e[r]=n,e}),{})}function p(e,t,r={}){if(!e||"string"!=typeof e||!t)throw new Error("invalid scene or data");a&&a.set(e,new Promise((e=>{const n=t.loadOptions||{},i=(t.loadOptions||{}).$spriteDraft;i&&((0,o.N$)(i,{useCompress:r.useCompressedSprites,isCanvas:"svg"!==n.renderer}),t.spriteUrl=r.useCompressedSprites?i.compressed:i.url,t.spriteDraft=i,delete t.loadOptions.$spriteDraft),e(t)})))}},87470:function(e,t,r){"use strict";r.d(t,{bW:function(){return p},mh:function(){return h},NQ:function(){return f},R3:function(){return m},tW:function(){return g}});var n=r(96156),o=r(95831),i=r(27361),s=r.n(i),a=r(36968),l=r.n(a);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t={},r={}){if(!e)return!1;(e.assets||[]).forEach(((e={})=>{const n=t[e.id];"string"==typeof n?(e.p=n,r.absolute&&(e.e=1)):n&&"object"==typeof n&&Object.assign(e,n)}))}const d={};async function h(e={},t={}){if(!e||e.animationData)return e;if(!e.path)return Promise.reject(new Error("[monet]: invalid path config"));const r=await async function(e,t={}){if(!e)throw new Error("[monet]: invalid json url");const{enableJsonFallback:r,resolveImageFallbackUrl:n}=t||{};if(r&&"function"==typeof n){const t=r=>(0,o.rd)(r).catch((o=>{const i=d[e]||0;if(i>=3)throw new Error("[monet]: fetchJsonWithFallback failed after retry");const s=n(r,i);return d[e]=i+1,t(s)}));return t(e)}return(0,o.rd)(e)}(e.path,t);return u(u({},e),{},{animationData:r,path:null})}function f(e,t=""){if(!e||!t||"string"!=typeof t)throw new Error("createLayerRefByAnimationData: invalid params");const r="animationData.";t.startsWith(r)&&(t=t.slice(r.length));const n=s()(e,t);if(!n||"object"!=typeof n)throw new Error("createLayerRefByAnimationData: cannot find target");let o=null;return n.ln?o=n.ln:(o=Math.random().toString(36).slice(2),n.ln=o),{id:o,refId:n.refId,classname:n.cl,name:n.nm,path:t}}function m(e){return"undefined"!=typeof window&&e&&"string"==typeof e.id?document.getElementById(e.id):null}function g(e,t="",r){if(!e||void 0===r)return!1;const n="animationData.";t.startsWith(n)&&(t=t.slice(n.length)),l()(e,t,r)}},23330:function(e,t,r){"use strict";r.d(t,{Dc:function(){return l},af:function(){return c},AE:function(){return u},sA:function(){return p},OU:function(){return d}});var n=r(96156),o=r(42004);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a({animation:e,handler:t,disable:r}){!r&&"function"==typeof t&&Promise.resolve().then((r=>{e&&e.renderer&&t()}))}async function l(e,t,r={}){return e?t&&Object.values(o.V).includes(t)?r.cache&&e.monet$eventTriggers&&e.monet$eventTriggers[t]?e.monet$eventTriggers[t]:new Promise((n=>{if(!e.renderer)return n("animation already destroyed");const o=e.addEventListener(t,((...t)=>{a({animation:e,handler:o,disable:r.disableDelayClean}),n(...t)}))})):Promise.reject(new Error("invalid params: `event`")):Promise.reject(new Error("invalid params: `animation`"))}async function c(e,t=[],r=!1,n={}){return e?Array.isArray(t)?(await l(e,o.V.DOM_LOADED,{cache:!0}),new Promise(((i,s)=>{if(!e.renderer)return s(new Error("animation already destroyed"));const l=e.addEventListener(o.V.COMPLETE,(()=>{a({animation:e,handler:l,disable:n.disableDelayClean}),i()}));e.playSegments(t,r)}))):Promise.reject(new Error("invalid params: `segments`")):Promise.reject(new Error("invalid params: `animation`"))}async function u(e,t,r={}){if(!e)return Promise.reject(new Error("invalid params: `animation`"));if("number"!=typeof t)return Promise.reject(new Error("invalid params: `timeInterval`"));const{disableDelayClean:n,absolute:i,opposite:s}=r;return new Promise(((r,l)=>{if(!e.renderer)return l(new Error("animation already destroyed"));const c=e.addEventListener(o.V.COMPLETE,(()=>{a({animation:e,handler:c,disable:n}),a({animation:e,handler:u,disable:n}),l(new Error("wait timeout"))})),u=e.addEventListener(o.V.ENTER_FRAME,(o=>{const{currentTime:l}=o||{},p=i&&e?l+(e.firstFrame||0):l;(s?p<t:p>t)&&(a({animation:e,handler:c,disable:n}),a({animation:e,handler:u,disable:n}),r())}))}))}function*p({animation:e=null,segmentsList:t=[],forcePlay:r,options:n={},dynamic:i=!1}){const{disableDelayClean:c}=n,u=i?t:t.filter((e=>Array.isArray(e)&&e.length>=2));if(u.length<=0)return!1;const p=(t,i=[])=>{t?l(e,o.V.DOM_LOADED,s(s({},n||{}),{},{cache:!0})).then((()=>{e.playSegments(i.slice(0,2),r)})):e.playSegments(i.slice(0,2),r)},d=(t,r=[])=>{const i=l(e,o.V.COMPLETE,n);return p(t,r),i};let h=!0;for(;u.length>0;){const t=u.shift(),r=t[2]&&t[2]instanceof Promise?t[2]:"function"==typeof t[2]?Promise.resolve().then((e=>t[2]())):null,n=!!t[3];if(r){let i=null;const s=()=>{n?p(h,t):i=d(h,t)},l=e.renderer&&e.addEventListener(o.V.COMPLETE,(()=>{s()}));s(),n?yield r.finally((t=>{a({animation:e,handler:l,disable:c})})):yield r.then((t=>{if(i)return i.finally((t=>{a({animation:e,handler:l,disable:c})}))})).catch((t=>{throw a({animation:e,handler:l,disable:c}),i=null,t}))}else yield d(h,t)}return!0}function d(e){return new Promise((t=>{setTimeout((e=>{t()}),e)}))}},12440:function(e,t,r){"use strict";r.d(t,{FY:function(){return s},G:function(){return i},mL:function(){return a}});r(36968);var n=r(44227),o=(r(68254),r(8492),r(25500),r(97762),r(44227).createElement);const i=n.createContext(null);class s{constructor(e){this.chunkModuleArr=[],this.chunkMap=null,this.chunkMap=e}register({children:e,dependChunkName:t}){const r=this.chunkMap[t];if(!r)return;const n=this.chunkModuleArr.length,o="module_chunk_".concat(n);return this.chunkModuleArr.push({id:o,children:e||null,dependPromise:r}),o}getPromiseArr(){return this.chunkModuleArr.map((async e=>e.dependPromise))}}const a=({dependChunkName:e,loadingView:t,children:r,style:s,className:a})=>{const l=(0,n.useContext)(i);l&&l.register({children:r,dependChunkName:e});return o("div",{style:s,className:a},r||null)}},37819:function(e,t,r){"use strict";r(57147);var n=r(61578),o=r(83296),i=r(61980),s=r(27361),a=r.n(s),l=r(67353),c=r(44227),u=r(88169),p=r(25500),d=r.n(p),h=r(19005),f=r(40607),m=r(44227).createElement;var g=function(e,t){const r=(0,f.Ry)(),n=t||document.getElementById("main");let o=()=>m(e,null);if(e.useIsomorphicStyle){o=function(e,t){return()=>m(d().Provider,{value:{insertCss:t}},m(e,null))}(o,((...e)=>{const t=e.map((e=>e._insertCss()));return()=>t.forEach((e=>e()))}))}r.ssrType===h.Z.SERVER_RENDER||r.useServerRender?u.hydrate(m(o,null),n):u.render(m(o,null),n)},y=r(92316),b=r(85929),v=r(86270),_=r(64663),w=r(35642),S=r(445),P=r(54859);async function k(){try{await async function(){const e=(0,S.zT)();e.isWeChatPlatform||(0,P.WC)()?await r.e(6182).then(r.t.bind(r,93019,23)):e.isQQMiniProgram?await r.e(4190).then(r.t.bind(r,48632,23)):e.isPureQQPlatform&&await Promise.all([(0,w.v)("https://mp.gtimg.cn/open/js/openApi.js",{crossOrigin:"anonymous"}),(0,w.v)("https://open.mobile.qq.com/sdk/qqapi.wk.js?_bid=152",{})])}()}catch(e){k().catch((e=>{(0,_.eK)({error_msg:"页面初始化动态加载sdk失败",page:e.message})}))}}var O=r(72569),C=r(95978),I=r(85751),x=r(26422);var E,T=r(81253),D=r(96156),A=r(45697),R=r.n(A),L=r(8492),M="undefined"!=typeof window,Z={IOS_DEVICE_WEBVIEW_TYPES:{SAFARI:"SAFARI",UIWEBVIEW_LIKE_SAFARI:"UIWEBVIEW_LIKE_SAFARI",WKWEBVIEW_LIKE_SAFARI:"WKWEBVIEW_LIKE_SAFARI",UIWEBVIEW:"UIWEBVIEW",WKWEBVIEW:"WKWEBVIEW"},getIOSDeviceWebviewType:function(){if(!M)return!1;if("iP"===navigator.platform.substr(0,2)){var e=/constructor/i.test(window.HTMLElement),t=window.navigator,r=t.userAgent,n=!!window.indexedDB;if(-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version")&&!t.standalone)return!n&&e||!window.statusbar.visible?this.IOS_DEVICE_WEBVIEW_TYPES.UIWEBVIEW_LIKE_SAFARI:window.webkit&&window.webkit.messageHandlers||!e||n?this.IOS_DEVICE_WEBVIEW_TYPES.WKWEBVIEW_LIKE_SAFARI:this.IOS_DEVICE_WEBVIEW_TYPES.SAFARI;if(!n&&e||!window.statusbar.visible)return this.IOS_DEVICE_WEBVIEW_TYPES.UIWEBVIEW;if(window.webkit&&window.webkit.messageHandlers||!e||n)return this.IOS_DEVICE_WEBVIEW_TYPES.WKWEBVIEW}return!1}};Z.doHackOfIOSWkWebViewPositionFixedFailureByKeyboard=(E=Z.getIOSDeviceWebviewType())===Z.IOS_DEVICE_WEBVIEW_TYPES.WKWEBVIEW||E===Z.IOS_DEVICE_WEBVIEW_TYPES.WKWEBVIEW_LIKE_SAFARI,Z.isWKWebView=M&&(window.__wxjs_is_wkwebview||function(){var e=Z.getIOSDeviceWebviewType();return e===Z.IOS_DEVICE_WEBVIEW_TYPES.WKWEBVIEW||e===Z.IOS_DEVICE_WEBVIEW_TYPES.WKWEBVIEW_LIKE_SAFARI}());var j=Z,N=r(89544),z=r(94355),U=r(60009);var B=r(44227).createElement;function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H=r(12440),W=r(89421),q=r(16477),V=r(4075),K=r(62044),Y=r(97287),Q=r(44227).createElement;function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const J="needLogin";class ee extends c.Component{static getInitPropsWrapper({getDatasource:e,needRedirect:t=!1}){return async({requestContext:t})=>{try{let r;if((0,P.jU)())r=(0,U.Wv)();else{const e=await t.fetchAccessToken();if(!e)throw J;r=(0,U.Wv)({res:t.__res,req:t.__req,accessToken:e})}const n=(0,S.Xf)(t.userAgent||""),o=t.userAgent||"",i=e(r);let s={ua:o};return await Promise.all(Object.entries(i).map((async([e,r])=>{const o=await r(t,n);s=$($({},s),{},{[e]:o})}))),{initialData:s,axiosHttp:r}}catch(e){if((0,P.HD)(e)&&e===J)throw J;if((0,P.Kn)(e)&&e.errorCode===Y.R.AUTHENTICATION_FAILED)throw J;if(!(0,P.jU)())throw e;(0,_.Pr)(JSON.stringify(e)),(0,_.eK)({error_msg:"获取初始数据失败"})}}}constructor(e,t){if(super(e),this.store=null,(e||{}).ssrType===h.Z.SERVER_RENDER)this.store=a()(e,"store")||{};else{const{data:r}=e||{},{initialData:n,axiosHttp:o}=r||{},i={initialData:n,axiosHttp:(0,P.jU)()?(0,U.Wv)():o};this.store=new t(i)}}render(){return Q(c.Fragment,null,"override")}}var te=ee,re=r(5476),ne=r(95431),oe=r(31094),ie=r(89347),se=r(94572),ae=r(17954),le=r(64091),ce=r(37464),ue=r(87860);function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const he=["mcbSharedXcxCardResult","extendMap","diffCBubble","mcShareInfo"];function fe(e){return null!=e&&e.length?e.reduce(((e,t)=>{const r=(null==t?void 0:t.row)||0;return de(de({},e||{}),{},{[r]:de(de({},t||{}),{},{insertIndex:r})})}),{}):null}class me extends le.b{constructor(...e){super(...e),this.queryFirstPage=async({mallListReferBizScene:e,flowTrace:t,flowStation:r,storeId:n,extendMap:o=null,cartAttrMap:i=null,mktFreshSource:s=null,backendPopupQuery:a=null,backendBannerQuery:l=null,backendMcTimeLineQuery:c=null,tagAttrMap:u})=>{const p={source_side:ce.N.QueryHome,refer_biz_scene:e,store_id:n,extend_map:o,cart_attr_map:i,mkt_fresh_source:s,mc_popup_query:a,mc_banner_query:l,mc_timeline_query:c,tag_attr_map:u};t&&(p.flow_trace=t),r&&(p.flow_station=r);try{const e=await this.postRisk("/api/mc/v0/alexa/query_first_page",p,{excludedKeys:he}),{serverTime:t,mcbSharedXcxCardResult:r,storeAccountInfoResult:n}=e;return de(de({},(0,T.Z)(e,["serverTime","mcbSharedXcxCardResult","storeAccountInfoResult"])),{},{isGoodsListInit:!1,serverTime:t,mallShareInfo:(0,se.P)(null==r?void 0:r.share_info),storeAccountInfo:n})}catch(e){return(0,P.jU)()||(0,U.Zm)(e),{success:!1,errorCode:e.errorCode,errorMsg:e.message||e.errorMsg}}},this.queryHomeBack=async({src:e=null,storeId:t,mktFreshSource:r=null,tagAttrMap:n,backendPopupQuery:o=null,backendBannerQuery:i=null,backendMcTimeLineQuery:s=null,mallListReferBizScene:a})=>{const l={src:e,source_side:ce.N.HomePageBack,store_id:t,mkt_fresh_source:r};o&&(l.mc_popup_query=o),i&&(l.mc_banner_query=i),s&&(l.mc_timeline_query=s),n&&(l.tag_attr_map=n),a&&(l.refer_biz_scene=a);try{const e=await this.postRisk("/api/mc/v0/alexa/query_first_page",l,{excludedKeys:he}),{mcbSharedXcxCardResult:t,goodsList:r,storeAccountInfoResult:n}=e,o=(0,T.Z)(e,["mcbSharedXcxCardResult","goodsList","storeAccountInfoResult"]);return o&&o.success?Object.assign({},o,{mallShareInfo:(0,se.P)(null==t?void 0:t.share_info),storeAccountInfo:n,success:!0}):Object.assign({},o,{errorMsg:o.errorMsg||"进店失败"})}catch(e){return{success:!1,errorMsg:e.message||e.errorMsg||"进店失败"}}},this.queryGoodsList=async({storeId:e,offset:t,size:r,listId:n,topGoodsList:o=null,recExt:i,extendMap:s})=>{try{const a=await this.postRisk("/api/mc/v0/alexa/goods_list",{store_id:e,list_id:n,offset:t,count:r,top_goods_list:o,rec_ext:i,[W.Uk.extendMap]:s,support_combination_goods:!0},{excludedKeys:he}),{goodsList:l,crossModules:c}=a;return de(de({},(0,T.Z)(a,["goodsList","crossModules"])),{},{plugModulesData:fe(c),goodsList:l})}catch(e){return{success:!1,errorCode:e.errorCode,errorMsg:e.message||e.errorMsg}}},this.queryFirstGoodsList=async({storeId:e,offset:t=0,size:r=10,listId:n,topGoodsList:o=null})=>{try{const i=await this.postRisk("/api/mc/v0/alexa/goods_list",{store_id:e,list_id:n,offset:t,count:r,top_goods_list:o,support_combination_goods:!0},{excludedKeys:he,defaultErrorHandler:()=>null}),{goodsList:s,crossModules:a}=i;return de(de({},(0,T.Z)(i,["goodsList","crossModules"])),{},{plugModulesData:fe(a),goodsList:s})}catch(e){return{success:!1,goodsList:[],hasMore:!0}}},this.getChannelList=async({topGoodsList:e,storeId:t,offset:r,listId:n,channelUuid:o,channelType:i,subChannelUuid:s,recExt:l,activeSubChannelIndex:c,mallListReferBizScene:u,extendMap:p})=>{try{const d=await this.postRisk("/api/mc/v0/alexa/channel_goods_list",{top_goods_list:e||[],store_id:t,list_id:n,offset:r,count:10,channel_uuid:o,channel_type:i||ae.pz.Default,sub_channel_uuid:s,rec_ext:l,refer_biz_scene:u,support_combination_goods:!0,[W.Uk.extendMap]:p}),h=(a()(d,"goodsList")||[]).map((e=>de(de({},e||{}),{},{soldOut:a()(e,"hasSoldOut"),skuId:a()(e,"skuId[0]"),channelUuid:o})));return de(de({},d||{}),{},{activeSubChannelIndex:c||0,goodsList:h})}catch(e){return{success:!1,errorCode:e.errorCode,errorMsg:e.message||e.errorMsg}}},this.queryThreeCoupon=async e=>{try{return await this.postRisk("/api/mc/v0/almond/take_coupon_from_popup",e)}catch(e){return{success:!1}}},this.queryNewPeopleCoupons=async e=>{try{return await this.postRisk("/api/mc/v0/sprout/take_coupon",e)}catch(e){return(0,P.jU)()&&(0,ie.Z)((null==e?void 0:e.message)||"活动太火爆，请稍后再试"),{result:null,errorCode:null==e?void 0:e.errorCode,errorMsg:null==e?void 0:e.message}}},this.getAfterAddRec=async({storeId:e,goodsId:t,banGoodsList:r,cartExtMap:n,crossModuleExtMap:o,cartGroupPrice:i,scene:s})=>{try{var a;const l=await this.postRisk("/api/mc/v0/alexa/front_page_i2i_rec",{store_id:e,base_goods_id_list:t?[t]:[],ban_goods_list:r,i2i_scene:"pagelist",scene:s||ae.nj.MallList,cart_ext_map:n,cross_module_ext_map:de(de({},o||{}),{},{aid_xy19_goods_price:i})},{defaultErrorHandler:()=>{}});return null!=l&&null!==(a=l.moduleData)&&void 0!==a&&a.length?l:null}catch(e){return null}},this.queryFullBackPackage=async()=>{try{return await this.postRisk("/api/mc/v0/sprout/query_reward",{})}catch(t){var e;const r=(null==t||null===(e=t.response)||void 0===e?void 0:e.data)||{};return{result:null,errorCode:null==r?void 0:r.error_code,errorMsg:null==r?void 0:r.error_msg}}},this.takeFreeThreeOrderAward=async()=>{try{return await this.postRisk("/api/mc/v0/luffa/take_free_order_reward",{},{excludedKeys:he,defaultErrorHandler:q.ZT})}catch(t){var e;const r=(null==t||null===(e=t.response)||void 0===e?void 0:e.data)||{};return{result:null,errorCode:null==r?void 0:r.error_code,errorMsg:null==r?void 0:r.error_msg}}},this.queryFreeThreeOrderAward=async()=>{try{return await this.postRisk("/api/mc/v0/luffa/query_free_order_reward",{},{excludedKeys:he,defaultErrorHandler:q.ZT})}catch(t){var e;const r=(null==t||null===(e=t.response)||void 0===e?void 0:e.data)||{};return{result:null,errorCode:null==r?void 0:r.error_code,errorMsg:null==r?void 0:r.error_msg}}},this.triggerFreeOrderTask=async()=>{try{return await this.postRisk("/api/mc/v0/luffa/draw_free_order_lottery",{},{excludedKeys:he,defaultErrorHandler:q.ZT})}catch(t){var e;const r=(null==t||null===(e=t.response)||void 0===e?void 0:e.data)||{};return{result:null,errorCode:null==r?void 0:r.error_code,errorMsg:null==r?void 0:r.error_msg}}},this.queryShakingPacketRecord=async()=>{try{return await this.postRisk("/api/mc/v1/query_red_packet_award_record",{},{defaultErrorHandler:()=>{}})}catch(e){return(0,P.jU)()||(0,U.Zm)(e),{result:null,errorCode:e.errorCode,errorMsg:e.message||e.errorMsg}}},this.queryShakingPacketPopInfo=async()=>{try{return await this.postRisk("/api/mc/v1/shaking_red_packet",{},{defaultErrorHandler:()=>{}})}catch(e){return(0,P.jU)()||(0,U.Zm)(e),{result:null,errorCode:e.errorCode,errorMsg:e.message||e.errorMsg}}},this.takePartInSaveRedPackage=async e=>{try{return await this.postRisk("/api/mc/v0/antler/draw_save_red_package_lottery",e)}catch(e){return(0,ue.Z)(e)}},this.getRewardSaveRedPackage=async()=>{try{return await this.postRisk("/api/mc/v0/antler/take_save_red_package_reward",{},{defaultErrorHandler:q.ZT})}catch(e){return(0,ue.Z)(e)}},this.queryDetailSaveRedPackage=async()=>{try{return await this.postRisk("/api/mc/v0/antler/query_save_red_package_reward",{},{defaultErrorHandler:q.ZT})}catch(e){return(0,ue.Z)(e)}},this.reportSaveRedPackage=async e=>{try{return await this.postRisk("/api/mc/v0/antler/report_save_red_package_event",e,{defaultErrorHandler:q.ZT})}catch(e){return(0,ue.Z)(e)}},this.takePartInOrderForMoney=async e=>{try{return await this.postRisk("/api/mc/v0/puffer/draw_lottery",e,{defaultErrorHandler:q.ZT})}catch(e){return(0,ue.Z)(e)}},this.getRewardOrderForMoney=async({withdraw_option_index:e})=>{try{return await this.postRisk("/api/mc/v0/puffer/take_reward",{withdraw_option_index:e},{defaultErrorHandler:q.ZT})}catch(e){return(0,ue.Z)(e)}},this.queryDetailOrderForMoney=async()=>{try{return await this.postRisk("/api/mc/v0/puffer/query_reward",{},{defaultErrorHandler:q.ZT})}catch(e){return(0,ue.Z)(e)}},this.reportOrderForMoney=async e=>{try{return await this.postRisk("/api/mc/v0/puffer/report_event",e,{defaultErrorHandler:q.ZT})}catch(e){return(0,ue.Z)(e)}},this.queryOrderForMoneyFlowVOInfo=async()=>{try{return await this.postRisk("/api/mc/v0/puffer/query_statement",{},{defaultErrorHandler:q.ZT})}catch(e){return(0,ue.Z)(e)}},this.getPgpRecGoodsList=async({storeId:e,listId:t,activityType:r,offset:n,count:o})=>{try{const i=await this.postRisk("/api/mc/v0/husk/query_pgp_goods_list",{store_id:e,list_id:t,offset:n,count:o,activity_type:r},{defaultErrorHandler:()=>{}}),{indexResult:s,hasCoupon:a}=i||{};return a&&s?{hasMore:null==s?void 0:s.hasMore,activityId:null==i?void 0:i.activityId,popupHeaderItems:(null==i?void 0:i.popupHeaderItems)||[],goodsList:(null==s?void 0:s.goodsInfoList)||[]}:null}catch(e){return null}},this.takePartInFreeEggs=async({storeId:e})=>{try{return await this.postRisk("/api/mc/v0/yolk/draw_free_eggs",{store_id:e},{defaultErrorHandler:()=>{}})}catch(e){return null}},this.ackOrderAwardIncreased=async e=>{try{return await this.postRisk("/api/mc/v0/rambutan/ack_order_award_increased",e,{defaultErrorHandler:()=>{}})}catch(e){return null}}}async receiveOrderWithdrawActivity(){try{return await this.postRisk("/api/mc/v0/condillac/receive_order_withdraw_activity")}catch(e){return{success:!1,errorCode:null==e?void 0:e.errorCode,errorMsg:(null==e?void 0:e.message)||(null==e?void 0:e.errorMsg)}}}async pointOrderCashOderWithdraw(e){try{return await this.postRisk("/api/mc/v0/condillac/order_withdraw",e)}catch(e){return{success:!1,errorCode:null==e?void 0:e.errorCode,errorMsg:(null==e?void 0:e.message)||(null==e?void 0:e.errorMsg)}}}}var ge=me,ye=r(19384),be=r(3473),ve=r(23493),_e=r.n(ve),we=r(91175),Se=r.n(we),Pe=r(88572),ke=r(86076),Oe=r(80188),Ce=r(99480),Ie=r(72696),xe=r(14081),Ee=r(95643),Te=r(18078),De=r(67421),Ae=r(81771),Re=r(78265),Le=r(83179),Me=r(47299),Ze=r(42873),je=r(65207),Ne=r(57805),ze=r(71104),Ue=r(86024),Be=(r(78028),r(54919)),Ge=r(42009),Fe=r(34058),He=r(42735),We=r(44227).createElement;var qe,Ve,Ke=(0,L.observer)((()=>{const{mallStore:e,bannerStore:t}=(0,ue.Gu)(),{csrFixedBannerAllHeight:r}=t,n=(0,c.useContext)(Ge.Z),o=(null==n?void 0:n.navigationHeight)||0,i=(0,c.useRef)(!1),[s,a]=(0,c.useState)(""),l=(0,c.useCallback)((()=>{if(i.current)return;i.current=!0;const e=(0,He.zL)(50)||50;a("calc(".concat((r>0?r>e?130:86:50)/100,"rem + ").concat(o,"px)"))}),[r,o]),u=(0,c.useCallback)((()=>{i.current=!1}),[]),p=(0,c.useCallback)((async()=>{const t={source:Fe.Sf.FontPage},r=await e.barrageService.queryBulletScreen(t);return(0,Fe.Ec)(r)}),[e.barrageService]);return We(Fe.ZP,{startAniCb:l,endAniCb:u,offsetTop:s,defaultList:Fe.lr,fetchData:p})})),Ye=r(7991),Qe=r(94325),Xe=r.n(Qe),$e=r(80863),Je=r.n($e),et=r(40750),tt=r(12377),rt=r(49802),nt=r(51841),ot=r(92728),it=r(44227).createElement;function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const lt=e=>it("div",null);let ct=lt,ut=lt;ct=r(91538).Z,ut=r(24392).Z;let pt=lt;pt=r(30761).Z;let dt=lt;dt=r(42093).Z;let ht=lt;ht=r(90735).Z;let ft=lt;ft=r(90313).Z;let mt=lt,gt=lt,yt=lt;mt=r(35546).ZP,gt=r(28927).Z,yt=r(78592).ZP;let bt=lt;bt=r(84178).Z;let vt=(0,Te.Z)({})(qe=(0,L.inject)("uiStore","mallStore","cartStore","bannerStore","bottomTabStore","popupStore","timeTaskStore","notifyStore")(qe=Xe()(Je())(qe=(0,L.observer)((Ve=class extends c.Component{render(){var e,t;const{selectedStoreId:r,buyReasonRichTextMessage:n,mainErrorCode:o}=this.props.mallStore,{isShoppingTabActive:i}=this.props.bottomTabStore,s=a()(this,"props.uiStore.pddContext"),l=null===(e=this.props)||void 0===e||null===(t=e.uiStore)||void 0===t?void 0:t.webpEnable;if((0,U.VM)({errorCode:o}))return it(Ae.Z,null);if(!r)return it(Ze.U8,{storeId:r,overrideStoreReloadHandler:this.onStoreChangedHandler});const u=i?{}:{display:"none"},p=!(null!=n&&n.length);return it(Me.dv,s,it(Ie.Z.Provider,{value:l},it(c.Fragment,null,it((()=>it("div",{className:"mobile-container vgt-mall-list",style:u},it(et.l.Provider,{value:{lazy:!1}},it(ct,null),it(ut,null),it(pt,null)),it(dt,null),p&&it(Ke,null),it(bt,null),it(Oe.eA,null),it(ht,null),it(ft,null),it(Ze.U8,{storeId:r,overrideStoreReloadHandler:this.onStoreChangedHandler}))),null),it(mt,null),it(yt,null),it(gt,null))))}constructor(e){super(e),this.updateSubscribeGoodsDisposer=void 0,this.hasPaidEventDisposer=void 0,this.refreshGoodsDisposer=void 0,this.updateBannerDisposer=void 0,this.refreshCart=_e()((()=>{const{selectedStoreId:e}=this.props.mallStore,t=this.props.cartStore.refreshCartOnPageShow;t&&t({storeId:e})}),50,{trailing:!1}),this.updateBanner=async()=>{await this.props.bannerStore.requestUpdateBanner()};const{mainErrorCode:t,selectedStoreId:r}=e.mallStore;(0,P.jU)()&&!(0,U.VM)({errorCode:t})&&!(0,U.Ib)({errorCode:t})&&r&&(this.tryForwardSecondaryPage(),this.dropQueryAfterRender())}async componentDidMount(){const{updateExtendMap:e,extendMap:t,mainErrorCode:r}=this.props.mallStore,{doReportTrace:o,trackLocationInfo:i,recordMessagePv:s}=this.props.uiStore;if((0,U.VM)({errorCode:r}))return;ke.ZP.init({id:n.pw.MallList}),Ce.q.initPage({pn:n.pw.MallList}),Ce.q.init({pn:n.pw.MallList});const{updateLocationInfo:a}=this.props.cartStore,{requestPinWidget:l}=this.props.popupStore;if(e(t),(0,Re.q6)().catch(q.ZT),(0,P.tY)()){const[e,t,r]=await Promise.all([(0,De.rB)(Ye._E.DdmcOrderStatusChanged,this.onPaid),(0,De.rB)(Ye._E.DdmcRefreshGoods,this.onRefreshGoods),(0,De.rB)(Ye._E.DdmcUpdateBanner,this.updateBanner)]);this.hasPaidEventDisposer=e,this.refreshGoodsDisposer=t,this.updateBannerDisposer=r,this.initSubscribeGoodsDisposer()}window.requestIdleCallback((()=>{o(),(0,ot.Hm)(),s(),(0,ze.VO)().then((e=>{const t=e||{};a(t),i(t).catch(q.ZT)}))})),this.initShare(),this.checkLandingPopupsBlockRender()||(l(),this.deleteBizNameCalendar(),this.onWebViewDestory())}componentWillUnmount(){this.hasPaidEventDisposer&&this.hasPaidEventDisposer(),this.refreshGoodsDisposer&&this.refreshGoodsDisposer(),this.updateBannerDisposer&&this.updateBannerDisposer(),this.updateSubscribeGoodsDisposer&&this.updateSubscribeGoodsDisposer()}onWebViewDestory(){(0,P.tY)()&&(0,Ee.nM)("JSLifecycleTracker","onDestroy",{trackers:[{method:"POST",headers:{AccessToken:(0,xe.ej)("PDDAccessToken")},url:"".concat((0,P.E$)()?n.dD:n.US,"api/mc/v0/apricot/action_flow"),data:JSON.stringify({refer_biz_scene:a()(this,"props.uiStore.query.".concat(W.Uk.TrafficSource)),action_biz:Be.$Z.MallListLanding,action:"real_back"})}],mode:0}).catch((()=>{}))}async initShare(){const{getShareInfo:e}=this.props.mallStore;(0,P.tY)()||(0,je.L)(e()).catch(q.ZT)}checkLandingPopupsBlockRender(){const{mainErrorCode:e,mainErrorMsg:t}=this.props.mallStore,{isShoppingTabActive:r}=this.props.bottomTabStore;return!!r&&(!!(0,U.Ib)({errorCode:e})||(!!(0,Le.hs)({errorCode:e,errorMsg:t,scene:Le.GK.MallList})||!!this.reloadStoreList()))}dropQueryAfterRender(){const{uiStore:e}=this.props;(null!=e&&e.isNative||(0,P.WC)())&&(0,rt.c7)(null==e?void 0:e.query,[W.Uk.StoreId,W.Uk.McForwardUrl,W.Uk.McForwardPage,W.Uk.ShouldForwardType,W.Uk.SpringFestivalShowPopup])}tryForwardSecondaryPage(){var e;if(!(0,P.jU)())return;const{[W.Uk.McForwardUrl]:t,[W.Uk.ShouldForwardType]:r}=(null===(e=this.props.uiStore)||void 0===e?void 0:e.query)||{};if(t)return void(0,Ne.WF)(t);const n=+r,o=Se()(this.props.popupStore.idList);(n===Ue.YU.Normal||n===Ue.YU.AfterOptional&&o!==Be.kV.StoreOptions)&&this.props.uiStore.forwardSecondaryPage()}async deleteBizNameCalendar(){const{queryCalendarReminderResult:e}=this.props.mallStore,{bizName:t,shouldDelete:r}=e||{};if(r&&t)try{const e=await(0,tt.nA)(t)||[];if(null==e||!e.length)return;await(0,tt.h5)(t,e)}catch(e){(0,_.eK)({error_msg:"removeCalendarEvent_error",page:null==e?void 0:e.message})}}updateSubscribeGoods(e){if(null!=e&&e.goodsId&&null!=e&&e.subscribeStatus){const{setSubscribeGoodsMap:t}=this.props.mallStore;t(null==e?void 0:e.goodsId,null==e?void 0:e.subscribeStatus)}}async initSubscribeGoodsDisposer(){try{this.updateSubscribeGoodsDisposer=await(0,De.rB)(nt.AP,this.updateSubscribeGoods)}catch(e){}}reloadStoreList(){const{selectedStoreId:e}=this.props.mallStore;if(e)return!1;const t=at(at({},(0,Le.Uv)()||{}),{},{[W.Uk.PrAnimated]:0,[W.Uk.StoreListFromSource]:W.kw.MallListRedirect});return(0,Ne.id)(t),!0}async onStoreChangedHandler({isStoreChanged:e,ddmcStoreInfo:t}){const{enterMallHome:r}=this.props.mallStore;e&&((0,o.QU)(0),await r(t)),this.refreshCart()}async onPaid(e){const{source:t}=e;t!==Ye.IS.PaySuccessRefreshActiveGoods&&await this.updateBanner()}onRefreshGoods(e){}},(0,be.Z)(Ve.prototype,"onWebViewDestory",[Pe.ZP],Object.getOwnPropertyDescriptor(Ve.prototype,"onWebViewDestory"),Ve.prototype),(0,be.Z)(Ve.prototype,"initShare",[Pe.ZP],Object.getOwnPropertyDescriptor(Ve.prototype,"initShare"),Ve.prototype),(0,be.Z)(Ve.prototype,"checkLandingPopupsBlockRender",[Pe.ZP],Object.getOwnPropertyDescriptor(Ve.prototype,"checkLandingPopupsBlockRender"),Ve.prototype),(0,be.Z)(Ve.prototype,"dropQueryAfterRender",[Pe.ZP],Object.getOwnPropertyDescriptor(Ve.prototype,"dropQueryAfterRender"),Ve.prototype),(0,be.Z)(Ve.prototype,"tryForwardSecondaryPage",[Pe.ZP],Object.getOwnPropertyDescriptor(Ve.prototype,"tryForwardSecondaryPage"),Ve.prototype),(0,be.Z)(Ve.prototype,"deleteBizNameCalendar",[Pe.ZP],Object.getOwnPropertyDescriptor(Ve.prototype,"deleteBizNameCalendar"),Ve.prototype),(0,be.Z)(Ve.prototype,"updateSubscribeGoods",[Pe.ZP],Object.getOwnPropertyDescriptor(Ve.prototype,"updateSubscribeGoods"),Ve.prototype),(0,be.Z)(Ve.prototype,"initSubscribeGoodsDisposer",[Pe.ZP],Object.getOwnPropertyDescriptor(Ve.prototype,"initSubscribeGoodsDisposer"),Ve.prototype),(0,be.Z)(Ve.prototype,"reloadStoreList",[Pe.ZP],Object.getOwnPropertyDescriptor(Ve.prototype,"reloadStoreList"),Ve.prototype),(0,be.Z)(Ve.prototype,"onStoreChangedHandler",[Pe.ZP],Object.getOwnPropertyDescriptor(Ve.prototype,"onStoreChangedHandler"),Ve.prototype),(0,be.Z)(Ve.prototype,"onPaid",[Pe.ZP],Object.getOwnPropertyDescriptor(Ve.prototype,"onPaid"),Ve.prototype),(0,be.Z)(Ve.prototype,"onRefreshGoods",[Pe.ZP],Object.getOwnPropertyDescriptor(Ve.prototype,"onRefreshGoods"),Ve.prototype),qe=Ve))||qe)||qe)||qe)||qe;var _t,wt,St,Pt,kt=vt,Ot=r(78671),Ct=r(74263),It=r(78905),xt=r(88237),Et=r(7549),Tt=r(38644),Dt=r(93836),At=r(14176),Rt=r.n(At),Lt=r(88798);function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jt,Nt,zt,Ut,Bt,Gt,Ft,Ht,Wt,qt,Vt,Kt,Yt,Qt,Xt,$t,Jt,er,tr,rr,nr,or,ir,sr,ar,lr,cr,ur,pr,dr,hr,fr,mr,gr,yr,br,vr,_r,wr,Sr,Pr,kr,Or,Cr,Ir,xr,Er,Tr,Dr,Ar,Rr,Lr,Mr,Zr,jr,Nr,zr,Ur,Br,Gr,Fr,Hr,Wr,qr,Vr,Kr,Yr,Qr,Xr,$r,Jr,en,tn,rn,nn,on,sn,an=(_t=It.action.bound,wt=It.action.bound,St=It.action.bound,Pt=class{constructor(e,t){this.rootProps=void 0,this.rootStore=void 0,this.webpEnable=void 0,this.isNative=void 0,this.isAndroidNative=void 0,this.isWeChat=void 0,this.isWeChatMiniProgram=void 0,this.isAndroidSupportNativeSearch=void 0,this.useAndroidNativeSearch=void 0,this.isIOSSupportNativeSearch=void 0,this.useIOSNativeSearch=void 0,this.appVersion=void 0,this.showNativeSearchActPanel=void 0,this.isDirectToStoresMapTester=void 0,this.query=void 0,this.pddContext=void 0,this.isIosNative=void 0,this.xcxVersion=void 0,this.serverTime=void 0,this.serverTimeMs=void 0,this.leoConfig=void 0,this.traceService=null;const{initialData:r,axiosHttp:n}=e||{},{webpEnable:o,isNative:i,isIosNative:s,isAndroidNative:l,appVersion:c,isAndroidSupportNativeSearch:u,isIOSSupportNativeSearch:p,isWeChat:d,isWeChatMiniProgram:h,query:f={},xcxVersion:m=null,pddContext:g={},leoOpenConfig:y={},bizData:b}=r||{};this.webpEnable=o,this.isNative=i,this.isAndroidNative=l,this.isWeChat=d,this.isWeChatMiniProgram=h,this.query=f,this.pddContext=g,this.isIosNative=s,this.appVersion=c,this.isAndroidSupportNativeSearch=u,this.isIOSSupportNativeSearch=p,this.useAndroidNativeSearch=a()(r,"leoOpenConfig.nativeSearchConfig.android")&&!(a()(r,"leoOpenConfig.nativeSearchConfig.android_block_versions")||[]).includes(c),this.useIOSNativeSearch=a()(r,"leoOpenConfig.nativeSearchConfig.ios")&&!(a()(r,"leoOpenConfig.nativeSearchConfig.ios_block_versions")||[]).includes(c),this.showNativeSearchActPanel=l&&(0,Tt.yC)(c,"5.97.0")>=0&&a()(r,"leoOpenConfig.showAndroidSearchActPanel")||s&&a()(r,"leoOpenConfig.showIOSSearchActPanel"),this.isDirectToStoresMapTester=a()(r,"leoOpenConfig.isDirectToStoresMapTester"),this.xcxVersion=m,this.serverTime=(null==b?void 0:b.serverTime)||Math.floor(Date.now()/1e3),this.serverTimeMs=1e3*this.serverTime,this.leoConfig=y,this.rootStore=t,this.rootProps=e,this.traceService=new Dt.a(n)}get isSupportNativeSearch(){return this.isAndroidSupportNativeSearch&&this.useAndroidNativeSearch||this.isIOSSupportNativeSearch&&this.useIOSNativeSearch}forwardSecondaryPage(){const e=JSON.parse(JSON.stringify(this.query||{})),{[W.Uk.McForwardPage]:t}=e,r=decodeURIComponent(t||"");if(r){const t=(0,Lt.FU)(r)||{},n=Rt()(e,((e,t)=>[W.Uk.McForwardPage,W.Uk.ShouldForwardType,W.Uk.PassPage,W.Uk.TrafficFlowStation,W.Uk.SpHookLink].includes(t)||t.startsWith(W.a5)||t.startsWith(W.ft)||t.startsWith(W.sY)||t.startsWith(W.yU))),{selectedStoreId:o}=this.rootStore.mallStore,i=Zt(Zt(Zt({},n),t),{},{[W.Uk.StoreId]:o}),s=(0,Lt.ru)(i,r);(0,Ne.ZM)({type:W.xE.McLink,link:s})}}async trackLocationInfo({locationId:e=null,scene:t=null}){const{selectedStoreId:r}=this.rootStore.mallStore;await this.traceService.trackLocationDistance({storeId:r,locationId:e,scene:t})}async recordMessagePv(){await this.traceService.recordMessagePv({sharePageId:(0,Et.e6)(),pageUrl:(0,rt.Q2)(this.query),pageName:(0,Et.j0)()})}async doReportTrace(){var e,t;const r=(null===(e=this.query)||void 0===e?void 0:e[W.Uk.TrafficSource])||"";if(!(0,P.tY)())return;let n=null;try{n=await(0,xt.dz)()}catch(e){}await this.traceService.doTraceReport({scene:"mall_list_page_mount",payload:{[W.Uk.TrafficSource]:r,install_token:(null===(t=n)||void 0===t?void 0:t.uuid)||""}})}},(0,be.Z)(Pt.prototype,"forwardSecondaryPage",[Pe.ZP],Object.getOwnPropertyDescriptor(Pt.prototype,"forwardSecondaryPage"),Pt.prototype),(0,be.Z)(Pt.prototype,"trackLocationInfo",[_t],Object.getOwnPropertyDescriptor(Pt.prototype,"trackLocationInfo"),Pt.prototype),(0,be.Z)(Pt.prototype,"recordMessagePv",[wt],Object.getOwnPropertyDescriptor(Pt.prototype,"recordMessagePv"),Pt.prototype),(0,be.Z)(Pt.prototype,"doReportTrace",[St],Object.getOwnPropertyDescriptor(Pt.prototype,"doReportTrace"),Pt.prototype),Pt),ln=r(55770),cn=r(82492),un=r.n(cn),pn=r(45578),dn=r.n(pn),hn=r(41609),fn=r.n(hn),mn=r(59960),gn=r(3530),yn=r(47358),bn=r(44985),vn=r(87615),_n=r(34263),wn=r(29030),Sn=r(92849),Pn=r(17187),kn=r(41351),On=r(99124),Cn=r(2741),In=r(23298),xn=r(40688),En=r(32450),Tn=r(85885),Dn=r(70898),An=r(53192),Rn=r(29421),Ln=r(43131);function Mn(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Nn="mall_home_goods_list_";let zn=(jt=It.action.bound,Nt=It.action.bound,zt=It.action.bound,Ut=It.action.bound,Bt=It.action.bound,Gt=It.action.bound,Ft=It.action.bound,Ht=It.action.bound,Wt=It.action.bound,qt=It.action.bound,Vt=It.action.bound,Kt=It.action.bound,Yt=It.action.bound,Qt=It.action.bound,Xt=It.action.bound,$t=It.action.bound,Jt=It.action.bound,er=It.action.bound,tr=It.action.bound,rr=It.action.bound,nr=It.action.bound,or=It.action.bound,ir=class{constructor(e,t){this.rootStore=null,this.mallService=null,this.mallListService=null,this.shareService=null,this.popupService=null,this.leoConfigService=null,this.taskService=null,this.barrageService=null,this.$bus=new Pn.EventEmitter,(0,ln.Z)(this,"goodsListKey",sr,this),(0,ln.Z)(this,"goodsList",ar,this),(0,ln.Z)(this,"goodsListId",lr,this),(0,ln.Z)(this,"recExt",cr,this),this.hasMore=void 0,this.goodsPage=void 0,this.retryTimes=0,(0,ln.Z)(this,"extendMap",ur,this),(0,ln.Z)(this,"mallShareInfo",pr,this),(0,ln.Z)(this,"refreshTime",dr,this),(0,ln.Z)(this,"currentStoreInfo",hr,this),(0,ln.Z)(this,"mcGoodsChannelList",fr,this),(0,ln.Z)(this,"channelShowType",mr,this),(0,ln.Z)(this,"tabActiveIndex",gr,this),(0,ln.Z)(this,"iconList",yr,this),this.shouldShowClearBtn=!1,this.posterInfo={storeId:0,posterUrl:"",shareTrackingPayload:{}},(0,ln.Z)(this,"mainErrorCode",br,this),(0,ln.Z)(this,"mainErrorMsg",vr,this),(0,ln.Z)(this,"ddmcStoreInfo",_r,this),(0,ln.Z)(this,"storeAccountInfo",wr,this),(0,ln.Z)(this,"hasSearch",Sr,this),(0,ln.Z)(this,"greyMap",Pr,this),(0,ln.Z)(this,"nightBanner",kr,this),(0,ln.Z)(this,"newUserModule",Or,this),(0,ln.Z)(this,"plugModulesData",Cr,this),this.plugModuleBanGoodsIdMap={},(0,ln.Z)(this,"categoryList",Ir,this),(0,ln.Z)(this,"categoryListGreyType",xr,this),(0,ln.Z)(this,"promptText",Er,this),(0,ln.Z)(this,"mcFunctionWhiteList",Tr,this),(0,ln.Z)(this,"sevenDaySignShowFullback",Dr,this),(0,ln.Z)(this,"sevenDaySignCanSetAnchor",Ar,this),(0,ln.Z)(this,"searchHot",Rr,this),(0,ln.Z)(this,"mallSharePxq",Lr,this),(0,ln.Z)(this,"widgetGuidePopup",Mr,this),(0,ln.Z)(this,"widgetPopupStyle",Zr,this),(0,ln.Z)(this,"pgpNoGuideUse",jr,this),(0,ln.Z)(this,"captainRichTextToast",Nr,this),(0,ln.Z)(this,"freeEggsTakePartInPopupStyle",zr,this),(0,ln.Z)(this,"isFetchingGoodList",Ur,this),(0,ln.Z)(this,"stickyModulesData",Br,this),(0,ln.Z)(this,"buyReasonRichTextMessage",Gr,this),(0,ln.Z)(this,"saleNoWorryDTOList",Fr,this),this.isToCRegister=!1,(0,ln.Z)(this,"afterAddPopupData",Hr,this),(0,ln.Z)(this,"afterAddRecConfig",Wr,this),this.channelTopGoodsListMap={},(0,ln.Z)(this,"channelRedPointVisible",qr,this),(0,ln.Z)(this,"subscribeGoodsMap",Vr,this),(0,ln.Z)(this,"mallListUiStyle",Kr,this),(0,ln.Z)(this,"catpainStoreHideTaskBtn",Yr,this),(0,ln.Z)(this,"captainStoreTaskShareGoods",Qr,this),this.queryCalendarReminderResult=null,this.calendarUrl=null,this.lockShakingPacket=!1,(0,ln.Z)(this,"shakingPacketRecordList",Xr,this),this.shakingPacketShouldRefreshCart=!1,(0,ln.Z)(this,"isGoodsListInit",$r,this),this.validReturnGoodsPromotionUIConfig=()=>{const{styleConfig:e}=this.goodsPromotionInfo||{};return null!=e&&e.immersionColor?e:null},this.validReturnUIConfig=e=>null!=e&&e.immersionColor?e:null,this.validReturnShakingPacketUIConfig=()=>{var e;const{immersiveColor:t,bannerBackgroundImage:r}=(null===(e=this.shakingPacketInfo)||void 0===e?void 0:e.bannerData)||{};return t&&r&&this.showShakingPacketBanner?{immersionColor:t,immersiveBackgroundImage:r}:null},(0,ln.Z)(this,"updateMallListUIStyle",Jr,this),this.setChannelTopGoodsList=(e,t)=>{this.channelTopGoodsListMap[e]=t||[]},this.scrollToAnchor=async e=>(0,Tn.MU)(e),this.scrollToGoodsItem=async e=>(0,Tn.MU)("".concat(Be.pC,"-").concat(e)),(0,ln.Z)(this,"getGoodsList",en,this),this.enterMallHome=async e=>this.queryHomeBack(e),(0,ln.Z)(this,"refreshGoodsList",tn,this),(0,ln.Z)(this,"refreshGoodsListAndBanner",rn,this),(0,ln.Z)(this,"refreshBannerAndCart",nn,this),(0,ln.Z)(this,"refreshGoodsListBannerAndCart",on,this),(0,ln.Z)(this,"updateLockShakingPacketStatus",sn,this);const r=a()(e,"axiosHttp",null);this.rootStore=t,this.mallService=new ce.I(r),this.mallListService=new ge(r),this.shareService=new _n.t(r),this.popupService=new wn.q(r),this.leoConfigService=new ye.Z(r),this.taskService=new Cn.M(r),this.barrageService=new In.M(r),this.resolveInitialData(a()(e,"initialData.bizData")),this.shouldShowClearBtn=a()(e,"initialData.alc"),this.currentStoreInfo=a()(e,"initialData.bizData.storeInfo",null),this.mainErrorCode=a()(e,"initialData.bizData.errorCode")||ae.ZG.Default,this.mainErrorMsg=a()(e,"initialData.bizData.errorMsg")||"活动太火爆了，请稍后再试",this.isGoodsListInit=a()(e,"initialData.bizData.isGoodsListInit"),this.recExt=a()(e,"initialData.bizData.recExt")||{},this.extendMap=a()(e,"initialData.bizData.extendMap")||{},this.mcFunctionWhiteList=a()(e,"initialData.leoOpenConfig.mcFunctionWhiteList"),this.widgetGuidePopup=a()(e,"initialData.leoOpenConfig.widgetGuidePopup"),this.widgetPopupStyle=a()(e,"initialData.leoOpenConfig.widgetPopupStyle"),this.pgpNoGuideUse=a()(e,"initialData.leoOpenConfig.pgpNoGuideUse"),this.captainRichTextToast=a()(e,"initialData.leoOpenConfig.captainRichTextToast"),this.catpainStoreHideTaskBtn=a()(e,"initialData.leoOpenConfig.catpainStoreHideTaskBtn"),this.captainStoreTaskShareGoods=a()(e,"initialData.leoOpenConfig.captainStoreTaskShareGoods"),this.freeEggsTakePartInPopupStyle=a()(e,"initialData.leoOpenConfig.freeEggsTakePartInPopupStyle"),this.isToCRegister=a()(e,"initialData.leoOpenConfig.isToCRegister"),this.afterAddRecConfig=(0,Dn.Z)((()=>a()(e,"initialData.leoOpenConfig.afterAddRecConfig")?JSON.parse(a()(e,"initialData.leoOpenConfig.afterAddRecConfig")):Be.xU),Be.xU),this.mallSharePxq=a()(e,"initialData.leoOpenConfig.mallSharePxq"),this.calendarUrl=a()(e,"initialData.leoOpenConfig.calendarUrl"),this.sevenDaySignCanSetAnchor=a()(e,"initialData.leoOpenConfig.sevenDaySignCanSetAnchor"),this.sevenDaySignShowFullback=a()(e,"initialData.leoOpenConfig.sevenDaySignShowFullback");const n=a()(e,"initialChunkData.mallStore")||{};fn()(n)||Object.entries(n).forEach((e=>{const[t,r]=e||[];t&&r&&this.initChunkData({chunkName:t,chunkData:r})}))}initChunkData({chunkName:e,chunkData:t}){e===Be.fj.GoodsList&&t&&Object.assign(this,t)}get goodsPromotionInfo(){var e;const{nightBanner:t}=this;return(null==t||null===(e=t.goodsList)||void 0===e?void 0:e.length)>0?t:null}get mallListUIConfig(){var e;return this.validReturnUIConfig(this.mallListUiStyle)||this.validReturnShakingPacketUIConfig()||this.validReturnGoodsPromotionUIConfig()||this.validReturnUIConfig(null===(e=this.mallListUiStyle)||void 0===e?void 0:e.defaultConfig)||{immersionColor:"#e02e24"}}get mallListImmersionColor(){return this.mallListUIConfig.immersionColor}get selectedStoreId(){return a()(this.currentStoreInfo,"storeId",null)}get searchShadeWords(){var e;return null===(e=this.searchHot[0])||void 0===e?void 0:e.q}get isPromotionV6(){var e;return(null===(e=this.mallListUiStyle)||void 0===e?void 0:e.mallHomeVersion)===Be.TX.V6}get formatPromotionBannerList(){var e,t;const{staticBannersMap:r}=this.rootStore.bannerStore||{},n=null===(e=r[Be.AZ.MLL_NEWUSER_COUPON])||void 0===e?void 0:e.bannerData,o=(null===(t=this.newUserModule)||void 0===t?void 0:t.newUserMcGoodsDTOList)||[],i=null==o?void 0:o.length,s=[];return(i>=4||n&&i>=3)&&s.push({type:Be.oW.NewPeople,data:this.newUserModule}),this.goodsPromotionInfo&&s.push({type:Be.oW.Promotion,data:this.goodsPromotionInfo}),s}async getNativeShareImg(e){if(this.posterInfo.storeId===this.selectedStoreId&&this.posterInfo.posterUrl)return{url:this.posterInfo.posterUrl,shareTrackingPayload:this.posterInfo.shareTrackingPayload};const t=Ue.cg.MallPoster,{posterUrl:r,shareTrackingPayload:n}=await this.shareService.getPosterUrl(jn(jn({payload:e},t),{},{posterParams:{type:Ue.b$.Mall}}))||{};return this.posterInfo={storeId:this.selectedStoreId,posterUrl:r,shareTrackingPayload:n},{url:r,shareTrackingPayload:n}}updateAfterAddPopupData(e){this.afterAddPopupData=e}getPxqShareInfo(){const e=this.getShareInfo();return{[W.Uk.ShareTitle]:e[W.Uk.ShareTitle],[W.Uk.ShareImage]:Ue.jf.thumbnailURL,[W.Uk.SharePageName]:Ue.Aq.MallList,[W.Uk.ShareSrc]:Ue.bB.Mall,[W.Uk.XCid]:En.b.PxqStoreShare,[W.Uk.TrafficSource]:En.O.PxqStoreShare}}updateTabActiveIndex(e,t){var r;this.tabActiveIndex=e||0,t>=0&&(null===(r=this.mcGoodsChannelList)||void 0===r?void 0:r[e])&&(this.mcGoodsChannelList[e].activeSubIndex=t)}selectChannelWithCb(e,t){const r=(this.mcGoodsChannelList||[]).findIndex((t=>(null==t?void 0:t.channelUuid)===e));-1!==r&&(this.updateTabActiveIndex(r),t&&t())}setSubscribeGoodsMap(e,t){this.subscribeGoodsMap=jn(jn({},this.subscribeGoodsMap),{},{[e]:t})}getShareInfo(){return jn(jn({},this.mallShareInfo),{},{[W.Uk.ShareSrc]:Ue.bB.Mall})}scrollGoodsAnchor(){(0,Tn.MU)(Be.t1)}scrollToNewcomerGoods(){const e=this.goodsList.findIndex((e=>e.sceneFrom===ae.Qn.Newcomer));return e>-1&&(this.scrollToGoodsItem(e),!0)}resetGoodsList(e=!1){e&&(this.tabActiveIndex=0,this.goodsListId=(0,V.z)("".concat(n.Hf.MallList,"_goods_list"))),this.plugModulesData=null,this.goodsListKey=(0,V.z)(Nn),this.goodsList=[],this.hasMore=!0,this.goodsPage=0,this.retryTimes=0}async getChannelList({topGoodsList:e,storeId:t,offset:r,listId:n,channelUuid:o,channelType:i,subChannelUuid:s,recExt:a,activeSubChannelIndex:l}){return await this.mallListService.getChannelList(jn({topGoodsList:e,storeId:t,offset:r,listId:n,channelUuid:o,channelType:i,subChannelUuid:s,activeSubChannelIndex:l,recExt:a,extendMap:this.extendMap},(0,ue.Ly)((0,rt.qT)())))}async queryHomeBack(e){const{storeId:t}=e||{},r=this.selectedStoreId!==t;let n=null;return this.rootStore.popupStore.clear(),n=await this.mallListService.queryHomeBack(jn({src:Ln.MN.HomeBackQuery,mktFreshSource:a()(this,"rootStore.uiStore.query.".concat(W.Uk.OcSource)),storeId:t},(0,ue.Ly)((0,rt.qT)()))),(0,It.runInAction)((()=>{var t;n.success&&(this.currentStoreInfo=e,this.updateExtendMap({[W.Uk.FreshToken]:a()(n,"mktFreshToken")}),this.resolveInitialData(n),this.resetGoodsList(r),this.rootStore.bannerStore.resolveMcBannerData(a()(n,"mcBanner.bannersMap")||{}),this.rootStore.timeTaskStore.resolveMcTimelineRsp(n),null===(t=this.rootStore.bottomTabStore)||void 0===t||t.updateBottomTabData(a()(n,"storeAccountInfo",{})))})),n}async setDefaultStore(e){return this.mallService.setDefaultShop(e)}async selectOptionStore(e){const t=await this.setDefaultStore(e);return t.success&&await this.enterMallHome(e),t}updateExtendMap(e){if(!e)return;const t=jn(jn({},this.extendMap),e);(0,P.jU)()&&(0,vn.K7)(Sn.ur.MallListOcParams).set(t),this.extendMap=t}resolveInitialData(e){this.mallShareInfo=a()(e,"mallShareInfo")||{},this.refreshTime=a()(e,"refreshTime")||0,this.mcGoodsChannelList=(a()(e,"mcGoodsChannelList")||[]).map((e=>jn(jn({},e),{},{activeSubIndex:0}))),this.channelShowType=a()(e,"channelShowType")||ae.h_.Normal,this.categoryList=a()(e,"mcCateChannelList")||[],this.categoryListGreyType=a()(e,"categoryListShowType")||"",this.greyMap=a()(e,"greyMap"),this.hasSearch=!!a()(a()(e,"greyMap"),"searchToolShow"),this.searchHot=a()(e,"searchHot")||[],this.iconList=a()(e,"iconList")||[],this.nightBanner=a()(e,"nightBanner"),this.stickyModulesData=a()(e,"stickModuleList"),this.mallListUiStyle=a()(e,"uiStyle"),this.newUserModule=a()(e,"newUserModule"),this.buyReasonRichTextMessage=a()(e,"buyReasonRichTextMessage"),this.saleNoWorryDTOList=a()(e,"saleNoWorryDTOList")||[],this.queryCalendarReminderResult=a()(e,"queryCalendarReminderResult")||{},this.storeAccountInfo=a()(e,"storeAccountInfo",{})}tryShowSeasonEndPopup(){const{refreshTime:e}=this;if(e&&e<Math.floor(Ct.Z.now/1e3)){const e=_e()((async()=>{(0,yn.u)(),await(0,On.gw)(Math.floor(3e3*Math.random())),(()=>{var e;const t=null!==(e=(0,rt.qT)())&&void 0!==e?e:{},r=W.Uk.MallListSeasonEndReloadTimes,{[r]:n}=t,o=(0,T.Z)(t,[r].map(Mn)),i=(+n||0)+1;gn.ZP.reload((0,Lt.ru)(jn(jn({},o),{},{[W.Uk.MallListSeasonEndReloadTimes]:i}),location.href))})(),(0,yn.D)()}),1e3);return(0,bn.Z)({title:"商品已更新，快去抢购吧～",confirmButtonLabel:"去看看",onClose:e,onConfirm:e}),!0}return!1}updateDdmcStoreInfo(e){this.ddmcStoreInfo=e}async getSelectedCouponInfo(){const e=this.selectedStoreId;return await this.mallListService.queryThreeCoupon({store_id:e})}async getPoolCouponPopup({cartExtMap:e}){return this.mallListService.getAfterAddRec({storeId:this.selectedStoreId,cartExtMap:e,scene:ae.nj.Goods}).then((e=>e?{recType:e.moduleType||0,activityId:e.activityId,goodsList:e.moduleData||[],popupHeaderItems:e.popupHeaderItems}:Promise.reject(new Error(xn.u5))))}async getAfterAddRec({goodsId:e,cartExtMap:t,crossModuleExtMap:r,banGoodsList:n,cartGroupPrice:o}){n=n||[];const i=this.goodsList.findIndex((t=>t.goodsId===e));if(i<0)return;const{before:s=1,gap:l=3,time:c=1}=this.afterAddRecConfig||Be.xU,u=Object.values(this.plugModulesData||{}).map((e=>e.insertIndex));if(s>0||c<=0||u.some((e=>Math.abs(i-(e-1))<=l)))return void(s>0&&this.afterAddRecConfig.before--);a()(this.goodsList,"[".concat(i+1,"].goodsId"))&&n.push(a()(this.goodsList,"[".concat(i+1,"].goodsId"))),a()(this.goodsList,"[".concat(i-1,"].goodsId"))&&n.push(a()(this.goodsList,"[".concat(i-1,"].goodsId"))),n=n.slice(-20);const p=await this.mallListService.getAfterAddRec({goodsId:e,storeId:this.selectedStoreId,cartExtMap:t,crossModuleExtMap:r,cartGroupPrice:o,banGoodsList:n});p&&((0,It.runInAction)((()=>{this.afterAddRecConfig.time--,this.afterAddPopupData={recType:p.moduleType||0,activityId:p.activityId,goodsList:p.moduleData||[],popupHeaderItems:p.popupHeaderItems,popupSubHeaderItems:p.popupSubHeaderItems,hasPriceTab:p.hasPriceTab,cartExtMap:t},this.plugModuleBanGoodsIdMap=un()({},this.plugModuleBanGoodsIdMap,{[p.moduleType]:{banGoodsList:n,cartExtMap:t}})})),this.insertPlugModules({goodsId:e,moduleData:p}))}insertPlugModules({goodsId:e,moduleData:t}){const r=this.goodsList.findIndex((t=>t.goodsId===e));if(r<0||!t)return;const n=r+1;a()(this.plugModulesData,[n])||(this.plugModulesData=jn(jn({},this.plugModulesData||null),{},{[n]:jn({insertIndex:n},t)}))}async updateChannelRedPointVisible(e){this.channelRedPointVisible=e}get shakingPacketInfo(){var e,t;return null===(e=(null===(t=this.rootStore.bannerStore.bannerPositionMap)||void 0===t?void 0:t[Be.Ej.ShakingPacket])||[])||void 0===e?void 0:e[0]}get shakingPacketStatus(){const{bannerData:e}=this.shakingPacketInfo||{},{remainCounts:t,remainTime:r}=e||{},{hasFlowBanner:n}=this.mallListUiStyle||{};return e?r?Be.a$.NotStart:n?t?Be.a$.NotShowAndShake:Be.a$.NotShowAndToCheck:t?Be.a$.ShowAndShake:Be.a$.ShowAndToCheck:Be.a$.NotExist}updatePacketRefreshCartStatus(e){this.shakingPacketShouldRefreshCart=e}get enableShakingPacket(){return[Be.a$.NotShowAndShake,Be.a$.ShowAndShake].includes(this.shakingPacketStatus)}get showShakingPacketBanner(){return[Be.a$.ShowAndShake,Be.a$.ShowAndToCheck].includes(this.shakingPacketStatus)}},sr=(0,be.Z)(ir.prototype,"goodsListKey",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,V.z)(Nn)}}),ar=(0,be.Z)(ir.prototype,"goodsList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lr=(0,be.Z)(ir.prototype,"goodsListId",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),cr=(0,be.Z)(ir.prototype,"recExt",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ur=(0,be.Z)(ir.prototype,"extendMap",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),pr=(0,be.Z)(ir.prototype,"mallShareInfo",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dr=(0,be.Z)(ir.prototype,"refreshTime",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hr=(0,be.Z)(ir.prototype,"currentStoreInfo",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fr=(0,be.Z)(ir.prototype,"mcGoodsChannelList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mr=(0,be.Z)(ir.prototype,"channelShowType",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.h_.Normal}}),gr=(0,be.Z)(ir.prototype,"tabActiveIndex",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yr=(0,be.Z)(ir.prototype,"iconList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),br=(0,be.Z)(ir.prototype,"mainErrorCode",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.ZG.Default}}),vr=(0,be.Z)(ir.prototype,"mainErrorMsg",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_r=(0,be.Z)(ir.prototype,"ddmcStoreInfo",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wr=(0,be.Z)(ir.prototype,"storeAccountInfo",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Sr=(0,be.Z)(ir.prototype,"hasSearch",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pr=(0,be.Z)(ir.prototype,"greyMap",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),kr=(0,be.Z)(ir.prototype,"nightBanner",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Or=(0,be.Z)(ir.prototype,"newUserModule",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Cr=(0,be.Z)(ir.prototype,"plugModulesData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ir=(0,be.Z)(ir.prototype,"categoryList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xr=(0,be.Z)(ir.prototype,"categoryListGreyType",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Er=(0,be.Z)(ir.prototype,"promptText",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Tr=(0,be.Z)(ir.prototype,"mcFunctionWhiteList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Dr=(0,be.Z)(ir.prototype,"sevenDaySignShowFullback",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ar=(0,be.Z)(ir.prototype,"sevenDaySignCanSetAnchor",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rr=(0,be.Z)(ir.prototype,"searchHot",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lr=(0,be.Z)(ir.prototype,"mallSharePxq",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mr=(0,be.Z)(ir.prototype,"widgetGuidePopup",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zr=(0,be.Z)(ir.prototype,"widgetPopupStyle",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),jr=(0,be.Z)(ir.prototype,"pgpNoGuideUse",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nr=(0,be.Z)(ir.prototype,"captainRichTextToast",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zr=(0,be.Z)(ir.prototype,"freeEggsTakePartInPopupStyle",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ur=(0,be.Z)(ir.prototype,"isFetchingGoodList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Br=(0,be.Z)(ir.prototype,"stickyModulesData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gr=(0,be.Z)(ir.prototype,"buyReasonRichTextMessage",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fr=(0,be.Z)(ir.prototype,"saleNoWorryDTOList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hr=(0,be.Z)(ir.prototype,"afterAddPopupData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{recType:0,activityId:"",goodsList:[],popupHeaderItems:[],popupSubHeaderItems:[],hasPriceTab:!1,cartExtMap:{}}}}),Wr=(0,be.Z)(ir.prototype,"afterAddRecConfig",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Be.xU}}),qr=(0,be.Z)(ir.prototype,"channelRedPointVisible",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vr=(0,be.Z)(ir.prototype,"subscribeGoodsMap",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Kr=(0,be.Z)(ir.prototype,"mallListUiStyle",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yr=(0,be.Z)(ir.prototype,"catpainStoreHideTaskBtn",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qr=(0,be.Z)(ir.prototype,"captainStoreTaskShareGoods",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"no"}}),Xr=(0,be.Z)(ir.prototype,"shakingPacketRecordList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$r=(0,be.Z)(ir.prototype,"isGoodsListInit",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,be.Z)(ir.prototype,"initChunkData",[jt],Object.getOwnPropertyDescriptor(ir.prototype,"initChunkData"),ir.prototype),(0,be.Z)(ir.prototype,"goodsPromotionInfo",[It.computed],Object.getOwnPropertyDescriptor(ir.prototype,"goodsPromotionInfo"),ir.prototype),(0,be.Z)(ir.prototype,"mallListUIConfig",[It.computed],Object.getOwnPropertyDescriptor(ir.prototype,"mallListUIConfig"),ir.prototype),Jr=(0,be.Z)(ir.prototype,"updateMallListUIStyle",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.mallListUiStyle=e}}}),(0,be.Z)(ir.prototype,"mallListImmersionColor",[It.computed],Object.getOwnPropertyDescriptor(ir.prototype,"mallListImmersionColor"),ir.prototype),(0,be.Z)(ir.prototype,"selectedStoreId",[It.computed],Object.getOwnPropertyDescriptor(ir.prototype,"selectedStoreId"),ir.prototype),(0,be.Z)(ir.prototype,"searchShadeWords",[It.computed],Object.getOwnPropertyDescriptor(ir.prototype,"searchShadeWords"),ir.prototype),(0,be.Z)(ir.prototype,"isPromotionV6",[It.computed],Object.getOwnPropertyDescriptor(ir.prototype,"isPromotionV6"),ir.prototype),(0,be.Z)(ir.prototype,"formatPromotionBannerList",[It.computed],Object.getOwnPropertyDescriptor(ir.prototype,"formatPromotionBannerList"),ir.prototype),(0,be.Z)(ir.prototype,"getNativeShareImg",[Nt],Object.getOwnPropertyDescriptor(ir.prototype,"getNativeShareImg"),ir.prototype),(0,be.Z)(ir.prototype,"updateAfterAddPopupData",[zt],Object.getOwnPropertyDescriptor(ir.prototype,"updateAfterAddPopupData"),ir.prototype),(0,be.Z)(ir.prototype,"getPxqShareInfo",[Ut],Object.getOwnPropertyDescriptor(ir.prototype,"getPxqShareInfo"),ir.prototype),(0,be.Z)(ir.prototype,"updateTabActiveIndex",[Bt],Object.getOwnPropertyDescriptor(ir.prototype,"updateTabActiveIndex"),ir.prototype),(0,be.Z)(ir.prototype,"selectChannelWithCb",[Pe.ZP],Object.getOwnPropertyDescriptor(ir.prototype,"selectChannelWithCb"),ir.prototype),(0,be.Z)(ir.prototype,"setSubscribeGoodsMap",[Gt],Object.getOwnPropertyDescriptor(ir.prototype,"setSubscribeGoodsMap"),ir.prototype),(0,be.Z)(ir.prototype,"getShareInfo",[Ft],Object.getOwnPropertyDescriptor(ir.prototype,"getShareInfo"),ir.prototype),(0,be.Z)(ir.prototype,"scrollGoodsAnchor",[Pe.ZP],Object.getOwnPropertyDescriptor(ir.prototype,"scrollGoodsAnchor"),ir.prototype),(0,be.Z)(ir.prototype,"scrollToNewcomerGoods",[Pe.ZP],Object.getOwnPropertyDescriptor(ir.prototype,"scrollToNewcomerGoods"),ir.prototype),(0,be.Z)(ir.prototype,"resetGoodsList",[Ht],Object.getOwnPropertyDescriptor(ir.prototype,"resetGoodsList"),ir.prototype),en=(0,be.Z)(ir.prototype,"getGoodsList",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,An.k)((async({topGoodsList:e})=>{if(!this.hasMore)return this.goodsList.length<=0&&((0,_.eK)({error_msg:"门店商品列表为空",payload:{store_id:this.selectedStoreId}}),(0,kn.b0)({customTags:{event:"mall_list_fetch_goods_empty"}}).catch(q.ZT)),n._b;this.isFetchingGoodList=!0;const t={storeId:this.selectedStoreId,listId:this.goodsListId,size:Be.bC,offset:this.goodsPage*Be.bC,recExt:this.recExt,extendMap:this.extendMap,supportCombinationGoods:!0,pageName:n.Hf.MallList};0===this.goodsPage&&e&&(t.topGoodsList=e);const r=await this.mallListService.queryGoodsList(t);return(0,It.runInAction)((()=>{if(this.isFetchingGoodList=!1,a()(r,"errorCode"))return(0,Le.hs)({errorCode:a()(r,"errorCode"),errorMsg:a()(r,"errorMsg"),scene:Le.GK.MallList}),this.hasMore=!1,r;this.recExt=fn()(a()(r,"recExt"))?this.recExt:a()(r,"recExt"),this.plugModulesData=un()({},this.plugModulesData,a()(r,"plugModulesData")),this.hasMore=!!a()(r,"hasMore");const e=a()(r,"goodsList")||[];if(++this.goodsPage,fn()(e))return++this.retryTimes,this.retryTimes>=3&&(this.hasMore=!1,this.retryTimes=0,(0,_.eK)({error_msg:"获得商品列表重试次数过多",payload:{store_id:"".concat(this.selectedStoreId)}}),(0,kn.b0)({customTags:{event:ae.T3}}).catch(q.ZT)),r;this.retryTimes=0,this.goodsList=dn()([...this.goodsList,...(null==r?void 0:r.goodsList)||[]],(e=>(0,Rn.qZ)(e)))})),r}),{loading:!1})}}),(0,be.Z)(ir.prototype,"getChannelList",[Wt],Object.getOwnPropertyDescriptor(ir.prototype,"getChannelList"),ir.prototype),(0,be.Z)(ir.prototype,"queryHomeBack",[qt],Object.getOwnPropertyDescriptor(ir.prototype,"queryHomeBack"),ir.prototype),(0,be.Z)(ir.prototype,"setDefaultStore",[Vt],Object.getOwnPropertyDescriptor(ir.prototype,"setDefaultStore"),ir.prototype),(0,be.Z)(ir.prototype,"selectOptionStore",[Kt],Object.getOwnPropertyDescriptor(ir.prototype,"selectOptionStore"),ir.prototype),(0,be.Z)(ir.prototype,"updateExtendMap",[Yt],Object.getOwnPropertyDescriptor(ir.prototype,"updateExtendMap"),ir.prototype),(0,be.Z)(ir.prototype,"resolveInitialData",[Qt],Object.getOwnPropertyDescriptor(ir.prototype,"resolveInitialData"),ir.prototype),(0,be.Z)(ir.prototype,"tryShowSeasonEndPopup",[Xt],Object.getOwnPropertyDescriptor(ir.prototype,"tryShowSeasonEndPopup"),ir.prototype),(0,be.Z)(ir.prototype,"updateDdmcStoreInfo",[$t],Object.getOwnPropertyDescriptor(ir.prototype,"updateDdmcStoreInfo"),ir.prototype),(0,be.Z)(ir.prototype,"getSelectedCouponInfo",[Jt],Object.getOwnPropertyDescriptor(ir.prototype,"getSelectedCouponInfo"),ir.prototype),(0,be.Z)(ir.prototype,"getPoolCouponPopup",[er],Object.getOwnPropertyDescriptor(ir.prototype,"getPoolCouponPopup"),ir.prototype),(0,be.Z)(ir.prototype,"getAfterAddRec",[tr],Object.getOwnPropertyDescriptor(ir.prototype,"getAfterAddRec"),ir.prototype),(0,be.Z)(ir.prototype,"insertPlugModules",[rr],Object.getOwnPropertyDescriptor(ir.prototype,"insertPlugModules"),ir.prototype),(0,be.Z)(ir.prototype,"updateChannelRedPointVisible",[nr],Object.getOwnPropertyDescriptor(ir.prototype,"updateChannelRedPointVisible"),ir.prototype),tn=(0,be.Z)(ir.prototype,"refreshGoodsList",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,An.k)((async()=>{const{uiStore:e}=this.rootStore;this.resetGoodsList();const t=(0,ue.Cl)(e.query,!0);await this.getGoodsList({topGoodsList:t})}),{loading:!1})}}),rn=(0,be.Z)(ir.prototype,"refreshGoodsListAndBanner",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,An.k)((async()=>{await Promise.all([this.rootStore.bannerStore.requestUpdateBanner(),this.refreshGoodsList()])}),{loading:!1})}}),nn=(0,be.Z)(ir.prototype,"refreshBannerAndCart",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,An.k)((async({cartParams:e}={})=>{await Promise.all([this.rootStore.bannerStore.requestUpdateBanner(),this.rootStore.cartStore.refreshCart(e)])}),{loading:!1})}}),on=(0,be.Z)(ir.prototype,"refreshGoodsListBannerAndCart",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,An.k)((async({cartParams:e}={})=>{await Promise.all([this.refreshGoodsListAndBanner(),this.rootStore.cartStore.refreshCart(e)])}),{loading:!1})}}),(0,be.Z)(ir.prototype,"shakingPacketInfo",[It.computed],Object.getOwnPropertyDescriptor(ir.prototype,"shakingPacketInfo"),ir.prototype),(0,be.Z)(ir.prototype,"shakingPacketStatus",[It.computed],Object.getOwnPropertyDescriptor(ir.prototype,"shakingPacketStatus"),ir.prototype),(0,be.Z)(ir.prototype,"updatePacketRefreshCartStatus",[or],Object.getOwnPropertyDescriptor(ir.prototype,"updatePacketRefreshCartStatus"),ir.prototype),sn=(0,be.Z)(ir.prototype,"updateLockShakingPacketStatus",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.lockShakingPacket=e}}}),(0,be.Z)(ir.prototype,"enableShakingPacket",[It.computed],Object.getOwnPropertyDescriptor(ir.prototype,"enableShakingPacket"),ir.prototype),(0,be.Z)(ir.prototype,"showShakingPacketBanner",[It.computed],Object.getOwnPropertyDescriptor(ir.prototype,"showShakingPacketBanner"),ir.prototype),ir);var Un,Bn,Gn,Fn,Hn,Wn,qn,Vn,Kn,Yn,Qn,Xn,$n,Jn,eo,to=zn,ro=r(1469),no=r.n(ro),oo=r(30236),io=r.n(oo),so=r(85564),ao=r.n(so),lo=r(7739),co=r.n(lo);function uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function po(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let ho=(Un=It.action.bound,Bn=It.action.bound,Gn=class{constructor(e,t){this.rootStore=null,this.mallService=null,this.mallListService=null,this.shareService=null,this.popupService=null,this.leoConfigService=null,this.taskService=null,this.traceService=null,(0,ln.Z)(this,"staticBannersMap",Fn,this),(0,ln.Z)(this,"bannerPositionMap",Hn,this),(0,ln.Z)(this,"_staticFullBannerRectMap",Wn,this),this._staticFixedBannerHeightMap={},(0,ln.Z)(this,"csrFixedBannerAllHeight",qn,this),(0,ln.Z)(this,"flowBannerModuleConfig",Vn,this),this.getFullBannerRect=e=>(e&&!this._staticFullBannerRectMap[e]&&this.updateFullBannerRect(e,{rectHeightTop:0,height:0}),this._staticFullBannerRectMap[e]),(0,ln.Z)(this,"updateFullBannerRect",Kn,this),(0,ln.Z)(this,"updateFixedBannerHeight",Yn,this),this.requestUpdateBanner=(0,An.k)((async()=>await this.updateBanner()),{loading:!1}),(0,ln.Z)(this,"setData",Qn,this),(0,ln.Z)(this,"updatePositionMap",Xn,this),(0,ln.Z)(this,"resetData",$n,this),(0,ln.Z)(this,"resolveMcBannerData",Jn,this),(0,ln.Z)(this,"updateBannerDisplay",eo,this),this.doStageBannerImpr=async e=>await this.taskService.flowCaseAction(po({actionBiz:Be.$Z.MallListLanding,action:Be.H7.WATER_BANNER_STAGE_IMPR,referBizScene:this.referBizScene,source:this.source},e));const r=a()(e,"axiosHttp",null);this.rootStore=t,this.mallService=new ce.I(r),this.mallListService=new ge(r),this.shareService=new _n.t(r),this.popupService=new wn.q(r),this.leoConfigService=new ye.Z(r),this.taskService=new Cn.M(r),this.traceService=new Dt.a(r),this.flowBannerModuleConfig=a()(e,"initialData.leoOpenConfig.flowBannerModuleConfig");const n=a()(e,"initialData.bizData.mcBanner.bannersMap")||{},o=a()(e,"initialData.bizData.multiPopupDisplay.popupDisplayList[0]")||{};this.resolveMcBannerData(n,null==o?void 0:o.relatedBanners)}get referBizScene(){return a()(this.rootStore,"uiStore.query.".concat(W.Uk.TrafficSource))}get source(){return a()(this.rootStore,"uiStore.query.".concat(W.Uk.McSource))}get mcMissions(){return(a()(this.rootStore,"uiStore.query.".concat(W.Uk.McMissionType))||"").split(",").map((e=>({mc_mission_type:e})))}async updateBanner(){const e=await this.taskService.flowCaseAction({referBizScene:this.referBizScene,actionBiz:Be.$Z.MallListLanding,extra:{mc_mission_list:[{mc_mission_source:this.source,mc_missions:this.mcMissions}]},action:Be.H7.UPDATE_BANNER});return(0,It.runInAction)((()=>{var t;const r=(null==e?void 0:e.data)||{};this.rootStore.timeTaskStore.resolveMcTimelineRsp(r),this.rootStore.mallStore.updateMallListUIStyle(null===(t=r.extraMap)||void 0===t?void 0:t.uiStyle),this.resolveMcBannerData(r.bannersMap)})),e}async triggerFreeOrderEvent(e,t){const r=await this.traceService.triggerFreeOrderEvent(e,t);return null!=r&&r.success&&await this.updateBanner(),r}updateShakingPacketBannerData(){var e,t;if(null===(e=this.staticBannersMap)||void 0===e||null===(t=e[Be.AZ.MLL_ACTIVITY_SHAKING_PACKET])||void 0===t||!t.bannerData)return null;this.staticBannersMap[Be.AZ.MLL_ACTIVITY_SHAKING_PACKET].bannerData.remainTime=0}get bannerMergeLeftFloatPositionMap(){const e=this.rootStore.cartStore.orderAssistantEntry;if(!e)return this.bannerPositionMap;const t={[Be.Ej.LeftFloat]:[{bannerId:Be.m0.ORDER_ASSISTANT,bannerDesc:"满减凑单助手悬浮banner",position:Be.Ej.LeftFloat,priorityOrder:Number.MIN_SAFE_INTEGER,display:!0,bannerData:e}]};return io()(po({},this.bannerPositionMap),t,((e,t)=>e&&no()(t)?e.concat(t):void 0))}},Fn=(0,be.Z)(Gn.prototype,"staticBannersMap",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Hn=(0,be.Z)(Gn.prototype,"bannerPositionMap",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Wn=(0,be.Z)(Gn.prototype,"_staticFullBannerRectMap",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),qn=(0,be.Z)(Gn.prototype,"csrFixedBannerAllHeight",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vn=(0,be.Z)(Gn.prototype,"flowBannerModuleConfig",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Kn=(0,be.Z)(Gn.prototype,"updateFullBannerRect",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{t=t||{height:0,rectHeightTop:0},this._staticFullBannerRectMap[e]?Object.assign(this._staticFullBannerRectMap[e],t):(0,mn.dj)(this._staticFullBannerRectMap,e,po({},t))}}}),Yn=(0,be.Z)(Gn.prototype,"updateFixedBannerHeight",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{if(e&&this._staticFixedBannerHeightMap[e]!=t){this._staticFixedBannerHeightMap[e]=t;const r=Object.values(this._staticFixedBannerHeightMap).filter((e=>!!e)).reduce(((e,t)=>e+t),0);this.csrFixedBannerAllHeight=r||0}}}}),(0,be.Z)(Gn.prototype,"updateBanner",[Un],Object.getOwnPropertyDescriptor(Gn.prototype,"updateBanner"),Gn.prototype),(0,be.Z)(Gn.prototype,"triggerFreeOrderEvent",[Pe.ZP],Object.getOwnPropertyDescriptor(Gn.prototype,"triggerFreeOrderEvent"),Gn.prototype),Qn=(0,be.Z)(Gn.prototype,"setData",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r;(0,mn.dj)(this.staticBannersMap,e,po(po({},t),{},{display:null===(r=t.display)||void 0===r||r})),this.updatePositionMap()}}}),(0,be.Z)(Gn.prototype,"updateShakingPacketBannerData",[Bn],Object.getOwnPropertyDescriptor(Gn.prototype,"updateShakingPacketBannerData"),Gn.prototype),Xn=(0,be.Z)(Gn.prototype,"updatePositionMap",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.bannerPositionMap=co()(this.staticBannersMap,(e=>null==e?void 0:e.position))}}}),(0,be.Z)(Gn.prototype,"bannerMergeLeftFloatPositionMap",[It.computed],Object.getOwnPropertyDescriptor(Gn.prototype,"bannerMergeLeftFloatPositionMap"),Gn.prototype),$n=(0,be.Z)(Gn.prototype,"resetData",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.staticBannersMap={},this.updatePositionMap()}}}),Jn=(0,be.Z)(Gn.prototype,"resolveMcBannerData",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{const r=[Be.Ej.Ceiling];t=t||[];const n=ao()(Object.values(e||{})).filter((e=>e&&!r.includes(e.position)));this.resetData(),null!=n&&n.length&&n.forEach((e=>{const{bannerId:r}=e;e.display=!t.includes(r),this.setData(r,e)}))}}}),eo=(0,be.Z)(Gn.prototype,"updateBannerDisplay",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t=this.staticBannersMap[e];t&&(t.display=!0)}}}),Gn);var fo,mo,go,yo,bo,vo,_o,wo,So,Po,ko,Oo,Co=ho;function Io(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Io(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Eo,To,Do,Ao,Ro,Lo,Mo,Zo=(fo=It.action.bound,mo=It.action.bound,go=It.action.bound,yo=It.action.bound,bo=It.action.bound,vo=It.action.bound,_o=class{constructor(e,t){this.rootStore=null,this.taskService=null,(0,ln.Z)(this,"taskTransferData",wo,this),(0,ln.Z)(this,"initTimeData",So,this),(0,ln.Z)(this,"firstPauseAndScrollPauseTaskList",Po,this),(0,ln.Z)(this,"firstUnPauseAndScrollPauseTaskList",ko,this),(0,ln.Z)(this,"UnPauseTaskList",Oo,this);const r=a()(e,"axiosHttp",null);this.rootStore=t,this.taskService=new Cn.M(r);const n={};[...Object.values(Be.m).map((e=>"".concat(e,"_scan_task"))),...Object.values(Be.me)].forEach((e=>{n[e]={},Object.values(Be.DS).forEach((t=>{n[e][t]={}}))})),this.taskTransferData=n}get typeTaskList(){return{[Be.DS.FirstPauseAndScrollPause]:this.firstPauseAndScrollPauseTaskList,[Be.DS.FirstUnPauseAndScrollPause]:this.firstUnPauseAndScrollPauseTaskList,[Be.DS.UnPause]:this.UnPauseTaskList}}get initTimeStyle(){const e={};return Object.values(Be.DS).forEach((t=>{e[t]=(0,mn.Bs)(this.initTimeData,t)||0})),e}clearTaskList(e=Be.DS.UnPause){this.typeTaskList[e]=[]}registerTaskItem(e,t=Be.DS.UnPause){if(null==e||!e.taskId)return;const r=this.typeTaskList[t];r.some((t=>(null==t?void 0:t.taskId)===(null==e?void 0:e.taskId)))||r.push(xo(xo({},e),{},{initTaskTime:this.initTimeStyle[t]}))}unRegisterTaskItem(e,t=Be.DS.UnPause){Array.isArray(e)?this.typeTaskList[t]=this.typeTaskList[t].filter((t=>!e.includes(null==t?void 0:t.taskId))):this.typeTaskList[t]=this.typeTaskList[t].filter((t=>(null==t?void 0:t.taskId)!==e))}transferTaskData(e,t,r=Be.DS.UnPause){const n=(0,mn.Bs)(this.taskTransferData,t);(0,mn.dj)(this.taskTransferData,t,{[r]:xo(xo({},null==n?void 0:n[r]),e)})}setInitTime(e,t=Be.DS.UnPause){(0,mn.dj)(this.initTimeData,t,e)}async completeTask(e){return await this.taskService.flowCaseAction({referBizScene:a()(this,"rootStore.uiStore.query.".concat(W.Uk.TrafficSource)),actionBiz:Be.li.MALL_LIST_LANDING,action:Be.H7.COMPLETE_MISSION,extra:{mc_mission_source:e.mc_mission_source,mc_mission_type:e.mc_mission_type}})}},wo=(0,be.Z)(_o.prototype,"taskTransferData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),So=(0,be.Z)(_o.prototype,"initTimeData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Po=(0,be.Z)(_o.prototype,"firstPauseAndScrollPauseTaskList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ko=(0,be.Z)(_o.prototype,"firstUnPauseAndScrollPauseTaskList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oo=(0,be.Z)(_o.prototype,"UnPauseTaskList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,be.Z)(_o.prototype,"typeTaskList",[It.computed],Object.getOwnPropertyDescriptor(_o.prototype,"typeTaskList"),_o.prototype),(0,be.Z)(_o.prototype,"initTimeStyle",[It.computed],Object.getOwnPropertyDescriptor(_o.prototype,"initTimeStyle"),_o.prototype),(0,be.Z)(_o.prototype,"clearTaskList",[fo],Object.getOwnPropertyDescriptor(_o.prototype,"clearTaskList"),_o.prototype),(0,be.Z)(_o.prototype,"registerTaskItem",[mo],Object.getOwnPropertyDescriptor(_o.prototype,"registerTaskItem"),_o.prototype),(0,be.Z)(_o.prototype,"unRegisterTaskItem",[go],Object.getOwnPropertyDescriptor(_o.prototype,"unRegisterTaskItem"),_o.prototype),(0,be.Z)(_o.prototype,"transferTaskData",[yo],Object.getOwnPropertyDescriptor(_o.prototype,"transferTaskData"),_o.prototype),(0,be.Z)(_o.prototype,"setInitTime",[bo],Object.getOwnPropertyDescriptor(_o.prototype,"setInitTime"),_o.prototype),(0,be.Z)(_o.prototype,"completeTask",[vo],Object.getOwnPropertyDescriptor(_o.prototype,"completeTask"),_o.prototype),_o),jo=r(50308),No=r.n(jo),zo=r(48726),Uo=r(23730),Bo=r(10511),Go=r(80353),Fo=r(11749),Ho=r(34115);function Wo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let Vo=(Eo=It.action.bound,To=It.action.bound,Do=class{constructor(e,t){this.rootStore=null,this.popupService=null,this.mallService=null,this.mallListService=null,this.taskService=null,this.leoConfigService=null,this.traceService=null,this.shareService=null,this.locationService=null,(0,ln.Z)(this,"doPopupImpr",Ao,this),(0,ln.Z)(this,"doPopupClose",Ro,this),(0,ln.Z)(this,"querySharePopupsInfo",Lo,this),this.taskAction=async(e,t)=>await this.taskService.flowCaseAction({referBizScene:this.referBizScene,extra:e,actionBiz:Be.$Z.MallListLanding,action:t}),this.downStageImpr=async(e={})=>await this.taskAction(qo(qo({},e),{},{source:this.source}),Be.H7.DOUBLE_DEGRADE_WATER),this.isValidError=e=>[Fo.Bq.GetRewardTimeout,Fo.Bq.PayBackRefund].includes((null==e?void 0:e.errorCode)||(null==e?void 0:e.error_code)),this.validErrorCode=async e=>{this.isValidError(e)&&await this.rootStore.mallStore.refreshBannerAndCart()},this.requestBackPopupAndShow=async e=>await this.taskService.flowCaseAction({referBizScene:this.referBizScene,actionBiz:e.scene,extra:e.extra,action:Be.H7.BACK}),this.fetchAddressPositionById=async e=>{if(!e)return null;const{result:t}=await this.locationService.fetchAddressPositionById(e)||{};return t?(0,Ho.formatLatLng)({longitude:null==t?void 0:t.lng,latitude:null==t?void 0:t.lat}):((0,_.eK)({error_msg:"fetchAddressPositionById fail",payload:{result:t}}),null)},this.queryDeliveryList=async()=>await this.locationService.queryDeliveryList(),this.takeThreeCoupon=async e=>await this.taskAction(e,Be.H7.TAKE_NEWUSER_COUPON),this.triggerMissionPropStyle=async e=>await this.taskService.flowCaseAction({referBizScene:this.referBizScene,extra:{prop_style:e.propStyle,source:e.source},actionBiz:Be.$Z.MallListLanding,action:Be.H7.TRIGGER_MISSION_PROP}),this.reportOrderForCash=async e=>await this.taskService.flowCaseAction({referBizScene:this.referBizScene,extra:qo(qo({},e),{},{source:this.source}),actionBiz:Be.$Z.MallListLanding,action:Be.H7.ORDER_FOR_CASH}),this.triggerFreeOrderEvent=async(e,t)=>await this.traceService.triggerFreeOrderEvent(e,t),this.giftPacksUpgrade=async()=>await this.taskService.flowCaseAction({referBizScene:this.referBizScene,extra:{source:this.source},actionBiz:Be.$Z.MallListLanding,action:Be.H7.GIFT_PACKS_UPGRADE_MISSION}),this.receiveRedPacket=async()=>await this.taskService.flowCaseAction({referBizScene:this.referBizScene,extra:{source:this.source},actionBiz:Be.$Z.MallListLanding,action:Be.H7.RECEIVE_RED_PACKET}),this.rewardRecoverJoin=async e=>await this.taskService.flowCaseAction({referBizScene:this.referBizScene,extra:{source:this.source,trigger_restore:e},actionBiz:Be.$Z.MallListLanding,action:Be.H7.REWARD_RECOVER_JOIN}),this.rewardRecoverUpgrade=async()=>await this.taskService.flowCaseAction({referBizScene:this.referBizScene,extra:{source:this.source},actionBiz:Be.$Z.MallListLanding,action:Be.H7.REWARD_RECOVER_UPGRADE}),this.taskPointActivityReward=async e=>this.popupService.takePointActivityReward(e),this.takeDailyCoupon=async e=>await this.popupService.takePartInTomorrowRed(e),this.getActiveRuleTips=async e=>{var t,r;const n=await this.leoConfigService.getLeoOpenConfig({value_leo_key:[K.GH.CActiveRules]}),o=(0,Bo.as)(null==n||null===(t=n.keyValues)||void 0===t?void 0:t.cActiveRules,{})||{};return(null==o||null===(r=o[e])||void 0===r?void 0:r.tips)||[]},this.queryPayBackPopup=async e=>await this.taskAction(e,Be.H7.QUERY_ACTIVITY_POPUP),this.takePartPopup=async(e,t=Be.H7.ACTIVITY_PARTICIPATION)=>await this.taskAction(e,t),(0,ln.Z)(this,"activateDoublePopup",Mo,this),this.queryFullBackPackage=async()=>{const e=await this.mallListService.queryFullBackPackage();return null!=e&&e.result||((0,ie.Z)((null==e?void 0:e.errorMsg)||xn.I),await this.validErrorCode(e),Go.ZP.commonSendError(Fo._q.PayBackGetCouponPackageDetailFail)),e},this.takePartInSaveRedPackage=async e=>{const t=await this.mallListService.takePartInSaveRedPackage(e);return null!=t&&t.result||((0,ie.Z)((null==t?void 0:t.errorMsg)||xn.I),await this.validErrorCode(t)),t},this.queryDetailSaveRedPackage=async()=>{const e=await this.mallListService.queryDetailSaveRedPackage();return null!=e&&e.result||((0,ie.Z)((null==e?void 0:e.errorMsg)||xn.I),await this.validErrorCode(e)),e},this.getRewardSaveRedPackage=async()=>{const e=await this.mallListService.getRewardSaveRedPackage();return null!=e&&e.result||((0,ie.Z)((null==e?void 0:e.errorMsg)||xn.I),await this.validErrorCode(e)),null==e?void 0:e.result},this.reportSaveRedPackage=async e=>{await this.mallListService.reportSaveRedPackage(e)},this.takePartInOrderforMoney=async e=>{const t=await this.mallListService.takePartInOrderForMoney(e);return null!=t&&t.result||(0,ie.Z)((null==t?void 0:t.errorMsg)||xn.I),t},this.queryDetailOrderForMoney=async()=>{var e;const t=await this.mallListService.queryDetailOrderForMoney();return null!=t&&null!==(e=t.result)&&void 0!==e&&e.activityVO?t.result.activityVO:((0,ie.Z)((null==t?void 0:t.errorMsg)||xn.I),await this.validErrorCode(t),null)},this.getRewardOrderForMoney=async({withdraw_option_index:e})=>{const t=await this.mallListService.getRewardOrderForMoney({withdraw_option_index:e});return null!=t&&t.result||((0,ie.Z)((null==t?void 0:t.errorMsg)||xn.I),await this.validErrorCode(t)),null==t?void 0:t.result},this.reportOrderForMoney=async e=>{await this.mallListService.reportOrderForMoney(e)},this.queryOrderForMoneyFlowVOInfo=async()=>await this.mallListService.queryOrderForMoneyFlowVOInfo(),this.queryFreeThreeOrderPopup=async()=>await this.taskAction({},Be.H7.QUERY_FREE_THREE_ORDER_POPUP),this.queryFreeThreeOrderRestartPopup=async()=>await this.taskAction({},Be.H7.QUERY_FREE_THREE_ORDER_RESTART_POPUP),this.takeFreeThreeOrderAward=async()=>{const e=await this.mallListService.takeFreeThreeOrderAward();return null!=e&&e.result?e:((0,ie.Z)((null==e?void 0:e.errorMsg)||xn.I),await this.validErrorCode(e),null)},this.queryFreeThreeOrderAward=async()=>{const e=await this.mallListService.queryFreeThreeOrderAward();return null!=e&&e.result?e:((0,ie.Z)((null==e?void 0:e.errorMsg)||xn.I),await this.validErrorCode(e),null)},this.triggerFreeOrderTask=async()=>{const e=await this.mallListService.triggerFreeOrderTask();return null!=e&&e.success?e:((0,ie.Z)((null==e?void 0:e.errorMsg)||xn.I),await this.validErrorCode(e),null)},this.takePartInFreeEggs=async e=>await this.mallListService.takePartInFreeEggs(e),this.queryNewUserCoupon=async e=>{var t;const r=await this.taskAction(e,Be.H7.QUERY_NEWUSER_COUPON);return null!=r&&null!==(t=r.data)&&void 0!==t&&t.popupData||((0,ie.Z)(xn.I),await this.rootStore.bannerStore.requestUpdateBanner()),r},this.getUserTagCoupons=async e=>{const{couponIndex:t,rewardType:r,rewardIndex:n,rewardSeq:o}=e||{},i=await this.mallListService.queryNewPeopleCoupons({coupon_index:t,reward_index:n,reward_type:r,reward_seq:o}),s=null==i?void 0:i.result;return s||await this.validErrorCode(i),s},this.getSevenDaySignPopupData=async e=>await this.taskAction(qo(qo({},e),{},{source:this.source}),Be.H7.GET_SEVEN_DAY_SIGN_POPUP_DATA),this.getSevenDaySignReward=async()=>await this.taskAction({source:this.source},Be.H7.GET_SEVEN_DAY_SIGN_IN_REWARD),this.doStageBannerImpr=async e=>await this.taskAction(qo(qo({},e),{},{source:this.source}),Be.H7.WATER_BANNER_STAGE_IMPR),this.startMission=async e=>await this.taskAction(e,Be.H7.START_MISSION),this.ackOrderAwardIncreased=async e=>await this.mallListService.ackOrderAwardIncreased(e),this.queryShareRedPacketPopInfo=async e=>await this.popupService.getShareRedPacketInfo(e),this.checkStoreSilenceGuide=async()=>await this.taskService.flowCaseAction({referBizScene:this.referBizScene,actionBiz:Be.$Z.MallListLanding,action:Be.H7.SILENCE_WIDGET_GUIDE}),this.queryFriendsDiscountInfo=async e=>await this.popupService.fetchFriendsCouponList(e),this.rootStore=t;const r=(null==e?void 0:e.axiosHttp)||null;this.popupService=new wn.q(r),this.mallService=new ce.I(r),this.mallListService=new ge(r),this.taskService=new Cn.M(r),this.leoConfigService=new ye.Z(r),this.traceService=new Dt.a(r),this.shareService=new _n.t(r),this.locationService=new Uo.a(r)}get referBizScene(){return a()(this.rootStore,"uiStore.query.".concat(W.Uk.TrafficSource))}get source(){return a()(this,"rootStore.uiStore.query.".concat(W.Uk.McSource))}async getShakingPacketRecordList(){return await this.mallListService.queryShakingPacketRecord()}async getShakingPacketPopInfo(){return await this.mallListService.queryShakingPacketPopInfo()}},Ao=(0,be.Z)(Do.prototype,"doPopupImpr",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{const{popupId:t,requestId:r}=e||{};return await this.popupService.doPopupImpr({popupId:t,requestId:r,referBizScene:this.referBizScene})}}}),Ro=(0,be.Z)(Do.prototype,"doPopupClose",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{const{popupId:t,requestId:r}=e||{};if(!t||!r)return Promise.resolve();return await this.traceService.doTraceReport({payload:{popup_id:t,request_id:r},scene:Be.bg.ClosePopupManuallyReport})}}}),Lo=(0,be.Z)(Do.prototype,"querySharePopupsInfo",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>await this.shareService.querySharePopupsInfo(e)}}),Mo=(0,be.Z)(Do.prototype,"activateDoublePopup",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async(e={})=>await this.taskAction(qo(qo({},e),{},{source:this.source}),Be.H7.PARTICIPATE_ORDER_STAGE_MISSION)}}),(0,be.Z)(Do.prototype,"getShakingPacketRecordList",[Eo],Object.getOwnPropertyDescriptor(Do.prototype,"getShakingPacketRecordList"),Do.prototype),(0,be.Z)(Do.prototype,"getShakingPacketPopInfo",[To],Object.getOwnPropertyDescriptor(Do.prototype,"getShakingPacketPopInfo"),Do.prototype),Do);var Ko=r(83228);const Yo=(0,An.k)((async(e,t)=>{const{mallStore:r,popupStore:n}=t,{refreshBannerAndCart:i}=r,{service:s,show:a}=n,{queryFullBackPackage:l,getUserTagCoupons:c}=s,{status:u,userTagType:p,regionName:d,template:h}=e||{},f=u===Be.ds.WAIT_ORDER,m=u===Be.ds.ALLOW_ORDER,g=m?"开心收下":"好的，知道了",y=e=>{if(!e)return;const{totalDiscount:t,activityThreshold:r,sproutOrderCashVO:n}=e,{hadFinishedDoubleCashMission:o,sproutRemitVO:i,orderForCashCanJoinAgain:s}=n||{},{transferAmount:l,status:c}=i||{};h===Be.M3.OrderForCashJoinAgain?a(Be.Yj.OrderForCashSecondGetResult,{popupData:{buttonText:g,sproutRemitVO:i}}):s?a(Be.Yj.OrderForCashSecondDetail,{popupData:{isDouble:o,isOpened:!m,userTagType:p,regionName:d,actualCashAmount:l,status:c,totalDiscount:t,activityThreshold:r}}):m&&o?a(Be.Yj.OrderForCashGetResultPopup,{popupData:{isDouble:!0,actualCashAmount:l,btnText:g,status:c}}):a(Be.Yj.OrderForCashDetailPopup,{popupData:{isDouble:!1,actualCashAmount:l,btnText:g,status:c}})},b=async()=>{const e=await l();return null==e?void 0:e.result};if(f){await b()&&(0,o.iY)("明日可领取现金奖励哦")}else if(m){const e=await c();if((0,kn.bs)(Be.FX),!e)return;y(e),await i()}else if(u===Be.ds.VIEW_ACTION){y(await b())}}));var Qo=r(72054);const Xo=(0,An.k)((async(e,t)=>{const{popupStore:r}=t,{show:n,service:i}=r,{queryDetailSaveRedPackage:s}=i,{status:a}=e||{},l=a===Qo.ZE.Completed,c=a===Qo.ZE.CanTake,u=await s();null!=u&&u.result&&l?(0,o.iY)("明日领取奖励～"):c&&null!=u&&u.result&&n(Be.Yj.SavaRedPackageGetAwardResult,{popupData:e})})),$o=(0,An.k)((async(e,t)=>{const{mallStore:r,popupStore:n}=t,{refreshGoodsListAndBanner:i}=r,{service:s,show:a}=n,{queryFullBackPackage:l,getUserTagCoupons:c}=s,{status:u,userTagType:p}=e||{},d=u===Be.ds.WAIT_ORDER,h=u===Be.ds.ALLOW_ORDER;if(d)await(async()=>{const e=await l();(null==e?void 0:e.result)&&(0,o.iY)("明日可领取免单奖励哦")})();else if(h){const{totalDiscount:e,rewardDurationDesc:t}=await c()||{};e&&t&&(a(Be.Yj.FreeOrderAwardPopup,{popupData:{userTagType:p,totalDiscount:e,rewardDurationDesc:t}}),await i())}})),Jo=(0,An.k)((async(e,t)=>{const{mallStore:r,popupStore:n}=t,{refreshBannerAndCart:i}=r,{service:s,show:a}=n,{queryFullBackPackage:l,getUserTagCoupons:c}=s,{status:u}=e||{},p=u===Be.ds.WAIT_ORDER,d=u===Be.ds.ALLOW_ORDER;p?await(async()=>{const e=await l();(null==e?void 0:e.result)&&(0,o.iY)("明日领取奖励～")})():d&&await(async()=>{const e=await c(),{totalDiscount:t,rewardDurationDesc:r}=e||{};t&&(a(Be.Yj.FullbackAwardPopup,{popupData:{totalDiscount:t,rewardDurationDesc:r}}),await i())})()}));function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ri=(0,An.k)((async(e,t)=>{const{popupStore:r,mallStore:n}=t,{refreshBannerAndCart:i}=n,{service:s,show:a}=r,{queryFullBackPackage:l,getUserTagCoupons:c}=s,{status:u,pmRewardBannerSubState:p}=e||{},d=u===Be.ds.WAIT_ORDER,h=[Be.TY.HasTakenToday,Be.TY.AllTaken].includes(p),f=e=>{a(Be.Yj.FullbackMcMoneyAwardPopup,{popupData:ti({isWaitStatus:d},e)})};d||h||p===Be.TY.HasTakenToday?await(async()=>{const e=await l();(null==e?void 0:e.result)&&d&&(0,o.iY)("明日领取奖励～")})():p!==Be.TY.CanTakePmAndCash?p===Be.TY.CanTakeCash&&await(async()=>{const e=await c({rewardType:Be.ib.Remit});null!=e&&e.rewardVO&&f({cashPopData:e,showCashAwardPop:!!e.rewardVO}),e&&await i()})():await(async()=>{const e=await c({rewardType:Be.ib.Coin});e&&(f({pmAwardPopInfo:e,showPmAwardPop:!0,showCashAwardPop:!1}),await i())})()}));function ni(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ni(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ii=(0,An.k)((async(e,t)=>{const{mallStore:r,popupStore:n}=t,{refreshGoodsListBannerAndCart:o}=r,{service:i,show:s}=n,{takeFreeThreeOrderAward:a,queryFreeThreeOrderAward:l}=i,{bannerStatus:c,hasRenewed:u}=e||{};c===Be.$u.CanTaken?await(async()=>{const e=await a();null!=e&&e.result&&s(Be.Yj.FreeThreeOrderAwardPopup,{popupData:oi({},e.result)}),await o()})():await(async()=>{const t=await l();if(null!=t&&t.result){const t=u?Be.kV.FreeThreeOrderRestartProgressPopup:Be.kV.FreeThreeOrderProgressPopup;s(t,{popupData:e})}})()}));var si=r(53015);function ai(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ai(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ai(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ci="活动太火爆～",ui=(0,An.k)((async e=>{const{mallStore:t,popupStore:r,bottomTabStore:n}=e,{enableShakingPacket:i,refreshBannerAndCart:s,shakingPacketStatus:a,shakingPacketInfo:l,mallListUiStyle:c,lockShakingPacket:u,updateLockShakingPacketStatus:p,updatePacketRefreshCartStatus:d}=t,{activityEndTime:h}=(null==l?void 0:l.bannerData)||{},{service:f,show:m,idList:g,clear:y,hide:b}=r,{getShakingPacketPopInfo:v}=f,w=null==c?void 0:c.hasFlowBanner;if(Se()(g)===Be.kV.StoreOptions||u||null==n||!n.isShoppingTabActive)return null;p(!0);const S=(e,t)=>{(0,_.Pr)("handleError_".concat(e)),!t&&e&&(0,o.iY)(e),s(),b(),p(!1)};if(!i)return h<=Ct.Z.now?S(Be.qf[Be.a$.ShowEnd],w):S(Be.qf[a],w);try{var P;y(),(0,Ee.nM)("AMDevice","vibrateLong",null,"4.29.0","4.29.0"),m(Be.Yj.ShakingPacketBannerPopup,{});const e=await v();if(null==e||!e.success)return void S(null==e?void 0:e.errorMsg,w);null!=e&&null!==(P=e.redPacketPopupInfo)&&void 0!==P&&P.refreshCarts&&d(!0),m(Be.Yj.ShakingPacketBannerPopup,{popupData:li(li({},(null==e?void 0:e.redPacketPopupInfo)||{}),{},{endTime:Ct.Z.now})})}catch(e){(0,_.Pr)("e_".concat(null==e?void 0:e.errorMsg)),S(null==e?void 0:e.errorMsg,w)}}),{loading:!1}),pi=(0,An.k)((async(e,t)=>{const{mallStore:r,popupStore:n}=e,{refreshBannerAndCart:i,shakingPacketInfo:s}=r,{activityEndTime:a}=(null==s?void 0:s.bannerData)||{},{service:l,show:c}=n,{getShakingPacketRecordList:u,getActiveRuleTips:p}=l;if(a<=Date.now())return(0,o.iY)(Be.qf[Be.a$.ShowEnd]),i(),null;let d=[],h=[];if(t===Be.hy.Rule){const e=await(0,ue.tB)(p);if(null==e||!e.length)return(0,o.iY)(ci),null;d=e}else{const e=await u();if(null==e||!e.success)return(0,o.iY)((null==e?void 0:e.errorMsg)||ci),void i();const{awardRecordList:t}=e||{};null!=t&&t.length&&(h=t)}c(Be.Yj.ShakingPacketRulesRecordPopup,{popupData:{tips:d,records:h,tab:t}})}));var di,hi,fi,mi,gi,yi,bi,vi,_i,wi,Si,Pi,ki,Oi,Ci,Ii,xi,Ei;function Ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Di(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ti(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ai="popup_store_show_for_pause",Ri="A",Li="B";let Mi=(di=It.action.bound,hi=class extends zo.Z{constructor(e,t){if(super(),this.rootStore=null,this.service=null,(0,ln.Z)(this,"_alreadyHasImpr",fi,this),(0,ln.Z)(this,"alreadyShowBackSkyrocketPopup",mi,this),(0,ln.Z)(this,"pinWidgetResult",gi,this),(0,ln.Z)(this,"backNumberAccount",yi,this),(0,ln.Z)(this,"widgetGuidePopup",bi,this),(0,ln.Z)(this,"widgetGuideWithOriginPopup",vi,this),(0,ln.Z)(this,"widgetGuideType",_i,this),(0,ln.Z)(this,"show",wi,this),(0,ln.Z)(this,"hide",Si,this),(0,ln.Z)(this,"clear",Pi,this),this.relatedBanners=e=>{const{relatedBanners:t}=this.getQueueData(e)||{},{bannerStore:r}=this.rootStore||{},{updateBannerDisplay:n}=r||{};(t||[]).forEach(n)},(0,ln.Z)(this,"updateAlreadyHasImpr",ki,this),(0,ln.Z)(this,"updateAlreadyShowBackSkyrocketPopup",Oi,this),(0,ln.Z)(this,"doPopupImpr",Ci,this),(0,ln.Z)(this,"doPopupClose",Ii,this),(0,ln.Z)(this,"requestPinWidget",xi,this),(0,ln.Z)(this,"checkStoreSilenceGuide",Ei,this),this.fetchOptionStores=async()=>{var e;const{DefaultStoreFar:t,OptionalStores:r}=ae.Mk,n=await(0,ze.VO)(),o=await this.service.querySharePopupsInfo({storeId:a()(this,"rootStore.uiStore.query.".concat([W.Uk.StoreId])),locationId:null==n?void 0:n.locationId});return(null==o?void 0:o.success)&&[t,r].includes(null==o?void 0:o.popupType)&&(null==o||null===(e=o.storeInfoList)||void 0===e?void 0:e.length)>0?o:null},this.fullbackUnJoinBtnClick=async({userTagType:e,showToast:t=!0})=>{var r;const n=await this.service.queryPayBackPopup({user_tag_type:e}),i=null==n?void 0:n.data;null!=(null==i||null===(r=i.popupData)||void 0===r?void 0:r.userTagType)?this.show(i.popupId,i):t&&((0,o.iY)(xn.I),await this.rootStore.bannerStore.requestUpdateBanner())},this.rewardButtonClick=async(e,t)=>{switch(+e){case Be.hW.Fullback:{const e=null==t?void 0:t.template;if(e===Be.M3.ReturnMcPmAndCash)return this.fullbackMcMoneyAndCashGetRewardClick(t);if(e===Be.M3.ReturnMcPocketMoney)return this.fullbackMcMoneyGetAwardClick(t);break}case Be.hW.SaveRedPackage:return this.saveRedPackageGetRewardClick(t);case Be.hW.FreeOrder:return this.freeOrderGetRewardClick(t);case Be.hW.CheckoutCash:return this.orderForCashGetRewardClick(t);case Be.hW.FreeThreeOrder:return this.freeThreeOrderGetRewardClick(t)}},this.saveRedPackageGetRewardClick=async e=>{await Xo(e,this.rootStore)},this.orderForCashGetRewardClick=async e=>{await Yo(e,this.rootStore)},this.freeOrderGetRewardClick=async e=>{await $o(e,this.rootStore)},this.fullbackMcMoneyGetAwardClick=async e=>{await Jo(e,this.rootStore)},this.fullbackMcMoneyAndCashGetRewardClick=async e=>{await ri(e,this.rootStore)},this.freeThreeOrderGetRewardClick=async e=>{await ii(e,this.rootStore)},this.pointOrderCashRewardBtnClick=async e=>{const{mallStore:t,bannerStore:r,cartStore:n}=this.rootStore,{mallListService:i}=t,s=await i.pointOrderCashOderWithdraw(e);null==r||r.updateBanner(),null==n||n.refreshCart(),s.success?s.withdrawStatus===si.Cy.Fail?(0,o.iY)(s.message):s.withdrawStatus===si.Cy.Success?this.show(Be.Yj.PointOrderCashReward,{popupData:{withdrawAmount:s.withdrawAmount}}):s.withdrawStatus===si.Cy.NotEnough&&this.show(Be.Yj.PointCashPartialRewardConfirm,{popupData:{withdrawAmount:s.withdrawAmount,leftAmount:s.leftAmount}}):(0,o.iY)(s.errorMsg)},this.pointOrderCashUnJoinBtnClick=()=>{this.show(Be.Yj.PointOrderCashJoinGuide,{popupData:{status:si.Cv.CAN_GET,showDraw:!0}})},this.queryShakingPacketPopupInfo=async()=>{await ui(this.rootStore)},this.queryShakingPacketRulesAndRecords=async e=>{await pi(this.rootStore,e)},this.openRulePopup=async(e,t,r={})=>{var n;let i=e;if((null==e||!e.length)&&t){const e=await this.service.getActiveRuleTips(t),n=(0,ue.RW)(e,r);if(null==n||!n.length)return void(0,o.iY)(xn.I);i=n}if(null!==(n=i)&&void 0!==n&&n.length)return this.show(Be.Yj.MallListRulePopup,{popupData:{tips:i}}),i},this.rootStore=t,this.service=new Vo(e,t),this.backNumberAccount=a()(e,"initialData.bizData.multiPopupDisplay.backLimitCount"),this.widgetGuidePopup=a()(e,"initialData.leoOpenConfig.widgetGuidePopup"),this.widgetGuideType=a()(e,"initialData.bizData.uiStyle.widgetGuideType"),!(0,P.jU)())return;const r=a()(e,"initialData.bizData.multiPopupDisplay");((null==r?void 0:r.popupDisplayList)||[]).forEach((e=>{if(null==e||!e.popupId)return;const t=e.popupId===Be.kV.ShakingPacketActivity?Di(Di({},e.popupData),{},{endTime:Date.now()}):null==e?void 0:e.popupData;this.show(e.popupId,Di(Di({},e),{},{popupData:t}))}))}get alreadyHasImpr(){return[...this._alreadyHasImpr]}},fi=(0,be.Z)(hi.prototype,"_alreadyHasImpr",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mi=(0,be.Z)(hi.prototype,"alreadyShowBackSkyrocketPopup",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gi=(0,be.Z)(hi.prototype,"pinWidgetResult",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),yi=(0,be.Z)(hi.prototype,"backNumberAccount",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bi=(0,be.Z)(hi.prototype,"widgetGuidePopup",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vi=(0,be.Z)(hi.prototype,"widgetGuideWithOriginPopup",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_i=(0,be.Z)(hi.prototype,"widgetGuideType",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wi=(0,be.Z)(hi.prototype,"show",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r,n;e&&(t=t||{},this.rootStore.timeTaskStore.pauseRelativeTask(Ai),this.addQueue(e,Di(Di({},t),{},{popupId:null!==(r=t.popupId)&&void 0!==r?r:e,popupData:null!==(n=t.popupData)&&void 0!==n?n:{}})))}}}),Si=(0,be.Z)(hi.prototype,"hide",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{var t;const r=Se()(this.idList);e=null!==(t=e)&&void 0!==t?t:r,this.removeQueue(e),e===r&&this.relatedBanners(e),!this.idList.length&&this.rootStore.timeTaskStore.unPauseRelativeTask(Ai)}}}),Pi=(0,be.Z)(hi.prototype,"clear",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.clearQueue(),this.rootStore.timeTaskStore.unPauseRelativeTask(Ai)}}}),ki=(0,be.Z)(hi.prototype,"updateAlreadyHasImpr",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{!this._alreadyHasImpr.includes(e)&&this._alreadyHasImpr.push(e)}}}),Oi=(0,be.Z)(hi.prototype,"updateAlreadyShowBackSkyrocketPopup",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.alreadyShowBackSkyrocketPopup=e}}}),Ci=(0,be.Z)(hi.prototype,"doPopupImpr",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{this.updateAlreadyHasImpr(e.popupId),this.service.doPopupImpr(e)}}}),Ii=(0,be.Z)(hi.prototype,"doPopupClose",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{this.service.doPopupClose(e)}}}),xi=(0,be.Z)(hi.prototype,"requestPinWidget",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{if(!this.widgetGuidePopup)return;const e=Ko.mz.VgtPopupGuideNew,t=this.widgetGuidePopup===Li?1:0,r=await(0,Ko.Xe)(e,{vegetable_origin_guide_gray:t,vegetable_popup_guide_gray:!0});let n=null;const{widgetGuideType:o}=this,i=Ko.mz.VgtRedEnvelopeBackGuide;o===i&&(n=await(0,Ko.Xe)(i)),(0,It.runInAction)((()=>{const{shouldInstall:e,widgetGuideEnable:t,widgetGuideDeliverParams:o}=r||{},i=0===(null==o?void 0:o.guide_window_flag);var s;void 0!==t&&(this.widgetGuidePopup===Ri&&i?this.checkStoreSilenceGuide():(this.widgetGuideWithOriginPopup=!i&&0===(null==o?void 0:o.if_business_popup),this.pinWidgetResult={widgetGuideSilenceEnable:i,widgetWidgetGuideEnable:e,widgetManufacturerBackEnable:null===(s=n)||void 0===s?void 0:s.shouldInstall}))}))}}}),Ei=(0,be.Z)(hi.prototype,"checkStoreSilenceGuide",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{var e;const t=await this.service.checkStoreSilenceGuide();null!=t&&null!==(e=t.data)&&void 0!==e&&e.enable&&(0,ue.zc)({onFailCallback:No()})}}}),hi);var Zi=Mi,ji=r(55602);const Ni=["ext","taskTrack"];class zi extends le.b{constructor(...e){super(...e),this.queryTimeline=async({biz:e,referBizScene:t,ext:r})=>{try{const n=await this.postRisk("/api/mc/v0/beer/query_timeline",{refer_biz_scene:t,biz:e,ext:r},{excludedKeys:Ni});return(null==n?void 0:n.timelineTasks)||[]}catch(e){}return[]},this.queryTimelineTaskData=async({taskId:e,biz:t,ext:r,referBizScene:n})=>{try{const o=await this.postRisk("/api/mc/v0/beer/query_timeline_task_data",{task_id:e,refer_biz_scene:n,biz:t,ext:r},{excludedKeys:Ni});if(null!=o&&o.valid)return o}catch(e){}return null},this.completeTimelineTask=async({requestId:e,taskId:t,ext:r,referBizScene:n})=>{try{const o=await this.postRisk("/api/mc/v0/beer/complete_timeline_task",{request_id:e,task_id:t,refer_biz_scene:n,ext:r});return(null==o?void 0:o.success)||!1}catch(e){}return!1}}}var Ui,Bi=r(65870);function Gi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gi(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let Hi;!function(e){e.Popup="popup",e.RefreshCart="refresh_cart",e.Notification="notification"}(Ui||(Ui={})),function(e){e.UpdataBanner="update_banner",e.UpdateTimeline="update_timeline"}(Hi||(Hi={}));class Wi extends ji.ZP{constructor(e,t){var r;super({checkPauseGlobalTimeline:()=>!a()(this.rootStore,"bottomTabStore.isShoppingTabActive",!0)}),this.rootStore=null,this.timelineService=null,this.mcTaskMap={},this._privateActionMap=void 0,this._privatePostActionMap=void 0,this.resolveMcTimelineRsp=e=>{var t;const r=(null==e||null===(t=e.mcTimeline)||void 0===t?void 0:t.timelineTasks)||[];this.resolveMcTimelineRspData(r)},this.resolveMcTimelineRspData=e=>{(e=e||[]).forEach((e=>{this.generatorTask(e)}))},this.deleteMcTask=e=>{delete this.mcTaskMap[e]},this.hasDiffMcTask=e=>{const{taskId:t,time:r}=e,n=this.mcTaskMap[t];return!n||n.time!==r},this.generatorTask=e=>{if(!e||!e.taskId||!this.hasDiffMcTask(e))return null;const{taskId:t,taskType:r,time:n,sleepTime:o}=e;this.mcTaskMap[t]=e,this.unRegister(t),this.register({key:t,dealTime:n,sleepTime:o,endTaskFn:this.generatorEndTaskFn(e),type:r})},this.generatorEndTaskFn=e=>{const{taskId:t,taskAction:r}=e;return[async()=>{await this.generatorAction(r)(t)},()=>this.deleteMcTask(t)]},this.generatorAction=e=>this._privateActionMap[e]||(()=>{}),this.updateTimeline=async()=>{const e=await this.timelineService.queryTimeline({biz:Bi.l.MALL_LIST_LANDING,ext:{mc_source:this.mcSource},referBizScene:this.referBizScene});this.resolveMcTimelineRspData(e)},this.queryTaskData=async e=>{const t=this.mcTaskMap[e];if(!t)return;const{ext:r}=t;return await this.timelineService.queryTimelineTaskData({taskId:e,ext:r,biz:Bi.l.MALL_LIST_LANDING,referBizScene:this.referBizScene})},this.pullPopup=async e=>{const t=await this.queryTaskData(e);if(null==t)return;const{taskData:r}=t,{popupId:n}=r||{};n&&this.rootStore.popupStore.show(n,Fi(Fi({},r),{},{imprCB:async()=>this.completeTask(t)}))},this.refreshCart=async e=>{const t=await this.queryTaskData(e);if(null==t)return;const{taskData:r}=t;this.rootStore.cartStore.refreshCart({guideActivityType:null==r?void 0:r.guideActivityType,isShowBubble:!0}),this.completeTask(t)},this.getNotifictionInfo=async e=>{const t=await this.queryTaskData(e);if(null==t)return;const{taskData:r}=t,{notifyId:n}=r||{};n&&this.rootStore.notifyStore.show(n,Fi(Fi({},r),{},{imprCB:async()=>this.completeTask(t)}))},this.generatorPostAction=e=>(e||[]).map((e=>this._privatePostActionMap[e])).filter((e=>!!e)),this.completeTask=async e=>{const{requestId:t,taskId:r,postAction:n,ext:o}=e||{};if(await this.timelineService.completeTimelineTask({requestId:t,taskId:r,referBizScene:this.referBizScene,ext:o})){this.generatorPostAction(n).map((async e=>e()))}},this.initState=()=>{this.mcTaskMap={},super.initState()};const n=a()(e,"axiosHttp",null);this.rootStore=t,this.timelineService=new zi(n),this._privateActionMap={[Ui.Popup]:this.pullPopup,[Ui.RefreshCart]:this.refreshCart,[Ui.Notification]:this.getNotifictionInfo},this._privatePostActionMap={[Hi.UpdataBanner]:this.rootStore.bannerStore.updateBanner,[Hi.UpdateTimeline]:this.updateTimeline},this.resolveMcTimelineRsp(null==e||null===(r=e.initialData)||void 0===r?void 0:r.bizData)}get referBizScene(){return a()(this,"rootStore.uiStore.query.".concat(W.Uk.TrafficSource))}get mcSource(){return{mc_mission_list:[{mc_mission_source:a()(this,"rootStore.uiStore.query.".concat(W.Uk.McSource)),mc_missions:(a()(this,"rootStore.uiStore.query.".concat(W.Uk.McMissionType))||"").split(",").map((e=>({mc_mission_type:e})))}]}}}var qi,Vi,Ki,Yi,Qi;function Xi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ji="notification_store_show_for_pause";let es=(qi=It.action.bound,Vi=It.action.bound,Ki=It.action.bound,Yi=It.action.bound,Qi=class extends zo.Z{constructor(e,t){super(),this.rootStore=null,this.popupService=null,this.rootStore=t;const r=(null==e?void 0:e.axiosHttp)||null;this.popupService=new wn.q(r)}get referBizScene(){return a()(this.rootStore,"uiStore.query.".concat(W.Uk.TrafficSource))}get source(){return a()(this,"rootStore.uiStore.query.".concat(W.Uk.McSource))}show(e,t){var r,n;e&&(t=t||{},this.rootStore.timeTaskStore.pauseRelativeTask(Ji),this.addQueue(e,$i($i({},t),{},{notifyId:null!==(r=t.notifyId)&&void 0!==r?r:e,notifyData:null!==(n=t.notifyData)&&void 0!==n?n:{}})))}async hide(e){var t;const r=Se()(this.idList);e=null!==(t=e)&&void 0!==t?t:r,this.removeQueue(e),!this.idList.length&&this.rootStore.timeTaskStore.unPauseRelativeTask(Ji)}clear(){this.clearQueue(),this.rootStore.timeTaskStore.unPauseRelativeTask(Ji)}async doNotifyImpr(e){const{notifyId:t,requestId:r}=e||{};return await this.popupService.doPopupImpr({popupId:t,requestId:r,referBizScene:this.referBizScene})}},(0,be.Z)(Qi.prototype,"show",[qi],Object.getOwnPropertyDescriptor(Qi.prototype,"show"),Qi.prototype),(0,be.Z)(Qi.prototype,"hide",[Vi],Object.getOwnPropertyDescriptor(Qi.prototype,"hide"),Qi.prototype),(0,be.Z)(Qi.prototype,"clear",[Ki],Object.getOwnPropertyDescriptor(Qi.prototype,"clear"),Qi.prototype),(0,be.Z)(Qi.prototype,"doNotifyImpr",[Yi],Object.getOwnPropertyDescriptor(Qi.prototype,"doNotifyImpr"),Qi.prototype),Qi);var ts,rs,ns,os,is,ss,as,ls,cs,us,ps,ds,hs,fs,ms,gs,ys,bs,vs,_s,ws,Ss,Ps,ks,Os,Cs,Is,xs,Es,Ts,Ds,As,Rs,Ls,Ms,Zs,js,Ns,zs,Us,Bs,Gs,Fs,Hs,Ws,qs,Vs,Ks,Ys,Qs,Xs,$s,Js,ea,ta,ra,na,oa,ia,sa,aa,la,ca,ua,pa,da,ha,fa,ma,ga,ya,ba,va,_a,wa,Sa,Pa,ka,Oa,Ca,Ia,xa,Ea,Ta,Da,Aa,Ra,La,Ma,Za,ja,Na,za,Ua,Ba,Ga=es,Fa=r(36968),Ha=r.n(Fa),Wa=r(44908),qa=r.n(Wa),Va=r(78718),Ka=r.n(Va),Ya=r(70655),Qa=r(56141),Xa=r(46818),$a=r(12850),Ja=r(14358),el=r(1282),tl=r(14268);function rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ol={crossModule:"has_cross_module",homePage:"true",interface_version:"v1"};let il=(ts=It.action.bound,rs=It.action.bound,ns=It.action.bound,os=It.action.bound,is=It.action.bound,ss=It.action.bound,as=It.action.bound,ls=It.action.bound,cs=It.action.bound,us=It.action.bound,ps=It.action.bound,ds=It.action.bound,hs=It.action.bound,fs=It.action.bound,ms=It.action.bound,gs=It.action.bound,ys=It.action.bound,bs=It.action.bound,vs=It.action.bound,_s=It.action.bound,ws=It.action.bound,Ss=It.action.bound,Ps=It.action.bound,ks=It.action.bound,Os=It.action.bound,Cs=It.action.bound,Is=It.action.bound,xs=It.action.bound,Es=It.action.bound,Ts=It.action.bound,Ds=It.action.bound,As=It.action.bound,Rs=It.action.bound,Ls=It.action.bound,Ms=It.action.bound,Zs=It.action.bound,js=It.action.bound,Ns=It.action.bound,zs=It.action.bound,Us=It.action.bound,Bs=It.action.bound,Gs=It.action.bound,Fs=It.action.bound,Hs=It.action.bound,Ws=It.action.bound,qs=It.action.bound,Vs=It.action.bound,Ks=It.action.bound,Ys=It.action.bound,Qs=class{static getCartAttrMap(e){var t;const r=ol,n=qa()([...(null===(t=this.cartStoreOptions)||void 0===t?void 0:t.extTextList)||[],...(0,Dn.Z)((()=>JSON.parse(a()(e,W.Uk.CartExtText)||"[]")),[]),...Ja.f$.ActJump]);return n.length&&(r.extTextList=JSON.stringify(n)),r}constructor(e,t){this.isHome=!0,(0,ln.Z)(this,"cartHeight",Xs,this),this.currentPullReload=null,this.currentDisableScroll=null,(0,ln.Z)(this,"discountInfo",$s,this),(0,ln.Z)(this,"couponPopupData",Js,this),(0,ln.Z)(this,"cartBottomHeight",ea,this),this.storeId="",this.cartStoreOptions={extTextList:Ja.f$.AfterAdd},this.manageExtMap=null,this.deleteGoods=(0,An.k)((async({goodsId:e,mcSaleId:t,skuId:r,cartExtMap:n}={})=>{const o=(0,Qa.LJ)({goodsId:e,mcSaleId:t});this.subscribeForbidPushAfterAction();const i=this.getBaseGoodsById(o)||this.getInvalidGoodsById(o),s=await this.serviceV2.deleteGoods(nl({storeId:this.storeId,mcSaleId:t,skuId:r||(null==i?void 0:i.skuId),goodsId:e,cartExtMap:n||this.getGoodsCartExtMap({goodsId:e})},this.commonParams)),a=this.getBenchmarkMap();return delete a[o],(0,Qa.Qc)(s,a),this.handleBizData(s)})),this.deleteAllInvalidGoods=(0,An.k)((async()=>{var e;const t=await this.serviceV2.deleteGoods(nl({storeId:this.storeId,cartGoodsIdList:null==this||null===(e=this.invalidGoodsGroup)||void 0===e?void 0:e.cartGoodsIdList},this.commonParams));this.handleBizData(t)})),this.selectGoods=(0,An.k)((async({goodsId:e,mcSaleId:t,skuId:r,select:n}={})=>{const o=(0,Qa.LJ)({goodsId:e,mcSaleId:t});this.subscribeForbidPushAfterAction();const i=this.getBaseGoodsById(o),s=await this.serviceV2.selectGoods(nl({storeId:this.storeId,mcSaleId:t,goodsId:e,skuId:r,select:n,cartExtMap:this.getGoodsCartExtMap({goodsId:e})},this.commonParams)),l=this.getBenchmarkMap();l[o]={goodsId:e,mcSaleId:t,skuId:r,isSelect:n?1:0,goodsNumber:a()(i,"goodsNumber")},(0,Qa.Qc)(s,l),this.handleBizData(s)})),this.selectAllGoods=(0,An.k)((async({select:e}={})=>{this.subscribeForbidPushAfterAction();const t=await this.serviceV2.selectAllGoods(nl({storeId:this.storeId,select:e},this.commonParams)),r={};this.flattedGoodsList.forEach((t=>{r[a()(t,"primaryId")]=nl(nl({},Ka()(t,["goodsId","mcSaleId","skuId","goodsNumber"])),{},{isSelect:e?1:0})})),(0,Qa.Qc)(t,r),this.handleBizData(t)})),this.addBatchGoods=(0,An.k)((async e=>{const{goodsList:t}=e||{},r=await this.serviceV2.addBatchGoods(nl({storeId:this.storeId,goodsList:t},this.commonParams));return this.handleBizData(r)})),this.changeBatchGoodsAmount=(0,An.k)((async e=>{const{goodsList:t,goodsNumber:r}=e||{},n=await this.serviceV2.changeBatchGoodsAmount(nl({storeId:this.storeId,goodsList:t,goodsNumber:r},this.commonParams));return this.handleBizData(n)})),this.selectBatchGoods=(0,An.k)((async e=>{const{goodsList:t,isSelect:r}=e||{},n=await this.serviceV2.selectBatchGoods(nl({storeId:this.storeId,goodsList:t,isSelect:r},this.commonParams));return this.handleBizData(n)})),this.deleteBatchGoods=(0,An.k)((async e=>{const{goodsList:t}=e||{},r=await this.serviceV2.deleteGoods(nl({storeId:this.storeId,cartGoodsIdList:t},this.commonParams));this.handleBizData(r)})),(0,ln.Z)(this,"multiSkuPopupData",ta,this),(0,ln.Z)(this,"combineGoodsPopupData",ra,this),this.refreshCart=(0,An.k)((async({storeId:e,isShowBubble:t,guideActivityType:r,walletPromotionSeasonId:n}={})=>{const o=e||this.storeId;if(o)return this.storeId=o,this.serviceV2.getCart({storeId:o,extendMap:this.extendMap,manageExtMap:this.manageExtMap,cartAttrMap:this.cartAttrMap,guideActivityType:r,walletPromotionSeasonId:n,formatOptions:{noBubble:!t}}).then((e=>this.handleBizData(e)))})),this.refreshCartOnPageShow=(0,An.k)((async(...e)=>(clearTimeout(this.refreshTimer),this.refreshCart(...e).then((()=>{this.refreshTimer=setTimeout((()=>{var e;(null===(e=this.groupList)||void 0===e||!e.length)&&this.setPopup({id:el.A3.CART_BAR_V3,showPopup:!1,priority:this.lowPriorityHide?Ja.f6.VeryLow:Ja.f6.Normal})}),100)}))))),(0,ln.Z)(this,"degrade",na,this),(0,ln.Z)(this,"baseInfo",oa,this),(0,ln.Z)(this,"selectedCount",ia,this),(0,ln.Z)(this,"crossModuleExtMap",sa,this),(0,ln.Z)(this,"isCartInit",aa,this),(0,ln.Z)(this,"banner",la,this),(0,ln.Z)(this,"popupCoupon",ca,this),(0,ln.Z)(this,"defaultGoodsTags",ua,this),(0,ln.Z)(this,"preOrderInfo",pa,this),(0,ln.Z)(this,"isCheckoutPopupDynamicLoadFail",da,this),(0,ln.Z)(this,"useBannerV2",ha,this),(0,ln.Z)(this,"promotionTips",fa,this),(0,ln.Z)(this,"discountTips",ma,this),(0,ln.Z)(this,"bubbleTips",ga,this),(0,ln.Z)(this,"tipList",ya,this),(0,ln.Z)(this,"payPrice",ba,this),(0,ln.Z)(this,"discount",va,this),(0,ln.Z)(this,"groupList",_a,this),(0,ln.Z)(this,"cartVersion",wa,this),(0,ln.Z)(this,"cartListVersion",Sa,this),(0,ln.Z)(this,"goodsInfoMapV2",Pa,this),(0,ln.Z)(this,"invalidGoodsGroup",ka,this),(0,ln.Z)(this,"forbidSaleInfo",Oa,this),(0,ln.Z)(this,"goodsList",Ca,this),(0,ln.Z)(this,"hasMore",Ia,this),(0,ln.Z)(this,"hasMoreInvalid",xa,this),this.getMoreGoodsErrorTimes=0,this.getMoreInvalidGoodsErrorTimes=0,this.toggleOpenCart=(e=!0)=>{this.setPopup({id:el.A3.CART_BAR_V3,showPopup:e})},(0,ln.Z)(this,"ruleData",Ea,this),this.showCartRulePopup=(0,An.k)((async e=>{var t,r,n;const o=await this.leoConfigService.getLeoOpenConfig({value_leo_key:[K.GH.CActiveRules]}),i=(0,Bo.as)(null==o||null===(t=o.keyValues)||void 0===t?void 0:t.cActiveRules,{})||{};null!=i&&null!==(r=i[e])&&void 0!==r&&null!==(n=r.tips)&&void 0!==n&&n.length&&(0,It.runInAction)((()=>{this.ruleData=null==i?void 0:i[e],this.setPopup({id:el.oR.RULE,showPopup:!0})}))})),(0,ln.Z)(this,"rankPopupData",Ta,this),this.getRankPopupData=(0,An.k)((async e=>{var t;const r=await this.service.getRankData({storeId:this.storeId,rankType:null==e?void 0:e.rank_type,extendMap:null==e?void 0:e.extend_map});null!=r&&null!==(t=r.goodsList)&&void 0!==t&&t.length?(0,It.runInAction)((()=>{this.rankPopupData=r,this.setPopup({id:el.A3.RANK,showPopup:!0})})):(0,_.eK)({page:"cart_empty_rank_list",page_url:location.href})})),(0,ln.Z)(this,"flashAddonPopupData",Da,this),(0,ln.Z)(this,"popupMap",Aa,this),(0,ln.Z)(this,"uniformPopupData",Ra,this),(0,ln.Z)(this,"afterRecPopupData",La,this),this.getAfterRecPopupData=async e=>{var t;const r=(0,V.z)("".concat(n.Hf.MallList,"_after_add_rec_list")),o=await this.service.getAfterAddRec({listId:r,storeId:this.storeId,cartExtMap:null==e?void 0:e.cartExtMap,banGoodsList:(null==e?void 0:e.banGoodsList)||[],topGoodsList:(null==e?void 0:e.topGoodsList)||[]});if(null==o||null===(t=o.moduleData)||void 0===t||!t.length)return null;(0,It.runInAction)((()=>{this.afterRecPopupData=Object.assign({},o,{listId:r,cartExtMap:null==e?void 0:e.cartExtMap,banGoodsList:(null==e?void 0:e.banGoodsList)||[],topGoodsList:(null==e?void 0:e.topGoodsList)||[],popupHeaderItems:null==e?void 0:e.popupHeaderItems}),this.setPopup({id:el.A3.AFTER_ADD_REC_LOAD_MORE,showPopup:!0})}))},(0,ln.Z)(this,"orderAssistantEntry",Ma,this),(0,ln.Z)(this,"orderAssistantPopupData",Za,this),(0,ln.Z)(this,"platformDiscountInfo",ja,this),this.getOrderAssistantPopupData=async e=>{var t;const r=(0,V.z)("".concat(n.Hf.MallList,"_order_assistant_list")),i=await this.service.getOrderAssistantFirstPage({listId:r,storeId:this.storeId,cartExtMap:null==e?void 0:e.cartExtMap});if(null==i||null===(t=i.tabList)||void 0===t||!t.length)return void(0,o.iY)(el.I);const{tabList:s,goodsList:a,hasMore:l}=i||{};i.tabList=null==s?void 0:s.map(((e,t)=>{var o;return null!=e&&null!==(o=e.subTabList)&&void 0!==o&&o.length&&(e.selectSubTabIndex=0,e.subTabList=e.subTabList.map(((o,i)=>nl(nl({},o),{},{listId:t||i?(0,V.z)("".concat(n.Hf.MallList,"_order_assistant_").concat(null==e?void 0:e.activityId,"_").concat(i)):r,goodsList:t||i?[]:a||[],offset:t||i?0:(null==a?void 0:a.length)||0,hasMore:!(!t&&!i)||l})))),e})),i.selectTabIndex=0,(0,It.runInAction)((()=>{this.orderAssistantPopupData=i})),this.setPopup({id:el.oR.ORDER_ASSISTANT,showPopup:!0})},(0,ln.Z)(this,"addonsPopupData",Na,this),(0,ln.Z)(this,"showAddonsPopup",za,this),this.getAddonsPopupData=(0,An.k)((async e=>{var t;const r=(0,V.z)("".concat(n.Hf.Goods,"_addons_rec_list")),o=await this.service.getAddonsGoodsRec({listId:r,storeId:this.storeId,goodsId:null==e?void 0:e.goodsId,cartExtMap:null==e?void 0:e.cartExtMap,banGoodsList:(null==e?void 0:e.banGoodsList)||[]});null!=o&&null!==(t=o.moduleData)&&void 0!==t&&t.length?(0,It.runInAction)((()=>{this.addonsPopupData=Object.assign({},o,{listId:r,goodsId:null==e?void 0:e.goodsId,cartExtMap:null==e?void 0:e.cartExtMap,endTs:null==e?void 0:e.endTs,banGoodsList:(null==e?void 0:e.banGoodsList)||[]}),this.setPopup({id:el.A3.ADDONS,showPopup:!0})})):(0,_.eK)({page:"cart_empty_addons_rec_list",page_url:location.href})})),(0,ln.Z)(this,"actJumpPopupData",Ua,this),this.getActJumpPopupData=(0,An.k)((async e=>{var t;const r=(0,V.z)("cart_group_jump"),n=await this.service.getAddonsGoodsRec({listId:r,scene:"cart",limit:10,storeId:this.storeId,goodsId:"",cartExtMap:e||{},tabId:"",banGoodsList:[]});if(null==n||null===(t=n.moduleData)||void 0===t||!t.length)return Promise.reject();(0,It.runInAction)((()=>{this.actJumpPopupData=Object.assign({},n,{listId:r,goodsId:"",cartExtMap:e})}))})),this.position={scene:"",locationId:""},(0,ln.Z)(this,"forwardLink",Ba,this);const r=a()(e,"axiosHttp");this.rootStore=t,this.service=new Ya.Z(r),this.serviceV2=new re.Z(r),this.leoConfigService=new ye.Z(r);const i=a()(e,"initialData.query"),s=a()(e,"initialData.bizData.cartData");this.isNative=a()(e,"initialData.isNative"),this.serverTime=a()(e,"initialData.serverTime"),this.placeOrderText="去支付",this.extendMap=a()(e,"initialData.bizData.extendMap")||{},this.webpEnable=a()(e,"initialData.webpEnable"),this.lowPriorityHide=a()(e,"initialData.leoOpenConfig.lowPriorityHide"),this.popupExcludesCartBubble=a()(e,"initialData.leoOpenConfig.popupExcludesCartBubble"),this.isDirectToStoresMapTester=a()(e,"initialData.leoOpenConfig.isDirectToStoresMapTester"),this.extGroupList=(0,Dn.Z)((()=>JSON.parse(a()(i,W.Uk.CartExtGroup)||"[]")),[]),Object.assign(this,s)}updateCartHeight(e){this.cartHeight=e}get cartPopupStyle(){return this.cartBottomHeight?{marginBottom:"".concat(this.cartBottomHeight,"rem"),maxHeight:"calc(80vh - ".concat(this.cartBottomHeight,"rem)")}:{}}setCartBottomHeight(e){this.cartBottomHeight=e}get cartAttrMap(){var e;const t=ol,r=qa()([...(null===(e=this.cartStoreOptions)||void 0===e?void 0:e.extTextList)||[],...this.extTextList||[]]);return r.length&&(t.extTextList=JSON.stringify(r)),t}get commonParams(){return{skeleton:this.cartSkeleton,manageExtMap:this.manageExtMap,cartAttrMap:this.cartAttrMap,extendMap:this.extendMap}}getBenchmarkMap(){const e={};return this.flattedGoodsList.forEach((t=>{e[a()(t,"primaryId")]=Ka()(t,["goodsId","mcSaleId","skuId","isSelect","goodsNumber"])})),e}async addGoods({goodsId:e,mcSaleId:t,skuId:r,cartExtMap:n}={}){var o;const i=(0,Qa.LJ)({goodsId:e,mcSaleId:t});this.subscribeForbidPushAfterAction();const s=await this.serviceV2.addGoods(nl({storeId:this.storeId,goodsId:e,mcSaleId:t,skuId:r,cartExtMap:n||null},this.commonParams)),a=this.getBenchmarkMap();return a[i]={goodsId:e,mcSaleId:t,skuId:r,isSelect:1,goodsNumber:(0,Qa.BA)((null==s||null===(o=s.data)||void 0===o?void 0:o.groupList)||[],i)||1},(0,Qa.Qc)(s,a),this.handleBizData(s)}async changeGoodsAmount({goodsId:e,mcSaleId:t,skuId:r,goodsNumber:n,cartExtMap:o}={}){const i=(0,Qa.LJ)({goodsId:e,mcSaleId:t});this.subscribeForbidPushAfterAction();const s=this.getBaseGoodsById(i),l=await this.serviceV2.changeGoodsAmount(nl({storeId:this.storeId,goodsId:e,mcSaleId:t,goodsNumber:n,skuId:r,cartExtMap:o||this.getGoodsCartExtMap({goodsId:e})},this.commonParams)),c=this.getBenchmarkMap();return c[i]={goodsId:e,mcSaleId:t,skuId:r,isSelect:n>a()(s,"goodsNumber")?1:a()(s,"isSelect"),goodsNumber:n},(0,Qa.Qc)(l,c),this.handleBizData(l)}getCoupon(){return this.service.getCoupon({storeId:this.storeId,topCouponIdList:a()(this,"promotionTips.popupV2.couponMetaInfo.topCouponIdList",[]),topWalletPromotionSeasonIdList:a()(this,"promotionTips.popupV2.walletPromotionMetaInfo.walletPromotionSeasonIdList",[]),topPromotionActivityIdList:a()(this,"promotionTips.popupV2.promotionActivityMetaInfo.topPromotionActivityIdList",[])}).then((e=>{var t;const r=((null==e||null===(t=e.result)||void 0===t?void 0:t.couponList)||[]).filter((e=>[el.rH.Platform,el.rH.Mall].includes(null==e?void 0:e.displayType)));(0,It.runInAction)((()=>{var t,n;this.couponPopupData={couponList:r,payCouponList:(null==e||null===(t=e.result)||void 0===t?void 0:t.walletPromotionList)||[],promotionActivityList:(null==e||null===(n=e.result)||void 0===n?void 0:n.promotionActivityList)||[],serverTime:(null==e?void 0:e.serverTime)||this.serverTime}}))})).catch(q.ZT)}async getMultiSkuPopup({goods:e,btnProps:t}){const{goodsId:r,mcSaleId:n,pfresh:o}=e||{},i=(0,Dn.Z)((()=>JSON.parse(o).pfid),""),s=await this.service.getMultiSkuPopup({storeId:this.storeId,goodsId:r,mcSaleId:n,pfreshId:i});return(0,It.runInAction)((()=>{if(s.success){if(!a()(s,"multiSkuRenderGoodsList.length"))return void(0,ie.Z)("商品已下架");this.multiSkuPopupData=nl(nl({},s),{},{mainGoods:e,btnProps:t}),this.setPopup({id:el.A3.SKU,showPopup:!0})}else(0,ie.Z)("商品暂时无法购买")})),s}clearMultiSkuData(){this.multiSkuPopupData=null}async getCombineGoodsPopup(e){const{combineGoods:t}=e||{},r=(a()(t,"combinationVO.sampleGoodsVOList")||[]).map((e=>Ka()(e,["goodsId","mcSaleId","pfresh"]))).filter(Boolean),n=await this.service.getCombineGoodsData({goodsList:r,storeId:this.storeId});return(0,It.runInAction)((()=>{null!=n&&n.success?(this.combineGoodsPopupData=nl(nl({},n),{},{combineGoods:t}),this.setPopup({id:el.A3.COMBINE_GOODS,showPopup:!0})):(0,ie.Z)((null==n?void 0:n.message)||xn.u5)})),n}clearCombineGoodsPopupData(){this.combineGoodsPopupData=null}handlePayload(e){const{toast:t,action:r}=e||{};t&&(0,ie.Z)(t,{onClose:()=>{const{type:e}=r||{};e===el.jK.OpenCartPopup&&this.toggleOpenCart(!0)}})}handleBizData(e){if(e.success){var t,r;const{data:o,toast:i,refreshInfo:s}=e;var n;if(!fn()(null==o?void 0:o.forbidSaleInfo))o.forbidSaleInfo.subscribeStatus=(null==this||null===(n=this.forbidSaleInfo)||void 0===n?void 0:n.subscribeStatus)||o.forbidSaleInfo.subscribeStatus;const l=o||{},{popupCoupon:c,defaultGoodsTags:u}=l,p=(0,T.Z)(l,["popupCoupon","defaultGoodsTags"]);return c&&(this.popupCoupon=c),u&&(this.defaultGoodsTags=u),a()(s,"status")&&null!==(t=this.popupMap)&&void 0!==t&&null!==(r=t[el.A3.CART_BAR_V3])&&void 0!==r&&r.isPopping?((0,ie.Z)(i||a()(s,"msg")),(0,kn.b0)({customTags:{event:el.RN.ForceRefreshCart}}),Object.assign(this,p),this.cartListVersion=Date.now(),Promise.resolve(e)):(Object.assign(this,p,{goodsInfoMapV2:nl(nl({},this.goodsInfoMapV2),a()(p,"goodsInfoMapV2"))}),this.handlePayload(e),Promise.resolve(e))}return this.handlePayload(e),Promise.reject(new Error("cart api error: ".concat(a()(e,"toast"))))}subscribeSpikeGoods({goodsId:e,mcSaleId:t="",subscribe:r,startTime:n,isAppPush:o}){return this.service.subscribeSpikeGoods({goodsId:e,mcSaleId:t,subscribe:r,startTime:n,storeId:this.storeId,isAppPush:o})}subscribeGoods({goodsId:e,mcSaleId:t="",subscribeType:r,storeId:n}){return this.service.subscribeGoods({storeId:n,goodsId:e,mcSaleId:t,subscribeType:r})}async subscribeForbidPush({showErrorToast:e=!1}={}){const t=await this.service.subscribeForbidPush();(0,It.runInAction)((()=>{this.isForbidSale&&(null!=t&&t.success?((0,ie.Z)(Ja.lI),this.forbidSaleInfo=nl(nl({},this.forbidSaleInfo),{},{subscribeStatus:nt.vl.Subscribed})):e&&(0,ie.Z)(Ja.v5))}))}subscribeForbidPushAfterAction(){var e;this.isForbidSale&&!+(null===(e=this.forbidSaleInfo)||void 0===e?void 0:e.subscribeStatus)&&this.subscribeForbidPush()}clearPopupCoupon(){this.popupCoupon=null}get displayPrice(){return this.payPrice-this.discount}get noBanner(){var e,t,r;return!(this.useBannerV2||null!==(e=this.banner)&&void 0!==e&&e.richTextList&&0!==(null===(t=this.banner)||void 0===t||null===(r=t.richTextList)||void 0===r?void 0:r.length))}get isForbidSale(){return!fn()(this.forbidSaleInfo)}get addButtonText(){return this.isForbidSale?"提前加购":""}get themeColor(){return this.isForbidSale?Ja.Rk.ThemeColor:""}get cartSkeleton(){var e;return(0,tl.D1)({invalidCartGoodsIdList:(0,It.toJS)(null===(e=this.invalidGoodsGroup)||void 0===e?void 0:e.cartGoodsIdList)||[],groupList:(this.groupList||[]).map((e=>({goodsList:((null==e?void 0:e.goodsList)||[]).map((e=>Ka()(e,["goodsId","mcSaleId"]))),groupType:null==e?void 0:e.groupType})))})}get displayGroupList(){return(this.groupList||[]).reduce(((e,t)=>{const r=[];return((null==t?void 0:t.goodsList)||[]).forEach((e=>{const t=this.goodsInfoMapV2[null==e?void 0:e.primaryId];t&&r.push(io()(nl({},e),t,((e,t)=>t||e)))})),e.push(nl(nl({},t),{},{goodsList:r})),e}),[])}get displayInValidGoodsList(){var e;const t=[];return((null===(e=this.invalidGoodsGroup)||void 0===e?void 0:e.cartGoodsIdList)||[]).forEach((e=>{const r=(0,Qa.LJ)(e),n=this.goodsInfoMapV2[r];n&&t.push(nl(nl({},n||{}),{},{goodsId:null==e?void 0:e.goodsId,primaryId:r}))})),t}get flattedGoodsList(){var e,t;return null!==(e=this.degrade)&&void 0!==e&&e.level?(null===(t=this.baseInfo)||void 0===t?void 0:t.goodsList)||[]:(0,Qa.Ym)(this.groupList)}get flattedValidGoodsList(){return(0,Qa.fq)(this.groupList)}get flattedDisplayGoodsList(){return(0,Qa.Ym)(this.displayGroupList)}get flattedDisplayInvalidGoodsList(){return this.displayInValidGoodsList}get isEmpty(){var e,t,r;return!(null!==(e=this.flattedGoodsList)&&void 0!==e&&e.length||null!==(t=this.invalidGoodsGroup)&&void 0!==t&&null!==(r=t.cartGoodsIdList)&&void 0!==r&&r.length)}get hasSelectedAll(){return this.flattedValidGoodsList.length>0&&this.flattedValidGoodsList.every((e=>!!e.isSelect))}get selectedGoodsList(){var e,t;return null===(e=this.flattedGoodsList)||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,(e=>!!e.isSelect))}get inCartGoodsIds(){return this.selectedGoodsList.map((e=>e.goodsId))}get unInitGoodsList(){return this.flattedGoodsList.filter((e=>{var t;return(null==e?void 0:e.primaryId)&&fn()(null===(t=this.goodsInfoMapV2)||void 0===t?void 0:t[e.primaryId])}))}get showInvalidGoods(){var e,t;return(null===(e=this.invalidGoodsGroup)||void 0===e||null===(t=e.cartGoodsIdList)||void 0===t?void 0:t.length)>0&&!this.hasMore}get unInitInvalidGoodsIdList(){var e;return((null===(e=this.invalidGoodsGroup)||void 0===e?void 0:e.cartGoodsIdList)||[]).filter((e=>{var t;const r=(0,Qa.LJ)(e);return r&&fn()(null===(t=this.goodsInfoMapV2)||void 0===t?void 0:t[r])}))}get firstScreenGoodsItemIds(){return(0,Qa.Kq)(this.groupList,this.invalidGoodsGroup)}async getCartListGoods(){const e=this.unInitGoodsList.slice(0,10).map((e=>Ka()(e,["goodsId","mcSaleId"]))).filter((e=>!fn()(e)));if(null==e||!e.length)return this.hasMore=!1,n._b;const t=await this.serviceV2.getCartListGoods({storeId:this.storeId,version:this.cartVersion,cartGoodsIdList:e});if(!t)return this.getMoreGoodsErrorTimes<=el.Op?void this.getMoreGoodsErrorTimes++:((0,kn.b0)({customTags:{event:el.RN.GetMoreGoodsError}}),this.getMoreGoodsErrorTimes=0,this.hasMore=!1,n._b);await this.handleBizData(t).then((()=>{(0,It.runInAction)((()=>{if(this.hasMore=this.unInitGoodsList.length>0,!this.hasMore)return n._b}))})).catch((()=>{}))}async getCartInvalidListGoods(){const e=this.unInitInvalidGoodsIdList.slice(0,10);if(null==e||!e.length)return this.hasMoreInvalid=!1,n._b;const t=await this.serviceV2.getCartListGoods({storeId:this.storeId,version:this.cartVersion,cartGoodsIdList:e});if(!t)return this.getMoreInvalidGoodsErrorTimes<=el.Op?void this.getMoreInvalidGoodsErrorTimes++:((0,kn.b0)({customTags:{event:el.RN.GetMoreInvalidGoodsError}}),this.getMoreInvalidGoodsErrorTimes=0,this.hasMore=!1,n._b);await this.handleBizData(t).then((()=>{(0,It.runInAction)((()=>{var e;if(this.hasMoreInvalid=(null===(e=this.unInitInvalidGoodsIdList)||void 0===e?void 0:e.length)>0,!this.hasMoreInvalid)return n._b}))})).catch((()=>{}))}getBaseGoodsById(e){var t,r;if(e)return null===(t=this.flattedGoodsList)||void 0===t||null===(r=t.find)||void 0===r?void 0:r.call(t,(t=>t.primaryId===String(e)))}getGoodsById(e){if(e)return e="".concat(e),this.flattedDisplayGoodsList.find((t=>t.primaryId===String(e)))}getInvalidGoodsById(e){if(e)return this.flattedDisplayInvalidGoodsList.find((t=>t.primaryId===String(e)))}getGoodsBySkuId(e){var t,r;return null===(t=this.flattedGoodsList)||void 0===t||null===(r=t.find)||void 0===r?void 0:r.call(t,(t=>t.skuId===e))}getGoodsCartExtMap({goodsId:e}){const t=this.getGoodsById(e);return(null==t?void 0:t.cartExtMap)||null}getSelectGoodsGroupPrice(e){for(let n=0;n<(null===(t=this.groupList)||void 0===t?void 0:t.length);n++){var t,r;const o=(null===(r=this.groupList)||void 0===r?void 0:r[n])||{};if((o.goodsList||[]).some((t=>t.goodsId===e)))return o.selectPrice}return 0}toggleCart(){var e;(0,On.e0)({op:"click",page_el_sn:3568025,goods_info:JSON.stringify(this.selectedGoodsList.map((e=>({goods_id:null==e?void 0:e.goodsId,sku_id:null==e?void 0:e.skuId,goods_number:null==e?void 0:e.goodsNumber,tick:null!=e&&e.isSelect?1:0}))))});const t=null===(e=this.popupMap)||void 0===e?void 0:e[el.A3.CART_BAR_V3];this.setPopup({id:el.A3.CART_BAR_V3,showPopup:!(null!=t&&t.isPopping)})}disablePullReloadRecord(e,t){var r;null!==(r=this.currentPullReload)&&void 0!==r&&r.add||(this.currentPullReload=new Set),this.currentPullReload.add(e),(0,P.Wl)(t)&&t()}enablePullReloadRecord(e,t){var r;null!==(r=this.currentPullReload)&&void 0!==r&&r.delete||(this.currentPullReload=new Set),this.currentPullReload.delete(e),this.currentPullReload.size<=0&&(0,P.Wl)(t)&&t()}resetPullReloadRecord(e){this.currentPullReload=null,e()}disableScrollRecord(e,t){var r;null!==(r=this.currentDisableScroll)&&void 0!==r&&r.add||(this.currentDisableScroll=new Set),this.currentDisableScroll.add(e),(0,P.Wl)(t)&&t()}enableScrollRecord(e,t){var r;null!==(r=this.currentDisableScroll)&&void 0!==r&&r.delete||(this.currentDisableScroll=new Set),this.currentDisableScroll.delete(e),this.currentDisableScroll.size<=0&&(0,P.Wl)(t)&&t()}resetScrollRecord(e){this.currentDisableScroll=null,e()}clearRuleData(){this.ruleData=null}clearRankData(){this.rankPopupData=null}async setRankCardPopup({showPopup:e,getData:t}={}){return this.setPopup({id:el.A3.RANK,showPopup:e,needAwait:!0,beforeSetPopup:async()=>{const e=await t();return e?((0,It.runInAction)((()=>{this.rankPopupData=e})),Promise.resolve(e)):Promise.reject(new Error(xn.u5))}})}clearFlashAddonPopupData(){this.flashAddonPopupData=null}async getFlashAddonPopupData(e){const t=this.groupList.find((e=>(null==e?void 0:e.groupType)===Ja.DD.FlashAddon)),r=((null==t?void 0:t.goodsList)||[]).map((e=>null==e?void 0:e.goodsId)),n=await this.service.getFlashAddonPopupData(nl(nl({},e),{},{store_id:this.storeId,giftGoodsIdList:r}));return this.flashAddonPopupData=n,n}registerPopup(e){var t;null==e||!e.id||null!==(t=this.popupMap)&&void 0!==t&&t[e.id]||(this.popupMap[e.id]=e)}unregisterPopup(e){var t;e&&null!==(t=this.popupMap)&&void 0!==t&&t[e]&&delete this.popupMap[e]}clearUniformPopupData(){this.uniformPopupData=null}setUniformPopupData(e,t){var r;null!==(r=this.uniformPopupData)&&void 0!==r&&r[e]&&(0,mn.dj)(this.uniformPopupData,e,t)}async setUniformPopup({showPopup:e,getData:t,getMore:r=!1,isSilent:n=!1}={}){return this.setPopup({id:el.A3.UNIFORM,showPopup:e,needAwait:!0,isSilent:n,beforeSetPopup:async()=>{const e=await t();return e?((0,It.runInAction)((()=>{this.uniformPopupData=Object.assign({},e,{getData:r?t:null})})),Promise.resolve(e)):Promise.reject(new Error(xn.u5))}})}async setPopup({id:e,showPopup:t,needAwait:r,isSilent:n,beforeSetPopup:o,priority:i,beforeHideOnce:s,beforeShowOnce:a,beforeShowParams:l}){var c,u;const p=null===(c=this.popupMap)||void 0===c?void 0:c[e];if(!p)return(0,P.WC)()?Promise.reject(new Error("没有对应弹窗")):Promise.resolve();var d;if(null!==(u=this.degrade)&&void 0!==u&&u.level&&e===el.A3.CART_BAR_V3&&t)return(0,ie.Z)(null===(d=this.degrade)||void 0===d?void 0:d.info),Promise.resolve();const h=i||(null==p?void 0:p.priority),f=Object.values(this.popupMap).reduce(((t,r)=>{var n;h>=(null==r?void 0:r.priority)&&(o||e!==(null==r?void 0:r.id))&&t.push(null==r||null===(n=r.handler)||void 0===n?void 0:n.call(r,{showPopup:!1}).catch(q.ZT));return t}),[]);return(null==f?void 0:f.length)>0&&t&&(r||o?await Promise.all(f):Promise.all(f)),(o=o||(async()=>Promise.resolve()))().then((()=>p.handler({showPopup:t,beforeHideOnce:s,beforeShowOnce:a,beforeShowParams:l}))).catch((e=>{n||(0,ie.Z)((null==e?void 0:e.message)||xn.u5)}))}clearAfterRecPopupData(){this.afterRecPopupData=null}setAfterRecPopupData(e){this.afterRecPopupData=nl(nl({},this.afterRecPopupData||{}),{},{moduleData:e})}clearOrderAssistantPopupData(){this.orderAssistantPopupData=null}setOrderAssistantPopupSubData(e,t){a()(this.orderAssistantPopupData,e)&&Ha()(this.orderAssistantPopupData,e,t)}updateOrderAssistantSelectTabIndex(e,t){var r,n;this.orderAssistantPopupData&&(this.orderAssistantPopupData.selectTabIndex=e,t>=0&&(null===(r=this.orderAssistantPopupData)||void 0===r||null===(n=r.tabList)||void 0===n?void 0:n[e])&&(this.orderAssistantPopupData.tabList[e].selectSubTabIndex=t))}clearAddonsPopupData(){this.addonsPopupData=null}setAddonsPopupData(e,t){var r;null!==(r=this.addonsPopupData)&&void 0!==r&&r[e]&&(this.addonsPopupData[e]=t)}clearActJumpPopupData(){this.actJumpPopupData=null}setActJumpPopupData(e,t){var r;null!==(r=this.actJumpPopupData)&&void 0!==r&&r[e]&&(this.actJumpPopupData[e]=t)}updateLocationInfo({locationId:e=null,scene:t=null}){this.position={locationId:e,scene:t}}async reorder(){const e=(0,Lt.mB)(location.search),t=null==e?void 0:e[W.Uk.AddCartByFreshOrderSn],r=!!(0,Xa.G)(Sn.I.CartHasReordered);if(!t||r)return Promise.resolve();const n=await this.serviceV2.addGoodsByFreshOrderSn({storeId:this.storeId,parentFreshOrderSn:t,extendMap:this.extendMap});return null!=n&&n.success&&((0,Xa.t_)(Sn.I.CartHasReordered,"added"),(0,kn.b0)({customTags:{event:"cart_reorder_success"}})),this.handleBizData(n)}async addCartFromUrl(){const e=(0,Lt.mB)(location.search),t=!!(0,Xa.G)(Sn.I.CartHasAddedFromUrl),r=null==e?void 0:e[W.Uk.TrafficSource];if(r!==En.O.WidgetAddCart||t)return Promise.resolve();const n=(0,Dn.Z)((()=>JSON.parse(a()(e,W.Uk.AddCartByGoodsList)||"[]").map((e=>null!=e&&e.gi?{goods_id:e.gi,goods_number:(null==e?void 0:e.sn)||1}:null)).filter(Boolean)),[]);if(!n||!n.length)return(0,Xa.t_)(Sn.I.CartHasAddedFromUrl,"added"),Promise.resolve({data:{needPopupCart:!0}});const o=await this.serviceV2.addGoodsByList({storeId:this.storeId,scene:r,goodsList:n,extendMap:this.extendMap});return null!=o&&o.success&&((0,Xa.t_)(Sn.I.CartHasAddedFromUrl,"added"),(0,kn.b0)({customTags:{event:"add_cart_from_url_success"}})),this.handleBizData(o)}async goToCheckoutPage(e){let{storeId:t,goodsList:r}=e,n=(0,T.Z)(e,["storeId","goodsList"]);const o=JSON.stringify((0,Qa.m6)(r,{isDirectJump:!0}));if((0,P.Wk)()){var i,s;(0,Ne.tD)(nl({[W.Uk.StoreId]:t,[W.Uk.OrderGoodsList]:o,[W.Uk.LocationId]:(null===(i=this.position)||void 0===i?void 0:i.locationId)||"",[W.Uk.LocationScene]:(null===(s=this.position)||void 0===s?void 0:s.scene)||"",[W.Uk.NoXcxOcPreRender]:1},n))}else{var a,l;const e={[W.Uk.StoreId]:t,[W.Uk.LocationId]:(null===(a=this.position)||void 0===a?void 0:a.locationId)||"",[W.Uk.LocationScene]:(null===(l=this.position)||void 0===l?void 0:l.scene)||""};if(r.length<=el.Y7)e[W.Uk.OrderGoodsList]=o;else{const t=await this.service.compressCartGoodsList({orderGoodsList:(0,Qa.m6)(r,{isDirectJump:!1})});if(!t.success)return void this.handleBizData(t);e[W.Uk.CompressedGoodsListKey]=t.key}(0,Ne.tD)(nl(nl({},e),n),{nativeParams:{orderGoodsList:JSON.parse(JSON.stringify(r||[]))}})}}async placeOrder(e={},{isForceCheckoutPage:t=!1}={}){var r;let{storeId:n}=e,o=(0,T.Z)(e,["storeId"]);const i=((null===(r=this.baseInfo)||void 0===r?void 0:r.goodsList)||[]).filter((e=>!!e.isSelect));if(i.length<=0)return void(0,ie.Z)("您还没有选购商品哦");const{errorStatus:s,message:a,actionType:l}=this.preOrderInfo||{};s?(0,ie.Z)(a||el.I):l!==el.fR.Popup||t?this.goToCheckoutPage(nl({storeId:n,goodsList:i},o)):this.setPopup({id:el.oR.CHECKOUT,showPopup:!0})}gotoMallList(){}},Xs=(0,be.Z)(Qs.prototype,"cartHeight",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$s=(0,be.Z)(Qs.prototype,"discountInfo",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Js=(0,be.Z)(Qs.prototype,"couponPopupData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,be.Z)(Qs.prototype,"updateCartHeight",[ts],Object.getOwnPropertyDescriptor(Qs.prototype,"updateCartHeight"),Qs.prototype),ea=(0,be.Z)(Qs.prototype,"cartBottomHeight",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,be.Z)(Qs.prototype,"cartPopupStyle",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"cartPopupStyle"),Qs.prototype),(0,be.Z)(Qs.prototype,"setCartBottomHeight",[rs],Object.getOwnPropertyDescriptor(Qs.prototype,"setCartBottomHeight"),Qs.prototype),(0,be.Z)(Qs.prototype,"cartAttrMap",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"cartAttrMap"),Qs.prototype),(0,be.Z)(Qs.prototype,"commonParams",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"commonParams"),Qs.prototype),(0,be.Z)(Qs.prototype,"addGoods",[ns],Object.getOwnPropertyDescriptor(Qs.prototype,"addGoods"),Qs.prototype),(0,be.Z)(Qs.prototype,"changeGoodsAmount",[os],Object.getOwnPropertyDescriptor(Qs.prototype,"changeGoodsAmount"),Qs.prototype),(0,be.Z)(Qs.prototype,"getCoupon",[is],Object.getOwnPropertyDescriptor(Qs.prototype,"getCoupon"),Qs.prototype),ta=(0,be.Z)(Qs.prototype,"multiSkuPopupData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,be.Z)(Qs.prototype,"getMultiSkuPopup",[ss],Object.getOwnPropertyDescriptor(Qs.prototype,"getMultiSkuPopup"),Qs.prototype),(0,be.Z)(Qs.prototype,"clearMultiSkuData",[as],Object.getOwnPropertyDescriptor(Qs.prototype,"clearMultiSkuData"),Qs.prototype),ra=(0,be.Z)(Qs.prototype,"combineGoodsPopupData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,be.Z)(Qs.prototype,"getCombineGoodsPopup",[ls],Object.getOwnPropertyDescriptor(Qs.prototype,"getCombineGoodsPopup"),Qs.prototype),(0,be.Z)(Qs.prototype,"clearCombineGoodsPopupData",[cs],Object.getOwnPropertyDescriptor(Qs.prototype,"clearCombineGoodsPopupData"),Qs.prototype),(0,be.Z)(Qs.prototype,"handlePayload",[us],Object.getOwnPropertyDescriptor(Qs.prototype,"handlePayload"),Qs.prototype),(0,be.Z)(Qs.prototype,"handleBizData",[ps],Object.getOwnPropertyDescriptor(Qs.prototype,"handleBizData"),Qs.prototype),(0,be.Z)(Qs.prototype,"subscribeSpikeGoods",[ds],Object.getOwnPropertyDescriptor(Qs.prototype,"subscribeSpikeGoods"),Qs.prototype),(0,be.Z)(Qs.prototype,"subscribeGoods",[hs],Object.getOwnPropertyDescriptor(Qs.prototype,"subscribeGoods"),Qs.prototype),(0,be.Z)(Qs.prototype,"subscribeForbidPush",[fs],Object.getOwnPropertyDescriptor(Qs.prototype,"subscribeForbidPush"),Qs.prototype),(0,be.Z)(Qs.prototype,"subscribeForbidPushAfterAction",[ms],Object.getOwnPropertyDescriptor(Qs.prototype,"subscribeForbidPushAfterAction"),Qs.prototype),na=(0,be.Z)(Qs.prototype,"degrade",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oa=(0,be.Z)(Qs.prototype,"baseInfo",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ia=(0,be.Z)(Qs.prototype,"selectedCount",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sa=(0,be.Z)(Qs.prototype,"crossModuleExtMap",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),aa=(0,be.Z)(Qs.prototype,"isCartInit",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),la=(0,be.Z)(Qs.prototype,"banner",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ca=(0,be.Z)(Qs.prototype,"popupCoupon",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,be.Z)(Qs.prototype,"clearPopupCoupon",[gs],Object.getOwnPropertyDescriptor(Qs.prototype,"clearPopupCoupon"),Qs.prototype),ua=(0,be.Z)(Qs.prototype,"defaultGoodsTags",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pa=(0,be.Z)(Qs.prototype,"preOrderInfo",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),da=(0,be.Z)(Qs.prototype,"isCheckoutPopupDynamicLoadFail",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ha=(0,be.Z)(Qs.prototype,"useBannerV2",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fa=(0,be.Z)(Qs.prototype,"promotionTips",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ma=(0,be.Z)(Qs.prototype,"discountTips",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ga=(0,be.Z)(Qs.prototype,"bubbleTips",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ya=(0,be.Z)(Qs.prototype,"tipList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ba=(0,be.Z)(Qs.prototype,"payPrice",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),va=(0,be.Z)(Qs.prototype,"discount",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,be.Z)(Qs.prototype,"displayPrice",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"displayPrice"),Qs.prototype),(0,be.Z)(Qs.prototype,"noBanner",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"noBanner"),Qs.prototype),_a=(0,be.Z)(Qs.prototype,"groupList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wa=(0,be.Z)(Qs.prototype,"cartVersion",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sa=(0,be.Z)(Qs.prototype,"cartListVersion",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pa=(0,be.Z)(Qs.prototype,"goodsInfoMapV2",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ka=(0,be.Z)(Qs.prototype,"invalidGoodsGroup",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Oa=(0,be.Z)(Qs.prototype,"forbidSaleInfo",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,be.Z)(Qs.prototype,"isForbidSale",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"isForbidSale"),Qs.prototype),(0,be.Z)(Qs.prototype,"addButtonText",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"addButtonText"),Qs.prototype),(0,be.Z)(Qs.prototype,"themeColor",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"themeColor"),Qs.prototype),(0,be.Z)(Qs.prototype,"cartSkeleton",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"cartSkeleton"),Qs.prototype),(0,be.Z)(Qs.prototype,"displayGroupList",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"displayGroupList"),Qs.prototype),(0,be.Z)(Qs.prototype,"displayInValidGoodsList",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"displayInValidGoodsList"),Qs.prototype),(0,be.Z)(Qs.prototype,"flattedGoodsList",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"flattedGoodsList"),Qs.prototype),(0,be.Z)(Qs.prototype,"flattedValidGoodsList",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"flattedValidGoodsList"),Qs.prototype),(0,be.Z)(Qs.prototype,"flattedDisplayGoodsList",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"flattedDisplayGoodsList"),Qs.prototype),(0,be.Z)(Qs.prototype,"flattedDisplayInvalidGoodsList",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"flattedDisplayInvalidGoodsList"),Qs.prototype),(0,be.Z)(Qs.prototype,"isEmpty",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"isEmpty"),Qs.prototype),(0,be.Z)(Qs.prototype,"hasSelectedAll",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"hasSelectedAll"),Qs.prototype),(0,be.Z)(Qs.prototype,"selectedGoodsList",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"selectedGoodsList"),Qs.prototype),(0,be.Z)(Qs.prototype,"inCartGoodsIds",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"inCartGoodsIds"),Qs.prototype),(0,be.Z)(Qs.prototype,"unInitGoodsList",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"unInitGoodsList"),Qs.prototype),(0,be.Z)(Qs.prototype,"showInvalidGoods",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"showInvalidGoods"),Qs.prototype),(0,be.Z)(Qs.prototype,"unInitInvalidGoodsIdList",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"unInitInvalidGoodsIdList"),Qs.prototype),(0,be.Z)(Qs.prototype,"firstScreenGoodsItemIds",[It.computed],Object.getOwnPropertyDescriptor(Qs.prototype,"firstScreenGoodsItemIds"),Qs.prototype),Ca=(0,be.Z)(Qs.prototype,"goodsList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ia=(0,be.Z)(Qs.prototype,"hasMore",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xa=(0,be.Z)(Qs.prototype,"hasMoreInvalid",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),(0,be.Z)(Qs.prototype,"getCartListGoods",[ys],Object.getOwnPropertyDescriptor(Qs.prototype,"getCartListGoods"),Qs.prototype),(0,be.Z)(Qs.prototype,"getCartInvalidListGoods",[bs],Object.getOwnPropertyDescriptor(Qs.prototype,"getCartInvalidListGoods"),Qs.prototype),(0,be.Z)(Qs.prototype,"toggleCart",[vs],Object.getOwnPropertyDescriptor(Qs.prototype,"toggleCart"),Qs.prototype),(0,be.Z)(Qs.prototype,"disablePullReloadRecord",[_s],Object.getOwnPropertyDescriptor(Qs.prototype,"disablePullReloadRecord"),Qs.prototype),(0,be.Z)(Qs.prototype,"enablePullReloadRecord",[ws],Object.getOwnPropertyDescriptor(Qs.prototype,"enablePullReloadRecord"),Qs.prototype),(0,be.Z)(Qs.prototype,"resetPullReloadRecord",[Ss],Object.getOwnPropertyDescriptor(Qs.prototype,"resetPullReloadRecord"),Qs.prototype),(0,be.Z)(Qs.prototype,"disableScrollRecord",[Ps],Object.getOwnPropertyDescriptor(Qs.prototype,"disableScrollRecord"),Qs.prototype),(0,be.Z)(Qs.prototype,"enableScrollRecord",[ks],Object.getOwnPropertyDescriptor(Qs.prototype,"enableScrollRecord"),Qs.prototype),(0,be.Z)(Qs.prototype,"resetScrollRecord",[Os],Object.getOwnPropertyDescriptor(Qs.prototype,"resetScrollRecord"),Qs.prototype),Ea=(0,be.Z)(Qs.prototype,"ruleData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,be.Z)(Qs.prototype,"clearRuleData",[Cs],Object.getOwnPropertyDescriptor(Qs.prototype,"clearRuleData"),Qs.prototype),Ta=(0,be.Z)(Qs.prototype,"rankPopupData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,be.Z)(Qs.prototype,"clearRankData",[Is],Object.getOwnPropertyDescriptor(Qs.prototype,"clearRankData"),Qs.prototype),(0,be.Z)(Qs.prototype,"setRankCardPopup",[xs],Object.getOwnPropertyDescriptor(Qs.prototype,"setRankCardPopup"),Qs.prototype),Da=(0,be.Z)(Qs.prototype,"flashAddonPopupData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,be.Z)(Qs.prototype,"clearFlashAddonPopupData",[Es],Object.getOwnPropertyDescriptor(Qs.prototype,"clearFlashAddonPopupData"),Qs.prototype),(0,be.Z)(Qs.prototype,"getFlashAddonPopupData",[Ts],Object.getOwnPropertyDescriptor(Qs.prototype,"getFlashAddonPopupData"),Qs.prototype),Aa=(0,be.Z)(Qs.prototype,"popupMap",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,be.Z)(Qs.prototype,"registerPopup",[Ds],Object.getOwnPropertyDescriptor(Qs.prototype,"registerPopup"),Qs.prototype),(0,be.Z)(Qs.prototype,"unregisterPopup",[As],Object.getOwnPropertyDescriptor(Qs.prototype,"unregisterPopup"),Qs.prototype),Ra=(0,be.Z)(Qs.prototype,"uniformPopupData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,be.Z)(Qs.prototype,"clearUniformPopupData",[Rs],Object.getOwnPropertyDescriptor(Qs.prototype,"clearUniformPopupData"),Qs.prototype),(0,be.Z)(Qs.prototype,"setUniformPopupData",[Ls],Object.getOwnPropertyDescriptor(Qs.prototype,"setUniformPopupData"),Qs.prototype),(0,be.Z)(Qs.prototype,"setUniformPopup",[Ms],Object.getOwnPropertyDescriptor(Qs.prototype,"setUniformPopup"),Qs.prototype),(0,be.Z)(Qs.prototype,"setPopup",[Zs],Object.getOwnPropertyDescriptor(Qs.prototype,"setPopup"),Qs.prototype),La=(0,be.Z)(Qs.prototype,"afterRecPopupData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,be.Z)(Qs.prototype,"clearAfterRecPopupData",[js],Object.getOwnPropertyDescriptor(Qs.prototype,"clearAfterRecPopupData"),Qs.prototype),(0,be.Z)(Qs.prototype,"setAfterRecPopupData",[Ns],Object.getOwnPropertyDescriptor(Qs.prototype,"setAfterRecPopupData"),Qs.prototype),Ma=(0,be.Z)(Qs.prototype,"orderAssistantEntry",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Za=(0,be.Z)(Qs.prototype,"orderAssistantPopupData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ja=(0,be.Z)(Qs.prototype,"platformDiscountInfo",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,be.Z)(Qs.prototype,"clearOrderAssistantPopupData",[zs],Object.getOwnPropertyDescriptor(Qs.prototype,"clearOrderAssistantPopupData"),Qs.prototype),(0,be.Z)(Qs.prototype,"setOrderAssistantPopupSubData",[Us],Object.getOwnPropertyDescriptor(Qs.prototype,"setOrderAssistantPopupSubData"),Qs.prototype),(0,be.Z)(Qs.prototype,"updateOrderAssistantSelectTabIndex",[Bs],Object.getOwnPropertyDescriptor(Qs.prototype,"updateOrderAssistantSelectTabIndex"),Qs.prototype),Na=(0,be.Z)(Qs.prototype,"addonsPopupData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),za=(0,be.Z)(Qs.prototype,"showAddonsPopup",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,be.Z)(Qs.prototype,"clearAddonsPopupData",[Gs],Object.getOwnPropertyDescriptor(Qs.prototype,"clearAddonsPopupData"),Qs.prototype),(0,be.Z)(Qs.prototype,"setAddonsPopupData",[Fs],Object.getOwnPropertyDescriptor(Qs.prototype,"setAddonsPopupData"),Qs.prototype),Ua=(0,be.Z)(Qs.prototype,"actJumpPopupData",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,be.Z)(Qs.prototype,"clearActJumpPopupData",[Hs],Object.getOwnPropertyDescriptor(Qs.prototype,"clearActJumpPopupData"),Qs.prototype),(0,be.Z)(Qs.prototype,"setActJumpPopupData",[Ws],Object.getOwnPropertyDescriptor(Qs.prototype,"setActJumpPopupData"),Qs.prototype),(0,be.Z)(Qs.prototype,"updateLocationInfo",[qs],Object.getOwnPropertyDescriptor(Qs.prototype,"updateLocationInfo"),Qs.prototype),(0,be.Z)(Qs.prototype,"reorder",[Vs],Object.getOwnPropertyDescriptor(Qs.prototype,"reorder"),Qs.prototype),(0,be.Z)(Qs.prototype,"addCartFromUrl",[Ks],Object.getOwnPropertyDescriptor(Qs.prototype,"addCartFromUrl"),Qs.prototype),(0,be.Z)(Qs.prototype,"goToCheckoutPage",[Pe.ZP],Object.getOwnPropertyDescriptor(Qs.prototype,"goToCheckoutPage"),Qs.prototype),(0,be.Z)(Qs.prototype,"placeOrder",[Pe.ZP],Object.getOwnPropertyDescriptor(Qs.prototype,"placeOrder"),Qs.prototype),(0,be.Z)(Qs.prototype,"gotoMallList",[Ys],Object.getOwnPropertyDescriptor(Qs.prototype,"gotoMallList"),Qs.prototype),Ba=(0,be.Z)(Qs.prototype,"forwardLink",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _e()((e=>{(0,$a.yr)(e)&&(0,Ne.q1)((0,Lt.ru)({[W.Uk.StoreId]:this.storeId},e))}),Ja.Sf,{leading:!0,trailing:!1})}}),Qs);var sl,al,ll,cl,ul,pl,dl,hl,fl,ml,gl,yl,bl,vl,_l,wl,Sl=r(57557),Pl=r.n(Sl),kl=r(63931),Ol=r(94454);function Cl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Il(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cl(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const xl=kl.T.Shopping,El={};Object.values(kl.T).forEach((e=>{const t=e===xl;El[e]={query:{},isComponentReady:t,scrollPosition:0}}));let Tl=(sl=class{constructor(e,t){this.rootStore=null,this.storeAccountInfo=null,this.switchLock=!1,this.diffCBubble={},(0,ln.Z)(this,"tabInfo",al,this),(0,ln.Z)(this,"currentTab",ll,this),(0,ln.Z)(this,"showBottomTab",cl,this),(0,ln.Z)(this,"showCaptainTab",ul,this),(0,ln.Z)(this,"showCaptainMineTab",pl,this),(0,ln.Z)(this,"tabList",dl,this),this.queryDefaultTab=null,(0,ln.Z)(this,"bottomTabHeight",hl,this),(0,ln.Z)(this,"captainBadge",fl,this),(0,ln.Z)(this,"tabNotification",ml,this),(0,ln.Z)(this,"updateBottomTabData",gl,this),(0,ln.Z)(this,"updateTabInfo",yl,this),(0,ln.Z)(this,"formatQuery",bl,this),(0,ln.Z)(this,"switchTab",vl,this),(0,ln.Z)(this,"setTabNotifaction",_l,this),(0,ln.Z)(this,"updateHasReady",wl,this),this._existTabById=e=>(this.tabList||[]).some((t=>t.id===e)),this.rootStore=t;const r=a()(e,"initialData.query",{}),n=a()(e,"initialData.bizData.storeAccountInfo",{});this.queryDefaultTab=r[W.Uk.DefaultTab],this.currentTab=this.queryDefaultTab||xl,this.updateBottomTabData(n),this.updateTabInfo(this.currentTab,r)}get isShoppingTabActive(){return!this.showBottomTab||this.currentTab===kl.T.Shopping}get isCaptainTabReady(){var e;return!(!this.showBottomTab||null===(e=this.tabInfo[kl.T.Captain])||void 0===e||!e.isComponentReady)}get isCaptainTabActive(){return this.showBottomTab&&this.currentTab===kl.T.Captain}get isCaptainPersonalTabActive(){return this.showBottomTab&&this.currentTab===kl.T.captainPersonal}get currentTabInfo(){return this.tabInfo[this.currentTab]||{}}},al=(0,be.Z)(sl.prototype,"tabInfo",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Il({},El)}}),ll=(0,be.Z)(sl.prototype,"currentTab",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xl}}),cl=(0,be.Z)(sl.prototype,"showBottomTab",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ul=(0,be.Z)(sl.prototype,"showCaptainTab",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pl=(0,be.Z)(sl.prototype,"showCaptainMineTab",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dl=(0,be.Z)(sl.prototype,"tabList",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),hl=(0,be.Z)(sl.prototype,"bottomTabHeight",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fl=(0,be.Z)(sl.prototype,"captainBadge",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ml=(0,be.Z)(sl.prototype,"tabNotification",[mn.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,be.Z)(sl.prototype,"isShoppingTabActive",[It.computed],Object.getOwnPropertyDescriptor(sl.prototype,"isShoppingTabActive"),sl.prototype),(0,be.Z)(sl.prototype,"isCaptainTabReady",[It.computed],Object.getOwnPropertyDescriptor(sl.prototype,"isCaptainTabReady"),sl.prototype),(0,be.Z)(sl.prototype,"isCaptainTabActive",[It.computed],Object.getOwnPropertyDescriptor(sl.prototype,"isCaptainTabActive"),sl.prototype),(0,be.Z)(sl.prototype,"isCaptainPersonalTabActive",[It.computed],Object.getOwnPropertyDescriptor(sl.prototype,"isCaptainPersonalTabActive"),sl.prototype),(0,be.Z)(sl.prototype,"currentTabInfo",[It.computed],Object.getOwnPropertyDescriptor(sl.prototype,"currentTabInfo"),sl.prototype),gl=(0,be.Z)(sl.prototype,"updateBottomTabData",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t=[],{diffCAnchorTab:r=xl,diffCTabList:n}=e||{},o=(null==n?void 0:n.length)>1;let i=!1,s=!1;o&&n.forEach((e=>{Ol.jh[e]&&t.push(Ol.jh[e]),e===kl.T.Captain?i=!0:e===kl.T.captainPersonal&&(s=!0)})),this.tabList=t,this.currentTab=this._existTabById(this.queryDefaultTab)&&this.queryDefaultTab||this._existTabById(r)&&r||xl,this.showBottomTab=o,this.showCaptainTab=i,this.showCaptainMineTab=s,this.bottomTabHeight=this.showBottomTab?Ol.J_:0,this.diffCBubble=(null==e?void 0:e.diffCBubble)||{},this.storeAccountInfo=e}}}),yl=(0,be.Z)(sl.prototype,"updateTabInfo",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async(e,t={})=>{if(e&&this.tabInfo[e]){const o=this.formatQuery(e,Pl()(t,[W.Uk.DefaultTab]));var r,n;if(this.tabInfo[e].query=Il({},o),e!==kl.T.Captain)this.captainBadge=(null===(r=this.diffCBubble)||void 0===r?void 0:r.text)||"",this.tabInfo[kl.T.Captain].query=(null===(n=this.diffCBubble)||void 0===n?void 0:n.ext)||{}}}}}),bl=(0,be.Z)(sl.prototype,"formatQuery",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t={})=>{const r=Ol.Om[e];let n=t;if(r){n={};let e="";Object.keys(t).forEach((o=>{o.startsWith(r)?(e=o.split(r)[1]||"",e&&(n[e]=t[o])):n[o]=t[o]}))}return n}}}),vl=(0,be.Z)(sl.prototype,"switchTab",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(e&&e!==this.currentTab&&!this.switchLock&&this.showBottomTab){this.switchLock=!0;const{isComponentReady:t,scrollPosition:r}=this.tabInfo[e];t||e===kl.T.Captain&&(this.captainBadge=""),this.tabInfo[this.currentTab].scrollPosition=(0,o.cx)(),(0,o.QU)(r||0),this.currentTab=e,this.switchLock=!1}}}}),_l=(0,be.Z)(sl.prototype,"setTabNotifaction",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.tabNotification=e}}}),wl=(0,be.Z)(sl.prototype,"updateHasReady",[It.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.tabInfo[e].isComponentReady=!0}}}),sl);var Dl=class{constructor(e){var t,r;this.uiStore=null,this.mallStore=null,this.cartStore=null,this.bannerStore=null,this.bottomTabStore=null,this.taskStore=null,this.popupStore=null,this.timeTaskStore=null,this.notifyStore=null,Ct.Z.initPassTime(null==e||null===(t=e.initialData)||void 0===t||null===(r=t.bizData)||void 0===r?void 0:r.serverTime),this.uiStore=new an(e,this),this.bannerStore=new Co(e,this),this.bottomTabStore=new Tl(e,this),this.cartStore=new il(e,this),this.mallStore=new to(e,this),this.taskStore=new Zo(e,this),this.timeTaskStore=new Wi(e,this),this.popupStore=new Zi(e,this),this.notifyStore=new Ga(e,this)}},Al=r(95121),Rl=r(64363),Ll=r(44227).createElement;function Ml(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zl(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var jl=function(e){return t=>r=>{const{platform:n,query:o}=e(r)||{},{isPureWeChatPlatform:i}=n||{};return(0,c.useEffect)((()=>{if(i){const e=o||{},t=W.Uk.PassPage,{[t]:r}=e,n=(0,T.Z)(e,[t].map(Zl));let i={};r===Rl.Ko.vgt_mall_list&&(i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ml(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ml(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n));const s={[W.Uk.ShareXcxQuery]:JSON.stringify(i),[W.Uk.ShareSourcePageName]:Rl.Ko.vgt_mall_list};(0,Ne.q1)((0,Lt.ru)(s,Rl.Ko.vgt_downgrade_share_landing))}return()=>{}}),[]),i?null:Ll(t,r)}},Nl=r(1998),zl=r(71640),Ul=r.n(zl);var Bl,Gl,Fl,Hl=r(44227).createElement;function Wl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ql(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wl(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let Vl=jl((e=>{const t=a()(e,"data.initialData.pddContext"),{userAgent:r,query:n}=t||{};return{query:n,platform:(0,S.Xf)(r)}}))((Fl=Gl=class extends te{constructor(e){super(e,Dl);const{requestContext:t,getInitChunkData:r,ssrType:n}=e||{};if(n===h.Z.CLIENT_RENDER){const e=r({requestContext:t,axiosHttp:(0,U.Wv)()});this.chunkModuleManager=new H.FY(e)}}async componentDidMount(){const{ssrType:e}=this.props||{};if(e===h.Z.CLIENT_RENDER){const e=this.chunkModuleManager.getPromiseArr().reduce(((e,t)=>[...e,t.then((e=>{if(!e)return;const{storeName:t,chunkName:r,chunkData:n}=e;if(!t||!r||!n)return;const o=this.store[t];o&&o.initChunkData&&o.initChunkData({chunkName:r,chunkData:n})}))]),[]);await Promise.all(e)}}render(){const{ssrType:e}=this.props||{};return e===h.Z.CLIENT_RENDER?Hl(H.G.Provider,{value:this.chunkModuleManager},Hl(L.Provider,this.store,Hl(kt,null))):Hl(L.Provider,this.store,Hl(kt,null))}},Gl.propTypes={data:R().object.isRequired,clientApiError:R().object},Bl=Fl))||Bl;const Kl=function({Element:e=null,Store:t,LoadingElement:r=null,ssrType:n=h.Z.SERVER_RENDER,getInitProps:o,getChunkDatasource:i,cmtLogFromJsTime:s=!1,useIsomorphicStyle:a}){var l,u;const p=e=>o&&(0,f.Wl)(o)?o(e):Promise.resolve(null),d=({requestContext:e,axiosHttp:t})=>{const r=(0,S.Xf)(e.userAgent||""),n=i(t),o=Object.entries(n).reduce(((t,n)=>{const[o,i]=n,s="vgt_mall_list_".concat(o);return t[o]=async function(e,{requestContext:t,chunkName:r,sampleRate:n=.1}){const o=Date.now(),i=await e;try{const e=t.__req;if(e&&e.metric&&Math.random()<=n){const t=new e.metric,n=Date.now()-o;t.logMetricSum("".concat(r,"_chunk_load_time"),n),t.sendMetric()}}catch(e){}return i}(i(e,r),{requestContext:e,chunkName:s}),t}),{});return o};return u=l=class o extends c.Component{static async fetchChunkData(e={}){const t=e.requestContext,r=await t.fetchAccessToken(),n=(0,U.Wv)({res:t.__res,req:t.__req,accessToken:r});return d({requestContext:t,axiosHttp:n})}static async fetchData(e={}){const t=e.req,r=e.res;let i=null;i=e.requestContext?e.requestContext:new z.Z(t,r);const s={requestContext:i};let a=h.Z.CLIENT_RENDER;return a=(0,f.Wl)(n)?await n(s):n,{BROWSER:!0,BUNDLE_PLATFORM:"production"}.FORCECSR&&(a=h.Z.CLIENT_RENDER),t.forceCSR&&(a=h.Z.CLIENT_RENDER),o.renderType=a,s.renderType=a,a===h.Z.CLIENT_RENDER?{ssrType:a,requestContext:i,data:null,serverData:null}:p(s).then((e=>({ssrType:a,requestContext:i,data:e,serverData:null})))}constructor(e){super(e),this.store=null;{const e=(0,f.Ry)(),o=(e||{}).ssrType||h.Z.CLIENT_RENDER;var r,n;if(o===h.Z.SERVER_RENDER)this.store=new t({initialData:null==e||null===(r=e.data)||void 0===r?void 0:r.initialData,initialChunkData:(null==e||null===(n=e.data)||void 0===n?void 0:n.initialChunkData)||{},axiosHttp:(0,U.Wv)()});this.state={ssrType:o,requestContext:new z.Z,renderError:null,clientApiError:null,store:this.store,data:(e||{}).data,serverData:(e||{}).serverData},this.state.ssrType!==h.Z.CLIENT_RENDER&&s&&(0,y.zv)()}}render(){const{ssrType:t,requestContext:n,renderError:o,clientApiError:i,data:s,store:a,serverData:l}=this.state;let u=null;return u=!o&&(t!==h.Z.CLIENT_RENDER||null!=s&&s.initialData||i)?c.createElement(e,F(F({},this.props),{},{ssrType:t,data:s,store:a,serverData:l,requestContext:n,getInitChunkData:d,clientApiError:i})):r?c.createElement(r,F(F({},this.props),{},{ssrType:t,data:s,store:a,serverData:l,requestContext:n,renderError:o})):null,B("div",{id:"ssr-wrapper"},u)}componentDidMount(){const{ssrType:e,requestContext:t}=this.state;if(e===h.Z.CLIENT_RENDER){p({requestContext:t,renderType:e}).then((e=>{s&&(0,y.zv)(),this.setState({data:e,clientApiError:e?null:new Error("nulldata")})})).catch(((e={})=>{const t=(0,f.TS)(e);(0,N.K2)(e,{error_type:"ssr_helper",sub_op:"ssr_helper",error_message:JSON.stringify(t)}),this.setState({data:null,clientApiError:e})}))}}componentDidCatch(e,t){{const r=(0,f.TS)(e,{componentStack:t.componentStack});(0,N.K2)(e,{error_type:"ssr_helper",sub_op:"ssr_helper",error_message:JSON.stringify(r)})}}static getDerivedStateFromError(e){return{renderError:e}}},l.renderType=h.Z.CLIENT_RENDER,l.useIsomorphicStyle=a,u}({Element:Vl,ssrType:async({requestContext:e})=>{if((0,P.jU)())return h.Z.CLIENT_RENDER;const{__req:t,__res:r}=e||{},{query:n}=(0,Al.d)(t,r),o=+(null==n?void 0:n[W.Uk.MallListSeasonEndReloadTimes])||0,i="A"===(0,K.kx)(K.GH.SeasonEndForceCsr,r);return o>0&&i?h.Z.CLIENT_RENDER:h.Z.SERVER_RENDER},cmtLogFromJsTime:!0,useIsomorphicStyle:!0,getInitProps:te.getInitPropsWrapper({getDatasource:e=>{const t=Date.now(),r=async({scallionResponseV2:t,requestContext:r,storeId:n,extendMap:o})=>{const{__req:i,query:s}=r,a=new re.Z(e),l=t;if(l){const e=a.formatCartData(l);if(null!=e&&e.success)return ql(ql({},null==e?void 0:e.data),{},{storeId:n})}let c={};return n&&(c=await a.getCart({storeId:n,extendMap:o,cartAttrMap:il.getCartAttrMap(s)}).then((e=>ql(ql({},null==e?void 0:e.data),{},{storeId:n}))).catch(q.ZT)||null),c},o=async({requestContext:t,storeAccountInfo:r})=>{var o;const{query:i}=t,s=i[W.Uk.DefaultTab];if((null==r||null===(o=r.diffCTabList)||void 0===o?void 0:o.length)>1&&(s===kl.T.Captain||(null==r?void 0:r.diffCAnchorTab)===kl.T.Captain)){const t=new ne.Z(e),r=(0,V.z)("".concat(Be.co,"_init")),o=i[W.Uk.PickHighCmGoods];return ql(ql({},await t.queryGoodsList({offset:0,limit:Nl.zW,listId:r,displayTheme:Nl.jl,[W.Uk.PickHighCmGoods]:o,pageName:n.Hf.MallList})),{},{goodsListId:r})}return{}},i=async({requestContext:t,storeAccountInfo:r})=>{var n;const{query:o}=t,i=o[W.Uk.DefaultTab];if((null==r||null===(n=r.diffCTabList)||void 0===n?void 0:n.length)>1&&(i===kl.T.captainPersonal||(null==r?void 0:r.diffCAnchorTab)===kl.T.captainPersonal)){const t=new oe.Z(e);return ql({},await t.queryCMineStoreInfo())}return{}};return{webpEnable:e=>!(null==e||!e.isSupportWebp),query:({query:e})=>e||{},serverTimeMs:()=>t,serverTime:()=>Math.floor(t/1e3),xcxVersion:({query:e})=>e&&e[W.Uk.XcxVersion]||"",isNative:(e,t)=>(0,P.Nf)(t),isAndroidNative:(e,t)=>(0,P.$c)(t),isIosNative:(e,t)=>(0,P.CP)(t),isWeChat:(e,t)=>(0,P.vS)(t),isWeChatMiniProgram:(e,t)=>(0,P.t_)(t),isAndroidSupportNativeSearch:(e,t)=>(0,P.oc)(t),isIOSSupportNativeSearch:(e,t)=>(0,P.Q7)(t),appVersion:(e,t)=>(null==t?void 0:t.version)||"",pddContext:async e=>{const{userAgent:t,query:r}=e||{};return{userAgent:t,query:r,unoData:await(0,Ot.C6)({requestContext:e})}},leoOpenConfig:async()=>{var t,r,n,o,i,s,a,l,c,u,p,d,h,f,m,g,y,b,v,_,w,S;const P=new ye.Z(e),k=await P.getLeoOpenConfig({ab_leo_key:["after_add_rec_config","is_to_c_register","is_direct_to_stores_map","mall_share_pxq","ios_search_act_panel","android_search_act_panel","pgp_no_guide_use","back_widget_guide","back_widget_popup_style","popup_excludes_cart_bubble","low_priority_hide","captain_rich_text_toast","free_eggs_home_popup_style_gray","seven_day_sign_can_set_anchor","seven_day_sign_show_fullback","catpain_store_hide_task_btn","captain_store_task_share_goods"],value_leo_key:[K.GH.CalendarConfig,K.GH.NativeSearchConfig,K.GH.McFunctionWhiteList,K.GH.FlowBannerModuleConfig]}),O=(0,Bo.as)(null==k||null===(t=k.keyValues)||void 0===t?void 0:t.whiteList,{})||{},C=(0,Bo.as)(null==k||null===(r=k.keyValues)||void 0===r?void 0:r.calendarConfig)||{},I=(0,Bo.as)(null==k||null===(n=k.keyValues)||void 0===n?void 0:n.nativeSearchConfig)||{},x=(0,Bo.as)(null==k||null===(o=k.keyValues)||void 0===o?void 0:o.flowBannerModuleConfig)||{};return{popupExcludesCartBubble:"A"===(null==k||null===(i=k.abStrategy)||void 0===i?void 0:i.popupExcludesCartBubble),lowPriorityHide:"A"===(null==k||null===(s=k.abStrategy)||void 0===s?void 0:s.lowPriorityHide),mallSharePxq:"yes"===(null==k||null===(a=k.abStrategy)||void 0===a?void 0:a.mallSharePxq),showIOSSearchActPanel:"yes"===(null==k||null===(l=k.abStrategy)||void 0===l?void 0:l.iosSearchActPanel),showAndroidSearchActPanel:"yes"===(null==k||null===(c=k.abStrategy)||void 0===c?void 0:c.androidSearchActPanel),isToCRegister:"yes"===(null==k||null===(u=k.abStrategy)||void 0===u?void 0:u.isToCRegister),isDirectToStoresMapTester:"yes"===(null==k||null===(p=k.abStrategy)||void 0===p?void 0:p.isDirectToStoresMap),afterAddRecConfig:null==k||null===(d=k.abStrategy)||void 0===d?void 0:d.afterAddRecConfig,pgpNoGuideUse:"yes"===(null==k||null===(h=k.abStrategy)||void 0===h?void 0:h.pgpNoGuideUse),widgetGuidePopup:null==k||null===(f=k.abStrategy)||void 0===f?void 0:f.backWidgetGuide,widgetPopupStyle:null==k||null===(m=k.abStrategy)||void 0===m?void 0:m.backWidgetPopupStyle,captainRichTextToast:"yes"===(null==k||null===(g=k.abStrategy)||void 0===g?void 0:g.captainRichTextToast),catpainStoreHideTaskBtn:"yes"===(null==k||null===(y=k.abStrategy)||void 0===y?void 0:y.catpainStoreHideTaskBtn),captainStoreTaskShareGoods:null==k||null===(b=k.abStrategy)||void 0===b?void 0:b.captainStoreTaskShareGoods,freeEggsTakePartInPopupStyle:null==k||null===(v=k.abStrategy)||void 0===v?void 0:v.freeEggsHomePopupStyleGray,sevenDaySignShowFullback:"yes"===(null==k||null===(_=k.abStrategy)||void 0===_?void 0:_.sevenDaySignShowFullback),sevenDaySignCanSetAnchor:"yes"===(null==k||null===(w=k.abStrategy)||void 0===w?void 0:w.sevenDaySignCanSetAnchor),calendarUrl:(null===(S=C[K.EB.PaySuccess])||void 0===S?void 0:S.fullback)||"",mcFunctionWhiteList:O,nativeSearchConfig:I,flowBannerModuleConfig:x}},bizData:async(t={},n)=>{var s;const{query:a}=t||{},{[W.Uk.TrafficFlowTrace]:l,[W.Uk.TrafficFlowStation]:c,[W.Uk.OcSource]:u,[W.Uk.DefaultTab]:p}=a||{},d=+a[W.Uk.StoreId],h=d>0?d:void 0,f=new ge(e),m=await f.queryFirstPage(ql({storeId:h,mktFreshSource:u,flowTrace:l,flowStation:c,extendMap:(0,$a.f5)(a),cartAttrMap:il.getCartAttrMap(a)},(0,ue.Ly)(a)))||{},{mktFreshToken:g,extendMap:y,scallionResponse:b,scallionResponseV2:v,isGoodsListInit:_}=m,w=(0,T.Z)(m,["mktFreshToken","extendMap","scallionResponse","scallionResponseV2","isGoodsListInit"]),S=y||(0,$a.f5)(ql(ql({},a),{},{[W.Uk.OcToken]:g})),[P,k,O]=await Promise.all([r({scallionResponse:b,scallionResponseV2:v,requestContext:t,storeId:null==w||null===(s=w.storeInfo)||void 0===s?void 0:s.storeId,extendMap:S}),o({requestContext:t,storeAccountInfo:w.storeAccountInfo}),i({requestContext:t,storeAccountInfo:w.storeAccountInfo})]);return ql(ql({defaultTab:p,isGoodsListInit:_,mktFreshToken:g,extendMap:S},w),{},{captaionStoreData:k,captaionPersonalData:O,cartData:P})},alc:({query:e})=>e&&"1"===e[W.Uk.D_ALLOW_CLEAR]}}}),getChunkDatasource:e=>({[Be.fj.GoodsList]:(t,r)=>(async({axiosHttp:e,requestContext:t,platform:r})=>{const{query:o}=t,i=new ge(e),s=(0,K.kx)(K.GH.TopGoodsListTrafficSource,null==t?void 0:t.__res)||[],{[W.Uk.TrafficSource]:a}=o||{},l=+o[W.Uk.StoreId],c=+o[W.Uk.GoodsId],u=Ul()(o[W.Uk.GoodsList],",").map((e=>parseInt(e,10))).filter((e=>e>0)),p=l>0?l:void 0,d=s.includes(a)&&c>0?c:void 0,h=(s.includes(a)&&Array.isArray(u)&&u.length?u:null)||(d?[d]:null)||null,f=(0,V.z)("".concat(n.Hf.MallList,"_init")),{goodsList:m,hasMore:g,plugModulesData:y}=await i.queryFirstGoodsList({storeId:p,listId:f,topGoodsList:h}),b=g?1:0;return{storeName:"mallStore",chunkName:Be.fj.GoodsList,chunkData:{goodsListId:f,goodsList:m,goodsPage:b,plugModulesData:y,hasMore:g,isGoodsListInit:!0}}})({axiosHttp:e,requestContext:t,platform:r})}),Store:Dl});j.isWKWebView&&window.addEventListener("pageshow",(({persisted:e})=>{e&&location.reload()})),(0,i.TA)((()=>async function({app:e,prepareOptions:t}){(0,y.BY)();const r=(0,x.I_)();(0,I.D3)(r);const n=a()(t,"pageProperty.pageName");(0,I.ZJ)(n),(0,C.g)(),(0,_.lT)(),await Promise.all([k(),(0,O.o)()]);const o=(0,v.gE)();(0,b.gW)(o),t.pmmAppInfo=o;try{await l.Z.prepare(t,(()=>{(0,y.dP)();const t=document.getElementById("main");g(e,t)}))}catch(e){(0,v.qu)({error_msg:"页面初始化失败",page:e.message})}}({app:Kl,prepareOptions:{title:"多多买菜",requireLogin:!0,usePDDShare:!0,disableShare:!1,shareInfo:{thumbnailURL:(0,o.yO)(),waterMark:"",addRandomPrefix:!1,onlyWeChat:!0},pageProperty:{pageName:n.Hf.MallList,pageSN:n.pw.MallList},disablePullReload:!1}})))},1998:function(e,t,r){"use strict";r.d(t,{PQ:function(){return o},Ji:function(){return i},yn:function(){return s},Y5:function(){return a},wU:function(){return l},y7:function(){return c},WS:function(){return u},nD:function(){return p},zW:function(){return d},jl:function(){return h},ZE:function(){return f},yE:function(){return m},P5:function(){return g},Sg:function(){return y}});var n=r(93213);const o="FIX_COMPONENT_ID",i="TIPS_BAR_ID",s="TAB_BAR_ID",a="STICKY_TAB_BAR_ID",l={[n.v.TipBar]:{id:n.v.TipBar,targetId:i,priority:1,height:36},[n.v.TabBar]:{id:n.v.TabBar,targetId:s,priority:0,height:42}};let c,u;!function(e){e.SCROLL_TO_TIPS="scroll_to_tips",e.SHARE_TASK_FRIEND_LIST="store_score_rec_list",e.HIGH_COMMISSION_GOODS_V3="high_commission_goods_v3",e.CAPTAIN_SHARE_GOODS="captain_share_goods",e.CAPTAIN_REC_GOODS="captainRecGoods"}(c||(c={})),function(e){e.GROUP_TASK_ORDER_LIST="group_task_order_list",e.GROUP_TASK_RULE="group_task_rule",e.SHARE_TASK_FRIEND_LIST="store_score_rec_list"}(u||(u={}));const p=36,d=10,h="marketing",f={TOP_BANNER:"topBanner",POPUP:"popup",HOVER_TIPS_GROUP:"hoverTipsGroup",RICH_TEXT_TOAST:"toast",PRICE_TIP_INFO:"priceTips",STAR_MISSION_LIST_V2:"starMissionListV2"},m={[f.STAR_MISSION_LIST_V2]:"starMissionListV2",[f.TOP_BANNER]:"topBannerDTOList",[f.POPUP]:"queryPopupResult",[f.HOVER_TIPS_GROUP]:"hoverTipsGroup",[f.RICH_TEXT_TOAST]:"toastDTOMap"},g={STORE_SCORE:"store_score"},y={DEFAULT:"default"}},35546:function(e,t,r){"use strict";var n=r(61980),o=r(8492),i=r(44227),s=r(8946),a=r(63931),l=r(44227).createElement;const c=(0,n.ZP)({resolved:{},chunkName:()=>"vgt_captain_mall",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>Promise.all([r.e(4768),r.e(8565)]).then(r.bind(r,53217)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 53217}}),u=()=>{const{bottomTabStore:e}=(0,s.Z)(),{isCaptainTabActive:t,tabInfo:r}=e;if(!t&&!r[a.T.Captain].isComponentReady)return null;return l("div",{className:"mobile-container vgt-captain-store",style:t?{}:{display:"none"}},l(c,null))};t.ZP=(0,o.observer)(u)},95431:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(96156),o=r(64091),i=r(4075),s=r(60009);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const c=["shareActivityIndex","jumpParams"];class u extends o.b{constructor(...e){super(...e),this.formatChannelLists=e=>(e||[]).map(((e,t)=>l(l({},e||{}),{},{goodsList:[],goodsPage:0,hasMore:!0,listId:(0,i.z)("channel-".concat(t))})))}async queryGoodsList(e){try{const r=await this.postRisk("/api/mcb/v1/juno/query_store_goods_list",e,{excludedKeys:c});var t;if(null!=r&&r.success)null!=r&&null!==(t=r.channelList)&&void 0!==t&&t.length&&(r.channelList=this.formatChannelLists(r.channelList));return r}catch(e){return(0,s.Zm)(e),{success:!1,errorCode:e.errorCode,errorMsg:e.message||e.errorMsg}}}async queryBarrageList(e){return await this.postRisk("/api/mcb/v1/juno/query_barrage_list",e)}async refreshMoudle(e){try{return await this.postRisk("/api/mcb/v1/juno/refresh_module",e,{excludedKeys:c})}catch(e){return(0,s.Zm)(e),{success:!1,errorCode:e.errorCode,errorMsg:e.message||e.errorMsg}}}async getShareDegradeStrategy(){try{return await this.postRisk("/api/mcb/v1/store/query_broker_share_degrade_strategy",{scene:"captain_mall_index"})}catch(e){return}}async queryUserOrderDetail(e={}){try{return await this.postRisk("/api/mcb/v1/artichoke/query_mission_order_detail",e)}catch(e){return}}async getShareList(e={}){try{return await this.postRisk("/api/mcb/v1/artichoke/query_mission_share_new_customer_info",e)}catch(e){return}}async reportTaskStage(e={}){try{return await this.postRisk("/api/mcb/v1/artichoke/mark_mission_stage_viewed",e)}catch(e){return}}}},93213:function(e,t,r){"use strict";let n;r.d(t,{v:function(){return n}}),function(e){e.TipBar="TipsBar",e.TabBar="TabBar"}(n||(n={}))},78592:function(e,t,r){"use strict";var n=r(44227),o=r(61980),i=r(8492),s=r(8946),a=r(63931),l=r(44227).createElement;const c=(0,o.ZP)({resolved:{},chunkName:()=>"vgt_captain_personal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>Promise.all([r.e(4768),r.e(9306)]).then(r.bind(r,24606)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 24606}}),u=()=>{const{bottomTabStore:e}=(0,s.Z)(),{isCaptainPersonalTabActive:t,tabInfo:r}=e;if(!t&&!r[a.T.captainPersonal].isComponentReady)return null;return l("div",{className:"mobile-container vgt-captain-personal",style:t?{}:{display:"none"}},l(c,null))};t.ZP=(0,i.observer)(u)},31094:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(96156),o=r(64091);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const a=["shareInfo","ext","popShareInfoDTO"],l="/api/mcb/v1/store/query_c_mine_store_info",c="/api/mcb/v1/store/open_store",u="/api/mcb/v1/store/apply_store_close_appeal",p="/api/mcb/v1/store/query_conversion_id",d="/api/mcb/v1/store/query_inventory_status",h="/api/mcb/v1/store/pick_remind_fallback",f="/api/mcb/v1/popup/query_juno_popup",m="/api/mcb/v1/store/query_broker_share_degrade_strategy";class g extends o.b{async queryCMineStoreInfo(e={}){return await this.postRisk(l,e,{excludedKeys:a})}async openStore(e={}){return await this.postRisk(c,e)}async applyStoreCloseAppeal(){return await this.postRisk(u)}async queryConvId(){return await this.postRisk(p)}async checkInventoryStatus(e={}){try{const t=await this.postRisk(d,e),{inventoryStatus:r,inventoryDate:n}=t||{};return{noCheck:2==+r,inventoryDate:n}}catch(e){}return{noCheck:!1}}async remindPickMsg(e={}){try{const t=await this.postRisk(h,e||{});if(e.pick_remind)return s(s({},t),{},{pickRemind:e.pick_remind})}catch(e){}return{}}async queryJunoPopup(e={}){try{return await this.postRisk(f,e||{},{excludedKeys:a})}catch(e){}return{}}async getShareDegradeStrategy(){try{return await this.postRisk(m,{scene:"captain_mall_index"})}catch(e){return}}}},42093:function(e,t,r){"use strict";var n=r(44227),o=r(8492),i=r(61980),s=r(87860),a=r(54919),l=r(44227).createElement;const c=(0,i.ZP)({resolved:{},chunkName:()=>"MallHomeFloat",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>Promise.all([r.e(4768),r.e(9731)]).then(r.bind(r,26917)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 26917}}),u=()=>{const{bannerStore:e}=(0,s.Gu)(),{bannerMergeLeftFloatPositionMap:t}=e;return[a.Ej.LeftFloat,a.Ej.RightFloat].every((e=>{var r;return!(null!==(r=t[e])&&void 0!==r&&r.length)}))?null:l(c,null)};t.Z=(0,o.observer)(u)},91143:function(e,t,r){"use strict";var n=r(44227),o=r(8492),i=r(61980),s=r(87860),a=r(54919),l=r(44227).createElement;const c=(0,i.ZP)({resolved:{},chunkName:()=>"FlowBanner",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>r.e(2885).then(r.bind(r,61905)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 61905}}),u=(0,i.ZP)({resolved:{},chunkName:()=>"FlowBanner",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>r.e(2885).then(r.bind(r,75598)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 75598}}),p=({isFixed:e=!1})=>{var t;const{bannerStore:r}=(0,s.Gu)(),{bannerPositionMap:n}=r;return null!==(t=n[a.Ej.Flow])&&void 0!==t&&t.length?l(e?c:u,null):null};t.Z=(0,o.observer)(p)},45737:function(e,t,r){"use strict";var n=r(44227),o=r(8492),i=r(61980),s=r(87860),a=r(54919),l=r(44227).createElement;const c=(0,i.ZP)({resolved:{},chunkName:()=>"ActivityBarBanner",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>r.e(6442).then(r.bind(r,60447)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 60447}}),u=(0,i.ZP)({resolved:{},chunkName:()=>"ActivityBarBanner",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>r.e(6442).then(r.bind(r,54422)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 54422}}),p=({isFixed:e=!1})=>{var t;const{bannerStore:r}=(0,s.Gu)(),{bannerPositionMap:n}=r;return null!==(t=n[a.Ej.ActivityBar])&&void 0!==t&&t.length?l(e?c:u,null):null};t.Z=(0,o.observer)(p)},12686:function(e,t,r){"use strict";var n=r(27361),o=r.n(n),i=r(44227),s=r(61980),a=r(8492),l=r(87860),c=r(54919),u=r(44227).createElement;const p=(0,s.ZP)({resolved:{},chunkName:()=>"NewPeopleWindow",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>r.e(563).then(r.bind(r,20475)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 20475}});function d(){const{bannerStore:e}=(0,l.Gu)(),{staticBannersMap:t}=e;return o()(t,"[".concat(c.AZ.MLL_NEWUSER_COUPON,"].bannerData"))?u(p,null):null}t.Z=(0,a.observer)(d)},78881:function(e,t,r){"use strict";var n=r(44227),o=r(8492),i=r(87860),s=r(18131),a=r(44227).createElement;const l=(0,s.G)({resolved:{},chunkName:()=>"PromotionAndPlug",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>r.e(7326).then(r.bind(r,65884)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 65884}}),c=(0,o.observer)((e=>{const{mallStore:t}=(0,i.Gu)(),{goodsPromotionInfo:r}=t;return r?a(l,{goodsPromotionInfo:r}):null}));t.Z=c},79502:function(e,t,r){"use strict";r.d(t,{a:function(){return x}});var n=r(96156),o=r(23493),i=r.n(o),s=r(44227),a=r(94184),l=r.n(a),c=(r(45697),r(8492)),u=r(98249),p=r.n(u),d=r(17039),h=r(99124),f=r(8946),m=r(54919),g=r(14358),y=r(35881),b=r(40750),v=r(20416),_=r(85885),w=r(17954),S=r(53e3),P=r.n(S),k=r(24720),O=r(44227).createElement;function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=(0,c.observer)((function(e){p()(P());const{mallStore:t}=(0,f.Z)(),{mcGoodsChannelList:r,channelRedPointVisible:n}=t,o=(null==t?void 0:t.channelShowType)===w.h_.Short,a=(0,s.useRef)(),c=(0,s.useRef)();(0,_.a4)(c,m.Tr.ChannleTabBar);const u=(0,s.useCallback)(i()(((t,r)=>{a.current.selectTab(t),(null==e?void 0:e.switchTab)&&e.switchTab(t),(0,h.e0)(I({op:"click"},r))}),g.Sf,{trailing:!1}),[e]);return null!=r&&r.length?O("div",{ref:c,className:P().wrapper},O(x,{ref:a,listId:"tab-list",list:r,renderTab:e=>{const{tab:t,index:r,selected:i}=e,{channelName:a,channelUuid:c,channelNameShowType:p,imageChannelName:h,richText:f}=t,g=p===m.M6.RedPointRichTextRow&&n&&!!f.length,_=()=>g&&O("div",{className:P().tabRedRichRow},O(v.Ej,{list:f})),w={page_el_sn:3915789,album_name:a,album_id:c,album_order:r};if(p===m.M6.RichTextRow)return O(d.Z,{trackingInfo:I({op:"impr"},w)},O("div",{className:P().stickyRichRowTab,onClick:()=>u(r,w)},O(v.Ej,{list:f||[],className:l()({[P().active]:i})})));if(p===m.M6.Image){const e=(null==h?void 0:h.imageWidth)*m.uG/(null==h?void 0:h.imageHeight);return O(d.Z,{trackingInfo:I({op:"impr"},w)},O("div",{className:P().stickyImgTab,onClick:()=>u(r,w),style:{width:(0,y.Z)(e)}},O(b.Z,{src:null==h?void 0:h.imageUrl,resizeWidth:3*(null==h?void 0:h.imageWidth),lazy:!1}),i&&O("div",{className:P().line})))}return O(d.Z,{trackingInfo:I({op:"impr"},w)},o?O(s.Fragment,null,O("div",{className:P().shortTab,onClick:()=>u(r,w)},O("div",{className:l()(P().text,P().tabContent,{[P().active]:i})},a||"")),_()):O("div",{className:P().stickyTab,onClick:()=>u(r,w)},O("div",{className:l()(P().text,P().tabContent,{[P().active]:i})},a||""),_()))},className:P().tabListV2})):null}));const x=(0,c.observer)(s.forwardRef((function(e,t){const{mallStore:r}=(0,f.Z)(),{tabActiveIndex:n,updateTabActiveIndex:o}=r||{},i=(0,s.useRef)(null==e?void 0:e.listId),a=(0,s.useRef)();(0,s.useImperativeHandle)(t,(()=>({selectTab(e){l(e)}})));const l=e=>{o&&o(e)};return(0,s.useEffect)((()=>{(e=>{const t="".concat(i.current,"-").concat(e);(0,k.ue)({calcType:k.xB.X,scrollRef:a,activeTabId:t})})(n)}),[n]),O("div",{className:null==e?void 0:e.className,style:(null==e?void 0:e.style)||{}},O("div",{className:P().list,ref:a},((null==e?void 0:e.list)||[]).filter(Boolean).map(((t,r)=>{const o=n===r;return O("div",{id:"".concat(i.current,"-").concat(r),className:P().item,key:null==t?void 0:t.channelUuid},null==e?void 0:e.renderTab({tab:t,index:r,selected:o}))}))),O("div",{className:P().border}))})))},8503:function(e,t,r){"use strict";r(44227);var n=r(98249),o=r.n(n),i=r(87860),s=r(8492),a=r(38925),l=r(54919),c=r(45534),u=r.n(c),p=r(44227).createElement;t.Z=(0,s.observer)((()=>{o()(u());const{bannerStore:e,mallStore:t}=(0,i.Gu)(),{bannerPositionMap:r}=e,n=(null==r?void 0:r[l.Ej.ActivityEntries])||[],s={page_el_sn:4881140},{isPromotionV6:c}=t;return p("div",{className:u().waistContainer},p(a.Z,{entryList:n,wrapClass:c?u().wrapperV6:u().wrapper,logInfo:s,isPromotionV6:c}))}))},1902:function(e,t,r){"use strict";var n=r(44227),o=r(8492),i=r(61980),s=r(87860),a=r(54919),l=r(44227).createElement;const c=(0,i.ZP)({resolved:{},chunkName:()=>"WidgetBanner",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>r.e(9281).then(r.bind(r,96501)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 96501}}),u=(0,i.ZP)({resolved:{},chunkName:()=>"WidgetBanner",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>r.e(9281).then(r.bind(r,51553)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 51553}}),p=({isFixed:e=!1})=>{var t;const{bannerStore:r}=(0,s.Gu)(),{bannerPositionMap:n}=r;return null!==(t=n[a.Ej.Widget])&&void 0!==t&&t.length?l(e?c:u,null):null};t.Z=(0,o.observer)(p)},30761:function(e,t,r){"use strict";r.d(t,{Z:function(){return Or}});var n=r(44227),o=r(8492),i=r(87860),s=r(22122),a=r(27361),l=r.n(a),c=r(98249),u=r.n(c),p=r(95643),d=r(42009),h=r(96156),f=r(91175),m=r.n(f),g=r(3530),y=r(53158),b=r(89421),v=r(54919),_=r(84947),w=r(1282),S=r(44227).createElement;function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const O=(0,y.x)(12),C=(e,t)=>{const{uiStore:r,mallStore:o,cartStore:s,timeTaskStore:a,popupStore:c}=(0,i.Gu)(),{query:u}=r,{selectedStoreId:p}=o,{idList:d,hide:h,show:f,service:y,pinWidgetResult:P,backNumberAccount:C}=c,{requestBackPopupAndShow:I}=y,x=m()(d),{toggleOpenCart:E}=s,T=(0,n.useMemo)((()=>({mc_mission_list:[{mc_mission_source:u[b.Uk.McSource],mc_missions:((null==u?void 0:u[b.Uk.McMissionType])||"").split(",").map((e=>({mc_mission_type:e})))}]})),[u]),D=(0,n.useMemo)((()=>({shop_store_id:p})),[p]),A=[],R=[];Object.values(v.R_).forEach((e=>{const t=A.includes(e);e.startsWith(v.xb)&&!t&&R.push({backPopupId:e,backParams:T})}));const L=[...R,{backPopupId:v.R_.CartGoodsBackPopup,backParams:D,backDealFunc:()=>{E(!1)}},{backPopupId:v.R_.FullbackBackPopup,backParams:{},backDealFunc:e=>{if((l()(e,"data.popupData.totalDiscount")||0)<=0)return g.ZP.back()}},{backPopupId:v.R_.EntranceGuideBackPopup,backParams:D,backDealFunc:e=>{var t;if(null==e||null===(t=e.data)||void 0===t||!t.display)return g.ZP.back()}},{backPopupId:v.R_.TodaySpecialGoodsBackPopup,backParams:D},{backPopupId:v.R_.CouponUnusedBackPopup,backParams:D},{backPopupId:v.R_.NewUserSilentBackPopup,backParams:{}},{backPopupId:v.R_.WidgetGuideBackPopup,backParams:k({},P)},{backPopupId:v.R_.WidgetManufacturerBackPopup,backParams:k({},P)}],M=(0,n.useCallback)((()=>{x&&h(x)}),[x,h]),Z=(0,n.useCallback)((e=>{null!=e&&e.widgetSilenceEnable&&(0,i.zc)()}),[]),j=(0,n.useRef)(null);(0,n.useImperativeHandle)(t,(()=>({clickBackCallback:async()=>{var e;a.pauseRelativeTask(O),await(null===(e=j.current)||void 0===e?void 0:e.clickBackCallback()),a.unPauseRelativeTask(O)}})));const N={beforeHide:()=>{let e=!0;return[w.A3.CART_BAR_V3,w.A3.RANK,w.A3.ORDER_ASSISTANT].forEach((t=>{var r,n,o;null!=s&&null!==(r=s.popupMap)&&void 0!==r&&null!==(n=r[t])&&void 0!==n&&n.isPopping&&(e=!1,null==s||null===(o=s.setPopup)||void 0===o||o.call(s,{id:t,showPopup:!1}))})),e},requestBackPopupAndShow:I,show:f,hide:M,backNumberAccount:C,isPopupDisplay:!!x,limitBackNumber:C};return S(_.Z,{ref:j,options:N,backList:L,scene:v.$Z.MallListLanding,extraCallback:Z})};var I=(0,o.observer)(n.forwardRef(C)),x=r(19005),E=r(23493),T=r.n(E),D=r(94184),A=r.n(D),R=r(99124),L=r(8946),M=r(40750),Z=r(35881),j=r(20416),N=r(79502),z=r(17954),U=r(53e3),B=r.n(U),G=r(85885),F=r(44227).createElement;function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var W=(0,o.observer)((function(e){u()(B());const{mallStore:t}=(0,L.Z)(),{channelRedPointVisible:r}=t,o=(null==t?void 0:t.channelShowType)===z.h_.Short,i=(0,n.useRef)(),s=(0,n.useCallback)(T()(((t,r)=>{i.current&&i.current.selectTab(t),(null==e?void 0:e.switchTab)&&e.switchTab(t),(0,R.e0)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({op:"click"},r))}),300,{trailing:!1}),[e]),{mcGoodsChannelList:a}=t,l=(0,G.RL)(v.Tr.ChannleTabBar);return null!=a&&a.length?F("div",{id:v.HP,className:A()(B().wrapper,B().stickyListWrapper,{[B().hide]:!l})},F(N.a,{ref:i,listId:"sticky-list",list:a,renderTab:e=>{const{tab:t,index:i,selected:a}=e,{channelName:l,channelUuid:c,channelNameShowType:u,imageChannelName:p,richText:d}=t,h=u===v.M6.RedPointRichTextRow&&r&&!!d.length,f=()=>h&&F("div",{className:B().tabRedRichRow},F(j.Ej,{list:d})),m={page_el_sn:3915789,album_name:l,album_id:c,album_order:i};if(u===v.M6.RichTextRow)return F("div",{className:B().stickyRichRowTab,onClick:()=>s(i,m)},F(j.Ej,{list:d||[],className:A()({[B().active]:a})}));if(u===v.M6.Image){const e=(null==p?void 0:p.imageWidth)*v.uG/(null==p?void 0:p.imageHeight);return F("div",{className:B().stickyImgTab,onClick:()=>s(i,m),style:{width:(0,Z.Z)(e)}},F(M.Z,{src:null==p?void 0:p.imageUrl,resizeWidth:3*(null==p?void 0:p.imageWidth),lazy:!1}),a&&F("div",{className:B().line}))}return o?F(n.Fragment,null,F("div",{className:B().shortTab,onClick:()=>s(i,m)},F("div",{className:A()(B().text,B().tabContent,{[B().active]:a})},l||"")),f()):F("div",{className:B().stickyTab,onClick:()=>s(i,m)},F("div",{className:A()(B().text,B().tabContent,{[B().active]:a})},l||""),f())},className:A()(B().stickyList,B().tabListV2)})):null})),q=r(45737),V=r(1902),K=r(91143),Y=r(23279),Q=r.n(Y),X=r(74691),$=r.n(X),J=r(83296),ee=r(31494),te=r(11875),re=r(57805),ne=r(56691),oe=r.n(ne),ie=r(44227).createElement;let se;!function(e){e.Order="order",e.Share="share"}(se||(se={}));const ae={[se.Order]:["订单",oe().iconOrder],[se.Share]:["分享",oe().iconShare]};var le=(0,o.observer)((e=>{u()(oe());const{type:t,onClick:r}=e,o=t===se.Order,[i,s]=ae[t]||[],a=(0,n.useCallback)((()=>{o&&(0,re.b_)(),null==r||r()}),[o,r]);return ie("div",{className:oe().iconWrap,onClick:a},ie("div",{className:A()(oe().iconContent,s)}),ie("span",{className:oe().iconText},i))})),ce=r(5363),ue=r.n(ce),pe=r(42994),de=r(43057),he=r.n(de),fe=r(51834),me=r(7549),ge=r(14358),ye=r(64363),be=r(12850),ve=r(61578),_e=r(44227).createElement;var we=function(e){u()(he());const{searchShadeWords:t,className:r,cityId:n,storeId:o,pageElSn:i,isAndroidNative:s,appVersion:a,showNativeSearchActPanel:l,isSupportNativeSearch:c}=e,d=(0,fe.Z)((async()=>{(0,R.e0)({op:"click",page_el_sn:i||5704989});let e=!0;if(s&&"5.86.0"===a)try{const t=await(0,p.nM)("WebScene","getUnoContext");e="58599"!=="".concat(null==t?void 0:t.interval_version)}catch(e){}if(c&&n&&e){const e=(0,re.W4)({[b.Uk.PassPage]:ye.Ko.vgtact_search,[b.Uk.StoreId]:o,[b.Uk.FromNativeSearch]:1});(0,re.$r)({searchResultUrl:me.ZP.getInstance().addPageTransferParameters((0,be.lN)(e)),query:{[b.Uk.NativeSearchCityId]:n,[b.Uk.StoreId]:o},nativeQuery:{[b.Uk.NativeSearchShadeWords]:t,[b.Uk.NativeSearchOptions]:l?ve.qF:null}})}else(0,re.rm)({[b.Uk.StoreId]:o,[b.Uk.SearchShadeWords]:t,[b.Uk.ShowMask]:1})}),{wait:ge.Sf});return _e("div",{className:A()(he().searchWarp,r),onClick:d},t||"搜索")},Se=r(44227).createElement;const Pe=e=>"".concat(e,"px"),ke="#f4f4f4",[Oe,Ce]=(0,J.qh)(["immersive_title_v5","immersive_title_v5_red"]);var Ie=(0,o.observer)((({hasSearch:e,navigationH:t,statusbarH:r,shareProps:o,clickBack:s,isImmersive:a,bgColor:l})=>{u()(ue()),(0,G.UU)({minTop:0,height:t},v.Tr.NavBar);const{mallStore:c,uiStore:d}=(0,i.Gu)(),{isSupportNativeSearch:h,appVersion:f,isAndroidNative:m,showNativeSearchActPanel:g}=d,{searchShadeWords:y,currentStoreInfo:b}=c,[_,w]=(0,n.useState)(1),[S,P]=(0,n.useState)(0),k=(0,n.useRef)(0),[O,C]=(0,n.useState)(l),I=(0,n.useCallback)((e=>{a&&e&&(C(e),(0,p.nM)("JSUIControl","setBackground",{background_color:e}).catch((()=>{})))}),[a,C]),x=(0,n.useCallback)((()=>{const e=(0,J.cx)(),t=$()(+(e/v.am).toFixed(3),0,1);w(1-t),P(t),e>=k.current&&O===l?I(ke):e<k.current&&O===ke&&I(l)}),[O,l,I]),E=(0,n.useCallback)(Q()(x,200),[x]),T=(0,n.useCallback)((()=>{(0,ee.Z)({frameTime:30}).then((()=>{x(),E()}))}),[x,E]);(0,n.useEffect)((()=>(window.addEventListener("scroll",T),()=>{window.removeEventListener("scroll",T)})),[T]),(0,pe.Z)((()=>{k.current=document.body.offsetHeight,e&&(0,R.e0)({op:"impr",page_el_sn:5704989})}));const D=(0,n.useCallback)((({logoUrl:t}={})=>Se("div",{className:A()(ue().contentWrap)},Se("div",{className:ue().leftButtons},Se("div",{className:ue().back,onClick:s})),e?Se(we,{storeId:null==b?void 0:b.storeId,cityId:null==b?void 0:b.cityId,appVersion:f,searchShadeWords:y,isSupportNativeSearch:h,isAndroidNative:m,showNativeSearchActPanel:g,className:ue().searchWarp}):Se(M.Z,{src:t,className:ue().logo,lazy:!1}),Se("div",{className:ue().rightButtons},Se(le,{type:se.Order}),Se(te.Z,o,Se(le,{type:se.Share}))))),[s,e,null==b?void 0:b.storeId,null==b?void 0:b.cityId,f,y,h,m,g,o]),L=(0,G.XV)()-t;return Se(n.Fragment,null,Se("div",{className:A()(ue().nav,ue().absolutePart),style:{opacity:_,height:Pe(t),paddingTop:Pe(r)}},Se(D,{logoUrl:Oe})),Se("div",{className:ue().stickyPart,style:{opacity:S}},Se("div",{className:A()(ue().nav,ue().stickyNavBg,{[ue().border]:!L}),style:{height:Pe(t),paddingTop:Pe(r)}},Se(D,{logoUrl:Ce})),Se("div",{className:ue().itemsWrap},Se("div",{className:ue().stickyItemsBg,style:{height:"".concat(L,"px")}}),Se(K.Z,{isFixed:!0}),Se(q.Z,{isFixed:!0}),Se(V.Z,{isFixed:!0}),Se(W,null))))})),xe=r(99341),Ee=r.n(xe),Te=r(44227).createElement;var De=(0,o.observer)((e=>{u()(Ee());const t=(0,n.useContext)(d.Z),r=t.isImmersive,o=t.statusbarHeight||0,a=t.navigationHeight||0,{mallStore:c,cartStore:h}=(0,i.Gu)(),{getNativeShareImg:f,getShareInfo:m,getPxqShareInfo:g,mallSharePxq:y,hasSearch:b}=c,{isForbidSale:_}=h,w=null==e?void 0:e.immersionColor;(0,n.useEffect)((()=>{r&&(0,p.nM)("JSUIControl","hideNavigationBar")}),[r]),(0,n.useEffect)((()=>{r&&l()(window,"rawData.ssrType")===x.Z.SERVER_RENDER&&(0,p.nM)("JSUIControl","setBackground",{background_color:w}).catch((()=>{}))}),[r,w]),(0,n.useEffect)((()=>{r&&(0,p.nM)("JSUIControl","setRollingAlpha",{alpha:[0,0],offset:[0,v.am],btn_style:["#ffffff","#000000"],status_bar_style:[1,0],continuous:1,height:v.am}).catch((()=>{}))}),[r]);const S=(0,n.useRef)(null),P=(0,n.useCallback)((()=>{var e,t;null===(e=S.current)||void 0===e||null===(t=e.clickBackCallback)||void 0===t||t.call(e)}),[]),k=(0,G.XV)();if(!r||!a)return Te("div",{className:Ee().stickyPart},Te("div",{className:Ee().stickyBg,style:{height:"".concat(k,"px")}}),Te(I,{ref:S}),Te(K.Z,{isFixed:!0}),Te(q.Z,{isFixed:!0}),Te(V.Z,{isFixed:!0}),Te(W,null));const O={isImmersive:r,navigationH:a,statusbarH:o,shareProps:{onClick:()=>{(0,R.e0)({op:"click",page_el_sn:4432948})},usePullReload:!0,getNativeShareImg:f,getShareInfo:m,getPxqShareInfo:y?g:null},clickBack:P,hasSearch:b&&!_};return Te("div",{className:Ee().placeholder,style:{height:"".concat(a,"px"),backgroundColor:e.hasBackgroundImage?"":w}},Te(I,{ref:S}),Te(Ie,(0,s.Z)({isImmersive:r,bgColor:w},O)))})),Ae=r(65207),Re=r(16477),Le=r(21553),Me=r(43131),Ze=r(49096),je=r.n(Ze),Ne=r(28507),ze=r(20856),Ue=r(44227).createElement;const Be=()=>{u()(je());const{mallStore:e}=(0,L.Z)(),[t,r]=(0,n.useState)(!1),o=e.saleNoWorryDTOList||[],i=(0,n.useCallback)(T()((()=>{o.length&&r((e=>!e))}),300),[]);return Ue(n.Fragment,null,Ue("div",{className:je().wrap,onClick:i},Ue(M.Z,{className:je().icon,src:ze.vk,lazy:!1}),Ue("span",null,"售后无忧")),t&&Ue(Ne.Z,{toggleSalesNoWorryPopup:i,saleNoWorryDTOList:o}))};var Ge=(0,n.memo)(Be),Fe=r(77234),He=r(16142),We=r.n(He),qe=r(44227).createElement;function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const[Ye,Qe]=(0,J.qh)(["5ec53e3b-8685-4bb9-9625-aa2e21047406","21ff365c-97ff-4943-8e50-a389e84be5f2"]);var Xe=(0,o.observer)((e=>{u()(We());const{immersionColor:t}=e||{},{uiStore:r,mallStore:o}=(0,i.Gu)(),{isNative:s,isDirectToStoresMapTester:a}=r,{getShareInfo:l,currentStoreInfo:c,selectedStoreId:p,setDefaultStore:d,shouldShowClearBtn:h}=o,{storeName:f=""}=c||{},m=(0,n.useMemo)((()=>({page_el_sn:3551031,store_id:p})),[p]);(0,n.useEffect)((()=>{(async()=>{s||(0,Ae.L)(l()).catch(Re.ZT)})()}),[l,s]);const y=(0,n.useCallback)((({callbackQuery:e={},callbackData:t}={})=>{const r=Ke(Ke({},e),{},{[b.Uk.StoreId]:p}),{isBanStoresMap:n=!0}=t||{};n?(0,re.Fg)(r):(0,re.IQ)(r)}),[p]),v=(0,Me.useShowBoughtStoreListPopup)(y,{isDirectToStoresMapTester:a}),_=(0,Fe.Z)((0,n.useCallback)((async()=>{s?await v():y()}),[s,y,v])),w=(0,n.useCallback)((async()=>{h&&(await d({storeId:-1}),(0,J.iY)("重置成功",{onClose(){g.ZP.reload()}}))}),[d,h]),S=(0,n.useMemo)((()=>(null==f?void 0:f.length)>12?f.slice(0,12)+"...":f),[f]),P=(0,n.useMemo)((()=>({backgroundColor:t})),[t]);return qe("div",{className:We().wrap,style:P},qe("div",{className:We().wrapBefore,style:P}),qe("div",{className:We().wrapAfter,style:P}),qe(Le.Z,{className:We().left,onClick:_,log:m,impr:!0},qe(M.Z,{src:Ye,className:We().mallIcon,lazy:!1}),qe("div",{className:We().storeName},S),qe("div",{className:We().line}),qe("span",{className:We().changeText},"切换"),qe(M.Z,{src:Qe,className:We().arrowIcon,lazy:!1})),qe("div",{className:We().placeholder}),h&&qe("div",{className:We().clear,onClick:w},"重置"),qe(Ge,null))})),$e=r(12672),Je=r.n($e),et=r(10511),tt=r(44227).createElement;const rt=20,[nt,ot,it,st,at]=(0,J.qh)(["a4febbbd-67ad-48c6-9189-f815ebd2fa88","40fb6a14-2841-40c7-95e6-054bc300c0a2","64bf78c0-4e0e-440c-abd1-ddd835581a78","5273611c-56a8-4ad3-b572-05d00b9bbdce","3282dda5-a42e-4703-8a7e-5f27025070d7"]);var lt=(0,o.observer)((e=>{u()(Je());const{bannerData:t}=e,{sceneType:r,offValue:o,offGoodsValue:i}=t||{},s=(0,fe.Z)((()=>{(0,R.e0)({op:"click"}),(0,J.iY)("部分商品(如限时秒杀等) 不参与此活动")})),a=(0,n.useCallback)((e=>{const t=e.toString().split("");return tt(n.Fragment,null,t.map(((e,t)=>{const r="."===e?"dot":e;return tt(M.Z,{className:A()(Je().number,Je()["number_".concat(r)]),key:t,lazy:!1,src:(0,J.Yo)("".concat("promotion_banner_number_").concat(r))})})))}),[]),l=(0,n.useMemo)((()=>tt(n.Fragment,null,tt(M.Z,{src:nt,resizeWidth:492,className:Je().titleLeftImage}),a((0,et.bd)(i)),tt(M.Z,{src:it,className:Je().font,resizeWidth:81}),a((0,et.bd)(o)),tt(M.Z,{src:st,className:Je().unit,resizeWidth:81}))),[i,o,a]),c=(0,n.useCallback)((()=>tt("div",{className:Je().title},r===rt?tt(M.Z,{src:ot,resizeWidth:756,className:Je().titleImage}):l,tt("div",{onClick:s,className:Je().helpIcon},tt(M.Z,{src:at,lazy:!1})))),[r,l,s]);return tt("div",{className:Je().content},c())})),ct=r(47929),ut=r.n(ct),pt=r(9920),dt=r.n(pt),ht=r(44227).createElement;var ft=(0,o.observer)((e=>{u()(dt());const{bannerData:t}=e,{countDownText:r}=t||{};return ht("div",{className:dt().wrapper},ht(M.Z,{className:dt().bg,src:(0,J.ep)("f2e9448f-c557-4e69-8cc7-b39c57addbb0"),lazy:!1}),ht(j.Ej,{list:r,className:dt().text,itemClassName:dt().item}))})),mt=r(10089),gt=r.n(mt),yt=r(44227).createElement;var bt=(0,o.observer)((e=>{u()(gt());const{bannerData:t}=e,{bannerImage:r,bgColor:o}=t||{},i=(0,n.useMemo)((()=>({backgroundColor:o})),[o]);return yt("div",{className:gt().content,style:i},yt(M.Z,{src:r,lazy:!1}))})),vt=r(44227).createElement;const _t={[v.AZ.MLL_PROMOTION_V2]:lt,[v.AZ.MLL_PROMOTION_CLOSED_NO_TASK]:ft,[v.AZ.MLL_FESTIVAL_IMAGE_BANNER]:bt};var wt=(0,o.observer)((()=>{u()(ut());const{bannerStore:e}=(0,i.Gu)(),{bannerPositionMap:t}=e,r=((null==t?void 0:t[v.Ej.OverallPromotion])||[]).map((e=>({cop:_t[null==e?void 0:e.bannerId],data:null==e?void 0:e.bannerData}))).filter((e=>!(null==e||!e.cop)));return null!=r&&r.length?vt("div",{className:ut().wrapper},r.map(((e,t)=>{const{data:r}=e||{};return vt(e.cop,{key:"".concat(null==r?void 0:r.bannerId,"_").concat(t),bannerData:r})}))):null})),St=r(78881),Pt=r(92346),kt=r.n(Pt),Ot=r(49375),Ct=r.n(Ot),It=r(44227).createElement;var xt=(0,o.observer)((()=>{u()(Ct());const{mallStore:e,popupStore:t}=(0,i.Gu)(),{buyReasonRichTextMessage:r=[]}=e,o=(0,n.useCallback)(T()((()=>{t.show(v.kV.MallStoreInfoAlert,{popupData:{richTextMessage:r,isFromWarningBar:!0}})}),300,{trailing:!1}),[]);return r.length?It(Le.Z,{impr:!0,log:4675737,className:Ct().wrapper,onClick:o},It(j.Ej,{list:r,className:Ct().richTexts,itemClassName:Ct().richTextItem})):null})),Et=r(81947),Tt=r.n(Et),Dt=r(44227).createElement;var At=(0,o.observer)((()=>{var e;u()(Tt());const{bannerStore:t,uiStore:r,mallStore:n}=(0,i.Gu)(),{isPromotionV6:o}=n,{staticBannersMap:s}=t,{isNative:a}=r,l=(null===(e=s[v.AZ.MLL_MONTH_CARD_COUPON_BANNER])||void 0===e?void 0:e.bannerData)||{},c=T()((()=>{l.jumpUrl&&(0,re.a3)(l.jumpUrl)}),300,{trailing:!1});return a&&null!=l&&l.content?Dt(Le.Z,{impr:!0,log:4641747,className:o?Tt().wrapperV6:Tt().wrapper,onClick:c},Dt("div",{className:Tt().content},Dt(j.Ej,{list:l.content,className:Tt().richText}))):null})),Rt=r(80550),Lt=r.n(Rt),Mt=r(44227).createElement;function Zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nt=(0,o.observer)((()=>{var e,t;u()(Lt());const{bannerStore:r,mallStore:n}=(0,i.Gu)(),{isToCRegister:o,isPromotionV6:s}=n,{staticBannersMap:a}=r,{bannerData:l={},bannerId:c}=a[v.AZ.MLL_GROUP_SETTLE_IN_BANNER]||{},p=T()((async()=>{l.jumpUrl&&(o?await(0,re.Ye)(l.jumpUrl):await(0,re.yI)(l.jumpUrl))}),300,{trailing:!1});if(null==l||!l.content)return null;const d={banner_track:JSON.stringify({jump_url:l.jumpUrl,banner_id:c})};return Mt(Le.Z,{impr:!0,log:jt({page_el_sn:4839308},d),className:s?Lt().wrapperV6:Lt().wrapper,onClick:p},Mt("div",{className:Lt().content},Mt(j.Ej,{list:null===(e=l.content)||void 0===e?void 0:e.left}),Mt(j.Ej,{list:null===(t=l.content)||void 0===t?void 0:t.right})))})),zt=r(13925),Ut=r.n(zt);var Bt=r(33656),Gt=r.n(Bt),Ft=r(44227).createElement;var Ht=(0,o.observer)((e=>{u()(Gt());const{index:t,item:r,handleClick:n}=e;return Ft("div",{key:t,className:Gt().itemWrapper,onClick:()=>n(r)},Ft(M.Z,{src:r.channelIcon,resizeWidth:144,className:Gt().iconImage}),Ft("div",{className:Gt().iconText},r.channelName))})),Wt=r(44227).createElement;const qt=1,Vt=0;var Kt=(0,o.observer)((e=>{u()(Ut());const{mallStore:t}=(0,i.Gu)(),{categoryList:r=[],currentStoreInfo:o,categoryListGreyType:s}=t,a=(0,n.useMemo)((()=>(null==r?void 0:r.length)>=12?r.slice(0,12):(null==r?void 0:r.length)>=6?r.slice(0,6):[]),[r]),l=(0,n.useCallback)((e=>{var t;const r=-1===e.channelId,n=a.reduce(((e,t,r)=>{const n=(null==t?void 0:t.channelId)||"";return 0===r?"".concat(n):"".concat(e,"&").concat(n)}),"");(0,re.I)({[b.Uk.PassPage]:ye.Ko.vgtact_category_goods,[b.Uk.StoreId]:null==o?void 0:o.storeId,[b.Uk.CategoryGoodsShouldShowTopTabPop]:r?qt:Vt,[b.Uk.CategoryGoodsType]:(null==e?void 0:e.channelType)||z.pz.Default,[b.Uk.CategoryGoodsActiveTopTabId]:r?null==a||null===(t=a[0])||void 0===t?void 0:t.channelId:null==e?void 0:e.channelId,[b.Uk.AppFs]:1,[b.Uk.CategoryGoodsFirstTopTabIds]:n,[b.Uk.CategoryListShowType]:s})}),[null==o?void 0:o.storeId,a,s]);return r.length<6?null:Wt("div",{className:Ut().wrapper},a.map(((e,t)=>Wt(Ht,{key:t,index:t,item:e,handleClick:l}))))})),Yt=r(8503),Qt=r(59657),Xt=r.n(Qt),$t=r(77091),Jt=r(44227).createElement;var er=(0,o.observer)((function(){u()(Xt());const{mallStore:e,bannerStore:t}=(0,i.Gu)(),{categoryList:r=[]}=e,{bannerPositionMap:n}=t,o=(null==n?void 0:n[v.Ej.ActivityEntries])||[];return(null==o?void 0:o.length)<$t.jl.QuadrupleItem&&(null==r?void 0:r.length)<6?null:Jt("div",{className:Xt().activityModule},Jt(Kt,null),Jt(Yt.Z,null))})),tr=r(50308),rr=r.n(tr),nr=r(95965),or=r(41351),ir=r(7255),sr=r.n(ir),ar=r(67421),lr=r(445),cr=r(14612),ur=r.n(cr),pr=r(44227).createElement;var dr=e=>{u()(ur());const[t,r]=(0,n.useState)(!1),o=(0,n.useRef)(null),{style:i,className:s,loop:a=!0,poster:l,preload:c="auto",src:p,autoPlay:d,playsInline:h=!0,crossOrigin:f="",muted:m=!1,onRef:g,onStartPlay:y,id:b,onEnded:v}=e,_=()=>{null==y||y(),r(!0)};return(0,n.useEffect)((()=>{var e,t;const r=(0,lr.zT)();if(null==g||g(o),d&&(null==o||null===(e=o.current)||void 0===e||null===(t=e.play())||void 0===t||t.catch((e=>{}))),null==r||!r.isNativePlatform)return;const n=[];return(async()=>{n.push(await(0,ar._r)((()=>{var e;null===(e=o.current)||void 0===e||e.play()}))),n.push(await(0,ar.rB)("onAppShow",(()=>{var e;null==o||null===(e=o.current)||void 0===e||e.play()}))),n.push(await(0,ar.$m)((()=>{var e;null==o||null===(e=o.current)||void 0===e||e.pause()})))})(),()=>{n.forEach((e=>{e()}))}}),[d,a,m,g]),pr(n.Fragment,null,pr("div",{className:ur().playerPoster},pr(M.Z,{style:i,resizeWidth:1125,src:l,lazy:!1})),pr("video",{src:p,muted:m,className:A()(ur().wrap,s),ref:o,preload:c,loop:a,poster:l,playsInline:h,"webkit-playsinline":h.toString(),crossOrigin:f,"x5-video-player-type":"h5-page",style:i,onCanPlay:_,onCanPlayThrough:_,onTimeUpdate:()=>{var e;if(t)return;(null==o||null===(e=o.current)||void 0===e?void 0:e.currentTime)>.1&&(null==y||y()),r(!0)},id:b,onEnded:v}),pr("div",{style:{visibility:t?"hidden":"visible"},className:ur().playerPoster},pr(M.Z,{style:i,resizeWidth:1125,src:l,lazy:!1})))},hr=r(44227).createElement;const fr=(0,J.ep)("3d76ac29-92bf-401a-807f-80004a77978c");var mr=(0,o.observer)((function(){u()(sr());const{mallStore:e,popupStore:t}=(0,i.Gu)(),{queryShakingPacketPopupInfo:r,queryShakingPacketRulesAndRecords:o}=t,{shakingPacketInfo:s,shakingPacketStatus:a,showShakingPacketBanner:l}=e,{remainCounts:c}=(null==s?void 0:s.bannerData)||{},p=(0,n.useCallback)((()=>{c?r():o(v.hy.Record)}),[c,o,r]),d=(0,n.useCallback)((e=>{(0,R.e0)({op:"click",page_el_sn:v.FR.BannerRuleBtn}),o(e)}),[o]);return l?hr(Le.Z,{className:sr().bannerContent,impr:!0,log:v.FR.Banner},hr(dr,{src:"https://funimg.pddpic.com/vgt/a53485e1-1ec8-4184-915d-84d92387ce9e.mp4",poster:fr,className:sr().video,autoPlay:!0,muted:!0}),hr(Le.Z,{className:sr().packetBtn,onClick:p,impr:!0,log:v.FR.BannerMainBtn},hr("div",{className:sr().lightPot}),hr("div",{className:sr().lightCircle}),v.Im[a]),hr(Le.Z,{className:sr().ruleRecords,impr:!0,log:v.FR.BannerRuleBtn},hr(n.Fragment,null,hr("div",{onClick:()=>d(v.hy.Rule),className:sr().rules},"规则"),hr("div",{onClick:()=>d(v.hy.Record),className:sr().records},"奖励")))):null})),gr=r(78306),yr=r(72696),br=r(74263),vr=r(4874),_r=r(19862),wr=r(44227).createElement;var Sr=(0,o.observer)((function(){const{mallStore:e,bannerStore:t,popupStore:r}=(0,i.Gu)(),o=(0,n.useContext)(yr.Z),{updateShakingPacketBannerData:s}=t,{queryShakingPacketPopupInfo:a}=r,{shakingPacketInfo:l,shakingPacketStatus:c,mallListUiStyle:u}=e,{remainTime:p,activityEndTime:d}=(null==l?void 0:l.bannerData)||{},h=d<br.Z.now,f=c!==v.a$.NotExist,m=c!==v.a$.NotStart,g=(0,n.useCallback)((()=>{s()}),[s]);(0,nr.lK)({key:v.zl.showShakingPacketBanner,dealTime:p,endTaskFn:g},!!p);const y=(0,n.useCallback)((async()=>{v.Al.forEach((e=>{const t=(null==e?void 0:e.img)&&(0,vr.F)(null==e?void 0:e.img,{resizeWidth:(null==e?void 0:e.width)||0,quality:80,webpEnable:o});(0,gr.p)(t,{})}))}),[o]);return(0,n.useEffect)((()=>((0,_r.jV)([v.V4.ShakingPacketTiger]),f&&m?((0,i.U_)(rr(),rr()),(0,i.HT)((()=>{(0,R.e0)({op:"click",page_el_sn:v.FR.Shaking}),a()}),(()=>{(0,or.C8)("spring_festival_shaking_packet_success")}),(()=>{(0,or.C8)("spring_festival_shaking_packet_error")})),y()):(0,i.U_)(rr(),rr()),()=>{(0,i.U_)(rr(),rr())})),[f,m,y,a]),h||!f||null!=u&&u.hasFlowBanner?null:wr(mr,null)})),Pr=r(44227).createElement;const kr="#e02e24";var Or=(0,o.observer)((()=>{u()(kt());const{mallStore:e}=(0,i.Gu)(),{mallListUIConfig:t,isPromotionV6:r,showShakingPacketBanner:o}=e,{immersionColor:s,immersiveBackgroundImage:a}=t||{},l=!!a,c=r?kr:s||kr,p=(0,n.useMemo)((()=>({backgroundColor:c})),[c]),d=(0,n.useCallback)((()=>l?Pr("div",{className:kt().topBgImage},Pr("div",{className:kt().bgPlaceHolder,style:p}),Pr(M.Z,{resizeWidth:1125,className:kt().imageClx,src:a})):null),[l,a,p]);return Pr("div",{className:A()({[kt().homeTopClx]:r})},Pr(De,{immersionColor:c,hasBackgroundImage:l}),Pr(Xe,{immersionColor:l?"":c}),e.shakingPacketInfo&&Pr(Sr,null),o?d():Pr(n.Fragment,null,Pr(K.Z,null),Pr(V.Z,null),Pr(wt,null),!r&&Pr(St.Z,null),d()),Pr(xt,null),Pr(q.Z,null),Pr("div",{id:z.RK}),Pr(At,null),Pr(Nt,null),r&&Pr(er,null))}))},85804:function(e,t,r){"use strict";var n=r(61980),o=r(44227),i=r(8492),s=r(44227).createElement;const a=(0,n.ZP)({resolved:{},chunkName:()=>"CrossModule",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>r.e(4682).then(r.bind(r,78833)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 78833}});function l(e){const{storeId:t,plugData:r}=e;return s(a,{storeId:t,data:r})}t.Z=(0,i.observer)(l)},41471:function(e,t,r){"use strict";var n=r(44227),o=r(61980),i=r(8492),s=r(75849),a=r.n(s),l=r(8946),c=r(98249),u=r.n(c),p=r(44227).createElement;const d=(0,o.ZP)({resolved:{},chunkName:()=>"PromotionAndPlug",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>r.e(7326).then(r.bind(r,1874)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 1874}});function h(){u()(a());const{mallStore:e}=(0,l.Z)(),{stickyModulesData:t,selectedStoreId:r,isPromotionV6:o}=e;return(0,n.useMemo)((()=>p(n.Fragment,null,(t||[]).map(((e,t)=>p(d,{storeId:r,data:e,key:"layout-".concat(t),isPromotionV6:o}))))),[r,t,o])}t.Z=(0,i.observer)(h)},84178:function(e,t,r){"use strict";r.d(t,{Z:function(){return Mt}});var n=r(27361),o=r.n(n),i=r(44227),s=r(8492),a=r(98249),l=r.n(a),c=r(87605),u=r(94454),p=r(40750),d=r(14530),h=r(8946),f=r(14358),m=r(8503),g=r(12686),y=(r(45697),r(71819)),b=r(12440),v=r(42009),_=r(87860),w=r(8804),S=r.n(w),P=r(46818),k=r(89421),O=r(92849),C=r(54919),I=(0,s.observer)((function(){const{mallStore:e,uiStore:t}=(0,_.Gu)(),{query:r}=t,{scrollGoodsAnchor:n,mcFunctionWhiteList:o,goodsList:s}=e;return(0,i.useEffect)((()=>{var e,t;const i=null===(e=S()(s))||void 0===e?void 0:e.goodsId,a=null==o||null===(t=o[C.BF.sourceScrollGoodListV2])||void 0===t?void 0:t.includes(r[k.Uk.TrafficSource]),l=(0,_.Cl)(r);a&&l===i&&((0,P.G)(O.I.ScrollTopGoodFlag)||(n(),(0,P.t_)(O.I.ScrollTopGoodFlag,"alreadyScrollGoodList")))}),[]),null})),x=r(96156),E=r(81921),T=r(17954),D=r(51841),A=r(50308),R=r.n(A),L=r(94184),M=r.n(L),Z=r(89347),j=r(40658),N=r(445),z=r(95643),U=r(99124),B=r(53192),G=r(1282),F=r(41351),H=r(21553),W=r(64663),q=r(74324),V=r.n(q),K=r(44227).createElement,Y=(0,s.observer)((function(e){l()(V());const{cartStore:t,mallStore:r}=(0,_.Gu)(),{subscribeGoodsMap:n,setSubscribeGoodsMap:o}=r,{mcSaleId:s,goodsId:a,storeId:c,subscribeStatus:u}=e,p=null!=n&&n[a]?(null==n?void 0:n[a])===D.fC.SoldOutOrOffLine:u===D.fC.SoldOutOrOffLine,d=(0,i.useCallback)((async()=>{const e=(0,N.zT)();return e.isNativePlatform?(0,j.E)().then((async()=>t.subscribeGoods({storeId:c,goodsId:a,mcSaleId:s,subscribeType:G.c9.SoldOutOrOffLine}).then((()=>{(0,F.b0)({customTags:{event:"subscribe_home_goods_put_on_success"}}),(0,Z.Z)("已经开启到货提醒，商品到货后会发消息提醒"),o(a,D.fC.SoldOutOrOffLine)})).catch((e=>{(0,Z.Z)("提醒失败，再试一试"),(0,W.eK)({error_msg:"subscribe_home_goods_put_on_fail",page:e.message}),(0,F.b0)({customTags:{event:"subscribe_home_goods_put_on_fail"}})})))).catch(R()):e.isTinyNativePlatform?(0,z.nM)("JSUpgrade","showUpgradeDialog",{type:"flash_sale_remind"}):void 0}),[]),h=(0,i.useCallback)((0,B.k)((async e=>{null==e||e.stopPropagation(),null==e||e.preventDefault(),await d(),await(0,U.gw)(1e3)}),{delay:1e3,loading:!1}),[d]);return K(H.Z,{log:{page_el_sn:"4936043",goods_id:a},impr:!0,className:M()(V().subscribe,{[V().active]:p}),onClick:async e=>{p||h(e)}},p?"已设置提醒":"到货提醒")})),Q=r(71846),X=r.n(Q),$=r(44227).createElement;function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ee=(0,s.observer)((function(e){l()(X());const{mallStore:t,cartStore:r,uiStore:n}=(0,h.Z)(),{data:s,index:a,pageSection:c,hideHalfBorder:u}=e,{isNative:p,query:d}=n||{},{getAfterAddRec:m}=t||{},{sceneFrom:g}=s||{},y=(0,i.useCallback)((async()=>{const e=r.inCartGoodsIds,t={goodsId:null==s?void 0:s.goodsId,cartExtMap:null==s?void 0:s.cartExtMap,banGoodsList:e,crossModuleExtMap:null==r?void 0:r.crossModuleExtMap};return m(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){(0,x.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({cartGroupPrice:r.getSelectGoodsGroupPrice(null==s?void 0:s.goodsId)},t))}),[r,s,m]),b=null==t?void 0:t.selectedStoreId,v=g===T.Or.Presell,_=o()(s,C.$1),w=(0,i.useMemo)((()=>({tag_id:_,efficacy:(null==s?void 0:s.sceneFrom)===T.Or.Presell?1:0})),[_,s]),S={renderCustomButton:()=>{const e=+o()(s,C.e5),t=null==s?void 0:s.hasSoldOut,r=[D.fC.SoldOutOrOffLine,D.fC.NonSoldOutOrOffLine].includes(e);return g===T.Or.Snapshot?$("div",{className:X().inaccessibleCartButton},"加入购物车"):r&&t&&p?$(Y,{storeId:b,subscribeStatus:e,goodsId:null==s?void 0:s.goodsId}):null},themeColor:v?f.Rk.ThemeColor:"",addButtonProps:v?{className:X().presellAddButton,logExtMap:{efficacy:1},buttonText:f.Rk.ButtonTextV2,afterAdd:y}:{afterAdd:y},numSelectorProps:{afterInc:y}};return $("div",{id:"".concat(C.pC,"-").concat(a),className:X().wrapper},$(E.Z,{goods:s,index:a,pageSection:c,storeId:b,buttonProps:S,hideHalfBorder:u,extraLogParams:w,mcMktGoodsPrice:null==d?void 0:d[k.Uk.McMktGoodsPrice]}))})),te=r(85804),re=r(53502),ne=r(77234),oe=r(72696),ie=r(29421),se=r(31223),ae=r.n(se),le=r(44227).createElement;var ce=(0,s.observer)((function(e){l()(ae());const{mallStore:t,uiStore:r}=(0,_.Gu)(),{query:n,webpEnable:s}=r,{goodsList:a,getGoodsList:c,plugModulesData:u,mcGoodsChannelList:p,isGoodsListInit:d,selectedStoreId:h}=t,f=(0,ne.Z)((0,i.useCallback)((async()=>{const e=(0,_.Cl)(n,!0);return await c({topGoodsList:e})}),[c,n]),{loading:!1}),m=(0,i.useCallback)((e=>{const t=o()(u,e),r=null==t?void 0:t.insertIndex;return{moduleData:t,moduleInsertIndex:r,moduleVisible:r===e}}),[u]),g=(0,i.useCallback)((e=>{const{moduleVisible:t,moduleInsertIndex:r,moduleData:n}=m(e);return t&&r!==T.tQ?le(te.Z,{storeId:h,plugData:n,key:"cross-module-".concat(r)}):null}),[m,h]),y=(0,i.useMemo)((()=>(e,t)=>{const{moduleVisible:r}=m(t);return le(i.Fragment,{key:(0,ie.qZ)(e)},g(t),le(ee,{data:e,index:t,pageSection:o()(p,"[0].pageSection"),hideHalfBorder:r}))}),[m,g,p]),b=(0,i.useCallback)((({data:e,index:t})=>y(e,t)),[y]),v=(a||[]).map(((e,t)=>{const{moduleInsertIndex:r}=m(t);return e.noObserver=r===t&&r!==T.tQ,e}));return d?le(oe.Z.Provider,{value:s},le("div",{className:ae().root},le("div",{className:ae().list},le(re.Z,{dataSource:v,renderItemView:b,loadMoreFunc:f,hasMore:!0}),le(I,null)))):le("div",{className:ae().root},le("div",{className:ae().placeholder}),le("div",{className:ae().placeholder}),le("div",{className:ae().placeholder}))})),ue=r(79502),pe=r(45578),de=r.n(pe),he=r(41609),fe=r.n(he),me=r(78997),ge=r(73553),ye=r(4075),be=r(83179),ve=r(23493),_e=r.n(ve),we=r(52089),Se=r.n(we),Pe=r(44227).createElement;const ke=(0,s.observer)((()=>{var e,t;l()(Se());const{mallStore:r}=(0,h.Z)(),{mcGoodsChannelList:n,tabActiveIndex:o,updateTabActiveIndex:s}=r,a=null==n?void 0:n[o],c=(0,i.useCallback)(_e()((e=>{s(o,e)}),f.Sf,{trailing:!1}),[o,s]);if(null==a||null===(e=a.subChannelList)||void 0===e||!e.length)return null;const u=(null==a||null===(t=a.subChannelList)||void 0===t?void 0:t.length)<=4,p=((null==a?void 0:a.subChannelList)||[]).map(((e,t)=>Pe(H.Z,{key:e.subChannelId,impr:!0,log:{page_el_sn:5351619,activity_type:null==e?void 0:e.subChannelId},onClick:()=>c(t),className:M()(Se().subChannel,{[Se().active]:t===a.activeSubIndex})},e.subChannelName)));return Pe("div",{className:M()(Se().content,{[Se().singleLine]:u})},p)})),Oe=(0,s.observer)((()=>{l()(Se());const e=(0,i.useRef)();return(0,i.useEffect)((()=>{}),[]),Pe("div",{ref:e,className:Se().wrapper},Pe(ke,null))}));var Ce=r(67718),Ie=r(61578),xe=r(83296),Ee=r(22001),Te=r.n(Ee),De=r(20416),Ae=r(44227).createElement;var Re=(0,s.observer)((function(e){l()(Te());const{headerLeftItems:t,headerRightItems:r}=e;return null!=t&&t.length&&null!=r&&r.length?Ae("div",{className:Te().newComerTitle},Ae(De.Ej,{list:t,noWrap:!0}),Ae(De.Ej,{list:r,noWrap:!0})):null})),Le=r(2316),Me=r.n(Le),Ze=r(44227).createElement;function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){(0,x.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ze={listId:"",offset:0,hasMore:!0,goodsList:[],showRecList:!1};var Ue=(0,s.observer)((function(e){var t,r,n;l()(Me());const{mallStore:s,uiStore:a}=(0,_.Gu)(),{webpEnable:c,isNative:u}=a,{channelTopGoodsListMap:d,selectedStoreId:h,mcGoodsChannelList:f,tabActiveIndex:m}=s,g=null==f?void 0:f[e.idx],y=null==f?void 0:f[m],b=(null==g?void 0:g.activeSubIndex)||0,v=null==g||null===(t=g.subChannelList)||void 0===t?void 0:t[b],w=!(null==g||null===(r=g.subChannelList)||void 0===r||!r.length),S=(null==y?void 0:y.channelUuid)===C.rp.NewComerGift,[P,k]=(0,i.useState)(((null==g?void 0:g.subChannelList)||[]).reduce(((t,r,n)=>(t[n]=Ne(Ne({},ze),{},{listId:(0,ye.z)("".concat(Ie.Hf.MallList,"_channel_list_").concat(null==r?void 0:r.subChannelId)),goodsList:(null==e?void 0:e.goodsList)||[]}),t)),{0:Ne(Ne({},ze),{},{listId:(0,ye.z)("".concat(Ie.Hf.MallList,"_channel_list_").concat(null==g?void 0:g.channelUuid)),goodsList:(null==e?void 0:e.goodsList)||[]})})),O=(null==P?void 0:P[b])||{},I=(null==O?void 0:O.goodsList)||[],x=(0,i.useCallback)((0,B.k)((async(t={})=>{if(!O.hasMore)return Ie._b;{var r,n,o;const i=await s.getChannelList({topGoodsList:d[null==e||null===(r=e.channel)||void 0===r?void 0:r.channelUuid]||[],storeId:null==s?void 0:s.selectedStoreId,offset:null!=t&&t.reset?ze.offset:O.offset,listId:O.listId,channelUuid:null==e||null===(n=e.channel)||void 0===n?void 0:n.channelUuid,channelType:null==e||null===(o=e.channel)||void 0===o?void 0:o.channelType,activeSubChannelIndex:b,recExt:null==O?void 0:O.recExt,subChannelUuid:null==v?void 0:v.subChannelId});if(null!=i&&i.errorCode){(0,be.hs)({errorCode:null==i?void 0:i.errorCode,errorMsg:null==i?void 0:i.errorMsg,scene:be.GK.MallList});const e=null==P?void 0:P[null==i?void 0:i.activeSubChannelIndex];return k(Object.assign({},P,{[i.activeSubChannelIndex]:Ne(Ne({},e||{}),{},{hasMore:!1,showRecList:!0})})),Ie._b}const a=null==P?void 0:P[null==i?void 0:i.activeSubChannelIndex],l=de()([...(null==a?void 0:a.goodsList)||[],...(null==i?void 0:i.goodsList)||[]],"goodsId");k(Object.assign({},P,{[i.activeSubChannelIndex]:Ne(Ne({},a||{}),{},{hasMore:null==i?void 0:i.hasMore,recExt:fe()(null==i?void 0:i.recExt)?null==a?void 0:a.recExt:null==i?void 0:i.recExt,offset:l.length,goodsList:l,headerLeftItems:(null==i?void 0:i.headerLeftItems)||[],headerRightItems:(null==i?void 0:i.headerRightItems)||[],showRecList:!(null!=i&&i.hasMore)})}))}}),{loading:!1}),[I,s,e]),T=(I||[]).map((e=>null==e?void 0:e.goodsId)),A=(0,i.useMemo)((()=>e=>()=>{const t=+o()(e,C.e5),r=[D.fC.SoldOutOrOffLine,D.fC.NonSoldOutOrOffLine].includes(t);return null!=e&&e.hasSoldOut&&u&&r?Ze(Y,{storeId:h,subscribeStatus:t,goodsId:null==e?void 0:e.goodsId}):null}),[u,h]),R=(0,i.useMemo)((()=>(t,r)=>{var n,o,i;return Ze(E.Z,{key:null==t?void 0:t.goodsId,useMcImage:!0,goods:t,index:r,buttonProps:{renderCustomButton:A(t)},pageSection:null==e||null===(n=e.channel)||void 0===n?void 0:n.pageSection,extraLogParams:{album_name:null==e||null===(o=e.channel)||void 0===o?void 0:o.channelName,album_id:null==e||null===(i=e.channel)||void 0===i?void 0:i.channelUuid,album_order:null==e?void 0:e.idx}})}),[e,A]),L=(0,i.useMemo)((()=>({data:e,index:t})=>R(e,t)),[R]);return Ze("div",{className:Me().wrapper},w&&Ze(Oe,{tabIndex:e.idx}),S&&!(null==I||!I.length)&&Ze(Re,O),Ze(re.Z,{wrapperClass:M()({[Me().hasSubChannel]:w}),itemWrapperClass:Me().itemWrapper,key:"goods-list-".concat(b),dataSource:I||[],renderItemView:L,loadMoreFunc:x,hasMore:O.hasMore}),O.showRecList&&Ze("div",{className:Me().recList,key:"rec-list-".concat(b)},Ze(ge.Z,{storeId:null==s?void 0:s.selectedStoreId,webpEnable:c,banGoodsList:T,useGoTop:!1,sceneSn:me.CC.MallListRec,pageSection:null==e||null===(n=e.channel)||void 0===n?void 0:n.pageSection,scene:Ce.n.Channel,renderTitle:()=>Ze("div",{className:Me().titleWrapper},Ze("div",{className:Me().blank}),Ze("div",{className:Me().titleContainer},Ze("div",{className:Me().title},Ze(p.Z,{className:Me().titleIcon,src:(0,xe.ep)("rec/rec_list_title_icon_v3"),lazy:!1}),Ze("span",null,"猜你喜欢"))))})))})),Be=r(74245),Ge=r.n(Be),Fe=r(44227).createElement;var He=(0,s.observer)((function(e){var t;l()(Ge());const r=(0,i.useContext)(v.Z),n=(null==r?void 0:r.navigationHeight)||0,{uiStore:o,mallStore:s,bannerStore:a}=(0,_.Gu)(),{csrFixedBannerAllHeight:c}=a,u=null==o||null===(t=o.pddContext)||void 0===t?void 0:t.userAgent,p=((null==s?void 0:s.mcGoodsChannelList)||[]).slice(),{goodsListKey:d,tabActiveIndex:h,updateTabActiveIndex:f}=s||{};p.shift();const m=()=>Fe(b.mL,{dependChunkName:C.fj.GoodsList,key:"feedList"},Fe(ce,null)),g=(0,i.useCallback)((e=>{f(e)}),[f]);return(null==p?void 0:p.length)>0?Fe("div",{className:Ge().wrapper},Fe(ue.Z,{switchTab:g}),Fe("div",{id:C.t1}),Fe(y.N,{key:d,disable:!0,disableNonGestureTransition:!0,index:h,userAgent:u,coverHeight:["".concat(C.uG/100),c+n-1]},m(),(p||[]).map(((e,t)=>Fe(Ue,{key:null==e?void 0:e.channelUuid,channel:e,channelUuid:null==e?void 0:e.channelUuid,idx:t+1}))))):Fe(i.Fragment,null,Fe("div",{id:C.t1}),m())})),We=r(51834),qe=r(57805),Ve=r(40716),Ke=r.n(Ve),Ye=r(85885),Qe=r(44227).createElement;const Xe=.54,$e=.42,Je=.62;var et=(0,s.observer)((function(e){l()(Ke());const t=(0,i.useContext)(v.Z),r=(null==t?void 0:t.navigationHeight)||0,{mallStore:n,bannerStore:o}=(0,h.Z)(),{csrFixedBannerAllHeight:s}=o,{goodsPromotionInfo:a,saleNoWorryDTOList:c}=n,u=null==c?void 0:c.find((e=>7===Number(e.tagId))),p=(0,Ye.RL)(C.Tr.ChannleTabBar),d=(0,We.Z)((()=>{(0,qe.q1)(null==u?void 0:u.linkUrl)}));if(null==u||!u.linkUrl||null==u||!u.title)return null;const f=p?s/100+Xe:a?$e:Je;return Qe("div",{className:Ke().rules,onClick:d,style:{top:"calc(".concat(f,"rem + ").concat(r,"px)")}},null==u?void 0:u.title)})),tt=r(41471),rt=r(92780),nt=r.n(rt),ot=r(42178),it=r.n(ot),st=r(45183),at=r(88798),lt=r(10511),ct=r(67619),ut=r.n(ct),pt=r(37621),dt=r(22605),ht=r.n(dt),ft=r(44227).createElement;var mt=(0,s.observer)((e=>{l()(ht());const{price:t,goodsId:r,imageUrl:n,debugInfo:o,tagText:i,handleClickGoods:s,isInV6SmallUiGrey:a}=e||{};return ft(pt.Z,{debugInfo:o,key:r},ft("div",{className:ht().goodsWrapper,onClick:s},ft("div",{className:ht().goodsTop},ft(p.Z,{resizeWidth:144,className:ht().goodsImg,lazy:!1,src:n}),ft("div",{className:ht().goodsPrice},"¥",(0,lt.bd)(t))),ft("div",{className:M()(ht().goodsTag,{[ht().goodsTagV2]:a})},i||C.uu)))})),gt=r(44227).createElement;const[yt]=(0,xe.qh)(["19419fe0-37fb-48e3-add4-624f8aa87c58"]),bt=3,vt=4;var _t=(0,s.observer)((function(e){var t;l()(ut());const{data:r,isInV6SmallUiGrey:n}=e,{navUrlV2:o,newUserMcGoodsDTOList:s,moduleSubTitle:a}=r||{},c=(0,i.useRef)((0,ye.z)("".concat(Ie.Hf.MallList,"_pgp_list"))),{mallStore:u,popupStore:d,cartStore:h,bannerStore:f}=(0,_.Gu)(),{staticBannersMap:m}=f,g=null===(t=m[C.AZ.MLL_NEWUSER_COUPON])||void 0===t?void 0:t.bannerData,{activityStatus:y,couponType:b,activityType:v}=g||{},{selectedStoreId:w,mallListService:S}=u,{show:P,service:O}=d,{queryNewUserCoupon:I}=O,x=null!=g&&g.showBanner?bt:vt,E=(s||[]).concat(new Array(x).fill("")).slice(0,x),[T,D]=n?[ut().contentV2,ut().subTitleV2]:[ut().content,ut().subTitle],A=(0,ne.Z)((0,i.useCallback)((async()=>{var e;const t=await I({});null!=t&&null!==(e=t.data)&&void 0!==e&&e.popupData&&P(C.kV.NewUserCouponPopup,t.data)}),[I,P])),R=(0,We.Z)(((e,t)=>{e&&(e.preventDefault(),e.stopPropagation()),(0,U.e0)({op:"click",page_el_sn:5229803}),o&&(0,qe.q1)((0,at.ru)({[k.Uk.GoodsId]:t,[k.Uk.RecallGoods]:JSON.stringify([+t])},o))}),{wait:300}),L=(0,i.useCallback)((e=>{e&&(e.preventDefault(),e.stopPropagation()),y===C.L7.NotTaken?A():b===st.P6.PGP?(h.setUniformPopup({showPopup:!0,getMore:!0,getData:async({offset:e=0}={})=>S.getPgpRecGoodsList({offset:e,listId:c.current,count:20,activityType:v,storeId:w})}),(0,xe.iY)("您已领券，快去使用吧")):(0,xe.iY)("您已领券，快去使用吧")}),[y,A,b,h,S,v,w]),M=(0,i.useCallback)((()=>{o&&(0,qe.q1)(o)}),[o]),Z=(0,i.useCallback)(((e,t)=>{var r,o;const{goodsId:i,imageUrl:s,debugInfo:a,goodsTags:l,price:c}=e||{},u=(null==l||null===(r=l.activityDiffGoodsCell)||void 0===r||null===(o=r.tagList)||void 0===o?void 0:o[0].text)||"";return gt(mt,{key:"".concat(i,"_").concat(t),goodsId:i,imageUrl:s,debugInfo:a,price:c,tagText:u,handleClickGoods:e=>R(e,i),isInV6SmallUiGrey:n})}),[R,n]);return null!=E&&E.length?gt("div",{className:T,onClick:M},gt("div",{className:D},a),gt("div",{className:ut().goodsList},(null==g?void 0:g.showBanner)&&gt("div",{className:ut().packet,onClick:L},gt(p.Z,{src:yt,resizeWidth:234,class:ut().smallPacketImg}),(null==g?void 0:g.discountAmount)&&gt("div",{className:ut().packetMoney},gt("span",{className:ut().price},(0,lt.bd)(null==g?void 0:g.discountAmount)),gt("span",{className:ut().priceUnit},"元"))),E.map(((e,t)=>Z(e,t))))):null})),wt=r(65846),St=r.n(wt),Pt=r(44227).createElement;var kt=function(e){l()(St());const{data:t,isInV6SmallUiGrey:r}=e,{link:n,goodsList:o,pageTitle:s="",pageSubTitle:a="",styleConfig:c}=t,{hasMainTitle:u,mainTitleColor:p,mainTitleTextShadow:d,subTitleColor:h,subTitleTextShadow:f,bgImage:m,bgImageV2:g}=c||{},[y,b]=r?[St().promotionInfoV2,St().subTitleV2]:[St().promotionInfo,St().subTitle],v=(o||[]).concat(new Array(4).fill("")).slice(0,4),[_,w,S]=(0,i.useMemo)((()=>[{backgroundImage:"url(".concat(r?g:m,")")},{color:p,textShadow:d},{color:h,textShadow:f}]),[r,g,m,p,d,h,f]),P=(0,We.Z)(((e,t,r)=>{e&&(e.preventDefault(),e.stopPropagation()),(0,U.e0)({op:"click",page_el_sn:5387443}),n&&(0,qe.q1)((0,at.ru)({[k.Uk.RecallGoods]:JSON.stringify([+t]),[k.Uk.MorningNightModuleId]:r},n))})),O=(0,i.useCallback)((()=>{n&&(0,qe.q1)(n)}),[n]);return Pt("div",{className:y,style:_,onClick:O},!!+u&&!r&&Pt("div",{className:St().title,style:w},s),Pt("div",{className:b,style:S},a),Pt("div",{className:St().goodsList},v.map(((e,t)=>{var n,o;const{goodsId:i,imageUrl:s,debugInfo:a,goodsTagsNew:l,price:c,moduleId:u}=e||{},p=(null==l||null===(n=l.activityDiffGoodsCell)||void 0===n||null===(o=n.tagList)||void 0===o?void 0:o[0].text)||"";return Pt(mt,{key:"".concat(i,"_").concat(t),moduleId:u,goodsId:i,imageUrl:s,debugInfo:a,price:c,tagText:p,handleClickGoods:e=>P(e,i,u),isInV6SmallUiGrey:r})}))))},Ot=r(10578),Ct=r(44227).createElement;const It="carouse-slider-wrapper-item";class xt extends i.Component{constructor(e){super(e),this.actualChildren=void 0,this.carouseRef=i.createRef(),this.slidesInstance=void 0,this.genCarouselList=()=>{const e=[].concat((this.props.children||[]).filter((e=>e)));let t=e.slice();2===t.length&&(t=e.concat(t));return t.map(((e,t)=>Ct("div",{className:It,key:"".concat(It,"-").concat(t)},e)))},this.gotoTargetBanner=e=>{this.slidesInstance.slideTo(e)},this.actualChildren=[].concat((e.children||[]).filter((e=>e)))}componentDidMount(){const e=this.carouseRef.current;if(!e)return;const{onSlideStart:t,onSlideChange:r,curImg:n,curSlideIndex:o=0}=this.props,i=[].map.call(e.querySelectorAll(".".concat(It)),(e=>{const t=document.createDocumentFragment();return t.appendChild(e),{html:t}}));this.slidesInstance=(0,Ot.Z)(e);const s=this.slidesInstance.load(i,!0,0,null);if(s.hold(),this.gotoTargetBanner(o),s.on("slideStart",t),s.on("slideChange",(e=>r(e%this.actualChildren.length))),n){const e=new Image;e.src=n,e.onload=()=>{s.unhold()},e.onerror=()=>{s.unhold()}}}componentWillUnmount(){this.slidesInstance.destroy()}render(){var e;if(null===(e=this.actualChildren)||void 0===e||!e.length)return null;const{style:t,wrapperCls:r}=this.props;return Ct("div",{ref:this.carouseRef,className:r,style:t},this.genCarouselList())}}var Et=r(44227).createElement;const Tt="v6.1";var Dt=(0,s.observer)((function(){var e,t;l()(nt(),it());const r=(0,i.useRef)(),{mallStore:n}=(0,h.Z)(),{formatPromotionBannerList:o,mallListUiStyle:s}=n,a=null==o?void 0:o.length,[c,u]=(0,i.useState)(1),p=(null==s?void 0:s.mallHomeSubVersion)===Tt,d=p?nt().promotionWindowV2:nt().promotionWindow,f=(0,i.useCallback)((e=>{const{type:t}=e||{};switch(t){case C.oW.NewPeople:return Et(_t,{data:null==e?void 0:e.data,isInV6SmallUiGrey:p});case C.oW.Promotion:return Et(kt,{data:null==e?void 0:e.data,isInV6SmallUiGrey:p});default:return null}}),[p]);return a?1===a?f(null==o?void 0:o[0]):Et("div",{className:d},Et(xt,{wrapperCls:nt().slides,onSlideChange:e=>(u(e),null),onSlideStart:()=>null,curImg:null===(e=o[c])||void 0===e||null===(t=e.data)||void 0===t?void 0:t.bgImage,curSlideIndex:c,ref:r},o.map(((e,t)=>Et("div",{key:t},f(e))))),Et("div",{className:nt().bottomBar},o.map(((e,t)=>Et("div",{key:t,className:M()(nt().barItem,{[nt().activeBarItem]:t===c})}))))):null})),At=r(8146),Rt=r.n(At),Lt=r(44227).createElement;var Mt=(0,s.observer)((function(){var e;l()(Rt());const{mallStore:t,cartStore:r}=(0,h.Z)(),n=null==r?void 0:r.noBanner,{selectedStoreId:s,tryShowSeasonEndPopup:a,storeAccountInfo:y,scrollGoodsAnchor:b,isPromotionV6:v}=t,_=(0,i.useRef)(null),w=(null==y||null===(e=y.diffCTabList)||void 0===e?void 0:e.length)>1?u.J_:0;let S=n?f.W$:f.VI;return S+=w,(0,i.useEffect)((()=>(_.current=setInterval((()=>{a()&&window.clearInterval(_.current)}),1e3),()=>{window.clearInterval(_.current)})),[]),Lt("div",{className:Rt().root,key:s},Lt(p.l.Provider,{value:{lazy:!1}},v?Lt(Dt,null):Lt(i.Fragment,null,Lt(m.Z,null),Lt(g.Z,null)),Lt(tt.Z,null)),Lt("div",{className:Rt().moduleGap}),Lt(He,null),Lt(et,null),Lt(d.Z,{bottom:S}),Lt(c.xZ,{defaultClickHandler:b,storeId:o()(t,"currentStoreInfo.storeId"),bottomHeight:w}))}))},90313:function(e,t,r){"use strict";var n=r(44227),o=r(8492),i=r(87860),s=r(61980),a=r(36343),l=r(44227).createElement;const c=(0,s.ZP)({resolved:{},chunkName:()=>"NotificationEntry",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>r.e(5315).then(r.bind(r,41518)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 41518}}),u=(0,o.observer)((()=>{const{bottomTabStore:e,notifyStore:t}=(0,i.Gu)(),r=t.idList.length>0,o=(0,n.useCallback)((()=>{t.clear()}),[]);return e.isShoppingTabActive&&r?l(a.Z,{errorHandler:o},l(c,null)):null}));t.Z=u},90735:function(e,t,r){"use strict";var n=r(44227),o=r(8492),i=r(87860),s=r(61980),a=r(36343),l=r(44227).createElement;const c=(0,s.ZP)({resolved:{},chunkName:()=>"PopupsEntry",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>r.e(2378).then(r.bind(r,13177)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 13177}}),u=(0,o.observer)((()=>{const{bottomTabStore:e,popupStore:t}=(0,i.Gu)(),r=t.idList.length>0,o=(0,n.useCallback)((()=>{t.clear()}),[]);return e.isShoppingTabActive&&r?l(a.Z,{errorHandler:o},l(c,null)):null}));t.Z=u},24392:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});var n=r(96156),o=r(66604),i=r.n(o),s=r(44227),a=r(8492),l=r(54919);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const p=Object.values(l.DS).reduce(((e,t)=>u(u({},e),{[t]:!1})),{}),d=Object.values(l.DS).reduce(((e,t)=>u(u({},e),{[t]:{initialized:!1,timer:null,lastCountDown:0}})),{}),h=e=>{const[t,r]=(0,s.useState)(0),n=(0,s.useCallback)((()=>{var t;d[e].initialized?r(d[e].lastCountDown):(d[e]={initialized:!0,lastCountDown:0},r(0)),clearInterval(null===(t=d[e])||void 0===t?void 0:t.timer),d[e].timer=setInterval((()=>{p[e]||r((t=>(d[e].lastCountDown=t+1,d[e].lastCountDown)))}),1e3)}),[e]),o=(0,s.useCallback)(((t=!p[e])=>{p[e]=t}),[e]);return{time:t,start:n,destroy:(0,s.useCallback)((()=>{d[e]&&clearInterval(d[e].timer)}),[e]),togglePause:o}};var f=r(89421),m=r(41351),g=r(16477),y=r(83296),b=r(87860),v=r(70935);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=(0,a.observer)((()=>{const{bannerStore:e,uiStore:t,taskStore:r}=(0,b.Gu)(),{transferTaskData:n,taskTransferData:o,typeTaskList:a,clearTaskList:c,setInitTime:u,firstPauseAndScrollPauseTaskList:p,firstUnPauseAndScrollPauseTaskList:d,UnPauseTaskList:_,completeTask:S}=r,{staticBannersMap:P,updateBanner:k}=e,O=(0,s.useRef)(null),C=(0,s.useRef)(null),I=(0,s.useRef)(null),{query:x}=t,E=async e=>{const{bannerId:t,mcMissionType:r,cmtvId:n,isHideToastInfo:o,isUpdateBanner:i}=e;if(P[t]){const e=await S({mc_mission_source:x[f.Uk.McSource],mc_mission_type:r});if(null!=e&&e.data){(0,m.b0)({customTags:{event:n}}).catch(g.ZT);const{viewRemindContent:t,orderRemindContent:r}=(null==e?void 0:e.data)||{};if(!o&&(t||r)){const e=r?"\n".concat(r):"";(0,y.iY)("".concat(t).concat(e),{duration:2.5})}i&&k()}}},{time:T,start:D,destroy:A,togglePause:R}=h(l.DS.FirstPauseAndScrollPause),{time:L,start:M,destroy:Z,togglePause:j}=h(l.DS.FirstUnPauseAndScrollPause),{time:N,start:z,destroy:U}=h(l.DS.UnPause),B={[l.DS.FirstPauseAndScrollPause]:{time:T||0},[l.DS.FirstUnPauseAndScrollPause]:{time:L||0},[l.DS.UnPause]:{time:N||0}},G=[null==p?void 0:p.length,null==d?void 0:d.length,null==_?void 0:_.length],F=[B,n,u,...[T,L,N],...G];(0,s.useEffect)((()=>{Object.values(l.DS).forEach((e=>{var t;u(null===(t=B[e])||void 0===t?void 0:t.time,e),(async()=>{var t;const r=null===(t=a[e])||void 0===t?void 0:t.sort(((e,t)=>(null==e?void 0:e.priority)-(null==t?void 0:t.priority)));for await(const t of r)for await(const[r,a]of t.doDealTaskList.entries()){var n,i;if(B[e].time-(null==t?void 0:t.initTaskTime)===(null==a?void 0:a.time)&&(null===(n=l.U8[null==t?void 0:t.taskId])||void 0===n||null===(i=n[e])||void 0===i||!i[r])){var s;l.U8[null==t?void 0:t.taskId][e][r]=!0;const n={taskId:null==t?void 0:t.taskId,bannerId:null==t?void 0:t.bannerId,staticBannersMap:P[null==t?void 0:t.bannerId],bannerIdList:null==t?void 0:t.bannerIdList,startTime:null==t?void 0:t.startTime,cmtvId:null==t?void 0:t.cmtvId,initTaskTime:null==t?void 0:t.initTaskTime,mcMissionType:null==t?void 0:t.mcMissionType,priority:null==t?void 0:t.priority,taskTransferData:null==o||null===(s=o[null==t?void 0:t.taskId])||void 0===s?void 0:s[e]};var c,u;if(null!=a&&a.doTaskFnCallback)await E(n),null==a||null===(c=a.doTaskFnCallback)||void 0===c||c.call(a,n);else null==a||null===(u=a.doTask)||void 0===u||u.call(a,n)}}})()}))}),[o,E,...G]);const H=(0,s.useCallback)((e=>{const t=Object.values(l.m).map((e=>"".concat(e,"_scan_task")));[...Object.values(l.me),...t].forEach((t=>{l.U8[t][e].currentDurationTime=0}))}),[]),W=(0,s.useCallback)((()=>Object.values(l.DS).map((e=>Object.values(i()(l.U8,(t=>{var r;return null==t||null===(r=t[e])||void 0===r?void 0:r.currentDurationTime}))))).map((e=>e.filter((e=>e>0)).length))),[]),q=(0,s.useCallback)((e=>{Object.values(l.DS).forEach((t=>{const r=a[t];(null==r?void 0:r.length)>0&&r.forEach((r=>{null==e||e(w(w({},r),{},{taskType:t}))}))}))}),F),V=(0,s.useCallback)((()=>{const e=(0,y.cx)();clearTimeout(O.current),R(v.U.START),j(v.U.START),O.current=setTimeout((()=>{(0,y.cx)()===e&&(R(v.U.STOP),j(v.U.STOP))}),l.MN);const t=W();clearTimeout(C.current),C.current=setTimeout((()=>{const e=W();Object.values(l.DS).forEach(((r,n)=>{if(e[n]&&e[n]===t[n])switch(c(r),H(r),r){case l.DS.FirstPauseAndScrollPause:A();break;case l.DS.FirstUnPauseAndScrollPause:Z();break;case l.DS.UnPause:U()}}))}),l.Am)}),[R,j]);(0,s.useEffect)((()=>(window.addEventListener("scroll",V),()=>{window.removeEventListener("scroll",V),clearTimeout(null==O?void 0:O.current),clearTimeout(null==I?void 0:I.current)})),[V]);const K=(0,s.useCallback)((e=>{var t;const r=(null==e?void 0:e.startTime)-((null===(t=B[null==e?void 0:e.taskType])||void 0===t?void 0:t.time)-(null==e?void 0:e.initTaskTime));return r>0?r:0}),F);return(0,s.useEffect)((()=>{q((e=>{const t=K(e);0===t&&(l.U8[null==e?void 0:e.taskId][null==e?void 0:e.taskType].currentDurationTime+=1),n({currentShowTime:t},null==e?void 0:e.taskId,null==e?void 0:e.taskType)}))}),F),(0,s.useEffect)((()=>(a[l.DS.FirstPauseAndScrollPause].length>0&&(D(),R(v.U.STOP)),a[l.DS.FirstUnPauseAndScrollPause].length>0&&M(),a[l.DS.UnPause].length>0&&z(),()=>{A(),U(),Z()})),G),null}))},91538:function(e,t,r){"use strict";var n=r(7739),o=r.n(n),i=r(44227),s=r(8492),a=r(87860);t.Z=(0,s.observer)((()=>{const{bannerStore:e,taskStore:t,uiStore:r}=(0,a.Gu)(),{staticBannersMap:n}=e,{registerTaskItem:s,unRegisterTaskItem:l}=t,c=[].filter((e=>n[e.bannerId]&&e.isRegistryFlag({uiStore:r,leoConfig:r.leoConfig,staticBannersMap:n[e.bannerId]})));return(0,i.useEffect)((()=>(c.forEach((e=>{const{taskId:t,endTime:r,priority:n,startTime:o,bannerId:i,mcMissionType:a,cmtvId:l,taskType:c,afterNextFunc:u}=e;s({taskId:t,bannerId:i,startTime:o,cmtvId:l,mcMissionType:a,priority:n,doDealTaskList:[{time:r,doTaskFnCallback:()=>{u()}}]},c)})),()=>{Object.keys(o()(c,(e=>e.taskType))).forEach((e=>{l(c.map((e=>e.taskId)),e)}))})),[c,s,l]),null}))},53015:function(e,t,r){"use strict";let n,o,i;r.d(t,{_r:function(){return n},Cv:function(){return o},Cy:function(){return i},Q_:function(){return s},Xs:function(){return a}}),function(e){e.waitJoinActivity="wait_join_activity",e.activityCountDown="activity_count_down",e.waitWithdrawFirst="wait_withdraw_first",e.waitWithdrawSecond="wait_withdraw_second",e.canWithdrawFirst="can_withdraw_first",e.canWithdrawSecond="can_withdraw_second"}(n||(n={})),function(e){e[e.HAS_FINISHED=1]="HAS_FINISHED",e[e.HAS_GOT=2]="HAS_GOT",e[e.CAN_GET=3]="CAN_GET"}(o||(o={})),function(e){e.Success="success",e.Fail="fail",e.NotEnough="not_enough"}(i||(i={}));const s={[n.waitWithdrawFirst]:"明日提现",[n.waitWithdrawSecond]:"明日提现",[n.canWithdrawFirst]:"立即提现",[n.canWithdrawSecond]:"立即提现"},a=[n.canWithdrawFirst,n.canWithdrawSecond]},72054:function(e,t,r){"use strict";let n,o,i;r.d(t,{ZE:function(){return n},lh:function(){return o},gF:function(){return i},pb:function(){return a},op:function(){return l}}),function(e){e[e.CanDraw=0]="CanDraw",e[e.HasDraw=1]="HasDraw",e[e.Completed=3]="Completed",e[e.CanTake=4]="CanTake",e[e.HasTaken=5]="HasTaken"}(n||(n={})),function(e){e[e.NoThresholdFixed=1]="NoThresholdFixed",e[e.NoThresholdMax=2]="NoThresholdMax",e[e.NoThresholdFull=3]="NoThresholdFull",e[e.ThresholdFull=4]="ThresholdFull"}(o||(o={})),function(e){e[e.RemitIng=0]="RemitIng",e[e.Success=1]="Success",e[e.Failed=2]="Failed",e[e.DuoDuoSuccess=3]="DuoDuoSuccess",e[e.HasRisk=4]="HasRisk"}(i||(i={}));const s={title:"由于您的微信支付账号异常，打款失败",text:"请联系拼多多官方客服处理",confirmButtonLabel:"知道了"},a={[i.RemitIng]:{des:"微信打款中"},[i.Success]:{des:"已到账"},[i.Failed]:{des:"打款失败",confirmConfig:s},[i.DuoDuoSuccess]:{des:"已到账",confirmConfig:{title:"由于您的微信支付账号异常，已为您重新打款至多多钱包",text:"拼多多App﹣个人中心﹣多多钱包可查看",confirmButtonLabel:"知道了"}},[i.HasRisk]:{des:"打款失败",confirmConfig:s}};let l;!function(e){e[e.PopupImpr=1]="PopupImpr",e[e.RefundToast=2]="RefundToast"}(l||(l={}))},18131:function(e,t,r){"use strict";r.d(t,{G:function(){return h}});var n=r(96156),o=r(81253),i=(r(44227),r(42994)),s=r(61980),a=r(87860),l=r(54919),c=r(20758),u=r(44227).createElement;function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const d=e=>{const{mallStore:t}=(0,a.Gu)();return(0,i.Z)((()=>()=>{(0,c.z)((()=>{t.$bus.emit(l.H3.LOADABLE_COMPONENT_LOADED,e)}))})),null},h=(e,t={})=>{let{fallback:r}=t,i=(0,o.Z)(t,["fallback"]);return(0,s.ZP)(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({fallback:r||u(d,i)},i))}},95965:function(e,t,r){"use strict";r.d(t,{GZ:function(){return h},M0:function(){return f},lK:function(){return m}});var n=r(96156),o=r(81253),i=r(23560),s=r.n(i),a=r(44227),l=r(87860),c=r(55602);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const d=(e,t)=>{let{key:r,dealTime:n,dealFn:i,endTaskFn:u,type:d}=e,h=(0,o.Z)(e,["key","dealTime","dealFn","endTaskFn","type"]);const{timeTaskStore:f}=(0,l.Gu)(),{register:m,unRegister:g}=f,y=(0,a.useRef)(n),b=(0,a.useCallback)((({dealTime:e})=>y.current=e),[]),v=(0,a.useMemo)((()=>(0,c.Pc)(i,[b])),[i,b]),_=(0,a.useCallback)((()=>g(r,{dealFn:v,endTaskFn:u})),[v,u]),w=(0,a.useCallback)((()=>{y.current=n,_()}),[_]),S=(0,a.useMemo)((()=>s()(t)?t():null==t||t),[t]);return(0,a.useEffect)((()=>(S?m(p({key:r,dealTime:y.current,dealFn:v,endTaskFn:u,type:d},h)):_(),_)),[S,v,u,_]),w},h=(e,t)=>d(p(p({},e),{},{type:c.AQ.RelativeUnScrollPause}),t),f=(e,t)=>d(p(p({},e),{},{type:c.AQ.RelativeUnPause}),t),m=(e,t)=>d(p(p({},e),{},{type:c.AQ.UnPause}),t)},87860:function(e,t,r){"use strict";r.d(t,{RW:function(){return b},tB:function(){return v},Ly:function(){return _},Gu:function(){return w},d7:function(){return S},GO:function(){return P},MU:function(){return k},Cl:function(){return O},mA:function(){return C},zc:function(){return I},Z:function(){return x},HT:function(){return E},U_:function(){return T}});var n=r(41106),o=r.n(n),i=r(71640),s=r.n(i),a=r(54919),l=r(89421),c=r(3530),u=r(89347),p=r(83228),d=r(99124),h=r(8946),f=r(54859),m=(r(4830),r(445)),g=r(81249),y=r(52292);const b=(e,t)=>{var r;return null!==(r=Object.keys(t))&&void 0!==r&&r.length?(e||[]).map((e=>({title:(0,f.qt)(null==e?void 0:e.title)?e.title.map((e=>{var r;return null===(r=o()(e))||void 0===r?void 0:r(t)})):null==e?void 0:e.title,content:(0,f.qt)(null==e?void 0:e.content)?e.content.map((e=>{var r;return null===(r=o()(e))||void 0===r?void 0:r(t)})):null==e?void 0:e.content}))):e},v=async e=>{const t=await(null==e?void 0:e(y.Vt.ShakingPacket));return b(t,{})},_=e=>{const t=null!=e&&e[l.Uk.McMissionId]?(e[l.Uk.McMissionId]||"").split(","):[],r={mc_mission_list:[{mc_mission_source:null==e?void 0:e[l.Uk.McSource],mc_missions:((null==e?void 0:e[l.Uk.McMissionType])||"").split(",").map(((e,r)=>({mc_mission_type:e,mc_mission_id:t.length<=r?null:t[r]})))}]},n={query_store_id:null==e?void 0:e[l.Uk.StoreId]},o={biz:a.$Z.MallListLanding,ext:Object.assign({},null!=e&&e[l.Uk.McSource]?r:{},null!=e&&e[l.Uk.StoreId]?n:{})},i={banner_biz:a.$Z.MallListLanding,banner_ext:Object.assign({},null!=e&&e[l.Uk.McSource]?r:{})},s={timeline_biz:a.$Z.MallListLanding,timeline_ext:Object.assign({},null!=e&&e[l.Uk.McSource]?r:{})},c={mc_mission_source:null==e?void 0:e[l.Uk.McSource],mc_missions:null==e?void 0:e[l.Uk.McMissionType]};return{mallListReferBizScene:null==e?void 0:e[l.Uk.TrafficSource],backendPopupQuery:o,backendBannerQuery:i,backendMcTimeLineQuery:s,tagAttrMap:c}},w=()=>(0,h.Z)(),S=e=>{const t=parseInt(e,10)||0;if(t<9999)return t.toString();if(t<=99999){const e=Math.floor(t/1e3);return e%10>0?"".concat(Math.floor(e/10),".").concat(e%10,"万"):"".concat(Math.floor(e/10),"万")}return"".concat(Math.floor(t/1e4),"万")},P=(e,t)=>{let r=0,n=Date.now(),o=null;const i=()=>{r=Date.now(),r-n>t&&(n=r,e()),o=requestAnimationFrame(i)};return i(),o},k=e=>{cancelAnimationFrame(e)},O=(e,t=!1,r=0)=>{const n=+e[l.Uk.GoodsId],o=s()(e[l.Uk.GoodsList],",").map((e=>parseInt(e,10))).filter((e=>e>0)),i=n>0?n:void 0;return(Array.isArray(o)&&o.length>0?t?o:null==o?void 0:o[r]:null)||(t&&i?[i]:i)||null},C=(e,t,r)=>{const n=[a.$u.Completed,a.$u.HasTaken].includes(e);return t||n?r:r-1},I=async e=>{const{showSuccessToast:t,onFailCallback:r,guideType:n}=e||{};(0,d.e0)({op:"impr",page_el_sn:"4361585"});const o=await(0,p.Xh)(n||p.mz.VgtPopupGuideNew);null!=o&&o.actionExecuted?((0,d.e0)({op:"click",page_el_sn:"4361585"}),t&&(0,u.Z)("已成功添加多多买菜至桌面")):r?r(o):c.ZP.back()},x=e=>{var t;const r=(null==e||null===(t=e.response)||void 0===t?void 0:t.data)||{};return{result:null,errorCode:null==r?void 0:r.error_code,errorMsg:null==r?void 0:r.error_msg}};function E(e,t,r){(0,m.zT)().isNativePlatform&&(0,g.callNative)("JSHardwareControl","setShakeAction",{receiver:e},t,r)}function T(e,t){(0,m.zT)().isNativePlatform&&(0,g.callNative)("JSHardwareControl","removeShakeAction",{},e,t)}},77091:function(e,t,r){"use strict";let n;r.d(t,{jl:function(){return n},CQ:function(){return o},Fk:function(){return i},K_:function(){return s}}),function(e){e[e.QuadrupleItem=4]="QuadrupleItem",e[e.PentupleItem=5]="PentupleItem"}(n||(n={}));const o={PiggyBank:"mll_lucky_bag_entrance",AssistCheckout:"mll_entrance_invite_for_cash",DailyCoupon:"mll_entrance_daily_coupon"};let i;!function(e){e.BANNER_BADGE_CLICK_SCENE="mall_list_landing_activity_entrance_badge_click",e.BANNER_GIF_ICON_IMPR_SCENE="mall_list_landing_activity_entrance_gif_impr"}(i||(i={}));const s={RedDot:"red_dot",RoundBubble:"round_bubble",DynamicBubble:"dynamic_bubble"}},38925:function(e,t,r){"use strict";r.d(t,{Z:function(){return B}});var n=r(44227),o=r(98249),i=r.n(o),s=r(8492),a=r(96156),l=r(27361),c=r.n(l),u=r(23493),p=r.n(u),d=r(21553),h=r(77091),f=r(60009),m=r(64091),g=r(42994),y=r(40750),b=r(94184),v=r.n(b),_=r(50411),w=r.n(_),S=r(44227).createElement;const P={Big:60,Small:48};var k=(0,s.observer)((e=>{i()(w());const{badgeType:t,badgeText:r,badgeUrl:n}=(null==e?void 0:e.badgeData)||{},[o,s]=e.isInGrey?[w().tagImageV6,P.Small]:[w().tagImage,P.Big];return S("div",{className:v()({[w().tagContent]:t===h.K_.RoundBubble,[w().tagDot]:t===h.K_.RedDot,[w().tagDotV2]:e.isInGrey&&t===h.K_.RedDot,[w().tagBubble]:!e.isInGrey&&t===h.K_.DynamicBubble,[w().tagContentV2]:e.isInGrey&&[h.K_.DynamicBubble,h.K_.RoundBubble].includes(t)})},t===h.K_.RoundBubble&&r,t===h.K_.DynamicBubble&&S(y.Z,{className:o,resizeWidth:s,src:n,lazy:!1}))})),O=r(79075),C=r(23969),I=r.n(C),x=r(44227).createElement;var E=(0,s.observer)((e=>{i()(I());const{bannerData:t,tagItem:r}=e,{titleV1:n="",bannerIcon:o}=t||{};return x("div",{className:I().fourItemEntry},r,x("div",{className:I().pickTxt},n),x(y.Z,{src:o,className:I().icon}))})),T=r(50247),D=r.n(T),A=r(44227).createElement;var R=(0,s.observer)((e=>{i()(D());const{bannerIcon:t,bannerGifIcon:r,titleText:n,tagItem:o,itemClass:s}=e;return A("div",{className:v()(D().multiEntry,s)},A("div",{className:D().multiIcon},o,A("div",{className:v()(D().multiImg,{[D().multiImgRadius]:!!r})},A(y.Z,{className:D().multiImg,resizeWidth:153,src:r||t,lazy:!1}))),A("div",{className:D().multiTitle},A("span",{className:D().multiTitleText},n)))})),L=r(44227).createElement;function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=(0,s.observer)((e=>{const[t,r]=(0,n.useState)(!0),{bannerId:o,selectIdList:i,bannerCount:s,bannerData:a,bannerClickFn:l,logInfo:u,itemClass:y,isInGrey:b}=e,{title:v,bannerIcon:_,bannerGifIcon:w,jumpUrl:S,badgeData:P,badgePayload:C}=a||{},I=c()(v,"displayItems[0].text",""),x=Z(Z({banner_count:s,banner_id:o,badge_type:null==P?void 0:P.badgeType,badge_text:null==P?void 0:P.badgeText},C||{}),u||{}),T=(0,n.useMemo)((()=>t&&!w&&!(null!=i&&i.includes(o))&&((null==P?void 0:P.badgeType)===h.K_.RedDot||(null==P?void 0:P.badgeType)===h.K_.RoundBubble&&(null==P?void 0:P.badgeText)||(null==P?void 0:P.badgeType)===h.K_.DynamicBubble&&(null==P?void 0:P.badgeUrl))),[t,i,P,o,w]),D=(0,n.useRef)(null),A=(0,n.useCallback)((async(e,t)=>{D.current||(D.current=new m.b((0,f.Wv)())),await D.current.postRisk("/api/mc/v0/apricot/trace_report",{payload:e,scene:t},{defaultErrorHandler:()=>null}).catch((()=>{}))}),[]);(0,g.Z)((()=>{w&&A({banner_id:o},h.Fk.BANNER_GIF_ICON_IMPR_SCENE)}));const M=(0,n.useCallback)(p()((async()=>{null==l||l({bannerId:o,tagVisible:T}),T&&(await A(C,h.Fk.BANNER_BADGE_CLICK_SCENE),r(!1)),(0,O.o)(o,S)}),300,{trailing:!1}),[o,S,l,T,w,C,A]),j=(0,n.useMemo)((()=>T?L(k,{bannerId:o,badgeData:P,isInGrey:b}):null),[P,o,T,b]),N=(0,n.useMemo)((()=>b?L(E,{tagItem:j,bannerData:a,bannerId:o}):L(R,{tagItem:j,bannerGifIcon:w,bannerIcon:_,titleText:I,itemClass:y})),[b,y,j,w,_,I,a,o]);return L(d.Z,{log:x,onClick:M,impr:!0},N)})),N=r(69562),z=r.n(N),U=r(44227).createElement;var B=(0,s.observer)((e=>{i()(z());const{entryList:t=[],wrapClass:r,logInfo:n,bannerClickFn:o,itemClass:s,isPromotionV6:a=!1}=e,[l]=(0,O.h)(),c=t.length>=h.jl.QuadrupleItem?t.slice(0,a?h.jl.QuadrupleItem:h.jl.PentupleItem):t;return t.length<h.jl.QuadrupleItem?null:U("div",{className:v()(z().wrapper,r)},c.map((e=>U(j,{key:null==e?void 0:e.bannerId,logInfo:n,bannerClickFn:o,bannerData:null==e?void 0:e.bannerData,bannerId:null==e?void 0:e.bannerId,bannerCount:null==c?void 0:c.length,selectIdList:l,itemClass:s,isInGrey:a}))))}))},79075:function(e,t,r){"use strict";r.d(t,{h:function(){return p},o:function(){return d}});var n=r(44227),o=r(67421),i=r(7991),s=r(54859),a=r(42994),l=r(57805),c=r(77091);const{DdmcWaistBannerUpdated:u}=i._E;function p(){const e=(0,n.useRef)(null),[t,r]=(0,n.useState)([]),i=(0,n.useCallback)(((e,t)=>{(0,s.tY)()&&t&&(0,o.lW)(u,{bannerId:e})}),[]);return(0,a.Z)((()=>((0,s.tY)()&&(0,o.rB)(u,(e=>{const{bannerId:n}=e||{};t.push(n),r([...t])})).then((t=>{e.current=t})),()=>{var t;null==e||null===(t=e.current)||void 0===t||t.call(e)}))),[t,i]}function d(e,t){return c.CQ.DailyCoupon,(0,l.q1)(t)}},34058:function(e,t,r){"use strict";r.d(t,{Sf:function(){return f},lr:function(){return g},ZP:function(){return R},Ec:function(){return D},Qs:function(){return T}});var n=r(22122),o=r(81253),i=r(69983),s=r.n(i),a=r(44227),l=r(99124),c=r(96156),u=r(98249),p=r.n(u),d=r(2242),h=r(83296);let f,m;!function(e){e.FontPage="front_page",e.GoodsDetail="goods_detail",e.LuckyBag="lucky_bag"}(f||(f={})),function(e){e[e.Avatar=1]="Avatar",e[e.GoodsThumbUrl=2]="GoodsThumbUrl"}(m||(m={}));const g=[{image:(0,h.Yo)("2020-11-01/d043481a-7701-4063-831c-0432f4af520c"),text:"张凤英 1秒前下单成功！"},{image:(0,h.Yo)("2020-11-01/323ec3ec-6db8-4e1d-9fb8-e00463d85b5e"),text:"王春兰超市小号 累计买菜省钱49.7元"},{image:(0,h.Yo)("2020-11-01/09170499-d2f1-49f9-a3ab-d175295765bb"),text:"上善若水 1秒前加入商品到购物车中"}];var y=r(82100),b=r.n(y),v=r(44227).createElement;function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const S=async(e,t)=>{await new Promise((r=>{t.current=setTimeout((()=>{clearTimeout(t.current),r(!0)}),e)}))};var P=function({offsetTop:e,barrageList:t,barrageOpacity:r=1,animationTimes:n,boxStyle:o={},initOpacity:i=.7,startAniCb:s,endAniCb:l}){p()(b());const[c,u]=(0,a.useState)(0),[h,f]=(0,a.useState)(0),[g,y]=(0,a.useState)(""),_=(0,a.useRef)(null),P=(0,a.useRef)(null),k=(0,a.useRef)(null);(0,a.useEffect)((()=>{u(i)}),[i]),(0,a.useEffect)((()=>{(async()=>{null==s||s(),y("rgba(0,0,0,".concat(i,")")),u(1),await S((null==n?void 0:n.continue)||2100,_),u(i),y(""),await S(100,P),u(0),await S((null==n?void 0:n.disappear)||7e3,k),null==l||l();const e=(null==t?void 0:t.length)||10;f((h+1)%e),u(i)})()}),[h,s,l]),(0,a.useEffect)((()=>()=>{(null==_?void 0:_.current)&&clearTimeout(_.current),(null==k?void 0:k.current)&&clearTimeout(k.current),(null==P?void 0:P.current)&&clearTimeout(P.current)}),[]);const O=(0,a.useMemo)((()=>{var e;return null==t||null===(e=t[h+1])||void 0===e?void 0:e.image}),[t,h]),{image:C,text:I,boxClx:x,imageClx:E}=(0,a.useMemo)((()=>{const{image:e="",text:r="",renderType:n}=(null==t?void 0:t[h])||{},[o,i]=n===m.GoodsThumbUrl?[b().goodsBox,b().goodsImage]:[b().box,b().avatar];return{image:e,text:r,renderType:n,boxClx:o,imageClx:i}}),[t,h]),T=(0,a.useMemo)((()=>Math.min(r,c)),[r,c]);return v("div",{className:x,style:w({opacity:T,top:e,background:g},o)},v(d.Z,{src:C,className:E}),!!O&&v(d.Z,{src:O,className:b().hiddenNextPreloadImage}),v("div",{className:b().text},I))},k=r(78306),O=r(64663),C=r(42009),I=r(4874);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const T=e=>{const t=(0,a.useContext)(C.Z).navigationHeight||0;return"calc(".concat(e,"rem + ").concat(t,"px)")},D=e=>{const t=[],r=[];return null!=e&&e.length&&e.forEach((e=>{(null==e?void 0:e.renderType)===m.GoodsThumbUrl?null!=e&&e.thumbUrl&&null!=e&&e.text&&t.push(E({image:(0,I.F)(e.thumbUrl,{resizeWidth:100})},e)):null!=e&&e.avatar&&(null!=e&&e.text&&t.push(E({image:e.avatar},e)),null!=e&&e.topText&&r.push(E(E({},e),{},{image:e.avatar,text:e.topText})))})),{blackBarrage:t,navbarBarrage:r}};var A=r(44227).createElement;var R=e=>{const[t,r]=(0,a.useState)([]),[i,c]=(0,a.useState)(!1),{defaultList:u,fetchData:p}=e,d=(0,o.Z)(e,["defaultList","fetchData"]);return(0,a.useEffect)((()=>{(async()=>{var e,t;if(!p)return;await(0,l.gw)(2e3);const n=await p();let o=(null==n?void 0:n.blackBarrage)||[];if(null===(e=o)||void 0===e||!e.length){if(!u)return;o=s()(u)}var i;(o=1===o.length?o.concat(o):o,r(o),null!==(t=o[0])&&void 0!==t&&t.image)&&function(e){try{(0,k.a)([e],{ignoreCompress:!0})}catch(e){(0,O.Pr)(e)}}(null===(i=o[0])||void 0===i?void 0:i.image);await(0,l.gw)(1e3),c(!0)})()}),[u,p]),null!=t&&t.length&&i&&i?A(P,(0,n.Z)({barrageList:t},d)):null}},84947:function(e,t,r){"use strict";var n=r(1469),o=r.n(n),i=r(27361),s=r.n(i),a=r(30236),l=r.n(a),c=r(44227),u=r(8492),p=r(88237),d=r(3530),h=r(54859),f=r(41351),m=r(5535),g=r(8946),y=r(63931);const b=(e,t)=>{const{bottomTabStore:r}=(0,g.Z)(),n=(0,c.useRef)(null),i=(0,c.useRef)(null),{backList:a,scene:u,options:b,extraCallback:v}=e,{requestBackPopupAndShow:_,show:w,limitBackNumber:S,isPopupDisplay:P,hide:k}=b||{},O=(0,c.useRef)(Number(S)||1e3),C=a.filter((e=>(e.isShowBackFlag||(()=>!0))())).map((e=>e.backParams)),I=C.length>0?C.reduce(((e,t)=>l()(e,t,((e,t)=>e&&o()(t)?e.concat(t):void 0)))):void 0,x=(0,c.useCallback)((async()=>{var e;const{currentTab:t,showBottomTab:o}=r||{};if(o&&[y.T.Captain,y.T.captainPersonal].includes(t))return void r.switchTab(y.T.Shopping);if(P)return void k();if(!O.current)return d.ZP.back();if(null!=b&&b.beforeHide&&(null==b||null===(e=b.beforeHide)||void 0===e||!e.call(b)))return;if(!I)return d.ZP.back();if(n.current)return;n.current=!0,(0,m.$Z)(),i.current=setTimeout((()=>(0,m.Cp)()),500);const l=await _({scene:u,extra:I});(0,m.Cp)();const c=s()(l,"data.extra");null==v||v(c);const p=s()(l,"data.popupId"),h=a.find((e=>e.backPopupId===p));if(!h)return d.ZP.back();var g;h.cmtvLogBackId&&(0,f.bs)(h.cmtvLogBackId),null===(g=h.backDealFunc)||void 0===g||g.call(h,l),h.skipPopupShow||(null==w||w(p,null==l?void 0:l.data),O.current-=1),n.current=!1}),[r,P,b,I,_,u,v,a,k,w]);return(0,c.useImperativeHandle)(t,(()=>({clickBackCallback:async()=>x()}))),(0,c.useEffect)((()=>((0,h.tY)()&&(0,p.z2)({callback:x}),()=>{clearTimeout(i.current)})),[x]),null};t.Z=(0,u.observer)(c.forwardRef(b))},72266:function(e,t,r){"use strict";let n;r.d(t,{$:function(){return n}}),function(e){e.MC_SHARE="mc_share",e.MallListLanding="mall_list_landing",e.PayCompleteLanding="pay_complete_landing",e.WaterBoostLanding="water_boost_landing"}(n||(n={}))},94454:function(e,t,r){"use strict";r.d(t,{Om:function(){return o},jh:function(){return i},J_:function(){return s},HB:function(){return a}});var n=r(63931);const o={[n.T.Captain]:"tcap_",[n.T.captainPersonal]:"tcapmine_"},i={[n.T.Shopping]:{id:n.T.Shopping,label:"购物",icon:"iconShopping",pageElSn:"6096335"},[n.T.Captain]:{id:n.T.Captain,label:"分享赚钱",icon:"iconMoney",pageElSn:"6096336",badgePageElSn:"5335984"},[n.T.captainPersonal]:{id:n.T.captainPersonal,label:"门店管理",icon:"iconPersonal",pageElSn:"6096337"}},s=.49,a={Guest:0,StoreOwner:1,Saleman:2,StoreManager:3}},28927:function(e,t,r){"use strict";var n=r(61980),o=r(8492),i=r(44227),s=r(8946),a=r(44227).createElement;const l=(0,n.ZP)({resolved:{},chunkName:()=>"vgt_captain_mall",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:async()=>Promise.all([r.e(4768),r.e(8565)]).then(r.bind(r,69502)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 69502}}),c=()=>{const{bottomTabStore:e}=(0,s.Z)(),{showBottomTab:t}=e;return t?a(l,null):null};t.Z=(0,o.observer)(c)},70655:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n,o=r(96156),i=r(3473),s=r(27361),a=r.n(s),l=r(88572),c=r(41351),u=r(99124),p=r(14268),d=r(64663),h=r(64091),f=r(16477),m=r(2633),g=r(40688);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const v=[40001,54001];let _=(n=class extends h.b{constructor(...e){super(...e),this.getSoldOutSimilarGoods=async({storeId:e,listId:t,mainGoodsId:r,sceneFromPxq:n})=>{try{const o=await this.postRisk("/api/mc/v0/goods_rank/channel_similar_goods",{store_id:e,list_id:t,main_goods_id:r},{defaultErrorHandler:()=>{}}),{goodsList:i}=o||{};return null!=i&&i.length?{popupPageElSn:5544981,popupPageSection:n?m.S.OutRange:m.S.SoldOutRec,popupHeaderItems:[{text:n?"商品无法配送，推荐购买相似商品":"该商品补货中，看看相似商品",fontWeight:700,textType:0,marginLeft:0,displayType:0,fontSize:17,fontColor:"#ffffff"}],goodsList:i||[]}:null}catch(e){return null}},this.getAddonsGoodsRec=async e=>{const{tabId:t,scene:r,storeId:n,goodsId:o,limit:i,banGoodsList:s,cartExtMap:a,offset:l=0,listId:c}=e||{};if(!n)return null;try{var u;const e=await this.postRisk("/api/mc/v0/alexa/detail_i2i_rec",{offset:l,tab_id:t||"",list_id:c,limit:i||20,store_id:n,base_goods_id_list:o?[o]:[],ban_goods_list:s,cart_ext_map:a,i2i_scene:r||"detail"},{defaultErrorHandler:()=>{}});return null!=e&&null!==(u=e.moduleData)&&void 0!==u&&u.length?e:null}catch(e){return null}},this.getAfterAddRec=async e=>{const{storeId:t,banGoodsList:r,topGoodsList:n,cartExtMap:o,offset:i=0,limit:s,listId:a,hasPriceTab:l,tabId:c}=e||{};if(!t)return null;try{var u;const e=await this.postRisk("/api/mc/v0/alexa/front_page_i2i_rec",{offset:i,list_id:a,size:20,limit:s||20,store_id:t,ban_goods_list:r,top_goods_list:n,cart_ext_map:o,i2i_scene:"pagelist",has_price_tab:l,tab_id:c},{defaultErrorHandler:()=>{}});return null!=e&&null!==(u=e.moduleData)&&void 0!==u&&u.length?e:null}catch(e){return null}},this.getOrderAssistantFirstPage=async e=>{const{storeId:t,cartExtMap:r,listId:n}=e||{};if(!t)return null;try{const e=await this.postRisk("/api/mc/v0/goods_rank/order_assistant/query_first_page",{list_id:n,count:6,store_id:t,cart_ext_map:r},{defaultErrorHandler:f.ZT}),{success:o,tabList:i}=e||{};return o&&null!=i&&i.length?e:null}catch(e){return null}},this.getOrderAssistantGoods=async e=>{const{storeId:t,cartExtMap:r,offset:n,listId:o,activityId:i,poolCouponActivityId:s,groupType:a,maxPrice:l,minPrice:c}=e||{};if(!t)return null;try{return await this.postRisk("/api/mc/v0/goods_rank/order_assistant/query_goods",{activity_id:i,pool_coupon_activity_id:s,group_type:a,max_price:l,min_price:c,offset:n,list_id:o,count:6,store_id:t,cart_ext_map:r},{defaultErrorHandler:f.ZT})}catch(e){return null}},this.getPopupCouponRec=async({storeId:e,cartExtMap:t})=>{try{var r;const n=await this.postRisk("/api/mc/v0/alexa/front_page_i2i_rec",{store_id:e,cart_ext_map:t},{defaultErrorHandler:()=>{}});return null!=n&&null!==(r=n.moduleData)&&void 0!==r&&r.length?{activityId:null==n?void 0:n.activityId,popupHeaderItems:null==n?void 0:n.popupHeaderItems,goodsList:null==n?void 0:n.moduleData}:null}catch(e){return null}},this.getFlashAddonPopupData=async e=>await this.postRisk("/api/mc/v0/mc_goods/time_limited_gifts",(0,p.D1)(e),{defaultErrorHandler:()=>{}})}async getCoupon({storeId:e,topCouponIdList:t,topWalletPromotionSeasonIdList:r,topPromotionActivityIdList:n}){return this.postRisk("/api/mc/v0/scallion/coupon_list",{store_id:e,top_wallet_promotion_season_id_list:r,top_promotion_activity_id_list:n,top_coupon_id_list:t}).catch(f.ZT)}async getMultiSkuPopup({storeId:e,goodsId:t,mcSaleId:r,pfreshId:n}){return this.postRisk("/api/mc/v0/goods_render/multi_sku/query_multi_sku_info",{store_id:e,goods_id:t,mc_sale_id:r,pfresh_id:n},{defaultErrorHandler:f.ZT}).catch((e=>({success:!1,toast:e.errorMsg})))}async compressCartGoodsList({orderGoodsList:e=[]}={}){return this.postRisk("/api/mc/v0/order/strawberry/compress_goods_list",{order_goods_list:e}).then((e=>({success:a()(e,"success"),key:a()(e,"result")}))).catch((e=>this.formatError(e)))}async subscribeSpikeGoods(e){const{goodsId:t,mcSaleId:r,subscribe:n,storeId:o,startTime:i,isAppPush:s}=e||{},a={goods_id:t,mc_sale_id:r,store_id:o,operate_type:n,start_ts:i};return s&&(a.is_app_push=s),this.postRisk("/api/mc/mc_goods/spike_subscribe",a,{defaultErrorHandler:()=>{}})}async subscribeForbidPush(){return this.postRisk("/api/mc/v1/msg_app/add_user_sub",{scene:"newsemester_promotion_subscribe"},{defaultErrorHandler:()=>{}})}async subscribeGoods(e){const{goodsId:t,mcSaleId:r,subscribeType:n,storeId:o}=e||{};return this.postRisk("/api/mc/v0/goods/subscribe",{goods_id:t,mc_sale_id:r,subscribe_type:n,store_id:o},{defaultErrorHandler:()=>{}})}formatBanner(e){const{bannerInfo:t}=e||{};if(!t)return null;const r=e=>{e=e||{};const{fontSize:t}=e;return b(b({},e),{},{fontSize:t||12})};return{bgColor:a()(t,"promptDisplayResult.bgColor"),link:a()(t,"promptDisplayResult.discountVO.link"),richTextList:(a()(t,"promptDisplayResult.discountVO.displayItems")||[]).map(r),subRichTextList:(a()(t,"promptDisplayResult.discountVO.subDisplayItems")||[]).map(r)}}async imprBubble({markId:e,type:t,location:r,locationSubId:n}){return(0,u.e0)({op:"impr",page_el_sn:6071189,mark_id:e,type:t}),this.postRisk("/api/mc/v0/scallion/mark",{mark_id:e,type:t,location:r,location_sub_id:n},{defaultErrorHandler:()=>null}).catch((()=>({})))}toCamelErrResponse(e,t){var r;let n=null==e||null===(r=e.response)||void 0===r?void 0:r.data;return n&&(n=e.response.data=(0,p.fZ)(n,t||["cart_ext_map"])),n}formatError(e){const t=this.toCamelErrResponse(e);null!=e&&e.errorCode||((0,d.eK)({page:"cart_format_error",payload:{logStack:JSON.stringify(e.stack)},page_url:location.href}),(0,c.b0)({customTags:{event:"cart_format_error"}}));let r=a()(t,"errorPayload.viewObject.title")||a()(e,"message");return"api_biz_error"!==a()(e,"errorType")&&(r=g.u5),v.includes(+a()(e,"errorCode"))&&(r=""),{success:!1,toast:r}}async getRankData({storeId:e,rankType:t,extendMap:r}){return e?this.postRisk("/api/mc/v0/rank/sub_page",{store_id:e,rank_type:t,extend_map:r},{defaultErrorHandler:()=>null}).catch((()=>({}))):{}}async getCombineGoodsData(e){const{goodsList:t,storeId:r}=e||{};return this.postRisk("/api/mc/v0/goods_render/combination/query_combination_goods_info",{store_id:r,goods_list:t},{defaultErrorHandler:()=>null}).catch((()=>({})))}},(0,i.Z)(n.prototype,"formatError",[l.ZP],Object.getOwnPropertyDescriptor(n.prototype,"formatError"),n.prototype),n)},5476:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var n=r(96156),o=r(3473),i=r(78718),s=r.n(i),a=r(27361),l=r.n(a),c=r(88572),u=r(41351),p=r(14268),d=r(64663),h=r(64091),f=r(56141),m=r(89421);let g;!function(e){e.Toast="toast",e.ReplaceGoods="replaceGoods"}(g||(g={}));var y,b=r(40688),v=r(1282);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const S=[40001,54001];let P=(y=class extends h.b{async getCart({storeId:e,guideActivityType:t,walletPromotionSeasonId:r,extendMap:n,cartAttrMap:o,manageExtMap:i,formatOptions:s,skeleton:a}){return this.postRisk("/api/mc/v1/scallion/query_fresh_cart",{store_id:e,guide_activity_type:t,wallet_promotion_season_id:r,cart_attr_map:o,manage_ext_map:i,skeleton:a,[m.Uk.extendMap]:n}).then((e=>this.formatCartData(e,s))).catch((e=>this.formatError(e)))}async addGoods(e){const{storeId:t,mcSaleId:r,goodsId:n,skuId:o,cartExtMap:i,extendMap:s,cartAttrMap:a,manageExtMap:l,formatOptions:c,skeleton:u}=e;return this.postRisk("/api/mc/v1/scallion/add_goods",{store_id:t,goods_id:n,mc_sale_id:r,sku_id:o,cart_ext_map:i,cart_attr_map:a,manage_ext_map:l,skeleton:u,[m.Uk.extendMap]:s}).then((e=>this.formatCartData(e,c))).catch((async t=>{var r,n;const o=(null===(r=this.toCamelErrResponse(t))||void 0===r?void 0:r.errorPayload)||{},{viewStyle:i,viewObject:s}=o,a=null==s||null===(n=s.from)||void 0===n?void 0:n.skuId;if(i===g.ReplaceGoods&&a){return await(0,f.Yp)(s,(async()=>{var t,r;return this.replaceGoods(w(w({},e),{},{fromSkuId:a,fromGoodsId:null==s||null===(t=s.from)||void 0===t?void 0:t.goodsId,fromMcSaleId:null==s||null===(r=s.from)||void 0===r?void 0:r.mcSaleId}))}))}return this.formatError(t)}))}async replaceGoods({goodsId:e,mcSaleId:t,skuId:r,fromGoodsId:n,fromMcSaleId:o,fromSkuId:i,storeId:s,cartAttrMap:a,cartExtMap:l,extendMap:c,manageExtMap:u,skeleton:p}){return this.postRisk("/api/mc/v1/scallion/replace_goods",{store_id:s,goods_id:e,mc_sale_id:t,sku_id:r,from_goods_id:n,from_mc_sale_id:o,from_sku_id:i,cart_ext_map:l,cart_attr_map:a,manage_ext_map:u,skeleton:p,[m.Uk.extendMap]:c}).then((e=>this.formatCartData(e))).catch(this.formatError)}async addGoodsByFreshOrderSn({storeId:e,parentFreshOrderSn:t,extendMap:r}){return this.postRisk("/api/mc/v1/scallion/add_order_goods",{store_id:e,parent_fresh_order_sn:t,[m.Uk.extendMap]:r}).then((e=>this.formatCartData(e))).catch((e=>this.formatError(e)))}async addGoodsByList({storeId:e,goodsList:t,scene:r,extendMap:n}){return this.postRisk("/api/mc/v1/scallion/add_scene_goods",{store_id:e,goods_list:t,scene:r,[m.Uk.extendMap]:n}).then((e=>this.formatCartData(e))).catch((e=>this.formatError(e)))}async deleteGoods(e){const{goodsId:t,mcSaleId:r,cartGoodsIdList:n,storeId:o,cartAttrMap:i,cartExtMap:s,extendMap:a,manageExtMap:l,skeleton:c}=e||{};return this.postRisk("/api/mc/v1/scallion/delete_goods",{store_id:o,cart_goods_id_list:n?(0,p.D1)(n):[{goodsId:t,mc_sale_id:r}],mc_sale_id:r,cart_ext_map:s,manage_ext_map:l,cart_attr_map:i,skeleton:c,[m.Uk.extendMap]:a}).then((e=>this.formatCartData(e))).catch((e=>this.formatError(e)))}async selectGoods({goodsId:e,mcSaleId:t,skuId:r,select:n,storeId:o,cartAttrMap:i,cartExtMap:s,manageExtMap:a,skeleton:l,extendMap:c}){return this.postRisk("/api/mc/v1/scallion/select_one_goods",{store_id:o,goods_id:e,mc_sale_id:t,sku_id:r,is_select:n?1:0,cart_ext_map:s,manage_ext_map:a,cart_attr_map:i,skeleton:l,[m.Uk.extendMap]:c}).then((e=>this.formatCartData(e))).catch((e=>this.formatError(e)))}async selectAllGoods({select:e,storeId:t,extendMap:r,manageExtMap:n,cartAttrMap:o,skeleton:i}){return this.postRisk("/api/mc/v1/scallion/select_all_goods",{store_id:t,is_select:e?1:0,cart_attr_map:o,manage_ext_map:n,skeleton:i,[m.Uk.extendMap]:r}).then((e=>this.formatCartData(e))).catch((e=>this.formatError(e)))}async addBatchGoods(e){const{storeId:t,goodsList:r,extendMap:n,manageExtMap:o,cartAttrMap:i,skeleton:s}=e||{};return this.postRisk("/api/mc/v1/scallion/add_batch_goods",{store_id:t,goods_list:(0,p.D1)(r),cart_attr_map:i,manage_ext_map:o,skeleton:s,[m.Uk.extendMap]:n}).then((e=>this.formatCartData(e))).catch((e=>this.formatError(e)))}async changeBatchGoodsAmount(e){const{storeId:t,goodsList:r,goodsNumber:n,extendMap:o,manageExtMap:i,cartAttrMap:s,skeleton:a}=e||{};return this.postRisk("/api/mc/v1/scallion/change_batch_goods",{store_id:t,goods_list:(0,p.D1)(r),goods_number:n,cart_attr_map:s,manage_ext_map:i,skeleton:a,[m.Uk.extendMap]:o}).then((e=>this.formatCartData(e))).catch((e=>this.formatError(e)))}async selectBatchGoods(e){const{storeId:t,goodsList:r,isSelect:n,extendMap:o,manageExtMap:i,cartAttrMap:s,skeleton:a}=e||{};return this.postRisk("/api/mc/v1/scallion/select_batch_goods",{store_id:t,goods_list:(0,p.D1)(r),is_select:n?1:0,cart_attr_map:s,manage_ext_map:i,skeleton:a,[m.Uk.extendMap]:o}).then((e=>this.formatCartData(e))).catch((e=>this.formatError(e)))}async changeGoodsAmount({goodsId:e,mcSaleId:t,goodsNumber:r,skuId:n,storeId:o,cartExtMap:i,cartAttrMap:s,manageExtMap:a,skeleton:l,extendMap:c}){return this.postRisk("/api/mc/v1/scallion/change_goods",{store_id:o,goods_id:e,mc_sale_id:t,sku_id:n,goods_number:r,cart_ext_map:i,manage_ext_map:a,cart_attr_map:s,skeleton:l,[m.Uk.extendMap]:c}).then((e=>this.formatCartData(e))).catch((e=>this.formatError(e)))}async getCartListGoods({storeId:e,version:t,goodsList:r,cartGoodsIdList:n}){return this.postRisk("/api/mc/v1/scallion/query_fresh_cart_goods",{store_id:e,version:t,cart_goods_id_list:(0,p.D1)(n)}).then((e=>l()(e,"result.refreshInfo.status")?this.formatCartData(e):{success:!0,toast:l()(e,"result.confirmPayload.viewObject.title"),refreshInfo:l()(e,"result.refreshInfo")||{},data:{cartVersion:l()(e,"result.version")||"",goodsInfoMapV2:this.formatGoodsMap(l()(e,"result.cartGoodsList"))}})).catch((()=>{}))}formatGoodsSkeleton(e){return w(w({},s()(e,v.gI)),{},{primaryId:(0,f.LJ)(e),payPrice:l()(e,"realPrice")})}formatGoodsMap(e){return(e||[]).reduce(((e,t)=>(e[(0,f.LJ)(t)]=s()(t,v.F$),e)),{})}formatGoodsList(e){return(e||[]).map(this.formatGoodsSkeleton)}formatBanner(e){const{bannerInfo:t}=e||{};if(!t)return null;const r=e=>{e=e||{};const{fontSize:t}=e;return w(w({},e),{},{fontSize:t||12})};return{bgColor:l()(t,"promptDisplayResult.bgColor"),link:l()(t,"promptDisplayResult.discountVO.link"),richTextList:(l()(t,"promptDisplayResult.discountVO.displayItems")||[]).map(r),subRichTextList:(l()(t,"promptDisplayResult.discountVO.subDisplayItems")||[]).map(r)}}formatCartData(e,t){var r;const n=l()(e,"result")||{},o=(null==n||null===(r=n.groupList)||void 0===r?void 0:r.map((e=>w(w({},e),{},{goodsList:this.formatGoodsList(e.goodsList)}))))||[],{goodsMap:i}=(l()(n,"baseInfo.goodsList")||[]).reduce(((e,t)=>{const r=(0,f.LJ)(t);return e.goodsMap[r]=this.formatGoodsSkeleton(t),e}),{goodsMap:{}}),{dailyCouponAchievePopup:a,tagUpdateInfo:c}=n;return{success:!0,serverTime:e.serverTime,bizCode:l()(e,"bizCode"),toast:l()(e,"confirmPayload.viewObject.title"),action:l()(e,"confirmPayload.viewObject.onShow"),refreshInfo:l()(n,"refreshInfo"),goodsMap:i,data:w(w({},s()(n,["saleNoWorryDTOList","manageExtMap","preOrderInfo","platformDiscountInfo","orderAssistantEntry","forbiddenSaleInfo","discountInfo","isMiniNoWorry","crossModuleExtMap"])),{},{isCartInit:!0,degrade:l()(n,"degrade")||{},baseInfo:l()(n,"baseInfo"),selectedCount:l()(n,"selectNumber"),payPrice:l()(n,"selectPrice"),discount:l()(n,"totalDiscountAmount")||0,needPopupCart:l()(n,"addGoodsNumber",0)>0,banner:this.formatBanner({bannerInfo:l()(n,"promotionInfo")}),useBannerV2:!!l()(n,"statelessPromotionInfo"),promotionTips:{banner:l()(n,"statelessPromotionInfo.thumb"),popupV2:l()(n,"statelessPromotionInfo.detail")},discountTips:{discountText:l()(n,"bestPromotionInfo.discountMessage")},bubbleTips:null!=t&&t.noBubble?null:{ts:Date.now()},tipList:null!=t&&t.noBubble?[]:l()(n,"tipList")||[],groupList:o,cartVersion:l()(n,"version")||"",goodsInfoMapV2:this.formatGoodsMap(l()(n,"cartGoodsList")),invalidGoodsGroup:l()(n,"invalidGoodsGroup")||{},orderAssistantEntry:l()(n,"orderAssistantEntry"),popupCoupon:a,defaultGoodsTags:c,forbidSaleInfo:l()(n,"forbiddenSaleInfo")})}}toCamelErrResponse(e,t){var r;let n=null==e||null===(r=e.response)||void 0===r?void 0:r.data;return n&&(n=e.response.data=(0,p.fZ)(n,t||["cart_ext_map"])),n}formatError(e){const t=this.toCamelErrResponse(e);null!=e&&e.errorCode||((0,d.eK)({page:"cart_format_error",payload:{logStack:JSON.stringify(e.stack)},page_url:location.href}),(0,u.b0)({customTags:{event:"cart_format_error"}}));let r=l()(t,"errorPayload.viewObject.title")||l()(e,"message");return"api_biz_error"!==l()(e,"errorType")&&(r=b.u5),S.includes(+l()(e,"errorCode"))&&(r=""),{success:!1,toast:r,action:l()(t,"errorPayload.viewObject.onShow")}}},(0,o.Z)(y.prototype,"formatGoodsSkeleton",[c.ZP],Object.getOwnPropertyDescriptor(y.prototype,"formatGoodsSkeleton"),y.prototype),(0,o.Z)(y.prototype,"formatGoodsMap",[c.ZP],Object.getOwnPropertyDescriptor(y.prototype,"formatGoodsMap"),y.prototype),(0,o.Z)(y.prototype,"formatGoodsList",[c.ZP],Object.getOwnPropertyDescriptor(y.prototype,"formatGoodsList"),y.prototype),(0,o.Z)(y.prototype,"formatBanner",[c.ZP],Object.getOwnPropertyDescriptor(y.prototype,"formatBanner"),y.prototype),(0,o.Z)(y.prototype,"formatCartData",[c.ZP],Object.getOwnPropertyDescriptor(y.prototype,"formatCartData"),y.prototype),(0,o.Z)(y.prototype,"toCamelErrResponse",[c.ZP],Object.getOwnPropertyDescriptor(y.prototype,"toCamelErrResponse"),y.prototype),(0,o.Z)(y.prototype,"formatError",[c.ZP],Object.getOwnPropertyDescriptor(y.prototype,"formatError"),y.prototype),y)},9084:function(e,t,r){"use strict";let n;r.d(t,{r:function(){return n}}),function(e){e[e.Default=0]="Default",e[e.ServiceError=1]="ServiceError",e[e.ServiceTimeout=2]="ServiceTimeout",e[e.NoBought=3]="NoBought",e[e.MoreStoresButton=4]="MoreStoresButton"}(n||(n={}))},60376:function(e,t,r){"use strict";r.d(t,{y:function(){return k},M:function(){return O}});var n=r(96156),o=r(23493),i=r.n(o),s=r(44227),a=r(37464),l=r(60009),c=r(99124),u=r(89421),p=r(9084),d=r(51834),h=r(77234),f=r(14779),m=r(53192);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const b=3e3,v="timeout error";let _=null;const w=async()=>(_||(_=new a.I((0,l.Wv)())),_.fetchMyStoreList({pageSize:10,cursor:null})),S=async e=>{const{forwardStoreList:t,timeout:r=b,isDirectToStoresMapTester:n}=e;let o=null;try{o=await Promise.race([w(),(0,c.gw)(r).then((()=>{throw new Error(v)}))])}catch(e){return t((null==e?void 0:e.message)===v?p.r.ServiceTimeout:p.r.ServiceError)}const{boughtStoreList:i=[],displayMode:s}=o||{},a=[f.bc.Risk,f.bc.NewUser].includes(s);let l=!0;return null!=i&&i.length||!n||a||(l=!1),t(p.r.NoBought,{isBanStoresMap:l})},P=e=>(t,r)=>{const n={},{isBanStoresMap:o=!0}=r||{};t===p.r.MoreStoresButton&&(n[u.Uk.StoreListTabStatus]=f.gu.None,n[u.Uk.StoreListFromSource]=u.kw.BoughtStoreListPopup),e({callbackQuery:n,callbackData:{isBanStoresMap:o}})};function k(e,t){const r=i()(P(e),300,{trailing:!1});return(0,m.k)((async()=>{await S(y(y({},t),{},{forwardStoreList:r}))}))}function O(e,t){const r=(0,d.Z)(P(e));return(0,h.Z)((0,s.useCallback)((async()=>{await S(y(y({},t),{},{forwardStoreList:r}))}),[r,t]))}},10146:function(e,t,r){"use strict";r.d(t,{yK:function(){return n.y},ME:function(){return n.M}});var n=r(60376),o=(r(9084),r(64838));r.o(o,"checkElementInvisible")&&r.d(t,{checkElementInvisible:function(){return o.checkElementInvisible}}),r.o(o,"setStoreItemToListTop")&&r.d(t,{setStoreItemToListTop:function(){return o.setStoreItemToListTop}}),r.o(o,"useConfirmSelect")&&r.d(t,{useConfirmSelect:function(){return o.useConfirmSelect}}),r.o(o,"useMapHeight")&&r.d(t,{useMapHeight:function(){return o.useMapHeight}})},64838:function(){},77898:function(e,t,r){"use strict";var n=r(23493),o=r.n(n),i=r(44227),s=r(8492),a=r(95643),l=r(40750),c=r(94184),u=r.n(c),p=r(58259),d=r.n(p),h=r(98249),f=r.n(h),m=r(53008),g=r(83296),y=r(51692),b=r(21553),v=r(36501),_=r(54859),w=r(42994),S=r(64663),P=r(44227).createElement;const k={borderRadius:0,width:"100%",height:"100%",backgroundColor:"transparent",animation:"initial"},O=(0,g.Yo)("2021-03-14/08ff43f2-47d6-4fb3-b051-3fd26e269869");t.Z=(0,s.observer)((e=>{f()(d());const{src:t,storePreviewBtnElSn:r,closeDialog:n,onClick:s,data:c,appBarCtx:p}=e,[h,g]=(0,i.useState)(!1),[C,I]=(0,i.useState)(t),x=(0,i.useRef)(null),{storeName:E="",address:T="",distance:D=0,tagListV3:A=[]}=c||{},{value:R,unit:L}=(0,m.z)(D,!0);return(0,w.Z)((()=>{const e=(0,_.tY)()&&!p.isImmersive;return e&&(0,a.nM)("JSUIControl","hideNavigationBar"),(0,v.h)(n),()=>{e&&(0,a.nM)("JSUIControl","showNavigationBar"),(0,v.r)()}})),(0,w.Z)((()=>{let e=0,t=0;const r=e=>{var t,r;if((null==e||null===(t=e.touches)||void 0===t?void 0:t.length)>1)return-1;const n=null==e||null===(r=e.touches)||void 0===r?void 0:r[0];return(null==n?void 0:n.pageX)||-1},i=t=>{e=r(t)},s=o()((e=>{t=r(e)}),40,{trailing:!1}),a=r=>{if(t<0)return;const o=t-e,i=e<=20&&o>10;(0,S.Pr)({startPageX:e,endPageX:t,distance:o,shouldClose:i}),i&&n()};return x.current.addEventListener("touchstart",i),x.current.addEventListener("touchmove",s),x.current.addEventListener("touchend",a),()=>{x.current.removeEventListener("touchstart",i),x.current.removeEventListener("touchmove",s),x.current.removeEventListener("touchend",a)}})),P(y.Z,{style:k},P("div",{className:u()(d().bigImage,d().showBigImage),ref:x},P("div",{className:d().closeContainer,onClick:n},P("div",{className:d().close})),P("div",{className:d().gradientBg}),P("div",{className:d().gradientBgTop}),P("div",{onClick:n},P(l.Z,{className:u()(d().bigImageStyle,{[d().showBigImageStyle]:h}),processParam:{quality:100},onLoad:()=>{g(!0)},onError:()=>{I(O)},src:C})),!h&&P("div",{onClick:n,className:d().loadingContainer},P("div",{className:d().loading})),P("div",{className:d().bottomArea},P("div",{className:d().bottomSub},P("div",{className:d().bottomAreaLeft},P("div",{className:d().storeName},E),(null==A?void 0:A.length)>0&&P("div",{className:d().tagContainer},A.map(((e,t)=>P("div",{key:t,className:d().tag},e.text)))),P("div",{className:d().addressContainer},D>0&&P(i.Fragment,null,P("span",{className:d().distance},"距您",R,L),P("span",{className:d().line},"|")),T)),P(b.Z,{className:d().bottomAreaRight,onClick:()=>{s(),n()},impr:!0,log:r},P("div",{className:d().btn},"选择"))),P("div",{className:d().allBlack}))))}))},13133:function(e,t,r){"use strict";var n=r(44227),o=r(98249),i=r.n(o),s=r(83296),a=r(40750),l=r(21553),c=r(94184),u=r.n(c),p=r(5546),d=r.n(p),h=r(44227).createElement;t.Z=function(e){i()(d());const{onGetLocation:t,isLocationIdEnableVersion:r,isBanPerson:o,onConfirm:c,className:p,tipsClassName:f,btnsClassName:m}=e;return h("div",{className:u()(d().empty,p)},h(a.Z,{className:d().logo,src:(0,s.Yo)("35141989-8b07-4692-9a3a-b3dfd8e20d7a"),lazy:!1}),h("div",{className:u()(d().tips,f)},r?h(n.Fragment,null,h("p",null,"未开启位置权限，无法获得附近"),h("p",null,"自提点信息")):h(n.Fragment,null,h("p",null,"版本过低，无法获取当前位置"),h("p",null,"请手动输入地址，查找附近自提点"))),h("div",{className:u()(d().buttons,m)},!o&&h(l.Z,{className:d().select,onClick:c,log:3701370,impr:!0},"选择其他地址"),r&&h(l.Z,{className:d().location,onClick:t,log:4315393,impr:!0},"开启定位")))}},29010:function(e,t,r){"use strict";r(44227);var n=r(3352),o=r.n(n),i=r(98249),s=r.n(i),a=r(90275),l=r(94184),c=r.n(l),u=r(44227).createElement;t.Z=function(){return s()(o()),u("div",{className:c()(o().downloaderContainer)},u("div",{className:o().loaderContent},u(a.$j,{className:o().loaderSpinner}),u("div",{className:o().loaderText},"定位中")))}},97258:function(e,t,r){"use strict";r.d(t,{r:function(){return a},N:function(){return s}});var n=r(43131),o=r(83296),i=r(20758);function s(e,t){const r=document.querySelector("#".concat(t)),s=null==r?void 0:r.querySelector(".".concat("infinite-list-wrapper")),a=null==r?void 0:r.querySelector("#".concat(n.vZ).concat(e)),l=(0,o.oJ)(a,s);let c=0,u=(0,o.cx)(r),p=null,d=0;const h=()=>{p=(0,i.z)((()=>{let e=(0,o.cx)(r);if(e!==l){if(u===e){if(d+=1,d>2)return void(0,i.s)(p)}else u=e,d=0;e=Math.ceil(o.fw.Funcs.Cubic.easeOut(c,e,l-e,100)),c+=1,(0,o.QU)(e,r),h()}else(0,i.s)(p)}))};h()}function a(e,t){if(!e||!t)return;const{left:r,top:n,width:i,height:s}=e.getBoundingClientRect()||{},{width:a,height:l}=t.getBoundingClientRect()||{},c=n-(0,o.oJ)(t),u=r-(0,o.pB)(t);return u<i||c<-s||u>a||c>l}},83792:function(e,t,r){"use strict";r(44227);var n=r(8492),o=r(98249),i=r.n(o),s=r(94184),a=r.n(s),l=r(21553),c=r(40750),u=r(83296),p=r(64568),d=r(93035),h=r.n(d),f=r(44227).createElement;t.Z=(0,n.observer)((function(e){i()(h());const{onClick:t,className:r}=e;return f(l.Z,{className:a()(h().root,r),onClick:t,log:4123670,impr:!0},f("div",{className:h().container},f(c.Z,{src:(0,u.ep)("store_list_search_icon_v2"),className:h().searchIcon,lazy:!1}),f("div",{className:h().searchTip},p.xl)))}))},36195:function(e,t,r){"use strict";r.d(t,{Z:function(){return B}});var n=r(44227),o=r(98249),i=r.n(o),s=r(8492),a=r(94184),l=r.n(a),c=r(21553),u=r(16477),p=r(43799),d=r.n(p),h=r(14779),f=r(85461),m=r.n(f),g=r(44227).createElement;function y(e){i()(m());const{backgroundColor:t,text:r,textColor:n,borderColor:o}=(null==e?void 0:e.data)||{},s={backgroundColor:t,color:n},a=!o||t===o;return Boolean(r)&&g("div",{className:m().tag,style:s},g("span",{className:m().text},r),g("div",{className:l()(m().border,{[m().noBorder]:a}),style:{borderColor:o}}))}var b=function(e){i()(m());const{tagListV3:t,getRichElementCx:r}=e;return(null==t?void 0:t.length)>0&&g("div",{className:r(m().storeTags)},t.map(((e,t)=>g(y,{key:t,data:e}))))},v=r(53008),_=r(42994),w=r(42735),S=r(40750),P=r(83296),k=r(44227).createElement;const O=(0,P.Yo)("96b50742-e2d4-4177-b512-197c6670b08d");var C=(0,s.observer)((function(e){i()(d());const{getRichElementCx:t,data:r}=e,{distance:o,address:s,walkDistance:a}=r||{},c=(0,n.useRef)(null),[u,p]=(0,n.useState)(!0),[h,f]=(0,n.useState)(!1),{value:m,unit:g}=(0,v.z)(o,!0),y=a?"距您步行":"距您",b=(0,n.useCallback)((e=>{var t,r;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),null==e||null===(r=e.preventDefault)||void 0===r||r.call(e),p(!1)}),[]);return(0,_.Z)((()=>{var e,t;const r=((null==c||null===(e=c.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.height)||0)>((0,w.cv)(.6)||0);p(r),f(r)})),k("div",{className:l()(d().addressContainer,{[d().isOpen]:!u})},k("div",{ref:c,className:d().addressContent},o>0&&k(n.Fragment,null,k("span",{className:t(d().distance)},y,k("span",{className:d().distanceText},m,g)),k("span",{className:d().line},"|")),k("span",{className:t("")},s),u&&h&&k("div",{className:d().addressOpenBtn,onClick:b},k("div",{className:d().openBtnCover}),k("span",{className:t("")},"展开"),k(S.Z,{lazy:!1,src:O,className:t(d().openBtnArrow)}))))})),I=r(1508),x=r(43131),E=r(42009),T=r(17954),D=r(44227).createElement;var A=(0,s.observer)((function(e){i()(d());const{data:t,onClick:r=u.ZT,storePreviewBtnElSn:o,storeSmallImgElSn:s,isOpenPreview:a,previewConfirm:l,getRichElementCx:p}=e,{storeStatus:h,storeLogo:f=""}=t||{},m=(0,n.useContext)(E.Z),g=h===T.Pr.Error,y=(0,n.useRef)(u.ZT),b=f||(0,P.ep)("vgt_mall_default_avatar_v4"),v=(0,n.useCallback)((()=>{var e;null==y||null===(e=y.current)||void 0===e||e.call(y)}),[]),_=(0,n.useCallback)((()=>{!g&&a&&(y.current=(0,I.Z)(D(x.xM,{storePreviewBtnElSn:o,data:t,appBarCtx:m,closeDialog:v,onClick:l||r,src:b})))}),[m,b,v,t,g,r,a,l,o]);return D(c.Z,{log:s,impr:!0,onClick:_,className:p(d().avatarWrap)},D(S.Z,{className:d().avatar,resizeWidth:180,src:b,lazy:!1}))})),R=r(76912),L=r(54859),M=r(49198),Z=r.n(M),j=r(44227).createElement;const N=({reviewRichText:e,getRichElementCx:t})=>(i()(Z()),(0,L.qt)(e)&&j("div",{className:t(Z().reviewWrap)},j(R.Z,{noWrap:!0,itemClassName:Z().reviewText,list:e})));var z=(0,n.memo)(N),U=r(44227).createElement;var B=(0,s.observer)((function(e){i()(d());const{data:t,index:r,storePageElSn:o=null,onClick:s=u.ZT,renderRightExtra:a,renderBottomExtra:p,infoClx:f,isCurrentStoreList:m,storePreviewBtnElSn:g,storeSmallImgElSn:y,isOpenPreview:v=!0,previewConfirm:_,storeDisabledTipsV2Tester:w}=e,{pfresh:S=null,storeId:P,storeName:k="",storeStatus:O,tagListV3:I=[],defaultStore:x,storeReviewRichText:E=[]}=t||{},D={store_id:P,page_el_sn:o,idx:r,pfresh:S||"",good_store:!(null==E||!E.length)},R=0===r,L=O===T.Pr.Error,M=(0,n.useCallback)((e=>"".concat(e," ").concat(L?d().disabledStore:"")),[L]),Z=(0,n.useCallback)((()=>L?w?U("div",{className:d().rightDisabledText},"暂停营业"):null:a?a():U("div",{className:d().btn},"选择")),[L,a,w]),j=(0,n.useCallback)((()=>{if(m)return null;if(L&&w)return null;if(x||L){const[e,t]=x?["当前自提点",d().currentStore]:["暂停营业",d().closedStore];return U("div",{className:t},e)}return null}),[m,L,x,w]);return U(c.Z,{id:"".concat(h.vZ).concat(P),className:d().store,onClick:s,log:D,impr:!0},U("div",{className:l()(d().base,{[d().border]:!R})},U(A,{getRichElementCx:M,data:t,onClick:s,storePreviewBtnElSn:g,storeSmallImgElSn:y,isOpenPreview:v,previewConfirm:_}),U("div",{className:l()(d().info,f)},U("div",{className:M(d().name)},k),U(b,{getRichElementCx:M,tagListV3:I}),(null==t?void 0:t.address)&&U(C,{data:t,getRichElementCx:M}))),U(z,{getRichElementCx:M,reviewRichText:E}),null==p?void 0:p(),Z(),j())}))},56255:function(e,t,r){"use strict";r(44227);var n=r(98249),o=r.n(n),i=r(94184),s=r.n(i),a=r(83296),l=r(40750),c=r(21553),u=r(6609),p=r.n(u),d=r(44227).createElement;t.Z=function(e){o()(p());const{onConfirm:t,isBanPerson:r,emptyTips:n,className:i,tipsClassName:u,btnsClassName:h}=e;return d("div",{className:s()(p().empty,i)},d(l.Z,{className:p().logo,src:(0,a.Yo)("35141989-8b07-4692-9a3a-b3dfd8e20d7a"),lazy:!1}),d("div",{className:s()(p().tips,u)},d("p",{className:p().tipsText},n||"当前位置附近暂无自提点\r\n我们会尽快开通，敬请期待")),!r&&d("div",{className:s()(p().buttons,h)},d(c.Z,{className:p().select,onClick:t,log:3701370,impr:!0},"选择其他地址")))}},87095:function(e,t,r){"use strict";r(44227);var n=r(98249),o=r.n(n),i=r(83296),s=r(87429),a=r.n(s),l=r(40750),c=r(44227).createElement;const u=(0,i.Yo)("01c422e3-b6cd-47e7-974a-7b6ccf84cb45");t.Z=function(e){o()(a());const{text:t}=e;return c("div",{className:a().root},c("div",{className:a().content},c(l.Z,{className:a().trumpet,src:u,lazy:!1,resizeWidth:36}),c("div",{className:a().contentText},t)))}},14779:function(e,t,r){"use strict";r.d(t,{vZ:function(){return o},tU:function(){return i},tV:function(){return s},MN:function(){return a},Tp:function(){return l},gu:function(){return c},bc:function(){return u},eE:function(){return p},xJ:function(){return d},cH:function(){return h}});var n=r(83296);const o="vgt-store-item-prefix-",i=(0,n.Yo)("985f040d-cfee-45cc-ae70-0149041c6c51");let s,a,l,c,u;!function(e){e[e.Default=0]="Default",e[e.Poi=1]="Poi",e[e.LocationId=1]="LocationId",e[e.EncryptAddressInfo=3]="EncryptAddressInfo"}(s||(s={})),function(e){e.StoreOptionsPopup="store_options_popup",e.HomeBackQuery="home_back_query",e.StoreListMap="store_list_map_set",e.StoreListStores="store_list_set",e.StoresMapStores="stores_map_set",e.BoughtStoreListPopup="bought_store_list_popup_set"}(a||(a={})),function(e){e.ConfirmSelectDefault="use_confirm_selectt_hooks",e.StoreListPage="store_list_page_select",e.StoreListPageMap="store_list_page_map_select",e.StoresMapPage="stores_map_page_select",e.BoughtStoreListPopup="bought_store_list_popup_select"}(l||(l={})),function(e){e[e.None=0]="None",e[e.MyStores=1]="MyStores",e[e.SelectStores=2]="SelectStores"}(c||(c={})),function(e){e[e.Normal=1]="Normal",e[e.Risk=2]="Risk",e[e.NewUser=3]="NewUser"}(u||(u={}));const p=5,d=4,h=170},59440:function(e,t,r){"use strict";r.d(t,{t:function(){return f},E:function(){return g}});var n=r(43131),o=r(19574),i=r(44227),s=r(83296),a=r(99124),l=r(97386),c=r(41351),u=r(37464),p=r(60009),d=r(17954),h=r(77234);function f(e){const{queryStoreId:t,selectedStoreInfo:r,onBack:f,cmtvEventKey:m=n.Tp.ConfirmSelectDefault}=e,g=(0,i.useRef)(null),[,y]=(0,o.V)(o.a.PageBack),{storeId:b,storePopUpContent:v,storeStatus:_}=null!=r?r:{},w=b===t,S=_===d.Pr.Error,P=(0,i.useCallback)((async e=>{g.current||(g.current=new u.I((0,p.Wv)()));const t=await g.current.setDefaultShop(e);return(null==t?void 0:t.success)||!1}),[]),k=(0,i.useCallback)((async()=>{(0,c.C8)(m),await P(r)&&(await y(r),f())}),[m,P,r,y,f]),O=(0,i.useCallback)((async()=>{if(r){if(!S)return v&&!w?((0,a.e0)({op:"impr",page_el_sn:4139370}),void(0,l.Z)({title:v,confirmButtonLabel:"确定进店",cancelButtonLabel:"选择其他门店",onConfirm:async()=>{(0,a.e0)({op:"click",page_el_sn:4139370}),await k()},onCancel:()=>{(0,a.e0)({op:"click",page_el_sn:4139371})}})):void await k()}else(0,s.iY)("请选择方便提货的自提点~")}),[k,w,S,r,v]);return(0,h.Z)(O)}var m=r(42994);function g(){const[e,t]=(0,i.useState)(null);return(0,m.Z)((()=>{const e=(0,s.gp)(),r=Math.floor(.24*e),n=Math.max(r,160);t(n)})),e}},43131:function(e,t,r){"use strict";r.d(t,{VL:function(){return n.Z},tU:function(){return o.tU},vZ:function(){return o.vZ},tV:function(){return o.tV},Tp:function(){return o.Tp},MN:function(){return o.MN},bc:function(){return o.bc},cH:function(){return o.cH},eE:function(){return o.eE},xJ:function(){return o.xJ},gu:function(){return o.gu},closeImagePreviewPreset:function(){return s.r},openImagePreviewPreset:function(){return s.h},xM:function(){return a.Z},showBoughtStoreListPopupWrapper:function(){return l.yK},useShowBoughtStoreListPopup:function(){return l.ME},Z3:function(){return c.Z},iN:function(){return u.Z},BV:function(){return p.Z},c3:function(){return d.Z},LQ:function(){return h.Z},checkElementInvisible:function(){return f.r},setStoreItemToListTop:function(){return f.N},useConfirmSelect:function(){return m.t},useMapHeight:function(){return m.E}});var n=r(36195),o=r(14779),i=r(63258);r.o(i,"checkElementInvisible")&&r.d(t,{checkElementInvisible:function(){return i.checkElementInvisible}}),r.o(i,"closeImagePreviewPreset")&&r.d(t,{closeImagePreviewPreset:function(){return i.closeImagePreviewPreset}}),r.o(i,"openImagePreviewPreset")&&r.d(t,{openImagePreviewPreset:function(){return i.openImagePreviewPreset}}),r.o(i,"setStoreItemToListTop")&&r.d(t,{setStoreItemToListTop:function(){return i.setStoreItemToListTop}}),r.o(i,"showBoughtStoreListPopupWrapper")&&r.d(t,{showBoughtStoreListPopupWrapper:function(){return i.showBoughtStoreListPopupWrapper}}),r.o(i,"useConfirmSelect")&&r.d(t,{useConfirmSelect:function(){return i.useConfirmSelect}}),r.o(i,"useMapHeight")&&r.d(t,{useMapHeight:function(){return i.useMapHeight}}),r.o(i,"useShowBoughtStoreListPopup")&&r.d(t,{useShowBoughtStoreListPopup:function(){return i.useShowBoughtStoreListPopup}});var s=r(36501),a=r(77898),l=r(10146);r.o(l,"checkElementInvisible")&&r.d(t,{checkElementInvisible:function(){return l.checkElementInvisible}}),r.o(l,"setStoreItemToListTop")&&r.d(t,{setStoreItemToListTop:function(){return l.setStoreItemToListTop}}),r.o(l,"useConfirmSelect")&&r.d(t,{useConfirmSelect:function(){return l.useConfirmSelect}}),r.o(l,"useMapHeight")&&r.d(t,{useMapHeight:function(){return l.useMapHeight}});var c=r(13133),u=r(56255),p=r(83792),d=r(29010),h=r(87095),f=r(97258),m=r(59440)},63258:function(){},36501:function(e,t,r){"use strict";r.d(t,{r:function(){return a},h:function(){return l}});var n=r(54859),o=r(6091),i=r(88237),s=r(60374);const a=()=>{(0,n.tY)()&&((0,o.cB)(),(0,i.eZ)()),(0,s.K9)()},l=e=>{(0,n.tY)()&&((0,i.z2)({callback:e}),(0,i._g)()),(0,s.XY)()}},34115:function(e,t,r){"use strict";r.d(t,{MAP_SOURCE:function(){return f},detectLatLngArrayValid:function(){return s},formatLatLng:function(){return o},formatLatLngValue:function(){return n},mapLatLngToArray:function(){return i},useTangramProps:function(){return g}});r(32145);function n(e){return parseFloat(null==e?void 0:e.toFixed(6))}function o(e){return{longitude:n(null==e?void 0:e.longitude),latitude:n(null==e?void 0:e.latitude)}}function i(e){return[null==e?void 0:e.latitude,null==e?void 0:e.longitude]}function s(e){return 2===(null==e?void 0:e.length)&&!isNaN(e[0])&&!isNaN(e[1])}var a=r(44227),l=r(79507);let c;c=JSON.parse('{"global":{"feature_order":"function () { return feature.sort_rank; }","poi_filter":"function() { return $zoom < feature.aoi_z }"},"styles":{"train-dashes":{"blend":"inlay","base":"lines","dash":[10,10]},"bl-dashes":{"base":"lines","blend":"overlay","blend_order":2,"dash":[2,2]},"hongkong-dashes":{"base":"lines","blend":"overlay","blend_order":2,"dash":[2,2,5,2]},"line-overlay":{"base":"lines","blend":"overlay","blend_order":1},"marker":{"base":"points","blend":"overlay","blend_order":5,"interactive":true},"marker_location":{"base":"points","blend":"overlay","blend_order":6,"interactive":true},"marker-line":{"base":"lines","blend":"overlay","blend_order":3},"marker-dashes":{"base":"lines","blend":"overlay","blend_order":3,"dash":[1,1]},"marker-text":{"base":"points","blend":"overlay","blend_order":6,"interactive":true},"marker-arrows":{"base":"points","blend":"overlay","blend_order":4},"pois":{"base":"points","texture":"pois","blend":"overlay"},"aois":{"base":"text"}},"scene":{"background":{"color":"#F0F3F6"}},"sources":{"osm":{"type":"MVT","url":"https://apiv2.hutaojie.com/api/express-gis-map-api/tile3_1/base?z={z}&x={x}&y={y}&v=11","max_zoom":18}},"textures":{"arrowPois":{"url":"https://funimg.pddpic.com/personal/2020-10-21/2020-10-21/ab27218f-7f95-40d1-ba65-baa6745daba6.png","sprites":{"arrow":[0,0,12,9]}},"pois":{"url":"https://funimg.pddpic.com/gis_map/icon/532ec442-1400-43db-a568-7e5149a7c8cf.png.slim.c1.png","sprites":{"gov":[50,50,69,83],"culture":[169,50,69,83],"hosiptal":[288,50,69,83],"university":[407,50,69,83],"shopping":[50,183,69,83],"building":[169,183,69,83],"food":[288,183,69,83],"stadium":[407,183,69,83],"park":[50,316,69,83],"edu":[169,316,69,83],"bar":[288,316,69,83],"coffee":[407,316,69,83],"apartment":[50,449,69,83],"airport":[169,449,69,83],"train":[288,449,69,83],"bus":[407,449,69,83],"port":[50,582,69,83],"express":[169,582,69,83],"market":[288,582,69,83],"hotel":[407,582,69,83],"parking_lot":[50,715,69,83],"gate":[169,715,69,83],"mountain":[288,715,69,83],"metro_transfer":[407,722,69,69],"scenic":[50,848,69,83],"others":[196,882,16,16],"toilet":[288,848,69,83],"capital":[432,880,20,20],"prov_capital":[77,1015,16,16],"city":[200,1019,8,8],"tam":[273,990,98,66],"finance":[407,981,69,83],"medicine_retail":[50,1114,69,83],"leisure":[169,1114,69,83],"automobile_service":[288,1114,69,83],"petrol_station":[407,1114,69,83],"charging_station":[50,1247,69,83],"traffic_light":[174,1271,60,36],"r_arrow":[312,1278,20,12]}}},"layers":{"route_line_transit":{"data":{"source":"route_line_transit"},"navigate-main":{"filter":{"$geometry":"line","lineStyle":1},"draw":{"marker-line":{"join":"round","cap":"round","color":"#25B513","order":5000,"width":"7px"}}},"navigate-dash":{"filter":{"$geometry":"line","lineStyle":2},"draw":{"marker-dashes":{"join":"round","cap":"round","color":"#25B513","order":5000,"width":"7px"}}},"arrows":{"filter":{"$zoom":{"min":8},"lineStyle":1},"draw":{"marker-arrows":{"texture":"arrowPois","flat":true,"sprite":"arrow","size":"5px","placement_min_length_ratio":0,"placement":"spaced","placement_spacing":"16px","angle":"auto"}}}},"bl":{"data":{"source":"osm"},"country-boundary":{"filter":[{"kind":["0131","013e","0138","0121|0143"]}],"draw":{"lines":{"visible":true,"order":600,"color":"#B0C1E5","width":"2px","cap":"round"}}},"country-boundary1":{"filter":[{"kind":["013b"]}],"draw":{"lines":{"visible":true,"order":600,"color":"#8FB5D4","width":"2px","cap":"round"}}},"country-boundary2":{"filter":[{"kind":["013a"]}],"draw":{"bl-dashes":{"visible":true,"order":600,"color":"#B0C1E5","width":"2px","cap":"round"}}},"province-boundary":{"filter":[{"$zoom":{"min":4},"kind":["0132"]}],"draw":{"lines":{"visible":true,"order":600,"color":[0.718,0.718,0.776,1],"width":"1px","cap":"round"}}},"undefined-boundary":{"filter":[{"$zoom":{"min":4},"kind":["0139"]}],"draw":{"lines":{"visible":true,"order":600,"color":[0.718,0.718,0.776,1],"width":"1px","cap":"round"}}},"province-boundary1":{"filter":[{"$zoom":{"min":4},"kind":["013f"]}],"draw":{"lines":{"visible":true,"order":600,"color":[0.718,0.718,0.776,1],"width":"1px","cap":"round"}}},"hongkong-boundary":{"filter":[{"$zoom":{"min":4},"kind":["013c"]}],"draw":{"hongkong-dashes":{"visible":true,"order":600,"color":[0.718,0.718,0.776,1],"width":"1px","cap":"round"}}},"railway-boundary":{"filter":[{"$zoom":{"min":11},"kind":["0242","0243"]}],"draw":{"train-dashes":{"order":1802,"color":"#DCDEE0","width":[[11,"1px"],[15,"2px"]],"cap":"square","join":"round"},"lines":{"order":1801,"color":"#FFFFFF","width":[[11,"1px"],[15,"2px"]],"cap":"square","join":"round","outline":{"color":"#CCCCCC","width":"0.5px"}},"text":{"priority":10,"font":{"size":10,"fill":"#C1C2C4","stroke":{"color":"#ffffff","width":0.5}}}}},"trailway-city":{"filter":[{"$zoom":{"min":11},"kind":["0241","0245","0246","0244","0247","0248"]}],"draw":{"lines":{"visible":true,"order":880,"color":"#DCDEE0","width":[[11,"1px"],[15,"2px"]],"cap":"round"},"text":{"priority":10,"font":{"size":10,"fill":"#C1C2C4","stroke":{"color":"#ffffff","width":0.5}}}}}},"bp":{"data":{"source":"osm"},"water":{"filter":[{"kind":["0123","0122","0121","0124","0126","01ff","0125"]}],"draw":{"polygons":{"order":501,"color":"#C0D6EE"}}},"island":{"filter":[{"kind":["0143","0145","0146","0147","0148"]}],"draw":{"polygons":{"order":300,"color":"#F0F3F6"}}},"park":{"filter":[{"kind":["0141","0144","0142","014a","014b","04ff"]}],"draw":{"polygons":{"order":402,"color":"#DCEEC0"}}},"parkAirport":{"filter":[{"kind":["0149"]}],"draw":{"polygons":{"order":399,"color":"#DFEDE5"}}},"university":{"filter":[{"kind":["0161"],"$zoom":{"min":12}}],"draw":{"polygons":{"order":312,"color":"#DFEBED"}}},"scenic":{"filter":[{"kind":["0172"],"$zoom":{"min":12}}],"draw":{"polygons":{"order":311,"color":"#DCEEC0"}}},"factory":{"filter":[{"kind":["0164"],"$zoom":{"min":13}}],"draw":{"polygons":{"order":310,"color":"#DFE6ED"}}},"squarePlaces":{"filter":[{"kind":["0179"],"$zoom":{"min":13}}],"draw":{"polygons":{"order":302,"color":"#DCEEC0"}}},"entainmentPlaces":{"filter":[{"kind":["0171"],"$zoom":{"min":13}}],"draw":{"polygons":{"order":301,"color":"#DCEEC0"}}},"bussinessPlace":{"filter":[{"kind":["0177","0187"],"$zoom":{"min":14}}],"draw":{"polygons":{"order":303,"color":"#E0DFED"}}},"hosiptitalPlaces":{"filter":[{"kind":["0163"],"$zoom":{"min":15}}],"draw":{"polygons":{"order":401,"color":"#EDDFDF"}}},"parkingLot":{"filter":[{"kind":["0165"],"$zoom":{"min":14}}],"draw":{"polygons":{"order":305,"color":"#EAF0F6"}}},"exhibitionCenter":{"filter":[{"kind":["0173"],"$zoom":{"min":12}}],"draw":{"polygons":{"order":306,"color":"#EDE8DF"}}},"culturalVenues":{"filter":[{"kind":["0175"],"$zoom":{"min":14}}],"draw":{"polygons":{"order":307,"color":"#EDE8DF"}}},"statiumVenues":{"filter":[{"kind":["84ff"],"$zoom":{"min":14}}],"draw":{"polygons":{"order":309,"color":"#E0DFED"}}},"shoppingCenter":{"filter":[{"kind":["0162"],"$zoom":{"min":12}}],"draw":{"polygons":{"order":304,"color":"#E0DFED"}}},"transHub":{"filter":[{"kind":["0174"],"$zoom":{"min":15}}],"draw":{"polygons":{"order":304,"color":"#DFE6ED"}}}},"t":{"data":{"source":"osm"},"CountryText":{"filter":[{"kind":["275000"]}],"draw":{"text":{"font":{"weight":700,"size":16,"fill":"#8D98A8","stroke":{"color":"#ffffff","width":0.5}}}}},"OnceanText":{"filter":[{"kind":["275008"]}],"draw":{"text":{"font":{"weight":700,"size":14,"fill":"#54a3e1","stroke":{"color":"#ffffff","width":0.5}}}}},"sepIslandText":{"filter":[{"kind":["275007","275006"],"$zoom":{"min":6}}],"draw":{"text":{"font":{"weight":700,"size":12,"fill":"#8D98A8","stroke":{"color":"#ffffff","width":0.5}}}}},"downshipText":{"filter":[{"kind":["260000"],"$zoom":{"min":13}}],"draw":{"text":{"font":{"weight":700,"size":12,"fill":"#AFB6C2","stroke":{"color":"#ffffff","width":0.5}}}}},"waterText":{"filter":[{"kind":["275010"]}],"draw":{"text":{"font":{"weight":700,"size":13,"fill":"#54A3E1","stroke":{"color":"#ffffff","width":0.5}}}}},"provinceText":{"filter":[{"$zoom":{"min":4},"kind":["275001"]}],"draw":{"pois":{"sprite":"capital","size":["8px","8px"],"priority":1,"text":{"anchor":"top","priority":1,"font":{"size":13,"fill":"#8D98A8","stroke":{"color":"#ffffff","width":0.5}}}}}},"provinceText1":{"filter":[{"$zoom":{"min":4},"kind":["275002"]}],"draw":{"text":{"collide":false,"priority":2,"font":{"size":12,"fill":"#8D98A8","stroke":{"color":"#ffffff","width":0.5}}}}},"provinceCityText":{"filter":[{"$zoom":{"min":5},"kind":["275003"]}],"draw":{"pois":{"sprite":"prov_capital","size":["6px","6px"],"priority":3,"text":{"priority":3,"font":{"weight":700,"size":[[5,14],[6,15],[10,16]],"fill":"#8D98A8","stroke":{"color":"#ffffff","width":0.5}}}}}},"cityText":{"filter":[{"$zoom":{"min":6},"kind":["275004"]}],"draw":{"pois":{"sprite":"city","size":["5px","5px"],"priority":4,"text":{"priority":4,"font":{"weight":700,"size":[[6,13],[8,13],[10,14]],"fill":"#AFB6C2","stroke":{"color":"#ffffff","width":0.5}}}}}},"smallCityText":{"filter":[{"$zoom":{"min":8},"kind":["275005"]}],"draw":{"text":{"priority":5,"font":{"weight":700,"size":[[8,13],[10,15]],"fill":"#AFB6C2","stroke":{"color":"#ffffff","width":0.5}}}}}},"bp_rp":{"data":{"source":"osm"},"draw":{"polygons":{"order":400,"color":"#E6ECF3"}}},"building_int":{"data":{"source":"osm"},"draw":{"polygons":{"order":601,"color":"#F8FBFD"}}},"passage_int":{"data":{"source":"osm"},"flyover":{"filter":[{"class":"10000"}],"draw":{"lines":{"join":"round","cap":"square","order":2000,"color":"#FFFFFF","width":[[16,"2px"],[17,"4px"],[18,"4px"]],"outline":{"width":[[16,"1px"],[17,"2px"],[18,"2px"]],"color":"#C0C2C4"}}}},"underpass":{"filter":[{"class":"20000"}],"draw":{"lines":{"join":"round","cap":"square","order":1750,"color":"#BEC4D0","width":[[16,"2px"],[17,"4px"],[18,"4px"]],"outline":{"width":[[16,"0.5px"],[17,"1px"],[18,"1px"]],"color":"#989CA6"}}}}},"traffic_light":{"data":{"source":"osm"},"filter":{"$zoom":{"min":17}},"draw":{"pois":{"priority":2,"sprite":"traffic_light","size":["30px","18px"],"anchor":"center"}}},"r":{"data":{"source":"osm"},"funcclass1":{"filter":[{"$zoom":{"min":8},"funcclass":"1"}],"draw":{"lines":{"order":"function() { if($zoom < 15) {return 1870;} else {return 1850 + feature.z;} }","join":"round","color":"#ffffff","width":[[8,"1px"],[9,"1px"],[10,"2px"],[11,"2px"],[12,"2px"],[13,"6px"],[14,"6px"],[15,"10px"],[16,"10px"],[17,"12px"],[18,"14px"]],"outline":{"width":1,"color":[0.929,0.929,0.929,1]}},"text":{"repeat_distance":"1000px","order":900,"text_source":"pathname","font":{"weight":700,"size":[[8,"0px"],[9,"0px"],[11,"14px"],[12,"14px"],[13,"14px"],[14,"14px"],[15,"15px"],[16,"15px"],[17,"16px"],[18,"16px"]],"fill":[0.612,0.612,0.612,1],"stroke":{"color":"#ffffff","width":1}}}}},"funcclass2":{"filter":[{"$zoom":{"min":11},"funcclass":"2"}],"draw":{"lines":{"order":"function() { if($zoom < 15) {return 1860;} else {return 1850 + feature.z;} }","join":"round","color":"#ffffff","width":[[11,"1px"],[12,"1px"],[13,"4px"],[14,"4px"],[15,"8px"],[16,"8px"],[17,"10px"],[18,"12px"]],"outline":{"width":0.5,"color":[0.96,0.96,0.96]}}}},"funcclass2-text1":{"filter":[{"$zoom":{"min":11,"max":15},"funcclass":"2"}],"draw":{"text":{"repeat_distance":"1000px","order":900,"text_source":"pathname","font":{"weight":700,"size":[[11,"14px"],[12,"14px"],[13,"14px"],[14,"14px"],[15,"14px"],[16,"14px"],[17,"15px"],[18,"16px"]],"fill":[0.612,0.612,0.612,1],"stroke":{"color":"#ffffff","width":0.5}}}}},"funcclass2-text2":{"filter":[{"$zoom":{"min":15},"funcclass":"2"}],"draw":{"text":{"repeat_distance":"1000px","order":900,"text_source":"pathname","font":{"weight":700,"size":[[11,"14px"],[12,"14px"],[13,"14px"],[14,"14px"],[15,"15px"],[16,"15px"],[17,"16px"],[18,"16px"]],"fill":[0.533,0.533,0.533,1],"stroke":{"color":"#ffffff","width":0.5}}}}},"funcclass3":{"filter":[{"$zoom":{"min":13},"funcclass":"3"}],"draw":{"lines":{"order":"function() { if($zoom < 15) {return 1850;} else {return 1850 + feature.z;} }","join":"round","color":"#ffffff","width":[[13,"2px"],[14,"2px"],[15,"6px"],[16,"6px"],[17,"8px"],[18,"10px"]],"outline":{"width":0.5,"color":[0.96,0.96,0.96]}},"text":{"repeat_distance":"2000px","order":900,"text_source":"pathname","font":{"weight":700,"size":[[13,"12px"],[14,"13px"],[15,"14px"],[16,"14px"],[17,"15px"],[18,"16px"]],"fill":[0.612,0.612,0.612,1],"stroke":{"color":"#ffffff","width":0.5}}}}},"funcclass4":{"filter":[{"$zoom":{"min":14},"funcclass":"4"}],"draw":{"lines":{"order":"function() { if($zoom < 15) {return 1840;} else {return 1850 + feature.z;} }","join":"round","color":"#ffffff","width":[[14,"2px"],[15,"4px"],[16,"4px"],[17,"6px"],[18,"8px"]],"outline":{"width":0.5,"color":[0.96,0.96,0.96]}},"text":{"repeat_distance":"1000px","order":900,"text_source":"pathname","font":{"weight":700,"size":[[14,"12px"],[15,"13px"],[16,"13px"],[17,"14px"],[18,"15px"]],"fill":[0.533,0.533,0.533,1],"stroke":{"color":"#ffffff","width":0.5}}}}},"funcclass5":{"filter":[{"$zoom":{"min":15},"funcclass":"5"}],"draw":{"lines":{"repeat_distance":"1000px","order":"function() { if($zoom < 15) {return 1830;} else {return 1850 + feature.z;} }","join":"round","color":"#ffffff","width":[[15,"2px"],[16,"2px"],[17,"4px"],[18,"6px"]],"outline":{"width":0.5,"color":[0.96,0.96,0.96]}},"text":{"repeat_distance":"1000px","order":900,"text_source":"pathname","font":{"weight":700,"size":[[15,"13px"],[16,"13px"],[17,"14px"],[18,"15px"]],"fill":[0.533,0.533,0.533,1],"stroke":{"color":"#ffffff","width":0.5}}}}},"funcclass6":{"filter":[{"$zoom":{"min":16},"funcclass":"6"}],"draw":{"lines":{"order":"function() { if($zoom < 15) {return 1820;} else {return 1850 + feature.z;} }","cap":"square","join":"round","color":[1,1,1],"width":[[16,"1px"],[17,"2px"],[18,"2px"]],"outline":{"width":0.5,"color":[0.96,0.96,0.96]}}}},"funcclass7":{"filter":[{"$zoom":{"min":9},"funcclass":"7"}],"draw":{"lines":{"order":1810,"join":"round","color":"#ADC1D6","width":[[9,"1px"],[10,"1px"],[11,"2px"],[12,"2px"],[13,"2px"],[14,"2px"],[15,"2px"],[16,"2px"],[17,"2px"],[18,"2px"]],"outline":{"width":0.5,"color":[0.96,0.96,0.96]}}}}},"river_line":{"data":{"source":"osm"},"draw":{"text":{"repeat_distance":"256px","order":900,"font":{"weight":700,"size":12,"fill":"#91B3CD","stroke":{"color":"#ffffff","width":1}}}}},"r_direction":{"data":{"source":"osm"},"RArrow":{"filter":[{"funcclass":["1","2","3","4"]}],"draw":{"pois":{"sprite":"r_arrow","angle":"function() {return 360 - feature.angle;}","archor":"center","size":["14px","8px"],"collide":false}}},"RArrow_small":{"filter":[{"funcclass":["5"]}],"draw":{"pois":{"sprite":"r_arrow","angle":"function() {return 360 - feature.angle;}","archor":"center","size":["10px","6px"],"collide":false}}}},"mr_t":{"data":{"source":"osm"},"TAM":{"filter":[{"kind":["TAM"],"$zoom":{"min":11}}],"draw":{"pois":{"priority":1,"sprite":"tam","size":[[10,["22px","12px"]],[16,["32px","18px"]]]}}},"PoiHouseNnumber":{"filter":[{"kind":["PtHsnm"]}],"draw":{"text":{"priority":6,"font":{"weight":700,"size":12,"fill":"#AFB6C2  ","stroke":{"color":"#ffffff","width":0.5}}}}},"PoiGate":{"filter":[{"gate":["1","2","3"],"$zoom":{"min":17}}],"exclusive":true,"draw":{"pois":{"priority":6,"sprite":"gate","size":["20px","24px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#B2B7BE","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiFood":{"filter":[{"kind":["110101","110102","110103","110200"],"$zoom":{"min":17}}],"draw":{"pois":{"priority":6,"sprite":"food","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiBar":{"filter":[{"kind":["110301","110302"],"$zoom":{"min":18}}],"draw":{"pois":{"priority":6,"sprite":"bar","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiCoffee":{"filter":[{"kind":["110303","110304"],"$zoom":{"min":17}}],"draw":{"pois":{"priority":6,"sprite":"coffee","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiHotel":{"filter":[{"kind":["120101","120102","120103","120104","120105","120106"],"$zoom":{"min":13}}],"draw":{"pois":{"priority":6,"sprite":"hotel","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiApartment":{"filter":[{"kind":["120201","120202","0178"],"$zoom":{"min":13}}],"POI":{"filter":"global.poi_filter","exclusive":true,"draw":{"pois":{"priority":6,"sprite":"apartment","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"AOI":{"draw":{"text":{"priority":6,"font":{"size":14,"fill":"#A3B8CC","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiShopping":{"filter":[{"kind":["130101","130102","130301","130302","130303","130304","130401","130402","130403","130404","130405","130406","130407","130408","130409","130410","130411","130601","130602","130603","130700","130701","130702","130703","130704","130705","130800","130801","130803","130804","130805","130806","130807","130808","0162","0177"],"$zoom":{"min":13}}],"POI":{"filter":"global.poi_filter","exclusive":true,"draw":{"pois":{"priority":6,"sprite":"shopping","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"AOI":{"draw":{"text":{"priority":6,"font":{"size":14,"fill":"#CCBCA3","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiMarket":{"filter":[{"kind":["130103","130104","130105","130106","130200","130201","130202","130203","130204","130205","130206","130207"],"$zoom":{"min":13}}],"draw":{"pois":{"priority":6,"sprite":"market","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiEdu":{"filter":[{"kind":["160101","160102","160103","160104","160106"],"$zoom":{"min":12}}],"draw":{"pois":{"priority":6,"sprite":"edu","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiUniversity":{"filter":[{"kind":["160105","160107","0161"],"$zoom":{"min":12}}],"POI":{"filter":"global.poi_filter","exclusive":true,"draw":{"pois":{"priority":6,"sprite":"university","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"AOI":{"draw":{"text":{"priority":6,"font":{"size":14,"fill":"#A3C6CC","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiCulture":{"filter":[{"kind":["160205","160206","160207","200101","0173","0175"],"$zoom":{"min":12}}],"POI":{"filter":"global.poi_filter","exclusive":true,"draw":{"pois":{"priority":6,"sprite":"culture","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#CDA591","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"AOI":{"draw":{"text":{"priority":6,"font":{"size":14,"fill":"#CCBCA3","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiHospital":{"filter":[{"kind":["170101","170102","170103","170104","170105","170106","170107","0163"],"$zoom":{"min":12}}],"POI":{"filter":"global.poi_filter","exclusive":true,"draw":{"pois":{"priority":6,"sprite":"hosiptal","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#CD9191","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"AOI":{"draw":{"text":{"priority":6,"font":{"size":14,"fill":"#CCA3A3","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiStadium":{"filter":[{"kind":["180100","180101","180102","180103","180104","180105","180106","180107","180109","180110","180111","0142"],"$zoom":{"min":17}}],"POI":{"filter":"global.poi_filter","exclusive":true,"draw":{"pois":{"priority":6,"sprite":"stadium","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"AOI":{"draw":{"text":{"priority":6,"font":{"size":14,"fill":"#A6CD91","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiPark":{"filter":[{"kind":["180304","180305","180306","180308","180309","0141","0144","0171","0179"],"$zoom":{"min":12}}],"POI":{"filter":"global.poi_filter","exclusive":true,"draw":{"pois":{"priority":6,"sprite":"park","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#A6CD91","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"AOI":{"draw":{"text":{"priority":6,"font":{"size":14,"fill":"#A6CD91","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiScenic":{"filter":[{"kind":["180400","260300","0172"],"$zoom":{"min":9}}],"POI":{"filter":"global.poi_filter","exclusive":true,"draw":{"pois":{"priority":6,"sprite":"scenic","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#A6CD91","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"AOI":{"draw":{"text":{"priority":6,"font":{"size":14,"fill":"#A6CD91","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiGov":{"filter":[{"kind":["190100","190101","190102","190103","190104","190105","190106","190107","190108","190109","190110","190111","190112","190113","190114","190200","190201","190202","190203","190204","190205"],"$zoom":{"min":10}}],"draw":{"pois":{"priority":6,"sprite":"gov","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiBuilding":{"filter":[{"kind":["200103","200104","200105","0187"],"$zoom":{"min":13}}],"POI":{"filter":"global.poi_filter","exclusive":true,"draw":{"pois":{"priority":6,"sprite":"building","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"AOI":{"draw":{"text":{"priority":6,"font":{"size":14,"fill":"#A3B8CC","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiExpress":{"filter":[{"kind":["210218","230130","230131"],"$zoom":{"min":18}}],"draw":{"pois":{"priority":6,"sprite":"express","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiBus":{"filter":[{"kind":["230100","230108"],"$zoom":{"min":18}}],"draw":{"pois":{"priority":6,"sprite":"bus","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiTrain":{"filter":[{"kind":["230103","230107"],"$zoom":{"min":11}}],"draw":{"pois":{"priority":6,"sprite":"train","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiTransHub":{"filter":[{"kind":["0174"],"$zoom":{"min":11}}],"POI":{"filter":"global.poi_filter","exclusive":true,"draw":{"pois":{"priority":6,"sprite":"others","size":["8px","8px"],"text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"AOI":{"draw":{"text":{"priority":6,"font":{"size":14,"fill":"#A3B8CC","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiMetroTransfer":{"filter":[{"kind":["230112","230115"],"$zoom":{"min":15}}],"draw":{"pois":{"priority":6,"sprite":"others","size":["8px","8px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiAirport":{"filter":[{"kind":["230126","0149"],"$zoom":{"min":9}}],"POI":{"filter":"global.poi_filter","exclusive":true,"draw":{"pois":{"priority":6,"sprite":"airport","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"AOI":{"draw":{"text":{"priority":6,"font":{"size":14,"fill":"#A3CCC6","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiPort":{"filter":[{"kind":["230125"],"$zoom":{"min":16}}],"draw":{"pois":{"priority":6,"sprite":"port","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiParkingLortNoText":{"filter":[{"kind":["230211","230212","230214","230223","230224","230225","230226"],"$zoom":{"min":18}}],"draw":{"pois":{"priority":6,"sprite":"parking_lot","size":["20px","25px"],"anchor":"center"}}},"PoiParkingLort":{"filter":[{"kind":["230206","230207","230213","230230"],"$zoom":{"min":12}}],"draw":{"pois":{"priority":6,"sprite":"parking_lot","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiToliet":{"filter":[{"kind":["210215"],"$zoom":{"min":18}}],"draw":{"pois":{"priority":6,"sprite":"toilet","size":["20px","25px"],"anchor":"center"}}},"PoiMountain":{"filter":[{"kind":["275009"],"$zoom":{"min":13}}],"draw":{"pois":{"priority":6,"sprite":"mountain","size":["20px","25px"],"anchor":"center","text":{"priority":6,"font":{"size":12,"fill":"#A6CD91","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiFinance":{"filter":[{"kind":["150101","150102","150103","150104","150200"]}],"draw":{"pois":{"priority":8,"sprite":"finance","size":["20px","25px"],"text":{"priority":8,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiMedicine_retail":{"filter":[{"kind":["130501","130502"]}],"draw":{"pois":{"priority":8,"sprite":"medicine_retail","size":["20px","25px"],"text":{"priority":8,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiLeisure":{"filter":[{"kind":["180201","180202","180203","180204","180205","180206","180209","180210","180211"]}],"draw":{"pois":{"priority":8,"sprite":"leisure","size":["20px","25px"],"text":{"priority":8,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiAutomobile_service":{"filter":[{"kind":["140101","140104","140103","140203","140201","140301","140302","140303","140304"]}],"draw":{"pois":{"priority":8,"sprite":"automobile_service","size":["20px","25px"],"text":{"priority":8,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"PoiPetrol_station":{"filter":[{"kind":["230215","230217"]}],"draw":{"pois":{"priority":8,"sprite":"petrol_station","size":["20px","25px"]}}},"PoiCharging_station":{"filter":[{"kind":["230218"]}],"draw":{"pois":{"priority":8,"sprite":"charging_station","size":["20px","25px"]}}},"Poi-Others":{"filter":[{"kind":["140305","160108","160201","160202","190400","190402","190403","190404","190501","200200","200201","200300","200301","200302","200401","200402","200403","200400","200404","200405","210101","210102","210103","210104","210202","210203","210204","210205","210206","210207","210209","210210","210212","210213","210214","210216","210217","210219","210303","210400","220400","230111","230114","230132","230216","230219","230220","230221","230228","230229","230231"],"$zoom":{"min":18}}],"draw":{"pois":{"priority":6,"sprite":"others","size":["8px","8px"],"text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"Poi-Others1":{"filter":[{"kind":["140202","160109","160203","180301","180302","210105","210201","230129"],"$zoom":{"min":17}}],"draw":{"pois":{"priority":6,"sprite":"others","size":["8px","8px"],"text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"Poi-Others2":{"filter":[{"kind":["160204","170201","180310","210211","210301","210302","210304","230128","230203","230204"],"$zoom":{"min":16}}],"draw":{"pois":{"priority":6,"sprite":"others","size":["8px","8px"],"text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"Poi-Others3":{"filter":[{"kind":["220100","230105"],"$zoom":{"min":15}}],"draw":{"pois":{"priority":6,"sprite":"others","size":["8px","8px"],"text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"Poi-Others4":{"filter":[{"kind":["190401","220300","230209","250200"],"$zoom":{"min":14}}],"draw":{"pois":{"priority":6,"sprite":"others","size":["8px","8px"],"text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"Poi-Others5":{"filter":[{"kind":["180307","170201","180310","220200","240100","0164","0165"],"$zoom":{"min":13}}],"POI":{"filter":"global.poi_filter","exclusive":true,"draw":{"pois":{"priority":6,"sprite":"others","size":["8px","8px"],"text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"AOI":{"draw":{"text":{"priority":6,"font":{"size":14,"fill":"#A3B8CC","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"Poi-Others6":{"filter":[{"kind":["230201","230202"],"$zoom":{"min":12}}],"draw":{"text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}},"Poi-Others7":{"filter":[{"kind":["260000"],"$zoom":{"min":10}}],"draw":{"text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}},"Poi-Others8":{"filter":[{"kind":["260100"],"$zoom":{"min":10}}],"draw":{"text":{"priority":6,"font":{"size":11,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}},"Poi-Others9":{"filter":[{"kind":["250100"],"$zoom":{"min":9}}],"draw":{"pois":{"priority":6,"sprite":"others","size":["8px","8px"],"text":{"priority":6,"font":{"size":12,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}}},"Poi-Others10":{"filter":[{"kind":["260400"],"$zoom":{"min":12,"max":14}}],"draw":{"text":{"priority":6,"font":{"size":13,"fill":"#C2C7D1","stroke":{"color":"#ffffff","width":1},"weight":700}}}},"Poi-Others11":{"filter":[{"kind":["260200"],"$zoom":{"min":7}}],"draw":{"text":{"priority":6,"font":{"size":12,"fill":"#91B3CD","stroke":{"color":"#ffffff","width":1},"weight":700}}}}}}}');var u=c,p=r(60009),d=r(54859),h=r(88798);const f="BUY_VEGETABLE_INFO",m="api/express-gis-map-api/";var g=function(){const e=(0,a.useRef)(null),t=(0,a.useMemo)((()=>(0,d.tY)()?"".concat(m,"tile3_1/base"):"".concat(m,"tile3_2/base")),[]),r=(0,a.useMemo)((()=>{var e,t;return u.sources?(0,h.FU)(null==u||null===(e=u.sources)||void 0===e||null===(t=e.osm)||void 0===t?void 0:t.url).v:null}),[]),n=(0,a.useCallback)((()=>{const t=(0,p.Wv)();e.current=new l.Z(t)}),[]),o=(0,a.useCallback)((t=>{const r={},n=new Promise(((e,t)=>{r.res=e,r.rej=t}));e.current.getTileInfo(t).then((e=>{r.res(e)}),(e=>{r.rej(e)}));return{promise:n,request:{abort:()=>{r.rej(new Error("getTile Request ".concat(t," canceled")))}}}}),[]);return(0,a.useEffect)((()=>{n()}),[]),{mapYaml:u,source:f,getTileInfoHandler:o,tileUrl:t,dbName:"__VGT_LOCALFORAGE",cacheVersionKey:"__VGT_MAPAPI_VERSION__",version:r}}},32145:function(){},67718:function(e,t,r){"use strict";let n;r.d(t,{n:function(){return n}}),function(e){e.GoodsList="search_bottom",e.Channel="channel_bottom",e.GoodsDetail="goods_detail",e.Promotion="promotion",e.Order="my_order",e.OrderShare="order_share",e.WetMarket="wet_market",e.Rank="billboard",e.PaySuccess="pay_completed",e.CommActivity="comm_activity",e.McPoints="fresh_wallet",e.WxPromotions="wx_coupon",e.DailyRedPacket="pgp_dly_cpn",e.Comment="comment",e.SavingBox="saving_box"}(n||(n={}))},73553:function(e,t,r){"use strict";r.d(t,{Z:function(){return N}});var n=r(96156),o=r(45578),i=r.n(o),s=r(27361),a=r.n(s),l=r(44227),c=r(98249),u=r.n(c),p=r(42994),d=r(56422),h=r(6236),f=r(54859),m=r(53502),g=r(4075),y=r(72696),b=r(60009),v=r(14268),_=r(53192),w=r(40750),S=r(90275),P=r(64091),k=r(14358),O=r(61578),C=r(89421),I=r(12850),x=r(49802),E=r(81921);var T=r(67718),D=r(7213),A=r.n(D),R=r(94184),L=r.n(R),M=r(44227).createElement;function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=e=>{u()(A());const{renderGoods:t,storeId:r,renderTitle:n,recTitle:o,recTitleImg:s,scene:c,sceneSn:D,pageSection:R,itemWrapperClass:Z,titleClass:N,wrapperClass:z,afterGetMore:U,banGoodsList:B,mainGoodsId:G,queryUrl:F}=e,[H,W]=(0,l.useState)([]),[q,V]=(0,l.useState)(!0),K=(0,l.useRef)(!1),Y=(0,l.useRef)(0),Q=(0,l.useRef)(""),X=(0,l.useRef)(null),$={rootMargin:300,threshold:.5,isUseGoTop:null==e?void 0:e.useGoTop},J=(0,l.useMemo)((()=>(0,f.Wl)(n)?n():M("div",{className:L()(A().title,N)},M(w.Z,{className:A().titleIcon,src:s||(0,h.H)("/vgt/rec/rec_list_title_icon_v3.png"),lazy:!1}),M("span",{className:A().titleText},o||"猜你喜欢"))),[n,N,s,o]),ee=(0,l.useMemo)((()=>({data:e,index:n})=>t?t({key:e.goodsId,index:n,sceneSn:D,pageSection:R,pageElSn:4105747,goods:j(j({},e||{}),{},{skuId:a()(e,"skuId[0]")})}):M(E.Z,{key:e.goodsId,index:n,sceneSn:D,pageSection:R,pageElSn:4105747,goods:e,storeId:r,buttonProps:{inGoodsDetail:!0}})),[t,D,R,r]),te=(0,l.useCallback)((0,_.k)((async()=>{var e;if(!q)return O._b;const t=await X.current.postRisk(F||"/api/mc/v0/alexa/query_u2i_rec",{store_id:r,offset:Y.current||0,count:10,ban_goods_list:(B||[]).slice(-100),list_id:Q.current,u2i_scene:c||T.n.GoodsList,[C.Uk.extendMap]:(0,I.f5)((0,x.qT)()),main_goods_id:G,support_combination_goods:!0},{defaultErrorHandler:()=>null}).then((e=>(0,v.fZ)(e,k.s8))).catch((()=>({goodsList:[],hasMore:!1})));Y.current+=(null==t||null===(e=t.goodsList)||void 0===e?void 0:e.length)||0,V(null==t?void 0:t.hasMore),K.current=!0;const n=i()([...H,...(null==t?void 0:t.goodsList)||[]],"goodsId");null==U||U(n),W(n)}),{loading:!1}),[B,G,U,Y,r,Q,c,q,H,F]),re=(0,l.useCallback)((()=>{X.current||(X.current=new P.b((0,b.Wv)())),Q.current||(Q.current=(0,g.z)("rec_list_".concat(c||T.n.GoodsList))),te()}),[te,c]);return(0,p.Z)((()=>(e.useLazy||re(),()=>{Q.current=null,X.current=null}))),!K.current||H.length<=0?e.useLazy&&!K.current?M(d.Z,{onEnter:re,threshold:.1,doImpr:!1},M(S.ZP,null)):null:M(y.Z.Provider,{value:e.webpEnable},M("div",{className:A().wrapper},J,M("div",{className:A().flexList},M(m.Z,{wrapperClass:z,itemWrapperClass:Z,dataSource:H,renderItemView:ee,loadMoreFunc:te,hasMore:q,infiniteListOptions:$}))))}},10578:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});let n=null;{const e=window;function t(){}function r(e,t){return t.indexOf(e)>-1}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return e.className.match(new RegExp("(\\s|^)("+t+")(\\s|$)"))}function a(e,t){s(e,t)||(e.className+=" "+t)}function l(e,t){s(e,t)&&(e.className=e.className.replace(RegExp("(\\s|^)("+t+")(\\s|$)"),"$3"))}function c(e){return Array.prototype.slice.apply(e,Array.prototype.slice.call(arguments,1))}const u=function(){let e=c(arguments,0,3);if(!e.length)throw new Error("Parameters required!");let t=i(e.slice(-1)[0])?e.pop():{};switch(e.length){case 2:t.data=t.data||e[1];case 1:t.dom=t.dom||e[0]}if(!t.dom)throw new Error("Container can not be empty!");if(!t.data||!t.data.length)throw new Error("Data must be an array and must have more than one element!");this._opts=t,t=null,e=null,this._setting(),this.fire("initialize"),this._renderWrapper(),this._initPlugins(),this._bindHandler(),this.fire("initialized"),this._autoPlay()};u.VERSION="2.1.7",u.EVENTS=["initialize","initialized","pluginInitialize","pluginInitialized","renderComplete","slide","slideStart","slideEnd","slideChange","slideChanged","slideRestore","slideRestored","loadData","reset","destroy"],u.EASING=[["linear","ease","ease-in","ease-out","ease-in-out"],/cubic-bezier\(([^\d]*(\d+.?\d*)[^\,]*\,?){4}\)/],u.FIX_PAGE_TAGS=["SELECT","INPUT","TEXTAREA","BUTTON","LABEL"],u.NODE_TYPE={unknown:"unknown",empty:"empty",pic:"pic",dom:"dom",html:"html",node:"node",element:"element"},u.TRANSITION_END_EVENT=null,u.BROWSER_PREFIX=null,function(){const e=document.createElement("fakeElement");[["WebkitTransition","webkitTransitionEnd","webkit"],["transition","transitionend",null],["MozTransition","transitionend","moz"],["OTransition","oTransitionEnd","o"]].some((function(t){if(void 0!==e.style[t[0]])return u.TRANSITION_END_EVENT=t[1],u.BROWSER_PREFIX=t[2],!0}))}(),u.DEVICE_EVENTS=function(){const t=!!("ontouchstart"in e&&!/Mac OS X /.test(e.navigator.userAgent)||e.DocumentTouch&&document instanceof e.DocumentTouch);return{hasTouch:t,startEvt:t?"touchstart":"mousedown",moveEvt:t?"touchmove":"mousemove",endEvt:t?"touchend":"mouseup",cancelEvt:t?"touchcancel":"mouseout",resizeEvt:"onorientationchange"in e?"orientationchange":"resize"}}(),u.extend=function(){let e,t,r=arguments;switch(r.length){case 0:return;case 1:e=u.prototype,t=r[0];break;case 2:e=r[0],t=r[1]}for(const r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},u.plugins={},u.regPlugin=function(e,t){u.plugins[e]=u.plugins[e]||t},u.styleProp=function(e,t){return u.BROWSER_PREFIX?t?u.BROWSER_PREFIX+e.replace(/^[a-z]/,(function(e){return e.toUpperCase()})):"-"+u.BROWSER_PREFIX+"-"+e:e},u.setStyle=function(e,t,r){e.style[u.styleProp(t,1)]=r},u.getStyle=function(e,t){return e.style[u.styleProp(t,1)]},u._animateFuncs={normal:function(){function e(e,t,r,n,o){u.setStyle(e,"transform","translateZ(0) translate"+t+"("+(o+r*(n-1))+"px)")}return e.effect=u.styleProp("transform"),e}()};const p=u.prototype;p.extend=u.extend,p._setting=function(){const n=this;n._plugins=u.plugins,n._animateFuncs=u._animateFuncs,n._holding=!1,n._locking=!1,n._intermediateScene=null,n._transitionEndHandler=null,n._LSN={autoPlay:null,resize:null,transitionEnd:null},n.currentEl=null,n._EventHandle={},n.onMoving=!1,n.onSliding=!1,n.direction=null;const i=this._opts;n.wrap=i.dom,n.data=i.data,n.isVertical=!!i.isVertical,n.isOverspread=!!i.isOverspread,n.duration=i.duration||2e3,n.initIndex=i.initIndex>0&&i.initIndex<=i.data.length-1?i.initIndex:0,n.fixPage=function(){const e=i.fixPage;return!1!==e&&0!==e&&(!(o(e)&&e.length>0||"string"==typeof e&&""!==e)||[].concat(e).toString())}(),n.fillSeam=!!i.fillSeam,n.slideIndex=n.slideIndex||n.initIndex||0,n.axis=n.isVertical?"Y":"X",n.reverseAxis="Y"===n.axis?"X":"Y",n.width="number"==typeof i.width?i.width:n.wrap.offsetWidth,n.height="number"==typeof i.height?i.height:n.wrap.offsetHeight,n.ratio=n.height/n.width,n.scale=n.isVertical?n.height:n.width,n.offset=n.offset||{X:0,Y:0},n.isTouchable=null==i.isTouchable||!!i.isTouchable,n.isLooping=!!(i.isLooping&&n.data.length>1),n.dampingForce=Math.max(0,Math.min(1,parseFloat(i.dampingForce)||0)),n.delay=i.delay||0,n.isAutoplay=!!(i.isAutoplay&&n.data.length>1),n.animateType=i.animateType in n._animateFuncs?i.animateType:"normal",n._animateFunc=n._animateFuncs[n.animateType],n._animateReverse=function(){const e=[];for(const t in n._animateFuncs)n._animateFuncs.hasOwnProperty(t)&&n._animateFuncs[t].reverse&&e.push(t);return e}(),n.isVertical&&"card"===n.animateType&&(n.isOverspread=!0),n.log=i.isDebug?function(){e.console.log.apply(e.console,arguments)}:t,n._damping=function(e){return.62*Math.atan(Math.abs(e)/n.scale)*(1-n.dampingForce)*n.scale*(e>0?1:-1)},n.animateTime=null!=i.animateTime&&i.animateTime>-1?i.animateTime:300,n.animateEasing=r(i.animateEasing,u.EASING[0])||u.EASING[1].test(i.animateEasing)?i.animateEasing:"ease",n.deviceEvents=u.DEVICE_EVENTS,n.fingerRecognitionRange=i.fingerRecognitionRange>-1?parseInt(i.fingerRecognitionRange):10,n.events={},u.EVENTS.forEach((function(e){const t=i["on"+e.toLowerCase()];"function"==typeof t&&n.on(e,t,1)})),n.pluginConfig=function(){const e={};return o(i.plugins)&&i.plugins.forEach((function(t){o(t)?e[t[0]]=t.slice(1):"string"==typeof t&&(e[t]=[])})),e}()},p._initPlugins=function(){const e=this.pluginConfig,t=this._plugins;for(const r in e)e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&(this.log("[INIT PLUGIN]:",r,t[r]),t[r]&&"function"==typeof t[r]&&(t[r].apply,1)&&t[r].apply(this,e[r]));this.fire("pluginInitialized")},p._itemType=function(e){if(isNaN(e)||(e=this.data[e]),e.hasOwnProperty("type"))return e.type;const t=e.content,r=u.NODE_TYPE;let n;var o;return n=null==t?r.empty:Boolean(t.nodeName)&&Boolean(t.nodeType)?r.node:"string"==typeof t?!/<\/?[^>]*>/.test(o=t)&&/^(?:(https|http|ftp|rtsp|mms):)?(\/\/)?(\w+:{0,1}\w*@)?([^\?#:\/]+\.[a-z]+|\d+\.\d+\.\d+\.\d+)?(:[0-9]+)?((?:\.?\/)?([^\?#]*)?(\?[^#]+)?(#.+)?)?$/.test(o)?r.pic:r.html:r.unknown,e.type=n,n},p._renderItem=function(e,t){let r,n=this,o=this.data.length;const i=function(){let t=' src="'+r.content+'"';r.height/r.width>n.ratio?t+=' height="100%"':t+=' width="100%"',n.isOverspread&&(e.style.cssText+="background-image:url("+r.content+");background-repeat:no-repeat;background-position:50% 50%;background-size:cover",t+=' style="display:block;opacity:0;height:100%;width:100%;"'),e.innerHTML="<img"+t+" />"};if(e.innerHTML="",e.style.background="",!this.isLooping&&null==this.data[t])return;t=(o+t)%o,r=this.data[t];const s=this._itemType(r),a=u.NODE_TYPE;switch(this.log("[RENDER]:",s,t,r),e.className="islider-"+s,s){case a.pic:if(2===r.load)i();else{const e=new Image;e.src=r.content,e.onload=function(){r.height=e.height,r.width=e.width,i(),r.load=2}}break;case a.dom:case a.html:e.innerHTML=r.content;break;case a.node:case a.element:if(11===r.content.nodeType){const e=document.createElement("div");e.appendChild(r.content),r.content=e}e.appendChild(r.content)}},p._renderIntermediateScene=function(){null!=this._intermediateScene&&(this._renderItem.apply(this,this._intermediateScene),this._intermediateScene=null)},p._changedStyles=function(){const e=["islider-prev","islider-active","islider-next"];this.els.forEach(function(t,r){l(t,e.join("|")),a(t,e[r]),this.fillSeam&&this.originScale(t)}.bind(this))},p._renderWrapper=function(){let t;this.outer?(t=this.outer,t.innerHTML=""):t=document.createElement("ul"),t.className="islider-outer",this.els=[];for(let e=0;e<3;e++){const r=document.createElement("li");this.els.push(r),this._animateFunc(r,this.axis,this.scale,e,0),this.fixPage||(r.style.overflow="auto"),!this.isVertical||"rotate"!==this.animateType&&"flip"!==this.animateType?this._renderItem(r,e-1+this.slideIndex):this._renderItem(r,1-e+this.slideIndex),t.appendChild(r)}this._changedStyles(),this.fillSeam&&this.els.forEach((function(e,t){a(e,"islider-sliding"+(1===t?"-focus":""))})),e.setTimeout(function(){this._preloadImg(this.slideIndex)}.bind(this),200),this.outer||(this.outer=t,this.wrap.appendChild(t)),this.currentEl=this.els[1],this.fire("renderComplete",this.slideIndex,this.currentEl,this)},p._preloadImg=function(e){if(this.data.length>3){const t=this.data,r=t.length,n=this,o=function(e){const r=t[e];if("pic"===n._itemType(r)&&!r.load){const e=new Image;e.src=r.content,e.onload=function(){r.width=e.width,r.height=e.height,r.load=2},r.load=1}};o((e+2)%r),o((e-2+r)%r)}},p._watchTransitionEnd=function(t,r){this._unWatchTransitionEnd();const n=function(){this._unWatchTransitionEnd(),"slideChanged"===r&&this._changedStyles(),this.fire.call(this,r,this.slideIndex,this.currentEl,this),this._renderIntermediateScene(),this.play(),this.onSliding=!1,this.direction=null}.bind(this);u.TRANSITION_END_EVENT&&(this.currentEl.addEventListener(u.TRANSITION_END_EVENT,n),this._transitionEndHandler={el:this.currentEl,handler:n}),this._LSN.transitionEnd=e.setTimeout(n,t)},p._unWatchTransitionEnd=function(){this._LSN.transitionEnd&&e.clearTimeout(this._LSN.transitionEnd),null!==this._transitionEndHandler&&(this._transitionEndHandler.el.removeEventListener(u.TRANSITION_END_EVENT,this._transitionEndHandler.handler),this._transitionEndHandler=null)},p.rebindTouch=function(){const e=this.outer,t=this.deviceEvents;this.isTouchable||(t.hasTouch||(e.style.cursor="pointer",e.ondragstart=function(e){return!e}),e.addEventListener(t.startEvt,this),e.addEventListener(t.moveEvt,this),e.addEventListener(t.endEvt,this),!t.hasTouch&&e.addEventListener("mouseout",this),this.isTouchable=!0)},p._bindHandler=function(){const t=this.outer,r=this.deviceEvents;this.isTouchable&&(r.hasTouch||(t.style.cursor="pointer",t.ondragstart=function(e){return!e}),t.addEventListener(r.startEvt,this),t.addEventListener(r.moveEvt,this),t.addEventListener(r.endEvt,this),!r.hasTouch&&t.addEventListener("mouseout",this)),e.addEventListener(r.resizeEvt,this),e.addEventListener("focus",this,!1),e.addEventListener("blur",this,!1)},p.handleEvent=function(e){const t=this.deviceEvents;switch(e.type){case"mousedown":if(0!==e.button)break;case"touchstart":this.startHandler(e);break;case t.moveEvt:this.moveHandler(e);break;case t.endEvt:case t.cancelEvt:this.endHandler(e);break;case t.resizeEvt:this.resizeHandler();break;case"focus":this.play();break;case"blur":this.pause()}},p.startHandler=function(e){if(this.fixPage&&u.FIX_PAGE_TAGS.indexOf(e.target.tagName.toUpperCase())<0&&!this._isItself(e.target)&&e.preventDefault(),this._holding||this._locking)return;const t=this.deviceEvents;this.onMoving=!0,this.pause(),this.log("[EVENT]: start"),this.fire("slideStart",e,this),this.startTime=(new Date).getTime(),this.startX=t.hasTouch?e.targetTouches[0].pageX:e.pageX,this.startY=t.hasTouch?e.targetTouches[0].pageY:e.pageY},p.moveHandler=function(e){if(!this.onMoving)return;this.log("[EVENT]: moving");const t=this.deviceEvents,r=this.data.length,n=this.axis,o=this.reverseAxis,i={};e.hasOwnProperty("offsetRatio")?(i[n]=e.offsetRatio*this.scale,i[o]=0):(i.X=t.hasTouch?e.targetTouches[0].pageX-this.startX:e.pageX-this.startX,i.Y=t.hasTouch?e.targetTouches[0].pageY-this.startY:e.pageY-this.startY),this.offset=i,e.offsetRatio=i[n]/this.scale,Math.abs(i[n])-Math.abs(i[o])>10&&(e.preventDefault(),this._unWatchTransitionEnd(),this.isLooping||(i[n]>0&&0===this.slideIndex||i[n]<0&&this.slideIndex===r-1)&&(i[n]=this._damping(i[n])),this.els.forEach(function(e,t){e.style.visibility="visible",u.setStyle(e,"transition","none"),this._animateFunc(e,n,this.scale,t,i[n],i[n]),this.fillSeam&&this.seamScale(e)}.bind(this)),this.fire("slide",e,this))},p.endHandler=function(t){if(!this.onMoving)return;this.log("[EVENT]: end"),this.onMoving=!1;const r=this.offset,n=this.axis;let o=this.scale/2;const i=(new Date).getTime(),s=this.fingerRecognitionRange;o=i-this.startTime>300?o:14;const a=Math.abs(r[n]),l=Math.abs(r[this.reverseAxis]);this.fire("slideEnd",t,this),r[n]>=o&&l<a?this.slideTo(this.slideIndex-1):r[n]<-o&&l<a?this.slideTo(this.slideIndex+1):Math.abs(this.offset[n])>=s&&this.slideTo(this.slideIndex),Math.abs(this.offset[n])<s&&this.fixPage&&t.target&&function r(n){if(null!=n)if("A"===n.tagName){if(n.href)return"_blank"===n.getAttribute("target")?e.open(n.href):e.location.href=n.href,t.preventDefault(),!1}else{if("LI"===n.tagName&&n.className.search(/^islider\-/)>-1)return!1;r(n.parentNode)}}(t.target),this.offset.X=this.offset.Y=0},p.resizeHandler=function(){let t,r,n=this._LSN.resize,o=+new Date;this.deviceEvents.hasTouch?(n&&e.clearInterval(n),n=e.setInterval(function(){this.height!==this.wrap.offsetHeight||this.width!==this.wrap.offsetWidth?(n&&e.clearInterval(n),n=e.setInterval(function(){t===this.wrap.offsetWidth&&r===this.wrap.offsetHeight?(n&&e.clearInterval(n),this.reset(),this.log("[EVENT]: resize")):(t=this.wrap.offsetWidth,r=this.wrap.offsetHeight)}.bind(this),12)):+new Date-o>=1e3&&n&&e.clearInterval(n)}.bind(this),12)):(n&&e.clearTimeout(n),n=e.setTimeout(function(){this.height===this.wrap.offsetHeight&&this.width===this.wrap.offsetWidth||(n&&e.clearInterval(n),this.reset(),this.log("[EVENT]: resize"))}.bind(this),200))},p.slideTo=function(e,t){if(this.isAutoplay&&this.pause(),this._locking)return;this.unhold(),this.onSliding=!0;let n=this.animateTime,o=this.animateType,i=this._animateFunc;const s=this.data,c=this.els,p=this.axis,d=e;let h=e-this.slideIndex;const f=this.offset;let m,g,y,b,v=0;"object"==typeof t&&(t.animateTime>-1&&(n=t.animateTime),"string"==typeof t.animateType&&t.animateType in this._animateFuncs&&(o=t.animateType,i=this._animateFuncs[o])),0!==f[p]&&(v=Math.abs(f[p])/this.scale*n),Math.abs(h)>1&&this._renderItem(h>0?this.els[2]:this.els[0],d),this._preloadImg(d),s[d]?this.slideIndex=d:this.isLooping?this.slideIndex=h>0?0:s.length-1:h=0,this.log("[SLIDE TO]: "+this.slideIndex),0===h?m="slideRestore":((this.isVertical&&r(o,this._animateReverse))^h>0?(c.push(c.shift()),g=c[2],y=c[0],b=1):(c.unshift(c.pop()),g=c[0],y=c[2],b=-1),this.currentEl=c[1],1===Math.abs(h)?(this._renderIntermediateScene(),this._renderItem(g,d+h)):Math.abs(h)>1&&(this._renderItem(g,d+b),this._intermediateScene=[y,d-b]),u.setStyle(g,"transition","none"),v=n-v,m="slideChange",this.fillSeam&&(c.forEach((function(e){l(e,"islider-sliding|islider-sliding-focus")})),a(this.currentEl,"islider-sliding-focus"),a(g,"islider-sliding")),this.direction=b);for(let e=0;e<3;e++)c[e]!==g&&u.setStyle(c[e],"transition",(i.effect||"all")+" "+v+"ms "+this.animateEasing),i.call(this,c[e],p,this.scale,e,0,b),this.fillSeam&&this.seamScale(c[e]);this._watchTransitionEnd(v,m+"d"),this.fire(m,this.slideIndex,this.currentEl,this)},p.slideNext=function(){this.slideTo.apply(this,[this.slideIndex+1].concat(c(arguments)))},p.slidePrev=function(){this.slideTo.apply(this,[this.slideIndex-1].concat(c(arguments)))},p.regPlugin=function(){const e=c(arguments);let t=e.shift(),n=e[0];(this._plugins.hasOwnProperty(t)||"function"==typeof n)&&("function"==typeof n&&(this._plugins[t]=n,e.shift()),r(t,this._opts.plugins)||(this._opts.plugins.push(e.length?[].concat([t],e):t),"function"==typeof this._plugins[t]&&this._plugins[t].apply(this,e)))},p.bind=p.delegate=function(t,r,n){function o(t){const o=(e.event?e.event:t).target,i=document.querySelectorAll(r);for(let e=0;e<i.length;e++)if(o===i[e]){n.call(o);break}}this.wrap.addEventListener(t,o,!1);const i=t+";"+r;this._EventHandle.hasOwnProperty(i)?(this._EventHandle[i][0].push(n),this._EventHandle[i][1].push(o)):this._EventHandle[i]=[[n],[o]]},p.unbind=p.unDelegate=function(e,t,r){const n=e+";"+t;if(this._EventHandle.hasOwnProperty(n)){const t=this._EventHandle[n][0].indexOf(r);if(t>-1)return this.wrap.removeEventListener(e,this._EventHandle[n][1][t]),this._EventHandle[n][0][t]=this._EventHandle[n][1][t]=null,!0}return!1},p.destroy=function(){const t=this.outer,r=this.deviceEvents;let n;for(n in this.fire("destroy"),this.isTouchable&&(t.removeEventListener(r.startEvt,this),t.removeEventListener(r.moveEvt,this),t.removeEventListener(r.endEvt,this),!r.hasTouch&&t.removeEventListener("mouseout",this)),e.removeEventListener(r.resizeEvt,this),e.removeEventListener("focus",this),e.removeEventListener("blur",this),this._EventHandle){const e=this._EventHandle[n][1];for(let t=0;t<e.length;t++)"function"==typeof e[t]&&this.wrap.removeEventListener(n.substr(0,n.indexOf(";")),e[t])}for(n in this._EventHandle=null,this._LSN)this._LSN.hasOwnProperty(n)&&this._LSN[n]&&e.clearTimeout(this._LSN[n]);this._LSN=null,this.wrap.innerHTML=""},p.on=function(e,t,n){r(e,u.EVENTS)&&"function"==typeof t&&(!(e in this.events)&&(this.events[e]=[]),n?this.events[e].unshift(t):this.events[e].push(t))},p.has=function(e,t){return e in this.events&&this.events[e].indexOf(t)>-1},p.off=function(e,t){if(e in this.events){const r=this.events[e].indexOf(t);r>-1&&delete this.events[e][r]}},p.fire=function(e){const t=c(arguments,1);e.split(/\x20+/).forEach(function(e){if(this.log("[EVENT FIRE]:",e,t),e in this.events){const r=this.events[e];for(let e=0;e<r.length;e++)"function"==typeof r[e]&&r[e].apply&&r[e].apply(this,t)}}.bind(this))},p.reset=function(){this.pause(),this._unWatchTransitionEnd(),this.width="number"==typeof this._opts.width?this._opts.width:this.wrap.offsetWidth,this.height="number"==typeof this._opts.height?this._opts.height:this.wrap.offsetHeight,this.ratio=this.height/this.width,this.scale=this.isVertical?this.height:this.width,this._renderWrapper(),this._autoPlay(),this.fire("reset slideRestored",this.slideIndex,this.currentEl,this)},p.loadData=function(e,t){this.pause(),this._unWatchTransitionEnd(),this.slideIndex=t||0,this.data=e,this._renderWrapper(),this._autoPlay(),this.fire("loadData slideChanged",this.slideIndex,this.currentEl,this)},p.pushData=function(e){const t=this.data.length;this.data=this.data.concat(e),this.isLooping&&0===this.slideIndex?this._renderItem(this.els[0],this.data.length-1):t-1===this.slideIndex&&(this._renderItem(this.els[2],t),this._autoPlay())},p.unshiftData=function(e){if(!e)return;o(e)||(e=[e]);const t=e.length;this.data=e.concat(this.data),0===this.slideIndex&&this._renderItem(this.els[0],t-1),this.slideIndex+=t},p._autoPlay=function(){this.delay>0?e.setTimeout(this.play.bind(this),this.delay):this.play()},p.play=function(){this.pause(),this.isAutoplay&&(this.isLooping||this.slideIndex<this.data.length-1)&&(this._LSN.autoPlay=e.setTimeout(this.slideNext.bind(this),this.duration))},p.pause=function(){this._LSN.autoPlay&&e.clearTimeout(this._LSN.autoPlay)},p.hold=function(){this._holding=!0},p.unhold=function(){this._holding=!1,this.unlock()},p.lock=function(){this.hold(),this._locking=!0},p.unlock=function(){this._locking=!1},p.seamScale=function(e){const t=/scale([XY]?)\(([^\)]+)\)/,r=u.getStyle(e,"transform");t.test(r)?u.setStyle(e,"transform",r.replace(t,function(e,t,r){const n={};return t?(n[t]=parseFloat(r),"scale"+this.axis+"("+(t===this.axis?1.001*n[this.axis]:1.001)+")"):(r.indexOf(",")>-1?(r=r.split(","),n.X=parseFloat(r[0]),n.Y=parseFloat(r[1])):n.Y=n.X=parseFloat(r),n[this.axis]*=1.001,"scale("+n.X+", "+n.Y+")")}.bind(this))):u.setStyle(e,"transform",r+" scale"+this.axis+"(1.001)")},p.originScale=function(e){u.setStyle(e,"transform",u.getStyle(e,"transform").replace(/([\x20]?scale)([XY]?)\(([^\)]+)\)/,function(e,t,r,n){return e={},r?"1.001"===n?"":(e[r]=parseFloat(n),"scale"+this.axis+"("+(r===this.axis?e[this.axis]/1.001:1)+")"):(n.indexOf(",")>-1?(n=n.split(","),e.X=parseFloat(n[0]),e.Y=parseFloat(n[1])):e.Y=e.X=parseFloat(n),e[this.axis]/=1.001,"scale("+e.X+", "+e.Y+")")}.bind(this)))},p._isItself=function(e){const t=this.fixPage;if("string"==typeof t){let r,n=[],o=e;for(;!s(o,"islider-outer")&&o!==this.wrap;)n.push(o),o=o.parentNode;if(o=n.pop(),n.length)try{if(r=Array.prototype.slice.call(o.querySelectorAll(t)),r.length)for(let e=0;e<n.length;e++)if(r.indexOf(n[e])>-1)return!0}catch(e){return!1}}return!1},p.subjectTo=function(e,t){if(!(e instanceof u))return;const r=this;r.animateTime=e.animateTime,r.isLooping=e.isLooping,r.isAutoplay=!1,e.on("slideStart",(function(e){r.startHandler(e)})),e.on("slide",(function(e){r.moveHandler(e)})),e.on("slideEnd",(function(e){r.endHandler(e)})),e.on("slideChange",(function(e){const t=r.data.length,n=r.direction;n>0&&(e-r.slideIndex+t)%t==1?r.slideNext():n<0&&(e-r.slideIndex-t)%t==-1&&r.slidePrev()})),e.on("slideRestore",(function(e){r.slideIndex!==e&&r.slideTo(e)}))},u.regPlugin("dot",(function(e){const t=this;let r=t.data,n=[],o=[];const i=t.deviceEvents.endEvt,s=e.dotWrapClass||"islider-dot-wrap",a=e.dotClass||"islider-dot",l=document.createElement("ul");function c(){const e=document.createDocumentFragment();n.forEach((function(e,t){e.removeEventListener(i,o[t],!1)})),n=[],o=[],l.innerHTML="";for(let s=0;s<r.length;s++)n[s]=document.createElement("li"),n[s].className=a,n[s].setAttribute("index",s),s===t.slideIndex&&(n[s].className+=" active"),o[s]=function(){t.slideTo(parseInt(this.getAttribute("index"),10))},n[s].addEventListener(i,o[s],!1),e.appendChild(n[s]);l.appendChild(e)}l.className=s,c(),function(e){if("relative"===e)return t.wrap;if(Boolean(e.nodeName)&&Boolean(e.nodeType))return e;return t.wrap.parentNode}(!(!e||null==e.locate)&&e.locate).appendChild(l),t.on("slideChange",(function(){for(let e=0;e<r.length;e++)n[e].className=a,e===this.slideIndex&&(n[e].className+=" active")})),t.on("loadData",(function(){r=this.data,c()}),1)})),n=u}var o=n;function i(e){const t=e||document.getElementById("banner");let r,n;let i=!0;function s(e){const t=e;let r="";e.forwardUrl&&(r=e.forwardUrl);let n='<img src="'+t+'"" data-url="'+r+'"/>';return e.html&&(n=e.html),{content:n}}function a(e){const t=e.data;t&&t.length&&t.length>1?(e.isLooping=!0,e.isAutoplay=i,e.animateTime=600,e.duration=3e3,e.rebindTouch()):(e.isLooping=!1,e.isAutoplay=i),e.loadData(e.data,0),e.reset()}n=function(e){};const l=function(e,n,l,c){const u=[],p=c;r&&(r.data=[]),!1===n&&(i=n);for(let t=0;t<e.length;t++)if(e[t]){const n=s(e[t]);r?r.pushData(n):u.push(n)}if(!r){const e={dom:t,data:u,isLooping:!1,isAutoplay:!1,animateTime:600,duration:3e3,fixPage:!1};u.length>1?(e.isLooping=!0,e.isAutoplay=!1,e.isTouchable=!0):e.isTouchable=!1,r=new o(e)}return 0===e.length&&p&&p(!0),a(r),r};return{load:l,show:function(){t.style.display=""},hide:function(){t.style.display="none"},play:function(){r&&r.play()},reload:function(e){l(e)},destroy:function(){r.destroy()},on(e,t){r.on(e,t)},click(e){n=e},loaded:()=>!!r,insert:function(e,t){r.data.splice(t,0,s(e)),a(r)},slideTo:function(e){r.slideTo(e)}}}},64568:function(e,t,r){"use strict";r.d(t,{xl:function(){return o}});let n;!function(e){e[e.Default=0]="Default",e[e.Recommend=1]="Recommend"}(n||(n={}));const o="输入地址，查找自提点"},20856:function(e,t,r){"use strict";r.d(t,{HZ:function(){return i},vk:function(){return s}});var n=r(83296),o=r(6236);(0,n.ep)("location_icon_red"),(0,o.H)("/jinbao/2020-08-20/0857da44-bb76-4aa6-ae4c-b08adf944770.png"),(0,n.ep)("right_arrow");const i=(0,n.ep)("goods_supplement"),s=(0,n.Yo)("c0883f21-476d-4930-9807-1a8ee04076ea")},11749:function(e,t,r){"use strict";r.d(t,{Js:function(){return o},Ef:function(){return i},Bq:function(){return s},e7:function(){return a},Br:function(){return l},_q:function(){return c},VL:function(){return u},L7:function(){return p},Fk:function(){return d}});var n=r(83296);const o={Lighted:(0,n.ep)("star_lighted"),NotLighted:(0,n.ep)("star_not_lighted")};let i,s;!function(e){e[e.NotReview=1]="NotReview",e[e.HasReviewed=2]="HasReviewed"}(i||(i={})),function(e){e[e.PartialFailure=40008]="PartialFailure",e[e.ParentOrderNotExist=11e3]="ParentOrderNotExist",e[e.OrderCannotReview=11001]="OrderCannotReview",e[e.NotSelfOrder=11002]="NotSelfOrder",e[e.StoreNotExist=11500]="StoreNotExist",e[e.GetRewardTimeout=90000103]="GetRewardTimeout",e[e.PayBackRefund=90000110]="PayBackRefund",e[e.LowVersion=90000117]="LowVersion"}(s||(s={}));const a="网络错误，请稍后再试";let l,c,u,p;!function(e){e.ReviewSubmitSuccess="review_submit_success"}(l||(l={})),function(e){e.QueryFail="获取评价失败",e.QueryRequireParentFreshOrderSn="获取评价缺少父生鲜订单号",e.SubmitRequireParentFreshOrderSn="提交评价缺少浮生闲订单号",e.SubmitPartialFail="提交评价部分失败",e.SubmitFail="提交评价失败",e.PayBackSearchCouponsFail="全额返查看奖励按扭出弹窗失败",e.PayBackGetCouponPackageDetailFail="全额返券包详情弹窗失败",e.PayBackGetScanTaskFail="全额返去浏览任务接口失败",e.PayBackGetCouponsSuccess="全额返领取曝光",e.RedPacketShareNotBack="分享领领红包分享未成功执行回调"}(c||(c={})),function(e){e.NegativeReview="negative_review",e.PositiveReview="positive_review"}(u||(u={})),function(e){e[e.Normal=0]="Normal",e[e.Quality=1]="Quality"}(p||(p={}));const d="0"},86024:function(e,t,r){"use strict";r.d(t,{bB:function(){return l},x:function(){return u},Y2:function(){return p},oJ:function(){return d},jf:function(){return h},cg:function(){return f},f0:function(){return m},b$:function(){return g},YU:function(){return y},Ct:function(){return b},sv:function(){return v},zK:function(){return w},NF:function(){return S},Wy:function(){return P},$$:function(){return k},eF:function(){return O},Aq:function(){return C},U1:function(){return I},Q5:function(){return x},Or:function(){return E},pD:function(){return T}});var n=r(96156),o=r(6236),i=r(54859);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let l,c,u;!function(e){e.Mall="mall_list",e.Goods="goods",e.Spike="spike",e.BossLanding="order_share",e.OrderPickup="goods_pickup_share",e.RedPacket="red_packet",e.FriendPay="friend_pay",e.ReviewShareLanding="review_share_landing",e.PiggyBank="piggy_bank_share",e.CategoryCoupons="coupon_center_assist",e.RedPacketCashShare="redpacket_cash_share",e.McPointsActivityAssist="points_cash_out_share",e.CaptainStore="captain_store",e.CaptainGoods="captain_goods",e.SmashPiggyBank="smash_piggy_bank",e.CommentCoupon="comment_coupon"}(l||(l={})),function(e){e.FromApp="user_share_app",e.FromXcx="user_share_xcx"}(c||(c={})),function(e){e.GoodsCard="goods_card_share",e.GoodsPoster="goods_img_share",e.SpikePoster="seckill_goodslist_card_share"}(u||(u={}));const p=0;let d;!function(e){e[e.MallList=1]="MallList",e[e.Goods=2]="Goods",e[e.Spike=3]="Spike",e[e.GoodsH5LandContent=4]="GoodsH5LandContent"}(d||(d={}));const h={title:"分享给好友，一起享受优惠便捷买菜",message:"一起来买菜，今日下单，次日自提。",thumbnailURL:(0,o.H)("/mkt/eb26865e-7977-4872-a9dc-c98d61c6613b.png"),waterMark:""},f={MallPoster:{cid:"store_img_share",shareApi:"/api/mc/v1/share/query_shared_picture"},CaptainPoster:{cid:"b_store_img_share",shareApi:"/api/mcb/v1/share/query_shared_picture"}},m={0:"native_share_card",1:"native_share_timeline",5:"native_save_img",7:"native_share_pdd_timeline"};let g,y,b;!function(e){e[e.HeteroMall=1]="HeteroMall",e[e.Mall=2]="Mall",e[e.InviteCaptain=4]="InviteCaptain",e[e.DDJB=5]="DDJB",e[e.InviteNew=6]="InviteNew"}(g||(g={})),function(e){e[e.None=0]="None",e[e.Normal=1]="Normal",e[e.AfterOptional=2]="AfterOptional"}(y||(y={})),function(e){e.True="1"}(b||(b={}));const v={WeChatXcxCard:"WeChatXcxCard",WeChatPosterImage:"WeChatPosterImage",WeChatH5Card:"WeChatH5Card",TimelinePoster:"TimelinePoster",ShortUrl:"ShortUrl",AppCipher:"AppCipher",McCopyLink:"McCopyLink"},_={McShareMaskChannels:[v.WeChatXcxCard,v.TimelinePoster],DefaultCanUseShareTypePools:[v.WeChatXcxCard,v.WeChatH5Card],CanUseShareTypePoolsMap:{},DefaultLandPageContentUrl:(0,o.H)("/mkt/745ad2d8-8378-4b59-97de-20ac86554cc7.gif")},w=()=>{var e;return a(a({},_),(0,i.jU)()&&null!==(e=window)&&void 0!==e&&e.__SHARE_CONFIG__?window.__SHARE_CONFIG__:{})},S={MaskXcxCard:"vgt_share_mask_xcx_card",MaskTimeline:"vgt_share_mask_timeline",MaskWechatImg:"vgt_share_mask_wechat_img",MaskH5Card:"vgt_share_mask_h5_card",MaskShortUrl:"vgt_share_mask_short_url",NoMaskShare:"vgt_share_no_mask",DirectlyXcxCard:"vgt_share_directly_xcx_card",DirectlyH5Card:"vgt_share_directly_h5_card",DirectlyWechatImg:"vgt_share_directly_wechat_img",NoDirectlyClick:"vgt_share_no_directly_click",DirectlyShortUrl:"vgt_share_directly_short_url",DirectlyAppCipher:"vgt_share_directly_app_cipher",DirectlyClickSuccess:"vgt_share_directly_click_success",DirectlyClickError:"vgt_share_directly_click_error",ShareSuccessAppShow:"vgt_share_success_app_show",ShareSuccessDirectly:"vgt_share_success_directly",ShareSuccessWxPageShow:"vgt_share_success_wx_page_show",ShareFlowActionError:"share_flow_action_error",NoShareSrc:"share_error_no_share_src"},P={[v.WeChatXcxCard]:S.DirectlyXcxCard,[v.WeChatH5Card]:S.DirectlyH5Card,[v.WeChatPosterImage]:S.DirectlyWechatImg,[v.ShortUrl]:S.DirectlyShortUrl,[v.AppCipher]:S.DirectlyAppCipher};let k;!function(e){e.AppShow="AppShow",e.Directly="Directly",e.WxPageShow="WxPageShow"}(k||(k={}));const O={[k.AppShow]:S.ShareSuccessAppShow,[k.Directly]:S.ShareSuccessDirectly,[k.WxPageShow]:S.ShareSuccessWxPageShow};let C,I;!function(e){e.MallList="vgt_mall_list",e.FriendPay="vgt_friend_pay"}(C||(C={})),function(e){e[e.Test=18]="Test",e[e.Prod=13]="Prod"}(I||(I={}));const x="来多多买菜，优惠多多哦！",E="去微信粘贴喊好友买菜吧";let T;!function(e){e[e.Wechat=0]="Wechat",e[e.WeChatTimeline=1]="WeChatTimeline",e[e.SaveImage=5]="SaveImage",e[e.Pxq=7]="Pxq",e[e.McCopyLink=19]="McCopyLink"}(T||(T={}))},70935:function(e,t,r){"use strict";let n;r.d(t,{U:function(){return n}}),function(e){e[e.START=0]="START",e[e.STOP=1]="STOP"}(n||(n={}))},65870:function(e,t,r){"use strict";let n,o;r.d(t,{H:function(){return n},l:function(){return o}}),function(e){e.ORDER_FOR_CASH="report_order_for_cash",e.SHARE_ACTION="share_action",e.SHARE_SUCCESS_ACTION="share_success_action",e.SELECT_REGION="shopping_cart_switch",e.UPDATE_BANNER="update_banner",e.OPEN_RED_PACKAGE="open_red_package",e.ANOTHER_ORDER="build_again_order_mission"}(n||(n={})),function(e){e.MALL_LIST_LANDING="mall_list_landing",e.ADDRESS_LIST_SELECT_REGION="area_switch_loading"}(o||(o={}))},32450:function(e,t,r){"use strict";let n,o;r.d(t,{O:function(){return n},b:function(){return o}}),function(e){e.AppHome="app_home",e.AppMessage="app_message",e.PxqGoodsShare="pxq_goods_share",e.PxqStoreShare="pxq",e.DeliveryMessage="app_delivery_push",e.OrderListRec="order_list_rec",e.OrderDetailRec="order_detail_rec",e.OrderShareRec="order_share_rec",e.WidgetAddCart="widget_addtocart"}(n||(n={})),function(e){e.PxqStoreShare="app_store_pxq_share",e.PxqGoodsShare="app_goods_pxq_share"}(o||(o={}))},6091:function(e,t,r){"use strict";r.d(t,{cB:function(){return s}});var n=r(88237),o=r(3530);r(99124);var i=r(54859);function s(){(0,i.tY)()&&(0,n.z2)({callback:()=>{o.ZP.back()}})}},12377:function(e,t,r){"use strict";r.d(t,{wF:function(){return c},sn:function(){return p},h5:function(){return d},nA:function(){return h},jy:function(){return f}});var n=r(91175),o=r.n(n),i=r(95643),s=r(7991),a=r(54859);function l(e){return"".concat("ddmc_fresh","_").concat(e||"normal")}const c={Denied:"Denied",Authorized:"Authorized",NotDetermined:"NotDetermined"};let u;async function p(){const e=await(0,i.nM)("PDDCalendarNotification","checkAuthorization",{},s.bR.Android,s.bR.IOS,!1);return null==e?void 0:e.status}async function d(e,t){if(null==t||!t.length||!e)return Promise.resolve();const r=null==t?void 0:t.map((async t=>{const r=await async function(e,t){const r=l(e),n=await(0,i.nM)("PDDCalendarNotification","removeCalendarEvent",{event_id:t,biz_name:r},s.bR.Android,s.bR.IOS,!1);return null==n?void 0:n.success}(e,null==t?void 0:t.event_id);return r})),n=await Promise.all(r);return(0,i.Gg)(JSON.stringify({error_msg:"PDDCalendarNotification_removeCalendarEvent",calendarList:t,bizName:l(e)})),n}async function h(e){const t=l(e),r=await(0,i.nM)("PDDCalendarNotification","getAllCalendarEvent",{biz_name:t},s.bR.Android,s.bR.IOS,!1);return(null==r?void 0:r.events)||[]}async function f(e){if(!(0,a.tY)()||null==e||!e.length)return!1;try{const{bizName:t}=o()(e)||{},r=await h(t)||[];if(null!=r&&r.length)return!1;const n=e.map((async e=>{const t=await async function(e){const t=await p();if([c.Authorized,c.NotDetermined].includes(t)){const{bizName:t,eventId:r,startTime:n,endTime:o,url:a,title:c,notes:u}=e||{},p=l(t),d={biz_name:p,event_id:r||"".concat(p,"_").concat(n),start_time:n,end_time:o,url:a,title:c||"",notes:u||""},h=await(0,i.nM)("PDDCalendarNotification","addCalendarEvent",d,s.bR.Android,s.bR.IOS,!1);return null==h?void 0:h.success}return u.Fail}(e);return t})),a=await Promise.all(n);return(0,i.Gg)(JSON.stringify({error_msg:"PDDCalendarNotification_addCalendarEvent",calendarConfigs:n,status:a})),a.some((e=>!!e))}catch(e){return(0,i.wM)("PDDCalendarNotification_addCalendarEvent_error"),!1}}!function(e){e[e.Fail=0]="Fail",e[e.Success=1]="Success"}(u||(u={}))},71104:function(e,t,r){"use strict";r.d(t,{Sl:function(){return h},QW:function(){return g},jP:function(){return u},B7:function(){return p},F$:function(){return f},L8:function(){return m},WE:function(){return A},A4:function(){return E},P$:function(){return x},XA:function(){return I},VO:function(){return T}});r(81763);var n=r(64663),o=r(54859),i=(r(78265),r(16477)),s=r(41351);let a,l,c,u,p,d,h,f,m;!function(e){e[e.Success=0]="Success",e[e.Fail=1]="Fail",e[e.Refuse=2]="Refuse",e[e.Not=3]="Not"}(a||(a={})),function(e){e[e.WechatGetLocation=0]="WechatGetLocation",e[e.Geolocation=1]="Geolocation",e[e.NativeLocationId=2]="NativeLocationId"}(l||(l={})),function(e){e[e.PositionDenied=1]="PositionDenied",e[e.PositionUnavailable=2]="PositionUnavailable",e[e.Timeout=3]="Timeout"}(c||(c={})),function(e){e[e.NotSupport=1]="NotSupport",e[e.NativeTimeout=2]="NativeTimeout",e[e.NativeUnknown=3]="NativeUnknown",e[e.PositionDenied=60010]="PositionDenied",e[e.NetError=60009]="NetError",e[e.Not=60050]="Not"}(u||(u={})),function(e){e.MallList="home_fresh"}(p||(p={})),function(e){e.ApiSuccessInvalidPosition="fetch_position_success_but_invalid_position",e.ApiFail="fetch_position_fail"}(d||(d={})),function(e){e[e.NotRequestPermission=0]="NotRequestPermission",e[e.RequestPermission=1]="RequestPermission"}(h||(h={})),function(e){e[e.NoNeed=0]="NoNeed",e[e.SettingsPopup=1]="SettingsPopup",e[e.DirectTo=2]="DirectTo"}(f||(f={})),function(e){e[e.NoNeed=0]="NoNeed",e[e.SettingsPopup=1]="SettingsPopup",e[e.DirectTo=2]="DirectTo"}(m||(m={}));const g={Loading:"定位中...",Fail:"获取地理位置信息失败",AddressInvalid:"当前地址不可用",Relocation:"获取位置失败，请重试",IsNotEnabled:"点击定位我当前的位置"};let y;!function(e){e[e.OnlyPosition=1]="OnlyPosition",e[e.OnlyHeading=2]="OnlyHeading",e[e.PoisitionAndHeading=3]="PoisitionAndHeading"}(y||(y={}));var b=r(67421),v=r(95643),_=r(14268),w=r(99124),S=r(7991);let P=null,k=null;const O=()=>{P=null,k&&k()};async function C(e=null){let t=null;if(!(0,v.lu)(S.EW))throw new Error("native not support getLocationId");{const{scene:r="",autoRequestAuth:n=h.RequestPermission,settingsPermissionType:i=f.SettingsPopup,settingsServiceType:s=m.SettingsPopup,locationTimeout:a=5e3}=e||{},l="AMLocation",c="getLocationId",p=[(0,v.nM)(l,c,{scene:r,auto_request_auth:n,settings_permission_type:i,settings_service_type:s,location_timeout:a,location_accuracy:150}).then((e=>(O(),e))).catch((e=>{throw O(),e.errorCode=e.errorCode||u.NativeUnknown,e}))];(0,v.lu)(S.TG)||p.push((async()=>{if(!(0,o.tY)())return;const e=new Promise((async e=>{P=e,k=await(0,b.rB)("onApplicationResume",(()=>{k&&k(),P&&P()}))}));await Promise.race([(0,w.gw)(6e3).then(O),e]);const t=new Error("app resume timeout");throw t.errorCode=u.NativeTimeout,t})()),t=await Promise.race(p)}return(0,_.zW)(t)}async function I(e=null){try{return await C(e)}catch(e){throw(0,s.b0)({customTags:{event:d.ApiFail}}).catch(i.ZT),(0,n.eK)({error_msg:"获取地理位置信息失败",payload:{type:l.NativeLocationId,error:e}}),e}}function x(){return(0,o.tY)()&&(0,v.lu)(S.EW)}async function E(){let e={is_enabled:!1};if((0,o.tY)()&&(0,v.lu)(S.MP))try{e=await(0,v.nM)("AMLocation","check",{})}catch(e){(0,n.eK)({error_msg:"检测是否开启定位失败",payload:{error:e}})}return(0,_.zW)(e)}async function T(){const e=p.MallList,t={scene:e,autoRequestAuth:h.NotRequestPermission,settingsPermissionType:f.NoNeed,settingsServiceType:m.NoNeed,locationTimeout:1e3};try{const{locationId:r}=await C(t)||{};return{locationId:r,scene:e}}catch(e){return null}}var D=r(38644);function A(e){if(null!=e&&e.isNativePlatform){const{systemVersion:t,version:r}=e,n=function(e){return(null==e?void 0:e.platform)===D.iw.PddAndroid}(e)?"Android":function(e){return(null==e?void 0:e.platform)===D.iw.PddIOS}(e)?"IOS":"",o=S.LL[n],i=S.vf[n];if(t&&r&&o&&i)return!!((0,D.yC)(t,o)>=0&&(0,D.yC)(r,i)>=0)}return!1}},83228:function(e,t,r){"use strict";let n,o,i;r.d(t,{mz:function(){return o},D2:function(){return n},Xe:function(){return m},Xh:function(){return g}}),function(e){e[e.CanCancel=0]="CanCancel",e[e.CanInstall=1]="CanInstall",e[e.HasInstall=2]="HasInstall"}(n||(n={})),function(e){e.VgtWidget="vegetable_widget",e.VgtGuide="vegetable_guide",e.VgtPopupGuideNew="vegetable_popup_guide_new",e.VgtFreeEggGuide="vegetable_egg_guide",e.VgtRedEnvelopeBackGuide="vegetable_red_envelope_back_guide"}(o||(o={})),function(e){e.Check="check",e.Start="start"}(i||(i={}));var s=r(96156),a=r(95643),l=r(7991),c=r(54859),u=r(64663),p=r(14268),d=r(10511);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}async function m(e,t){let r={};if((0,c.tY)()&&(0,a.lu)(l.aX)){var n;try{const n=y({guideType:e,operateType:i.Check,businessParams:t});r=await(0,a.nM)("JSWidgetService","widgetCheckGuide",n)}catch(e){(0,u.eK)({error_msg:"检测是否安装小工具",payload:{error:e}})}r=(0,p.zW)(r,[]),r.shouldInstall=0===r.widgetGuideEnable,r.widgetGuideDeliverParams=(0,d.as)(null===(n=r)||void 0===n?void 0:n.widgetGuideDeliverParams)}return r}async function g(e){let t={};if((0,c.tY)()&&(0,a.lu)(l.aX)){try{const r=y({guideType:e,operateType:i.Start});t=await(0,a.nM)("JSWidgetService","widgetStartGuide",r)}catch(e){(0,u.eK)({error_msg:"安装小工具失败",payload:{error:e}})}t=(0,p.zW)(t,[]),t.actionExecuted=0===t.widgetGuideResult}return t}const y=({guideType:e,operateType:t,businessParams:r})=>{const n=(0,a.lu)(l.IO)?{}:{operate_type:t};return{biz:o.VgtWidget,guide_delivery_ext:f(f({guide_type:e},r||{}),n)}}},78028:function(){"object"==typeof window&&(window.requestIdleCallback=window.requestIdleCallback||function(e){const t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)})},46818:function(e,t,r){"use strict";function n(e){let t=null;try{t=sessionStorage.getItem(e),t&&(t=JSON.parse(t))}catch(e){}return t}function o(e,t){const r=n(e);try{r&&sessionStorage.removeItem(e),sessionStorage.setItem(e,JSON.stringify(t))}catch(e){}}r.d(t,{G:function(){return n},t_:function(){return o}})},94572:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var n=r(96156),o=r(89421);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){const{share_title:t,share_image:r,share_page_name:s,[o.Uk.SharePrioritys]:a,[o.Uk.ShareCipherText]:l,[o.Uk.ShareAppCipherSceneId]:c,[o.Uk.ShareAppCipherNickname]:u,payload:p={}}=e||{};return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({[o.Uk.ShareTitle]:t,[o.Uk.ShareImage]:r,[o.Uk.SharePageName]:s,[o.Uk.SharePrioritys]:a,[o.Uk.ShareCipherText]:l,[o.Uk.ShareAppCipherSceneId]:c,[o.Uk.ShareAppCipherNickname]:u},p)}},37858:function(e,t,r){"use strict";r.d(t,{MW:function(){return D},bw:function(){return R},F6:function(){return M},r$:function(){return Z},NI:function(){return j},NX:function(){return z},XV:function(){return B},Vh:function(){return F},MU:function(){return H},Hd:function(){return W},Q1:function(){return q},PI:function(){return Y},Ro:function(){return X},kA:function(){return $},$K:function(){return J}});var n=r(96156),o=r(81253),i=r(88798),s=r(445),a=r(38644),l=r(61578),c=r(2039),u=r(51827),p=r(64363),d=r(89421),h=r(86024),f=r(15355),m=r(54859),g=r(7549),y=r(60009),b=r(2741),v=r(34263),_=r(72266),w=r(65870),S=r(27162),P=r(21315),k=r(60712),O=r(41351),C=r(70775),I=r(86270);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const D="should_forward_type",A=["share_title","share_image","panel_bg","panel_text","share_page_name"],R=[h.sv.WeChatXcxCard,h.sv.WeChatH5Card];function L(e={}){const t=JSON.parse(JSON.stringify(e));Object.keys(t).forEach((e=>{(A.includes(e)||e.startsWith("_x_")||e.startsWith(d.Ys))&&delete t[e]})),Object.keys(t).forEach((e=>{if(e.startsWith(d.tB)){const r=e.replace(d.tB,d.Ys);t[r]=t[e],delete t[e]}}));return e[d.Uk.XCid]&&(t[d.Uk.XCid]=e[d.Uk.XCid]),t}function M(e){const t=d.Uk.ShareAppCipherSceneId,r=d.Uk.ShareAppCipherNickname,n=d.Uk.ShareCipherText,{share_title:i,[t]:s,[r]:a,share_image:l,panel_bg:c,panel_text:u,share_page_name:p,[n]:h,share_src:f}=e;return{shareAppCipherSceneId:s,shareAppCipherNickname:a,title:i,thumbnailURL:l,sharePageName:p,shareCipherText:h,shareSrc:f,urlParams:E({share_src:f},(0,o.Z)(e,["share_title",t,r,"share_image","panel_bg","panel_text","share_page_name",n,"share_src"].map(T)))}}function Z(e){const{share_title:t,share_image:r,share_page_name:n,share_src:i}=e;return{title:t,thumbnailURL:r,sharePageName:n,shareSrc:i,urlParams:E({share_src:i},(0,o.Z)(e,["share_title","share_image","share_page_name","share_src"]))}}function j(e){const t=E({[D]:h.YU.Normal},e.urlParams);return(t[d.Uk.PassPage]||t[d.Uk.McForwardPage])&&(0,I.qu)({errorMsg:"not_shareInfo_agreement_h5",payload:{query:JSON.stringify(t)}}),(null==e?void 0:e.sharePageName)!==h.Aq.MallList&&(t[d.Uk.McForwardPage]=null==e?void 0:e.sharePageName),L(t)}function N(e){const t=j(e);return(0,i.ru)(t,l.zr)}function z(e){const t=function(e){return E({[d.Uk.PassPage]:(null==e?void 0:e.sharePageName)||h.Aq.MallList},e.urlParams)}(e);return(0,i.ru)(t,p.rV)}function U(e){const t=function(e){return L(E({[d.Uk.PassPage]:(null==e?void 0:e.sharePageName)||h.Aq.MallList,[D]:h.YU.Normal},e.urlParams))}(e);return(0,i.ru)(t,p.rV)}function B(e){const{[d.Uk.WithShareTicket]:t}=e.urlParams;return"true"===t}function G(){return g.ZP.getInstance().getPageName()}function F(e){if("function"==typeof e)return e();if((0,m.qt)(e)){const t=function(){const e=G(),t=(0,h.zK)()||{},r=t.DefaultCanUseShareTypePools||{};return(t.CanUseShareTypePoolsMap||{})[e]||r}();return e.find((e=>t.includes(e)))}}async function H(e,t={}){const r=G(),{getH5CardShareInfo:n,getH5LandContentImg:o}=t||{};if("function"==typeof n)return n();let a="";if((0,s.zT)().isNativePlatform){const t="vgt_downgrade_share_landing",n=j(e),s=E(E({},n),{},{[d.Uk.PassPage]:t,[d.Uk.ShareXcxQuery]:JSON.stringify(n),[d.Uk.ShareSourcePageName]:r});if("function"==typeof o){const{key:e}=await o().catch((()=>({key:null})));e&&(s[d.Uk.ShareH5LandImgKey]=e)}a=(0,i.ru)(s,p.rV)}return{shareSrc:e.shareSrc,title:e.title||h.jf.title,message:e.message||h.jf.message,thumbnailURL:h.jf.thumbnailURL,shareURL:a,waterMark:e.waterMark||h.jf.waterMark}}async function W(e){try{const t=(0,f.u)().getShareManager(),r=await t.getShareControllerAsync();await r.waitShareLimiter();return r.checkShareTypeEnable(e)===h.Y2}catch{return!1}}function q(e){const{title:t,message:r,thumbnailURL:n,shareSrc:o}=e;return{withShareTicket:B(e),title:t||h.jf.title,message:r||h.jf.message,thumbnailURL:n||h.jf.thumbnailURL,waterMark:e.waterMark||h.jf.waterMark,shareURL:e.shareURL||U(e),shareSrc:o}}function V(e){return E(E({},q(e)),{},{miniObjectPath:N(e),miniObjectID:(0,m.E$)()?h.U1.Test:h.U1.Prod})}async function K(e,t){const r=q(e),n=e.shareCipherText||h.Q5,o=await(async(e,t)=>Promise.all([j(e),(0,S.WX)(t)]).then((([e,t])=>E(E({},e),t))))(e,h.sv.ShortUrl);return E(E({},r),{},{payloadWithRefer:o,shareCipherText:n})}async function Y(e,t,r={}){if(!t)return(0,m.jU)()&&(0,I.qu)({errorMsg:"not_find_share_type",page:"no_share_type_in_generateApp"}),{};switch(t){case h.sv.WeChatPosterImage:case h.sv.TimelinePoster:return async function(e,t,r){const{getImgUrlPromise:n}=t||{},o=q(e);return(0,C.fX)(null),E(E({},o),{},{drawImageOptions:async t=>{const{shareRefer:i}=t||{},s=await(0,S.WX)(r,{refer_share_id:null==i?void 0:i[d.Uk.ReferShareId]}),a=E(E(E({},j(e)||{}),s),{},{share_channel:s.refer_share_channel,share_form:P.Z.IMAGE});let l,c,u="";try{const t=await n(a);u=t.url,l=t.posterParams||e.posterParams,c=t.shareTrackingPayload}catch(t){u=o.thumbnailURL,l=e.posterParams,c=a}return(0,C.fX)(c),X(w.H.SHARE_ACTION,(0,C.hn)(),r).catch((()=>{(0,O.C8)(h.NF.ShareFlowActionError)})),function(e,t){return{width:(null==t?void 0:t.width)||870,height:(null==t?void 0:t.height)||1242,background_color:16777215,max_size:1048576,jpeg_quality:1,items:[{source:"image",data:e,x:0,y:0,width:1,height:1}]}}(u,l)}})}(e,r,t);case h.sv.ShortUrl:return K(e);case h.sv.WeChatXcxCard:return V(e);case h.sv.WeChatH5Card:return H(e,r);case h.sv.AppCipher:return async function(e,t){const{shareAppCipherSceneId:r,shareAppCipherNickname:n}=e,s=(0,o.Z)(e,["shareAppCipherSceneId","shareAppCipherNickname"]),{appCipherOpts:a}=t||{},l=j(s),c=(0,v.y)();let u=l;try{u=await c.getAppCipherPayloadByType(l)}catch(e){u=l}const d=await(0,S.jV)(h.sv.AppCipher);u=E(E({},u),d);const f=(0,i.ru)(u,p.rV);return{withShareTicket:B(e),shareSrc:e.shareSrc,shareURL:f,forceDowngrade:!0,requestUsePost:!0,marketActivityID:233,waterMark:"",shortCommandApi:"api/flow/chron/share/info",title:n?"".concat(n,"{2}"):"{2}",message:"",thumbnailURL:"",urlWrapType:k.ZP.SERVER_SHORT_URL,payloadMixin:{param_map:{template_data:"{}",scene_id:r,window_data:JSON.stringify({url_param:(0,i.XP)(u)}),extra_data:"{}"}},payloadWithRefer:u,appCipherOpts:a}}(e,r);default:return V(e)}}let Q=null;async function X(e,t,r,n){let o=null;if((0,m.tY)())if(r===h.sv.WeChatH5Card)o=(0,u.Z)(t.shareURL);else if(r===h.sv.WeChatXcxCard)o=(0,u.Z)(t.miniObjectPath);else if(r===h.sv.WeChatPosterImage||r===h.sv.TimelinePoster||r===h.sv.McCopyLink)o=E({},t);else{if(r!==h.sv.ShortUrl&&r!==h.sv.AppCipher)return;o=E({},t.payloadWithRefer)}if(o=E(E({},o),n),!Q){const e=(0,m.jU)()?(0,y.Wv)():null;Q=new b.M(e)}return Q.flowCaseAction({actionBiz:_.$.MC_SHARE,extra:o,action:e})}function $(){const e=(0,s.zT)()||{};return!(e.isNativePlatform&&(0,a.yC)(e.version,"4.79.0")<0)||((0,c.Z)("当前app版本过低，暂不支持分享"),!1)}const J=e=>{const t=Object.values(h.sv);return(0,m.qt)(e)&&e.every((e=>t.includes(e)))}},27162:function(e,t,r){"use strict";r.d(t,{jV:function(){return c},WX:function(){return u}});var n=r(96156),o=r(53158),i=r(61240),s=r(34105),a=r(3458);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const c=async e=>{const{uid:t,uin:r}=await(0,i.bG)();return{refer_share_uid:t,refer_share_uin:r,refer_share_channel:(0,s.Z)((0,a.t)(e))}},u=async(e,t)=>{const{uid:r,uin:c}=await(0,i.bG)();return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({refer_share_id:(0,o.x)(32),refer_share_uid:r,refer_share_uin:c,refer_share_channel:(0,s.Z)((0,a.t)(e))},t||{})}},70775:function(e,t,r){"use strict";r.d(t,{hn:function(){return y},fX:function(){return b},df:function(){return _},gr:function(){return w},NY:function(){return S}});var n=r(96156),o=r(37858),i=r(65870),s=r(41351),a=r(86024),l=r(99124),c=r(89421),u=r(88798),p=r(61578),d=r(64663),h=r(15355),f=r(25265);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}let g=null;function y(){return g?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},g):((0,d.eK)({error_msg:"shareTrackingPayload is missing"}),null)}function b(e){g=e}const v=e=>{const{[c.Uk.ReferShareId]:t,[c.Uk.ReferShareUin]:r,[c.Uk.ReferShareUid]:n}=e||{};return{shareId:t,shareUid:n,shareUin:r}};async function _(e,t){if(e===a.sv.ShortUrl){const{payloadWithRefer:e}=t,r=(0,u.ru)(e,p.zr),{shareId:n,shareUin:o,shareUid:i}=v(e),s={op:"event",sub_op:"share",share_url:r,share_channel:"copy_link",share_method:"sdk",share_id:n,share_uin:o,share_uid:i};(0,l.e0)(s)}return(0,o.Ro)(i.H.SHARE_ACTION,t,e).catch((()=>{(0,s.C8)(a.NF.ShareFlowActionError)}))}async function w(e,t,r){if(e===a.sv.AppCipher){(0,h.u)().getShareManager().getShareTracker().trackProlongation(e,{share_result:f.Z.SUCCESS})}if(e===a.sv.ShortUrl){const{payloadWithRefer:e}=t,n=(0,u.ru)(e,p.zr),{shareId:o,shareUin:i,shareUid:s}=v(e),a={op:"event",sub_op:"share_result",share_url:n,share_channel:"copy_link",share_method:"sdk",share_result:"complete",share_duration:r.share_duration,share_id:o,share_uin:i,share_uid:s};(0,l.e0)(a)}return(0,o.Ro)(i.H.SHARE_SUCCESS_ACTION,t,e,r).catch((()=>!1))}async function S(e,t,r){if(e===a.sv.AppCipher){(0,h.u)().getShareManager().getShareTracker().trackProlongation(e,{share_result:f.Z.FAIL})}}},3458:function(e,t,r){"use strict";r.d(t,{t:function(){return i}});var n=r(51152),o=r(86024);function i(e){return{[o.sv.WeChatPosterImage]:n.Z.WECHAT_SESSION_IMAGE,[o.sv.TimelinePoster]:n.Z.WECHAT_TIMELINE_IMAGE,[o.sv.WeChatH5Card]:n.Z.WECHAT_SESSION,[o.sv.WeChatXcxCard]:n.Z.WECHAT_SESSION,[o.sv.ShortUrl]:n.Z.COPY_LINK,[o.sv.McCopyLink]:n.Z.COPY_LINK,[o.sv.AppCipher]:n.Z.COPY_CIPHER}[e]||n.Z.WECHAT_SESSION}},15355:function(e,t,r){"use strict";r.d(t,{u:function(){return i},O:function(){return s}});var n=r(42063);let o=null;function i(){return o||(o=n.default.getInstance()),o}const s=async e=>{const t=i();return(await t.getShareManager().getShareControllerAsync()).shareCipherManually(e)}},65207:function(e,t,r){"use strict";r.d(t,{L:function(){return s}});var n=r(54859),o=r(78265),i=r(56760);async function s(e){(0,n.Wk)()&&(await(0,o.q6)(),function(e){(0,n.Wk)()&&(0,o.yE)(i.zq.Share,e)}(e))}},36343:function(e,t,r){"use strict";var n=r(44227),o=r(64663);class i extends n.Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,t){var r,n;null===(r=(n=this.props).errorHandler)||void 0===r||r.call(n,{error:e,errorInfo:t}),this.setState({error:e,errorInfo:t}),t&&(0,o.eK)({error_msg:"LOADABLE_COMPONENT_LOAD_FAILED",page:(e.message||"").split("\n").slice(0,2).join("\n")})}render(){return this.state.errorInfo?null:this.props.children}}t.Z=i},48726:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n,o,i,s,a,l,c,u=r(55770),p=r(3473),d=r(91175),h=r.n(d),f=r(78905),m=r(59960);let g=(n=class{constructor(){(0,u.Z)(this,"_idList",o,this),(0,u.Z)(this,"_idMap",i,this),(0,u.Z)(this,"addQueue",s,this),(0,u.Z)(this,"removeQueue",a,this),this.getQueueData=e=>this._idMap[e],(0,u.Z)(this,"updateQueueData",l,this),(0,u.Z)(this,"clearQueue",c,this)}get idList(){return[...this._idList]}get _headQueueId(){return this._idList.length?h()(this._idList):null}get headQueueData(){return this.getQueueData(this._headQueueId)}},o=(0,p.Z)(n.prototype,"_idList",[m.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=(0,p.Z)(n.prototype,"_idMap",[m.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,p.Z)(n.prototype,"idList",[f.computed],Object.getOwnPropertyDescriptor(n.prototype,"idList"),n.prototype),s=(0,p.Z)(n.prototype,"addQueue",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{this._idMap[e]?this.updateQueueData(e,t):((0,m.dj)(this._idMap,e,t),this._idList.push(e))}}}),a=(0,p.Z)(n.prototype,"removeQueue",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{const t=null!=e?e:this._headQueueId,r=this._idList.indexOf(t);t&&-1!==r&&(this._idList.splice(r,1),(0,m.lV)(this._idMap,t))}}}),l=(0,p.Z)(n.prototype,"updateQueueData",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{this._idMap[e]&&(this._idMap[e]=t)}}}),c=(0,p.Z)(n.prototype,"clearQueue",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this._idList=[],this._idMap={}}}}),n)},55602:function(e,t,r){"use strict";r.d(t,{Pc:function(){return m},AQ:function(){return g},ZP:function(){return _}});var n=r(97019),o=r.n(n),i=r(85564),s=r.n(i),a=r(23279),l=r.n(a),c=r(23493),u=r.n(c),p=r(7739),d=r.n(p),h=r(54859),f=r(41351);const m=(e,t=[])=>e?(Array.isArray(e)||(e=[e]),[...new Set(t.concat(e))]):t;let g;!function(e){e.UnScrollPause="UN_SCROLL_PAUSE",e.UnPause="UN_PAUSE",e.RelativeUnScrollPause="RELATIVE_UN_SCROLL_PAUSE",e.RelativeUnPause="RELATIVE_UN_PAUSE"}(g||(g={}));const y=(0,h.jU)(),b=200,v=Math.random().toString(36);class _{constructor({timeStep:e,sleepTime:t,checkPauseGlobalTimeline:r}={}){this.TimerTaskRquired=void 0,this._idMap={},this._sleepTime=5e3,this._intervalTime=b,this._checkPauseGlobalTimeline=()=>!1,this.type=Object.freeze(g),this.getTypesList=(...e)=>s()(e.map((e=>{var t;return(null===(t=this._group)||void 0===t?void 0:t[e])||[]}))).map((({key:e})=>e)),this.getUnPauseList=()=>this.getTypesList(g.UnPause,g.RelativeUnPause),this.getUnScrollPauseList=()=>this.getTypesList(g.UnScrollPause,g.RelativeUnScrollPause),this.doDeals=async(e,t=200)=>{for(const r of e){const e=this._idMap[r];if(!e||e.isPause||this._checkPauseGlobalTimeline())return;e.dealTime-=t;const{dealTime:n,dealFn:o=[],endTaskFn:i=[],initialTaskTime:s}=e;if(o.forEach((e=>null==e?void 0:e({dealTime:n}))),n<=0){this.pauseRelativeTask(v),(0,f.bs)("".concat("timeline_cmtv_prefix_").concat(r));for(const e of i)await(null==e?void 0:e(Date.now()-s));this.unPauseRelativeTask(v),this.unRegister(r)}}},this._silentCountDownTimer=null,this.startSilentTime=()=>{if(this._silentCountDownTimer)return;const e=this.getUnPauseList();if(e.length){const t=Date.now(),r=Math.min(this._intervalTime,...e.map((e=>this._idMap[e].dealTime)).filter((e=>e>0)));this._silentCountDownTimer=setTimeout((async()=>{const r=Date.now();await this.doDeals(e,r-t),this.endSilendTime(),this.startSilentTime()}),r)}},this.endSilendTime=()=>{clearTimeout(this._silentCountDownTimer),this._silentCountDownTimer=null},this.cancelScrollStepTime=null,this.createCancelScrollStepTime=e=>{this.cancelScrollStepTime=l()(this.endScrollStepTimeTimer,e)},this._scrollStepTimeTimer=null,this.startScrolSteplTimeTimer=()=>{if(this._scrollStepTimeTimer)return;const e=this.getUnScrollPauseList();if(e.length){const t=Date.now(),r=Math.min(this._intervalTime,...e.map((e=>this._idMap[e].dealTime)).filter((e=>e>0)));this._scrollStepTimeTimer=setTimeout((async()=>{const r=Date.now();await this.doDeals(e,r-t),this._scrollStepTimeTimer&&(this.endScrollStepTimeTimer(),this.startScrolSteplTimeTimer())}),r)}},this.endScrollStepTimeTimer=()=>{clearTimeout(this._scrollStepTimeTimer),this._scrollStepTimeTimer=null},this.onScroll=u()((()=>{this._checkPauseGlobalTimeline()||(this.cancelScrollStepTime(),this.startScrolSteplTimeTimer())}),30),this._hasAddEvent=!1,this.addEvent=()=>{y&&(this.removeEvent(),this._hasAddEvent=!0,window.addEventListener("scroll",this.onScroll))},this.removeEvent=()=>{y&&(this._hasAddEvent=!1,window.removeEventListener("scroll",this.onScroll))},this.validAddScrollEvent=()=>{this.getUnScrollPauseList().length&&!this._hasAddEvent&&this.addEvent()},this.validRemoveScrollEvent=()=>{var e;!this.getUnScrollPauseList().length&&this._hasAddEvent&&(this.removeEvent(),this.endScrollStepTimeTimer(),null===(e=this.cancelScrollStepTime)||void 0===e||e.cancel())},this.switchPauseStatus=(e=!1)=>{this.getTypesList(g.RelativeUnPause,g.RelativeUnScrollPause).forEach((t=>{this._idMap[t].isPause=e}))},this.compensationWaitTime=e=>{e<2||(this.getTypesList(g.RelativeUnPause).forEach((t=>{const r=this._idMap[t],{dealTime:n,sleepTime:o}=r,i=n-e,s=o||this._sleepTime;r.dealTime=i<s?s:i})),this.getTypesList(g.RelativeUnScrollPause).forEach((e=>{const t=this._idMap[e],{dealTime:r,sleepTime:n}=t,o=n||this._sleepTime;r<o&&(t.dealTime=o)})))},this._beginPauseTime=null,this._beginPauseHandleKey=[],this.pauseRelativeTask=e=>{var t;e&&(!this._beginPauseHandleKey.includes(e)&&this._beginPauseHandleKey.push(e),this._beginPauseTime=null!==(t=this._beginPauseTime)&&void 0!==t?t:Date.now(),this.switchPauseStatus(!0))},this.unPauseRelativeTask=e=>{if(!this._beginPauseTime||!e||!this._beginPauseHandleKey.includes(e))return;if(o()(this._beginPauseHandleKey,e),this._beginPauseHandleKey.length)return;const t=Date.now()-this._beginPauseTime;this._beginPauseTime=null,this.switchPauseStatus(!1),this.compensationWaitTime(t)},this.calcIntervalTime=()=>{const e=Object.values(this._idMap);this._intervalTime=e.reduce(((e,{intervalTime:t})=>e>(t=t?t<=16?16:t:b)?t:e),b)||b},this.register=({key:e,dealTime:t,sleepTime:r,dealFn:n,endTaskFn:o,intervalTime:i=200,type:s=g.RelativeUnScrollPause})=>{const a=this._idMap[e];if(a){const{dealTime:e,dealFn:t,sleepTime:i}=a,s=m(n,t);return s.forEach((t=>null==t?void 0:t({dealTime:e}))),void Object.assign(a,{sleepTime:+r||i,dealFn:s,endTaskFn:m(o,a.endTaskFn)})}t=+t||0;const l=[g.RelativeUnPause,g.RelativeUnScrollPause].includes(s)&&!!this._beginPauseTime,c=m(n);c.forEach((e=>null==e?void 0:e({dealTime:t}))),this._idMap[e]={key:e,initialDealTime:t,initialTaskTime:Date.now(),dealTime:t,sleepTime:+r||this._sleepTime,dealFn:c,endTaskFn:m(o),isPause:l,intervalTime:i<=16?16:i,type:s},y&&(this.calcIntervalTime(),this.startSilentTime(),this.validAddScrollEvent())},this.unRegister=(e,t)=>{const r=this._idMap[e];if(r)if(t){const{dealFn:n,endTaskFn:i}=r,{dealFn:s,endTaskFn:a}=t;o()(n,...m(s)),o()(i,...m(a)),n.length||i.length||this.unRegister(e)}else delete this._idMap[e],this.calcIntervalTime(),this.validRemoveScrollEvent()},this.initState=()=>{this._beginPauseTime=null,this._beginPauseHandleKey=[],this._idMap={},this.endSilendTime(),this.validRemoveScrollEvent()},this._sleepTime=1e3*(+t||5),this._checkPauseGlobalTimeline=r||this._checkPauseGlobalTimeline;const n=1e3*(e||2);this.createCancelScrollStepTime(n)}get _group(){return d()(this._idMap,(({type:e})=>e))}}},53008:function(e,t,r){"use strict";function n(e,t){let r=0,n=t?"米":"m";e<1e3?(r=e,n=t?"米":"m"):(r=parseFloat((e/1e3).toFixed(1))||0,n=t?"公里":"km");return{value:r,unit:n,distanceText:"".concat(r).concat(n)}}r.d(t,{z:function(){return n}})},78306:function(e,t,r){"use strict";r.d(t,{p:function(){return c},a:function(){return u}});var n=r(81253),o=r(96156),i=r(4874);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const l={resizeWidth:1300,quality:80,strip:!0};async function c(e,t){const r=null!=t?t:{},{ignoreCompress:o}=r,s=(0,n.Z)(r,["ignoreCompress"]),c=o?e:function(e,t){return(0,i.F)(e,a(a({},l),t))}(e,s);return new Promise(((e,t)=>{const r=new Image;r.onerror=()=>{t(new Error("preloadImage failed"))},r.onload=()=>{e(c)},r.src=c}))}const u=async(e,t)=>Promise.all(e.map((e=>c(e,t))))},51827:function(e,t,r){"use strict";var n=r(88798);t.Z=e=>("string"!=typeof e&&(e=""),(0,n.FU)(e))},83179:function(e,t,r){"use strict";r.d(t,{GK:function(){return S},Uv:function(){return P},hs:function(){return O}});var n=r(96156),o=r(81253),i=r(9980),s=r(97386),a=r(44985),l=r(36215),c=r(2039),u=r(83296),p=r(57805),d=r(53192),h=r(17954),f=r(89421),m=r(40688),g=r(54859),y=r(99124),b=r(49802);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S;!function(e){e.Default="default",e.Checkout="checkout",e.Goods="goods",e.MallList="mall_list"}(S||(S={}));const P=()=>{const e=(0,b.qT)()||{},t=f.Uk.AppFs,r=f.Uk.AppTc,n=f.Uk.AppNc,i=f.Uk.AppSbs,{[t]:s,[r]:a,[n]:l,[i]:c}=e;return _(_({},(0,o.Z)(e,[t,r,n,i].map(w))||{}),{},{[f.Uk.StoreListFromSource]:f.kw.MallListRedirect})},k=e=>{const{scene:t,errorCode:r,errorMsg:n=m.I}=e||{};let o=!0,c=!1,g=!1;switch(r){case h.ZG.MallAuth:g=!0;break;case h.ZG.TempBreak:case h.ZG.CheckoutTempBreak:switch(t){case S.Goods:c=!0,o=!1;break;case S.MallList:c=!0}break;case h.ZG.Closed:case h.ZG.CheckoutClosed:switch(t){case S.Goods:case S.MallList:c=!0}break;case h.ZG.NotReach:case h.ZG.TestForbid:if(t===S.MallList)c=!0}const{imprLog:b,onConfirmLog:v,onCancelLog:w}=(e=>({[h.ZG.NotReach]:{imprLog:4402243,onConfirmLog:4402243,onCancelLog:4402244},[h.ZG.Closed]:{imprLog:4479462},[h.ZG.TempBreak]:{imprLog:4479463},[h.ZG.MallAuth]:{imprLog:4479466}}[e]||{}))(r),k=(0,d.k)((async()=>{v&&(0,y.e0)({op:"click",page_el_sn:v});const e=t===S.MallList?P():{};(0,p.id)(_(_({},e),{},{[f.Uk.PrAnimated]:0}))})),O={title:n,cancelButtonLabel:"查看订单",confirmButtonLabel:"切换门店",onCancel:()=>{w&&(0,y.e0)({op:"click",page_el_sn:w}),(0,p.nA)({[f.Uk.PrAnimated]:0})},onClose:k,onConfirm:k};if(b&&(0,y.e0)({op:"impr",page_el_sn:b}),g)return(0,u.c7)({title:n||"活动太火爆了，请稍后再试"}),!0;if(o){return(c?i.Z:s.Z)(O),!0}return(c?a.Z:l.Z)({title:n,confirmButtonLabel:"切换门店",onClose:k,onConfirm:k}),!0},O=e=>{const{Closed:t,CheckoutClosed:r,TempBreak:n,CheckoutTempBreak:o,NotReach:i,TestForbid:s,MallAuth:l,MallAlexaEmptyGoods:u,MallMcGoodsEmptyGoods:d}=h.ZG;if(!(0,g.jU)())return!1;const{errorCode:f,errorMsg:y,openDefaultAlert:b=!1}=e||{};return[t,r,n,o,i,s,l].includes(f)?(k(e),!0):[d,u].includes(f)?((e=>{const{MallAlexaEmptyGoods:t,MallMcGoodsEmptyGoods:r}=h.ZG,{errorCode:n,errorMsg:o=m.I}=e||{};!![t,r].includes(n)&&(0,c.Z)(o,{onClose:p.n})})(e),!0):(b&&(f||y)&&(0,a.Z)({title:m.I,text:"",confirmButtonLabel:"去逛逛",onClose:p.n,onConfirm:p.n}),!1)}},24720:function(e,t,r){"use strict";r.d(t,{xB:function(){return o},ue:function(){return i}});var n=r(54859);let o;!function(e){e.X="x",e.Y="y"}(o||(o={}));function i(e){var t;const{activeTabDom:r,activeTabId:i,scrollRef:s,calcType:a,duration:l}=e||{},c=i?document.getElementById(i):(0,n.aY)(r)?r:null;if(!c||null==s||!s.current)return;let u=0,p=0,d=0,h=0;const{width:f,left:m,height:g,top:y}=null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect(),{width:b,left:v,height:_,top:w}=null==c?void 0:c.getBoundingClientRect();var S,P;a===o.X?(u=null===(S=s.current)||void 0===S?void 0:S.scrollLeft,p=u-(+m+f/2)+(v+b/2)):(h=null===(P=s.current)||void 0===P?void 0:P.scrollTop,d=h-(+y+g/2)+(w+_/2));!function(e,t,r,n){var o=this,i=0;e.length||(e=[e]);for(var s=function(e,t,r,n,o,i,s){var a=r.x,l=r.y,c=n.x,u=n.y,p=Date.now(),d=p+o;s=s||function(e){return e*(2-e)};var h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},f=function(r,n){t.call(e,r,n)};!function e(){var t,r=Date.now();if(r>=d)return f(c,u),void i();t=s(r=(r-p)/o),f((c-a)*t+a,(u-l)*t+l),h(e)}()},a=function(){++i>=e.length&&n&&o.call(n)},l=0;l<e.length;++l)s(e[l],t.transFunc,t.start,t.dest,r,a,t.easingFn)}(s.current,{start:{x:u,y:h},dest:{x:p,y:d},transFunc(e,t){this.scrollLeft=e,this.scrollTop=t}},l||300,!1)}},19574:function(e,t,r){"use strict";r.d(t,{V:function(){return p},a:function(){return d}});var n=r(44227),o=r(67421),i=r(7991),s=r(54859),a=r(49802),l=r(89421),c=r(95643);const{DdmcStoreChanged:u}=i._E;function p(e,t){const r=(0,n.useRef)(null),[i,p]=(0,n.useState)({storeInfo:null,extraInfo:null}),d=(0,n.useCallback)((async r=>{if((0,s.tY)()&&r){(0,c.Gg)("发送换店事件");const n=(0,a.qT)();await(0,o.lW)(u,{scene:e,storeInfo:r,srcPageId:(null==t?void 0:t.srcPageId)||n[l.Uk.ReferPageId]})}}),[]);return(0,n.useEffect)((()=>((0,s.tY)()&&(0,o.rB)(u,(t=>{const{storeInfo:r,scene:n,srcPageId:o}=t||{};r&&e===n&&((0,c.Gg)("更新店铺信息"),p({storeInfo:r,extraInfo:{srcPageId:o}}))})).then((e=>{r.current=e})),()=>{var e;(0,c.Gg)("换店事件注销"),null==r||null===(e=r.current)||void 0===e||e.call(r)})),[]),[i.storeInfo,d,i.extraInfo]}let d;!function(e){e.PageBack="page_back",e.Immediately="immediately"}(d||(d={}))},85885:function(e,t,r){"use strict";r.d(t,{MU:function(){return I},qj:function(){return C},RL:function(){return T},UU:function(){return E},a4:function(){return x},XV:function(){return D}});var n,o,i=r(44227),s=r(55770),a=r(3473),l=r(12297),c=r.n(l),u=r(23279),p=r.n(u),d=r(23493),h=r.n(d),f=r(14176),m=r.n(f),g=r(7654),y=r.n(g),b=r(18446),v=r.n(b),_=r(78905),w=r(59960),S=r(54859),P=r(83296),k=r(20758);const O=(0,S.jU)();const C=new(n=class{constructor(){this._staticKeyMap={},this._listSortByMaxTop=[],this._listSortByMinTop=[],this._refsCache=[],(0,s.Z)(this,"_stickedKeys",o,this),this.addRefs=(e,t)=>{t&&!this._refsCache.some((({key:e})=>e===t))&&this._refsCache.push({key:t,ref:e})},this.removeRefs=e=>{if(e){const t=this._refsCache.findIndex((({key:t})=>t===e));t>-1&&this._refsCache.splice(t,1)}},this.updateData=(e,t)=>{if(!O)return null;if(!v()(e,this._staticKeyMap[t])){null===e?delete this._staticKeyMap[t]:this._staticKeyMap[t]=e;const r=this._listSortByMaxTop.length>0;this.toSort();const n=this._listSortByMaxTop.length>0;!r&&n?this.addEvent():n||this.removeEvent(),this.calcFixedKeys()}},this.toSort=()=>{const e=Object.values(this._staticKeyMap).filter((e=>e));this._listSortByMaxTop=[...e].sort(((e,t)=>t.maxTop-e.maxTop)),this._listSortByMinTop=[...e].sort(((e,t)=>e.minTop-t.minTop))},this.calcFixedKeys=()=>{const e=(0,P.cx)(),t=e+this.calcFixedHeight(e),r=Object.keys(this._staticKeyMap).filter((e=>{const r=this._staticKeyMap[e];return!!r&&r.minTop<t}));r.toString()!==this._stickedKeys.toString()&&(this._stickedKeys=r)},this.debounceRectRef=p()((()=>{this._refsCache.forEach((({ref:e,key:t})=>this.rectRefParams(e,t)))}),500,{leading:!0,trailing:!0}),this.onScroll=h()((()=>{this.debounceRectRef(),this.calcFixedKeys()}),30),this.addEvent=()=>{this.removeEvent(),window.addEventListener("scroll",this.onScroll)},this.removeEvent=()=>{window.removeEventListener("scroll",this.onScroll)},this.rectRefParams=(e,t)=>{const r=null==e?void 0:e.current;if((0,S.aY)(r)){const{height:e=0,rectHeightTop:n=0}=(0,P.OT)(r),o={height:e,minTop:n-e,maxTop:n};this.updateData(o,t)}else this.unRegisterStickParams(t)},this.registerStickParams=(e,t)=>{const{minTop:r=0,height:n=0}=m()(e,(e=>null==e||y()(+e)));this.updateData({minTop:r,maxTop:n+r,height:n},t)},this.unRegisterStickParams=e=>{this.updateData(null,e)},this.calcOffset=e=>{if(this._listSortByMaxTop.length){return this._listSortByMaxTop.reduce(((t,r)=>{const{minTop:n,maxTop:o,height:i}=r;return o<=t?t-=i:o>t&&t>=n&&(t=n-(e-t)),t}),e)-e}return 0},this.calcFixedHeight=e=>{if(this._listSortByMinTop.length){let t=e;for(const e of this._listSortByMinTop){const{minTop:r,height:n}=e;if(!(r<=t))break;t+=n}return t-e}return 0},this.getTopValue=(e,t=0)=>{const r=(0,S.aY)(e)?e:document.getElementById(e);if(!r)return null;const n=parseInt(window.getComputedStyle(r).marginTop,10),o=(0,P.ys)(r)-n;return o+this.calcOffset(o)+t},this.intelligentScroll=async(e,t=0,r=500)=>new Promise((n=>{if(!O)return n(!1);const o=h()((()=>this.getTopValue(e,t)),100),i=Date.now(),s=(0,P.cx)();let a=o();if(!a||s>a)return n(!1);const l=()=>{if(a=o()||a,!a)return n(!0);const e=Date.now(),t=Math.min(1,(e-i)/r),c=Math.ceil(((t-1)**3+1)*(a-s)+s);c<a?((0,P.QU)(c),(0,k.z)(l)):((0,P.QU)(c),(0,k.z)((()=>n(!0))))};l()}))}get stickedKeys(){return[...this._stickedKeys]}get stickDisplayedAllHeight(){return c()(this._stickedKeys.map((e=>{var t;return(null===(t=this._staticKeyMap[e])||void 0===t?void 0:t.height)||0})))}},o=(0,a.Z)(n.prototype,"_stickedKeys",[w.Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,a.Z)(n.prototype,"stickedKeys",[_.computed],Object.getOwnPropertyDescriptor(n.prototype,"stickedKeys"),n.prototype),(0,a.Z)(n.prototype,"stickDisplayedAllHeight",[_.computed],Object.getOwnPropertyDescriptor(n.prototype,"stickDisplayedAllHeight"),n.prototype),n),I=C.intelligentScroll;C.registerStickParams,C.unRegisterStickParams;function x(e,t){(0,i.useEffect)((()=>(C.rectRefParams(e,t),C.addRefs(e,t),()=>{C.removeRefs(t),C.unRegisterStickParams(t)})),[e,t])}function E(e,t){(0,i.useEffect)((()=>{C.registerStickParams(e,t)}),[e,t]),(0,i.useEffect)((()=>()=>C.unRegisterStickParams(t)),[t])}function T(e){return C.stickedKeys.includes(e)}function D(){return C.stickDisplayedAllHeight}},18495:function(e,t,r){"use strict";var n=r(44227),o=r(445),i=r(38644),s=r(80353),a=r(64663),l=r(54859);let c=[];const u=()=>{Array.isArray(c)&&c.forEach((e=>{"function"==typeof e&&e()}))};if((0,l.jU)()){const{isWeChatMiniProgram:e,system:t}=(0,o.zT)(),r=t===i.we.Android;if(e)if(r){const e=()=>{window.WeixinJSBridge&&window.WeixinJSBridge.on("onPageStateChange",(e=>{e&&"true"===e.active&&u()}))};window.WeixinJSBridge&&window.WeixinJSBridge.invoke?e():Promise.race([new Promise((e=>document.addEventListener("WeixinJSBridgeReady",e,!1))).then(e),new Promise(((e,t)=>{setTimeout((()=>t(new Error("wxBridgeTimeoutToBindPageStateChange"))),1e4)}))]).catch((e=>{(0,s.y7)(e)}))}else{const e=()=>{document.hidden||"hidden"===document.visibilityState||u()};document.addEventListener("visibilitychange",e)}}t.Z=function({showCallback:e,isNotAutoInLifecycle:t=!1}){const r=t=>{const r="function"==typeof t?t:e;if((0,l.jU)())return c.every((e=>e!==r))?c.push(r):(0,a.Yz)("useMiniProgramPageChangeHooksTip: 重复注入函数,不生效"),()=>{c=c.filter((e=>e!==r))}};return(0,n.useEffect)((()=>{let e=()=>{};return t||(e=r()),()=>{e()}}),[]),{addPageChangeListener:r}}},35977:function(e,t,r){"use strict";r.d(t,{Z:function(){return H}});var n=r(96156),o=r(81253),i=r(44227),s=r(54859),a=r(67421),l=r(18495),c=r(86024),u=r(41351),p=r(64663),d=r(43172),h=r(2039),f=r(15355),m=r(3458),g=r(98249),y=r.n(g),b=r(1508),v=r(51692),_=r(40750),w=r(83296),S=r(36633),P=r.n(S),k=r(44227).createElement;const O=(0,w.ep)("1d1f6028-1af7-436d-8744-23399d7db5fa.png.slim.c1"),C=(0,w.ep)("e0f7a6a5-0950-4f35-9f90-d156ea8a9bc4.png.slim.c1");function I({title:e="多多口令已复制",buttonText:t,onConfirm:r,notShareClose:n,subTitle:o=c.Or}){return y()(P()),k(v.Z,{className:P().wrap},k("div",{className:P().imgTop},k(_.Z,{className:P().img,lazy:!1,src:C})),k("div",{className:P().conntent},k("div",{className:P().title},e),k("div",{className:P().subTitle},o)),k("div",{className:P().okBtn,onClick:r},t?k("div",{className:P().btnText},t):k(i.Fragment,null,k("div",{className:P().btnIcon},k(_.Z,{className:P().img,lazy:!1,src:O})),k("div",{className:P().btnText},"去微信粘贴"))),k(v.Z.CloseButton,{onClick:n}))}var x,E=r(97287),T=r(34263),D=r(37858),A=r(57805),R=r(70775),L=r(89421),M=r(52488);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}!function(e){e[e.Sharing=1]="Sharing",e[e.NotShare=0]="NotShare"}(x||(x={}));const z={errorType:1,errorMsg:"share_callback_error_repeat_click"},U={errorType:2,errorMsg:"share_callback_error_market_share_error"},B={errorType:3,errorMsg:"share_callback_error_not_browser"},G={errorType:4,errorMsg:"share_callback_error_getShareInfo"},F={onlyUseAppShowForCompleteShare:!1,isMask:!1,notToastErr:!1};var H=function(){const e=(0,i.useRef)(x.NotShare),t=(0,i.useRef)(null),{getTrackingPayload:r,setTrackingPayload:n}=function(){const e=(0,i.useRef)(null);return{setTrackingPayload:t=>{e.current=t},getTrackingPayload:()=>{const t=j({},e.current);return e.current=null,t}}}(),{addPageChangeListener:g}=(0,l.Z)({showCallback:()=>{},isNotAutoInLifecycle:!0}),y=()=>{t.current&&t.current(),t.current=null};async function b(e,t){if(t===c.sv.WeChatXcxCard&&!(0,D.kA)()){const e=new Error("当前app版本过低，暂不支持分享");return Promise.reject(e)}const{nativeShareInfo:r,isMask:i,notToastErr:s}=e||{};if(!i&&(0,u.C8)(c.Wy[t]),t===c.sv.ShortUrl)return async function(e){const t=(0,T.y)(),{payloadWithRefer:r,shareCipherText:n}=e;return t.getShareShortUrl({payload:r}).then(i,s).then((async t=>{if(t){const{trackingPayload:r}=t;return W(j(j({},(0,o.Z)(t,["trackingPayload"])),{},{beforeConfirm:async()=>{(0,R.df)(c.sv.ShortUrl,j(j({},e),{},{payloadWithRefer:r}))}})).then((()=>r))}}));async function i(e){return e&&e.shortLinkUrl?{content:n+String(e.shortLinkUrl),subTitle:e.shareText,trackingPayload:e.payload}:Promise.reject(new Error("short_url_is_void"))}async function s(e){const t=new Error(e.message);throw Object.assign(t,j({},e)),t}}(r).then(n);if(t===c.sv.AppCipher)return async function(e){const{appCipherOpts:t,payloadWithRefer:r}=e,n=(0,o.Z)(e,["appCipherOpts","payloadWithRefer"]),{title:i,subTitle:s,buttonText:a}=t||{},l=(0,f.u)();let d=null;const h=async(...e)=>{const t=3e3;return new Promise(((r,n)=>{(0,w.yh)();const o=setTimeout((()=>{(0,w.v3)(),n(new Error("market_share_app_cipher_timeout"))}),t);l.share(...e).then((e=>{(0,w.v3)(),clearTimeout(o),r(e)}))}))};try{const e=await h((0,m.t)(c.sv.AppCipher),n);if((0,u.C8)(c.NF.DirectlyClickSuccess),d=(e||{}).content,!d)throw new Error("market_share_no_app_cipher")}catch(t){return(0,u.C8)(c.NF.DirectlyClickError),(0,p.eK)({error_msg:"appCipherHandle_error",page:null==t?void 0:t.message,payload:{nativeShareInfo:e}}),(0,w.iY)(M.uZ),Promise.reject(new Error("market_share_cipher_error"))}return await W({buttonText:a,content:d,subTitle:s,title:i,beforeConfirm:async()=>{(0,R.df)(c.sv.AppCipher,j({},e))}}),r}(r).then(n);t!==c.sv.WeChatPosterImage&&t!==c.sv.TimelinePoster&&(0,R.df)(t,r);const a=(0,f.u)();return await a.prepareShareSafe(r),a.share((0,m.t)(t)).then((e=>((0,u.C8)(c.NF.DirectlyClickSuccess),e))).catch((e=>{(0,u.C8)(c.NF.DirectlyClickError);const{shareResultType:t,nativeShareErrorCode:r}=e||{};throw(0,p.eK)({error_msg:"分享错误",page:"directlyClickShareBtn_is_error",payload:{shareResultType:t,nativeShareErrorCode:r}}),s||t===d.Z.FAIL&&+r===E.R.WITHOUT_WE_CHAT_CLIENT&&(0,h.Z)("您暂未安装微信，请安装后重试"),e}))}const v=async({getOriginShareInfo:e,frontPrioritys:t,generateShareInfoOpts:r})=>{const n=await e(),i=L.Uk.SharePrioritys,{[i]:a}=n,l=(0,o.Z)(n,[i].map(N));let d=null;const h=(0,D.$K)(a)?a:t,f=(0,D.Vh)(h);if(!f)return(0,s.jU)()&&(0,p.eK)({error_msg:"not_find_share_type",page:"not_find_share_type"}),(0,u.C8)(c.NF.NoDirectlyClick),{isomorphismShareInfo:{},shareType:f};if((0,s.tY)()){const e=(0,D.F6)(l);d=await(0,D.PI)(e,f,r)}return(0,s.Wk)()&&(d=l),{isomorphismShareInfo:d,shareType:f}};return(0,i.useEffect)((()=>()=>{if(e.current===x.Sharing){const e="warning_sharecallback_prematurely_disposed";(0,p.Yz)(e),(0,s.jU)()&&(0,p.eK)({error_msg:e})}y()}),[]),{shareClickWrapperV3:(n,o)=>{const{prioritys:i,isMask:l,notToastErr:p,onlyUseAppShowForCompleteShare:d,generateShareInfoOpts:h}=Object.assign({},F,o),f=i||D.bw;async function m({shareInfo:e,shareType:t}){if(!e){const e=j({},G);return Promise.reject(e)}if((0,s.tY)())return b({nativeShareInfo:e,isMask:l,notToastErr:p},t);(0,s.Wk)()&&(0,A.pj)(e)}return async()=>{await(async()=>{if(!(0,s.jU)()){const e=B;return Promise.reject(e)}if(e.current===x.Sharing){const e=z;return Promise.reject(e)}})(),e.current=x.Sharing;const o=Date.now(),{isomorphismShareInfo:i,shareType:l}=await v({getOriginShareInfo:n,frontPrioritys:f,generateShareInfoOpts:h});return new Promise(((r,n)=>{(0,s.tY)()?((r=>{y(),(0,a.rB)("onAppShow",(()=>{y(),e.current===x.Sharing&&(e.current=x.NotShare,r({shareCallbackType:c.$$.AppShow}))})).then((e=>{t.current=e}))})(r),d||l===c.sv.ShortUrl||l===c.sv.AppCipher?m({shareInfo:i,shareType:l}).catch((e=>n(e))):m({shareInfo:i,shareType:l}).then((()=>{y(),r({shareCallbackType:c.$$.Directly})}),(e=>{n(e)}))):(0,s.Wk)()&&(m({shareInfo:i,shareType:l}),t.current=g((()=>{r({shareCallbackType:c.$$.WxPageShow})})))})).then((({shareCallbackType:t}={})=>{e.current=x.NotShare,(0,u.C8)(c.eF[t]);const n=Date.now()-o;let s=j({},i);if(l===c.sv.ShortUrl||l===c.sv.AppCipher){const e=r()||i.payloadWithRefer;s=j(j({},s),{},{payloadWithRefer:e})}else l!==c.sv.WeChatPosterImage&&l!==c.sv.TimelinePoster||(s=(0,R.hn)(),(0,R.fX)(null));return{shareCallbackType:t,shareDuration:n,shareReportPromise:(0,R.gr)(l,s,{share_duration:n})}}),(async t=>{e.current=x.NotShare;const r=j(j({},U),{},{marketShareErrorData:t,marketShareErrorMsg:(t||{}).message});return(0,R.NY)(l),Promise.reject(r)}))}},getIsomorphismShareInfo:v}};async function W({beforeConfirm:e,content:t,subTitle:r,title:n,buttonText:o}){return new Promise(((i,s)=>{let a=null;const l=()=>{"function"==typeof a&&a()};var c;c={buttonText:o,title:n,subTitle:r,onConfirm:async function(){e&&!1===await e()&&s(new Error("beforeConfirm_return_false")),(0,f.O)(t).then((()=>{l(),i({})}),(e=>{(0,p.eK)({error_msg:"showCipherAlert"+e.message}),s(e)}))},shareClose:l,notShareClose:()=>{l();const e=new Error("口令分享未成功");s(e)}},a=(0,b.Z)(k(I,c))}))}},23298:function(e,t,r){"use strict";r.d(t,{M:function(){return o}});var n=r(64091);class o extends n.b{async queryBulletScreen(e){const t={clientTimeout:2e3};try{const r=await this.postRisk("/api/mc/v0/avacado/query_bullet_screen",e,t);return(null==r?void 0:r.broadcastList)||[]}catch(e){return null}}}},23730:function(e,t,r){"use strict";r.d(t,{a:function(){return l}});var n=r(27361),o=r.n(n),i=r(60009),s=r(64091);const a="80001";class l extends s.b{constructor(...e){super(...e),this.fetchAddressInfo=async(e="")=>{let t=null;try{t=await this.getRisk("/api/origenes/address/".concat(e),{},{defaultErrorHandler:()=>null})}catch(e){}return t},this.fetchAddressListInfoV2=async({addressIdList:e})=>{let t=null;try{t=await this.postRisk("/api/origenes/addresses_for_mc/query_short/batch",{address_id_list:e,scene_id:a},{defaultErrorHandler:()=>null})}catch(e){}return o()(t,"addresses")||[]},this.fetchAddressSnapshotListInfo=async({addressSnapshotIdList:e=[]})=>{let t=null;try{t=await this.postRisk("/api/origenes/address/snapshot/query/batch",{address_snapshot_id_list:e,scene_id:a},{defaultErrorHandler:()=>null})}catch(e){(0,i.Zm)(e)}return o()(t,"addresses")||[]},this.fetchAddressDecode=async({latitude:e=null,longitude:t=null,locationId:r=null,scene:n=null})=>{let o=null;try{o=await this.postRisk("/api/mc/v1/user/location_decode",{lng:t,lat:e,location_id:r,scene:n})}catch(e){}return o},this.fetchAddressPositionById=async e=>{let t=null;try{t=await this.postRisk("/api/origenes/encode_address_location",{address_id:e,scene_id:a},{defaultErrorHandler:()=>null})}catch(e){}return t},this.fetchEncryptAddressPositionBySnapshotId=async e=>{let t=null;try{t=await this.postRisk("/api/origenes/address/snapshot/query/encrypt/location",{address_snapshot_id:e,scene_id:a},{defaultErrorHandler:()=>null})}catch(e){(0,i.Zm)(e)}return t},this.queryDeliveryList=async()=>{try{const e=await this.postRisk("/api/origenes/addresses_for_mc_delivery");return null!=e&&e.addresses?e:null}catch(e){return null}},this.fetchAddressSnapshotInfo=async(e="")=>{let t=null;try{t=await this.getRisk("/api/origenes/address_snapshot",{address_snapshot_id:e,scene_id:a},{defaultErrorHandler:()=>null})}catch(e){}return t}}}},37464:function(e,t,r){"use strict";r.d(t,{N:function(){return i},I:function(){return s}});var n=r(64091),o=r(60009);let i;!function(e){e.QueryHome="query_home",e.HomePageBack="home_page_back",e.SetDefaultStore="change_store"}(i||(i={}));class s extends n.b{constructor(...e){super(...e),this.setDefaultShop=async({src:e=null,storeId:t,pfresh:r,locationIdInfo:n=null})=>{const{locationId:o=null,scene:s=null}=n||{},a={location_id:o,scene:s,pfresh:r||""},l={src:e,source_side:i.SetDefaultStore,store_id:t,user_attr_map:a};try{const e=await this.postRisk("/api/mc/v0/alexa/query_first_page",l);return e&&e.success?{success:!0}:Object.assign({},e,{errorMsg:e.errorMsg||"进店失败"})}catch(e){return{success:!1,errorMsg:e.message||e.errorMsg||"进店失败"}}},this.cleanDefaultStore=async()=>{try{return await this.postRisk("/api/mc/v1/user/clean_default_store")||{}}catch(e){return{}}},this.fetchMyStoreList=async e=>{const{pageSize:t=10,cursor:r=null}=e||{};let n=null;try{n=await this.postRisk("/api/mc/v2/user/query_bought_store_list",{cursor:r,page_size:t})}catch(e){(0,o.Zm)(e)}return n},this.queryStoresMapStoreList=async({cursor:e,size:t,locationId:r,scene:n,poiId:i,pfresh:s,suggestAddressId:a,suggestAddressSnapshotId:l,topStoreId:c,source:u,excludeStoreIds:p})=>{try{return await this.postRisk("/api/mc/v2/user/query_store_list_with_location",{exclude_store_ids:p,source:u,location_id:r,scene:n,poi_id:i,pfresh:s,cursor:e,page_size:t,suggest_address_id:a||null,suggest_address_snapshot_id:l||null,top_store_id:c||null})}catch(e){return(0,o.Zm)(e),null}},this.queryStoreListV2=async({cursor:e,size:t,locationId:r,scene:n,poiId:i,pfresh:s,suggestAddressId:a,suggestAddressSnapshotId:l,topStoreId:c,source:u,excludeStoreIds:p})=>{try{return await this.postRisk("/api/mc/v2/user/query_store_list",{exclude_store_ids:p,source:u,location_id:r,scene:n,poi_id:i,pfresh:s,cursor:e,page_size:t,suggest_address_id:a||null,suggest_address_snapshot_id:l||null,top_store_id:c||null})}catch(e){return(0,o.Zm)(e),null}}}}},79507:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(64091),o=r(89347),i=r(97287),s=r(34115);class a extends n.b{constructor(...e){super(...e),this.getTileInfo=async e=>this.getRisk(e,{source:s.MAP_SOURCE},{defaultErrorHandler:()=>{}}).then((e=>({body:e}))).catch((e=>{e&&e.errorCode===i.R.API_SERVICE_BUSY&&(0,o.Z)("地图数据加载失败")}))}}},29030:function(e,t,r){"use strict";r.d(t,{q:function(){return i}});var n=r(64091);const o=["shareInfo"];class i extends n.b{constructor(...e){super(...e),this.doPopupImpr=async({popupId:e=null,requestId:t=null,referBizScene:r=null})=>{let n=null;if(e&&t){try{n=await this.postRisk("/api/mc/v0/popup_impr",{impr_time:Date.now(),popup_id:e,request_id:t,refer_biz_scene:r},{defaultErrorHandler:()=>null})}catch(e){}return n}},this.getShareRedPacketInfo=async e=>{try{return await this.postRisk("/api/mc/v0/rambutan/query_red_envelope_popup_data",e,{excludedKeys:o,defaultErrorHandler:()=>null})}catch(e){return{result:null,errorCode:null==e?void 0:e.errorCode,errorMsg:(null==e?void 0:e.message)||(null==e?void 0:e.errorMsg)}}},this.fetchFriendsCouponList=async({storeId:e,listId:t})=>{try{return await this.postRisk("api/mc/v0/mc_goods/query_cmt_coupon_subpage",{store_id:e,offset:0,list_id:t,limit:20},{defaultErrorHandler:e=>e})}catch(e){return{result:null,errorCode:null==e?void 0:e.errorCode,errorMsg:(null==e?void 0:e.message)||(null==e?void 0:e.errorMsg)}}}}async takePointActivityReward({missionId:e}){try{return await this.postRisk("/api/mc/v0/apricot/take_reward",{mission_id:e})}catch(e){return{success:!1,errorCode:null==e?void 0:e.errorCode,errorMsg:(null==e?void 0:e.message)||(null==e?void 0:e.errorMsg)}}}async takePartInTomorrowRed({storeId:e}){if(!e)return Promise.resolve();try{return await this.postRisk("/api/mc/v1/peony/achieve_daily_coupon",{store_id:e},{excludedKeys:o,defaultErrorHandler:()=>null})}catch(e){return{result:null,errorCode:null==e?void 0:e.errorCode,errorMsg:(null==e?void 0:e.message)||(null==e?void 0:e.errorMsg)}}}}},34263:function(e,t,r){"use strict";r.d(t,{t:function(){return l},y:function(){return u}});var n=r(94572),o=r(64091),i=r(54859),s=r(60009);const a=["shareInfo"];class l extends o.b{constructor(...e){super(...e),this.getNativeShareImg=async e=>{try{const t=await this.postRisk("/api/mc/v1/goods_share_order",e,{excludedKeys:["payload"],defaultErrorHandler:()=>null});return null!=t&&t.success&&t.url?{url:t.url,key:t.key,posterParams:{width:(null==t?void 0:t.width)||0,height:(null==t?void 0:t.height)||0},shareTrackingPayload:t.payload}:{url:"",key:"",posterParams:{width:0,height:0},shareTrackingPayload:{}}}catch{return{url:"",key:"",posterParams:{width:0,height:0},shareTrackingPayload:{}}}},this.querySharePopupsInfo=async({storeId:e,latitude:t,longitude:r,locationId:n})=>{try{return await this.postRisk("/api/mc/v1/grape/query_popup",{store_id:e,latitude:t,longitude:r,location_id:n},{defaultErrorHandler:()=>null})}catch(e){return null}}}async getShareInfo(e){try{const t=await this.postRisk("/api/mc/v1/goods_share",e,{excludedKeys:a,defaultErrorHandler:()=>null});return{shareInfo:(0,n.P)(null==t?void 0:t.shareInfo),success:!0}}catch{return{success:!1}}}async getPosterUrl({cid:e,shareApi:t,posterParams:r,payload:n}){try{const o=await this.postRisk(t,{poster_params:r,cid:e,payload:n},{excludedKeys:["payload"],defaultErrorHandler:()=>null});return{posterUrl:null==o?void 0:o.posterUrl,shareTrackingPayload:null==o?void 0:o.payload}}catch{return""}}async updatePxqTimeLine({operationType:e,parentFreshOrderSn:t,pageSourceType:r,syncType:n}){try{return await this.postRisk("/api/mc/v0/banana/change_pxq_order_time_line",{operation_type:e,parent_fresh_order_sn:t,page_source_type:r,sync_type:n},{defaultErrorHandler:()=>null})}catch{return null}}async getShareShortUrl(e){return this.postRisk("/api/mc/v1/arugula/share/qeury_short_link",e,{excludedKeys:["payload"],defaultErrorHandler:()=>null})}async getAppCipherPayloadByType(e){return this.postRisk("/api/mc/v1/arugula/share/query_text_payload",{payload:e},{excludedKeys:["payload"],defaultErrorHandler:()=>null}).then((e=>e.payload))}}let c=null;const u=()=>{if(c)return c;const e=(0,i.jU)()?(0,s.Wv)():null;return c=new l(e)}},93836:function(e,t,r){"use strict";r.d(t,{a:function(){return o}});var n=r(64091);class o extends n.b{constructor(...e){super(...e),this.trackLocationDistance=async({storeId:e=null,locationId:t,scene:r})=>{try{await this.postRisk("/api/mc/v0/apricot/store_distance",{store_id:e,location_id:t,scene:r},{defaultErrorHandler:()=>null})}catch(e){}},this.doTraceReport=async({payload:e,scene:t})=>{try{await this.postRisk("/api/mc/v0/apricot/trace_report",{payload:e,scene:t},{defaultErrorHandler:()=>{}})}catch(e){}},this.triggerFreeOrderEvent=async(e,t)=>{try{const r=await this.postRisk("/api/mc/v0/luffa/report_free_order_event",{event_type:e,params:t},{excludedKeys:[],defaultErrorHandler:()=>{}});return null!=r&&r.success?r:null}catch(e){return null}},this.recordMessagePv=async({sharePageId:e,pageUrl:t,pageName:r})=>this.postRisk("/api/mc/v1/arugula/share/card_share_event_pv",{share_page_id:e,page_url:t,page_name:r},{excludedKeys:[],defaultErrorHandler:()=>{}}).catch((e=>{}))}}},14530:function(e,t,r){"use strict";var n,o=r(96156),i=r(44227),s=r(94325),a=r.n(s),l=r(83296),c=r(66346),u=r.n(c),p=r(44227).createElement;function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}let h=a()(u())(n=class extends i.Component{constructor(e){super(e),this.state={show:!1}}componentDidMount(){this.handleScroll=this.handleScroll.bind(this),this.props.scrollContainer?this.props.scrollContainer.addEventListener("scroll",this.handleScroll):window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.props.scrollContainer?this.props.scrollContainer.removeEventListener("scroll",this.handleScroll):window.removeEventListener("scroll",this.handleScroll)}handleScroll(){const e=(0,l.cx)(this.props.scrollContainer||document.body),t=parseInt((this.props.scrollContainer||document.body).offsetHeight/1.5,10);e<t&&this.state.show?this.setState({show:!1}):e>=t&&!this.state.show&&this.setState({show:!0})}render(){var e,t;const r=this.state.show?u().show:u().hide,n=u().goTop,i=(null===(e=this.props)||void 0===e?void 0:e.bottom)||.76,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({bottom:"".concat(this.state.show?i:-i,"rem")},(null===(t=this.props)||void 0===t?void 0:t.style)||{});return p("div",{style:s,className:"".concat(n," ").concat(r),onClick:e=>{this.onGoTopClick(e)},role:"button"},p("div",{className:u().arrow}),p("div",{className:u().text},"顶部"))}onGoTopClick(){const e=this.props.scrollContainer||document.body;(0,l.QU)(0,e)}})||n;h.defaultProps={show:!1,scrollContainer:null},t.Z=h},53502:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(96156),o=r(44227),i=r(8492),s=r(94184),a=r.n(s),l=(r(66337),r(98249)),c=r.n(l),u=r(78607),p=r(42735),d=r(1236),h=r.n(d),f=r(44227).createElement;const m=e=>{c()(h());const t=(0,o.useRef)(null),{data:r,index:n,renderItemView:i,observer:s,className:l,noObserver:u,enableDelayRender:p}=e,[d,m]=(0,o.useState)(e.hasInit);if((0,o.useEffect)((()=>{const e=null==t?void 0:t.current;if(s&&e)return p&&(e.init=m),s.observe(t.current),()=>{s&&e&&s.unobserve(e)}}),[s,u]),!i)return null;const g={data:r,index:n};return p&&(g.hasInit=d),u?i(g):f("div",{ref:t,className:a()(h().wrapper,l)},i(g))};var g=(0,o.memo)(m),y=r(61578),b=r(49159),v=r.n(b),_=r(44227).createElement;function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const P={threshold:0,rootMargin:"1500px"},k={rootMargin:600,threshold:.1,useWindow:!0,isUseGoTop:!1};var O=(0,i.observer)((function({ssrNum:e=10,dataSource:t,renderItemView:r,renderEmptyView:n=(()=>null),wrapperClass:i,itemWrapperClass:s,hasMore:l,infiniteListOptions:d,loadMoreFunc:h,enableDelayRender:f,rootId:m}){c()(v());const b=(0,o.useRef)(null);if((0,o.useEffect)((()=>{const e=document.getElementById(m);return b.current=new IntersectionObserver((e=>{e.forEach((e=>{const{boundingClientRect:t,target:r,rootBounds:n}=e,{height:o,width:i,top:s,bottom:a}=t;if(!i||!o||!r)return;if(!r.dataset.init&&(e=>{try{const t=e.children[0];if(!t)return!1;const{width:r,height:n,marginTop:o,marginBottom:i,marginLeft:s,marginRight:a}=getComputedStyle(t);if(!r||!n)return!1;const l=parseFloat(o)+parseFloat(i)||0,c=parseFloat(s)+parseFloat(a)||0;return e.style.height="".concat((parseFloat(n)+l)*(0,p.jM)(),"rem"),e.style.width="".concat((parseFloat(r)+c)*(0,p.jM)(),"rem"),!0}catch(e){return!1}})(r)&&(r.dataset.init=!0),!r.dataset.init)return;var l,c,u;e.isIntersecting&&e.intersectionRatio>=P.threshold||s>=n.top&&a<=n.bottom?(r.dataset.initRender=!0,null==r||null===(l=r.init)||void 0===l||l.call(r,!0),null===(c=r.classList)||void 0===c||c.remove(v().itemHide)):null===(u=r.classList)||void 0===u||u.add(v().itemHide)}))}),S(S({},P),{},{root:e})),()=>{var e;null===(e=b.current)||void 0===e||e.disconnect()}}),[m]),!(null!=t&&t.length||l))return n();const w=S(S(S({},k),d||{}),{},{onLoadDown:h||(async()=>y._b)});return _(u.Z,w,_("div",{className:a()(v().wrapper,i)},t.map(((t,n)=>{const o=(null==t?void 0:t.key)||(null==t?void 0:t.goodsId)||n;return _(g,{key:o,data:t,index:n,hasInit:n<=e,className:s,observer:b.current,noObserver:null==t?void 0:t.noObserver,renderItemView:r,enableDelayRender:f})}))))}))},42873:function(e,t,r){"use strict";r.d(t,{U8:function(){return x},jW:function(){return T},DV:function(){return E},CI:function(){return k},ZP:function(){return S},Lr:function(){return O}});var n=r(96156),o=r(82729),i=r.n(o),s=r(44227),a=r(67421),l=r(3530),c=r(88798),u=r(7549),p=r(54859),d=r(18495);var h=e=>((0,d.Z)(e),null);var f=r(19574),m=r(16477),g=r(49802),y=r(89421),b=r(44227).createElement;function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const w=e=>{const{showCallback:t,hideCallback:r}=e,n=(0,s.useRef)(!1),o=(0,s.useRef)(null),i=(0,s.useRef)(null),l=(0,s.useCallback)((e=>{n.current&&t&&t(e)}),[t]),c=(0,s.useCallback)((e=>{n.current=!0,r&&r(e)}),[r]);return(0,s.useEffect)((()=>((0,p.tY)()&&(async()=>{var e;o.current=await(0,a._r)(l),i.current=await(e=c,(0,a.rB)("onPageHide",e))})(),()=>{o.current&&o.current(),i.current&&i.current()})),[l,c]),null};var S=w;let P=[];function k(...e){P.push(...e)}function O(...e){i()(P,(t=>e.includes(t)))}const C=e=>{const{storeChangeCallback:t}=e,[r,,n]=(0,f.V)(f.a.PageBack),o=(0,s.useCallback)((()=>{t(r,n)}),[t,r,n]);return b(w,{showCallback:o})},I=e=>{const{storeChangeCallback:t}=e,[r,,n]=(0,f.V)(f.a.Immediately);return(0,s.useEffect)((()=>{n&&n.srcPageId===u.ZP.getInstance().getPageID()&&t(r,n)}),[r,n]),null},x=e=>{const t=(0,s.useRef)(!1),{overrideStoreReloadHandler:r,showCallback:n=m.ZT,storeId:o=null}=e,i=(0,s.useCallback)((async(e,i)=>{for(;P.length>0;){const t=P.pop();await t(e,i)}if(t.current)return;t.current=!0;const s=null==e?void 0:e.storeId,a=Boolean(s&&"".concat(s)!=="".concat(o));if((0,p.Wl)(r))r({isStoreChanged:a,ddmcStoreInfo:e});else{if(a){var u;const e=null!==(u=(0,g.qT)())&&void 0!==u?u:{};l.ZP.reload((0,c.ru)(_(_({},e),{},{[y.Uk.StoreId]:s,[y.Uk.PrAnimated]:0}),location.href))}n({isStoreChanged:a})}t.current=!1}),[o,n,r]);return(0,s.useEffect)((()=>()=>{t.current=!1}),[]),b(s.Fragment,null,b(C,{storeChangeCallback:i}),b(I,{storeChangeCallback:i}))},E=e=>{const{showCallback:t}=e;return b(s.Fragment,null,(0,p.tY)()&&b(w,{showCallback:t}),(0,p.Wk)()&&b(h,{showCallback:t}))},T=e=>{const{showCallback:t,overrideStoreReloadHandler:r,storeId:n}=e;return b(s.Fragment,null,(0,p.tY)()&&b(x,{overrideStoreReloadHandler:r,showCallback:t,storeId:n}),(0,p.Wk)()&&b(h,{showCallback:t}))}},11875:function(e,t,r){"use strict";r.d(t,{Z:function(){return be}});var n=r(22122),o=r(81253),i=r(96156),s=r(44227),a=r(37858),l=r(64363),c=r(95643),u=r(54859),p=r(67421),d=r(445),h=r(38644),f=r(21315),m=r(41351),g=r(64663),y=r(86270),b=r(86024),v=r(16477),_=r(99124),w=r(1452),S=r(83296),P=r(97287),k=r(89421),O=r(65870),C=r(27162),I=r(70775),x=r(88798),E=r(51827);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const A=(0,S.Yo)("11-26/2020-11-26/ebba10e0-5ef6-42af-89ee-f5573fa35059"),R="5.46.0",L="5.51.0",M=[b.pD.Wechat,b.pD.Pxq,b.pD.WeChatTimeline,b.pD.SaveImage],Z={[b.pD.WeChatTimeline]:b.sv.TimelinePoster,[b.pD.SaveImage]:b.sv.WeChatPosterImage,[b.pD.McCopyLink]:b.sv.McCopyLink},j="share",N="share_result",z=e=>{const{title:t,message:r,thumbnailURL:n}=e,o=r||"今日下单，次日自提",i=n||A,s=(0,a.NX)(e),c=t||"多多买菜",u=(0,E.Z)(s),p=["msg_type","path","title","description","thumb_url","link_url"];Object.keys(u).some((e=>p.includes(e)))&&((0,g.eK)({error_msg:"native_share_panel_error",page:"native_share_panel_error_repeat_params"}),(0,m.b0)({customTags:{event:"native_share_panel_error_pxq"}}));return{is_silence:!1,type:4,title:c,thumb_url:i,extra:{link_url:s,sub_title:o},pxq_friends_info:{show_create_group:!0,type:8,data:D(D({},u),{},{msg_type:"page_share",path:l.rV,title:c,description:o,thumb_url:i,link_url:s})}}};function U(e){return(0,u.qt)(e)?e.filter((e=>e!==b.pD.McCopyLink||(()=>{const{version:e,platform:t}=(0,d.zT)();return h.iw.PddIOS,(0,h.yC)(e,"5.91.0")>=0})())):M}const B=({pxqShareInfo:e,err:t,subOp:r})=>{var n;const o={op:"event",sub_op:r,share_url:(null==e||null===(n=e.extra)||void 0===n?void 0:n.link_url)||"",share_channel:"pxq",share_result:t&&r===N?"fail":"success",share_id:(0,v.t$)()};(0,_.e0)(o)},G=(e,t,r,n)=>{if(e){if(e===P.R.NATIVE_USER_CANCEL)return;(0,g.eK)({error_msg:"native_share_panel_error",page:"native_share_panel_error ".concat(String(e))}),(0,y.qu)({page:"native_share_panel_error ".concat(String(e))},y.cU.ShareError),(0,m.b0)({customTags:{event:"native_share_panel_error"}})}else(null==t?void 0:t.channel)===b.pD.Pxq&&B({err:e,pxqShareInfo:null==r?void 0:r.pdd_timeline_info,subOp:N}),n(t)},F=(e,t,r)=>{if((e=>{const t=b.f0[(null==e?void 0:e.channel)||"0"];(0,m.b0)({customTags:{event:t}})})(t),(null==t?void 0:t.channel)===b.pD.Wechat&&null!=r&&r.mini_object_path){const e={miniObjectPath:r.mini_object_path};(0,a.Ro)(O.H.SHARE_ACTION,e,b.sv.WeChatXcxCard)}(null==t?void 0:t.channel)===b.pD.Pxq&&B({err:e,pxqShareInfo:null==r?void 0:r.pdd_timeline_info,subOp:j})};var H=r(51152),W=r(98249),q=r.n(W),V=r(40750),K=r(23493),Y=r.n(K),Q=r(88237),X=r(60374),$=r(51692),J=r(94184),ee=r.n(J),te=r(26652),re=r.n(te),ne=r(35977),oe=r(44227).createElement;const ie=1e3,[se,ae]=(0,S.XW)(["share_wechat_with_bg_v2","share_timeline_with_bg_v2"]);var le=e=>{q()(re());const{getNativeShareImg:t,toggleShareMaskVisible:r,getShareInfo:n,timelineShareEnable:o,shareMaskTitle:i}=e,l=async()=>n(),{shareClickWrapperV3:c}=(0,ne.Z)(),u=(0,s.useCallback)(Y()((async e=>{(0,_.e0)({op:"click",page_el_sn:4432769}),e.stopPropagation();const t=[b.sv.WeChatXcxCard];await c((async()=>l()),{prioritys:t,isMask:!0})(),(0,m.C8)(b.NF.MaskXcxCard),r(!1)}),ie,{leading:!0,trailing:!1}),[r]),p=(0,s.useCallback)(Y()((async e=>{(0,_.e0)({op:"click",page_el_sn:4432809}),e.stopPropagation();const o=[b.sv.TimelinePoster],i=n();await c((async()=>i),{prioritys:o,isMask:!0,generateShareInfoOpts:{getImgUrlPromise:t}})(),(0,m.C8)(b.NF.MaskTimeline),r(!1)}),ie,{leading:!0,trailing:!1}),[]),h=(0,s.useCallback)(Y()((async e=>{(0,_.e0)({op:"click",page_el_sn:4432769}),e.stopPropagation();const o=[b.sv.WeChatPosterImage],i=n();await c((async()=>i),{prioritys:o,isMask:!0,generateShareInfoOpts:{getImgUrlPromise:t}})(),(0,m.C8)(b.NF.MaskWechatImg),r(!1)}),ie,{leading:!0,trailing:!1}),[]),f=(0,s.useCallback)(Y()((async e=>{e.stopPropagation();const t=[b.sv.WeChatH5Card],n=l();await c((async()=>n),{prioritys:t,isMask:!0})(),(0,m.C8)(b.NF.MaskH5Card),r(!1)}),ie,{leading:!0,trailing:!1}),[]),y=(0,s.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),r(!1)}),[r]),v=(0,s.useCallback)((e=>{e.stopPropagation()}),[]),w=e=>{const t=(e=>{let t=(0,a.Vh)([e]);t||(t=(0,a.Vh)([b.sv.WeChatXcxCard,b.sv.WeChatH5Card,b.sv.WeChatPosterImage,b.sv.ShortUrl,b.sv.AppCipher]));const n=[t];switch(t){case b.sv.WeChatXcxCard:return u;case b.sv.WeChatH5Card:return f;case b.sv.WeChatPosterImage:return h;case b.sv.AppCipher:case b.sv.ShortUrl:return Y()((async e=>{e.stopPropagation();const t=await l();await c((async()=>t),{prioritys:n,isMask:!0})(),(0,m.C8)(b.NF.MaskShortUrl),r(!1)}),ie,{leading:!0,trailing:!1});default:return null}})(e);return t?oe("div",{className:re().item,onClick:t,key:"wechatDom"},oe(V.Z,{className:re().icon,src:se}),oe("div",{className:re().text},"分享微信")):((0,g.eK)({error_msg:"not_find_share_type",page:"not_find_share_type_in_shareMask"}),(0,m.C8)(b.NF.NoMaskShare),null)};(0,s.useEffect)((()=>((0,_.e0)({op:"impr",page_el_sn:4432768}),(0,X.XY)(),()=>{(0,X.K9)()})),[]),(0,s.useEffect)((()=>{const t=(0,d.zT)().isNativePlatform;return e.usePullReload&&t&&(0,Q.nk)({enable:!1}),()=>{e.usePullReload&&t&&(0,Q.nk)()}}),[e.usePullReload]);const S=e.mcShareMaskChannels||(0,b.zK)().McShareMaskChannels,P=!!i;return oe($.Z.Controller,null,oe("div",{className:re().share,onClick:y},oe("div",{className:ee()(re().panel,{[re().headed]:P}),onClick:v},P&&oe("div",{className:re().title},i),oe("div",{className:re().content},S.map((e=>{switch(e){case b.sv.WeChatXcxCard:case b.sv.WeChatPosterImage:case b.sv.WeChatH5Card:case b.sv.ShortUrl:case b.sv.AppCipher:return w(e);case b.sv.TimelinePoster:return(e=>!!(0,a.Vh)([e])&&o&&oe("div",{className:re().item,onClick:p,key:"timeline"},oe(V.Z,{className:re().icon,src:ae}),oe("div",{className:re().text},"分享朋友圈")))(e);default:return null}}))),oe("div",{className:re().divider}),oe("div",{className:re().footer,onClick:y},"取消"))))},ce=r(23279),ue=r.n(ce),pe=r(57557),de=r.n(pe),he=r(27695),fe=r(44227).createElement;function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ye=e=>"function"==typeof e;class be extends s.Component{constructor(e){super(e),this.shareCallbackRef=s.createRef(),this.getAppShareInfo=()=>{const{getShareInfo:e}=this.props;if(!ye(e))return(e=>{const t="ShareBtnWrapper组件错误："+e;(0,u.WC)()?console.error(t):(0,u.jU)()&&(0,g.eK)({error_msg:t,page:t})})("props参数错误，getShareInfo 不是function"),{};const t=e();return(0,a.F6)(t)},this.getAppPxqShareInfo=()=>{if("function"==typeof this.props.getPxqShareInfo){const e=this.props.getPxqShareInfo();return(0,a.r$)(e)}return null},this.getIsNativeMask=e=>{const t=this.getIsDowngradeToMcMask(e),r=!!this.getAppPxqShareInfo();return(()=>{const{version:e,platform:t}=(0,d.zT)(),r=t===h.iw.PddIOS?R:L;return(0,h.yC)(e,r)>=0})()&&!t&&r},this.getIsDowngradeToMcMask=e=>e!==b.sv.WeChatXcxCard,this.toggleMcShareMaskVisible=e=>{this.setState({mcShareMaskVisible:e?(0,u.jU)():e})},this.showMask=ue()((async()=>{var e,t;const{getShareInfo:r,enabledChannels:n,getH5LandContentImg:o}=this.props;if(!ye(r))return{};const i=null===(e=this.shareCallbackRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.getIsomorphismShareInfo,s=[b.sv.WeChatXcxCard],{isomorphismShareInfo:l,shareType:u}=await i({getOriginShareInfo:async()=>r(),frontPrioritys:s});if(this.getIsNativeMask(u)){const e=this.getAppShareInfo(),t=this.getAppPxqShareInfo();(async({enabledChannels:e,appShareInfo:t,nativeShareInfo:r,appPddTimelineInfo:n,getNativeShareImg:o,getH5LandContentImg:i})=>{const{title:s,message:l,thumbnailURL:u,shareURL:d,miniObjectPath:h,miniObjectID:g}=r,y={title:s,message:l,icon_alignment:1,thumb_url:u,image_url:"default",share_url:d,mini_object_path:h,mini_object_id:g,[k.Uk.WithShareTicket]:(0,a.XV)(t),pdd_timeline_info:z(n),enabled_channels:U(e)};let v=0;const _=e=>{if((null==e?void 0:e.channel)===b.pD.Wechat){if(v){const e=Date.now()-v;(0,a.Ro)(O.H.SHARE_SUCCESS_ACTION,{miniObjectPath:y.mini_object_path},b.sv.WeChatXcxCard,{share_duration:e})}}else(null==e?void 0:e.channel)!==b.pD.WeChatTimeline&&(null==e?void 0:e.channel)!==b.pD.SaveImage&&(null==e?void 0:e.channel)!==b.pD.McCopyLink||((0,a.Ro)(O.H.SHARE_SUCCESS_ACTION,(0,I.hn)(),Z[null==e?void 0:e.channel]),(0,I.fX)(null))};(0,c.nM)("AMShare","showSharePage",D(D({},y),{},{async_channel_selection_callback:async(e,r)=>{if(e)return;v=Date.now();const n=null==r?void 0:r.notification_name,s=await(0,C.WX)(Z[r.channel],r.share_id?{refer_share_id:r.share_id}:{});switch(r.channel){case b.pD.SaveImage:case b.pD.WeChatTimeline:{const e=await o(D(D({},s),{},{share_channel:s.refer_share_channel,share_form:f.Z.IMAGE})),t=(0,x.ru)((null==e?void 0:e.shareTrackingPayload)||{},d);await(0,p.lW)(n,{image_url:null==e?void 0:e.url,share_url:t}),(0,I.fX)(null==e?void 0:e.shareTrackingPayload);break}case b.pD.McCopyLink:{const{shareURL:e}=await(0,a.MU)(t,{getH5LandContentImg:i}),r="".concat((0,w.z2)(),"/").concat((0,x.ru)(D(D({},s),{},{[k.Uk.ShareXcxQuery]:""}),e));r.length>750&&(0,m.b0)({customTags:{event:"native_share_copy_link_over"}}),await(0,p.lW)(n,{title:r,share_url:e}),(0,I.fX)((0,E.Z)(r));break}default:await(0,p.lW)(n,{})}[b.pD.SaveImage,b.pD.WeChatTimeline,b.pD.McCopyLink].includes(r.channel)&&(0,a.Ro)(O.H.SHARE_ACTION,(0,I.hn)(),Z[null==r?void 0:r.channel])},share_callback:(e,t)=>G(e,t,y,_),channel_selection_callback:(e,t)=>(v=Date.now(),F(e,t,y))}),L,R).catch((()=>null))})({enabledChannels:n,appShareInfo:e,nativeShareInfo:l,appPddTimelineInfo:t,getNativeShareImg:async t=>{const r=ge(ge({},t),(0,a.NI)(e)||{});return this.props.getNativeShareImg(r)},getH5LandContentImg:o})}else this.toggleMcShareMaskVisible(!0)}),1e3,{trailing:!1,leading:!0}),this.getApi=()=>({showMask:this.showMask}),this.getNewProps=()=>{const{onClick:e}=this.props;return{onClick:ue()((t=>{ye(e)&&e(t),this.showMask()}),1e3,{trailing:!1,leading:!0})}},this.renderShareBtn=()=>{const e=this.props,{children:t}=e,r=(0,o.Z)(e,["children"]),n=de()(r,["usePullReload","getNativeShareImg","getShareInfo","getPxqShareInfo","shareMaskTitle","mcShareMaskChannels"]);if(!t)return null;const i=ge(ge({},n),this.getNewProps());return s.cloneElement(t,ge({},i))},this.state={mcShareMaskVisible:!1}}componentDidMount(){if(ye(this.props.getShareApi)){const e=this.getApi();this.props.getShareApi(e)}}render(){const{mcShareMaskVisible:e}=this.state,{usePullReload:t,getNativeShareImg:r,getShareInfo:o,mcShareMaskChannels:i,shareMaskTitle:a}=this.props,l={usePullReload:t,getNativeShareImg:r,toggleShareMaskVisible:this.toggleMcShareMaskVisible,getShareInfo:o,mcShareMaskChannels:i,shareMaskTitle:a};return fe(s.Fragment,null,fe(he.Z,{ref:this.shareCallbackRef}),this.renderShareBtn(),fe(ve,(0,n.Z)({},l,{mcShareMaskVisible:e})))}}function ve(e){const{mcShareMaskVisible:t}=e,r=(0,o.Z)(e,["mcShareMaskVisible"]),[i,l]=(0,s.useState)(!0);return(0,s.useEffect)((()=>((0,a.Hd)(H.Z.WECHAT_TIMELINE_IMAGE).then((e=>{e||l(e)})),()=>{})),[]),t?fe(le,(0,n.Z)({},r,{timelineShareEnable:i})):null}},27695:function(e,t,r){"use strict";var n=r(44227),o=r(35977);const i=(e,t)=>{const r=(0,o.Z)();return(0,n.useImperativeHandle)(t,(()=>r)),null};t.Z=(0,n.forwardRef)(i)},71819:function(e,t,r){"use strict";r.d(t,{N:function(){return _}});var n=r(96156),o=r(44227),i=r(94184),s=r.n(i),a=r(49681);r(44227).createElement;r(88169),r(44227).createElement;r(94604),r(44227).createElement;class l{constructor(){this.io=void 0,this.rootMargin="600px 300px",this.map=new Map,this.disable=!1,this.onCallBack=e=>{e.forEach((e=>{var t;null===(t=this.map.get(e.target))||void 0===t||t(e)}))}}register(e,t){return this.io||(this.io=new IntersectionObserver(this.onCallBack,{rootMargin:this.rootMargin})),this.map.set(e,t),this.io.observe(e),()=>{this.map.delete(e),this.io.unobserve(e)}}}const c=new l,u=o.createContext(c);var p=r(71362),d=r.n(p);var h=r(44227).createElement;function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const g={isMoving:!1,scrollTop:0,isCover:!1,coverOffset:0,height:-1,index:-1};var y;!function(e){e[e.Unkown=0]="Unkown",e[e.Horizontal=1]="Horizontal",e[e.Vertical=2]="Vertical"}(y||(y={}));const b=(0,o.memo)((({children:e,index:t,controller:r})=>{const n=r.getTabState(t);return h(u.Provider,{value:r.itemObserverManagers[t]},h("div",{className:d().item,style:{height:n.style.height}},h("div",{style:{display:n.innerStyle.display,top:-n.innerStyle.transformY},className:d().innerItem},e)))}));class v{constructor({len:e,activeIndex:t,restorePositionWhenNotCover:r,userAgent:n}){this.rootEl=void 0,this.contentEl=void 0,this.contentElComputedStyle=void 0,this.userAgent="",this.isIOSSystem=!1,this.isAndriodSystem=!1,this.len=0,this.offset=0,this.rootWidth=0,this.offsetTop=0,this.coverHeight=0,this.activeIndex=0,this.isUseTransform=!1,this.transitionDuration=300,this.restorePositionWhenNotCover=!1,this.movingCtx=g,this.itemCoverOffsets=[],this.itemObserverManagers=[],this.childEls=[],this.moveAffectedItems=[],this.isMoveLock=!1,this.isGesture=!1,this.isIndexChange=!1,this.moveParams=null,this.stopScrollEventPropagation=!1,this.isTransition=!1,this.onSlide=void 0,this.onSlideEnd=void 0,this.onMoveLock=void 0,this.onMoveUnlock=void 0,this.activeIndex=t,this.restorePositionWhenNotCover=r,this.len=e,this.itemObserverManagers=Array.from({length:e}).map((()=>new l)),this.userAgent=n,n&&(this.isIOSSystem=/iphone|ipad|ipod/i.test(n),this.isAndriodSystem=!this.isIOSSystem&&/Android/i.test(n)),this.isUseTransform=!this.isIOSSystem,this.itemObserverManagers.forEach(((e,t)=>{e.disable=this.activeIndex!==t}))}init({rootEl:e}){this.rootEl=e,this.contentEl=e.firstElementChild,this.contentElComputedStyle=getComputedStyle(this.contentEl),this.childEls=this.contentEl.children,this.itemCoverOffsets=Array.from({length:this.childEls.length}).map((()=>0)),this.rootWidth=this.rootEl.offsetWidth,this.contentEl.addEventListener("transitionend",(e=>{e.target===e.currentTarget&&this.moveUnLock()}))}getTabState(e=0,t=!1){if(this.isMoveLock?this.movingCtx.index===e:this.activeIndex===e)return{tabIndex:e,style:{},innerStyle:{display:"block",transformY:0}};if(t){let t=0;return t=this.movingCtx.isCover?this.itemCoverOffsets[e]-this.movingCtx.coverOffset:this.restorePositionWhenNotCover?this.itemCoverOffsets[e]:0,{tabIndex:e,style:{height:this.isMoveLock?this.movingCtx.height:1},innerStyle:{display:"block",transformY:t}}}return{tabIndex:e,style:{height:1},innerStyle:{display:"none",transformY:0}}}setTabElStyle(e){const t=this.childEls[e.tabIndex],r=t.firstChild;t.style.height=e.style.height?"".concat(e.style.height,"px"):"auto";const n={};"none"===e.innerStyle.display&&(n.display="none"),n.top="".concat(-e.innerStyle.transformY,"px"),"none"!==e.innerStyle.display&&(n.display="block"),Object.assign(r.style,n)}updateMovingCtx(){const e=Math.round((0,a.cx)()),t=this.rootEl.getBoundingClientRect(),r=Math.round(t.top);this.offsetTop=e+r;const n=e-(this.offsetTop-this.coverHeight);this.movingCtx={isMoving:!0,scrollTop:e,index:this.activeIndex||0,height:Math.round(t.height)||g.height,isCover:n>-1,coverOffset:Math.max(0,n)}}getTranslateX({index:e=0,offset:t=0}){return this.rootEl?"".concat(-e*this.rootWidth+t,"px"):"".concat(-100*e,"%")}getCurrentTranslateX(){return this.getTranslateX({index:this.activeIndex,offset:this.offset})}moveLock(e=-1){var t;this.isMoveLock,this.isMoveLock=!0,this.itemObserverManagers.forEach((e=>{e.disable=!0})),null===(t=this.onMoveLock)||void 0===t||t.call(this),this.updateMovingCtx(),this.itemCoverOffsets[this.activeIndex]=this.movingCtx.coverOffset,this.updateMoveTabStyle(e)}updateMoveTabStyle(e=-1){const t=(-1===e?[this.activeIndex-1,this.activeIndex,this.activeIndex+1]:[this.activeIndex,e]).filter((e=>e>-1&&e<this.childEls.length));t.forEach((e=>{this.setTabElStyle(this.getTabState(e,!0))})),this.moveAffectedItems=[...new Set([...this.moveAffectedItems,...t])]}moveUnLock(){var e,t;(this.isMoveLock,this.isMoveLock=!1,this.isTransition=!1,null===(e=this.onMoveUnlock)||void 0===e||e.call(this),[...new Set([...this.moveAffectedItems,this.activeIndex-1,this.activeIndex,this.activeIndex+1])].filter((e=>e>-1&&e<this.childEls.length)).forEach((e=>{this.setTabElStyle(this.getTabState(e))})),this.moveAffectedItems=[],this.itemObserverManagers[this.activeIndex]&&(this.itemObserverManagers[this.activeIndex].disable=!1),(this.movingCtx.isCover||this.restorePositionWhenNotCover)&&(this.isAndriodSystem&&(this.stopScrollEventPropagation=!0),(0,a.QU)(this.itemCoverOffsets[this.activeIndex]+Math.min(this.offsetTop-this.coverHeight,this.movingCtx.scrollTop)),this.isAndriodSystem&&setTimeout((()=>{this.stopScrollEventPropagation=!1}),50)),this.isIndexChange&&this.isGesture)&&(null===(t=this.onSlideEnd)||void 0===t||t.call(this,this.activeIndex))}getElTranlateX(){const e=this.contentElComputedStyle;let t="";if(this.isUseTransform){const r=e.transform||e.webkitTransform||e.mozTransform;if("none"===r)t="0px";else{const e=r.includes("3d")?"3d":"2d",n=r.match(/matrix.*\((.+)\)/)[1].split(", ");t="2d"===e?n[4]:n[12]}}else t=e.left;return Number(t.replace("px",""))||0}move(e,t=!1){this.moveParams=e,t?this.doMove():window.requestAnimationFrame((()=>{this.doMove()}))}translate(e,t=0){const r={};this.isUseTransform?(r.transform="translate3d(".concat(e,"px, 0px, 0px)"),r.webkitTransform="translate3d(".concat(e,"px, 0px, 0px)")):r.left="".concat(e,"px"),r.transitionDuration="".concat(t,"ms"),r.webkitTransitionDuration="".concat(t,"ms"),Object.assign(this.contentEl.style,r)}doMove(){if(!this.moveParams)return;const{index:e=0,offset:t=0,isTransition:r=!1,isGesture:n}=this.moveParams;this.moveParams=null,this.isTransition=r,this.isGesture=n,this.isIndexChange=e!==this.activeIndex,this.isMoveLock||(!this.isGesture&&this.isIndexChange?this.moveLock(e):this.moveLock());const o=-this.activeIndex*this.rootWidth+this.offset,i=function(e,t,r,n,o=10){return r<e?e-Math.min((e-r)/o,n):r>t?t+Math.min((r-t)/o,n):r}(-(this.rootWidth*(this.childEls.length-1)),0,-e*this.rootWidth+t,this.rootWidth,5),s=Math.abs(o-i);let a=0;var l;(r&&s&&this.getElTranlateX()!==i&&(a=300),this.translate(i,a),this.activeIndex=e,this.offset=t,this.isIndexChange&&this.isGesture)&&(null===(l=this.onSlide)||void 0===l||l.call(this,this.activeIndex));r||this.isGesture||this.moveUnLock(),r&&0===a&&this.moveUnLock()}}const _=(0,o.memo)((({className:e,style:t,index:r=0,disable:n=!1,disableNonGestureTransition:i=!1,coverHeight:l=0,restorePositionWhenNotCover:c=!1,children:u,userAgent:p,onSlide:f,onSlideEnd:g,onMoveLock:_,onMoveUnlock:w})=>{(0,a.yK)(d());const S=o.Children.count(u),P=(0,o.useRef)(null),k=(0,o.useMemo)((()=>new v({len:S,activeIndex:r,restorePositionWhenNotCover:c,userAgent:p})),[]);(0,o.useEffect)((()=>{P.current&&k.init({rootEl:P.current})}),[]),f&&(k.onSlide=f),g&&(k.onSlideEnd=g),_&&(k.onMoveLock=_),w&&(k.onMoveUnlock=w);const O=(0,o.useRef)({startX:0,startY:0,startTime:0,direction:y.Unkown,moveValid:!1,onStart:e=>{},onMove:e=>{},onEnd:e=>{}});(0,o.useEffect)((()=>{k.coverHeight=Math.round((0,a.zA)(l))}),[JSON.stringify(l)]),(0,o.useMemo)((()=>{if(k.activeIndex!==r){const e=!n&&1===Math.abs(k.activeIndex-r)&&!i;k.move({index:r,offset:0,isTransition:e,isGesture:!1})}}),[r]),O.current.onStart=(0,o.useCallback)((e=>{if(O.current.direction!==y.Unkown)return void e.preventDefault();k.isTransition&&e.preventDefault();const t=e.touches[0];O.current.startX=t.clientX,O.current.startY=t.clientY,O.current.direction=y.Unkown,O.current.startTime=Date.now()}),[]),O.current.onMove=(0,o.useCallback)((e=>{const t=e.touches[0],r=t.clientX-O.current.startX,n=t.clientY-O.current.startY;if(k.isTransition)return e.preventDefault(),O.current.startX=t.clientX,O.current.startY=t.clientY,O.current.direction=y.Unkown,void(O.current.startTime=Date.now());if(y.Unkown===O.current.direction){const e=Math.abs(r),t=Math.abs(n);O.current.direction=e>t?y.Horizontal:y.Vertical,k.isIOSSystem&&O.current.startX<15&&(O.current.direction=y.Vertical)}O.current.direction===y.Horizontal&&(e.preventDefault(),k.move({isTransition:!1,offset:Math.ceil(1.2*r*100)/100,index:k.activeIndex,isGesture:!0},!0))}),[]),O.current.onEnd=(0,o.useCallback)((e=>{const t=e.changedTouches[0],{startX:r,startY:n,startTime:o}=O.current,{rootWidth:i}=k,s=t.clientX-r,a=t.clientY-n,l=Date.now()-o;let c=k.activeIndex;if(O.current.direction===y.Horizontal){const{offset:e}=k;((e,t,r)=>Math.abs(e)>Math.abs(t)&&e<0&&Math.abs(e)>10&&Math.abs(e/r)>.3)(s,a,l)?c+=1:((e,t,r)=>Math.abs(e)>Math.abs(t)&&e>0&&Math.abs(e)>10&&Math.abs(e/r)>.3)(s,a,l)?c-=1:Math.abs(e)>.5*i&&(e>0?c-=1:c+=1),c=Math.min(Math.max(c,0),S-1),k.move({index:c,offset:0,isTransition:!0,isGesture:!0},!0)}O.current.direction=y.Unkown}),[]),(0,o.useEffect)((()=>{if(n)return;if(!P.current)return;const e=e=>{k.stopScrollEventPropagation&&e.stopPropagation()};document.addEventListener("scroll",e);const t=e=>O.current.onStart(e),r=e=>O.current.onMove(e),o=e=>O.current.onEnd(e);return P.current.addEventListener("touchstart",t),P.current.addEventListener("touchmove",r),P.current.addEventListener("touchend",o),P.current.addEventListener("touchcancel",o),()=>{P.current&&(document.removeEventListener("scroll",e),P.current.removeEventListener("touchstart",t),P.current.removeEventListener("touchmove",r),P.current.removeEventListener("touchend",o),P.current.removeEventListener("touchcancel",o))}}),[n]);const C=k.getCurrentTranslateX(),I=m({},k.isUseTransform?{transform:"translate3d(".concat(C,", 0px, 0px)"),WebkitTransform:"translate3d(".concat(C,", 0px, 0px)")}:{left:C});return h("div",{ref:P,className:e,style:m(m({},t),{},{overflow:"hidden",width:"100%"})},h("div",{className:s()(d().content,{[d().isNotTransform]:!k.isUseTransform}),style:I},o.Children.map(u,((e,t)=>h(b,{key:t,index:t,controller:k},e)))))}))},78905:function(e,t,r){e.exports=r(87523)(188)},44227:function(e,t,r){e.exports=r(87523)(294)},8492:function(e,t,r){e.exports=r(87523)(37)},88169:function(e,t,r){e.exports=r(87523)(935)},81249:function(e){"use strict";e.exports=pinbridge},87523:function(e){"use strict";e.exports=react_vendor_library}},function(e){"use strict";e.O(0,[4768,4388,4181],(function(){return t=37819,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-vegetables/js/vgt_mall_list_38f39137dbf06bf72556_modern.js.map