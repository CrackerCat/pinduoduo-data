!function(){var e,t,r,n,o,i={72457:function(e,t,r){"use strict";r(40851),r(96253),r(35666);var n=r(54927),o=r.n(n),i=r(37883),a=r.n(i),s=(r(98351),r(95767),r(91181),r(56997),r(27476),r(66108),r(82139),r(61230)),c=r.n(s),l=r(21112),u=r.n(l),p=r(44639),d=r.n(p),f=r(56846),m=r.n(f),h=r(40099),v=r.n(h),_=r(32757),g=r.n(_),y=r(48805),b=r.n(y),w=r(87401),k=r(70798),I=r(45063),O=r(10533),D=(r(75115),r(74711)),P=r(22691);function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.Td,r=e.title||"拼多多商城",n=(0,D.zT)();document.title=r,n.isNativePlatform&&t(Object.assign({},e,{title:r}))}r(94899);var E,C=r(94222),S=r.n(C),N=r(12020),j=r.n(N),T=r(33389),A=r.n(T),L=(r(90700),r(22188)),R=r(13287),M=r(37307),G=r(35607),B=function(e,t){var r=(0,G.oP)(e);return null==t||t(),r},F=r(92263),Z=r(31403),q=r(24649),U=r(93246),K=r(42202);E=r(53988).Z;var z=r(1963),H=r(8490);function W(){return(W=o()(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||[],window.leo=window.leo||{},window.leo.data=window.leo.data||{},e.next=5,(0,H.T7)();case 5:r=e.sent,window.leo.csrFallback&&window.leo.fallbackData&&t.length&&t.map((function(e){var t=window.leo.fallbackData[e.leoKey];if(t){var n=(0,z.h)(e);try{window.leo.data[e.leoKey]=n(t,{identity:{uid:parseInt(r,10)||0}})}catch(t){E(null,"".concat(e.leoKey,"_csrFormatLeoFailed"),t)}}else E(null,"".concat(e.leoKey,"_csrLeoFallbackDataNotFound"))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t){var n;t=t||{};try{r(63035);n=window.leo.data[e]}catch(r){E(t.__req,"BusinessOrFrameworkError_".concat(e),r)}return void 0===n&&E(t.__req,"leoDataNotFoundForKey_".concat(e)),Promise.resolve(n)}r(17732),r(39115);r(68254);function Q(e,t){return V.apply(this,arguments)}function V(){return(V=o()(a().mark((function e(t,r){var n,o,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:"A",e.next=3,X(t,r);case 3:return"string"==typeof(o=e.sent)&&(o=o===n),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t){return $.apply(this,arguments)}function $(){return($=o()(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(t,r);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n=null;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var te=function(){function e(t){u()(this,e),this.$axiosHttp=t}var t;return d()(e,[{key:"get",value:function(e,t,r){return this.$axiosHttp.get(e,ee({params:t},r))}},{key:"post",value:function(e,t,r){return this.$axiosHttp.post(e,t,r)}},{key:"getServerTime",value:(t=o()(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.get("api/server/_stm");case 3:return t=e.sent,e.abrupt("return",t.server_time);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Date.now());case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return t.apply(this,arguments)})},{key:"getReviewsLandingData",value:function(e){var t=e||{},r=t.review_id,n=t.list_id,o=t.skip_month_card,i=t.no_comment_orders,a=t.coupon_filter_white_img,s=t.review_type,c=t.append_id,l=(0,q.ru)({review_id:r,list_id:n,skip_month_card:o,no_comment_orders:i,coupon_filter_white_img:a},"api/engels/reviews/landing/home");return this.post(l,{review_type:s,append_id:c})}},{key:"getFirstRecommendInfoInNode",value:function(e){return this.get("api/caterham/v3/query/order_comment_group",ee(ee({},e),{},{offset:0,count:20,app_name:"order_comment",list_id:"rec_list_order_comment_".concat((0,Z.x)(6))})).catch((function(){return null}))}},{key:"takeCoupon",value:function(e){return this.post("api/liverpool/evaluation/take_coupon",e)}},{key:"likeMall",value:function(e){return this.post("api/zenon/mall/like",e)}},{key:"likeMallAndReceiveCoupon",value:function(e){return this.post("api/zenon/mall/like_and_receive_coupon",e)}},{key:"takeBuyAgainCoupon",value:function(e){return this.post("api/plymouth/take_repurchase_coupon",e)}},{key:"likeBrand",value:function(e){return this.post("api/brand-site/brand-favorite",e)}},{key:"recommendReviewToCommunity",value:function(e){return this.post("api/selene/review/recommend/to/community",e)}},{key:"getUserLocationInfo",value:function(){return this.post("api/selene/user/location/info",{type:1})}}]),e}(),re=(r(27361),{enable:!0,statusBarHeight:22,navHeight:60}),ne={enable:!1},oe=null;function ie(){return(ie=o()(a().mark((function e(){var t,r,n,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!oe){e.next=3;break}return e.abrupt("return",oe);case 3:e.next=5;break;case 5:if(!(0,q.FU)(location.href)._pdd_fs_mock){e.next=7;break}return e.abrupt("return",re);case 7:if((0,D.zT)().isNativePlatform){e.next=10;break}return oe=ne,e.abrupt("return",oe);case 10:return e.next=12,(0,P.Q6)("JSUIControl","supportCustomNavigationBar",{});case 12:if(t=e.sent,1===t.enable){e.next=17;break}return oe=ne,e.abrupt("return",oe);case 17:return e.next=19,(0,P.Q6)("JSUIControl","getNavigationHeight",{});case 19:return r=e.sent,n=r.navigation_height,o=void 0===n?0:n,i=r.statusbar_height,oe={enable:!0,statusBarHeight:void 0===i?0:i,navHeight:o},e.abrupt("return",oe);case 28:return e.prev=28,e.t0=e.catch(0),e.abrupt("return",ne);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})))).apply(this,arguments)}var ae,se=function(){return ie.apply(this,arguments)},ce=r(30109),le=null;le=new(function(){function e(){var t=this;u()(this,e),this.realInit=o()(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadImportRisk();case 2:r=e.sent.default,t.riskControlCrawler=new r({serverTime:t.serverTime}),t.riskControlCrawler.init();case 5:case"end":return e.stop()}}),e)}))),this.retry=function(e){e.message+="风控初始化失败",(0,ce.K2)(e),(ae=t.realInit()).catch((function(e){throw e.message+="风控初始化重试失败",e}))},this.getAntiContent=function(){var e=o()(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.prev=1,e.next=4,t.init(r);case 4:return t.riskControlCrawler.updateServerTime((new Date).valueOf()),e.next=7,t.riskControlCrawler.messagePackSync();case 7:n=e.sent,t.riskControlCrawler.clearCache(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),(0,ce.K2)(e.t0);case 14:return e.prev=14,e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),this.riskControlCrawler=null}return d()(e,[{key:"loadImportRisk",value:function(){return r.e(647).then(r.bind(r,96636))}},{key:"init",value:function(e){return this.serverTime=e||this.serverTime||(new Date).valueOf(),ae||(ae=this.realInit()).catch(this.retry),ae}},{key:"messagePack",value:function(){return this.riskControlCrawler.messagePackSync()}}]),e}());var ue,pe,de,fe,me,he,ve,_e,ge,ye,be,we,ke,Ie,Oe,De,Pe,xe,Ee,Ce,Se,Ne,je,Te=100,Ae=101;function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var o=g()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v()(this,r)}}var Ge=(ue=L.aD.bound,pe=L.aD.bound,de=L.aD.bound,fe=function(e){m()(p,e);var t,r,n,i,s,c,l=Me(p);function p(){var e;u()(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=l.call.apply(l,[this].concat(r))).commentResultService=null,e.listId=(0,Z.x)(8),e.reviewId="",e.goodsId="",e.isNativePlatform=!1,e.operatorClickCount=0,e.getFirstRecommendInfoInNodePromise=null,e.antiCrawler=null,S()(e,"review_share_info",me,j()(e)),S()(e,"share_promotion_text",he,j()(e)),S()(e,"has_coupon",ve,j()(e)),S()(e,"has_qrcode",_e,j()(e)),S()(e,"land_page_url",ge,j()(e)),S()(e,"mall_info",ye,j()(e)),S()(e,"review_reward_list",be,j()(e)),S()(e,"month_card_info",we,j()(e)),S()(e,"repurchase_coupon_info",ke,j()(e)),S()(e,"showCouponDialog",Ie,j()(e)),e.unRatedData={},e.rec_brand_mall_list=[],S()(e,"goods_coupon_list",Oe,j()(e)),e.webpEnable=!1,S()(e,"showCouponRule",De,j()(e)),S()(e,"hasTakeCoupon",Pe,j()(e)),S()(e,"collect",xe,j()(e)),S()(e,"more_coupon_info",Ee,j()(e)),S()(e,"useNewCouponUI",Ce,j()(e)),S()(e,"binding_card_info",Se,j()(e)),S()(e,"pay_later_info",Ne,j()(e)),S()(e,"closeCouponDialog",je,j()(e)),e.forwardGoodsDetail=function(){var t=e.goods_info||{},r=t.template_goods_id,n=t.goods_type,o=t.goods_id,i=t.sku_id,a=t.jump_url;a?M.ZP.uniformForward(a):r?M.ZP.uniformForward((0,q.ru)({channel:0,template_goods_id:r},"/comm_goods_shoes.html")):104==+n?M.ZP.uniformForward("/train.html"):M.ZP.uniformForward((0,q.ru)({goods_id:o,sku_id:i,show_sku_selector:1,refer_page_el_sn:746453},"/goods.html"))},e.onBuyAgainClick=function(t){var r=t.canTakeCoupon,n=t.hasUsableCoupon,i=t.hasTakeCoupon,s=t.showToast;return function(){B(Re({op:"click"},e.getBuyAgainTrackParam()),o()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r||n||i){t.next=5;break}return t.next=3,e.takeBuyAgainCoupon(s);case 3:return B({op:"impr",page_el_sn:3332660}),t.abrupt("return");case 5:e.forwardGoodsDetail();case 6:case"end":return t.stop()}}),t)}))))}},e.getBuyAgainTrackParam=function(){var t,r=j()(e),n=r.repurchase_coupon_info,o=r.review_info,i=r.goods_info,a=n||{},s=a.can_take_coupon,c=a.has_usable_coupon,l=a.batch_sn;return c||s?t={page_el_sn:3332659,batch_sn:l,order_sn:(null==o?void 0:o.order_sn)||"",afterrev_coupon:c?2:1}:null!=i&&i.sku_id&&(t={page_el_sn:746453}),t},e}return d()(p,[{key:"initServices",value:function(){var e;e=this.$axiosHttp,[{request:function(e){if(!1===e.needAntiContent&&!e.useNativeAntiToken)return e;var t=(0,D.zT)(),r=t.isNativePlatform,n=t.version;return e.useNativeAntiToken&&r&&(0,K.yC)(n,"4.69.0")>=0?e:le.getAntiContent().then((function(t){var r="get"===e.method?"params":"data";return e[r]=Object.assign({},e[r],{anti_content:t}),e}))}}].map((function(t){return{request:e.interceptors.request.use(t.request,t.requestError),response:e.interceptors.response.use(t.response,t.responseError)}})),this.commentResultService=new te(this.$axiosHttp)}},{key:"createAntiCrawler",value:(c=o()(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.antiCrawler){e.next=7;break}return e.next=3,this.commentResultService.getServerTime();case 3:return t=e.sent,e.next=6,le.init(t);case 6:this.antiCrawler=e.sent;case 7:return e.abrupt("return",this.antiCrawler);case 8:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"showCouponRuleBox",value:function(){this.showCouponRule=!0}},{key:"hideCouponRuleBox",value:function(){this.showCouponRule=!1}},{key:"getDatasource",value:function(){var e,t=this;return[function(){var e=o()(a().mark((function e(r){var n,o,i,s,c,l,u,p,d,f,m,h,v,_;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!t.requestContext&&Object.defineProperty(t,"requestContext",{get:function(){return r}}),n=r.query,o=r.userAgent,i=r.isSupportWebp,s=n.review_id,c=n.goods_id,l=n.collect,u=n.review_type,p=void 0===u?"":u,d=n.append_id,f=void 0===d?"":d,m=n.order_sn,n.is_back,h=(0,D.Xf)(o),e.next=6,Q("comment_result_coupons_new_ui",r);case 6:return v=e.sent,_={review_id:s,review_type:+p,append_id:f,goods_id:+c,order_sn:m},e.abrupt("return",{reviewId:s,goodsId:c,PddIOS:h.platform===K.iw.PddIOS,isNativePlatform:h.isNativePlatform,isPddAndroid:h.platform===K.iw.PddAndroid,isPddIOS:h.platform===K.iw.PddIOS,isTinyNativePlatform:h.isTinyNativePlatform,isLiteNativePlatform:h.isLiteNativePlatform,isWeChatMiniProgram:h.isWeChatMiniProgram,version:h.version,enableNewShareForIos:(0,K.yC)(h.version,"4.69.0")>=0,shareSdkUnify:(0,K.yC)(h.version,"4.89.0")>=0,toCamera:(0,K.yC)(h.version,"5.12.0")>=0,collect:l,webpEnable:i,couponsNewUI:v,reviewParams:_});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{reviewsLandingData:(e=o()(a().mark((function e(r){var n,o,i,s,c,l,u,p,d,f,m,h,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.cookies,r.query,o=r.userAgent,i={},s=(0,D.Xf)(o),t.platformVersion=s.version,e.prev=4,c={review_id:t.reviewId,list_id:t.listId,skip_month_card:n.comment_result_month_card||"",no_comment_orders:1,review_type:t.reviewType,append_id:t.appendId},t.couponsNewUI&&(c.coupon_filter_white_img=0),t.landingParams=c,e.next=10,t.commentResultService.getReviewsLandingData(c);case 10:if(i=e.sent,l=i.no_comment_order_info||{},u=l.no_comment_order_info_list||[],t.unRatedData={hasMore:l.has_more,total:u.length,orders:u},delete i.no_comment_order_info,t.useNewCouponUI=!!i.more_coupon_info,t.reviewParams.order_sn||(t.reviewParams.order_sn=null!==(p=null===(d=i)||void 0===d||null===(f=d.review_info)||void 0===f?void 0:f.order_sn)&&void 0!==p?p:""),!i.expert_community_promotion_info){e.next=27;break}return e.next=20,t.commentResultService.getUserLocationInfo();case 20:return m=e.sent,h=m.user_in_black_list,t.userInBlackList=h,e.next=25,Q("mobile-personal-comment.expert_jump_gray",r);case 25:v=e.sent,t.expertGray=!h&&v;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(4),e.next=33;break;case 33:Object.assign(t,i),t.dealLandingData();case 35:case"end":return e.stop()}}),e,null,[[4,29]])}))),function(t){return e.apply(this,arguments)}),initImmersiveData:function(e){return se(null==e?void 0:e.__req).then((function(e){var r;t.immersiveData=e,null!==(r=t.immersiveData)&&void 0!==r&&r.enable||(t.immersiveData=Re(Re({},t.immersiveData),{},{navHeight:0,statusBarHeight:0}))}))}}]}},{key:"dealLandingData",value:function(){var e=this.goods_info,t=this.enable_continue_buy,r=this.review_share_info,n=this.review_reward_list,o=void 0===n?[]:n;this.month_card_info,this.mall_info;this.showBuyAgain=(null==e?void 0:e.sku_id)&&1==+t,this.showShare=(this.isWeChatMiniProgram||this.isNativePlatform)&&!!+(null==r?void 0:r.shareable);var i=o.findIndex((function(e){return e.type===Ae}));~i&&(this.cashback=o[i],o.splice(i,1))}},{key:"getFirstRecommendInfoInNode",value:function(e){return this.commentResultService.getFirstRecommendInfoInNode(e)}},{key:"updateOperator",value:function(){var e=this;2!==this.operatorClickCount?this.commentResultService.getReviewsLandingData(this.landingParams).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,L.z)((function(){var r,n;null!==(r=e.mall_info)&&void 0!==r&&r.is_fav||null===(n=t.mall_info)||void 0===n||!n.is_fav||(e.collect="1"),e.mall_info=t.mall_info||{},e.share_promotion_text=t.share_promotion_text||"",e.has_coupon=t.has_coupon||!1,e.has_qrcode=t.has_qrcode||!1,e.land_page_url=t.land_page_url||"",e.goods_coupon_list=t.goods_coupon_list||[],e.repurchase_coupon_info=t.repurchase_coupon_info||{},e.review_share_info=t.review_share_info||{},e.binding_card_info=t.binding_card_info,e.pay_later_info=t.pay_later_info;var o=e.repurchase_coupon_info||{},i=o.can_take_coupon,a=o.has_usable_coupon;!(i&&!a)&&e.hasTakeCoupon&&(e.hasTakeCoupon=!1)})),e.operatorClickCount=0})):this.operatorClickCount=0}},{key:"likeMall",value:(s=o()(a().mark((function e(){var t,r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mall_info.mall_id,e.prev=1,e.next=4,this.commentResultService.likeMall({mall_id:t,like_from:100400});case 4:(0,L.z)((function(){r.mall_info.title=r.mall_info.brand_name,r.mall_info.button_text="进店逛逛",r.mall_info.is_fav=!0,r.collect="1",(0,F.Z)("关注店铺成功")})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),(0,F.Z)("关注店铺失败");case 10:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(){return s.apply(this,arguments)})},{key:"likeMallAndReceiveCoupon",value:(i=o()(a().mark((function e(){var t,r,n,o,i,s,c,l=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createAntiCrawler();case 2:return t=e.sent,r=this.mall_info,e.prev=4,e.next=7,this.commentResultService.likeMallAndReceiveCoupon({mall_id:r.mall_id,like_from:101400,batch_sn:r.batch_sn,merchant_tag:24,base_risk_info:{anti_content:t.messagePack()}});case 7:(0,L.z)((function(){l.mall_info.title=l.mall_info.brand_name,l.mall_info.button_text="进店逛逛",l.mall_info.is_fav=!0,l.collect="1",(0,F.Z)("关注店铺成功，已领取".concat(r.discount,"元无门槛券"))})),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(4),n=+(null===e.t0||void 0===e.t0?void 0:e.t0.errorCode),o="",o=30001===n?"关注店铺失败":30002===n?"关注的店铺不存在":30004===n?"领取店铺关注券失败，请稍后重试~":44502===n?"您已领取过该店铺的关注券":null!==(i=null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.error_msg)&&void 0!==i?i:"关注店铺失败",(0,F.Z)(o);case 16:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return i.apply(this,arguments)})},{key:"takeBuyAgainCoupon",value:(n=o()(a().mark((function e(t){var r,n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSubming&&(0,F.Z)("操作过快，请稍后再试"),!this.isSubming){e.next=3;break}return e.abrupt("return");case 3:return r=this.repurchase_coupon_info,e.prev=4,this.isSubming=!0,e.next=8,this.commentResultService.takeBuyAgainCoupon({batch_sn:r.batch_sn,merchant_tag:24,extend_params:{order_sn:(this.review_info||{}).order_sn||""}});case 8:(0,L.z)((function(){t?(0,F.Z)("复购券领取成功"):n.showCouponDialog=!0,n.hasTakeCoupon=!0,n.isSubming=!1})),(0,U.XY)(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),this.isSubming=!1,(0,F.Z)("领券不成功，请稍后再试");case 16:case"end":return e.stop()}}),e,this,[[4,12]])}))),function(e){return n.apply(this,arguments)})},{key:"likeBrand",value:(r=o()(a().mark((function e(){var t,r,n,o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mall_info||{},r=t.mall_id,n=t.brand_id,e.prev=1,e.next=4,this.commentResultService.likeBrand({mall_id:r,brand_id:n,context:"evaluation_landing_page",type:"add"});case 4:(0,L.z)((function(){o.mall_info.title=o.mall_info.brand_name,o.mall_info.button_text="进店逛逛",o.mall_info.is_fav=!0,o.collect="1",(0,F.Z)("关注成功")})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),(0,F.Z)("关注失败");case 10:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(){return r.apply(this,arguments)})},{key:"notifyCommunityWithSharedReview",value:function(e){this.commentResultService.recommendReviewToCommunity(e)}},{key:"getChunkDatasource",value:(t=o()(a().mark((function e(t,r){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{recommendList:function(){var e=o()(a().mark((function e(){var r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,o=r.goods_id,i=r.xcx_version,n.getFirstRecommendInfoInNodePromise=n.getFirstRecommendInfoInNode({goods_id:o,xcx_version:i,page_sn:19400}),e.abrupt("return",n.getFirstRecommendInfoInNodePromise);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})}]),p}(R.j),me=A()(fe.prototype,"review_share_info",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),he=A()(fe.prototype,"share_promotion_text",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ve=A()(fe.prototype,"has_coupon",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_e=A()(fe.prototype,"has_qrcode",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ge=A()(fe.prototype,"land_page_url",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ye=A()(fe.prototype,"mall_info",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),be=A()(fe.prototype,"review_reward_list",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=A()(fe.prototype,"month_card_info",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ke=A()(fe.prototype,"repurchase_coupon_info",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ie=A()(fe.prototype,"showCouponDialog",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oe=A()(fe.prototype,"goods_coupon_list",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),De=A()(fe.prototype,"showCouponRule",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pe=A()(fe.prototype,"hasTakeCoupon",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xe=A()(fe.prototype,"collect",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ee=A()(fe.prototype,"more_coupon_info",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ce=A()(fe.prototype,"useNewCouponUI",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Se=A()(fe.prototype,"binding_card_info",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=A()(fe.prototype,"pay_later_info",[L.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A()(fe.prototype,"showCouponRuleBox",[ue],Object.getOwnPropertyDescriptor(fe.prototype,"showCouponRuleBox"),fe.prototype),A()(fe.prototype,"hideCouponRuleBox",[pe],Object.getOwnPropertyDescriptor(fe.prototype,"hideCouponRuleBox"),fe.prototype),A()(fe.prototype,"dealLandingData",[L.aD],Object.getOwnPropertyDescriptor(fe.prototype,"dealLandingData"),fe.prototype),A()(fe.prototype,"updateOperator",[L.aD],Object.getOwnPropertyDescriptor(fe.prototype,"updateOperator"),fe.prototype),A()(fe.prototype,"likeMall",[L.aD],Object.getOwnPropertyDescriptor(fe.prototype,"likeMall"),fe.prototype),A()(fe.prototype,"likeMallAndReceiveCoupon",[L.aD],Object.getOwnPropertyDescriptor(fe.prototype,"likeMallAndReceiveCoupon"),fe.prototype),A()(fe.prototype,"takeBuyAgainCoupon",[L.aD],Object.getOwnPropertyDescriptor(fe.prototype,"takeBuyAgainCoupon"),fe.prototype),je=A()(fe.prototype,"closeCouponDialog",[L.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){(0,U.K9)(),e.showCouponDialog=!1}}}),A()(fe.prototype,"likeBrand",[L.aD],Object.getOwnPropertyDescriptor(fe.prototype,"likeBrand"),fe.prototype),A()(fe.prototype,"notifyCommunityWithSharedReview",[de],Object.getOwnPropertyDescriptor(fe.prototype,"notifyCommunityWithSharedReview"),fe.prototype),fe),Be=r(45935),Fe=r.n(Be),Ze=(r(59357),r(42861)),qe=r.n(Ze),Ue=(r(16917),r(30372),r(1469)),Ke=r.n(Ue),ze=r(91410),He=r(44169),We={name:"游客",avatar:(0,He.H)("/base/logo.jpg"),userNum:1};function Je(e){if(!e)return null;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}this.init(e)}Je.prototype={init:function(e){this.avatar=e.avatar||We.avatar,this.cityName=e.city_name||"",this.expireTime=parseInt(e.expire_time,10)||0,this.goodsID=e.goods_id,this.groupOrderID=e.group_order_id,this.nickname=e.nickname||We.name,this.usersNum=e.usersNum||We.usersNum}};var Qe=Je,Ve=ze.Z.EventType,Xe=0,$e=1,Ye=2,et=3;function tt(){var e,t=arguments[0];if(!t)return null;if("object"!==qe()(t))e=arguments[0].toString(),t=arguments[1]||{};else{if(!(e=t.goodsID||t.goods_id||t.key))return;e=e.toString()}this.key=this.goodsID=e,this.init(t)}tt.prototype={init:function(e){this.data={localGroupsInfo:{list:[],bubble:"",status:Xe},set localGroups(e){if(e){var t=[];if(Ke()(e))t=e;else{if(!Ke()(e.list))return;t=e.list}var r=this;r.localGroupsInfo={list:[],bubble:e.bubble||"来拼团吧",status:Ye},t.forEach((function(e){var t=new Qe(e);r.localGroupsInfo.list.push(t)})),r.localGroupsInfo.status=null!=e.status?e.status:et}},get localGroups(){return this.localGroupsInfo},get isCompleteLottery(){var e=parseInt(this.eventType,10);return!!e&&[Ve.LUCKY_DRAW,Ve.FREE_TRIAL,Ve.CAPITAL_GIFT_LOTTERY,Ve.DEPOSITE_GROUP].indexOf(e)>=0},get showDiscount(){var e=parseInt(this.eventType,10);return!e||-1===[Ve.CAPITAL_GIFT,Ve.CAPITAL_GIFT_LOTTERY].indexOf(e)},get showExpress(){var e=this.goodsType||"";if(e&&e===ze.Z.GoodsType.TRADE_COUPON)return!1;var t=this.catID2||"";return!t||t!==ze.Z.CategoriesType.CHARGE_CENTER&&t!==ze.Z.CategoriesType.VIP_CHARGE},get hideSoldQuantity(){return this.isCompleteLottery},get isSpike(){return parseInt(this.eventType,10)===Ve.SPIKE},get isFreeTrial(){return parseInt(this.eventType,10)===Ve.FREE_TRIAL},get isDepositeGroup(){return parseInt(this.eventType,10)===Ve.DEPOSITE_GROUP}},this.update(e)},update:function(e){e=e||{};for(var t in e)if(e.hasOwnProperty(t)){if(!this.data.__lookupSetter__(t)&&this.data.__lookupGetter__(t))continue;this.data[t]=e[t]}},get shouldLoadLocalGroups(){return this.data.localGroupsInfo.status===Xe},getLocalGroups:function(){return this.data.localGroups},setLocalGroupsLoading:function(){this.data.localGroupsInfo.status=$e}};var rt=tt,nt=function(){function e(){u()(this,e),this.goodsInfos={}}return d()(e,[{key:"getGoodsInfoByID",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.goodsInfos[e.toString()]}},{key:"getGoodsDataByID",value:function(e){return(this.getGoodsInfoByID(e)||{}).data}},{key:"updateGoodsInfo",value:function(){var e;var t,r=arguments[0];if(null!=r){if("object"!==qe()(r))e=arguments[0].toString(),r=arguments[1]||{},t=arguments[2];else{if(!(e=r.goodsID||r.goodsId||r.goods_id||r.key))return;e=e.toString(),t=arguments[1]}var n=this.goodsInfos[e];return n?n.update(r):(n=new rt(e,r),this.goodsInfos[e]=n),"function"==typeof t&&t(),n}}},{key:"shouldLoadLocalGroups",value:function(e){var t=this.getGoodsInfoByID(e);return t&&t.shouldLoadLocalGroups}},{key:"getLocalGroups",value:function(e){var t=this.getGoodsInfoByID(e);return t?t.getLocalGroups():null}},{key:"setLocalGroupsLoading",value:function(e){var t=this.getGoodsInfoByID(e);t&&t.setLocalGroupsLoading()}}]),e}(),ot={instance:null,getInstance:function(){return this.instance||(this.instance=new nt),this.instance}},it=(r(21466),ot.getInstance());function at(){this.callbacksMap={}}at.prototype.receive=function(e){var t=!1;for(var r in t=!(location||{}).href.match(/^https?:/),e)if(e.hasOwnProperty(r)&&r){var n=e[r]||{};n.list&&n.list.length>0&&(n.list=n.list.map((function(e){return e.avatar=e.avatar.replace(/^https?:\/\//,t?"http://":"//"),e}))),it.updateGoodsInfo(r,{localGroups:n}),this.callbacksMap[r]&&this.callbacksMap[r].forEach((function(e){"function"==typeof e&&e()}))}},at.prototype.register=function(e,t){e&&"function"==typeof t&&(e=e.toString(),this.callbacksMap[e]||(this.callbacksMap[e]=[]),this.callbacksMap[e].push(t))};var st={instance:null,getInstance:function(){return this.instance||(this.instance=new at),this.instance}}.getInstance();function ct(){}ct.prototype.receiveLocalGroups=function(e){st.receive(e)},ct.prototype.registerLocalGroups=function(e,t){st.register(e,t)};var lt={instance:null,getInstance:function(){return this.instance||(this.instance=new ct),this.instance}},ut=r(8042),pt=r(49480),dt=ot.getInstance(),ft=lt.getInstance();function mt(){this.isFirst=!0,this.savingGoodsIDs=[],this.savingTimer=null,this.$axiosHttp=null}mt.prototype.loadFirst=function(e){var t=[],r=this;e.forEach((function(n){!n||r.savingGoodsIDs.indexOf(n)>=0||t.indexOf(e)>=0||dt.shouldLoadLocalGroups(n)&&t.push(n)})),this.savingGoodsIDs=this.savingGoodsIDs.concat(t),this.solve()},mt.prototype.load=function(e){if(e&&!(this.savingGoodsIDs.indexOf(e)>=0)&&dt.shouldLoadLocalGroups(e))if(this.savingGoodsIDs.push(e),this.savingGoodsIDs.length>=20)this.solve();else if(!this.savingTimer){var t=1e3;this.isFirst&&(t=100,this.isFirst=!1);var r=this;this.savingTimer=setTimeout((function(){r.solve()}),t)}},mt.prototype.request=function(){if(!this.$axiosHttp){var e=pt.ZP.getInstance().getPageID();this.$axiosHttp=(0,ut.e)({pageInfo:{pageId:e}})}if(!(this.savingGoodsIDs.length<=0)){var t=this.savingGoodsIDs.slice();t.forEach((function(e){dt.setLocalGroupsLoading(e)})),this.savingGoodsIDs=[];this.$axiosHttp.post("api/porsche/goods/local_groups",{goods_ids:t}).then((function(e){ft.receiveLocalGroups(e)}))}},mt.prototype.solve=function(){this.savingTimer&&(clearTimeout(this.savingTimer),this.savingTimer=null),this.request()};var ht={instance:null,getInstance:function(){return this.instance||(this.instance=new mt),this.instance}};function vt(){this.LocalGroupsCommand=ht.getInstance()}vt.prototype.loadFirstLocalGroups=function(e){e&&this.LocalGroupsCommand.loadFirst(e)},vt.prototype.loadLocalGroups=function(e,t){e&&this.LocalGroupsCommand.load(e)};var _t={instance:null,getInstance:function(){return this.instance||(this.instance=new vt),this.instance}},gt=r(14922);function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var o=g()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v()(this,r)}}var bt=ot.getInstance(),wt=_t.getInstance(),kt=lt.getInstance(),It=(w.Component,r(45697)),Ot=r.n(It);function Dt(e,t){if((e=e||{}).queries=e.queries||{},"undefined"!=typeof document){e.queries.sp||(0,D.Xf)(navigator.userAgent).isNativePlatform||(e.queries.sp=document.body.scrollTop+((document.documentElement||{}).scrollTop||0));var r=document.querySelector("#nav-bar");r&&(e.queries.nbsl=r.scrollLeft)}M.ZP.replaceQuery(e.queries,t)}var Pt=r(86372),xt=r(13942),Et=r.n(xt),Ct=(r(83276),r(37481)),St=r.n(Ct),Nt=function(e){var t=e.goodsData,r=e.$axiosHttp,n=e.onSuccess,o=e.onClick,i=t.dislikeReason,a=t.goodsID,s=t.imgUrl,c=i.dislike_goods,l=i.dislike_image,u=i.dislike_cat,p=i.find_same_goods,d=void 0===p?{}:p,f=(d.link_url,d.tips),m=function(e,t){t.stopPropagation(),r.post("api/caterham/dislike",{app_name:"order_comment",goods_id:a,dislike_type:e,dislike_context:2===e?{pic_url:s}:{}}).then((function(e){e.success&&((0,F.Z)(e.tip),null==n||n(a))}))};return w.createElement("div",{className:St().container,onClick:o},[c,l,u].filter((function(e){return e})).map((function(e,t){var r=e.type,n=e.tips;return w.createElement("div",{className:St().item,key:t,onClick:m.bind(void 0,r)},n)})),f&&w.createElement("div",{className:St().more,onClick:function(e){e.stopPropagation(),M.ZP.uniformForward(d.link_url)}},f))},jt={callback:{},register:function(e,t){this.callback[e]=t},unregister:function(e,t){delete this.callback[e]},trigger:function(e){Object.entries(this.callback).forEach((function(t){var r=Et()(t,2),n=r[0],o=r[1];e!==n&&o()}))}},Tt=function(e){var t=e.children,r=e.goodsData,n=e.onDislike,o=e.$axiosHttp,i=r.dislikeReason,a=r.goodsID,s=(0,w.useState)(!1),c=Et()(s,2),l=c[0],u=c[1];(0,w.useEffect)((function(){return function(){jt.unregister(a)}}),[]);var p=function(e){null==e||e.stopPropagation(),u(!1),jt.unregister(a)};return w.createElement(Pt.Z,{onLongPress:function(){u(!0),jt.trigger(a),jt.register(a,p)},onShortPress:function(){}},t,i&&l&&w.createElement(Nt,{onClick:p,goodsData:r,$axiosHttp:o,onSuccess:function(e){p(),null==n||n(e)}}))},At=r(46021);function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var o=g()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v()(this,r)}}var Rt=ot.getInstance(),Mt=function(e){m()(r,e);var t=Lt(r);function r(){var e;u()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).isForBigSale=!1,e.isForMallSale=!1,e.handleGoodsClick=function(t,r){return function(n){var o=j()(e),i=e.props,a=i.extraTrackingParams;n&&(n.preventDefault(),n.stopPropagation());var s={queries:{item_index:i.inViewIndex}};e.isForBigSale||e.isForMallSale||(s.queries.item_goods_id=i.goodsId);var c=e.getGoodsData();e.context.onGoodsClick&&e.context.onGoodsClick(c);var l=function(){var e;if(o.isForBigSale)e=t;else if(o.isForMallSale)e=r;else{var n={is_spike:2===c.eventType?"1":"0",thumbnail:encodeURIComponent(c.imgUrl)};a&&a.page_el_sn&&(n.page_el_sn=a.page_el_sn),e=(0,q.ru)(n,c.forwardUrl||"goods.html?goods_id=".concat(i.goodsId))}if("function"==typeof o.props.modifyItemUrl){var s=o.props.modifyItemUrl(e,c,!o.isForBigSale&&!o.isForMallSale);s&&(e=s)}M.ZP.uniformForward(e)};Dt(s,(function(){a?(a.idx=i.inViewTypeIndex||i.inViewIndex,a.goods_id=c.goodsID,a.event_type=c.eventType,a.is_app=c.isApp,a.version_number=i.isNewVersion,B(a,l)):i.onClickTBP?this.track(i.onClickTBP,(function(){l()})):l()}))}},e}return d()(r,[{key:"getGoodsData",value:function(){return this.props.goodsData||Rt.getGoodsDataByID(this.props.goodsId)}},{key:"getInfo",value:function(){var e,t,r,n=this.getGoodsData();n.soldQuantity;return n.icon&&n.icon.url&&n.icon.width&&n.icon.height&&(e=n.icon.url,t=n.icon.width/300+"rem",r=n.icon.height/300+"rem"),{nationalFlag:n.nationalFlag,activityIconUrl:e,activityIconWidth:t,activityIconHeight:r,salesTip:n.salesTip}}},{key:"componentWillMount",value:function(){this.setState(this.getInfo())}},{key:"componentDidMount",value:function(){var e=this.getGoodsData();e&&!Rt.getGoodsDataByID(e.goodsID)&&Rt.updateGoodsInfo(e)}},{key:"render",value:function(){var e=this.getGoodsData(),t=(e.imgUrl,e.dataType),r=e.jumpLink,n=void 0===r?"":r,o=e.mallRelated,i=void 0===o?{}:o,a=(e.dislikeReason,i.mallCardPicUrl,i.mallLinkUrl),s=void 0===a?"":a,c=this.props,l=c.inViewIndex,u=(c.inViewTypeIndex,c.renderExtra),p=c.$axiosHttp,d=c.onDislike,f=c.webpEnable;return this.isForBigSale="promotion_card"===t,this.isForMallSale="mall_card"===t,w.createElement("div",{id:this.viewID,className:"double-grid-one-v3"},w.createElement(Tt,{goodsData:e,$axiosHttp:p,onDislike:d},w.createElement("div",{className:"double-grid-item-v3",onClick:this.handleGoodsClick(n,s)},w.createElement(At.d,{webpEnable:f,data:e}))),u&&u(e,l))}}]),r}(w.Component);Mt.listItemName="DoubleGridItemV2",Mt.contextTypes={onGoodsClick:Ot().func};r(76142);var Gt=r(50478),Bt=r.n(Gt),Ft=r(77097),Zt=r(62357),qt=r(12589),Ut=r.n(qt),Kt=(r(79665),r(29422)),zt=r(33941),Ht=r(44404),Wt=r(28583),Jt=r.n(Wt),Qt=r(75629),Vt=r(76856);function Xt(e){if((e=parseInt(e,10)||0)<9999)return e.toString();if(e<=99999){var t=parseInt(e/1e3,10);return parseInt(t/10,10)+"."+t%10+"万"}return parseInt(e/1e4,10).toString()+"万"}function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var er=function(e,t){var r=e.group||{},n=e.goods_id,o=Yt(Yt({},e),{},{forwardUrl:e.link_url||"",goodsID:n,goodsName:e.goods_name,shortGoodsName:e.short_name||e.goods_name,normalPrice:(0,Vt.bd)(e.normal_price||0),customerNum:parseInt(e.customer_num||r.customer_num,10),soldQuantity:Xt(e.cnt||e.sales),salesTip:e.sales_tip,eventType:null!=e.event_type?parseInt(e.event_type,10)||0:null,country:e.country||"",pRec:e.p_rec||"",icon:e.icon,icon_list:(e.icon_list||[]).splice(0,1),tagList:e.tag_list,ext:e.ext,mallName:e.mall_name,mallStyle:e.mall_style,dataType:e.data_type,contentTitle:e.content_title,contentName:e.content_name,jumpLink:e.jump_link,hotBehavior:e.hot_behavior,mallRelated:{mallName:e.mall_name,mallLogo:e.mall_logo,mallSalesContent:e.mall_sales_content,mallContent:e.mall_content,mallTags:e.mall_tags,mallLinkUrl:e.mall_link_url,mallCardPicUrl:e.mall_card_pic_url,mallIcon:e.icon},specialText:e.special_text,dislikeReason:e.dislike_reason});e.image_url&&(o.imageUrl=(0,Qt.F)(e.image_url,{quality:80,resizeWidth:400,sharpen:50,webpEnable:t.webpEnable}));var i=e.hd_thumb_url||e.thumb_url;i&&(o.thumbUrl=o.imgUrl=(0,Qt.F)(i,{quality:80,resizeWidth:400,sharpen:50,webpEnable:t.webpEnable}));var a,s=e.ad?JSON.stringify(e.ad):"",c=e.p_rec?JSON.stringify(e.p_rec):"",l={key:"goods_"+n,forwardUrl:(a="goods.html?goods_id="+n,t.referPageName&&(a+="&refer_page_name="+t.referPageName),t.pageELSN&&(a+="&page_el_sn="+t.pageELSN),a),listItemName:t.listItemName||"recommendGoodsItem",get extraTrackingParams(){if(t.clickTrackingParams){var e={goods_id:n};return s&&(e.ad=s),c&&(e.p_rec=c),Jt()({},t.clickTrackingParams,e)}return null},withLocalGroups:t.withLocalGroups,isDoubleList:!0,doImpr:t.doImpr,imprParams:t.imprParams,isRecommend:!0,clickIndexFromZero:t.clickIndexFromZero,isCombinedImpr:t.isCombinedImpr,imprBlocks:t.imprBlocks,blockID:t.blockID,imprName:t.imprName,logData:t.logData,itemImprParams:t.itemImprParams};s&&(l.ad=s,l.imprParams.ad=s),c&&(l.imprParams.p_rec=c);var u=t.formatType;return u&&"timeGoods"===u&&(o.priceType=e.price_type,o.priceInfo=e.price_info),{data:o,props:l}},tr="undefined"!=typeof window,rr=function(){function e(t){u()(this,e),this.name=t.name,this.pageManager=t.pageManager,this.requestContext=t.requestContext,this.expireTime=t.expireTime||18e5,this.savedKey=this.name}return d()(e,[{key:"getModuleListID",value:function(){var e=this.savedKey;return this.requestContext?this.requestContext.cookies[e]:(0,Ft.ej)(e)||localStorage.getItem(e)}},{key:"setModuleListID",value:function(){var e=this.expireTime,t=[this.savedKey,(0,Z.x)(6)].join("_");return t&&localStorage.setItem(this.savedKey,t),(0,Ft.d8)(this.savedKey,t,{maxAge:e/1e3}),t}},{key:"listID",get:function(){var e=!1;tr&&(e=this.pageManager.getQuery().is_back);return e&&this.getModuleListID()?this.getModuleListID():this.setModuleListID()}}]),e}(),nr=function(e){return new rr(e)};function or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var o=g()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v()(this,r)}}var ir={DEFAULT:0,LOADING:1,LOADED:2,LOADED_ALL:3},ar=function(e){m()(r,e);var t=or(r);function r(e){var n;u()(this,r),(n=t.call(this,e)).lastLoadMoreItemsPromise=null,n.onDislike=function(e){n.setState({list:n.state.list.filter((function(t){return t.data.goodsID!==e}))})};var o=e.initList||[];return n.state={visible:!0,list:[],hasLoadedAll:!1},n.loadMoreBound=e.loadMoreBound||10,n.baseNum=e.baseNum||10,n.itemsStore=o,n.loadStatus=ir.DEFAULT,n}return d()(r,[{key:"componentWillMount",value:function(){this.setState({list:this.itemsStore.slice(0,this.props.initSize||this.itemsStore.length)})}},{key:"componentDidMount",value:function(){this.scrollData=this.props.scrollData||{},this.scrollContainer=document.body,this.prepareView(),this.shouldLoadWheninit()&&this.loadMoreItems()}},{key:"componentDidUpdate",value:function(){this.props.show&&this.shouldLoadWheninit()&&this.loadMoreItems(),this.checkListViewLoadedAll()}},{key:"render",value:function(){return null}},{key:"updateListData",value:function(e){if((e=e||[]).length<=0)return this.loadStatus=ir.LOADED_ALL,void this.checkListViewLoadedAll();this.loadStatus=ir.LOADED,this.itemsStore=this.itemsStore.concat(e)}},{key:"loadMoreItems",value:function(){var e,t=this;return!(!this.props.show||ir.LOADED_ALL===this.loadStatus)&&(ir.LOADING===this.loadStatus||(this.loadStatus=ir.LOADING,e=this.itemsStore.length-this.state.list.length<=this.loadMoreBound?this.request().then((function(e){return t.updateListData(e)})):Promise.resolve(),this.lastLoadMoreItemsPromise=e.then((function(){var e,r=t.state.list.length;return r<t.itemsStore.length&&(e=t.itemsStore.slice(r,r+t.baseNum),t.setState({list:t.state.list.concat(e)})),t.loadStatus===ir.LOADING&&(t.loadStatus=ir.LOADED),t.lastLoadMoreItemsPromise=null,!!t.hasCalledLoadedAll&&"end"}))),this.lastLoadMoreItemsPromise)}},{key:"request",value:function(e){e&&e([])}},{key:"show",value:function(){this.setState({visible:!0})}},{key:"hide",value:function(){this.setState({visible:!1})}},{key:"prepareView",value:function(){this.props.show&&this.scrollData.sp&&this.scrollData.sp>0&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;document.body.scrollTop=e,document.documentElement&&(document.documentElement.scrollTop=e)}(this.scrollData.sp,this.scrollContainer)}},{key:"checkListViewLoadedAll",value:function(){!this.hasCalledLoadedAll&&this.props.show&&this.loadStatus===ir.LOADED_ALL&&this.state.list.length>=this.itemsStore.length&&(this.hasCalledLoadedAll=!0,this.setState({hasLoadedAll:!0}))}},{key:"shouldLoadWheninit",value:function(){return!this.state.hasLoadedAll&&0===this.itemsStore.length}}]),r}(w.Component);ar.LoadStatus=ir,ar.defaultProps={scrollData:{},initList:[],initSize:0,baseNum:10,loadMoreBound:10};var sr=function(e){},cr=10082;function lr(){return(lr=o()(a().mark((function e(t){var r,n,o,i,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:sr,n=s.length>2&&void 0!==s[2]?s[2]:sr,o=(0,D.zT)(),t&&o.isNativePlatform){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,P.Q6)("PDDTitanPush","register",{biz_type:t,push_receiver:function(e,t){var o=(null==t?void 0:t.result)||[];e||0===o.length?"function"==typeof n&&n(e):"function"==typeof r&&r(o.map((function(e){return(0,Vt.as)(null==e?void 0:e.payload,{})})))}}).catch((function(e){"function"==typeof n&&n(e)}));case 7:return i=e.sent,e.abrupt("return",(function(){(null==i?void 0:i.receiver_id)&&(0,P.Q6)("PDDTitanPush","unregister",{biz_type:t,receiver_id:i.receiver_id})}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var o=g()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v()(this,r)}}var fr=pt.ZP.getInstance(),mr=null,hr="";window.history&&(hr=history.state&&history.state.tabId,mr=history.state&&history.state.recommendList);var vr=Symbol("offset"),_r=Symbol("listId"),gr=function(e){m()(n,e);var t,r=dr(n);function n(e){var t;u()(this,n),(t=r.call(this,e)).onLoadDown=o()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.loadMoreItems());case 1:case"end":return e.stop()}}),e)}))),t[vr]=0,t[_r]=nr({pageManager:fr,name:"rec_list_".concat(e.source)}).listID;var i=t.props,s=i.goodsIdKey,c=i.imprBase,l=i.hasAd,p=i.webpEnable;return t.itemsStore=e.initData?yr(e.initData,t[vr],t[_r],{goodsIdKey:s,imprBase:c,hasAd:l,webpEnable:p}):t.itemsStore,t}return d()(n,[{key:"renderItem",value:function(e){var t=e.itemData,r=e.index,n=e.key,o=e.webpEnable,i=this.props,a=i.type,s=void 0===a?1:a,c=i.pageName,l=void 0===c?"order_detail":c,u=i.goodsId;return this.props.renderItem({itemData:t,index:r,key:n,type:s,webpEnable:o,pageName:l,extra:{goodsId:u}},this.state,this.props,this.onDislike)}},{key:"renderFooter",value:function(e){return this.hasCalledLoadedAll&&this.props.renderFooter(e)}},{key:"request",value:(t=o()(a().mark((function e(){var t,r,n,o,i,s,c,l,u,p,d,f,m=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.source,n=t.pageSn,o=t.goodsIdKey,i=t.imprBase,s=t.hasAd,c=t.webpEnable,l=t.tabId,u=void 0===l?"":l,p=t.chunkData,0!==this[vr]||!mr||u!==hr){e.next=7;break}return this[vr]=mr.list.length,this.setState(mr),e.abrupt("return",mr.list);case 7:if(0!==this[vr]||!p){e.next=13;break}return d=yr(p,this[vr],this[_r],{goodsIdKey:o,imprBase:i,hasAd:s,webpEnable:c}),this[vr]+=d.length,e.abrupt("return",d);case 13:return e.next=15,this.props.fetcher.request({offset:this[vr],count:20,list_id:this[_r],app_name:r,page_sn:n||fr.getPageSN()}).then((function(e){return yr(e,m[vr],m[_r],{goodsIdKey:o,imprBase:i,hasAd:s,webpEnable:c})})).catch((function(e){return[]}));case 15:return f=e.sent,this[vr]+=f.length,e.abrupt("return",f);case 18:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];(e=Ut()(g()(n.prototype),"componentDidUpdate",this)).call.apply(e,[this].concat(r));var i=r[1];0===i.list.length&&this.state.list.length>0&&this.prepareView()}},{key:"componentDidMount",value:function(){Ut()(g()(n.prototype),"componentDidMount",this).call(this),this.regtsterPrice()}},{key:"regtsterPrice",value:function(){var e=this;this.props.merchantTag&&function(e){lr.apply(this,arguments)}(cr,o()(a().mark((function t(){var r,n,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.list||[],t.next=3,e.props.updateFetcher({goods_id_list:r.map((function(e){return e.data.goods_id})),merchant_tag:e.props.merchantTag});case 3:n=t.sent,o=n.goods_price_map,r=r.map((function(e){var t=o[e.data.goods_id];return t&&(e.data.price_info=t.price_info,e.data.price_type=t.price_type),pr(pr({},e),{},{data:pr({},e.data)})})),e.setState({list:b()(r)});case 7:case"end":return t.stop()}}),t)}))))}},{key:"getChildContext",value:function(){var e=this;return{onGoodsClick:function(){window.history.replaceState({recommendList:e.state,tabId:e.props.tabId||""},null)}}}},{key:"render",value:function(){var e=this,t=this.state.list||[],r=[],n={},o=this.props,i=o.show,a=o.isUseGoTop,s=o.rootMargin,c=void 0===s?0:s,l=o.threshold,u=void 0===l?1:l,p=o.webpEnable;t.forEach((function(t,o){if(t.data&&t.props){var i=t.props.key;if(!i||n[i])return;n[i]=!0,r.push(e.renderItem({key:i,itemData:t,index:o,webpEnable:p}))}}));var d=i&&this.state.visible;return w.createElement("div",{id:this.viewID,className:"react-base-list-wrapper",style:{display:d?"":"none"},ref:this.viewID},r,!this.hasCalledLoadedAll&&w.createElement(Kt.r,{rootMargin:c,threshold:u,onLoad:this.onLoadDown,isEnd:!!this.hasCalledLoadedAll},a&&w.createElement(zt.Z,{className:"go-top"}),w.createElement(Ht.Z,{className:"downloader-container"})),this.renderFooter(t.length))}}]),n}(ar);function yr(e){var t=e.data,r=void 0===t?[]:t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=i.goodsIdKey,s=void 0===a?"rec_goods_id":a,l=i.imprBase,u=void 0===l?{}:l,p=i.hasAd,d=i.webpEnable;return(r.goods_list||[]).map((function(e,t){var r,i,a,l,f=e.data;f.p_rec=f.p_rec||(null===(r=f.track_info)||void 0===r?void 0:r.p_rec)||"";var m=pr(pr({},u),{},(i={click_goods_id:f.goods_id},c()(i,s,f.goods_id),c()(i,"page_section","rec_list"),c()(i,"list_width",2),c()(i,"idx",t+n),c()(i,"event","rec_goods_clk"),c()(i,"op","click"),i)),h=(a={op:"impr",idx:t+n,list_width:2},c()(a,s,f.goods_id),c()(a,"list_id",o),a),v=(l={},c()(l,s,f.goods_id),c()(l,"p_rec",f.p_rec),c()(l,"idx",t+n),c()(l,"list_id",o),l);u.page_el_sn&&(h.page_el_sn=u.page_el_sn,v.page_el_sn=u.page_el_sn),p&&f.ad&&(m.ad=JSON.stringify(f.ad)||"",h.ad=JSON.stringify(f.ad)||"",v.ad=JSON.stringify(f.ad)||"");var _=er(f,{listItemName:"doubleGridGoodsItem",clickTrackingParams:m,imprParams:h,itemImprParams:v,webpEnable:d,formatType:"timeGoods"});return{data:_.data,props:_.props}}))}function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}gr.childContextTypes={onGoodsClick:Ot().func},gr.defaultProps={renderFooter:function(){return w.createElement("div",{className:"recommend_footer"},"没有更多了...")}};var kr="double";function Ir(e,t,r,n){var o=e.itemData,i=e.index,a=e.key,s=e.webpEnable,c=e.pageName,l=e.extra,u=void 0===l?{}:l,p=t.list||[],d=i+(i%2==0?1:-1),f=p[i]||{},m=p[d]||{},h=!1;((f.data||{}).tagList||(m.data||{}).tagList)&&(h=!0);var v=o.data,_=o.props,g={key:a,webpEnable:s,inViewIndex:i,blockID:r.viewID,imgUrl:v.imgUrl,soldQuantity:v.soldQuantity,cnt:v.cnt,goodsName:v.goodsName,price:v.price,priceType:v.priceType,priceInfo:v.priceInfo,customerNum:v.customerNum,goodsId:v.goodsID,tag:v.tag,goodsData:v,forwardUrl:_.forwardUrl,ad:_.ad,itemProps:_,logData:_.itemImprParams,imprParams:_.imprParams,extraTrackingParams:_.extraTrackingParams,viewID:"group-rec-goods-".concat(v.goodsID),isNewVersion:r.isNewVersion?1:0,tagList:v.tagList,hasTag:h,dislikeReason:v.dislikeReason};n===kr&&(g.salesTip=v.salesTip,g.pageName=c,g.icon=v.icon,g.extraGoodsId=u.goodsId);var y=wr(wr(wr({},_.itemImprParams),r.imprBase),{},{p_rec:JSON.stringify(_.itemImprParams.p_rec)});return g.ad&&(y.ad=g.ad),{key:a,trackingInfo:y,configs:g}}function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var o=g()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v()(this,r)}}function Dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xr(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.get(t,{params:Pr(Pr({},n),r),encodeNativeResponse:!1})};return{request:o}}var Er=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xr,n=function(n){m()(i,n);var o=Or(i);function i(r){var n;return u()(this,i),(n=o.call(this,r)).state={configs:null},n.renderItem=function(r,o,i,a){var s=n.props,c=s.threshold,l=s.renderExtra,u=Ir(r,o,i,t),p=u.key,d=u.configs,f=u.trackingInfo;return w.createElement(Zt.Z,{key:p,threshold:c,trackingInfo:f,doImpr:i.doImpr},w.createElement(e,Fe()({$axiosHttp:n.props.store.$axiosHttp},d,{renderExtra:l,modifyItemUrl:i.modifyItemUrl,onDislike:a})))},r.requestContext&&(n.state.configs=n.getConfig()),n}return d()(i,[{key:"render",value:function(){var e=this.props,r=e.hiddenTitle,n=e.title,o=e.source,i=e.pageSn,a=e.titleNoIcon,s=e.renderTitle,c=e.renderFooter,l=e.isUseGoTop,u=Bt()(e,["hiddenTitle","title","source","pageSn","titleNoIcon","renderTitle","renderFooter","isUseGoTop"]),p=this.state.configs,d=o||p&&p.source,f=n||p&&p.title,m="type-".concat(t," ").concat(a?"no-icon":"");return w.createElement("div",null,s?s(f):r?null:w.createElement("div",{id:"recommend-head",className:m},f||"精选推荐"),w.createElement("div",{id:"recommend-wrapper"},this.state.configs?w.createElement(gr,Fe()({},u,this.state.configs,{source:d,pageName:d,pageSn:i,fetcher:this.fetcher,updateFetcher:this.updateFetcher,renderItem:this.renderItem,renderFooter:c,isUseGoTop:l})):null))}},{key:"getConfig",value:function(){var e=this.props,t=e.apiUrl,n=e.apiParams,o=e.store,i=e.itemImpr,a=e.getConfig,s=e.requestContext,c=s?s.query:(0,q.mB)(location.search),l="1"===(s?s.cookies.webp:(0,Ft.ej)("webp")),u=Pr({op:"impr",page_section:"rec_list",page_element:"item"},this.props.imprBase),p=Pr(Pr({imprBase:u,scrollData:{sp:parseInt(c.sp,10)||0},show:!0,webpEnable:l,viewID:"orderRecommend",mountViewID:"recommend-wrapper"},i),a()),d="function"==typeof n?n(p):n,f=this.props.createFetcher||r;return this.fetcher=f(o.$axiosHttp,t,p,d),this.updateFetcher=function(e){return o.$axiosHttp.post("api/arsenal/consult_goods_price",e)},p}},{key:"componentDidMount",value:function(){this.props.requestContext||this.setState({configs:this.getConfig()})}}]),i}(w.PureComponent);return n.defaultProps={getConfig:function(){return{}},isUseGoTop:!0,doImpr:!0,threshold:.5},(0,k.f3)("store")(n)}(Mt,"double_v2"),Cr=r(41385),Sr=r(16230),Nr=r.n(Sr),jr=(0,k.f3)("store")((function(e){var t,r=e.store,n=e.chunkData,o=(0,Cr.Y)(),i=null!=n&&null!==(t=n.data)&&void 0!==t&&t.title?{renderTitle:function(){var e,t,r,o,i,a,s,c;return w.createElement("div",{className:Nr().title},w.createElement("div",{className:Nr().main,dangerouslySetInnerHTML:{__html:(s=(null==n||null===(e=n.data)||void 0===e||null===(t=e.title)||void 0===t?void 0:t.main)||"为您展示更多好评商品",c=null==n||null===(r=n.data)||void 0===r||null===(o=r.title)||void 0===o?void 0:o.red,c?s.replace(c,"<i>".concat(c,"</i>")):s)}}),w.createElement("div",{className:Nr().sub},(null==n||null===(i=n.data)||void 0===i||null===(a=i.title)||void 0===a?void 0:a.sub)||"10w+用户好评推荐"))}}:{};return w.createElement(Er,Fe()({pageSn:"19400",source:"order_comment",apiUrl:"api/caterham/v3/query/order_comment_group",apiParams:{goods_id:r.goodsId,xcx_version:o.query.xcx_version},imprBase:{main_goods_id:r.goodsId,page_el_sn:601822},itemImpr:{goodsIdKey:"goods_id"},rootMargin:300,threshold:.75,initData:n,requestContext:o,merchantTag:41050},i))})),Tr=(r(9865),r(94184)),Ar=r.n(Tr),Lr=r(26016),Rr=r(38430),Mr=r(38438),Gr={},Br="pdd_msg_expert_nav_controller",Fr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,n=new Date,o=n.getTime();"today"===r?(n.setHours(23,59,59),r=n.getTime()):r="".concat(o+r);try{localStorage.setItem(e,JSON.stringify({value:t,ttl:r}))}catch(e){(0,ce.K2)({sub_op:"op_error",params:JSON.stringify(e),error_message:"setWebStorage error"})}},Zr=function(e){try{var t=localStorage.getItem(e);if(!t)return null;var r=JSON.parse(t),n=r.value,o=r.ttl;return Date.now()>+o?(localStorage.removeItem(e),null):n}catch(e){return(0,ce.K2)({sub_op:"op_error",params:JSON.stringify(e),error_message:"getWebStorage error"}),null}},qr=function(){var e=o()(a().mark((function e(t,r){var n,o,i,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>2&&void 0!==s[2]?s[2]:1/0,Kr){e.next=4;break}return Fr(t,r,n),e.abrupt("return",Promise.resolve());case 4:return o=new Date,i=o.getTime(),"today"===n?(o.setHours(23,59,59),n=o.getTime()):n="".concat(i+n),e.abrupt("return",(0,P.ub)(t,{value:r,ttl:n}).catch((function(){return Fr(t,r,n)})));case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ur=function(){var e=o()(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Kr){e.next=2;break}return e.abrupt("return",Promise.resolve(Zr(t)));case 2:return e.abrupt("return",(0,P.cF)(t).then((function(e){var t=e.value,r=e.ttl;return Date.now()>+r?null:t})).catch((function(){return Zr(t)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kr=(0,D.zT)().isNativePlatform;Object.assign(Gr,{setStorage:qr,getStorage:Ur,setWebStorage:Fr,getWebStorage:Zr});var zr=Gr.setStorage,Hr=Gr.getStorage,Wr=r(14626);r(51876);function Jr(e){var t=e.str;if(!t)return null;var r=function(e){var t,r=e.split(/#{([^}]+)}/g);return{flag:0===(null===(t=e.match(/#{([^}]+)}/))||void 0===t?void 0:t.index),parts:r}}(t),n=r.flag;return r.parts.map((function(e){return(n=!n)?e:w.createElement("i",{className:"colorfull-text"},e)}))}var Qr=function(e){var t=e.icon_url,r=e.webpEnable,n=e.title,o=void 0===n?"":n,i=e.desc,a=e.onClick,s=e.button_text,c=e.strengthen_title,l=e.strengthen_desc,u=e.trackingInfo,p=void 0===u?{}:u,d=(e.titleEl,e.iconClass),f=void 0===d?"":d,m=e.jump_url,h=e.className,v=void 0===h?"":h;a=a||function(){m=(0,q.ru)({refer_page_el_sn:p.page_el_sn},m),(0,G.ax)(p),M.ZP.uniformForward(m)};var _=w.createElement("div",{className:"operator-item ".concat(v)},w.createElement("div",{className:"item-l ".concat(f)},t&&w.createElement(Wr.Z,{lazy:!1,src:t||(0,He.H)("/personal/comment/5cfa25a0-eda6-40b8-9919-3389811eb42f.png.slim.png"),processParam:{webpEnable:r,resizeWidth:120}})),w.createElement("div",{className:"item-m"},w.createElement("div",{className:"item-title"},w.createElement(Jr,{str:c||o})),w.createElement("div",{className:"item-desc"},w.createElement(Jr,{str:l||i}))),w.createElement("div",{className:"item-r",onClick:a},w.createElement("span",{className:"item-r-btn"},(s||"").slice(0,4))));return p?w.createElement(Zt.Z,{trackingInfo:p},_):_};function Vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Xr=(0,k.f3)("store")((function(e){var t=e.store,r=t.webpEnable,n=t.binding_card_info,o=n||{},i=o.extend_params,a=o.jump_url,s={page_el_sn:(null==i?void 0:i.page_el_sn)||5304530},l=(0,w.useCallback)((function(){B(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({op:"click"},s)),M.ZP.uniformForward(a||"/sub_bill_transfer_landing.html?_pdd_fs=1&qbf_page=order_detail_page&from_scene=EVALUATION_PAGE")}),[]);return n?w.createElement(Qr,Fe()({},n,{webpEnable:r,onClick:l,trackingInfo:s})):null}));function $r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Yr,en,tn=(0,k.f3)("store")((function(e){var t=e.store,r=t.webpEnable,n=t.pay_later_info,o=n||{},i=o.extend_params,a=o.jump_url,s=null!=i&&i.page_el_sn?{page_el_sn:null==i?void 0:i.page_el_sn}:null,l=(0,w.useCallback)((function(){s&&B(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({op:"click"},s)),M.ZP.uniformForward(a)}),[]);return n?w.createElement(Qr,Fe()({},n,{className:"pay-later-item-contaienr",webpEnable:r,onClick:l,trackingInfo:s})):null}));function rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var o=g()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v()(this,r)}}var an,sn=(Yr={expert:4864951,coupon:5476262,month:1876215,share:598316,mall:598317},c()(Yr,Te,1406292),c()(Yr,Ae,1406292),Yr),cn=(0,k.f3)("store")(en=(0,k.Pi)(en=function(e){m()(r,e);var t=on(r);function r(){var e;u()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).store=e.props.store||{},e.toMallPage=function(){M.ZP.replaceQuery({collect:"1"});var t=e.store.mall_info.jump_link;t&&M.ZP.uniformForward((0,q.ru)({refer_page_el_sn:598317},t))},e.toCollect=function(t){t.stopPropagation();var r=e.store.mall_info;M.ZP.replaceQuery({collect:"1"}),B({op:"click",page_el_sn:598317,shop_status:r.is_fav?0:1,ad:e.store.track_log_fields?JSON.stringify(e.store.track_log_fields):""},(function(){if(r.is_fav&&r.jump_link)M.ZP.uniformForward((0,q.ru)({refer_page_el_sn:598317},r.jump_link));else{if(r.is_brand)return void e.store.likeBrand();r.discount?e.store.likeMallAndReceiveCoupon():e.store.likeMall()}}))},e.toShare=function(){var t=e.store,r=t.reviewId,n=t.isWeChatMiniProgram,o=t.review_info,i=t.goods_info,a=t.review_share_info,s=void 0===a?{}:a;if(n)M.ZP.uniformForward((0,q.ru)({goods_id:i.goods_id,eval_id:r,eval_value:o.comment},"/comment_share.html"));else if(!e.isSharing){e.isSharing=!0;var c=i.template_goods_id,l="goods.html?goods_id=".concat(i.goods_id,"&refer_page_el_sn=598316");c&&(l="comm_goods_shoes.html?template_goods_id=".concat(c,"&channel=0"));var u=+s.share_type;1!==u&&2!==u||(l=s.jump_url);var p=2===u,d=(o.pictures||[]).slice(0,4).map((function(e){return e.url}));d=d.length?d:[i.hd_url];var f=e.store.land_page_url||"",m=f?[Rr.Z.WeChatSessionImage,Rr.Z.WeChatTimelineImage]:[Rr.Z.WeChatSessionImage,Rr.Z.WeChatTimelineImage,Rr.Z.QQChatSessionImage,Rr.Z.QQZoneImage],h={title:i.goods_name,desc:i.share_desc,thumbnail:i.hd_url,share_url:l,has_share_invite_coupon:1===u,has_expert_community_url:p,options:{max_size:5242880,qr_size:10}},v={goods_name:i.goods_name,thumb_url:i.hd_url,image_url:i.hd_url,price:(0,Vt.bd)(i.min_on_sale_group_price||0),sales:i.sales_tip,share_info:h,share_types:m,comment:o.comment,goods_id:i.goods_id,comment_images:d,has_coupon:e.store.has_coupon,has_qrcode:e.store.has_qrcode,land_page_url:f,share_coupon_page_url:f,comment_id:o.review_id,review_id:o.review_id,order_sn:o.order_sn,scene:7,complete:function(){e.store.operatorClickCount++,e.store.PddIOS&&e.store.updateOperator(),p&&e.store.notifyCommunityWithSharedReview({review_id:o.review_id,channel:1})}};B({page_el_sn:598316,op:"click",good_comment_status:1===u?1:0,review_id:e.store.reviewId}),e.store.PddIOS&&e.store.enableNewShareForIos&&!e.store.shareSdkUnify?(0,P.Q6)("PDDCommentShareHandler","share",v):(0,P.Q6)("JSNavigation","mask",{type:"pdd_comment_share",props:v,url:"comment_share.html"}),e.isSharing=!1}},e.onItemClick=function(t){var r=t.jump_url;if(r){var n=sn[t.type];B({op:"click",ad:e.store.track_log_fields?JSON.stringify(e.store.track_log_fields):"",page_el_sn:n},(function(){M.ZP.uniformForward(r)}))}},e}return d()(r,[{key:"componentDidMount",value:function(){var e,t,r=this,n=this.store,o=n.expert_community_promotion_info,i=void 0===o?{}:o,a=n.review_info,s=void 0===a?{}:a;null!=i&&i.title&&null!=i&&i.jump_url&&((null==s||null===(e=s.pictures)||void 0===e?void 0:e.length)>0||null!=s&&s.video||((0,Lr.P2)([{groupId:90293}]),(null==s||null===(t=s.comment)||void 0===t?void 0:t.length)>15&&(0,Lr.P2)([{groupId:90294}])));Hr(Br).then((function(e){if(!e){var t,n,o,i=r.store,a=i.expert_community_promotion_info,s=void 0===a?{}:a,c=i.review_info,l=void 0===c?{}:c,u=(null==l||null===(t=l.pictures)||void 0===t?void 0:t.length)>0||(null==l?void 0:l.video)||(null==l||null===(n=l.comment)||void 0===n?void 0:n.length)>15;if(s.title&&s.jump_url&&r.store.expertGray&&u)(null==l||null===(o=l.pictures)||void 0===o?void 0:o.length)>0||null!=l&&l.video||(0,Lr.P2)([{groupId:90295}]),zr(Br,"1","today").finally((function(){r.onItemClick(nn(nn({},s),{},{type:"expert"}))}))}}))}},{key:"render",value:function(){var e=this.store.webpEnable;return w.createElement("div",{className:"comment-result-operator"},w.createElement("div",{className:"operator-item-wrapper"},this.souceList.filter((function(e){return e.isShow})).slice(0,3).map((function(t,r){var n=t.props,o=t.component||Qr;return w.createElement(o,Fe()({key:r,webpEnable:e},n))})),this.store.showCouponRule&&w.createElement(Mr.Z,{className:"coupon-rule-dialog",ContainerProps:{className:"coupon-rule-dialog-container"}},w.createElement("h3",{className:"dialog-title"},"商品评价返现规则"),w.createElement("div",{className:"dialog-content"},w.createElement("p",{className:"rule-item"},"1. 用户按要求对商品进行真实有效的评价，有机会获得一张一定金额的全平台通用无门槛券（话费、跨境等特殊商品除外）。优惠券将在评价完成之日（含当日）起第四个自然日0时生效，有效期50年。"),w.createElement("p",{className:"rule-item"},"2. 商品评价返现活动限时限量，可能存在评价后无法获得券的情况。同一用户同一天同一家店铺最多参加5次商品评价返现活动。"),w.createElement("p",{className:"rule-item"},"3. 如用户以任何不正当手段或舞弊方式参与活动，一经发现，拼多多有权撤销奖励（包括但不限于作废已发放的优惠券）。不正当手段包括但不限于：评价领券后恶意退款，同行恶意竞争等。")),w.createElement(Mr.Z.CloseButton,{className:"close-btn",onClick:this.store.hideCouponRuleBox}))))}},{key:"souceList",get:function(){var e,t,r,n=this,o=this.store,i=(o.webpEnable,o.showShare),a=o.review_info,s=void 0===a?{}:a,c=o.review_reward_list,l=void 0===c?[]:c,u=o.month_card_info,p=void 0===u?{}:u,d=o.mall_info,f=void 0===d?{}:d,m=o.more_coupon_info,h=void 0===m?{}:m,v=o.useNewCouponUI,_=o.expert_community_promotion_info,g=void 0===_?{}:_,y=o.review_share_info,w=void 0===y?{}:y,k=o.binding_card_info,I=o.pay_later_info,O=o.collect,D=o.share_promotion_text,P=o.ad_list,x=void 0===P?[]:P,E=(!f.is_fav||f.is_fav&&"1"===O)&&!!f.title,C=!!h.title&&!!h.jump_url,S=+w.share_type,N=(null==s||null===(e=s.pictures)||void 0===e?void 0:e.length)>0||(null==s?void 0:s.video)||(null==s||null===(t=s.comment)||void 0===t?void 0:t.length)>15&&!this.store.userInBlackList,j=!!g.title&&!!g.jump_url&&N,T=1===S,A=this.store.track_log_fields?JSON.stringify(this.store.track_log_fields):"";return[{isShow:k,component:Xr},{isShow:I,component:tn},{isShow:j,props:nn(nn({},g),{},{onClick:function(){n.onItemClick(nn(nn({},g),{},{type:"expert"}))},trackingInfo:{page_el_sn:sn.expert,ad:A}})}].concat(b()(l.map((function(e,t){return{isShow:!0,props:nn(nn({},e),{},{icon_url:"https://funimg.pddpic.com/personal/comment_result/2020-09-20/ff8dd273-ba18-4a75-aaa6-c514705f5984.png",onClick:function(){n.onItemClick(nn(nn({},e),{},{type:e.type}))},trackingInfo:{page_el_sn:sn[e.type],ad:A}})}}))),[{isShow:i,props:{icon_url:T?"https://funimg.pddpic.com/personal/2020-06-12/14350697-b3c7-412b-87f4-29f62ee9a262.png":"",iconClass:T?"":"five-start",strengthen_title:T?"分享好评至少赚#{3元}":"分享五星好评",desc:T?"好友拼单即送券，多分享多得":D,button_text:"去分享",onClick:this.toShare,trackingInfo:{page_el_sn:sn.share,good_comment_status:1==+(null===(r=this.store.review_share_info)||void 0===r?void 0:r.share_type)?1:0,review_id:this.store.reviewId,ad:A}}},{isShow:E,props:nn(nn({},f),{},{onClick:this.toCollect,trackingInfo:{page_el_sn:sn.mall,shop_status:this.store.mall_info.is_fav?0:1,ad:A}})},{isShow:p.title,props:nn(nn({},p),{},{onClick:function(){(0,Ft.nJ)("comment_result_month_card"),n.onItemClick(nn(nn({},p),{},{type:"month"}))},trackingInfo:{page_el_sn:sn.month,ad:A}})}],b()(x.map((function(e){return{isShow:!0,props:nn({},(t=e,r=t.upper_title,n=t.bottom_title,t.reward_type,t.url_tracks,o=t.track_log_fields,i=t.image_url,a=t.landing_page_url,{icon_url:i,title:r,desc:n,button_text:t.action_text||"进店看看",jump_url:a,trackingInfo:{page_el_sn:519490,ad:JSON.stringify(o)||""}}))};var t,r,n,o,i,a}))),[{isShow:v&&C,props:nn(nn({},h),{},{onClick:function(){n.onItemClick(nn(nn({},h),{},{type:"coupon"}))},trackingInfo:{page_el_sn:sn.coupon,ad:A}})}])}}]),r}(w.Component))||en)||en,ln=8;function un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var o=g()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v()(this,r)}}var pn,dn=(0,k.f3)("store")(an=function(e){m()(r,e);var t=un(r);function r(){var e;u()(this,r);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).store=e.props.store,e.forward=function(){var t=o()(a().mark((function t(r,n,o){var i,s,c,l,u,p;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.stopPropagation(),i=n.order_sn,s=n.goods_id,c=n.comment_url,l=n.comment_tips,"comments"!==o){t.next=15;break}if(B({page_el_sn:1886894,op:"click"}),u=c,p=0===(0,K.yC)(e.store.platformVersion,"4.30.1"),u&&!p){t.next=12;break}if(u=(0,q.ru)({goods_id:s,order_sn:i,review_source:ln},"/comments.html"),!p){t.next=12;break}return u=(0,q.ru)({force_use_web_bundle:1},u),M.ZP.uniformForward(u,null),t.abrupt("return");case 12:l&&u?((0,F.Z)(l),setTimeout((function(){M.ZP.reload(u)}),1e3)):M.ZP.reload(u),t.next=16;break;case 15:B({page_el_sn:1886893,op:"click"},(function(){M.ZP.uniformForward((0,q.ru)({order_sn:i},"/order.html"))}));case 16:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.viewMore=function(){B({page_el_sn:1886895,op:"click"},(function(){M.ZP.uniformForward("/orders.html?combine_orders=1&comment_tab=1&type=4")}))},e}return d()(r,[{key:"componentDidMount",value:function(){this.store.unRatedData.total>0&&B({op:"impr",page_el_sn:1886893}),this.store.unRatedData.hasMore&&B({op:"impr",page_el_sn:1886895})}},{key:"render",value:function(){var e=this,t=this.store,r=t.unRatedData,n=void 0===r?{}:r,o=t.webpEnable,i=void 0!==o&&o,a=n.orders,s=void 0===a?[]:a;n.hasMore;return w.createElement("div",{className:"comment-result-comment-list-wrap"},w.createElement("div",{className:"header"},w.createElement("span",{className:"title"},"继续评价")),w.createElement("ul",{className:"comment-list"},s.slice(0,2).map((function(t){return w.createElement("li",{className:Ar()("item-box"),key:t.order_sn},w.createElement("div",{onClick:function(r){e.forward(r,t)},className:"item-box-inner"},w.createElement("div",{className:"box-img"},w.createElement(Wr.Z,{lazy:!1,src:t.thumb_url,processParam:{webpEnable:i,resizeWidth:216}})),w.createElement("div",{className:"box-desc"},w.createElement("p",{className:"goods-name"},t.goods_name),w.createElement("p",{className:"time-text"},t.receive_time_text)),w.createElement("div",{className:Ar()("write-btn","new-btn"),onClick:function(r){e.forward(r,t,"comments")}},"立即评价")))}))))}}]),r}(w.Component))||an;function fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var o=g()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v()(this,r)}}var mn,hn,vn,_n,gn=(0,k.f3)("store")(pn=(0,k.Pi)(pn=function(e){m()(r,e);var t=fn(r);function r(){var e;u()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).store=e.props.store||{},e.state={showTip:!0},e.buyAgainOnDialog=function(){B({op:"click",page_el_sn:3332660},(function(){e.store.closeCouponDialog(),e.store.forwardGoodsDetail()}))},e.closeTip=function(t){t.stopPropagation(),e.setState({showTip:!1})},e}return d()(r,[{key:"render",value:function(){var e=this.store,t=e.webpEnable,r=e.repurchase_coupon_info,n=void 0===r?{}:r,o=e.showCouponDialog,i=e.hasTakeCoupon,a=(e.useNewCouponUI,e.goods_info),s=e.continue_buy_button_text,c=n.can_take_coupon,l=n.has_usable_coupon,u=n.coupon_discount,p=(void 0===u?0:u)/100,d=2===a.price_type,f=String(d?a.price_info:(0,Vt.bd)(a.min_on_sale_group_price,0)).split("."),m=f[0],h=f[1];return w.createElement(w.Fragment,null,w.createElement("div",{className:"comment-result-buy-2",onClick:this.store.onBuyAgainClick({canTakeCoupon:c,hasUsableCoupon:l,hasTakeCoupon:i})},w.createElement("div",{className:"goods"},w.createElement("div",{className:"img"},w.createElement(Wr.Z,{src:a.image_url,lazy:!1})),w.createElement("div",{className:"info"},w.createElement("div",{className:"title"},a.goods_name),w.createElement("div",{className:Ar()("price",{couponPrice:d})},m,h?w.createElement("i",null,".",h):null)),w.createElement("div",{className:"btn"},s||"再次拼单"),c&&this.state.showTip&&w.createElement("div",{className:"tip"},w.createElement("div",{className:"red-packet"}),w.createElement("div",null,"领",p,"元复购券，立享优惠"),w.createElement("i",{className:"icon icon-close",onClick:this.closeTip}),w.createElement("i",{className:"arrow"},w.createElement("i",null))))),o&&w.createElement("div",{className:"comment-result-buy-coupon-dialog"},w.createElement("div",{className:"mask"}),w.createElement("div",{className:"content"},w.createElement("i",{className:"exit-btn",onClick:this.store.closeCouponDialog}),w.createElement("div",{className:"coupon"},w.createElement(Wr.Z,{className:"coupon-img",src:(0,He.H)("/personal/comment_result/2020-07-12/fc4d5f81-bb61-40ef-8532-6e44b8161351.png"),processParam:{webpEnable:t}}),w.createElement("div",{className:"price-wrap"},w.createElement("span",{className:"symbol"},"￥"),w.createElement("span",{className:"price"},p))),w.createElement("p",{className:"desc"},"恭喜您获得",p,"元专属复购券"),w.createElement("div",{className:"btn",onClick:this.buyAgainOnDialog},"再拼一单"))))}}]),r}(w.Component))||pn)||pn,yn=r(63320),bn=r(63035),wn=r(73088),kn=r(46377),In=(0,k.f3)("store")((function(e){var t=e.store,r=e.Component,n=e.chunkDataKey,o=e.children,i=void 0===o?null:o,a=Bt()(e,["store","Component","chunkDataKey","children"]);return w.createElement(kn.D,Fe()({Component:function(e){return t.fromJS({chunkData:c()({},n,e.chunkData)}),w.createElement(k.zt,{store:t},w.createElement(r,e))},chunkDataKey:n,children:i},a))})),On=(r(48977),r(55360)),Dn=r.n(On),Pn=function(){return w.createElement("div",null,w.createElement("div",{className:Nr().title}),w.createElement("div",null,Array(4).fill(1).map((function(e,t){return w.createElement("div",{key:t,className:"double-grid-one-v3"},w.createElement("div",{className:"double-grid-item-v3"},w.createElement("div",{className:Dn().wrapper},w.createElement("div",{className:Dn().container},w.createElement("div",{className:Dn().imgArea},w.createElement("div",{className:Dn().imgWrapper})),w.createElement("div",{className:Nr().infoArea})))))}))))},xn=r(3188),En=r.n(xn),Cn=(0,k.f3)("store")((function(e){var t,r,n=e.store;(0,w.useEffect)((function(){n.isNativePlatform?setTimeout((function(){var e;(null===(e=n.immersiveData)||void 0===e||!e.navHeight)&&x({title:"评价成功",title_color:"#25B513",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAn1BMVEUAAAAlthMjtREktRMltg4ltRMltRMeuBQYuQAlthMktRIltRIktRMlthIlthMlthMltRIltRIltRIktRMlthMlthQgrgAltRIltRIkthMjuRQktxQmtREltRMlthMlthMltRIktRMlthIlthMktxMktxAluBMlthIkthMkthIltxMkthIlthMltRMltRMktRMltRMktxIkthMktxIltRMDPtRMAAAANHRSTlMAjw79FPfICwSJ8ODZcC2inXf76Xs9B+2/WTIkIfLltauDgF9CHhrTaVVRN826t5iTY00pZ/ifqgAAAi9JREFUWMOd1emWojAQBeCrgAjIKigo2rbrqGPbtvX+zzb0AQdZEhK+/9xTSaoKsA2viR0aRmgnCx2yjjvXopJieYkKYfouVqgh+ErEClE/TWKY+kN0mW1XxDG3x+DaT6jDKQLbeKBQJ2XLLOIwIiEx40GeFgmapGhxnZOwtYMGJ/9eNCFtnH9NUiZq7fn/kqS4+hbfJO0Tb35InhK9TY9FPZzKQxjUi4/CUaNezNdsDkhMQDVhsQAEC9Aioz7c+YaxBW/9Ati1ad3hl2AP/UHmXK32howj1Td+taqj8Am8/PvFqnmGDxLwkTfNckpVLjBeUbdRft1qY2NaWaj47Oot162KzNH6kK/cGzVdBe7QLPaXSy12MLobkDdxftsquY2opJzB69dtS2Ffs+Go2oCZRKFWA7jN74EioWzAfUCsgHu9ZbLvXwllA5rsDjcakSgSygZMp5yt5BM7oWxApgcuxEx4NeCI2CI8iZlQNCB32lSMNWbCqwE5pgBi4iV0dOoGQEi8BLt7z12Jk3BWiGuJzISdsNc6Fg1+hcRKcEyRTY1DwEhI18S3Kv5tHmuTUAcDuaVCvWhHgFtCdwEv6px6sHT896AeLnizIWl3vBtaJOmko8IxScp0iZpIIwnmAg0/EgmrPVrsTeH6F2jlWIL3twTDUOg1XR1sj3ln+Qm4VI87WcH3EF2ebsAcv3sKEem29TYn/hHCom1cqUOLwwUkzZxzOPA2G2/gX5wZWP4BqNVHSmxIPTkAAAAASUVORK5CYII=",img_width:19,img_height:19,hide_line:!0}),(0,P.nk)({enable:!1})}),10):x({title:"评价成功"})}),[]);var o={height:0},i={height:0};return null!==(t=n.immersiveData)&&void 0!==t&&t.navHeight&&(o={height:n.immersiveData.navHeight+"px"},i={height:n.immersiveData.navHeight+"px",paddingTop:n.immersiveData.statusBarHeight+"px"}),null!==(r=n.immersiveData)&&void 0!==r&&r.navHeight?w.createElement("div",{className:En().title,style:o},w.createElement("div",{style:i,className:En().content},"评价成功")):null})),Sn=r(91612),Nn=r.n(Sn),jn=(0,k.f3)("store")((function(e){var t=e.store,r=t.cashback;return r?w.createElement("div",{className:Nn().container},w.createElement("div",{className:Nn().content},r.title,w.createElement("img",{className:Nn().coupon,src:"https://promotion.pddpic.com/promo/f57f3639-4a0b-4f4d-99cf-1d95ab90f778.png.slim.c1.png"}),"，",r.desc,w.createElement("i",{className:Ar()("icon icon-coupon-illustration",Nn().tip),onClick:t.showCouponRuleBox}))):null})),Tn=r(6694);function An(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var o=g()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v()(this,r)}}var Rn,Mn=(Rn=[].concat(b()(bn.comment_result_coupons_new_ui),b()(bn.expert_jump_gray)),mn=function(e){if(e.__$leo_keys)throw new Error("".concat(e.name," duplicate declare"));if(!Array.isArray(Rn))throw new Error("needs an array for its 1st param");return e.__$leo_keys=Rn||[],function(e){W.apply(this,arguments)}(Rn),e},hn=(0,I.Iq)({store:Ge},{serverTemplateName:"comment_result",requireLogin:!0,title:" ",fallbackCSR:!0}),vn=(0,k.f3)("store"),mn(_n=hn(_n=(0,wn.O1)(_n=vn(_n=(0,k.Pi)(_n=function(e){m()(r,e);var t=Ln(r);function r(){var e;u()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).store=e.props.store,e}return d()(r,[{key:"componentDidMount",value:function(){var e,t=this;(this.store.isNativePlatform||this.store.isTinyNativePlatform)&&(e=2e3,new Promise((function(t){return setTimeout(t,e)}))).then((function(){return(0,yn._r)((function(){t.onForeground()}))})),this.store.month_card_info&&this.store.month_card_info.title&&(0,Ft.d8)("comment_result_month_card","1",{maxAge:604800});var r=this.store.getBuyAgainTrackParam();(null==r?void 0:r.page_el_sn)&&B(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?An(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):An(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({op:"impr"},r)),Tn.q.init({pn:19400,pagePath:location.pathname,groupId:11022})}},{key:"onForeground",value:function(){this.store.operatorClickCount++,this.store.updateOperator()}},{key:"render",value:function(){var e=this.store,t=e.reviewId&&e.unRatedData.total>0;return w.createElement("div",{className:"comment-result"},w.createElement(Cn,null),w.createElement(jn,null),w.createElement("div",null,e.showBuyAgain&&w.createElement(gn,null),e.unRatedData.total>0&&w.createElement(dn,null)),t&&w.createElement("div",{className:"divided"},w.createElement("i",null)),e.reviewId&&w.createElement(cn,null),w.createElement(O.eA,null),w.createElement(In,{chunkDataKey:"recommendList",Component:jr},w.createElement(Pn,null)))}}]),r}(w.Component))||_n)||_n)||_n)||_n)||_n),Gn={appId:"100529",testAppId:"100234",bizSide:"consumer-platform-fe"};function Bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zn(e){var t;return null!==(t=e.appConfig)&&void 0!==t&&t.serverTemplateName?Fn(Fn({},Gn),{},{reportPath:"/".concat(e.appConfig.serverTemplateName,".html")}):Gn}function qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kn(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=e.appConfig)&&void 0!==t&&t.serverTemplateName&&(r.pageProperty=Un(Un({},r.pageProperty),{},{pageName:e.appConfig.serverTemplateName}),(0,G.sA)({page_name:e.appConfig.serverTemplateName})),(0,P.Nt)({simpleRate:0}),(0,I.IW)(e,Un({pmmAppInfo:Zn(e)},r))}var zn,Hn=r(4170),Wn=(0,I.D4)(Mn);Wn.getChunkDataFetcher=(zn=Mn,function(){var e=o()(a().mark((function e(t,r){var n,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.stores||zn.stores,i=o.store,e.abrupt("return",(null===(n=i.getChunkDatasource)||void 0===n?void 0:n.call(i,t,r))||{});case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());var Jn=function(){var e=o()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Hn.$E)();case 2:return window.__CMTC_WHITE_LIST__={5:5},19400,e.next=6,Kn(Mn,{pageProperty:{pageSN:19400}});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Promise.resolve("function"==typeof Jn&&Jn()).then((function(){return(0,kn.x)(Wn)}))},1963:function(e,t,r){"use strict";r.d(t,{M:function(){return c},h:function(){return l}});r(91181),r(56997),r(96253),r(27476);var n=r(42861),o=r.n(n);r(17732);function i(e,t){if(!e)throw new Error(t||"leoAssertError")}var a=r(81057);function s(e){i(!!e,"nullJson"),i("string"==typeof e.salt&&e.salt.startsWith("cp"),"abFormatInvalidSalt"),i("number"==typeof e.bucketCount,"abFormatInvalidBucketCount"),i(!!e.models&&"object"===o()(e.models),"abFormatInvalidModels")}var c={Default:function(e){return e},ABTest:{normal:function(e,t){var r=(t=t||{}).identity?t.identity.uid:0,n=null;try{n="string"==typeof e?JSON.parse(e):e}catch(e){throw new Error("invalidJsonFormat1")}return s(n),a.ZP.getTestStrategy(n,r,!1)},fallback:function(e){var t=null;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){throw new Error("invalidJsonFormat2")}else t=e;return s(t),Object.keys(t.models).forEach((function(e){t.models[e]={blackList:[],whiteList:[],buckets:t.models[e].buckets}})),t}}};function l(e){var t=e.leoKey,r=e.formatter,n=e.csrFallback,a=c.Default;if("object"===o()(r)&&r){var s="function"==typeof r.normal,l="function"==typeof r.fallback;i(s&&l,"[leoKey=".concat(t,"'] both normal and fallback methods needed")),a=n?r.fallback:r.normal}else"function"==typeof r&&(a=r);return a}},53988:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(30109);function o(e,t,r){(0,n.K2)(new Error,{error_message:"6011Error_"+t,page:JSON.stringify(r)})}},63035:function(e,t,r){"use strict";r.r(t),r.d(t,{address_check:function(){return o},new_custom_service:function(){return i},nav_to_app:function(){return a},report_fake_brand:function(){return s},comment_result_coupons_new_ui:function(){return c},phone_binding_btn_text:function(){return l},new_messages_settings:function(){return u},new_similar_rec:function(){return p},personal_margin_decrease:function(){return d},expert_community_switch:function(){return f},reply_native_keyboard:function(){return m},psnl_comment_message_leo_config:function(){return h},expert_jump_gray:function(){return v}});var n=r(1963),o=[{leoKey:"address_check",formatter:n.M.ABTest}],i=[{leoKey:"new_custom_service",formatter:n.M.ABTest}],a=[{leoKey:"nav_to_app",formatter:n.M.ABTest}],s=[{leoKey:"report_fake_brand",formatter:n.M.ABTest}],c=[{leoKey:"comment_result_coupons_new_ui",formatter:n.M.ABTest}],l=[{leoKey:"phone_binding_btn_text",formatter:n.M.ABTest}],u=[{leoKey:"new_messages_settings",formatter:n.M.ABTest}],p=[{leoKey:"new_similar_rec",formatter:n.M.ABTest}],d=[{leoKey:"personal_margin_decrease",formatter:n.M.ABTest}],f=[{leoKey:"expert_community_switch",formatter:n.M.ABTest}],m=[{leoKey:"reply_native_keyboard",formatter:n.M.ABTest}],h=[{leoKey:"comment_msg_priority",formatter:n.M.ABTest},{leoKey:"comment_msg_back_logic",formatter:n.M.ABTest,projectName:"mobile-personal-comment"}],v=[{leoKey:"mobile-personal-comment.expert_jump_gray",formatter:n.M.ABTest}]},37307:function(e,t,r){"use strict";var n=r(86056);(0,r(74711).Xf)(window.navigator.userAgent),n.ZP;n.ZP.forward=function(e,t,r,o){return n.ZP.uniformForward(e,t,o)},t.ZP=n.ZP},73299:function(e,t,r){"use strict";r.r(t),t.default=function(){return function(e){return e}}},91612:function(e){e.exports={container:"_2x7XRjoR",content:"_3LmO2xxq",coupon:"Nop9FKnm",tip:"_2DNbEYc8"}},16230:function(e){e.exports={title:"_3I_15GT8",main:"_2JDtOony",sub:"_3Weyb9Qh",infoArea:"_2X6oFtXS"}},3188:function(e){e.exports={title:"_2sKXIxig",content:"_1PcGMdXa"}},37481:function(e){e.exports={container:"_1fsCwKBD",item:"_3fcmopIS",more:"_39dZYA0L"}},81249:function(e){"use strict";e.exports=pinbridge}},a={};function s(e){if(a[e])return a[e].exports;var t=a[e]={id:e,loaded:!1,exports:{}};return i[e].call(t.exports,t,t.exports,s),t.loaded=!0,t.exports}s.m=i,s.x=function(){},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},s.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);s.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){i[e]=function(){return r[e]}}));return i.default=function(){return r},s.d(o,i),o},s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,r){return s.f[r](e,t),t}),[]))},s.u=function(e){return"js/"+({400:"ms_wx_app_c",437:"pdd-mod/qq-service",647:"pdd_cart_risk_anti",699:"ms_web_c",795:"ms_qq_c",840:"ms_wx_c",910:"monitor-dev-panel",911:"ms_native_c",920:"pdd-mod/wechat-service"}[e]||e)+"_"+{369:"04fe3617bcbba4375a48",400:"437bb88fe3ce08fff033",437:"1e4ecc4bb148e91b01cf",647:"cf4eb064127ebcf63353",699:"ffe2f78c876e79bd8b96",795:"188524bb23a410bc2f1b",840:"0f720e8acf499b7d3570",910:"9e8df13bf6242ac6e4be",911:"aa8234a808fe4428f4bc",920:"193f327d78343d7f81bb",929:"bbf3526455037b48e579"}[e]+".js"},s.miniCssF=function(e){return"css/monitor-dev-panel_d314c614b241f08063cc.css"},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r={},s.l=function(e,t,n,o){if(r[e])r[e].push(t);else{var i,a;if(void 0!==n)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")=="mobile-personal-comment:"+n){i=u;break}}i||(a=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack","mobile-personal-comment:"+n),i.src=e),r[e]=[t];var p=function(t,n){i.onerror=i.onload=null,clearTimeout(d);var o=r[e];if(delete r[e],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),a&&document.head.appendChild(i)}},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},s.p="https://static.pddpic.com/assets/",n=function(e){return new Promise((function(t,r){var n=s.miniCssF(e),o=s.p+n;if(function(e,t){for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var o=(a=r[n]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){var a;if((o=(a=i[n]).getAttribute("data-href"))===e||o===t)return a}}(n,o))return t();!function(e,t,r,n){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=function(i){if(o.onerror=o.onload=null,"load"===i.type)r();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=s,o.parentNode.removeChild(o),n(c)}},o.href=t,document.head.appendChild(o)}(e,o,t,r)}))},o={53:0},s.f.miniCss=function(e,t){o[e]?t.push(o[e]):0!==o[e]&&{910:1}[e]&&t.push(o[e]=n(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))},function(){var e={53:0},t=[[72457,255,304]];s.f.j=function(t,r){var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise((function(r,o){n=e[t]=[r,o]}));r.push(n[2]=o);var i=s.p+s.u(t),a=new Error;s.l(i,(function(r){if(s.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,n[1](a)}}),"chunk-"+t,t)}};var r=function(){},n=function(n,o){for(var i,a,c=o[0],l=o[1],u=o[2],p=o[3],d=0,f=[];d<c.length;d++)a=c[d],s.o(e,a)&&e[a]&&f.push(e[a][0]),e[a]=0;for(i in l)s.o(l,i)&&(s.m[i]=l[i]);for(u&&u(s),n&&n(o);f.length;)f.shift()();return p&&t.push.apply(t,p),r()},o=self.webpackChunkmobile_personal_comment=self.webpackChunkmobile_personal_comment||[];function i(){for(var r,n=0;n<t.length;n++){for(var o=t[n],i=!0,a=1;a<o.length;a++){var c=o[a];0!==e[c]&&(i=!1)}i&&(t.splice(n--,1),r=s(s.s=o[0]))}return 0===t.length&&(s.x(),s.x=function(){}),r}o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o));var a=s.x;s.x=function(){return s.x=a||function(){},(r=i)()}}();s.x()}();
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/js/comment_result_429a14285af528e09991.js.map