/*! For license information please see duoduo_sprite-98062dae0a7ecdd0cfa.js.LICENSE.txt */
(self.webpackChunkmobile_promote=self.webpackChunkmobile_promote||[]).push([["duoduo_sprite"],{16525:function(e,t,r){r(90529);var n=r(58331);function i(t,r,o){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,r){var i=n(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(r):o.value}},i(t,r,o||t)}e.exports=i},58331:function(e,t,r){var n=r(90529);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}},44449:function(e,t,r){"use strict";r.d(t,{Z:function(){return H}});var n=r(49304),i=r.n(n),o=r(54612),a=r.n(o),s=r(11809),c=r.n(s),u=r(80819),l=r.n(u),p=r(46461),f=r.n(p),d=r(85114),h=r.n(d),m=r(71831),g=r.n(m),y=r(82482),v=r.n(y),b=r(6899),_=r.n(b),k=r(90529),w=r.n(k),S=r(71988),O=r.n(S),I=(r(52745),r(63791)),A=r(89378),T=r(66723),C=r(15696),E=r(16044),P=r(54087),R=r.n(P);function x(e,t,r,n){var i=r-t;return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}var D=/#([^#]+)$/;function N(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("undefined"==typeof window)return 0;var r=t?"pageYOffset":"pageXOffset",n=t?"scrollTop":"scrollLeft",i=e===window;return i?e[r]:e[n]}function L(e,t){if(!e)return 0;if(!e.getClientRects().length)return 0;var r=e.getBoundingClientRect();return r.width||r.height?t===window?(t=e.ownerDocument.documentElement,r.top-t.clientTop):r.top-t.getBoundingClientRect().top:r.top}function M(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:450,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},a=N(n,!0),s=0;if("number"==typeof e)s=e;else{var c=D.exec(e);if(!c)return;if(!(t=document.getElementById(c[1])))return;s=L(t,n)}var u=a+s-r,l=Date.now(),p=function e(){var t,r=Date.now()-l;r<i?(t=x(r,a,u,i),t=Math.min(u,t)):t=u,n===window?window.scrollTo(window.pageXOffset,t):n===document.body?(document.body.scrollTop=t,(document.documentElement||{}).scrollTop=t):n.scrollTop=t,r<i?R()(e):o()};R()(p)}var B,F,G,j,U=r(50318),W=r(94753);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w()(e);if(t){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _()(this,r)}}var H=(B=function(e){v()(o,e);var t,r,n=Z(o);function o(){var e;f()(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e=n.call.apply(n,[this].concat(r)),l()(e,"isShowIcon",F,g()(e)),l()(e,"restTime",G,g()(e)),l()(e,"isDone",j,g()(e)),e.countDownTime=30,e.isStartTask=!1,e}return h()(o,[{key:"showActionIcon",value:function(){this.isShowIcon=!0}},{key:"hideActionIcon",value:function(){this.isShowIcon=!1}},{key:"setRestTime",value:function(e){this.restTime=e}},{key:"getOrderMission",value:function(){return this.store.taskListStore.mainOrderTaskStore}},{key:"postFinish",value:(r=c()(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setTaskAchieve();case 2:e.sent?(0,I.runInAction)((function(){t.isDone=!0})):this.setRestTime(30),this.checkTaskInfo();case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"handleTaskStage",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageElSn,n=void 0===r?null:r;(this.isToStart||this.itemEntryAfterLimit)&&((null===(e=this.targetUrl)||void 0===e?void 0:e.includes(location.pathname))?(this.taskListStore.hideAction(),M("#".concat(A.Is)),this.isStartTask=!0,this.showActionIcon()):(this.setTaskProcess(!0),this.handleNavigation(n)));if(this.isToGetAward)return this.setTaskProcess(!1),this.getAward()}},{key:"_appendTaskQuery",value:function(e,t,r){var n;return(0,U.appendQuery)((n={},i()(n,A.u6.MISSION_ID,this.id),i()(n,A.u6.MODULE_ID,this.taskListStore.moduleId),i()(n,"skinType",r),i()(n,"order_mission_id",t),n),e)}},{key:"handleNavigation",value:(t=c()(a().mark((function e(t){var r,n,o,s,c,u,l,p,f,d,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.targetUrl.indexOf("?"),o=this.rootStore||{},s=o.skinExportType,c=2552===this.taskListStore.moduleId,u="".concat(this.id,"-").concat(s),l=c?E.S1.HTJ_BROWSE_PAGE[u]:E.S1.BROWSE_PAGE[u],p=(0,E.LV)(l),d=(0,W.mB)(this.targetUrl),h=d.order_mission_id||(null===(r=this.getOrderMission())||void 0===r?void 0:r.id),-1!==n&&l&&this.useNewTaskPage?(p=(0,U.appendQuery)(d,p),f=this._appendTaskQuery(p,h)):(this.targetUrl.includes("live_order_mission_id")&&(this.taskListStore.forceRefreshAllTasks=!0),f=this._appendTaskQuery(this.targetUrl,h,s)),T.ZP.forward(f,i()({page_el_sn:t},A.u6.TASK_FORWARD,1));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"useNewTaskPage",get:function(){var e;return null===(e=this.taskListStore.parentStore)||void 0===e?void 0:e.useNewTaskPage}},{key:"topBannerTips",get:function(){return this.taskListStore.parentStore.needTaskDayTips(this)?"当日24点前完成该任务，才可获得奖励哦~":""}},{key:"topBannerTipsBg",get:function(){return"https://promotion.pddpic.com/promo/d66f5784-3dbc-4a2d-af88-cb63c3d453d0.png.slim.png"}}]),o}(C.Z),F=O()(B.prototype,"isShowIcon",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=O()(B.prototype,"restTime",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),j=O()(B.prototype,"isDone",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O()(B.prototype,"topBannerTips",[I.computed],Object.getOwnPropertyDescriptor(B.prototype,"topBannerTips"),B.prototype),O()(B.prototype,"showActionIcon",[I.action],Object.getOwnPropertyDescriptor(B.prototype,"showActionIcon"),B.prototype),O()(B.prototype,"hideActionIcon",[I.action],Object.getOwnPropertyDescriptor(B.prototype,"hideActionIcon"),B.prototype),O()(B.prototype,"setRestTime",[I.action],Object.getOwnPropertyDescriptor(B.prototype,"setRestTime"),B.prototype),B)},32058:function(e,t,r){"use strict";r.d(t,{Z:function(){return q}});var n,i,o,a,s,c,u,l=r(54612),p=r.n(l),f=r(11809),d=r.n(f),h=r(49304),m=r.n(h),g=r(80819),y=r.n(g),v=r(46461),b=r.n(v),_=r(85114),k=r.n(_),w=r(71831),S=r.n(w),O=r(82482),I=r.n(O),A=r(6899),T=r.n(A),C=r(90529),E=r.n(C),P=r(71988),R=r.n(P),x=(r(52745),r(63791)),D=r(24362),N=r(90401),L=r(70694),M=r.n(L),B=r(50318),F=r(94753),G=r(93358),j=r(16044),U=r(17145),W=r(15148);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){m()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E()(e);if(t){var i=E()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return T()(this,r)}}var z=function(e,t){var r=e.room_id,n=e.npc_mall_id,i=e.mkt_domain,o=e.mkt_tr_sc,a=e.mkt_tr_token,s=e.mkt_type,c=e.mall_info_type;return(0,B.appendQuery)({cpt_type:j.h3[c],_oc_mkt_tr_sc:o,_oc_mkt_tr_token:a,_oc_mkt_domain:i,_oc_mkt_type:s},(0,U.O)({room_id:r,mall_id:n||"",module_id:t}))},q=(n=x.action.bound,i=x.action.bound,u=c=function(e){I()(n,e);var t,r=K(n);function n(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return b()(this,n),e=r.call(this,t,i),y()(e,"taskList",a,S()(e)),y()(e,"isLoading",s,S()(e)),e.moduleId=void 0,e.TaskStoreMap=void 0,e.getParent=void 0,Object.assign(S()(e),t),e.getParent=o,e}return k()(n,[{key:"initSubStore",value:function(e){var t=this,r=e.taskList,n=void 0===r?[]:r;if(n){var i=n.filter((function(e){return!!t.TaskStoreMap[e.type]}));this.taskList=i.map((function(e){return new t.TaskStoreMap[e.type](e,(function(){return t.rootStore}),(function(){return t}))}))}}},{key:"preHandlerTask",value:function(e){var t,r,n,i=H({id:e.id,type:e.type,status:e.mission_status,title:e.title,content:e.content,count:e.finish_times,targetUrl:e.mission_url,coinAmount:e.fairy_coin_reward,nutritionRewardNum:e.nutrition_reward_num,startText:e.but_content||"去完成",upperLimit:e.upper_limit,gainTimes:e.gain_times,subjectId:e.subject_id,ad:e.track_log_fields,p_rec:e.p_rec,searchQuery:e.impr_query,orderRewardCoefficient:e.order_reward_coefficient,firstChargeWithOneDay:e.first_charge_with_one_day,rewardCoefficient:e.reward_coefficient,iconUrl:null===(t=e.config_data)||void 0===t?void 0:t.icon_url,groupId:e.group_id,hitGrey:e.hit_grey},this.commonTaskData);if(null===(r=e.config_data)||void 0===r?void 0:r.npc_flag){var o=e.config_data,a=o.npc_mall_id,s=o.mall_name,c=o.room_name,u=o.room_logo,l=o.mall_info_type,p=o.on_living;if(i.mallNpcConfig={isMallNpc:!0,mallId:a,mallInfoType:l||j.T7.Normal},e.type===j.AQ.orderInTargetPageMission)if(p){i.targetUrl=z(e.config_data,this.rootStore.leoForMission.module_id);var f=j.T7.Normal===l;i.cptBuyerName=f?s:c,i.title="直播",i.content="直播间下单",i.iconUrl=f?i.iconUrl:u}else{var d,h,m;i.targetUrl=(0,B.appendQuery)(H(H({},(0,F.mB)(e.mission_url)),{},{cpt_type:j.Zg.Mall,_x_popup_sprite_mall_cpt_idx:"tl_".concat(null===(d=this.rootStore.leoConfig)||void 0===d||null===(h=d.taskBoardNpcs)||void 0===h||null===(m=h[e.group_id])||void 0===m?void 0:m.idx)}),"/mall_page.html?mall_id=".concat(a)),i.cptBuyerName=s,i.title="下单",i.content="店铺内下单"}else if(e.type===j.AQ.browsingMission){i.targetUrl=z(e.config_data,this.rootStore.leoForMission.module_id);var g=j.T7.Normal===l;i.cptBuyerName=g?s:c,i.title="直播",i.iconUrl=g?i.iconUrl:u}}(this.rootStore.leoForMission.brandCptTaskIds||[]).includes(e.id)&&(i.targetUrl=(0,W.S)({linkUrl:e.mission_url,isToBrandStation:0===(null===(n=e.config_data)||void 0===n?void 0:n.link_type),showBrowseBenefit:e.type===j.AQ.browsingMission,moduleId:this.moduleId,brandCptEntry:W.p.TaskList}));return i}},{key:"init",value:(t=d()(p().mark((function e(){var t,r,n,i,o,a,s,c,u=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isLoading=!0,r="1"===this.rootStore.queries.task_test?D.Dx:D.as,e.next=5,this.isomorphicRequest(r,{module_id:this.moduleId,list_id:this.rootStore.listId,page_sn:Number(G.mC),page_el_sn:G.MQ.EL_3436624});case 5:return n=e.sent,i=n.mission_list,e.next=9,this.rootStore.queryIsNpcMallRisk();case 9:return o=e.sent,a=this.rootStore.abTestStore,s=(null===(t=this.rootStore.leoConfig)||void 0===t?void 0:t.taskBoardNpcs)||{},c=Object.keys(s).reduce((function(e,t){var r=s[t]||{};return e[t]=a.commonAbTest(r.salt,r.showBuckets),e}),{}),i=(i||[]).filter((function(e){var t;return!(null==e||null===(t=e.config_data)||void 0===t?void 0:t.npc_flag)||!o&&c[null==e?void 0:e.group_id]})),e.abrupt("return",(i||[]).map((function(e){return u.preHandlerTask(e)})));case 17:e.prev=17,e.t0=e.catch(0),this.sendError(e.t0);case 20:return e.prev=20,(0,x.runInAction)((function(){u.isLoading=!1})),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[0,17,20,23]])}))),function(){return t.apply(this,arguments)})},{key:"replaceTask",value:function(e,t){var r=this,n=this.taskList.findIndex((function(e){return e.id===t.id}));n>-1&&this.taskList.splice(n,1,new this.TaskStoreMap[e.type](this.preHandlerTask(e),(function(){return r.rootStore}),(function(){return r})))}},{key:"parentStore",get:function(){return this.getParent()}},{key:"taskAllDone",get:function(){return!this.taskList.some((function(e){return!e.isReachLimit}))}}]),n}(N.Z),c.propTypes={moduleId:M().number.isRequired,TaskStoreMap:M().object.isRequired},o=u,a=R()(o.prototype,"taskList",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=R()(o.prototype,"isLoading",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R()(o.prototype,"taskAllDone",[x.computed],Object.getOwnPropertyDescriptor(o.prototype,"taskAllDone"),o.prototype),R()(o.prototype,"initSubStore",[n],Object.getOwnPropertyDescriptor(o.prototype,"initSubStore"),o.prototype),R()(o.prototype,"init",[i],Object.getOwnPropertyDescriptor(o.prototype,"init"),o.prototype),R()(o.prototype,"replaceTask",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"replaceTask"),o.prototype),o)},15696:function(e,t,r){"use strict";r.d(t,{Z:function(){return Y}});var n,i,o,a,s,c,u,l,p,f,d,h,m=r(54612),g=r.n(m),y=r(11809),v=r.n(y),b=r(80819),_=r.n(b),k=r(49304),w=r.n(k),S=r(46461),O=r.n(S),I=r(71831),A=r.n(I),T=r(85114),C=r.n(T),E=r(82482),P=r.n(E),R=r(6899),x=r.n(R),D=r(90529),N=r.n(D),L=r(71988),M=r.n(L),B=(r(52745),r(63791)),F=r(69435),G=r(56349),j=r(38377),U=r(24362),W=r(16044),Z=r(91963),H=r(89082);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){w()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=N()(e);if(t){var i=N()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return x()(this,r)}}var Y=(n=function(e){P()(y,e);var t,r,n,m=q(y);function y(e,t,r){var n;return O()(this,y),(n=m.call(this,null,t)).moduleId=void 0,n.id=void 0,n.groupId=void 0,n.type=void 0,n.content=void 0,n.getAwardText=W.OJ,n.reachLimitText=W.LF,n.targetUrl=void 0,n.isProcessing=void 0,n.ad=void 0,n.p_rec=void 0,n.isAwardLock=!1,n.isAchieveLock=!1,n.isCheckInfoLock=!1,n.subjectId="",n.searchQuery=void 0,_()(n,"title",i,A()(n)),_()(n,"startText",o,A()(n)),_()(n,"status",a,A()(n)),_()(n,"iconUrl",s,A()(n)),_()(n,"coinAmount",c,A()(n)),_()(n,"nutritionRewardNum",u,A()(n)),_()(n,"upperLimit",l,A()(n)),_()(n,"gainTimes",p,A()(n)),_()(n,"orderRewardCoefficient",f,A()(n)),_()(n,"firstChargeWithOneDay",d,A()(n)),_()(n,"rewardCoefficient",h,A()(n)),n.getParent=void 0,n.initStore(e),n.getParent=r||function(){var e,t;return null===(e=n.getRoot())||void 0===e||null===(t=e.taskListStore)||void 0===t?void 0:t.$taskListStore},n}return C()(y,[{key:"getCoinFormatString",value:function(e){return(0,Z.n)(e).valueStr}},{key:"needShowTaskAwardIncrease",get:function(){return this.orderRewardCoefficient>1}},{key:"coinFormatString",get:function(){return this.getCoinFormatString(this.coinAmount)}},{key:"baseItemLogInfo",get:function(){return z(z({},(0,H.J)(this.id,this.missionStatus)),{},{ad:this.ad?JSON.stringify(this.ad):void 0,p_rec:this.p_rec?JSON.stringify(this.p_rec):void 0})}},{key:"missionStatus",get:function(){var e=this.isToStart,t=this.isToGetAward;return e?W.As.GO_TO_TASK:t?W.As.RECEIVE:W.As.DEFAULT}},{key:"expectedCodeMap",get:function(){return w()({},W.iH,"成功")}},{key:"btnText",get:function(){if(!this.isReachLimit){if(this.isToStart)return this.startText;if(this.isToGetAward)return this.getAwardText}return this.itemEntryAfterLimit?"再逛逛":this.reachLimitText}},{key:"itemEntryAfterLimit",get:function(){var e;return!!(null===(e=this.getParent())||void 0===e?void 0:e.entryAfterLimit)&&W.AQ.browsingMission===this.type&&this.isReachLimit}},{key:"isReachLimit",get:function(){return this.status===W.Q_.FINISH_UPPER}},{key:"isToStart",get:function(){return[W.Q_.INIT_START,W.Q_.FINISH_START].includes(this.status)}},{key:"isToGetAward",get:function(){return this.status===W.Q_.FINISH_NOT_GAIN}},{key:"taskListStore",get:function(){return this.getParent()}},{key:"taskParam",get:function(){var e,t;return{module_id:this.moduleId||(null===(e=this.getParent)||void 0===e||null===(t=e.call(this))||void 0===t?void 0:t.moduleId)||this.store.leoForMission.module_id,mission_id:this.id,list_id:this.rootStore.listId,subject_id:this.subjectId}}}]),C()(y,[{key:"cmtLogTaskFinish",value:function(){this.store.duoduoSpriteLogger({stage:"task_finish_click",finishAll:0===this.store.taskListStore.unFinishTaskNum,trackId:this.id})}},{key:"getAward",value:(n=v()(g().mark((function e(){var t,r,n,i,o,a,s,c,u=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:this.taskParam,r=!(u.length>1&&void 0!==u[1])||u[1],n=!0,e.prev=3,!(this.isAwardLock||!this.isToGetAward&&r)){e.next=6;break}return e.abrupt("return");case 6:return this.isAwardLock=!0,e.next=9,(0,U.cD)(t);case 9:if(o=e.sent,a=o.code,s=o.next_mission,o.coin_bonus=o.fairy_coin_bonus,o.promotion_score_bonus,a===W.iH){e.next=23;break}if(!W.vz[a]){e.next=20;break}return(0,F.info)(W.vz[a]),e.abrupt("return");case 20:if(a!==W.i6){e.next=22;break}return e.abrupt("return");case 22:throw new Error("task getAward error, type: ".concat(this.type,", status: ").concat(this.status,", params: ").concat(JSON.stringify(t),", api result: ").concat(JSON.stringify(o)));case 23:if(this.cmtLogTaskFinish(),!(0,G.Wl)(null===(i=this.taskListStore)||void 0===i?void 0:i.getAwardSuccessCb)){e.next=27;break}return e.next=27,this.taskListStore.getAwardSuccessCb(o);case 27:s&&(n=!1,null===(c=this.taskListStore)||void 0===c||c.replaceTask(s,this)),e.next=34;break;case 30:e.prev=30,e.t0=e.catch(3),(0,F.info)(W.Ck.GAIN_FAIL),this.sendError(e.t0);case 34:if(e.prev=34,e.t1=n,!e.t1){e.next=39;break}return e.next=39,this.checkTaskInfo(t);case 39:return this.isAwardLock=!1,e.finish(34);case 41:case"end":return e.stop()}}),e,this,[[3,30,34,41]])}))),function(){return n.apply(this,arguments)})},{key:"setTaskAchieve",value:(r=v()(g().mark((function e(){var t,r,n,i,o,a=this,s=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:this.taskParam,r=s.length>1&&void 0!==s[1]&&s[1],e.prev=2,!this.isAchieveLock&&(r||this.isToStart)){e.next=5;break}return e.abrupt("return");case 5:return this.isAchieveLock=!0,n=this.status,e.next=9,(0,U.gY)(t);case 9:if(i=e.sent,o=i.code,i.finish&&o===W.iH){e.next=15;break}if(this.expectedCodeMap[o]){e.next=14;break}throw new Error("task setTaskAchieve error, type: ".concat(this.type,", preStatus, ").concat(n,", status: ").concat(this.status,", params: ").concat(JSON.stringify(t),", api result: ").concat(JSON.stringify(i)));case 14:return e.abrupt("return",i);case 15:return[W.AQ.browsingMission,W.AQ.commonMission].includes(this.type)&&this.isToStart&&(0,B.runInAction)((function(){a.status=W.Q_.FINISH_NOT_GAIN})),e.abrupt("return",i);case 19:e.prev=19,e.t0=e.catch(2),this.sendError(e.t0);case 22:return e.prev=22,this.isAchieveLock=!1,e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[2,19,22,25]])}))),function(){return r.apply(this,arguments)})},{key:"checkTaskInfo",value:(t=v()(g().mark((function e(){var t,r,n,i,o,a,s,c,u,l,p=this,f=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:this.taskParam,e.prev=1,!this.isCheckInfoLock){e.next=4;break}return e.abrupt("return");case 4:return this.isCheckInfoLock=!0,e.next=7,(0,U.oh)(t);case 7:if(r=e.sent,n=r.mission_status,i=r.gain_times,o=r.upper_limit,a=r.fairy_coin_reward,s=r.track_log_fields,c=r.order_reward_coefficient,u=r.reward_coefficient,l=r.first_charge_with_one_day,!n){e.next=12;break}return(0,B.runInAction)((function(){p.status=n,p.gainTimes=i,p.upperLimit=o,a&&(p.coinAmount=a),s&&(p.ad=s),p.orderRewardCoefficient=c,p.firstChargeWithOneDay=l,u&&(p.rewardCoefficient=u)})),e.abrupt("return",r);case 12:this.sendError("task checkTaskInfo error, type: ".concat(this.type,", status: ").concat(this.status,", params: ").concat(JSON.stringify(t),", api result: ").concat(JSON.stringify(r))),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(1),this.sendError(e.t0),e.abrupt("return",W.pb);case 19:return e.prev=19,this.isCheckInfoLock=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[1,15,19,22]])}))),function(){return t.apply(this,arguments)})},{key:"setTaskProcess",value:function(e){this.isProcessing=e}}]),y}(j.Z),i=M()(n.prototype,"title",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=M()(n.prototype,"startText",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"去完成"}}),a=M()(n.prototype,"status",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=M()(n.prototype,"iconUrl",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=M()(n.prototype,"coinAmount",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=M()(n.prototype,"nutritionRewardNum",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=M()(n.prototype,"upperLimit",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),p=M()(n.prototype,"gainTimes",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=M()(n.prototype,"orderRewardCoefficient",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=M()(n.prototype,"firstChargeWithOneDay",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=M()(n.prototype,"rewardCoefficient",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M()(n.prototype,"needShowTaskAwardIncrease",[B.computed],Object.getOwnPropertyDescriptor(n.prototype,"needShowTaskAwardIncrease"),n.prototype),M()(n.prototype,"coinFormatString",[B.computed],Object.getOwnPropertyDescriptor(n.prototype,"coinFormatString"),n.prototype),M()(n.prototype,"baseItemLogInfo",[B.computed],Object.getOwnPropertyDescriptor(n.prototype,"baseItemLogInfo"),n.prototype),M()(n.prototype,"missionStatus",[B.computed],Object.getOwnPropertyDescriptor(n.prototype,"missionStatus"),n.prototype),M()(n.prototype,"btnText",[B.computed],Object.getOwnPropertyDescriptor(n.prototype,"btnText"),n.prototype),M()(n.prototype,"itemEntryAfterLimit",[B.computed],Object.getOwnPropertyDescriptor(n.prototype,"itemEntryAfterLimit"),n.prototype),M()(n.prototype,"isReachLimit",[B.computed],Object.getOwnPropertyDescriptor(n.prototype,"isReachLimit"),n.prototype),M()(n.prototype,"isToStart",[B.computed],Object.getOwnPropertyDescriptor(n.prototype,"isToStart"),n.prototype),M()(n.prototype,"isToGetAward",[B.computed],Object.getOwnPropertyDescriptor(n.prototype,"isToGetAward"),n.prototype),n)},16044:function(e,t,r){"use strict";r.d(t,{Q_:function(){return s},AQ:function(){return i},As:function(){return l},iH:function(){return p},i6:function(){return f},pb:function(){return d},Ck:function(){return h},vz:function(){return m},LF:function(){return g},OJ:function(){return y},Sf:function(){return v},u6:function(){return b},LV:function(){return _},S1:function(){return k},Zg:function(){return c},T7:function(){return u},h3:function(){return w}});var n,i,o=r(49304),a=r.n(o),s={INIT_START:1,FINISH_NOT_GAIN:3,FINISH_START:4,FINISH_UPPER:5};!function(e){e.dailySignMission="dailySignMission",e.cashDailySignMission="cashDailySignMission",e.gardenWateringMission="gardenWateringMission",e.receiveCouponMission="receiveCouponMission",e.orderTotalMoneyMission="orderTotalMoneyMission",e.goodsOrderMission="goodsOrderMission",e.multipleOrderTotalPayMission="multipleOrderTotalPayMission",e.commonMission="commonMission",e.browsingMission="browsingMission",e.assistMission="assistMission",e.duoDuoHealthMission="duoDuoHealthMission",e.daySignMission="daySignMission",e.liveRoomWatchMission="liveRoomWatchMission",e.orderInTargetPageMission="orderInTargetPageMission"}(i||(i={}));var c,u,l={GO_TO_TASK:0,RECEIVE:1,DEFAULT:2},p=1e4,f=10019,d={success:!1},h={GAIN_FAIL:"领取失败",DEFAULT:"稍后再试试~"},m={10011:"领取失败~"},g="明日再来",y="领取奖励",v=2e3,b={TASK_FORWARD:"task_forward",MISSION_ID:"refer_task_id",MODULE_ID:"refer_mdl_id",OC_TAG:"_oc_promotion_tag",POPUP_MODULE_ID:"_x_popup_module_id",POPUP_MISSION_ID:"_x_popup_mission_id"},_=function(e){return"/promotion/keywords_game.html?type=52&id=".concat(e,"&_pdd_fs=1&_pdd_tc=ffffff&_pdd_sbs=1")},k={HTJ_ORDER_PAGE:{"13046-1":"5973","13046-2":"5973","13046-3":"5975"},HTJ_BROWSE_PAGE:{"13043-1":"5977","13043-2":"5977","13043-3":"5974"},ORDER_PAGE:{"14366-1":"163792","14366-2":"163792","14366-3":"163793"},BROWSE_PAGE:{"14364-1":"163794","14364-2":"163794","14364-3":"163795"}};!function(e){e[e.Aggregation=1]="Aggregation",e[e.Mall=2]="Mall",e[e.Talent=3]="Talent"}(c||(c={})),function(e){e[e.Normal=0]="Normal",e[e.Talent=1]="Talent",e[e.Surrogates=2]="Surrogates"}(u||(u={}));var w=(n={},a()(n,u.Normal,c.Mall),a()(n,u.Talent,c.Talent),a()(n,u.Surrogates,c.Mall),n)},44302:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(49304),i=r.n(n),o=r(46461),a=r.n(o),s=r(85114),c=r.n(s),u=r(16525),l=r.n(u),p=r(82482),f=r.n(p),d=r(6899),h=r.n(d),m=r(90529),g=r.n(m),y=r(71988),v=r.n(y),b=r(54612),_=r.n(b),k=r(11809),w=r.n(k),S=r(71831),O=r.n(S),I=r(18749),A=r(89378),T=r(15696),C=r(66723),E=r(16044),P=r(50318),R=r(94753);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}var N,L=function(e){f()(n,e);var t,r=D(n);function n(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return a()(this,n),(e=r.call(this,t,i,o)).toSkinOrderPage=void 0,Object.assign(O()(e),t),e}return c()(n,[{key:"useNewTaskPage",get:function(){var e;return null===(e=this.taskListStore.parentStore)||void 0===e?void 0:e.useNewTaskPage}}]),c()(n,[{key:"handleTaskStage",value:(t=w()(_().mark((function e(){var t,r,n,i=arguments;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},r=t.pageElSn,n=void 0===r?void 0:r,!this.isToStart){e.next=5;break}return I.ZP.isNativePlatform&&this.setTaskProcess(!0),this.handleTaskStartAction(void 0,void 0,n),e.abrupt("return");case 5:if(!this.isToGetAward){e.next=10;break}return e.next=8,this.getAward();case 8:return this.setTaskProcess(!1),e.abrupt("return");case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_appendTaskQuery",value:function(e,t,r,n){var o;return(0,P.appendQuery)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}((o={},i()(o,A.u6.MISSION_ID,this.id),i()(o,A.u6.MODULE_ID,this.taskListStore.moduleId),i()(o,"skinType",t),i()(o,"skin_order",r),o),n),e)}},{key:"_navigationToTaskPage",value:function(e,t,r){var n,o,a=this.targetUrl.indexOf("?"),s=(this.rootStore||{}).skinExportType,c=2552===this.taskListStore.moduleId,u="".concat(this.id,"-").concat(s),l=c?E.S1.HTJ_ORDER_PAGE[u]:E.S1.ORDER_PAGE[u],p=(0,E.LV)(l);return p=this.store.handleCommonLandingPage(p,this.targetUrl,this),(null==t?void 0:t.preview_skin)&&this.store.leoConfig.skinMainOrderUrl&&(p=this.store.leoConfig.skinMainOrderUrl),-1!==a&&l&&this.useNewTaskPage?(p=(0,P.appendQuery)((0,R.mB)(this.targetUrl),p),o=this._appendTaskQuery(p,void 0,void 0,t)):o=this._appendTaskQuery(this.targetUrl,s,e,t),C.ZP.forward(o,(n={},i()(n,A.u6.TASK_FORWARD,1),i()(n,"page_el_sn",r),n))}},{key:"handleTaskStartAction",value:function(e,t,r){this.setTaskProcess(!0),this.toSkinOrderPage=!!e,this._navigationToTaskPage(e,t,r)}}]),n}(T.Z),M=r(63791);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}var j=(N=function(e){f()(r,e);var t=G(r);function r(){return a()(this,r),t.apply(this,arguments)}return c()(r,[{key:"handleTaskStartAction",value:function(e,t,n){var i,o;return this.store.canMainOrderGainSkin&&this.id===(null===(i=this.taskListStore.getParent())||void 0===i||null===(o=i.mainOrderTaskStore)||void 0===o?void 0:o.id)&&(t=F(F({},t),{},{preview_skin:4})),l()(g()(r.prototype),"handleTaskStartAction",this).call(this,this.isShowTip?1:e,t,n)}},{key:"isShowTip",get:function(){return!1}},{key:"topBannerTips",get:function(){return this.orderGainTips?"下单可得全新皮肤":""}},{key:"orderGainTips",get:function(){return this.id===this.rootStore.leoForMission.mainOrderMissionId&&this.rootStore.canMainOrderGainSkin?"金牌季皮肤":""}}]),r}(L),v()(N.prototype,"isShowTip",[M.computed],Object.getOwnPropertyDescriptor(N.prototype,"isShowTip"),N.prototype),v()(N.prototype,"topBannerTips",[M.computed],Object.getOwnPropertyDescriptor(N.prototype,"topBannerTips"),N.prototype),v()(N.prototype,"orderGainTips",[M.computed],Object.getOwnPropertyDescriptor(N.prototype,"orderGainTips"),N.prototype),N)},71382:function(e,t,r){"use strict";r.d(t,{A:function(){return Be},Z:function(){return je}});var n=r(54612),i=r.n(n),o=r(11809),a=r.n(o),s=r(80819),c=r.n(s),u=r(66393),l=r.n(u),p=r(46461),f=r.n(p),d=r(71831),h=r.n(d),m=r(85114),g=r.n(m),y=r(82482),v=r.n(y),b=r(6899),_=r.n(b),k=r(90529),w=r.n(k),S=r(71988),O=r.n(S),I=(r(52745),r(49304)),A=r.n(I),T=r(63791),C=r(32058),E=r(78313),P=r(44449),R=r(44302),x=r(15696),D=r(94753),N=r(25031),L=r(132),M=r(15903),B=r(16044),F=r(21403),G=r(91963);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){A()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w()(e);if(t){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _()(this,r)}}var Z,H,K=function(e){v()(o,e);var t,r,n=W(o);function o(){return f()(this,o),n.apply(this,arguments)}return g()(o,[{key:"handleTaskStage",value:(r=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isToStart){e.next=2;break}return e.abrupt("return",this.showShareMask());case 2:if(!this.isToGetAward){e.next=7;break}return e.next=5,this.getAward();case 5:this.checkTaskInfo(),this.setTaskProcess(!1);case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"showShareMask",value:function(){this.baseShareStore.showShare&&this.baseShareStore.showShare({assist_type:F.Pg.ASSIST_TASK,shareTitle:"每成功邀请1位好友助力，可得<span>".concat((0,G.n)(this.coinAmount).valueStr,"</span>金币")})}},{key:"handleAssist",value:(t=a()(i().mark((function e(){var t,r,n,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.rootStore.queries,r=t.invitor_uin,n=t.assist_type,!r||n!==F.Pg.ASSIST_TASK){e.next=10;break}return e.next=4,this.setTaskAchieve(U(U({},this.taskParam),{},{uin:r}),!0);case 4:o=e.sent,a=null==o?void 0:o.code,(s=M.sX[a])&&(0,L.Z)(s),(0,N.replaceQuery)({invitor_uin:"",assist_type:""}),(0,D.WV)({invitor_uin:"",assist_type:""});case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"baseShareStore",get:function(){return this.rootStore.shareStore||{}}},{key:"expectedCodeMap",get:function(){var e;return U((e={},A()(e,B.iH,"助力成功~"),A()(e,10015,"好友的助力任务完成次数已达上限~"),A()(e,10016,"不能自己助力自己~"),e),M.sX)}}]),o}(x.Z),z=r(26671),q=r(41013);function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w()(e);if(t){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _()(this,r)}}var V=(Z=(0,E.P)(B.Sf),H=function(e){v()(n,e);var t,r=Y(n);function n(){return f()(this,n),r.apply(this,arguments)}return g()(n,[{key:"handleTaskStage",value:(t=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isToStart){e.next=5;break}return e.next=3,this.setTaskAchieve();case 3:return e.next=5,this.getAward(this.taskParam,!1);case 5:if(!this.isToGetAward){e.next=8;break}return e.next=8,this.getAward();case 8:this.store.canTryGiveNewUserCoupon=!0;case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}(x.Z),O()(H.prototype,"handleTaskStage",[Z,q.d],Object.getOwnPropertyDescriptor(H.prototype,"handleTaskStage"),H.prototype),H),X=r(24362),Q=r(50359);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w()(e);if(t){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _()(this,r)}}var $,ee,te,re,ne,ie,oe,ae,se,ce,ue,le,pe,fe=function(e){v()(c,e);var t,r,n,o,s=J(c);function c(){return f()(this,c),s.apply(this,arguments)}return g()(c,[{key:"checkEntryTaskAchieve",value:(o=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.rootStore.queries.is_search_mission&&!this.isReachLimit){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.handleSearchChange();case 5:return e.next=7,this.setTaskAchieve();case 7:this.checkTaskInfo(),(0,N.replaceQuery)({is_search_mission:""}),(0,D.WV)({is_search_mission:""});case 10:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"checkSearchGuide",value:(n=a()(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,X.H5)({});case 3:if(t=e.sent,"boolean"==typeof(r=t.show_search_guide)){e.next=7;break}throw new Error("querySearchGuideService result illegal");case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),this.rootStore.sendError(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return n.apply(this,arguments)})},{key:"handleTaskStage",value:(r=a()(i().mark((function e(){var t,r,n,o=this,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},r=t.pageElSn,n=void 0===r?null:r,!this.isToStart){e.next=8;break}return this.setTaskProcess(!0),e.next=5,this.checkSearchGuide();case 5:return e.sent?(this.rootStore.taskListStore.setSearchInfo(this.coinAmount,(function(){o.handleNavigation(n)})),this.rootStore.howToSearchDialogStore.showAction()):this.handleNavigation(n),e.abrupt("return");case 8:if(!this.isToGetAward){e.next=11;break}return this.setTaskProcess(!1),e.abrupt("return",this.getAward());case 11:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"handleSearchChange",value:(t=a()(i().mark((function e(){var t,r,n,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="duo_sprite_has_show_search_change_tips_x",r=this.rootStore.userType,n=this.rootStore.queries||{},o=n.is_search_mission,a=(0,Q.$o)(t),e.next=6,this.checkSearchGuide();case 6:s=e.sent,o!==F.YS.CALF||r===F.$A.NEWER_USER||s||a||(this.rootStore.searchChangeDialogStore.showAction(),(0,Q.m8)(t,1));case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),c}(P.Z),de=r(93175),he=r(38377),me=r(69435);function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w()(e);if(t){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _()(this,r)}}var ye,ve,be,_e,ke,we,Se={41142:"领取时间已过，请下次再来~"},Oe=($=(0,z.Y)((function(e,t){(0,me.info)(M.Ck)})),ee=(0,z.Y)((function(e,t){Se[null==e?void 0:e.errorCode]?(0,me.info)(Se[e.errorCode]):(0,me.info)(M.Ck)})),te=function(e){v()(o,e);var t,r,n=ge(o);function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return f()(this,o),e=n.call(this,null,t),c()(e,"fairyCoinReward",re,h()(e)),c()(e,"canAcquire",ne,h()(e)),c()(e,"todayOver",ie,h()(e)),c()(e,"nextAcquireTime",oe,h()(e)),c()(e,"title",ae,h()(e)),c()(e,"content",se,h()(e)),c()(e,"fairyCoinBonus",ce,h()(e)),c()(e,"isQuerySuccess",ue,h()(e)),c()(e,"taskId",le,h()(e)),c()(e,"hideMission",pe,h()(e)),e.getParent=r,e}return g()(o,[{key:"queryThreeMealsSignTask",value:(r=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,X.Z$)();case 2:if(t=e.sent){e.next=6;break}throw this.isQuerySuccess=!1,new Error("queryThreeMealsSignTask error: ".concat(JSON.stringify(t)));case 6:return(0,T.runInAction)((function(){var e=t.fairy_coin_reward,n=t.can_draw,i=t.today_over,o=t.next_draw_time,a=t.content,s=t.title,c=t.mission_id,u=t.hide_mission;r.fairyCoinReward=e,r.canAcquire=n,r.todayOver=i,r.nextAcquireTime=o,r.content=a,r.title=s,r.taskId=c,r.hideMission=u,r.isQuerySuccess=!0})),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"achieveThreeMealsSignTask",value:(t=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,X._7)();case 2:if(t=e.sent){e.next=5;break}throw new Error("achieveThreeMealsSignTask error: ".concat(JSON.stringify(t)));case 5:return(0,T.runInAction)((function(){var e=t.fairy_coin_bonus;r.fairyCoinBonus=e})),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"showTreasure",value:function(){var e=this.rootStore.mealsCheckInDialogStore;e&&(e.setProperties(this.fairyCoinBonus,this.nextAcquireTime),e.showTreasure())}},{key:"rootStore",get:function(){return this.getRoot()}},{key:"parentStore",get:function(){return this.getParent()}},{key:"waitForNextTime",get:function(){return!this.todayOver&&!this.canAcquire&&this.nextAcquireTime}},{key:"isFinished",get:function(){return this.todayOver}},{key:"showTaskInFirstOne",get:function(){return this.isQuerySuccess&&!this.isFinished&&!this.hideMission}},{key:"showTaskInLastOne",get:function(){return this.isQuerySuccess&&this.isFinished&&!this.hideMission}}]),o}(he.Z),re=O()(te.prototype,"fairyCoinReward",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=O()(te.prototype,"canAcquire",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ie=O()(te.prototype,"todayOver",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=O()(te.prototype,"nextAcquireTime",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=O()(te.prototype,"title",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),se=O()(te.prototype,"content",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ce=O()(te.prototype,"fairyCoinBonus",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ue=O()(te.prototype,"isQuerySuccess",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=O()(te.prototype,"taskId",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=O()(te.prototype,"hideMission",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O()(te.prototype,"waitForNextTime",[T.computed],Object.getOwnPropertyDescriptor(te.prototype,"waitForNextTime"),te.prototype),O()(te.prototype,"isFinished",[T.computed],Object.getOwnPropertyDescriptor(te.prototype,"isFinished"),te.prototype),O()(te.prototype,"showTaskInFirstOne",[T.computed],Object.getOwnPropertyDescriptor(te.prototype,"showTaskInFirstOne"),te.prototype),O()(te.prototype,"showTaskInLastOne",[T.computed],Object.getOwnPropertyDescriptor(te.prototype,"showTaskInLastOne"),te.prototype),O()(te.prototype,"queryThreeMealsSignTask",[$],Object.getOwnPropertyDescriptor(te.prototype,"queryThreeMealsSignTask"),te.prototype),O()(te.prototype,"achieveThreeMealsSignTask",[ee],Object.getOwnPropertyDescriptor(te.prototype,"achieveThreeMealsSignTask"),te.prototype),te);function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w()(e);if(t){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _()(this,r)}}var Ae,Te,Ce,Ee,Pe,Re,xe,De=(ye=function(e){v()(o,e);var t,r,n=Ie(o);function o(e,t){var r;return f()(this,o),(r=n.call(this,null,e)).getParent=void 0,c()(r,"progress_reward_stage_list",ve,h()(r)),c()(r,"achieved_mission_count",be,h()(r)),c()(r,"order_progress_reward_stage_list",_e,h()(r)),c()(r,"order_achieved_mission_count",ke,h()(r)),c()(r,"is_new_user",we,h()(r)),r.isAwardLock=void 0,r.getParent=t,r}return g()(o,[{key:"init",value:(r=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.rootStore.abTestStore.showTaskSchedule){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,(0,X.Lo)({});case 5:t=e.sent,(0,T.runInAction)((function(){r.achieved_mission_count=t.achieved_mission_count||0,r.progress_reward_stage_list=t.progress_reward_stage_list||[],r.order_achieved_mission_count=t.order_achieved_mission_count||0,r.order_progress_reward_stage_list=t.order_progress_reward_stage_list||[],r.is_new_user=t.is_new_user||0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.sendError(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(){return r.apply(this,arguments)})},{key:"setTaskAchieve",value:(t=a()(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,X.gY)(t);case 3:if(r=e.sent,n=r.code,r.finish&&n===B.iH){e.next=8;break}throw(0,me.info)(B.Ck.DEFAULT),new Error("task setTaskAchieve error, params: ".concat(JSON.stringify(t),", api result: ").concat(JSON.stringify(r)));case 8:return(0,me.info)("领取成功~"),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),this.sendError(e.t0);case 15:return e.prev=15,e.next=18,this.init();case 18:return e.finish(15);case 19:case"end":return e.stop()}}),e,this,[[0,12,15,19]])}))),function(e){return t.apply(this,arguments)})}]),o}(he.Z),ve=O()(ye.prototype,"progress_reward_stage_list",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=O()(ye.prototype,"achieved_mission_count",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=O()(ye.prototype,"order_progress_reward_stage_list",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=O()(ye.prototype,"order_achieved_mission_count",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=O()(ye.prototype,"is_new_user",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O()(ye.prototype,"setTaskAchieve",[q.d],Object.getOwnPropertyDescriptor(ye.prototype,"setTaskAchieve"),ye.prototype),ye);function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){A()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w()(e);if(t){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _()(this,r)}}var Be=(Ae={},A()(Ae,B.AQ.browsingMission,P.Z),A()(Ae,B.AQ.receiveCouponMission,P.Z),A()(Ae,B.AQ.commonMission,fe),A()(Ae,B.AQ.multipleOrderTotalPayMission,R.Z),A()(Ae,B.AQ.orderTotalMoneyMission,R.Z),A()(Ae,B.AQ.assistMission,K),A()(Ae,B.AQ.cashDailySignMission,P.Z),A()(Ae,B.AQ.gardenWateringMission,P.Z),A()(Ae,B.AQ.duoDuoHealthMission,P.Z),A()(Ae,B.AQ.dailySignMission,V),A()(Ae,B.AQ.liveRoomWatchMission,P.Z),A()(Ae,B.AQ.orderInTargetPageMission,R.Z),Ae),Fe=[{id:15574,filter:function(e){var t=(null==e?void 0:e.$$commonData.userAgent)||"";return!(t.includes("vivo")&&t.includes("Chrome/68.0.3440.91"))}}],Ge={salt:"cp18355",bucketCount:100,defaultModel:"B",models:{A:{whiteList:[],blackList:[],buckets:50},B:{whiteList:[],blackList:[],buckets:100}}},je=(Te=(0,E.P)(B.Sf),Ce=T.action.bound,Ee=function(e){v()(s,e);var t,r,n,o=Me(s);function s(e,t,r){var n;f()(this,s);var i=e.moduleId;return(n=o.call(this,Le(Le({},e),{},{moduleId:+i}),t,r)).mealsCheckInTaskStore=void 0,c()(n,"scheduleTaskStore",Pe,h()(n)),c()(n,"isStrategyA",Re,h()(n)),c()(n,"getAwardSuccessCb",xe,h()(n)),n.TaskStoreMap=Be,n.getAbTest(),n}return g()(s,[{key:"taskItemFilter",value:function(e){var t=Fe.find((function(t){return t.id===e.id}));return!t||t.filter(this.rootStore)}},{key:"awardList",get:function(){return this.isStrategyA?[{pic_url:"//promotion.pddpic.com/promo/2020-10-16/4b1f5603-cb43-4809-9033-528d09a9638a.png.slim.png"},{pic_url:"//promotion.pddpic.com/promo/2020-10-16/978e6ff7-8e4d-461f-ae13-0b0c77ad3317.png.slim.png"},{pic_url:"//promotion.pddpic.com/promo/2020-10-16/9a8bd245-509c-483e-995f-788f44c6085e.png.slim.png"}]:[{pic_url:"//promotion.pddpic.com/promo/2020-10-16/546a9a3a-c9c8-495d-ae09-ee24ce045507.jpeg"},{pic_url:"//promotion.pddpic.com/promo/2020-10-16/978e6ff7-8e4d-461f-ae13-0b0c77ad3317.png.slim.png"},{pic_url:"//promotion.pddpic.com/promo/2020-10-16/9a8bd245-509c-483e-995f-788f44c6085e.png.slim.png"}]}},{key:"finalTaskList",get:function(){var e=this,t=this.taskList.filter((function(e){return e.isReachLimit})),r=this.taskList.filter((function(e){return!e.isReachLimit})),n=[].concat(l()(r),l()(t));return Fe?n.filter((function(t){return e.taskItemFilter(t)})):n}}]),g()(s,[{key:"getAbTest",value:function(){var e=this.rootStore.userId,t=this.rootStore.queries.ab_test?"".concat(this.rootStore.queries.ab_test).toUpperCase():(0,de.Z)(Ge,e);this.isStrategyA="A"===t}},{key:"initTaskListData",value:(n=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return t=e.sent,this.initSubStore({taskList:t}),e.next=6,Promise.all([this.mealTaskInit(),this.scheduleTaskInit()]);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"mealTaskInit",value:(r=a()(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mealsCheckInTaskStore){e.next=4;break}this.mealsCheckInTaskStore=new Oe((function(){return t.rootStore}),(function(){return t})),e.next=6;break;case 4:return e.next=6,this.mealsCheckInTaskStore.queryThreeMealsSignTask();case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"scheduleTaskInit",value:(t=a()(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.scheduleTaskStore||(this.scheduleTaskStore=new De((function(){return t.rootStore}),(function(){return t}))),e.next=3,this.scheduleTaskStore.init();case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"showAction",value:function(){this.isShow=!0}},{key:"logBase",get:function(){return{module_id:this.moduleId}}}]),s}(C.Z),Pe=O()(Ee.prototype,"scheduleTaskStore",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=O()(Ee.prototype,"isStrategyA",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O()(Ee.prototype,"awardList",[T.computed],Object.getOwnPropertyDescriptor(Ee.prototype,"awardList"),Ee.prototype),O()(Ee.prototype,"finalTaskList",[T.computed],Object.getOwnPropertyDescriptor(Ee.prototype,"finalTaskList"),Ee.prototype),O()(Ee.prototype,"initTaskListData",[Te],Object.getOwnPropertyDescriptor(Ee.prototype,"initTaskListData"),Ee.prototype),O()(Ee.prototype,"scheduleTaskInit",[T.action],Object.getOwnPropertyDescriptor(Ee.prototype,"scheduleTaskInit"),Ee.prototype),O()(Ee.prototype,"showAction",[Ce],Object.getOwnPropertyDescriptor(Ee.prototype,"showAction"),Ee.prototype),xe=O()(Ee.prototype,"getAwardSuccessCb",[z.Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return a()(i().mark((function t(){var r,n,o,a,s=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>0&&void 0!==s[0]?s[0]:{},n=e.parentStore.awardTipsText,t.next=4,e.rootStore.callMainQuery();case 4:o="",r.coin_bonus>0&&(o=n.replace("${n}",(0,G.n)(r.coin_bonus).valueStr)),r.order_reward_coefficient>1&&o&&(o+=",已翻倍"),o&&((0,L.Z)(o),null===(a=e.rootStore.gameStore.audioManager)||void 0===a||a.playCollectCoin()),r.coupon_vo&&(e.parentStore.setAwardCoupon(r.coupon_vo),e.rootStore.taskCouponDialogStore.showAction()),e.scheduleTaskInit();case 10:case"end":return t.stop()}}),t)})))}}),Ee)},15903:function(e,t,r){"use strict";r.d(t,{oh:function(){return l},R4:function(){return o},rG:function(){return p},sX:function(){return f},Ck:function(){return d},Y3:function(){return h}});var n,i,o,a=r(49304),s=r.n(a),c=r(16044),u=r(93358),l="yearBrowseMissionComplete";!function(e){e[e.TASK=0]="TASK",e[e.TASK_MYSTERY_SHOP=1]="TASK_MYSTERY_SHOP",e[e.TASK_ITEM=2]="TASK_ITEM"}(o||(o={}));var p=(n={},s()(n,o.TASK,u.MQ.sectionPageElSn),s()(n,o.TASK_MYSTERY_SHOP,u.MQ.EL_MYSTERY),s()(n,o.TASK_ITEM,u.MQ.EL_3436624),n),f=(i={},s()(i,c.iH,"助力成功~"),s()(i,10023,"当日助力次数已达上限~"),s()(i,10017,"您今天已经助力过该好友啦~"),s()(i,10015,"该好友今天被助力次数已达上限~"),s()(i,10016,"不能为自己助力哦~"),i),d="活动太火爆了稍后再来~",h="//promotion.pddpic.com/promo/2020-04-06/13dc8d91-d4da-4528-bba0-b564dc109c1b.png"},58507:function(e,t,r){"use strict";var n=r(49304),i=r.n(n),o=r(81812);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=s(s({DEFAULT_ITEM_ICON:"04110cdc-dfd6-4059-a96c-c9c8b96694ea.png.slim.png",BTN_DO_TASK:"2020-08-12/428dee71-df27-4230-b642-9fb53cbc7d41.png.slim.png",BTN_AWARD:"2020-08-12/7e67cc2e-f7d4-4098-a100-629df7621df2.png.slim.png",BTN_LIMIT:"2020-08-12/a36cf4a8-693c-491d-ac7d-cc1d1be6d3c2.png.slim.png",ITEM_BG:"2020-08-12/ffb1723f-dacd-43c1-aa80-c060bbaeac06.png.slim.png",AWARD_ICON:"2020-08-12/b3824a2d-11ee-4f53-a5bd-3acdc428eee5.png.slim.png",UPGRADE_BG:"2020-08-12/ae646cfb-b1d1-4734-9a1c-4ef1e54b4751.png.slim.png",BG:"86032c19-7d29-4134-9a5d-b05722085fd8.png.slim.png",MYSTERY_COMING_BG:"2020-10-12/d4fc4988-2acd-406a-a7f6-81bc0c755366.png",MYSTERY_BG:"2020-10-12/3297b191-d8ce-4f77-9f49-52e8257c746f.png",BOTTOM_TIPS:"2020-09-03/7ece5966-912f-4e90-a69d-debb4094bf40.png.slim.png",CHECK_BG:"2020-05-13/5ac04916-2490-465e-b1ab-9e973b0f0841.png",CHECK_BTN_DO:"2020-05-13/3e958eca-2f41-47d1-b993-0cb60b9543d5.png",CHECK_BTN_LIMIT:"2020-05-13/72481867-1121-4b7b-9579-0ecdd182631e.png",CHECK_PROGRESS:"2020-05-13/2d59f660-a8c2-463e-a219-5b99bbdcaa18.png",CHECK_STAR:"2020-05-13/3444ad82-6f1d-4344-949c-48bc77225375.png",CHECK_STAR_FINISH:"2020-05-13/99b94052-b49e-419a-ab88-33895cf03aac.png",CHECK_TIPS_ICON:"2020-05-13/4cb02fbf-4802-4b48-a14e-4c19c39fedda.png",CHECK_TIPS_END:"2020-05-13/e759e0f1-c9ce-417f-973d-474848ecae36.png",DIALOG_CLOSE_BTN:"2020-06-22/f9f483f9-090e-4082-b291-bf29848aa861.png.slim.png",CAKE_ICON:"2020-09-13/9ff362b6-1687-44c3-8251-9c48f927f678.png.slim.png",SCHEDULE_SPRITE:"4c01cb6a-9987-4a26-8ce3-0748d37433bc.png.slim.png"},{BG_3:"2020-12-28/7ef55c92-6468-4ed8-9677-ffc62484126e.png.slim.png",BTN_DO_TASK_3:"2020-12-28/3ec06bc2-3378-4cb6-8b3c-f1a475094ae0.png.slim.png",BTN_AWARD_3:"2020-12-28/daac0b38-efb0-4957-af85-1587e8994234.png.slim.png",BTN_LIMIT_3:"2020-12-28/d9be5784-2982-46a7-9127-9eb2421e56fa.png.slim.png",ITEM_BG_3:"e2c17aa3-9e95-4248-96c6-af86c2dbbea6.png.slim.png",BTN_CLOSE_3:"2020-12-28/7bb5856d-5b3d-4b8d-9f4a-a5f03879c4af.png.slim.png",UPGRADE_BG_3:"2021-01-04/13cd15fd-ad19-412d-876c-47063ca48705.png.slim.png",TOP_BANNER_TIPS:"2021-01-04/efdfa05f-8635-44d5-836e-1d9fe1d6e1b1.png.slim.png",SP_ITEM_BG:"1bef37dd-1cc5-41df-9363-6739d905efa9.png.slim.png",SP_AWARD_COIN_BG:"2021-01-28/5e439b76-f58c-4a50-9492-850e20aaf19d.png.slim.png"}),{SCHEDULE_4:"https://promotion.pddpic.com/promo/e9efb9bd-f1c9-4c29-b309-5d0bb61a7957.png",SCHEDULE_4_V1:"https://genimg.pddpic.com/upload/promo/05b5a753-7d46-49f6-b535-dad410bbbe5c.png.slim.png"});Object.assign(c,(0,o.Z)(c)),t.Z=c},28218:function(e,t,r){"use strict";var n,i,o,a,s,c,u,l,p,f,d,h,m,g,y=r(94255),v=r.n(y),b=r(54612),_=r.n(b),k=r(11809),w=r.n(k),S=r(80819),O=r.n(S),I=r(49304),A=r.n(I),T=r(46461),C=r.n(T),E=r(71831),P=r.n(E),R=r(85114),x=r.n(R),D=r(82482),N=r.n(D),L=r(6899),M=r.n(L),B=r(90529),F=r.n(B),G=r(71988),j=r.n(G),U=(r(52745),r(63791)),W=r(38377),Z=r(71382),H=r(16044),K=r(15903),z=r(78313),q=r(41013),Y=r(50318),V=r(90401),X=r(78231),Q=r(58507),J=r(27484),$=r.n(J),ee=r(87318);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){A()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=F()(e);if(t){var i=F()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return M()(this,r)}}function ie(e){return{textShadow:"-1px -1px 1px ".concat(e,", 1px -1px 1px ").concat(e,", -1px 1px 1px ").concat(e,", 1px 1px 1px ").concat(e)}}var oe=(n=(0,z.P)(1e3),i=function(e){N()(n,e);var t,r=ne(n);function n(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};C()(this,n),e=r.call(this,t),O()(e,"minVersion",o,P()(e)),O()(e,"updateTips",a,P()(e)),O()(e,"closeIconUrl",s,P()(e)),O()(e,"awardTipsText",c,P()(e)),O()(e,"scoreComponentId",u,P()(e)),O()(e,"awardText",l,P()(e)),O()(e,"awardIconUrl",p,P()(e)),O()(e,"useShare",f,P()(e)),O()(e,"useLazyInit",d,P()(e)),O()(e,"coupon",h,P()(e)),O()(e,"display",m,P()(e)),e.referElSn=void 0,e.useNewTaskPage=!1,e.searchInfo={},e.bottomTips=void 0,e.$taskListStore=void 0,e._checkInDialogStore=void 0,e._couponDialogStore=void 0,O()(e,"hideAction",g,P()(e)),e.setSearchInfo=function(t,r){e.searchInfo={goSearch:r,reward:t}};var i=t.moduleId,y=t.degrade;return(0,U.set)(P()(e),{$taskListStore:new Z.Z({moduleId:i},(function(){return e.getRoot()}),(function(){return P()(e)})),_checkInDialogStore:new V.Z,_couponDialogStore:new V.Z,useLazyInit:y}),e.useLazyInit&&e.useShare&&(e.rootStore.needHideNativeShareButton=!0),e.useNewTaskPage=!0,e}return x()(n,[{key:"skinUseCommon",get:function(){return!0}},{key:"isSkin3",get:function(){return!1}},{key:"bgUrl",get:function(){return this.commonStyle.bgUrl}},{key:"itemBg",get:function(){return this.commonStyle.itemBg}},{key:"btnUIConfigs",get:function(){return this.commonStyle.btnUIConfigs}},{key:"commonStyle",get:function(){var e;return{bgUrl:"https://promotion.pddpic.com/promo/804f26f6-0477-4722-be62-a0b699e04fda.png.slim.png",btnUIConfigs:(e={},A()(e,H.As.GO_TO_TASK,re({backgroundImage:"https://promotion.pddpic.com/promo/618c8d11-db3b-45ca-a76c-40154349633c.png.slim.png"},ie("#E02507"))),A()(e,H.As.RECEIVE,re({backgroundImage:"https://promotion.pddpic.com/promo/a63cc6e2-7768-4952-8aea-01ec917d6ff2.png.slim.png"},ie("#22A148"))),A()(e,H.As.DEFAULT,{backgroundImage:"https://promotion.pddpic.com/promo/a3119d07-5b87-494a-8bbc-059c2a3e4cac.png.slim.png",color:"#C47740"}),e),itemBg:"https://promotion.pddpic.com/promo/c750ffd4-aa1e-498d-a19f-99fdc5dd12be.png.slim.png",spItemBg:"https://promotion.pddpic.com/promo/5213d6e9-1e3d-41a6-bd69-03dccd70b87a.png.slim.png",content:{paddingTop:"0.69rem",spPaddingBottom:".85rem"},title:{text:"精灵等级越高 任务奖励越多"},item:{width:"3.53rem",height:".555rem",marginBottom:".025rem"},itemTitle:{color:"#8F5F49",fontSize:".15rem"},itemTitleSpColor:"#ED371D",itemContentSpColor:"#ED371C",itemContent:{color:"#CD8D79",fontSize:".12rem",maxWidth:"2.53rem",width:"2.53rem"},itemBtn:{width:".72rem",height:".29rem",fontSize:".15rem",paddingBottom:"0"},coin:{color:"#EF1E07",fontSize:".13rem"},updateTips:{color:"#FDF4D9",fontSize:".13rem",backgroundImage:"https://promotion.pddpic.com/promo/524ee495-12c8-4f2c-8f21-1211cd4fd5b1.png.slim.png",bottom:".32rem"}}}}]),x()(n,[{key:"setReferElSn",value:function(e){this.referElSn=e}},{key:"showAction",value:(t=w()(_().mark((function e(){var t;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.display=!0,this.$taskListStore.taskList.length){e.next=7;break}return e.next=5,this.$taskListStore.initTaskListData();case 5:return e.next=7,(0,X._v)(0);case 7:return e.next=9,null===(t=this.$taskListStore.mealsCheckInTaskStore)||void 0===t?void 0:t.queryThreeMealsSignTask();case 9:this.$taskListStore.taskList.length&&(this.$taskListStore.taskList.forEach((function(e){e.isProcessing&&e.isToStart&&e.checkTaskInfo()})),this.$taskListStore.showAction()),this.rootStore.duoduoSpriteLogger({stage:"show_task_list"});case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getLogByName",value:function(e){return{page_el_sn:K.rG[e]}}},{key:"setAwardCoupon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.discount,r=e.min_amount,n=e.start_time,i=e.end_time,o=e.rules_desc,a=e.link_url,s=v()(e,["discount","min_amount","start_time","end_time","rules_desc","link_url"]);this.coupon=re({discount_price:t,full_price:r,start_time:1e3*n,end_time:1e3*i,rule_desc:o,link_url:a},s)}},{key:"needTaskDayTips",value:function(e){if(e.isReachLimit)return!1;var t=this.store.leoForMission,r=t.day_tips_tasks_id,n=t.day_tips_time,i=void 0===n?"23:5":n;return!!r.some((function(t){return t===e.id}))&&$()(this.store.server_time).format("HH:mm").includes(i)}},{key:"canGuideMissionUser",get:function(){var e,t,r=this;return null===(e=this.$taskListStore.scheduleTaskStore)||void 0===e||null===(t=e.progress_reward_stage_list)||void 0===t?void 0:t.some((function(e){return e.required_achieved_mission_count===r.store.leoForMission.scheduleMinThreshold}))}},{key:"canGainTaskNum",get:function(){return this.$taskListStore.taskList.filter((function(e){return e.isToGetAward})).length}},{key:"unFinishTaskNum",get:function(){return this.$taskListStore.taskList.filter((function(e){return!e.isReachLimit})).length}},{key:"isHasNotGainTask",get:function(){return!this.$taskListStore.taskList.every((function(e){return e.isReachLimit}))}},{key:"hasSpAwardTaskToDo",get:function(){return this.$taskListStore.taskList.some((function(e){return e.needShowTaskAwardIncrease&&!e.isReachLimit}))}},{key:"assistTaskStore",get:function(){return this.$taskListStore.taskList.find((function(e){return e.type===H.AQ.assistMission}))}},{key:"mainOrderTaskStore",get:function(){var e=this;return this.$taskListStore.taskList.find((function(t){return t.id===e.rootStore.leoForMission.mainOrderMissionId}))}},{key:"needInitAfterMount",get:function(){var e=(0,Y.parseUrlQuery)(location.href),t=!!e.is_search_mission,r=this.useShare&&!!e.invitor_uin;return t||r||!this.useLazyInit}}]),n}(W.Z),o=j()(i.prototype,"minVersion",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"4.90.0"}}),a=j()(i.prototype,"updateTips",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"使用最新版本APP可解锁更多任务"}}),s=j()(i.prototype,"closeIconUrl",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.Y3}}),c=j()(i.prototype,"awardTipsText",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"恭喜获得金币+${n}"}}),u=j()(i.prototype,"scoreComponentId",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=j()(i.prototype,"awardText",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=j()(i.prototype,"awardIconUrl",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.Z.AWARD_ICON}}),f=j()(i.prototype,"useShare",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=j()(i.prototype,"useLazyInit",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=j()(i.prototype,"coupon",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=j()(i.prototype,"display",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j()(i.prototype,"skinUseCommon",[U.computed],Object.getOwnPropertyDescriptor(i.prototype,"skinUseCommon"),i.prototype),j()(i.prototype,"isSkin3",[U.computed],Object.getOwnPropertyDescriptor(i.prototype,"isSkin3"),i.prototype),j()(i.prototype,"bgUrl",[U.computed],Object.getOwnPropertyDescriptor(i.prototype,"bgUrl"),i.prototype),j()(i.prototype,"itemBg",[U.computed],Object.getOwnPropertyDescriptor(i.prototype,"itemBg"),i.prototype),j()(i.prototype,"btnUIConfigs",[U.computed],Object.getOwnPropertyDescriptor(i.prototype,"btnUIConfigs"),i.prototype),j()(i.prototype,"commonStyle",[U.computed],Object.getOwnPropertyDescriptor(i.prototype,"commonStyle"),i.prototype),j()(i.prototype,"canGuideMissionUser",[U.computed],Object.getOwnPropertyDescriptor(i.prototype,"canGuideMissionUser"),i.prototype),j()(i.prototype,"canGainTaskNum",[U.computed],Object.getOwnPropertyDescriptor(i.prototype,"canGainTaskNum"),i.prototype),j()(i.prototype,"unFinishTaskNum",[U.computed],Object.getOwnPropertyDescriptor(i.prototype,"unFinishTaskNum"),i.prototype),j()(i.prototype,"isHasNotGainTask",[U.computed],Object.getOwnPropertyDescriptor(i.prototype,"isHasNotGainTask"),i.prototype),j()(i.prototype,"hasSpAwardTaskToDo",[U.computed],Object.getOwnPropertyDescriptor(i.prototype,"hasSpAwardTaskToDo"),i.prototype),j()(i.prototype,"mainOrderTaskStore",[U.computed],Object.getOwnPropertyDescriptor(i.prototype,"mainOrderTaskStore"),i.prototype),j()(i.prototype,"showAction",[n,q.d],Object.getOwnPropertyDescriptor(i.prototype,"showAction"),i.prototype),g=j()(i.prototype,"hideAction",[q.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return w()(_().mark((function t(){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$taskListStore.hideAction(),t.next=3,(0,X._v)(400);case 3:if((0,U.runInAction)((function(){e.display=e.$taskListStore.isShow})),!e.store.canTryGiveNewUserCoupon){t.next=8;break}return e.store.canTryGiveNewUserCoupon=void 0,t.next=8,(0,ee._)(e.store);case 8:case"end":return t.stop()}}),t)})))}}),j()(i.prototype,"setAwardCoupon",[U.action],Object.getOwnPropertyDescriptor(i.prototype,"setAwardCoupon"),i.prototype),i);t.Z=oe},55729:function(e,t,r){"use strict";var n=r(96948),i=r.n(n),o=r(49304),a=r.n(o),s=(r(79430),r(41197)),c=r.n(s),u=r(12071),l=r.n(u),p=r(86564),f=r(54483),d=r.n(f),h=r(8307),m=r(83524);t.Z=function(e){var t=e.id,r=e.store,n=e.children,o=e.className,s=e.style,u=e.onClick;c()(l());var f=(0,m.Z)();return(0,h.useObserver)((function(){var e=Math.min(100,r.energyScore/r.maxEnergy*100),c=Math.max(15,e).toFixed(2),h=r.healthCoefficient<1?"https://promotion.pddpic.com/promo/e122dc23-d367-43a8-9670-172e6b4e5f55.png.slim.png":"https://promotion.pddpic.com/promo/5298d19b-ac14-41ae-a116-03e25ea9b047.png.slim.png";return i()(p.Z,{id:t,className:d()(l().ball,o,a()({},l().aniStop,!f||r.checkLowDeviceDowngrade("main_scene_ani"))),style:s,bgUrl:h,onClick:u},void 0,i()(p.Z,{className:l().waveWrap,bgUrl:r.healthCoefficient<1?"https://promotion.pddpic.com/promo/a6c42213-d16c-414f-91a8-ba289ac6e6e7.png.slim.png":"https://promotion.pddpic.com/promo/679f7e76-f597-430a-9bfe-342c5cc9f320.png.slim.png"},void 0,i()(p.Z,{className:l().waveAni1,bgUrl:h,style:{bottom:"".concat(c,"%")}}),f&&!r.checkLowDeviceDowngrade("main_scene_ani")&&i()(p.Z,{className:l().waveAni2,bgUrl:h,style:{bottom:"".concat(c,"%")}})),i()(p.Z,{className:l().sphere,bgUrl:"https://promotion.pddpic.com/promo/d854802d-25c9-4a65-a923-8dddfa4a0672.png.slim.png"}),i()("div",{className:l().energyNum},void 0,r.energyScore>r.maxEnergy?r.maxEnergy:r.energyScore),i()("div",{className:l().energyText},void 0,"能量"),n)}))}},55861:function(e,t,r){"use strict";r.d(t,{nS:function(){return p},bN:function(){return f}});var n=r(96948),i=r.n(n),o=r(97703),a=r.n(o),s=r(79430),c=r.n(s),u=r(20449),l=c().createContext({showSkinRedDot:!1,setShowedSkinRedDot:function(){}}),p=function(e){var t=e.children,r=e.canMainOrderGainSkin,n=(0,u.Z)("duoduo_fairy_has_click_unlock_skin"),o=a()(n,2),s=o[0],c=o[1];return i()(l.Provider,{value:{showSkinRedDot:s&&!!r,setShowedSkinRedDot:c}},void 0,t)},f=function(){return(0,s.useContext)(l)};t.ZP=l},16040:function(e,t,r){"use strict";var n=r(96948),i=r.n(n),o=(r(79430),r(41197)),a=r.n(o),s=r(83632),c=r(86564),u=r(78586),l=r.n(u),p=r(75436),f=r(78049);t.Z=function(e){var t=e.children,r=e.onClose;return a()(l()),i()(s.Z,{contentClass:l().wrap,clickCloseBtn:r},void 0,i()(f.Z,{lightStyle:{width:"2rem",height:"1.98rem"}}),t,i()(c.Z,{className:l().mainImg,backgroundImage:"https://promotion.pddpic.com/promo/77225f57-1c6e-47bc-a3a9-df04380d5400.png.slim.png"}),i()(c.Z,{onClick:r,className:l().btn,backgroundImage:p.g9},void 0,"开心收下"))}},97957:function(e,t,r){"use strict";r.d(t,{V:function(){return D},Z:function(){return N}});var n=r(54612),i=r.n(n),o=r(11809),a=r.n(o),s=r(96948),c=r.n(s),u=r(49304),l=r.n(u),p=r(97703),f=r.n(p),d=r(79430),h=r.n(d),m=r(41197),g=r.n(m),y=r(91858),v=r.n(y),b=r(86564),_=r(8307),k=r(1042),w=r(27484),S=r.n(w),O=r(69647),I=r(93358),A=r(10960),T=r(2365),C=r(78231);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t,r;g()(v());var n=e.store,o=e.itemInfo,s=e.index,u=null===(t=n.levelMap.SEAT)||void 0===t||null===(r=t.SEAT_POINTS)||void 0===r?void 0:r[s],l=(0,d.useState)(!1),p=f()(l,2),h=p[0],m=p[1],y=(0,d.useState)((function(){return{now:S()().valueOf(),endTime:S()().add(30,"s").valueOf()}})),_=f()(y,1)[0],w=(0,d.useRef)();return u?c()(O.Z,{trackingInfo:{page_el_sn:I.UI.MSG_BOX,index:s}},void 0,c()(b.Z,{forwardedRef:w,className:v().item,bgUrl:"https://promotion.pddpic.com/promo/76e7eaca-5c91-46f6-a6d5-bbd5432a3cfe.png.slim.png",style:P({left:"".concat(u.x/100,"rem"),top:"".concat(u.y/100,"rem")},n.isSkin3?P(P({},(0,A.$X)(2,"#fff7be")),{},{color:"#ff00d2"}):{color:"#f31765"})},void 0,c()(T.Z,{svgClassName:v().boxBoom,contentClassName:v().boxBoomAni,contentStyle:{animation:h?void 0:"none"},imgUrl:"https://promotion.pddpic.com/promo/b4598abc-9e40-41c6-bb5d-159c3bb733b3.png.slim.png",width:80,height:70}),!h&&c()(k.Z,{className:v().time,now:_.now,endTime:_.endTime,fmtStr:"mm:ss",onFinish:a()(i().mark((function e(){var t,r,a,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,Promise.all([n.messengerStore.openShellBox(o),(0,C._v)(1500)]);case 3:t=e.sent,r=f()(t,1),(a=r[0])&&(c=null===(s=w.current)||void 0===s?void 0:s.getBoundingClientRect(),n.msgBoxAwardDialogStore.showAction({fairy_shell:a,startPosition:{x:null==c?void 0:c.x,y:null==c?void 0:c.y}}));case 7:case"end":return e.stop()}}),e)})))}))):null}var x=(0,_.observer)((function(e){var t=e.store;return t.isMainScene?h().createElement(h().Fragment,null,t.messengerStore.shellBoxList.map((function(e,r){return c()(R,{store:t,itemInfo:e,index:r+t.surpriseStore.surpriseBoxList.length},r)}))):null}));function D(e){return e.messengerStore.ownedShellVolist.length<=6}function N(e){var t=e.store;return(0,d.useEffect)((function(){t.messengerStore.queryShellBoxList();var e=t.leoConfig.workSecondsForShellBox,r=void 0===e?30:e,n=setTimeout(a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.messengerStore.queryOwnedShellVolist();case 2:e.sent&&t.surpriseStore.hasPetWorkInMainScene&&D(t)&&t.messengerStore.handleShellBoxSend();case 4:case"end":return e.stop()}}),e)}))),1e3*r);return function(){clearTimeout(n)}}),[]),c()(x,{store:t})}},78049:function(e,t,r){"use strict";var n=r(96948),i=r.n(n),o=r(79430),a=r.n(o),s=r(86564),c=r(41197),u=r.n(c),l=r(2365),p=r(94084),f=r.n(p),d=r(54483),h=r.n(d);t.Z=function(e){var t=e.lightStyle,r=e.lightClassName;return u()(f()),a().createElement(a().Fragment,null,i()(l.Z,{optimize:!1,width:375,height:812,svgClassName:f().starPosCls,contentClassName:f().starAniCls,imgUrl:"https://promotion.pddpic.com/promo/f9137fff-b0b1-4ca5-b1fd-f3e1a61ebf3b.png.slim.png"}),i()("div",{className:h()(f().rotateLightWrap,r),style:t},void 0,i()(s.Z,{className:f().rotateLight,bgUrl:"https://promotion.pddpic.com/promo/80d706c1-2fa8-479f-a66d-8c2916404687.png.slim.png"})))}},43241:function(e,t,r){"use strict";var n,i,o;r.d(t,{kt:function(){return i},ZM:function(){return o},eR:function(){return c},kn:function(){return a},gS:function(){return l},_j:function(){return p},DC:function(){return f},HH:function(){return d},WP:function(){return h},WX:function(){return u}}),function(e){e[e.UnUsed=1]="UnUsed",e[e.InUse=2]="InUse",e[e.USED=3]="USED",e[e.Expired=4]="Expired"}(n||(n={})),function(e){e[e.ThreeToSevenAccelerateCard=1]="ThreeToSevenAccelerateCard",e[e.FairyShell=2]="FairyShell",e[e.FairyLetter=3]="FairyLetter"}(i||(i={})),function(e){e[e.Unknown=0]="Unknown",e[e.Collecting=1]="Collecting",e[e.Rest=2]="Rest",e[e.Collected=3]="Collected",e[e.Locked=4]="Locked"}(o||(o={}));var a,s,c="活动太火爆了，请稍后重试~";!function(e){e.RestUnlock="RestUnlock",e.Rest="Rest",e.ReadyForCollecting="ReadyForCollecting",e.CollectingStart="CollectingStart",e.Collecting="Collecting",e.CollectedBack="CollectedBack",e.Collected="Collected"}(a||(a={})),function(e){e[e.MostCommon=1]="MostCommon",e[e.Common=2]="Common",e[e.Rare=3]="Rare",e[e.MostRare=4]="MostRare"}(s||(s={}));var u,l=function(e){return[s.Rare,s.MostRare].includes(+e)},p=function(e){return"duoduo_sprite_messenger_".concat(String(e))},f=p("open_travel_dialog"),d=5750,h="MESSENGER_STATION_ID";!function(e){e[e.ClickMessenger=0]="ClickMessenger",e[e.GainShell=1]="GainShell",e[e.DailySign=2]="DailySign",e[e.MyPack=3]="MyPack",e[e.LetterDialog=4]="LetterDialog",e[e.LetterRankDialog=5]="LetterRankDialog",e[e.LetterRankDialogClose=6]="LetterRankDialogClose",e[e.MsgAwardDialogClose=7]="MsgAwardDialogClose",e[e.ToolGetDialog=8]="ToolGetDialog"}(u||(u={}))},75436:function(e,t,r){"use strict";r.d(t,{g9:function(){return n},ym:function(){return i},j5:function(){return o},I5:function(){return a}});var n="https://promotion.pddpic.com/promo/755a336c-15f4-4314-ba64-e0117ddca050.png.slim.png",i="https://promotion.pddpic.com/promo/c92f2775-c613-41a2-aa86-9ea73bd8474b.png.slim.png",o="https://promotion.pddpic.com/promo/5b1cb498-e1aa-4196-9f63-6cb11f38e035.png.slim.png",a="https://promotion.pddpic.com/promo/6ae20979-8e90-4b77-bfaf-920aacf261e5.png.slim.png"},25346:function(e,t,r){"use strict";r.d(t,{n:function(){return l}});var n=r(54612),i=r.n(n),o=r(11809),a=r.n(o),s=r(6367),c=r(47963),u={mainQuery:"/api/fairy/npc/info/query",toolSend:"/api/fairy/tool/send",toolUse:"/api/fairy/npc/trigger",queryToolList:"/api/fairy/tool/query_tool_list"},l=Object.keys(u).reduce((function(e,t){return e[t]=function(e){return function(){var t=a()(i().mark((function t(r,n){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.post({api:e,middleware:s.W,risk:!0},r,n);case 3:return o=t.sent,t.abrupt("return",o);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()}(u[t]),e}),{})},95487:function(e,t,r){"use strict";r.d(t,{jq:function(){return s},t7:function(){return c},DK:function(){return l},PK:function(){return p},Eq:function(){return f},MI:function(){return d},Qy:function(){return h},K$:function(){return m},BN:function(){return g},Uj:function(){return y},Zq:function(){return v},dI:function(){return b},CA:function(){return _},s7:function(){return k},lD:function(){return w}});var n=r(49304),i=r.n(n);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s={ROAM:1,WORK:2,WORK_IN_FRIEND:3},c={USED_BY_FRIEND:3,LOCK:2,IDLE:1,USED:0},u=[{x:0,y:-114},{x:-112,y:-114},{x:112,y:-114},{x:48,y:-39},{x:140,y:-39},{x:-48,y:-39},{x:-140,y:-39}],l={1:u,2:u,3:[{x:0,y:-117},{x:-112,y:-117},{x:112,y:-117},{x:48,y:-42},{x:140,y:-42},{x:-48,y:-42},{x:-140,y:-42}],4:[{x:0,y:-117},{x:-112,y:-117},{x:112,y:-117},{x:48,y:-42},{x:140,y:-42},{x:-48,y:-42},{x:-140,y:-42}]},p="producePosition",f={PET:"ROAM_PET",WORK_PET:"WORK_PET",STATIC:"STATIC",MOTION:"MOTION",BLINK:"BLINK",STEAL_PET:"STEAL_PET"},d={GUIDE_ATLAS:"GUIDE_ATLAS",HOR_ARROW:"horArrow.png",VER_ARROW:"verArrow.png",COMPOSE_TIP:"composeTip.png",UNLOCK_WORK_TIP:"unlockWorkTip.png",HAND:"hand.png",PET_WORK_TIP:"petWorkTip.png",SEAT_LIGHT:"seatLight.png",SEAT_INVITE_TIP:"invitedTip.png"},h={SELECT_RING:"SELECT_RING",MATCH_RING:"MATCH_RING",DROP_BOOM:"DROP_BOOM",COMPOSE_BOOM:"COMPOSE_BOOM",DRAG_BOOM:"DRAG_BOOM"},m={BG_ATLAS:"BG_BLOCKS",UP:"top.png",MIDDLE:"middle.png",BOTTOM:"bottom.png",COIN:"COIN",TRASH_BOX:"TRASH_BOX",TRASH_RECYCLE_TIP:"TRASH_RECYCLE_TIP"},g={LEVEL_ICON:"LEVEL_ICON",SHADOW:"SHADOW",LEVEL_NUMBER_FONT:"LEVEL_NUMBER",COIN_NUMBER_FONT:"COIN_NUMBER"},y={SEAT_ATLAS:"SEAT_ATLAS",SEAT:"SEAT",SEAT_BG:"workPlaceBg.png",LOCK:"unlock.png",IDLE:"idle.png",USED:"idle.png",RECALL:"recall.png",SEAT_WORK_TIP:"workTip.png",TRASH_BOX:"trashBox.png",DRIVE_AWAY:"driveAway.png",REMIND:"remind.png",REMIND_COIN:"remindCoin.png",COMMON_COIN:"coin.png",LEVEL_ICON:"levelIcon.png",SHADOW:"shadow.png",LEVEL_NUMBER:"levelNumber.png",COIN_NUMBER:"coinNumber.png"},v=a(a(a(a(a(a({},f),d),h),m),g),y),b=10,_={MAIN:"main",FRIEND:"friend"},k=24,w="limit_guide_hand_showed"},79937:function(e,t,r){"use strict";r.d(t,{sG:function(){return d},aV:function(){return h},xE:function(){return m},yS:function(){return g},gj:function(){return y},ML:function(){return v},pH:function(){return b},OO:function(){return _},x6:function(){return k},hL:function(){return w},OK:function(){return S},dz:function(){return O},l3:function(){return I},fT:function(){return A},P6:function(){return T},n3:function(){return C},pn:function(){return E},JW:function(){return P},LG:function(){return R},Wi:function(){return x}});var n=r(49304),i=r.n(n),o=r(81812);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={WITHDRAW_DIALOG_RED_PACKET_PIC:"1a968fe2-fc1d-460b-9b44-b013e0156c99.png.slim.png",WITHDRAW_DIALOG_RED_PACKET_DRAW_BG:"2020-08-12/59ea48e9-4bf5-4521-bf98-c9e81e06148b.png",WITHDRAW_DIALOG_LIGHT_PIC:"2020-08-12/7455d97d-3062-4a16-8803-372407a8ab30.png",WITHDRAW_DIALOG_TITLE_PIC:"2020-08-12/5a40df8f-85fb-4dcf-ab80-63eebe000e2b.png",WITHDRAW_DIALOG_WITHDRAW_BTN:"2020-08-12/c5b45ed1-bd46-4ba4-8d68-7c355464147f.png.slim.png",WITHDRAW_DIALOG_WORK_SPRITE:"5be9cfbb-7348-4416-97ad-a27cefcc1f56.png",WITHDRAW_DIALOG_PASS_BANNER:"2020-08-27/c9657814-d7e4-4f64-b7f8-eb8c8278d220.png",WITHDRAW_DIALOG_PASS_BTN:"2020-08-27/31a19fd2-a438-49d7-aab2-b53f772bc228.png.slim.png",WITHDRAW_DIALOG_LIGHT_PIC_3:"2020-12-29/972e61b9-b079-441e-9850-3f1a3bfd0e14.png",WITHDRAW_DIALOG_WORK_SPRITE_3:"0563b240-ae91-4a80-a514-54ea7900db8f.png",WITHDRAW_DIALOG_PASS_BANNER_3:"2020-12-29/67632f7f-f43b-4575-b88f-e3224a90232d.png",WITHDRAW_DIALOG_PASS_BTN_3:"2020-12-29/f48a0793-66cf-45b1-a59b-ce8d9b045bde.png.slim.png"},u={RED_PACKET_DIALOG_BG:"2020-08-16/0d34066c-c13c-4ab6-89e3-103e21696871.png.slim.png",RED_PACKET_DIALOG_BG_3:"2020-08-16/0d34066c-c13c-4ab6-89e3-103e21696871.png.slim.png",RED_PACKET_DIALOG_MAIN:"2020-08-12/b1d6c7d5-e899-475d-a15a-63c87f39af2a.png.slim.png",RED_PACKET_DIALOG_MAIN_3:"bb4b2067-7229-4825-b3cc-5089fa66d5d7.png.slim.png",RED_PACKET_DIALOG_MAIN_COMMON:"ddd5fdfd-e827-47e4-948d-a1944a83a462.png.slim.png",RED_PACKET_DIALOG_STAR:"2020-08-12/a5f5425f-3582-4091-9c01-4eb8f3a4e2b2.png.slim.png"},l={DAILY_SIGN_GIFT_DIALOG_LIGHT:c.WITHDRAW_DIALOG_LIGHT_PIC,DAILY_SIGN_GIFT_DIALOG_STAR:u.RED_PACKET_DIALOG_STAR,DAILY_SIGN_GIFT_DIALOG_GIFT:"2020-10-16/74b8f2ae-4b8b-47ca-81c3-49414a1259c1.png",DAILY_SIGN_GIFT_DIALOG_BTN:"2020-10-16/f16d24ad-4b39-47c6-9187-17df7ae48677.png.slim.png"},p={MEAL_SIGN_DIALOG_TREASURE:"2020-11-09/fc791154-0b20-471a-8931-49fd5bc6362a.png",MEAL_SIGN_DIALOG_LIGHT:c.WITHDRAW_DIALOG_LIGHT_PIC,MEAL_SIGN_DIALOG_STARS:u.RED_PACKET_DIALOG_STAR},f=s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s(s({},{BG_INVITE_GET_COIN:"a8511db4-21bd-40e5-9d80-eb7b618b1226.png.slim.png",BTN_GREEN_YELLOW_LONG:"ab32a557-a065-4c54-8bbf-1759f2f71871.png.slim.png",BTN_ROUND_ARROW:"58d91eaf-2fd7-4366-b261-14a53b52140b.png.slim.png"}),{DAILY_SIGN_7_DIALOG_BG:"9b46c232-f07a-4d3e-b3f2-29d49c186ddc.png.slim.png",DAILY_SIGN_7_DIALOG_BG_2:"e85121ef-c999-47e9-9971-e791031e4a2e.png.slim.png",DAILY_SIGN_7_DIALOG_SIGN_BTN:"40d30762-c8cf-46af-bed3-01b84cc16517.png.slim.png",DAILY_SIGN_7_DIALOG_FINISH_BTN:"4b8ce5b1-8198-43ba-b959-753cbcafd2b1.png.slim.png"}),{SEARCH_CHANGE_DIALOG_BG:"2021-01-19/f8b34f18-9c80-4478-877b-16f71e77bc89.png.slim.png",SEARCH_CHANGE_DIALOG_BTN:"2021-01-20/59a7e216-0777-4eac-9986-25fc713005e6.png.slim.png",SEARCH_CHANGE_DIALOG_CLOSE:"2020-12-28/7bb5856d-5b3d-4b8d-9f4a-a5f03879c4af.png.slim.png"}),{GIFT_BOX_DIALOG_BG:"7648c243-924a-450f-818c-abe98a5a2c57.png.slim.png",GIFT_BOX_DIALOG_ITEM_BG_CAN_LOOK:"2020-12-31/80987ecf-cfe5-496e-94c0-d3d597f51144.png.slim.png",GIFT_BOX_DIALOG_ITEM_BG_LOCK:"2020-12-31/a0acb356-9884-44e0-a43e-c1a4be936dc3.png.slim.png",GIFT_BOX_DIALOG_GUIDE_BTN:"2020-12-31/ca02a90d-5542-4187-bd9d-386e276e3625.png.slim.png",GIFT_BOX_DIALOG_BOX:"2020-12-31/4dedfd68-e2fe-4b15-9224-ee997b6c120c.png.slim.png",GIFT_BOX_DIALOG_DISABLE_BTN:"2020-12-31/10c6c454-b087-46e6-a2f8-0a126f3f335c.png.slim.png",GIFT_BOX_DIALOG_RESULT_COIN:"2020-12-31/3bfd0c85-9909-4170-af13-b3616cd3c299.png.slim.png",GIFT_BOX_DIALOG_RESULT_COUPON_BG:"2021-01-05/91a209f4-52d1-4679-81cd-ceb466bc5730.png.slim.png",GIFT_BOX_DIALOG_RESULT_TIPS:"2021-01-05/f3267f18-722a-46eb-a679-e028070f3975.png.slim.png",GIFT_BOX_DIALOG_RESULT_MONEY:"2021-01-05/90b52503-5d6f-4d2e-b7f5-b9723b19bab5.png.slim.png",GIFT_BOX_DIALOG_END_BTN:"2021-01-15/1fb36e1a-6fd0-4481-9c89-f1e69354004b.png.slim.png"}),{ROCKET_STATIC:"dcb4ea25-80be-4878-8cb6-088c89e6619e.png.slim.png",ROCKET_ANI:"2020-08-17/840abf54-0012-447e-9973-0f57a5ad477a.png",ROCKET_LIGHT:"2020-08-17/b9a783ab-4167-4942-b662-b1fec732a145.png.slim.png"}),{COIN_RAIN_ITEM:"2020-08-17/909323d8-0b47-48d1-a74c-7f6053d5d7f1.png.slim.png"}),{RULE_DIALOG_BG:"bf6dcbf7-791d-4c0b-8e20-2f9e216eb829.png.slim.png",RULE_DIALOG_BG_3:"bb2d453f-c186-4d0b-a84f-8bd62abf732f.png.slim.png",RULE_DIALOG_START_ICON:"2020-08-20/bc9e09aa-7019-44b8-b85c-8d9657913dae.png",RULE_DIALOG_THREE_SPRITES_BG:"2020-09-01/e4e354e6-b0a1-410f-9689-c39aa6ebbc5b.png.slim.png",RULE_DIALOG_THREE_SPRITES_BG_3:"2020-12-29/1cde49e4-8605-4622-8548-a9da661507f3.png",RULE_DIALOG_THREE_SPRITES_BG_4:"a248a623-573d-4430-926f-d28ae8aa0acd.png.slim.png",RULE_DIALOG_TASK_BG:"2020-09-01/60ec26e9-e25e-4cd0-8f07-3556a19efe74.png",RULE_DIALOG_TASK_BG_3:"2020-12-29/954e6470-8b27-42b6-8c7e-5039964697e8.png",RULE_DIALOG_TASK_BG_4:"9b0d30f3-7d23-4bcd-9f7f-9516325335d6.png.slim.png",RULE_DIALOG_ONE_SPRITES_BG:"2020-09-01/5ac9e3ab-860b-4b96-8382-51b9276a5d10.png.slim.png",RULE_DIALOG_ONE_SPRITES_BG_3:"2020-12-29/3ee78762-c0e5-4441-8695-0665214368d2.png.slim.png",RULE_DIALOG_ONE_SPRITES_BG_4:"3560efbe-42db-4d55-9f8b-8241fba62003.png.slim.png",RULE_TITLE_BG:"2020-09-08/232c2198-2bf5-4509-b25f-3c133944ad63.png.slim.png",RULE_TITLE_BG_3:"2020-12-29/56d8686f-88b9-4944-bd60-44fcf67d88d7.png.slim.png"}),{LOADING_PROGRESS:"2020-08-13/9d8da551-989e-47d2-887a-0d30f1c9e63c.png",LOADING_STAR_ANI:"2020-08-19/69fe76c6-38c7-44b2-8c9d-eb87652484fb.png.slim.png",LOADING_STAR_ANI_3:"2020-12-28/174bb417-4a22-46df-a358-6f20343b62a5.png.slim.png",LOADING_SPRITE:"2020-08-13/f351b848-b85a-426c-b749-b33330aeb9c6.png",LOADING_PROGRESS_BG:"2020-08-13/de573ca5-b759-4199-b1e0-94a0aedc15b1.png.slim.png",LOADING_PROGRESS_STAR_ANI:"2020-08-19/a0c3e91f-e273-4cbc-8215-9cc201f4aa3f.png.slim.png",LOADING_1111:"2020-10-20/b9f10fde-953d-4a89-939a-47830034af92.png.slim.png"}),{BOTTOM_BAR_SEARCH:"ca64cb45-1121-4a15-9b34-03af6f9e7d42.png.slim.png",BOTTOM_FRIEND_ICON:"2020-09-13/c4ad6879-a462-4bb5-ab7d-25a82bca9116.png.slim.png",BOTTOM_BAR_CAN_GRAB_BTN:"2020-09-20/e6051e36-0732-4f97-ae68-ce85ee6847c0.png.slim.png",BOTTOM_BAR_CANT_GRAB_BTN:"2020-09-20/f8d8a59f-3e6c-4f8c-907f-d66ea546a045.png.slim.png",BOTTOM_BAR_TIPS:"526efc2b-364c-4bb6-838d-b543534fa0ca.png.slim.png",BOTTOM_BAR_HOME_ARROW:"2020-09-20/d80001e5-457d-4569-8c87-2f6a74a7dca7.png.slim.png",BOTTOM_BAR_AVATAR_RED:"2020-11-09/7e72b860-877a-419c-ae5e-e32ce00b4e29.png.slim.png",BOTTOM_BAR_AVATAR_RECALL:"2020-09-20/3cdf395e-dbc5-4bde-a465-4dc3d53cf88d.png.slim.png",BOTTOM_BAR_AVATAR_GRAB:"2020-10-30/76c79894-4cb8-4dca-a46c-57d098cd808a.png.slim.png",BOTTOM_FESTIVAL:"80042621-d23b-4d6f-b7ac-ae6c7138831d.png.slim.png",BOTTOM_SHOP_TIP:"2020-10-20/9a756764-c486-4f19-afb0-574adadfc2d6.png.slim.png",BOTTOM_GRAB_WORK_BG_3:"2020-12-30/88928240-9063-421e-a035-6408110b7c15.png.slim.png",GIFT_ICON_TIPS:"2021-01-04/a51e906b-7726-4df0-8783-75698e5861b1.png.slim.png",COIN_BOX_LOCK:"ba864dfd-6632-49e0-b924-749ef575c424.png.slim.png",COIN_BOX_UNLOCK:"bfc04e72-b26a-4932-850d-a65e5435b88e.png.slim.png",YELLOW_ROUND_BG:"10d35648-1ac3-4ffd-8e57-9c357395a2b2.png.slim.png",PACKET_HEART_BG:"e1918e13-7d3d-41cb-8d76-ef8f474f2b0a.png.slim.png",LUCKY_PACKET_TEXT:"2e909a44-5639-4cac-82e8-f4a8f7306672.png",PACKET_INNER_GOLD:"7554d969-1f10-47e5-9c16-ecb0476ea9bc.png.slim.png",PACKET_CAN_TASK:"12b0a3cd-b862-49b8-ab1a-e29bf5eeac76.png.slim.png",RED_OVAL_BG:"90f64a39-1d08-4ef6-b980-a6898e800272.png.slim.png",LUCKY_PACKET_TEXT_LOCK:"cbb3caf5-7c59-425a-8068-5de6fd98dc89.png",YELLOW_ROUND_LOCK_BG:"63d4d25e-fc34-4eed-b3b3-e8268f99ced9.png.slim.png",BUBBLE_BLACK_BG:"87f168a4-6952-48f1-83e9-5c24601817f3.png.slim.png",BUBBLE_RED_BG:"05dd2f0a-2295-4ed4-bf81-01a8a70ee72a.png.slim.png",BUBBLE_YELLOW_BG:"75b1caee-503a-435d-b31c-f041067e764d.png.slim.png",BIG_TASK_COIN:"69c3cba6-324a-4861-9d66-76ee2c13a40d.png.slim.png",BTN_GAIN_COIN:"eca2e380-0f06-4c45-a317-4bd1797e6c69.png",SMALL_SHINE_STAR:"8d38ccfe-7bd9-46c9-b2fa-24c0b7a9be17.png.slim.png",BOTTOM_MAIN_BTN1:"3957cc4d-800a-414b-bd7f-2a66b981ec71.png.slim.png",BOTTOM_MAIN_BTN2:"17451041-ef1a-4ae4-94a4-bf8041f42853.png.slim.png"}),{TOP_BAR_WING_LEFT:"2020-08-12/c3a66c55-0857-41d2-9595-695abeb8bc75.png.slim.png",TOP_BAR_DAILY_WAIT_ICON:"2020-09-18/7fa42adb-e791-4ee1-ae24-4e3fc488e166.png.slim.png",TOP_BAR_DAILY_ACTIVE_ICON:"2020-09-18/59c5f83a-28db-494f-810e-17953d3b679c.png.slim.png",TOP_BAR_DAILY_CLICK_ICON:"2020-09-18/2e206ee6-60f8-44ac-8082-debba97953d5.png",TOB_BAR_GRAB_BANNER:"2020-10-30/6f63f3bd-b976-45cc-98b9-f4e1bc3df768.png.slim.png",TOB_BAR_GRAB_BANNER_NUM:"2020-10-30/c054b4b2-81c2-46d4-b4a8-b5129f6a2b2a.png.slim.png",DAILY_SIGN_ICON_TIP_BG:"2020-10-18/5e035746-e460-4b19-a202-456cd74b86c5.png.slim.png",DAILY_SIGN_ICON_RED_PACKET:"2020-10-18/7daeb6f1-f9a9-4a7a-8110-8a4fe687d941.png.slim.png",RACE_GAME_ICON:"2020-10-18/db0763e9-ae49-4b15-8693-b4ac6177d289.png.slim.png",RACE_GAME_PACKET:"2020-10-18/cc7b69eb-efac-40c6-8a03-ddaf703343cc.png.slim.png",RACE_GAME_NAME:"2020-10-18/fbc476e5-ff6c-4af7-9229-5fb42da4ea63.png.slim.png",DAILY_SIGN_ICON_ANIMATION:"2020-10-22/d422739a-092c-4d92-93e0-b17ad1cc0205.png",FESTIVAL_SKIN_SIGN_ICON:"2020-12-30/7007ab27-40e6-49ef-9a78-1b3623e7541a.png.slim.png",SHOP_MOVE_TIPS:"2021-01-05/83495261-ba9e-4e86-aedb-e658b388a42e.png.slim.png",BUY_PET_TIPS:"c6d9455e-68c5-4cd9-8f37-7419774a9e51.png.slim.png",TOP_BAR_COMPOSE_TASK_ICON:"2579222b-6e7d-4995-9f2a-6eb11f06c5ae.png.slim.png",TOP_BAR_COMPOSE_TASK_STREAM_ICON:"f562b8b8-4220-426d-b696-4e9c622bbb77.png.slim.png",TOP_BAR_TIME_LIMIT_ICON:"4cefa2eb-74ec-4fd7-a93a-440c1a382e8b.png.slim.png",TOP_BAR_TIME_LIMIT_TIP:"e3925efc-3015-450d-9704-3384163c5fe0.png.slim.png",TOP_BAR_TIME_LIMIT_BANNER:"2267c46c-5439-4f68-aee7-dbb922e438bd.png.slim.png",TOP_BAR_ORDER_GUIDE_ICON:"11762629-41a9-4e9c-9bc9-efe9dcb99272.png.slim.png",TOP_BAR_BIND_CARD:"1c3b2044-927e-4573-9829-2b90334cbd61.png.slim.png",TOP_BAR_BIND_CARD_TIP_BG:"a74f4929-8493-4bc3-a53e-532ec926204a.png.slim.png",TOP_BAR_BIND_CARD_ACCOUNT:"4ada0184-af11-45e7-b493-d48d53f6d5cd.png.slim.png",TOP_BAR_BIND_CARD_WELFARE:"9206aa81-1c9a-44d2-9637-99daea445359.png.slim.png",TOP_BAR_SPORT_SKIN_ICON:"c3968676-5ed4-465a-a571-542b663fe1b7.png.slim.png",PACKET_SMALL:"78269cef-7ee8-402a-a073-831644ac843e.png",ICON_FRESH_FRIEND_INVITE:"bff23d1a-75d9-4466-bad7-229613ee6498.png",TOP_BAR_BIND_CARD_RED_AMOUNT:"8020c339-2ab6-47da-b49e-38868c9f3c1e.png",TOP_BAR_BIND_CARD_BTN_BG_SMALL:"700b34a4-6d17-4105-b526-cde8f95ac246.png.slim.png",TOP_BAR_BIND_CARD_BTN_BG:"2dcfc5df-b969-416e-91c1-6472318c5f77.png.slim.png",TOP_BAR_BIND_CARD_BTN_BG_YELLOW:"c76ae7c2-81c1-456e-a75a-e2d0ec7a6f80.png.slim.png",TOP_SCORE_SHADE:"27b0d65d-30fb-41cb-9bfa-1f4996d8a707.png.slim.png"}),u),{UNLOCK_SPRITE_DIALOG_BANNER:"2020-08-12/13936dd4-0a23-4279-84c8-3fd1ecb924a1.png.slim.png",UNLOCK_SPRITE_DIALOG_BANNER_3:"2020-12-28/857e58e6-32db-42f3-934e-091b1f699078.png",UNLOCK_SPRITE_DIALOG_BANNER_COMMON:"d981ac31-5fe0-4bf6-9d9f-482bd81316b2.png.slim.png",UNLOCK_SPRITE_DIALOG_LEVEL:"2020-08-30/bcde9656-38ed-4681-a3a8-24ea14b9e1a2.png",UNLOCK_SPRITE_DIALOG_STAGE:"2020-08-12/a40a2499-b2d3-4081-a3d2-27e330cee9ea.png.slim.png",UNLOCK_SPRITE_DIALOG_BG:"2020-08-12/25869631-0f57-4520-89d7-a0308f526617.png.slim.png",UNLOCK_SPRITE_DIALOG_LIGHT:"2020-08-16/0d34066c-c13c-4ab6-89e3-103e21696871.png.slim.png"}),{TASK_COUPON_DIALOG_BANNER:"2020-08-11/2b64a841-54f8-4581-9cc0-be2b43efd056.png.slim.png",TASK_COUPON_DIALOG_COUPON_BG:"2020-08-11/02e2a12d-a2b4-45f6-ac88-3d90e7deb2ad.png.slim.png",TASK_COUPON_DIALOG_TEXT_RECEIVE:"2020-08-11/d9e82a29-b167-4a85-8c11-26c25307899d.png.slim.png",TASK_COUPON_DIALOG_LIGHT:"2020-08-30/4e2a614a-d1f2-4adf-b6cb-39a7bae11cdc.png.slim.png",TASK_COUPON_DIALOG_BG_3:"65c11d70-b75c-4762-96e9-524f8084561f.png.slim.png",TASK_COUPON_DIALOG_COUPON_BG_3:"2020-12-28/6ebf8a5f-789e-48b1-be29-3f4726bce029.png",TASK_COUPON_DIALOG_COUPON_BG_4:"13abfbd1-2782-43d9-a759-29c141508fc0.png.slim.png",TASK_COUPON_DIALOG_COUPON_STAR:"c2d185a7-e80a-48d3-a4bf-f48209ed716f.png.slim.png"}),{UNLOCK_RESULT_DIALOG_SEAT:"2020-08-11/e47a290e-2b6a-414d-ac30-4f703140f08d.png.slim.png",UNLOCK_RESULT_DIALOG_TIPS:"2020-08-11/49643baf-66e4-4e08-859e-16b94e235a19.png.slim.png",UNLOCK_RESULT_DIALOG_SEAT_3:"2020-12-24/e0487e3d-f279-461d-8e7d-b525c34d87db.png.slim.png",UNLOCK_RESULT_DIALOG_TIPS_3:"2020-12-24/0f25cafc-8afa-49d8-ac05-d926def92fbe.png.slim.png",UNLOCK_RESULT_DIALOG_BTN:"2020-08-11/2b7ce749-a10c-42ac-b653-79e03566d8e5.png.slim.png",UNLOCK_RESULT_DIALOG_BTN_3:"2020-12-29/3b56a63b-71df-4dd7-84c6-d78c66d54f34.png.slim.png",UNLOCK_RESULT_DIALOG_BTN_COMMON:"7b0e1ba4-3a51-4959-a634-1d1fec86126d.png.slim.png",UNLOCK_RESULT_DIALOG_BTN_TEXT:"2020-08-11/41aea915-3a50-4e97-965c-91ce6716623a.png.slim.png"}),{UNLOCK_DIALOG_BG:"46867616-ce1c-4ca6-a2e8-c14ed6ce7d44.png.slim.png",UNLOCK_DIALOG_BG_3:"b42aa89c-f22b-4326-8140-9eac443ff16f.png.slim.png"}),{SPEED_DIALOG_BG:"47e76727-b702-434b-b043-e5cd82a9f4ff.png.slim.png",SPEED_DIALOG_INVITE_ROUND_BTN:"2020-08-09/d3828086-b366-4229-b568-e2ab8c6c564f.png.slim.png",WECHAT_ICON:"2020-08-09/1479c927-18b5-463a-b2f8-662140b1ae41.png.slim.png",BTN_LIMIT:"2020-08-11/37cd9a3b-955a-43b1-8fe8-db6c9c0a904f.png.slim.png",SPEED_DIALOG_BG_3:"2ec489d3-3c07-41d3-9349-ee20ada2397e.png.slim.png"}),{PERSUADE_DIALOG_SPRITE_WORK_PIC:"2020-10-18/b2ec8014-493c-4f9f-826f-244729ee8c1a.png",PERSUADE_DIALOG_SPRITE_WORK_PIC_3:"2020-12-25/87d41542-a43f-49d7-afe9-7bdb1b0e3717.png",PERSUADE_DIALOG_SPRITE_WORK_PIC_4:"3340512e-146a-41dc-b46c-f74088744532.png.slim.png",PERSUADE_DIALOG_LUCKY_DIALOG_BG:"2020-08-11/3626790b-5752-4e74-a51d-07135d3ce981.png",PERSUADE_DIALOG_LUCKY_DIALOG_BG_3:"2020-12-31/ca449e6a-3a3c-4318-8efb-1d98234c0b1a.png",PERSUADE_DIALOG_SEARCH_GUIDE_GIF:"2020-10-16/28489199-ca97-45a9-bdd2-8b2004828646.gif",PERSUADE_DIALOG_SEARCH_GUIDE_PNG:"2092d1ba-c2d8-465b-bd48-0d7cb6f97904.png.slim.png",PERSUADE_HOME_GUIDE:"81db6293-f77e-4478-bfa3-1b49064853df.png"}),{SPRITE_BOOK_DIALOG_BG:"2020-08-10/3c7b9deb-5c9b-4fd4-85a2-6a431e4a521c.png",SPRITE_BOOK_DIALOG_SKIN:"2020-08-10/d242741a-2f46-44ce-a68d-b5a2a2312792.png.slim.png",SPRITE_BOOK_DIALOG_SKIN_ACTIVE:"2020-08-10/30442104-8b8e-4501-867c-28c897658df1.png.slim.png",SPRITE_BOOK_DIALOG_SPRITE:"2020-08-10/90105de5-160f-4a26-84d0-0b074fc382bd.png.slim.png",SPRITE_BOOK_DIALOG_SPRITE_ACTIVE:"2020-08-10/0590d009-230c-4e82-97e4-b5bf99fc502f.png.slim.png",SPRITE_BOOK_DIALOG_SPRITE_BG:"2020-08-10/033e110b-15df-4d54-9b52-58f1fd97deee.png.slim.png",SPRITE_BOOK_DIALOG_SKIN_BG:"2020-08-10/722bc5e0-7a3d-49b2-9072-1002c217406a.png.slim.png",SPRITE_BOOK_DIALOG_SKIN_USING_BTN:"2020-08-10/5b4a2dfc-8f54-4b4e-9594-c42fc421b5f2.png.slim.png",SPRITE_BOOK_DIALOG_SKIN_GO_USE_BTN:"2020-08-26/698d69c7-c8b3-445c-ad45-38139d8bd6f2.png.slim.png",SPRITE_BOOK_DIALOG_SKIN_ASK:"2020-08-10/016700e2-0244-48aa-aa44-c87c71fd71b5.png.slim.png",SPRITE_BOOK_DIALOG_SKIN_LOCK_BTN:"2020-08-10/d7894d93-b798-422c-8e56-6b39e7af0750.png.slim.png",SPRITE_BOOK_DIALOG_SPRITE_MAN_PANEL:"2020-08-11/63fbcfbf-274e-4f4b-9a40-8fe0f6c301e3.png.slim.png",SPRITE_BOOK_DIALOG_SPRITE_WOMAN_PANEL:"2020-08-11/b3cfcb90-3b89-41cd-a9c8-15056cbe997c.png.slim.png",SPRITE_BOOK_DIALOG_SKIN_BG_DOUBLE_11:"2020-10-15/e2d29089-f66d-4cc7-a310-8da9e3e4a08f.png.slim.png",SPRITE_BOOK_DIALOG_SKIN_BUY_BTN:"2020-10-20/4bd5075b-f8e6-4547-8e79-ebc93be3cfc4.png.slim.png",SPRITE_BOOK_DIALOG_BUY_LIGHT:"24c4dbba-4810-4e7b-8991-871dabee79bb.png.slim.png"}),{NEW_SPRITE_SHOP_BG:"bc6a90c1-b89d-41f9-b5fd-f0eae4a1c40d.png.slim.png",NEW_SPRITE_SHOP_BG_BOTTOM:"1229fb73-d78f-42c9-acdc-200ab1530949.png.slim.png",NEW_SPRITE_SHOP_SKIN:"2020-12-28/5251d97c-0fb4-4668-870c-1ebc16e782bb.png.slim.png",NEW_SPRITE_SHOP_SKIN_ACTIVE:"2020-12-28/7903b7ff-71ac-4b0e-b2b5-a6c6f29c4635.png.slim.png",NEW_SPRITE_SHOP_SPRITE:"2020-12-28/627ae7f4-862d-48a6-82ac-78adbde94a2f.png.slim.png",NEW_SPRITE_SHOP_SPRITE_ACTIVE:"2020-12-28/86d8cf40-a368-430d-ac19-99068a9ff9ca.png.slim.png",NEW_SPRITE_SHOP_SPRITE_BG:"2020-12-28/5e0942a6-f846-4728-9ffb-d1e78c14224e.png.slim.png",NEW_SPRITE_SHOP_SPRITE_PANEL_BG:"2020-12-28/13a6a0de-1db5-40bb-9dd0-dd4d71f244f1.png.slim.png",NEW_SPRITE_SHOP_SKIN_USING_BTN:"de7fcfe9-c210-425c-9b0f-1a7c6095977b.png.slim.png",NEW_SPRITE_SHOP_SKIN_GO_USE_BTN:"eeb82525-8c08-477a-9977-f295343c4e1e.png.slim.png",NEW_SPRITE_SHOP_SKIN_BUY_BTN:"2020-12-28/dacd0b46-e709-46bb-882f-2f175157dd4f.png.slim.png",NEW_SPRITE_SHOP_SKIN_COIN_BG:"2020-12-30/75baa75e-56ae-4481-bff4-4db8c92ad088.png.slim.png",NEW_SPRITE_SHOP_SKIN_TO_UN_LOCK_BG:"2020-12-30/65aca4ee-ee09-4855-8e98-a7e9c3192a9d.png.slim.png",NEW_SPRITE_SHOP_SKIN_ORDER_BTN:"b6d5c99a-fbd1-4afa-b9e2-3554549dffe8.png.slim.png"}),{FRIEND_RANK_BG_3:"56e3e5cb-06ef-4116-ada0-20205496f54d.png.slim.png",FRIEND_RANK_HEAD_3:"2020-12-29/d31613de-d7c3-4d35-bc51-81eef7a176a7.png.slim.png",NORMAL_RANK_BG_3:"2020-12-29/2720dfca-cc3e-48c8-8715-195cee0b2ec8.png.slim.png",FIRST_RANK_BG_3:"2020-12-29/60c787e8-ecd5-4fe3-86d0-d221e1fcf5f6.png.slim.png",SECOND_RANK_BG_3:"2020-12-29/f0bdbbe8-2257-4c29-8498-f4d627452ac9.png.slim.png",THIRD_RANK_BG_3:"2020-12-29/af3efc6d-c490-414e-bac7-e09a25ff7bcc.png.slim.png",GRAB_SEAT_BG_3:"2020-12-29/81ae35c2-5ad8-44ad-b859-b301e9b9dccf.png.slim.png",INVITE_FRIEND_BG_3:"2020-12-29/5669b226-c1e2-4c46-b56f-f889ce63b247.png.slim.png",RECALL_PET_ICON_3:"2020-12-30/acea2583-f717-448d-b1f6-83ff00df7a02.png.slim.png",NO_IDLE_SEAT_BG_3:"2020-12-30/73c4695e-a6c9-4225-9e71-a19d3c2f9f80.png.slim.png",NO_PLAY_BG_3:"2020-12-30/c4da484d-e639-44f5-8fb1-744b9c200f9d.png.slim.png"}),{SPRITE_SHOP_DIALOG_BG:"2020-08-10/42376013-bb25-4872-9831-8bfa81d532ae.png.slim.png",SPRITE_SHOP_DIALOG_ITEM_BG:"2020-08-10/baf2900c-436f-42a4-bdec-2a9bed1d2685.png.slim.png",SPRITE_BOOK_DIALOG_NAME_BG:"2020-08-10/155ad40e-cb3f-4169-ac74-a8cb9d913d9d.png.slim.png",SPRITE_BOOK_DIALOG_BTN_GRAY:"2020-08-10/0f88b6d1-b0a7-4234-afec-51dee7efb604.png.slim.png",SPRITE_BOOK_DIALOG_BTN_GREEN:"2020-08-10/c76d76f6-4a60-4c4f-8e08-f710bd29d9f8.png.slim.png",SPRITE_BOOK_DIALOG_BTN_YELLOW:"2020-08-10/755dadde-7310-4955-9332-c31f93af4f93.png.slim.png"}),{HOW_TO_SEARCH_DIALOG_BG:"2020-10-23/5f022ff9-af61-447d-9e33-3c4ef881b94e.png",HOW_TO_SEARCH_DIALOG_BG_3:"cf5cbf7a-5caf-472b-92ec-e5ff2ff735ab.png.slim.png",HOW_TO_SEARCH_DIALOG_GIF:"2020-10-23/b2319d7c-65c5-41b4-a8c1-c2dc17101769.gif"}),{OFFLINE_DIALOG_TREASURE_PIC:"2020-08-11/bca0198b-fd29-47e4-934b-fe3d59ee4056.png",OFFLINE_DIALOG_TITTLE_PIC:"967ca451-f3c6-4f74-9341-a03c7e47a364.png.slim.png",OFFLINE_DIALOG_BTN_GET_TEXT:"2020-08-11/862ca9dc-747a-4654-9eaf-b0c84d1d3e7b.png.slim.png",OFFLINE_DIALOG_BTN_DO_TASK:"12aa06c7-9bba-4d3f-969c-84c0a1831127.png.slim.png",OFFLINE_DIALOG_BRAND_BG:"634a23c9-8cd1-4858-bf67-32ed62f04cda.png.slim.png",OFFLINE_DIALOG_COIN_BOX:"1101d74f-3616-42cf-93a6-793812fb7372.png.slim.png"}),{DIALOG_COIN_DIALOG_BG:"d5210671-de59-47ad-b511-7d94651a0c42.png.slim.png",DIALOG_COIN_DIALOG_BG_3:"7961ffc9-f569-44cb-b159-a81f8efb4c5d.png.slim.png",PERSUADE_DIALOG_SKIN_BG:"fec3bb16-501a-4616-b706-1d07a8e43c11.png.slim.png",PERSUADE_DIALOG_SKIN_BG_3:"7961ffc9-f569-44cb-b159-a81f8efb4c5d.png.slim.png"}),{COMMON_PIC_BASE_SPRITE:{url:"2020-12-31/e06bbaf1-333a-463c-952b-fedd251bbb8c.png.slim.png",originWidth:575,originHeight:394,padding:8,map:{BOTTOM_BAR_TASK_ICON:{x:-333,y:-8},AVATAR_BG:{x:-477,y:-8},TOP_BAR_WING_LEFT:{x:-477,y:-200},TOP_BAR_RED_PACKET_ICON:{x:-477,y:-240},TOP_BAR_WITHDRAW_BTN:{x:-477,y:-114},TOB_BAR_FRIEND_ICON:{x:-129,y:-265},TOP_BAR_NEW_SHOP_ICON:{x:-244,y:-265},BOTTOM_BAR_MAIN_BTN_TOP:{x:-8,y:-8},BOTTOM_BAR_MAIN_BTN_BOTTOM:{x:-8,y:-171},BOTTOM_BAR_BOX:{x:-8,y:-265},BOTTOM_BAR_BOX_TIPS:{x:-333,y:-162}}},COMMON_PIC_LEVEL:"2020-08-10/36f61715-dddc-45c1-8b0e-ded65ee6ed0a.png.slim.png",COMMON_PIC_COIN:"2020-08-11/3fa29563-a039-40bd-a8a3-bafde583d754.png.slim.png",COMMON_PIC_COIN_WITH_DARK:"ecbd4dcb-5bc5-4d7b-8ccf-c53f062db4d4.png.slim.png",COMMON_PIC_GENDER_MAN:"2020-08-10/9a89922e-dba6-4a85-8b45-7db628f9cb04.png.slim.png",COMMON_PIC_GENDER_WOMAN:"2020-08-10/aba882e8-3b32-4a4b-934c-9a7bb3f71408.png.slim.png",COMMON_PIC_BTN_GREEN_415:"2020-08-11/c8483ae7-cbda-48ef-8004-c63cc5c78719.png",COMMON_PIC_BTN_GREEN_245:"2020-08-11/db40a3f1-290e-40cf-9aa7-de21299e6ccc.png.slim.png",COMMON_PIC_BTN_YELLOW_245:"2020-08-11/855047fc-62e2-4e07-aa49-745021583d91.png.slim.png",COMMON_PIC_BTN_ORANGE_312:"2020-08-11/55861ae4-9fab-432d-af5b-3ad96bd7639c.png.slim.png",COMMON_PIC_BTN_CLOSE_ICON:"2020-08-11/92cc3541-e52f-420c-9b6e-aa1f3f332248.png.slim.png",COMMON_PIC_MINI_STAR:"2020-10-25/17e9a1a9-189b-4e93-b6e9-c2bec96f59a6.png",COMMON_PIC_BTN_ORANGE_335:"2020-12-27/23f3b163-674d-4a75-b745-12d5b60d64b0.png.slim.png",COMMON_PIC_BTN_GREEN_329:"2020-12-27/2c009c89-dcff-4fdf-bee2-6de5d8fd8a95.png.slim.png",COMMON_PIC_BTN_BROWN_327:"2020-12-27/570d5771-1be1-4966-acc1-c8e825e4489b.png.slim.png",COMMON_PIC_BTN_CANCEL_3:"2020-12-28/19b474ed-471b-4f65-9c4c-0ad7fe0d240c.png.slim.png",COMMON_PIC_BTN_CONFIRM_3:"2020-12-28/c14a2725-b3db-4a42-8b2a-7e05d4dfc640.png.slim.png",COMMON_PIC_BTN_BROWN_250:"2020-12-29/2ba66aa9-d61b-4f5c-8f77-8d4786152ff3.png.slim.png",COMMON_PIC_BTN_GREEN_250:"2020-12-29/05b3a921-e3ec-42dc-839a-d751c6cfa8af.png.slim.png",COMMON_PIC_PROGRESS_BG:"2020-12-30/dce5187c-92d2-4ecd-bea0-b46b1d78c4c7.png.slim.png",COMMON_PIC_BTN_YELLOW_329:"2021-01-27/5f032cfc-b237-44ff-93e3-1bdea388c2c8.png.slim.png",COMMON_PIC_MULTIPLY_COINS:"aba7c35c-7970-4e58-8e11-9461edbd4800.png.slim.png",COMMON_PIC_HEAD_FIREWORKS:"9912c488-0812-4f6d-bc16-67f9fba49104.png.slim.png",COMMON_PIC_DOWN_FIREWORKS:"1d8ec457-4848-4e0a-8258-34db10be82f8.png.slim.png",COMMON_PIC_COLOR_FIREWORKS:"3413a8ce-3fb2-41b2-8a5b-08d1a5b742cc.png.slim.png",COMMON_PIC_LIGHT_BG:"34dae1b0-2d1f-4a77-91a5-db2750ca88a3.png.slim.png",BTN_RECEIVE_COMMON:"b185013f-66c9-4af7-9e4b-5c9bcaffb217.png.slim.png",COMMON_PIC_LIGHT_SHINE_BG:"b0372cd3-aecf-4588-b025-73ee43dae104.png.slim.png",CLOSE_BTN_GREY:"aff85a10-6056-4655-9c30-fdb70fd6966a.png.slim.png",BTN_PICK_AWARD:"fa21afd4-c8f9-43e0-bf2e-49b99d9c3800.png.slim.png",GREY_CLOSE_BTN:"1346f5da-7f57-4657-9f2e-d0e2e0980907.png.slim.png",COIN_MULTIPLE_TIPS_1:"4d4224c9-3300-4443-a0f6-551fc109d560.png.slim.png",COIN_MULTIPLE_TIPS_2:"2020-10-30/76c79894-4cb8-4dca-a46c-57d098cd808a.png.slim.png",COIN_MULTIPLE_TIPS_3:"95430762-0529-4e9a-90e7-3826831b1b23.png.slim.png",COIN_MULTIPLE_TIPS_4:"0ea19e8d-52fa-45fd-82c3-90378c1638a9.png.slim.png",COIN_MULTIPLE_TIPS_5:"61ebf1dc-4ac7-4998-9c11-602d932a3672.png.slim.png",COIN_MULTIPLE:"8a3165de-0173-4681-a073-437a42704fb8.png.slim.png",COUPON_RED_SMALL_BG:"40f6f6dc-e46e-4bb3-ab92-0fe5ff0d97fc.png.slim.png",BTN_GAIN_GREEN:"cac53ff2-1558-42de-8d5b-1201f78d8392.png.slim.png",BG_DIALOG_RICE:"ff941c0d-8615-4339-b7ab-a532a776b6af.png.slim.png",COMMON_PACKET_GAIN_NORMAL:"7b36bf31-f303-4618-9daa-54ce7709b779.png.slim.png",COMMON_COIN_BOX_DIALOG_BG:"31baf252-7347-4725-a065-ca21e05d15a6.png.slim.c1.png",COMMON_COIN_SHADOW:"c0048672-4445-4ff2-90ab-36442451a89b.png.slim.png",COUPON_BG_GOLD_COLUMN:"98b3e600-bb09-4440-8cb4-de1bb91390db.png.slim.png",BG_RED_DIALOG_COIN_NO_HEAD:"9e40b5c0-cb5f-4666-bcba-af2cd88d051b.png.slim.png",BG_RED_DIALOG_COIN:"6decb729-6eb3-45a9-9973-7f588e5dcf13.png.slim.png",BTN_BG_ORANGE:"452111ab-5b66-4d04-86fd-29bd459cbe0f.png.slim.png",BTN_BG_ORANGE_LONG:"ecb1885e-ca72-49a4-8fec-d47992522011.png.slim.png",REWARD_DIALOG_RED_BG:"594505e1-b3cc-48ca-a40e-f6ab6ee22455.png.slim.png"}),{COMMON_INVITE_DIALOG_BG:"12f01bcb-0607-4be7-bcfd-7f2e4110019e.png.slim.png",COMMON_DIALOG_BG_COIN_WITH_PACKET:"fe695838-57c6-421d-aa88-4278e8a4c3cf.png.slim.png",COMMON_DIALOG_BG_WITH_COIN:"ea6899e7-e5c6-4ee0-8b4a-95ee18c60d52.png.slim.png",COMMON_BTN_YELLOW:"9100fe7a-d3b9-4af6-b53b-924a7fe6e72f.png.slim.png",COMMON_BTN_GREEN:"b45f938a-1738-4562-b43d-25ec73d315e7.png.slim.png",COMMON_BTN_KNOW:"ba0dad27-b968-4081-959d-a601aa0a884a.png.slim.png",COMMON_GIFT_DIALOG_BG:"f268349c-1fb8-4e6a-bc8c-ab69d788a0e3.png.slim.png",COMMON_GIFT_DIALOG_BG_GOLD:"99c0ab4a-670b-4500-acda-0d973b69ea4a.png.slim.png"}),c),{BG_MUSIC_ICON_BG_ON:"2020-10-21/4a86e1e0-5d6b-460f-85d6-d7ff1069782d.png.slim.png",BG_MUSIC_ICON_BG_OFF:"2020-10-21/00cb1d7c-bfaf-4128-988c-7e0fd122a8cb.png.slim.png",NEW_BG_MUSIC_ICON_BG_ON:"a2d5a5da-afbb-41b8-9625-7c508eef4af4.png.slim.png",NEW_BG_MUSIC_ICON_BG_OFF:"22ab3a4c-d289-4c53-999c-6c4200433170.png.slim.png"}),{RECYCLE_DIALOG_BG:"cb85fba1-b2bf-4c7e-8167-c5642a18387b.png.slim.png",RECYCLE_DIALOG_BG_3:"b03ee750-ebfb-462a-bb05-e89cc4dcc16f.png.slim.png",RECYCLE_CONFIRM_BTN:"2020-08-30/4e78a78f-b62a-4f2f-85e5-237a300c7fc4.png.slim.png",RECYCLE_CANCEL_BTN:"2020-08-30/957d7888-4688-4e8f-93d3-ef75a522e538.png.slim.png",RECYCLE_CONFIRM_BTN_3:"2020-12-29/31c56bef-7b1e-4b2c-8267-d737e7026a90.png.slim.png",RECYCLE_CANCEL_BTN_3:"2020-12-29/52d3199b-69fc-4006-9783-a7a5409906c1.png.slim.png"}),{FRIEND_RANK_BG:"9d697753-d4d7-45db-8d4a-d5d3906b6bfc.png.slim.png",FRIEND_RANK_HEAD:"2020-09-11/cc5d90bd-65ab-4b1a-b785-daa55bef9e31.png",FIRST_RANK_BG:"2020-09-11/4ee64055-5f9b-469a-adcc-7ca7aa747d9c.png.slim.png",SECOND_RANK_BG:"2020-09-11/d54e81e5-6893-49b1-8c2f-f4e12e4002f6.png.slim.png",THIRD_RANK_BG:"2020-09-11/17883347-9266-4173-9a94-ef42a43a076c.png.slim.png",NORMAL_RANK_BG:"2020-09-11/d12db897-3e58-4301-8507-c3cd7430546b.png.slim.png",NO_PLAY_BG:"2020-09-11/71850c02-756d-4f53-b36f-b85953d6be5a.png.slim.png",INVITE_BG:"2020-09-15/c95efb0d-23f4-4de9-ada9-7496c3339a0d.png.slim.png",FIRST_RANK_RING:"2020-09-14/2f4105c5-ec39-4397-83a5-6c9a644686ce.png.slim.png",SECOND_RANK_RING:"2020-09-11/8290793d-4da4-478e-9db3-e0bb3b7f9e48.png.slim.png",THIRD_RANK_RING:"2020-09-11/9af53f62-2922-4e61-912e-4524a462e278.png.slim.png",NORMAL_RANK_RING:"2020-09-11/3c23f9f4-0c06-456e-86d8-052e6536bb94.png.slim.png",GRAB_SEAT_BG:"2020-09-11/f6c51b85-f8d8-454b-9bc5-7a4a81088ea8.png.slim.png",INVITE_FRIEND_BG:"2020-09-11/08020551-1888-4eee-9f0f-09ee423f37d3.png.slim.png",RECALL_PET_ICON:"2020-09-13/6c240b77-fa04-467e-887e-63b1cef8dd24.png.slim.png",UNLOCK_TIP_BG:"2020-09-11/5082c4c8-cb26-447f-995c-ebf79370991c.png.slim.png",COIN_BANNER:"2020-09-11/8c46f40e-7876-4d09-8383-f883aa8aeb6c.png.slim.png",PET_NAME_BG:"2020-09-25/e1aa9f7b-a302-4f1f-82c1-e683f954eb6e.png.slim.png",NO_IDLE_SEAT_BG:"2020-11-09/9cad488b-1a1a-46b4-8673-8ccaae998ad4.png.slim.png"}),{DOUBLE_11_SKIN_DIALOG_LIGHT:"2020-10-15/8452f863-aa67-4a49-b532-658350641c80.png",DOUBLE_11_SKIN_DIALOG_STAR:"2020-10-15/de3cf237-ad5a-4656-84ea-43a0fbd99c6b.png.slim.png",DOUBLE_11_SKIN_DIALOG_HEAD:"2020-10-15/c7f5551f-b797-4a90-b8d8-f3239e397d2d.png",DOUBLE_11_SKIN_DIALOG_MAIN:"2020-10-15/46288b94-8699-4576-aa5d-50e74747347f.png",DOUBLE_11_SKIN_DIALOG_BTN:"2020-10-15/759be77b-8cd0-4b2b-8384-5103c363c20f.png.slim.png"}),{BUY_SKIN_DIALOG_BG:"d5210671-de59-47ad-b511-7d94651a0c42.png.slim.png",BUY_SKIN_DIALOG_CANCEL_BTN:"2020-10-19/ad89e438-428a-4349-879f-613fef1375a9.png.slim.png",BUY_SKIN_DIALOG_CONFIRM_BIN:"2020-10-19/37a0f4d3-65ab-4273-87ec-7e14ef19bacb.png.slim.png"}),{DRIVE_AWAY_PET:"21636f64-2a66-405e-9429-1651f5cdcc75.png",DRIVE_AWAY_PET_3:"86285722-beda-4a08-b48e-a42520c6ce2e.png",DRIVE_AWAY_PET_4:"67717dc5-36b2-4cee-9357-80217863153c.png"}),{GRAB_INJURED_PET:"84a7c489-d9d0-4279-9364-984a5e68644a.png.slim.png",GRAB_INJURED_PET_3:"06dc8179-09fc-4491-a679-0a531ae95d5a.png.slim.png"}),{RECALL_WORK_PET:"320a3a87-4350-4500-b1d0-5a6fd8d159a6.png",RECALL_WORK_PET_3:"b46295db-3b80-427b-9dec-17c0aaed8232.png",RECALL_WORK_PET_4:"7f990b70-18bd-401a-b19a-ae0f41b8f906.png"}),{TRANSITION_CLOUD_LEFT:"2020-10-13/9b148e03-ad3f-4059-ad7a-d660fa5bb027.png.slim.png",TRANSITION_CLOUD_RIGHT:"2020-10-13/92880f6d-f25f-457b-a5b8-a184f8c6c529.png.slim.png"}),{DRIVE_AWAY_ANI_PIC:"2020-10-27/0b556983-4e90-4d50-a0bb-e91f827b8ddc.png",DRIVE_AWAY_ANI_PIC_3:"2020-12-25/a434666c-bce4-49d5-95b1-72f19f8f50e1.png",DRIVE_AWAY_JUMP_BTN:"2020-11-05/a6ec72e8-f4ac-481e-9589-343f5605582a.png"}),{SCORE_ICON:"2020-10-12/4cdaa2d1-e464-4a8b-a954-8cd2fa7dfbd0.png.slim.png"}),{GUIDE_BOOK_TIP_BG:"2020-10-26/3c9f591a-5e54-4bbb-8462-2ea630c6f49c.png.slim.png",GUIDE_BOOK_TIP_BG_3:"2020-12-30/f8f8cc4a-c7a8-4917-9e58-498c1b5d5ed2.png.slim.png",GUIDE_BOOK_TIP_SMALL_BG:"2020-10-26/1befa887-7261-40a3-88b1-7209436c8d4e.png.slim.png"}),l),{DAILY_SIGN_DIALOG_BG:"2020-10-16/86de32b7-8270-4860-94b7-fcff88fd036d.png",DAILY_SIGN_DIALOG_PROGRESS:"2020-10-16/26fa1648-ec7e-4839-a717-cc90743bc372.png.slim.png",DAILY_SIGN_DIALOG_PROGRESS_1:"2020-10-16/864413f0-6913-498d-a3d0-7119c941f448.png.slim.png",DAILY_SIGN_DIALOG_PROGRESS_2:"2020-10-16/053a2852-9385-497a-bc7d-15a90891edce.png.slim.png",DAILY_SIGN_DIALOG_PROGRESS_3:"2020-10-16/08214e0a-967b-422b-adcf-56b0d7c82e75.png.slim.png",DAILY_SIGN_DIALOG_CASH_GET:"2020-10-16/ccb83f36-afe8-4a4b-80d3-18a7c4a68bb7.png.slim.png",DAILY_SIGN_DIALOG_CASH_NOT_GET:"2020-10-16/d1ae9655-d939-4e45-8836-2b9d3bdd1d13.png.slim.png",DAILY_SIGN_DIALOG_LITTLE_COIN_GET:"2020-10-16/21c15034-4761-4282-a069-cc7b26ec69b1.png.slim.png",DAILY_SIGN_DIALOG_LITTLE_COIN_NOT_GET:"2020-10-16/9be6ccca-603e-4ccd-959c-ae8ae8399410.png.slim.png",DAILY_SIGN_DIALOG_MUCH_COIN_GET:"2020-10-16/a0de961c-610f-46a8-8245-958e209e3a4d.png.slim.png",DAILY_SIGN_DIALOG_MUCH_COIN_NOT_GET:"2020-10-16/9540b63f-91e5-42b3-a677-bd73fd90b456.png.slim.png",DAILY_SIGN_DIALOG_CAN_SIGN_BTN:"2020-10-16/d1c52a8c-f7fe-4c6b-96ee-ef2cdfd562bb.png.slim.png",DAILY_SIGN_DIALOG_SIGNED_BTN:"2020-10-16/330b8aba-7be7-4d5c-8d32-2eed6b824677.png.slim.png",DAILY_SIGN_DIALOG_FINISHED_BTN:"2020-10-22/aed175a4-0e6c-4466-9c28-2c2e398d3890.png.slim.png",DAILY_SIGN__DIALOG_TIMEOUT_BTN:"2020-10-22/0aceb359-f9fa-466f-8e5c-210269365456.png.slim.png"}),{SCENE_CHANGE_STAR:"2020-10-22/cb8c5789-2c88-40c8-8cfe-5406e7526621.png.slim.png"}),p),{SKIN_SIGN_DIALOG_BG:"2020-12-27/6870b031-313b-4567-b850-b8e243b31c97.png",SKIN_SIGN_DIALOG_PROCESS:"2020-12-27/5ec4578f-8656-4d10-a86d-5d9d83d911ec.png.slim.png",SKIN_SIGN_DIALOG_STAR:"2020-12-28/2a85e65a-ba95-4724-8cae-ce6de02dd81f.png.slim.png",SKIN_SIGN_DIALOG_RIGHT_ARROW:"2020-12-28/259c771f-6217-4048-bff4-125bf3d0c312.png.slim.png",SKIN_SIGN_DIALOG_CLOSE_BTN:"2020-12-28/72439df6-b8c9-478d-bf0f-9725f47f3316.png.slim.png"}),{FESTIVAL_115_SKIN_DIALOG_HEAD:"2020-12-30/d002d24b-e854-484b-950a-2faccf151d42.png.slim.png",FESTIVAL_115_SKIN_DIALOG_LIGHT:"2020-12-30/971c20b3-2b59-4f1a-ae01-140b2a0d032e.png.slim.png",FESTIVAL_115_SKIN_DIALOG_MAIN:"2020-12-30/13633bed-3dc7-4c0c-a893-197d5f1b48f1.png"}),{NEW_WITHDRAW_MONEY_DIALOG_BG:"9a7da334-cb53-446f-8c64-d9ec17180241.png.slim.png",NEW_WITHDRAW_MONEY_DIALOG_CLOSE:"2021-01-27/af86a203-fa6f-463f-bb50-94dfe9b0b05a.png.slim.png"}),{CHARGE_BACK_COUPON_DIALOG_BG:"2021-01-27/1562dabf-9905-48df-a9fa-e94ff04f2749.png",CHARGE_BACK_COUPON_DIALOG_COUPON:"2021-01-27/2b852d4a-981a-4b62-983b-99b6f118fad2.png.slim.png",CHARGE_BACK_COUPON_DIALOG_BTN:"2021-01-27/d8dba2a8-dfc2-4209-9ad9-e3c2a605744c.png.slim.png",CHARGE_BACK_COUPON_DIALOG_BTN_2:"9867ca8b-d5be-4c29-a3fa-0138a6ac91ef.png.slim.png",CHARGE_BACK_COUPON_DIALOG_CLOSE:"2021-01-27/45c4a08e-dc04-4b92-ab05-3e4c81bb71f8.png.slim.png"}),{TASK_AWARD_DIALOG_BG:"aa222d83-776e-466e-9c98-9f79730b8ea0.png.slim.png",TASK_AWARD_DIALOG_BTN:"ce537ead-f2d3-4ade-992f-2ec895272495.png.slim.png",TASK_AWARD_DIALOG_COIN:"3ccff976-3793-4661-aa5f-308477cc5dd1.png.slim.png",TASK_AWARD_DIALOG_CLOSE:"a683adf2-f9c7-4fbe-99ac-7d3398cbf852.png.slim.png"}),{NPC_SHOP_TASK_BG:"b46cfa1d-7fde-4868-9a22-0b8fc1c2e133.png.slim.png",NPC_SHOP_TASK_BG_WITH_COUPON:"67e1a5c0-ed30-478b-be84-8d3f51e6d631.png.slim.png",NPC_SHOP_TASK_ARROW:"14caf034-5d76-492e-aca7-19b8dd4146b7.png.slim.png",NPC_SHOP_TASK_CLOSE:"05b34289-25ef-4e81-a116-9c3e8642fa6d.png.slim.png",NPC_SHOP_COIN:"17baafdb-dc3c-4d84-8754-c4ed9b379dcc.png.slim.png",NPC_SHOP_HAND:"002b7c4a-2fce-46fd-94dd-43f7e0d5d003.png.slim.png"}),{COMPOSE_TASK_TIP_DIALOG_BG:"472ca891-cac3-4d56-a3ac-c9e2d3c01848.png.slim.png",COMPOSE_TASK_TIP_DIALOG_BTN:"69e655b9-d155-4019-a767-b4e98ed69ac9.png.slim.png",COMPOSE_TASK_TIP_DIALOG_BAG:"b1bb8eeb-bc70-43c2-8eaf-0ad9c72f0b4b.png.slim.png"}),{COMPOSE_TASK_RESULT_DIALOG_BG:"ed6c7f47-e28c-4156-9670-0fefcc38ec29.png.slim.png",COMPOSE_TASK_RESULT_DIALOG_PACKET:"14064dc6-abb4-442e-a3ad-b57f2949befe.png.slim.png",COMPOSE_TASK_RESULT_DIALOG_COIN:"aba7c35c-7970-4e58-8e11-9461edbd4800.png.slim.png",COMPOSE_TASK_RESULT_DIALOG_LIGHT:"7505658b-3f92-4c8c-980b-41c4fc26acd0.png.slim.png",COMPOSE_TASK_RESULT_DIALOG_BAR:"d1652b5b-9aca-4332-913a-b90f48de214f.png.slim.png"}),{TIME_LIMIT_BUY_DIALOG_BG:"b7bcf8e9-418e-4f0e-84c5-6b2936821eea.png.slim.png",TIME_LIMIT_BUY_DIALOG_BTN:"5d5c8c03-c8a4-4a44-9277-3b5f7aa004ea.png.slim.png"}),{EMITTER_STAR_1:"410b3ed9-a8ac-4af4-ba83-43bebedbf2b2.png.slim.png",EMITTER_STAR_2:"0552bd97-627b-48bc-9dd8-58b59af4ef96.png.slim.png",EMITTER_STAR_3:"46385de8-7b7f-4ea9-9cce-e216f97ea417.png.slim.png",EMITTER_STAR_4:"5ca3558a-4231-4f1b-b46a-4ee97db294a8.png.slim.png",EMITTER_STAR_5:"7d252e13-0c2a-465a-bf40-a460007499b7.png.slim.png",EMITTER_STAR_6:"99063d99-b7c1-4408-adad-eb450bd9d4e1.png.slim.png",EMITTER_STAR_7:"5580317d-99d5-4d5e-ad6f-e447ba8a1a65.png.slim.png",EMITTER_STAR_8:"4aea000a-9eb1-4295-bb26-3d2bb6b5573a.png.slim.png",EMITTER_STAR_9:"81afd795-bfe3-415b-9580-b7ecba0bf653.png.slim.png",EMITTER_STAR_10:"2cc9e00c-e71f-4be4-8a5f-9fc7da32321c.png.slim.png"}),{SPEED_UP_CARD_DIALOG_BANNER:"8df9b6c4-cbac-4c73-8573-e6b23cca0c42.png.slim.png",SPEED_UP_CARD_DIALOG_CARD:"3ed0ef84-db03-46a8-94a1-8b9b192b8c78.png.slim.png",SPEED_UP_CARD_DIALOG_BTN:"7973b238-8513-4ea4-a82b-9d1b6f65d934.png.slim.png",SPEED_UP_CARD_DIALOG_UP_BANNER:"1bfee09c-61a7-46af-b246-98ac0a4849ac.png.slim.png",SPEED_UP_BOOM_LIGHT_ANI:"52f1fa47-fea4-433d-b280-3f26b8bbab90.png.slim.png",SPEED_UP_LIGHT_SPRITE_ANI:"875b1a9e-3f60-4935-a5a5-7fccb0a76eb0.png"}),{NEW_ROUND_GIFT_DIALOG_BANNER:"990c7cb4-cce4-4039-8705-00de61b35601.png.slim.png",NEW_ROUND_GIFT_DIALOG_COIN:"9af6d395-a7be-42a4-a60b-8e93f6c057bb.png.slim.png",NEW_ROUND_GIFT_DIALOG_BUBBLE:"2638f15a-636d-4201-838f-5f283b50a621.png.slim.png",NEW_ROUND_GIFT_DIALOG_BTN:"8ec6c8c8-2108-4dc2-97ab-f75228e3f1fb.png.slim.png"}),{FRIEND_SCENE_GET_SAME_SKIN:"3721a5f9-9914-4c8c-bed8-4553b1d0cf40.png.slim.png",COIN_BOX_BIG:"cdb4d069-840b-49fe-aafa-f61b4fe18c33.png.slim.png"}),{SEARCH_TIPS_GLASS:"17b0fcfe-cecc-4362-b6f2-bd4574f5ce33.png.slim.png",SEARCH_TIPS_BG:"0f2e8252-db8c-4138-9eed-6ae43f43fc68.png.slim.png",SEARCH_TIPS_BTN:"5b014a01-6ef6-44a1-acff-77886c516d51.png.slim.png",SEARCH_TIPS_GIF:"26d1cac3-7ce2-42e4-9918-8283fa07da5f.gif.slim.gif"}),{BIND_CARD_DIALOG_BG:"bd839a61-eea0-45f2-8e4f-fd87833367b3.png.slim.png",BIND_CARD_DIALOG_CARD:"27f263fe-2770-40cf-a3fa-070148677bee.png.slim.png",BIND_CARD_DIALOG_BTN:"8e11ecd5-0414-4a7d-9091-280b8bedeaee.png.slim.png"}),{SHARE_CODE_BG:"97e04273-5440-48c5-9400-a2917effc503.png.slim.png"}),{FRIEND_DELETE_DIALOG_BG:"bb0230ed-9426-4f98-8d96-49f8ca1664f7.png.slim.png"});f=(0,o.Z)(f),t.ZP=f;var d={CANCEL_BTN:{1:f.COMMON_PIC_BTN_YELLOW_245,2:f.COMMON_PIC_BTN_YELLOW_245,3:f.COMMON_PIC_BTN_BROWN_250},CONFIRM_BTN:{1:f.COMMON_PIC_BTN_GREEN_245,2:f.COMMON_PIC_BTN_GREEN_245,3:f.COMMON_PIC_BTN_GREEN_250}},h={BG:{1:f.UNLOCK_DIALOG_BG,2:f.UNLOCK_DIALOG_BG,3:f.UNLOCK_DIALOG_BG_3}},m={BG:{1:f.SPEED_DIALOG_BG,2:f.SPEED_DIALOG_BG,3:f.SPEED_DIALOG_BG_3}},g={BG:{1:f.RECYCLE_DIALOG_BG,2:f.RECYCLE_DIALOG_BG,3:f.RECYCLE_DIALOG_BG_3},CONFIRM_BTN:{1:f.RECYCLE_CONFIRM_BTN,2:f.RECYCLE_CONFIRM_BTN,3:f.RECYCLE_CONFIRM_BTN_3},CANCEL_BTN:{1:f.RECYCLE_CANCEL_BTN,2:f.RECYCLE_CANCEL_BTN,3:f.RECYCLE_CANCEL_BTN_3}},y={SEAT:{1:f.UNLOCK_RESULT_DIALOG_SEAT,2:f.UNLOCK_RESULT_DIALOG_SEAT,3:f.UNLOCK_RESULT_DIALOG_SEAT_3},TIP:{1:f.UNLOCK_RESULT_DIALOG_TIPS,2:f.UNLOCK_RESULT_DIALOG_TIPS,3:f.UNLOCK_RESULT_DIALOG_TIPS_3}},v={BG:{1:f.DIALOG_COIN_DIALOG_BG,2:f.DIALOG_COIN_DIALOG_BG,3:f.DIALOG_COIN_DIALOG_BG_3}},b={BG:{1:f.PERSUADE_DIALOG_SKIN_BG,2:f.PERSUADE_DIALOG_SKIN_BG,3:f.PERSUADE_DIALOG_SKIN_BG_3}},_=s({PET:{1:f.DRIVE_AWAY_PET,2:f.DRIVE_AWAY_PET,3:f.DRIVE_AWAY_PET_3,4:f.DRIVE_AWAY_PET_4}},d),k={PET:{1:f.GRAB_INJURED_PET,2:f.GRAB_INJURED_PET,3:f.GRAB_INJURED_PET_3}},w=s({PET:{1:f.RECALL_WORK_PET,2:f.RECALL_WORK_PET,3:f.RECALL_WORK_PET_3,4:f.RECALL_WORK_PET_4}},d),S={ANI:{1:f.DRIVE_AWAY_ANI_PIC,2:f.DRIVE_AWAY_ANI_PIC,3:f.DRIVE_AWAY_ANI_PIC_3}},O={WORK:{1:f.PERSUADE_DIALOG_SPRITE_WORK_PIC,2:f.PERSUADE_DIALOG_SPRITE_WORK_PIC,3:f.PERSUADE_DIALOG_SPRITE_WORK_PIC_3,4:f.PERSUADE_DIALOG_SPRITE_WORK_PIC_4},LUCKY:{1:f.PERSUADE_DIALOG_LUCKY_DIALOG_BG,2:f.PERSUADE_DIALOG_LUCKY_DIALOG_BG,3:f.PERSUADE_DIALOG_LUCKY_DIALOG_BG_3},CLOSE:{1:f.COMMON_PIC_BTN_CLOSE_ICON,2:f.COMMON_PIC_BTN_CLOSE_ICON,3:f.SKIN_SIGN_DIALOG_CLOSE_BTN}},I={BG:{1:f.HOW_TO_SEARCH_DIALOG_BG,2:f.HOW_TO_SEARCH_DIALOG_BG,3:f.HOW_TO_SEARCH_DIALOG_BG_3}},A={HEAD:{1:f.UNLOCK_SPRITE_DIALOG_BANNER,2:f.UNLOCK_SPRITE_DIALOG_BANNER,3:f.UNLOCK_SPRITE_DIALOG_BANNER_3},ANI:{1:f.LOADING_STAR_ANI,2:f.LOADING_STAR_ANI,3:f.LOADING_STAR_ANI_3}},T={BG:{1:f.RED_PACKET_DIALOG_BG,2:f.RED_PACKET_DIALOG_BG,3:f.RED_PACKET_DIALOG_BG_3},MAIN:{1:f.RED_PACKET_DIALOG_MAIN,2:f.RED_PACKET_DIALOG_MAIN,3:f.RED_PACKET_DIALOG_MAIN_3}},C={BG:{1:f.RULE_DIALOG_BG,2:f.RULE_DIALOG_BG,3:f.RULE_DIALOG_BG_3},THREE_SPRITES_BG:{1:f.RULE_DIALOG_THREE_SPRITES_BG,2:f.RULE_DIALOG_THREE_SPRITES_BG,3:f.RULE_DIALOG_THREE_SPRITES_BG_3,4:f.RULE_DIALOG_THREE_SPRITES_BG_4},TASK_BG:{1:f.RULE_DIALOG_TASK_BG,2:f.RULE_DIALOG_TASK_BG,3:f.RULE_DIALOG_TASK_BG_3,4:f.RULE_DIALOG_TASK_BG_4},ONE_SPRITES_BG:{1:f.RULE_DIALOG_ONE_SPRITES_BG,2:f.RULE_DIALOG_ONE_SPRITES_BG,3:f.RULE_DIALOG_ONE_SPRITES_BG_3,4:f.RULE_DIALOG_ONE_SPRITES_BG_4},TITLE_BG:{1:f.RULE_TITLE_BG,2:f.RULE_TITLE_BG,3:f.RULE_TITLE_BG_3}},E={LIGHT:{1:f.WITHDRAW_DIALOG_LIGHT_PIC,2:f.WITHDRAW_DIALOG_LIGHT_PIC,3:f.WITHDRAW_DIALOG_LIGHT_PIC},WORK_SPRITE:{1:f.WITHDRAW_DIALOG_WORK_SPRITE,2:f.WITHDRAW_DIALOG_WORK_SPRITE,3:f.WITHDRAW_DIALOG_WORK_SPRITE_3},PASS_BANNER:{1:f.WITHDRAW_DIALOG_PASS_BANNER,2:f.WITHDRAW_DIALOG_PASS_BANNER,3:f.WITHDRAW_DIALOG_PASS_BANNER_3},PASS_BTN:{1:f.WITHDRAW_DIALOG_PASS_BTN,2:f.WITHDRAW_DIALOG_PASS_BTN,3:f.WITHDRAW_DIALOG_PASS_BTN_3}},P={BG:{1:f.UNLOCK_RESULT_DIALOG_BTN,2:f.UNLOCK_RESULT_DIALOG_BTN,3:f.UNLOCK_RESULT_DIALOG_BTN_3}},R={BOOK_GUIDE_BG:{1:f.GUIDE_BOOK_TIP_BG,2:f.GUIDE_BOOK_TIP_BG,3:f.GUIDE_BOOK_TIP_BG_3}},x={WORK_GRAB_BG:{1:"",2:"",3:f.BOTTOM_GRAB_WORK_BG_3}}},21403:function(e,t,r){"use strict";r.d(t,{Fe:function(){return f},yJ:function(){return d},$A:function(){return h},IZ:function(){return m},sf:function(){return g},Pg:function(){return y},t8:function(){return v},lk:function(){return p},mB:function(){return b},Un:function(){return _},hS:function(){return k},eo:function(){return w},ol:function(){return S},KE:function(){return O},Os:function(){return I},BB:function(){return A},Uu:function(){return T},IK:function(){return C},lI:function(){return E},kA:function(){return P},AC:function(){return R},o4:function(){return x},wo:function(){return L},k8:function(){return M},YS:function(){return B},o8:function(){return F},DP:function(){return G},vz:function(){return j}});var n,i,o,a,s=r(49304),c=r.n(s);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p,f="活动太火爆，请稍后再试",d="系统正忙，请稍后重试~",h={QUERY_ERROR:0,NEWER_USER:1,RESET_USER:2,NORMAL_USER:3,WITHDRAW_USER:4},m={NO_CHANGE:0,ADD:1,DELETE:2,CHANGE:3},g={INIT:0,ALL_UPDATE:1,BUY:2,RECYCLE:3,MERGE:4},y={ASSIST_SPEED_UP:"1",ASSIST_UNLOCK:"2",ASSIST_TASK:"3",ASSIST_INVITE_FRIEND:"4",ASSIST_REMIND_FRIEND:"5"},v=l(l({},y),{},{ADD_FRIEND:"6",RECALL_FRIEND:"7",INVITE_FRESH_FRIEND:"8",RIGHT_TOP_NATIVE:"9"});!function(e){e[e.GRAB_SEAT=2]="GRAB_SEAT",e[e.DRIVE_AWAY=3]="DRIVE_AWAY",e[e.AUTO_RECALL=4]="AUTO_RECALL",e[e.RECALLED_BY_FRIEND=5]="RECALLED_BY_FRIEND",e[e.CHARGE_BACK_COUPONS=7]="CHARGE_BACK_COUPONS",e[e.COMMON_ORDER_TASK=8]="COMMON_ORDER_TASK",e[e.OFFLINE_ORDER_TASK=9]="OFFLINE_ORDER_TASK",e[e.COMPOSE_ORDER_TASK=10]="COMPOSE_ORDER_TASK",e[e.TIME_LIMIT_ORDER_TASK=11]="TIME_LIMIT_ORDER_TASK",e[e.NPC_ORDER_TASK=12]="NPC_ORDER_TASK",e[e.BIND_CARD_ORDER_TASK=13]="BIND_CARD_ORDER_TASK",e[e.UNLOCK_SKIN_ORDER=14]="UNLOCK_SKIN_ORDER",e[e.LUCKY_PACKET_ORDER=15]="LUCKY_PACKET_ORDER",e[e.LUCKY_PACKET_BROWSER=16]="LUCKY_PACKET_BROWSER",e[e.LUCKY_PACKET_COUNT=17]="LUCKY_PACKET_COUNT",e[e.SEND_CASH_FAIL_GIVE_COIN=18]="SEND_CASH_FAIL_GIVE_COIN",e[e.SEND_CASH_FAIL_GIVE_COIN_HONGBAO_GUIDE=19]="SEND_CASH_FAIL_GIVE_COIN_HONGBAO_GUIDE",e[e.BRAND_WIDEGT_CPT_ORDER=20]="BRAND_WIDEGT_CPT_ORDER",e[e.ROLL_EGG_GET_TIMES=21]="ROLL_EGG_GET_TIMES",e[e.AWARD_ORDER_FAIL_SEND_BACK_SCORE=22]="AWARD_ORDER_FAIL_SEND_BACK_SCORE",e[e.REDUCE_PRICE_MISSION_ORDER=23]="REDUCE_PRICE_MISSION_ORDER",e[e.MESSENGER_CALLBACK_MISSION_ORDER=24]="MESSENGER_CALLBACK_MISSION_ORDER",e[e.NUTRITION_REWARD=25]="NUTRITION_REWARD",e[e.COMMON_ORDER_REWARD_DIALOG=26]="COMMON_ORDER_REWARD_DIALOG"}(p||(p={}));var b=(n={},c()(n,y.ASSIST_SPEED_UP,"kl_jingling_jiasu"),c()(n,y.ASSIST_UNLOCK,"kl_jingling_dagong"),c()(n,y.ASSIST_TASK,"kl_jingling_fenxiang"),c()(n,y.ASSIST_INVITE_FRIEND,"kl_jingling_paihang"),c()(n,y.ASSIST_REMIND_FRIEND,"kl_jingling_tixing"),c()(n,v.ADD_FRIEND,"kl_jingling_jiahaoyou"),c()(n,v.RECALL_FRIEND,"kl_jingling_chenmo"),c()(n,v.INVITE_FRESH_FRIEND,"kl_jingling_laodaixin"),c()(n,v.RIGHT_TOP_NATIVE,"kl_jingling_chenmo"),n),_=(i={},c()(i,y.ASSIST_SPEED_UP,"为好友加速成功~"),c()(i,y.ASSIST_UNLOCK,["精灵等级达到3级","即可为好友助力成功"]),c()(i,y.ASSIST_INVITE_FRIEND,"欢迎来玩多多精灵~"),c()(i,y.ASSIST_REMIND_FRIEND,"助力成功"),c()(i,v.RIGHT_TOP_NATIVE,"已成功为好友助力"),i),k=(o={},c()(o,y.ASSIST_SPEED_UP,{10015:["好友加速位已满","快来升级精灵拿红包吧"],10023:"今日为好友加速次数已达上限",10017:"您今天已为该好友加速过啦~",10016:"不能为自己加速哦~"}),c()(o,y.ASSIST_UNLOCK,{41119:"您不是新用户，无法帮好友助力哦~",41123:["好友打工位已全部解锁","快来升级精灵拿红包吧"],10017:"您已经助力过该好友啦~",10016:"不能为自己助力哦~"}),c()(o,y.ASSIST_INVITE_FRIEND,{10016:"不能为自己助力哦~",10015:"该好友今天被助力次数已达上限~",10023:"您已经不是新用户啦~",10017:"您今天已经助力过该好友啦~",41119:"您已经不是新用户啦~"}),c()(o,v.RIGHT_TOP_NATIVE,{10016:"不能为自己助力哦~",10015:"该好友今天被助力次数已达上限~",10023:"您已经不是新用户啦~",10017:"您今天已经助力过该好友啦~",41119:"您已经不是新用户啦~"}),c()(o,y.ASSIST_REMIND_FRIEND,{10015:"好友今日领取提醒奖励已达上限~",10023:"今日为好友助力次数已达上限~",10017:"您今天助力过该好友啦~",10016:"不能提醒自己哦~"}),o),w={10023:"当日助力次数已达上限~",10017:"您今天已经助力过该好友啦~",10015:"该好友今天被助力次数已达上限~",10016:"不能为自己助力哦~"},S=4,O=4,I=2e3,A={41115:"金币不足，快去做任务拿金币吧！"},T={GRAY:-1,NO_UNLOCK_SEAT:1,HAS_UNLOCK_SEAT:2,HAS_DISPATCH_PET:3,PLAYER_SELF:4,NO_PLAY_GAME:5,NO_IDLE_SEAT:6},C={WITH_DRAW:1,BUY_PET:2,CLICK_BOOK_ICON:3},E={SPRITE:0,SKIN:1},P={HAS_OPEN:1,CAN_OPEN:2,WAIT_TO_OPEN:3,LOCK:4},R={COIN:1,CASH:2,COUPON:3},x=!1,D="/promotion/keywords_game.html?type=52&",N="&_pdd_fs=1&_pdd_tc=ffffff&_pdd_sbs=1",L={HTJ:{1:"".concat(D,"id=5986").concat(N),2:"".concat(D,"id=5986").concat(N),3:"".concat(D,"id=5987").concat(N)},PRO:{1:"".concat(D,"id=164154").concat(N),2:"".concat(D,"id=164154").concat(N),3:"".concat(D,"id=164155").concat(N)}},M="多多精灵",B={SPRITE:1,CALF:2},F={HOME_PAGE_ICON:{1:"home_page_icon"},SEARCH_MISSION:(a={},c()(a,B.SPRITE,"search_sprite"),c()(a,B.CALF,"search_calf"),a),SHARE_CODE:{copy_link:"invite_code_1",message:"invite_code_2"}},G={1:"春意盎然皮肤",2:"红袖添香皮肤",3:"鸿运连连皮肤",4:"身怀绝技皮肤"},j={NO_BOX:0,BOX_LOCK:1,BOX_OPEN:2}},77165:function(e,t,r){"use strict";r.d(t,{U3:function(){return H},ZP:function(){return K}});var n={BG:"https://promotion.pddpic.com/promo/2020-11-15/d9f04232-0171-4471-9979-71f80842b736.jpg",PIC:"https://promotion.pddpic.com/promo/2020-12-08/9f97191f-f946-434d-a560-67c865a7a4b4.png.slim.png",JSON:"https://promotion.pddpic.com/promo/2020-09-27/28d4f8b9-de44-4395-ac2f-f9687725dc2f.json","top.png":{SHAPE:{type:"fromPhysicsEditor",label:"up",isStatic:!0,density:.1,restitution:0,friction:0,frictionAir:.01,frictionStatic:0,collisionFilter:{group:0,category:1,mask:255},fixtures:[{label:"",isSensor:!1,vertices:[[{x:749.5,y:366},{x:749,y:-.5},{x:377,y:157.5}],[{x:0,y:363.5},{x:377,y:157.5},{x:-.5,y:0}],[{x:377,y:157.5},{x:749,y:-.5},{x:-.5,y:0}]]}]},topOffset:0},"middle.png":{topOffset:78.5},"bottom.png":{SHAPE:{type:"fromPhysicsEditor",label:"bottom",isStatic:!0,density:.1,restitution:0,friction:0,frictionAir:.01,frictionStatic:0,collisionFilter:{group:0,category:1,mask:255},fixtures:[{label:"",isSensor:!1,vertices:[[{x:0,y:767.5},{x:749.5,y:767},{x:749,y:213.5},{x:368,y:.5},{x:144,y:12.5},{x:-.5,y:101}]]}]},topOffset:428}},i=r(49304),o=r.n(i);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var s={BG:"https://promotion.pddpic.com/promo/2020-11-15/c2cffa94-782c-4d8d-827f-0d1c8cabd1de.jpg",PIC:"https://promotion.pddpic.com/promo/2020-12-08/cd00060e-752b-4284-9614-249733098722.png.slim.png",JSON:"https://promotion.pddpic.com/promo/2020-10-16/20e4083e-615c-439b-9ee1-911637ba83eb.json","top.png":{SHAPE:{type:"fromPhysicsEditor",label:"up",isStatic:!0,density:.1,restitution:0,friction:0,frictionAir:.010000000000000009,frictionStatic:0,collisionFilter:{group:0,category:1,mask:255},fixtures:[{label:"",isSensor:!1,vertices:[[{x:0,y:385.5},{x:369,y:170.5},{x:2,y:-.5}],[{x:749.5,y:383},{x:749,y:-.5},{x:369,y:170.5}],[{x:749,y:-.5},{x:2,y:-.5},{x:369,y:170.5}]]}]},topOffset:0},"middle.png":{topOffset:85},"bottom.png":{SHAPE:{type:"fromPhysicsEditor",label:"bottom",isStatic:!0,density:.1,restitution:0,friction:0,frictionAir:.01,frictionStatic:0,collisionFilter:{group:0,category:1,mask:255},fixtures:[{label:"",isSensor:!1,vertices:[[{x:0,y:823.5},{x:749.5,y:823},{x:749,y:278.5},{x:268,y:-.5},{x:-.5,y:160}]]}]},topOffset:399.5}},c={FRAME_PIC:"https://promotion.pddpic.com/promo/2020-10-18/e046571a-0306-4fe4-af5a-9d631e3a48ca.png",TRANSFORM:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{DISPLAY_SCALE:.55,OFFSET_X:5,OFFSET_Y:10})};function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={BG:"https://promotion.pddpic.com/promo/2020-12-22/3f3bbd61-373a-4c66-91c1-9a5c135065dc.jpg",BG_NEW:"https://promotion.pddpic.com/promo/b5931656-ace3-4811-b4ab-d977f474ee3f.png",PIC:"https://promotion.pddpic.com/promo/2021-01-04/1ed180b2-c40a-4c27-855a-e7a5a2cdd6fd.png",JSON:"https://promotion.pddpic.com/promo/2020-12-24/59057e1a-b9ff-4d6b-89b1-435979148102.json","top.png":{SHAPE:{type:"fromPhysicsEditor",label:"up",isStatic:!0,density:.1,restitution:0,friction:0,frictionAir:.01,frictionStatic:0,collisionFilter:{group:0,category:1,mask:255},fixtures:[{label:"",isSensor:!1,vertices:[[{x:749.5,y:357},{x:749,y:-.5},{x:410,y:181.5}],[{x:0,y:392.5},{x:749,y:-.5},{x:-.5,y:0}]]}]},topOffset:0},"middle.png":{topOffset:78.5},"bottom.png":{SHAPE:{type:"fromPhysicsEditor",label:"bottom",isStatic:!0,density:.2,restitution:0,friction:.1,frictionAir:.01,frictionStatic:0,collisionFilter:{group:0,category:1,mask:255},fixtures:[{label:"",isSensor:!1,vertices:[[{x:0,y:849},{x:750,y:849},{x:750,y:250},{x:0,y:250}]]}]},topOffset:435}},f={BODY_SCALE:.45,DISPLAY_SCALE:.49},d={STATIC_FRAMES:[0],MOTION_FRAMES:[1,1,1,1,1,1,1,1],BLINK_FRAMES:[1,0,0,0,0,1]},h={STATIC_FRAMES:[0],MOTION_FRAMES:[0,0,0,0,0,0,0,0],BLINK_FRAMES:[0,1,1,1,1,0]},m={1:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/44caf9ca-0f79-4d9e-b11c-62715d426dd1.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/44caf9ca-0f79-4d9e-b11c-62715d426dd1.png.slim.png",NAME:"拜年精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},2:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2fe7e617-3724-4bb2-aa9c-94baa0109967.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/7571fd04-cbca-419c-904a-8cccdaab423c.png.slim.png",NAME:"招财精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},3:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/6135cc09-b52b-4a19-ae66-582e769865e0.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/ea87bc6a-c0e5-4e26-8c18-ba52fd70268a.png.slim.png",NAME:"鞭炮精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},4:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/c9fe2ee7-6d90-456b-b417-0b0999da66e0.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/e64de1f6-9505-4ca1-af4d-50df5923fea4.png.slim.png",NAME:"锦鲤精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},5:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/7867c8c3-c29c-44a9-9697-675f9d1ea33f.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/75b6c45a-193b-42d5-b951-425b19938672.png.slim.png",NAME:"神券精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},6:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/3cdec594-5f70-4f13-857b-f7081dc24187.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/88793420-bb89-4aeb-be7f-54b729b642dd.png.slim.png",NAME:"砍刀精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},7:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/7b33bb3f-66bc-4a2b-be15-43c4f1909d11.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/24e4a263-ff4a-4f0a-93ec-a1aa35f20fb9.png.slim.png",NAME:"断码精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},8:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/ef5b1699-582f-47df-849d-334b29c50798.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/455bf16d-e54c-4d2d-97e3-6a8771fc1bc1.png.slim.png",NAME:"补贴精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},9:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/524cc53d-08af-44ab-a36e-826c153e368c.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/6224dc66-861a-4b08-bace-5656cf4aed24.png.slim.png",NAME:"秒杀精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},10:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/f3ab2929-6bed-48c4-854d-811a883a0338.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/3d541be4-9768-4073-9e85-67f3fe826097.png.slim.png",NAME:"果园精灵",TRANSFORM:l({},f),FRAME_CONFIG:d},11:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/051b94df-94c6-4c7a-9cda-4cd085b5a270.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/57b44e0e-b753-4350-af6f-71f4d5ea73c9.png.slim.png",NAME:"月卡精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},12:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/9520a309-a152-42f1-89d4-31ea85dde2fa.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/9246b0e6-434a-4878-a155-6f7155918d98.png.slim.png",NAME:"宝宝精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},13:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/4358abe4-70f0-4ee1-ad09-a9f5d884353c.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/0e9a02f3-4ac8-4900-bf22-4618aaf1a72f.png.slim.png",NAME:"臭美精灵",TRANSFORM:l({},f),FRAME_CONFIG:d},14:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/7cd119da-1d3a-444d-a847-75ed585a08bb.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/536aa076-8e92-4cdc-b5fd-5d28d925e47e.png.slim.png",NAME:"泡澡精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},15:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/c8ef78d9-5ace-48be-9e3b-a9182347ea63.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/158a5906-73c4-426e-bb80-f2be104496b6.png.slim.png",NAME:"火锅精灵",TRANSFORM:l({},f),FRAME_CONFIG:d},16:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2021-01-19/24b38cb8-5828-4008-a105-3e1247526dbe.png",FRAME_PIC:"https://promotion.pddpic.com/promo/2021-01-18/3f5cf2f7-2f29-4ab2-a895-028a580af706.png",NAME:"飞机精灵",TRANSFORM:l({},f),FRAME_CONFIG:{STATIC_FRAMES:[0],MOTION_FRAMES:[1,2,3,4,5,6],BLINK_FRAMES:[7,8,9,10,11,12,13]},BACKGROUND_SIZE:"100% auto",CUT_HEIGHT:!0},17:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/6efd22d6-da4a-4b13-a6de-02c7455ddc94.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/8ad1946e-4e6d-49b9-9b77-de8ac035a28f.png.slim.png",NAME:"潮玩精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},18:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/b7e966d2-d845-4eb7-ad90-fadb15b69f66.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/5d024f0f-b52a-484c-b2db-f9ef4e04973e.png.slim.png",NAME:"时髦精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},19:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/3ebfcc7a-8645-4479-85be-6342801ac1a7.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/22cb34b5-476b-45ad-b38c-4df398dc2f51.png.slim.png",NAME:"学霸精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},20:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/ec61e3c2-08b3-43d8-ab18-c9ec63db33f4.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/4403622b-417a-4005-bb57-dc2ee7a42b12.png.slim.png",NAME:"被窝精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},21:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/367bd263-3890-4032-a39e-97d136e88f65.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/c2f74270-031b-4efb-8e0c-c173541586ec.png.slim.png",NAME:"省钱精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},22:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/26021d6a-5f1d-4c6d-8cc0-ed865949c059.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/a8528a06-1eef-4849-af0c-67c5cb8e7a2c.png.slim.png",NAME:"撒钱精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},23:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/19fc186c-25b7-47e8-8f1b-22898308f3f8.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/bf4a555f-e779-4025-b14e-37f227be8e58.png.slim.png",NAME:"快递精灵",TRANSFORM:l({},f),FRAME_CONFIG:h},24:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/8bb12240-ef0b-4f02-9240-7a59246ca82d.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/adaeb20d-0a50-40ed-a709-3f0be9e39404.png.slim.png",NAME:"牛啤精灵",TRANSFORM:l({},f),FRAME_CONFIG:h}},g={DISPLAY_SCALE:.53,OFFSET_X:5,OFFSET_Y:24},y={FRAME_PIC:"https://promotion.pddpic.com/promo/2021-01-18/fb331ba4-ed33-4077-9942-9495fcf25c01.png",TRANSFORM:l({},g)},v={FRAME_PIC:"https://promotion.pddpic.com/promo/2021-01-18/61e8fecc-2609-4df2-a9c7-34961dc0ad90.png",TRANSFORM:l({},g)},b={PIC:"https://promotion.pddpic.com/promo/9a5769bd-a5c1-4689-990a-d36fbf8dd0cd.png.slim.png",TRANS:{SCALE:.5,OFFSET_X:29,OFFSET_Y:41}};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w={WIDTH:136,HEIGHT:136},S={STATIC_FRAMES:[0],MOTION_FRAMES:[0,1,2,3,2,1],BLINK_FRAMES:[0,4,5,6,7,1,0]},O={5:{FRAME_PIC:"https://promotion.pddpic.com/promo/95f0efb0-c414-4158-a06c-9eee94076293.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/4e8cc488-c2a0-4e54-9650-6e7bcf968e6a.png",NAME:"白小多",FRAME_CONFIG:S},9:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/890a2053-cf5f-4e1f-a505-2b3a754dabf3.png",FRAME_PIC:"https://promotion.pddpic.com/promo/1c0d26cc-955b-4d55-8605-61e05a45ce4d.png",NAME:"茶花多",FRAME_CONFIG:S},13:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/94e6843e-68c4-4197-bccd-fd33ae4f1894.png",FRAME_PIC:"https://promotion.pddpic.com/promo/2a46d875-511b-43ea-a3f2-e9b855d08549.png",NAME:"赵本多",FRAME_CONFIG:S},17:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/7225da24-43b6-4819-8639-c7ea411dd127.png",FRAME_PIC:"https://promotion.pddpic.com/promo/ecc6ec81-5f09-4e3b-92fe-43e5cececbef.png",NAME:"飞天多",FRAME_CONFIG:S},24:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/aec04170-1b78-49a4-9144-a738be69c724.png",FRAME_PIC:"https://promotion.pddpic.com/promo/88c26991-8380-4b1d-b677-e8cd700ad104.png",NAME:"环环",FRAME_CONFIG:S},2:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/d21ed908-605c-4128-a22a-75220f542f9d.png",FRAME_PIC:"https://promotion.pddpic.com/promo/02c3ca87-9989-4f87-83b8-7eb354f12c48.png",SMALL_PIC:"https://promotion.pddpic.com/promo/2020-08-14/12ae0474-20e8-4b9c-966b-af04601e71ef.png",NAME:"可爱多",FRAME_CONFIG:S},15:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/e5f3f716-f5b5-4eaa-ad11-7bb0d21c8a0e.png",FRAME_PIC:"https://promotion.pddpic.com/promo/2020-08-31/7798a2a3-cce7-4f16-9932-d01336b120be.png",NAME:"美小多"},19:{FRAME_PIC:"https://promotion.pddpic.com/promo/a561d9ea-fb4b-4656-b3c2-77a8e9c8d2bf.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/cb9e167b-101e-4c13-ad97-5538420fdffb.png",NAME:"小多桑",FRAME_CONFIG:S},14:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/08e80f81-5efe-48df-84ab-776bb541b46b.png",FRAME_PIC:"https://promotion.pddpic.com/promo/9c4c4b10-1dc4-4277-a4fc-96289f730739.png",NAME:"萨瓦迪多",FRAME_CONFIG:S},4:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/ab72570a-65a4-40d7-bd55-72bab2b9610f.png",FRAME_PIC:"https://promotion.pddpic.com/promo/74c7c1c7-2707-4a27-918b-10c866e712cc.png.slim.png",SMALL_PIC:"https://promotion.pddpic.com/promo/2020-08-14/691102d7-a167-4c2f-ade2-9672badcdc1c.png",NAME:"古力娜朵",FRAME_CONFIG:S},22:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/19ca7319-80a9-42bf-affc-0ee09f259d86.png",FRAME_PIC:"https://promotion.pddpic.com/promo/6544d1e2-f1ff-4d20-b6dc-da3f5aeb5859.png",NAME:"狮小多",FRAME_CONFIG:S},12:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/0703bc05-1d81-462c-a495-30855a695f8b.png",FRAME_PIC:"https://promotion.pddpic.com/promo/65e08b83-6b2d-42b6-a95c-b700b68b6934.png",NAME:"卓玛多",FRAME_CONFIG:S},1:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/57326417-16c5-4f21-ab45-bae23d1f5f47.png",FRAME_PIC:"https://promotion.pddpic.com/promo/e70360e9-25d0-4d7a-89c3-bbd43526f80b.png.slim.png",SMALL_PIC:"https://promotion.pddpic.com/promo/2020-08-14/e5d997fa-cd09-4f5f-9b48-5dfc8bfe7fe0.png",NAME:"滚滚",FRAME_CONFIG:S},20:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/6a3776b9-bf54-4702-afd0-4503d9c6d786.png",FRAME_PIC:"https://promotion.pddpic.com/promo/fead059f-3d24-4d60-a026-d71bb088f415.png",NAME:"阿拉多",FRAME_CONFIG:S},16:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/7e44d201-8f1c-42fd-aa37-6b197ab81f7a.png",FRAME_PIC:"https://promotion.pddpic.com/promo/db318f2e-93f4-4b89-931e-cc18d163b110.png",NAME:"斗笠多",FRAME_CONFIG:S},21:{NAME:"多多酱",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/0492d4aa-78d4-41cc-988d-f91bf5a69dc1.png",FRAME_PIC:"https://promotion.pddpic.com/promo/d4fb8a04-08f0-4cda-8754-8836d0f3a293.png",FRAME_CONFIG:S},10:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/429104e1-2051-4579-81da-196e42d4d440.png",FRAME_PIC:"https://promotion.pddpic.com/promo/998624f5-385a-47f7-abcf-2c9b734fc91a.png",NAME:"小樱",FRAME_CONFIG:S},23:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/210b7a2a-446a-43ab-b0fd-6d1b0f97e60f.png",FRAME_PIC:"https://promotion.pddpic.com/promo/d0e221d1-de29-4e70-ac04-17e5cd5325c6.png",NAME:"青衣",FRAME_CONFIG:S},18:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/23be17e2-d8ba-4c0b-b467-eab441d4f37e.png",FRAME_PIC:"https://promotion.pddpic.com/promo/d358372d-e1a7-4293-aec0-6a7cce7162c4.png",NAME:"钮钴禄·多",FRAME_CONFIG:S},8:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/1d8c8b05-a015-41dd-8b3a-4f8068fab187.png",FRAME_PIC:"https://promotion.pddpic.com/promo/b5fb9a13-5daf-43e0-8b14-165510c97451.png",NAME:"萌小多",FRAME_CONFIG:S},3:{NAME:"帅多多",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-08-31/d586acd7-1db6-4a58-bb74-625b9ff8bd20.png",FRAME_PIC:"https://promotion.pddpic.com/promo/bac44b50-500b-4d88-8f09-c1e25f893f9e.png",SMALL_PIC:"https://promotion.pddpic.com/promo/2020-08-14/a37646ab-6237-4bb8-a0f8-f27e4df5d7e7.png",FRAME_CONFIG:S},7:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/591fe91c-baa5-4509-a4f7-7db495c58bce.png",FRAME_PIC:"https://promotion.pddpic.com/promo/66c30561-b9d5-48c8-9638-571712610427.png",NAME:"静多多",FRAME_CONFIG:S},6:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/fc27485d-9444-4a99-a8a7-49434b681bfa.png",FRAME_PIC:"https://promotion.pddpic.com/promo/a3150a68-2af4-4643-b653-0b4dba234f97.png",NAME:"卿卿",FRAME_CONFIG:S},11:{DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2020-09-01/0e348465-c139-4cbd-9d18-04899a6f1dca.png",FRAME_PIC:"https://promotion.pddpic.com/promo/d7245c72-ff9f-41e5-ad11-f249f15908b7.png.slim.png",NAME:"文曲多",FRAME_CONFIG:S}},I={DROP_BOOM:{PIC:"https://promotion.pddpic.com/upload/2020-08-30/a624ca6c-880c-463f-a687-a112781af6e6.png.slim.png",FRAME_WIDTH:272,FRAME_HEIGHT:272},SELECT_RING:{PIC:"https://promotion.pddpic.com/upload/2020-08-30/c8689926-5e07-4c60-a92f-4791674177f1.png",FRAME_WIDTH:136,FRAME_HEIGHT:136},MATCH_RING:{PIC:"https://promotion.pddpic.com/upload/2020-08-30/5c9f666d-d1af-4717-865d-7f5dd1c7ab02.png",FRAME_WIDTH:136,FRAME_HEIGHT:136},COMPOSE_BOOM:{PIC:"https://promotion.pddpic.com/promo/2020-09-07/c8e42ced-be63-4d5c-b2ff-d44943bf4f48.png.slim.png",FRAME_WIDTH:136,FRAME_HEIGHT:136},DRAG_BOOM:{PIC:"https://promotion.pddpic.com/promo/2020-09-07/75059510-238f-453b-a3fb-90efe645ea48.png.slim.png",FRAME_WIDTH:136,FRAME_HEIGHT:136}},A={PIC:"https://promotion.pddpic.com/promo/2020-10-25/74f3a862-e1d6-45cf-bd79-cf593f1f262e.png.slim.png",JSON:"https://promotion.pddpic.com/promo/2020-10-25/0159b30d-4bd1-4b70-a367-fcb4f73de90f.json",GUIDE_COMPOSE_TIP_PIC:"https://promotion.pddpic.com/promo/2020-10-25/f5a763ed-a9c1-4324-9326-44c5f6281ea1.png",GUIDE_HAND_PIC:"https://promotion.pddpic.com/promo/2020-09-07/935cbda2-df36-4d4d-870b-4c113459b309.png.slim.png",GUIDE_BUY_TIP:"https://promotion.pddpic.com/promo/2020-10-19/12bff5f8-50e9-41f9-a376-fb0bd8502c9f.png.slim.png"},T={LEVEL_NUMBER:{XML:"https://promotion.pddpic.com/promo/2020-09-27/8fde2f36-bee8-4d72-b5da-8ad44e382774.xml"},COIN_NUMBER:{XML:"https://promotion.pddpic.com/promo/2020-09-27/80ceecd8-dbd9-4244-b19d-c4bcb347d18b.xml"}},C={DISPLAY_SCALE:.55,OFFSET_X:5,OFFSET_Y:10},E={FRAME_PIC:"https://promotion.pddpic.com/upload/2020-08-14/cdb81c92-08d1-4949-8cbe-939d09975965.png",TRANSFORM:k({},C)},P={FRAME_PIC:"https://promotion.pddpic.com/promo/2020-10-07/fc53e159-0762-41e7-b795-c13a9a218969.png",TRANSFORM:k({},C)},R=r(42960);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N={BG:"https://promotion.pddpic.com/promo/ac385271-032b-4bfc-bc8d-eac7f2c59157.jpg",PIC:"https://promotion.pddpic.com/promo/2021-01-04/1ed180b2-c40a-4c27-855a-e7a5a2cdd6fd.png",JSON:"https://promotion.pddpic.com/promo/2020-12-24/59057e1a-b9ff-4d6b-89b1-435979148102.json","top.png":{SHAPE:{type:"fromPhysicsEditor",label:"up",isStatic:!0,density:.1,restitution:0,friction:0,frictionAir:.01,frictionStatic:0,collisionFilter:{group:0,category:1,mask:255},fixtures:[{label:"",isSensor:!1,vertices:[[{x:749.5,y:357},{x:749,y:-.5},{x:410,y:181.5}],[{x:0,y:392.5},{x:749,y:-.5},{x:-.5,y:0}]]}]},topOffset:0},"middle.png":{topOffset:78.5},"bottom.png":{SHAPE:{type:"fromPhysicsEditor",label:"bottom",isStatic:!0,density:.2,restitution:0,friction:.1,frictionAir:.01,frictionStatic:0,collisionFilter:{group:0,category:1,mask:255},fixtures:[{label:"",isSensor:!1,vertices:[[{x:0,y:849},{x:750,y:849},{x:750,y:250},{x:0,y:250}]]}]},topOffset:435}},L={BODY_SCALE:.45,DISPLAY_SCALE:.53},M={STATIC_FRAMES:[0],MOTION_FRAMES:[1,1,1,1,1,1,1,1],BLINK_FRAMES:[1,0,0,0,0,1]},B={STATIC_FRAMES:[0],MOTION_FRAMES:[0,0,0,0,0,0,0,0],BLINK_FRAMES:[0,1,1,1,1,0]},F={1:{PIC:"https://promotion.pddpic.com/promo/4f2f469f-f08f-41f1-bd2a-f0cf2765e86e.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/21dbf813-3bf2-4e86-b13a-b5d89e8fe7b9.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/436ef1aa-b342-45d3-a36c-7c699791a77a.png.slim.png",NAME:"乒乓球精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},2:{PIC:"https://promotion.pddpic.com/promo/28fe66b6-e2a7-44f3-9125-5f751db0173f.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/a8f3b4ec-3e42-455f-9fa5-200a7a9d54ea.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/ffb1e570-016b-48c7-8ffc-28df141347b7.png.slim.png",NAME:"羽毛球精灵",TRANSFORM:D({},L),FRAME_CONFIG:M},3:{PIC:"https://promotion.pddpic.com/promo/ca4768c9-a5ba-415a-b1fe-3d0d378a35d2.png",FRAME_PIC:"https://promotion.pddpic.com/promo/728f9a5c-6777-4c99-a806-2d1747be65ad.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/53fff69c-2822-4030-b36d-78cdc744fdf3.png.slim.png",NAME:"篮球精灵",TRANSFORM:D({},L),FRAME_CONFIG:M},4:{PIC:"https://promotion.pddpic.com/promo/47e0ad57-fb8a-49fe-ac50-814323ceaefb.png",FRAME_PIC:"https://promotion.pddpic.com/promo/63b2fdf9-4337-4121-8645-5aff5271df07.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/e4a6e085-bd73-46ef-9ad1-4fd4567ffba3.png.slim.png",NAME:"足球精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},5:{PIC:"https://promotion.pddpic.com/promo/597c7b52-0ee6-4785-a691-5389a4395dce.png",FRAME_PIC:"https://promotion.pddpic.com/promo/ed295c13-7c58-4a8b-803c-93cd95891004.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/ebd6ee12-540c-4e9b-80d9-cec4859a050d.png.slim.png",NAME:"排球精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},9:{PIC:"https://promotion.pddpic.com/promo/cad3a737-8a09-48df-9fea-dbdcba968e48.png",FRAME_PIC:"https://promotion.pddpic.com/promo/6dda2219-178a-4fcf-ada6-0b45438ffc82.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/7e17e121-3f34-4856-a977-fb6d57a5c303.png.slim.png",NAME:"体操精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},24:{PIC:"https://promotion.pddpic.com/promo/8dca7e90-3899-42b9-90c3-4b9db713bf50.png",FRAME_PIC:"https://promotion.pddpic.com/promo/d8d96c1a-426b-4c10-b38f-075a2dbd4442.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/a5bcc20c-36bc-4b36-8e02-7cfcc506f39b.png.slim.png",NAME:"金牌精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},18:{PIC:"https://promotion.pddpic.com/promo/3db56d0b-7fb3-4ecd-aee5-f03c9d2b7a1e.png",FRAME_PIC:"https://promotion.pddpic.com/promo/d797cc9a-21bf-49a7-b73d-f0873d947b76.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/e94a47c2-857b-43cf-92e3-1183e318ec62.png.slim.png",NAME:"击剑精灵",TRANSFORM:D({},L),FRAME_CONFIG:M},16:{PIC:"https://promotion.pddpic.com/promo/30b4d1a5-d2a5-493d-a522-5e3f458321db.png",FRAME_PIC:"https://promotion.pddpic.com/promo/43bbe718-5665-4193-891f-df3717058466.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/592a7948-d4d6-4ee7-8d86-f9fc84502b65.png.slim.png",NAME:"射击精灵",TRANSFORM:D({},L),FRAME_CONFIG:M},17:{PIC:"https://promotion.pddpic.com/promo/8e025e36-88ad-454e-a35b-0779b4a89f5b.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/9ca313ae-0190-48b8-9a20-2c3d1f10e511.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/01d45407-b24c-4efc-b9d2-bd7bc81bd06e.png.slim.png",NAME:"射箭精灵",TRANSFORM:D({},L),FRAME_CONFIG:M},11:{PIC:"https://promotion.pddpic.com/promo/d6cd6344-a798-4081-9e87-93bf21d2f6a5.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/ccc7cdfd-d19b-41b9-82f7-73c6053daf32.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/3e611e95-7487-4711-9101-564c5e30086d.png.slim.png",NAME:"帆船精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},19:{PIC:"https://promotion.pddpic.com/promo/0c2b2cd8-15b6-4f3a-857b-037621aa201c.png",FRAME_PIC:"https://promotion.pddpic.com/promo/ef7a5adc-77db-4811-8a53-0555cc27e3f4.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/51c0ed2a-be66-4bde-96c5-b7a4171c3628.png.slim.png",NAME:"拳击精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},15:{PIC:"https://promotion.pddpic.com/promo/f4e5f577-eaab-4a42-a201-61cfb28c8cc2.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/d44244a4-98a7-4594-bf93-d2e74daf41a0.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/d7c62c5f-edae-493f-97a0-abf3d5373193.png.slim.png",NAME:"举重精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},10:{PIC:"https://promotion.pddpic.com/promo/14ecdf49-5cc0-4ea4-819f-d60c9f4b4ddb.png",FRAME_PIC:"https://promotion.pddpic.com/promo/a1cb7afc-8c87-4872-b586-e8dd66c4adeb.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/bb579993-ccc5-4fc4-9d5f-28d0f2ae4fbf.png.slim.png",NAME:"游泳精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},20:{PIC:"https://promotion.pddpic.com/promo/1b0b9f50-d19c-43e3-b292-ecaa0e41208c.png",FRAME_PIC:"https://promotion.pddpic.com/promo/61fb6135-d4bf-449f-b5ac-8a3bc571c201.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/8aaadad9-56c1-456e-a65b-086922ca9e00.png.slim.png",NAME:"滑板精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},12:{PIC:"https://promotion.pddpic.com/promo/d825a148-eaf7-45c2-9d02-b6df0f70261e.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/c15a26af-353a-4bf9-b164-de0a4dac3296.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/2ccc5305-bd29-4638-b065-9b5cc7838a74.png.slim.png",NAME:"田径精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},6:{PIC:"https://promotion.pddpic.com/promo/e2a81b67-f7e8-42b2-9281-39664bac1c69.png",FRAME_PIC:"https://promotion.pddpic.com/promo/e4dc8409-c019-416d-9585-0837d31b260c.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/24bc15c0-ea76-4405-88c6-4f28146378c3.png.slim.png",NAME:"网球精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},13:{PIC:"https://promotion.pddpic.com/promo/689f840f-f6bf-45a3-9043-9f241d4b00c7.png",FRAME_PIC:"https://promotion.pddpic.com/promo/b2eaca2f-c957-4133-a773-df8fc2ff914b.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/1ced6309-c4fb-4abd-ad36-344e9fd2b225.png.slim.png",NAME:"自行车精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},14:{PIC:"https://promotion.pddpic.com/promo/5013ba58-5ca3-4a50-a075-b734d032b748.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/5bf64f20-93ad-4fbc-b39b-e8a99d713f88.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/a2d7dce7-c4d3-4596-ba8d-b1b73d2bc7f0.png.slim.png",NAME:"跆拳道精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},22:{PIC:"https://promotion.pddpic.com/promo/50e002ca-eeaa-4156-8d0c-9abf238e5cb6.png",FRAME_PIC:"https://promotion.pddpic.com/promo/7cb09db4-1338-4e9e-ba83-42d7ecbfdf22.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/d4fba1e8-80ed-4587-ab03-35144f47079e.png.slim.png",NAME:"铜牌精灵",TRANSFORM:D({},L),FRAME_CONFIG:M},23:{PIC:"https://promotion.pddpic.com/promo/32a17933-5618-4006-bb14-34a41f8eb800.png",FRAME_PIC:"https://promotion.pddpic.com/promo/b539187b-dc84-410c-bd75-b96db252f4b8.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/ff1a512b-b079-4650-98ad-99591206a407.png.slim.png",NAME:"银牌精灵",TRANSFORM:D({},L),FRAME_CONFIG:M},8:{PIC:"https://promotion.pddpic.com/promo/1cfe5fb0-1d09-4eda-a80c-b736701d874b.png.slim.png",FRAME_PIC:"https://promotion.pddpic.com/promo/eaa4ecd8-d38c-437d-8f1d-08385e6e64c8.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/d4658d42-0b13-4661-ae5b-b8bac989c6e5.png.slim.png",NAME:"鞍马精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},21:{PIC:"https://promotion.pddpic.com/promo/e71e6850-a35f-4c2c-8b7e-56f8d9e912b6.png",FRAME_PIC:"https://promotion.pddpic.com/promo/5f32c527-7af1-4052-876d-37cdc545cb5a.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/e9a92f14-9126-4289-b936-b52a1ecef6f0.png.slim.png",NAME:"马术精灵",TRANSFORM:D({},L),FRAME_CONFIG:B},7:{PIC:"https://promotion.pddpic.com/promo/75b22e75-4dd6-4788-b4c1-3d5aea6e8786.png",FRAME_PIC:"https://promotion.pddpic.com/promo/ee08c7a2-4223-4eb8-8924-afc359242004.png.slim.png",DIALOG_FRAME_PIC:"https://promotion.pddpic.com/promo/1dcdd165-aec4-473e-abef-9659b772b85f.png.slim.png",NAME:"高尔夫精灵",TRANSFORM:D({},L),FRAME_CONFIG:B}},G={DISPLAY_SCALE:.57,OFFSET_X:5,OFFSET_Y:24},j={FRAME_PIC:"https://promotion.pddpic.com/promo/be554205-90cf-4860-90bc-c96c3ff82182.png",TRANSFORM:D({},G)},U={FRAME_PIC:"https://promotion.pddpic.com/promo/40a37ac6-9e0f-4fbb-aefc-fc2957e05b55.png",TRANSFORM:D({},G)},W=r(21403),Z="https://promotion.pddpic.com/promo/946965c6-a44a-4db2-8e72-5cdb1527840a.png.slim.c1.png",H={LEVEL_1:{WRAP_COLOR:"#1bc9c6",BG_COLOR:"#13CAC5",EMITTER_COLOR:2778710,BG_BLOCKS:n,SEAT:{PIC:"https://promotion.pddpic.com/promo/2020-11-23/5795c475-2d1c-4d11-a0b7-dcab7837f4c9.png",JSON:"https://promotion.pddpic.com/promo/2020-11-23/11af95b9-9461-45e5-b6fa-1999bd59ac9c.json",BG_DOM:{w:3.35,h:1.6,x:.17,y:4.2},PIC_SPRITE:{originWidth:995,originHeight:401,map:{BG:{x:0,y:0}}},BG_POSITION:{x:187.5,y:495},TRASH_BOX_POSITION:{x:346,y:470},SEAT_POINTS:[{x:83,y:542},{x:137,y:515},{x:187.5,y:487},{x:237,y:515},{x:285,y:542}],SHADOW_CONFIG:{offsetX:0,offsetY:25,scale:.55},LEVEL_ICON_CONFIG:{offsetX:20,offsetY:15,scale:.4},LEVEL_FONT_CONFIG:{fontSize1:12,fontSize2:13,offsetX1:13,offsetX2:16,offsetY:7},RECALL_ICON_CONFIG:{scale:.4,offsetX:-10,offsetY:0},WORK_TIP_CONFIG:{scale:.55,offsetX:0,offsetY:25},AVATAR_CONFIG:{scale:.2,offsetX:20,offsetY:15},DRIVE_AWAY_CONFIG:{scale:.4,offsetX:-10,offsetY:0},REMIND_CONFIG:{scale:.4,offsetX:-10,offsetY:0},REMIND_COIN_CONFIG:{scale:.4,offsetX:5,offsetY:0}},SPECIAL_EFFECT:I,GUIDE:A,WORK_PET:E,STEAL_PET:P,SPRITE_MAP:O,BITMAP_FONT:T,UI_COLOR:{BASE_BG:{NUM_16:"#2A6656",RGBA:{r:42,g:102,b:86,a:.75}},BOTTOM_TIP:{NUM_16:"#21A780",RGBA:{r:33,g:167,b:128,a:.7}}},IMGS:{BOTTOM_BAR_AVATAR_WORK:"https://promotion.pddpic.com/promo/2020-09-20/1648fa75-2802-4b2d-9d41-31b5dccbe628.png.slim.png",BOTTOM_BAR_AVATAR_RECALL:"https://promotion.pddpic.com/promo/2020-09-20/3cdf395e-dbc5-4bde-a465-4dc3d53cf88d.png.slim.png"},STATIC_MAP:R.ZP.SPRITE_MAP,LAZY_STATIC_MAP:R.ZP.SPRITE_MAP,PET_FRAME_SIZE:w,TRASH_RECYCLE_TIP:b,SKIN_BOOK:{PIC:"https://promotion.pddpic.com/promo/49e1b12e-e4bc-4193-8daa-4d1cba28568e.png",NAME:W.DP[1]},MAIN_BTN_SPRITE:Z},LEVEL_2:{WRAP_COLOR:"#f14629",BG_COLOR:"#EF5430",EMITTER_COLOR:15231043,BG_BLOCKS:s,SEAT:{PIC:"https://promotion.pddpic.com/promo/2020-11-23/cfefa59f-86a1-4bc5-8fa2-e12963a64d38.png",JSON:"https://promotion.pddpic.com/promo/2020-11-23/f3f38c08-9ff3-4235-9622-d7bc27605f50.json",BG_DOM:{w:3.45,h:1.79,x:-.08,y:4.06},PIC_SPRITE:{originWidth:1015,originHeight:436,map:{BG:{x:0,y:0}}},BG_POSITION:{x:165,y:490},TRASH_BOX_POSITION:{x:346,y:470},SEAT_POINTS:[{x:89,y:539},{x:137,y:515},{x:187.5,y:487},{x:237,y:515},{x:285,y:538}],SHADOW_CONFIG:{offsetX:0,offsetY:25,scale:.55},LEVEL_ICON_CONFIG:{offsetX:20,offsetY:15,scale:.4},LEVEL_FONT_CONFIG:{fontSize1:12,fontSize2:13,offsetX1:13,offsetX2:16,offsetY:7},RECALL_ICON_CONFIG:{scale:.4,offsetX:-10,offsetY:0},WORK_TIP_CONFIG:{scale:.55,offsetX:0,offsetY:25},AVATAR_CONFIG:{scale:.2,offsetX:20,offsetY:15},DRIVE_AWAY_CONFIG:{scale:.4,offsetX:-10,offsetY:0},REMIND_CONFIG:{scale:.4,offsetX:-10,offsetY:0},REMIND_COIN_CONFIG:{scale:.4,offsetX:5,offsetY:0}},SPECIAL_EFFECT:I,GUIDE:A,WORK_PET:c,STEAL_PET:P,SPRITE_MAP:O,BITMAP_FONT:T,UI_COLOR:{BASE_BG:{NUM_16:"#E64925",RGBA:{r:230,g:73,b:37,a:.75}},BOTTOM_TIP:{NUM_16:"#E44E36",RGBA:{r:228,g:78,b:54,a:.7}}},IMGS:{BOTTOM_BAR_AVATAR_WORK:"https://promotion.pddpic.com/promo/2020-10-21/6b639c93-b771-45df-b77d-6ebe237937be.png.slim.png",BOTTOM_BAR_AVATAR_RECALL:"https://promotion.pddpic.com/promo/2020-10-21/33af14ea-7a25-49e1-b035-cf920faba3d4.png.slim.png"},STATIC_MAP:R.ZP.SPRITE_MAP,LAZY_STATIC_MAP:R.ZP.SPRITE_MAP,PET_FRAME_SIZE:w,TRASH_RECYCLE_TIP:b,SKIN_BOOK:{PIC:"https://promotion.pddpic.com/promo/caea3fe7-19ff-437c-b02c-6d6541e960d8.png",NAME:W.DP[2]},MAIN_BTN_SPRITE:Z},LEVEL_3:{WRAP_COLOR:"#f14629",BG_COLOR:"#EF5430",EMITTER_COLOR:14423831,BG_BLOCKS:p,SEAT:{PIC:"https://promotion.pddpic.com/promo/bfc90dc7-6e10-4698-bac1-8ea0b41d0818.png.slim.png",JSON:"https://promotion.pddpic.com/promo/b76972aa-79c7-4491-ae29-a139fb6b9265.json",SEAT_PIC:"https://promotion.pddpic.com/promo/d567eb89-d887-482e-9df5-e16f0d0df102.png.slim.png",SEAT_SPEED_UP_PIC:"https://promotion.pddpic.com/promo/c0d4dd1b-d63c-455e-9b03-9da7288ca01d.png.slim.png",BG_DOM:{w:3.5,h:.83,x:.1,y:5.2},TRASH_BOX_POSITION:{x:346,y:470},SEAT_POINTS:[{x:60,y:545},{x:119,y:545},{x:179,y:545},{x:239,y:545},{x:298,y:545}],SHADOW_CONFIG:{offsetX:1,offsetY:35,scale:.48},LEVEL_ICON_CONFIG:{offsetX:20,offsetY:23,scale:.4},LEVEL_FONT_CONFIG:{fontSize1:12,fontSize2:13,offsetX1:13,offsetX2:16,offsetY:14},RECALL_ICON_CONFIG:{scale:.46,offsetX:-19,offsetY:-10},WORK_TIP_CONFIG:{scale:.55,offsetX:0,offsetY:25},AVATAR_CONFIG:{scale:.2,offsetX:18,offsetY:21},DRIVE_AWAY_CONFIG:{scale:.4,offsetX:-20,offsetY:-10},REMIND_CONFIG:{scale:.4,offsetX:-20,offsetY:0},REMIND_COIN_CONFIG:{scale:.4,offsetX:1,offsetY:0}},SPECIAL_EFFECT:I,GUIDE:{PIC:"https://promotion.pddpic.com/promo/814cdcb9-a580-487e-87d4-aa1acb148f49.png.slim.png",JSON:"https://promotion.pddpic.com/promo/468ec950-dabc-4276-8d36-c3c1647f26a2.json",GUIDE_COMPOSE_TIP_PIC:"https://promotion.pddpic.com/promo/95a402ac-d7cd-4504-a76b-3149faf277f2.png.slim.png",GUIDE_HAND_PIC:"https://promotion.pddpic.com/promo/2020-12-23/b68c6000-b9d5-4ca3-9bf5-369b48fe6146.png.slim.png",GUIDE_BUY_TIP:"https://promotion.pddpic.com/promo/2020-12-23/8e6fa99f-c7c4-4111-a104-40090a61abe7.png.slim.png"},WORK_PET:y,STEAL_PET:v,SPRITE_MAP:m,BITMAP_FONT:T,UI_COLOR:{BASE_BG:{NUM_16:"#DC1717",RGBA:{r:230,g:23,b:23,a:.8}},BOTTOM_TIP:{NUM_16:"#DC1717",RGBA:{r:220,g:23,b:23,a:.8}}},IMGS:{BOTTOM_BAR_AVATAR_WORK:"https://promotion.pddpic.com/promo/2020-10-21/6b639c93-b771-45df-b77d-6ebe237937be.png.slim.png",BOTTOM_BAR_AVATAR_RECALL:"https://promotion.pddpic.com/promo/2020-10-21/33af14ea-7a25-49e1-b035-cf920faba3d4.png.slim.png"},STATIC_MAP:R.ZP.SPRITE_MAP_3,LAZY_STATIC_MAP:R.ZP.SPRITE_MAP_3,PET_FRAME_SIZE:{WIDTH:166,HEIGHT:166},TRASH_RECYCLE_TIP:b,SKIN_BOOK:{PIC:"https://promotion.pddpic.com/promo/f37894ef-7ffd-4bf5-a36b-4e4fa898f04c.png",NAME:W.DP[3]},MAIN_BTN_SPRITE:"https://promotion.pddpic.com/promo/1c73ab4d-66db-4c93-ab41-c66429db7295.png.slim.c1.png"},LEVEL_4:{WRAP_COLOR:"#76c0c3",BG_COLOR:"#f4eac1",EMITTER_COLOR:25971,BG_BLOCKS:N,SEAT:{PIC:"https://promotion.pddpic.com/promo/c2584c9b-33d7-4f1d-935c-d6b76083a037.png.slim.png",JSON:"https://promotion.pddpic.com/promo/0117a6a7-fc75-4b76-87ad-13efaf7c8ca4.json",SEAT_PIC:"https://promotion.pddpic.com/promo/8712392a-2b0e-479e-b723-1e1f24107020.png.slim.png",SEAT_SPEED_UP_PIC:"https://promotion.pddpic.com/promo/61c85dad-8a81-4db0-8e67-15e3d9e6ee2e.png.slim.png",BG_DOM:{w:3.56,h:1.38,x:.1,y:5.12},TRASH_BOX_POSITION:{x:346,y:470},SEAT_POINTS:[{x:60,y:542},{x:119,y:542},{x:179,y:542},{x:239,y:542},{x:298,y:542}],SHADOW_CONFIG:{offsetX:1,offsetY:35,scale:.48},LEVEL_ICON_CONFIG:{offsetX:20,offsetY:23,scale:.4,displaySize:{x:.26,y:.26}},LEVEL_FONT_CONFIG:{fontSize1:12,fontSize2:13,offsetX1:19.5,offsetX2:19,offsetY:23.5},RECALL_ICON_CONFIG:{scale:.46,offsetX:-19,offsetY:-10},WORK_TIP_CONFIG:{scale:.55,offsetX:0,offsetY:25},AVATAR_CONFIG:{scale:.2,offsetX:18,offsetY:21},DRIVE_AWAY_CONFIG:{scale:.4,offsetX:-20,offsetY:-10},REMIND_CONFIG:{scale:.4,offsetX:-20,offsetY:0},REMIND_COIN_CONFIG:{scale:.4,offsetX:1,offsetY:0}},SPECIAL_EFFECT:I,GUIDE:{PIC:"https://promotion.pddpic.com/promo/2020-10-25/74f3a862-e1d6-45cf-bd79-cf593f1f262e.png.slim.png",JSON:"https://promotion.pddpic.com/promo/2020-10-25/0159b30d-4bd1-4b70-a367-fcb4f73de90f.json",GUIDE_COMPOSE_TIP_PIC:"https://promotion.pddpic.com/promo/642fcd89-de6d-4765-9a28-25b0bb572ae0.png.slim.png",GUIDE_HAND_PIC:"https://promotion.pddpic.com/promo/2020-09-07/935cbda2-df36-4d4d-870b-4c113459b309.png.slim.png",GUIDE_BUY_TIP:"https://promotion.pddpic.com/promo/2020-10-19/12bff5f8-50e9-41f9-a376-fb0bd8502c9f.png.slim.png"},WORK_PET:j,STEAL_PET:U,SPRITE_MAP:F,BITMAP_FONT:T,UI_COLOR:{BASE_BG:{NUM_16:"#007272",RGBA:{r:0,g:144,b:144,a:.8}},BOTTOM_TIP:{NUM_16:"#007272",RGBA:{r:0,g:144,b:144,a:.8}}},IMGS:{BOTTOM_BAR_AVATAR_WORK:"https://promotion.pddpic.com/promo/2020-10-21/6b639c93-b771-45df-b77d-6ebe237937be.png.slim.png",BOTTOM_BAR_AVATAR_RECALL:"https://promotion.pddpic.com/promo/3c6c1ebb-3d77-4ca8-b678-e157726bcb72.png.slim.png"},STATIC_MAP:F,LAZY_STATIC_MAP:R.ZP.LAZY_STATIC_MAP_4,PET_FRAME_SIZE:{WIDTH:166,HEIGHT:166},TRASH_RECYCLE_TIP:{PIC:"https://promotion.pddpic.com/promo/9a5769bd-a5c1-4689-990a-d36fbf8dd0cd.png.slim.png",TRANS:{SCALE:.5,OFFSET_X:29,OFFSET_Y:41}},SKIN_BOOK:{PIC:"https://promotion.pddpic.com/promo/22155fa3-785c-42f9-a374-480daa77854d.png",NAME:W.DP[4]},MAIN_BTN_SPRITE:"https://promotion.pddpic.com/promo/d10418d9-987e-4fe3-973d-20a613492016.png"}},K=H},93358:function(e,t,r){"use strict";r.d(t,{Zk:function(){return n},mC:function(){return i},Hf:function(){return o},n2:function(){return a},Cw:function(){return s},IB:function(){return c},yl:function(){return u},Ag:function(){return l},$y:function(){return p},wJ:function(){return f},KS:function(){return d},Fm:function(){return h},fP:function(){return m},rT:function(){return g},Y9:function(){return y},us:function(){return v},l7:function(){return b},MQ:function(){return _},Jl:function(){return k},L9:function(){return w},sD:function(){return S},RR:function(){return O},SI:function(){return I},Em:function(){return A},eE:function(){return T},MX:function(){return C},_y:function(){return E},JH:function(){return P},Ww:function(){return R},Q0:function(){return x},wy:function(){return D},b5:function(){return N},DV:function(){return L},h9:function(){return M},ts:function(){return B},oi:function(){return F},Jv:function(){return G},zk:function(){return j},zV:function(){return U},TZ:function(){return W},Hu:function(){return Z},ml:function(){return H},j3:function(){return K},aG:function(){return z},KZ:function(){return q},eY:function(){return Y},RZ:function(){return V},UI:function(){return X},dH:function(){return Q},yc:function(){return J},Y8:function(){return $},rS:function(){return ee},oY:function(){return te},OF:function(){return re},DT:function(){return ne},uG:function(){return ie},kX:function(){return oe}});var n="10742",i="69042",o="duoduo_fairy",a="",s={pageElSn:3536652,PET:3536653},c={pageElSn:3536864,SEAT:3536865},u={pageElSn:3536900},l={sectionPageElSn:3536899},p={pageElSn:3705281,CONFIRM_BTN:3705282,CANCEL_BTN:3705283},f={sectionPageElSn:3536894,EL_3436898:3536898,EL_3436897:3536897,EL_4107694:4107694,EL_4107693:4107693,EL_4113249:4113249},d={sectionPageElSn:3536892,EL_3436893:3536893},h={sectionPageElSn:3536884},m={sectionPageElSn:3536882,EL_3436883:3536883},g={pageElSn:3536858},y={pageElSn:4074263},v={sectionPageElSn:3536823,EL_3436857:3536857,EL_4824215:4824215,EL_7080195:7080195},b={sectionPageElSn:3536690,EL_3436822:3536822,EL_3436821:3536821,EL_4981523:4981523},_={sectionPageElSn:3536357,EL_3436624:3536624,EL_MYSTERY:3808694},k={sectionPageElSn:3536360,EL_3436623:3536623,EL_3436484:3536484,EL_3436483:3536483,EL_3436482:3536482,EL_3436481:3536481,EL_3436480:3536480,EL_3436479:3536479,EL_3436478:3536478,EL_3436374:3536374,EL_3808827:3808827,EL_4064437:4064437,EL_5281134:5281134,EL_4596723:4596723,EL_5614397:5614397},w={pageElSn:3808621,DAILY_ICON:3808624},S={pageElSn:3809205,FRIEND:3809265},O={pageElSn:4019893,CANCEL_BTN:4019895,CONFIRM_BTN:4019894},I={pageElSn:4019880,CANCEL_BTN:4019881,CONFIRM_BTN:4019882},A={pageElSn:4019839,RECALL_ALL_BTN:4019861,FRIEND_ITEM:4019859,ADD_FRIEND_BTN:5203711,DEL_FRIEND_BTN:5203712},T={pageElSn:4019862,RECALL_DIALOG:4019866,RECALL_BTN:4019865,RETURN_HOME:4019864,GRAB_SEAT_BTN:4019863},C={pageElSn:4019891,CONFIRM_BTN:4019892},E={TOMORROW_COME:5281206,DIALOG_CLOSE:5281198,SIGN_BTN:5281194,REMINDER:5281197,RED_PACKET:5281199,RARE_SHELL_SINGLE:6475317,RARE_SHELL_MULTI:6475318},P={pageElSn:4066433,EL:4066434},R={pageElSn:4098855,EL:4098862},x={pageElSn:4099278,CONFIRM:4099445,CANCEL:4107689},D={pageElSn:4098917,EL:4098924},N={pageElSn:4107843},L={pageElSn:4255425,EL:4255426},M={pageElSn:4609681,EL_GIFT_BOX_BTN:4609692},B={pageElSn:4878944,EL_TIME_LIMIT_BUY_ICON:4878946,EL_TIME_LIMIT_BUY_DIALOG_CLOSE_BTN:4878947,EL_TIME_LIMIT_BUY_DIALOG_CONFIRM_BTN:4878945,EL_MERGE_TASK_ICON:4878951,EL_MERGE_TASK_FINISH_DIALOG_CLOSE_BTN:4878950,EL_MERGE_TASK_DIALOG_CLOSE_BTN:4878949,EL_MERGE_TASK_DIALOG_JUMP_BTN:4878948},F=4607631,G=4674955,j={MALL_ITEM:4858863,NPC_4TH:6135772,AWARD_DIALOG:4858874},U={sectionSn:4858865,MALL_MAIN:4858867,MALL_GOODS_ITEM:4878112,MALL_CLOSE:4858869},W={BTN:5310895},Z={FRIEND_SCENE_INVITE_BOX:5175937,BTN_RECEIVE_BOX_REWARD:5175936,BTN_INVITE_BACK_DIALOG:5175935},H={ICON:5330797,DIALOG_BTN:5330799,DIALOG_CHANGE_BTN:5330802,DIALOG_CLOSE:5330803},K={LOCK_DIALOG_BTN:5307782,RESULT_DIALOG_BTN:5307924,MAIN_ICON:5307767},z={BOX_ITEM:5665202,PERSONALIZED_COUPON_DIALOG:5654358,COUPON_DIALOG:5827621,COIN_GAIN_DIALOG:5654353,COUPON_ICON:5660852,COUPON_RECORD_ITEM:5665201},q={BUTTON:5883024},Y={ICON:5892689,COUPON_ITEM:6017134,TOOL_ITEM:6017136,TOOL_DETAIL:6422144},V={ICON:5892690,RABBIT_NPC:5890774,MACHINE_ANI:5893047,GET_GOODS_DIALOG:5893044,GET_COUPON_DIALOG:5892766,GET_COIN:5892758,MISSION_BTN_CPT:5892702,MISSION_BTN_CPC:6363971,DRAW_BTN:5892699,SHOW_PRIZE_BTN:5892698},X={MY_LETTER_DIALOG:6081253,RECEIVE_LETTER_DIALOG:6081203,RECEIVE_COIN_DIALOG:6081202,TRAVELING_DIALOG:6081048,MY_LETTER_LIST_DIALOG:6081031,START_DIALOG_BTN:6081030,MESSENGER_HOUSE:6080992,LETTER_BOX:6080988,SHELL:6080987,CALENDAR:6381968,CALL_BACK_BTN:6384234,WILL_COME_BTN:6385517,RARE_BOOK:6584175,GO_COLLECT:6584172,RANK_ENTRY:6584167,RANK_DIALOG:6584168,RANK_BOTTOM_BAR:6661320,RANK_MORE_BTN:6584173,MSG_BOX_AWARD_DIALOG:6584311,MSG_BOX:6584302},Q={BEAR:6204793,AWARD_ANI:6204794,CPC_ENTRY:6422128},J=6422138,$=6835367,ee=6838645,te={BTN_START_PLAY:6841828,BTN_USE_FOOD:6841720,GUIDE_ADD_ENERGY_TIPS:6841718,ENERGY_ENTRY:6841714},re={LUCKY_PACKET_DIALOG:6979651,OFFLINE_DIALOG:6979650},ne=6688799,ie={AIRPLANE:7124474,DIALOG_BTN:7124475},oe=7270039},42960:function(e,t,r){"use strict";r.d(t,{iI:function(){return n}});var n={MAN:1,WOMAN:2},i={5:{TALK_TEXT:"好酒开缸香十里，好歌开唱情满怀",PIC:"https://promotion.pddpic.com/promo/2020-08-14/bc57f33d-c627-4b3d-a81f-21ebac2ffc4b.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/867b8720-014d-48ea-be5c-bd9361898a6d.png.slim.png",GENDER:n.WOMAN,NAME:"白小多"},9:{TALK_TEXT:"我独自走在回家的小路上~",PIC:"https://promotion.pddpic.com/promo/2020-08-14/b15caf7a-6811-400c-bf2e-c2de1bf2c155.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/d337d2c9-d9bd-4186-991e-7e3a99f1de84.png.slim.png",GENDER:n.WOMAN,NAME:"茶花多"},13:{TALK_TEXT:"俺们那旮沓都si活雷锋",PIC:"https://promotion.pddpic.com/promo/2020-08-14/a1210ce0-85f4-4f44-84f0-73a5d9ebd576.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/7c4087ee-5911-454b-8273-06310a684ad6.png.slim.png",GENDER:n.MAN,NAME:"赵本多"},17:{TALK_TEXT:"起舞弄清影，何似在人间",PIC:"https://promotion.pddpic.com/promo/2020-08-14/f6e448ef-14f8-4cb5-b46b-c233f928d61d.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/6b9b71d0-e156-4296-9a74-9067791e47ff.png.slim.png",GENDER:n.WOMAN,NAME:"飞天多"},24:{TALK_TEXT:"万水千山总是情，买点荔枝行不行~",PIC:"https://promotion.pddpic.com/promo/2020-08-14/a45b2772-4aa0-4767-b5dc-901326965e7b.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/715c6534-f36b-48c2-9e8c-f2d06646f011.png.slim.png",GENDER:n.WOMAN,NAME:"环环"},2:{TALK_TEXT:"今天吃泡菜了嘛思密达",PIC:"https://promotion.pddpic.com/promo/2020-08-14/12ae0474-20e8-4b9c-966b-af04601e71ef.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/dd47a002-5b15-43df-b250-a0b9137a5f28.png.slim.png",GENDER:n.WOMAN,NAME:"可爱多"},15:{TALK_TEXT:"夜上海~夜上海~",PIC:"https://promotion.pddpic.com/promo/2020-08-14/82caa1b5-9403-4604-ac64-347f83900624.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/614b2dd5-4287-42f2-9eef-c62849bb9fc1.png.slim.png",GENDER:n.WOMAN,NAME:"美小多"},19:{TALK_TEXT:"有时间不开心，还不如去吃点好吃的",PIC:"https://promotion.pddpic.com/promo/2020-08-14/96dacf11-9e1c-41d6-a05c-3724907c694f.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/8dd2e15e-1e43-4b10-8ffa-12b2f042d70e.png.slim.png",GENDER:n.MAN,NAME:"小多桑"},14:{TALK_TEXT:"来，刷我滴卡",PIC:"https://promotion.pddpic.com/promo/2020-08-14/d5b79c7b-1fe9-48d7-878d-e93051fb7fd9.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/b029ba8a-4028-4eb2-ab58-a8b8a6f7f8e0.png.slim.png",GENDER:n.WOMAN,NAME:"萨瓦迪多"},4:{TALK_TEXT:"我们新疆好地方啊~天山南北好牧场",PIC:"https://promotion.pddpic.com/promo/2020-08-14/691102d7-a167-4c2f-ade2-9672badcdc1c.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/c3672315-866a-4faf-aa80-f2b3fdcc5968.png.slim.png",GENDER:n.WOMAN,NAME:"古力娜朵"},22:{TALK_TEXT:"咚~锵~咚锵~咚咚锵！",PIC:"https://promotion.pddpic.com/promo/2020-08-14/02c99709-e5c2-4268-96b9-19393e22e2a0.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/b8932167-860d-4f21-8d55-fc808da3df8f.png.slim.png",GENDER:n.MAN,NAME:"狮小多"},12:{TALK_TEXT:"那是一条神奇的天路~",PIC:"https://promotion.pddpic.com/promo/2020-08-14/732f7530-3dea-4dd6-91c1-e0fc25e725fc.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/6c002a20-3c9c-4076-9250-f2513e2bef41.png.slim.png",GENDER:n.WOMAN,NAME:"卓玛多"},1:{TALK_TEXT:"全国人民都爱我，熬夜达人就是我",PIC:"https://promotion.pddpic.com/promo/2020-08-14/e5d997fa-cd09-4f5f-9b48-5dfc8bfe7fe0.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/792709d9-98f8-47a6-ba5e-adc34b39539e.png.slim.png",GENDER:n.MAN,NAME:"滚滚"},20:{TALK_TEXT:"我的肚皮会跳舞哦~",PIC:"https://promotion.pddpic.com/promo/2020-08-14/064a7731-ed1f-456d-9513-da40a1e7eeee.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/eec97efb-4d5b-4e68-8712-9d6956cfa282.png.slim.png",GENDER:n.WOMAN,NAME:"阿拉多"},16:{TALK_TEXT:"谁知盘中餐，粒粒皆辛苦",PIC:"https://promotion.pddpic.com/promo/2020-08-14/d97093f1-1d34-4dc4-90b9-a60317f34640.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/560f47d9-075a-4e48-b175-7124e09edc34.png.slim.png",GENDER:n.MAN,NAME:"斗笠多"},21:{TALK_TEXT:"做完数学题才可以看动画片哦~",PIC:"https://promotion.pddpic.com/promo/2020-08-14/bb3e615f-21f2-4104-978d-5fc2bb6233bb.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/e44e8768-4bf9-446c-9768-4ad03d487ea9.png.slim.png",GENDER:n.WOMAN,NAME:"多多酱"},10:{TALK_TEXT:"今晚的月色真美",PIC:"https://promotion.pddpic.com/promo/2020-08-31/b5ff863f-ff88-45b1-a810-75ce87516d58.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-31/a9a46b4c-5b04-4230-a5a8-cfc1c39eba75.png.slim.png",GENDER:n.WOMAN,NAME:"小樱"},23:{TALK_TEXT:"蓝脸的窦尔敦盗御马！",PIC:"https://promotion.pddpic.com/promo/2020-08-14/79ba3f52-d73c-4694-8ef3-409d7b479145.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/794a6994-e0cd-4009-aa13-11656d74a989.png.slim.png",GENDER:n.WOMAN,NAME:"青衣"},18:{TALK_TEXT:"臣妾做不到啊~",PIC:"https://promotion.pddpic.com/promo/2020-08-14/e1f27757-cf57-4597-8452-9d794b1697d2.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/330a221b-ff3e-4509-887e-75f286adcc65.png.slim.png",GENDER:n.WOMAN,NAME:"钮钴禄·多"},8:{TALK_TEXT:"苍茫的~天涯~是我的爱~",PIC:"https://promotion.pddpic.com/promo/2020-08-14/b5bcb75d-8ad4-48b9-8665-fa651e02c466.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/188d8c52-315b-468f-bc78-a455f19abdd5.png.slim.png",GENDER:n.MAN,NAME:"萌小多"},3:{TALK_TEXT:"老板，来一碗兰州拉面！",PIC:"https://promotion.pddpic.com/promo/2020-08-14/a37646ab-6237-4bb8-a0f8-f27e4df5d7e7.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/8c75c84d-129f-470b-bb28-17b384ead28b.png.slim.png",GENDER:n.MAN,NAME:"帅多多"},7:{TALK_TEXT:"琴棋书画烟酒茶，油盐柴米酱醋茶",PIC:"https://promotion.pddpic.com/promo/2020-08-14/b95722f5-8f88-4be0-abe4-571ba654c3c0.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/791f3f6b-7bc2-4841-94a9-21c15627fcdb.png.slim.png",GENDER:n.WOMAN,NAME:"静多多"},6:{TALK_TEXT:"北方有佳人，绝世而独立",PIC:"https://promotion.pddpic.com/promo/2020-08-14/9a4fda36-0931-49fa-a42a-1a358eea3f40.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/3ce77871-4517-41cf-9cb6-db46ceb7681f.png.slim.png",GENDER:n.WOMAN,NAME:"卿卿"},11:{TALK_TEXT:"天生我材必有用，千金散尽还复来",PIC:"https://promotion.pddpic.com/promo/2020-08-14/8cc93c3d-cbde-4840-a377-e8a2a8d4115f.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-08-09/19448d3a-a288-4928-a4ef-ec046279a6cb.png.slim.png",GENDER:n.MAN,NAME:"文曲多"}},o={1:{TALK_TEXT:"牛年到，给你拜年了！",PIC:"https://promotion.pddpic.com/promo/2020-12-27/438761d4-a943-452e-aa1c-6f0d74ac34a8.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/b3e6ca9d-cf99-45de-88bc-fde6b3b7c7c9.png.slim.png",GENDER:n.MAN,NAME:"拜年精灵"},2:{TALK_TEXT:"有了我，你的牛年财源滚滚！",PIC:"https://promotion.pddpic.com/promo/2020-12-27/2346c06a-794b-41aa-b2cb-2255a9cb7f9a.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/2c9fa0ef-599a-4e04-9eac-807d040d9bfd.png.slim.png",GENDER:n.WOMAN,NAME:"招财精灵"},3:{TALK_TEXT:"爆竹声中一岁除，春风送暖入屠苏",PIC:"https://promotion.pddpic.com/promo/2020-12-27/83ed9b92-b3ca-4c62-8eed-08de0c70c4df.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/7b9b1f71-c9d5-4779-bf70-d2f81a228c17.png.slim.png",GENDER:n.MAN,NAME:"鞭炮精灵"},4:{TALK_TEXT:"赠你一池锦鲤，予你半里风华",PIC:"https://promotion.pddpic.com/promo/2020-12-27/8283654b-c726-4f18-9939-44ee9c3aae9c.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/a87fcff6-e807-4b91-9038-17130cddbd5f.png.slim.png",GENDER:n.WOMAN,NAME:"锦鲤精灵"},5:{TALK_TEXT:"万券齐发，领神券购物更划算",PIC:"https://promotion.pddpic.com/promo/2020-12-27/fcd4ce92-bca5-49af-aa87-267129619bd3.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/ba4d4307-e576-4032-ae88-0d5713d20542.png.slim.png",GENDER:n.MAN,NAME:"神券精灵"},6:{TALK_TEXT:"屠龙宝刀，一刀砍成免费拿",PIC:"https://promotion.pddpic.com/promo/2020-12-27/53eb56f2-c9e8-4804-a260-36c6f996b70f.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/c74eb86d-e6c6-4f64-b1e6-8e0cc3ca6a80.png.slim.png",GENDER:n.MAN,NAME:"砍刀精灵"},7:{TALK_TEXT:"赚大了，海量大牌断码血亏",PIC:"https://promotion.pddpic.com/promo/2020-12-27/09293edd-de1c-4421-b32f-588b80131ab8.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/b0b5807c-b46c-45f9-8358-9f06e9115081.png.slim.png",GENDER:n.MAN,NAME:"断码精灵"},8:{TALK_TEXT:"平台贴钱直降，全部商品由PICC承保",PIC:"https://promotion.pddpic.com/promo/2020-12-27/246a6289-58e4-44fa-9a96-1367b93fdb86.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/47b59e75-8975-4809-84e3-90a5f2e32b0c.png.slim.png",GENDER:n.WOMAN,NAME:"补贴精灵"},9:{TALK_TEXT:"千款好货正在秒杀，数量有限，低价速抢",PIC:"https://promotion.pddpic.com/promo/2020-12-27/2a4bad3b-366d-462a-afcc-b2d2ea52789c.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/d490f515-518a-44ec-94c9-754f5765a082.png.slim.png",GENDER:n.WOMAN,NAME:"秒杀精灵"},10:{TALK_TEXT:"种树得水果，包邮送到家",PIC:"https://promotion.pddpic.com/promo/2020-12-27/73617ee7-1566-48b2-a9c9-09529853b121.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/08eb9f08-b93a-424a-8f02-f12f6523fdeb.png.slim.png",GENDER:n.MAN,NAME:"果园精灵"},11:{TALK_TEXT:"悄悄告诉你每个月省下很多钱的秘密",PIC:"https://promotion.pddpic.com/promo/2020-12-27/ff1ae7ad-b675-496e-9f72-941fec246202.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/17ce9172-bff0-4b4c-8336-76e4acb3852f.png.slim.png",GENDER:n.MAN,NAME:"月卡精灵"},12:{TALK_TEXT:"爸爸妈妈快来和我一起玩",PIC:"https://promotion.pddpic.com/promo/2020-12-27/e38ca17b-a460-4a04-b227-6016c0b63e98.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/db81db3f-687c-46c0-bb38-e2d56c0be37a.png.slim.png",GENDER:n.WOMAN,NAME:"宝宝精灵"},13:{TALK_TEXT:"我是最美的小仙女",PIC:"https://promotion.pddpic.com/promo/2020-12-27/d8a8ed4c-c05d-4063-bdb8-ce6b459914da.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/497bf1c6-b90c-497f-9528-025a59ce21ad.png.slim.png",GENDER:n.WOMAN,NAME:"臭美精灵"},14:{TALK_TEXT:"好舒服，洗去所有糟心事",PIC:"https://promotion.pddpic.com/promo/2020-12-27/9b7a8ac2-6d6c-4e5f-9a07-50946173397a.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/e79a21e2-7904-4537-aa67-9647820ae164.png.slim.png",GENDER:n.WOMAN,NAME:"泡澡精灵"},15:{TALK_TEXT:"你负责涮，我负责吃",PIC:"https://promotion.pddpic.com/promo/2020-12-27/8aec176e-122f-47bd-a724-5cdf39db5896.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/a1abf591-7c4e-4193-9c45-b64829164c5b.png.slim.png",GENDER:n.WOMAN,NAME:"火锅精灵"},16:{TALK_TEXT:"载满我对你的情和意，飞到那思念的另一边",PIC:"https://promotion.pddpic.com/promo/2020-12-27/61d7bfb9-2c0a-4e72-a4e7-8f9f230db546.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/77ed5ce9-8d03-48a8-858f-aa0035d421a3.png.slim.png",GENDER:n.MAN,NAME:"飞机精灵"},17:{TALK_TEXT:"我最潮，我最酷",PIC:"https://promotion.pddpic.com/promo/2020-12-27/bcd20673-56fc-41e2-a424-099cb6240018.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/7c9a670b-37cd-4092-a9d4-9e6509360ae1.png.slim.png",GENDER:n.MAN,NAME:"潮玩精灵"},18:{TALK_TEXT:"我是街上最靓的崽",PIC:"https://promotion.pddpic.com/promo/2020-12-27/eeb13035-198b-409f-aea0-6366a1169d94.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/098bd0e2-d28b-41a9-81b3-adf2bb4c8fc0.png.slim.png",GENDER:n.WOMAN,NAME:"时髦精灵"},19:{TALK_TEXT:"锄禾日当午，上课真辛苦。一本小破书，一坐一上午。",PIC:"https://promotion.pddpic.com/promo/2020-12-27/c60c545b-e30a-4e57-9e52-093241ababbc.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/c4ee4710-279b-40c2-a4fa-70dc0acb0eb1.png.slim.png",GENDER:n.WOMAN,NAME:"学霸精灵"},20:{TALK_TEXT:"闹钟虐我千百遍，我对被窝如初恋",PIC:"https://promotion.pddpic.com/promo/2020-12-27/820ff7d4-49a4-4563-972c-31077d615b8f.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/0391a799-7cf4-4f17-bbf7-df10046e0b2a.png.slim.png",GENDER:n.WOMAN,NAME:"被窝精灵"},21:{TALK_TEXT:"向着美好生活，继续奔跑",PIC:"https://promotion.pddpic.com/promo/2020-12-27/11b7cb11-3a63-4bba-ac97-00ac14e5d126.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/e762e917-b3ab-4bc9-8d77-12c69da5be9b.png.slim.png",GENDER:n.WOMAN,NAME:"省钱精灵"},22:{TALK_TEXT:"愿你因为爱情遇到最想要的人，富甲一方不再被现实所困",PIC:"https://promotion.pddpic.com/promo/2020-12-27/7984ed7f-141c-4e81-85e1-ea0352741bd5.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/31c58d8f-319c-45d3-80eb-a81ea1735bc6.png.slim.png",GENDER:n.MAN,NAME:"撒钱精灵"},23:{TALK_TEXT:"你的快递到了，放你门口了",PIC:"https://promotion.pddpic.com/promo/2020-12-27/73e9b502-30e1-4506-8e55-0224f9df65c7.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/8e967d99-22d8-4905-be81-be2c96bcd810.png.slim.png",GENDER:n.WOMAN,NAME:"快递精灵"},24:{TALK_TEXT:"你最牛啤！",PIC:"https://promotion.pddpic.com/promo/2020-12-27/bc5d0e9e-57f3-4dc2-802e-fc405557217a.png",LOCK_PIC:"https://promotion.pddpic.com/promo/2020-12-28/95b341e1-4d21-412b-99fa-03b95856611f.png.slim.png",GENDER:n.WOMAN,NAME:"牛啤精灵"}};t.ZP={SPRITE_MAP:i,SPRITE_MAP_3:o,LAZY_STATIC_MAP_4:{15:{TALK_TEXT:"我已经用了洪荒之力了！",LOCK_PIC:"https://promotion.pddpic.com/promo/dea80807-4fea-4371-8152-7b0d1e5484f1.png.slim.png",NAME:"举重"},1:{TALK_TEXT:"爱乒才会赢！",LOCK_PIC:"https://promotion.pddpic.com/promo/924cfc2f-eeb8-4828-95c5-5901556e739b.png.slim.png",NAME:"乒乓精灵"},9:{TALK_TEXT:"翩若惊鸿，婉若游龙",LOCK_PIC:"https://promotion.pddpic.com/promo/9668c536-162c-4cf1-a85b-4a9bea2e675c.png.slim.png",NAME:"体操"},24:{TALK_TEXT:"命运对勇士低语：你无法抵御风暴；勇士回应：我就是风暴",LOCK_PIC:"https://promotion.pddpic.com/promo/8bf9dbc2-cb01-4736-ac60-bb9167a26d09.png.slim.png",NAME:"冠军精灵"},18:{TALK_TEXT:"凌波微步之时现刀光剑影\n电光火石之间分孰胜孰负",LOCK_PIC:"https://promotion.pddpic.com/promo/f04f45e8-ef3e-45fd-b534-d165a2d3cdf5.png.slim.png",NAME:"击剑精灵"},16:{TALK_TEXT:"心静了，枪更稳了",LOCK_PIC:"https://promotion.pddpic.com/promo/bd66fe03-65d2-496e-93ce-e0914e0315a7.png.slim.png",NAME:"射击精灵"},17:{TALK_TEXT:"百步穿杨，正中靶心",LOCK_PIC:"https://promotion.pddpic.com/promo/0c44ed7e-f271-4b89-b58e-43a4d21abb64.png.slim.png",NAME:"射箭精灵"},11:{TALK_TEXT:"长风破浪会有时\n直挂云帆济沧海",LOCK_PIC:"https://promotion.pddpic.com/promo/49211c47-3163-4920-aff9-638fcb5e6ee3.png.slim.png",NAME:"帆船精灵"},19:{TALK_TEXT:"人生热烈如一场拳击",LOCK_PIC:"https://promotion.pddpic.com/promo/a35fcce2-c4fe-48ff-8559-82ac1d854e89.png.slim.png",NAME:"拳击"},5:{TALK_TEXT:"有一种骄傲，叫中国女排；\n有一种精神，叫女排精神！",LOCK_PIC:"https://promotion.pddpic.com/promo/28c59cb5-885b-4cd1-b20b-1348a1225d1c.png.slim.png",NAME:"排球精灵"},10:{TALK_TEXT:"曾记否，到中流击水，浪遏飞舟？",LOCK_PIC:"https://promotion.pddpic.com/promo/7f014e7b-1fe7-4755-8938-04a5b240ffc5.png.slim.png",NAME:"游泳精灵"},20:{TALK_TEXT:"带上护具，浮游尘世",LOCK_PIC:"https://promotion.pddpic.com/promo/88476aef-db1b-492c-8fd1-5780e9cf7567.png.slim.png",NAME:"滑板精灵"},12:{TALK_TEXT:"让世界见证亚洲速度",LOCK_PIC:"https://promotion.pddpic.com/promo/54629e89-8574-45c5-997f-b76d69aa2649.png.slim.png",NAME:"田径精灵"},3:{TALK_TEXT:"腾空高飞，扣篮！\n回传三分，好球！",LOCK_PIC:"https://promotion.pddpic.com/promo/8fe93977-8664-47ee-82a4-00e9357727d9.png.slim.png",NAME:"篮球精灵"},6:{TALK_TEXT:"把注意力集中在现在这一记击球上",LOCK_PIC:"https://promotion.pddpic.com/promo/f790e0cf-c2fa-447d-aff2-40018763acf6.png.slim.png",NAME:"网球精灵"},2:{TALK_TEXT:"羽毛白如雪，引拍弯似弓\n晴空响霹雳，重杀势如虹",LOCK_PIC:"https://promotion.pddpic.com/promo/0f07b258-4698-49e9-8e10-cb370101d64d.png.slim.png",NAME:"羽毛球精灵"},13:{TALK_TEXT:"体会两个轮子的快乐",LOCK_PIC:"https://promotion.pddpic.com/promo/1f9b390a-2fd6-4f6c-9a96-54a017a0716f.png.slim.png",NAME:"自行车精灵"},4:{TALK_TEXT:"中国足球，笑傲球场",LOCK_PIC:"https://promotion.pddpic.com/promo/d120de41-d593-41a0-a745-a35ff0983c83.png.slim.png",NAME:"足球精灵"},14:{TALK_TEXT:"出其不意，一招制敌",LOCK_PIC:"https://promotion.pddpic.com/promo/03d2c031-7d9f-4295-8d15-156ec3af3aca.png.slim.png",NAME:"跆拳道精灵"},22:{TALK_TEXT:"谁终将声震人间\n必长久深自缄默",LOCK_PIC:"https://promotion.pddpic.com/promo/e9ffe00b-52f7-4722-9e68-a4699697a545.png.slim.png",NAME:"铜牌精灵"},23:{TALK_TEXT:"谁终将点燃闪电\n必长久如云漂泊",LOCK_PIC:"https://promotion.pddpic.com/promo/ae735bf4-f913-468f-a768-ad8404f7dbac.png.slim.png",NAME:"银牌精灵"},8:{TALK_TEXT:"今天加了难度，也很漂亮地完成了动作",LOCK_PIC:"https://promotion.pddpic.com/promo/cf526d15-552d-4403-b4ca-a4b44c70e888.png.slim.png",NAME:"鞍马精灵"},21:{TALK_TEXT:"策马扬鞭，一决高下",LOCK_PIC:"https://promotion.pddpic.com/promo/ce1424db-e752-48d9-a53c-a3f950d49705.png.slim.png",NAME:"马术精灵"},7:{TALK_TEXT:"最喜欢的消遣：走遥远的路与用棍子打东西",LOCK_PIC:"https://promotion.pddpic.com/promo/be70985b-102a-4e1e-bff0-6249a04388af.png.slim.png",NAME:"高尔夫精灵"}}}},26452:function(e,t,r){"use strict";r.d(t,{r:function(){return o},Z:function(){return A}});var n,i,o,a=r(80819),s=r.n(a),c=r(46461),u=r.n(c),l=r(85114),p=r.n(l),f=r(71831),d=r.n(f),h=r(82482),m=r.n(h),g=r(6899),y=r.n(g),v=r(90529),b=r.n(v),_=r(71988),k=r.n(_),w=(r(52745),r(50359)),S=r(63791),O=r(38377);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var i=b()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}!function(e){e.MISSION_FIRST_GUIDE_COUNT="ddsp_mission_first_guide_count",e.MISSION_SCHEDULE_GUIDE_COUNT="ddsp_mission_schedule_guide_count",e.HAS_CLICK_RABBIT_NPC="ddsp_rabbit_npc",e.HAS_SHOW_RABBIT_NPC_LEVEL="ddsp_rabbit_npc_show_level",e.HIDE_MY_PACK_TIPS="ddsp_my_pack",e.HIDE_EGG_ICON_NEW_TAG_TIPS="ddsp_egg_new_tag_1",e.HIDE_EGG_DIALOG_NEW_TAG_TIPS="ddsp_egg_new_tag_2",e.GUIDE_ENERGY_PLAY="ddsp_guide_energy_play",e.GUIDE_ENERGY_ENTRY_POINT="ddsp_guide_energy_entry",e.GUIDE_NEW_RECYCLE="ddsp_guide_new_recycle"}(o||(o={}));var A=(n=function(e){m()(r,e);var t=I(r);function r(e,n){var a;for(var c in u()(this,r),a=t.call(this,e,n),s()(a,"data",i,d()(a)),o)o[c]&&a.data.set(o[c],(0,w.aF)(o[c])||"");return a}return p()(r,[{key:"get",value:function(e){return this.data.get(e)||""}},{key:"set",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.data.set(e,String(t)),n?(0,w.o_)(e,t):(0,w.g2)(e,t,r)}},{key:"numberPlus",value:function(e){var t=this.get(e);t&&"number"!=typeof+t&&console.warn("invalid numberPlus value",t),this.set(e,+(t||0)+1)}}]),r}(O.Z),i=k()(n.prototype,"data",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),k()(n.prototype,"set",[S.action],Object.getOwnPropertyDescriptor(n.prototype,"set"),n.prototype),n)},71964:function(e,t,r){"use strict";r.d(t,{o:function(){return l},Z:function(){return Z}});var n,i,o,a,s,c,u,l,p=r(54612),f=r.n(p),d=r(11809),h=r.n(d),m=r(80819),g=r.n(m),y=r(46461),v=r.n(y),b=r(85114),_=r.n(b),k=r(71831),w=r.n(k),S=r(82482),O=r.n(S),I=r(6899),A=r.n(I),T=r(90529),C=r.n(T),E=r(71988),P=r.n(E),R=(r(52745),r(91963)),x=r(69435),D=r(63791),N=r(38377),L=r(26671),M=r(41013),B=r(37394),F=r(132),G=r(21403),j=r(10415),U=r(44449);function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}!function(e){e[e.CAN_INVITE=1]="CAN_INVITE",e[e.HAS_GAIN=2]="HAS_GAIN"}(l||(l={}));var Z=(n=(0,L.Y)((function(){(0,F.Z)(G.Fe)})),i=(0,L.Y)((function(){(0,F.Z)(G.Fe)})),o=(0,L.Y)((function(e,t){t.freshFriendList.length&&(0,F.Z)(G.Fe)})),a=(0,L.Y)((function(e,t){var r=G.eo[null==e?void 0:e.errorCode];r?(0,F.Z)(r):t.store.sendError(e)}),null,!1),s=function(e){O()(s,e);var t,r,n,i,o,a=W(s);function s(){var e;v()(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=a.call.apply(a,[this].concat(r))).uin=void 0,e.recallFriendInfo={avatar:"",nick_name:""},e.recallFriendReward=void 0,g()(e,"freshFriendList",c,w()(e)),g()(e,"matureInviteReward",u,w()(e)),e}return _()(s,[{key:"deleteFriend",value:(o=h()(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,B.ET)({friend_id:t});case 2:if(!e.sent){e.next=7;break}return e.next=6,this.rootStore.friendRankDialogStore.queryFriendListService();case 6:(0,F.Z)("删除好友成功");case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"gainRecallFriendReward",value:(i=h()(f().mark((function e(t){var r,n,i,o,a=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.uid,e.next=3,(0,B.Lk)({invitee_uid:r});case 3:if(n=e.sent,i=n.gain_reward_success,(o=n.reward_num)&&i){e.next=8;break}throw new Error("gainRecallFriendReward error");case 8:return(0,D.runInAction)((function(){a.recallFriendReward=o})),e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"userBackToGameAchieve",value:function(e){return Promise.all([(0,B.vJ)({inviter_uin:e}),this.userBackToGameGetReward()])}},{key:"userBackToGameGetReward",value:(n=h()(f().mark((function e(){var t,r,n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.store.leoForMission.userBackToGameMissionId){e.next=3;break}return e.abrupt("return");case 3:return r=new U.Z({id:t},(function(){return n.store})),e.next=6,r.checkTaskInfo();case 6:if(!r.isReachLimit){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,r.setTaskAchieve();case 10:if(!e.sent||!r.coinAmount){e.next=14;break}return(0,x.info)("欢迎回来！送你".concat((0,R.n)(r.coinAmount).valueStr,"金币")),e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"queryMatureInviteNewList",value:(r=h()(f().mark((function e(){var t,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,B.j3)();case 2:return t=e.sent,(0,D.runInAction)((function(){r.freshFriendList=t.friend_list||[],r.matureInviteReward=t.mature_invite_reward})),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"checkFreshFriendUpdate",value:function(){if(this.freshFriendList.length<=3||this.store.freshUserInviteDialogStore.isShow)return this.queryMatureInviteNewList()}},{key:"freshUserBackAchieve",value:(t=h()(f().mark((function e(t){var r,n,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.uin,n=t.mission_id,r&&n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,j.getUin)();case 5:if(e.sent!==r){e.next=8;break}return e.abrupt("return",(0,F.Z)("不能为自己助力哦~"));case 8:return e.next=10,(0,B.vJ)({mission_id:n,inviter_uin:r});case 10:(null==(i=e.sent)?void 0:i.success)&&(0,F.Z)("助力成功~");case 12:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),s}(N.Z),c=P()(s.prototype,"freshFriendList",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=P()(s.prototype,"matureInviteReward",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(s.prototype,"deleteFriend",[n,M.d],Object.getOwnPropertyDescriptor(s.prototype,"deleteFriend"),s.prototype),P()(s.prototype,"gainRecallFriendReward",[i,M.d],Object.getOwnPropertyDescriptor(s.prototype,"gainRecallFriendReward"),s.prototype),P()(s.prototype,"userBackToGameAchieve",[L.Y],Object.getOwnPropertyDescriptor(s.prototype,"userBackToGameAchieve"),s.prototype),P()(s.prototype,"userBackToGameGetReward",[L.Y],Object.getOwnPropertyDescriptor(s.prototype,"userBackToGameGetReward"),s.prototype),P()(s.prototype,"queryMatureInviteNewList",[o],Object.getOwnPropertyDescriptor(s.prototype,"queryMatureInviteNewList"),s.prototype),P()(s.prototype,"checkFreshFriendUpdate",[M.d],Object.getOwnPropertyDescriptor(s.prototype,"checkFreshFriendUpdate"),s.prototype),P()(s.prototype,"freshUserBackAchieve",[a],Object.getOwnPropertyDescriptor(s.prototype,"freshUserBackAchieve"),s.prototype),s)},88695:function(e,t,r){"use strict";r.d(t,{_:function(){return o},Z:function(){return R}});var n,i,o,a=r(54612),s=r.n(a),c=r(11809),u=r.n(c),l=r(46461),p=r.n(l),f=r(85114),d=r.n(f),h=r(82482),m=r.n(h),g=r(6899),y=r.n(g),v=r(90529),b=r.n(v),_=r(71988),k=r.n(_),w=r(21403),S=r(63791),O=r(38377),I=r(37394),A=r(26671),T=r(41013),C=r(132),E=r(91963);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var i=b()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}!function(e){e[e.SPEED_UP_CARD=1]="SPEED_UP_CARD",e[e.NPC_CARD_BEAR=10]="NPC_CARD_BEAR"}(o||(o={}));var R=(n=(0,A.Y)((function(){(0,C.Z)(w.Fe)})),i=function(e){m()(i,e);var t,r,n=P(i);function i(){var e;p()(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).gameToolParams=void 0,e}return d()(i,[{key:"useGameTool",value:(r=u()(s().mark((function e(t){var r,n,i,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(r=t||{}).tcid,i=r.tuid,n&&i){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,I.pq)({tcid:n,tuid:i});case 5:return o=e.sent,(a=null==o?void 0:o.accelerate_card_use_result)&&this.store.setComposeResult(a),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"setGameToolParams",value:function(e){this.gameToolParams=e}},{key:"clearGameToolParams",value:function(){this.gameToolParams=void 0}},{key:"commitSpeedUpCardReceive",value:(t=u()(s().mark((function e(){var t,r=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.when)((function(){return!!r.store.gameToolStore.gameToolParams&&!r.store.unlockSpriteDialogStore.isShow&&!r.store.redPacketDialogStore.isShow&&!r.store.composeResult&&r.store.myTopRank>=3}));case 2:if(t=this.store.gameToolStore.gameToolParams,this.store.gameToolStore.clearGameToolParams(),!this.store.gameStore.forbidAddPet&&!(0,E.ED)(19e3,this.store.userInfo.coinNum)){e.next=6;break}return e.abrupt("return");case 6:this.store.speedUpCardDialogStore.showAction(t);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"handleToolUseStrategy",value:function(e){switch(e.tcid){case o.NPC_CARD_BEAR:return this.store.npcStore.handleBearShow({tcid:e.tcid,tuid:e.tuid})}}}]),i}(O.Z),k()(i.prototype,"useGameTool",[n,T.d],Object.getOwnPropertyDescriptor(i.prototype,"useGameTool"),i.prototype),i)},10960:function(e,t,r){"use strict";r.d(t,{TA:function(){return d},x_:function(){return h},fp:function(){return m},dV:function(){return g},EM:function(){return v},BO:function(){return b},yS:function(){return _},$X:function(){return k},Jn:function(){return S},wV:function(){return O},FI:function(){return I},cB:function(){return A},YY:function(){return T},D5:function(){return C}});var n=r(49304),i=r.n(n),o=r(97703),a=r.n(o),s=r(50318),c=r(21403);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=document.documentElement.clientWidth||document.body.clientWidth,f=window.devicePixelRatio||0,d=function(e){return f=e},h=function(){return f},m=function(e){return p||(p=document.documentElement.clientWidth||document.body.clientWidth),e*(f=f||window.devicePixelRatio)/375*(p=p>640?640:p)};function g(e){return 100*m(e)}var y,v=function(e){return e*f},b=function(e){return e/f};function _(e){var t=e.frames,r=e.width,n=e.time,i=e.height,o="sprite-keyframes-".concat((0,s.nanoid)()),c="sprite-keyframes-class-".concat((0,s.nanoid)()),u=Array.from(t.reduce((function(e,n,i){var o=-n*r,a=+(i/t.length*100).toFixed(2),s=e.get(o)||[];return s.push(a),e.set(o,s),e}),new Map)).map((function(e){var t=a()(e,2),r=t[0];return t[1].join("%,")+"% { background-position: ".concat(r,"rem 0; }\n")})).join(""),l="".concat(o," ").concat(n,"s steps(1) infinite");return{className:c,content:"\n            .".concat(c," {\n                background-size: auto 100%;\n                background-position: 0 0;\n                width: ").concat(r,"rem;\n                height: ").concat(i||r,"rem;\n                animation: ").concat(l,";\n                -webkit-animation: ").concat(l,";\n            }\n            @keyframes ").concat(o," {\n                ").concat(u,"\n            }\n            @-webkit-keyframes ").concat(o," {\n                ").concat(u,"\n            }\n        ")}}function k(e,t){return{textShadow:"-".concat(e,"px -").concat(e,"px ").concat(e,"px ").concat(t,", ").concat(e,"px -").concat(e,"px ").concat(e,"px ").concat(t,", -").concat(e,"px ").concat(e,"px ").concat(e,"px ").concat(t,", ").concat(e,"px ").concat(e,"px ").concat(e,"px ").concat(t)}}!function(e){e[e.Promotion=1]="Promotion",e[e.Health=3]="Health",e[e.Share=4]="Share",e[e.MessagePush=5]="MessagePush",e[e.SearchActivity=6]="SearchActivity",e[e.HomeFloatingWindow=8]="HomeFloatingWindow",e[e.Garden=9]="Garden",e[e.ZhaoCaiMao=10]="ZhaoCaiMao",e[e.HomeIcon=11]="HomeIcon",e[e.Farm=12]="Farm",e[e.Other=0]="Other"}(y||(y={}));var w=24466;function S(e){var t;return[w].includes(+(null===(t=e.queries)||void 0===t?void 0:t.refer_page_sn))}function O(e,t){var r=e.refer_share_channel,n=e.is_search_mission,i=e.is_home_page_icon,o=e.refer_page_sn,a=e.channel_type;if(i)return y.HomeIcon;if(n)return y.SearchActivity;if(r)return y.Share;switch(+o){case 10269:return y.Garden;case w:return y.Health;case 84578:return y.ZhaoCaiMao}return"number"==typeof t[a]?t[a]:y.Other}var I=function(e,t){return function(e,t){var r=e.refer_share_channel,n=e.is_search_mission,i=e.is_home_page_icon,o=e.channel_type,a=O(e,t);return a===y.HomeIcon?c.o8.HOME_PAGE_ICON[i]:a===y.SearchActivity?c.o8.SEARCH_MISSION[n]:""===e.is_search_mission?"search_unknown":a===y.Share?c.o8.SHARE_CODE[r]:a!==y.Other?y[a]:o}(e,t)||(null==e?void 0:e.refer_page_sn)||"other_refer"},A=function(e,t){var r=e.goods_id,n=e.link_url_ext,i=e.mkt_tr_sc,o=e.mkt_tr_token,a=e.mkt_domain;return l(l({},n),{},{_oc_mkt_tr_sc:i,_oc_mkt_tr_token:o,_oc_mkt_domain:a,refer_page_el_sn:t,goods_id:r})},T=function(e){var t=e.index,r=e.goods_id,n=e.ad;return{index:t,goods_id:r,ad:n?JSON.stringify(n):void 0}},C={isPointInPolygon:function(e,t){if(!((null==t?void 0:t.length)<3)){for(var r=!1,n=t.length,i=0,o=n-1;i<n;o=i++)t[i].y>e.y!=t[o].y>e.y&&e.x<(t[o].x-t[i].x)*(e.y-t[i].y)/(t[o].y-t[i].y)+t[i].x&&(r=!r);return r}},intersectBox:function(e,t){return!(e.max.x<t.min.x||e.min.x>t.max.x||e.max.y<t.min.y||e.min.y>t.max.y)},getBox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};if(e){var r=e.getBounds();return{max:{x:r.right-t.x,y:r.top+r.height-t.y},min:{x:r.left+t.x,y:r.top+t.y}}}},getPolygon:function(e){if(e){var t=e.getBounds();return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.right,y:t.top+t.height},{x:t.left,y:t.top+t.height}]}},boxDistance:function(e,t){if(!e||!t)return 1/0;var r={x:(e.max.x+e.min.x)/2,y:(e.max.y+e.min.y)/2},n={x:(t.max.x+t.min.x)/2,y:(t.max.y+t.min.y)/2};return Phaser.Math.Distance.BetweenPoints(r,n)},getRect:function(e,t,r){var n=e.x,i=e.y,o=Math.floor(t/2),a=Math.floor(r/2);return[{x:n-o,y:i-a},{x:n+o,y:i-a},{x:n+o,y:i+a},{x:n-o,y:i+a}]},rotateAround:function(e,t,r){var n=Math.cos(r),i=Math.sin(r),o=e.x-t.x,a=e.y-t.y;return{x:o*n-a*i+t.x,y:o*i+a*n+t.y}},getQuarterCirclePoints:function(e,t){for(var r=[],n=9*Math.PI/180,i=0;i<=Math.PI/2;){var o=C.rotateAround(t,e,i);r.push(o),i+=n}return r},getRoundRectPoints:function(e,t,r){var n=[];return[{center:{x:r,y:r},start:{x:0,y:r}},{center:{x:e-r,y:r},start:{x:e-r,y:0}},{center:{x:e-r,y:t-r},start:{x:e,y:t-r}},{center:{x:r,y:t-r},start:{x:r,y:t}}].forEach((function(e){n=n.concat(C.getQuarterCirclePoints(e.center,e.start))})),n},getAABB:function(e){var t,r={},n=1/0,i=1/0,o=-n,a=-i;return e.forEach((function(e){t=e,n=Math.min(n,t.x),i=Math.min(i,t.y),o=Math.max(o,t.x),a=Math.max(a,t.y)})),r.x=n,r.y=i,r.width=o-n,r.height=a-i,r}}},24857:function(e,t,r){"use strict";r.d(t,{Vg:function(){return n},A9:function(){return i},eI:function(){return o}});var n={GOODS:1,COUPON:2,COIN:3},i={GOODS_COUPON:1,PLATFORM_COUPON:2,DC_NEW_USER_COUPON:3},o={SUCCESS:1,ADDRESS_FAIL:2}},23836:function(e,t,r){"use strict";r.d(t,{Z:function(){return pe}});var n,i,o,a,s,c,u,l,p=r(49304),f=r.n(p),d=r(96948),h=r.n(d),m=r(54612),g=r.n(m),y=r(11809),v=r.n(y),b=r(80819),_=r.n(b),k=r(46461),w=r.n(k),S=r(85114),O=r.n(S),I=r(71831),A=r.n(I),T=r(82482),C=r.n(T),E=r(6899),P=r.n(E),R=r(90529),x=r.n(R),D=r(71988),N=r.n(D),L=(r(52745),r(79430)),M=r.n(L),B=r(8307),F=r(63791),G=r(27982),j=r(58699),U=r(86564),W=r(19878),Z=r.n(W),H=r(80246),K=r.n(H),z=r(79937),q=r(132),Y=r(69647),V=r(93358),X=r(91963),Q=r(78313),J=r(54483),$=r.n(J),ee=r(24001),te=r(14314),re=r(93790),ne=r.n(re),ie=r(41197),oe=r.n(ie),ae=function(e){return oe()(ne()),h()("div",{className:ne().festivalBox},void 0,h()("div",{className:ne().festivalOuter},void 0,h()("div",{className:ne().festivalInner},void 0,h()(te.Z,{className:ne().icon2,src:"https://promotion.pddpic.com/promo/1d2be36d-34f8-4ad4-886f-7ff6c7c2db8c.png.slim.png"}),h()("div",{className:ne().festivalText,dangerouslySetInnerHTML:{__html:e.tips}}))))},se=r(21403),ce=r(78231),ue=r(55912);function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=x()(e);if(t){var i=x()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return P()(this,r)}}var pe=(n=Z()(K()),i=(0,B.inject)("store"),o=(0,Q.P)(800),n(a=i(a=(0,B.observer)((s=function(e){C()(i,e);var t,r,n=le(i);function i(){var e;w()(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).buySpriteRef=M().createRef(),_()(e,"festivalTips",c,A()(e)),_()(e,"cancelFreezeShowHand",u,A()(e)),_()(e,"onClickBuy",l,A()(e)),e}return O()(i,[{key:"setEnableShowBuyHand",value:(r=v()(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cancelFreezeShowHand=!1,e.next=3,(0,ce._v)(se.Os);case 3:this.cancelFreezeShowHand=!0;case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"componentDidMount",value:(t=v()(g().mark((function e(){var t,r=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.isInBottomBar&&(this.store.buySpriteCurrent=this.buySpriteRef.current),e.next=4,this.store.materialStore.pickBlessingWord();case 4:(t=e.sent)&&(0,F.runInAction)((function(){r.festivalTips=t}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this.props,r=t.isInBottomBar,n=t.style,i=this.store,o=i.top_rank_fairy,a=i.topRank,s=i.isShowBuyTipsForPacket,c=this.store.gameStore.isInComposeStep,u=o.fairy_rank,l=o.init_price,p=this.isShowBuyHand,d=r&&!c&&a<3&&p,m=r?1:5,g=this.store.levelMap.GUIDE,y=u;return h()(Y.Z,{trackingInfo:{page_el_sn:V.Jl.EL_3436484}},void 0,M().createElement("div",{className:K().mainBtn,onClick:this.onClickBuy,ref:this.buySpriteRef,style:n,id:r?ue.l.MainBuyBtn:""},d&&h()(U.Z,{className:K().buyGuideTip,bgUrl:g.GUIDE_BUY_TIP}),!d&&this.festivalTips?h()(ae,{tips:this.festivalTips}):null,h()(U.Z,{className:K().top,bgUrl:z.ZP.BOTTOM_MAIN_BTN1},void 0,h()(U.Z,{className:$()(K().sprite),style:{backgroundPosition:"-0.03rem ".concat(-.44*(y-1),"rem")},bgUrl:this.store.levelMap.MAIN_BTN_SPRITE}),h()(U.Z,{className:K().level,bgUrl:z.ZP.UNLOCK_SPRITE_DIALOG_LEVEL},void 0,y>0&&y)),h()(U.Z,{className:K().bottom,bgUrl:z.ZP.BOTTOM_MAIN_BTN2},void 0,h()("div",{className:K().cost},void 0,"消耗",h()(U.Z,{className:K().coin,bgUrl:z.ZP.COMMON_PIC_COIN}),(0,X.n)(l).valueStr)),p&&h()(Y.Z,{trackingInfo:{page_el_sn:V.rT.pageElSn,guide_type:m}},void 0,h()(ee.Z,{className:$()((e={},f()(e,K().guideHandPos,!r),f()(e,K().guideHandPos2,r),e)),levelMap:this.store.levelMap})),r&&s&&h()(U.Z,{className:K().buyTips,bgUrl:z.ZP.BUBBLE_YELLOW_BG},void 0,"召唤精灵")))}},{key:"isShowBuyHand",get:function(){var e=this.props.isInBottomBar,t=this.store,r=t.guideDialogStore,n=t.redPacketDialogStore,i=t.unlockSpriteDialogStore,o=t.topRank,a=t.isPassGame,s=this.store.gameStore,c=s.hasSameLevelPet,u=s.isInWorkStep;return!c&&this.cancelFreezeShowHand&&o<7&&!u&&!r.isShow&&e&&!a&&!n.isShow&&!i.isShow}},{key:"gameStore",get:function(){return this.store.gameStore}}]),i}(G.Z),c=N()(s.prototype,"festivalTips",[F.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=N()(s.prototype,"cancelFreezeShowHand",[F.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N()(s.prototype,"isShowBuyHand",[F.computed],Object.getOwnPropertyDescriptor(s.prototype,"isShowBuyHand"),s.prototype),N()(s.prototype,"componentDidMount",[F.action],Object.getOwnPropertyDescriptor(s.prototype,"componentDidMount"),s.prototype),l=N()(s.prototype,"onClickBuy",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(!e.gameStore.isPetInOperation){var t=e.gameStore.showForbidAddToast(),r=e.store.top_rank_fairy,n=r.init_price,i=r.fairy_rank,o=e.store.isCanBuy(n);if((0,j.iH)(V.Jl.EL_3436484,{action_type:t?2:o?0:1,fairy_level:i}),e.setEnableShowBuyHand(),!e.gameStore.showGuideToast()&&!t){if(o){var a=e.store.leoConfig.logBuyRank;e.store.myTopRank<=a&&e.store.duoduoSpriteLogger({stage:"buy_sprite_main",fairyNum:e.store.myNativeFairyList.length});var s=e.props.onClick;return s&&s(),e.store.buyDefaultFairy()}(0,q.Z)("金币不足，快去做任务拿金币吧！"),e.store.taskListStore.setReferElSn(V.Jl.EL_3436484),e.store.taskListStore.showAction()}}}}}),a=s))||a)||a)||a)},33170:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var n=r(49304),i=r.n(n),o=r(97703),a=r.n(o),s=r(79430),c=r.n(s),u=r(63791),l=r(90494),p=r.n(l),f=r(41197),d=r.n(f),h=r(10960),m=r(54483),g=r.n(m),y=r(52866),v=r(93096),b=r.n(v);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e){d()(p());var t=e.store,r=e.children,n=e.className,i=e.onClick,o=e.collide,l=(o=void 0===o?{}:o).target,f=o.onCollide,m=e.isStatic,v=void 0===m||m,_=e.overlay,w=void 0===_||_,S=e.parentContainer,O=e.x,I=e.y,A=(0,s.useRef)(null),T=(0,s.useState)({}),C=a()(T,2),E=C[0],P=C[1],R=(0,s.useRef)([]);return(0,s.useEffect)((function(){function e(){try{var e=function(){var e,r,n=null==A||null===(e=A.current)||void 0===e?void 0:e.getBoundingClientRect(),i=null===(r=t.canvasRefCurrent)||void 0===r?void 0:r.getBoundingClientRect();if(n&&i){var o=n.x,a=n.y,s=n.width,c=n.height,u=S?t.gameStore.scene.add.image(0,0,""):t.gameStore.matter.add.image(0,0,"");return u.setPosition((0,h.EM)(o+s/2-i.x),(0,h.EM)(a+c/2-i.y)),u.setDisplaySize((0,h.EM)(s),(0,h.EM)(c)),u}}();if(!e)return;if(R.current.push((function(){null==e||e.destroy()})),e.body&&(e.setStatic(v),e.setIgnoreGravity(!0)),!v&&e.body){var r=t.gameStore.roamCategory;e.setCollisionCategory(r)}!w&&i&&e.setInteractive().on("pointerup",i);var n=l;if(f&&n){0;var o=function(){f(e,n)};if(n.body)e.setOnCollide((function(e){[e.bodyA,e.bodyB].some((function(e){return e.gameObject===n}))&&o()}));else{var a=h.D5.getBox(n),s=h.D5.getBox(e);h.D5.intersectBox(s,a)&&o()}}if(e&&(!v||S)){var c=function(){return S?S.x:0},u=function(){return S?S.y:0};e.setData("startPosition",{x:(e.x+c()).toFixed(0),y:(e.y+u()).toFixed(0)}),e.setData("prevPosition",{x:e.x+c(),y:e.y+u()});var p=b()((function(){if(e.active&&(!S||S.active)){var t=e.x,r=e.y,n=e.getData("startPosition"),i=e.getData("prevPosition"),o=t+c(),a=r+u();if(i.x!==o||i.y!==a){var s="translate3d(".concat((0,h.BO)(o-n.x).toFixed(0),"px, ").concat((0,h.BO)(a-n.y).toFixed(0),"px, 0)");P((function(t){return k(k({},t),{},{left:"".concat((0,h.BO)(n.x-e.displayWidth/2),"px"),top:"".concat((0,h.BO)(n.y-e.displayHeight/2),"px")},(0,y.T8)("transform",s))})),e.setData("prevPosition",{x:o.toFixed(0),y:a.toFixed(0)}),e.angle=0}}}),16,{trailing:!1});t.gameStore.scene.events.on("postupdate",p),R.current.push((function(){t.gameStore.scene.events.off("postupdate",p)}))}S&&e&&(e.setPosition((0,h.dV)(O||0),(0,h.dV)(I||0)),S.add(e),R.current.push((function(){S.remove(e)})))}catch(e){t.sendError(e)}}R.current.push((0,u.when)((function(){return t.isGameCreated&&!t.gameStore.isChanging&&!t.transitionCloudStore.isShow}),(function(){return e()})));var r=R.current;return function(){r.forEach((function(e){return e()})),R.current=[]}}),[t,v,w,l,S,O,I]),(0,s.useEffect)((function(){0}),[e.collide,e.onClick]),c().createElement("div",{className:g()(!r&&p().box,!!i&&p().point,n),style:E,ref:A,onClick:i},r)}},24001:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n,i=r(96948),o=r.n(i),a=(r(79430),r(19878)),s=r.n(a),c=r(62983),u=r.n(c),l=r(8307),p=r(86564),f=r(54483),d=r.n(f),h=s()(u())(n=(0,l.observer)(n=function(e){var t=(e.levelMap||{}).GUIDE;return o()(p.Z,{className:d()(u().guideHand,e.className),bgUrl:e.bgUrl||t.GUIDE_HAND_PIC})})||n)||n},9206:function(e,t,r){"use strict";r.d(t,{k:function(){return ae},Z:function(){return se}});var n,i,o,a,s=r(54612),c=r.n(s),u=r(11809),l=r.n(u),p=r(49304),f=r.n(p),d=r(96948),h=r.n(d),m=r(80819),g=r.n(m),y=r(46461),v=r.n(y),b=r(85114),_=r.n(b),k=r(71831),w=r.n(k),S=r(82482),O=r.n(S),I=r(6899),A=r.n(I),T=r(90529),C=r.n(T),E=r(71988),P=r.n(E),R=(r(52745),r(79430)),x=r.n(R),D=r(19878),N=r.n(D),L=r(96788),M=r.n(L),B=r(86564),F=r(79937),G=r(27982),j=r(8307),U=r(132),W=r(54483),Z=r.n(W),H=r(41013),K=r(69647),z=r(93358),q=r(58699),Y=r(78231),V=r(91963),X=r(28296),Q=r.n(X),J=r(63791);function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var ee,te,re,ne,ie=N()(Q())(n=(0,j.observer)((i=function(e){O()(r,e);var t=$(r);function r(){var e;v()(this,r);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),g()(e,"list",o,w()(e)),g()(e,"sourceRef",a,w()(e)),e.tweens=[],e}return _()(r,[{key:"componentDidMount",value:function(){var e=this;if(this.store.checkLowDeviceDowngrade("main_scene_ani"))this.clear();else{var t=this.props.count,r=void 0===t?60:t;(0,J.runInAction)((function(){e.list=new Array(r).fill(0).map((function(){return{ref:x().createRef(),entity:{x:0,y:0,rotate:0}}}))})),this.startFlyAni()}}},{key:"startFlyAni",value:function(){var e,t,r=null===(e=this.props.targetRef.current)||void 0===e?void 0:e.getBoundingClientRect(),n=null===(t=this.sourceRef.current)||void 0===t?void 0:t.getBoundingClientRect();r&&n&&this.createTweens(n,r)}},{key:"createTweens",value:function(e,t){var r=this;this.tweens=this.list.map((function(n,i){var o=n.entity,a=n.ref,s=r.store.gameStore.scene.tweens.add({targets:o,x:{from:e.x,to:(0,Y.rs)(e.x-10,e.x+10)},y:{from:e.y,to:(0,Y.rs)(e.y-10,e.y+10)},rotate:{from:0,to:(0,Y.rs)(-150,150)},duration:50,delay:5*i,repeat:0,ease:"Quad.easeOut",onUpdate:function(){if((null==a?void 0:a.current)&&o.x&&o.y){var t=a.current;t.style.opacity="1",t.style.transform="translate3d(".concat(o.x-e.x,"px, ").concat(o.y-e.y,"px, 0) rotate(").concat(o.rotate,"deg)"),o.x===e.x?t.style.display="none":t.style.display="block"}},onComplete:function(){s.pause(),r.tweens.every((function(e){return e.isPaused()}))&&r.createFlyTransition(e,t)}});return s}))}},{key:"createFlyTransition",value:function(e,t){var r=this;this.list.map((function(n,i){var o=n.entity,a=n.ref;if((null==a?void 0:a.current)&&o.x&&o.y){var s=a.current,c=10*i+(0,Y.rs)(-10,10);s.style.transition="all ".concat(500,"ms ease-in"),s.style.transitionDelay="".concat(c,"ms"),s.style.transform="translate3d(".concat(t.x-e.x+5,"px, ").concat(t.y-e.y+5,"px, 0)"),i+1===r.list.length&&setTimeout((function(){return r.clear()}),500+c+500)}}))}},{key:"clear",value:function(){var e=this;this.tweens.forEach((function(t){e.store.gameStore.scene.tweens.remove(t)})),this.hide()}},{key:"hide",value:function(){this.props.hide()}},{key:"render",value:function(){return x().createElement("div",{className:Z()(Q().wrap,this.props.className),ref:this.sourceRef,style:{opacity:this.list.length?"1":"0"}},this.list.map((function(e,t){return h()(B.Z,{className:Q().item,bgUrl:F.ZP.COMMON_PIC_COIN,forwardedRef:e.ref},t)})))}}]),r}(G.Z),o=P()(i.prototype,"list",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=P()(i.prototype,"sourceRef",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x().createRef()}}),n=i))||n)||n;function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var ae="luckyPacketEntry-dom-wrap",se=N()(M())(ee=(0,j.observer)((te=function(e){O()(r,e);var t=oe(r);function r(){var e;v()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),g()(e,"onClickLuckyPacket",re,w()(e)),g()(e,"handleLock",ne,w()(e)),e.hideCoinFly=function(){e.store.coinFlyStore.hideAction(),e.store.setLuckyPacketCoinNum(void 0)},e}return _()(r,[{key:"renderLock",value:function(){return h()(B.Z,{className:Z()(M().wrap,this.props.className),bgUrl:F.ZP.YELLOW_ROUND_LOCK_BG,onClick:this.handleLock},void 0,h()(B.Z,{className:M().bottom,bgUrl:F.ZP.LUCKY_PACKET_TEXT_LOCK}),h()(B.Z,{className:M().bubbleTips,bgUrl:F.ZP.BUBBLE_BLACK_BG},void 0,"更多福利等你拿"))}},{key:"render",value:function(){var e,t,r=this,n=null===(e=this.store.luckyPacketUnlockDialogStore)||void 0===e?void 0:e.isShow;if(!this.store.showTriggerRedPacket&&!n)return this.renderLock();var i=this.store.triggerRedPacketInfo||{},o=i.buy_fairy_count,a=void 0===o?-1:o,s=i.buy_fairy_goal,c=void 0===s?-1:s,u=i.can_open_first_time;if([a,c].some((function(e){return"number"!=typeof e||e<0})))return null;var l=Math.min(+(a/c*100).toFixed(0),100),p=u||0===Math.min(a-c,a,c,0),d={page_el_sn:z.j3.MAIN_ICON,packet_status:p?1:0,top_rank:this.store.myTopRank,can_open_first_time:u?1:0},m=(null===(t=this.store.coinFlyStore)||void 0===t?void 0:t.isShow)&&!!this.store.scoreSpeedCoinRef,g=!!this.store.luckyPacketCoinNum&&m,y=(0,V.n)(this.store.luckyPacketCoinNum).valueStr,v=this.store.checkLowDeviceDowngrade("cancel_css_animation");return h()(K.Z,{trackingInfo:d},void 0,h()(B.Z,{id:ae,className:Z()(M().wrap,this.props.className,f()({},M().cancelCssAnimation,v)),bgUrl:F.ZP.YELLOW_ROUND_BG,onClick:function(){return r.onClickLuckyPacket(p,c-a,d)}},void 0,!n&&(p?x().createElement(x().Fragment,null,h()(B.Z,{className:Z()(M().main,M().shake),bgUrl:F.ZP.PACKET_CAN_TASK}),h()(B.Z,{className:M().takeTips,bgUrl:F.ZP.RED_OVAL_BG},void 0,"点我")):x().createElement(x().Fragment,null,h()(B.Z,{className:M().main,bgUrl:F.ZP.PACKET_HEART_BG},void 0,h()("div",{className:M().roundWrap},void 0,h()(B.Z,{className:M().gold,bgUrl:F.ZP.PACKET_INNER_GOLD,style:{height:"".concat(l,"%")}}))),l>=0&&h()(B.Z,{className:M().progress,bgUrl:F.ZP.RED_OVAL_BG},void 0,l,"%"))),h()(B.Z,{className:M().bottom,bgUrl:F.ZP.LUCKY_PACKET_TEXT}),g&&h()(B.Z,{className:M().coinWrap},void 0,h()(B.Z,{className:M().coin,bgUrl:F.ZP.COMMON_PIC_COIN}),y),m&&h()(ie,{store:this.store,className:M().coinFlyWrap,targetRef:this.store.scoreSpeedCoinRef,hide:this.hideCoinFly})))}}]),r}(G.Z),re=P()(te.prototype,"onClickLuckyPacket",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=l()(c().mark((function t(r,n,i){var o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:if(!e.store.luckyPacketResultDialogStore.isShow){t.next=4;break}return t.abrupt("return");case 4:if((0,q.iH)(null,i),r){t.next=14;break}return n>0&&(0,U.Z)("再召唤".concat(n,"只精灵可领取红包哦~")),t.next=9,(0,Y._v)(2e3);case 9:return e.store.setBuyTipsForPacketShow(!0),t.next=12,(0,Y._v)(4e3);case 12:return e.store.setBuyTipsForPacketShow(!1),t.abrupt("return");case 14:return t.next=16,e.store.openTriggerRedPacket();case 16:(o=t.sent)&&e.store.luckyPacketResultDialogStore.showAction(o);case 18:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()}}),ne=P()(te.prototype,"handleLock",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return l()(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.store.myTopRank>=5)){t.next=7;break}return(0,U.Z)("召唤精灵可领取红包哦~"),e.store.setBuyTipsForPacketShow(!0),t.next=5,(0,Y._v)(4e3);case 5:return e.store.setBuyTipsForPacketShow(!1),t.abrupt("return");case 7:(0,U.Z)("升到5级再看看哦~");case 8:case"end":return t.stop()}}),t)})))}}),ee=te))||ee)||ee},87318:function(e,t,r){"use strict";r.d(t,{Z:function(){return R},_:function(){return x}});var n=r(54612),i=r.n(n),o=r(11809),a=r.n(o),s=r(97703),c=r.n(s),u=r(96948),l=r.n(u),p=r(79430),f=r.n(p),d=r(41197),h=r.n(d),m=r(3248),g=r.n(m),y=r(83632),v=r(86564),b=r(55912),_=r(54483),k=r.n(_),w=r(50318),S=r(47963),O=r(57911),I=r(66723),A=r(69647),T=r(93358),C=r(58699),E=l()("span",{},void 0,"元"),P=function(e){var t,r,n,i,o=e.couponItem;return h()(g()),l()("section",{className:g().list},void 0,l()("div",{className:k()(g().item,g().single,g().themeCommon)},void 0,l()(v.Z,{backgroundImage:"https://promotion.pddpic.com/promo/3d05c49e-69b1-4d8d-b59b-9e344041ebff.png.slim.png",className:g().itemBg},void 0,(r=(t=o).name,n=t.discount_price,i=t.full_price,f().createElement(f().Fragment,null,l()("div",{className:g().couponName},void 0,r),!!n&&l()("div",{className:g().discountAmount},void 0,(0,w.priceCent)(n),E),!!i&&l()("div",{className:g().minAmount},void 0,"满",(0,w.priceCent)(i),"元可用"),l()("div",{className:g().deadline},void 0,"仅当日使用"))))))};function R(e){var t=e.store;h()(g());var r=(t.newUserCouponDialogStore.data||{}).couponItemSingle,n=(0,p.useState)(!1),i=c()(n,2),o=i[0],a=i[1];return(0,p.useEffect)((function(){t.dcNewUserCouponDialogStore.setShowPackRedDot()}),[]),r?l()(y.Z,{contentClass:g().content,hideAniExec:o,hideAniConfig:{iconSrc:"https://promotion.pddpic.com/promo/d1d561ff-428e-4744-9762-7446a2717a5f.png.slim.png",targetId:b.l.MyPack,callback:t.newUserCouponDialogStore.hideAction},clickCloseBtn:function(){a(!0)}},void 0,l()("section",{className:g().wrap},void 0,l()("header",{className:g().title},void 0,"恭喜获得惊喜券~"),l()(P,{couponItem:r}),l()("footer",{},void 0,l()("div",{className:g().info},void 0,"可在【主页右上角“背包”—我的优惠券】查看使用"),l()("div",{className:g().btnArea},void 0,l()(A.Z,{trackingInfo:{page_el_sn:T.kX}},void 0,l()(v.Z,{backgroundImage:"https://promotion.pddpic.com/promo/10c5d947-bf44-4602-b195-5fdc8812bc60.png.slim.png",className:g().toUseBtn,onClick:function(){return e=r,t.newUserCouponDialogStore.hideAction(),void((null==e?void 0:e.jmp_url)&&((0,C.iH)(T.kX),(0,I.eH)(e.jmp_url)));var e}},void 0,"去使用")))))):null}function x(e){return D.apply(this,arguments)}function D(){return(D=a()(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.Z.post(O.Z.giveNewUserCoupon);case 3:r=e.sent,(n=r.simple_coupon_vo)&&t.newUserCouponDialogStore.showAction({couponItemSingle:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.sendError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},57087:function(e,t,r){"use strict";r.d(t,{ZP:function(){return w},u1:function(){return S},DO:function(){return I},Sn:function(){return A}});var n,i=r(96948),o=r.n(i),a=r(54612),s=r.n(a),c=r(11809),u=r.n(c),l=r(79430),p=r(41197),f=r.n(p),d=r(41149),h=r.n(d),m=r(86564),g=r(27484),y=r.n(g),v=r(58699),b=r(93358),_=r(66723);!function(e){e[e.COMMON_USER=0]="COMMON_USER",e[e.NEW_USER=1]="NEW_USER",e[e.NOT_PLAY_OVER_DAYS=2]="NOT_PLAY_OVER_DAYS",e[e.OLD_USER_PLAYED=3]="OLD_USER_PLAYED",e[e.OLD_USER_PLAY_RANK_10_24=4]="OLD_USER_PLAY_RANK_10_24",e[e.OLD_USER_PLAY_PASS_ROUND=5]="OLD_USER_PLAY_PASS_ROUND"}(n||(n={}));var k=o()("br",{});function w(e){var t=e.store;f()(h()),(0,l.useEffect)((function(){(0,v.oy)(b.Y8,{roi_test_show_type:A(t)}),(0,v.oy)(b.rS,{roi_test_show_type:A(t)})}),[]);var r=function(){var e=u()(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.iH)(b.rS,{roi_test_show_type:A(t)});case 2:(0,_.eH)("index.html");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=t.leoConfig.roiEndDays,a=void 0===i?7:i;return o()("div",{className:h().wrap},void 0,o()("div",{className:h().title},void 0,"多多精灵游戏升级维护中"),t.roiTestUserType===n.NOT_PLAY_OVER_DAYS&&o()("div",{className:h().content},void 0,"因您",a,"天没来游戏，账户奖励已清零",k,"当前无可提现金额"),O(t)&&o()("div",{className:h().content},void 0,"当前无可提现金额"),o()(m.Z,{className:h().logo,bgUrl:"https://promotion.pddpic.com/promo/9e23cd43-9b0a-48b0-b3db-6bcaf6656275.png.slim.png"}),o()("div",{className:h().btn,onClick:r},void 0,"去拼多多首页"))}function S(e){return[n.NEW_USER,n.NOT_PLAY_OVER_DAYS].includes(e.roiTestUserType)||O(e)}function O(e){return[n.OLD_USER_PLAY_PASS_ROUND,n.OLD_USER_PLAY_RANK_10_24,n.OLD_USER_PLAYED].includes(e.roiTestUserType)&&y()(e.server_time).isAfter(e.roiGameEndTime)}function I(e){return[n.OLD_USER_PLAY_PASS_ROUND,n.OLD_USER_PLAY_RANK_10_24,n.OLD_USER_PLAYED].includes(e.roiTestUserType)&&y()(e.server_time).isBefore(e.roiGameEndTime)}function A(e){return O(e)?4:e.roiTestUserType}},20439:function(e,t,r){"use strict";r.d(t,{E_:function(){return $t},mH:function(){return Yt},Pj:function(){return er}});var n,i=r(32473),o=r(96948),a=r.n(o),s=r(46461),c=r.n(s),u=r(85114),l=r.n(u),p=r(82482),f=r.n(p),d=r(6899),h=r.n(d),m=r(90529),g=r.n(m),y=r(71988),v=r.n(y),b=r(79430),_=r.n(b),k=r(63791),w=r(86564),S=r(83632),O=r(64166),I=r.n(O),A=r(79937),T=r(19878),C=r.n(T),E=r(54483),P=r.n(E);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}var x,D,N=C()(I())(n=function(e){f()(r,e);var t=R(r);function r(){return c()(this,r),t.apply(this,arguments)}return l()(r,[{key:"_getClassNameFromSkinType",value:function(e){return{bgCls:I()["bg_".concat(e)],closeCls:I()["close_".concat(e)]}}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.hideAction,n=e.skinType,i=e.skinUseCommon,o=A.pH.BG["".concat(n)]||A.ZP.DIALOG_COIN_DIALOG_BG,s=this._getClassNameFromSkinType(n).bgCls;return a()(S.Z,{contentClass:I().dialog,clickCloseBtn:r,closeBtnStyle:{top:".5rem"}},void 0,a()(w.Z,{bgUrl:this.commonStyle.bgUrl||o,className:P()(I().bg,s,i&&I().commonBg)},void 0,t))}},{key:"commonStyle",get:function(){return this.props.skinUseCommon?{bgUrl:"https://promotion.pddpic.com/promo/8969c8c4-4e59-487b-afc7-e0ec48e652d1.png.slim.png"}:{}}}]),r}(_().Component))||n,L=r(12400),M=r.n(L),B=r(8307),F=r(21403);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}var j,U=C()(M())(x=(0,B.observer)((D=function(e){f()(r,e);var t=G(r);function r(){var e;c()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).store=e.props.store,e.persuadeDialogStore=e.store.persuadeDialogStore,e.skinType=e.store.dialogSkinType,e}return l()(r,[{key:"_getClassNameFromSkinType",value:function(){return{redCls:M()["red_".concat(this.skinType)],searchCls:M()["search_".concat(this.skinType)],leaveCls:M()["leave_".concat(this.skinType)],playCls:M()["play_".concat(this.skinType)]}}},{key:"render",value:function(){var e=this.props,t=e.handleLeave,r=e.searchImageUrl,n=this._getClassNameFromSkinType(),i=n.redCls,o=n.searchCls;return a()(N,{hideAction:this.persuadeDialogStore.hideAction,skinType:this.skinType,skinUseCommon:this.store.dialogSkinUseCommon},void 0,a()("div",{className:P()(M().red,i),style:this.commonStyle.red},void 0,"明日来可继续领取金币哦"),a()(w.Z,{className:P()(M().search,o),style:this.commonStyle.search,bgUrl:this.commonStyle.searchBgUrl}),a()(w.Z,{className:M().searchGif,style:this.commonStyle.searchGif,bgUrl:r}),a()("div",{className:M().gray,style:this.commonStyle.gray},void 0,"打开拼多多搜索",a()("span",{style:this.commonStyle.word},void 0,"“",F.k8,"”"),"可进入"),a()(w.Z,{className:M().btn,style:this.commonStyle.btn,bgUrl:A.ZP.SEARCH_CHANGE_DIALOG_BTN,onClick:t}))}},{key:"commonStyle",get:function(){return this.store.dialogSkinUseCommon?{bgUrl:A.ZP.COMMON_DIALOG_BG_COIN_WITH_PACKET,red:{top:"1.5rem"},searchBgUrl:"https://promotion.pddpic.com/promo/62f466ac-01ca-4fc8-8903-54b9522b202d.png.slim.png",search:{top:"1.97rem",left:".48rem",width:"2.4rem",height:"1.23rem"},searchGif:{top:"1.97rem",left:"49%"},gray:{top:"3.42rem",color:"#8F5F49",fontWeight:"500"},word:{color:"#F51512"},btn:{top:"3.71rem"}}:{}}}]),r}(_().Component),v()(D.prototype,"commonStyle",[k.computed],Object.getOwnPropertyDescriptor(D.prototype,"commonStyle"),D.prototype),x=D))||x)||x,W=r(69883),Z=r.n(W),H=r(52126),K=r.n(H);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}var q,Y,V=C()(K())(j=function(e){f()(r,e);var t=z(r);function r(){return c()(this,r),t.apply(this,arguments)}return l()(r,[{key:"_getImageBySkinType",value:function(e){return{LEAVE:A.sG.CANCEL_BTN["".concat(e)]||A.ZP.COMMON_PIC_BTN_YELLOW_245,PLAY:A.sG.CONFIRM_BTN["".concat(e)]||A.ZP.COMMON_PIC_BTN_GREEN_245}}},{key:"_getClassNameBySKinType",value:function(e){return{leaveCls:K()["leave_".concat(e)],playCls:K()["play_".concat(e)]}}},{key:"render",value:function(){var e=this.props,t=e.playClassName,r=e.leaveClassName,n=e.handleStay,i=e.handleLeave,o=e.skinType,s=e.wrapStyle,c=e.stayBtnText,u=e.skinUseCommon,l=this._getImageBySkinType(o),p=l.LEAVE,f=l.PLAY,d=this._getClassNameBySKinType(o),h=d.leaveCls,m=d.playCls;return a()("div",{style:s,className:P()(u&&K().wrap)},void 0,a()(w.Z,{bgUrl:u&&A.ZP.COMMON_BTN_YELLOW||p,className:P()(K().leave,h,r,u&&K().commonBtn),onClick:i},void 0,"仍然离开"),a()(w.Z,{bgUrl:u&&A.ZP.COMMON_BTN_GREEN||f,className:P()(K().play,m,t,u&&K().commonBtn),onClick:n},void 0,c||"继续玩玩"))}}]),r}(_().Component))||j;function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}var Q,J,$=C()(Z())(q=(0,B.observer)((Y=function(e){f()(r,e);var t=X(r);function r(){var e;c()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).store=e.props.store,e.persuadeDialogStore=e.store.persuadeDialogStore,e.skinType=e.store.dialogSkinType,e}return l()(r,[{key:"_getClassNameFromSkinType",value:function(){return{redBigCls:Z()["redBig_".concat(this.skinType)],redSmallCls:Z()["redSmallCls_".concat(this.skinType)],workCls:Z()["work_".concat(this.skinType)],leaveCls:Z()["leave_".concat(this.skinType)],playCls:Z()["play_".concat(this.skinType)]}}},{key:"render",value:function(){var e=this.props,t=e.handleStay,r=e.handleLeave,n=e.searchImageUrl,i=A.dz.WORK["".concat(this.skinType)]||A.ZP.PERSUADE_DIALOG_SPRITE_WORK_PIC,o=this._getClassNameFromSkinType(),s=o.redBigCls,c=o.redSmallCls,u=o.workCls;return a()(N,{hideAction:this.persuadeDialogStore.hideAction,skinType:this.skinType,skinUseCommon:this.store.dialogSkinUseCommon},void 0,a()("div",{className:P()(Z().redBig,s),style:this.commonStyle.redBig},void 0,"真的要离开吗？"),a()("div",{className:P()(Z().redSmall,c),style:this.commonStyle.redSmall},void 0,"安排精灵打工可获得额外收入"),a()(w.Z,{className:P()(Z().work,u),style:this.commonStyle.work,bgUrl:i}),a()(w.Z,{className:Z().searchGif,style:this.commonStyle.searchGif,bgUrl:n}),a()("div",{className:Z().gray,style:this.commonStyle.gray},void 0,"打开拼多多搜索",a()("span",{style:this.commonStyle.word},void 0,"“",F.k8,"”"),"可进入"),a()(V,{stayBtnText:"去打工",handleLeave:r,handleStay:t,skinType:this.skinType,skinUseCommon:this.store.dialogSkinUseCommon,wrapStyle:this.commonStyle.wrapStyle}))}},{key:"commonStyle",get:function(){return this.store.dialogSkinUseCommon?{redBig:{top:"1.43rem"},redSmall:{top:"1.71rem"},work:{top:"1.97rem",width:"2.4rem",height:".66rem"},searchGif:{top:"2.4rem",left:"49%"},gray:{top:"3.42rem",color:"#8F5F49",fontWeight:"500"},word:{color:"#F51512"},wrapStyle:{position:"absolute",top:"3.71rem",left:".43rem"},workBgUrl:""}:{}}}]),r}(_().Component),v()(Y.prototype,"commonStyle",[k.computed],Object.getOwnPropertyDescriptor(Y.prototype,"commonStyle"),Y.prototype),q=Y))||q)||q,ee=r(21387),te=r.n(ee);function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}var ne,ie,oe=a()("br",{}),ae=C()(te())((J=function(e){f()(r,e);var t=re(r);function r(){var e;c()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).store=e.props.store,e.persuadeDialogStore=e.store.persuadeDialogStore,e.skinType=e.store.dialogSkinType,e}return l()(r,[{key:"_getImageBySkinType",value:function(){return{BG:A.dz.LUCKY["".concat(this.skinType)]||A.ZP.PERSUADE_DIALOG_LUCKY_DIALOG_BG,CLOSE:A.dz.CLOSE["".concat(this.skinType)]||A.ZP.COMMON_PIC_BTN_CLOSE_ICON}}},{key:"_getClassNameBySkinType",value:function(){return{dialogCls:te()["dialog_".concat(this.skinType)],closeCls:te()["close_".concat(this.skinType)],redCls:te()["red_".concat(this.skinType)],searchGifCls:te()["searchGif_".concat(this.skinType)],grayCls:te()["gray_".concat(this.skinType)],bgCls:te()["bg_".concat(this.skinType)]}}},{key:"_getWrapStyle",value:function(){var e={position:"absolute",top:"-1.06rem"};return{1:e,2:e,3:{position:"absolute",top:"-.26rem",left:".02rem"}}}},{key:"handleStay",value:function(){this.props.handleStay(),this.store.taskListStore.showAction()}},{key:"render",value:function(){var e=this.props,t=e.handleStay,r=e.handleLeave,n=e.searchImageUrl,i=this.persuadeDialogStore.hideAction,o=this._getImageBySkinType().BG,s=this._getClassNameBySkinType(),c=s.bgCls,u=s.dialogCls,l=s.grayCls,p=s.redCls,f=s.searchGifCls,d=this._getWrapStyle()["".concat(this.skinType)]||this.commonStyle.wrapStyle;return a()(S.Z,{clickCloseBtn:i,contentClass:P()(te().dialog,u)},void 0,a()(w.Z,{bgUrl:this.commonStyle.bgUrl||o,className:P()(te().bg,c),style:this.commonStyle.bg},void 0,a()("div",{className:P()(te().red,p),style:this.commonStyle.red},void 0,"真的要离开吗？",oe,a()("span",{style:this.commonStyle.title},void 0,"做任务还可以领更多金币哦")),this.store.dialogSkinUseCommon&&a()(w.Z,{className:te().packet,bgUrl:"https://promotion.pddpic.com/promo/5e05b4bb-65a5-4eb2-8b0d-9543126664f2.png.slim.png"}),a()(w.Z,{className:P()(te().searchGif,f),style:this.commonStyle.searchGif,bgUrl:n}),a()("div",{className:P()(te().gray,l),style:this.commonStyle.gray},void 0,"打开拼多多搜索“",a()("span",{style:this.commonStyle.word},void 0,F.k8),"”可进入"),a()(V,{stayBtnText:"去领金币",handleLeave:r,handleStay:t,wrapStyle:d,skinType:this.skinType,skinUseCommon:this.store.dialogSkinUseCommon})))}},{key:"commonStyle",get:function(){return this.store.dialogSkinUseCommon?{bgUrl:A.ZP.COMMON_GIFT_DIALOG_BG,bg:{width:"3.26rem",height:"4.27rem",flexShrink:0},red:{top:"1rem",lineHeight:"1"},title:{fontSize:".14rem"},searchGif:{top:"1.9rem"},gray:{top:"2.85rem",color:"#8F5F49",fontWeight:"500"},wrapStyle:{position:"absolute",top:"3.48rem",left:".36rem"},word:{color:"#F51512"}}:{}}}]),r}(_().Component),v()(J.prototype,"commonStyle",[k.computed],Object.getOwnPropertyDescriptor(J.prototype,"commonStyle"),J.prototype),Q=J))||Q,se=r(54612),ce=r.n(se),ue=r(11809),le=r.n(ue),pe=r(80819),fe=r.n(pe),de=r(71831),he=r.n(de),me=(r(52745),r(27982)),ge=r(78231),ye=r(26671),ve=r(41013),be=r(92829),_e=r.n(be),ke=r(41197),we=r.n(ke),Se=r(77889),Oe=r.n(Se),Ie=r(2365),Ae=C()(Oe())(ne=(0,B.observer)(ne=function(e){var t=e.width,r=e.height,n=e.wrapClassName;return a()("div",{className:n},void 0,a()(Ie.Z,{width:t,height:r,svgClassName:Oe().star,contentClassName:Oe().starAni,imgUrl:"https://promotion.pddpic.com/promo/0b135c82-dda5-4ab7-825a-e7bbbec57187.png.slim.png"}))})||ne)||ne,Te=r(97932),Ce=r.n(Te),Ee=C()(Ce())(ie=(0,B.observer)(ie=function(e){var t=e.width,r=e.height,n=e.wrapClassName;return a()("div",{className:n},void 0,a()(Ie.Z,{width:t,height:r,svgClassName:Ce().bag,contentClassName:Ce().bagAni,imgUrl:"https://promotion.pddpic.com/promo/b1bb8eeb-bc70-43c2-8eaf-0ad9c72f0b4b.png.slim.png"}))})||ie)||ie,Pe=function(){return we()(_e()),a()(S.Z,{closeBtn:!1,contentClass:_e().giftDialog,clickMask:function(){}},void 0,a()("div",{className:_e().giftBg,onClick:function(){}},void 0,a()(w.Z,{className:_e().light,backgroundImage:"https://promotion.pddpic.com/promo/aa080b92-8aa7-4c1d-97ca-e6cd9e06c633.png.slim.png"}),a()(Ae,{width:305,height:241,wrapClassName:_e().starWrap}),a()("div",{className:_e().giftTitle},void 0,"哇，有惊喜！"),a()(Ee,{width:243,height:206,wrapClassName:_e().giftBagWrap})))},Re=r(97703),xe=r.n(Re),De=r(534),Ne=r.n(De),Le=r(10445),Me=r(99830),Be=r(49304),Fe=r.n(Be),Ge=r(27551),je=r(52866);function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){Fe()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ze,He,Ke,ze=function(e){var t=e.pack,r=e.targetId,n=e.children,i=e.className,o=e.transitionTime,a=void 0===o?500:o,s=e.maskStyle,c=e.mainStyle,u=(0,b.useRef)(),l=(0,b.useRef)(),p=(0,b.useState)({translateX:0,translateY:0}),f=xe()(p,2),d=f[0],h=f[1],m=(0,b.useRef)({isPacked:!1});(0,b.useEffect)((function(){if(t&&!m.current.isPacked){var e,n,i,o;m.current.isPacked=!0;var a=null===(e=l.current)||void 0===e||null===(n=e.getBoundingClientRect)||void 0===n?void 0:n.call(e),s=(null===(i=document.getElementById(r))||void 0===i||null===(o=i.getBoundingClientRect)||void 0===o?void 0:o.call(i))||a,c={x:a.left+a.width/2,y:a.top+a.height/2},u={x:s.left+s.width/2,y:s.top+s.height/2};h({translateX:u.x-c.x,translateY:u.y-c.y})}}),[t,r]);var g=We(We(We({},s),(0,je.T8)("transition","background-color ".concat(a,"ms ease 0ms"))),{},{backgroundColor:t?"rgba(0, 0, 0, 0)":"rgba(0, 0, 0, .8)"}),y=We(We(We({},c),(0,je.T8)("transition","transform ".concat(a,"ms ease"))),(0,je.T8)("transform",t?"translate3d(".concat(d.translateX,"px, ").concat(d.translateY,"px, 0px) scale(0)"):"translate3d(0,0,0) scale(1)"));return _().createElement(Ge.Z,{ref:u,style:g},_().createElement("section",{className:i,ref:l,style:y},n))},qe=Me.Z.price,Ye=a()("br",{}),Ve=function(e){var t=e.wechatCashAmount,r=e.hideAction;we()(Ne());var n=(0,b.useState)(!1),i=xe()(n,2),o=i[0],s=i[1];(0,b.useEffect)((function(){var e,t=setTimeout((function(){s(!0),e=setTimeout((function(){r()}),1050)}),1e3);return function(){t&&clearTimeout(t),e&&clearTimeout(e)}}),[]);var c=qe(t,100);return a()(ze,{pack:o,className:Ne().mainCls,maskStyle:{zIndex:1001},targetId:"first-wepay-sign-icon",transitionTime:1e3},void 0,a()(w.Z,{className:Ne().light,bgUrl:A.ZP.UNLOCK_SPRITE_DIALOG_LIGHT}),a()(Le.Z,{className:Ne().star,img:A.fT.ANI["".concat(1)],skinType:1}),a()("div",{className:Ne().wrap},void 0,a()("div",{className:Ne().text},void 0,a()("span",{className:Ne().firstLine},void 0,"哇，恭喜获得"),Ye,a()("span",{className:Ne().secondLine},void 0,"微信零钱",a()("span",{},void 0,c),"元"))),a()(w.Z,{className:Ne().main,bgUrl:"https://promotion.pddpic.com/promo/5d79df57-aa78-499a-981b-04d9b5bf7b5d.png.slim.png"},void 0,c))};function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}var Qe,Je=a()(Pe,{}),$e=(0,B.inject)("store")(Ze=(0,B.observer)((He=function(e){f()(r,e);var t=Xe(r);function r(){var e;c()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).dailySign7DialogStore=e.store.dailySign7DialogStore,fe()(e,"confirm",Ke,he()(e)),e}return l()(r,[{key:"componentDidMount",value:function(){this.confirm(),this.cmtLogger()}},{key:"cmtLogger",value:function(){var e=this.store,t=e.duoduoSpriteLogger;e.queries,e.leoConfig;t({stage:"new_user_sign_dialog_impr",fields:{isWepay:this.isWepay}})}},{key:"render",value:function(){return this.isWepay?a()(Ve,{wechatCashAmount:this.dailySign7DialogStore.signTaskList[0].wechat_cash_amount,hideAction:this.props.hideAction}):Je}},{key:"isWepay",get:function(){var e,t;return(null===(e=this.dailySign7DialogStore.signTaskList)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.wechat_cash_amount)>0}}]),r}(me.Z),v()(He.prototype,"cmtLogger",[ye.Y],Object.getOwnPropertyDescriptor(He.prototype,"cmtLogger"),He.prototype),Ke=v()(He.prototype,"confirm",[ve.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return le()(ce().mark((function t(){return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isWepay){t.next=9;break}return t.next=3,Promise.all([e.dailySign7DialogStore.querySignProcess(),(0,ge._v)(500)]);case 3:return e.dailySign7DialogStore.showAction({fromRetain:!0,handleLeave:e.props.handleLeave}),t.next=6,(0,ge._v)(2e3);case 6:e.props.hideAction(),t.next=13;break;case 9:return t.next=11,Promise.all([e.dailySign7DialogStore.querySignProcess(),(0,ge._v)(2e3)]);case 11:e.props.hideAction(),e.dailySign7DialogStore.showAction();case 13:case"end":return t.stop()}}),t)})))}}),Ze=He))||Ze)||Ze,et=r(20253),tt=r.n(et);function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}var nt=Me.Z.price,it=a()("span",{},void 0,"明日签到可获得"),ot=a()("br",{}),at=function(e){var t=e.store,r=e.handleLeave,n=e.handleStay;we()(tt());var i=t.dailySign7DialogStore.signTaskList[1].wechat_cash_amount,o=nt(i,100);return a()(S.Z,{contentClass:tt().content,clickCloseBtn:n},void 0,a()(w.Z,{backgroundImage:"https://promotion.pddpic.com/promo/b8f0c704-ea53-4864-94ea-17883495b176.png.slim.c1.png",className:tt().wrap},void 0,a()("header",{className:tt().title},void 0,it,ot,a()("span",{className:tt().secondLine},void 0,"微信零钱",o,"元")),a()(w.Z,{className:tt().wepayBg,backgroundImage:"https://promotion.pddpic.com/promo/5d79df57-aa78-499a-981b-04d9b5bf7b5d.png.slim.png"},void 0,a()("div",{},void 0,o)),a()("footer",{className:tt().btns},void 0,a()(w.Z,{backgroundImage:"https://promotion.pddpic.com/promo/c4ad8bad-883e-4714-bca5-9f64f6fc8656.png.slim.png",className:tt().leftBtn,onClick:r}),a()(w.Z,{backgroundImage:"https://promotion.pddpic.com/promo/98a14b31-c474-413e-b6a6-bf49ed53f90c.png.slim.png",className:tt().rightBtn,onClick:n}))))},st=(0,B.inject)("store")(Qe=(0,B.observer)(Qe=function(e){f()(r,e);var t=rt(r);function r(){return c()(this,r),t.apply(this,arguments)}return l()(r,[{key:"render",value:function(){return _().createElement(at,this.props)}}]),r}(me.Z))||Qe)||Qe,ct=r(70722),ut=r.n(ct),lt=r(94255),pt=r.n(lt),ft=r(50318);function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ht,mt=function(e){var t=(0,b.useState)(""),r=xe()(t,2),n=r[0],i=r[1],o=(0,b.useState)(""),s=xe()(o,2),c=s[0],u=s[1],l=e.width,p=e.height,f=e.containerClassName,d=e.containerStyle,h=e.contentClassName,m=e.contentStyle,g=e.imgUrl,y=e.quality,v=e.forwardedRef,k=e.sharpen,S=e.preserveAspectRatio,O=e.frames,I=e.playCount,A=e.playDuration,T=pt()(e,["width","height","containerClassName","containerStyle","contentClassName","contentStyle","imgUrl","quality","forwardedRef","sharpen","preserveAspectRatio","frames","playCount","playDuration"]),C=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){Fe()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({width:"".concat(l,"px"),height:"".concat(p,"px"),backgroundSize:"100%"},m),E={viewBox:"0, 0, ".concat(l,", ").concat(p),className:f,style:d,preserveAspectRatio:S};(0,b.useEffect)((function(){var e=(0,ft.nanoid)(8),t="sprite-ani-".concat(e),r="aniClassName-".concat(e),n=new Array(O+1).fill("").map((function(e,t){return"".concat((t/O*100).toFixed(2),"% {background-position: 0 ").concat(-p*t,"px;}")})).join("\n"),o=A||1e3,a=-1===I?"infinite":I||1,s="\n            .".concat(r," {\n                animation: ").concat(t," ").concat(o,"ms steps(1) ").concat(a,";\n                -webkit-animation: ").concat(t," ").concat(o," steps(1) ").concat(a,";\n            }\n            @keyframes ").concat(t," {\n                ").concat(n,"\n            }\n            @-webkit-keyframes ").concat(t," {\n                ").concat(n,"\n            }\n        ");u(r),i(s)}),[]);return _().createElement(_().Fragment,null,a()("style",{},void 0,n),_().createElement("svg",E,a()("foreignObject",{width:l,height:p},void 0,_().createElement(w.Z,ut()({bgUrl:g,style:C,className:P()(h,c)},T,{quality:y,sharpen:k,forwardedRef:v})))))},gt=r(10397),yt=r.n(gt);function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}var bt,_t,kt=a()("span",{},void 0,"“",F.k8,"”"),wt=C()(yt())(ht=(0,B.observer)(ht=function(e){f()(r,e);var t=vt(r);function r(){var e;c()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).store=e.props.store,e.persuadeDialogStore=e.store.persuadeDialogStore,e.skinType=e.store.dialogSkinType,e}return l()(r,[{key:"_getClassNameFromSkinType",value:function(){return{redBigCls:yt()["redBig_".concat(this.skinType)]}}},{key:"render",value:function(){var e=this.props,t=e.handleStay,r=e.handleLeave,n=this._getClassNameFromSkinType().redBigCls,i=_().createElement(_().Fragment,null,a()("div",{className:P()(yt().redBig,n)},void 0,"真的要离开吗？"),a()("div",{className:yt().icon},void 0,a()(mt,{width:476,height:252,frames:41,imgUrl:A.ZP.PERSUADE_HOME_GUIDE,playCount:-1,playDuration:1500})),a()("div",{className:yt().gray},void 0,"首页左滑点击",kt,"进入游戏"),a()(V,{handleLeave:r,handleStay:t,skinType:this.skinType}));return a()(N,{hideAction:this.persuadeDialogStore.hideAction,skinType:this.skinType,skinUseCommon:this.store.dialogSkinUseCommon},void 0,this.store.dialogSkinUseCommon?a()("div",{className:yt().wrap},void 0,i):i)}}]),r}(_().Component))||ht)||ht,St=r(81180),Ot=r.n(St),It=r(66723),At=r(55912);!function(e){e.Family="Family",e.MakeUp="MakeUp",e.MomAndBaby="MomAndBaby"}(_t||(_t={}));var Tt=(bt={},Fe()(bt,_t.Family,{bg:"https://promotion.pddpic.com/promo/d2add212-487e-41fc-90c4-2f1148107a9a.png.slim.png"}),Fe()(bt,_t.MakeUp,{bg:"https://promotion.pddpic.com/promo/3d05c49e-69b1-4d8d-b59b-9e344041ebff.png.slim.png"}),Fe()(bt,_t.MomAndBaby,{bg:"https://promotion.pddpic.com/promo/1e895bf7-45dc-4786-bec1-2bf75ecd8d89.png.slim.png"}),bt),Ct=a()("span",{},void 0,"元"),Et=function(e){var t=e.name,r=e.couponInfo,n=r.min_amount,i=r.discount_amount;return _().createElement(_().Fragment,null,a()("div",{className:Ot().couponName},void 0,t),a()("div",{className:Ot().discountAmount},void 0,(0,ft.priceCent)(i),Ct),a()("div",{className:Ot().minAmount},void 0,"满",(0,ft.priceCent)(n),"元可用"),a()("div",{className:Ot().deadline},void 0,"仅当日使用"))},Pt={1:function(e){var t=e.displayCouponList;we()(Ot());var r=t[0];return a()("section",{className:Ot().list},void 0,a()("div",{className:P()(Ot().item,Ot().single,Ot()["themeFor".concat(r.couponType)])},r.couponType,a()(w.Z,{backgroundImage:Tt[r.couponType].bg,className:Ot().itemBg},void 0,Et(r))))},2:function(e){var t=e.displayCouponList,r=e.onClickToUse;return we()(Ot()),a()("section",{className:Ot().list,style:{marginBottom:".15rem"}},void 0,t.map((function(e){return a()("div",{className:P()(Ot().item,Ot().double,Ot()["themeFor".concat(e.couponType)])},e.couponType,a()(w.Z,{backgroundImage:Tt[e.couponType].bg,className:Ot().itemBg},void 0,Et(e)),a()(w.Z,{backgroundImage:"https://promotion.pddpic.com/promo/10c5d947-bf44-4602-b195-5fdc8812bc60.png.slim.png",className:Ot().toUseBtn,onClick:r.bind(null,e.useCouponUrl)},void 0,"去使用"))})))},3:function(e){var t=e.displayCouponList,r=e.onClickToUse;return we()(Ot()),a()("section",{className:Ot().list},void 0,t.map((function(e){return a()("div",{className:P()(Ot().item,Ot().triple,Ot()["themeFor".concat(e.couponType)])},e.couponType,a()(w.Z,{backgroundImage:Tt[e.couponType].bg,className:Ot().itemBg},void 0,Et(e)),a()(w.Z,{backgroundImage:"https://promotion.pddpic.com/promo/10c5d947-bf44-4602-b195-5fdc8812bc60.png.slim.png",className:Ot().toUseBtn,onClick:r.bind(null,e.useCouponUrl)},void 0,"去使用"))})))}},Rt=a()("br",{});var xt=r(76825),Dt=r.n(xt),Nt=r(27484),Lt=r.n(Nt);var Mt=r(57087),Bt=r(82118),Ft=r.n(Bt),Gt=a()("br",{});function jt(e){var t=e.store,r=e.handleLeave,n=e.handleStay;we()(Ft());var i="去打工有机会获得信物宝箱哦";return t.messengerStore.shellBoxList.length&&(i="还有信箱宝物待开启哦"),a()(S.Z,{contentClass:Ft().content,clickCloseBtn:t.persuadeDialogStore.hideAction},void 0,a()(w.Z,{className:Ft().wrap,bgUrl:"https://promotion.pddpic.com/promo/58aad1ce-36b3-4bfb-b0b3-7284893230da.png.slim.png"},void 0,a()("div",{className:Ft().title},void 0,"真的要离开吗?",Gt,i),a()(w.Z,{className:Ft().center,bgUrl:"https://promotion.pddpic.com/promo/353ac7ad-8849-47d4-927d-0f17b84b1adb.png.slim.png"}),a()("div",{className:Ft().tips},void 0,"打开拼多多搜索“多多精灵”可进入游戏"),a()("div",{className:Ft().btnWrap},void 0,a()(w.Z,{className:Ft().btn,bgUrl:"https://promotion.pddpic.com/promo/5d91053b-15f5-4d1c-aaef-d0b7a17c53de.png.slim.png",onClick:r}),a()(w.Z,{className:Ft().btn,bgUrl:"https://promotion.pddpic.com/promo/aa668aa7-aebd-4ee2-8de3-95fce7a6f3df.png.slim.png",onClick:n}))))}var Ut=r(86068),Wt=r.n(Ut),Zt=r(1042),Ht=a()("br",{}),Kt=a()("span",{},void 0,"还有提现冲刺礼包未领取");var zt=r(97957),qt="duoduo_sprite_new_user_day",Yt=function(e){return e?((0,i.m)(qt),!0):!!(0,i.z)(qt)},Vt={name:"HomeGuideDialog",Comp:wt,pop_layer_type:5,shouldEmit:function(e){return e.abTestStore.homeIconGuide}},Xt={name:"SearchDialog",Comp:U,pop_layer_type:2,shouldEmit:function(e){return!0}},Qt={name:"LuckyBag",Comp:ae,pop_layer_type:1,shouldEmit:function(e){return e.taskListStore.isHasNotGainTask}},Jt={name:"WorkDialog",Comp:$,pop_layer_type:0,shouldEmit:function(e){var t;return e.gameStore.isHasIdleSeat&&!(null===(t=e.gameStore.guideHandler)||void 0===t?void 0:t.isInGuide)}},$t=[{name:"NewUserGiftDialog",Comp:$e,pop_layer_type:4,shouldEmit:function(e){var t=0===e.dailySign7DialogStore.signTaskList.length,r=!e.dailySign7DialogStore.isSignedToday;return e.isShowSeriesSign7&&(t||r)}},{name:"NewUserSecondDaySignTip",Comp:st,pop_layer_type:4,shouldEmit:function(e){var t,r,n=(null===(t=e.dailySign7DialogStore.signTaskList)||void 0===t||null===(r=t[1])||void 0===r?void 0:r.wechat_cash_amount)>0,i=!!e.dailySign7DialogStore.isSignedToday;return e.isShowSeriesSign7&&n&&i}},Vt,Xt,Qt,Jt],er=[{name:"DcNewUserCouponDialog",Comp:function(e){var t=e.store,r=e.handleLeave,n=e.handleStay;we()(Ot());var i=(0,b.useState)(!1),o=xe()(i,2),s=o[0],c=o[1],u=t.dcNewUserCouponDialogStore.getDisplayCouponList(),l=Pt[u.length],p=function(e){n(u.length>1,{coupon_from2:t.dcNewUserCouponDialogStore.$couponFrom}),It.ZP.forward(e)};return(0,b.useEffect)((function(){t.dcNewUserCouponDialogStore.setShowPackRedDot()}),[]),a()(S.Z,{contentClass:Ot().content,hideAniExec:s,hideAniConfig:{iconSrc:"https://promotion.pddpic.com/promo/d1d561ff-428e-4744-9762-7446a2717a5f.png.slim.png",targetId:At.l.MyPack,callback:t.persuadeDialogStore.hideAction},clickCloseBtn:function(){c(!0)}},void 0,a()("section",{className:Ot().wrap},void 0,a()("header",{className:Ot().title},void 0,"要离开了吗？",Rt,"新人专享券已到账"),a()(l,{displayCouponList:u,onClickToUse:p}),a()("footer",{},void 0,a()("div",{className:Ot().info},void 0,"可在【App个人中心-优惠券】查看使用"),a()("div",{className:Ot().btnArea},void 0,a()("div",{className:Ot().leaveBtn,onClick:function(){c(!0),setTimeout((function(){r()}),600)}},void 0,"狠心离开"),1===u.length&&a()(w.Z,{backgroundImage:"https://promotion.pddpic.com/promo/10c5d947-bf44-4602-b195-5fdc8812bc60.png.slim.png",className:Ot().toUseBtn,onClick:p.bind(null,u[0].useCouponUrl)},void 0,"去使用")))))},pop_layer_type:10,shouldEmit:function(e){var t,r;return null===(t=e.dcNewUserCouponDialogStore)||void 0===t||null===(r=t.shouldEmit)||void 0===r?void 0:r.call(t)},getImprLog:function(e){var t;return{coupon_from:null===(t=e.dcNewUserCouponDialogStore)||void 0===t?void 0:t.$couponFrom}}},{name:"WillClearDialog",Comp:function(e){var t=e.store,r=e.handleLeave,n=e.handleStay;return we()(Dt()),a()(S.Z,{contentClass:Dt().dialog,clickCloseBtn:function(){return r()}},void 0,a()(w.Z,{className:Dt().wrap,bgUrl:"https://promotion.pddpic.com/promo/d63972bb-fdde-4d03-aeb2-78bd5c09002f.png.slim.png"},void 0,a()("div",{className:Dt().title},void 0,"下线通知"),a()("div",{className:Dt().content},void 0,"很抱歉通知您，多多精灵游戏将于",a()("span",{},void 0,Lt()(t.roiGameEndTime).format("YYYY年MM月DD日"),"暂停运营"),"，进行升级维护，届时所有待领奖励将失效，请您尽快兑换。"),a()("div",{className:Dt().btn,onClick:n},void 0,"我知道了")))},pop_layer_type:6,shouldEmit:function(e){return(0,Mt.DO)(e)}},{name:"TimeLimitBuyDialog",Comp:function(e){var t=e.store,r=e.handleLeave,n=e.handleStay,i=e.hideAction;return we()(Wt()),a()(S.Z,{contentClass:Wt().dialog,clickCloseBtn:function(){return i()}},void 0,a()(w.Z,{className:Wt().wrap,bgUrl:"https://promotion.pddpic.com/promo/ff66b368-dc11-4eb5-bbe6-e65e1b84d4ef.png.slim.png"},void 0,a()("div",{className:Wt().title},void 0,"真的要离开吗？",Ht,Kt),a()(w.Z,{className:Wt().coinPic,bgUrl:"https://promotion.pddpic.com/promo/6c16197b-cbaa-4125-8636-ad26736c7860.png.slim.png"},void 0,a()(w.Z,{className:Wt().limitTips,bgUrl:"https://promotion.pddpic.com/promo/4face7a1-8f14-49ec-ae26-2fdcc7bfb1e3.png.slim.png"})),a()(Zt.Z,{className:Wt().countDown,fmtStr:"hh:mm:ss",now:Lt()().valueOf(),endTime:Lt()().endOf("day").valueOf(),onFinish:function(){return i()}}),a()("div",{className:Wt().btns},void 0,a()(w.Z,{className:Wt().btn,bgUrl:"https://promotion.pddpic.com/promo/3b84a8da-296e-417c-a667-d2da82d1da69.png.slim.png",onClick:r}),a()(w.Z,{className:Wt().btn,bgUrl:"https://promotion.pddpic.com/promo/bc395d4a-c7a4-4587-b859-54f550c0d4b8.png.slim.png",onClick:function(){n();var e=t.leoForMission.timeLimitBuyTaskConfig;if(null==e?void 0:e.url){t.topBarStore.hideLimitGuideHand(),t.topBarStore.updateLimitBuyTask(!0);var r=(0,ft.appendQuery)({mission_id:e.missionId,module_id:t.leoForMission.module_id},e.url);(0,It.eH)(r)}}}))))},pop_layer_type:8,shouldEmit:function(e){return e.abTestStore.stayForTimeLimitBuy&&!e.topBarStore.isLimitBuyTaskFinished&&e.topBarStore.isShowLimitBuyTask}}].concat([{name:"MsgBoxDialog",Comp:jt,pop_layer_type:9,shouldEmit:function(e){return e.abTestStore.showMsgShellBox&&e.messengerStore.hasUnlock&&!!e.messengerStore.shellBoxList.length}},{name:"MsgBoxDialog",Comp:jt,pop_layer_type:7,shouldEmit:function(e){return e.abTestStore.showMsgShellBox&&e.messengerStore.hasUnlock&&(0,zt.V)(e)}}],[Qt,Jt,Vt,Xt])},32473:function(e,t,r){"use strict";r.d(t,{z:function(){return i},m:function(){return o}});var n=r(50359),i=function(e){return(0,n.aF)("duoduo_sprite_".concat(e))},o=function(e){(0,n.o_)("duoduo_sprite_".concat(e),1)}},10445:function(e,t,r){"use strict";var n=r(96948),i=r.n(n),o=(r(79430),r(19878)),a=r.n(o),s=r(97716),c=r.n(s),u=r(79937),l=r(2365),p=r(54483),f=r.n(p);t.Z=a()(c())((function(e){var t=e.className,r=e.img,n=e.skinType;return i()(l.Z,{width:600,height:600,svgClassName:f()(c().star,c()["star_".concat(n)],t),contentClassName:c().starAni,imgUrl:r||u.ZP.LOADING_STAR_ANI,cutHeight:!0,cutScale:1,downgradeFrameIndex:2})}))},15148:function(e,t,r){"use strict";r.d(t,{p:function(){return i},S:function(){return p}});var n,i,o=r(49304),a=r.n(o),s=r(50318),c=r(16044);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}!function(e){e[e.Icon=1]="Icon",e[e.TaskList=2]="TaskList"}(i||(i={}));var l=(n={},a()(n,i.Icon,{orderMissionId:16156,browseMissionId:16237,mktChannelToken:"odqw2hkdpwirtfglkur5qxw2xjze5gk4wbggvrbwfwl2rf7wcdfz2ojx6g5ikhye73vb4d2quaap4uazfvknfjfiyzrvonoxg63fv2i",mktTrSc:"fairy_brand",mktDomain:"143"}),a()(n,i.TaskList,{orderMissionId:16367,browseMissionId:16368,mktChannelToken:"uxclbepovcahqcknt3pla2jbkjmwburi3vbjtreirdm3v3iekng76s5q3ahgk2fus2x46vgusqimwkieu6prcqbowrqhaeikkxeaqtdc3227vnlycr2fdkpbm4kvg6m6",mktTrSc:"fairy_renwu_dongxiao",mktDomain:"143"}),n),p=function(e){var t=e.linkUrl,r=e.isToBrandStation,n=e.showBrowseBenefit,i=e.moduleId,o=e.brandCptEntry,p=e.otherQuery,f=l[o],d=f.orderMissionId,h=f.browseMissionId,m=f.mktChannelToken,g=f.mktTrSc,y=f.mktDomain,v=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({cpt_type:c.Zg.Aggregation},p);return r?Object.assign(v,{brd_fairy_module_id:i,brd_fairy_mission_id:d,brd_fairy_browse_mission_id:n?h:void 0}):Object.assign(v,{module_id:i,order_mission_id:d,mission_id:n?h:void 0,mkt_channel_token:m,mkt_tr_sc:g,mkt_domain:y}),(0,s.appendQuery)(v,t)}},49190:function(e,t,r){"use strict";r.d(t,{Z:function(){return dr}});var n=r(49304),i=r.n(n),o=r(96948),a=r.n(o),s=r(54612),c=r.n(s),u=r(11809),l=r.n(u),p=r(80819),f=r.n(p),d=r(46461),h=r.n(d),m=r(85114),g=r.n(m),y=r(71831),v=r.n(y),b=r(82482),_=r.n(b),k=r(6899),w=r.n(k),S=r(90529),O=r.n(S),I=r(71988),A=r.n(I),T=(r(52745),r(79430)),C=r.n(T),E=r(8307),P=r(63791),R=r(27982),x=r(58699),D=r(86564),N=r(54483),L=r.n(N),M=r(19878),B=r.n(M),F=r(48774),G=r.n(F),j=r(99830),U=r(66723),W=r(93358),Z=r(79937),H=r(21403),K=r(41197),z=r.n(K),q=r(91963),Y=r(6266),V=r.n(Y),X=r(1042),Q=r(78231),J=r(69647),$=r(40328),ee=r(51267),te=r.n(ee),re=r(83524),ne="https://promotion.pddpic.com/promo/102ac24c-047c-4037-8c3a-794cf2e389f2.png.slim.png",ie="https://promotion.pddpic.com/promo/553dc92d-be78-4e14-ae0e-eade7b6b2595.png.slim.png",oe="https://promotion.pddpic.com/promo/d2acf406-cc95-49d0-84e5-64e082377b85.png.slim.png";function ae(e,t){return!e&&0===t}var se,ce=function(e){var t=e.canReceivePresentFromProp,r=e.presentRemainTime,n=e.isShowFriendAndPresent,o=e.showAfterClickAni,s=e.dailyPresentCoinNum,u=e.levelMap,p=e.store;z()(te());var f=(0,re.Z)(),d=t&&0===r,h=ae(t,r),m={handleObj:null,isDirectUpdate:!1,needSetCoinNum:!1},g=(0,$.Z)(l()(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&!o&&p.scoreSpeedCoinRef){e.next=2;break}return e.abrupt("return");case 2:return(0,x.iH)(W.L9.DAILY_ICON,{pack_type:0}),e.next=5,p.receiveDailyPresent();case 5:return t=e.sent,e.next=8,p.queryUserProcess(m);case 8:if(p.duoduoSpriteLogger({stage:"receive_daily_sign_gift"}),!t){e.next=14;break}return p.topBarStore.setAfterClickAni(t),e.next=13,(0,Q._v)(1500);case 13:return e.abrupt("return",(p.topBarStore.stopAfterClickAni(),p.queryUserProcess(m)));case 14:case"end":return e.stop()}}),e)})))),y=(0,T.useCallback)((function(){p.queryUserProcess(m)}),[]),v=a()(ue,{store:p,onDailyCountDownFinish:y});return n?a()("div",{className:L()(te().wrap,i()({},te().aniStopWrap,!f))},void 0,function(){if(!(!o&&d))return null;var e={page_el_sn:W.L9.DAILY_ICON,pack_type:0};return a()(J.Z,{trackingInfo:e},void 0,a()(D.Z,{className:te().giftWrap,bgUrl:ie,onClick:g},void 0,a()(D.Z,{className:te().giftTips,bgUrl:oe}),a()(D.Z,{className:te().redDot,bgUrl:"https://promotion.pddpic.com/promo/4a1bdc05-ad14-4438-b7e8-29fa53559055.png.slim.png"})))}(),o?a()(D.Z,{className:te().giftWrap,bgUrl:ne},void 0,a()(D.Z,{className:te().coinUp,bgUrl:"https://promotion.pddpic.com/promo/93596ff0-6e50-4c27-96a2-d82f774a40c2.png.slim.png"}),function(){var e,t;if(!o)return null;var r=(0,q.n)(s),n=(null===(e=u.UI_COLOR)||void 0===e||null===(t=e.BASE_BG)||void 0===t?void 0:t.RGBA)||{},i=n.r,c=n.g,l=n.b,p=n.a,f={background:"rgba(".concat(i,", ").concat(c,", ").concat(l,", ").concat(p,")")};return a()("div",{className:te().bubbleContainer,style:f},void 0,a()(D.Z,{className:te().bubbleCoin,bgUrl:Z.ZP.COMMON_PIC_COIN}),a()("div",{className:te().bubbleTip},void 0,r.valueStr))}()):null,function(){if(!(!o&&!d))return null;var e={page_el_sn:W.L9.DAILY_ICON,pack_type:h?2:1};return a()(J.Z,{trackingInfo:e},e.pack_type,a()(D.Z,{className:te().dailyIcon,bgUrl:Z.ZP.TOP_BAR_DAILY_WAIT_ICON},void 0,!h&&v))}()):null},ue=(0,T.memo)((function(e){var t=e.store,r=e.onDailyCountDownFinish;z()(te());var n=t.server_time,i=n+t.presentRemainTime+3e3,o={animationDuration:"".concat(i-n,"ms")};return C().createElement(C().Fragment,null,a()(X.Z,{className:te().dailyCountDown,now:n,endTime:i,fmtStr:"",onFinish:r}),a()(D.Z,{className:te().giftWrap,bgUrl:ie},void 0,a()("div",{className:te().rectLeft},void 0,a()(D.Z,{className:te().circleLeft,bgUrl:ne,style:o})),a()("div",{className:te().rectRight},void 0,a()(D.Z,{className:te().circleRight,bgUrl:ne,style:o})),a()(D.Z,{className:te().giftTips,bgUrl:oe,style:{opacity:".8",animation:"none"}})))}));function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O()(e);if(t){var i=O()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w()(this,r)}}var pe,fe=function(e){var t=e.coinNum,r=e.totalCoinRate,n=e.store;z()(V());var i=(0,T.useRef)();return(0,T.useEffect)((function(){return n.scoreSpeedCoinRef=i,function(){n.scoreSpeedCoinRef=void 0,de(n)}}),[]),(0,E.useObserver)((function(){return a()("div",{className:V().container},void 0,a()(D.Z,{className:V().icon,backgroundImage:"https://promotion.pddpic.com/promo/f5754407-8117-4625-bd33-19ee0b5173ce.png"},void 0,n.abTestStore.newCoinGiftIcon&&n.isShowFriendAndPresent&&!ae(n.canReceivePresent,n.presentRemainTime)&&a()(ce,{canReceivePresentFromProp:n.canReceivePresent,presentRemainTime:n.presentRemainTime,isShowFriendAndPresent:n.isShowFriendAndPresent,showAfterClickAni:n.topBarStore.showAfterClickAni,dailyPresentCoinNum:n.dailyPresentCoinNum,levelMap:n.levelMap,store:n}),C().createElement("div",{ref:i,className:V().invisibleIcon})),a()("div",{className:V().txtWrap},void 0,a()("div",{className:V().txt},void 0,a()("div",{className:V().total},void 0,"总量",a()("span",{},void 0,(0,q.n)(t).valueStr)),a()("div",{className:V().speed},void 0,"每秒 ",n.gameStore.isShowCoinRateUp&&n.totalCoinRateWithAni&&a()(D.Z,{className:V().arrowUp,bgUrl:"https://promotion.pddpic.com/promo/29407ff3-1880-42c3-86e8-d167b1e77e3f.png.slim.png",onAnimationEnd:function(){return de(n)}}),a()("span",{},void 0,(0,q.n)(n.totalCoinRateWithAni||r,1).takeUnitStr)))))}))},de=function(e){(0,P.runInAction)((function(){e.gameStore.isShowCoinRateUp=!1,e.totalCoinRateWithAni=void 0}))},he=(0,E.inject)("store")(se=(0,E.observer)(se=function(e){_()(r,e);var t=le(r);function r(){return h()(this,r),t.apply(this,arguments)}return g()(r,[{key:"render",value:function(){var e=this.store,t=e.userInfo.coinNum,r=e.totalCoinRate;return a()(fe,{store:this.store,coinNum:t,totalCoinRate:r})}}]),r}(R.Z))||se)||se,me=r(11976),ge=r.n(me);function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O()(e);if(t){var i=O()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w()(this,r)}}var ve=B()(ge())(pe=(0,E.observer)(pe=function(e){_()(r,e);var t=ye(r);function r(){var e;h()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).store=e.props.store,e.coinParticleStore=e.store.coinParticleStore,e.refList=new Array(e.coinParticleStore.coinNumber).fill(0).map((function(){return C().createRef()})),e}return g()(r,[{key:"componentDidMount",value:function(){this.coinParticleStore.prepare(this.refList)}},{key:"componentDidUpdate",value:function(){this.coinParticleStore.prepare(this.refList)}},{key:"componentWillUnmount",value:function(){this.coinParticleStore.clear()}},{key:"renderCoins",value:function(){return this.refList.map((function(e,t){return a()(D.Z,{className:ge().coinParticle,bgUrl:Z.ZP.COMMON_PIC_COIN,forwardedRef:e},t)}))}},{key:"render",value:function(){var e=this.coinParticleStore.isShow;return a()("div",{className:e?ge().particleContainer:ge().particleHide},void 0,this.renderCoins())}}]),r}(C().Component))||pe)||pe,be=r(52866),_e=r(97703),ke=r.n(_e),we=r(55361),Se=r.n(we),Oe=r(27484),Ie=r.n(Oe);function Ae(e){var t=e.store,r=e.midAutumnGuideCount;z()(Se());var n=t.leoConfig.midAutumnTipsShowTime,i=n||[],o=ke()(i,2),s=o[0],u=o[1],p=n&&t.$$commonData.platform.isNativePlatform&&Ie()(t.server_time).isAfter(s)&&Ie()(t.server_time).isBefore(u)&&0===r,f=(0,T.useState)(!1),d=ke()(f,2),h=d[0],m=d[1];return(0,T.useEffect)((function(){(function(){var e=l()(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.queryExchangeAwardList();case 4:m(t.showExchangeGift);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,p]),h&&p?a()(D.Z,{className:Se().wrap,bgUrl:"https://promotion.pddpic.com/promo/c9f5fca8-e94f-422e-967a-6cd76d815a41.png.slim.png"},void 0,"领中秋好礼"):null}var Te=r(66393),Ce=r.n(Te),Ee=r(11267),Pe=r(14314),Re=r(67217),xe=r.n(Re),De=r(47963),Ne=r(57911),Le=r(50318),Me=r(15696),Be=r(36050),Fe=r(50359),Ge=r(15148),je=r(96006),Ue=r.n(je),We=r(28027),Ze=function(e,t,r,n,i,o){var a=function(e,t,r,n){for(var i=function(e){return r?"transform: translate(0, ".concat((-1*e*r).toFixed(4),"rem)"):"transform: translate(".concat((-1*e*t).toFixed(4),"rem, 0)")},o="",a=Number((100/e).toFixed(2)),s=n||.05,c=0;c<=e;c++)0!==c&&(o+="\n            ".concat((a*(c-1)+a*s).toFixed(4),"% {\n                ").concat(i(c),"\n            }\n            ")),o+=c!==e?"\n            ".concat((a*c).toFixed(4),"% {\n                ").concat(i(c),"\n            }\n            "):"\n            100% {\n                ".concat(i(c),"\n            }\n            ");return o}(e,n,i,o),s="swiper-keyframes-ul-".concat(t);return{ulClassName:s,content:"\n        .".concat(s,"{\n            animation: move-").concat(t," ").concat(r*e,"s ").concat(r,"s infinite;\n        }\n        @keyframes move-").concat(t," {\n            ").concat(a,"\n        }\n        ")}},He=function(e){var t,r;z()(Ue());var n=(0,T.useState)(""),o=ke()(n,2),s=o[0],c=o[1],u=(0,T.useState)(""),l=ke()(u,2),p=l[0],f=l[1],d=(0,T.useState)(!1),h=ke()(d,2),m=h[0],g=h[1],y=(0,T.useState)(!0),v=ke()(y,2),b=v[0],_=v[1],k=(0,T.useRef)(),w=(0,T.useRef)(),S=(0,T.useRef)(),O=(0,re.Z)(),I=e.list,A=e.speed,E=function(){var e,t;"visible"===document.visibilityState?g(!1):(g(!0),null===(e=window)||void 0===e||null===(t=e.getComputedStyle(null==k?void 0:k.current))||void 0===t||t.getPropertyValue("transform"))};if((0,T.useEffect)((function(){if((null==I?void 0:I.length)&&1!==I.length){if(S.current=(0,Le.nanoid)(6),null==e?void 0:e.isVertical){var t,r,n=null===(t=(0,Q.ht)(null==w||null===(r=w.current)||void 0===r?void 0:r.clientHeight))||void 0===t?void 0:t.toFixed(3);f(n)}else{var i,o,a=null===(i=(0,Q.ht)(null==w||null===(o=w.current)||void 0===o?void 0:o.clientWidth))||void 0===i?void 0:i.toFixed(3);c(a)}return document.addEventListener("visibilitychange",E),function(){document.removeEventListener("visibilitychange",E)}}}),[]),!(null==I?void 0:I.length))return null;if(1===I.length)return a()("div",{onClick:function(){var t;return null==e||null===(t=e.onClick)||void 0===t?void 0:t.call(e,0)}},void 0,(null==e?void 0:e.renderItem)?null==e?void 0:e.renderItem(I[0],0):I[0]);var P=Ze(I.length,S.current,A,s,(null==e?void 0:e.isVertical)?p:"",null==e?void 0:e.transitionPct),R=P.ulClassName,x=P.content;return a()("div",{className:Ue().wappper,style:(null==e?void 0:e.isVertical)?{height:"".concat(p,"rem")}:{width:"".concat(s,"rem")}},void 0,a()("style",{},void 0,x),a()(We.Z,{onEnter:function(){_(!0)},onLeave:function(){_(!1)},threshold:.5,once:!1},void 0,a()("div",{className:Ue().hidden})),C().createElement("ul",{className:L()(null==e?void 0:e.swiperWapperClass,(t={},i()(t,R,O),i()(t,Ue().horizontal,!(null==e?void 0:e.isVertical)),i()(t,Ue().hiddenAnimation,m),i()(t,Ue().pausedAnimation,!b),t)),ref:k},null===(r=[].concat(Ce()(I),[I[0]]))||void 0===r?void 0:r.slice(0,O?I.length+1:1).map((function(t,r){return C().createElement("li",{key:r,ref:0===r?w:null,onClick:function(){var t;return null==e||null===(t=e.onClick)||void 0===t?void 0:t.call(e,r===I.length?0:r)}},(null==e?void 0:e.renderItem)?e.renderItem(t,r):t)}))))};function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qe,Ye,Ve,Xe,Qe="brand_ani",Je="https://promotion.pddpic.com/promo/4065ffbd-ebe1-4fb7-9b7f-c665679efbfc.png.slim.png",$e=a()("span",{},void 0,"金币"),et=a()("span",{},void 0,"金币"),tt=function(e){z()(xe());var t=[];if(e.showBrowseBenefit){var r=a()("div",{className:L()(xe().descItem,xe().browseBenefitText)},void 0,"浏览得",$e);t.push(r)}if(e.orderRewardCoefficient>1){var n=a()("div",{className:xe().descItem},void 0,a()("span",{className:xe().double},void 0,null==e?void 0:e.orderRewardCoefficient),"倍",a()(Pe.Z,{className:xe().icon,src:"https://promotion.pddpic.com/promo/4d706eed-0bca-4fde-92ef-9f76d04b883b.png.slim.png"}));t.push(n)}else{var o=a()("div",{className:L()(xe().descItem,xe().browseBenefitText)},void 0,"下单得",et);t.push(o)}if(e.benefitText){var s=a()("div",{className:L()(xe().descItem,xe().benefitText)},void 0,e.benefitText);t.push(s)}return t.length>=2?C().createElement(C().Fragment,null,a()(D.Z,{className:L()(xe().desc),bgUrl:Je},void 0,a()(He,{speed:3.5,list:t}))):1===t.length?a()(D.Z,{className:L()(xe().desc,i()({},xe().ani,e.openAni)),bgUrl:Je},void 0,t[0]):null},rt=function(e){var t=e.store;z()(xe());var r=(0,T.useState)([]),n=ke()(r,2),i=n[0],o=n[1],s=(0,T.useState)(),u=ke()(s,2),p=u[0],f=u[1],d=(0,T.useState)(!1),h=ke()(d,2),m=h[0],g=h[1],y=(0,T.useState)(!1),v=ke()(y,2),b=v[0],_=v[1],k=(0,T.useState)(!1),w=ke()(k,2),S=w[0],O=w[1],I=(0,T.useState)(""),A=ke()(I,2),E=A[0],P=A[1];if((0,T.useEffect)((function(){var e,r,n;return l()(c().mark((function i(){var a,s,u,p,d,h,m,y,v,b,k,w;return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,t.showBrandCpt){i.next=3;break}return i.abrupt("return");case 3:if(u=t.serverTime||Date.now(),p=t.leoForCptBrandWidget,d=null==p?void 0:p.find((function(e){return u>=Ie()(e.startTime).valueOf()&&u<=Ie()(e.endTime).valueOf()}))){i.next=8;break}return i.abrupt("return");case 8:return r=new Me.Z({moduleId:t.leoForMission.module_id,id:t.leoForMission.cptBrandWidgetMissionId},(function(){return t})),n=new Me.Z({moduleId:t.leoForMission.module_id,id:t.leoForMission.cptBrandWidgetBrowseMissionId},(function(){return t})),h={page_no:1,page_size:20,list_id:t.listId+"_"+(0,Le.nanoid)(3),brand_id:0,tf_id:""},(m=!!d.brand_id)?h.brand_id=d.brand_id:h.tf_id=d.tf_id,y=[De.Z.post(Ne.Z.queryCptGoodsList,h),r.checkTaskInfo(),n.checkTaskInfo()],i.next=16,Promise.all(y);case 16:if(v=i.sent,b=ke()(v,1),k=b[0],!r.isReachLimit){i.next=21;break}return i.abrupt("return");case 21:if(null===(a=k.result)||void 0===a||null===(s=a.goods_list)||void 0===s?void 0:s.length){i.next=23;break}throw new Error("cpt品牌商品入口返回为空");case 23:k.result.goods_list.sort((function(e,t){var r,n,i,o;return(null===(r=e.multi_img_map)||void 0===r?void 0:r[17])&&!(null===(n=t.multi_img_map)||void 0===n?void 0:n[17])?-1:(null===(i=e.multi_img_map)||void 0===i?void 0:i[17])&&(null===(o=t.multi_img_map)||void 0===o?void 0:o[17])?0:1})),w=[],k.result.goods_list.slice(0,3).forEach((function(e){var t=m?d.link_url:d.link_url_for_icon,r=d.brand_logo;r&&w.push({image_url:r,link_url:t}),w.push({image_url:e.multi_img_map[17]||e.hd_thumb_url||e.thumb_url,link_url:t,goods_id:e.goods_id,p_rec:e.p_rec?JSON.stringify(e.p_rec):""})})),o(w),f(r),_(m),g(n.isToStart),d.benefit_text&&P(d.benefit_text),!(0,Fe.aF)(Qe)&&O(!0),i.next=37;break;case 34:i.prev=34,i.t0=i.catch(0),t.sendError(i.t0);case 37:if(!t.$$commonData.platform.isNativePlatform){i.next=41;break}return i.next=40,(0,Be.addPageShowCallback)(l()(c().mark((function e(){var t,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=l()(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=r)||void 0===t?void 0:t.checkTaskInfo();case 2:r.isReachLimit&&o([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=l()(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=n)||void 0===t?void 0:t.checkTaskInfo();case 2:g(n.isToStart);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=4,Promise.all([t(),i()]);case 4:case"end":return e.stop()}}),e)}))));case 40:e=i.sent;case 41:case"end":return i.stop()}}),i,null,[[0,34]])})))(),function(){var t;null===(t=e)||void 0===t||t()}}),[]),!i.length)return null;var R=ze({page_el_sn:W.Jl.EL_5614397},null==p?void 0:p.baseItemLogInfo);return C().createElement(C().Fragment,null,a()(D.Z,{className:xe().container,bgUrl:"https://promotion.pddpic.com/promo/63fe3164-68b1-4bac-b4d6-1d1e76fd5f6d.png.slim.png"},void 0,a()("div",{className:xe().goodsImage},void 0,a()(He,{speed:3.5,list:i,renderItem:function(e,t){var r=ze(ze({},R),{},{p_rec:e.p_rec});return a()("div",{className:xe().swiperItem},void 0,a()(J.Z,{trackingInfo:r},void 0,a()(Pe.Z,{resizeWidth:200,src:e.image_url})))},onClick:function(e){var r,n,o,a=null===(r=i[e])||void 0===r?void 0:r.goods_id,s=i.filter((function(e){return e.goods_id!==a})).map((function(e){return e.goods_id})),c=[a].concat(Ce()(s)).filter(Boolean).slice(0,3).join("_");if((0,x.iH)(null,ze(ze({},R),{},{p_rec:null===(n=i[e])||void 0===n?void 0:n.p_rec})),!(null===(o=i[e])||void 0===o?void 0:o.link_url))return(0,Ee.sendNormalLog)({page:JSON.stringify(i),click_index:e}),void t.sendError(new Error("配置链接为空"));var u=(0,Ge.S)({linkUrl:i[e].link_url,isToBrandStation:b,showBrowseBenefit:m,moduleId:t.leoForMission.module_id,brandCptEntry:Ge.p.Icon,otherQuery:{top_goods_ids:c,list_token:c}});O(!1),(0,Fe.o_)(Qe,1),(0,U.eH)(u,{page_el_sn:W.Jl.EL_5614397})}})),a()(tt,{openAni:S,orderRewardCoefficient:null==p?void 0:p.orderRewardCoefficient,benefitText:E,showBrowseBenefit:m})))},nt=r(26100),it=r.n(nt),ot=r(41013),at=r(55912),st=r(55861),ct={_listeners:{},_addHandler:function(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r},_removeHandler:function(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=r},addTouchDirectionListener:function(e){var t=e.target,r=e.targetName,n=e.isPreventDefault,i=void 0!==n&&n,o=e.upCallback,a=void 0===o?null:o,s=e.rightCallback,c=void 0===s?null:s,u=e.downCallback,l=void 0===u?null:u,p=e.leftCallback,f=void 0===p?null:p;if(t){var d,h,m,g;r||console.error("addTouchDirectionListener targetName 不能为空");var y=function(e){switch(e.stopPropagation(),e.type){case"touchstart":d=e.touches[0].pageX,h=e.touches[0].pageY;break;case"touchend":m=e.changedTouches[0].pageX-d,g=e.changedTouches[0].pageY-h,Math.abs(m)>Math.abs(g)?m>10?null==c||c():m<-10&&(null==f||f()):g>10?null==l||l():g<-10&&(null==a||a());break;case"touchmove":i&&e.preventDefault()}};this._addHandler(t,"touchstart",y),this._addHandler(t,"touchend",y),this._addHandler(t,"touchmove",y),this._listeners[r]={target:t,handler:y}}else console.error("addTouchDirectionListener target 不能为空")},removeTouchDirectionListener:function(e){var t=this._listeners[e],r=t.target,n=t.handler;this._removeHandler(r,"touchstart",n),this._removeHandler(r,"touchend",n),this._removeHandler(r,"touchmove",n),this._listeners[e]=null}},ut=r(20449);function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O()(e);if(t){var i=O()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w()(this,r)}}var pt,ft=function(e){var t=e.name,r=e.bgUrl,n=e.onClick,i=e.iconId,o=e.children;return z()(it()),a()(D.Z,{className:it().item,backgroundImage:"https://promotion.pddpic.com/promo/087f6a21-3c79-44ac-ad27-b5228a02ab98.png.slim.png",onClick:n},void 0,a()(D.Z,{backgroundImage:r,className:it().icon,id:i}),t,o)},dt=function(e){var t=e.isShowFriendIcon,r=e.onClickFriend,n=e.onClickShop,i=e.onClickShare,o=e.onClickRule,s=e.sh,c=e.isMuted,u=e.handleChangeMuted,l=e.handleChangeMutedStatus,p=e.enableInviteFriends;z()(it());var f=(0,re.Z)(),d=(0,T.useState)(!1),h=ke()(d,2),m=h[0],g=h[1],y=(0,T.useState)(!1),v=ke()(y,2),b=v[0],_=v[1],k=(0,st.bN)().showSkinRedDot,w=(0,ut.Z)("duoduo_fairy_has_click_new_shop"),S=ke()(w,2),O=S[0],I=S[1],A=(0,ut.L)("duoduo_fairy_has_click_share_today"),E=ke()(A,2),P=E[0],R=E[1],N=(0,T.useRef)(),L=(0,T.useRef)();(0,T.useEffect)((function(){if(f){var e=N.current,t="leftBag";ct.addTouchDirectionListener({target:e,targetName:t,rightCallback:function(){(0,x.iH)(W.KZ.BUTTON),I(),g(!0),_(!0)},leftCallback:function(){(0,x.iH)(W.KZ.BUTTON),_(!1)}});var r=L.current,n="leftBagMusic";return ct.addTouchDirectionListener({target:r,targetName:n,rightCallback:l(!1),leftCallback:l(!0)}),function(){f&&(ct.removeTouchDirectionListener(t),ct.removeTouchDirectionListener(n))}}}),[l,f,I]);var M=P&&p;return C().createElement("div",{ref:N,className:it().container,style:{transform:b?"translate3d(0, 0, 0)":"translate3d(-100%, 0, 0)",marginTop:s}},b&&a()("div",{className:it().cover,onClick:function(){_(!1)}}),f&&a()(D.Z,{className:it().board,backgroundImage:"https://promotion.pddpic.com/promo/c7051aee-fa29-43f7-8ff4-540911db34ee.png.slim.png"},void 0,C().createElement("div",{className:it().musicWrap,ref:L},a()(D.Z,{className:it().music,onClick:u,bgUrl:c?"https://promotion.pddpic.com/promo/816323c2-1be2-453d-805f-300690e96c23.png.slim.png":"https://promotion.pddpic.com/promo/aead1da6-daa3-4d7b-8f68-47c873e68586.png.slim.png"})),m&&C().createElement(C().Fragment,null,a()(J.Z,{trackingInfo:{page_el_sn:W.Jl.EL_3436480}},void 0,a()(ft,{iconId:at.l.BuyStore,name:"商店",onClick:function(){_(!1),n()},bgUrl:"https://promotion.pddpic.com/promo/ba788bac-4fa2-4884-97bb-7fd90b916e1f.png.slim.png"},void 0,k&&a()(D.Z,{className:it().shopRedDot,backgroundImage:"https://promotion.pddpic.com/promo/4a1bdc05-ad14-4438-b7e8-29fa53559055.png.slim.png"}))),a()(J.Z,{trackingInfo:{page_el_sn:W.Jl.EL_3436481}},void 0,a()(ft,{name:"分享",iconId:at.l.InviteFriend,onClick:function(){_(!1),R(),i()},bgUrl:"https://promotion.pddpic.com/promo/52480690-f61a-4f8e-8c58-61eb6f4d7305.png.slim.png"},void 0,M&&a()(D.Z,{className:it().shopRedDot,backgroundImage:"https://promotion.pddpic.com/promo/4a1bdc05-ad14-4438-b7e8-29fa53559055.png.slim.png"}))),!!t&&a()(J.Z,{trackingInfo:{page_el_sn:W.Jl.EL_3808827}},void 0,a()(ft,{name:"排行",onClick:function(){_(!1),r()},bgUrl:"https://promotion.pddpic.com/promo/0cb98854-2c8b-4c90-90cd-3f580ba05dc3.png.slim.png"})),a()(J.Z,{trackingInfo:{page_el_sn:W.Jl.EL_3436479}},void 0,a()(ft,{name:"规则",iconId:at.l.Rule,onClick:function(){_(!1),o()},bgUrl:"https://promotion.pddpic.com/promo/ccb1ff2f-0134-4e14-89f0-7f0a40022e97.png.slim.png"})))),a()(D.Z,{className:it().emitIcon,onClick:function(){(0,x.iH)(W.KZ.BUTTON),I(),_((function(e){return!e})),g(!0)},backgroundImage:"https://promotion.pddpic.com/promo/fb58c584-b9ba-4b3d-80c9-e9b5b8d39f87.png.slim.png"},void 0,!!(k||O||M)&&a()(D.Z,{className:it().boardRedDot,backgroundImage:"https://promotion.pddpic.com/promo/4a1bdc05-ad14-4438-b7e8-29fa53559055.png.slim.png"}),a()(J.Z,{trackingInfo:{page_el_sn:W.KZ.BUTTON}},void 0,a()(D.Z,{className:it().emitIconIn,style:{transform:b?"rotate(0deg)":"rotate(180deg)"},backgroundImage:"https://promotion.pddpic.com/promo/742e19b2-0b8c-43da-8ff6-b35d0e30eda7.png.slim.png"}))))},ht=(0,E.inject)("store")(qe=(0,E.observer)((Ye=function(e){_()(r,e);var t=lt(r);function r(){var e;h()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),f()(e,"onClickFriend",Ve,v()(e)),e.onClickShop=function(){(0,x.iH)(W.Jl.EL_3436480),e.store.spriteBookDialogStore.showDialog()},f()(e,"onClickShare",Xe,v()(e)),e.onClickRule=function(){(0,x.iH)(W.Jl.EL_3436479),e.store.ruleDialogStore.showAction()},e}return g()(r,[{key:"render",value:function(){return a()(dt,{isShowFriendIcon:this.isShowFriendIcon,onClickFriend:this.onClickFriend,onClickShop:this.onClickShop,onClickShare:this.onClickShare,onClickRule:this.onClickRule,sh:this.store.appContext.sh,isMuted:this.store.isMuted,handleChangeMuted:this.store.handleChangeMuted,handleChangeMutedStatus:this.store.handleChangeMutedStatus,enableInviteFriends:this.enableInviteFriends})}},{key:"isShowFriendIcon",get:function(){return this.store.isShowFriendAndPresent&&this.store.isShowFriends&&this.store.friendRankDialogStore.isFriendListAvailable}},{key:"enableInviteFriends",get:function(){var e,t,r,n;return!!(null===(e=this.store.friendshipStore)||void 0===e||null===(t=e.freshFriendList)||void 0===t?void 0:t.length)&&!(null===(r=this.store.gameStore)||void 0===r||null===(n=r.guideHandler)||void 0===n?void 0:n.isInGuideLt3)}}]),r}(R.Z),A()(Ye.prototype,"isShowFriendIcon",[P.computed],Object.getOwnPropertyDescriptor(Ye.prototype,"isShowFriendIcon"),Ye.prototype),Ve=A()(Ye.prototype,"onClickFriend",[ot.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return l()(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.store.gameStore.showCommonGuideToast()){t.next=2;break}return t.abrupt("return");case 2:return(0,x.iH)(W.Jl.EL_3808827),t.next=5,e.store.friendRankDialogStore.queryAll();case 5:e.store.friendRankDialogStore.showAction(),e.store.duoduoSpriteLogger({stage:"show_friend_rank"});case 7:case"end":return t.stop()}}),t)})))}}),Xe=A()(Ye.prototype,"onClickShare",[ot.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return l()(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,x.iH)(W.Jl.EL_3436481),!e.enableInviteFriends){t.next=8;break}return t.next=4,e.store.friendshipStore.queryMatureInviteNewList();case 4:t.sent&&e.store.friendshipStore.freshFriendList&&e.store.freshUserInviteDialogStore.showAction(),t.next=9;break;case 8:e.store.shareStore.showShare({assist_type:H.t8.RIGHT_TOP_NATIVE});case 9:case"end":return t.stop()}}),t)})))}}),qe=Ye))||qe)||qe,mt=r(33170),gt=r(67995),yt=r.n(gt),vt="duoduo_sprite_sign_icon_clicked",bt=function(e){var t=e.onClick,r=e.children,n=e.enableRedDot,i=e.isInit,o=e.iconSrc;z()(yt());var s=(0,T.useState)(!1),c=ke()(s,2),u=c[0],l=c[1];return(0,T.useEffect)((function(){!!(0,Fe.aF)(vt)||l(!0)}),[]),i?a()(D.Z,{id:at.l.Sign,className:yt().sign7Icon,onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){t(),l(!1),(0,Fe.o_)(vt,1)})),backgroundImage:o},void 0,!(!n||!u)&&a()("aside",{className:yt().redDot}),r):a()("div",{className:yt().sign7Icon})},_t=r(94392),kt=r.n(_t),wt=r(33473),St=r.n(wt),Ot=r(24001),It=r(95487),At=r(89082);function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O()(e);if(t){var i=O()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w()(this,r)}}var Pt,Rt=B()(St())(pt=(0,E.observer)(pt=function(e){_()(n,e);var t,r=Et(n);function n(){var e;h()(this,n);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=r.call.apply(r,[this].concat(i))).store=e.props.store,e.countDownFinish=function(){Promise.all([e.topBarStore.queryTimeLimitBuyTask(),e.store.queryUserProcess({handObj:null,isDirectUpdate:!1,needSetCoinNum:!1,forceInit:!1,isSceneChanging:!1,needUpdateSkinWindow:!1})]),(0,Fe.dZ)(It.lD)},e.clickIcon=l()(c().mark((function t(){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(r=e.store.leoForMission.timeLimitBuyTaskConfig)?void 0:r.url){t.next=3;break}return t.abrupt("return");case 3:return e.topBarStore.hideLimitGuideHand(),(0,Fe.m8)(It.lD,!0),t.next=7,(0,x.iH)(W.ts.EL_TIME_LIMIT_BUY_ICON,e.baseTaskInfoLog);case 7:e.topBarStore.updateLimitBuyTask(!0),n=(0,Le.appendQuery)({mission_id:r.missionId,module_id:e.store.leoForMission.module_id},r.url),U.ZP.forward(n);case 10:case"end":return t.stop()}}),t)}))),e}return g()(n,[{key:"componentDidMount",value:(t=l()(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.topBarStore.queryTimeLimitBuyTask();case 2:!(0,Fe.$o)(It.lD)&&this.topBarStore.showLimitGuideHand();case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getEndTime",value:function(){return Ie()().endOf("day").valueOf()}},{key:"render",value:function(){if(!this.topBarStore.canShowLimitBuyTaskIcon)return null;var e=this.getEndTime(),t=this.store.server_time;if(t>=e)return null;var r=(0,Fe.$o)(It.lD);return a()(J.Z,{trackingInfo:Ct({page_el_sn:W.ts.EL_TIME_LIMIT_BUY_ICON},this.baseTaskInfoLog)},void 0,a()("div",{className:St().wrap,onClick:this.clickIcon},void 0,a()(D.Z,{className:St().icon,bgUrl:Z.ZP.TOP_BAR_TIME_LIMIT_ICON}),a()(D.Z,{className:St().tip,bgUrl:Z.ZP.TOP_BAR_TIME_LIMIT_TIP}),a()(D.Z,{className:St().banner,bgUrl:Z.ZP.TOP_BAR_TIME_LIMIT_BANNER},void 0,a()(X.Z,{className:St().countDown,fmtStr:"hh:mm:ss",now:t,endTime:e,onFinish:this.countDownFinish},t)),this.topBarStore.showLimitBuyGuideHand&&!r&&a()(Ot.Z,{className:St().hand,levelMap:this.store.levelMap})))}},{key:"topBarStore",get:function(){return this.store.topBarStore}},{key:"baseTaskInfoLog",get:function(){return(0,At.J)(this.store.leoForMission.timeLimitBuyTaskConfig.missionId,this.store.topBarStore.limitBuyTaskStatus)}}]),n}(C().Component))||pt)||pt,xt=r(40091),Dt=r.n(xt),Nt=r(2365);function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O()(e);if(t){var i=O()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w()(this,r)}}var Ft,Gt,jt,Ut,Wt=B()(Dt())(Pt=(0,E.observer)(Pt=function(e){_()(r,e);var t=Bt(r);function r(){var e;h()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).store=e.props.store,e.composeTaskTipDialogStore=e.store.composeTaskTipDialogStore,e.coinRef=C().createRef(),e.aniFinish=function(){e.topBarStore.stopComposeCoinAni()},e.clickCoinIcon=function(){(0,x.iH)(W.ts.EL_MERGE_TASK_ICON),e.composeTaskTipDialogStore.showAction()},e}return g()(r,[{key:"componentDidMount",value:function(){this.topBarStore.queryComposeTask(),this.topBarStore.startComposeCoinAni();var e=this.coinRef.current;e&&(e.addEventListener("animationend",this.aniFinish),e.addEventListener("webkitAnimationEnd",this.aniFinish))}},{key:"componentWillUnmount",value:function(){var e=this.coinRef.current;e&&(e.removeEventListener("animationend",this.aniFinish),e.removeEventListener("webkitAnimationEnd",this.aniFinish))}},{key:"renderRotateCoin",value:function(){return a()(Nt.Z,{width:45,height:45,svgClassName:L()(Dt().icon,i()({},Dt().iconHide,!this.topBarStore.composeCoinAni)),contentClassName:Dt().iconAni,imgUrl:Z.ZP.TOP_BAR_COMPOSE_TASK_ICON,optimize:!0,contentStyle:{backgroundSize:"675px 45px"},onClick:this.clickCoinIcon,forwardedRef:this.coinRef,direction:"x",downgradeFrameIndex:5})}},{key:"renderStreamCoin",value:function(){return this.store.abTestStore.useApngIcon?a()(Pe.Z,{onClick:this.clickCoinIcon,className:L()(Dt().static,i()({},Dt().staticHide,this.topBarStore.composeCoinAni)),optimize:!1,src:"https://promotion.pddpic.com/promo/c9dee6ca-79a4-4dc2-a0cd-10b6a4be6a2d.png"}):a()(Nt.Z,{width:45,height:45,svgClassName:L()(Dt().static,i()({},Dt().staticHide,this.topBarStore.composeCoinAni)),contentClassName:Dt().staticAni,imgUrl:Z.ZP.TOP_BAR_COMPOSE_TASK_STREAM_ICON,optimize:!0,contentStyle:{backgroundSize:"720px 45px"},onClick:this.clickCoinIcon})}},{key:"renderEffectCoin",value:function(){return C().createElement(C().Fragment,null,this.renderRotateCoin(),this.renderStreamCoin())}},{key:"render",value:function(){return a()(J.Z,{trackingInfo:Mt({page_el_sn:W.ts.EL_MERGE_TASK_ICON},this.baseTaskInfoLog)},void 0,a()("div",{id:at.l.ComposeTask,className:L()(Dt().iconWrap,i()({},Dt().hide,!this.topBarStore.isShowComposeTaskIcon)),onClick:this.clickCoinIcon},void 0,this.renderEffectCoin()))}},{key:"topBarStore",get:function(){return this.store.topBarStore}},{key:"baseTaskInfoLog",get:function(){var e;return(0,At.J)(this.store.leoForMission.composeTaskConfig.missionId,null===(e=this.topBarStore.composeTaskInfo)||void 0===e?void 0:e.status)}}]),r}(C().Component))||Pt)||Pt,Zt=r(92075),Ht=r.n(Zt),Kt=function(e){var t=e.canReceivePresentFromProp,r=e.presentRemainTime,n=e.isShowFriendAndPresent,o=e.showAfterClickAni,s=e.isDidMount,u=e.dailyPresentCoinNum,p=e.levelMap,f=e.store;z()(Ht());var d,h=(0,T.useRef)(),m=(0,T.useRef)(),g=t&&0===r,y=!t&&0===r,v={handleObj:null,isDirectUpdate:!1,needSetCoinNum:!1},b=(0,$.Z)(l()(c().mark((function e(){var t,r,n,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g&&!o&&f.scoreSpeedCoinRef){e.next=2;break}return e.abrupt("return");case 2:return(0,x.iH)(W.L9.DAILY_ICON,{pack_type:0}),r=(null==h||null===(t=h.current)||void 0===t?void 0:t.getBoundingClientRect())||{},n={x:r.x,y:r.y},e.next=7,f.receiveDailyPresent();case 7:return i=e.sent,e.next=10,f.queryUserProcess(v);case 10:if(f.duoduoSpriteLogger({stage:"receive_daily_sign_gift"}),!i){e.next=17;break}return f.topBarStore.setAfterClickAni(i),f.coinParticleStore.startTween(n),e.next=16,(0,Q._v)(1500);case 16:return e.abrupt("return",(f.topBarStore.stopAfterClickAni(),f.queryUserProcess(v)));case 17:case"end":return e.stop()}}),e)})))),_=function(){f.queryUserProcess(v)};return n?C().createElement(C().Fragment,null,function(){if(!(!o&&g))return null;var e={page_el_sn:W.L9.DAILY_ICON,pack_type:0};return a()(J.Z,{trackingInfo:e},void 0,C().createElement("div",{className:Ht().spriteWrap,ref:h,style:{marginTop:".09rem"}},f.abTestStore.useApngIcon?a()(Pe.Z,{className:Ht().spriteDailyIcon,onClick:b,src:"https://promotion.pddpic.com/promo/8f68ca0d-1aa0-45b1-8aef-8f804ac3fe26.png",isApng:!0}):a()(Nt.Z,{width:49.5,height:44.5,svgClassName:Ht().spriteDailyIcon,contentClassName:L()(i()({},Ht().activeDailyAni,s)),imgUrl:Z.ZP.TOP_BAR_DAILY_ACTIVE_ICON,onClick:b,downgradeFrameIndex:11})))}(),(d=o,a()("div",{className:Ht().spriteWrap,style:d?{marginTop:".09rem"}:{display:"none"}},void 0,f.abTestStore.useApngIcon?a()(Pe.Z,{className:Ht().spriteDailyIcon,src:"https://promotion.pddpic.com/promo/e8313c04-1d42-4846-9a20-f28591484ecd.png",isApng:!0}):a()(Nt.Z,{width:49.5,height:44.5,svgClassName:d?Ht().spriteDailyIcon:Ht().hideIcon,contentClassName:L()(i()({},Ht().inactiveDailyAni,s)),imgUrl:Z.ZP.TOP_BAR_DAILY_CLICK_ICON,forwardedRef:m}),n&&function(){var e,t;if(!o)return null;var r=(0,q.n)(u),n=(null===(e=p.UI_COLOR)||void 0===e||null===(t=e.BASE_BG)||void 0===t?void 0:t.RGBA)||{},i=n.r,s=n.g,c=n.b,l=n.a,f={background:"rgba(".concat(i,", ").concat(s,", ").concat(c,", ").concat(l,")")};return a()("div",{className:Ht().bubbleContainer,style:f},void 0,a()(D.Z,{className:Ht().bubbleCoin,bgUrl:Z.ZP.COMMON_PIC_COIN}),a()("div",{className:Ht().bubbleTip},void 0,r.valueStr))}())),function(){if(!(!o&&!g))return null;var e=f.server_time,t=e+r+3e3,n={page_el_sn:W.L9.DAILY_ICON,pack_type:y?2:1};return a()(J.Z,{trackingInfo:n},n.pack_type,a()(D.Z,{className:Ht().dailyIcon,bgUrl:Z.ZP.TOP_BAR_DAILY_WAIT_ICON},void 0,!y&&a()(X.Z,{className:Ht().dailyCountDown,fmtStr:"hh:mm:ss",now:e,endTime:t,onFinish:_},t),y&&a()("div",{className:Ht().dailyMask}),a()("div",{className:y?Ht().dailyTipTomorrow:Ht().dailyTip},void 0,y?"明日可领":"可领取")))}()):null},zt=r(26452),qt=r(69435);function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O()(e);if(t){var i=O()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w()(this,r)}}var Vt=B()(kt())(Ft=(0,E.inject)("store")(Ft=(0,E.observer)((Gt=function(e){_()(r,e);var t=Yt(r);function r(){var e;h()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),f()(e,"clickDailySign7Packet",jt,v()(e)),f()(e,"onClickSurpriseCouponIcon",Ut,v()(e)),e.onClickSportSkinIcon=function(){var t=l()(c().mark((function t(r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.iH)(null,r);case 2:e.store.toMainOrderPageWithSkinPreview();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return g()(r,[{key:"renderSurpriseCouponIcon",value:function(){return this.store.surpriseStore.couponRecordList.length?a()(J.Z,{trackingInfo:{page_el_sn:W.aG.COUPON_ICON}},void 0,a()(D.Z,{className:kt().couponIcon,id:at.l.Coupon,bgUrl:"https://promotion.pddpic.com/promo/873e58a0-0da8-4060-92e6-e2d836b35ec5.png.slim.png",onClick:this.onClickSurpriseCouponIcon})):null}},{key:"renderTimeLimitTaskIcon",value:function(){return a()(Rt,{store:this.store})}},{key:"renderComposeTaskIcon",value:function(){return a()(Wt,{store:this.store})}},{key:"render",value:function(){var e,t,r,n,i;return a()("div",{className:kt().iconsWrap},void 0,a()(mt.Z,{store:this.store},"".concat(this.store.mySkinType,"_").concat(this.store.isMainScene,"_").concat(this.store.isShowFriendAndPresent)),a()("div",{className:kt().rightIcons},void 0,this.store.isShowSeriesSign7&&a()(J.Z,{trackingInfo:{page_el_sn:W.Jl.EL_5281134}},void 0,a()(bt,{onClick:this.clickDailySign7Packet,isInit:this.store.dailySign7DialogStore.isInit,iconSrc:this.store.dailySign7DialogStore.iconSrc,enableRedDot:!0})),(this.store.rollEggStore.canPlayRollEgg||this.store.rollEggStore.isRollEggLockStatus)&&a()(Xt,{store:this.store,isRollEggLockStatus:this.store.rollEggStore.isRollEggLockStatus,isTipsPending:!this.store.rollEggStore.rollEggAwardList.length,showDialogNewTag:this.store.rollEggStore.showDialogNewTag}),(this.store.rollEggStore.canPlayRollEgg||(null===(e=this.store.gameStore)||void 0===e?void 0:e.isShowSeats)&&this.store.abTestStore.showSurprise)&&a()(er,{store:this.store}),!this.store.abTestStore.newCoinGiftIcon&&a()(Kt,{canReceivePresentFromProp:this.store.canReceivePresent,presentRemainTime:this.store.presentRemainTime,isShowFriendAndPresent:this.store.isShowFriendAndPresent,showAfterClickAni:this.store.topBarStore.showAfterClickAni,isDidMount:this.props.isDidMount,dailyPresentCoinNum:this.store.dailyPresentCoinNum,levelMap:this.store.levelMap,store:this.store}),!(null===(t=this.store.gameStore)||void 0===t||null===(r=t.guideHandler)||void 0===r?void 0:r.isInGuideLt3)&&this.renderTimeLimitTaskIcon(),!(null===(n=this.store.gameStore)||void 0===n||null===(i=n.guideHandler)||void 0===i?void 0:i.isInGuideLt3)&&this.renderComposeTaskIcon()))}}]),r}(R.Z),jt=A()(Gt.prototype,"clickDailySign7Packet",[ot.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return l()(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.store.isShowSeriesSign7){t.next=2;break}return t.abrupt("return");case 2:return(0,x.iH)(W.Jl.EL_5281134),t.next=5,e.store.dailySign7DialogStore.querySignProcess();case 5:t.sent&&e.store.dailySign7DialogStore.showAction();case 7:case"end":return t.stop()}}),t)})))}}),Ut=A()(Gt.prototype,"onClickSurpriseCouponIcon",[ot.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return l()(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,x.iH)(W.aG.COUPON_ICON),t.next=3,e.store.surpriseStore.requestCouponRecord();case 3:e.store.surpriseStore.couponRecordList.length&&e.store.surpriseCouponRecordDialogStore.showAction();case 4:case"end":return t.stop()}}),t)})))}}),Ft=Gt))||Ft)||Ft)||Ft;function Xt(e){var t=e.store,r=e.isRollEggLockStatus,n=e.isTipsPending,i=e.showDialogNewTag,o={page_el_sn:W.RZ.ICON,is_lock_icon:~~r},s="ddsp_roll_egg_icon",c=(0,T.useState)(!1),u=ke()(c,2),l=u[0],p=u[1],f=(0,T.useState)(!1),d=ke()(f,2),h=d[0],m=d[1];return(0,T.useEffect)((function(){if(!r){if(n)return;var e=i&&t.rollEggStore.hasNewPrize&&t.rollEggStore.latestPublishTime!==+t.cache.get(zt.r.HIDE_EGG_ICON_NEW_TAG_TIPS);if(m(e),e)return;p(!(0,Fe.aF)(s))}}),[n,r,i]),a()(J.Z,{trackingInfo:o},void 0,a()(D.Z,{className:kt().rollEggIcon,id:at.l.RollEgg,bgUrl:r?"https://promotion.pddpic.com/promo/9a4fe629-b565-46bc-a0a4-9d83bdcaa3fc.png.slim.png":"https://promotion.pddpic.com/promo/ea4ac484-7643-4671-8af8-8ccea414b5cc.png.slim.png",onClick:function(){(0,x.iH)(null,o),r?(0,qt.info)("".concat(t.leoConfig.canPlayRollEggMinLevel,"级可解锁哦")):(t.rollEggMachineDialogStore.showAction(),h&&(t.cache.set(zt.r.HIDE_EGG_ICON_NEW_TAG_TIPS,t.rollEggStore.latestPublishTime),m(!1)),(l||h)&&((0,Fe.o_)(s,1),p(!1)))}},void 0,l&&!h&&a()(D.Z,{className:kt().redDot,backgroundImage:"https://promotion.pddpic.com/promo/4a1bdc05-ad14-4438-b7e8-29fa53559055.png.slim.png"}),h&&a()(D.Z,{className:kt().newTag},void 0,"上新")))}var Qt,Jt,$t,er=(0,E.observer)((function(e){var t=e.store,r={page_el_sn:W.eY.ICON},n=(0,T.useState)(!1),i=ke()(n,2),o=i[0],s=i[1];return(0,T.useEffect)((function(){s(!t.cache.get(zt.r.HIDE_MY_PACK_TIPS))}),[]),a()(J.Z,{trackingInfo:r},void 0,a()(D.Z,{className:kt().myPackIcon,id:at.l.MyPack,bgUrl:"https://promotion.pddpic.com/promo/d1d561ff-428e-4744-9762-7446a2717a5f.png.slim.png",onClick:function(){(0,x.iH)(null,r),t.myPackStore.showAction(),o&&(t.cache.set(zt.r.HIDE_MY_PACK_TIPS,1),s(!1)),t.dcNewUserCouponDialogStore.onClickPack()}},void 0,(o||t.dcNewUserCouponDialogStore.$showPackRedDot)&&a()(D.Z,{className:kt().couponTips,bgUrl:"https://promotion.pddpic.com/promo/f156713a-62f8-4434-ad59-758c8f4490e4.png.slim.png"})))})),tr=Vt,rr=r(32096),nr=r.n(rr),ir=r(57087);function or(e){var t=e.store;return z()(nr()),(0,T.useEffect)((function(){(0,x.oy)(W.Y8,{roi_test_show_type:(0,ir.Sn)(t)})}),[]),a()("div",{className:nr().wrap},void 0,a()(D.Z,{className:nr().label,bgUrl:"https://promotion.pddpic.com/promo/bfc4a935-f1ed-43fd-8156-69a58c4bbe8e.png.slim.png"},void 0,"下线通知"),a()("div",{className:nr().content},void 0,"很抱歉通知您，多多精灵游戏将于",Ie()(t.roiGameEndTime).format("YYYY年MM月DD日"),"暂停运营，进行升级维护，届时所有待领奖励将失效，请您尽快兑换。"))}function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O()(e);if(t){var i=O()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w()(this,r)}}var ur=j.Z.price,lr=a()("span",{},void 0,"元"),pr=a()(he,{lowWrap:!1}),fr=a()(ht,{}),dr=B()(G())(Qt=(0,E.inject)("store")(Qt=(0,E.observer)((Jt=function(e){_()(r,e);var t=cr(r);function r(){var e;h()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),f()(e,"isDidMount",$t,v()(e)),e.onClickWithDraw=l()(c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.simple){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,x.iH)(W.Jl.EL_3436374,{});case 4:r=e.store.getWithdrawPageUrl(),e.topBarStore.setMidAutumnGuideCount((e.topBarStore.midAutumnGuideCount||0)+1),e.store.needQueryWalletOnce=!0,U.ZP.forward(r);case 8:case"end":return t.stop()}}),t)}))),e.toSkinOrder=function(){e.store.spriteBookDialogStore.handleSkinOrder(e.mySkinItem)},e.inviteFriendBack=function(t,r){(0,x.iH)(null,r),e.store.friendshipStore.recallFriendInfo=t,e.store.friendRecallDialogStore.showAction()},e}return g()(r,[{key:"componentDidMount",value:function(){this.isDidMount=!0,this.topBarStore.setSubtractOrderGuideCount(),this.topBarStore.setMidAutumnGuideCount()}},{key:"renderAvatar",value:function(){var e=this.store,t=e.topRank,r=e.gameStore,n=e.friendRankDialogStore,i=e.friendUid,o=this.store.avatar;if(!o&&!r.isMainScene){var s=n.getFriendInfoByUid(i);(null==s?void 0:s.avatar)&&(o=null==s?void 0:s.avatar)}return a()(D.Z,{className:G().avatarBox,sprite:{key:"AVATAR_BG",config:Z.ZP.COMMON_PIC_BASE_SPRITE}},void 0,a()(D.Z,{className:G().avatar,optimize:!1,bgUrl:o,emageProps:{resizeWidth:200}},void 0,t>0&&a()("div",{className:G().level},void 0,a()(D.Z,{className:G().wing,sprite:{key:"TOP_BAR_WING_LEFT",config:Z.ZP.COMMON_PIC_BASE_SPRITE}}),t,a()(D.Z,{className:L()(G().wing,G().wingRight),sprite:{key:"TOP_BAR_WING_LEFT",config:Z.ZP.COMMON_PIC_BASE_SPRITE}}))))}},{key:"renderAvatarWidthDraw",value:function(){var e=this.store.userInfo.savingMoney,t=this.store.topRank,r=0+.03391304347826087*(t-1),n="LV.24可现金提现";return t<8?n="每次升级可拿现金":t>=8&&t<16?n="升级拿更多现金哦":t>=16&&(n="赞！差".concat(24-t,"级可提现")),a()(D.Z,{className:G().scoreBox},void 0,this.renderAvatar(),a()("div",{className:G().info},void 0,a()("div",{className:G().topInfo},void 0,a()(D.Z,{className:G().redPacketIcon,sprite:{key:"TOP_BAR_RED_PACKET_ICON",config:Z.ZP.COMMON_PIC_BASE_SPRITE}}),e>=0&&C().createElement(C().Fragment,null,ur(e,100),lr)),a()(D.Z,{className:G().progressBarBg,bgUrl:Z.ZP.COMMON_PIC_PROGRESS_BG},void 0,a()("div",{className:G().progressBar,style:{width:"".concat(r.toFixed(2),"rem")}})),a()("div",{className:G().tips},void 0,n)),a()(J.Z,{trackingInfo:{page_el_sn:W.Jl.EL_3436374}},void 0,a()(D.Z,{className:G().withDrawBtn,style:this.props.simple?sr({},(0,be.T8)("transform","scale(1.285)")):{},sprite:{key:"TOP_BAR_WITHDRAW_BTN",config:Z.ZP.COMMON_PIC_BASE_SPRITE},onClick:this.onClickWithDraw},void 0,a()(Ae,{store:this.store,midAutumnGuideCount:this.store.topBarStore.midAutumnGuideCount}))))}},{key:"renderMainScene",value:function(){var e,t;return C().createElement(C().Fragment,null,this.renderAvatarWidthDraw(),(0,ir.DO)(this.store)&&a()(or,{store:this.store}),!this.store.gameStore.isInComposeStep&&pr,a()("div",{className:G().leftIcons,style:(0,ir.DO)(this.store)?{top:".9rem"}:{}},void 0,this.showCptBrandWidget&&a()(rt,{store:this.store})),a()(tr,{isDidMount:this.isDidMount}),!(null===(e=this.store.gameStore)||void 0===e||null===(t=e.guideHandler)||void 0===t?void 0:t.isInGuideLt3)&&a()(ve,{store:this.store}),fr)}},{key:"renderFriendScene",value:function(){var e,t=this,r=this.store.friendRankDialogStore.getFriendInfoByUid(this.store.friendUid),n={page_el_sn:W.Hu.FRIEND_SCENE_INVITE_BOX};return C().createElement(C().Fragment,null,a()(D.Z,{className:L()(G().scoreBox,G().boxBgHidden)},void 0,this.renderAvatar()),a()(J.Z,{trackingInfo:{page_el_sn:W.eE.pageElSn}},void 0,a()(D.Z,{className:G().grabBanner,bgUrl:Z.ZP.TOB_BAR_GRAB_BANNER},void 0,a()(D.Z,{className:G().grabBannerNum,bgUrl:Z.ZP.TOB_BAR_GRAB_BANNER_NUM}),a()("div",{className:G().grabBannerTip},void 0,"在好友家打工，金币收益翻2倍！"))),!!(null===(e=this.mySkinItem)||void 0===e?void 0:e.in_grey)&&!this.mySkinItem.owned&&a()(D.Z,{className:G().getFriendSkin,bgUrl:Z.ZP.FRIEND_SCENE_GET_SAME_SKIN,onClick:this.toSkinOrder}),!!r&&r.invite_box_status===H.vz.BOX_LOCK&&a()(J.Z,{trackingInfo:n},void 0,a()(D.Z,{className:G().coinBox,bgUrl:Z.ZP.COIN_BOX_BIG,onClick:function(){return t.inviteFriendBack(r,n)}})))}},{key:"renderSimple",value:function(){return a()("div",{className:G().wrap,style:this.containerStyle},void 0,this.renderAvatarWidthDraw())}},{key:"render",value:function(){if(this.props.simple)return this.renderSimple();var e=this.store.isMainScene,t=this.containerStyle;return C().createElement(C().Fragment,null,a()("div",{className:L()(G().wrap,i()({},G().wrapHideFriend,e)),style:t},void 0,!e&&this.renderFriendScene()),a()("div",{className:L()(G().wrap,i()({},G().wrapHideMain,!e)),style:t},void 0,this.renderMainScene()))}},{key:"containerStyle",get:function(){var e;return{top:(null===(e=this.store.appContext)||void 0===e?void 0:e.sh)||0}}},{key:"abTestStore",get:function(){return this.store.abTestStore}},{key:"topBarStore",get:function(){return this.store.topBarStore}},{key:"skinType",get:function(){return this.store.skinType}},{key:"mySkinItem",get:function(){var e=this.store.skinType;return this.store.spriteBookDialogStore.skinList.find((function(t){return t.skin_type===e}))}},{key:"showCptBrandWidget",get:function(){return(this.store.isPassGame||this.store.topRank>=5)&&this.store.abTestStore.showCptBrandWidget}}]),r}(R.Z),$t=A()(Jt.prototype,"isDidMount",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A()(Jt.prototype,"componentDidMount",[P.action],Object.getOwnPropertyDescriptor(Jt.prototype,"componentDidMount"),Jt.prototype),A()(Jt.prototype,"mySkinItem",[P.computed],Object.getOwnPropertyDescriptor(Jt.prototype,"mySkinItem"),Jt.prototype),A()(Jt.prototype,"showCptBrandWidget",[P.computed],Object.getOwnPropertyDescriptor(Jt.prototype,"showCptBrandWidget"),Jt.prototype),Qt=Jt))||Qt)||Qt)||Qt},28027:function(e,t,r){"use strict";var n=r(49304),i=r.n(n),o=r(94255),a=r.n(o),s=r(79430),c=r(69896);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}r(25367),t.Z=function(e){var t=e.children,r=e.once,n=void 0===r||r,o=e.onEnter,l=void 0===o?function(){}:o,p=e.onLeave,f=void 0===p?function(){}:p,d=e.threshold,h=void 0===d?[1]:d,m=e.rootMargin,g=void 0===m?"0px":m,y=e.root,v=void 0===y?null:y,b=a()(e,["children","once","onEnter","onLeave","threshold","rootMargin","root"]),_=null,k=(0,s.useRef)(),w=null;function S(){w&&w.disconnect(),w=null}function O(e){e.forEach((function(e){parseInt(e.target.dataset.uniqid,10)&&function(e){e.isIntersecting?l(e):f(e),n&&S()}(e)}))}function I(e){(_=(0,c.findDOMNode)(e))?(w=new IntersectionObserver(O,{threshold:h,rootMargin:g,root:v})).observe(_):console.warn("Impr 监听未生效，请检查child是否唯一！！！")}return(0,s.useEffect)((function(){return I(k.current),S}),[]),(0,s.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({ref:k},b))}},69647:function(e,t,r){"use strict";var n=r(56261);t.Z=n.Z},87227:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(70722),i=r.n(n),o=r(49304),a=r.n(o),s=r(94255),c=r.n(s),u=r(79430),l=r.n(u),p=r(63791);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e){var t=e.lottieManager,r=e.animationParams,n=e.className,o=e.style,a=e.children,s=e.lottieRef,f=e.onClick,h=e.onEvent,m=c()(e,["lottieManager","animationParams","className","style","children","lottieRef","onClick","onEvent"]),g=(0,u.useRef)(null);return(0,u.useEffect)((function(){var e;t.init();var n=(0,p.when)((function(){return!!t.lottie}),(function(){if(g.current){var n=t.lottie;e=n.loadAnimation(d(d({},r),{},{container:g.current})),null==s||s(e),h&&Object.keys(h).forEach((function(t){e.addEventListener(t,(function(){h[t](e)}))}))}}));return function(){var t;n(),null===(t=e)||void 0===t||t.destroy()}}),[]),l().createElement("div",i()({className:n,style:o,ref:g,onClick:f},m),a)}},1817:function(e,t,r){"use strict";var n,i=r(49304),o=r.n(i),a=r(96948),s=r.n(a),c=(r(79430),r(70694),r(54483)),u=r.n(c),l=r(24229),p=r.n(l),f=r(19878),d=r.n(f),h=r(86564);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var g=d()(p())(n=function(e){var t,r=e.onClick,n=e.className,i=e.type,a=e.iconSize,c=e.style;if("transparent"===i)return s()(h.Z,{className:u()(p().wrap,p().gameClose,n),bgUrl:"https://promotion.pddpic.com/promo/9a19d0d3-3b67-4367-b79c-31420d6149a5.png.slim.png",onClick:r,style:c,optimize:!1});var l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({fontSize:"".concat(a/100,"rem")},c),f={color:"gray"===i?"#E0E0E0":"#fff",backgroundColor:"gray"===i?"#666666":"transparent"},d=u()(p().icon,(t={},o()(t,p().gray,"gray"===i),o()(t,p().museum,"gray"!==i),t));return s()("div",{className:u()(p().wrap,"gray"!==i&&p().gameClose,n),onClick:r,style:l},void 0,s()("i",{className:d,style:f}))})||n;g.defaultProps={type:"transparent",iconSize:29},t.Z=g},1042:function(e,t,r){"use strict";r.d(t,{Z:function(){return B}});var n,i,o,a,s,c,u,l,p,f=r(96948),d=r.n(f),h=r(80819),m=r.n(h),g=r(46461),y=r.n(g),v=r(85114),b=r.n(v),_=r(71831),k=r.n(_),w=r(82482),S=r.n(w),O=r(6899),I=r.n(O),A=r(90529),T=r.n(A),C=r(71988),E=r.n(C),P=(r(52745),r(79430)),R=r(73688),x=r(63791),D=r(8307),N=(r(70694),r(56349));function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T()(e);if(t){var i=T()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return I()(this,r)}}var M=["d","hh","mm","ss","ms"],B=(0,D.observer)((p=l=function(e){S()(r,e);var t=L(r);function r(e){var n;return y()(this,r),n=t.call(this,e),m()(n,"d",o,k()(n)),m()(n,"hh",a,k()(n)),m()(n,"mm",s,k()(n)),m()(n,"ss",c,k()(n)),m()(n,"ms",u,k()(n)),n.time=new R.jo({now:e.now,endTime:e.endTime,render:function(e){n.updateTime(e)},onFinish:e.onFinish,delayTime:e.delayTime}),n.updateTime(n.time.getBetween()),n}return b()(r,[{key:"componentWillUnmount",value:function(){this.time&&this.time.remove()}},{key:"updateTime",value:function(e){var t=e.days,r=e.hours,n=e.minutes,i=e.seconds,o=e.milliseconds;Object.assign(this,{d:t,hh:r,mm:n,ss:i,ms:o})}},{key:"render",value:function(){var e=this,t=this.props,r=t.fmtStr,n=t.className,i=t.children;if(i){var o=M.reduce((function(t,r){return t[r]=e[r],t}),{});return(0,P.cloneElement)(i,o)}var a=M.reduce((function(t,r){var n=new RegExp(r,"g");return t.replace(n,e[r])}),r);return d()("span",{className:n,dangerouslySetInnerHTML:{__html:a}})}}]),r}(P.Component),l.defaultProps={className:"",onFinish:N.ZT,fmtStr:"hh:mm:ss",delayTime:1e3},i=p,o=E()(i.prototype,"d",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=E()(i.prototype,"hh",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=E()(i.prototype,"mm",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=E()(i.prototype,"ss",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=E()(i.prototype,"ms",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E()(i.prototype,"updateTime",[x.action],Object.getOwnPropertyDescriptor(i.prototype,"updateTime"),i.prototype),n=i))||n},83632:function(e,t,r){"use strict";r.d(t,{Z:function(){return F}});var n=r(54612),i=r.n(n),o=r(11809),a=r.n(o),s=r(96948),c=r.n(s),u=r(49304),l=r.n(u),p=r(97703),f=r.n(p),d=r(79430),h=r.n(d),m=r(54483),g=r.n(m),y=r(1817),v=r(27551),b=r(58226),_=r.n(b),k=r(41197),w=r.n(k),S=r(54578),O=r(86564),I=r(78231),A=r(52866),T=r(8307);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P={},R={zIndex:1113};var x=(0,T.inject)("store")((function(e){var t=e.children,r=void 0===t?null:t,n=e.closeBtn,o=void 0===n||n,s=e.clickCloseBtn,u=void 0===s?null:s,p=e.closeBtnClass,m=void 0===p?"":p,b=e.closeBtnStyle,k=void 0===b?"":b,T=e.closeBtnType,C=void 0===T?"transparent":T,x=e.contentClass,D=void 0===x?"":x,N=e.contentStyle,L=void 0===N?P:N,M=e.needAnimation,B=void 0===M||M,F=e.btnGroupClass,G=void 0===F?"":F,j=e.title,U=void 0===j?"":j,W=e.cancel,Z=void 0===W?"":W,H=e.confirm,K=void 0===H?"":H,z=e.cancelStyle,q=void 0===z?P:z,Y=e.confirmStyle,V=void 0===Y?P:Y,X=e.clickCancel,Q=void 0===X?null:X,J=e.clickConfirm,$=void 0===J?null:J,ee=e.show,te=void 0===ee||ee,re=e.clickMask,ne=void 0===re?null:re,ie=e.maskClass,oe=void 0===ie?"":ie,ae=e.maskStyle,se=void 0===ae?P:ae,ce=e.hideAniExec,ue=void 0!==ce&&ce,le=e.hideAniConfig,pe=void 0===le?{}:le,fe=e.showAniConfig,de=e.store,he=pe||{},me=he.iconSrc,ge=void 0===me?"":me,ye=he.targetId,ve=void 0===ye?"":ye,be=he.callback,_e=void 0===be?function(){}:be;w()(_());var ke=(0,d.useRef)(),we=(0,d.useRef)(),Se=(0,S.Z)(_e),Oe=(0,d.useState)(!1),Ie=f()(Oe,2),Ae=Ie[0],Te=Ie[1];(0,d.useEffect)((function(){var e,t;if(ue){if(null==de?void 0:de.checkLowDeviceDowngrade("navbar"))return void Se();e=setTimeout((function(){Te(!0),t=setTimeout((function(){Se()}),400)}),200)}return function(){e&&clearTimeout(e),t&&clearTimeout(t)}}),[ue,Se,de]);var Ce=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(e||{}).startPosition||{},n=r.x,o=r.y,s=(0,d.useState)(!1),c=f()(s,2),u=c[0],l=c[1],p=(0,d.useState)({scale:.1,time:500,timeFn:"ease-out"}),h=f()(p,2),m=h[0],g=m.scale,y=m.time,v=m.timeFn,b=h[1],_=t&&"number"==typeof n&&"number"==typeof o,k=function(){var e=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=2;break}return e.abrupt("return");case 2:return l(!0),e.next=5,(0,I._v)(500);case 5:return b({scale:1.1,time:300,timeFn:"ease"}),e.next=8,(0,I._v)(300);case 8:b({scale:1,time:200,timeFn:"ease"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if((0,d.useEffect)((function(){k()}),[]),!_)return{};var w=function(e,t){if(e){var r=(document.documentElement.clientWidth||document.body.clientWidth)/2;return"".concat(t-r,"px")}var n=(document.documentElement.clientHeight||document.body.clientHeight)/2;return"".concat(t-n,"px")},S="translate3d(".concat(u?0:w(!0,n),", ").concat(u?0:w(!1,o),", 0) scale(").concat(g,")");return{style:{transform:S,WebkitTransform:S,opacity:~~u,transition:u?"all ".concat(y,"ms ").concat(v):void 0}}}(fe,te).style;if(!te)return null;if(ue&&(null==de?void 0:de.checkLowDeviceDowngrade("navbar")))return null;var Ee,Pe,Re,xe,De,Ne=K?R:{},Le=E(E({background:ue?"transparent":null},se),Ne),Me=E(E(E({},L),{},{transition:"330ms transform, 330ms opacity"},ue?{transform:"scale(0)",opacity:0}:{}),Ce),Be={};if(ue){var Fe,Ge,je,Ue=function(e){return Math.round(10*e)/10},We=(null===(Fe=document.getElementById(ve))||void 0===Fe?void 0:Fe.getBoundingClientRect())||{},Ze=We.width,He=We.height;We.x,We.y;Be={width:Ue(Ze),height:Ue(He),transition:".4s transform",transform:Ae?(Ee=(null===(Ge=we.current)||void 0===Ge||null===(je=Ge.getBoundingClientRect)||void 0===je?void 0:je.call(Ge))||{},Pe=We,Re=(0,A.NH)(Ee,Pe),xe=Re.translateX,De=Re.translateY,"translate(".concat(xe,"px, ").concat(De,"px) scale(0.3)")):null}}return c()(v.Z,{maskClass:oe,style:Le,onClick:ne},void 0,ge&&ue&&!(null==de?void 0:de.checkLowDeviceDowngrade("navbar"))?c()(O.Z,{backgroundImage:ge,className:_().aniIcon,style:Be,forwardedRef:we}):null,h().createElement("div",{ref:ke,className:g()(_().content,D,l()({},_().jelly,B&&!Ce)),style:Me},o&&r&&c()(y.Z,{className:g()("gray"===C&&_().close,m),onClick:u,type:C,style:k}),!r&&c()("div",{className:_().inner},void 0,U),r,K&&c()("div",{className:g()(_().btns,G)},void 0,Z&&c()("button",{className:g()(_().btn,_().cancel),style:q,onClick:Q},void 0,Z),c()("button",{className:g()(_().btn,_().confirm),style:V,onClick:$},void 0,K))))})),D=r(69896),N=r.n(D),L=r(58699),M=r(56349);M.ZT;var B=function(e){var t=e.title,r=(e.desc,e.actions),n=void 0===r?[{text:"确定"}]:r,i=e.allowPullReload,o=void 0===i||i,a=!1;if(!t)return{close:M.ZT};var s=document.createElement("div");function c(){a||(a=!0,N().unmountComponentAtNode(s),document.body.removeChild(s))}if(document.body.appendChild(s),n.map((function(e){var t=e.onPress=e.onPress||M.ZT;e.onPress=function(){var e=t();e&&e.then?e.then(c).catch((function(e){return L.ZP.sendError(e)})):c()}})),n.length<3){var u=n.reverse(),l=f()(u,2),p=l[0],d=l[1],m=void 0===d?{}:d,g=p.text,y=p.onPress,v=p.style,b=m.text,_=m.onPress,k={closeBtn:!1,clickCloseBtn:c,title:t,cancel:b,confirm:g,cancelStyle:m.style,confirmStyle:v,clickCancel:_,clickConfirm:y,allowPullReload:o};N().render(h().createElement(x,k),s)}return c};x.open=B;var F=x},86564:function(e,t,r){"use strict";r.d(t,{Z:function(){return L}});var n,i,o,a=r(70722),s=r.n(a),c=r(94255),u=r.n(c),l=r(49304),p=r.n(l),f=r(46461),d=r.n(f),h=r(85114),m=r.n(h),g=r(82482),y=r.n(g),v=r(6899),b=r.n(v),_=r(90529),k=r.n(_),w=r(79430),S=r.n(w),O=r(8307),I=(r(70694),r(61647)),A=r(90551),T=r(54483),C=r.n(T),E=r(84520),P=r.n(E),R=r(19878);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=k()(e);if(t){var i=k()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return b()(this,r)}}var L=r.n(R)()(P())(n=(0,O.inject)("store")((o=i=function(e){y()(r,e);var t=N(r);function r(){var e;d()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).getStyle=function(){var t,r=e.props,n=r.style,i=r.emageProps,o=r.sprite,a=e.props.bgUrl||e.props.backgroundImage||(null==n?void 0:n.backgroundImage)||i.url||(null==o||null===(t=o.config)||void 0===t?void 0:t.url),s=n;if(n||a){a&&(s=D(D({},n),e.getComputedStyle(a)));var c=/url\((?!data:image\/.+;base64,)(.+)\)/,u=["background","backgroundImage"],l={};Object.keys(s).forEach((function(t){u.includes(t)&&(s[t]=s[t].replace(/url\(()?(undefined)?('')?("")?\)/,"")),u.includes(t)&&s[t].match(c)&&(l[t]=e.getEmageUrl(s[t].match(c)[1]))}));var p=D(D({},s),l);if(o){var f=200,d=o.key,h=o.config||{},m=h.originHeight,g=h.originWidth,y=h.map[d]||{};p.backgroundSize="".concat(g/f,"rem ").concat(m/f,"rem"),p.backgroundPosition="".concat(y.x/f,"rem ").concat(y.y/f,"rem")}return p}},e.getEmageUrl=function(t){var r=e.props,n=r.optimize,i=r.emageProps,o=r.resizeWidth,a=e.props.quality||(null==i?void 0:i.quality),s=D(D({resizeWidth:o},i),{},{webp:e.props.store.webpEnable,quality:a});return e.props.sharpen&&(s.sharpen=e.props.sharpen),"url(".concat(n?(0,I.E)(t,s):(0,A.Z)(t),")")},e}return m()(r,[{key:"getComputedStyle",value:function(e){return{backgroundImage:"url(".concat(e,")")}}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.style,e.optimize,e.bgUrl,e.backgroundImage,e.quality,e.emageProps,e.className),n=e.forwardedRef,i=(e.sprite,e.resizeWidth,e.store,u()(e,["children","style","optimize","bgUrl","backgroundImage","quality","emageProps","className","forwardedRef","sprite","resizeWidth","store"])),o=C()(P().divWithBg,p()({},r,r));return S().createElement("div",s()({},i,{style:this.getStyle(),className:o,ref:n}),t)}}]),r}(w.PureComponent),i.defaultProps={optimize:!0,emageProps:{},forwardedRef:function(){}},n=o))||n)||n},14314:function(e,t,r){"use strict";r.d(t,{Z:function(){return C}});var n,i,o,a=r(49304),s=r.n(a),c=r(94255),u=r.n(c),l=r(46461),p=r.n(l),f=r(85114),d=r.n(f),h=r(82482),m=r.n(h),g=r(6899),y=r.n(g),v=r(90529),b=r.n(v),_=r(79430),k=r.n(_),w=r(8307),S=(r(70694),r(43748)),O=r(61647);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var i=b()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}var T=/^.*\.gif$/,C=(0,w.inject)("store")((o=i=function(e){m()(r,e);var t=A(r);function r(){return p()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){var e=this.props,t=e.webpEnable,r=e.src,n=e.optimize,i=e.lazy,o=e.className,a=e.style,c=e.onClick,l=e.resizeWidth,p=e.plainWatermark,f=(e.progress,e.quality),d=e.store,h=e.isApng,m=u()(e,["webpEnable","src","optimize","lazy","className","style","onClick","resizeWidth","plainWatermark","progress","quality","store","isApng"]),g=!T.test(r)&&n;h&&(g=d.checkLowDeviceDowngrade("apng"));var y=t||d.webpEnable;if(!r)return null;var v=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({src:g?(0,O.E)(r,{quality:f,webp:y,resizeWidth:l||1300,plainWatermark:p}):r,className:o,style:a,onClick:c},m);return i?k().createElement(S.LazyImage,v):k().createElement("img",v)}}]),r}(_.PureComponent),i.defaultProps={optimize:!0,lazy:!1,quality:70},n=o))||n},27551:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n,i,o,a=r(96948),s=r.n(a),c=r(49304),u=r.n(c),l=(r(79430),r(70694),r(69896)),p=r.n(l),f=r(54483),d=r.n(f),h=r(19878),m=r.n(h),g=r(32250),y=r.n(g),v=m()(y())((o=i=function(e){var t=e.style,r=e.children,n=e.show,i=e.maskClass,o=e.onClick;if(!n)return null;var a=d()(y().mask,i,u()({},y().hide,!n)),c=s()("div",{style:t,className:a,onClick:o},void 0,"function"==typeof r?r():r);return p().createPortal(c,document.body)},i.defaultProps={allowPullReload:!0,show:!0,maskClass:"",style:{}},n=o))||n},2365:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n,i,o,a=r(96948),s=r.n(a),c=r(70722),u=r.n(c),l=r(49304),p=r.n(l),f=r(94255),d=r.n(f),h=r(79430),m=r.n(h),g=r(86564),y=(r(70694),r(8307));function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=(0,y.inject)("store")((o=i=function(e){var t=e.children,r=e.width,n=e.height,i=e.animated,o=e.svgClassName,a=e.svgStyle,c=e.contentClassName,l=e.contentStyle,p=e.imgUrl,f=e.quality,h=e.forwardedRef,y=e.sharpen,v=e.preserveAspectRatio,_=e.store,k=e.downgradeFrameIndex,w=e.direction,S=e.optimize,O=e.cutWidth,I=e.cutHeight,A=e.cutScale,T=d()(e,["children","width","height","animated","svgClassName","svgStyle","contentClassName","contentStyle","imgUrl","quality","forwardedRef","sharpen","preserveAspectRatio","store","downgradeFrameIndex","direction","optimize","cutWidth","cutHeight","cutScale"]),C=(O||I)&&_.checkLowDeviceDowngrade("svg_animation_cut"),E=(C||k>=0)&&_.checkLowDeviceDowngrade("cancel_svg_animation"),P=b(b({width:"".concat(r,"px"),height:"".concat(n,"px"),backgroundSize:"100%"},l),E?{animation:"none",backgroundPositionX:C||"x"!==w?"0px":"-".concat(k*r,"px"),backgroundPositionY:C||"y"!==w?"0px":"-".concat(k*n,"px")}:{}),R={viewBox:"0, 0, ".concat(r,", ").concat(n),className:o,style:a,preserveAspectRatio:v},x="";if(C){P.backgroundSize="100% 100%";var D=!!O||"x"===w,N=k||0,L=A||_.leoConfig.svgCutScale||1.5,M=Math.floor(r*L),B=Math.floor(n*L);x="/thumbnail/"+(D?"x".concat(B):"".concat(M,"x"))+"%7C"+"imageMogr2/cut/".concat(M,"x").concat(B,"x").concat(N*(D?M:0),"x").concat(N*(D?0:B))}var F=function(){return s()("foreignObject",{width:r,height:n},void 0,t||m().createElement(g.Z,u()({bgUrl:p,style:P,className:c},T,{quality:f,sharpen:y,forwardedRef:h,emageProps:C?{imageMogr2:x}:{},optimize:C||S})))};return i&&i.svg?m().createElement(i.svg,R,F()):m().createElement("svg",R,F())},i.defaultProps={svgStyle:{},direction:"y"},n=o))||n},84023:function(e,t,r){"use strict";var n=r(54612),i=r.n(n),o=r(11809),a=r.n(o),s=r(46461),c=r.n(s),u=r(85114),l=r.n(u),p=r(82482),f=r.n(p),d=r(6899),h=r.n(d),m=r(90529),g=r.n(m),y=r(79430),v=r.n(y),b=r(58699);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}t.Z=function(e){var t,r,n=e.loader,o=e.loading,s=e.render;return r=t=function(e){f()(u,e);var t,r=_(u);function u(){var e;c()(this,u);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).state={isLoad:!1,loadedData:null},e}return l()(u,[{key:"render",value:function(){var e=this.state,t=e.isLoad,r=e.loadedData;if(!t)return o||null;var n=r;return s?s(r,this.props):v().createElement(n,this.props)}},{key:"componentDidMount",value:function(){this.props.when&&this.loadFunc()}},{key:"componentDidUpdate",value:function(e){this.props.when&&!e.when&&this.loadFunc()}},{key:"loadFunc",value:(t=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasLoad){e.next=2;break}return e.abrupt("return");case 2:return this.hasLoad=!0,e.prev=3,e.next=6,n();case 6:t=e.sent,this.setState({isLoad:!0,loadedData:t.default||t}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),b.ZP.sendError(e.t0);case 13:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return t.apply(this,arguments)})}]),u}(y.Component),t.defaultProps={when:!0},r}},55912:function(e,t,r){"use strict";var n;r.d(t,{l:function(){return n}}),function(e){e.Sign="ICON_SIGN",e.InviteFriend="ICON_INVITE_FRIEND",e.BuyStore="ICON_BUY_STORE",e.ComposeTask="ICON_COMPOSE_TASK",e.Rocket="ICON_ROCKET",e.Rule="ICON_RULE",e.Coupon="ICON_COUPON",e.RollEgg="ICON_ROLL_EGG",e.MyPack="ICON_MY_PACK",e.EnergyEntry="ICON_ENERGY_ENTRY",e.MainBuyBtn="MAIN_BUY_BTN"}(n||(n={}))},89378:function(e,t,r){"use strict";r.d(t,{u6:function(){return n},Is:function(){return i}});var n={TASK_FORWARD:"task_forward",MISSION_ID:"refer_task_id",MODULE_ID:"refer_mdl_id",OC_TAG:"_oc_promotion_tag",POPUP_MODULE_ID:"_x_popup_module_id",POPUP_MISSION_ID:"_x_popup_mission_id"},i="goods_rec_list"},305:function(e,t,r){"use strict";r.d(t,{DZ:function(){return i},c$:function(){return a},Tu:function(){return s},vs:function(){return c},rF:function(){return u},d6:function(){return l}});var n="mobile-promote.",i=("".concat("navigation-map.").concat("router_map"),"".concat(n).concat("navigation_redirect"),"".concat(n).concat("cmt_host"),"".concat(n).concat("prom_name")),o=("".concat("cdn-image-config.").concat("cui_image"),"".concat(n,"duoduo-sprite.")),a="".concat(o,"ab"),s="".concat(o,"mission"),c="".concat(o,"other"),u="".concat(o,"cpt-brand-widget"),l="fairy-api.friend-list-npc-info.config"},46058:function(e,t,r){"use strict";r.d(t,{dp:function(){return n},hd:function(){return i},kk:function(){return o},fd:function(){return a},Kx:function(){return s}});var n="/goods.html",i="/promote/fashion_season.html",o="//promotion.pddpic.com/promo/",a="/promote/sprite_cash.html?_pdd_tc=ffffff&_pdd_fs=1&_pdd_nc=2ecfba",s={HTJ:"wss://titan-ws.hutaojie.com",STAGE:"wss://titan-ws-staging.pinduoduo.com",PROD:"wss://titan-ws.pinduoduo.com"}},27982:function(e,t,r){"use strict";var n=r(46461),i=r.n(n),o=r(85114),a=r.n(o),s=r(82482),c=r.n(s),u=r(6899),l=r.n(u),p=r(90529),f=r.n(p),d=r(79430);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var i=f()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var m=function(e){c()(r,e);var t=h(r);function r(){return i()(this,r),t.apply(this,arguments)}return a()(r,[{key:"rootStore",get:function(){return this.props.appStore||this.props.rootStore}},{key:"store",get:function(){return this.props.store}}]),r}(r.n(d)().Component);t.Z=m},38377:function(e,t,r){"use strict";var n,i,o=r(80819),a=r.n(o),s=r(46461),c=r.n(s),u=r(85114),l=r.n(u),p=r(71988),f=r.n(p),d=(r(52745),r(63791)),h=(n=function(){function e(t,r){var n=this;c()(this,e),this.getRoot=void 0,this.getDefaultValues=void 0,this.sendError=function(){var e;(e=n.rootStore.$$commonData).sendError.apply(e,arguments)},this.sendEvent=function(e,t){n.rootStore.$$commonData.sendEvent(e,t)},this.isomorphicRequest=function(){var e;return(e=n.rootStore).isomorphicRequest.apply(e,arguments)},a()(this,"initStore",i,this),this.getRoot=r||function(){},this.initStore(t)}return l()(e,[{key:"extend",value:function(e){Object.assign(this,e)}},{key:"rootStore",get:function(){return this.getRoot()}},{key:"store",get:function(){return this.rootStore}}]),e}(),i=f()(n.prototype,"initStore",[d.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t&&(Object.assign(e,t),e.getDefaultValues&&e.getDefaultValues())}}}),f()(n.prototype,"extend",[d.action],Object.getOwnPropertyDescriptor(n.prototype,"extend"),n.prototype),n);t.Z=h},90401:function(e,t,r){"use strict";r.d(t,{Z:function(){return A}});var n,i,o,a,s=r(80819),c=r.n(s),u=r(46461),l=r.n(u),p=r(85114),f=r.n(p),d=r(71831),h=r.n(d),m=r(82482),g=r.n(m),y=r(6899),v=r.n(y),b=r(90529),_=r.n(b),k=r(71988),w=r.n(k),S=(r(52745),r(63791)),O=r(38377);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_()(e);if(t){var i=_()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v()(this,r)}}var A=(n=S.action.bound,i=S.action.bound,o=function(e){g()(r,e);var t=I(r);function r(){var e;l()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),c()(e,"isShow",a,h()(e)),e.data=void 0,e}return f()(r,[{key:"showAction",value:function(e){this.isShow=!0,this.data=e}},{key:"hideAction",value:function(){this.isShow=!1,this.data=void 0}}]),r}(O.Z),a=w()(o.prototype,"isShow",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w()(o.prototype,"showAction",[n],Object.getOwnPropertyDescriptor(o.prototype,"showAction"),o.prototype),w()(o.prototype,"hideAction",[i],Object.getOwnPropertyDescriptor(o.prototype,"hideAction"),o.prototype),o)},98703:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(54612),i=r.n(n),o=r(11809),a=r.n(o),s=r(46461),c=r.n(s),u=r(85114),l=r.n(u),p=r(58699),f=r(83861),d=r(18749),h=r(36721),m=r(50318),g=r(10415),y=function(){function e(){c()(this,e)}var t;return l()(e,[{key:"sendError",value:function(){p.ZP.sendError.apply(p.ZP,arguments)}},{key:"sendEvent",value:function(e){p.ZP.sendError(e)}},{key:"tryFetchAccessToken",value:(t=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.getAccessToken)();case 2:return t=e.sent,e.abrupt("return","string"==typeof t?{accessToken:t,uid:this.cookies[f.default.CookieKey.UID]}:t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isNativePlatform",value:function(){return d.ZP.isNativePlatform}},{key:"setCookie",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:864e7;(0,m.setCookie)(e,t,{maxAge:r/1e3})}},{key:"pathname",get:function(){return location.pathname}},{key:"query",get:function(){return(0,m.parseUrlQuery)(location.href)}},{key:"queries",get:function(){return this.query}},{key:"userAgent",get:function(){return navigator.userAgent}},{key:"hostname",get:function(){return location.hostname}},{key:"cookies",get:function(){var e=(0,m.getCookie)();for(var t in e)e[t]instanceof Array&&(e[t]=e[t][0]);return e}},{key:"href",get:function(){return location.href}},{key:"platform",get:function(){return(0,h.getCurrentPlatform)()}},{key:"referer",get:function(){return document.referrer||""}}]),e}()},92748:function(e,t,r){"use strict";function n(e){return window.leoConfig[e]}r.d(t,{Z:function(){return n}})},57911:function(e,t,r){"use strict";var n=r(6367),i={queryUserProcess:{api:"api/fairy/query_user_process",middleware:n.W},queryFairyShop:{api:"api/fairy/query_fairy_shop",middleware:n.W},recycleFairy:{api:"api/fairy/recycle_fairy",middleware:n.W},upgradeFairy:{api:"api/fairy/upgrade_fairy",middleware:n.W,risk:!0},outWorkplace:{api:"api/fairy/out_workplace",middleware:n.W},queryAccelerateList:{api:"api/fairy/mission/query_accelerate_list",middleware:n.W},assist:{api:"api/fairy/mission/assist",middleware:n.W,risk:!0},intoWorkplace:{api:"api/fairy/into_workplace",middleware:n.W},heartbeatTime:{api:"api/fairy/heartbeat_time",middleware:n.W},fairyManual:{api:"api/fairy/fairy_manual",middleware:n.W},fairyEarnCoins:{api:"api/fairy/fairy_earn_coins",middleware:n.W},changeSkin:{api:"api/fairy/change_skin",middleware:n.W},buyFairy:{api:"api/fairy/buy_fairy",middleware:n.W},newUser:{api:"api/fairy/new_user",middleware:n.W},withdrawMoney:{api:"api/fairy/award/user_award",risk:!0,middleware:n.W},dailyPresent:{api:"api/fairy/daily_present",middleware:n.W},queryFriendList:{api:"api/fairy/friends/query_friend_list",middleware:n.W},buySkin:{api:"api/fairy/skin/buy",middleware:n.W},callbackFairy:{api:"api/fairy/call_back_fairy",middleware:n.W},driveAwayFairy:{api:"api/fairy/drive_away_fairy",middleware:n.W},occupyFriendsWorkplace:{api:"api/fairy/occupy_friends_workplace",middleware:n.W},queryFriendProcess:{api:"api/fairy/query_friend_process",middleware:n.W},querySign:{api:"api/fairy/mission/new_user_sign/query",middleware:n.W},achieveSign:{api:"api/fairy/mission/new_user_sign/achieve",middleware:n.W,risk:!0},dropEgg:{api:"api/fairy/egg/drop",middleware:n.W},achieveSkinSign:{api:"api/fairy/mission/unlock_skin_sign/achieve",middleware:n.W},querySkinSign:{api:"api/fairy/mission/unlock_skin_sign/query",middleware:n.W,risk:!0},giftBoxQuery:{api:"api/fairy/award/gift_box/query",middleware:n.W},giftBoxDraw:{api:"api/fairy/award/gift_box/draw",middleware:n.W,risk:!0},queryExchangeAwardList:{api:"api/fairy/award/list/query",middleware:n.W,risk:!0},queryTyrionAdList:{api:"api/tyrion/ad_list",risk:!0},queryComposeTask:{api:"api/fairy/mission/merge_fairy_present/query",middleware:n.W},queryNpcMallRisk:{api:"api/firefly-api/query-mall-npc-display",middleware:n.W,risk:!0},addFriend:{api:"api/fairy/friends/add_friend",risk:!0},deleteFriend:{api:"api/fairy/friends/del_friend",risk:!0},gainRecallFriendReward:{api:"api/fairy/friends/gain_invite_reward",middleware:n.W,risk:!0},friendBackToGame:{api:"api/fairy/friends/back_to_game",risk:!0},queryMatureInviteNewList:{api:"api/fairy/friends/mature_invite_new_list",middleware:n.W,risk:!0},openTriggerRedPacket:{api:"api/fairy/award/open_trigger_red_packet",risk:!0,middleware:n.W},useGameTool:{api:"api/fairy/tool/use",middleware:n.W,risk:!0},queryCollectMallInfo:{api:"api/firefly-api/query-collect-mallinfo",risk:!0,middleware:n.W},queryUserType:{api:"api/fairy/query_user_type",middleware:n.W,risk:!0},queryPacketHelperGuideWindow:{api:"api/fairy/mission/red_packet_pop_window/query",risk:!0},withdrawDisplay:{api:"api/fairy/award/withdraw_display",middleware:n.W,risk:!0},queryMaterialConfigInfo:{api:"api/fairy/material/special/config/query",middleware:n.W},queryLiveByMallIds:{api:"api/hertz/mission/mall/query_live_show",risk:!0},queryCptGoodsList:{api:"api/firefly-api/cpt-goods-list",risk:!0},queryAdGoodsList:{api:"api/firefly-api/ad-goods-list",middleware:n.W,risk:!0},querySurpriseBagInfo:{api:"api/fairy/award/query_lucky_bag",middleware:n.W},querySurpriseAward:{api:"api/fairy/award/query_lucky_coupon",middleware:n.W},sendSurpriseBag:{api:"api/fairy/award/send_lucky_bag",middleware:n.W,risk:!0},gainSurpriseAward:{api:"api/fairy/award/send_lucky_award",middleware:n.W,risk:!0},queryPackCouponInfo:{api:"api/fairy/award/color_egg/query_user_coupon",middleware:n.W,risk:!0},queryColorEggMainInfo:{api:"api/fairy/award/color_egg/main_query",middleware:n.W,risk:!0},drawColorEgg:{api:"api/fairy/award/color_egg/draw",middleware:n.W,risk:!0},sendColorEggAwards:{api:"api/fairy/award/color_egg/send_award",risk:!0},clickColorEggMission:{api:"api/fairy/award/color_egg/click_mission"},queryNpcInfo:{api:"api/fairy/npc/info/query",middleware:n.W},triggerNpc:{api:"api/fairy/npc/trigger",middleware:n.W,risk:!0},queryRanking:{api:"api/fairy/ranking/query",middleware:n.W},exchangeEnergy:{api:"api/fairy/health_system/exchange_energy",middleware:n.W,risk:!0},queryCpcAfterCpt:{api:"api/fairy/mission/query_cpc_after_cpt",middleware:n.W,risk:!0},queryUserGroup:{api:"api/firefly-api/user-group",middleware:n.W,risk:!0},queryBrandBatch:{api:"api/serbia/query_brand_batch",risk:!0},takeBrandBatch:{api:"api/serbia/take_brand_coupon",risk:!0},retainUserCoin:{api:"api/fairy/award/give_award/retain_user_coin",middleware:n.W,risk:!0},queryMallFavStatus:{api:"api/zenon/user/mall_status",risk:!0},giveNewUserCoupon:{api:"api/fairy/award/give_award/new_user_coupon",middleware:n.W,risk:!0}};t.Z=i},4546:function(e,t,r){"use strict";var n=r(6367),i={getYearTaskList:{api:"api/hertz/mission/year/list",middleware:n.W,risk:!0},getTaskList:{api:"api/hertz/mission/query/list",middleware:n.W,risk:!0},setOrderTaskNotice:{api:"api/hertz/assist/order/notice",middleware:n.W},getTaskDcInfo:{api:"api/hertz/assist/promotion/url",middleware:n.W},doDailySignTask:{api:"api/hertz/mission/achieve/sign",middleware:n.W,risk:!0},queryDailySignTaskInfo:{api:"api/hertz/mission/query/daily_sign",middleware:n.W},getTaskInfo:{api:"api/hertz/mission/query/mission",middleware:n.W},getTaskAward:{api:"api/hertz/mission/v2/gain",middleware:n.W,risk:!0},setTaskAchieve:{api:"api/hertz/mission/v2/achieve",middleware:n.W,risk:!0},queryAwardList:{api:"api/fairy/promotion/query_award_list",middleware:n.W},querySearchGuide:{api:"/api/fairy/mission/search_guide/query",middleware:n.W},queryThreeMealsSignTask:{api:"/api/fairy/mission/three_meals_present/query",middleware:n.W},achieveThreeMealsSignTask:{api:"/api/fairy/mission/three_meals_present/draw",middleware:n.W,risk:!0},addMallInfo:{api:"/api/hertz/mission/mall/info/add",middleware:n.W,risk:!0},achieveSpecialMission:{api:"/api/fairy/mission/special_mission/achieve",middleware:n.W,risk:!0},scheduleTask:{api:"/api/fairy/mission/mission_achieved_progress/query",middleware:n.W,risk:!0},queryFriendListAdvMission:{api:"/api/hertz/mission/query/friend_list_adv_mission",middleware:n.W,risk:!0}};t.Z=i},56261:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var n=r(46461),i=r.n(n),o=r(85114),a=r.n(o),s=r(71831),c=r.n(s),u=r(82482),l=r.n(u),p=r(6899),f=r.n(p),d=r(90529),h=r.n(d),m=r(79430),g=r.n(m),y=r(69896),v=r(54612),b=r.n(v),_=r(11809),k=r.n(_),w=r(15312),S=r(36721),O=r(48142),I=(r(25367),(0,S.getCurrentPlatform)()),A={rootMargin:"0px",threshold:[.75]},T=new function e(){var t=this;i()(this,e),this.init=k()(b().mark((function e(){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(I.isNativePlatform&&I.statisfy&&I.statisfy("4.20.0","4.26.0","greaterThanEqual")){e.next=6;break}return t.createOberver(),e.abrupt("return");case 6:return e.prev=6,e.next=9,(0,O.invokeBridgeCallNativeFun)("WebScene","getPageShownType",null);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:r=e.t0,parseInt(r.shown_type,10)?(n=function(){t.createOberver()},(0,O.waitTabPageVisible)().then(n)):t.createOberver(),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(6),t.createOberver();case 20:case"end":return e.stop()}var n}),e,null,[[6,17]])}))),this.createOberver=function(){t.oberver=new IntersectionObserver(t.observerCallBack,A),Array.isArray(t.stashQuene)&&t.stashQuene.forEach((function(e){e&&e()})),t.stashQuene=null},this.observerCallBack=function(e){e.forEach((function(e){var r=parseInt(e.target.dataset.uniqid,10);if(r){if(e.isIntersecting&&e.intersectionRatio>=.75){if((t.elStore[r]||{}).immediate)return void t.log(r);t.entryQuene[r]=e}else t.entryQuene[r]&&(e.time-t.entryQuene[r].time>=300&&t.log(r),delete t.entryQuene[r]);t.lastTimer&&clearTimeout(t.lastTimer),t.lastTimer=setTimeout((function(){Object.keys(t.entryQuene).forEach((function(e){t.log(e),delete t.entryQuene[e]}))}),300)}}))},this.log=function(e){if(t.elStore[e]){var r=t.elStore[e]||{},n=r.info,i=r.once,o=r.el,a=r.handleCustomTracking,s=Object.assign({op:"impr"},n||{});i&&t.unRegister(o,e),a?a():w.Z.trackingRecord(s)}},this.register=function(e){var r=e.el,n=e.info,i=e.handleCustomTracking,o=e.once,a=void 0===o||o,s=e.immediate,c=void 0!==s&&s;if(r&&n){var u=t._uniqid;t._uniqid++,r.dataset.uniqid=u,t.elStore[u]=i?{el:r,info:n,once:a,immediate:c,handleCustomTracking:i}:{el:r,info:n,once:a,immediate:c},t.oberver?t.oberver.observe(r):t.stashQuene.push((function(){t.oberver.observe(r)}))}},this.unRegister=function(e,r){t.oberver&&t.oberver.unobserve(e),delete t.elStore[r],delete t.entryQuene[r]},this._uniqid=1,this.oberver=null,this.entryQuene={},this.elStore={},this.stashQuene=[],this.init()};r(70694);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var E=function(e){l()(r,e);var t=C(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).componentDidMount=function(){var t=e.props,r=t.id,n=t.doImpr;e.el=(0,y.findDOMNode)(c()(e))||document.getElementById(r),n&&e.registerImpr()},e.componentDidUpdate=function(t){e.lock||!t.doImpr&&e.props.doImpr&&(e.registerImpr(),e.lock=!0)},e.componentWillUnmount=function(){if(e.el&&e.isRegistered){var t=parseInt(e.el.dataset.uniqid,10)||0;T.unRegister(e.el,t)}},e.registerImpr=function(){var t=e.props,r=t.trackingInfo,n=t.once,i=t.handleCustomTracking,o=t.immediate;T.register({el:e.el,info:r,once:n,handleCustomTracking:i,immediate:o}),e.isRegistered=!0},e}return a()(r,[{key:"render",value:function(){return g().Children.only(this.props.children)}}]),r}(m.Component);E.defaultProps={doImpr:!0,id:"",once:!0,trackingInfo:{},immediate:!1};var P=E},93175:function(e,t,r){"use strict";var n=r(40327);t.Z=function(e,t,r){if(e=e||{},r=r||!1,0===(t=parseInt(t,10)||0)||r)return e.defaultModel;var i=(0,n.Z)(e.bucketCount,e.salt,t),o=e.models||{},a=[];a=e.modelKeyArr&&e.modelKeyArr.length>0?e.modelKeyArr:Object.keys(o);var s=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=Object.keys(e),n=0;n<r.length;n++){var i=r[n];if((e[i].whiteList||[]).includes(t))return i}return null}(o,t);if(s)return s;for(var c=0;c<a.length;c++){var u=a[c],l=o[u];if(!l)break;if(!(l.blackList.indexOf(t)>=0))if(i<(l.buckets||0))return u}return e.defaultModel}},3219:function(e,t,r){"use strict";r.d(t,{r:function(){return m}});var n=r(70722),i=r.n(n),o=r(96948),a=r.n(o),s=r(97703),c=r.n(s),u=r(94255),l=r.n(u),p=r(79430),f=r.n(p),d=(r(70694),r(69896)),h=function(e){var t=null,r=null,n=f().createRef(),i=function(t){t.forEach((function(t){e.observerCallBack(t)}))},o=function(){var n=e.threshold,o=void 0===n?1:n,a=e.rootMargin,s=void 0===a?"0px":a,c=e.root,u={threshold:o,rootMargin:"number"==typeof s?"".concat(s,"px"):s,root:c};(t=new IntersectionObserver(i,u)).observe(r)};return(0,p.useEffect)((function(){return function(e){(r=(0,d.findDOMNode)(e))?o():console.warn("IntersectionObserver监听未生效，请检查child是否唯一！！！")}(n.current),function(){return t&&t.disconnect(),void(t=null)}}),[]),f().cloneElement(e.children,{ref:n})},m=function(e){var t=e.onLoad,r=e.children,n=e.isEnd,o=l()(e,["onLoad","children","isEnd"]),s=(0,p.useState)(1),u=c()(s,2),d=u[0],m=u[1];return f().createElement(f().Fragment,null,!n&&f().createElement(h,i()({key:d,observerCallBack:function(e){e.isIntersecting&&!n&&t().finally(function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,i=function(){return clearTimeout(r)},o=function(){if(!t){i(),t=!0;for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];e.apply(this,a),r=setTimeout((function(){return t=!1}),n)}};return o.cancel=i,o}((function(){return m(d+1)}),500))}},o),a()("div",{style:{height:"0.01rem"}})),r)}},77517:function(e,t,r){"use strict";r.d(t,{aD:function(){return u},oN:function(){return l},gM:function(){return p},x6:function(){return f},VU:function(){return d}});var n,i,o=r(49304),a=r.n(o),s=r(36721),c=r(72669),u="production"!==c.env.BUNDLE_PLATFORM&&window.location.href.indexOf("hutaojie.com")>=0?(n={},a()(n,s.PLATFORM.PddAndroid,"1"),a()(n,s.PLATFORM.PddIOS,"3"),a()(n,s.PLATFORM.PDDTinyAndorid,"0"),a()(n,"LITE","20"),n):(i={},a()(i,s.PLATFORM.PddAndroid,"3"),a()(i,s.PLATFORM.PddIOS,"5"),a()(i,s.PLATFORM.PDDTinyAndorid,"59"),a()(i,"LITE","33"),i),l="production"!==c.env.BUNDLE_PLATFORM&&window.location.href.indexOf("hutaojie.com")>=0?"49":"138",p="pinduoduo",f="pdd_user_id",d="0.1.0-alpha.7"},16014:function(e,t,r){"use strict";r.d(t,{Xf:function(){return v},zv:function(){return b},ZP:function(){return _}});var n=r(49304),i=r.n(n),o=r(50318),a=r(77517),s=r(60065),c=r(26989);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(){var e=window.location,t=e.protocol,r=e.hostname;return{"m.pinduoduo.net":"m.pinduoduo.net","mobile.yangkeduo.com":"mobile.yangkeduo.com","csr.pddpic.com":"csr.pddpic.com","amcomponent:":"amcomponent://com.xunmeng.pinduoduo"}["amcomponent:"===t?t:r]||"other"}var f={Ios:/iphone|ipad|ipod/i,IosVersion:/os (\d+)_(\d+)_?(\d+)?/i,Android:/Android/i,AndroidNative:/phh_android_version/i,IosNative:/phh_ios_version/i,IosApiRequest:/BundleID\/com.xunmeng.pinduoduo/i},d="android",h="ios",m="out_android",g="out_ios",y="out_other";function v(){var e=window.navigator.userAgent;return f.AndroidNative.test(e)?e.includes("app_type/tiny")?m:d:f.IosNative.test(e)||f.IosApiRequest.test(e)?h:f.Android.test(e)?m:f.Ios.test(e)?g:y}function b(){return c.IP.isTinyNativePlatform?"tiny":c.IP.isLiteNativePlatform?"lite":c.IP.isMecoCore?"meco":c.IP.isNativePlatform&&window.navigator.userAgent.match(/Android/)?window.navigator.userAgent.match(/MQQBrowser/)?"x5":"system":"other"}function _(e){var t,r=e.pn,n=void 0===r?0:r,i=e.groupId,u=window.location,f=u.protocol,d=u.hostname,h=u.href,m=(0,o.parseUrlQuery)(h);return{tags:{isDirty:0,connectZero:0,isPreRender:(0,c.UO)().onPreRenderShow?1:0,hostname:p(),platform:v(),nativePackType:b(),pn:n,firstInit:0},fields:l(l(l({perf:(t=[],window.performance&&window.performance.timing?(t.push(1),t.push(window.performance.getEntriesByName&&window.performance.getEntriesByType?1:0),t.push(window.performance.mark?1:0)):t.push(0),t.join("")),href:h,protocol:f,hostname:d,system:c.IP.system},c.IP.systemVersion?{systemVersion:c.IP.systemVersion}:{}),c.IP.version?{version:c.IP.version}:{}),{},{platform:c.IP.platform,logVersion:a.VU,env:"production",traceId:(0,s.Wj)(i),referPageName:m.refer_page_name||"",referPageSN:m.refer_page_sn||"",userAgent:window.navigator.userAgent}),longFields:l(l({},c.IP.systemVersion?{systemVersionLong:(0,s.eQ)(c.IP.systemVersion)}:{}),c.IP.version?{appLongVersion:(0,s.eQ)(c.IP.version)}:{})}}},82494:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var n=r(66393),i=r.n(n),o=r(49304),a=r.n(o),s=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},c=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var r=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return r.observe({type:e,buffered:!0}),r}}catch(e){}},u=function(e,t){var r=function r(n){"pagehide"!==n.type&&"hidden"!==document.visibilityState||(e(n),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},l=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},p=function(e,t,r){var n;return function(i){t.value>=0&&(i||r)&&(t.delta=t.value-(n||0),(t.delta||void 0===n)&&(n=t.value,e(t)))}},f=-1,d=function(){u((function(e){var t=e.timeStamp;f=t}),!0)},h=function(){return f<0&&((f=window.webVitals.firstHiddenTime)===1/0&&d(),l((function(){setTimeout((function(){f="hidden"===document.visibilityState?0:1/0,d()}),0)}))),{get firstHiddenTime(){return f}}},m=function(e,t){var r,n=h(),i=s("FCP"),o=function(e){"first-contentful-paint"===e.name&&(u&&u.disconnect(),e.startTime<n.firstHiddenTime&&(i.value=e.startTime,i.entries.push(e),r(!0)))},a=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],u=a?null:c("paint",o);(a||u)&&(r=p(e,i,t),a&&o(a),l((function(n){i=s("FCP"),r=p(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-n.timeStamp,r(!0)}))}))})))},g=!1,y=-1,v={},b=r(73700),_=r.n(b),k=r(50318),w=r(27410),S=r(16014),O=r(77517);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T={LCP:{scaleRate:1,upLimit:1e4},TTID:{scaleRate:1,upLimit:2e4},FID:{scaleRate:10,upLimit:1e3},CLS:{scaleRate:1e4,upLimit:1}},C=function(e,t){if("number"!=typeof e||Number.isNaN(e))return-1;var r=T[t],n=r.scaleRate,i=r.upLimit;return Math.min(Math.max(Math.round(e*n),0),i*n)};function E(e,t,r){var n=e.map((function(e){var n=e.name,i=e.value;return{groupId:90213,amplifyRate:r,tags:A({logType:n},t),fields:{},longFields:{indexValue:C(i,n)}}}));(0,w.P2)(n,{appId:O.oN,bizSide:O.gM})}var P=function(e,t,r){var n=e.pn,o=e.grayTag;try{if(Math.random()>r)return;var a={pn:n,platform:(0,S.Xf)(),nativePackType:(0,S.zv)(),grayTag:o};_().getFirstConsistentlyInteractive({}).then((function(e){E([{name:"TTID",value:e}],a,t)}));var f=[],d=function(e){f&&f.push(e)};!function(e,t){var r,n=h(),i=s("FID"),o=function(e){e.startTime<n.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),r(!0))},a=c("first-input",o);r=p(e,i,t),a&&u((function(){a.takeRecords().map(o),a.disconnect()}),!0),a||window.webVitals.firstInputPolyfill(o),l((function(){i=s("FID"),r=p(e,i,t),window.webVitals.resetFirstInputPolyfill(),window.webVitals.firstInputPolyfill(o)}))}(d),function(e,t){g||(m((function(e){y=e.value})),g=!0);var r,n=function(t){y>-1&&e(t)},i=s("CLS",0),o=0,a=[],f=function(e){if(!e.hadRecentInput){var t=a[0],n=a[a.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,a.push(e)):(o=e.value,a=[e]),o>i.value&&(i.value=o,i.entries=a,r())}},d=c("layout-shift",f);d&&(r=p(n,i,t),u((function(){d.takeRecords().map(f),r(!0)})),l((function(){o=0,y=-1,i=s("CLS",0),r=p(n,i,t)})))}(d),function(e,t){var r,n=h(),i=s("LCP"),o=function(e){var t=e.startTime;t<n.firstHiddenTime&&(i.value=t,i.entries.push(e),r())},a=c("largest-contentful-paint",o);if(a){r=p(e,i,t);var f=function(){v[i.id]||(a.takeRecords().map(o),a.disconnect(),v[i.id]=!0,r(!0))};["keydown","click"].forEach((function(e){addEventListener(e,f,{once:!0,capture:!0})})),u(f,!0),l((function(n){i=s("LCP"),r=p(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-n.timeStamp,v[i.id]=!0,r(!0)}))}))}))}}(d);window.addEventListener("visibilitychange",(function e(){if("hidden"===document.visibilityState)try{f.length>0&&(E(i()(f),a,t),f=null,window.removeEventListener("visibilitychange",e))}catch(e){(0,k.throwErrorAsync)(e)}}))}catch(e){(0,k.throwErrorAsync)(e)}}},27410:function(e,t,r){"use strict";r.d(t,{P2:function(){return m}});var n=r(50318),i=r(77517),o=r(60065),a=r(26989),s=r(72669);function c(){return a.IP.isNativePlatform?a.IP.isLiteNativePlatform?i.aD.LITE:i.aD[a.IP.platform]||"-1":"-1"}var u={appId:"",bizSide:""};function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=Math.pow(10,5)+Math.floor(Math.random()*(Math.pow(10,6)-Math.pow(10,5))),l=Date.now();return{version:r?0:(0,o.eQ)(a.IP.version),report_time_ms:l,rand_num:s,crc32:(0,n.crc32)(l+"-"+s),biz_side:t.bizSide||u.bizSide||i.gM,app:String(t.appId||u.appId||i.oN),common_tags:{uid:(0,n.getCookie)(i.x6)||"0",runningAppId:c()},datas:e}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(e.length){var i=l(e,r,n);0,(0,a.wG)(t,i)}}var f=(0,n.memoize)((function(e){var t=window.location.protocol,r="amcomponent:"===t?"https:":t,n="production"!==s.env.BUNDLE_PLATFORM&&window.location.href.indexOf("hutaojie.com")>=0?"pmmtk.hutaojie.com":window.__PMM_HOST__||"pmmtk.pinduoduo.com";return"".concat(r,"//").concat(n,"/").concat(e)}));function d(e,t){return Object.keys(e).reduce((function(r,n){return t(r,n,e[n]),r}),{})}function h(e){return void 0===e?e:String(e)}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Array.isArray(e)||(e=[e]);var n=[];e.forEach((function(e){var t=e.groupId,r=e.amplifyRate,i=void 0===r?1:r,o=e.tags,a=void 0===o?{}:o,s=e.fields,c=void 0===s?{}:s,u=e.longFields,l=void 0===u?{}:u;if(t){var p=d(a,(function(e,t,r){return e["custom_".concat(t)]=h(r)})),f=d(l,(function(e,t,r){return e[t]={values:[parseInt(r,10)||0]}})),m=d(c,(function(e,t,r){return e[t]=h(r)})),g={category:4,type:400,id_raw_value:String(t),timestamp:Date.now(),tags:p,lvalues:f,extras:m,api_ratio:i};n.push(g)}})),p(n,f("api/pmm/defined"),t,r)}},60065:function(e,t,r){"use strict";r.d(t,{eQ:function(){return c},Wj:function(){return u},VN:function(){return p}});var n=r(97703),i=r.n(n),o=r(50318),a=r(26989),s=r(77517);function c(e){if(!e)return 0;var t=e.split("."),r=i()(t,3),n=r[0],o=r[1],a=r[2],s=[o,a].map((function(e){return"string"!=typeof e?"00":e.padStart(2,"0")})),c=i()(s,2);return+[n,o=c[0],a=c[1]].join("")}var u=(0,o.memoize)((function(e){var t=window.__MONITOR_INFOS__;return t&&t.reqId?"monitor_".concat(e,"_").concat(t.reqId):"monitor_".concat(e,"_").concat((0,o.nanoid)())})),l=0;function p(){return new Promise((function(e){if(l)return e(l);if(a.IP.isNativePlatform&&window.pinbridge){return window.pinbridge.callNative("AMUser","info",null,(function(t){l=t.user_id||0,e(l)}),(function(){l=(0,o.getCookie)(s.x6),e(l)}))}l=(0,o.getCookie)(s.x6),e(l)}))}},26989:function(e,t,r){"use strict";r.d(t,{Up:function(){return a},UO:function(){return s},IP:function(){return c},Rj:function(){return u},wG:function(){return p},GP:function(){return d}});var n=r(36721),i=r(48142),o=r(72669);function a(){var e={1:1,2:.5,4:.25,5:.2,10:.1},t=1,r=1;if(window.__CMT_AMPLIFY_RATE__){var n=window.__CMT_AMPLIFY_RATE__;e[n]?(t=+n,r=e[n]):console.warn("monitor放大倍数${rate}不合法支持1,2,4,5,10")}return{amplifyRate:t,sampleRate:r}}function s(){return window.__pre_render_performance_timing||{}}var c=(0,n.getCurrentPlatform)();function u(e){var t=function(){return setTimeout(e,0)};"complete"===document.readyState?t():window.addEventListener("load",t)}var l="text/plain;charset=UTF-8";function p(e,t){if(c.isNativePlatform&&(0,n.compareVersion)(c.systemVersion,"4.3.0")>=0)(0,i.invokeBridgeCallNativeFun)("JSNetwork","request",{url:e,method:"POST",data:JSON.stringify(t),headers:{"Content-Type":l}}).catch((function(e){if(c.platform===n.PLATFORM.PddAndroid&&(0,n.compareVersion)(c.version,"4.78.0")>=0)throw e}));else{var r=new XMLHttpRequest;r.open("POST",e,!0),r.setRequestHeader("Content-Type",l),r.withCredentials=!0,r.send(JSON.stringify(t))}}var f={"m.nvude3.com":"https://m.nvude3.com/proxy/cmt"};function d(e){var t=window.location,r=t.protocol,n=t.hostname,i=f[n]||"".concat("amcomponent:"===r?"https:":r,"//").concat(window.__CMT_HOST__||"cmtw.pinduoduo.com"),a="".concat(i).concat(e);return"production"!==o.env.BUNDLE_PLATFORM&&n.indexOf("hutaojie.com")>=0&&(a="https://cmtw.hutaojie.com".concat(e)),a}},99830:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});function n(e,t,r){if((t=parseInt(t||0,10)||0)<=0)return e;if("string"!=typeof e||e.length<=0)return"";var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;return function e(t){if(t.length<=0)return[];var r=t.match(n);if(!r)return t.split("");var i=t.slice(0,r.index),o=r[0],a=t.slice(r.index).replace(n,"");return i.split("").concat([o],e(a))}(e).slice(0,t).join("")}var i=100,o=1;function a(e,t){for(var r=(t=t||2)-(e=(e||"").toString()).length,n=0;n<r;n++)e="0"+e;return e}var s={price:function(e,t){e=parseFloat(e,10)||0,(t=t||o)===i&&(e/=100);var r=(e=e.toString()).indexOf(".");if(r>=0){for(var n=(e=e.slice(0,r+3)).length-1;"0"===e.charAt(n)&&n>0;)n--;"."===(e=e.slice(0,n+1)).charAt(e.length-1)&&(e=e.slice(0,e.length-1))}return e},sales:function(e){if((e=parseInt(e,10)||0)<9999)return e.toString();if(e<=99999){var t=parseInt(e/1e3,10);return parseInt(t/10,10)+"."+t%10+"万"}return parseInt(e/1e4,10).toString()+"万"},discount:function(e){return"0.0"===(e=(e=parseFloat(e,10)||0).toFixed(1))&&(e="0.1"),e},timeParams:function(e){e=parseInt(e,10)||0;var t=new Date(1e3*e);return{year:t.getFullYear().toString(),month:(t.getMonth()+1).toString(),date:t.getDate().toString(),hours:t.getHours().toString(),minutes:t.getMinutes().toString(),seconds:t.getSeconds().toString(),day:t.getDay().toString()}},formatTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-dd hh:mm:ss";e=parseInt(e,10);var r=parseInt(Date.now()/1e3,10);e||(e=r),e.toString().length-r.toString().length==3&&(e=parseInt(e/1e3,10));var n=this.timeParams(e),i={"Y+":n.year,"M+":n.month,"d+":n.date,"h+":n.hours,"m+":n.minutes,"s+":n.seconds};for(var o in i)if(new RegExp("("+o+")").test(t)){var a=""+i[o];RegExp.$1&&("Y+"===o?a=a.substr(a.length-RegExp.$1.length):RegExp.$1.length>1&&1===a.length&&(a="0"+a),t=t.replace(RegExp.$1,a))}return t},time:function(e,t){e||(e=parseInt(Date.now()/1e3,10)),t=t||"YYYY-M-d h:m";var r=this.timeParams(e);return"YYYY-MM-dd"===t?[r.year,a(r.month),a(r.date)].join("-"):"YYYY.M.d"===t?[r.year,r.month,r.date].join("."):"YYYY.MM.dd"===t?[r.year,a(r.month),a(r.date)].join("."):"hh:mm"===t?[a(r.hours),a(r.minutes)].join(":"):"hh"===t?a(r.hours):"MM-dd hh:mm"===t?[[a(r.month),a(r.date)].join("-"),[a(r.hours),a(r.minutes)].join(":")].join(" "):"M.d hh:mm"===t?[[r.month,r.date].join("."),[a(r.hours),a(r.minutes)].join(":")].join(" "):"M月d日"===t?r.month+"月"+r.date+"日":"M月d日 hh:mm"===t?[a(r.month)+"月"+a(r.date)+"日",[a(r.hours),a(r.minutes)].join(":")].join(" "):"Y年M月d日 hh:mm"===t?[r.year+"年"+a(r.month)+"月"+a(r.date)+"日",[a(r.hours),a(r.minutes)].join(":")].join(" "):"YYYY-MM-dd hh:mm"===t?[[r.year,a(r.month),a(r.date)].join("-"),[a(r.hours),a(r.minutes)].join(":")].join(" "):"YYYY-MM-dd hh:mm:ss"===t?[[r.year,a(r.month),a(r.date)].join("-"),[a(r.hours),a(r.minutes),a(r.seconds)].join(":")].join(" "):"YYYY-M-d"===t?[r.year,a(r.month),a(r.date)].join("-"):"hh:mm:ss"===t?[a(r.hours),a(r.minutes),a(r.seconds)].join(":"):"YYYY/M/d"===t?[r.year,a(r.month),a(r.date)].join("/"):"MM.dd"===t?[a(r.month),a(r.date)].join("."):"Y年M月d日"===t?[r.year+"年"+r.month+"月"+r.date+"日"].join(""):"MM月dd日"===t?a(r.month)+"月"+a(r.date)+"日":"YYYY年MM月dd日"===t?r.year+"年"+a(r.month)+"月"+a(r.date)+"日":"MM月dd日hh:mm:ss"===t?a(r.month)+"月"+a(r.date)+"日"+[a(r.hours),a(r.minutes),a(r.seconds)].join(":"):[[r.year,r.month,r.date].join("-"),[r.hours,a(r.minutes)].join(":")].join(" ")},timeSpan:function(e,t){var r=Math.max(parseInt(t,10)-parseInt(e,10),0);return r>=86400?Math.floor(r/86400)+"天":r>=3600?Math.floor(r/3600)+"小时":r>=60?Math.floor(r/60)+"分钟":r+"秒"},goodsNameWithPrice:function(e,t,r){return r?e:t+"元 "+e},toCamel:function(e,t,r){e=e||{},t=t||Object.keys(e);var n="function"==typeof r;return(t||[]).forEach((function(t){if(e.hasOwnProperty(t)){var i=e[t],o=t.replace(/\_./g,(function(e){return e.replace(/\_/g,"").toUpperCase()}));o!==t&&(e[o]=n?r(i):i,delete e[t])}})),e},roundToFixed:function(e,t){return this.round(e,t).toFixed(t)},stringWithEmoji:n,round:function(e,t){return void 0===t||0==+t?Math.round(e):(e=+e,t=+t,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]-t:-t))))},leftPadZero:a}},37394:function(e,t,r){"use strict";r.d(t,{a8:function(){return o},xv:function(){return a},ue:function(){return s},Fx:function(){return c},yB:function(){return u},rC:function(){return l},U7:function(){return p},fh:function(){return f},E7:function(){return d},CF:function(){return h},Hj:function(){return m},U6:function(){return g},Xy:function(){return y},jc:function(){return v},$f:function(){return b},sW:function(){return _},gr:function(){return k},ZI:function(){return w},C2:function(){return S},ni:function(){return O},cf:function(){return I},Ry:function(){return A},tt:function(){return T},SZ:function(){return C},UK:function(){return E},DH:function(){return P},p8:function(){return R},_s:function(){return x},G$:function(){return D},$m:function(){return N},ET:function(){return L},Lk:function(){return M},vJ:function(){return B},j3:function(){return F},op:function(){return G},pq:function(){return j},a2:function(){return U},AF:function(){return W}});var n=r(47963),i=r(57911),o=function(e,t){return n.Z.post(i.Z.queryUserProcess,e,t)},a=function(e,t){return n.Z.post(i.Z.queryFairyShop,e,t)},s=function(e,t){return n.Z.post(i.Z.recycleFairy,e,t)},c=function(e,t){return n.Z.post(i.Z.upgradeFairy,e,t)},u=function(e,t){return n.Z.post(i.Z.outWorkplace,e,t)},l=function(e,t){return n.Z.post(i.Z.queryAccelerateList,e,t)},p=function(e,t){return n.Z.post(i.Z.assist,e,t)},f=function(e,t){return n.Z.post(i.Z.intoWorkplace,e,t)},d=function(e,t){return n.Z.post(i.Z.heartbeatTime,e,t)},h=function(e,t){return n.Z.post(i.Z.fairyManual,e,t)},m=function(e,t){return n.Z.post(i.Z.fairyEarnCoins,e,t)},g=function(e,t){return n.Z.post(i.Z.changeSkin,e,t)},y=function(e,t){return n.Z.post(i.Z.buyFairy,e,t)},v=function(e,t){return n.Z.post(i.Z.newUser,e,t)},b=function(e,t){return n.Z.post(i.Z.withdrawMoney,e,t)},_=function(e,t){return n.Z.post(i.Z.dailyPresent,e,t)},k=function(e,t){return n.Z.post(i.Z.queryFriendList,e,t)},w=function(e,t){return n.Z.post(i.Z.buySkin,e,t)},S=function(e,t){return n.Z.post(i.Z.callbackFairy,e,t)},O=function(e,t){return n.Z.post(i.Z.driveAwayFairy,e,t)},I=function(e,t){return n.Z.post(i.Z.occupyFriendsWorkplace,e,t)},A=function(e,t){return n.Z.post(i.Z.queryFriendProcess,e,t)},T=function(e,t){return n.Z.post(i.Z.querySign,e,t)},C=function(e,t){return n.Z.post(i.Z.achieveSign,e,t)},E=function(e,t){return n.Z.post(i.Z.giftBoxQuery,e,t)},P=function(e,t){return n.Z.post(i.Z.giftBoxDraw,e,t)},R=function(e,t){return n.Z.post(i.Z.queryExchangeAwardList,e,t)},x=function(e,t){return n.Z.post(i.Z.queryTyrionAdList,e,t)},D=function(e,t){return n.Z.post(i.Z.queryComposeTask,e,t)},N=function(e,t){return n.Z.post(i.Z.queryNpcMallRisk,e,t)},L=function(e,t){return n.Z.post(i.Z.deleteFriend,e,t)},M=function(e,t){return n.Z.post(i.Z.gainRecallFriendReward,e,t)},B=function(e,t){return n.Z.post(i.Z.friendBackToGame,e,t)},F=function(e,t){return n.Z.post(i.Z.queryMatureInviteNewList,e,t)},G=function(e,t){return n.Z.post(i.Z.openTriggerRedPacket,e,t)},j=function(e,t){return n.Z.post(i.Z.useGameTool,e,t)},U=function(e,t){return n.Z.post(i.Z.queryUserType,e,t)},W=function(e,t){return n.Z.post(i.Z.withdrawDisplay,e,t)}},24362:function(e,t,r){"use strict";r.d(t,{Dx:function(){return o},as:function(){return a},gY:function(){return s},cD:function(){return c},oh:function(){return u},H5:function(){return l},Z$:function(){return p},_7:function(){return f},DK:function(){return d},Lo:function(){return h},lw:function(){return m}});var n=r(47963),i=r(4546),o=function(e,t){return n.Z.post(i.Z.getTaskList,e,t)},a=function(e,t){return n.Z.post(i.Z.getYearTaskList,e,t)},s=function(e,t){return n.Z.post(i.Z.setTaskAchieve,e,t)},c=function(e,t){return n.Z.post(i.Z.getTaskAward,e,t)},u=function(e,t){return n.Z.post(i.Z.getTaskInfo,e,t)},l=function(e,t){return n.Z.post(i.Z.querySearchGuide,e,t)},p=function(e,t){return n.Z.post(i.Z.queryThreeMealsSignTask,e,t)},f=function(e,t){return n.Z.post(i.Z.achieveThreeMealsSignTask,e,t)},d=function(e,t){return n.Z.post(i.Z.addMallInfo,e,t)},h=function(e){return n.Z.post(i.Z.scheduleTask,e)},m=function(e,t){return n.Z.post(i.Z.queryFriendListAdvMission,e,t)}},6367:function(e,t,r){"use strict";r.d(t,{W:function(){return i}});var n=r(11267);function i(e,t,r){if(e.result)return e.result;var i={message:"".concat(t.api," should have result"),params:r,result:e};throw(0,n.sendNormalLog)(i),new Error(i.message)}},46473:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return rb}});var n=r(54612),i=r.n(n),o=r(11809),a=r.n(o),s=r(66393),c=r.n(s),u=r(49304),l=r.n(u),p=r(97703),f=r.n(p),d=r(80819),h=r.n(d),m=r(46461),g=r.n(m),y=r(71831),v=r.n(y),b=r(16525),_=r.n(b),k=r(85114),w=r.n(k),S=r(82482),O=r.n(S),I=r(6899),A=r.n(I),T=r(90529),C=r.n(T),E=r(71988),P=r.n(E),R=(r(52745),r(63791)),x=r(79430),D=r.n(x),N=r(48165),L=r(36721),M=r(50318),B=r(25031),F=r(48142);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U,W,Z,H,K,z=function(){var e=a()(i().mark((function e(t){var r,n,o,a,s,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.$$commonData,n=t.appContext,o=r.platform,a=r.query,s=r.req,c={},"1"!==a._pdd_fs||!o.isNativePlatform||n.initted&&!n.needClientReCalc){e.next=21;break}return e.prev=5,e.next=8,(0,F.invokeBridgeCallNativeFun)("JSUIControl","supportCustomNavigationBar",null,"4.36.1","4.34.0");case 8:if(u=e.sent,c.immerse=Boolean(null==u?void 0:u.enable),!c.immerse){e.next=16;break}return e.next=13,(0,F.invokeBridgeCallNativeFun)("JSUIControl","getNavigationHeight",null,"4.36.1","4.34.0");case 13:l=e.sent,c.nh=Number(l.navigation_height)||0,c.sh=Number(l.statusbar_height)||0;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),t.sendError(e.t0);case 21:"1"===a["is-low-end"]&&(c.isLowDevice=!0),e.next=26;break;case 24:(p=s.headers["p-uno-context"]&&JSON.parse(s.headers["p-uno-context"]))?c={immerse:!!p.immerse,nh:p.nh||0,sh:p.sh||0,isLowDevice:1===p["is-low-end"]||"1"===a["is-low-end"]||t.$$commonData.platform.platform===L.PLATFORM.PddAndroid&&(0,L.compareVersion)(t.$$commonData.platform.systemVersion,"8.1.2")<=0}:"1"===a._pdd_fs&&o.isNativePlatform&&o.statisfy("4.36.1","4.34.0","greaterThanEqual")&&(c={immerse:!0,nh:88,sh:44,needClientReCalc:!0});case 26:t.appContext=j(j(j({},n),c),{},{initted:!0});case 27:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t){return e.apply(this,arguments)}}(),q=r(27484),Y=r.n(q),V={DEFAULT:0,LOGIN_REQUEST_FAILED:1,NO_AUTH_CODE:2,NOT_EMBEDDED_BROWSER:3},X=(U=function(){function e(t){var r,n=this;g()(this,e),this.pageInfo={},h()(this,"userId",W,this),this.accessToken="",this.errorRedirectUrl="http://mobile.yangkeduo.com",this.shareURL="",this.shareInfo={},this.isLogin=!1,this.trackingBase={},this.serverTime=(new Date).getTime(),this.webpEnable=!1,h()(this,"appContext",Z,this),this.isTest=void 0,this.axios=void 0,this.listId=void 0,this.isInStaging=void 0,this.getRoot=function(){return n},this.isomorphicRequest=function(e,t){return e(t,{axios:n.axios})},this.sendError=function(){var e;(e=n.$$commonData).sendError.apply(e,arguments)},this.sendEvent=function(e,t){n.$$commonData.sendEvent(e,t)},Object.assign(this,t),this.axios=(0,N.Z)({req:this.req,res:this.res,accessToken:this.$$commonData.tryFetchAccessToken().accessToken});var i=(this.$$commonData.pathname||"/promote.html").split("/"),o=null===(r=i[i.length-1])||void 0===r?void 0:r.split(".")[0];this.listId=this.listId||this.isBack&&this.queries.list_id||[o,(0,M.nanoid)(6)].join("_"),B.default.replaceQuery({list_id:this.listId}),this.queries.preview&&(this.serverTime=Y()(this.queries.preview).valueOf()),this.isTest="m.hutaojie.com"===this.$$commonData.hostname,this.webpEnable=!!this.webpEnable||"1"===this.$$commonData.cookies.webp&&this.$$commonData.platform.platform!==L.SYSTEM.IOS,this.isInStaging=window.__NEXT_DATA__.props.isInStaging,Object.defineProperty(this,"bigPipeStore",{configurable:!0,writable:!0,enumerable:!1}),window.__STORE__=this}var t,r,n;return w()(e,[{key:"login",value:(n=a()(i().mark((function e(){var t,r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$$commonData.tryFetchAccessToken();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:t=e.t0,r=t.accessToken,n=t.uid,this.accessToken=r||"",this.userId=n||0,this.isLogin=!!this.accessToken,e.next=20;break;case 14:e.prev=14,e.t1=e.catch(0),Object.values(V).includes(e.t1)||this.$$commonData.sendError(e.t1),this.accessToken="",this.userId=0,this.isLogin=!1;case 20:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(){return n.apply(this,arguments)})},{key:"getInitialStore",value:(r=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([this.login(),this.calcAppContext()]));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"calcAppContext",value:(t=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"extend",value:function(e){Object.assign(this,e)}},{key:"$$commonData",get:function(){return this.getContext()}},{key:"req",get:function(){return this.$$commonData.req}},{key:"res",get:function(){return this.$$commonData.res}},{key:"queries",get:function(){return this.$$commonData.queries}},{key:"isBack",get:function(){return"1"===this.queries.is_back}},{key:"isTaiShan",get:function(){return!1}}]),e}(),W=P()(U.prototype,"userId",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=P()(U.prototype,"appContext",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{immerse:!1,nh:0,sh:0,initted:!1,isLowDevice:!1}}}),P()(U.prototype,"login",[function(e,t,r){var n=r.value;return r.value=function(){return n.apply(this,arguments)},r}],Object.getOwnPropertyDescriptor(U.prototype,"login"),U.prototype),P()(U.prototype,"extend",[R.action],Object.getOwnPropertyDescriptor(U.prototype,"extend"),U.prototype),U),Q=r(90401),J=r(26671),$=r(41013),ee=r(37394);function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var re,ne,ie,oe,ae,se,ce,ue,le,pe=(H=function(e){O()(n,e);var t,r=te(n);function n(){var e;g()(this,n);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=r.call.apply(r,[this].concat(i)),h()(e,"assist_list",K,v()(e)),e}return w()(n,[{key:"request",value:(t=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ee.rC)();case 2:t=e.sent,(0,R.runInAction)((function(){r.assist_list=t.assist_list||[]}));case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"list",get:function(){var e=this.assist_list.slice(0,6),t=new Array(6-e.length).fill({canInvite:!0});return[].concat(c()(e),c()(t))}}]),n}(Q.Z),K=P()(H.prototype,"assist_list",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P()(H.prototype,"list",[R.computed],Object.getOwnPropertyDescriptor(H.prototype,"list"),H.prototype),P()(H.prototype,"request",[J.Y,$.d],Object.getOwnPropertyDescriptor(H.prototype,"request"),H.prototype),H),fe=r(78313),de=r(69435),he=r(21403),me=r(66723),ge=r(58699),ye=r(93358);function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var be,_e,ke,we,Se,Oe=(re=(0,J.Y)((function(){(0,de.info)(he.Fe)})),ne=(0,J.Y)((function(){(0,de.info)(he.Fe)})),ie=R.action.bound,oe=(0,fe.P)(1e3),ae=function(e){O()(l,e);var t,r,n,o,s,u=ve(l);function l(){var e;g()(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=u.call.apply(u,[this].concat(r)),h()(e,"_fairyList",se,v()(e)),h()(e,"skinList",ce,v()(e)),h()(e,"guideStep",ue,v()(e)),h()(e,"selectTab",le,v()(e)),e.handleSkinOrder=function(t){if(4===t.skin_type)return e.store.toMainOrderPageWithSkinPreview();var r=e.rootStore.leoForMission.skin_order||{},n=r.url,i=r.mission_id;i&&n&&me.ZP.forward((0,M.appendQuery)({module_id:e.rootStore.leoForMission.module_id,mission_id:i,award_tips:he.DP[t.skin_type]},n))},e}return w()(l,[{key:"showDialog",value:(s=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.queryAlbumInfo(),this.rootStore.spriteShopDialogStore.queryShopList()]);case 2:e.sent.every((function(e){return e}))&&this.showAction();case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"queryAlbumInfo",value:(o=a()(i().mark((function e(){var t,r,n,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ee.CF)();case 2:if(t=e.sent,r=t.fairy_list,n=t.skin_list,!((null==r?void 0:r.length)>0&&(null==n?void 0:n.length))){e.next=8;break}return(0,R.runInAction)((function(){o._fairyList=r.sort((function(e,t){return e.fairy_rank-t.fairy_rank})),o.skinList=n.filter((function(e){return e.skin_type>=3})).sort((function(e,t){return e.skin_type-t.skin_type}))})),e.abrupt("return",!0);case 8:throw new Error("fairyManualService error, fairy_list: ".concat(JSON.stringify(r),", skin_list: ").concat(JSON.stringify(n)));case 9:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"changeSkin",value:(n=a()(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ee.U6)({skin_type:t});case 2:if(r=e.sent,n=r.success){e.next=6;break}throw new Error("changeSkinService error: ".concat(JSON.stringify(n)));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"handleChangeSkin",value:(r=a()(i().mark((function e(t){var r,n,o=this,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(a.length>1&&void 0!==a[1])||a[1],e.next=3,this.changeSkin(t);case 3:return n=e.sent,e.next=6,this.queryAlbumInfo();case 6:return n&&(0,R.runInAction)((function(){o.rootStore.mySkinType=t,r&&(0,de.info)("换肤成功")})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"hideAction",value:function(){_()(C()(l.prototype),"hideAction",this).call(this),this.guideStep=-1}},{key:"showGuideHandForNewSkin",value:function(){this.guideStep=1,this.selectTab=he.lI.SKIN}},{key:"clearGuide",value:function(){this.guideStep=-1}},{key:"setSelectTab",value:function(e){this.selectTab=e}},{key:"handleSelectSkin",value:(t=a()(i().mark((function e(t){var r,n,o=this,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(a.length>1&&void 0!==a[1])||a[1],t.skin_type!==this.store.skinType){e.next=3;break}return e.abrupt("return");case 3:if(this.store.gameStore.isFallFinish&&!this.store.gameStore.isPetInOperation&&!this.store.gameStore.isRestarting){e.next=5;break}return e.abrupt("return");case 5:return this.store.gameStore.beginRestart(),(0,ge.iH)(ye.wJ.EL_4107694),this.store.spriteBookDialogStore.clearGuide(),this.store.topBarStore.stopAfterClickAni(),n=3===t.skin_type||3===this.store.skinType,e.next=12,this.store.spriteBookDialogStore.handleChangeSkin(t.skin_type,r);case 12:if(e.sent){e.next=15;break}return e.abrupt("return",this.store.gameStore.endRestart());case 15:return this.store.spriteBookDialogStore.hideAction(),this.store.gameStore.stopSceneWithClear(n),(0,R.runInAction)((function(){o.store.transitionCloudStore.showAction(),o.store.gameStore.restartMainScene(),o.store.setStartCloudAni(!0)})),this.store.sceneChangeStarStore.showAction(),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"fairyList",get:function(){var e=this.rootStore.spriteShopDialogStore.fairyList;return e.length?this._fairyList.map((function(t,r){return Object.assign({},r<e.length?e[r]:{},t)})):[]}},{key:"sortedSkinList",get:function(){return[].concat(c()(this.skinList.filter((function(e){return!e.owned}))),c()(this.skinList.filter((function(e){return e.owned}))))}},{key:"isTabSprite",get:function(){return this.selectTab===he.lI.SPRITE}},{key:"isTabSkin",get:function(){return this.selectTab===he.lI.SKIN}},{key:"isNewSkinTabStep",get:function(){return 1===this.guideStep}}]),l}(Q.Z),se=P()(ae.prototype,"_fairyList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=P()(ae.prototype,"skinList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=P()(ae.prototype,"guideStep",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),le=P()(ae.prototype,"selectTab",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return he.lI.SPRITE}}),P()(ae.prototype,"fairyList",[R.computed],Object.getOwnPropertyDescriptor(ae.prototype,"fairyList"),ae.prototype),P()(ae.prototype,"sortedSkinList",[R.computed],Object.getOwnPropertyDescriptor(ae.prototype,"sortedSkinList"),ae.prototype),P()(ae.prototype,"showDialog",[$.d],Object.getOwnPropertyDescriptor(ae.prototype,"showDialog"),ae.prototype),P()(ae.prototype,"queryAlbumInfo",[re],Object.getOwnPropertyDescriptor(ae.prototype,"queryAlbumInfo"),ae.prototype),P()(ae.prototype,"changeSkin",[ne],Object.getOwnPropertyDescriptor(ae.prototype,"changeSkin"),ae.prototype),P()(ae.prototype,"handleChangeSkin",[$.d],Object.getOwnPropertyDescriptor(ae.prototype,"handleChangeSkin"),ae.prototype),P()(ae.prototype,"hideAction",[ie],Object.getOwnPropertyDescriptor(ae.prototype,"hideAction"),ae.prototype),P()(ae.prototype,"showGuideHandForNewSkin",[R.action],Object.getOwnPropertyDescriptor(ae.prototype,"showGuideHandForNewSkin"),ae.prototype),P()(ae.prototype,"clearGuide",[R.action],Object.getOwnPropertyDescriptor(ae.prototype,"clearGuide"),ae.prototype),P()(ae.prototype,"setSelectTab",[R.action],Object.getOwnPropertyDescriptor(ae.prototype,"setSelectTab"),ae.prototype),P()(ae.prototype,"isTabSprite",[R.computed],Object.getOwnPropertyDescriptor(ae.prototype,"isTabSprite"),ae.prototype),P()(ae.prototype,"isTabSkin",[R.computed],Object.getOwnPropertyDescriptor(ae.prototype,"isTabSkin"),ae.prototype),P()(ae.prototype,"isNewSkinTabStep",[R.computed],Object.getOwnPropertyDescriptor(ae.prototype,"isNewSkinTabStep"),ae.prototype),P()(ae.prototype,"handleSelectSkin",[oe,$.d],Object.getOwnPropertyDescriptor(ae.prototype,"handleSelectSkin"),ae.prototype),ae),Ie=r(78231);function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Te,Ce,Ee=(be=(0,fe.P)(2e3),_e=(0,J.Y)((function(){(0,de.info)(he.Fe)})),ke=(0,J.Y)((function(e){(0,de.info)(he.BB[+(null==e?void 0:e.errorCode)]||he.Fe)})),we=function(e){O()(c,e);var t,r,n,o,s=Ae(c);function c(){var e;g()(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=s.call.apply(s,[this].concat(r)),h()(e,"fairyList",Se,v()(e)),e}return w()(c,[{key:"showDialog",value:(o=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryShopList();case 2:if(!e.sent){e.next=7;break}return e.next=6,(0,Ie._v)(0);case 6:this.showAction();case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"queryShopList",value:(n=a()(i().mark((function e(){var t,r,n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isomorphicRequest(ee.xv);case 2:if(t=e.sent,!((null==(r=t.fairy_info_list)?void 0:r.length)>0)){e.next=7;break}return(0,R.runInAction)((function(){n.fairyList=r})),e.abrupt("return",!0);case 7:throw new Error("queryFairyShopService error ".concat(JSON.stringify(r)));case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"buyFairy",value:(r=a()(i().mark((function e(t,r){var n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isomorphicRequest(ee.Xy,{fairy_rank:t,coin_number:r,purchase_channel:2});case 2:if(n=e.sent,(null==(o=n.fairy)?void 0:o.fairy_id)&&(null==o?void 0:o.fairy_rank)){e.next=6;break}throw new Error("buyFairy error, fairy info: ".concat(JSON.stringify(o)));case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"queryMain",value:function(e,t,r){var n={handleObj:e,isDirectUpdate:t,needSetCoinNum:r};this.rootStore.queryUserProcess(n)}},{key:"handleBuyFairy",value:(t=a()(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.buyFairy(t,r);case 2:if(!(null==(n=e.sent)?void 0:n.fairy_id)){e.next=12;break}return(0,de.info)("购买成功~"),this.rootStore.gameStore.resetOperationTime(),this.rootStore.gameStore.buyPet(n),e.next=9,Promise.all([this.queryShopList(),this.queryMain({type:he.sf.BUY,fairyList:[n.unique_id]},!1,!0)]);case 9:return e.abrupt("return",!0);case 12:return e.next=14,Promise.all([this.queryMain(void 0,!0,!1),this.rootStore.queryFairyEarnCoins("buy_fairy_failed",!1),this.queryShopList()]);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),c}(Q.Z),Se=P()(we.prototype,"fairyList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P()(we.prototype,"showDialog",[be],Object.getOwnPropertyDescriptor(we.prototype,"showDialog"),we.prototype),P()(we.prototype,"queryShopList",[$.d,_e],Object.getOwnPropertyDescriptor(we.prototype,"queryShopList"),we.prototype),P()(we.prototype,"buyFairy",[$.d,ke],Object.getOwnPropertyDescriptor(we.prototype,"buyFairy"),we.prototype),P()(we.prototype,"handleBuyFairy",[$.d],Object.getOwnPropertyDescriptor(we.prototype,"handleBuyFairy"),we.prototype),we),Pe=r(91963);function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var xe=(Te=function(e){O()(r,e);var t=Re(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),h()(e,"pet",Ce,v()(e)),e}return w()(r,[{key:"setRecyclePet",value:function(e){this.pet=e}},{key:"unlockPet",value:function(){var e;(null===(e=this.pet)||void 0===e?void 0:e.instance)&&this.pet.instance.roamOutOperation()}},{key:"resumePet",value:function(){var e;(null===(e=this.pet)||void 0===e?void 0:e.instance)&&(this.unlockPet(),this.pet.instance.restartMotion(),this.pet.instance.enableDrag())}},{key:"recycleCoinNum",get:function(){var e;return(0,Pe.n)((null===(e=this.pet)||void 0===e?void 0:e.recycle_price)||0).valueStr}},{key:"roamPet",get:function(){var e,t;return null===(e=this.pet)||void 0===e||null===(t=e.instance)||void 0===t?void 0:t.roamPet}}]),r}(Q.Z),Ce=P()(Te.prototype,"pet",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(Te.prototype,"recycleCoinNum",[R.computed],Object.getOwnPropertyDescriptor(Te.prototype,"recycleCoinNum"),Te.prototype),P()(Te.prototype,"setRecyclePet",[R.action],Object.getOwnPropertyDescriptor(Te.prototype,"setRecyclePet"),Te.prototype),Te),De=r(28218),Ne=r(44703);function Le(e,t){var r=function(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=e.call.apply(e,[this,t].concat(n));return o}};return function(e,t,n){return(0,Ne.nm)(r,["get"])(e,t,n)}}var Me=r(96948),Be=r.n(Me),Fe=r(8307),Ge=r(27982),je=r(86564),Ue=r(19878),We=r.n(Ue),Ze=r(79937),He=r(54483),Ke=r.n(He),ze=r(69647),qe=r(68123),Ye=r.n(qe);function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Xe=r(3219),Qe=r(79861),Je=r.n(Qe),$e=(0,Fe.inject)("store")((0,Fe.observer)((function(e){var t=e.store,r=t.friendRankDialogStore.selfInfo;if(!r)return null;var n=t.gameStore.grabFriendPetIds.length>0,i=t.isMainScene&&n;if(!i)return null;var o=function(){t.isMainScene&&((0,ge.iH)(ye.Em.RECALL_ALL_BTN),t.recallAllDialogStore.showAction())},a=t.levelMap.IMGS.BOTTOM_BAR_AVATAR_RECALL,s=Be()(ze.Z,{trackingInfo:{page_el_sn:ye.Em.FRIEND_ITEM}},void 0,Be()(je.Z,{className:Je().avatar,optimize:!1,bgUrl:r.avatar,onClick:i?o:function(){t.gameStore.showCommonGuideToast()||t.gameStore.isInSceneTransition||((0,ge.iH)(ye.Em.FRIEND_ITEM),t.gameStore.visitMain())}},void 0,i&&Be()(ze.Z,{trackingInfo:{page_el_sn:ye.Em.RECALL_ALL_BTN}},void 0,Be()(je.Z,{className:Je().recallAll,bgUrl:a,onClick:o})),Be()("div",{className:Je().nickName},void 0,r.nick_name)));return D().createElement(D().Fragment,null,s,Be()("div",{className:Je().separator}))}))),et=r(94255),tt=r.n(et),rt=r(56261),nt=r(57557),it=r.n(nt);function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var st,ct=function(e){O()(r,e);var t=at(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={doImpr:!1},e}return w()(r,[{key:"getChildren",value:function(){return D().cloneElement(this.props.children,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},it()(this.props,["trackingInfo","children"])))}},{key:"componentDidMount",value:function(){this.setState({doImpr:!0})}},{key:"render",value:function(){var e=this.props.trackingInfo,t=this.state.doImpr;return Be()(rt.Z,{trackingInfo:e,doImpr:t},void 0,this.getChildren())}}]),r}(D().Component),ut=r(28027),lt=function(e){var t=e.children,r=tt()(e,["children"]);return D().createElement(ut.Z,r,Be()(ct,{},void 0,t))},pt=r(17145),ft=r(16044),dt=r(50359),ht=r(57911),mt=r(47963);function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.StandardCpt=1]="StandardCpt",e[e.NonStandardCpt=2]="NonStandardCpt",e[e.Tf=3]="Tf"}(st||(st={}));var vt,bt,_t,kt,wt,St,Ot=!1,It=(0,Fe.inject)("store")((0,Fe.observer)((function(e){var t=e.store,r=t.shopTaskDialogStore.mallList,n=t.shopTaskDialogStore,o=n.orderTask,s=n.canShowMallList;if(t.isNpcMallRisk)return null;var c=function(){var e=a()(i().mark((function e(r,n,o){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ot){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,Ot=!0,e.next=6,u(r,n,o);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t.sendError(e.t0);case 11:Ot=!1;case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,r,n){return e.apply(this,arguments)}}(),u=function(){var e=a()(i().mark((function e(r,n,o){var s,c,u,p,d,h,m,g,y,v,b,_,k,w,S,O,I,A,T,C,E,P,R;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=l(r,n),u=function(e){(0,ge.iH)(null,yt(yt({},c),{},{link:e}))},r.adv_mission_type!==st.Tf){e.next=6;break}return d=(null===(p=r.mission_vo)||void 0===p?void 0:p.mission_url)||"",u(d),e.abrupt("return",me.ZP.forward(d,{page_el_sn:c.page_el_sn}));case 6:return t.duoduoSpriteLogger({stage:"on_click_npc_mall_entry_item",mall_index:n}),h=t.shopTaskDialogStore,m=t.leoForMission,h.setRefer(n),g=null===(s=r.cpt)||void 0===s?void 0:s.mall_id,e.next=12,Promise.all([h.requestDetail(g),a()(i().mark((function e(){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o="ddsp_friend_mall_cpt_".concat(n,"_clicked"),!(0,dt.aF)(o)){e.next=5;break}return e.abrupt("return",!1);case 5:return(0,dt.o_)(o,"1"),e.next=8,mt.Z.post(ht.Z.queryMallFavStatus,{mall_id:g});case 8:return a=e.sent,e.abrupt("return",!(null==a||null===(r=a.result)||void 0===r?void 0:r.is_fav));case 12:return e.prev=12,e.t0=e.catch(0),t.sendError(e.t0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()]);case 12:if(y=e.sent,v=f()(y,2),b=v[0],_=v[1],!b){e.next=35;break}if(!_){e.next=21;break}return e.next=20,h.toShop(u);case 20:return e.abrupt("return");case 21:if(!(k=(h.mallListLiveInfo||[]).find((function(e){return e.mall_id===g})))){e.next=31;break}return e.next=25,h.setMallCache();case 25:return S=k.room_id,O=k.mkt_domain,I=k.mkt_tr_sc,A=k.mkt_tr_token,T=k.mtk_type,C=k.mall_id,E=(0,pt.O)({room_id:S,mall_id:C,module_id:m.module_id}),P=null===(w=h.mallList[h.mall_index])||void 0===w?void 0:w.isNonStandard,R=(0,M.appendQuery)(P?{cpt_type:ft.Zg.Mall}:{_oc_mkt_tr_sc:I,_oc_mkt_tr_token:A,_oc_mkt_domain:O,_oc_mkt_type:T},E),u(R),e.abrupt("return",me.ZP.forward(R,{page_el_sn:c.page_el_sn}));case 31:return e.next=33,h.toShop(u);case 33:e.next=36;break;case 35:u("");case 36:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),l=function(e,r){var n,i;return t.abTestStore.useNpcFriendListTf?{page_el_sn:e.pageElSn,index:r,ad:JSON.stringify(null===(n=e.cpt)||void 0===n?void 0:n.ad)}:{page_el_sn:e.isNonStandard?e.pageElSn:ye.zk.MALL_ITEM,index:r,ad:JSON.stringify(null===(i=e.cpt)||void 0===i?void 0:i.ad)}};return t.abTestStore.useNpcFriendListTf?r.map((function(e,r){var n,i,a,u,p,f,d,h,m,g,y,v;if(!s)return Be()(je.Z,{className:Je().avatar,style:{opacity:"0"}},"holder_"+r);var b={mall_index:r,mkt_tr_sc:null===(n=e.cpt)||void 0===n?void 0:n.mkt_tr_sc,fields:{mall_id:null===(i=e.cpt)||void 0===i?void 0:i.mall_id,mall_name:null===(a=e.cpt)||void 0===a?void 0:a.mall_name}},_=!!o&&o.upperLimit-o.gainTimes,k=t.shopTaskDialogStore.isShowLive(null===(u=e.cpt)||void 0===u?void 0:u.mall_id),w=(null===(p=e.cpt)||void 0===p?void 0:p.mall_name)||(null===(f=e.mission_vo)||void 0===f?void 0:f.title)||"",S=(null===(d=e.cpt)||void 0===d?void 0:d.mall_logo)||(null===(h=e.mission_vo)||void 0===h||null===(m=h.config_data)||void 0===m?void 0:m.icon_url)||"",O=e.adv_mission_type===st.Tf&&(null===(g=e.mission_vo)||void 0===g?void 0:g.mission_status)!==ft.Q_.FINISH_UPPER;return Be()(lt,{trackingInfo:l(e,r),onEnter:function(){return t.duoduoSpriteLogger({stage:"on_enter_npc_mall_entry_item",mall_index:r})}},"mall_".concat((null===(y=e.cpt)||void 0===y?void 0:y.mall_id)||r),Be()(je.Z,{resizeWidth:100,className:Je().avatar,bgUrl:S,onClick:function(){return c(e,r,b)}},void 0,Be()("div",{className:Je().nickName},void 0,w),!!k&&Be()("div",{className:Je().liveTag},void 0,"直播中"),(_>0&&!!(null===(v=e.cpt)||void 0===v?void 0:v.mall_id)||O)&&Be()(je.Z,{className:Je().npcCoinIcon,bgUrl:Ze.ZP.COIN_MULTIPLE})))})):r.map((function(e,r){var n,i,a,u,p,f,d,h;if(!s)return Be()(je.Z,{className:Je().avatar,style:{opacity:"0"}},"holder_"+r);var m={mall_index:r,mkt_tr_sc:null===(n=e.cpt)||void 0===n?void 0:n.mkt_tr_sc,fields:{mall_id:null===(i=e.cpt)||void 0===i?void 0:i.mall_id,mall_name:null===(a=e.cpt)||void 0===a?void 0:a.mall_name}},g=!!o&&o.upperLimit-o.gainTimes,y=t.shopTaskDialogStore.isShowLive(null===(u=e.cpt)||void 0===u?void 0:u.mall_id);return Be()(lt,{trackingInfo:l(e,r),onEnter:function(){return t.duoduoSpriteLogger({stage:"on_enter_npc_mall_entry_item",mall_index:r})}},"mall_"+((null===(p=e.cpt)||void 0===p?void 0:p.mall_id)||r),Be()(je.Z,{resizeWidth:100,className:Je().avatar,bgUrl:null===(f=e.cpt)||void 0===f||null===(d=f.image_url_list)||void 0===d?void 0:d[0],onClick:function(){return c(e,r,m)}},void 0,Be()("div",{className:Je().nickName},void 0,null===(h=e.cpt)||void 0===h?void 0:h.mall_name),!!y&&Be()("div",{className:Je().liveTag},void 0,"直播中"),g>0&&Be()(je.Z,{className:Je().npcCoinIcon,bgUrl:Ze.ZP.COIN_MULTIPLE})))}))})));function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Tt,Ct,Et,Pt,Rt,xt,Dt,Nt,Lt=Be()($e,{}),Mt=Be()(It,{}),Bt=We()(Je())(vt=(0,Fe.inject)("store")(vt=function(e){var t=function(t){O()(n,t);var r=Ve(n);function n(){g()(this,n);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.call.apply(r,[this].concat(t))}return w()(n,[{key:"render",value:function(){return this.props.store.bigPipe,this.__bigPipeItem,D().createElement(e,this.props)}},{key:"__bigPipeItem",get:function(){var t;return((null===(t=this.props.store.bigPipeStore)||void 0===t?void 0:t.list)||[]).find((function(t){return e.key===t.key}))}}]),n}(x.Component);return Ye()(t,e),t}(vt=(0,Fe.observer)((St=wt=function(e){O()(o,e);var t,r,n=At(o);function o(){var e;g()(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).friendRankDialogStore=e.store.friendRankDialogStore,e.gameStore=e.store.gameStore,h()(e,"showMaxFriendLen",_t,v()(e)),e.onClickVisitFriend=function(t,r){e.gameStore.showCommonGuideToast()||e.gameStore.isInSceneTransition||((0,ge.iH)(ye.Em.FRIEND_ITEM,r),e.checkRecallFriendReward(t)||e.gameStore.visitFriend(t))},h()(e,"onClickInviteFriend",kt,v()(e)),e.checkRecallFriendReward=function(t){if(t.invite_box_status===he.vz.BOX_OPEN)return e.getRecallFriendReward(t),!0},e.showDeleteFriend=function(){(0,ge.iH)(ye.Em.DEL_FRIEND_BTN),e.store.friendDeleteDialogStore.showAction()},e.addFriend=function(){(0,ge.iH)(ye.Em.ADD_FRIEND_BTN),e.store.shareStore.showAddFriendShare()},e}return w()(o,[{key:"getRecallFriendReward",value:(r=a()(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.store.friendshipStore.gainRecallFriendReward(t);case 2:return r=e.sent,e.next=5,this.store.friendRankDialogStore.queryFriendListService();case 5:if(r){e.next=7;break}return e.abrupt("return");case 7:this.store.coinAwardDialogStore.showAction();case 8:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"renderRecallFriendBox",value:function(e){return e.invite_box_status?Be()(je.Z,{className:Je().coinBox,bgUrl:e.invite_box_status===he.vz.BOX_OPEN?Ze.ZP.COIN_BOX_UNLOCK:Ze.ZP.COIN_BOX_LOCK}):null}},{key:"renderFriendItem",value:function(e,t){var r=this,n={page_el_sn:ye.Em.FRIEND_ITEM,idx:t,friend_type:0};"number"==typeof e.invite_box_status&&(n.invite_box_status=e.invite_box_status);var i=this.store.levelMap.IMGS.BOTTOM_BAR_AVATAR_WORK,o=this.renderRecallFriendBox(e);switch(e.status){case he.Uu.NO_UNLOCK_SEAT:return n.friend_type=3,Be()(ze.Z,{trackingInfo:n},t,Be()(je.Z,{className:Je().avatar,bgUrl:e.avatar,optimize:!1,onClick:function(){return r.onClickVisitFriend(e,n)}},void 0,Be()("div",{className:Je().nickName},void 0,e.nick_name),o));case he.Uu.HAS_UNLOCK_SEAT:return n.friend_type=2,Be()(ze.Z,{trackingInfo:n},t,Be()(je.Z,{className:Je().avatar,optimize:!1,bgUrl:e.avatar,onClick:function(){return r.onClickVisitFriend(e,n)}},void 0,o||Be()(je.Z,{className:Je().grabIcon,bgUrl:Ze.ZP.BOTTOM_BAR_AVATAR_GRAB}),Be()("div",{className:Je().nickName},void 0,e.nick_name)));case he.Uu.HAS_DISPATCH_PET:return n.friend_type=1,Be()(ze.Z,{trackingInfo:n},t,Be()(je.Z,{className:Je().avatar,optimize:!1,bgUrl:e.avatar,onClick:function(){return r.onClickVisitFriend(e,n)}},void 0,Be()(je.Z,{className:Je().workIcon,bgUrl:i}),Be()("div",{className:Je().nickName},void 0,e.nick_name),o));case he.Uu.PLAYER_SELF:return null;case he.Uu.NO_PLAY_GAME:return n.friend_type=6,Be()(ze.Z,{trackingInfo:n},t,Be()(je.Z,{className:Je().avatar,optimize:!1,bgUrl:e.avatar,onClick:function(){return r.onClickInviteFriend(e,n)}},t,this.friendRankDialogStore.showInviteCoin&&Be()(je.Z,{className:Je().redPacketIcon,bgUrl:Ze.ZP.BOTTOM_BAR_AVATAR_RED}),Be()("div",{className:Je().nickName},void 0,e.nick_name)));case he.Uu.NO_IDLE_SEAT:return n.friend_type=5,Be()(ze.Z,{trackingInfo:n},t,Be()(je.Z,{className:Je().avatar,optimize:!1,bgUrl:e.avatar,onClick:function(){return r.onClickVisitFriend(e,n)}},void 0,o||Be()(je.Z,{className:Je().grabIcon,bgUrl:Ze.ZP.BOTTOM_BAR_AVATAR_GRAB}),Be()("div",{className:Je().noIdleSeatIcon},void 0,"工位已满"),Be()("div",{className:Je().nickName},void 0,e.nick_name)));default:return null}}},{key:"loadMoreFriendList",value:(t=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.showMaxFriendLen+=8;case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderFriendList",value:function(){var e=this,t=this.friendRankDialogStore.filterFriendList;return t.length?D().createElement(D().Fragment,null,t.slice(0,this.showMaxFriendLen).map((function(t,r){return e.renderFriendItem(t,r)})),Be()("div",{style:{width:"0.01rem",flexShrink:0}},void 0,Be()(Xe.r,{threshold:.01,rootMargin:"150px",isEnd:this.showMaxFriendLen>=t.length,onLoad:this.loadMoreFriendList.bind(this)}))):null}},{key:"render",value:function(){return this.friendRankDialogStore.isBottomListInit?Be()(ze.Z,{trackingInfo:{page_el_sn:ye.Em.pageElSn}},void 0,Be()("div",{id:o.key,className:Ke()(Je().listWrap,this.store.isSkin3&&Je().listWrap3),style:this.commonStyle.wrap},void 0,Lt,Be()("div",{className:"".concat(Je().friendListWrap)},void 0,Mt,this.renderFriendList()))):Be()(Ft,{store:this.store})}},{key:"commonStyle",get:function(){return this.store.skinUseCommon?{wrap:{background:"rgba(97,177,177,.75)"}}:{}}}]),o}(Ge.Z),wt.key="w-FriendListBar",bt=St,_t=P()(bt.prototype,"showMaxFriendLen",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),P()(bt.prototype,"commonStyle",[R.computed],Object.getOwnPropertyDescriptor(bt.prototype,"commonStyle"),bt.prototype),kt=P()(bt.prototype,"onClickInviteFriend",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=a()(i().mark((function t(r,n){var o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.friendRankDialogStore.showInviteCoin,(0,ge.iH)(ye.Em.FRIEND_ITEM,n),!o){t.next=5;break}return t.next=5,e.friendRankDialogStore.checkInviteFriendTaskInfo();case 5:a=e.friendRankDialogStore.showInviteCoin?"每邀请1个精灵新用户，可得<span>".concat(e.friendRankDialogStore.rewardCoinStr,"</span>金币"):"邀请好友一起玩吧",e.friendRankDialogStore.showShare(a);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}),P()(bt.prototype,"getRecallFriendReward",[$.d],Object.getOwnPropertyDescriptor(bt.prototype,"getRecallFriendReward"),bt.prototype),vt=bt))||vt)||vt)||vt)||vt;function Ft(e){var t=e.store;return Be()("div",{id:Bt.key,className:Ke()(Je().listWrap,t.isSkin3&&Je().listWrap3),style:t.skinUseCommon?{background:"rgba(97,177,177,.75)"}:{}})}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var jt,Ut=(Tt=(0,J.Y)((function(){(0,de.info)(he.Fe)})),Ct=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,Ne.GW)(Le,t)}((function(){return this.rootStore}),Bt.key),Et=(0,J.Y)((function(){(0,de.info)(he.Fe)})),Pt=function(e){O()(u,e);var t,r,n,o,s,c=Gt(u);function u(){var e;g()(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=c.call.apply(c,[this].concat(r)),h()(e,"friendList",Rt,v()(e)),h()(e,"selfRank",xt,v()(e)),h()(e,"supportGrabJob",Dt,v()(e)),h()(e,"isBottomListInit",Nt,v()(e)),e.recallFriendReward=void 0,e}return w()(u,[{key:"getFriendInfoByUid",value:function(e){return this.friendList.find((function(t){return t.uid===e}))}},{key:"queryFriendListService",value:(s=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isomorphicRequest(ee.gr);case 2:if((null==(t=e.sent)?void 0:t.friend_list)&&Array.isArray(t.friend_list)){e.next=5;break}throw new Error("query friend list error: ".concat(JSON.stringify(t)));case 5:return(0,R.runInAction)((function(){var e=t.friend_list,n=t.self_order,i=t.invite_reward;!(0,Ie.Xy)(r.friendList,e)&&(r.friendList=e),r.friendList=e,r.selfRank=n||1,r.recallFriendReward=i})),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"bigPipeQueryFriendList",value:(o=a()(i().mark((function e(t,r){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r&&this.rootStore.shopTaskDialogStore.requestFriendListAdvList(),this.queryFriendListService()]);case 2:(0,R.runInAction)((function(){n.isBottomListInit=!0}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"checkInviteFriendTaskInfo",value:(n=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.inviteShareStore.queryShareTaskInfo();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"achieveInviteFriendTask",value:(r=a()(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.inviteShareStore.achieveShareTask(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"queryAll",value:(t=a()(i().mark((function e(){var t,r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.queryFriendListService(),this.checkInviteFriendTaskInfo()]);case 2:return t=e.sent,r=f()(t,2),n=r[0],r[1],e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"showShare",value:function(e){this.hideAction(),this.inviteShareStore.showShare(e)}},{key:"inviteShareStore",get:function(){return this.rootStore.inviteShareStore}},{key:"isInviteFinished",get:function(){return this.inviteShareStore.isShareTaskFinished}},{key:"rewardCoinStr",get:function(){return this.inviteShareStore.rewardCoinStr}},{key:"showInviteCoin",get:function(){return this.inviteShareStore.showShareCoin}},{key:"filterFriendList",get:function(){var e=this;return this.friendList.filter((function(t,r){return r+1!==e.selfRank&&t.status!==he.Uu.GRAY}))}},{key:"selfInfo",get:function(){return this.friendList[this.selfRank-1]||{avatar:this.rootStore.myAvatar,nick_name:this.rootStore.user_name}}},{key:"isFriendListAvailable",get:function(){return!(!this.friendList||this.friendList.length<=1)&&(!(this.selfInfo.status===he.Uu.GRAY)&&this.filterFriendList.length>0)}},{key:"coinRankList",get:function(){return this.friendList.map((function(e){return e.total_coin_num||(e.total_coin_num="0"),e})).sort((function(e,t){return(0,Pe.ED)(e.total_coin_num,t.total_coin_num)?-1:1}))}},{key:"selfCoinRank",get:function(){var e=this,t=this.coinRankList.findIndex((function(t){return+t.uid==+e.store.userId}));return t<0?"":t+1}}]),u}(Q.Z),Rt=P()(Pt.prototype,"friendList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xt=P()(Pt.prototype,"selfRank",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Dt=P()(Pt.prototype,"supportGrabJob",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Nt=P()(Pt.prototype,"isBottomListInit",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P()(Pt.prototype,"isInviteFinished",[R.computed],Object.getOwnPropertyDescriptor(Pt.prototype,"isInviteFinished"),Pt.prototype),P()(Pt.prototype,"rewardCoinStr",[R.computed],Object.getOwnPropertyDescriptor(Pt.prototype,"rewardCoinStr"),Pt.prototype),P()(Pt.prototype,"showInviteCoin",[R.computed],Object.getOwnPropertyDescriptor(Pt.prototype,"showInviteCoin"),Pt.prototype),P()(Pt.prototype,"filterFriendList",[R.computed],Object.getOwnPropertyDescriptor(Pt.prototype,"filterFriendList"),Pt.prototype),P()(Pt.prototype,"selfInfo",[R.computed],Object.getOwnPropertyDescriptor(Pt.prototype,"selfInfo"),Pt.prototype),P()(Pt.prototype,"isFriendListAvailable",[R.computed],Object.getOwnPropertyDescriptor(Pt.prototype,"isFriendListAvailable"),Pt.prototype),P()(Pt.prototype,"coinRankList",[R.computed],Object.getOwnPropertyDescriptor(Pt.prototype,"coinRankList"),Pt.prototype),P()(Pt.prototype,"selfCoinRank",[R.computed],Object.getOwnPropertyDescriptor(Pt.prototype,"selfCoinRank"),Pt.prototype),P()(Pt.prototype,"queryFriendListService",[Tt],Object.getOwnPropertyDescriptor(Pt.prototype,"queryFriendListService"),Pt.prototype),P()(Pt.prototype,"bigPipeQueryFriendList",[Ct],Object.getOwnPropertyDescriptor(Pt.prototype,"bigPipeQueryFriendList"),Pt.prototype),P()(Pt.prototype,"achieveInviteFriendTask",[Et],Object.getOwnPropertyDescriptor(Pt.prototype,"achieveInviteFriendTask"),Pt.prototype),Pt);function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Zt,Ht,Kt,zt=(jt=function(e){O()(r,e);var t=Wt(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).tweens=[],e.completeCount=0,e.refList=[],e.coinNumber=14,e}return w()(r,[{key:"startTween",value:function(e){var t,r,n=null===(t=this.store.scoreSpeedCoinRef)||void 0===t||null===(r=t.current)||void 0===r?void 0:r.getBoundingClientRect();this.createTweens({source:e,target:{x:n.x,y:n.y}}),this.completeCount=0,this.showAction()}},{key:"prepare",value:function(e){this.refList=e}},{key:"createTweens",value:function(e){var t,r=this,n=e.source,i=e.target;(null===(t=this.refList)||void 0===t?void 0:t.length)&&(null==n?void 0:n.y)&&(this.tweens=this.refList.map((function(e,t){var o={x:0,y:0},a=r.store.gameStore.scene.tweens.add({targets:o,x:{from:n.x,to:i.x},y:{from:n.y,to:i.y},duration:500,delay:100*t,repeat:0,ease:"Quad.easeOut",useFrames:!1,onUpdate:function(){if((null==e?void 0:e.current)&&o.x&&o.y){var t=e.current;t.style.transform="translate3d(".concat(o.x,"px, ").concat(o.y,"px, 0)"),o.x===n.x?t.style.display="none":t.style.display="block"}},onComplete:function(){(null==e?void 0:e.current)&&(e.current.style.display="none"),a.stop(),r.completeCount++,r.completeCount===r.coinNumber&&r.clear()}});return a})))}},{key:"clear",value:function(){var e=this;this.tweens.forEach((function(t){e.rootStore.gameStore.scene.tweens.remove(t)})),this.tweens=[],this.refList=[],this.hideAction()}}]),r}(Q.Z),P()(jt.prototype,"createTweens",[R.action],Object.getOwnPropertyDescriptor(jt.prototype,"createTweens"),jt.prototype),jt),qt=r(132);function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Vt=(Zt=function(e){O()(n,e);var t,r=Yt(n);function n(){var e;g()(this,n);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=r.call.apply(r,[this].concat(i)),h()(e,"isShow",Ht,v()(e)),h()(e,"pet",Kt,v()(e)),e}return w()(n,[{key:"doDriveAwayPet",value:(t=a()(i().mark((function e(){var t,r,n,o,a,s=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(null===(t=this.pet)||void 0===t?void 0:t.fairy_id)&&(null===(r=this.pet)||void 0===r?void 0:r.owner_uid)&&this.rootStore.isMainScene){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.rootStore.queryUserProcess({handObj:null,isDirectUpdate:!0,needSetCoinNum:!1,forceInit:!1});case 5:if(n=this.pet,o=n.unique_id,n.fairy_id,this.gameStore.findPetById(o)){e.next=11;break}return this.rootStore.sendError("精灵已经回家"),(0,qt.Z)("好友的精灵已经回家了~"),e.abrupt("return",!1);case 11:return a={friend_uid:this.pet.owner_uid,fairy_id:this.pet.fairy_id},e.next=14,(0,ee.ni)(a);case 14:if(e.sent){e.next=17;break}throw new Error("driveAwayFairyService error: ".concat(JSON.stringify(a)));case 17:return(0,R.runInAction)((function(){s.gameStore.deletePetById(o)})),e.abrupt("return",!0);case 21:e.prev=21,e.t0=e.catch(0),(0,qt.Z)(he.Fe),this.rootStore.sendError(e.t0);case 25:return e.prev=25,this.gameStore.requestVisitMain(null,!1,!1),e.finish(25);case 28:case"end":return e.stop()}}),e,this,[[0,21,25,28]])}))),function(){return t.apply(this,arguments)})},{key:"showAction",value:function(e){this.pet=e,this.isShow=!0}},{key:"hideAction",value:function(){this.pet=null,this.isShow=!1}},{key:"gameStore",get:function(){return this.rootStore.gameStore}}]),n}(Q.Z),Ht=P()(Zt.prototype,"isShow",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kt=P()(Zt.prototype,"pet",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(Zt.prototype,"showAction",[R.action],Object.getOwnPropertyDescriptor(Zt.prototype,"showAction"),Zt.prototype),P()(Zt.prototype,"hideAction",[R.action],Object.getOwnPropertyDescriptor(Zt.prototype,"hideAction"),Zt.prototype),Zt);function Xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Qt,Jt,$t,er=function(e){O()(n,e);var t,r=Xt(n);function n(){return g()(this,n),r.apply(this,arguments)}return w()(n,[{key:"doRecallAllPets",value:(t=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.rootStore.isMainScene){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.rootStore.queryUserProcess({handObj:null,isDirectUpdate:!0,needSetCoinNum:!1});case 4:if(null==(t=this.gameStore.grabFriendPetIds)?void 0:t.length){e.next=8;break}return(0,qt.Z)("您没有在外打工的精灵哦~"),e.abrupt("return");case 8:return e.next=10,this.gameStore.recallGrabPets(t);case 10:e.sent&&(this.hideAction(),this.rootStore.recallReturnDialogStore.showAction(),t.forEach((function(e){return r.gameStore.toRoam(e)})),this.rootStore.queryUserProcess({handObj:null,isDirectUpdate:!1,needSetCoinNum:!0}),this.rootStore.friendRankDialogStore.queryFriendListService());case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"gameStore",get:function(){return this.rootStore.gameStore}}]),n}(Q.Z);function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var rr,nr,ir=(Qt=function(e){O()(n,e);var t,r=tr(n);function n(){var e;g()(this,n);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=r.call.apply(r,[this].concat(i)),h()(e,"transferRate",Jt,v()(e)),h()(e,"totalCoin",$t,v()(e)),e}return w()(n,[{key:"show",value:(t=a()(i().mark((function e(t,r){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,R.runInAction)((function(){n.transferRate=t,n.totalCoin=r})),this.showAction();case 2:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),n}(Q.Z),Jt=P()(Qt.prototype,"transferRate",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$t=P()(Qt.prototype,"totalCoin",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qt),or="活动太火爆了稍后再来~";function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var sr,cr,ur=(rr=function(e){O()(n,e);var t,r=ar(n);function n(){var e;g()(this,n);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=r.call.apply(r,[this].concat(i)),h()(e,"skinPrice",nr,v()(e)),e.skinType=void 0,e.isGift=!1,e}return w()(n,[{key:"setSkinInfo",value:function(e,t,r){this.skinPrice=e,this.skinType=t,this.isGift=r}},{key:"buySkin",value:(t=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"number"==typeof this.skinType){e.next=3;break}return e.abrupt("return",!1);case 3:if(this.isGift||this.rootStore.isCanBuy(this.skinPrice)){e.next=6;break}return(0,qt.Z)("金币不足，赶紧去赚金币吧~"),e.abrupt("return",!1);case 6:return t={skin_type:this.skinType,gift:this.isGift},e.next=9,(0,ee.ZI)(t);case 9:if(e.sent){e.next=12;break}throw new Error("buy skin service error: ".concat(JSON.stringify(t)));case 12:return e.abrupt("return",!0);case 15:e.prev=15,e.t0=e.catch(0),(0,qt.Z)(or),this.rootStore.sendError(e.t0);case 19:return e.prev=19,e.next=22,this.rootStore.spriteBookDialogStore.queryAlbumInfo();case 22:return this.hideAction(),this.rootStore.queryUserProcess(void 0,!1,!0),e.finish(19);case 25:case"end":return e.stop()}}),e,this,[[0,15,19,25]])}))),function(){return t.apply(this,arguments)})}]),n}(Q.Z),nr=P()(rr.prototype,"skinPrice",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(rr.prototype,"setSkinInfo",[R.action],Object.getOwnPropertyDescriptor(rr.prototype,"setSkinInfo"),rr.prototype),P()(rr.prototype,"buySkin",[$.d],Object.getOwnPropertyDescriptor(rr.prototype,"buySkin"),rr.prototype),rr);function lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var pr,fr,dr,hr,mr,gr,yr,vr,br,_r,kr,wr,Sr,Or,Ir=(sr=function(e){O()(r,e);var t=lr(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),h()(e,"isStartAni",cr,v()(e)),e}return w()(r,[{key:"stopAni",value:function(){this.isStartAni=!1}},{key:"startAni",value:function(){this.isStartAni=!0}}]),r}(Q.Z),cr=P()(sr.prototype,"isStartAni",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sr),Ar=r(38377),Tr=r(24362),Cr=r(95487);function Er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Pr=(pr=(0,J.Y)((function(){(0,de.info)(he.Fe)})),fr=function(e){O()(u,e);var t,r,n,o,s,c=Er(u);function u(){var e;g()(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=c.call.apply(c,[this].concat(r)),h()(e,"showAfterClickAni",dr,v()(e)),h()(e,"showSkinGuide",hr,v()(e)),h()(e,"composeTaskInfo",mr,v()(e)),h()(e,"composeTaskResultInfo",gr,v()(e)),h()(e,"isShowTimeLimitBuyIcon",yr,v()(e)),h()(e,"limitBuyTaskStatus",vr,v()(e)),h()(e,"isShowLimitBuyTask",br,v()(e)),h()(e,"isUpdateLimitBuyTask",_r,v()(e)),h()(e,"showLimitBuyGuideHand",kr,v()(e)),h()(e,"composeCoinAni",wr,v()(e)),h()(e,"subtractOrderGuideCount",Sr,v()(e)),h()(e,"midAutumnGuideCount",Or,v()(e)),e}return w()(u,[{key:"setSubtractOrderGuideCount",value:function(e){var t="ddsp_subtract_order_guide_count";if(e)return this.subtractOrderGuideCount=e,void(0,dt.m8)(t,this.subtractOrderGuideCount);var r=(0,dt.$o)(t);this.subtractOrderGuideCount=r?+r:0}},{key:"setGuideCount",value:function(e,t){var r="ddsp_guide_count_"+e;if(t)return this[e]=t,void(0,dt.m8)(r,this[e]);var n=(0,dt.$o)(r);this[e]=n?+n:0}},{key:"setMidAutumnGuideCount",value:function(e){return this.setGuideCount("midAutumnGuideCount",e)}},{key:"startAfterClickAni",value:function(){this.showAfterClickAni=!0}},{key:"stopAfterClickAni",value:function(){this.showAfterClickAni=!1}},{key:"setAfterClickAni",value:function(e){this.showAfterClickAni=e}},{key:"inactiveSkinGuide",value:function(){this.showSkinGuide=!1}},{key:"activeSkinGuide",value:function(){this.showSkinGuide=!0}},{key:"setComposeTaskInfo",value:function(e){this.composeTaskInfo=e}},{key:"removeTaskInfo",value:function(){this.composeTaskInfo=null}},{key:"startComposeCoinAni",value:function(){this.composeCoinAni=!0}},{key:"stopComposeCoinAni",value:function(){this.composeCoinAni=!1}},{key:"showComposeTaskResultDialog",value:(s=a()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null==t?void 0:t.merge_reward_coin)&&"0"!==t.merge_reward_coin){e.next=2;break}return e.abrupt("return",this.queryComposeTask());case 2:return this.composeTaskResultInfo={pic:t.fairy_info.pic_url,name:t.fairy_info.fairy_name,fairy_rank:t.fairy_info.fairy_rank,rewardCoin:t.merge_reward_coin},e.next=5,this.queryComposeTask();case 5:this.startComposeCoinAni(),this.rootStore.composeTaskResultDialogStore.showAction();case 7:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"queryComposeTask",value:(o=a()(i().mark((function e(){var t,r,n,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(null===(t=this.rootStore.leoForMission.composeTaskConfig)||void 0===t?void 0:t.rank)||14,!(this.rootStore.myTopRank<r-1||this.rootStore.myTopRank>=Cr.s7)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,ee.G$)();case 5:if(n=e.sent){e.next=8;break}throw new Error("query compose task error");case 8:(0,R.runInAction)((function(){o.composeTaskInfo=n}));case 9:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"updateLimitBuyTask",value:function(e){this.isUpdateLimitBuyTask=e}},{key:"showLimitGuideHand",value:function(){this.showLimitBuyGuideHand=!0}},{key:"hideLimitGuideHand",value:function(){this.showLimitBuyGuideHand=!1}},{key:"timeLimitBuyTaskHandleBack",value:(n=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isUpdateLimitBuyTask){e.next=5;break}return this.updateLimitBuyTask(!1),e.next=4,this.queryTimeLimitBuyTask();case 4:this.isLimitBuyTaskFinished&&this.rootStore.timeLimitBuyDialogStore.hideAction();case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"queryTimeLimitBuyTask",value:(r=a()(i().mark((function e(){var t,r,n,o,a,s=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.rootStore.leoForMission,r=t.module_id,!(!(null==(n=t.timeLimitBuyTaskConfig)?void 0:n.missionId)||this.rootStore.myTopRank<n.triggerRank-1||this.rootStore.myTopRank>=Cr.s7)){e.next=3;break}return e.abrupt("return");case 3:return o={mission_id:n.missionId,module_id:r},e.next=6,this.isomorphicRequest(Tr.oh,o);case 6:if(a=e.sent){e.next=9;break}throw new Error("query limit buy mission info error: ".concat(JSON.stringify(this.params)));case 9:(0,R.runInAction)((function(){s.limitBuyTaskStatus=a.mission_status,s.isShowLimitBuyTask=a.display_sprint_gift_bag}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"composeToShowTimeLimitTask",value:(t=a()(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.canShowLimitBuyTaskIcon,e.next=3,this.queryTimeLimitBuyTask();case 3:this.canShowLimitBuyTaskIcon?(r||((0,dt.dZ)(Cr.lD),this.showLimitGuideHand()),this.rootStore.timeLimitBuyDialogStore.showAction()):this.rootStore.timeLimitBuyDialogStore.hideAction();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"isShowComposeTaskIcon",get:function(){var e;return!this.store.riskUserBlockCpcMission&&(null===(e=this.composeTaskInfo)||void 0===e?void 0:e.show_mission)&&this.rootStore.isMainScene&&this.rootStore.myTopRank<Cr.s7}},{key:"isLimitBuyTaskFinished",get:function(){return this.limitBuyTaskStatus===ft.Q_.FINISH_UPPER}},{key:"canShowLimitBuyTaskIcon",get:function(){return!this.isLimitBuyTaskFinished&&this.isShowLimitBuyTask&&this.rootStore.isMainScene}}]),u}(Ar.Z),dr=P()(fr.prototype,"showAfterClickAni",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hr=P()(fr.prototype,"showSkinGuide",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mr=P()(fr.prototype,"composeTaskInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gr=P()(fr.prototype,"composeTaskResultInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yr=P()(fr.prototype,"isShowTimeLimitBuyIcon",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vr=P()(fr.prototype,"limitBuyTaskStatus",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),br=P()(fr.prototype,"isShowLimitBuyTask",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_r=P()(fr.prototype,"isUpdateLimitBuyTask",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kr=P()(fr.prototype,"showLimitBuyGuideHand",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wr=P()(fr.prototype,"composeCoinAni",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sr=P()(fr.prototype,"subtractOrderGuideCount",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Or=P()(fr.prototype,"midAutumnGuideCount",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(fr.prototype,"isShowComposeTaskIcon",[R.computed],Object.getOwnPropertyDescriptor(fr.prototype,"isShowComposeTaskIcon"),fr.prototype),P()(fr.prototype,"isLimitBuyTaskFinished",[R.computed],Object.getOwnPropertyDescriptor(fr.prototype,"isLimitBuyTaskFinished"),fr.prototype),P()(fr.prototype,"canShowLimitBuyTaskIcon",[R.computed],Object.getOwnPropertyDescriptor(fr.prototype,"canShowLimitBuyTaskIcon"),fr.prototype),P()(fr.prototype,"setSubtractOrderGuideCount",[R.action,J.Y],Object.getOwnPropertyDescriptor(fr.prototype,"setSubtractOrderGuideCount"),fr.prototype),P()(fr.prototype,"setGuideCount",[R.action,J.Y],Object.getOwnPropertyDescriptor(fr.prototype,"setGuideCount"),fr.prototype),P()(fr.prototype,"startAfterClickAni",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"startAfterClickAni"),fr.prototype),P()(fr.prototype,"stopAfterClickAni",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"stopAfterClickAni"),fr.prototype),P()(fr.prototype,"setAfterClickAni",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"setAfterClickAni"),fr.prototype),P()(fr.prototype,"inactiveSkinGuide",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"inactiveSkinGuide"),fr.prototype),P()(fr.prototype,"activeSkinGuide",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"activeSkinGuide"),fr.prototype),P()(fr.prototype,"setComposeTaskInfo",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"setComposeTaskInfo"),fr.prototype),P()(fr.prototype,"removeTaskInfo",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"removeTaskInfo"),fr.prototype),P()(fr.prototype,"startComposeCoinAni",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"startComposeCoinAni"),fr.prototype),P()(fr.prototype,"stopComposeCoinAni",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"stopComposeCoinAni"),fr.prototype),P()(fr.prototype,"showComposeTaskResultDialog",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"showComposeTaskResultDialog"),fr.prototype),P()(fr.prototype,"queryComposeTask",[J.Y],Object.getOwnPropertyDescriptor(fr.prototype,"queryComposeTask"),fr.prototype),P()(fr.prototype,"updateLimitBuyTask",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"updateLimitBuyTask"),fr.prototype),P()(fr.prototype,"showLimitGuideHand",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"showLimitGuideHand"),fr.prototype),P()(fr.prototype,"hideLimitGuideHand",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"hideLimitGuideHand"),fr.prototype),P()(fr.prototype,"timeLimitBuyTaskHandleBack",[R.action],Object.getOwnPropertyDescriptor(fr.prototype,"timeLimitBuyTaskHandleBack"),fr.prototype),P()(fr.prototype,"queryTimeLimitBuyTask",[pr],Object.getOwnPropertyDescriptor(fr.prototype,"queryTimeLimitBuyTask"),fr.prototype),fr),Rr=r(25346),xr=r(43241),Dr=[{x:1.13,y:3.13,scale:1.17},{x:2.56,y:3.01,scale:1},{x:1.93,y:1.76,scale:1},{x:1.07,y:1.46,scale:1},{x:2.53,y:4.16,scale:1},{x:1.8,y:2.39,scale:1},{x:.23,y:3.43,scale:1.17},{x:2.54,y:1.51,scale:1},{x:1.97,y:3.46,scale:1},{x:1,y:2.19,scale:1}];function Nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",n=-1;for(t-=(e=String(e)).length;++n<t;)e=r+e;return e}function Lr(e){var t=parseInt(e/1e3),r=parseInt(t/60);return"".concat(parseInt(r/60),":").concat(Nr(r%60),":").concat(Nr(t%60))}r(83491);var Mr=r(41197),Br=r.n(Mr),Fr=r(18749);function Gr(){return!!Fr.ZP.isNativePlatform&&(Fr.ZP.platform===L.PLATFORM.PddAndroid?(0,L.compareVersion)(Fr.ZP.version,"4.50.0")>=0:(0,L.compareVersion)(Fr.ZP.version,"4.27.0")>=0)}function jr(e){return Ur.apply(this,arguments)}function Ur(){return(Ur=a()(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gr()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,(0,F.invokeBridgeCallNativeFun)("PDDCalendarNotification","removeCalendarEvent",t);case 4:return r=e.sent,e.abrupt("return",1==+(null==r?void 0:r.success));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(e){return Zr.apply(this,arguments)}function Zr(){return(Zr=a()(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gr()){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,(0,F.invokeBridgeCallNativeFun)("PDDCalendarNotification","getAllCalendarEvent",t);case 4:return r=e.sent,e.abrupt("return",(null==r?void 0:r.events)||[]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hr=function(e){var t="duoduo_sprite";return{event_id:"".concat(t,"_").concat(e),biz_name:t}};ye.UI.CALENDAR;var Kr="duoduo_sprite_messenger_last_collect_finish_time";function zr(){return qr.apply(this,arguments)}function qr(){return(qr=a()(i().mark((function e(){var t,r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 3:if(!((t=+localStorage.getItem(Kr))<Date.now())){e.next=6;break}return e.abrupt("return");case 6:return r=Hr(t),e.next=9,Wr(r);case 9:if(!((null==(n=e.sent)?void 0:n.length)>0)){e.next=13;break}return e.next=13,jr(r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yr,Vr=r(56349),Xr=1,Qr=2;!function(e){e[e.COUPON=2]="COUPON",e[e.COIN=3]="COIN",e[e.PERSONALIZED_GOODS_COUPON=7]="PERSONALIZED_GOODS_COUPON"}(Yr||(Yr={}));var Jr,$r,en,tn,rn,nn,on,an,sn,cn,un,ln,pn,fn,dn,hn,mn,gn,yn,vn,bn,_n,kn,wn,Sn,On,In,An,Tn,Cn,En,Pn=1,Rn=2;function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Ln,Mn,Bn,Fn,Gn,jn,Un,Wn,Zn,Hn,Kn,zn,qn="duoduo_sprite_messenger_show_collected_ani",Yn=(Jr=R.action.bound,$r=(0,J.Y)((function(e,t){41159!==(null==e?void 0:e.errorCode)&&t.sendError(e)})),en=(0,J.Y)((function(e,t){return(0,de.info)(he.Fe),t.queryShellBoxList()})),tn=function(e){O()(l,e);var t,r,n,o,s,c,u=Nn(l);function l(){var e;g()(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=u.call.apply(u,[this].concat(r)),h()(e,"messengerAniStep",rn,v()(e)),h()(e,"setAniStep",nn,v()(e)),h()(e,"todayShellVolist",on,v()(e)),h()(e,"ownedShellVolist",an,v()(e)),h()(e,"messengerStatus",sn,v()(e)),h()(e,"letterVolist",cn,v()(e)),h()(e,"showLetterListDialog",un,v()(e)),h()(e,"showStartDialog",ln,v()(e)),e.openStartDialogSource=void 0,h()(e,"selectedLetterItem",pn,v()(e)),h()(e,"receiveLetterItem",fn,v()(e)),h()(e,"receiveCoinCount",dn,v()(e)),e.collectFinishTime=-1,e.todayShellSendCount=0,e.hasUnlockOnEnter=!1,h()(e,"showShellGuide",hn,v()(e)),h()(e,"showMessengerGuide",mn,v()(e)),h()(e,"showSelectShellGuide",gn,v()(e)),h()(e,"showLetterGuide",yn,v()(e)),h()(e,"showBoxGuide",vn,v()(e)),h()(e,"showBoxGuideDisabled",bn,v()(e)),e.guideKeys=["showShellGuide","showSelectShellGuide","showMessengerGuide","showLetterGuide","showBoxGuide","showBoxGuideDisabled"],e.letterRankBefore=void 0,h()(e,"showTravelDialog",_n,v()(e)),h()(e,"shellBoxList",kn,v()(e)),h()(e,"reachShellBoxLimit",wn,v()(e)),e.shellPickGuideTimerId=void 0,e.showPickGuideShellIndex=-1,e.showShellPickGuideStart=!1,h()(e,"openTravelDialog",Sn,v()(e)),h()(e,"closeTravelDialog",On,v()(e)),h()(e,"improveGrey",In,v()(e)),e.setShowedGuide=function(t){e[t]&&(e[t]=!1,(0,dt.m8)((0,xr._j)(t),1))},h()(e,"cpcTaskUrl",An,v()(e)),e.freshStatus=a()(i().mark((function t(){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Rr.n.mainQuery({npc_type:Qr},{});case 3:r=t.sent,n=r.home_messenger_vo,(0,R.runInAction)((function(){var t,r,i;switch(null==n?void 0:n.home_messenger_status){case xr.ZM.Rest:e.hasUnlockOnEnter?e.messengerAniStep=xr.kn.Rest:e.messengerAniStep=xr.kn.RestUnlock;break;case xr.ZM.Collecting:e.messengerAniStep=xr.kn.Collecting;break;case xr.ZM.Collected:(0,dt.$o)(qn)?e.messengerAniStep=xr.kn.Collected:e.messengerAniStep=xr.kn.CollectedBack}[xr.ZM.Rest,xr.ZM.Collecting].includes(null==n?void 0:n.home_messenger_status)&&(0,dt.dZ)(qn),xr.ZM.Collecting!==(null==n?void 0:n.home_messenger_status)&&(zr(),e.closeTravelDialog()),e.improveGrey=!!(null==n?void 0:n.improve_grey),e.messengerStatus=(null==n?void 0:n.home_messenger_status)||xr.ZM.Unknown,e.collectFinishTime=(null==n?void 0:n.collect_finish_time)||-1,e.todayShellSendCount=(null==n?void 0:n.today_shell_send_count)||0;var o=(null==n||null===(t=n.fairy_shell_volist)||void 0===t||null===(r=t.sort((function(e,t){return(null==e?void 0:e.trace_id)>(null==t?void 0:t.trace_id)?1:-1})))||void 0===r||null===(i=r.slice)||void 0===i?void 0:i.call(r,0,e.isUnLimit?400:Dr.length))||[];!(0,Ie.Xy)(e.todayShellVolist,o)&&(e.todayShellVolist=o),e.initCpcTask(null==n?void 0:n.cpc_browsing_mission,null==n?void 0:n.cpc_order_mission)})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.sendError(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.init=a()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.hasUnlockOnEnter=e.hasUnlock,t.next=3,(0,R.when)((function(){return e.hasUnlock}));case 3:return t.next=5,Promise.all([e.freshStatus(),e.queryOwnedShellVolist()]);case 5:if(e.initGuides(),!(e.todayShellSendCount>0)){t.next=17;break}return t.prev=7,t.next=10,Rr.n.toolSend({tcid:xr.kt.FairyShell,commit_times:1},{});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(7),e.sendError(t.t0);case 15:return t.next=17,e.freshStatus();case 17:case"end":return t.stop()}}),t,null,[[7,12]])}))),e.backUpdate=function(){if(e.hasUnlock)return e.freshStatus()},h()(e,"gainShell",Tn,v()(e)),h()(e,"openStartDialog",Cn,v()(e)),h()(e,"onClickShellFromPack",En,v()(e)),e}return w()(l,[{key:"startNextShellPickGuideAni",value:function(){var e=this;this.showShellPickGuideStart&&(this.showPickGuideShellIndex===this.todayShellVolist.length-1&&(this.showPickGuideShellIndex=-1),this.showPickGuideShellIndex=this.todayShellVolist.findIndex((function(t,r){return!t.picked&&r>e.showPickGuideShellIndex})),this.showPickGuideShellIndex>=0&&(0,R.runInAction)((function(){e.todayShellVolist[e.showPickGuideShellIndex]=Dn({},e.todayShellVolist[e.showPickGuideShellIndex])})))}},{key:"setPickTimer",value:function(){var e=this;if(this.store.abTestStore.showShellPickGuide){var t=this.store.leoConfig.shellPickGuideSeconds,r=void 0===t?15:t;this.shellPickGuideTimerId=this.shellPickGuideTimerId||setTimeout((function(){e.showShellPickGuideStart=!0,e.startNextShellPickGuideAni()}),1e3*r)}}},{key:"initGuides",value:function(){var e=this;this.guideKeys.forEach((function(t){e[t]=!(0,dt.$o)((0,xr._j)(t))}))}},{key:"resetGuides",value:function(){var e=this;if(this.enableMessengerOpt){var t=(0,xr._j)("guideRound"),r=+(0,dt.$o)(t)||1;r>=5||((0,dt.m8)(t,r+1),this.guideKeys.forEach((function(t){e[t]=!0,(0,dt.dZ)((0,xr._j)(t))})))}}},{key:"initCpcTask",value:function(e,t){var r=null==e?void 0:e.mission_url,n=null==t?void 0:t.id,i=(0,Vr.HD)(r)&&r&&(0,Vr.hj)(n)&&n;this.cpcTaskUrl=i?(0,M.appendQuery)({order_mission_id:null==t?void 0:t.id},null==e?void 0:e.mission_url):""}},{key:"queryOwnedShellVolist",value:(c=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rr.n.queryToolList({},{});case 3:return t=e.sent,(0,R.runInAction)((function(){r.ownedShellVolist=(null==t?void 0:t.fairy_shell_volist)||[]})),e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0),this.sendError(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return c.apply(this,arguments)})},{key:"handleLetterRankingUpShow",value:(s=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.abTestStore.showMsgRank){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.store.rankingStore.queryLetterRanking(!0);case 4:this.store.msgRankDialogStore.showAction({needRankTips:!0});case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"sendShellBox",value:(o=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.Z.post(ht.Z.sendSurpriseBag,{lucky_bag_type:Rn});case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"queryShellBoxList",value:(n=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.Z.post(ht.Z.querySurpriseBagInfo,{});case 2:t=e.sent,(0,R.runInAction)((function(){var e=t||{},n=e.fairy_shell_lucky_bags,i=e.fairy_shell_today_bag_num_limit,o=e.fairy_shell_bag_num_limit;r.shellBoxList=n||[],r.reachShellBoxLimit=!!i||"number"==typeof o&&r.shellBoxList.length>=o}));case 4:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"handleShellBoxSend",value:(r=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.abTestStore.showMsgShellBox&&!this.reachShellBoxLimit){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.sendShellBox();case 4:return e.abrupt("return",this.queryShellBoxList());case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"openShellBox",value:(t=a()(i().mark((function e(t){var r,n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.award_type,n=t.award_id,e.next=3,mt.Z.post(ht.Z.gainSurpriseAward,{award_id:n,award_type:r});case 3:return o=e.sent,a=(o||{}).fairy_shell,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"canShow",get:function(){return this.rootStore.isMainScene&&!this.rootStore.isInitError}},{key:"enableMessengerOpt",get:function(){return this.improveGrey}},{key:"hasUnlock",get:function(){return this.rootStore.isPassGame||this.rootStore.myTopRank>=this.rootStore.leoConfig.unlockMessengerDegree}},{key:"isUnLimit",get:function(){var e;return this.rootStore.isTest&&1==+(null===(e=this.rootStore.queries)||void 0===e?void 0:e.un_limit_shell)}}]),l}(Ar.Z),P()(tn.prototype,"canShow",[R.computed],Object.getOwnPropertyDescriptor(tn.prototype,"canShow"),tn.prototype),rn=P()(tn.prototype,"messengerAniStep",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xr.kn.Rest}}),nn=P()(tn.prototype,"setAniStep",[R.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.messengerAniStep=t}}}),on=P()(tn.prototype,"todayShellVolist",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),an=P()(tn.prototype,"ownedShellVolist",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),sn=P()(tn.prototype,"messengerStatus",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xr.ZM.Unknown}}),cn=P()(tn.prototype,"letterVolist",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),un=P()(tn.prototype,"showLetterListDialog",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ln=P()(tn.prototype,"showStartDialog",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pn=P()(tn.prototype,"selectedLetterItem",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fn=P()(tn.prototype,"receiveLetterItem",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dn=P()(tn.prototype,"receiveCoinCount",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hn=P()(tn.prototype,"showShellGuide",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mn=P()(tn.prototype,"showMessengerGuide",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gn=P()(tn.prototype,"showSelectShellGuide",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yn=P()(tn.prototype,"showLetterGuide",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vn=P()(tn.prototype,"showBoxGuide",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bn=P()(tn.prototype,"showBoxGuideDisabled",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_n=P()(tn.prototype,"showTravelDialog",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kn=P()(tn.prototype,"shellBoxList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wn=P()(tn.prototype,"reachShellBoxLimit",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn=P()(tn.prototype,"openTravelDialog",[R.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.showTravelDialog=!0,(0,dt.g2)(xr.DC,1,xr.HH)}}}),On=P()(tn.prototype,"closeTravelDialog",[R.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.showTravelDialog=!1}}}),In=P()(tn.prototype,"improveGrey",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P()(tn.prototype,"enableMessengerOpt",[R.computed],Object.getOwnPropertyDescriptor(tn.prototype,"enableMessengerOpt"),tn.prototype),P()(tn.prototype,"initGuides",[R.action],Object.getOwnPropertyDescriptor(tn.prototype,"initGuides"),tn.prototype),P()(tn.prototype,"resetGuides",[R.action],Object.getOwnPropertyDescriptor(tn.prototype,"resetGuides"),tn.prototype),An=P()(tn.prototype,"cpcTaskUrl",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P()(tn.prototype,"initCpcTask",[Jr],Object.getOwnPropertyDescriptor(tn.prototype,"initCpcTask"),tn.prototype),P()(tn.prototype,"hasUnlock",[R.computed],Object.getOwnPropertyDescriptor(tn.prototype,"hasUnlock"),tn.prototype),P()(tn.prototype,"isUnLimit",[R.computed],Object.getOwnPropertyDescriptor(tn.prototype,"isUnLimit"),tn.prototype),Tn=P()(tn.prototype,"gainShell",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=a()(i().mark((function t(r,n){var o,a,s,c,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.setShowedGuide("showShellGuide"),!e.todayShellVolist[n].picked){t.next=4;break}return t.abrupt("return");case 4:return a=r.tcid,s=r.trace_id,c=r.award_id,t.next=7,Rr.n.toolSend({tcid:a,trace_id:s,award_id:c,commit_times:2},{});case 7:if(!((null==(u=t.sent)||null===(o=u.shell_volist)||void 0===o?void 0:o.length)>0)){t.next=13;break}(0,R.runInAction)((function(){e.todayShellVolist[n]=Dn(Dn({},e.todayShellVolist[n]),{},{picked:!0})})),e.enableMessengerOpt&&e.messengerStatus===xr.ZM.Rest&&e.todayShellVolist.every((function(e){return e.picked}))&&e.openStartDialog(xr.WX.GainShell),t.next=14;break;case 13:throw new Error("领贝壳时后端返回值不符合预期");case 14:t.next=22;break;case 16:return t.prev=16,t.t0=t.catch(0),(0,de.info)(xr.eR),e.sendError(t.t0),t.next=22,e.freshStatus();case 22:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,r){return t.apply(this,arguments)}}()}}),Cn=P()(tn.prototype,"openStartDialog",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=a()(i().mark((function t(r){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Rr.n.queryToolList({},{});case 3:n=t.sent,(0,R.runInAction)((function(){e.ownedShellVolist=(null==n?void 0:n.fairy_shell_volist)||[],e.showStartDialog=!0,e.openStartDialogSource=r})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e.rootStore.sendError(t.t0),(0,de.info)(xr.eR);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}),En=P()(tn.prototype,"onClickShellFromPack",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=a()(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,ge.iH)(ye.eY.TOOL_ITEM,Dn({tool_type:1},r)),e.messengerStatus!==xr.ZM.Rest){t.next=7;break}return t.next=4,e.openStartDialog(xr.WX.MyPack);case 4:e.rootStore.myPackStore.hideAction(),t.next=8;break;case 7:e.messengerStatus===xr.ZM.Collecting?(0,de.info)("".concat(Lr(e.collectFinishTime+2e3-Date.now()),"后企鹅回来，可再次使用此道具")):e.messengerStatus===xr.ZM.Collected&&((0,de.info)("领取新信件后，可再次使用此道具"),e.rootStore.myPackStore.hideAction());case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),P()(tn.prototype,"handleLetterRankingUpShow",[$.d],Object.getOwnPropertyDescriptor(tn.prototype,"handleLetterRankingUpShow"),tn.prototype),P()(tn.prototype,"sendShellBox",[$.d,$r],Object.getOwnPropertyDescriptor(tn.prototype,"sendShellBox"),tn.prototype),P()(tn.prototype,"queryShellBoxList",[J.Y],Object.getOwnPropertyDescriptor(tn.prototype,"queryShellBoxList"),tn.prototype),P()(tn.prototype,"openShellBox",[$.d,en],Object.getOwnPropertyDescriptor(tn.prototype,"openShellBox"),tn.prototype),tn);function Vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}!function(e){e[e.UnknownStatus=0]="UnknownStatus",e[e.TodayNewUser=101]="TodayNewUser",e[e.YesterdayNewUser=102]="YesterdayNewUser",e[e.SevenDaysNewUser=103]="SevenDaysNewUser"}(zn||(zn={}));var Xn,Qn,Jn,$n=(Ln=function(e){O()(r,e);var t=Vn(r);function r(){var e;g()(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),h()(e,"signTaskList",Mn,v()(e)),h()(e,"serverTime",Bn,v()(e)),h()(e,"showRp",Fn,v()(e)),h()(e,"rpCount",Gn,v()(e)),h()(e,"showWechatCash",jn,v()(e)),h()(e,"wechatCashAmount",Un,v()(e)),h()(e,"showShellList",Wn,v()(e)),h()(e,"shellList",Zn,v()(e)),h()(e,"isInit",Hn,v()(e)),h()(e,"enableSendTool",Kn,v()(e)),e.doSign=a()(i().mark((function t(){var r,n,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=e.canSignDay){t.next=4;break}return t.abrupt("return",!1);case 4:return n={day_sort:r,series_sign7_days:!0},t.next=7,(0,ee.SZ)(n);case 7:if(o=t.sent){t.next=10;break}throw new Error("achieve sign service error: ".concat(JSON.stringify(o)));case 10:return(0,R.runInAction)((function(){var t=o.reward_num,r=o.red_packet_amount,n=o.wechat_cash_amount,i=o.fairy_shell_volist;if(n>0&&(e.showWechatCash=!0,e.wechatCashAmount=n),t>0&&(0,qt.Z)("打卡成功，恭喜获得".concat((0,Pe.n)(t).valueStr,"金币")),r>0&&(e.showRp=!0,e.rpCount=r),null==i?void 0:i.length){if(!i.every((function(e){return(null==e?void 0:e.img)&&(null==e?void 0:e.award_name)})))throw new Error("签到领取的信物返回不符合预期");e.showShellList=!0,e.shellList=i.sort((function(e,t){return t.color-e.color}))}})),t.abrupt("return",!0);case 14:t.prev=14,t.t0=t.catch(0),(0,qt.Z)(he.Fe),e.rootStore.sendError(t.t0);case 18:return t.prev=18,t.next=21,e.querySignProcess();case 21:return t.finish(18);case 22:case"end":return t.stop()}}),t,null,[[0,14,18,22]])}))),e.querySignProcess=a()(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,ee.tt)({series_sign7_days:!0});case 3:if((r=t.sent)&&Array.isArray(r.info_list)){t.next=6;break}throw new Error("query sign service error: ".concat(JSON.stringify(r)));case 6:return(0,R.runInAction)((function(){var t=r.info_list,n=r.server_time,i=r.show_send_tool_icon;t.sort((function(e,t){return e.day_sort-t.day_sort})),e.signTaskList=t,e.serverTime=n,e.enableSendTool=!!i})),t.abrupt("return",!0);case 10:t.prev=10,t.t0=t.catch(0),(0,qt.Z)(he.Fe),e.rootStore.sendError(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),e.queryUserType=a()(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,ee.a2)();case 3:if("number"==typeof(null==(r=t.sent)?void 0:r.user_type)){t.next=6;break}throw new Error("query user type error");case 6:return t.abrupt("return",[zn.TodayNewUser,zn.YesterdayNewUser,zn.SevenDaysNewUser].includes(+r.user_type));case 9:return t.prev=9,t.t0=t.catch(0),e.rootStore.sendError(t.t0),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),e}return w()(r,[{key:"init",value:function(){var e=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.querySignProcess();case 3:t=e.sent,["calendar","app_push","Deposit"].includes(this.rootStore.queries.channel_type)&&t&&!this.isSignedToday&&this.showAction(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.sendError(e.t0);case 10:return e.prev=10,this.isInit=!0,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"canSignInfo",get:function(){var e=this;return this.signTaskList.find((function(t){var r=t.zero_time,n=t.remain_time;return Y()(e.serverTime).isSame(r,"day")&&n>0}))}},{key:"isSignedToday",get:function(){return!this.canSignInfo}},{key:"isNextDayWechatAward",get:function(){var e=this;return this.signTaskList.some((function(t){var r=t.zero_time,n=t.remain_time,i=t.wechat_cash_amount;return Y()(e.serverTime).add(1,"day").isSame(r,"day")&&n>0&&i>0}))}},{key:"todayIdx",get:function(){var e=this;return this.signTaskList.findIndex((function(t){var r=t.zero_time;return Y()(e.serverTime).isSame(r,"day")}))}},{key:"canSignDay",get:function(){var e=this.canSignInfo;return null==e?void 0:e.day_sort}},{key:"iconSrc",get:function(){return this.enableSendTool?"https://promotion.pddpic.com/promo/a6eb9439-0e78-4122-a685-0abb3aa04ff1.png.slim.png":"https://promotion.pddpic.com/promo/977023f2-6ad8-496a-88cc-20a152ac9cb4.png.slim.png"}}]),r}(Q.Z),Mn=P()(Ln.prototype,"signTaskList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bn=P()(Ln.prototype,"serverTime",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fn=P()(Ln.prototype,"showRp",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gn=P()(Ln.prototype,"rpCount",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),jn=P()(Ln.prototype,"showWechatCash",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Un=P()(Ln.prototype,"wechatCashAmount",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wn=P()(Ln.prototype,"showShellList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zn=P()(Ln.prototype,"shellList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hn=P()(Ln.prototype,"isInit",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kn=P()(Ln.prototype,"enableSendTool",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P()(Ln.prototype,"canSignInfo",[R.computed],Object.getOwnPropertyDescriptor(Ln.prototype,"canSignInfo"),Ln.prototype),P()(Ln.prototype,"isSignedToday",[R.computed],Object.getOwnPropertyDescriptor(Ln.prototype,"isSignedToday"),Ln.prototype),P()(Ln.prototype,"isNextDayWechatAward",[R.computed],Object.getOwnPropertyDescriptor(Ln.prototype,"isNextDayWechatAward"),Ln.prototype),P()(Ln.prototype,"todayIdx",[R.computed],Object.getOwnPropertyDescriptor(Ln.prototype,"todayIdx"),Ln.prototype),P()(Ln.prototype,"canSignDay",[R.computed],Object.getOwnPropertyDescriptor(Ln.prototype,"canSignDay"),Ln.prototype),P()(Ln.prototype,"iconSrc",[R.computed],Object.getOwnPropertyDescriptor(Ln.prototype,"iconSrc"),Ln.prototype),Ln);function ei(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var ti,ri,ni,ii,oi=(Xn=function(e){O()(r,e);var t=ei(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),h()(e,"awardNum",Qn,v()(e)),h()(e,"dialogType",Jn,v()(e)),e}return w()(r,[{key:"setAwardNum",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.awardNum=e,this.dialogType=t}},{key:"isShowForCompose",get:function(){return 1===this.dialogType}},{key:"isShowUpgradedUnlockSkin",get:function(){var e=this.rootStore.composeResult;return!!e&&e.skin_window_type>=0}}]),r}(Q.Z),Qn=P()(Xn.prototype,"awardNum",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn=P()(Xn.prototype,"dialogType",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(Xn.prototype,"isShowForCompose",[R.computed],Object.getOwnPropertyDescriptor(Xn.prototype,"isShowForCompose"),Xn.prototype),P()(Xn.prototype,"setAwardNum",[R.action],Object.getOwnPropertyDescriptor(Xn.prototype,"setAwardNum"),Xn.prototype),Xn);function ai(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ai(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ai(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var ui,li,pi,fi,di=(ti=R.observable.shallow,ri=function(e){O()(n,e);var t,r=ci(n);function n(){var e;g()(this,n);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=r.call.apply(r,[this].concat(i)),h()(e,"step",ni,v()(e)),h()(e,"barrageList",ii,v()(e)),e}return w()(n,[{key:"showWidthDrawGuide",value:(t=a()(i().mark((function e(){var t,r,n,o,a,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.step=he.IK.WITH_DRAW,this.showAction(),!this.rootStore.abTestStore.showBarrageWhenGuide){e.next=8;break}return e.next=5,(0,ee.AF)({source:1});case 5:if(n=e.sent,null==(o=null==n||null===(t=n.barrage_list)||void 0===t||null===(r=t.filter)||void 0===r?void 0:r.call(t,(function(e){return null==e?void 0:e.award_amount})))?void 0:o.length){if((a=o.length)<6)for(s=Math.ceil((6-a)/a),u=c()(o),l=0;l<s;l++)o.push.apply(o,c()(u));this.barrageList=o.map((function(e,t){return si({idx:t},e)}))}case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"showBuyGuide",value:function(){this.step=he.IK.BUY_PET,this.showAction()}},{key:"showBookGuide",value:function(){this.step=he.IK.CLICK_BOOK_ICON,this.showAction()}},{key:"hideAction",value:function(){_()(C()(n.prototype),"hideAction",this).call(this),this.step=-1}},{key:"isWithDrawGuide",get:function(){return this.step===he.IK.WITH_DRAW}},{key:"isBookGuide",get:function(){return this.step===he.IK.CLICK_BOOK_ICON}}]),n}(Q.Z),ni=P()(ri.prototype,"step",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),ii=P()(ri.prototype,"barrageList",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P()(ri.prototype,"showWidthDrawGuide",[R.action],Object.getOwnPropertyDescriptor(ri.prototype,"showWidthDrawGuide"),ri.prototype),P()(ri.prototype,"showBuyGuide",[R.action],Object.getOwnPropertyDescriptor(ri.prototype,"showBuyGuide"),ri.prototype),P()(ri.prototype,"showBookGuide",[R.action],Object.getOwnPropertyDescriptor(ri.prototype,"showBookGuide"),ri.prototype),P()(ri.prototype,"hideAction",[R.action],Object.getOwnPropertyDescriptor(ri.prototype,"hideAction"),ri.prototype),P()(ri.prototype,"isWithDrawGuide",[R.computed],Object.getOwnPropertyDescriptor(ri.prototype,"isWithDrawGuide"),ri.prototype),P()(ri.prototype,"isBookGuide",[R.computed],Object.getOwnPropertyDescriptor(ri.prototype,"isBookGuide"),ri.prototype),ri);function hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var mi,gi,yi=(ui=function(e){O()(r,e);var t=hi(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),h()(e,"isShowCoin",li,v()(e)),h()(e,"awardCoinNum",pi,v()(e)),h()(e,"nextOpenTime",fi,v()(e)),e}return w()(r,[{key:"showCoin",value:function(){this.isShowCoin=!0}},{key:"hideCoin",value:function(){this.isShowCoin=!1}},{key:"showTreasure",value:function(){this.isShowCoin=!1,this.isShow=!0}},{key:"hideAction",value:function(){this.isShowCoin=!1,this.isShow=!1}},{key:"setProperties",value:function(e,t){this.awardCoinNum=e,this.nextOpenTime=t}},{key:"coinStr",get:function(){return(0,Pe.n)(this.awardCoinNum).valueStr}}]),r}(Q.Z),li=P()(ui.prototype,"isShowCoin",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pi=P()(ui.prototype,"awardCoinNum",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi=P()(ui.prototype,"nextOpenTime",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(ui.prototype,"coinStr",[R.computed],Object.getOwnPropertyDescriptor(ui.prototype,"coinStr"),ui.prototype),P()(ui.prototype,"showCoin",[R.action],Object.getOwnPropertyDescriptor(ui.prototype,"showCoin"),ui.prototype),P()(ui.prototype,"hideCoin",[R.action],Object.getOwnPropertyDescriptor(ui.prototype,"hideCoin"),ui.prototype),P()(ui.prototype,"showTreasure",[R.action],Object.getOwnPropertyDescriptor(ui.prototype,"showTreasure"),ui.prototype),P()(ui.prototype,"hideAction",[R.action],Object.getOwnPropertyDescriptor(ui.prototype,"hideAction"),ui.prototype),P()(ui.prototype,"setProperties",[R.action],Object.getOwnPropertyDescriptor(ui.prototype,"setProperties"),ui.prototype),ui);function vi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var bi,_i,ki=(mi=function(e){O()(r,e);var t=vi(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),h()(e,"recallReturnInfo",gi,v()(e)),e}return w()(r,[{key:"setReturnInfo",value:function(e,t,r){this.recallReturnInfo.avatars=e,this.recallReturnInfo.coinNumber=t,this.recallReturnInfo.isAutoReturn=r}},{key:"addReturnInfo",value:function(e,t,r){this.recallReturnInfo.avatars=this.recallReturnInfo.avatars.concat(e),this.recallReturnInfo.coinNumber=(0,Pe.Oq)(t,this.recallReturnInfo.coinNumber),this.recallReturnInfo.isAutoReturn=r}},{key:"getUniqAvatars",value:function(){var e=this.recallReturnInfo.avatars,t=[];return e.forEach((function(e){t.includes(e)||t.push(e)})),t}}]),r}(Q.Z),gi=P()(mi.prototype,"recallReturnInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{avatars:[],coinNumber:"",isAutoReturn:!1}}}),P()(mi.prototype,"setReturnInfo",[R.action],Object.getOwnPropertyDescriptor(mi.prototype,"setReturnInfo"),mi.prototype),P()(mi.prototype,"addReturnInfo",[R.action],Object.getOwnPropertyDescriptor(mi.prototype,"addReturnInfo"),mi.prototype),mi);function wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Si,Oi,Ii=(bi=function(e){O()(r,e);var t=wi(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),h()(e,"driveAwayReturnInfo",_i,v()(e)),e}return w()(r,[{key:"setReturnInfo",value:function(e,t,r){this.driveAwayReturnInfo.avatars=e,this.driveAwayReturnInfo.coinNumber=t,this.driveAwayReturnInfo.isAutoReturn=r}},{key:"addReturnInfo",value:function(e,t,r){this.driveAwayReturnInfo.avatars=this.driveAwayReturnInfo.avatars.concat(e),this.driveAwayReturnInfo.coinNumber=(0,Pe.Oq)(t,this.driveAwayReturnInfo.coinNumber),this.driveAwayReturnInfo.isAutoReturn=r}},{key:"getUniqAvatars",value:function(){var e=this.driveAwayReturnInfo.avatars,t=[];return e.forEach((function(e){t.includes(e)||t.push(e)})),t}}]),r}(Q.Z),_i=P()(bi.prototype,"driveAwayReturnInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{avatars:[],coinNumber:"",isAutoReturn:!1}}}),P()(bi.prototype,"setReturnInfo",[R.action],Object.getOwnPropertyDescriptor(bi.prototype,"setReturnInfo"),bi.prototype),P()(bi.prototype,"addReturnInfo",[R.action],Object.getOwnPropertyDescriptor(bi.prototype,"addReturnInfo"),bi.prototype),bi);function Ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Ti,Ci,Ei,Pi,Ri,xi=(Si=function(e){O()(r,e);var t=Ai(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),h()(e,"chargeBackCoupons",Oi,v()(e)),e}return w()(r,[{key:"setChargeBackCoupons",value:function(e){this.chargeBackCoupons=e}},{key:"removeChargeBackCoupons",value:function(){this.chargeBackCoupons=[]}},{key:"isValidCoupons",get:function(){var e;return null===(e=this.chargeBackCoupons)||void 0===e?void 0:e.length}}]),r}(Q.Z),Oi=P()(Si.prototype,"chargeBackCoupons",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P()(Si.prototype,"isValidCoupons",[R.computed],Object.getOwnPropertyDescriptor(Si.prototype,"isValidCoupons"),Si.prototype),P()(Si.prototype,"setChargeBackCoupons",[R.action],Object.getOwnPropertyDescriptor(Si.prototype,"setChargeBackCoupons"),Si.prototype),P()(Si.prototype,"removeChargeBackCoupons",[R.action],Object.getOwnPropertyDescriptor(Si.prototype,"removeChargeBackCoupons"),Si.prototype),Si),Di=r(77165),Ni=r(94753),Li=r(10415);function Mi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Gi=(Ti=(0,J.Y)((function(){(0,de.info)(he.Fe)})),Ci=(0,J.Y)((function(){(0,de.info)(he.Fe)})),Ei=function(e){O()(o,e);var t,r,n=Fi(o);function o(){var e;g()(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e=n.call.apply(n,[this].concat(r)),h()(e,"shareTaskStatus",Pi,v()(e)),h()(e,"rewardCoin",Ri,v()(e)),e}return w()(o,[{key:"achieveShareTask",value:(r=a()(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&this.missionParam){e.next=2;break}return e.abrupt("return");case 2:return r=Bi(Bi({},this.missionParam),{},{uin:t}),e.next=5,this.isomorphicRequest(Tr.gY,r);case 5:if(n=e.sent){e.next=8;break}throw new Error("task achieve error: ".concat(JSON.stringify(r)));case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"queryShareTaskInfo",value:(t=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.missionParam){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.isomorphicRequest(Tr.oh,this.missionParam);case 4:if(t=e.sent){e.next=7;break}throw new Error("query mission info error: ".concat(JSON.stringify(this.missionParam)));case 7:return(0,R.runInAction)((function(){var e=t.mission_status,n=t.fairy_coin_reward;r.shareTaskStatus=e,r.rewardCoin=n||"0"})),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isShareTaskFinished",get:function(){return this.shareTaskStatus===ft.Q_.FINISH_UPPER}},{key:"showShareCoin",get:function(){return!this.isShareTaskFinished&&this.rewardCoinStr}},{key:"rewardCoinStr",get:function(){return(0,Pe.n)(this.rewardCoin).valueStr}},{key:"missionParam",get:function(){return{}}}]),o}(Ar.Z),Pi=P()(Ei.prototype,"shareTaskStatus",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ft.Q_.FINISH_UPPER}}),Ri=P()(Ei.prototype,"rewardCoin",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"0"}}),P()(Ei.prototype,"isShareTaskFinished",[R.computed],Object.getOwnPropertyDescriptor(Ei.prototype,"isShareTaskFinished"),Ei.prototype),P()(Ei.prototype,"showShareCoin",[R.computed],Object.getOwnPropertyDescriptor(Ei.prototype,"showShareCoin"),Ei.prototype),P()(Ei.prototype,"rewardCoinStr",[R.computed],Object.getOwnPropertyDescriptor(Ei.prototype,"rewardCoinStr"),Ei.prototype),P()(Ei.prototype,"achieveShareTask",[Ti],Object.getOwnPropertyDescriptor(Ei.prototype,"achieveShareTask"),Ei.prototype),P()(Ei.prototype,"queryShareTaskInfo",[Ci],Object.getOwnPropertyDescriptor(Ei.prototype,"queryShareTaskInfo"),Ei.prototype),Ei);function ji(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Ui,Wi,Zi,Hi,Ki,zi,qi,Yi,Vi,Xi,Qi,Ji=function(e){O()(r,e);var t=ji(r);function r(){return g()(this,r),t.apply(this,arguments)}return w()(r,[{key:"showShare",value:function(e){this.rootStore.shareStore.showShare({assist_type:he.Pg.ASSIST_INVITE_FRIEND,shareTitle:e})}},{key:"missionParam",get:function(){var e=this.rootStore.leoForMission;return{module_id:e.module_id,mission_id:e.native_share_mission_id}}}]),r}(Gi);function $i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function to(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var ro,no,io,oo,ao,so,co,uo=(Ui=(0,J.Y)((function(e,t){var r=he.hS[t.rootStore.queries.assist_type],n=r&&(null==e?void 0:e.errorCode)?r[e.errorCode]:or;t.setToast(n||or)}),(function(e){var t=e.rootStore.queries,r=t.invitor_uin,n=t.share_type;r&&n&&((0,B.replaceQuery)({invitor_uin:"",share_type:""}),(0,Ni.WV)({invitor_uin:"",share_type:""}))})),Wi=(0,J.Y)(null,(function(e){var t=e.rootStore.queries,r=t.invitor_uin,n=t.share_type;r&&n&&((0,B.replaceQuery)({invitor_uin:"",share_type:""}),(0,Ni.WV)({invitor_uin:"",share_type:""}))})),Zi=function(e){O()(u,e);var t,r,n,o,s,c=to(u);function u(e,t){var r;return g()(this,u),r=c.call(this,e,t),h()(r,"shareTitle",Hi,v()(r)),h()(r,"share_type",Ki,v()(r)),h()(r,"uin",zi,v()(r)),h()(r,"shareInfo",qi,v()(r)),r.nativeShareTask=void 0,h()(r,"showAddFriendShare",Yi,v()(r)),h()(r,"showInviteFreshFriendShare",Vi,v()(r)),h()(r,"showRecallFriendShare",Xi,v()(r)),h()(r,"showShare",Qi,v()(r)),r.hideShare=function(){r.hideAction()},r.setUin(),Fr.ZP.isWeChatMiniProgram&&(0,R.runInAction)((function(){r.shareInfo.title=r.rootStore.leoConfig.shareInfo.wxAppTitle})),r.nativeShareTask=new Ji({},(function(){return r.rootStore})),r}return w()(u,[{key:"setUin",value:(s=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Li.getUin)();case 2:t=e.sent,(0,R.runInAction)((function(){r.uin=t}));case 4:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"rightTopNativeShare",value:(o=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.nativeShareTask.queryShareTaskInfo();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.rootStore.sendError(e.t0);case 8:return t=this.nativeShareTask.showShareCoin?"邀请好友玩多多精灵，可得<span>".concat(this.nativeShareTask.rewardCoinStr,"</span>金币"):"邀请好友玩多多精灵",e.next=11,this.prepareShowShare({shareTitle:t,share_type:he.t8.RIGHT_TOP_NATIVE});case 11:this.showAction();case 12:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return o.apply(this,arguments)})},{key:"prepareShowShare",value:(n=a()(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.shareTitle,n=t.share_type,this.share_type=n,this.shareTitle=r,this.uin){e.next=6;break}return e.next=6,this.setUin();case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"handleAssist",value:(r=a()(i().mark((function e(){var t,r,n,o,a,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.rootStore.queries,r=t.invitor_uin,n=t.share_type,![he.t8.RIGHT_TOP_NATIVE].includes(n)){e.next=10;break}return e.next=4,this.handleShareTaskAchieve(r,n);case 4:o=e.sent,a=o.code,o.finish?this.setToast(he.Un[n]):this.setToast((null===(s=he.hS[he.t8.RIGHT_TOP_NATIVE])||void 0===s?void 0:s[a])||"助力失败、请稍后再试~"),e.next=18;break;case 10:if(!r||![he.Pg.ASSIST_SPEED_UP,he.Pg.ASSIST_UNLOCK,he.Pg.ASSIST_INVITE_FRIEND,he.Pg.ASSIST_REMIND_FRIEND].includes(n)){e.next=18;break}return e.next=13,(0,ee.U7)({invitor_uin:r,assist_type:+n});case 13:return c=e.sent,u=c.success,e.next=17,this.handleShareTaskAchieve(r,n);case 17:u&&this.setToast(he.Un[n]);case 18:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"handleShareTaskAchieve",value:(t=a()(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(r!==he.Pg.ASSIST_INVITE_FRIEND){e.next=7;break}return e.next=5,this.rootStore.friendRankDialogStore.achieveInviteFriendTask(t);case 5:e.next=14;break;case 7:if(r!==he.Pg.ASSIST_REMIND_FRIEND){e.next=12;break}return e.next=10,this.rootStore.remindShareStore.achieveShareTask(t);case 10:e.next=14;break;case 12:if(r!==he.t8.RIGHT_TOP_NATIVE){e.next=14;break}return e.abrupt("return",this.nativeShareTask.achieveShareTask(t));case 14:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"setToast",value:function(e){var t=this;this.dispose=(0,R.reaction)((function(){return!t.rootStore.isLoading}),(function(){(0,qt.Z)(e)}))}},{key:"handleShareLinkAfterUserInit",value:function(){var e=this.rootStore.queries,t=e.invitor_uin,r=e.share_type;if(t&&r)return r===he.t8.RECALL_FRIEND?this.rootStore.friendshipStore.userBackToGameAchieve(t):r===he.t8.INVITE_FRESH_FRIEND?this.store.friendshipStore.freshUserBackAchieve({uin:t,mission_id:this.store.leoForMission.freshFriendAssistTaskId}):void 0}},{key:"notShareUin",get:function(){return this.share_type===he.Pg.ASSIST_INVITE_FRIEND&&this.rootStore.friendRankDialogStore.isInviteFinished||this.share_type===he.Pg.ASSIST_REMIND_FRIEND&&this.rootStore.remindShareStore.isShareTaskFinished}},{key:"codeShareConfig",get:function(){return{enable:!0,payloadMixin:{param_map:{scene_id:he.mB[this.share_type],window_data:JSON.stringify({assist_type:this.share_type,invitor_uin:this.notShareUin?"":this.uin,share_type:this.share_type})}},title:"{0}"}}}]),u}(Q.Z),Hi=P()(Zi.prototype,"shareTitle",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ki=P()(Zi.prototype,"share_type",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return he.Pg.ASSIST_TASK}}),zi=P()(Zi.prototype,"uin",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qi=P()(Zi.prototype,"shareInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.rootStore.leoConfig.shareInfo}}),P()(Zi.prototype,"notShareUin",[R.computed],Object.getOwnPropertyDescriptor(Zi.prototype,"notShareUin"),Zi.prototype),P()(Zi.prototype,"codeShareConfig",[R.computed],Object.getOwnPropertyDescriptor(Zi.prototype,"codeShareConfig"),Zi.prototype),Yi=P()(Zi.prototype,"showAddFriendShare",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return a()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.prepareShowShare({shareTitle:"好友复制口令后打开App，立即成为精灵好友",share_type:he.t8.ADD_FRIEND});case 2:e.showAction();case 3:case"end":return t.stop()}}),t)})))}}),Vi=P()(Zi.prototype,"showInviteFreshFriendShare",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=a()(i().mark((function t(r){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.coin,t.next=3,e.prepareShowShare({shareTitle:"去邀请好友助力, 领".concat(n,"金币"),share_type:he.t8.INVITE_FRESH_FRIEND});case 3:e.showAction();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Xi=P()(Zi.prototype,"showRecallFriendShare",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=a()(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.prepareShowShare({shareTitle:r||"",share_type:he.t8.RECALL_FRIEND});case 2:e.showAction();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Qi=P()(Zi.prototype,"showShare",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=a()(i().mark((function t(r){var n,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(r||{}).assist_type,o=void 0===n?he.Pg.ASSIST_TASK:n,e.share_type=o,o!==he.Pg.ASSIST_TASK){t.next=9;break}if(a=e.rootStore.taskListStore.assistTaskStore){t.next=6;break}return t.abrupt("return");case 6:a.setTaskProcess(!0),t.next=11;break;case 9:if(o!==he.t8.RIGHT_TOP_NATIVE){t.next=11;break}return t.abrupt("return",e.rightTopNativeShare());case 11:return t.next=13,e.prepareShowShare(eo(eo({},r),{},{share_type:o}));case 13:e.showAction();case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),P()(Zi.prototype,"prepareShowShare",[R.action],Object.getOwnPropertyDescriptor(Zi.prototype,"prepareShowShare"),Zi.prototype),P()(Zi.prototype,"handleAssist",[$.d,Ui],Object.getOwnPropertyDescriptor(Zi.prototype,"handleAssist"),Zi.prototype),P()(Zi.prototype,"handleShareLinkAfterUserInit",[Wi],Object.getOwnPropertyDescriptor(Zi.prototype,"handleShareLinkAfterUserInit"),Zi.prototype),Zi),lo=r(73688),po=r(72210),fo=r(30805),ho=r(21674);function mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var go,yo,vo,bo,_o,ko,wo,So,Oo,Io,Ao,To,Co,Eo,Po=(ro=(0,J.Y)((function(){(0,qt.Z)(he.Fe)})),no=(0,J.Y)((function(){(0,qt.Z)(he.Fe)}),(function(){return Promise.all([this.giftBoxQuery(),this.rootStore.requestMain("gift_box_draw",!1,!1,!1)])})),io=function(e){O()(o,e);var t,r,n=mo(o);function o(){var e;g()(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e=n.call.apply(n,[this].concat(r)),h()(e,"gift_boxes",oo,v()(e)),h()(e,"awards",ao,v()(e)),h()(e,"can_draw",so,v()(e)),h()(e,"server_time",co,v()(e)),e}return w()(o,[{key:"giftBoxQuery",value:(r=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ee.UK)();case 2:return t=e.sent,(0,R.runInAction)((function(){r.can_draw=t.can_draw,r.gift_boxes=t.gift_boxes||[],r.awards=t.awards||[],r.server_time=t.server_time})),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"giftBoxDraw",value:(t=a()(i().mark((function e(t){var r,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.box_sort,(n=this.gift_boxes.find((function(e){return e.box_sort===r})))&&n.box_status===he.kA.CAN_OPEN){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,ee.DH)({box_sort:r});case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"commitGiftBoxQuery",value:function(){return this.giftBoxQuery()}}]),o}(Q.Z),oo=P()(io.prototype,"gift_boxes",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ao=P()(io.prototype,"awards",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),so=P()(io.prototype,"can_draw",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),co=P()(io.prototype,"server_time",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y()().valueOf()}}),P()(io.prototype,"giftBoxQuery",[ro],Object.getOwnPropertyDescriptor(io.prototype,"giftBoxQuery"),io.prototype),P()(io.prototype,"giftBoxDraw",[$.d,no],Object.getOwnPropertyDescriptor(io.prototype,"giftBoxDraw"),io.prototype),P()(io.prototype,"commitGiftBoxQuery",[fe.P,$.d],Object.getOwnPropertyDescriptor(io.prototype,"commitGiftBoxQuery"),io.prototype),io),Ro=r(46058),xo=r(44302),Do=r(89082);function No(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?No(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):No(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}!function(e){e[e.NOT_START=0]="NOT_START",e[e.LIVING=1]="LIVING",e[e.END=2]="END"}(Eo||(Eo={}));var Bo,Fo,Go,jo,Uo,Wo=(go=R.observable.shallow,yo=R.observable.shallow,vo=(0,fe.P)(1e3),bo=(0,J.Y)((function(){(0,qt.Z)(he.Fe)})),_o=function(e){O()(p,e);var t,r,n,o,s,c,u,l=Mo(p);function p(){var e;g()(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=l.call.apply(l,[this].concat(r)),h()(e,"mallList",ko,v()(e)),h()(e,"page",wo,v()(e)),h()(e,"orderTask",So,v()(e)),h()(e,"canShowMallList",Oo,v()(e)),h()(e,"mall_index",Io,v()(e)),e.refer_banner_middle=void 0,h()(e,"mallListLiveInfo",Ao,v()(e)),h()(e,"canTakeCoupon",To,v()(e)),h()(e,"canUseCoupon",Co,v()(e)),e.toShop=function(){var t=a()(i().mark((function t(r){var n,o,a,s,c,u,l,p,f,d,h,m,g,y,b,_,k;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=v()(e),o=n.orderTask,a=n.mallList,s=n.mall_index,c=n.refer_banner_middle,u=a[s].cpt,p=(l=u||{}).landing_page_url,f=l.mkt_tr_sc,d=l.mkt_tr_token,h=l.mkt_domain,m=l.link_url_ext,g=Lo({page_el_sn:ye.zV.MALL_MAIN,ad:JSON.stringify(null==u?void 0:u.ad),refer_banner_middle:c},(0,Do.J)(n.orderTask.id,n.orderTask.status)),t.next=7,n.setMallCache();case 7:if(t.sent){t.next=10;break}return t.abrupt("return");case 10:if(p){t.next=12;break}throw new Error("landing_page_url not exsit");case 12:y=null==a?void 0:a[s],b=null==y?void 0:y.isNonStandard,_=b?null==y?void 0:y.pageElSn:g.page_el_sn,k=(0,M.appendQuery)(Lo(Lo(Lo(Lo({},(0,Ni.mB)(o.targetUrl)),(0,Ni.mB)(p)),m),{},{mkt_domain:h,mkt_tr_sc:f,mkt_mall_token:d,refer_page_el_sn:_,cpt_type:b?ft.Zg.Mall:void 0,_x_popup_sprite_mall_cpt_idx:"fr_".concat(s)}),p),r(k),(0,me.eH)(k,{page_el_sn:_});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return w()(p,[{key:"requestMallList",value:(u=a()(i().mark((function e(){var t,r,n,o,a=this,s=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>0&&void 0!==s[0]?s[0]:3,e.next=3,this.rootStore.isomorphicRequest(ee._s,{app_name:"fairy_npc",page:1,size:r,list_id:"".concat(this.rootStore.listId,"_fairy_npc")});case 3:return n=e.sent,o=null===(t=n.item_list)||void 0===t?void 0:t.filter((function(e){var t,r=e.cpt||{};return r.mall_name&&(null===(t=r.image_url_list)||void 0===t?void 0:t[0])})),(0,R.runInAction)((function(){a.mallList=(o||[]).concat(a.nonStandardMallInfos)})),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"requestFriendListAdvList",value:(c=a()(i().mark((function e(t){var r,n,o,a=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.abTestStore.useNpcFriendListTf){e.next=2;break}return e.abrupt("return",this.requestMallList(t));case 2:return e.next=4,this.store.isomorphicRequest(Tr.lw,{list_id:"".concat(this.store.listId,"_fairy_npc")});case 4:return n=e.sent,o=null===(r=n.adv_mission_volist)||void 0===r?void 0:r.filter((function(e){var t,r,n,i,o;return(null===(t=e.mall_npc_info_vo)||void 0===t?void 0:t.mall_name)&&(null===(r=e.mall_npc_info_vo)||void 0===r?void 0:r.mall_logo)||(null===(n=e.mission_vo)||void 0===n?void 0:n.title)&&(null===(i=e.mission_vo)||void 0===i||null===(o=i.config_data)||void 0===o?void 0:o.icon_url)})),(0,R.runInAction)((function(){a.mallList=(o||[]).map((function(e){return Lo(Lo({},e),{},{cpt:e.mall_npc_info_vo,isNonStandard:e.adv_mission_type===st.NonStandardCpt,pageElSn:e.page_el_sn})}))})),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"requestTask",value:(s=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.orderTask=this.orderTask.id&&this.orderMissionId===this.orderTask.id?this.orderTask:new xo.Z({id:this.orderMissionId},(function(){return r.rootStore}),(function(){return r.rootStore.taskListStore})),e.next=3,(0,Tr.oh)(this.orderTask.taskParam);case 3:return t=e.sent,(0,R.runInAction)((function(){Object.assign(r.orderTask,r.rootStore.taskListStore.$taskListStore.preHandlerTask(t))})),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"requestDetail",value:(o=a()(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestTask();case 2:return r=e.sent,e.next=5,this.rootStore.queryIsNpcMallRisk();case 5:if(!e.sent){e.next=7;break}return e.abrupt("return");case 7:if(r){e.next=14;break}return e.next=10,this.requestFriendListAdvList();case 10:return e.next=12,this.checkAllMallDetail();case 12:return(0,qt.Z)(he.Fe),e.abrupt("return");case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"setRefer",value:function(e){var t,r;this.mall_index=e,this.refer_banner_middle=null===(t=this.mallList[e].cpt)||void 0===t||null===(r=t.url_tracks)||void 0===r?void 0:r.refer_banner_middle}},{key:"setMallCache",value:(n=a()(i().mark((function e(){var t,r,n,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(o=null===(t=this.rootStore.shopTaskDialogStore.mall)||void 0===t?void 0:t.mall_id)||(null===(r=this.mallList[this.mall_index])||void 0===r||null===(n=r.cpt)||void 0===n?void 0:n.mall_id),a=this.orderMissionId,o){e.next=7;break}throw new Error("setMallCache params error: mall_id = ".concat(o));case 7:if(a){e.next=9;break}throw new Error("setMallCache params error: mission_id = ".concat(a));case 9:return e.next=11,(0,Tr.DK)({mall_id:o,mission_id:a});case 11:if(null==(s=e.sent)?void 0:s.success){e.next=14;break}throw new Error("setMallCache error");case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"checkAllMallDetail",value:(r=a()(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rootStore.queryIsNpcMallRisk();case 2:(0,R.runInAction)((function(){t.store.abTestStore.useNpcFriendListTf?t.mallList=t.rootStore.isNpcMallRisk?[]:t.mallList:t.mallList=t.rootStore.isNpcMallRisk?[]:t.mallList.filter((function(e){var t;return null===(t=e.cpt)||void 0===t?void 0:t.mall_id})),t.canShowMallList=!t.rootStore.isNpcMallRisk}));case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"queryMallListLive",value:(t=a()(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fr.ZP.isNativePlatform){e.next=2;break}return e.abrupt("return");case 2:if((t=this.mallList.map((function(e){var t;return null===(t=e.cpt)||void 0===t?void 0:t.mall_id})).filter((function(e){return!!e}))).length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,mt.Z.post(ht.Z.queryLiveByMallIds,{mall_ids:t});case 7:r=e.sent,this.mallListLiveInfo=(null==r?void 0:r.result)||[];case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isShowLive",value:function(e){return!!this.store.$$commonData.platform.isNativePlatform&&this.mallListLiveInfo.some((function(t){return+t.mall_id==+e}))}},{key:"mall",get:function(){var e;return(null===(e=this.mallList[this.mall_index])||void 0===e?void 0:e.cpt)||{}}},{key:"logoUrl",get:function(){var e;return null===(e=this.mall.image_url_list)||void 0===e?void 0:e[0]}},{key:"mall_name",get:function(){return this.mall.mall_name}},{key:"landing_page_url",get:function(){return this.mall.landing_page_url}},{key:"coinTaskItemCurrent",get:function(){var e=this;return this.coinTasks.find((function(t,r){return r===e.mall_index}))}},{key:"nonStandardMallInfos",get:function(){var e=this,t=function(e){return(0,Vr.hj)(e)||(0,Vr.HD)(e)},r=this.rootStore.leoForAb.friendListNonStandardNpcGray||[];return(this.rootStore.leoForFriendListNpc||[]).map((function(n,i){var o=(null==n?void 0:n.mallInfos)||[],a=r[i]||{},s=a.salt,c=a.showBuckets,u=void 0===c?0:c,l=a.pageElSn;if(!s)return null;if(!e.rootStore.abTestStore.commonAbTest(s,u))return null;var p=o.filter((function(e){return e&&t(e.startTime)&&t(e.endTime)&&(0,Vr.hj)(e.mallId)&&(0,Vr.HD)(e.mallLogo)&&(0,Vr.HD)(e.mallName)})).map((function(e){return Lo(Lo({},e),{},{startTime:Y()(e.startTime).valueOf(),endTime:Y()(e.endTime).valueOf()})})),f=e.rootStore.serverTime||Date.now();return Lo(Lo({},p.find((function(e){return f>=e.startTime&&f<e.endTime}))),{},{pageElSn:l})})).filter((function(e){return!!e})).map((function(e){var t=e.mallId,r=e.mallName,n=e.mallLogo;return{isNonStandard:!0,pageElSn:e.pageElSn,cpt:{mall_id:t,mall_name:r,image_url_list:[n],landing_page_url:"mall_page.html?mall_id=".concat(t)}}}))}},{key:"orderMissionId",get:function(){return this.rootStore.leoForMission.shopTaskOrderMissionId}}]),p}(Q.Z),ko=P()(_o.prototype,"mallList",[go],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wo=P()(_o.prototype,"page",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),So=P()(_o.prototype,"orderTask",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Oo=P()(_o.prototype,"canShowMallList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Io=P()(_o.prototype,"mall_index",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ao=P()(_o.prototype,"mallListLiveInfo",[yo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),To=P()(_o.prototype,"canTakeCoupon",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Co=P()(_o.prototype,"canUseCoupon",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(_o.prototype,"mall",[R.computed],Object.getOwnPropertyDescriptor(_o.prototype,"mall"),_o.prototype),P()(_o.prototype,"logoUrl",[R.computed],Object.getOwnPropertyDescriptor(_o.prototype,"logoUrl"),_o.prototype),P()(_o.prototype,"mall_name",[R.computed],Object.getOwnPropertyDescriptor(_o.prototype,"mall_name"),_o.prototype),P()(_o.prototype,"landing_page_url",[R.computed],Object.getOwnPropertyDescriptor(_o.prototype,"landing_page_url"),_o.prototype),P()(_o.prototype,"coinTaskItemCurrent",[R.computed],Object.getOwnPropertyDescriptor(_o.prototype,"coinTaskItemCurrent"),_o.prototype),P()(_o.prototype,"nonStandardMallInfos",[R.computed],Object.getOwnPropertyDescriptor(_o.prototype,"nonStandardMallInfos"),_o.prototype),P()(_o.prototype,"requestMallList",[J.Y],Object.getOwnPropertyDescriptor(_o.prototype,"requestMallList"),_o.prototype),P()(_o.prototype,"requestFriendListAdvList",[J.Y],Object.getOwnPropertyDescriptor(_o.prototype,"requestFriendListAdvList"),_o.prototype),P()(_o.prototype,"requestTask",[R.action,$.d,J.Y],Object.getOwnPropertyDescriptor(_o.prototype,"requestTask"),_o.prototype),P()(_o.prototype,"requestDetail",[vo,$.d],Object.getOwnPropertyDescriptor(_o.prototype,"requestDetail"),_o.prototype),P()(_o.prototype,"setMallCache",[bo],Object.getOwnPropertyDescriptor(_o.prototype,"setMallCache"),_o.prototype),_o),Zo=r(71964),Ho=r(88695),Ko=r(10960),zo=r(4546);function qo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Yo,Vo=(Bo=(0,J.Y)(null,(function(e){(0,R.runInAction)((function(){e.packetHelperGuideInfo=e.packetHelperGuideInfo||{}}))})),Fo=(0,J.Y)((function(e,t){return(0,qt.Z)(he.Fe),t.queryPacketHelperGuide()})),Go=function(e){O()(s,e);var t,r,n,o=qo(s);function s(){var e;g()(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=o.call.apply(o,[this].concat(r)),h()(e,"packetHelperGuideInfo",jo,v()(e)),h()(e,"cashMissionResult",Uo,v()(e)),e}return w()(s,[{key:"queryPacketHelperGuide",value:(n=a()(i().mark((function e(){var t,r,n,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.store.queries.manu_id,r=this.store.leoForMission.helperGuideCashMissionId,t&&r){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,mt.Z.post(ht.Z.queryPacketHelperGuideWindow,{manu_id:t});case 6:n=e.sent,(0,R.runInAction)((function(){o.packetHelperGuideInfo=null==n?void 0:n.result}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"checkPacketHelperGuideShow",value:(r=a()(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.when)((function(){return t.store.isRequestEnd&&t.store.isGameCreated}));case 2:return e.next=4,this.queryPacketHelperGuide();case 4:return e.abrupt("return",this.canShowHelperGuide);case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"achieveHelperCashMission",value:(t=a()(i().mark((function e(){var t,r,n,o,a,s,c=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canShowHelperGuide){e.next=2;break}return e.abrupt("return");case 2:return r=this.store.queries.manu_id,n=this.store.leoForMission,o=n.helperGuideCashMissionId,a=n.module_id,e.next=6,mt.Z.post(zo.Z.achieveSpecialMission,{module_id:a,mission_id:o,manu_id:r});case 6:return s=e.sent,(0,R.runInAction)((function(){c.cashMissionResult=s})),e.abrupt("return",!!(null===(t=this.cashMissionResult)||void 0===t?void 0:t.reward_num));case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"checkHelperCashMissionAchieve",value:function(){if(this.canShowHelperGuide&&!this.cashMissionResult)return this.achieveHelperCashMission()}},{key:"canShowHelperGuide",get:function(){var e,t,r=this.store.queries.manu_id,n=this.store.leoForMission.helperGuideCashMissionId;return!!(r&&n&&(null===(e=this.packetHelperGuideInfo)||void 0===e?void 0:e.display_flag)&&(null===(t=this.packetHelperGuideInfo)||void 0===t?void 0:t.cash_amount))}}]),s}(Ar.Z),jo=P()(Go.prototype,"packetHelperGuideInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uo=P()(Go.prototype,"cashMissionResult",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(Go.prototype,"canShowHelperGuide",[R.computed],Object.getOwnPropertyDescriptor(Go.prototype,"canShowHelperGuide"),Go.prototype),P()(Go.prototype,"queryPacketHelperGuide",[Bo],Object.getOwnPropertyDescriptor(Go.prototype,"queryPacketHelperGuide"),Go.prototype),P()(Go.prototype,"achieveHelperCashMission",[Fo],Object.getOwnPropertyDescriptor(Go.prototype,"achieveHelperCashMission"),Go.prototype),P()(Go.prototype,"checkHelperCashMissionAchieve",[$.d],Object.getOwnPropertyDescriptor(Go.prototype,"checkHelperCashMissionAchieve"),Go.prototype),Go),Xo=r(92748),Qo=r(305);function Jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var $o="ddsp_blessing_words",ea=(Yo=function(e){O()(o,e);var t,r,n=Jo(o);function o(){var e;g()(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).blessingWordList=[],e}return w()(o,[{key:"queryMaterialConfigInfo",value:(r=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.Z.post(ht.Z.queryMaterialConfigInfo);case 2:t=e.sent,this.blessingWordList=(null==t?void 0:t.blessing_word_list)||[];case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"pickBlessingWord",value:(t=a()(i().mark((function e(){var t,r,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryMaterialConfigInfo();case 2:if(!(null===(t=this.blessingWordList)||void 0===t?void 0:t.length)){e.next=6;break}return n=this.handleByPriority(this.blessingWordList),o=Math.floor(Math.random()*n.length),e.abrupt("return",null===(r=n[o])||void 0===r?void 0:r.blessing_words);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"handleByPriority",value:function(e){var t,r,n=(0,dt.aF)($o),i=(null===(t=this.blessingWordList.find((function(e){return n&&e.priority<+n})))||void 0===t?void 0:t.priority)||(null===(r=e[0])||void 0===r?void 0:r.priority);return(0,dt.o_)($o,i),e.filter((function(e){return e.priority===i}))}}]),o}(Ar.Z),P()(Yo.prototype,"queryMaterialConfigInfo",[J.Y],Object.getOwnPropertyDescriptor(Yo.prototype,"queryMaterialConfigInfo"),Yo.prototype),Yo),ta=function(){function e(t,r){g()(this,e),this.getRoot=void 0,this.getParent=void 0,this.getParent=t,this.getRoot=r}return w()(e,[{key:"store",get:function(){return this.getRoot()}},{key:"rootStore",get:function(){return this.getRoot()}},{key:"parentStore",get:function(){return this.getParent()}},{key:"scene",get:function(){return this.parentStore.scene}},{key:"load",get:function(){return this.scene.load}},{key:"sound",get:function(){return this.parentStore.sound}},{key:"anims",get:function(){return this.scene.anims}},{key:"matter",get:function(){return this.scene.matter}},{key:"canDoOperation",get:function(){return this.rootStore.isMainScene}},{key:"loadHandler",get:function(){return this.parentStore.loadHandler}}]),e}();function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var na=function(e){O()(r,e);var t=ra(r);function r(e,n){var i;return g()(this,r),(i=t.call(this,e,n)).img="",i.sprite=null,i.isDestroyed=!1,i.type="",i}return w()(r,[{key:"isTextureReady",value:function(){return this.load.textureManager.exists(this.img)}},{key:"addMatterSprite",value:function(){return this.sprite=this.matter.add.sprite(0,0,this.img,0),this.type=r.PHASER_OBJECT_TYPE.MATTER_SPRITE,this.sprite}},{key:"addSprite",value:function(){return this.sprite=this.scene.add.sprite(0,0,this.img,0),this.type=r.PHASER_OBJECT_TYPE.SPRITE,this.sprite}},{key:"setDepth",value:function(e){!this.isDestroyed&&this.sprite.setDepth(e)}},{key:"hide",value:function(){var e;null===(e=this.sprite)||void 0===e||e.setVisible(!1)}},{key:"show",value:function(){this.sprite.setVisible(!0)}},{key:"isStatic",value:function(){var e;return!(!this.isMatterSprite||!(null===(e=this.sprite)||void 0===e?void 0:e.body))&&this.sprite.isStatic()}},{key:"setStatic",value:function(e){var t,r;this.isMatterSprite&&(null===(t=this.sprite)||void 0===t||null===(r=t.body)||void 0===r?void 0:r.parts)&&!this.isDestroyed&&this.sprite.setStatic(e)}},{key:"update",value:function(){}},{key:"destroy",value:function(){var e,t;this.isDestroyed=!0,this.type="",null===(e=this.stopFrameAnimation)||void 0===e||e.call(this),null===(t=this.sprite)||void 0===t||t.destroy()}},{key:"depthManager",get:function(){return this.parentStore.depthManager}},{key:"commonEffect",get:function(){return this.parentStore.commonEffect}},{key:"isMatterSprite",get:function(){return this.type===r.PHASER_OBJECT_TYPE.MATTER_SPRITE}},{key:"isNormalSprite",get:function(){return this.type===r.PHASER_OBJECT_TYPE.SPRITE}},{key:"levelMap",get:function(){var e;return(null===(e=this.rootStore)||void 0===e?void 0:e.levelMap)||{}}}]),r}(ta);function ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}na.PHASER_OBJECT_TYPE={MATTER_SPRITE:"matter_sprite",SPRITE:"sprite"};var oa,aa,sa,ca,ua,la,pa,fa,da,ha,ma,ga,ya=function(e){O()(n,e);var t,r=ia(n);function n(e,t,i){var o;return g()(this,n),(o=r.call(this,t,i)).imgKey="SURPRISE_BOX",o.entity=void 0,o.shake=void 0,o.emitterManager=void 0,o.scale=void 0,o.index=void 0,o.init(e),o}return w()(n,[{key:"init",value:function(){var e=a()(i().mark((function e(t){var r,n,o,a,s,c,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.x,n=t.y,o=t.index,a=t.needPopOut,s=void 0===a?!!this.store.queries.test_box:a,c=t.award_type,u=t.popPosition,l=void 0===u?{x:0,y:0}:u,this.index=o,this.scale=(0,Ko.fp)(.165),e.next=5,this.loadAssets();case 5:if(e.t0=s,!e.t0){e.next=9;break}return e.next=9,this.startPopOut({x:r,y:n,popPosition:l});case 9:this.startShake({x:r,y:n,scale:this.scale}),(0,ge.oy)(ye.aG.BOX_ITEM,{index:o,award_type:c,firstPop:~~s}),this.store.duoduoSpriteLogger({stage:"sps_bag_enter"});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e,t;_()(C()(n.prototype),"destroy",this).call(this),this.shake&&this.scene.tweens.remove(this.shake),this.shake=void 0,null===(e=this.entity)||void 0===e||e.destroy(),this.entity=void 0,null===(t=this.emitterManager)||void 0===t||t.destroy(),this.emitterManager=void 0}},{key:"loadAssets",value:function(){return this.loadHandler.loadCustom({type:"image",key:this.imgKey,url:this.loadHandler.toCDNImg("https://promotion.pddpic.com/promo/b4f56150-67f9-4057-9e2f-1b854cee6256.png.slim.png")})}},{key:"startShake",value:function(e){var t=this,r=e.x,n=e.y,i=e.scale;this.entity=this.scene.add.image(r,n,this.imgKey),this.entity.setScale(i),this.entity.setDepth(this.depthManager.middleDepth+10),this.entity.setVisible(!0),this.entity.setInteractive().on("pointerup",(function(){var e,r;t.store.surpriseStore.openBag(t.index,{startPosition:{x:(0,Ko.BO)((null===(e=t.entity)||void 0===e?void 0:e.x)||0),y:(0,Ko.BO)((null===(r=t.entity)||void 0===r?void 0:r.y)||0)}})})),this.shake=this.scene.tweens.add({targets:this.entity,duration:200,ease:"Linear",angle:{getEnd:function(){return 10},getStart:function(e){return e._notBack=!e._notBack,e._notBack?-10:0}},delay:500,yoyo:!0,repeat:2,loopDelay:5e3,loop:-1,onLoop:function(e,t,r){t.forEach((function(e){e._notBack=!1}))}})}},{key:"startPopOut",value:(t=a()(i().mark((function e(t){var r,n,o,a,s,c,u,l,p,f,d,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.x,n=t.y,o=t.popPosition,this.emitterManager=this.scene.add.particles(this.imgKey).setDepth(this.depthManager.middleDepth).setVisible(!0),a=(0,Ko.dV)(1.5),s=(0,Ko.dV)(.5),c=new Phaser.Geom.Rectangle(r-a/2,n-(0,Ko.dV)(.5),a,s),u=this.emitterManager.createEmitter({x:o.x,y:o.y,angle:225,lifespan:1e3,speed:(0,Ko.dV)(.375),scale:{start:.1,end:.3},gravityY:1e3,bounce:.8,bounds:c,collideTop:!1,collideLeft:!1,quantity:1,maxParticles:1}),l=new Promise((function(e){u.deathCallback=function(t){return e({x:t.x,y:t.y})}})),e.next=9,l;case 9:if(p=e.sent){e.next=12;break}return e.abrupt("return");case 12:return f=this.emitterManager.createEmitter({x:p.x,y:p.y,angle:255,lifespan:1e3,speedY:(0,Ko.dV)(-1.65),scale:{start:.3,end:this.scale},gravityX:(0,Ko.fp)(100),gravityY:(0,Ko.fp)(100),quantity:1,maxParticles:1}),d=new Promise((function(e){f.deathCallback=function(t){return e({x:t.x,y:t.y})}})),e.next=18,d;case 18:if(h=e.sent){e.next=21;break}return e.abrupt("return");case 21:return this.emitterManager.createEmitter({x:h.x,y:h.y,speed:(0,Ko.dV)(1.65),scale:this.scale,moveToX:r,moveToY:n,quantity:1,maxParticles:1,lifespan:350}),e.abrupt("return",(0,Ie._v)(350));case 24:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),n}(na);function va(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?va(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):va(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var ka,wa,Sa,Oa,Ia,Aa,Ta,Ca,Ea,Pa,Ra,xa,Da,Na,La,Ma,Ba,Fa,Ga,ja,Ua,Wa={10048:"已经领光了，下次再来吧~"},Za=function(e,t){var r=e||[];switch(t){case Yr.COUPON:return r.map((function(e){return{name:e.award_name,img:e.img_url,discount_param:e.discount_price,start_time:e.start_time,end_time:e.end_time,goods_id:e.goods_id,batch_sn:e.batch_sn}}));case Yr.PERSONALIZED_GOODS_COUPON:return r.map((function(e){return{name:e.goods_name,img:e.goods_img,discount_param:e.discount_param,start_time:e.start_time,end_time:e.end_time,goods_id:e.goods_id,batch_sn:e.batch_sn}}));default:return r}},Ha=(oa=(0,J.Y)((function(e,t){return t.createSurpriseBoxList()})),aa=(0,fe.P)(500),sa=(0,J.Y)((function(e,t){return(0,de.info)(he.Fe),t.createSurpriseBoxList()})),ca=(0,J.Y)(function(){var e=a()(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wa[null==t?void 0:t.errorCode]||he.Fe,(0,de.info)(n),e.next=4,r.createSurpriseBoxList();case 4:r.store.surpriseCouponDialogStore.hideAction();case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),ua=(0,J.Y)((function(){(0,de.info)(he.Fe)})),la=function(e){O()(d,e);var t,r,n,o,s,u,l,p,f=_a(d);function d(){var e;g()(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=f.call.apply(f,[this].concat(r)),h()(e,"bagList",pa,v()(e)),h()(e,"couponRecordList",fa,v()(e)),h()(e,"goodsList",da,v()(e)),h()(e,"bagNumLimit",ha,v()(e)),h()(e,"todayBagLimit",ma,v()(e)),e.timer=void 0,e.dispose=void 0,e.pageIndex=1,e.hasMore=!0,h()(e,"surpriseBoxList",ga,v()(e)),e}return w()(d,[{key:"createSurpriseBoxList",value:(p=a()(i().mark((function e(t){var r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.abTestStore.showSurprise){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.querySurpriseBagsInfo();case 4:if(this.store.isMainScene&&!this.store.gameStore.isChanging){e.next=6;break}return e.abrupt("return");case 6:this.surpriseBoxList.length&&this.surpriseBoxList.forEach((function(e){var t;return null===(t=e.destroy)||void 0===t?void 0:t.call(e)})),this.surpriseBoxList=this.bagList.slice(0,5).map((function(e,n){return r.createSurpriseBoxEntity(n,t&&n===r.bagList.length-1)}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"createSurpriseBoxEntity",value:function(e,t){var r,n,i=this,o=(null===(r=this.store.gameStore.seats[e])||void 0===r?void 0:r.instance)||{},a=o.seatEntity,s=(o.seatAtlasConfig||{}).SURPRISE_BOX_OFFSET,c=void 0===s?{x:0,y:.22}:s;return new ya({x:a.x+(0,Ko.dV)(c.x),y:a.y+(0,Ko.dV)(c.y),index:e,needPopOut:t,award_type:null===(n=this.bagList[e])||void 0===n?void 0:n.award_type,popPosition:{x:a.x-a.displayWidth/2,y:a.y+a.displayHeight/2}},(function(){return i.store.gameStore}),(function(){return i.store}))}},{key:"querySurpriseBagsInfo",value:(l=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.Z.post(ht.Z.querySurpriseBagInfo,{});case 2:t=e.sent,(0,R.runInAction)((function(){r.bagList=(null==t?void 0:t.lucky_bags)||[],r.bagNumLimit=null==t?void 0:t.bag_num_limit,r.todayBagLimit=null==t?void 0:t.today_bag_num_limit}));case 4:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)})},{key:"sendBag",value:(u=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.Z.post(ht.Z.sendSurpriseBag,{lucky_bag_type:Pn});case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"openBag",value:(s=a()(i().mark((function e(t,r){var n,o,a,s,c,u,l,p,f,d,h,m,g,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.bagList[t]){e.next=3;break}return e.abrupt("return");case 3:if(o=n.award_type,a=n.award_id,(0,ge.iH)(ye.aG.BOX_ITEM,{index:t,award_type:o}),o!==Yr.PERSONALIZED_GOODS_COUPON){e.next=10;break}return e.next=8,this.requestCouponGoodsList();case 8:return this.goodsList.length&&this.store.surpriseCouponDialogStore.showAction(ba({bagInfo:n},r)),e.abrupt("return");case 10:if(o!==Yr.COIN){e.next=19;break}return e.next=13,mt.Z.post(ht.Z.gainSurpriseAward,{award_id:a,award_type:o});case 13:if(s=e.sent,(0,Pe.ED)(null==s?void 0:s.coin_num,0)){e.next=16;break}throw new Error("openBag coin result error");case 16:return this.createSurpriseBoxList(),this.store.coinRewardBoxDialogStore.showAction(ba({coin:null==s?void 0:s.coin_num,title:this.store.leoConfig.surprise_coin_title},r)),e.abrupt("return");case 19:if(o!==Yr.COUPON){e.next=32;break}return e.next=22,mt.Z.post(ht.Z.gainSurpriseAward,{award_id:a,award_type:o});case 22:if(c=e.sent,u=(null==c?void 0:c.coupon_bo)||{},p=(l=u).award_name,f=l.img_url,d=l.full_price,h=l.discount_price,m=l.min_on_sale_group_price_original,g=l.goods_id,y={promo_price:m-h,goods_name:p,goods_image_url:f,discount_price:h,full_price:d,goods_id:g},this.createSurpriseBoxList(),!(0,Vr.m5)(y,{promo_price:"number",goods_name:"string",goods_image_url:"string",discount_price:"number",full_price:"number",goods_id:"number"})){e.next=31;break}this.store.surpriseCoupon2DialogStore.showAction(y),e.next=32;break;case 31:throw new Error("openBag coupon result invalid error");case 32:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"gainCoupon",value:(o=a()(i().mark((function e(t,r){var n,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.award_id,o=t.award_type,a=r.coupon_batch_sn,s=r.goods,e.next=4,mt.Z.post(ht.Z.gainSurpriseAward,{award_id:n,award_type:o,batch_sn:a,goods_id:null==s?void 0:s.goods_id,goods_name:(null==s?void 0:s.goods_name)||(null==s?void 0:s.short_name),goods_img:(null==s?void 0:s.hd_thumb_url)||(null==s?void 0:s.thumb_url)});case 4:return e.next=6,this.createSurpriseBoxList();case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"requestCouponGoodsList",value:(n=a()(i().mark((function e(){var t,r,n,o,a=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this.goodsList.slice(4)).length>=4)){e.next=4;break}return(0,R.runInAction)((function(){a.goodsList=t})),e.abrupt("return");case 4:if(r=function(e){if(1===e&&!a.goodsList.length)throw a.pageIndex=1,new Error("requestCouponGoodsList error, 品数量为空");a.hasMore||(a.pageIndex=1),a.goodsList.length<4&&(e>1&&(0,R.runInAction)((function(){a.goodsList=[]})),a.pageIndex=1)},!this.store.isTest){e.next=12;break}return e.next=8,mt.Z.post({api:"api/liverpool/coupon_center/user_coupon_page/query_goods_batch_list"},{list_id:"".concat(this.store.listId,"_").concat(Date.now()),count:20,offset:0});case 8:return n=e.sent,(0,R.runInAction)((function(){a.goodsList=((null==n?void 0:n.goods_display_unit_volist)||[]).filter((function(e){var t;return 1===(null===(t=e.normal_goods)||void 0===t?void 0:t.status)})).map((function(e){var t,r;return{goods:e.normal_goods,coupon_batch_sn:null===(t=e.normal_goods)||void 0===t?void 0:t.batch_sn,coupon_discount:null===(r=e.normal_goods)||void 0===r?void 0:r.discount}}))})),r(1),e.abrupt("return");case 12:return e.next=15,mt.Z.post(ht.Z.queryAdGoodsList,{page_index:this.pageIndex++,page_size:20,scene_id:1425,list_id:"".concat(this.store.listId,"_").concat(1425)});case 15:o=e.sent,(0,R.runInAction)((function(){a.hasMore=null==o?void 0:o.has_more,a.goodsList=[].concat(c()(t),c()(((null==o?void 0:o.item_list)||[]).filter((function(e){return e.coupon_batch_sn&&e.coupon_discount}))))})),r(this.pageIndex-1);case 18:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"requestCouponRecord",value:(r=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.abTestStore.showSurprise){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mt.Z.post(ht.Z.querySurpriseAward);case 4:t=e.sent,(0,R.runInAction)((function(){r.couponRecordList=[].concat(c()(Za(null==t?void 0:t.coupon_bos,Yr.COUPON)),c()(Za(null==t?void 0:t.goods_coupon_bos,Yr.PERSONALIZED_GOODS_COUPON)))}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"startTimerStep",value:function(){var e=this;!this.store.abTestStore.showSurprise||this.dispose||this.reachBagLimit||(this.dispose=(0,R.when)((function(){return e.canCalcTime}),(function(){e.dispose=void 0,e.setTimer()})))}},{key:"setTimer",value:function(){var e,t=this,r=this.store.server_time,n=this.store.leoConfig.surprise_box_time,i=void 0===n?6e4:n;null===(e=this.timer)||void 0===e||e.remove(),this.timer=new lo.jo({now:r,endTime:r+i,onFinish:function(){t.startSendBagStep()}})}},{key:"startSendBagStep",value:(t=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.reachBagLimit){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.sendBag();case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return");case 7:(0,R.when)((function(){return r.store.isPageShow&&!r.reachBagLimit&&r.hasPetWorkInMainScene&&r.store.checkDialogsClosed()}),a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.createSurpriseBoxList(t);case 2:r.reachBagLimit||r.startTimerStep();case 3:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"canCalcTime",get:function(){return this.hasPetWorkInMainScene&&"number"==typeof this.bagNumLimit&&"boolean"==typeof this.todayBagLimit&&!this.reachBagLimit}},{key:"reachBagLimit",get:function(){return this.todayBagLimit||"number"==typeof this.bagNumLimit&&this.bagList.length>=this.bagNumLimit}},{key:"hasPetWorkInMainScene",get:function(){return this.store.isMainScene&&!!this.store.myNativeFairyList.find((function(e){return e.fairy_status===Cr.jq.WORK}))}}]),d}(Ar.Z),pa=P()(la.prototype,"bagList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fa=P()(la.prototype,"couponRecordList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),da=P()(la.prototype,"goodsList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ha=P()(la.prototype,"bagNumLimit",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ma=P()(la.prototype,"todayBagLimit",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ga=P()(la.prototype,"surpriseBoxList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P()(la.prototype,"canCalcTime",[R.computed],Object.getOwnPropertyDescriptor(la.prototype,"canCalcTime"),la.prototype),P()(la.prototype,"reachBagLimit",[R.computed],Object.getOwnPropertyDescriptor(la.prototype,"reachBagLimit"),la.prototype),P()(la.prototype,"hasPetWorkInMainScene",[R.computed],Object.getOwnPropertyDescriptor(la.prototype,"hasPetWorkInMainScene"),la.prototype),P()(la.prototype,"querySurpriseBagsInfo",[J.Y],Object.getOwnPropertyDescriptor(la.prototype,"querySurpriseBagsInfo"),la.prototype),P()(la.prototype,"sendBag",[$.d,oa],Object.getOwnPropertyDescriptor(la.prototype,"sendBag"),la.prototype),P()(la.prototype,"openBag",[aa,$.d,sa],Object.getOwnPropertyDescriptor(la.prototype,"openBag"),la.prototype),P()(la.prototype,"gainCoupon",[$.d,ca],Object.getOwnPropertyDescriptor(la.prototype,"gainCoupon"),la.prototype),P()(la.prototype,"requestCouponGoodsList",[ua],Object.getOwnPropertyDescriptor(la.prototype,"requestCouponGoodsList"),la.prototype),P()(la.prototype,"requestCouponRecord",[J.Y],Object.getOwnPropertyDescriptor(la.prototype,"requestCouponRecord"),la.prototype),la),Ka=r(24857),za=r(26452);function qa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Ya,Va,Xa,Qa=(ka=(0,J.Y)(null,(function(e){(0,R.runInAction)((function(){e.isMainRequesting=!1}))})),wa=(0,fe.P)(2e3),Sa=(0,J.Y)((function(){(0,de.info)(he.Fe)}),(function(e){e.requestRollEggMainInfo()})),Oa=(0,J.Y)((function(e){var t=10051===(null==e?void 0:e.errorCode)?"扭蛋机会已用完~":he.Fe;(0,de.info)(t)}),function(){var e=a()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,R.runInAction)((function(){t.isDrawing=!1})),e.next=3,t.requestRollEggMainInfo();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ia=(0,fe.P)(1e3),Aa=(0,fe.P)(1e3),Ta=(0,J.Y)((function(e,t){100107!==(null==e?void 0:e.errorCode)?(0,de.info)(he.Fe):t.store.rollEggGoodsOrderDialogStore.showAction({showType:Ka.eI.ADDRESS_FAIL})})),Ca=(0,J.Y)((function(){(0,de.info)(he.Fe)})),Ea=function(e){O()(f,e);var t,r,n,o,s,u,p=qa(f);function f(){var e;g()(this,f);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=p.call.apply(p,[this].concat(r)),h()(e,"rollEggAwardList",Pa,v()(e)),h()(e,"remainDrawCount",Ra,v()(e)),h()(e,"barrageList",xa,v()(e)),h()(e,"isShowRabbitNpc",Da,v()(e)),h()(e,"missionInfo",Na,v()(e)),h()(e,"missionRemainCount",La,v()(e)),h()(e,"missionMaxCount",Ma,v()(e)),h()(e,"isDrawing",Ba,v()(e)),h()(e,"isMainRequesting",Fa,v()(e)),h()(e,"serverTime",Ga,v()(e)),e.drawResult=void 0,h()(e,"cptInfo",ja,v()(e)),e.isNewPrizeItem=function(t){return!!t.publish_time&&!!e.serverTime&&Y()(e.serverTime).diff(t.publish_time,"day",!0)<=3},h()(e,"confirmOrder",Ua,v()(e)),e}return w()(f,[{key:"setRabbitNpcClick",value:function(){this.store.cache.set(za.r.HAS_CLICK_RABBIT_NPC,1)}},{key:"clearDrawResult",value:function(){this.drawResult=void 0}},{key:"requestRollEggMainInfo",value:(u=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isMainRequesting=!0,e.next=3,mt.Z.post(ht.Z.queryColorEggMainInfo);case 3:t=e.sent,(0,R.runInAction)((function(){r.serverTime=t.server_time,r.rollEggAwardList=r.listFilter(t.color_egg_award_volist||[]),r.remainDrawCount=t.remain_draw_times,r.barrageList=t.barrage_vos||[],r.missionInfo=t.mission_vo||{},r.cptInfo=t.cpt_live_mall_info,"number"==typeof t.mission_click_times&&"number"==typeof t.mission_upper_limit&&(r.missionMaxCount=t.mission_upper_limit,r.missionRemainCount=Math.max(r.missionMaxCount-t.mission_click_times,0))}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"listFilter",value:function(e){var t=this;return e.filter((function(e){return!(1e3===e.award_type&&!t.store.messengerStore.hasUnlock)}))}},{key:"doClickEggMission",value:(s=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.Z.post(ht.Z.clickColorEggMission);case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"drawLottery",value:(o=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,R.runInAction)((function(){r.isDrawing=!0})),e.next=3,mt.Z.post(ht.Z.drawColorEgg);case 3:if((t=e.sent).entry_type){e.next=7;break}throw new Error("drawLottery error");case 7:return this.drawResult=t,e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"startDrawProcess",value:(n=a()(i().mark((function e(){var t,r,n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isMainRequesting){e.next=2;break}return e.abrupt("return");case 2:if(t=this.missionRemainCount,!this.drawReachLimit){e.next=7;break}return r=t>0?"扭蛋机会已用完, 去做任务可以+机会~":"今日扭蛋机会已用完, 欢迎明天再来吖~",(0,de.info)(r),e.abrupt("return");case 7:return e.next=9,Promise.all([this.drawLottery(),this.startDrawMachineAnimation()]);case 9:if(e.sent.every((function(e){return e}))){e.next=12;break}return e.abrupt("return");case 12:return(0,ge.iH)(ye.RZ.DRAW_BTN),this.store.rollEggOpenStore.showAction(),e.next=16,(0,R.when)((function(){return!n.store.rollEggOpenStore.isShow}));case 16:this.store.rollEggAwardResultDialogStore.showAction(),this.store.duoduoSpriteLogger({stage:"roll_egg_draw"});case 18:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"startDrawMachineAnimation",value:(r=a()(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.checkLowDeviceDowngrade("roll_egg_draw")){e.next=2;break}return e.abrupt("return",!0);case 2:return this.store.rollEggMachineAnimationStore.showAction(),e.next=5,(0,R.when)((function(){return!t.store.rollEggMachineAnimationStore.isShow}));case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"confirmRollEggAward",value:function(e){return mt.Z.post(ht.Z.sendColorEggAwards,e)}},{key:"sendCoinForOrderFail",value:(t=a()(i().mark((function e(){var t,r,n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.drawResult){e.next=2;break}return e.abrupt("return");case 2:return t=this.drawResult,r=t.trace_id,n=t.award_id,e.next=5,this.confirmRollEggAward({trace_id:r,send_coin_for_entity:!0,award_id:n});case 5:if(o=e.sent,null==(a=o.result)?void 0:a.coin_num){e.next=9;break}throw new Error("sendCoinForOrderFail error");case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"showRabbitNpc",value:function(){this.isShowRabbitNpc=!0}},{key:"hideRabbitNpc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isShowRabbitNpc=!1,this.store.cache.set(za.r.HAS_SHOW_RABBIT_NPC_LEVEL,this.store.myTopRank),e&&this.setRabbitNpcClick()}},{key:"checkRabbitNpcShow",value:function(){if(this.canPlayRollEgg){var e=this.store.leoConfig.rabbitNpcShowLevelInterval,t=void 0===e?3:e,r=+(this.store.cache.get(za.r.HAS_SHOW_RABBIT_NPC_LEVEL)||0),n=this.store.myTopRank>r;(!this.hasClickRabbitNpc&&n||this.hasClickRabbitNpc&&n&&this.store.myTopRank%t==0)&&this.showRabbitNpc()}}},{key:"backUpdate",value:function(){this.store.rollEggMachineDialogStore.isShow&&this.requestRollEggMainInfo()}},{key:"prizePreviewList",get:function(){return this.rollEggAwardList.slice(0,4)}},{key:"canShowMissionCount",get:function(){return[this.missionRemainCount,this.missionMaxCount].every((function(e){return"number"==typeof e&&e>=0}))}},{key:"missionReachLimit",get:function(){return"number"==typeof this.missionRemainCount&&this.missionRemainCount<=0}},{key:"drawReachLimit",get:function(){return"number"==typeof this.remainDrawCount&&this.remainDrawCount<=0}},{key:"canPlayRollEgg",get:function(){var e;if(!(null===(e=this.store.abTestStore)||void 0===e?void 0:e.canRollEgg))return!1;var t=this.store.leoConfig.canPlayRollEggMinLevel;return this.store.isPassGame||this.store.myTopRank>=t}},{key:"isRollEggLockStatus",get:function(){var e,t=this.store.leoConfig.canShowRollEggIconMinLevel,r=void 0===t?3:t;return(null===(e=this.store.abTestStore)||void 0===e?void 0:e.canRollEgg)&&!this.canPlayRollEgg&&this.store.myTopRank>=r}},{key:"showDialogNewTag",get:function(){return this.hasNewPrize&&this.latestPublishTime!==+this.store.cache.get(za.r.HIDE_EGG_DIALOG_NEW_TAG_TIPS)}},{key:"hasNewPrize",get:function(){return this.rollEggAwardList.some(this.isNewPrizeItem)}},{key:"latestPublishTime",get:function(){return Math.max.apply(Math,c()(this.rollEggAwardList.map((function(e){return e.publish_time||0}))))}},{key:"hasClickRabbitNpc",get:function(){return this.store.cache.get(za.r.HAS_CLICK_RABBIT_NPC)}},{key:"useCouponOrderPageQuery",get:function(){var e,t=this.store.leoForMission,r=t.module_id,n=t.rollEggUseCouponMissionId;return e={module_id:r,mission_id:n},l()(e,ft.u6.MODULE_ID,r),l()(e,ft.u6.MISSION_ID,n),e}}]),f}(Ar.Z),Pa=P()(Ea.prototype,"rollEggAwardList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ra=P()(Ea.prototype,"remainDrawCount",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xa=P()(Ea.prototype,"barrageList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Da=P()(Ea.prototype,"isShowRabbitNpc",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Na=P()(Ea.prototype,"missionInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),La=P()(Ea.prototype,"missionRemainCount",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ma=P()(Ea.prototype,"missionMaxCount",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ba=P()(Ea.prototype,"isDrawing",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fa=P()(Ea.prototype,"isMainRequesting",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ga=P()(Ea.prototype,"serverTime",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ja=P()(Ea.prototype,"cptInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(Ea.prototype,"prizePreviewList",[R.computed],Object.getOwnPropertyDescriptor(Ea.prototype,"prizePreviewList"),Ea.prototype),P()(Ea.prototype,"canShowMissionCount",[R.computed],Object.getOwnPropertyDescriptor(Ea.prototype,"canShowMissionCount"),Ea.prototype),P()(Ea.prototype,"missionReachLimit",[R.computed],Object.getOwnPropertyDescriptor(Ea.prototype,"missionReachLimit"),Ea.prototype),P()(Ea.prototype,"drawReachLimit",[R.computed],Object.getOwnPropertyDescriptor(Ea.prototype,"drawReachLimit"),Ea.prototype),P()(Ea.prototype,"canPlayRollEgg",[R.computed],Object.getOwnPropertyDescriptor(Ea.prototype,"canPlayRollEgg"),Ea.prototype),P()(Ea.prototype,"isRollEggLockStatus",[R.computed],Object.getOwnPropertyDescriptor(Ea.prototype,"isRollEggLockStatus"),Ea.prototype),P()(Ea.prototype,"showDialogNewTag",[R.computed],Object.getOwnPropertyDescriptor(Ea.prototype,"showDialogNewTag"),Ea.prototype),P()(Ea.prototype,"hasNewPrize",[R.computed],Object.getOwnPropertyDescriptor(Ea.prototype,"hasNewPrize"),Ea.prototype),P()(Ea.prototype,"requestRollEggMainInfo",[ka,R.action],Object.getOwnPropertyDescriptor(Ea.prototype,"requestRollEggMainInfo"),Ea.prototype),P()(Ea.prototype,"doClickEggMission",[$.d,wa,Sa],Object.getOwnPropertyDescriptor(Ea.prototype,"doClickEggMission"),Ea.prototype),P()(Ea.prototype,"drawLottery",[$.d,Oa],Object.getOwnPropertyDescriptor(Ea.prototype,"drawLottery"),Ea.prototype),P()(Ea.prototype,"startDrawProcess",[Ia,$.d],Object.getOwnPropertyDescriptor(Ea.prototype,"startDrawProcess"),Ea.prototype),Ua=P()(Ea.prototype,"confirmOrder",[Aa,$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=a()(i().mark((function t(r){var n,o,a,s,c,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.address_snapshot_id,o=r.address_id,e.drawResult){t.next=3;break}return t.abrupt("return");case 3:return a=e.drawResult,s=a.trace_id,c=a.award_id,t.next=6,e.confirmRollEggAward({address_snapshot_id:n||o,trace_id:s,award_id:c});case 6:u=t.sent,e.store.addressStore.hideAction(),u&&(e.store.rollEggAwardResultDialogStore.hideAction(),e.store.rollEggGoodsOrderDialogStore.showAction({showType:Ka.eI.SUCCESS}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),P()(Ea.prototype,"confirmRollEggAward",[$.d,Ta],Object.getOwnPropertyDescriptor(Ea.prototype,"confirmRollEggAward"),Ea.prototype),P()(Ea.prototype,"sendCoinForOrderFail",[$.d,Ca],Object.getOwnPropertyDescriptor(Ea.prototype,"sendCoinForOrderFail"),Ea.prototype),P()(Ea.prototype,"showRabbitNpc",[R.action],Object.getOwnPropertyDescriptor(Ea.prototype,"showRabbitNpc"),Ea.prototype),P()(Ea.prototype,"hideRabbitNpc",[R.action],Object.getOwnPropertyDescriptor(Ea.prototype,"hideRabbitNpc"),Ea.prototype),Ea);function Ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function es(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var ts,rs,ns=(Ya=function(e){O()(n,e);var t,r=es(n);function n(){var e;g()(this,n);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=r.call.apply(r,[this].concat(i)),h()(e,"couponList",Va,v()(e)),h()(e,"requestEggCouponInfo",Xa,v()(e)),e}return w()(n,[{key:"requestCouponInfo",value:(t=a()(i().mark((function e(){var t,r,n,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.requestEggCouponInfo(),this.store.surpriseStore.requestCouponRecord()]);case 2:t=e.sent,r=f()(t,1),n=r[0],(0,R.runInAction)((function(){var e,t,r=(null==n?void 0:n.coupon_bolist)||[];o.store.surpriseStore.couponRecordList&&(r=[].concat(c()(r),c()(o.processData(o.store.surpriseStore.couponRecordList))));var i=null===(e=o.store.dcNewUserCouponDialogStore)||void 0===e||null===(t=e.getDisplayCouponList)||void 0===t?void 0:t.call(e);(null==i?void 0:i.length)>0&&(r=[].concat(c()(i.map((function(e){return $a($a({},e),{},{batch_sn:e.couponInfo.batch_sn,sub_type:Ka.A9.DC_NEW_USER_COUPON})}))),c()(r))),o.couponList=r}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"processData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{award_name:e.name,discount_price:e.discount_param,end_time:e.end_time,start_time:e.start_time,goods_id:e.goods_id,img_url:e.img,sub_type:Ka.A9.GOODS_COUPON}}))}},{key:"backUpdate",value:function(){this.isShow&&this.requestCouponInfo()}}]),n}(Q.Z),Va=P()(Ya.prototype,"couponList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(Ya.prototype,"requestCouponInfo",[J.Y],Object.getOwnPropertyDescriptor(Ya.prototype,"requestCouponInfo"),Ya.prototype),Xa=P()(Ya.prototype,"requestEggCouponInfo",[J.Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(e.store.rollEggStore.canPlayRollEgg)return mt.Z.post(ht.Z.queryPackCouponInfo)}}}),Ya),is=r(57866);function os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var as,ss,cs,us=(ts=function(e){O()(c,e);var t,n,o,s=os(c);function c(){var e;g()(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=s.call.apply(s,[this].concat(r)),h()(e,"lottie",rs,v()(e)),e}return w()(c,[{key:"handleWhenInit",value:function(){var e=this;this.lottie||(0,R.when)((function(){return e.canInitLottie}),(function(){return e.init()}))}},{key:"init",value:function(){var e=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lottie){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.importLottie();case 4:t=e.sent,(0,R.runInAction)((function(){r.lottie=window.lottie=t}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"importLottie",value:(o=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e("lottie-web").then(r.t.bind(r,11248,23));case 2:return t=e.sent,e.abrupt("return",t.default||t);case 4:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"importRollEggMachineJson",value:(n=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e("textureResource_lottie_egg_machine_new_egg_machine_json").then(r.t.bind(r,76394,19));case 2:return t=e.sent,e.abrupt("return",t.default||t);case 4:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"importRollEggOpenJson",value:(t=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e("textureResource_lottie_egg_open_egg_open_json").then(r.t.bind(r,26697,19));case 2:return t=e.sent,e.abrupt("return",t.default||t);case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"canInitLottie",get:function(){return this.store.rollEggStore.canPlayRollEgg}}]),c}(Ar.Z),rs=P()(ts.prototype,"lottie",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(ts.prototype,"canInitLottie",[R.computed],Object.getOwnPropertyDescriptor(ts.prototype,"canInitLottie"),ts.prototype),P()(ts.prototype,"init",[$.d],Object.getOwnPropertyDescriptor(ts.prototype,"init"),ts.prototype),P()(ts.prototype,"importLottie",[is.Z],Object.getOwnPropertyDescriptor(ts.prototype,"importLottie"),ts.prototype),P()(ts.prototype,"importRollEggMachineJson",[is.Z],Object.getOwnPropertyDescriptor(ts.prototype,"importRollEggMachineJson"),ts.prototype),P()(ts.prototype,"importRollEggOpenJson",[is.Z],Object.getOwnPropertyDescriptor(ts.prototype,"importRollEggOpenJson"),ts.prototype),ts);function ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ls(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var ds,hs,ms=(as=(0,J.Y)((function(){(0,de.info)(he.Fe)})),ss=function(e){O()(s,e);var t,r,n,o=fs(s);function s(){var e;g()(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=o.call.apply(o,[this].concat(r)),h()(e,"coinBearInfo",cs,v()(e)),e.coinBearNpcTriggerInfo={},e}return w()(s,[{key:"queryNpcBearInfo",value:(n=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.Z.post(ht.Z.queryNpcInfo,{npc_type:Xr});case 2:return t=e.sent,this.setCoinBearNpcTriggerInfo({top_rank:t.top_rank}),(0,R.runInAction)((function(){r.coinBearInfo=t.coin_bear_vo})),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"sendNpcBearAward",value:(r=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.coinBearNpcTriggerInfo.click_times){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mt.Z.post(ht.Z.triggerNpc,{npc_type:Xr,coin_bear_trigger_param:{click_times:this.coinBearNpcTriggerInfo.click_times,tuid:this.coinBearNpcTriggerInfo.tuid,top_rank:this.coinBearNpcTriggerInfo.top_rank,tcid:this.coinBearNpcTriggerInfo.tcid}});case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"setCoinBearNpcTriggerInfo",value:function(e){this.coinBearNpcTriggerInfo=ps(ps({},this.coinBearNpcTriggerInfo),e)}},{key:"handleBearShow",value:(t=a()(i().mark((function e(t){var r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.leoConfig.disableNpcBear){e.next=2;break}return e.abrupt("return");case 2:e.next=4;break;case 4:return e.next=6,this.store.npcStore.queryNpcBearInfo();case 6:if(!e.sent||!this.store.npcStore.coinBearInfo){e.next=12;break}return this.store.npcStore.setCoinBearNpcTriggerInfo({tcid:t.tcid,tuid:t.tuid}),e.next=11,(0,R.when)((function(){return!(r.store.composeResult||r.store.unlockSpriteDialogStore.isShow||r.store.redPacketDialogStore.isShow||r.store.composeTaskResultDialogStore.isShow||r.store.timeLimitBuyDialogStore.isShow)}));case 11:this.store.gameStore.createNpcBear();case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"coinBearClickCountMaxLimit",get:function(){var e,t=Object.keys((null===(e=this.coinBearInfo)||void 0===e?void 0:e.times_to_coin_map)||{}).map((function(e){return+e}));return t.length&&t.every((function(e){return e>=0}))?Math.max.apply(Math,c()(t)):0}},{key:"coinBearMapValues",get:function(){var e;return Object.values((null===(e=this.coinBearInfo)||void 0===e?void 0:e.times_to_coin_map)||{})}},{key:"coinBearMapMaxItemValueStr",get:function(){return this.coinBearMapValues.length?c()(this.coinBearMapValues).sort((function(e,t){return(0,Pe.ED)(e,t)?-1:1}))[0]:""}}]),s}(Ar.Z),cs=P()(ss.prototype,"coinBearInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(ss.prototype,"coinBearClickCountMaxLimit",[R.computed],Object.getOwnPropertyDescriptor(ss.prototype,"coinBearClickCountMaxLimit"),ss.prototype),P()(ss.prototype,"coinBearMapValues",[R.computed],Object.getOwnPropertyDescriptor(ss.prototype,"coinBearMapValues"),ss.prototype),P()(ss.prototype,"coinBearMapMaxItemValueStr",[R.computed],Object.getOwnPropertyDescriptor(ss.prototype,"coinBearMapMaxItemValueStr"),ss.prototype),P()(ss.prototype,"queryNpcBearInfo",[J.Y],Object.getOwnPropertyDescriptor(ss.prototype,"queryNpcBearInfo"),ss.prototype),P()(ss.prototype,"sendNpcBearAward",[$.d,as],Object.getOwnPropertyDescriptor(ss.prototype,"sendNpcBearAward"),ss.prototype),ss);function gs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var ys,vs,bs=(ds=function(e){O()(n,e);var t=gs(n);function n(){var e;g()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),h()(e,"dragonBonesInstalled",hs,v()(e)),e}return w()(n,[{key:"handleInit",value:function(){var e=this;(0,R.when)((function(){return e.canImportDragonBones}),(function(){return e.init()}))}},{key:"init",value:function(){var e=a()(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.dragonBonesInstalled){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,R.when)((function(){return t.store.isGameCreated}));case 4:return e.next=6,this.importDragonBones();case 6:if(window.dragonBones){e.next=8;break}throw new Error("dragonBones import error");case 8:this.store.gameStore.scene.plugins.installScenePlugin("DragonBones",window.dragonBones.phaser.plugin.DragonBonesScenePlugin,"dragonbone",this.store.gameStore.scene),(0,R.runInAction)((function(){t.dragonBonesInstalled=!0}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkDragonbones",value:function(){var e=this;return this.dragonBonesInstalled||this.init(),(0,R.when)((function(){return e.dragonBonesInstalled}))}},{key:"importDragonBones",value:function(){return r.e("dragonBones").then(r.bind(r,24730))}},{key:"canImportDragonBones",get:function(){var e;return!!(null===(e=this.store.npcStore)||void 0===e?void 0:e.coinBearInfo)}}]),n}(Ar.Z),hs=P()(ds.prototype,"dragonBonesInstalled",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P()(ds.prototype,"canImportDragonBones",[R.computed],Object.getOwnPropertyDescriptor(ds.prototype,"canImportDragonBones"),ds.prototype),P()(ds.prototype,"init",[$.d,J.Y],Object.getOwnPropertyDescriptor(ds.prototype,"init"),ds.prototype),P()(ds.prototype,"importDragonBones",[is.Z],Object.getOwnPropertyDescriptor(ds.prototype,"importDragonBones"),ds.prototype),ds),_s=1;function ks(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var ws,Ss,Os,Is,As,Ts=(ys=function(e){O()(n,e);var t,r=ks(n);function n(){var e;g()(this,n);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=r.call.apply(r,[this].concat(i)),h()(e,"letterRankingInfo",vs,v()(e)),e}return w()(n,[{key:"queryLetterRanking",value:(t=a()(i().mark((function e(){var t,r,n=this,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]&&o[0],this.store.abTestStore.showMsgRank){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,mt.Z.post(ht.Z.queryRanking,{ranking_object:_s,start_rank:1,end_rank:100,need_fairy_coin_num:t});case 5:return r=e.sent,(0,R.runInAction)((function(){n.letterRankingInfo=r||{}})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}(Ar.Z),vs=P()(ys.prototype,"letterRankingInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(ys.prototype,"queryLetterRanking",[J.Y],Object.getOwnPropertyDescriptor(ys.prototype,"queryLetterRanking"),ys.prototype),ys),Cs=r(32058),Es=r(71382);function Ps(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Rs,xs,Ds,Ns,Ls,Ms=(ws=(0,fe.P)(1e3),Ss=(0,J.Y)((function(){(0,de.info)(he.Fe)})),Os=function(e){O()(u,e);var t,r,n,o,s=Ps(u);function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return g()(this,u),e=s.call(this,t,r),h()(e,"display",Is,v()(e)),e.entryAfterLimit=!0,h()(e,"hideAction",As,v()(e)),Object.assign(v()(e),t),e.getParent=r,e.TaskStoreMap=Es.A,e}return w()(u,[{key:"initTaskListData",value:(o=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:t=e.sent,this.initSubStore({taskList:t});case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"showAction",value:(n=a()(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.display=!0,this.taskList.length){e.next=4;break}return e.next=4,this.initTaskListData();case 4:return e.next=6,(0,Ie._v)(0);case 6:this.taskList.length&&(0,R.runInAction)((function(){t.isShow=!0}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getAwardSuccessCb",value:(r=a()(i().mark((function e(){var t,r,n=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=t.nutrition_reward_num,e.next=4,this.store.queryUserProcess({});case 4:r&&(0,de.info)("恭喜获得".concat(r,"个营养餐"));case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"exchangeEnergy",value:(t=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.Z.post(ht.Z.exchangeEnergy);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"finalTaskList",get:function(){var e=this.taskList.filter((function(e){return e.isReachLimit})),t=this.taskList.filter((function(e){return!e.isReachLimit}));return[].concat(c()(t),c()(e))}},{key:"btnUIConfigs",get:function(){var e;return e={},l()(e,ft.As.GO_TO_TASK,{backgroundImage:"https://promotion.pddpic.com/promo/95d4cc03-3b1f-49fe-8006-b87dc0581ece.png.slim.png"}),l()(e,ft.As.RECEIVE,{backgroundImage:"https://promotion.pddpic.com/promo/0b0dfdae-e1a0-44f2-96ba-cb1231f445bb.png.slim.png"}),l()(e,ft.As.DEFAULT,{backgroundImage:"https://promotion.pddpic.com/promo/54576512-0494-4548-a1df-cea031009a9c.png.slim.png",color:"#C47741"}),e}}]),u}(Cs.Z),Is=P()(Os.prototype,"display",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P()(Os.prototype,"initTaskListData",[fe.P],Object.getOwnPropertyDescriptor(Os.prototype,"initTaskListData"),Os.prototype),P()(Os.prototype,"finalTaskList",[R.computed],Object.getOwnPropertyDescriptor(Os.prototype,"finalTaskList"),Os.prototype),P()(Os.prototype,"btnUIConfigs",[R.computed],Object.getOwnPropertyDescriptor(Os.prototype,"btnUIConfigs"),Os.prototype),P()(Os.prototype,"showAction",[R.action,ws,$.d],Object.getOwnPropertyDescriptor(Os.prototype,"showAction"),Os.prototype),As=P()(Os.prototype,"hideAction",[R.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return a()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isShow=!1,t.next=3,(0,Ie._v)(400);case 3:(0,R.runInAction)((function(){e.display=e.isShow}));case 4:case"end":return t.stop()}}),t)})))}}),P()(Os.prototype,"getAwardSuccessCb",[J.Y],Object.getOwnPropertyDescriptor(Os.prototype,"getAwardSuccessCb"),Os.prototype),P()(Os.prototype,"exchangeEnergy",[$.d,Ss],Object.getOwnPropertyDescriptor(Os.prototype,"exchangeEnergy"),Os.prototype),Os),Bs=r(20439);function Fs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function js(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}!function(e){e[e.Unknown=0]="Unknown",e[e.Sprite=1]="Sprite",e[e.Dc=2]="Dc"}(Ls||(Ls={}));var Us,Ws,Zs,Hs,Ks="duoduo_sprite_showPackRedDot",zs=(Rs=R.action.bound,xs=R.action.bound,Ds=function(e){O()(r,e);var t=js(r);function r(e,n){var o;return g()(this,r),o=t.call(this,e,n),h()(o,"$showPackRedDot",Ns,v()(o)),o.$couponList=[],o.$couponFrom=Ls.Unknown,o.shouldEmit=function(){return o._isEnable()&&o.getDisplayCouponList().length>0},o.queryCoupon=a()(i().mark((function e(){var t,r,n,s,c,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o._isEnable()){e.next=3;break}return e.abrupt("return");case 3:return r=(null===(t=o.rootStore.leoConfig.dcNewUserCoupon)||void 0===t?void 0:t.couponConfig)||[],n=r.map((function(e){return e.userGroupId})),e.next=7,mt.Z.post(ht.Z.queryUserGroup,{user_group_ids:n});case 7:if(e.t0=e.sent,e.t0){e.next=10;break}e.t0=[];case 10:return s=e.t0,c=n.map((function(e,t){return t})).filter((function(e){return s.includes(Number(n[e]))})),u=[],e.next=15,Promise.all(c.map((function(e){return r[e]})).map(function(){var e=a()(i().mark((function e(t){var r,n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.brandTag,e.prev=1,e.next=4,mt.Z.post(ht.Z.queryBrandBatch,{brand_tag:o});case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),u.push(e.t0);case 10:return e.abrupt("return",Gs(Gs({},t),{},{couponInfo:(null===(r=a)||void 0===r||null===(n=r.coupon_batches)||void 0===n?void 0:n[0])||null}));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()));case 15:l=e.sent,u.forEach((function(e){return o.rootStore.sendError(e)})),o.$couponList=l,e.next=24;break;case 20:e.prev=20,e.t1=e.catch(0),o.rootStore.sendError(e.t1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])}))),o.getDisplayCouponList=function(){return o.$couponList.filter((function(e){var t;return null===(t=e.couponInfo)||void 0===t?void 0:t.batch_sn})).filter((function(e){var t;return(null===(t=e.couponInfo)||void 0===t?void 0:t.usable_count)>0})).slice(0,3)},o.takeCoupon=function(){var e=a()(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,Promise.all(t.map(function(){var e=a()(i().mark((function e(t){var n,o,a,s,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.brandTag,o=t.couponInfo.batch_sn,e.next=4,mt.Z.post(ht.Z.takeBrandBatch,{batch_sn:o,brand_tag:n});case 4:a=e.sent,s=a.coupon_id,c=a.today_remain_can_take_count,u=a.today_has_taken_count,l=a.usable_count,s&&(p={today_remain_can_take_count:c,today_has_taken_count:u,usable_count:l},Object.assign(t.couponInfo,p)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r.push(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()));case 3:r.forEach((function(e){return o.rootStore.sendError(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.handleInit=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.queryCoupon();case 2:if(!(o.$couponList.length>0)){e.next=7;break}return t=o.unTakenCouponList,o.$couponFrom=t.length>0?Ls.Sprite:Ls.Dc,e.next=7,o.takeCoupon(t);case 7:case"end":return e.stop()}}),e)}))),(0,dt.aF)(Ks)&&(o.$showPackRedDot=!0),o}return w()(r,[{key:"setShowPackRedDot",value:function(){this.$showPackRedDot=!0,(0,dt.o_)(Ks,1)}},{key:"onClickPack",value:function(){this.$showPackRedDot=!1,(0,dt.nS)(Ks)}}]),w()(r,[{key:"_inActivityTime",value:function(){var e=this.rootStore.serverTime,t=this.rootStore.leoConfig.dcNewUserCoupon||{},r=t.startTime,n=t.endTime;return r&&n&&e>=Y()(r).valueOf()&&e<Y()(n).valueOf()}},{key:"_isEnable",value:function(){return this.rootStore.abTestStore.useDcNewUserCoupon&&this._inActivityTime()&&!(0,Bs.mH)(this.rootStore.isNewUser)&&this.rootStore.topRank>=5}},{key:"unTakenCouponList",get:function(){return this.$couponList.filter((function(e){var t;return null===(t=e.couponInfo)||void 0===t?void 0:t.batch_sn})).filter((function(e){return!(e.couponInfo.usable_count>0||e.couponInfo.today_has_taken_count>0)&&e.couponInfo.today_remain_can_take_count>0}))}}]),r}(Q.Z),Ns=P()(Ds.prototype,"$showPackRedDot",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P()(Ds.prototype,"setShowPackRedDot",[Rs],Object.getOwnPropertyDescriptor(Ds.prototype,"setShowPackRedDot"),Ds.prototype),P()(Ds.prototype,"onClickPack",[xs],Object.getOwnPropertyDescriptor(Ds.prototype,"onClickPack"),Ds.prototype),Ds),qs=r(44449);function Ys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ys(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Qs=(Us={},l()(Us,3,ye.OF.LUCKY_PACKET_DIALOG),l()(Us,1,ye.OF.OFFLINE_DIALOG),Us),Js=(Ws=function(e){O()(u,e);var t,r,n,o,s,c=Xs(u);function u(){var e;g()(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=c.call.apply(c,[this].concat(r))).browseCptTask=void 0,e.browseCpcTask=void 0,h()(e,"guideText",Zs,v()(e)),e.gainCount=0,h()(e,"brandInfo",Hs,v()(e)),e.guideOfflineCptFromLuckyDialog=void 0,e}return w()(u,[{key:"handleShow",value:(s=a()(i().mark((function e(){var t,r,n,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.rootStore.leoForMission.offlineTaskConfig||{},r=t.browseTaskMissionId,n=t.browseBackUpCpcMissionId,this.browseCptTask=new qs.Z({id:r},(function(){return o.rootStore})),this.browseCpcTask=new qs.Z({id:n},(function(){return o.rootStore})),e.abrupt("return",this.requestTask());case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"showAction",value:(o=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.handleShow();case 2:_()(C()(u.prototype),"showAction",this).call(this);case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"requestTask",value:(n=a()(i().mark((function e(){var t,r,n,o,a=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,Tr.oh)(Vs(Vs({},this.browseCptTask.taskParam),{},{page_sn:+ye.mC,page_el_sn:ye.us.EL_4824215})),(0,Tr.oh)(Vs(Vs({},this.browseCpcTask.taskParam),{},{page_sn:+ye.mC,page_el_sn:ye.us.EL_4824215}))]);case 2:return t=e.sent,r=f()(t,2),n=r[0],o=r[1],(0,R.runInAction)((function(){var e;Object.assign(a.browseCptTask,a.rootStore.taskListStore.$taskListStore.preHandlerTask(n)),Object.assign(a.browseCpcTask,a.rootStore.taskListStore.$taskListStore.preHandlerTask(o)),a.brandInfo={brand_logo:null==n||null===(e=n.config_data)||void 0===e?void 0:e.icon_url,brand_name:null==n?void 0:n.title}})),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"handleBack",value:(r=a()(i().mark((function e(){var t,r,n,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((this.isShow&&this.isCpt||this.guideOfflineCptFromLuckyDialog)&&(this.guideOfflineCptFromLuckyDialog=!1,this.handleLuckyCpcMission(this.isShow?1:3)),!this.isShow){e.next=9;break}return n=null===(t=this.useTask)||void 0===t?void 0:t.gainTimes,e.next=5,this.requestTask();case 5:if(e.sent&&!((null===(r=this.useTask)||void 0===r?void 0:r.gainTimes)>n)){e.next=8;break}return e.abrupt("return",this.hideAction());case 8:return e.abrupt("return",(0,R.runInAction)((function(){o.guideText="领取浏览商品奖励"})));case 9:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"handleLuckyCpcMission",value:(t=a()(i().mark((function e(t){var r,n,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([mt.Z.post(ht.Z.queryCpcAfterCpt,{cpc_scene_code:t}),(0,Ie._v)(this.store.leoConfig.luckyCpcMissionDelay||3e3)]);case 2:if(r=e.sent,n=f()(r,1),o=n[0],a=o.hit_grey,s=o.cpc_browsing_mission,a&&s){e.next=9;break}return e.abrupt("return");case 9:this.hideAction(),this.store.luckyPacketResultDialogStore.showAction({luckyCpcMission:s,pageElSn:Qs[t]});case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"brandLogoUrl",get:function(){var e;return null===(e=this.brandInfo)||void 0===e?void 0:e.brand_logo}},{key:"brandName",get:function(){var e;return null===(e=this.brandInfo)||void 0===e?void 0:e.brand_name}},{key:"isBrand",get:function(){return!!this.brandLogoUrl&&!!this.brandName}},{key:"useTask",get:function(){return this.browseCptTask.hitGrey?this.browseCptTask.ad&&(this.browseCptTask.isToStart||this.browseCptTask.isToGetAward)?this.browseCptTask:this.browseCpcTask.hitGrey?this.browseCpcTask:null:null}},{key:"isCpt",get:function(){var e;return(null===(e=this.useTask)||void 0===e?void 0:e.id)===this.browseCptTask.id}}]),u}(Q.Z),Zs=P()(Ws.prototype,"guideText",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hs=P()(Ws.prototype,"brandInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(Ws.prototype,"brandLogoUrl",[R.computed],Object.getOwnPropertyDescriptor(Ws.prototype,"brandLogoUrl"),Ws.prototype),P()(Ws.prototype,"brandName",[R.computed],Object.getOwnPropertyDescriptor(Ws.prototype,"brandName"),Ws.prototype),P()(Ws.prototype,"isBrand",[R.computed],Object.getOwnPropertyDescriptor(Ws.prototype,"isBrand"),Ws.prototype),P()(Ws.prototype,"handleShow",[J.Y],Object.getOwnPropertyDescriptor(Ws.prototype,"handleShow"),Ws.prototype),P()(Ws.prototype,"requestTask",[J.Y],Object.getOwnPropertyDescriptor(Ws.prototype,"requestTask"),Ws.prototype),P()(Ws.prototype,"handleLuckyCpcMission",[J.Y],Object.getOwnPropertyDescriptor(Ws.prototype,"handleLuckyCpcMission"),Ws.prototype),Ws),$s=r(93096),ec=r.n($s),tc=r(27410),rc={appId:100609,bizSide:"consumer-platform-fe"},nc=[],ic=ec()((function(){try{if(!nc.length)return;var e=c()(nc);nc=[],t=[],e.forEach((function(e){var r=e.tags,n=r.groupId,i=tt()(r,["groupId"]),o=e.longFields,a=o.amplifyRate,s=tt()(o,["amplifyRate"]);t.push({groupId:n,amplifyRate:a,tags:i,fields:e.fields,longFields:s})})),(0,tc.P2)(t,rc)}catch(e){}var t}),100,{leading:!1,trailing:!0});function oc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}me.ZP.beforeForward((function(){try{ic.flush()}catch(e){}}));var sc,cc,uc=function(e){if("number"==typeof e)return Math.floor(e/Math.pow(1024,2))},lc=function(e,t){var r,n,i,o,a,s,u,l,p,f,d,h,m,g=t.fields,y=void 0===g?{}:g,v=t.longFields,b=void 0===v?{}:v,_=tt()(t,["fields","longFields"]);if(!(Math.random()>e.leoConfig.multipleKvPercent)){var k=Math.round(1/e.leoConfig.multipleKvPercent),w=Date.now()-(null===(r=window.performance)||void 0===r||null===(n=r.timing)||void 0===n?void 0:n.navigationStart),S=(0,lo.mr)(w),O=S.days,I=S.hours,A=S.minutes,T=S.seconds,C=S.milliseconds,E="".concat(O,"d").concat(I,"h").concat(A,"m").concat(T,"s").concat(C,"ms"),P=(null===(i=window)||void 0===i||null===(o=i.performance)||void 0===o?void 0:o.memory)||{},R=P.jsHeapSizeLimit,x=P.totalJSHeapSize,D=P.usedJSHeapSize;return function(e){var t,r=e.mutipleKvList;(t=nc).push.apply(t,c()(r)),ic()}({mutipleKvList:[{tags:ac({groupId:ye.Zk,platform:e.$$commonData.platform.platform,userType:e.userType,isPassGame:~~e.isPassGame,isInitError:e.isInitError,referChannelType:(0,Ko.FI)(e.queries,e.leoConfig.channelTypeUserSourceMap)},_),fields:ac({userId:e.userId,isLowEnd:(null===(a=e.appContext)||void 0===a?void 0:a.isLowDevice)?1:0,myTopRank:e.myTopRank,myTotalWorkArea:e.myTotalWorkArea,mySkinType:e.mySkinType,myRoamPetsCount:null===(s=e.gameStore.roamPets)||void 0===s?void 0:s.length,myWorkPetsCount:null===(u=e.gameStore.workPets)||void 0===u?void 0:u.length,hasSameLevelPet:e.gameStore.hasSameLevelPet?1:0,openBgMusic:e.isMuted?0:1,devicePixelRatio:window.devicePixelRatio,onlineTimeStr:E},y),longFields:ac(ac({amplifyRate:k,onlineTime:w,myFriendLength:(null===(l=e.friendRankDialogStore)||void 0===l||null===(p=l.friendList)||void 0===p?void 0:p.length)||0,actualFps:null==e||null===(f=e.game)||void 0===f||null===(d=f.loop)||void 0===d?void 0:d.actualFps},(null===(h=window)||void 0===h||null===(m=h.performance)||void 0===m?void 0:m.memory)?{jsHeapSizeLimit:uc(R),totalJSHeapSize:uc(x),usedJSHeapSize:uc(D)}:{}),Object.values(b).every((function(e){return"number"==typeof e}))?b:{})}]})}};function pc(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return fc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fc(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mc=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.map((function(e){return e||0})).join("_")},gc=(sc=function e(){var t=this;g()(this,e),this.messageQueue=[],this.timer=void 0,this.typeMap=new Map,this.on=function(e,r){if(!e.assistType&&!(null==e?void 0:e.operateType)&&!(null==e?void 0:e.tcid))throw new Error("msg event bind, miss params");var n=mc(e.operateType,e.assistType,e.tcid);if(t.typeMap.get(n))throw new Error("repeat!!!");t.typeMap.set(n,hc(hc({},e),{},{callback:r}))},h()(this,"emit",cc,this),this.push=function(e){t.messageQueue.push(hc(hc({},e),{},{id:mc(e.payload.operateType,e.payload.assistType,e.payload.tcid)})),document.visibilityState===po.hw&&t.emit()}},cc=P()(sc.prototype,"emit",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return a()(i().mark((function t(){var r,n,o,a,s,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(r=e.messageQueue)||void 0===r?void 0:r[0]){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,n=e.messageQueue.filter((function(t){return t.id===e.messageQueue[0].id})),e.messageQueue=e.messageQueue.filter((function(t){return t.id!==e.messageQueue[0].id})),!(o=e.typeMap.get(n[0].id))){t.next=31;break}if(!o.multi){t.next=12;break}return t.next=10,o.callback(n);case 10:t.next=29;break;case 12:a=pc(n),t.prev=13,a.s();case 15:if((s=a.n()).done){t.next=21;break}return c=s.value,t.next=19,o.callback([c]);case 19:t.next=15;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(13),a.e(t.t0);case 26:return t.prev=26,a.f(),t.finish(26);case 29:t.next=32;break;case 31:console.warn("unknow message: ",JSON.stringify(n[0]));case 32:clearTimeout(e.timer),e.timer=setTimeout((function(){e.messageQueue.length&&e.emit()}),2e3),t.next=39;break;case 36:t.prev=36,t.t1=t.catch(2),(0,ge.y7)(t.t1);case 39:case"end":return t.stop()}}),t,null,[[2,36],[13,23,26,29]])})))}}),sc);function yc(){return(yc=a()(i().mark((function e(t){var r,n,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]&&o[1],n=function(){var e=a()(i().mark((function e(){var r,n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.checkLowDeviceDowngrade("main_scene_ani")){e.next=2;break}return e.abrupt("return");case 2:return a=t.gameStore,t.speedUpAniActive=!0,a.workPetSpeedUp(26,500,!0),e.next=7,(0,Ie._v)(1e3);case 7:return null===(r=a.audioManager)||void 0===r||r.playLaunchRocket(),e.next=10,(0,Ie._v)(1e3);case 10:return a.startCoinRain(),e.next=13,(0,Ie._v)(1500);case 13:return null===(n=a.audioManager)||void 0===n||n.playDropCoin(),e.next=16,(0,Ie._v)(1500);case 16:a.workPetSpeedUp(14,1e3,!1),(0,R.runInAction)((function(){t.speedUpAniActive=!1})),null===(o=a.coinRain)||void 0===o||o.destroy();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.preloadRocketAssets(),!t.isMainScene){e.next=9;break}return e.next=6,t.queryUserProcess();case 6:(r||t.speedUpTotalTime)&&(t.speedUpInviteDialogStore.hideAction(),(0,de.info)("好友助力成功，精灵打工加速时长增加"),n()),e.next=10;break;case 9:(0,de.info)("好友助力成功，您家精灵打工获金币正在加速~");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vc=function(e,t){e.on({assistType:+he.t8.ASSIST_SPEED_UP},(function(){!function(e){yc.apply(this,arguments)}(t)})),e.on({assistType:+he.t8.ASSIST_UNLOCK},function(){var e=a()(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r[0].payload.avatar,!t.isMainScene){e.next=9;break}return e.next=4,t.queryUserProcess();case 4:t.inviteUnlockDialogStore.hideAction(),(0,R.runInAction)((function(){n&&t.unlockAssistList.push({avatar:n})})),t.unlockResultDialogStore.showAction(),e.next=10;break;case 9:(0,de.info)("好友为您解锁了一个工位~");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.on({assistType:+he.t8.ASSIST_INVITE_FRIEND},(function(e){var r=e[0].payload.coinNumber;if(r&&"0"!==r){t.isMainScene&&t.requestMain("invite_friend_success");var n=(0,Pe.n)(r).valueStr;(0,de.info)("已成功邀请新用户，获得金币".concat(n))}})),e.on({assistType:+he.t8.ASSIST_REMIND_FRIEND},(function(e){var r=e[0].payload.coinNumber;if(r&&"0"!==r){t.isMainScene&&t.requestMain("remind_friend_success");var n=(0,Pe.n)(r).valueStr;(0,de.info)("提醒好友成功，获得".concat(n,"金币奖励"))}})),e.on({assistType:+he.t8.INVITE_FRESH_FRIEND},function(){var e=a()(i().mark((function e(r){var n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r[0].payload.coinNumber,e.next=3,t.commitQueryFairyEarnCoins("handleFreshFriendBackMsg");case 3:o=(0,Pe.n)(n).valueStr,(0,de.info)("好友助力得".concat(o,"金币"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.on({assistType:+he.t8.RIGHT_TOP_NATIVE},(function(e){var r=e[0].payload.coinNumber;if(r&&"0"!==r){t.isMainScene&&t.requestMain("right_top_native_share");var n=(0,Pe.n)(r).valueStr;(0,de.info)("邀请好友成功，获得金币".concat(n))}}))},bc=function(e,t){e.on({operateType:he.lk.ROLL_EGG_GET_TIMES,multi:!0},(function(e){var r=0,n="0";return e.forEach((function(e){var i=e.payload,o=i.addColorEggDrawTimes,a=i.coinNumber,s=i.pushMsgTime;Y()(s).isSame(t.server_time,"day")&&(r+=o||0,n=(0,Pe.Oq)(n,a||"0"))})),r&&n&&(0,Pe.ED)(n,0)&&t.rollEggMissionAwardDialogStore.showAction({coin:n,eggCount:r}),(0,R.when)((function(){return!t.rollEggMissionAwardDialogStore.isShow}))}))},_c=function(e,t){e.on({operateType:he.lk.AWARD_ORDER_FAIL_SEND_BACK_SCORE},(function(e){(0,de.info)("商品兑换失败，精灵金已经返还到账户哦~")}))},kc=function(e,t){e.on({tcid:Ho._.NPC_CARD_BEAR},function(e){return function(){var t=a()(i().mark((function t(r){var n,o,a,s,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(null===(n=r[0])||void 0===n?void 0:n.payload)||{},a=o.tcid,s=o.tuid,(c=o.validEndTime)&&!Y()(e.server_time).isAfter(c)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.npcStore.handleBearShow({tcid:a,tuid:s});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),e.on({tcid:Ho._.SPEED_UP_CARD},function(e){return function(t){var r,n=(null===(r=t[0])||void 0===r?void 0:r.payload)||{},i=n.tuid,o=n.tcid;if(o&&i)return e.gameToolStore.setGameToolParams({tuid:i,tcid:o}),e.gameToolStore.commitSpeedUpCardReceive(),(0,R.when)((function(){return!e.speedUpCardDialogStore.isShow}))}}(t))},wc=function(e,t){e.on({operateType:he.lk.NUTRITION_REWARD,multi:!0},(function(e){var r=0;return e.forEach((function(e){var t=e.payload.nutritionRewardNum;r+=void 0===t?0:t})),r&&t.foodAwardDialogStore.showAction({nutritionRewardNum:r}),(0,R.when)((function(){return!t.foodAwardDialogStore.isShow}))}))},Sc=function(e){var t="0";return e.forEach((function(e){var r=e.payload.coinNumber;t=(0,Pe.Oq)(t,r||"0")})),t},Oc=function(e,t){t.coinNumber&&(0,Pe.ED)(t.coinNumber,0)&&e.commonOrderPopMsgDialogStore.showAction(t)},Ic=function(e,t){e.on({operateType:he.lk.COMMON_ORDER_REWARD_DIALOG,multi:!0},function(e){return function(t){return Oc(e,{title:"恭喜完成下单任务",coinNumber:Sc(t)}),(0,R.when)((function(){return!e.commonOrderPopMsgDialogStore.isShow}))}}(t)),e.on({operateType:he.lk.BRAND_WIDEGT_CPT_ORDER,multi:!0},function(e){return function(t){return Oc(e,{coinNumber:Sc(t)}),(0,R.when)((function(){return!e.commonOrderPopMsgDialogStore.isShow}))}}(t)),e.on({operateType:he.lk.MESSENGER_CALLBACK_MISSION_ORDER,multi:!0},function(e){return function(t){return Oc(e,{title:"恭喜完成任务",subTitle:"企鹅已回来，并获得",coinNumber:Sc(t)}),(0,R.when)((function(){return!e.commonOrderPopMsgDialogStore.isShow}))}}(t))};function Ac(){return(Ac=a()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.queryUserProcess();case 2:t.triggerRedPacketInfo.can_open_first_time&&t.luckyPacketUnlockDialogStore.showAction();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tc(e){return Cc.apply(this,arguments)}function Cc(){return(Cc=a()(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.visibilityState===po.hw&&t.luckyPacketCoinNum){e.next=2;break}return e.abrupt("return");case 2:return t.coinFlyStore.showAction(),e.next=5,(0,Ie._v)(1e3);case 5:r=(0,Pe.n)(t.luckyPacketCoinNum).valueStr,(0,qt.Z)(["完成任务获得".concat(r,"金币"),"已累加到账户中"]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ec,Pc=function(){var e=a()(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=new qs.Z({id:t},(function(){return r})),e.next=5,n.checkTaskInfo();case 5:return e.abrupt("return",n.status&&!n.isToGetAward);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Rc=function(e){return function(t){var r=e.titanHandler,n=(t[0]||{payload:{}}).payload,i=n.triggerRedPacketInfo,o=n.pushMsgTime;if(i)if(i.showGuideWindow)!function(e){Ac.apply(this,arguments)}(e);else if(o&&o>e.server_time&&(!r.luckyPacketInfoUpdateTime||o>r.luckyPacketInfoUpdateTime)){r.luckyPacketInfoUpdateTime=o;var a=i.buyFairyGoal,s=i.buyFairyCount;e.setTriggerRedPacketInfo({buy_fairy_goal:a,buy_fairy_count:s})}}},xc=function(e,t){e.on({operateType:he.lk.LUCKY_PACKET_COUNT},Rc(t)),e.on({operateType:he.lk.LUCKY_PACKET_ORDER,multi:!0},function(e){return function(){var t=a()(i().mark((function t(r){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Sc(r),e.setLuckyPacketCoinNum((0,Pe.Oq)(e.luckyPacketCoinNum||0,n)),t.next=4,Tc(e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),e.on({operateType:he.lk.LUCKY_PACKET_BROWSER},function(e){return function(){var t=a()(i().mark((function t(r){var n,o,a,s,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r[0]||{},o=n.payload,s=(a=o||{}).missionId,c=a.coinNumber,t.next=4,Pc(s,e);case 4:if(t.sent){t.next=8;break}return e.setLuckyPacketCoinNum(void 0),t.abrupt("return");case 8:return e.setLuckyPacketCoinNum((0,Pe.Oq)(e.luckyPacketCoinNum||0,c)),t.next=11,Tc(e);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},Dc=function(e){var t="0",r=[],n=[];return e.forEach((function(e){var i=e.payload,o=i.avatars,a=i.fairies,s=i.coinNumber;t=(0,Pe.Oq)(t,s),r=r.concat(o),n=n.concat(a)})),{totalCoin:t,totalAvatars:r,totalFairies:n}},Nc=function(e,t){var r=t.createUniqueId(e);t.gameStore.deletePetById(r)},Lc=function(e,t){t.isMainScene?t.gameStore.requestVisitMain(null,!1,!1):t.gameStore.requestVisitMain(t.friendUid,!1,!1),e()},Mc=function(e){return function(t){return e.titanHandler.startHandleMsg(),new Promise((function(r,n){var i=Dc(t),o=i.totalCoin,a=i.totalAvatars,s=i.totalFairies,c=e.isMainScene?0:500;setTimeout((function(){!function(e,t,r,n){if(n.isMainScene){var i=n.driveAwayReturnDialogStore,o=n.gameStore;return i.isShow?i.addReturnInfo(t,e,!1):i.setReturnInfo(t,e,!1),i.showAction(),void r.forEach((function(e){var t=n.createUniqueId(e);o.toRoam(t)}))}var a=(0,Pe.n)(e).valueStr;(0,qt.Z)("你在好友家打工精灵被赶了回来，获得金币".concat(a)),r.forEach((function(e){return Nc(e,n)}))}(o,a,s,e),e.titanHandler.endHandleMsg(),Lc(r,e)}),c)}))}},Bc=function(e){return function(t){return e.titanHandler.startHandleMsg(),new Promise((function(r,n){var i=Dc(t);!function(e,t,r,n){if(n.isMainScene){var i=n.recallReturnDialogStore,o=n.gameStore;return i.isShow?i.addReturnInfo(t,e,!0):i.setReturnInfo(t,e,!0),i.showAction(),void r.forEach((function(e){var t=n.createUniqueId(e);o.toRoam(t)}))}var a=(0,Pe.n)(e).valueStr;(0,qt.Z)("你在好友家打工精灵已自动返回，获得金币".concat(a)),r.forEach((function(e){return Nc(e,n)}))}(i.totalCoin,i.totalAvatars,i.totalFairies,e),e.titanHandler.endHandleMsg(),Lc(r,e)}))}},Fc=function(e,t){e.on({operateType:he.lk.GRAB_SEAT},function(e){return function(t){var r=t[0].payload,n=r.fairies,i=r.pushMsgTime;if((null==n?void 0:n.length)&&e.isMainScene){if(e.titanHandler.startHandleMsg(),!(i&&e.server_time<i))return e.titanHandler.endHandleMsg();var o=n[0],a={fairy_id:o.fairyId,fairy_rank:o.fairyRank,fairy_status:o.fairyStatus,fairy_work_order:o.fairyWorkOrder,pic_url:o.picUrl,owner_uid:o.ownerUid,owner_avatar:o.ownerAvatar,occupy_work_coin_rate:o.occupyWorkCoinRate,owner_nick_name:o.ownerNickName,unique_id:""};a.unique_id=e.createUniqueId(a),e.gameStore.addGrabPetInScene(a,!0),e.titanHandler.endHandleMsg()}}}(t)),e.on({operateType:he.lk.DRIVE_AWAY,multi:!0},Mc(t)),e.on({operateType:he.lk.AUTO_RECALL,multi:!0},Bc(t)),e.on({operateType:he.lk.RECALLED_BY_FRIEND},function(e){return function(t){var r=t[0].payload,n=e.titanHandler,i=e.gameStore,o=e.isMainScene,a=r.fairies,s=r.pushMsgTime,c=s&&(s>e.server_time||e.server_time-s<=1e3);(null==a?void 0:a.length)&&o&&(c?(n.startHandleMsg(),a.forEach((function(t){return Nc(t,e)})),i.requestVisitMain(null,!1,!1),n.endHandleMsg()):n.endHandleMsg())}}(t))},Gc=function(e,t){e.on({operateType:he.lk.CHARGE_BACK_COUPONS},function(e){return function(t){var r;if(null===(r=t[0])||void 0===r?void 0:r.payload){var n=t[0].payload.coupons,i=e.chargeBackCouponsDialogStore,o=e.offlineDialogInfo;return i.setChargeBackCoupons(n),o.isShow?void 0:(i.showAction(),(0,R.when)((function(){return!i.isShow})))}}}(t))},jc=function(e){return function(t){var r;if(null===(r=t[0])||void 0===r?void 0:r.payload){var n=Sc(t),o=t[0].payload.pushMsgTime;if((0,Pe.ED)(n,0)){var s=e.titanHandler,c=o&&Y()(o).isBefore(e.server_time);s.orderTaskCoinNumber=(0,Pe.Oq)(s.orderTaskCoinNumber||0,n),function(e,t){var r=t.titanHandler,n=function(){var r=a()(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,t.requestMainUpdate("common_order_task",!1,!1,!1);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r.commitMsgConsume(e,r.orderTaskCoinNumber,(function(){r.orderTaskCoinNumber=0}),n)}(Boolean(c),e)}}}},Uc=function(e){return function(t){var r;if(null===(r=t[0])||void 0===r?void 0:r.payload){var n=Sc(t),o=t[0].payload.pushMsgTime;if((0,Pe.ED)(n,0)){var s=e.titanHandler,c=o&&Y()(o).isBefore(e.server_time);s.npcOrderTaskCoinNumber=(0,Pe.Oq)(s.npcOrderTaskCoinNumber||0,n),function(e,t){var r=t.shopTaskDialogStore,n=t.titanHandler,o=function(){var n=a()(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t.requestMainUpdate("common_order_task",!1,!1,!1);case 4:r.isShow&&r.requestTask();case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n.commitMsgConsume(e,n.npcOrderTaskCoinNumber,(function(){n.npcOrderTaskCoinNumber=0}),o,he.lk.NPC_ORDER_TASK)}(Boolean(c),e)}}}},Wc=function(e,t){e.on({operateType:he.lk.COMMON_ORDER_TASK,multi:!0},jc(t)),e.on({operateType:he.lk.OFFLINE_ORDER_TASK,multi:!0},jc(t)),e.on({operateType:he.lk.TIME_LIMIT_ORDER_TASK,multi:!0},jc(t)),e.on({operateType:he.lk.COMPOSE_ORDER_TASK,multi:!0},jc(t)),e.on({operateType:he.lk.BIND_CARD_ORDER_TASK,multi:!0},jc(t)),e.on({operateType:he.lk.REDUCE_PRICE_MISSION_ORDER,multi:!0},jc(t)),e.on({operateType:he.lk.NPC_ORDER_TASK,multi:!0},Uc(t))},Zc=function(){var e=a()(i().mark((function e(t,r){var n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=r.titanHandler).hasUnlockSkinType&&document.visibilityState===po.hw){e.next=3;break}return e.abrupt("return");case 3:if(o=he.DP[n.hasUnlockSkinType],a=n.hasUnlockSkinType,n.hasUnlockSkinType=void 0,t){e.next=9;break}return e.next=9,Promise.all([r.spriteBookDialogStore.queryAlbumInfo(),r.queryFairyEarnCoins("commitUnlockSkinMsgConsume")]);case 9:if(!o){e.next=15;break}if(4!==a){e.next=14;break}return(0,R.runInAction)((function(){r.nextWindowSkinType=a})),r.skinPresentDialogStore.showAction(),e.abrupt("return");case 14:(0,qt.Z)("".concat(o,"已解锁"));case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Hc=function(e,t){e.on({operateType:he.lk.UNLOCK_SKIN_ORDER},function(e){return function(t){var r,n=(null===(r=t[0])||void 0===r?void 0:r.payload)||{},i=n.skinType,o=n.pushMsgTime,a=o&&Y()(o).isBefore(e.server_time);return e.titanHandler.hasUnlockSkinType=i,Zc(Boolean(a),e)}}(t))},Kc=function(e){return function(t){var r,n=(null===(r=t[0])||void 0===r?void 0:r.payload)||{},i=n.coinNumber,o=n.operateType;return i&&e.sendCashFailGiveCoinDialogStore.showAction({coinNumber:i,title:o===he.lk.SEND_CASH_FAIL_GIVE_COIN_HONGBAO_GUIDE?"微信零钱发放失败":""}),(0,R.when)((function(){return!e.sendCashFailGiveCoinDialogStore.isShow}))}},zc=function(e,t){e.on({operateType:he.lk.SEND_CASH_FAIL_GIVE_COIN},Kc(t)),e.on({operateType:he.lk.SEND_CASH_FAIL_GIVE_COIN_HONGBAO_GUIDE},Kc(t))},qc=function(e){var t=new gc;return vc(t,e),bc(t,e),_c(t),kc(t,e),wc(t,e),Ic(t,e),xc(t,e),Fc(t,e),Gc(t,e),Wc(t,e),Hc(t,e),zc(t,e),t},Yc=Be()("br",{}),Vc=(Ec=function(){function e(t){var r=this;g()(this,e),this.startTime=void 0,this.isMsgHandling=void 0,this.socket=void 0,this.getStore=void 0,this.luckyPacketInfoUpdateTime=void 0,this.titanEvent=void 0,this.titan=void 0,this.orderTaskCoinNumber=void 0,this.unlockBoxOrderCoinNumber=void 0,this.npcOrderTaskCoinNumber=void 0,this.hasUnlockSkinType=void 0,this.handleTitanMessage=function(e){var t;if(!r.gameStore.forbidPlay&&(null===(t=r.store.queries)||void 0===t||t.test,null==e?void 0:e.payload)){var n=e.payload,i=n.assistType,o=n.operateType,a=n.tcid;if(i){var s=e.payload.assistTime;if(!Y()(s).isSame(r.store.server_time,"day"))return;r.titanEvent.push(e)}else(o&&he.lk[o]||a&&Ho._[a])&&r.titanEvent.push(e)}},this.commitMsgConsume=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},i=arguments.length>4?arguments[4]:void 0;if(document.visibilityState===po.hw&&(n(),e)){var o=(0,Pe.n)(e).valueStr;t(),i===he.lk.NPC_ORDER_TASK?r.store.taskAwardDialogStore.showAction(o):(0,de.info)(D().createElement(D().Fragment,null,"获得金币",o,Yc,"已加入到总金币中"),{duration:4})}},this.getStore=t,this.startTime=null,this.isMsgHandling=!1}var t;return w()(e,[{key:"store",get:function(){return this.getStore()}},{key:"userId",get:function(){return this.store.userId}},{key:"isTest",get:function(){return this.store.isTest}},{key:"isInStaging",get:function(){return this.store.isInStaging}},{key:"isMainScene",get:function(){return this.store.isMainScene}},{key:"accessToken",get:function(){return this.store.accessToken}},{key:"gameStore",get:function(){return this.store.gameStore}},{key:"driveAwayReturnDialogStore",get:function(){return this.store.driveAwayReturnDialogStore}},{key:"recallReturnDialogStore",get:function(){return this.store.recallReturnDialogStore}}]),w()(e,[{key:"startHandleMsg",value:function(){this.isMsgHandling=!0}},{key:"endHandleMsg",value:function(){this.isMsgHandling=!1}},{key:"importTitan",value:(t=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.titan){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.e("duo_sprite_titan").then(r.bind(r,14899));case 4:t=e.sent,this.titan=t.default||t;case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"init",value:function(){var e=a()(i().mark((function e(){var t,r,n,o,a=this,s=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]&&s[0],!this.socket){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.importTitan();case 5:r=this.titan,n=r.Titan,o=r.Unicast,n.usePlugin(o),this.socket=new n({uid:this.userId,accesstoken:this.accessToken,url:this.getTitanUrl(),appId:26}),this.socket.on("message",this.handleTitanMessage),this.socket.on("error",(function(e){a.store.sendError(e)})),this.socket.connect(),t||(this.titanEvent=qc(this.store));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTitanUrl",value:function(){return this.isTest?Ro.Kx.HTJ:this.isInStaging?Ro.Kx.STAGE:Ro.Kx.PROD}},{key:"deleteFairyFromMsg",value:function(e){var t=this.store.createUniqueId(e);this.gameStore.deletePetById(t)}},{key:"close",value:function(){var e;this.endHandleMsg(),null===(e=this.socket)||void 0===e||e.close(!0)}},{key:"restartTitan",value:function(){this.titan&&(this.socket&&this.socket.status!==this.titan.TITAN_STATUS.CLOSED||(this.socket=null,this.init(!0),this.endHandleMsg()))}}]),e}(),P()(Ec.prototype,"importTitan",[is.X],Object.getOwnPropertyDescriptor(Ec.prototype,"importTitan"),Ec.prototype),P()(Ec.prototype,"init",[J.Y],Object.getOwnPropertyDescriptor(Ec.prototype,"init"),Ec.prototype),Ec);function Xc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Qc=function(e){O()(r,e);var t=Xc(r);function r(){return g()(this,r),t.apply(this,arguments)}return w()(r,[{key:"showShare",value:function(e){this.rootStore.shareStore.showShare({assist_type:he.Pg.ASSIST_REMIND_FRIEND,shareTitle:e})}},{key:"missionParam",get:function(){var e=this.rootStore.leoForMission;return{module_id:e.module_id,mission_id:e.remind_mission_id}}}]),r}(Gi);function Jc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var $c,eu,tu,ru,nu,iu=function(e){O()(r,e);var t=Jc(r);function r(){return g()(this,r),t.apply(this,arguments)}return w()(r,[{key:"showShare",value:function(e){this.rootStore.shareStore.showShare({assist_type:he.Pg.ASSIST_INVITE_FRIEND,shareTitle:e})}},{key:"missionParam",get:function(){var e=this.rootStore.leoForMission;return{module_id:e.module_id,mission_id:e.invite_mission_id}}}]),r}(Gi),ou=r(11267);function au(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function su(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?au(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):au(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var uu=($c=function(e){O()(c,e);var t,r,n,o,s=cu(c);function c(e){var t;return g()(this,c),t=s.call(this,void 0,e),h()(t,"pets",eu,v()(t)),h()(t,"seats",tu,v()(t)),h()(t,"type",ru,v()(t)),h()(t,"isChanging",nu,v()(t)),t.getRoot=void 0,t.isRestarting=!1,t.restartCount=0,t.getRoot=e,t}return w()(c,[{key:"preload",value:function(){}},{key:"create",value:function(){if(this.matter.world){this.matter.world.setBounds(0,0,this.sceneSize.width,this.sceneSize.height,600);var e=this.matter.world.walls;e&&Object.keys(e).forEach((function(t){e[t]&&(e[t].isSleeping=!0)}))}var t=Cr.Uj.SEAT_ATLAS,r=Cr.Uj.LEVEL_NUMBER,n=Cr.Uj.COIN_NUMBER,i=Cr.BN.LEVEL_NUMBER_FONT,o=Cr.BN.COIN_NUMBER_FONT;Phaser.GameObjects.BitmapText.ParseFromAtlas(this.scene,i,t,r,"".concat(i,"_XML")),Phaser.GameObjects.BitmapText.ParseFromAtlas(this.scene,o,t,n,"".concat(o,"_XML"))}},{key:"update",value:function(){}},{key:"startChangingScene",value:function(){this.isChanging=!0}},{key:"endChangingScene",value:function(){this.isChanging=!1}},{key:"isChangingScene",value:function(){return this.isChanging}},{key:"setSceneType",value:function(e){this.type=e}},{key:"addScene",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";this.sceneManager.add(e,{preload:this.preload.bind(this),create:this.create.bind(this),update:this.update.bind(this)})}},{key:"setMainScene",value:function(){var e,t=this.parentStore,r=t.lastSkinType,n=t.mySkinType,i=r!==n,o=i&&(3===n||3===r);this.removeAllDisplay(i,o),this.isMainSceneActive()?this.stopMainScene():this.stopFriendScene(),i&&(null===(e=this.loadHandler)||void 0===e||e.removeCacheAsset(o)),this.setSceneType(Cr.CA.MAIN)}},{key:"removeAllDisplay",value:function(e,t){throw new Error("Method not implemented.")}},{key:"runMainScene",value:function(){this.sceneManager.run(Cr.CA.MAIN)}},{key:"stopMainScene",value:function(){try{this.sceneManager.stop(Cr.CA.MAIN)}catch(t){var e;null===(e=this.scene)||void 0===e||e.sys.shutdown()}}},{key:"setFriendScene",value:function(){var e,t=this.parentStore,r=t.lastSkinType,n=t.friendSkinType,i=r!==n,o=i&&(3===n||3===r);this.removeAllDisplay(i,o),this.isMainSceneActive()?this.stopMainScene():this.stopFriendScene(),i&&(null===(e=this.loadHandler)||void 0===e||e.removeCacheAsset(o)),this.setSceneType(Cr.CA.FRIEND)}},{key:"runFriendScene",value:function(){this.sceneManager.run(Cr.CA.FRIEND)}},{key:"stopFriendScene",value:function(){try{this.sceneManager.stop(Cr.CA.FRIEND)}catch(t){var e;null===(e=this.scene)||void 0===e||e.sys.shutdown()}}},{key:"isMainSceneActive",value:function(){return this.sceneManager.isActive(Cr.CA.MAIN)}},{key:"isFriendSceneActive",value:function(){return this.sceneManager.isActive(Cr.CA.FRIEND)}},{key:"addAllScene",value:function(){var e=this;[Cr.CA.MAIN,Cr.CA.FRIEND].forEach((function(t){return e.addScene(t)}))}},{key:"removeAllScene",value:function(){var e=this;[Cr.CA.MAIN,Cr.CA.FRIEND].forEach((function(t){return e.sceneManager.remove(t)}))}},{key:"beginRestart",value:function(){this.isRestarting=!0}},{key:"endRestart",value:function(){this.isRestarting=!1}},{key:"stopSceneWithClear",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.removeAllDisplay(!0,t),this.isMainSceneActive()?this.stopMainScene():this.stopFriendScene(),null===(e=this.loadHandler)||void 0===e||e.removeCacheAsset(t)}},{key:"restartMainScene",value:function(){this.isMainSceneActive()?this.scene.scene.restart():this.sceneManager.run(Cr.CA.MAIN)}},{key:"resetRestartCount",value:function(){this.restartCount=0}},{key:"restartSceneByError",value:function(e){if(!this.isInSceneTransition)return this.sendError(e),(0,qt.Z)("活动太火爆，请重新刷新页面~");var t;this.restartCount<3?(null===(t=this.scene.scene)||void 0===t||t.restart(),this.restartCount++):3===this.restartCount&&(this.sendError(e),(0,qt.Z)("活动太火爆，请重新刷新页面~"),this.restartCount++)}},{key:"sceneSystemRest",value:function(){return this.store.checkLowDeviceDowngrade("pause_game")?this.pauseGame():this.store.checkLowDeviceDowngrade("sleep_game")?this.sceneSleep():void 0}},{key:"sceneSystemWork",value:function(){return this.store.checkLowDeviceDowngrade("pause_game")?this.resumeGame():this.store.checkLowDeviceDowngrade("sleep_game")?this.sceneWake():void 0}},{key:"sceneSleep",value:function(){this.sceneManager.isSleeping(this.type)||(this.sceneManager.sleep(this.type),this.store.duoduoSpriteLogger({stage:"game_scene_sleep"}),this.store.queries.debug&&console.log("[game scene]: sleep"))}},{key:"sceneWake",value:function(){this.sceneManager.isSleeping(this.type)&&(this.sceneManager.wake(this.type),this.store.duoduoSpriteLogger({stage:"game_scene_wake"}),this.store.queries.debug&&console.log("[game scene]: wake"))}},{key:"pauseGame",value:function(){this.sceneManager.isPaused(this.type)||(this.sceneManager.pause(this.type),this.store.duoduoSpriteLogger({stage:"game_scene_pause"}))}},{key:"resumeGame",value:function(){this.sceneManager.isPaused(this.type)&&(this.sceneManager.resume(this.type),this.store.duoduoSpriteLogger({stage:"game_scene_resume"}))}},{key:"requestVisitMain",value:(o=a()(i().mark((function e(t,r){var n,o,a,s,c,u,l,p,d,h,m=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(m.length>2&&void 0!==m[2])||m[2],o=m.length>3&&void 0!==m[3]&&m[3],s=su(su({},a={handObj:void 0,isDirectUpdate:!1,isSceneChanging:o}),{},{needSetCoinNum:!1,forceInit:n}),c=su(su({},a),{},{uid:t,forceInit:n}),e.next=7,Promise.all([t?this.parentStore.queryFriendProcess(c):this.parentStore.queryUserProcess(s),this.parentStore.friendRankDialogStore.queryFriendListService(),t&&this.parentStore.remindShareStore.queryShareTaskInfo()]);case 7:if(u=e.sent,l=f()(u,2),p=l[0],d=l[1],!r){e.next=17;break}return e.next=14,this.parentStore.queryFairyEarnCoins("requestVisitMain",!1);case 14:e.t0=e.sent,e.next=18;break;case 17:e.t0=!0;case 18:return h=e.t0,e.abrupt("return",[p,d,h].every((function(e){return e})));case 20:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"visitQueryMain",value:(n=a()(i().mark((function e(t,r){var n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t===Cr.CA.FRIEND,o=!n,e.next=4,this.requestVisitMain(r,o,!0,!0);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"doChangeScene",value:function(e,t){this.parentStore.friendUid=e,this.parentStore.transitionCloudStore.showAction(),this.parentStore.setStartCloudAni(!0),t?this.runFriendScene():this.runMainScene()}},{key:"forbidSceneChange",value:function(){this.endChangingScene(),this.parentStore.lastSkinType=0}},{key:"visitFriend",value:(r=a()(i().mark((function e(t){var r,n,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPetInOperation&&!this.isInMsgHandling){e.next=2;break}return e.abrupt("return");case 2:if(t&&this.parentStore.friendUid!==t.uid){e.next=4;break}return e.abrupt("return");case 4:return r=this.parentStore.spriteBookDialogStore.queryAlbumInfo(),this.beforeSceneChange(),e.next=8,this.visitQueryMain(Cr.CA.FRIEND,t.uid);case 8:return n=e.sent,this.store.transitionCloudStore.showAction(),this.store.transitionCloudStore.startAni(),e.next=13,r;case 13:return n?(0,R.runInAction)((function(){o.doChangeScene(t.uid,!0)})):this.forbidSceneChange(),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"visitMain",value:(t=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.isMainScene||this.isPetInOperation||this.isInMsgHandling)){e.next=2;break}return e.abrupt("return");case 2:return this.beforeSceneChange(),e.next=5,this.visitQueryMain(Cr.CA.MAIN);case 5:return(t=e.sent)?(0,R.runInAction)((function(){r.doChangeScene(null,!1)})):this.forbidSceneChange(),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"beforeSceneChange",value:function(){this.parentStore.logStartTime=this.parentStore.performanceNow(),this.parentStore.lastSkinType=this.parentStore.skinType,this.parentStore.topBarStore.stopAfterClickAni(),this.parentStore.sceneChangeStarStore.hideAction(),this.startChangingScene()}},{key:"stopAll",value:function(){this.setSceneType(""),this.stopMainScene(),this.stopFriendScene()}},{key:"parentStore",get:function(){return this.getRoot()}},{key:"sceneManager",get:function(){var e;return null===(e=this.getRoot().game)||void 0===e?void 0:e.scene}},{key:"sound",get:function(){var e;return null===(e=this.getRoot().game)||void 0===e?void 0:e.sound}},{key:"scene",get:function(){return this.sceneManager?this.sceneManager.getScene(this.type):null}},{key:"anims",get:function(){return this.scene.anims}},{key:"matter",get:function(){return this.scene.matter}},{key:"sceneSize",get:function(){var e=this.sceneManager.game.config;return{width:e.width,height:e.height}}},{key:"skinType",get:function(){return this.parentStore.skinType}},{key:"isInMsgHandling",get:function(){var e;return null===(e=this.parentStore.titanHandler)||void 0===e?void 0:e.isMsgHandling}},{key:"isMainScene",get:function(){return this.type===Cr.CA.MAIN}},{key:"isInSceneTransition",get:function(){return this.isChanging||this.isRestarting}}]),c}(Ar.Z),eu=P()($c.prototype,"pets",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tu=P()($c.prototype,"seats",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ru=P()($c.prototype,"type",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cr.CA.MAIN}}),nu=P()($c.prototype,"isChanging",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P()($c.prototype,"isMainScene",[R.computed],Object.getOwnPropertyDescriptor($c.prototype,"isMainScene"),$c.prototype),P()($c.prototype,"setSceneType",[R.action],Object.getOwnPropertyDescriptor($c.prototype,"setSceneType"),$c.prototype),P()($c.prototype,"doChangeScene",[R.action],Object.getOwnPropertyDescriptor($c.prototype,"doChangeScene"),$c.prototype),P()($c.prototype,"visitFriend",[$.d],Object.getOwnPropertyDescriptor($c.prototype,"visitFriend"),$c.prototype),P()($c.prototype,"visitMain",[$.d],Object.getOwnPropertyDescriptor($c.prototype,"visitMain"),$c.prototype),P()($c.prototype,"beforeSceneChange",[R.action],Object.getOwnPropertyDescriptor($c.prototype,"beforeSceneChange"),$c.prototype),$c);function lu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var pu=function(e){O()(r,e);var t=lu(r);function r(e,n){var i;return g()(this,r),(i=t.call(this,e,n)).id=null,i.state=null,i}return r}(ta);function fu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var du=function(e){O()(r,e);var t=fu(r);function r(e,n,i){var o;return g()(this,r),(o=t.call(this,n,i))._storeObject=void 0,o.isInOperation=void 0,o.staticKey=void 0,o.motionKey=void 0,o.staticKey="",o.motionKey="",o._storeObject=e,o.isInOperation=!1,o.depth=o.depthManager.getMiddleDepth(),o}return w()(r,[{key:"deleteComposePosition",value:function(){this.hasComposePosition&&(delete this._storeObject.composeX,delete this._storeObject.composeY)}},{key:"_getScale",value:function(){var e=this.petConfigParam.TRANSFORM;return e?{BODY_SCALE:(0,Ko.fp)(e.BODY_SCALE),DISPLAY_SCALE:(0,Ko.fp)(e.DISPLAY_SCALE)}:{BODY_SCALE:(0,Ko.fp)(.45),DISPLAY_SCALE:(0,Ko.fp)(.56)}}},{key:"_getSkinKey",value:function(){var e=this.parentStore.skinType;return{1:1,2:1,3:3}["".concat(e)]}},{key:"show",value:function(){this.isDestroyed||(_()(C()(r.prototype),"show",this).call(this),this.sprite.setActive(!0),this.awake())}},{key:"hide",value:function(){this.isDestroyed||(_()(C()(r.prototype),"hide",this).call(this),this.sprite.setActive(!1),this.sprite.anims.stop(),this.sleep())}},{key:"awake",value:function(){var e;this.isMatterSprite&&(null===(e=this.sprite)||void 0===e||e.setAwake())}},{key:"sleep",value:function(){var e;this.isMatterSprite&&(null===(e=this.sprite)||void 0===e||e.setToSleep())}},{key:"setIgnoreGravity",value:function(e){var t;this.isMatterSprite&&(null===(t=this.sprite)||void 0===t?void 0:t.body)&&this.sprite.setIgnoreGravity(e)}},{key:"setVelocity",value:function(e,t){var r;this.isMatterSprite&&(null===(r=this.sprite)||void 0===r?void 0:r.body)&&this.sprite.setVelocity(e,t)}},{key:"enableDrag",value:function(){this.sprite.input&&(this.sprite.setInteractive({draggable:!0}),this.sprite.input.draggable=!0)}},{key:"disableDrag",value:function(){this.sprite.input&&(this.sprite.input.draggable=!1)}},{key:"createFrameAnimation",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{key:"",frames:{},repeat:-1},n=r.key,i=r.frames,o=r.repeat;n&&!this.isDestroyed&&(this.anims.anims.has(n)||this.anims.create({key:n,frames:this.anims.generateFrameNumbers(e,i),frameRate:t,repeat:o}))}},{key:"playFrameAnimation",value:function(e){try{var t,r,n,i;if(this.isDestroyed)return;!!((null===(t=this.anims.get(e))||void 0===t||null===(r=t.frames)||void 0===r?void 0:r.length)>0&&(null===(n=this.sprite.frame)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.sourceSize))>0&&this.sprite.anims.play(e,!0)}catch(e){this.rootStore.sendError(e)}}},{key:"stopFrameAnimation",value:function(){try{var e,t,r;null===(e=this.sprite)||void 0===e||null===(t=e.anims)||void 0===t||null===(r=t.stop)||void 0===r||r.call(t)}catch(e){this.rootStore.sendError(e)}}},{key:"resumeColliedCategory",value:function(){if(this.isValidCollideRoamSprite){var e=this.parentStore,t=e.roamCategory,r=e.edgeCategory,n=e.worldCategory;this.setColliedCategory(t,[t,r,n])}}},{key:"collideWidthBoundary",value:function(){var e=this.parentStore,t=e.roamCategory,r=e.edgeCategory,n=e.worldCategory;this.setColliedCategory(t,[r,n])}},{key:"colliedNothing",value:function(){var e=this.parentStore.spareCategory;this.setColliedCategory(e,[])}},{key:"collideWithLandingPlace",value:function(){var e=this.parentStore,t=e.dropCategory,r=e.produceCategories,n=e.trashBottomCategory,i=this.landingPlace.idx||0;this.setColliedCategory(t,[r[i],n])}},{key:"setColliedCategory",value:function(e,t){this.isMatterSprite&&(this.sprite.setCollisionCategory(e),this.sprite.setCollidesWith(t))}},{key:"updateAllPosition",value:function(e){var t,r;this.isDestroyed||(e&&this.sprite.setPosition(e.x,e.y),this._storeObject&&(null===(t=this.commonEffect)||void 0===t||t.updateEffectPos(),null===(r=this._storeObject.attach)||void 0===r||r.updatePos(this.sprite,this.uniqueId,this.attachIdx),this.state===Cr.jq.ROAM&&this._storeObject.emitter.updateRoamBubble(this.sprite)))}},{key:"getTrackingInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return{click_type:e,fairy_level:this.level}}},{key:"showAttach",value:function(){var e;null===(e=this._storeObject)||void 0===e||e.showAttach()}},{key:"hideAttach",value:function(){var e;null===(e=this._storeObject)||void 0===e||e.hideAttach()}},{key:"showAvatar",value:function(){var e;null===(e=this._storeObject)||void 0===e||e.showAvatar()}},{key:"hideAvatar",value:function(){var e;null===(e=this._storeObject)||void 0===e||e.hideAvatar()}},{key:"hideShadow",value:function(){var e;null===(e=this._storeObject)||void 0===e||e.hideShadow()}},{key:"inOperation",value:function(){this.isInOperation=!0}},{key:"outOperation",value:function(){this.isInOperation=!1}},{key:"setAllDepth",value:function(e){var t;null===(t=this._storeObject)||void 0===t||t.setAllDepth(e)}},{key:"update",value:function(e){this.initImgKey(e),this.sprite.setTexture(this.img,0),this.playFrameAnimation(this.motionKey)}},{key:"playSelectedRingEffect",value:function(){this.commonEffect.playSelectedRingEffect(this._storeObject)}},{key:"stopSelectedRingEffect",value:function(){this.commonEffect.stopSelectedRingEffect()}},{key:"playMotionFrame",value:function(){this.playFrameAnimation(this.motionKey),this._storeObject.emitter.playWorkEmitter(this.sprite,1e3)}},{key:"playStaticFrame",value:function(){this.playFrameAnimation(this.staticKey)}},{key:"destroyAnims",value:function(){this.anims.anims.delete(this.staticKey),this.anims.anims.delete(this.motionKey)}},{key:"resetHitArea",value:function(){var e,t=this.sprite,r=t.width,n=t.height;(null===(e=this.sprite.input)||void 0===e?void 0:e.hitArea)&&this.sprite.input.hitArea.setTo(0,0,r,n)}},{key:"resetBody",value:function(){if(this.isMatterSprite&&!this.isDestroyed){var e=this._getScale(),t=e.BODY_SCALE,r=e.DISPLAY_SCALE;this.sprite.setBody({height:136*t,width:136*t,type:"rectangle"}),this.sprite.setScale(r),this.sprite.setIgnoreGravity(!0),this.sprite.setFriction(0,0),this.sprite.setBounce(0)}}},{key:"resetAnims",value:function(){this.anims.anims.delete(this.staticKey),this.anims.anims.delete(this.motionKey),this.initFrameAnimation()}},{key:"resetTexture",value:function(){this.isDestroyed||(this.resetAnims(),this.sprite.setTexture(this.img,this.motionKey),this.resetHitArea())}},{key:"loadPetTextureTask",value:function(e,t,r){var n,i=this.img;return this.isTextureReady()||(n=this.loadHandler.loadCustom({type:"spritesheet",key:i,url:this.loadHandler.toCDNImg(e),frameWidth:t,frameHeight:r,isShowToast:!1})),n}},{key:"destroy",value:function(){_()(C()(r.prototype),"destroy",this).call(this),this.isInOperation=!1,this._storeObject=null}},{key:"id",get:function(){return this._storeObject.id}},{key:"uniqueId",get:function(){var e;return null===(e=this._storeObject)||void 0===e?void 0:e.uniqueId}},{key:"state",get:function(){return this._storeObject.state}},{key:"level",get:function(){return this._storeObject.level}},{key:"attachIdx",get:function(){return this._storeObject.attachIdx}},{key:"isValidCollideRoamSprite",get:function(){var e,t,r,n;return(null===(e=this.sprite.body)||void 0===e||null===(t=e.axes)||void 0===t?void 0:t.length)>0&&(null===(r=this.sprite.body)||void 0===r||null===(n=r.vertices)||void 0===n?void 0:n.length)>0}},{key:"shouldSetPositionBySeat",get:function(){var e=this._storeObject,t=e.canDriveAway,r=e.canCallBackGrab,n=e.canRemind;return e.isNormalWorkPet||t||r||n}},{key:"canDriveAway",get:function(){return this._storeObject.canDriveAway}},{key:"canCallBackGrab",get:function(){return this._storeObject.canCallBackGrab}},{key:"canRemind",get:function(){return this._storeObject.canRemind}},{key:"isWorkingInFriend",get:function(){return this._storeObject.isWorkingInFriend}},{key:"isRoamPet",get:function(){var e;return null===(e=this._storeObject)||void 0===e?void 0:e.isRoamPet}},{key:"isNormalWorkPet",get:function(){return this._storeObject.isNormalWorkPet}},{key:"spriteMap",get:function(){return this.levelMap.SPRITE_MAP}},{key:"petConfigParam",get:function(){return this.spriteMap[this.level]}},{key:"composeX",get:function(){var e;return(null===(e=this._storeObject)||void 0===e?void 0:e.composeX)||0}},{key:"composeY",get:function(){var e;return(null===(e=this._storeObject)||void 0===e?void 0:e.composeY)||0}},{key:"hasComposePosition",get:function(){return!!this._storeObject&&("number"==typeof this._storeObject.composeX&&"number"==typeof this._storeObject.composeY)}}]),r}(na),hu=[3,5],mu=[0,1,2,3,4,6],gu=0,yu=function(){function e(t,r){g()(this,e),this.getParent=t,this.getRoot=r,this.init()}return w()(e,[{key:"setPosOffsetIndex",value:function(){return this.parentStore.isInComposeStep?(this.idx=hu[gu++],void(gu=gu>=hu.length?0:gu)):this.parentStore.isInWorkStep?(this.idx=mu[gu++],void(gu=gu>=mu.length?0:gu)):void(this.idx=(0,Ie.rs)(0,6))}},{key:"_collideWithDropPet",value:function(){var e=this.parentStore,t=e.produceCategories,r=e.dropCategory;this.posSprite.setCollisionCategory(t[this.idx]),this.posSprite.setCollidesWith([r])}},{key:"init",value:function(){this.setPosOffsetIndex();var e="PP_".concat(this.idx),t=(this.matter.world?this.matter.getMatterBodies():[]).find((function(t){var r;return(null===(r=t.gameObject)||void 0===r?void 0:r.customKey)===e}));if(t)this.posSprite=t.gameObject;else{var r=this.parentStore.sceneSize,n=this.producePosOffset[this.idx]||this.producePosOffset[3];this.producePosOffset[this.idx]||(this.idx=3);var i={x:r.width/2+(0,Ko.fp)(n.x),y:r.height/2+(0,Ko.fp)(n.y)};this.posSprite=this.matter.add.image(i.x,i.y,""),this.posSprite.setScale((0,Ko.fp)(2.7),(0,Ko.fp)(1.5)),this.posSprite.setIgnoreGravity(!0),this.posSprite.setStatic(!0),this.posSprite.setActive(!1),this.posSprite.setToSleep(),this.posSprite.setFriction(0,0),this.posSprite.customKey=e,this.posSprite.customName=Cr.PK,this._collideWithDropPet()}this.posSprite.visible=!1,this.x=this.posSprite.x,this.y=this.posSprite.y}},{key:"getWorkGuidePetPosition",value:function(){var e=this.producePosOffset[5],t=this.parentStore.sceneSize;return{x:t.width/2+(0,Ko.fp)(e.x),y:t.height/2+(0,Ko.fp)(e.y)}}},{key:"destroy",value:function(){this.posSprite.destroy()}},{key:"parentStore",get:function(){return this.getParent()}},{key:"rootStore",get:function(){return this.getRoot()}},{key:"scene",get:function(){return this.parentStore.scene}},{key:"matter",get:function(){return this.scene.matter}},{key:"producePosOffset",get:function(){return Cr.DK["".concat(this.rootStore.skinType)]}}]),e}();function vu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _u,ku=function(){function e(t,r,n){g()(this,e),this.getParent=void 0,this.getRoot=void 0,this.getRoamPet=t,this.getParent=r,this.getRoot=n}var t;return w()(e,[{key:"removeChangeScalePair",value:function(e){var t,r;if(e&&(null===(t=this.scene.matter.world)||void 0===t||null===(r=t.engine)||void 0===r?void 0:r.pairs)){var n=this.scene.matter.world.engine.pairs,i=n.list,o=n.table,a=e.body;i&&a&&o&&(this.pairList=i.filter((function(e){return e.bodyA!==a&&e.bodyB!==a})),this.pairList.forEach((function(e){delete o[e.id]})),i=this.pairList)}}},{key:"createJellTweens",value:function(e){var t=this;if(e){var r=e,n=r.sprite,o=n.scaleX,s=n.scaleY,c={scaleX:o,scaleY:s},u={targets:c,ease:"Cubic.easeOut",duration:150,delay:0,repeat:0},l=!0,p=!0,f=function(){r.sprite.setVelocity(0,0),0!==c.scaleY&&(r.sprite.scaleY=c.scaleY)},d=function(){p&&(r.sprite.setPosition(r.startX,r.adjustY),p=!1),f()};return[{scaleY:{from:s,to:.55*s},onUpdate:function(){l&&(l=!1,r.disableDrag(),r.colliedNothing(),r.startX=r.sprite.x,r.startY=r.sprite.y,t.commonEffect.playDropEffect(r.sprite),r.sprite.setOrigin(.5,1),r.adjustY=r.sprite.y+s*r.sprite.height/2,r.sprite.y=r.adjustY),r.sprite.setPosition(r.startX,r.adjustY),f()}},{scaleY:{from:.55*s,to:1.27*s},onUpdate:function(){d(),r.sprite.y-=4*c.scaleY}},{scaleY:{from:1.27*s,to:s},onUpdate:d,onComplete:function(){var e=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.sprite.setOrigin(.5,.5),r.sprite.setPosition(r.startX,r.startY),r.sprite.setScale(o,s),r.resumeColliedCategory(),e.next=6,(0,Ie._v)(600);case 6:r.showAttach(),r.freeFall=!1,t.parentStore.isInComposeStep?(r.stopMotion=!0,r.updateAllPosition(r.sprite),t.parentStore.isFallFinish&&t.parentStore.showComposeGuide()):(r.stopMotion=!1,r.randomMotion(!0)),r.createJelly(),r.enableDrag();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}].map((function(e){return bu(bu({},u),e)}))}}},{key:"playJellyAnimation",value:function(){var e=this.roamPet;if(null==e?void 0:e.isValidCollideRoamPet){this.removeChangeScalePair(e.sprite);var t=this.createJellTweens(e);this.dropTimeline=this.scene.tweens.timeline({tweens:t})}}},{key:"_showWorkGuide",value:function(e,t){var r=this;if(t){var n=e&&t.fairy_rank===this.parentStore.guideHandler.enableWorkLevel,o=n&&!this.rootStore.isPassGame;if(o&&this.parentStore.hideAllSeats(),this.rootStore.isPassGame&&n)return this.parentStore.showAllSeats(!0);(0,R.reaction)((function(){var e;return(null===(e=r.rootStore.composeResult)||void 0===e?void 0:e.red_packet_amount)?!r.rootStore.redPacketDialogStore.isShow:!r.rootStore.unlockSpriteDialogStore.isShow}),function(){var e=a()(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||!t){e.next=7;break}return null===(n=r.parentStore.guide)||void 0===n||n.showUnlockWorkTip(),e.next=4,(0,Ie._v)(900);case 4:(0,R.runInAction)((function(){r.parentStore.isShowSeatBgWithScale=!0})),r.parentStore.showAllSeats(),r.parentStore.showWorkGuide();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},{key:"_showTrashBox",value:function(e,t){t&&e&&5===t.fairy_rank&&this.parentStore.bg.showTrashBox()}},{key:"_clearGuide",value:function(e){e&&this.parentStore.guide&&e.fairy_rank>this.parentStore.guideHandler.enableWorkLevel&&this.parentStore.destroyGuide()}},{key:"_showUnlockSpriteDialog",value:function(e){e&&this.rootStore.unlockSpriteDialogStore.showAction()}},{key:"_hideComposeGuide",value:function(){var e;null===(e=this.parentStore.guide)||void 0===e||e.hideComposeGuide()}},{key:"_operationByPetLevel",value:function(e,t){this._hideComposeGuide(),this._showUnlockSpriteDialog(e),this._showWorkGuide(e,t),this._showTrashBox(e,t),this._clearGuide(t)}},{key:"composeAnimationComplete",value:(t=a()(i().mark((function e(t,r,n,o){var a,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==t?void 0:t.fairy_info)){e.next=11;break}return s=t.fairy_info,c=t.user_upgrade,null===(a=this.parentStore.audioManager)||void 0===a||a.playCombineFairy(),this.commonEffect.playComposeEffect(o,1.2),e.next=6,(0,Ie._v)(100);case 6:(u=s).x=o.x,u.y=o.y,this.parentStore.compose(r,n,u,c),this._operationByPetLevel(c,u);case 11:r.roamPet.isInCompose=!1,n.roamPet.isInCompose=!1;case 13:case"end":return e.stop()}}),e,this)}))),function(e,r,n,i){return t.apply(this,arguments)})},{key:"playComposeAnimation",value:function(e,t){var r=this;if(this.roamPet){var n=this.roamPet._storeObject;if(n&&(null==e?void 0:e.instance)){var i=n,o=e.instance,a=i.roamPet,s=o.roamPet;if(a&&s){var c=a.sprite,u=s.sprite;[a,s].forEach((function(e){return e.stopMotion=!0}));var l={x:(c.x+u.x)/2,y:(c.y+u.y)/2};[c,u].forEach((function(e){return e.setPosition(l.x,l.y)}));var p=(0,Ko.fp)(50),f={ease:"Cubic.easeOut",duration:250,delay:0,repeat:0},d=l.x-p,h=[{from:l.x,to:d},{from:d,to:l.x}].map((function(e){return bu(bu({targets:u,x:e},f),{},{onUpdate:function(){s.updateAllPosition()}})}));this.leftTimeline=this.scene.tweens.timeline({tweens:h});var m=l.x+p,g=[{from:l.x,to:m},{from:m,to:l.x}].map((function(e,n){var s=function(){};return 1===n&&(s=function(){r.composeAnimationComplete(t,i,o,l)}),bu(bu({targets:c,x:e},f),{},{onUpdate:function(){a.updateAllPosition()},onComplete:s})}));this.rightTimeline=this.scene.tweens.timeline({tweens:g})}}}}},{key:"_stopMotion",value:function(e){if(e){var t=e;t.setVelocity(0,0),e.stopFrame&&t.playFrameAnimation(t.staticKey),!e.stopFrame&&t.updateAllPosition(),t.motionTime=0}}},{key:"resetMotion",value:function(e){if(e){var t=e;t.motionTime=Phaser.Math.Between(100,1e3);var r=new Phaser.Math.Vector2;if(t.lastDirection){var n=t.lastDirection;r.x=n.x>0?Math.random()-1:Math.random(),r.y=n.y>0?Math.random()-1:Math.random()}else r.x=2*Math.random()-1,r.y=2*Math.random()-1;t.lastDirection=r.normalize();var i=(0,Ko.fp)(.23),o=new Phaser.Math.Vector2(i,i).multiply(r);t.setVelocity(o.x,o.y),t.playFrameAnimation(t.motionKey)}}},{key:"randomMotion",value:function(e){var t,r,n,i,o=this.roamPet;if(o)if(null===(t=o._storeObject)||void 0===t||null===(r=t.correctRoamBodyParam)||void 0===r||r.call(t),o.sprite.visible){if((null===(n=o.sprite.body)||void 0===n?void 0:n.isSleeping)&&o.sprite.setAwake(),o.sprite.setRotation(0),o.sprite.setAngle(0),(null===(i=o.sprite.body)||void 0===i?void 0:i.anglePrev)&&(o.sprite.body.anglePrev=0),o.freeFall)return o.playFrameAnimation(o.staticKey),void(o.motionTime=0);if(o.stopMotion)return this._stopMotion(o);if(e||o.motionTime<=0)return this._stopMotion(o),this.resetMotion(o);o.updateAllPosition(),o.motionTime--}else o.motionTime=0}},{key:"destroy",value:function(){[this.leftTimeline,this.rightTimeline,this.dropTimeline].forEach((function(e){e&&e.destroy(),e=void 0}))}},{key:"roamPet",get:function(){return this.getRoamPet()}},{key:"parentStore",get:function(){return this.getParent()}},{key:"store",get:function(){return this.getRoot()}},{key:"rootStore",get:function(){return this.getRoot()}},{key:"scene",get:function(){return this.parentStore.scene}},{key:"commonEffect",get:function(){return this.parentStore.commonEffect}}]),e}();function wu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Su=(_u=function(e){O()(u,e);var t,r,n,o,s=wu(u);function u(e,t,r){var n;return g()(this,u),(n=s.call(this,e,t,r)).landingPlace=void 0,n.ani=void 0,n.dragStartPos=void 0,n.roamTrack=void 0,n.img=void 0,n.stopMotion=void 0,n.freeFall=void 0,n.isCollide=void 0,n.isInCompose=void 0,n.hasGravity=void 0,n.dispose=[],n.landingPlace=new yu(t,r),n.ani=new ku((function(){return v()(n)}),t,r),n.dragStartPos={},n.roamTrack=[],n.stopMotion=!1,n.freeFall=!1,n.isCollide=!1,n.isInCompose=!1,n}return w()(u,[{key:"init",value:function(e){this._initGravity(e),this.initImgKey(e),this.loadAssets(e),this.initFrameAnimation(),this.initGameSprite(e),this.createJelly()}},{key:"_initGravity",value:function(e){this.hasGravity=e.hasGravity}},{key:"loadAssets",value:(o=a()(i().mark((function e(t){var r,n,o,a,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.levelMap.PET_FRAME_SIZE||{},n=r.WIDTH,o=r.HEIGHT,a=this.petConfigParam.FRAME_PIC,s=this.loadPetTextureTask(a,n,o),e.next=6,s;case 6:if(c=e.sent,this.parentStore.petLoadFinishLog(a),c&&!this.isDestroyed){e.next=10;break}return e.abrupt("return");case 10:this.resetTexture(),this._initAnimationWithEvent(t),this.isRoamPet?this.show():this._toHideState(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),this.store.sendError(e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])}))),function(e){return o.apply(this,arguments)})},{key:"initImgKey",value:function(e){var t=Cr.Eq.PET,r=Cr.Eq.MOTION,n=Cr.Eq.STATIC,i=this._getSkinKey(),o="".concat(i,"_").concat(e.fairy_rank);this.img="".concat(t,"_").concat(o),this.staticKey="".concat(n,"_").concat(o),this.motionKey="".concat(r,"_").concat(o)}},{key:"initFrameAnimation",value:function(){var e=this,t=this.petConfigParam.FRAME_CONFIG||{},r=t.MOTION_FRAMES,n=void 0===r?[0,0,0,0,0,0,0,0]:r,i=t.BLINK_FRAMES,o=void 0===i?[0,1,1,1,1,0]:i,a=t.STATIC_FRAMES,s=void 0===a?[0]:a,u=[].concat(c()(n),c()(n),c()(n),c()(o),c()(o));[{key:this.staticKey,frames:{start:0,end:0,frames:s||null},repeat:-1},{key:this.motionKey,frames:{start:1,end:13,frames:u.length?u:null},repeat:-1}].forEach((function(t){e.createFrameAnimation(e.img,9,t)}))}},{key:"createJelly",value:function(){var e=this;if(!this.freeFall&&this.sprite.body){var t=this.sprite.scale,r=this.scene.tweens.add({targets:this.sprite,scaleY:{from:t,to:.95*t},scaleX:{from:t,to:1.05*t},yoyo:!0,loop:!0,repeat:-1,ease:"Cubic.ease",duration:350}),n={y:0,prevY:0},i=this.scene.tweens.add({targets:n,y:{from:0,to:(0,Ko.dV)(.026).toFixed(0)},yoyo:!0,loop:!0,repeat:-1,ease:"Cubic.ease",duration:350,onUpdate:function(){e.sprite.y+=n.y-n.prevY,n.prevY=n.y}});this.dispose.push((function(){r.remove(),i.remove()}))}}},{key:"initGameSprite",value:function(e){if(this.scene){this.addMatterSprite(),this.sprite.sortId=e.fairy_rank;var t=this.levelMap.PET_FRAME_SIZE||{},r=t.WIDTH,n=t.HEIGHT,i=this._getScale(),o=i.BODY_SCALE,a=i.DISPLAY_SCALE;this.sprite.setScale(a),this.sprite.setRectangle(r*o,n*o),this.sprite.setFriction(0,0),this.sprite.setBounce(0),this.isTextureReady()?this._initAnimationWithEvent(e):(this.hide(),this.setIgnoreGravity(!0)),e.fairy_status!==Cr.jq.ROAM?this._toHideState():(0,ge.oy)(ye.Cw.PET,{fairy_level:e.fairy_rank})}}},{key:"_initAnimationWithEvent",value:function(e){this.setIgnoreGravity(!this.hasGravity),this.canDoOperation&&this.bindDragEvent(),this.bindCollideEvent(),this.initGravityEffect(e)}},{key:"_toHideState",value:function(){this.hide(),this.hideShadow(),this.colliedNothing()}},{key:"initGravityEffect",value:function(e){if(this.hasGravity&&e.fairy_status===Cr.jq.ROAM)this.sprite.setPosition(this.landingPlace.x,this.store.checkLowDeviceDowngrade("main_scene_ani")?2*this.landingPlace.y/3:0),this.collideWithLandingPlace(),this.playFrameAnimation(this.staticKey),this.stopMotion=!0,this.freeFall=!0;else{this.ignoreGravity();var t={x:this.landingPlace.x,y:this.landingPlace.y-(0,Ko.fp)(this.sprite.height/4)};this.hasComposePosition&&(t={x:this.composeX,y:this.composeY}),this.resumeColliedCategory();var r=this.parentStore,n=r.isInComposeStep,i=r.isInWorkStep;n||i?(n&&(this.playFrameAnimation(this.staticKey),this.stopMotion=!0),i&&this.stopMotionForWorkGuide()):(this.playFrameAnimation(this.motionKey),this.stopMotion=!1,this.randomMotion(!0)),this.showAttach(),this.isRoamPet&&this.updateAllPosition(!this.workGuideMark&&t),this.deleteComposePosition()}}},{key:"checkDragPet",value:function(e){var t;if(!e||!(null===(t=this.scene.input)||void 0===t?void 0:t._drag))return!1;var r=this.scene.input._drag[e.id];return!!r&&(r.every((function(e){return null==e?void 0:e.input}))||(r=r.filter((function(e){return null==e?void 0:e.input}))),r.length>0)}},{key:"bindDragEvent",value:function(){var e=this;this.sprite.setInteractive({draggable:!0}).on("dragstart",(function(t,r,n){var i=e.parentStore.findPetById(e.uniqueId);e.store.recycleDialogStore.setRecyclePet(i),e.store.setGamePetDragState(!0),e.isDestroyed&&!e.checkDragPet(t)||(e.setAllDepth(e.depthManager.topDepth),e.stopMotion=!0,e.colliedNothing(),e.dragStartPos.x=e.sprite.x,e.dragStartPos.y=e.sprite.y,e.playSelectedRingEffect(),e.updateAllPosition(e.sprite),e.clearRoamTrack())})).on("drag",(function(t,r,n){var i;e.updateAllPosition({x:r,y:n}),e.playSelectedRingEffect(),e.addRoamTrack(r,n),(e.parentStore.isInComposeStep||e.workGuideMark)&&(null===(i=e.parentStore.guide)||void 0===i||i.dragHide()),n+e.sprite.displayHeight>=e.store.gameStore.bg.trashBox.y&&e.store.newRecycleWithTips&&(0,R.runInAction)((function(){e.store.gameStore.isPrepareToRecycle=!0}))})).on("dragend",function(){var t=a()(i().mark((function t(r,n,o,a){var s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.store.setGamePetDragState(!1),e.store.gameStore.isPrepareToRecycle&&(0,R.runInAction)((function(){e.store.gameStore.isPrepareToRecycle=!1})),e.setAllDepth(e.depth.value),e.stopSelectedRingEffect(),e.dragEndCollideWithPet(),!e.isCollide){t.next=7;break}return t.abrupt("return");case 7:if(!e.parentStore.isInComposeStep){t.next=13;break}return e.resumeColliedCategory(),e.updateAllPosition(e.dragStartPos),e.parentStore.showComposeGuide(),e.clearRoamTrack(),t.abrupt("return");case 13:if(e.dragEndCollideWithSeat(),!e.isCollide){t.next=17;break}return e.clearRoamTrack(),t.abrupt("return");case 17:if(e.dargEndColliedWithTrashBox(),!e.isCollide){t.next=21;break}return e.clearRoamTrack(),t.abrupt("return");case 21:null===(s=e.commonEffect)||void 0===s||s.updateAutoMatchSet(),e.dragEndCollideWithBoundary(),e.clearRoamTrack(),e.isCollide||((0,ge.iH)(ye.Cw.PET,e.getTrackingInfo()),e.restartMotion());case 25:case"end":return t.stop()}}),t)})));return function(e,r,n,i){return t.apply(this,arguments)}}())}},{key:"_classifyBody",value:function(e,t){var r,n,i,o,a=e.gameObject,s=t.gameObject;return!a&&s||(null==s||null===(r=s.texture)||void 0===r||null===(n=r.key)||void 0===n?void 0:n.includes("ROAM_PET_"))?{collideBody:e,petBody:t}:a&&!s||(null==a||null===(i=a.texture)||void 0===i||null===(o=i.key)||void 0===o?void 0:o.includes("ROAM_PET_"))?{collideBody:t,petBody:e}:{}}},{key:"bindCollideEvent",value:function(){var e=this;this.dropLock=!1,this.sprite.setOnCollide(function(){var t=a()(i().mark((function t(r){var n,o,a,s,c,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.bodyA,o=r.bodyB,a=e._classifyBody(n,o),s=a.collideBody,a.petBody){t.next=4;break}return t.abrupt("return");case 4:if(c=s.gameObject){t.next=7;break}return t.abrupt("return");case 7:if(u=c.customName){t.next=10;break}return t.abrupt("return");case 10:if(u!==Cr.PK||e.dropLock){t.next=23;break}return e.dropLock=!0,t.next=14,(0,Ie._v)(70);case 14:return e.resumeColliedCategory(),e.setIgnoreGravity(!0),e.hasGravity=!1,e.setVelocity(0,0),t.next=20,(0,Ie._v)(70);case 20:e.ani.playJellyAnimation(),t.next=24;break;case 23:u===Cr.PK||e.freeFall||(e.randomMotion(!0),e.hasGravity=!1);case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"restartMotion",value:function(){this.isStatic()&&this.setStatic(!1),this.stopMotion=!1,this.resumeColliedCategory()}},{key:"randomMotion",value:function(e){this.isDestroyed||this.ani.randomMotion(e)}},{key:"checkBgBoundaryCollide",value:function(e){var t=this.parentStore.bg;if(t)return t.isPolygonCollideWithAreaBoundary(e)}},{key:"addRoamTrack",value:function(e,t){this.roamTrack.push({x:e,y:t})}},{key:"clearRoamTrack",value:function(){this.roamTrack=[]}},{key:"getLastUnCollidePoint",value:function(e){for(var t=this.sprite.getBounds(),r=this.roamTrack.length-1;r>=0;r--){var n=this.roamTrack[r];if(!this.checkBgBoundaryCollide([n])){var i=Ko.D5.getRect(n,t.width,t.height);if(!this.checkBgBoundaryCollide(i))return n}}return e}},{key:"dragEndCollideWithBoundary",value:function(){var e=Ko.D5.getPolygon(this.sprite);if(this.checkBgBoundaryCollide(e)){this.isCollide=!0,(0,ge.iH)(ye.Cw.PET,this.getTrackingInfo());var t=this.getLastUnCollidePoint(this.dragStartPos);return this.updateAllPosition(t),this.restartMotion(),!0}return this.isCollide=!1,!1}},{key:"checkPetsCollide",value:function(){for(var e=Ko.D5.getBox(this.sprite,{x:(0,Ko.fp)(5),y:(0,Ko.fp)(7)}),t=this.parentStore.pets,r=0;r<t.length;r++){var n,i,o=t[r],a=o.instance,s=o.fairy_status;if((null==a||null===(n=a.roamPet)||void 0===n||null===(i=n.sprite)||void 0===i?void 0:i.visible)&&!a.isInOperation&&s===Cr.jq.ROAM){var c=a.roamPet;if(!c.isInCompose&&!c.freeFall&&a.id!==this.id&&this.level===a.level){var u=Ko.D5.getBox(c.sprite,{x:(0,Ko.fp)(5),y:(0,Ko.fp)(7)});if(Ko.D5.intersectBox(e,u))return t[r]}}}}},{key:"resetVelocity",value:function(){var e;if((null===(e=this.sprite)||void 0===e?void 0:e.body)&&!this.isDestroyed){var t=this.sprite.body.velocity,r=t.x,n=t.y;if((Math.abs(r)>(0,Ko.fp)(.5)||Math.abs(n)>(0,Ko.fp)(.5))&&this.lastDirection){var i=(0,Ko.fp)(.23),o=new Phaser.Math.Vector2(i,i).multiply(this.lastDirection);this.sprite.setVelocity(o.x,o.y)}}}},{key:"preComposeDeal",value:function(){this.stopMotion=!0,this.inOperation(),this.isInCompose=!0,this.colliedNothing(),this.disableDrag()}},{key:"afterComposeDeal",value:function(){this.isInCompose=!1,this.outOperation(),this.enableDrag()}},{key:"dragEndCollideWithPet",value:(n=a()(i().mark((function e(){var t,r,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isCollide=!1,!this.parentStore.isPetInOperation&&!this.freeFall){e.next=3;break}return e.abrupt("return");case 3:if(!(null==(t=this.checkPetsCollide())?void 0:t.instance)){e.next=15;break}return(0,ge.iH)(ye.Cw.PET,this.getTrackingInfo(0)),r=t.instance,this.isCollide=!0,this.preComposeDeal(),r.roamPet.preComposeDeal(),this.parentStore.isInComposeStep&&this.parentStore.guide.hideComposeGuide(),e.next=13,this.parentStore.doComposeOperation(this.id,t.fairy_id);case 13:(n=e.sent)?(null===(o=this.commonEffect)||void 0===o||o.stopSelectedRingEffect(),this.ani.playComposeAnimation(t,n),this.outOperation(),r.roamPet.outOperation(),this.rootStore.topBarStore.showComposeTaskResultDialog(n)):(this.rootStore.topBarStore.queryComposeTask(),this.afterComposeDeal(),r.roamPet.afterComposeDeal(),this.parentStore.isInComposeStep?(this.resumeColliedCategory(),this.updateAllPosition(this.dragStartPos),r.roamPet.resumeColliedCategory(),r.roamPet.updateAllPosition(),this.parentStore.showComposeGuide()):(this.restartMotion(),r.roamPet.restartMotion()));case 15:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"checkSeatsCollide",value:function(){if(this.isInOperation||this.state!==Cr.jq.ROAM)return-1;for(var e=Ko.D5.getBox(this.sprite,{x:(0,Ko.fp)(5),y:(0,Ko.fp)(7)}),t=this.parentStore.seats,r=1/0,n=-1,i=0;i<t.length;i++){var o,a=t[i],s=a.instance,c=a.state,u=a.petId;if((null==s||null===(o=s.idle)||void 0===o?void 0:o.visible)&&(c===Cr.t7.IDLE&&s&&!u)){var l=Ko.D5.getBox(s.idle);if(Ko.D5.intersectBox(e,l)){var p=Ko.D5.boxDistance(e,l);p<r&&(r=p,n=i)}}}return n}},{key:"dragEndCollideWithSeat",value:(r=a()(i().mark((function e(){var t,r,n,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isCollide=!1,!(this.parentStore.isPetInOperation||this.rootStore.topRank<3)){e.next=3;break}return e.abrupt("return");case 3:if(-1===(t=this.checkSeatsCollide())){e.next=16;break}return this.isCollide=!0,this.inOperation(),(0,ge.iH)(ye.Cw.PET,this.getTrackingInfo(1)),r=!1,this.parentStore.isInWorkStep&&(null===(n=this.parentStore.guide)||void 0===n||n.hideWorkGuide(),r=!0),this.disableDrag(),e.next=13,this.parentStore.doWorkOperation(this.id,t);case 13:return e.sent?(null===(o=this.parentStore.audioManager)||void 0===o||o.playCallFairy(),this.parentStore.toWork(this.uniqueId,t),s=this.parentStore.seats[t],null===(a=s.instance)||void 0===a||a.playDragEffect(),this.parentStore.queryMainAfterOperation(!1,!0),this.enableDrag(),this.outOperation(),r&&this.parentStore.isInGuideStep&&(this.parentStore.destroyGuide(),this.rootStore.duoduoSpriteLogger({stage:"guide_finish"}))):(this.enableDrag(),this.outOperation(),this.updateAllPosition(this.dragStartPos),this.restartMotion(),this.parentStore.isInWorkStep&&this.parentStore.showWorkGuide()),e.abrupt("return");case 16:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"dargEndColliedWithTrashBox",value:(t=a()(i().mark((function e(){var t,r,n,o,a,s,c=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isCollide=!1,!this.parentStore.isPetInOperation&&!this.parentStore.isInWorkStep){e.next=3;break}return e.abrupt("return");case 3:if(r=this.parentStore.bg,null===(t=r.trashBox)||void 0===t?void 0:t.visible){e.next=6;break}return e.abrupt("return",!1);case 6:n=Ko.D5.getBox(this.sprite,{x:(0,Ko.fp)(21),y:(0,Ko.fp)(21)}),o=Ko.D5.getBox(r.trashBox,{x:(0,Ko.fp)(12),y:(0,Ko.fp)(20)}),Ko.D5.intersectBox(n,o)&&(this.isCollide=!0,this.inOperation(),(0,ge.iH)(ye.Cw.PET,this.getTrackingInfo(3)),a=this.parentStore.findPetById(this.uniqueId),this.rootStore.recycleDialogStore.setRecyclePet(a),this.rootStore.recycleDialogStore.showAction(),this.store.newRecycleWithTips&&this._storeObject._doCorrectRoam(),s=(0,R.reaction)((function(){return!c.rootStore.recycleDialogStore.isShow}),(function(){c.parentStore.isRecycleSuccess&&(null==r||r.playRecallAnimation(),c.parentStore.isRecycleSuccess=!1),s()})));case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"stopMotionForWorkGuide",value:function(){this.stopMotion=!0,this.stopFrame=!1;var e="number"==typeof this.dragStartPos.x&&"number"==typeof this.dragStartPos.y?this.dragStartPos:this.sprite;this.updateAllPosition(e),this.playFrameAnimation(this.motionKey)}},{key:"setWorkGuidePosition",value:function(){var e=this.landingPlace.getWorkGuidePetPosition();e.y-=(0,Ko.fp)(this.sprite.height/4),this.updateAllPosition(e),this.workGuideMark=!0,this.isStatic()||this.setStatic(!0)}},{key:"toInactive",value:function(){_()(C()(u.prototype),"hide",this).call(this),this.stopMotion=!0,this.colliedNothing(),this.playFrameAnimation(this.staticKey),this.hideShadow()}},{key:"toActive",value:function(){_()(C()(u.prototype),"show",this).call(this),this.restartMotion(),this.updateAllPosition(this.landingPlace),this.playFrameAnimation(this.motionKey)}},{key:"resetTexture",value:function(){_()(C()(u.prototype),"resetTexture",this).call(this)}},{key:"ignoreGravity",value:function(){this.isDestroyed||(this.freeFall=!1,this.hasGravity=!1,this.setIgnoreGravity(!0))}},{key:"destroy",value:function(){_()(C()(u.prototype),"destroy",this).call(this),this.ani.destroy(),this.stopMotion=!0,this.isInOperation=!1,this.isCollide=!1,this.isInCompose=!1,this.freeFall=!1,this.workGuideMark=void 0,this.stopFrame=void 0,this.dispose.forEach((function(e){return e()})),this.dispose=[]}},{key:"isValidCollideRoamPet",get:function(){var e,t,r,n;return(null===(e=this.sprite.body)||void 0===e||null===(t=e.axes)||void 0===t?void 0:t.length)>0&&(null===(r=this.sprite.body)||void 0===r||null===(n=r.vertices)||void 0===n?void 0:n.length)>0}}]),u}(du),P()(_u.prototype,"dragEndCollideWithPet",[$.d],Object.getOwnPropertyDescriptor(_u.prototype,"dragEndCollideWithPet"),_u.prototype),P()(_u.prototype,"dragEndCollideWithSeat",[$.d],Object.getOwnPropertyDescriptor(_u.prototype,"dragEndCollideWithSeat"),_u.prototype),_u);function Ou(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Iu,Au=function(e){O()(r,e);var t=Ou(r);function r(){return g()(this,r),t.apply(this,arguments)}return w()(r,[{key:"setPositionBySeat",value:function(e){if(e&&this.shouldSetPositionBySeat){var t=this.parentStore.seats[e.fairy_work_order];if(!(null==t?void 0:t.instance))return;!t.instance.used&&t.instance._createUsedParts();var r=t.instance.used,n=r.x,i=r.y;this.updateAllPosition({x:n-this.sprite.offsetX,y:i-this.sprite.offsetY})}}},{key:"initGameSprite",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.scene&&this.workPetConfigParam){var r=this.workPetConfigParam.TRANSFORM,n=r.DISPLAY_SCALE,i=r.OFFSET_X,o=r.OFFSET_Y;this.addSprite(),this.sprite.sortId=t,this.sprite.offsetX=(0,Ko.fp)(i),this.sprite.offsetY=(0,Ko.fp)(o),this.setPositionBySeat(e);var a=(0,Ko.fp)(n);this.sprite.setScale(a,a)}}},{key:"initFrameAnimation",value:function(){var e=this;[{key:this.staticKey,frames:{start:0,end:0},repeat:-1},{key:this.motionKey,frames:{start:1,end:20},repeat:-1}].forEach((function(t){e.createFrameAnimation(e.img,14,t)}))}},{key:"speedUpWork",value:function(e){this.playFrameAnimation(this.motionKey),this.sprite.anims.frameRate=e}},{key:"toInactive",value:function(){_()(C()(r.prototype),"hide",this).call(this),this.playStaticFrame()}},{key:"show",value:function(){_()(C()(r.prototype),"show",this).call(this)}},{key:"toActive",value:function(){this.show(),this.playMotionFrame()}},{key:"resetTexture",value:function(){this.isDestroyed||(_()(C()(r.prototype),"resetTexture",this).call(this),!this.isRoamPet&&this.playMotionFrame())}},{key:"workPetConfigParam",get:function(){return this.levelMap.WORK_PET}},{key:"stealPetConfigParam",get:function(){return this.levelMap.STEAL_PET}}]),r}(du);function Tu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Cu,Eu=(Iu=function(e){O()(o,e);var t,r,n=Tu(o);function o(){return g()(this,o),n.apply(this,arguments)}return w()(o,[{key:"init",value:function(e){this.initImgKey(e),this.loadAssets(),this.initFrameAnimation(),this.initGameSprite(e),e.fairy_status!==Cr.jq.WORK?this.toInactive():(this.showAttach(),this.hideShadow(),this.updateAllPosition(),(0,ge.oy)(ye.Cw.PET,{fairy_level:e.fairy_rank}))}},{key:"initImgKey",value:function(e){var t=Cr.Eq.WORK_PET,r=Cr.Eq.MOTION,n=Cr.Eq.STATIC,i=this.parentStore.skinType;this.img="".concat(t,"_").concat(i),this.motionKey="".concat(t,"_").concat(r),this.staticKey="".concat(t,"_").concat(n)}},{key:"loadAssets",value:(r=a()(i().mark((function e(){var t,r,n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.levelMap.PET_FRAME_SIZE||{},r=t.WIDTH,n=t.HEIGHT,o=this.loadPetTextureTask(this.workPetConfigParam.FRAME_PIC,r,n),e.next=5,o;case 5:if(a=e.sent,this.parentStore.petLoadFinishLog(this.workPetConfigParam.FRAME_PIC),a&&!this.isDestroyed){e.next=9;break}return e.abrupt("return");case 9:this.resetTexture(),this.isWorkPet&&this.updateAllPosition(),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(){return r.apply(this,arguments)})},{key:"recallClick",value:(t=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state===Cr.jq.WORK&&this.canDoOperation){e.next=2;break}return e.abrupt("return");case 2:if((0,ge.iH)(ye.Cw.PET,this.getTrackingInfo(2)),this.parentStore.isPetInOperation){e.next=15;break}return this.inOperation(),e.next=7,this.parentStore.checkFairyBeforeRecallInMainScene(this.uniqueId);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",(0,qt.Z)("精灵已经召回了~"));case 10:return e.next=12,this.parentStore.doRecallOperation(this.id);case 12:this.parentStore.toRoam(this.uniqueId),this.parentStore.queryMainAfterOperation(!1,!0),this.outOperation();case 15:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"bindClickEvent",value:function(){var e=this;this.sprite.setInteractive({draggable:!1}).on("pointerup",(function(t){e.canDoOperation&&e.recallClick()})),this.disableDrag()}},{key:"initGameSprite",value:function(e){_()(C()(o.prototype),"initGameSprite",this).call(this,e,0),this.canDoOperation&&this.bindClickEvent(),this.playMotionFrame()}}]),o}(Au),P()(Iu.prototype,"recallClick",[$.d],Object.getOwnPropertyDescriptor(Iu.prototype,"recallClick"),Iu.prototype),Iu);function Pu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Ru=(Cu=function(e){O()(s,e);var t,r,n,o=Pu(s);function s(){return g()(this,s),o.apply(this,arguments)}return w()(s,[{key:"init",value:function(e){this.initImgKey(e),this.loadAssets(),this.initFrameAnimation(),this.initGameSprite(e),this.showByStatus(e)}},{key:"showByStatus",value:function(e){this.canRemind||this.canDriveAway||this.canCallBackGrab?(this.canRemind||this.canDriveAway?(this.hideAttach(),this.showAvatar()):this.canCallBackGrab?(this.hideAvatar(),this.showAttach(),this.hideShadow()):this.hideAttach(),this.updateAllPosition(),(0,ge.oy)(ye.Cw.PET,{fairy_level:this.level})):(e.fairy_status===Cr.jq.WORK_IN_FRIEND&&this.hideAttach(),this.hideAvatar(),this.toInactive())}},{key:"loadAssets",value:(n=a()(i().mark((function e(){var t,r,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.levelMap.PET_FRAME_SIZE||{},r=t.WIDTH,n=t.HEIGHT,o=this.loadPetTextureTask(this.stealPetConfigParam.FRAME_PIC,r,n),e.next=5,o;case 5:if(e.sent&&!this.isDestroyed){e.next=8;break}return e.abrupt("return");case 8:this.resetTexture(),this.isStealPet&&this.updateAllPosition(),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return n.apply(this,arguments)})},{key:"initImgKey",value:function(e){var t=Cr.Eq.STEAL_PET,r=Cr.Eq.MOTION,n=Cr.Eq.STATIC,i=this._getSkinKey();this.img="".concat(t,"_").concat(i),this.motionKey="".concat(t,"_").concat(r),this.staticKey="".concat(t,"_").concat(n)}},{key:"driveAwayClick",value:(r=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.parentStore.isMainScene&&this.state===Cr.jq.WORK_IN_FRIEND){e.next=2;break}return e.abrupt("return");case 2:(0,ge.iH)(ye.Cw.PET,this.getTrackingInfo(4)),(t=this.parentStore.findPetById(this.uniqueId))||(0,qt.Z)("好友的精灵已经回家了~"),t&&this.rootStore.driveAwayDialogStore.showAction(t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"recallGrabClick",value:(t=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.parentStore.isMainScene&&this.state===Cr.jq.WORK_IN_FRIEND){e.next=2;break}return e.abrupt("return");case 2:return(0,ge.iH)(ye.Cw.PET,this.getTrackingInfo(5)),this.inOperation(),e.next=6,this.parentStore.recallGrabPets([this.id]);case 6:e.sent&&(this.parentStore.deletePetById(this.uniqueId),this.rootStore.recallReturnDialogStore.showAction(),this.parentStore.requestVisitMain(this.rootStore.friendUid,!1,!1)),this.outOperation();case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"remindClick",value:function(){if(!this.parentStore.isMainScene&&this.state===Cr.jq.WORK_IN_FRIEND){(0,ge.iH)(ye.Cw.PET,this.getTrackingInfo(6));var e=this.rootStore.remindShareStore,t=e.showShareCoin,r=e.rewardCoinStr,n=t?"提醒好友成功，可获得<span>".concat(r,"</span>金币"):"快去提醒你的好友吧";this.rootStore.remindShareStore.showShare(n)}}},{key:"notBindEvent",value:function(e){return e.fairy_status!==Cr.jq.WORK_IN_FRIEND||this.isWorkingInFriend}},{key:"bindClickEvent",value:function(e){var t=this;this.disableDrag(),this.notBindEvent(e)||(this.canDriveAway?this.sprite.setInteractive({draggable:!1}).on("pointerup",(function(){t.driveAwayClick()})):this.canCallBackGrab?this.sprite.setInteractive({draggable:!1}).on("pointerup",(function(){t.recallGrabClick()})):this.canRemind&&this.sprite.setInteractive({draggable:!1}).on("pointerup",(function(){t.remindClick()})))}},{key:"initGameSprite",value:function(e){_()(C()(s.prototype),"initGameSprite",this).call(this,e,-1),this.bindClickEvent(e),this.playMotionFrame()}}]),s}(Au),P()(Cu.prototype,"driveAwayClick",[$.d],Object.getOwnPropertyDescriptor(Cu.prototype,"driveAwayClick"),Cu.prototype),P()(Cu.prototype,"recallGrabClick",[$.d],Object.getOwnPropertyDescriptor(Cu.prototype,"recallGrabClick"),Cu.prototype),Cu),xu=function(){function e(t,r,n){g()(this,e),this._children=[],this._x=t,this._y=r,this._visible=!0,this._alpha=1,this.setChildren(n)}return w()(e,[{key:"setChildren",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._children=t.map((function(t){if(t)return e.updateChildPosition(t),t.visible=e._visible,t.alpha=e._alpha,t}))}},{key:"updateChildPosition",value:function(e){var t=e.sourceX,r=e.sourceY;null!=t&&null!=r||(e.sourceX=e.x,e.sourceY=e.y),e.setPosition(this._x+e.sourceX,this._y+e.sourceY)}},{key:"addChildren",value:function(e){e&&(this.updateChildPosition(e),this._children.push(e))}},{key:"removeChildren",value:function(e){var t=this._children.findIndex((function(t){return t==e}));-1!==t&&this._children.splice(t,1)}},{key:"setPosition",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._x=t,this._y=r,this._children.forEach((function(t){t&&e.updateChildPosition(t)}))}},{key:"setVisible",value:function(e){var t=this;this._visible=e,this._children.forEach((function(e){e&&(e.visible=t._visible)}))}},{key:"setAlpha",value:function(e){var t=this;e>1&&(e=1),this._alpha=e,this._children.forEach((function(e){e&&(e.alpha=t._alpha)}))}},{key:"destroy",value:function(){this._children=[]}},{key:"alpha",get:function(){return this._alpha},set:function(e){this.setAlpha(e)}},{key:"visible",get:function(){return this._visible},set:function(e){this.setVisible(e)}},{key:"x",get:function(){return this._x},set:function(e){this.setPosition(e,this._y)}},{key:"y",get:function(){return this._y},set:function(e){this.setPosition(this._x,e)}}]),e}(),Du=function(){function e(t,r,n){g()(this,e),this.getParent=void 0,this.getRoot=void 0,this.rate=void 0,this.bubbleOffset=void 0,this.triggerLock=void 0,this.startRoamBubble=void 0,this.coinContainer=void 0,this.rectBg=void 0,this.coinIcon=void 0,this.roamTween=void 0,this.workTween=void 0,this.getParent=r,this.getRoot=n,this.init(t),this.bubbleOffset=0,this.triggerLock=!1,this.startRoamBubble=!0}return w()(e,[{key:"getDrawCoinText",value:function(e){return" +".concat(e)}},{key:"init",value:function(e){this.createCoinBubble(e)}},{key:"_getBgWith",value:function(e,t){switch(!0){case e<10:return{width:50,offsetX:26,key:"0"};case e<100:return{width:60,offsetX:31,key:"1"};case e<1e3:return{width:69,offsetX:38,key:"2"};case e<1e4:return{width:79,offsetX:43,key:"3"}}switch(t.length){case 4:return{width:80,offsetX:42,key:"4"};case 5:return{width:90,offsetX:46,key:"5"};case 6:return{width:100,offsetX:51,key:"6"};case 7:return{width:109,offsetX:56,key:"7"};case 8:return{width:118,offsetX:61,key:"8"};case 9:return{width:128,offsetX:66,key:"9"}}return{width:50,offsetX:26,key:"0"}}},{key:"isValidCoinRate",value:function(){return!!this.coinContainer&&(!!(0,Pe.ED)(this.coinContainer.coinRate||"0","0")||(this.coinContainer.visible=!1,!1))}},{key:"getCoinRate",value:function(e){var t=e.rest_coin_rate,r=e.work_coin_rate,n=e.occupy_work_coin_rate;switch(e.fairy_status){case Cr.jq.ROAM:return t;case Cr.jq.WORK:return r;case Cr.jq.WORK_IN_FRIEND:return n}}},{key:"_getRoundRectPoints",value:function(e,t){var r=this.parentStore.roundRectPoints;if(r.has(e))return r.get(e);var n=Ko.D5.getRoundRectPoints((0,Ko.fp)(t),(0,Ko.fp)(20),(0,Ko.fp)(10));return r.set(e,n),n}},{key:"createCoinBubble",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rest_coin_rate:1,work_coin_rate:2,occupy_work_coin_rate:0},r=this.getCoinRate(t),n=(0,Pe.n)(r,1),i=n.valueStr,o=Di.U3["LEVEL_".concat(this.parentStore.skinType)].EMITTER_COLOR,a=this._getBgWith(r,i),s=a.width,c=a.offsetX,u=a.key,l=this._getRoundRectPoints(u,s);this.rectBg=this.scene.add.polygon((0,Ko.fp)(c),(0,Ko.fp)(10),l,o,.6),this.rectBg.pointKey=u;var p=Cr.Uj.SEAT_ATLAS,f=Cr.Uj.COMMON_COIN;this.coinIcon=this.scene.add.image((0,Ko.fp)(14),(0,Ko.fp)(10),p,f);var d=(0,Ko.fp)(.2);this.coinIcon.setScale(d,d);var h=(0,Ko.fp)(17);try{var m,g,y=Cr.BN.COIN_NUMBER_FONT,v=null===(m=this.scene.sys.cache)||void 0===m||null===(g=m.bitmapFont)||void 0===g?void 0:g.get(y);v?this.rate=this.scene.add.bitmapText((0,Ko.fp)(25),(0,Ko.fp)(-.8),y,this.getDrawCoinText(i),h):(0,ou.sendNormalLog)({msg:"no bitmapFont cache, key: COIN_NUMBER_FONT"},null)}catch(e){this.parentStore.sendError(e)}var b=this.rate?[this.rectBg,this.coinIcon,this.rate]:[this.rectBg,this.coinIcon];this.coinContainer=new xu(0,0,b),this.coinContainer.visible=!1,this.coinContainer.offsetX=-(0,Ko.fp)(c),this.coinContainer.offsetY=-(0,Ko.fp)(18),this.coinContainer.coinRate=r,this.roamTween=this.scene.tweens.add({targets:this.coinContainer,alpha:{from:1,to:0},ease:"Quad.easeOut",duration:900,delay:0,repeat:0,onUpdate:function(){e.bubbleOffset+=1},onComplete:function(){e.bubbleOffset=0,e.triggerLock=!1,e.coinContainer.alpha=0,e.rate&&(e.rate._dirty=!1),e.startRoamBubble=!1,e.coinContainer.setVisible(!1);var t=setTimeout((function(){e.startRoamBubble=!0,e.coinContainer.setVisible(!0),clearTimeout(t)}),700)}}),this.roamTween.stop()}},{key:"updateRoamBubble",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};if(this.isValidCoinRate()&&this.startRoamBubble){var t=(0,Ko.fp)(30),r=this.coinContainer,n=r.offsetX,i=r.offsetY;this.coinContainer.setPosition(e.x+(n||0),e.y+(i||0)),this.bubbleOffset<=t?(this.coinContainer.visible=this.parentStore.spriteCanMove,this.coinContainer.y-=this.bubbleOffset,this.coinContainer.alpha+=this.bubbleOffset/t,this.bubbleOffset+=2):(this.coinContainer.y-=this.bubbleOffset,this.triggerLock||(this.roamTween.play(),this.triggerLock=!0))}}},{key:"playWorkBubbleAnimation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},r=arguments.length>1?arguments[1]:void 0;if(this.startRoamBubble=!1,this.isValidCoinRate()){var n=this.coinContainer,i=n.offsetX,o=n.offsetY;this.coinContainer.visible=!0,this.coinContainer.setPosition(t.x+(i||0)+(0,Ko.fp)(5),t.y+(o||0)+(0,Ko.fp)(-20)),this.stopWorkBubbleAnimation();var a=this.coinContainer.y,s=this.coinContainer.y-70;this.workTween=this.scene.tweens.add({targets:this.coinContainer,y:{from:a,to:s},alpha:{from:1.5,to:.2},ease:"Quad.easeOut",duration:r,delay:400,repeat:-1,onStart:function(){e.rate&&(e.rate._dirty=!1)}})}}},{key:"stopWorkBubbleAnimation",value:function(){this.startRoamBubble=!0,this.workTween&&(this.workTween.stop(),this.workTween.remove(),this.workTween=void 0)}},{key:"playWorkEmitter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r){this.stopWorkBubbleAnimation(),this.coinContainer.alpha=1;var n=this.coinContainer,i=n.offsetX,o=n.offsetY;this.coinContainer.setPosition(e.x+(i||0)+(0,Ko.fp)(5),e.y+(o||0)+(0,Ko.fp)(-35))}else this.playWorkBubbleAnimation(e,t)}},{key:"updateCoinBubble",value:function(e){var t;if(e){var r=this.getCoinRate(e),n=(0,Pe.n)(r,1).valueStr,i=this._getBgWith(r,n),o=i.width,a=i.offsetX,s=i.key;if(this.rectBg.pointKey!==s){var c=(0,Ko.fp)(a),u=this._getRoundRectPoints(s,o);this.rectBg.geom.setTo(u);var l=Ko.D5.getAABB(this.rectBg.geom.points);this.rectBg.setSize(l.width,l.height),this.rectBg.setPosition(c,(0,Ko.fp)(10)),this.rectBg.updateDisplayOrigin(),this.rectBg.updateData(),this.rectBg.sourceX=c,this.coinContainer.offsetX=-c,this.rectBg.pointKey=s}null===(t=this.rate)||void 0===t||t.setText(this.getDrawCoinText(n)),this.coinContainer.coinRate=r}}},{key:"setDepth",value:function(e){var t;this.rectBg.setDepth(e-2),this.coinIcon.setDepth(e-1),null===(t=this.rate)||void 0===t||t.setDepth(e-1)}},{key:"destroy",value:function(){var e;[this.rectBg,this.coinIcon,this.rate,this.coinContainer].forEach((function(e){return null==e?void 0:e.destroy()})),this.stopWorkBubbleAnimation(),null===(e=this.roamTween)||void 0===e||e.remove(),this.roamTween=void 0,this.startRoamBubble=!1}},{key:"parentStore",get:function(){return this.getParent()}},{key:"scene",get:function(){return this.parentStore.scene}},{key:"anims",get:function(){return this.scene.anims}}]),e}();function Nu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Lu=function(e){O()(r,e);var t=Nu(r);function r(e,n,i){var o;return g()(this,r),(o=t.call(this,n,i)).roamPet=void 0,o.workPet=void 0,o.stealPet=void 0,o.level=void 0,o.uniqueId=void 0,o.id=void 0,o.state=void 0,o.ownerAvatar=void 0,o.ownerUid=void 0,o.composeX=void 0,o.composeY=void 0,o.emitter=void 0,o.depth=void 0,o.id=e.fairy_id,o.state=e.fairy_status,o.ownerAvatar=e.owner_avatar,o.level=e.fairy_rank,o.ownerUid=e.owner_uid,o.uniqueId=e.unique_id,o.composeX=e.x,o.composeY=e.y,o.init(e,n,i),o}return w()(r,[{key:"createMainScenePets",value:function(e,t){this.canDriveAway?this.stealPet=new Ru(this,e,t):this.isRoamPet||this.isNormalWorkPet?(this.roamPet=new Su(this,e,t),this.workPet=new Eu(this,e,t)):(this.roamPet=new Su(this,e,t),this.workPet=new Eu(this,e,t),this.stealPet=new Ru(this,e,t))}},{key:"createFriendScenePets",value:function(e,t){this.canCallBackGrab||this.canRemind||(this.roamPet=new Su(this,e,t),this.workPet=new Eu(this,e,t)),this.stealPet=new Ru(this,e,t)}},{key:"init",value:function(e,t,r){var n;this.depth=this.depthManager.getMiddleDepth(),null===(n=this.attach)||void 0===n||n.createLevelText(e),this.emitter=new Du(e,t,r),this.parentStore.isMainScene?this.createMainScenePets(t,r):this.createFriendScenePets(t,r),[this.roamPet,this.workPet,this.stealPet].forEach((function(t){return null==t?void 0:t.init(e)})),this.setAllDepth(this.depth.value)}},{key:"setAllDepth",value:function(e){var t;[this.roamPet,this.workPet,this.stealPet].forEach((function(t){return null==t?void 0:t.setDepth(e)})),null===(t=this.emitter)||void 0===t||t.setDepth(e)}},{key:"showAttach",value:function(){if(this.attach){var e={petDepth:this.depth.value,uniqueId:this.uniqueId,attachIdx:this.attachIdx,isRoamPet:this.isRoamPet};this.attachIdx=this.attach.showNormalAttach(e)}}},{key:"hideShadow",value:function(){var e;null===(e=this.attach)||void 0===e||e.hideShadow(this.uniqueId)}},{key:"hideAttach",value:function(){var e;null===(e=this.attach)||void 0===e||e.hideNormalAttach(this.uniqueId,this.attachIdx)}},{key:"showAvatar",value:function(){var e;null===(e=this.attach)||void 0===e||e.showAvatarAttach(this)}},{key:"hideAvatar",value:function(){var e;null===(e=this.attach)||void 0===e||e.hideAvatarAttach()}},{key:"speedUpWork",value:function(e){var t;null===(t=this.workPet)||void 0===t||t.speedUpWork(e)}},{key:"stopMotionForWorkGuide",value:function(){var e;null===(e=this.roamPet)||void 0===e||e.stopMotionForWorkGuide()}},{key:"setWorkGuidePosition",value:function(){this.roamPet.setWorkGuidePosition()}},{key:"randomMotion",value:function(e){var t;null===(t=this.roamPet)||void 0===t||t.randomMotion(e)}},{key:"resetVelocity",value:function(){var e;null===(e=this.roamPet)||void 0===e||e.resetVelocity()}},{key:"updateRoamPosition",value:function(e){var t;null===(t=this.roamPet)||void 0===t||t.updateAllPosition(e)}},{key:"playWorkEmitter",value:function(e,t){this.workPet&&this.emitter.playWorkEmitter(this.workPet.sprite,e,t)}},{key:"roamInOperation",value:function(){this.roamPet.isInOperation=!0}},{key:"roamOutOperation",value:function(){this.roamPet.isInOperation=!1}},{key:"restartMotion",value:function(){var e;null===(e=this.roamPet)||void 0===e||e.restartMotion()}},{key:"enableDrag",value:function(){this.roamPet.enableDrag()}},{key:"disableDrag",value:function(){this.roamPet.disableDrag()}},{key:"clearGuideState",value:function(){this.roamPet.stopFrame=void 0,this.roamPet.workGuideMark=void 0,this.isRoamPet&&this.restartMotion()}},{key:"recallClick",value:function(){this.state===Cr.jq.WORK?this.workPet.recallClick():this.state===Cr.jq.WORK_IN_FRIEND&&this.stealPet.recallGrabClick()}},{key:"driveAwayClick",value:function(){var e;null===(e=this.stealPet)||void 0===e||e.driveAwayClick()}},{key:"remindClick",value:function(){var e;null===(e=this.stealPet)||void 0===e||e.remindClick()}},{key:"toRoam",value:function(){var e;this.roamPet&&(this.workPet.toInactive(),null===(e=this.stealPet)||void 0===e||e.toInactive(),this.roamPet.ignoreGravity(),this.roamPet.toActive(),this.emitter.stopWorkBubbleAnimation(),this.hideAvatar(),this.showAttach())}},{key:"toWork",value:function(e){var t;this.workPet&&(null===(t=this.roamPet)||void 0===t||t.toInactive(),this.workPet.setPositionBySeat(e),this.workPet.toActive(),this.hideShadow())}},{key:"toSteal",value:function(e){var t,r;this.stealPet&&!this.isWorkingInFriend&&(null===(t=this.workPet)||void 0===t||t.toInactive(),null===(r=this.roamPet)||void 0===r||r.toInactive(),this.stealPet.toActive(),this.stealPet.setPositionBySeat(e),this.stealPet.showByStatus(e))}},{key:"update",value:function(e){if(e){var t=e.fairy_id,r=e.fairy_status,n=e.fairy_rank,i=e.unique_id;this.id=t,this.level=n,this.uniqueId=i;var o=this.state;switch(this.state=r,[this.roamPet,this.workPet,this.stealPet].forEach((function(t){return null==t?void 0:t.update(e)})),this.emitter.updateCoinBubble(e),this.state){case Cr.jq.ROAM:o!==Cr.jq.ROAM&&this.toRoam();break;case Cr.jq.WORK:this.toWork(e);break;case Cr.jq.WORK_IN_FRIEND:this.toSteal(e)}}}},{key:"_doCorrectRoam",value:function(){var e=this.parentStore.findPetById(this.uniqueId);this.update(e),this.toRoam()}},{key:"correctRoamBodyParam",value:function(){var e=this;try{if(!this.roamPet)return;var t=this.roamPet.sprite;if(!t)return;var r=t.x,n=t.y,i=Number.isNaN(r)||Number.isNaN(n);if(i)return function(){var t=e.parentStore.errorParamSprite;if(!t.includes(e.id)){var r=" rank: ".concat(e.level," id: ").concat(e.id),n="sprite physical parameter is NaN".concat(r);e.parentStore.sendError(n),t.push(e.id),t.length>100&&(t=[])}}(),this.roamPet.resetBody(),this._doCorrectRoam(),!0}catch(e){this.parentStore.sendError(e)}}},{key:"correctRoamStatus",value:function(){if(this.roamPet){var e=this.roamPet,t=e.sprite,r=e.stopMotion,n=e.isDestroyed;if(this.state===Cr.jq.ROAM&&t.visible&&!r&&!n){if(this.state===Cr.jq.ROAM&&!t.visible)return this._doCorrectRoam();var i=t.x,o=t.y,a=this.parentStore,s=a.bg,c=a.sceneSize;if(s&&!(o<=s.baseTopLineHeight))(o>s.baseTopLineHeight&&o<=s.baseBottomLineHeight&&s.isPolygonCollideWithAreaBoundary([{x:i,y:o}])||o>s.baseBottomLineHeight||o<0||i<0||i>c.width)&&this._doCorrectRoam()}}}},{key:"destroyLandingPlace",value:function(){var e,t;null===(e=this.roamPet)||void 0===e||null===(t=e.landingPlace)||void 0===t||t.destroy()}},{key:"destroyAnims",value:function(){[this.roamPet,this.workPet,this.stealPet].forEach((function(e){return null==e?void 0:e.destroyAnims()}))}},{key:"destroy",value:function(){var e,t;[this.roamPet,this.workPet,this.stealPet].forEach((function(e){return null==e?void 0:e.destroy()})),this.emitter.destroy(),null===(e=this.attach)||void 0===e||e.destroyLevelText(this.uniqueId,this.attachIdx),null===(t=this.attach)||void 0===t||t.destroyAvatar(this.uniqueId),this.attachIdx=null}},{key:"destroyForRecycle",value:function(){var e;null===(e=this.attach)||void 0===e||e.destroyShadow(this.uniqueId),this.destroy()}},{key:"depthManager",get:function(){return this.parentStore.depthManager}},{key:"attach",get:function(){return this.parentStore.attach}},{key:"isInCompose",get:function(){var e;return null===(e=this.roamPet)||void 0===e?void 0:e.isInCompose}},{key:"isInOperation",get:function(){return[this.roamPet,this.workPet,this.stealPet].some((function(e){return null==e?void 0:e.isInOperation}))}},{key:"isFallFinish",get:function(){var e;return!(null===(e=this.roamPet)||void 0===e?void 0:e.freeFall)}},{key:"roamSprite",get:function(){var e;return null===(e=this.roamPet)||void 0===e?void 0:e.sprite}},{key:"workSprite",get:function(){var e;return null===(e=this.workPet)||void 0===e?void 0:e.sprite}},{key:"stealSprite",get:function(){var e;return null===(e=this.stealPet)||void 0===e?void 0:e.sprite}},{key:"canDriveAway",get:function(){return this.parentStore.isMainScene&&this.state===Cr.jq.WORK_IN_FRIEND&&this.ownerUid&&"".concat(this.ownerUid)!==this.rootStore.userId}},{key:"canCallBackGrab",get:function(){return!this.parentStore.isMainScene&&this.state===Cr.jq.WORK_IN_FRIEND&&this.ownerUid&&"".concat(this.ownerUid)===this.rootStore.userId}},{key:"canRemind",get:function(){return!this.parentStore.isMainScene&&this.state===Cr.jq.WORK_IN_FRIEND&&this.ownerUid&&"".concat(this.ownerUid)!==this.rootStore.userId}},{key:"isWorkingInFriend",get:function(){return this.state===Cr.jq.WORK_IN_FRIEND&&!this.ownerUid}},{key:"isRoamPet",get:function(){return this.state===Cr.jq.ROAM}},{key:"isNormalWorkPet",get:function(){return this.state===Cr.jq.WORK}},{key:"isNotShowRoamBubble",get:function(){var e;return!(null===(e=this.emitter)||void 0===e?void 0:e.startRoamBubble)}}]),r}(pu);function Mu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Bu,Fu=function(e){O()(r,e);var t=Mu(r);function r(e,n,i){var o;return g()(this,r),(o=t.call(this,n,i)).driveAway=void 0,o.recall=void 0,o.remind=void 0,o.remindCoin=void 0,o.workTip=void 0,o.surpriseBox=void 0,o.seatEntity=void 0,o.used=void 0,o.idle=void 0,o.lock=void 0,o.id=void 0,o.petId=void 0,o.petUniqueId=void 0,o.state=void 0,o.petLevel=void 0,o.isImpr=void 0,o.id=e.id,o.petId=e.petId,o.petUniqueId=e.petUniqueId,o.state=e.state,o.petLevel=e.petLevel,o.isImpr=!0,o.init(),o}return w()(r,[{key:"init",value:function(){this.createSeatByState()}},{key:"showRemind",value:function(){!this.remind&&this.createRemind(),this.remind.setVisible(!0),this.remindCoin.setVisible(!this.rootStore.remindShareStore.isShareTaskFinished)}},{key:"hideRemind",value:function(){var e,t;null===(e=this.remind)||void 0===e||e.setVisible(!1),null===(t=this.remindCoin)||void 0===t||t.setVisible(!1)}},{key:"showByState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.parentStore.isShowSeats||e)switch(this.isImpr&&((0,ge.oy)(ye.IB.pageElSn,this.trackingInfo),this.isImpr=!1),this.state){case Cr.t7.LOCK:this._showLockState();break;case Cr.t7.IDLE:this._showIdleState();break;case Cr.t7.USED:this._showUsedState()}}},{key:"_showLockState",value:function(){!this.lock&&this._createLockParts(),this.lock.setVisible(!0),[this.idle,this.used,this.recall,this.workTip,this.driveAway].forEach((function(e){return null==e?void 0:e.setVisible(!1)})),this.hideRemind(),this.stopCoinEmitter()}},{key:"_showIdleState",value:function(){!this.idle&&this._createIdleParts(),this.idle.setVisible(!0),this.workTip.setVisible(this.canDoOperation),[this.lock,this.used,this.recall,this.driveAway].forEach((function(e){return null==e?void 0:e.setVisible(!1)})),this.hideRemind(),this.stopCoinEmitter()}},{key:"_showUsedByPetSubState",value:function(){var e,t,r=null===(e=this.currentPet)||void 0===e?void 0:e.instance;if(r)if(r.canDriveAway)!this.driveAway&&this.createDriveAway(),this.driveAway.setVisible(!0),null===(t=this.recall)||void 0===t||t.setVisible(!1),this.hideRemind();else if(r.canCallBackGrab){var n;!this.recall&&this.createRecall(),!this.recall.visible&&(0,ge.oy)(ye.eE.RECALL_BTN),this.recall.setVisible(!0),null===(n=this.driveAway)||void 0===n||n.setVisible(!1),this.hideRemind()}else if(r.canRemind)this.showRemind(),[this.recall,this.driveAway].forEach((function(e){return null==e?void 0:e.setVisible(!1)}));else if(this.canNormalCallback){var i;!this.recall&&this.createRecall(),this.recall.setVisible(this.canDoOperation),null===(i=this.driveAway)||void 0===i||i.setVisible(!1),this.hideRemind()}else{var o,a;null===(o=this.recall)||void 0===o||o.setVisible(!1),null===(a=this.driveAway)||void 0===a||a.setVisible(!1),this.hideRemind()}}},{key:"_showUsedState",value:function(){!this.used&&this._createUsedParts(),this.used.setVisible(!0),[this.lock,this.idle,this.workTip].forEach((function(e){return null==e?void 0:e.setVisible(!1)})),this._showUsedByPetSubState(),this.playCoinEmitter(1e3)}},{key:"_createSeat",value:function(e){var t=Di.U3["LEVEL_".concat(this.parentStore.skinType)].SEAT,r=Cr.Uj.SEAT_ATLAS,n=t.SEAT_POINTS[this.id],i=(0,Ko.fp)(n.x),o=(0,Ko.fp)(n.y),a=this.store.isMainScene?0:(0,Ko.dV)(.1),s=this.scene.add.image(i+a,o,r,e);this.seatEntity=s;var c=(0,Ko.fp)(.5);return s.setScale(c,c),s.visible=!1,s.setDepth(this.seatDepth),s}},{key:"_createLockSeat",value:function(){var e=this._createSeat(Cr.Uj.LOCK);return e.y-=(0,Ko.dV)(.05),e}},{key:"_createLockParts",value:function(){this.lock=this._createLockSeat(),this._addLockClick()}},{key:"_createIdleSeat",value:function(){return this._createSeat(Cr.Uj.IDLE)}},{key:"_createIdleParts",value:function(){this.idle=this._createIdleSeat(),this.createWorkTip()}},{key:"_createUsedSeat",value:function(){return this._createSeat(Cr.Uj.USED)}},{key:"_createUsedParts",value:function(){this.used=this._createUsedSeat(),this._createIconByPetSubState()}},{key:"_addLockClick",value:function(){var e=this;this.canDoOperation&&this.lock&&this.lock.setInteractive().on("pointerup",(function(t){(0,ge.iH)(ye.IB.SEAT,e.trackingInfo),e.rootStore.gameStore.setCurUnLockSeatIdx(e.id),e.rootStore.inviteUnlockDialogStore.showAction()}))}},{key:"_createIconByPetSubState",value:function(){this.canDriveAway?this.createDriveAway():this.canGrabCallback?this.createRecall():this.canRemind?this.createRemind():this.canNormalCallback&&this.createRecall()}},{key:"createSeatByState",value:function(){switch(this.state){case Cr.t7.LOCK:this._createLockParts();break;case Cr.t7.IDLE:this._createIdleParts();break;case Cr.t7.USED:this._createUsedParts()}}},{key:"createSeatAttachSprite",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0},o=this.scene.add.image(0,0,Cr.Uj.SEAT_ATLAS,e);return o.setScale(t,t),o.visible=!1,o.setDepth(r),o.setPosition(n.x+i.x,n.y+i.y),o}},{key:"_recallClick",value:function(){var e,t;null===(e=this.currentPet)||void 0===e||null===(t=e.instance)||void 0===t||t.recallClick()}},{key:"createRecall",value:function(){var e=this;if(this.seatAtlasConfig){var t=this.seatAtlasConfig.RECALL_ICON_CONFIG,r=t.scale,n=t.offsetX,i=t.offsetY;this.recall=this.createSeatAttachSprite(Cr.Uj.RECALL,(0,Ko.fp)(r),this.middleDepth+2,this.used,{x:n,y:i}),this.recall.setInteractive().on("pointerup",(function(){e._recallClick()}))}}},{key:"_driveAwayClick",value:function(){var e,t;null===(e=this.currentPet)||void 0===e||null===(t=e.instance)||void 0===t||t.driveAwayClick()}},{key:"createDriveAway",value:function(){var e=this;if(this.seatAtlasConfig){var t=this.seatAtlasConfig.DRIVE_AWAY_CONFIG,r=t.scale,n=t.offsetX,i=t.offsetY;this.driveAway=this.createSeatAttachSprite(Cr.Uj.DRIVE_AWAY,(0,Ko.fp)(r),this.middleDepth+2,this.used,{x:n,y:i}),this.driveAway.setInteractive().on("pointerup",(function(){e._driveAwayClick()}))}}},{key:"_remindClick",value:function(){var e,t;null===(e=this.currentPet)||void 0===e||null===(t=e.instance)||void 0===t||t.remindClick()}},{key:"createRemind",value:function(){var e=this;if(this.seatAtlasConfig){var t=this.seatAtlasConfig.REMIND_CONFIG,r=this.seatAtlasConfig.REMIND_COIN_CONFIG;this.remind=this.createSeatAttachSprite(Cr.Uj.REMIND,(0,Ko.fp)(t.scale),this.middleDepth+2,this.used,{x:t.offsetX,y:t.offsetY}),this.remindCoin=this.createSeatAttachSprite(Cr.Uj.REMIND_COIN,(0,Ko.fp)(r.scale),this.middleDepth+3,this.used,{x:r.offsetX,y:r.offsetY}),this.remind.setInteractive().on("pointerup",(function(){e._remindClick()}))}}},{key:"createWorkTip",value:function(){if(this.seatAtlasConfig){var e=this.seatAtlasConfig.WORK_TIP_CONFIG,t=e.scale,r=(e.offsetX,e.offsetY);this.workTip=this.createSeatAttachSprite(Cr.Uj.SEAT_WORK_TIP,(0,Ko.fp)(t),this.middleDepth-3),this.workTip.setPosition(this.idle.x,this.idle.y-(0,Ko.fp)(r))}}},{key:"playDragEffect",value:function(){var e;null===(e=this.parentStore.seatEffect)||void 0===e||e.playDragEffect(this.used,(0,Ko.fp)(.2))}},{key:"playCoinEmitter",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;null===(e=this.parentStore.seatEffect)||void 0===e||e.playWorkCoinEmitter(this.id,this.used,t)}},{key:"stopCoinEmitter",value:function(){var e;null===(e=this.parentStore.seatEffect)||void 0===e||e.stopWorkCoinEmitter(this.id)}},{key:"showWorkTip",value:function(){!this.workTip&&this.createWorkTip(),this.workTip.setVisible(!0)}},{key:"hideWorkTip",value:function(){var e;null===(e=this.workTip)||void 0===e||e.setVisible(!1)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isImpr=this.state!==e.state,this.state=e.state,this.petId=e.petId,this.petLevel=e.petLevel,this.petUniqueId=e.petUniqueId,this.showByState(t)}},{key:"hideAll",value:function(){[this.lock,this.idle,this.used,this.workTip].forEach((function(e){return null==e?void 0:e.setVisible(!1)}))}},{key:"resetTexture",value:function(){var e=Cr.Uj.SEAT_ATLAS,t=[Cr.Uj.LOCK,Cr.Uj.IDLE,Cr.Uj.USED,Cr.Uj.RECALL,Cr.Uj.DRIVE_AWAY,Cr.Uj.SEAT_WORK_TIP,Cr.Uj.REMIND_COIN,Cr.Uj.REMIND];[this.lock,this.idle,this.used,this.recall,this.driveAway,this.workTip,this.remindCoin,this.remind].forEach((function(r,n){return null==r?void 0:r.setTexture(e,t[n])}))}},{key:"destroy",value:function(){[this.lock,this.idle,this.used,this.workTip,this.recall,this.driveAway,this.remindCoin,this.remind].forEach((function(e){return null==e?void 0:e.destroy()}))}},{key:"trackingInfo",get:function(){var e,t=this.state;return this.state===Cr.t7.USED&&(null===(e=this.currentPet)||void 0===e?void 0:e.fairy_status)===Cr.jq.WORK_IN_FRIEND&&(t=Cr.t7.USED_BY_FRIEND),{position_id:this.id,fairy_level:this.petLevel,position_type:t}}},{key:"topDepth",get:function(){var e;return(null===(e=this.parentStore.depthManager)||void 0===e?void 0:e.topDepth)||200}},{key:"seatDepth",get:function(){var e;return(null===(e=this.parentStore.depthManager)||void 0===e?void 0:e.seatDepth)||5}},{key:"middleDepth",get:function(){var e;return(null===(e=this.parentStore.depthManager)||void 0===e?void 0:e.middleDepth)||60}},{key:"currentPet",get:function(){return this.parentStore.findPetById(this.petUniqueId)}},{key:"canDriveAway",get:function(){if(!this.currentPet)return!1;var e=this.currentPet,t=e.owner_uid,r=e.fairy_status;return this.parentStore.isMainScene&&r===Cr.jq.WORK_IN_FRIEND&&t&&"".concat(t)!==this.rootStore.userId}},{key:"canGrabCallback",get:function(){if(!this.currentPet)return!1;var e=this.currentPet,t=e.owner_uid,r=e.fairy_status;return!this.parentStore.isMainScene&&r===Cr.jq.WORK_IN_FRIEND&&t&&"".concat(t)===this.rootStore.userId}},{key:"canRemind",get:function(){if(!this.currentPet)return!1;var e=this.currentPet,t=e.owner_uid,r=e.fairy_status;return!this.parentStore.isMainScene&&r===Cr.jq.WORK_IN_FRIEND&&t&&"".concat(t)!==this.rootStore.userId}},{key:"canNormalCallback",get:function(){return!!this.currentPet&&this.currentPet.fairy_status===Cr.jq.WORK}},{key:"levelMap",get:function(){return this.rootStore.levelMap}},{key:"seatAtlasConfig",get:function(){return this.levelMap.SEAT}}]),r}(pu);function Gu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var ju,Uu,Wu,Zu=(Bu=function(e){O()(o,e);var t,r,n=Gu(o);function o(e,t){var r;return g()(this,o),(r=n.call(this,e,t)).trashBox=void 0,r.bottomSprite=void 0,r.bgBlocks=void 0,r.blockData=void 0,r.upBg=void 0,r.middleBg=void 0,r.bottomBg=void 0,r.recycleTip=void 0,r._rt=void 0,r.recallCoins=void 0,r.bottomLine=void 0,r.bgBlocks=[],r.bottomLine={x:(0,Ko.fp)(346),y:(0,Ko.fp)(435)},r}return w()(o,[{key:"toCDNImg",value:function(e,t){return this.parentStore.loadHandler.toCDNImg(e,t)}},{key:"preload",value:function(){var e=Di.ZP["LEVEL_".concat(this.parentStore.skinType)].BG_BLOCKS;this.blockData=[],this.scene.load.atlas(Cr.K$.BG_ATLAS,this.toCDNImg(e.PIC,{quality:10,resizeWidth:200}),e.JSON)}},{key:"create",value:function(){this.creatLevel()}},{key:"creatLevel",value:function(){this.createUpBg(),this.createMiddleBg(),this.createBottomBg(),this.createTrashBox()}},{key:"getBgTopOffset",value:function(e){var t;return(null===(t=Di.ZP["LEVEL_".concat(this.parentStore.skinType)].BG_BLOCKS[e])||void 0===t?void 0:t.topOffset)||0}},{key:"setBgBlockPosition",value:function(e,t){var r=this.getBgTopOffset(t);if(e.body){var n=e,i=n.centerOfMass,o=n.width,a=n.height;e.setPosition(i.x*o,i.y*a+(0,Ko.fp)(r))}else{var s=e.originX,c=e.originY,u=e.width,l=e.height;e.setPosition(s*u,c*l+(0,Ko.fp)(r))}}},{key:"createUpBg",value:function(){this.upBg=this.createMatterBlock(Cr.K$.UP),this.upBg.setVisible(!1),this.setBgBlockPosition(this.upBg,Cr.K$.UP)}},{key:"createMiddleBg",value:function(){this.middleBg=this.scene.add.image(0,0,Cr.K$.BG_ATLAS,Cr.K$.MIDDLE),this.middleBg.setVisible(!1),this.setSpriteSize(this.middleBg),this.setBgBlockPosition(this.middleBg,Cr.K$.MIDDLE)}},{key:"createBottomBg",value:function(){this.bottomBg=this.createMatterBlock(Cr.K$.BOTTOM),this.bottomBg.setVisible(!1),this.setBgBlockPosition(this.bottomBg,Cr.K$.BOTTOM)}},{key:"collideWithRoamPet",value:function(e){var t=this.parentStore,r=t.edgeCategory,n=t.roamCategory;e.setCollisionCategory(r),e.setCollidesWith([n])}},{key:"createMatterBlock",value:function(e){var t=Di.ZP["LEVEL_".concat(this.parentStore.skinType)].BG_BLOCKS,r=this.matter.add.image(0,0,Cr.K$.BG_ATLAS,e,{shape:t[e].SHAPE});return this.setSpriteSize(r),r.setIgnoreGravity(!0),r.setStatic(!0),r.setFriction(0,0),this.collideWithRoamPet(r),r.setActive(!1),r.setToSleep(),r.customName="bgBlock",this.bgBlocks.push(r),r}},{key:"showRecycleTip",value:function(){var e,t=this;if(this.recycleTip){if(!this.parentStore.isMainScene)return this.recycleTip.setVisible(!1);if(!this.recycleTip.visible&&!this._rt){if(!(null===(e=this.trashBox)||void 0===e?void 0:e.visible))return this.recycleTip.setVisible(!1);this.recycleTip.setVisible(!0),this._rt=setTimeout((function(){t.recycleTip.setVisible(!1),clearTimeout(t._rt),t._rt=null}),5e3)}}}},{key:"hideRecycleTip",value:function(){this.recycleTip&&(this.recycleTip.setVisible(!1),this._rt&&(clearTimeout(this._rt),this._rt=null))}},{key:"_createTrashRecycleTip",value:function(){var e=this,t=Di.ZP["LEVEL_".concat(this.parentStore.skinType)].TRASH_RECYCLE_TIP,r=t.TRANS,n=r.SCALE,i=r.OFFSET_X,o=r.OFFSET_Y;this.parentStore.loadHandler.loadCustom({type:"image",key:Cr.K$.TRASH_RECYCLE_TIP,url:t.PIC}).then((function(){e.recycleTip=e.scene.add.image(0,0,Cr.K$.TRASH_RECYCLE_TIP),e.recycleTip.setScale((0,Ko.fp)(n)),e.recycleTip.setPosition(e.trashBox.x-(0,Ko.fp)(i),e.trashBox.y-(0,Ko.fp)(o)),e.recycleTip.setDepth(63),e.recycleTip.setVisible(!1)}))}},{key:"checkBuySpriteRect",value:(r=a()(i().mark((function e(){var t,r,n,o,a,s=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.when)((function(){return s.store.buySpriteCurrent&&s.store.canvasRefCurrent}));case 2:if(t=this.store,r=t.buySpriteCurrent,n=t.canvasRefCurrent,r&&n){e.next=5;break}throw new Error("checkBuySpriteRect error");case 5:return o=r.getBoundingClientRect(),a=n.getBoundingClientRect(),e.abrupt("return",{x:o.x-a.x,y:o.y-a.y});case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"createTrashBoxNew",value:(t=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.trashBox&&(this.trashBox.destroy(),this.trashBox=void 0),e.next=3,this.checkBuySpriteRect();case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:this.trashBox=this.scene.add.image((0,Ko.EM)(t.x),(0,Ko.EM)(t.y),""),this.trashBox.setOrigin(0,0),this.trashBox.setDisplaySize((0,Ko.fp)(156),(0,Ko.fp)(74)),this.trashBox.visible=this.parentStore.isShowTrashBox&&this.canDoOperation,this.createBottomLanding(),this.trashBox.setDepth(this.defaultDepth+1),this.trashBox.visible&&(0,ge.oy)(ye.yl.pageElSn);case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"createTrashBox",value:function(){var e=this;if(this.store.newRecycleWithTips)return this.store.cache.get(za.r.GUIDE_NEW_RECYCLE)||(this.store.userType!==he.$A.NEWER_USER&&this.store.recycleGuideDialogStore.showAction(),this.store.cache.set(za.r.GUIDE_NEW_RECYCLE,1)),this.createTrashBoxNew();var t=Cr.Uj.TRASH_BOX,r=Cr.Uj.SEAT_ATLAS,n=Di.ZP["LEVEL_".concat(this.parentStore.skinType)].SEAT;this.trashBox&&(this.trashBox.destroy(),this.trashBox=void 0),this.trashBox=this.scene.add.image((0,Ko.fp)(n.TRASH_BOX_POSITION.x),(0,Ko.fp)(n.TRASH_BOX_POSITION.y),r,t),this.trashBox.setScale((0,Ko.fp)(.5)),this.trashBox.visible=this.parentStore.isShowTrashBox&&this.canDoOperation,this.createBottomLanding(),this.trashBox.setDepth(this.defaultDepth+1),this.trashBox.visible&&(0,ge.oy)(ye.yl.pageElSn),this.trashBox.setInteractive().on("pointerup",(function(t){e.showRecycleTip()})),this.parentStore.isMainScene&&this._createTrashRecycleTip()}},{key:"showTrashBox",value:function(){this.trashBox.visible=this.canDoOperation,this.trashBox.visible&&(0,ge.oy)(ye.yl.pageElSn)}},{key:"setSpriteSize",value:function(e){var t=e.width/e.height,r=this.parentStore.sceneSize,n=Math.floor(r.width/t),i=r.width/e.width,o=n/e.height;e.setSize(r.width,n),e.setScale(i,o)}},{key:"_collideWithDropPetAndCoin",value:function(){var e=this.parentStore,t=e.trashBottomCategory,r=e.dropCategory,n=e.coinCategory;this.bottomSprite.setCollisionCategory(t),this.bottomSprite.setCollidesWith([n,r])}},{key:"createBottomLanding",value:function(){this.bottomSprite=this.scene.matter.add.image((0,Ko.dV)(1.875),(0,Ko.dV)(4.98),""),this.bottomSprite.setIgnoreGravity(!0),this.bottomSprite.setStatic(!0),this.bottomSprite.setDisplaySize((0,Ko.dV)(3.75),(0,Ko.dV)(.1)),this.bottomSprite.visible=!1,this.bottomSprite.setActive(!1),this.bottomSprite.setToSleep(),this.bottomSprite.customName=Cr.PK,this._collideWithDropPetAndCoin()}},{key:"_collideWithBottomLanding",value:function(e){var t=this.parentStore,r=t.trashBottomCategory,n=t.coinCategory;e.setCollisionCategory(n),e.setCollidesWith([r])}},{key:"createRecallCoin",value:function(){var e=this;if(this.trashBox){var t=Cr.Uj.SEAT_ATLAS,r=Cr.Uj.COMMON_COIN;this.recallCoins=new Array(6).fill(0).map((function(n,i){var o=e.scene.matter.add.image(0,0,t,r);e._collideWithBottomLanding(o),o.setScale((0,Ko.fp)(.25),(0,Ko.fp)(.25)),o.setBounce(.65),o.body.gravityScale.y=(0,Ko.fp)(.35),o.visible=!1,o.offsetX=-(0,Ko.fp)(10-3*i),o.body&&o.setToSleep(),o.setActive(!1);var a=e.scene.tweens.add({targets:o,alpha:{from:1.5,to:0},ease:"Linear",duration:1200,delay:0,onComplete:function(){o.setActive(!1),o.visible=!1,o.body&&o.setToSleep(),clearTimeout(e.timeOut),e.timeOut=void 0}});return a.stop(),{sprite:o,tween:a}}))}}},{key:"playRecallAnimation",value:function(){var e,t=this;!(null===(e=this.recallCoins)||void 0===e?void 0:e.length)&&this.createRecallCoin(),this.timeOut&&clearTimeout(this.timeOut),this.stopRecallAnimation(),this.timeOut=setTimeout((function(){t.recallCoins.forEach((function(e){if(e){var r=.5*Math.random()+1,n=6*Math.random()+8;e.sprite.setPosition(t.trashBox.x+e.sprite.offsetX,t.trashBox.y-(0,Ko.fp)(33)),e.sprite.setVelocity(-(0,Ko.fp)(r),-(0,Ko.fp)(n)),e.sprite.setActive(!0),e.sprite.body&&e.sprite.setAwake(),e.sprite.visible=!0,e.tween.play(!0)}}))}),90)}},{key:"stopRecallAnimation",value:function(){this.recallCoins&&this.recallCoins.forEach((function(e){e&&(e.tween.stop(),e.sprite&&(e.sprite.visible=!1,e.sprite.setActive(!1),e.sprite.body&&e.sprite.setToSleep()))}))}},{key:"getPolygonsFromParts",value:function(e){var t=[];if(!e)return t;for(var r=e.length,n=r>1?1:0;n<r;n++)t.push(e[n].vertices);return t}},{key:"isPolygonCollideWidthPolygons",value:function(e,t){for(var r=0,n=e.length;r<n;r++)for(var i=0;i<t.length;i++)if(Ko.D5.isPointInPolygon(e[r],t[i]))return!0;return!1}},{key:"isPolygonCollideWithBlock",value:function(e){var t=this;if(!e.length)return!1;var r=[];return this.bgBlocks.forEach((function(e){var n,i;(null===(n=e.body)||void 0===n||null===(i=n.parts)||void 0===i?void 0:i.length)&&(r=r.concat(t.getPolygonsFromParts(e.body.parts)))})),this.isPolygonCollideWidthPolygons(e,r)}},{key:"isPolygonCollideWithWorkBoundary",value:function(e){var t=this,r=[];return["left","right","bottom","top"].forEach((function(e){var n=t.scene.matter.world.walls[e];(null==n?void 0:n.parts)&&(r=r.concat(t.getPolygonsFromParts(n.parts)))})),this.isPolygonCollideWidthPolygons(e,r)}},{key:"isPolygonCollideWithAreaBoundary",value:function(e){return this.isPolygonCollideWithBlock(e)||this.isPolygonCollideWithWorkBoundary(e)}},{key:"resetTexture",value:function(){if(this.trashBox){var e=Cr.Uj.TRASH_BOX,t=Cr.Uj.SEAT_ATLAS;this.trashBox.setTexture(t,e)}}},{key:"destroy",value:function(){var e;[this.upBg,this.middleBg,this.bottomBg,this.trashBox,this.bottomSprite,this.recycleTip].forEach((function(e){return null==e?void 0:e.destroy()})),null===(e=this.recallCoins)||void 0===e||e.forEach((function(e){e.sprite.destroy(),e.tween.remove()})),this.recallCoins=[],this.timeOut&&clearTimeout(this.timeOut),this._rt&&clearTimeout(this._rt)}},{key:"parentStore",get:function(){return this.getParent()}},{key:"defaultDepth",get:function(){var e;return(null===(e=this.parentStore.depthManager)||void 0===e?void 0:e.defaultDepth)||0}},{key:"scene",get:function(){return this.parentStore.scene}},{key:"baseBottomLineHeight",get:function(){return this.bottomLine.y+(0,Ko.fp)(40)}},{key:"baseTopLineHeight",get:function(){return this.bottomLine.y-(0,Ko.fp)(45)}}]),o}(pu),P()(Bu.prototype,"checkBuySpriteRect",[J.Y],Object.getOwnPropertyDescriptor(Bu.prototype,"checkBuySpriteRect"),Bu.prototype),Bu),Hu=function(){function e(t){g()(this,e),this.getParent=void 0,this.unlockTween=void 0,this.composeTip=void 0,this.horArrow=void 0,this.verArrow=void 0,this.unlockWorkTip=void 0,this.handFollower=void 0,this.petWorkTip=void 0,this.seatLight=void 0,this.inviteTip=void 0,this.getParent=t,this.init()}var t;return w()(e,[{key:"_createGuideObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,offsetX:0,offsetY:0},n=Cr.MI.GUIDE_ATLAS,i=this.scene.add.image(r.x,r.y,n,e);return i.setScale(t,t),i.offsetX=r.offsetX,i.offsetY=r.offsetY,i}},{key:"init",value:function(){var e=Cr.MI.GUIDE_ATLAS,t=(0,Ko.fp)(.47);this.horArrow=this._createGuideObject(Cr.MI.HOR_ARROW,(0,Ko.fp)(.6),{x:0,y:0,offsetX:0,offsetY:(0,Ko.fp)(55)}),this.verArrow=this._createGuideObject(Cr.MI.VER_ARROW,t,{x:0,y:0,offsetX:(0,Ko.fp)(20),offsetY:-(0,Ko.fp)(98)}),this.composeTip=this._createGuideObject(Cr.MI.COMPOSE_TIP,t,{x:0,y:0,offsetX:0,offsetY:-(0,Ko.fp)(90)}),this.unlockWorkTip=this._createGuideObject(Cr.MI.UNLOCK_WORK_TIP,t,{x:(0,Ko.fp)(187),y:(0,Ko.fp)(300),offsetX:0,offsetY:0}),this.handFollower=this.scene.add.follower(void 0,0,0,e,Cr.MI.HAND),t=(0,Ko.fp)(.45),this.handFollower.setScale(t,t),this.handFollower.offsetX=(0,Ko.fp)(33),this.handFollower.offsetY=(0,Ko.fp)(33),this.petWorkTip=this._createGuideObject(Cr.MI.PET_WORK_TIP,t,{x:0,y:0,offsetX:0,offsetY:-(0,Ko.fp)(60)}),this.seatLight=this._createGuideObject(Cr.MI.SEAT_LIGHT,t,{x:0,y:0,offsetX:0,offsetY:-(0,Ko.fp)(17)}),this.inviteTip=this._createGuideObject(Cr.MI.SEAT_INVITE_TIP,t,{x:0,y:0,offsetX:0,offsetY:0}),this.inviteTip.offsetY=-this.inviteTip.height*t,[this.horArrow,this.verArrow,this.composeTip,this.unlockWorkTip,this.handFollower,this.petWorkTip,this.seatLight,this.inviteTip].forEach((function(e){e.visible=!1,e.setDepth(64)}))}},{key:"playQuadraticBezierHand",value:function(e,t,r){var n=new Phaser.Curves.QuadraticBezier(e,r,t);this.handFollower.setPosition(e.x,e.y),this.handFollower.visible=!0,this.handFollower.setPath(n),this.handFollower.startFollow({duration:850,repeat:-1})}},{key:"showComposeGuide",value:function(e,t){if((null==e?void 0:e.instance)&&(null==t?void 0:t.instance)){var r=e.instance.roamSprite,n=t.instance.roamSprite,i=this.handFollower,o=i.offsetX,a=i.offsetY,s={x:(r.x+n.x)/2,y:(r.y+n.y)/2};this.composeTip.visible=!1,this.composeTip.setPosition(s.x,s.y+this.composeTip.offsetY),this.horArrow.visible=!0,this.horArrow.setPosition(s.x,s.y+this.horArrow.offsetY);var c=(0,Ko.fp)(-20),u=(0,Ko.fp)(16),l={x:r.x+o+c,y:r.y+a+u},p={x:n.x+o+c,y:n.y+a+u},f={x:(l.x+p.x)/2,y:(l.y+p.y)/2+(0,Ko.fp)(40)};this.playQuadraticBezierHand(l,p,f),this.commonEffect.playSelectedRingEffect(e.instance),(0,ge.oy)(ye.rT.pageElSn,{guide_type:0})}}},{key:"hideComposeGuide",value:function(){var e;null===(e=this.handFollower)||void 0===e||e.stopFollow(),[this.handFollower,this.composeTip,this.horArrow].forEach((function(e){return null==e?void 0:e.setVisible(!1)}))}},{key:"showWorkGuide",value:function(e,t,r,n){if((null==e?void 0:e.instance)&&(null==t?void 0:t.instance)&&(null==r?void 0:r.instance)&&(null==n?void 0:n.instance)){this.hideComposeGuide(),r.instance.showWorkTip(),t.instance.hideWorkTip();var i=n.instance.lock,o=e.instance.roamSprite,a=t.instance.idle;e.instance.setWorkGuidePosition(),this.inviteTip.visible=!0,this.inviteTip.setPosition(i.x,i.y+this.inviteTip.offsetY);var s=this.handFollower,c=s.offsetX,u=s.offsetY,l={x:o.x+c,y:o.y+u},p={x:a.x,y:a.y-(0,Ko.fp)(30)},f={x:(l.x+p.x)/2-(0,Ko.fp)(30),y:(l.y+p.y)/2};this.playQuadraticBezierHand(l,p,f),this.petWorkTip.visible=!0,this.petWorkTip.setPosition(o.x,o.y+this.petWorkTip.offsetY),this.seatLight.visible=!0,this.seatLight.setPosition(a.x,a.y+this.seatLight.offsetY),this.verArrow.visible=!0;var d=a.x+this.verArrow.offsetX,h=a.y+this.verArrow.offsetY;this.verArrow.setPosition(d,h),(0,ge.oy)(ye.rT.pageElSn,{guide_type:3})}}},{key:"updateGuide",value:function(e){var t=this.handFollower;t.offsetX,t.offsetY;this.petWorkTip.setPosition(e.x,e.y+this.petWorkTip.offsetY)}},{key:"hideWorkGuide",value:function(){[this.handFollower,this.petWorkTip,this.seatLight,this.seatLight,this.verArrow,this.inviteTip].forEach((function(e){return null==e?void 0:e.setVisible(!1)})),this.parentStore.seats.forEach((function(e){return e.instance.hideWorkTip()})),this.showSignPop()}},{key:"showSignPop",value:(t=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.parentStore.parentStore,e.next=3,t.dailySign7DialogStore.querySignProcess();case 3:e.sent&&t.dailySign7DialogStore.canSignInfo&&t.dailySign7DialogStore.showAction();case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"dragHide",value:function(){this.hideComposeGuide(),this.petWorkTip.visible=!1,this.verArrow.visible=!1}},{key:"showUnlockWorkTip",value:function(){var e=this;this.hideComposeGuide(),this.unlockWorkTip.visible=!0,this.unlockTween=this.scene.tweens.add({targets:this.unlockWorkTip,alpha:{from:1,to:0},ease:"Cubic.easeOut",duration:1500,delay:1e3,repeat:0,onComplete:function(){e.unlockWorkTip.visible=!1}}),(0,ge.oy)(ye.rT.pageElSn,{guide_type:2})}},{key:"resetTexture",value:function(){var e=Cr.MI.GUIDE_ATLAS,t=[Cr.MI.HOR_ARROW,Cr.MI.VER_ARROW,Cr.MI.COMPOSE_TIP,Cr.MI.UNLOCK_WORK_TIP,Cr.MI.HAND,Cr.MI.PET_WORK_TIP,Cr.MI.SEAT_LIGHT,Cr.MI.SEAT_INVITE_TIP];[this.horArrow,this.verArrow,this.composeTip,this.unlockWorkTip,this.handFollower,this.petWorkTip,this.seatLight,this.inviteTip].forEach((function(r,n){r.setTexture(e,t[n])}))}},{key:"destroy",value:function(){var e;[this.horArrow,this.verArrow,this.composeTip,this.unlockWorkTip,this.handFollower,this.petWorkTip,this.seatLight,this.inviteTip].forEach((function(e){e.destroy(!0)})),null===(e=this.unlockTween)||void 0===e||e.remove()}},{key:"parentStore",get:function(){return this.getParent()}},{key:"scene",get:function(){return this.parentStore.scene}},{key:"topDepth",get:function(){return this.parentStore.depthManager.topDepth}},{key:"commonEffect",get:function(){return this.parentStore.commonEffect}}]),e}(),Ku=function(){function e(t){g()(this,e),this.scene=t.scene}return w()(e,[{key:"createEmitter",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,r=5,n=new Array(r).fill(0),i=(0,Ko.fp)(375/r);n.forEach((function(r,n){e.particles.createEmitter({x:{min:i*n,max:i*(n+1)},y:{min:(0,Ko.fp)(-50),max:(0,Ko.fp)(-100)},quantity:1,frequency:100,active:!0,gravityY:9.8,angle:{min:(0,Ko.fp)(-90),max:(0,Ko.fp)(90)},radial:!0,rotate:{min:0,max:180},speedY:{min:(0,Ko.fp)(250),max:(0,Ko.fp)(300)},speedX:{min:(0,Ko.fp)(-20),max:(0,Ko.fp)(20)},delay:{min:0,max:100*t},lifespan:3500,maxParticles:15})})),--t&&this.createEmitter(t)}},{key:"start",value:function(){this.particles||(this.particles=this.scene.add.particles(e.key),this.particles.setScale((0,Ko.fp)(.75)),this.particles.setDepth(300),this.createEmitter(),this.particles.emitParticle())}},{key:"destroy",value:function(){var e;null===(e=this.particles)||void 0===e||e.destroy(),this.particles=null}}]),e}();function zu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}Ku.key="COIN_RAIN";var qu={CALL_FAIRY:"CALL_FAIRY_AUDIO_KEY",DROP_COIN:"DROP_COIN_AUDIO_KEY",LAUNCH_ROCKET:"LAUNCH_ROCKET_AUDIO_KEY",COLLECT_COIN:"COLLECT_COIN_AUDIO_KEY",COMBINE_FAIRY:"COMBINE_FAIRY_AUDIO_KEY",BG_MUSIC:"BG_MUSIC_KEY",FAIRY_WORK:"FAIRY_WORK_KEY"},Yu=(ju={},l()(ju,qu.CALL_FAIRY,"https://video3.pddpic.com/upload/2020-09-24/e41d8b8e-2b57-44b2-8e4d-47941d3bffd1.mp3"),l()(ju,qu.COLLECT_COIN,"https://video3.pddpic.com/upload/2020-08-28/1f502ea6-0734-4ef3-84f4-6f186a2f0439.mp3"),l()(ju,qu.COMBINE_FAIRY,"https://video3.pddpic.com/upload/2020-08-30/314a84a3-3e9b-4adc-b441-e8609c474c5d.mp3"),l()(ju,qu.DROP_COIN,"https://video3.pddpic.com/upload/2020-08-28/a01911b7-2db1-4737-8a74-553dd1a767b3.mp3"),l()(ju,qu.LAUNCH_ROCKET,"https://video3.pddpic.com/upload/2020-08-28/5c7628a5-c4bf-4470-a64b-bac2f3ef39ef.mp3"),l()(ju,qu.BG_MUSIC,"https://video3.pddpic.com/upload/2020-08-30/c76b483a-0ff4-44a4-af31-85912568dc08.mp3"),l()(ju,qu.FAIRY_WORK,"https://video3.pddpic.com/upload/2020-09-27/0c572cc9-b687-41c5-a9dc-0adace4ade3f.mp3"),ju),Vu=(Uu=(0,fe.P)(1e3),Wu=function(e){O()(s,e);var t,r,n,o=zu(s);function s(){var e;g()(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).audiosMap={},e.isMusicPlaying=!1,e.isFairyWorkPlaying=!1,e.musicDeal=!1,e}return w()(s,[{key:"create",value:function(){var e=this;if(!this.store.isMuted){this.sound.pauseOnBlur=!1;var t=this.scene.load,r=Promise.all(Object.values(qu).map((function(r){return new Promise((function(n){t.audio(r,Yu[r]),t.once("filecomplete-audio-".concat(r),(function(){e.createAddAudio(r),n()})),t.once("loaderror",(function(t){(null==t?void 0:t.key)===r&&(e.rootStore.sendError("audio load error "+t.key),n())}))}))})));return t.start(),r}}},{key:"commitCreate",value:function(){return this.create()}},{key:"createAddAudio",value:function(e){this.sound.add(e),this.audiosMap[e]=!0,e===qu.BG_MUSIC&&this.playBgMusic(),e===qu.FAIRY_WORK&&this.playFairyWork()}},{key:"playCallFairy",value:function(){return this.playByKey(qu.CALL_FAIRY)}},{key:"playDropCoin",value:function(){return this.playByKey(qu.DROP_COIN)}},{key:"playCombineFairy",value:function(){return this.playByKey(qu.COMBINE_FAIRY)}},{key:"playLaunchRocket",value:function(){return this.playByKey(qu.LAUNCH_ROCKET)}},{key:"playCollectCoin",value:function(){return this.playByKey(qu.COLLECT_COIN)}},{key:"playFairyWork",value:(n=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.rootStore.isHasFairyWorking&&!this.rootStore.isMuted){e.next=2;break}return e.abrupt("return",!0);case 2:if(!this.isFairyWorkPlaying){e.next=5;break}return this.sound.resumeAll(),e.abrupt("return",!0);case 5:if(this.audiosMap[qu.FAIRY_WORK]){e.next=8;break}return e.next=8,this.commitCreate();case 8:if(!this.isFairyWorkPlaying){e.next=11;break}return this.sound.resumeAll(),e.abrupt("return",!0);case 11:return e.next=13,this.playByKey(qu.FAIRY_WORK,{loop:!0});case 13:return this.isFairyWorkPlaying=e.sent,e.abrupt("return",this.isFairyWorkPlaying);case 15:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"stopFairyWork",value:(r=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rootStore.isMuted&&this.audiosMap[qu.FAIRY_WORK]&&this.isFairyWorkPlaying){e.next=2;break}return e.abrupt("return");case 2:this.sound.stopByKey(qu.FAIRY_WORK)>=1&&(this.isFairyWorkPlaying=!1);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"playBgMusic",value:(t=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rootStore.isMuted){e.next=2;break}return e.abrupt("return",!1);case 2:if(this.audiosMap[qu.BG_MUSIC]){e.next=5;break}return e.next=5,this.commitCreate();case 5:if(!this.isMusicPlaying){e.next=8;break}return this.sound.resumeAll(),e.abrupt("return",!0);case 8:return e.next=10,this.playByKey(qu.BG_MUSIC,{loop:!0});case 10:return t=e.sent,this.sound.resumeAll(),this.isMusicPlaying=t,e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setMuted",value:function(e){var t;null===(t=this.sound)||void 0===t||t.setMute(e)}},{key:"playByKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(this.rootStore.isMuted||!this.audiosMap[e])&&this.sound.play(e,t)}}]),s}(pu),P()(Wu.prototype,"create",[$.d,J.Y],Object.getOwnPropertyDescriptor(Wu.prototype,"create"),Wu.prototype),P()(Wu.prototype,"commitCreate",[Uu],Object.getOwnPropertyDescriptor(Wu.prototype,"commitCreate"),Wu.prototype),P()(Wu.prototype,"createAddAudio",[J.Y],Object.getOwnPropertyDescriptor(Wu.prototype,"createAddAudio"),Wu.prototype),P()(Wu.prototype,"playFairyWork",[J.Y],Object.getOwnPropertyDescriptor(Wu.prototype,"playFairyWork"),Wu.prototype),P()(Wu.prototype,"stopFairyWork",[J.Y],Object.getOwnPropertyDescriptor(Wu.prototype,"stopFairyWork"),Wu.prototype),P()(Wu.prototype,"playBgMusic",[$.d,J.Y],Object.getOwnPropertyDescriptor(Wu.prototype,"playBgMusic"),Wu.prototype),P()(Wu.prototype,"setMuted",[J.Y],Object.getOwnPropertyDescriptor(Wu.prototype,"setMuted"),Wu.prototype),P()(Wu.prototype,"playByKey",[J.Y],Object.getOwnPropertyDescriptor(Wu.prototype,"playByKey"),Wu.prototype),Wu),Xu=function(){function e(){g()(this,e),this.depths=void 0,this.topDepth=void 0,this.defaultDepth=void 0,this.seatDepth=void 0,this.topDepth=200,this.defaultDepth=0,this.seatDepth=5,this.depths=new Array(12).fill(0).map((function(e,t){return{used:!1,value:10*(t+1)}}))}return w()(e,[{key:"getMiddleDepth",value:function(){return{idx:-1,value:this.depths[5].value}}},{key:"getUnusedDepth",value:function(){var e=this.depths.findIndex((function(e){return!e.used}));return e>=0&&e<this.depths.length?(this.depths[e].used=!0,{idx:e,value:this.depths[e].value}):{idx:e,value:this.defaultDepth}}},{key:"setDepthUnused",value:function(e){e>=0&&e<this.depths.length&&(this.depths[e].used=!1)}},{key:"middleDepth",get:function(){return this.getMiddleDepth().value||60}}]),e}(),Qu=function(){function e(t,r){g()(this,e),this.getRoot=void 0,this.getParent=void 0,this.getParent=t,this.getRoot=r}var t;return w()(e,[{key:"show",value:function(e){e.setActive(!0),e.setVisible(!0)}},{key:"hide",value:function(e){e.setActive(!1),e.setVisible(!1)}},{key:"playEffect",value:function(e,t){var r,n,i,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(!e.anims.isPlaying){this.show(e),e.setPosition(a.x+(e.offsetX||0),a.y+(e.offsetY||0)),s=(0,Ko.fp)(s),e.setScale(s,s);var c=!!((null===(r=this.anims.get(t))||void 0===r||null===(n=r.frames)||void 0===n?void 0:n.length)>0&&(null===(i=e.frame)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.sourceSize));c&&e.anims.play(t,!0)}}},{key:"createEffect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{start:0,end:12},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this.scene){var i=this.scene.add.sprite(0,0,e);return this.loadEffectAssets(i,e),this.hide(i),this.createFrameAnimation(e,t,r,n),i}}},{key:"loadEffectAssets",value:(t=a()(i().mark((function e(t,r){var n,o,a,s,c,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=this.rootStore.levelMap.SPECIAL_EFFECT,a=o[r],s=a.PIC,c=a.FRAME_WIDTH,u=a.FRAME_HEIGHT,this.scene.textures.exists(r)){e.next=10;break}return t.setAlpha(0),n=this.loadHandler.loadCustom({type:"spritesheet",url:this.loadHandler.toCDNImg(s),key:r,frameWidth:c,frameHeight:u,isShowToast:!1}),e.next=8,n;case 8:e.sent&&(null===(l=this.resetTexture)||void 0===l||l.call(this,r),t.setAlpha(1));case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(e,r){return t.apply(this,arguments)})},{key:"createFrameAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{start:0,end:12},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.anims.anims.has(e)||this.anims.create({key:e,frames:this.anims.generateFrameNumbers(e,t),frameRate:r,repeat:n})}},{key:"showEffect",value:function(e,t,r,n){var i=this;e&&(this.playEffect(e,t,r,n),e.on("animationcomplete",(function(){return i.hide(e)})))}},{key:"destroyAnims",value:function(e){this.anims.anims.delete(e)}},{key:"resetAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{start:0,end:12},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.destroyAnims(e),this.createFrameAnimation(e,t,r,n)}},{key:"store",get:function(){return this.getRoot()}},{key:"rootStore",get:function(){return this.getRoot()}},{key:"parentStore",get:function(){return this.getParent()}},{key:"scene",get:function(){return this.parentStore.scene}},{key:"anims",get:function(){return this.scene.anims}},{key:"load",get:function(){return this.scene.load}},{key:"loadHandler",get:function(){return this.rootStore.gameStore.loadHandler}}]),e}();function Ju(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var $u=function(e){O()(r,e);var t=Ju(r);function r(e,n){var i;return g()(this,r),(i=t.call(this,e,n)).matchEffects=void 0,i.shouldShowAutoMatch=void 0,i.composeEffects=void 0,i.dropEffects=void 0,i.selectedEffects=void 0,i.selectedEffect=void 0,i._needPlayAfterRest=void 0,i.init(),i.shouldShowAutoMatch=!0,i}return w()(r,[{key:"init",value:function(){this.createComposeEffects(),this.createDropEffects(),this.createSelectRingEffect(),this.createMatchRingEffects()}},{key:"_createComposeEffect",value:function(){var e=this.createEffect(Cr.Qy.COMPOSE_BOOM,{start:0,end:12},11,0);return e.setDepth(this.middleDepth-1),e}},{key:"createComposeEffects",value:function(){var e=this;this.store.checkLowDeviceDowngrade("main_scene_ani")||this.scene&&(this.composeEffects=new Array(1).fill(0).map((function(){return e._createComposeEffect()})))}},{key:"playComposeEffect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(!this.store.checkLowDeviceDowngrade("main_scene_ani")){var r=this.composeEffects.find((function(e){return!e.visible}));!r&&this.composeEffects.length<4&&(r=this._createComposeEffect(),this.composeEffects.push(r)),this.showEffect(r,Cr.Qy.COMPOSE_BOOM,e,t)}}},{key:"_createDropEffect",value:function(){var e=this.createEffect(Cr.Qy.DROP_BOOM,{start:0,end:8},16,0);return e.offsetX=(0,Ko.fp)(6),e.setDepth(this.middleDepth-1),e}},{key:"createDropEffects",value:function(){var e=this;if(!this.store.checkLowDeviceDowngrade("main_scene_ani")&&this.scene){var t=this.parentStore.isInComposeStep?2:1;this.dropEffects=new Array(t).fill(0).map((function(){return e._createDropEffect()}))}}},{key:"playDropEffect",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;if(!this.store.checkLowDeviceDowngrade("main_scene_ani")){var n=this.dropEffects.find((function(e){return!e.visible}));!n&&this.dropEffects.length<5&&(n=this._createDropEffect(),this.dropEffects.push(n)),null===(t=n)||void 0===t||t.setDepth(e.depth-1),this.showEffect(n,Cr.Qy.DROP_BOOM,{x:e.x+5,y:e.y},r)}}},{key:"createSelectRingEffect",value:function(){var e=this;this.scene&&(this.selectedEffects=new Array(3).fill(0).map((function(){return e.createEffect(Cr.Qy.SELECT_RING,{start:0,end:9},12,-1)})),this.selectedEffect=this.selectedEffects[0])}},{key:"_createMatchRingEffect",value:function(){return this.createEffect(Cr.Qy.MATCH_RING,{start:0,end:9},12,-1)}},{key:"createMatchRingEffects",value:function(){var e=this;if(this.scene){var t=this.roamPetNumber>0?1:0;this.matchEffects=new Array(t).fill(0).map((function(){return e._createMatchRingEffect()}))}}},{key:"onlyPlaySelectedRingEffect",value:function(e,t){t&&e&&(e.roamPet&&e.setDepth(e.roamPet.depth+3),e&&e.roamPet!==t.roamSprite&&(this._clearSelectedRingEffect(),e.setDepth(t.roamSprite.depth+3),this.playEffect(e,Cr.Qy.SELECT_RING,t.roamSprite,.9),e.roamPet=t.roamSprite))}},{key:"playSelectedRingEffect",value:function(e){var t=this;e&&(this.hideAutoMatchEffect(),this.onlyPlaySelectedRingEffect(this.selectedEffect,e),this.parentStore.isInWorkStep?this._needPlayAfterRest=!0:this.parentStore.pets.forEach((function(r){var n=r.instance,i=r.fairy_status,o=r.fairy_rank;!n||n.isInCompose||n.isInOperation||i!==Cr.jq.ROAM||n.id!==e.id&&e.level===o&&t.playMatchRingEffect(n.roamSprite)})))}},{key:"playMatchRingEffect",value:function(e){if(!this.matchEffects.find((function(t){return t.roamPet===e}))){var t=this.matchEffects.find((function(e){return!e.visible})),r=Cr.dI-1;!t&&this.matchEffects.length<r&&(t=this._createMatchRingEffect(),this.matchEffects.push(t)),t&&(t.roamPet=e,t.setDepth(e.depth+3),this.playEffect(t,Cr.Qy.MATCH_RING,e,.9))}}},{key:"stopSelectedRingEffect",value:function(){this._clearSelectedRingEffect()}},{key:"_clearSelectedRingEffect",value:function(){var e;null===(e=this.selectedEffect.anims)||void 0===e||e.stop(),this.hide(this.selectedEffect),delete this.selectedEffect.roamPet,this.stopMatchRingEffect()}},{key:"stopMatchRingEffect",value:function(){var e=this;this.matchEffects.forEach((function(t){var r;null===(r=t.anims)||void 0===r||r.stop(),e.hide(t),delete t.roamPet}))}},{key:"updateEffectPos",value:function(){[].concat(c()(this.matchEffects),c()(this.selectedEffects)).forEach((function(e){var t,r;if(null==e||null===(t=e.roamPet)||void 0===t||null===(r=t.body)||void 0===r?void 0:r.position){var n=e.roamPet,i=n.x,o=n.y;e.setPosition(i+(e.offsetX||0),o+(e.offsetY||0))}}))}},{key:"updateAutoMatchSet",value:function(){this.shouldShowAutoMatch=!0}},{key:"showAutoMatchEffect",value:function(){if(this.shouldShowAutoMatch){var e,t,r,n;this.shouldShowAutoMatch=!1;var i=this.parentStore.autoMatchPets;if(!i.length)return;if(!(null===(e=i[0])||void 0===e?void 0:e.instance)||!(null===(t=i[1])||void 0===t?void 0:t.instance))return;if(!i.every((function(e){var t,r;return null==e||null===(t=e.instance)||void 0===t||null===(r=t.roamSprite)||void 0===r?void 0:r.visible})))return;if(!i.every((function(e){var t;return null==e||null===(t=e.instance)||void 0===t?void 0:t.isFallFinish})))return void(this.shouldShowAutoMatch=!0);this.onlyPlaySelectedRingEffect(this.selectedEffects[1],null===(r=i[0])||void 0===r?void 0:r.instance),this.onlyPlaySelectedRingEffect(this.selectedEffects[2],null===(n=i[1])||void 0===n?void 0:n.instance)}}},{key:"hideAutoMatchEffect",value:function(){var e=this;this.shouldShowAutoMatch||[this.selectedEffects[1],this.selectedEffects[2]].forEach((function(t){var r;t&&(null===(r=t.anims)||void 0===r||r.stop(),e.hide(t),delete t.roamPet)}))}},{key:"resetTexture",value:function(e){var t,r=Cr.Qy.COMPOSE_BOOM,n=Cr.Qy.MATCH_RING,i=Cr.Qy.SELECT_RING,o=Cr.Qy.DROP_BOOM;switch(e){case r:return this.composeEffects.forEach((function(e){return null==e?void 0:e.setTexture(r)})),this.resetAnimation(r,{start:0,end:12},11,0);case o:return this.dropEffects.forEach((function(e){return null==e?void 0:e.setTexture(o)})),this.resetAnimation(o,{start:0,end:8},16,0);case i:return this.selectedEffects.forEach((function(e){return null==e?void 0:e.setTexture(i)})),this.resetAnimation(i,{start:0,end:9},12,-1),void(this._needPlayAfterRest&&(null===(t=this.selectedEffect)||void 0===t?void 0:t.roamPet)&&(this.playEffect(this.selectedEffect,Cr.Qy.SELECT_RING,this.selectedEffect.roamPet,.9),this._needPlayAfterRest=!1));case n:return this.matchEffects.forEach((function(e){return null==e?void 0:e.setTexture(n)})),this.resetAnimation(n,{start:0,end:9},12,-1)}}},{key:"destroy",value:function(){[].concat(c()(this.composeEffects||[]),c()(this.dropEffects||[]),c()(this.selectedEffects||[]),c()(this.matchEffects||[])).forEach((function(e){return null==e?void 0:e.destroy()}))}},{key:"middleDepth",get:function(){var e;return(null===(e=this.parentStore.depthManager)||void 0===e?void 0:e.getMiddleDepth().value)||60}},{key:"roamPetNumber",get:function(){return this.parentStore.pets.filter((function(e){return e.fairy_status===Cr.jq.ROAM})).length}}]),r}(Qu);function el(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var tl=function(e){O()(r,e);var t=el(r);function r(e,n){var i;return g()(this,r),(i=t.call(this,e,n)).emitterGroup=new Array(5),i.dragEffects=[],i.init(),i}return w()(r,[{key:"init",value:function(){this.createDragEffects(),this.createWorkEmitterGroup()}},{key:"_createDragEffect",value:function(){var e=this.createEffect(Cr.Qy.DRAG_BOOM,{start:0,end:11},18,0);return e.setDepth(this.seatDepth+1),e.offsetY=-(0,Ko.fp)(24),e.offsetX=(0,Ko.fp)(9),e}},{key:"createDragEffects",value:function(){var e=this;this.scene&&(this.dragEffects=new Array(1).fill(0).map((function(){return e._createDragEffect()})))}},{key:"resetTexture",value:function(e){var t=Cr.Qy.DRAG_BOOM;this.dragEffects.forEach((function(e){return null==e?void 0:e.setTexture(t)})),this.resetAnimation(t,{start:0,end:11},18,0)}},{key:"playDragEffect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,r=this.dragEffects.find((function(e){return!e.visible}));!r&&this.dragEffects.length<5&&(r=this._createDragEffect(),this.dragEffects.push(r)),this.showEffect(r,Cr.Qy.DROP_BOOM,e,t)}},{key:"_createWorkCoinEmitter",value:function(){var e=Cr.Uj.SEAT_ATLAS,t=Cr.Uj.COMMON_COIN,r=this.scene.add.particles(e,t);r.setDepth(this.middleDepth-1);var n=[{y:-(0,Ko.fp)(200),x:-(0,Ko.fp)(40)},{y:-(0,Ko.fp)(250),x:(0,Ko.fp)(0)},{y:-(0,Ko.fp)(220),x:(0,Ko.fp)(40)}].map((function(e){var t=r.createEmitter({speedY:e.y,speedX:e.x,gravityY:(0,Ko.fp)(300),scale:(0,Ko.fp)(.25),quantity:1,lifespan:1400,frequency:-1});return t.visible=!1,t}));return{particles:r,workCoinEmitters:n,isPlayed:!1}}},{key:"createWorkEmitterGroup",value:function(){var e=this;new Array(this.workPetNumber).fill(0).forEach((function(t,r){e.emitterGroup[r]=e._createWorkCoinEmitter()}))}},{key:"stopWorkCoinEmitter",value:function(e){var t=this.emitterGroup[e];(null==t?void 0:t.workCoinEmitters)&&(clearInterval(t.interval),t.isPlayed=!1,t.workCoinEmitters.forEach((function(e){e.visible=!1})),t.interval=void 0)}},{key:"playWorkCoinEmitter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=this.emitterGroup[e];n||(n=this._createWorkCoinEmitter(),this.emitterGroup[e]=n),n.interval||(n.interval=setInterval((function(){n&&(n.isPlayed=!0,n.workCoinEmitters.forEach((function(e){e.visible=!0,e.emitParticleAt(t.x,t.y,1)})))}),r))}},{key:"destroy",value:function(){this.dragEffects.forEach((function(e){return null==e?void 0:e.destroy()})),this.emitterGroup.forEach((function(e){if(e){var t=e.particles,r=e.workCoinEmitters,n=e.interval;r.forEach((function(e){return e.remove()})),t.destroy(),n&&clearInterval(n)}}))}},{key:"seatDepth",get:function(){var e;return(null===(e=this.parentStore.depthManager)||void 0===e?void 0:e.seatDepth)||5}},{key:"middleDepth",get:function(){var e;return(null===(e=this.parentStore.depthManager)||void 0===e?void 0:e.middleDepth)||60}},{key:"workPetNumber",get:function(){var e;return(null===(e=this.parentStore.seats)||void 0===e?void 0:e.filter((function(e){return e.state===Cr.t7.USED})).length)||0}}]),r}(Qu),rl=function(){function e(t,r){g()(this,e),this.getParent=void 0,this.getRoot=void 0,this.shadows=void 0,this.levelIcons=void 0,this.levelTexts=void 0,this.avatars=void 0,this.getParent=t,this.getRoot=r,this.init()}return w()(e,[{key:"getShadowById",value:function(e){return this.shadows.find((function(t){return t.uniqueId===e}))}},{key:"init",value:function(){this.createLevelIcons(),this.createShadows(),this.levelTexts=new Map,this.avatars=new Map}},{key:"_createAttachObject",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,offsetX:0,offsetY:0},n=Cr.Uj.SEAT_ATLAS,i=this.scene.add.image(r.x,r.y,n,e);return i.offsetX=r.offsetX,i.offsetY=r.offsetY,r.displaySize?i.setDisplaySize((0,Ko.dV)(r.displaySize.x),(0,Ko.dV)(r.displaySize.y)):i.setScale(t,t),i.setVisible(!1),i}},{key:"_createLevelIcon",value:function(){var e=Cr.Uj.LEVEL_ICON,t=this.seatAtlasConfig.LEVEL_ICON_CONFIG,r=t.scale,n=t.offsetX,i=t.offsetY,o=t.displaySize;return this._createAttachObject(e,(0,Ko.fp)(r),{x:-100,y:-100,offsetX:(0,Ko.fp)(n),offsetY:(0,Ko.fp)(i),displaySize:o})}},{key:"createLevelIcons",value:function(){var e=this;this.levelIcons=new Array(this.petNumber).fill(0).map((function(){return e._createLevelIcon()}))}},{key:"_createShadow",value:function(){var e=Cr.Uj.SHADOW,t=this.seatAtlasConfig.SHADOW_CONFIG,r=t.scale,n=t.offsetX,i=t.offsetY;return this._createAttachObject(e,(0,Ko.fp)(r),{x:0,y:0,offsetX:(0,Ko.fp)(n),offsetY:(0,Ko.fp)(i)})}},{key:"createShadows",value:function(){var e=this;this.shadows=new Array(this.roamPetNumber).fill(0).map((function(){return e._createShadow()}))}},{key:"createLevelText",value:function(e){var t=e.fairy_rank,r=this.seatAtlasConfig.LEVEL_FONT_CONFIG,n=r.fontSize1,i=r.fontSize2,o=r.offsetX1,a=r.offsetX2,s=r.offsetY,c=t>=10?(0,Ko.fp)(n):(0,Ko.fp)(i);try{var u,l,p=Cr.BN.LEVEL_NUMBER_FONT;if(null===(u=this.scene.sys.cache)||void 0===u||null===(l=u.bitmapFont)||void 0===l?void 0:l.get(p)){var f=this.scene.add.bitmapText(-100,-100,p,"".concat(t),c,1);f.offsetX=t>=10?(0,Ko.fp)(o):(0,Ko.fp)(a),this.rootStore.skinType>=4&&f.setOrigin(.5,.5),f.offsetY=(0,Ko.fp)(s),f.visible=!1,f._dirty=!1,this.levelTexts.has(e.unique_id)&&this.levelTexts.get(e.unique_id).destroy(),this.levelTexts.set(e.unique_id,f)}}catch(e){this.parentStore.sendError(e)}}},{key:"showAvatarAttach",value:function(e){var t=this,r=e.stealSprite,n=e.ownerAvatar,i=e.uniqueId,o=e.depth,a=i,s=this.seatAtlasConfig.AVATAR_CONFIG,c=s.scale,u=s.offsetX,l=s.offsetY,p=function(){var e;if(r){var n=r.x,i=r.y,s=(0,Ko.fp)(u),p=(0,Ko.fp)(l),f=n+s,d=i+p,h=t.scene.add.image(0,0,a);h.offsetX=s,h.offsetY=p,h.setPosition(f,d),h.setDepth(o.value+1),h.setScale((0,Ko.fp)(c)),t.avatars.has(a)&&(null===(e=t.avatars.get(a).avatar)||void 0===e||e.destroy()),t.avatars.set(a,{avatar:h})}};if(n&&(e.canDriveAway||e.canRemind)){var f,d=null===(f=this.scene.textures)||void 0===f?void 0:f.get(a);return d&&d.key===a?p():(this.loadHandler.loadCustom({type:"image",key:a,url:this.loadHandler.createCircleAvatar(n)}).then((function(){return p()})).catch((function(){})),!0)}return!1}},{key:"hideAvatarAttach",value:function(e){var t;(null===(t=this.avatars)||void 0===t?void 0:t.has(e))&&[this.avatars.get(e).avatar].forEach((function(e){return e.setVisible(!1)}))}},{key:"_getCandidateLevelIconIdx",value:function(){var e=this.levelIcons.findIndex((function(e){return!e.visible})),t=this.parentStore.pets.filter((function(e){var t;return"number"==typeof(null===(t=e.instance)||void 0===t?void 0:t.attachIdx)})).map((function(e){return e.instance.attachIdx}));if(t.length>0){var r=this.levelIcons.findIndex((function(e,r){return!t.includes(r)}));e=r>=0?r:e}var n=Cr.dI+6;return-1===e&&this.levelIcons.length<n&&(this.levelIcons.push(this._createLevelIcon()),e=this.levelIcons.length-1),e}},{key:"_getCandidateNormalAttach",value:function(e,t,r){var n,i=this.levelTexts.get(e),o=this.levelIcons[t];if(r){(n=this.shadows.find((function(t){return t.uniqueId===e})))||(n=this.shadows.find((function(e){return!e.visible})));var a=Cr.dI+1;!n&&this.shadows.length<a&&(n=this._createShadow(),this.shadows.push(n)),n&&(n.uniqueId=e)}return{levelText:i,levelIcon:o,shadow:n}}},{key:"showNormalAttach",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.petDepth,r=e.uniqueId,n=e.attachIdx,i=e.isRoamPet;if(!this.levelTexts.has(r)||n<0)return n;if("number"!=typeof n&&(n=this._getCandidateLevelIconIdx()),n>=0){var o=this._getCandidateNormalAttach(r,n,i),a=o.levelText,s=o.levelIcon,c=o.shadow;null==a||a.setDepth(t+2),null==s||s.setDepth(t+1),null==c||c.setDepth(t-1),[a,s,c].forEach((function(e){return null==e?void 0:e.setVisible(!0)}))}return n}},{key:"getAllAttach",value:function(e,t){var r,n;if(!(null===(r=this.levelTexts)||void 0===r?void 0:r.has(e))||"number"!=typeof t||t<0)return{};var i=this.levelTexts.get(e),o=this.levelIcons[t],a=this.getShadowById(e),s=null===(n=this.avatars)||void 0===n?void 0:n.get(e);return{levelText:i,levelIcon:o,shadow:a,avatar:null==s?void 0:s.avatar}}},{key:"hideNormalAttach",value:function(e,t){var r=this.getAllAttach(e,t);[r.levelText,r.levelIcon,r.shadow].forEach((function(e){return null==e?void 0:e.setVisible(!1)}))}},{key:"updatePos",value:function(e,t,r){var n=this.getAllAttach(t,r),i=n.levelText,o=n.levelIcon,a=n.shadow,s=n.avatar;if([i,o,a].forEach((function(t){return null==t?void 0:t.setPosition(e.x+(t.offsetX||0),e.y+(t.offsetY||0))})),s){var c=s.offsetX,u=s.offsetY;[s].forEach((function(t){t.setPosition(e.x+(c||0),e.y+(u||0))}))}}},{key:"destroyLevelText",value:function(e,t){if(this.levelTexts.has(e)){var r=this.levelTexts.get(e),n=this.levelIcons[t],i=this.getShadowById(e);r.destroy(),this.levelTexts.delete(e),[n,i].forEach((function(e){null==e||e.setVisible(!1),null==e||delete e.uniqueId}))}}},{key:"destroyAvatar",value:function(e){var t;(null===(t=this.avatars)||void 0===t?void 0:t.has(e))&&[this.avatars.get(e).avatar].forEach((function(e){return null==e?void 0:e.destroy()}))}},{key:"destroyShadow",value:function(e){var t,r=this.getShadowById(e);r&&(null===(t=r.destroy)||void 0===t||t.call(r),this.shadows=this.shadows.filter((function(t){return t.uniqueId!==e})))}},{key:"destroy",value:function(){[].concat(c()(this.levelIcons),c()(this.shadows)).forEach((function(e){return e.destroy()})),this.levelTexts.forEach((function(e){return e.destroy()})),this.avatars.forEach((function(e){e.avatar.destroy()}))}},{key:"hideShadow",value:function(e){var t=this.getShadowById(e);null==t||t.setVisible(!1),null==t||delete t.uniqueId}},{key:"rootStore",get:function(){return this.getRoot()}},{key:"parentStore",get:function(){return this.getParent()}},{key:"scene",get:function(){return this.parentStore.scene}},{key:"loadHandler",get:function(){return this.parentStore.loadHandler}},{key:"roamPetNumber",get:function(){return this.parentStore.pets.filter((function(e){return e.fairy_status===Cr.jq.ROAM})).length}},{key:"petNumber",get:function(){return this.parentStore.pets.length}},{key:"levelMap",get:function(){return this.rootStore.levelMap}},{key:"seatAtlasConfig",get:function(){return this.levelMap.SEAT}}]),e}(),nl=r(61647);function il(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?il(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):il(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function al(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var sl,cl=function(e){O()(r,e);var t=al(r);function r(e,n,i){var o;return g()(this,r),(o=t.call(this,n,i)).loadDragonbone=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return o.loadCustom({type:"dragonbone",key:e,dbParams:r})},o.loadBitmapFont=function(e){var t,r,n=null===(t=o.scene.textures)||void 0===t?void 0:t.get(e);if((null==n?void 0:n.key)===e)return Promise.resolve();for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];var c=(r=o.scene.load).bitmapFont.apply(r,[e].concat(a)),u={image:0,xml:0};return Promise.all(Object.keys(u).map((function(t){return new Promise((function(r,n){c.once("filecomplete-".concat(t,"-").concat(e),(function(){return r()})),c.once("loaderror",(function(t){(null==t?void 0:t.key)===e&&(o.store.sendError("loaderror "+t.key),n())}))}))})))},o.avatars=[],o.atlasKey=[],Object.assign(v()(o),e),o.loadFailAsset=new Map,o}return w()(r,[{key:"addAvatars",value:function(e){this.avatars.push(e)}},{key:"createCircleAvatar",value:function(e){var t="?imageMogr2/format/png/cut/1000x1000x0x0/rradius/500/thumbnail/100x",r=e.indexOf("?");return-1!=r?"".concat(e.slice(0,r)).concat(t):"".concat(e).concat(t)}},{key:"toCDNImg",value:function(e,t){return(0,nl.E)(e,ol({webp:!1},t))}},{key:"loadSheet",value:function(e,t,r){this.load.spritesheet(e,this.toCDNImg(t),r)}},{key:"loadAllAtlas",value:function(){var e=this.levelMap,t=e.SEAT,r=e.GUIDE;this.load.atlas(Cr.Zq.SEAT_ATLAS,this.toCDNImg(t.PIC),t.JSON),this.isMainScene&&this.isInGuideStep&&this.load.atlas(Cr.Zq.GUIDE_ATLAS,this.toCDNImg(r.PIC),r.JSON)}},{key:"loadAllImage",value:function(){var e=this;this.isMainScene&&this.load.image(Ku.key,this.toCDNImg(Ze.ZP.COIN_RAIN_ITEM)),this.avatars.forEach((function(t){var r=e.createCircleAvatar(t.owner_avatar);e.load.image(t.unique_id,r)}))}},{key:"loadAllXML",value:function(){var e=this.levelMap.BITMAP_FONT;for(var t in e)this.load.xml("".concat(t,"_XML"),e[t].XML)}},{key:"preloadGameSceneAsset",value:function(){this.loadAllAtlas(),this.loadAllImage(),this.loadAllXML(),this.listenLoadProgress(),this.collectLoadFailAsset()}},{key:"reloadFailAsset",value:function(){var e=this;this.loadFailAsset.forEach((function(t){var r=t.url,n=(t.type,t.key),i=t.config;switch(t.loadType){case"spritesheet":e.loadSheet(n,r,i);break;case"atlas":var o=e.levelMap,a=o.SEAT,s=o.GUIDE;n===Cr.Zq.SEAT_ATLAS?e.load.atlas(Cr.Zq.SEAT_ATLAS,r,a.JSON):n===Cr.Zq.GUIDE_ATLAS&&e.load.atlas(Cr.Zq.GUIDE_ATLAS,s.PIC,s.JSON)}e.load.once("complete",(function(t){var r=n;e.loadFailAsset.has(r)&&(e.resetPetTexture(r),e.resetSeatTexture(r),e.resetGuideTexture(r),e.resetCommonEffectTexture(r),e.loadFailAsset.delete(r))})),e.load.start()}))}},{key:"listenLoadProgress",value:function(){var e=this,t=this.load.progress;this.load.on("progress",(function(r){r>=1&&e.load.off("progress"),e.rootStore.addLoadingProgress(30*(r-t),"phaser_load_progress"),t=r}))}},{key:"collectLoadFailAsset",value:function(){var e=this;this.load.on("loaderror",(function(t){var r=t.url,n=t.type,i=t.key,o={url:r,key:i,config:t.config};e.loadFailAsset.has(i)||(i===Cr.Zq.SEAT_ATLAS||i===Cr.Zq.GUIDE_ATLAS?e.loadFailAsset.set(i,ol({type:n,loadType:"atlas"},o)):"spritesheet"===n&&e.loadFailAsset.set(i,ol({type:n,loadType:"spritesheet"},o)))}))}},{key:"resetPetTexture",value:function(e){this.pets.forEach((function(t){if(null==t?void 0:t.instance){var r=t.instance;[r.roamPet,r.workPet,r.stealPet].forEach((function(t){t&&t.img===e&&t.resetTexture()}))}}))}},{key:"resetSeatTexture",value:function(e){var t;e===Cr.Zq.SEAT_ATLAS&&(null===(t=this.bg)||void 0===t||t.resetTexture(),this.seats.forEach((function(e){var t;null===(t=e.instance)||void 0===t||t.resetTexture()})))}},{key:"resetGuideTexture",value:function(e){var t;e===Cr.Zq.GUIDE_ATLAS&&(null===(t=this.guide)||void 0===t||t.resetTexture())}},{key:"resetCommonEffectTexture",value:function(e){this.commonEffect.resetTexture(e)}},{key:"getLoadParamFromPet",value:function(e){if(e){var t=this.levelMap,r=t.SPRITE_MAP,n=t.PET_FRAME_SIZE;return{type:"spritesheet",key:"ROAM_PET_".concat(e.fairy_rank),url:r["".concat(e.fairy_rank)].FRAME_PIC,frameWidth:n.WIDTH,frameHeight:n.HEIGHT}}}},{key:"loadCustom",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"",key:"",url:"",frameWidth:136,frameHeight:136,isShowToast:!0};return new Promise((function(r,n){var i,o,a,s=t.type,u=t.key,l=t.url,p=t.frameWidth,f=t.frameHeight,d=t.isShowToast,h=t.dbParams,m=null===(i=e.scene.textures)||void 0===i?void 0:i.get(u);if(!u||!l&&!h)return n();if((null==m?void 0:m.key)===u)return r(u);switch(s){case"spritesheet":a=e.scene.load.spritesheet(u,e.toCDNImg(l),{frameWidth:p,frameHeight:f});break;case"image":a=e.scene.load.image(u,e.toCDNImg(l));break;case"dragonbone":a=(o=e.scene.load).dragonbone.apply(o,[u].concat(c()(h)));break;default:n()}if(a){if("dragonbone"===s){var g=["image-".concat(u),"json-".concat(u,"_atlasjson"),"json-".concat(u)],y={},v=function(e,t){y["".concat(t,"-").concat(e)]=1,g.every((function(e){return y[e]}))&&r(u)};g.forEach((function(e){a.once("filecomplete-".concat(e),v)}))}else a.once("filecomplete-".concat(s,"-").concat(u),(function(e){return r(e)}));a.once("loaderror",(function(t){t.key===u&&(d&&(0,qt.Z)("网络错误，请刷新页面~"),e.rootStore.sendError("loaderror "+t.key),n())})),e.load.start()}}))}},{key:"removeCacheAsset",value:function(){var e=this;[Cr.Zq.GUIDE_ATLAS,Cr.Zq.BG_ATLAS,Cr.Zq.SEAT_ATLAS].forEach((function(t){e.scene.cache.json.remove(t)}));var t=[Cr.Zq.SELECT_RING,Cr.Zq.MATCH_RING,Cr.Zq.DRAG_BOOM,Cr.Zq.DROP_BOOM,Cr.Zq.COMPOSE_BOOM,"COIN_RAIN","SURPRISE_BOX"],r=function(e){return e.includes(Cr.Zq.PET)||e.includes(Cr.Zq.STEAL_PET)||e.includes(Cr.Zq.WORK_PET)},n=this.scene.textures.getTextureKeys();n.forEach((function(n){t.includes(n)||r(n)||e.scene.textures.remove(n)}))}},{key:"load",get:function(){return this.scene.load}},{key:"levelMap",get:function(){return this.rootStore.levelMap}},{key:"pets",get:function(){return this.parentStore.pets}},{key:"seats",get:function(){return this.parentStore.seats}},{key:"bg",get:function(){return this.parentStore.bg}},{key:"commonEffect",get:function(){return this.parentStore.commonEffect}},{key:"guide",get:function(){return this.parentStore.guide}},{key:"isMainScene",get:function(){return this.parentStore.isMainScene}},{key:"isInGuideStep",get:function(){return this.parentStore.isInGuideStep}},{key:"skinType",get:function(){return this.parentStore.skinType}}]),r}(ta);function ul(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ll(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ul(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var fl,dl=(sl=function(e){O()(n,e);var t,r=pl(n);function n(){return g()(this,n),r.apply(this,arguments)}return w()(n,[{key:"sortPets",value:function(){var e=this.pets.filter((function(e){return e.fairy_status===Cr.jq.WORK})).sort((function(e,t){return e.fairy_rank-t.fairy_rank})),t=this.pets.filter((function(e){return e.fairy_status===Cr.jq.ROAM})).sort((function(e,t){return e.fairy_rank-t.fairy_rank})),r=this.pets.filter((function(e){return e.fairy_status===Cr.jq.WORK_IN_FRIEND})).sort((function(e,t){return e.fairy_rank-t.fairy_rank}));this.pets=[].concat(c()(r),c()(e),c()(t))}},{key:"initRequestData",value:function(){var e=this,t=this.rootStore,r=t.nativeFairyList,n=t.nativeFriendFairyList,i=t.totalWorkAreaNum,o=t.totalOpenWorkArea;this.pets=[].concat(c()(r),c()(n)).map((function(t){return ll(ll({},t),{},{hasGravity:e.rootStore.isUserNeedInitial&&e.parentStore.isMainScene,operateType:he.IZ.ADD})})),n.forEach((function(t){t.owner_avatar&&e.loadHandler.addAvatars({unique_id:t.unique_id,owner_avatar:t.owner_avatar})})),this.sortPets(),this.parentStore.isInComposeStep&&this.pets.forEach((function(e){return e.hasGravity=!0})),this.seats=new Array(i).fill(0).map((function(e,t){var i,a=Cr.t7.LOCK,s="",c="";t<o&&(a=Cr.t7.IDLE);var u=r.find((function(e){return e.fairy_work_order===t&&e.fairy_status===Cr.jq.WORK}));return u||(u=n.find((function(e){return e.fairy_work_order===t}))),u&&(a=Cr.t7.USED,s=u.fairy_id,i=u.fairy_rank,c=u.unique_id),{id:t,state:a,petId:s,petLevel:i,petUniqueId:c}}))}},{key:"getDiffPetList",value:function(e,t){var r=this,n=function(e,t){return e.unique_id===t.unique_id},i=t.filter((function(t){return e.some((function(e){return n(t,e)}))})),o=t.filter((function(e){return!i.some((function(t){return n(e,t)}))})).map((function(e){return ll(ll({},e),{},{operateType:he.IZ.ADD})})),a=e.filter((function(e){return!i.some((function(t){return n(e,t)}))})).map((function(e){return ll(ll({},e),{},{operateType:he.IZ.DELETE})})),s=i.map((function(t){var i=e.find((function(e){return n(t,e)})),o=r.isFairyChange(t,i);return ll(ll(ll({},i),t),{},{operateType:o?he.IZ.CHANGE:he.IZ.NO_CHANGE})}));return[].concat(c()(o),c()(a),c()(s))}},{key:"isFairyChange",value:function(e,t){return e.fairy_work_order!==t.fairy_work_order||e.rest_coin_rate!==t.rest_coin_rate||e.work_coin_rate!==t.work_coin_rate}},{key:"dealDiffPetList",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{fairyList:[],type:he.sf.ALL_UPDATE},n=this.getDiffPetList(e,t);return n.map((function(e,t){var n,i;return i=(null==r||null===(n=r.fairyList)||void 0===n?void 0:n.includes(e.unique_id))?r.type:he.sf.ALL_UPDATE,ll(ll({},e),{},{hasGravity:i===he.sf.BUY})}))}},{key:"dealSeatList",value:function(){var e=this.rootStore,t=e.nativeFairyList,r=e.nativeFriendFairyList,n=e.totalOpenWorkArea,i=function(e,t,r,n,i){e.state=t,e.petId=r,e.petUniqueId=i,e.petLevel=n};this.seats.forEach((function(e,o){var a,s=t.find((function(e){return e.fairy_work_order===o&&e.fairy_status===Cr.jq.WORK}));s||(s=r.find((function(e){return e.fairy_work_order===o})));var c=e.state;s?i(e,Cr.t7.USED,s.fairy_id,s.fairy_rank,s.unique_id):c!==Cr.t7.USED||s&&(null===(a=s)||void 0===a?void 0:a.operateType)!==he.IZ.DELETE?o<n&&c===Cr.t7.LOCK?i(e,Cr.t7.IDLE,"",null,""):o>=n&&i(e,Cr.t7.LOCK,"",null,""):i(e,Cr.t7.IDLE,"",null,"")}))}},{key:"diffAllRequestData",value:function(e){var t=this.rootStore,r=t.nativeFairyList,n=t.nativeFriendFairyList;t.totalOpenWorkArea;this.pets=this.dealDiffPetList(this.pets,[].concat(c()(r),c()(n)),e),this.dealSeatList()}},{key:"updateAllInstance",value:function(){var e=this;this.rootStore.isLoading||(this.pets.forEach((function(t,r){switch(t.operateType){case he.IZ.DELETE:if(!t.instance)return;t.instance.destroy(),t.instance=void 0;break;case he.IZ.ADD:if(t.fairy_status===Cr.jq.ROAM){var n=e.loadHandler.getLoadParamFromPet(t);e.loadHandler.loadCustom(n).then((function(r){r!==n.key||t.instance||(e.parentStore.createPet(t),"number"==typeof t.x&&"number"==typeof t.y&&(t.instance.roamSprite.setPosition(t.x,t.y),delete t.x,delete t.y))}))}else!t.instance&&e.parentStore.createPet(t);break;case he.IZ.CHANGE:case he.IZ.NO_CHANGE:if(!t.instance)return;t.instance.update(t)}})),this.pets=this.pets.filter((function(e){return e.operateType!==he.IZ.DELETE})),this.seats.forEach((function(e){var t;return null===(t=e.instance)||void 0===t?void 0:t.update(e)})))}},{key:"setAllRequestData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r)this.initRequestData();else{if(this.rootStore.isLoading&&this.parentStore.isInSceneTransition)return;t&&(this.diffAllRequestData(e),this.updateAllInstance())}}},{key:"toRoam",value:function(e){var t;if(e){var r=this.parentStore.findPetById(e);if(r){var n=this.seats[r.fairy_work_order];if(r.fairy_status!==Cr.jq.ROAM){var i;if(r.fairy_status===Cr.jq.WORK&&n)n.state=Cr.t7.IDLE,n.petId="",n.petUniqueId="",n.petLevel=null,null===(i=n.instance)||void 0===i||i.update(n);r.fairy_status=Cr.jq.ROAM,r.fairy_work_order=-1,null===(t=r.instance)||void 0===t||t.update(r)}}}}},{key:"toWork",value:function(e,t){var r,n;if(e&&"number"==typeof t){var i=this.parentStore.findPetById(e),o=this.seats[t];i&&i.fairy_status!==Cr.jq.WORK&&o&&(i.fairy_status=Cr.jq.WORK,i.fairy_work_order=t,null===(r=i.instance)||void 0===r||r.update(i),o.state=Cr.t7.USED,o.petId=i.fairy_id,o.petLevel=i.fairy_rank,o.petUniqueId=i.unique_id,null===(n=o.instance)||void 0===n||n.update(o))}}},{key:"unlockSeat",value:function(e,t){if(t&&[8,12,16].includes(e.fairy_rank)){var r=this.seats.findIndex((function(e){return e.state===Cr.t7.LOCK}));if(-1!==r){var n=this.seats[r];(null==n?void 0:n.instance)&&(n.state=Cr.t7.IDLE,n.instance.update(n))}}}},{key:"workPetSpeedUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:14,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.pets.forEach((function(n){n.instance&&n.fairy_status===Cr.jq.WORK&&(n.instance.playWorkEmitter(t,r),n.instance.speedUpWork(e))})),this.seats.forEach((function(e){e.instance&&e.state===Cr.t7.USED&&e.instance.playCoinEmitter(t)}))}},{key:"deletePet",value:function(e){var t;if(e){if(e.fairy_status===Cr.jq.WORK_IN_FRIEND){var r,n=this.seats[e.fairy_work_order];if(n)n.state=Cr.t7.IDLE,n.petId="",n.petUniqueId="",n.petLevel=null,null===(r=n.instance)||void 0===r||r.update(n)}var i,o;if(null===(t=e.instance)||void 0===t?void 0:t.needReCycle)null===(i=e.instance)||void 0===i||i.destroyForRecycle();else null===(o=e.instance)||void 0===o||o.destroy();this.pets=this.pets.filter((function(t){return t.unique_id!==e.unique_id}))}}},{key:"deletePetById",value:function(e){var t=this.parentStore.findPetById(e);t&&this.deletePet(t)}},{key:"addPet",value:(t=a()(i().mark((function e(t){var r,n,o,a,s,c,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(u.length>1&&void 0!==u[1])||u[1],!this.parentStore.isInSceneTransition){e.next=3;break}return e.abrupt("return",!1);case 3:return n=this.loadHandler.getLoadParamFromPet(t),o=t.work_coin_rate,t.work_coin_rate=this.rootStore.isInSpeedState?2*o:o,t.unique_id=this.rootStore.createUniqueId(t),e.next=9,this.loadHandler.loadCustom(n);case 9:if(!(a=e.sent)){e.next=20;break}return s=t.unique_id,t.fairy_id,!(null==(c=this.parentStore.findPetById(s))?void 0:c.instance)&&a===n.key&&this.parentStore.createPet(t),"number"!=typeof t.x||"number"!=typeof t.y||t.hasGravity||(t.instance?t.instance.updateRoamPosition(t):c.instance&&c.instance.updateRoamPosition(t),delete t.x,delete t.y),c?c.instance||(c.instance=t.instance):this.pets.push(t),r&&this.parentStore.queryMainAfterOperation(!1,!0),e.abrupt("return",!0);case 20:return r&&this.parentStore.queryMainAfterOperation(!0,!0),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"pets",get:function(){return this.parentStore.pets},set:function(e){this.parentStore.pets=e}},{key:"seats",get:function(){return this.parentStore.seats},set:function(e){this.parentStore.seats=e}},{key:"loadHandler",get:function(){return this.parentStore.loadHandler}}]),n}(ta),P()(sl.prototype,"sortPets",[R.action],Object.getOwnPropertyDescriptor(sl.prototype,"sortPets"),sl.prototype),P()(sl.prototype,"initRequestData",[R.action],Object.getOwnPropertyDescriptor(sl.prototype,"initRequestData"),sl.prototype),P()(sl.prototype,"getDiffPetList",[R.action],Object.getOwnPropertyDescriptor(sl.prototype,"getDiffPetList"),sl.prototype),P()(sl.prototype,"dealDiffPetList",[R.action],Object.getOwnPropertyDescriptor(sl.prototype,"dealDiffPetList"),sl.prototype),P()(sl.prototype,"dealSeatList",[R.action],Object.getOwnPropertyDescriptor(sl.prototype,"dealSeatList"),sl.prototype),P()(sl.prototype,"diffAllRequestData",[R.action],Object.getOwnPropertyDescriptor(sl.prototype,"diffAllRequestData"),sl.prototype),P()(sl.prototype,"updateAllInstance",[R.action],Object.getOwnPropertyDescriptor(sl.prototype,"updateAllInstance"),sl.prototype),P()(sl.prototype,"setAllRequestData",[R.action],Object.getOwnPropertyDescriptor(sl.prototype,"setAllRequestData"),sl.prototype),sl);function hl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var ml,gl=(fl=function(e){O()(r,e);var t=hl(r);function r(){return g()(this,r),t.apply(this,arguments)}return w()(r,[{key:"showForbidGrabToast",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isMainScene){if(this.parentStore.forbidPlayInFriend)return(0,qt.Z)("好友已到24级，暂时不可以抢打工位哦~");var t=this.rootStore.topRank;t<3?(0,qt.Z)("好友暂未解锁打工位哦~"):3===t&&(0,qt.Z)("好友新手保护中，暂时不可以抢打工位哦~"),e&&!this.store.gameStore.hasValidIdleSeatIdx&&(0,qt.Z)("去其他好友家看看，这家打工位满了~")}}},{key:"showGuideToast",value:function(){return!!this.isInComposeStep&&((0,qt.Z)("请先合成精灵哟~"),!0)}},{key:"showWorkGuideToast",value:function(){return!!this.isInWorkStep&&((0,qt.Z)("请先将精灵拖入工位打工~"),!0)}},{key:"showCommonGuideToast",value:function(){return!!this.isInGuideStep&&((0,qt.Z)("别急，请先按指示完成游戏引导~"),!0)}},{key:"showComposeGuide",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.pets.filter((function(e){return 1===e.fairy_rank}));r.length>=2&&(null===(e=this.guide)||void 0===e||e.showComposeGuide(r[0],r[1],t))}},{key:"showWorkGuide",value:function(){var e,t=this,r=function(){var e=t.pets.find((function(e){var t;return null===(t=e.instance)||void 0===t?void 0:t.workGuideMark}));return e||(e=t.pets.find((function(e){return e.fairy_rank===t.enableWorkLevel}))),e}(),n=this.seats.filter((function(e){return e.state===Cr.t7.IDLE})),i=this.seats.find((function(e){return e.state===Cr.t7.LOCK}));r&&n.length>=2&&i&&(this.showWorkGuideToast(),this.pets.forEach((function(e){var t;return null===(t=e.instance)||void 0===t?void 0:t.stopMotionForWorkGuide()})),this.commonEffect.playSelectedRingEffect(r.instance),null===(e=this.guide)||void 0===e||e.showWorkGuide(r,n[0],n[1],i))}},{key:"destroyGuide",value:function(){var e;null===(e=this.guide)||void 0===e||e.destroy(),this.guide=void 0,this.pets.forEach((function(e){var t;return null==e||null===(t=e.instance)||void 0===t?void 0:t.clearGuideState()})),this.seats.forEach((function(e){var t;return null==e||null===(t=e.instance)||void 0===t?void 0:t.update(e)}))}},{key:"guide",get:function(){return this.parentStore.guide},set:function(e){this.parentStore.guide=e}},{key:"pets",get:function(){return this.parentStore.pets}},{key:"seats",get:function(){return this.parentStore.seats}},{key:"isMainScene",get:function(){return this.parentStore.isMainScene}},{key:"isPassGame",get:function(){return this.rootStore.isPassGame}},{key:"commonEffect",get:function(){return this.parentStore.commonEffect}},{key:"isHasWorkPet",get:function(){return this.pets.some((function(e){return e.fairy_status===Cr.jq.WORK}))}},{key:"enableWorkLevel",get:function(){return this.rootStore.gameStore.guideHandler.isHasWorkPet&&3===this.rootStore.topRank?3:4}},{key:"isInGuide",get:function(){return!(!this.isMainScene||this.isPassGame)&&this.rootStore.topRank<=this.enableWorkLevel}},{key:"isInGuideLt3",get:function(){return this.isInGuide&&this.rootStore.topRank<=2}},{key:"isInGuideStep",get:function(){return this.isInGuide&&!this.isHasWorkPet}},{key:"isInComposeStep",get:function(){return this.isInGuide&&this.rootStore.topRank<=1&&2===this.pets.length}},{key:"isInWorkStep",get:function(){return this.isInGuide&&this.rootStore.topRank===this.enableWorkLevel&&!this.isHasWorkPet}}]),r}(ta),P()(fl.prototype,"enableWorkLevel",[R.computed],Object.getOwnPropertyDescriptor(fl.prototype,"enableWorkLevel"),fl.prototype),P()(fl.prototype,"isInGuide",[R.computed],Object.getOwnPropertyDescriptor(fl.prototype,"isInGuide"),fl.prototype),P()(fl.prototype,"isInGuideLt3",[R.computed],Object.getOwnPropertyDescriptor(fl.prototype,"isInGuideLt3"),fl.prototype),P()(fl.prototype,"isInGuideStep",[R.computed],Object.getOwnPropertyDescriptor(fl.prototype,"isInGuideStep"),fl.prototype),P()(fl.prototype,"isInComposeStep",[R.computed],Object.getOwnPropertyDescriptor(fl.prototype,"isInComposeStep"),fl.prototype),P()(fl.prototype,"isInWorkStep",[R.computed],Object.getOwnPropertyDescriptor(fl.prototype,"isInWorkStep"),fl.prototype),fl);function yl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var vl,bl={41122:"好友已到24级，暂时不可以抢打工位哦~"},_l=(ml=function(e){O()(d,e);var t,r,n,o,s,c,u,l,p=yl(d);function d(){return g()(this,d),p.apply(this,arguments)}return w()(d,[{key:"isWorkSeatOccupied",value:function(e){var t=this.rootStore,r=t.nativeFairyList,n=t.nativeFriendFairyList;return r.some((function(t){return t.fairy_work_order===e&&t.fairy_status===Cr.jq.WORK}))||n.some((function(t){return t.fairy_work_order===e}))}},{key:"doComposeOperation",value:(l=a()(i().mark((function e(t,r){var n,o,a=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={fairy_one_id:t,fairy_two_id:r},e.next=4,(0,ee.Fx)(n);case 4:if(null==(o=e.sent)?void 0:o.fairy_info){e.next=7;break}throw new Error("compose operation error: ".concat(JSON.stringify(n)));case 7:return(0,R.runInAction)((function(){a.rootStore.setComposeResult(o),a.parentStore.resetOperationTime()})),e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(0),(0,qt.Z)(he.yJ),this.sendError(e.t0,new Error(JSON.stringify(this.pets.map((function(e){var t,r,n;return{fairy_id:e.fairy_id,isDestroyed:null===(t=e.instance)||void 0===t?void 0:t.isDestroyed,isInCompose:null===(r=e.instance)||void 0===r?void 0:r.isInCompose,isInOperation:null===(n=e.instance)||void 0===n?void 0:n.isInOperation}}))))),e.next=17,this.store.queryUserProcess();case 17:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(e,t){return l.apply(this,arguments)})},{key:"doReCycleOperation",value:(u=a()(i().mark((function e(t,r){var n,o,a=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return n={fairy_id:t},e.next=6,(0,ee.ue)(n);case 6:if((null==(o=e.sent)?void 0:o.coin_number)&&(null==o?void 0:o.total_coin_number)){e.next=9;break}throw new Error("recycleFairyService error: ".concat(JSON.stringify(n)));case 9:return(0,R.runInAction)((function(){a.rootStore.setRecycleResult(o)})),this.markReCycle(r),this.parentStore.deletePetById(r),this.parentStore.queryMainAfterOperation(!1,!0),e.abrupt("return",!0);case 16:e.prev=16,e.t0=e.catch(0),(0,qt.Z)(he.yJ),this.sendError(e.t0),this.rootStore.queryUserProcess();case 21:case"end":return e.stop()}}),e,this,[[0,16]])}))),function(e,t){return u.apply(this,arguments)})},{key:"markReCycle",value:function(e){var t=this.parentStore.findPetById(e);(null==t?void 0:t.instance)&&(t.instance.needReCycle=!0)}},{key:"doWorkOperation",value:(c=a()(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(this.isWorkSeatOccupied(r)||r>=this.rootStore.totalOpenWorkArea)){e.next=5;break}return e.next=4,this.rootStore.queryUserProcess();case 4:return e.abrupt("return",!1);case 5:return n={fairy_id:t,work_order:r},e.next=8,(0,ee.fh)(n);case 8:if(e.sent){e.next=11;break}throw new Error("intoWorkplaceService error: ".concat(JSON.stringify(n)));case 11:return e.abrupt("return",!0);case 14:e.prev=14,e.t0=e.catch(0),(0,qt.Z)(he.yJ),this.sendError(e.t0),this.rootStore.queryUserProcess();case 19:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(e,t){return c.apply(this,arguments)})},{key:"doRecallOperation",value:(s=a()(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={fairy_id:t},e.next=4,(0,ee.yB)(r);case 4:if(e.sent){e.next=7;break}throw new Error("outWorkplaceService error: ".concat(JSON.stringify(r)));case 7:return this.parentStore.resetOperationTime(),e.abrupt("return",!0);case 11:e.prev=11,e.t0=e.catch(0),(0,qt.Z)(he.yJ),this.sendError(e.t0),this.rootStore.queryUserProcess();case 16:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(e){return s.apply(this,arguments)})},{key:"recallGrabPets",value:(o=a()(i().mark((function e(t){var r,n,o,a=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t?void 0:t.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r={fairy_ids:t},e.next=6,(0,ee.C2)(r);case 6:if(n=e.sent){e.next=9;break}throw new Error("call back grab fairy error: ".concat(JSON.stringify(r)));case 9:return(0,R.runInAction)((function(){var e=n.avatars,t=n.occupy_friends_earnings;a.rootStore.recallReturnDialogStore.setReturnInfo(e,t,!1)})),e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(2),this.sendError(e.t0),(0,qt.Z)(he.Fe),o={handObj:void 0,isDirectUpdate:!1,needSetCoinNum:!1},this.parentStore.isMainScene?this.rootStore.queryUserProcess(o):this.rootStore.queryFriendProcess(o);case 19:case"end":return e.stop()}}),e,this,[[2,13]])}))),function(e){return o.apply(this,arguments)})},{key:"grabFriendWorkSeat",value:(n=a()(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.parentStore.isMainScene&&this.rootStore.friendUid&&"number"==typeof t&&!this.parentStore.forbidPlayInFriend){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r={friend_uid:this.rootStore.friendUid,work_order:t},e.next=6,(0,ee.cf)(r);case 6:if(null==(n=e.sent)?void 0:n.fairy){e.next=9;break}throw new Error("grab friend work seat error: ".concat(JSON.stringify(r)));case 9:return n.fairy.fairy_work_order=t,e.next=12,this.parentStore.addGrabPetInScene(n.fairy,!1);case 12:return this.parentStore.requestVisitMain(this.rootStore.friendUid,!1,!1),e.abrupt("return",!0);case 16:e.prev=16,e.t0=e.catch(2),this.sendError(e.t0),(0,qt.Z)(bl[e.t0.errorCode]||he.Fe),this.parentStore.requestVisitMain(this.rootStore.friendUid,!1,!1);case 21:case"end":return e.stop()}}),e,this,[[2,16]])}))),function(e){return n.apply(this,arguments)})},{key:"checkFairyBeforeGrab",value:(r=a()(i().mark((function e(t){var r,n,o,a,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,ee.a8)(),this.rootStore.queryFriendProcess(t)]);case 2:if(r=e.sent,n=f()(r,2),o=n[0],a=n[1],o&&Array.isArray(o.fairy_list)&&Array.isArray(o.friends_fairy_list)){e.next=8;break}throw new Error("query user process error: ".concat(JSON.stringify(o)));case 8:if(a){e.next=10;break}return e.abrupt("return",!1);case 10:return s=o.fairy_list,c=s.some((function(e){return e.fairy_status===Cr.jq.ROAM})),e.abrupt("return",c&&this.parentStore.hasValidIdleSeatIdx);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"checkFairyBeforeRecallInMainScene",value:(t=a()(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.parentStore.isMainScene){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.rootStore.queryUserProcess({handObj:null,isDirectUpdate:!0,needSetCoinNum:!1,forceInit:!1});case 4:if(e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:if(!(r=this.parentStore.findPetById(t))||r.fairy_status!==Cr.jq.WORK){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"pets",get:function(){return this.parentStore.pets}},{key:"sendError",get:function(){return this.parentStore.sendError}}]),d}(ta),P()(ml.prototype,"doWorkOperation",[$.d],Object.getOwnPropertyDescriptor(ml.prototype,"doWorkOperation"),ml.prototype),P()(ml.prototype,"checkFairyBeforeGrab",[J.Y],Object.getOwnPropertyDescriptor(ml.prototype,"checkFairyBeforeGrab"),ml.prototype),P()(ml.prototype,"checkFairyBeforeRecallInMainScene",[J.Y],Object.getOwnPropertyDescriptor(ml.prototype,"checkFairyBeforeRecallInMainScene"),ml.prototype),ml),kl=r(28716),wl=r.n(kl),Sl=r(36050);function Ol(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return Il(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Il(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function Il(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Al(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Tl="ba-zong",Cl="NPC_COIN_NUM_TEXT",El="NPC_BEAR_CLICK_TIPS",Pl=.14,Rl=[2,3],xl="BEAR_COIN_TEXT",Dl="BEAR_BIG_COIN_TEXT",Nl=(vl=function(e){O()(b,e);var t,r,n,o,s,c,u,l,p,f,d,h,m,y,v=Al(b);function b(e,t,r){var n;return g()(this,b),(n=v.call(this,t,r)).arm=void 0,n.moveTime=0,n.moveEnd=void 0,n.lastDirection=void 0,n.dispose=[],n.coins=[],n.timelines=[],n.countDownStepTimer=void 0,n.clickTips=void 0,n.missionTipsContainer=void 0,n.missionUrl="",n.sendNpcBearAwardEnd=void 0,n.flyback=void 0,n.expiresTimer=void 0,n.update=function(){try{n.arm.angle=0,n.moveTime<=0&&!n.moveEnd&&n.createMove()}catch(e){n.store.sendError(e),n.update=function(){}}},n.handleClick=function(){var e,t,r,i;if(!n.isDestroyed&&(n.arm.animation.play(null,1),(null===(e=n.clickTips)||void 0===e?void 0:e.visible)&&n.clickTips.setVisible(!1),!(null===(t=n.missionTipsContainer)||void 0===t?void 0:t.visible))){n.store.npcStore.coinBearNpcTriggerInfo.click_times=(n.store.npcStore.coinBearNpcTriggerInfo.click_times||0)+1;var o=n.store.npcStore.coinBearNpcTriggerInfo.click_times;(0,ge.iH)(ye.dH.BEAR,n.logInfo);var a=n.store.leoConfig.npcBearTipsRemainClickCount,s=void 0===a?5:a;if(o>=n.store.npcStore.coinBearClickCountMaxLimit-s&&n.toCountDownStep(),!(o>=n.store.npcStore.coinBearClickCountMaxLimit)){var c=null===(r=n.store.npcStore.coinBearInfo)||void 0===r||null===(i=r.times_to_coin_map)||void 0===i?void 0:i[n.store.npcStore.coinBearNpcTriggerInfo.click_times],u=n.genCoinNumList(c||"")||[];n.startCoinsPop(u)}}},n.create(),n}return w()(b,[{key:"loadAssets",value:function(){return Promise.all([this.loadHandler.loadDragonbone(Tl,"https://promotion.pddpic.com/promo/371bc886-5e9f-4281-90ba-6a4cdc37f6de.png","https://promotion.pddpic.com/promo/a25aac2c-0ac0-4781-a29c-7c4130335383.json","https://promotion.pddpic.com/promo/0145816b-d7cc-4500-b766-e3dc26cb0ade.json"),this.loadFont()])}},{key:"create",value:(y=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.store.dragonBonesManager.checkDragonbones();case 2:return e.next=4,this.loadAssets();case 4:(t=this.scene.add.armature(Tl,Tl)).x=(0,Ko.dV)(1.875),t.y=(0,Ko.dV)(2.2),t.setSize((0,Ko.dV)(.7),(0,Ko.dV)(.85)),t.setScale((0,Ko.fp)(.25)),t.setDepth(this.depthManager.middleDepth+10),t.setInteractive().on("pointerup",this.handleClick),this.arm=this.matter.add.gameObject(t,{ignoreGravity:!0}),this.dispose.push((function(){t.removeAll(!0),t.destroy()})),this.createJelly(),this.createClickTips(),this.createCollide(),this.createCoins(),this.setTimer(),this.store.gameStore.addEntity(this),(0,ge.oy)(ye.dH.BEAR,this.logInfo);case 22:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"destroy",value:function(){this.dispose.forEach((function(e){return e()})),this.dispose=[],this.isDestroyed=!0,this.store.gameStore.removeEntity(this)}},{key:"countDownEnd",value:(m=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDestroyed){e.next=2;break}return e.abrupt("return");case 2:return this.endMove(),null===(t=this.clickTips)||void 0===t||t.setVisible(!1),this.handleClickAward(),e.next=7,this.createMissionTips();case 7:this.missionTipsContainer?this.toExpiresTimerStep():this.destroyBearWithCoinsFly();case 8:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"toExpiresTimerStep",value:function(){var e=this;this.expiresTimer=setTimeout((function(){e.destroyBearWithCoinsFly()}),1e4)}},{key:"destroyBearWithCoinsFly",value:(h=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDestroyed){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.startCoinsFlyBack();case 4:this.destroy();case 5:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"handleClickAward",value:(d=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.sendNpcBearAwardEnd){e.next=2;break}return e.abrupt("return");case 2:return this.flyback=!!this.store.npcStore.coinBearNpcTriggerInfo.click_times,e.next=5,this.store.npcStore.sendNpcBearAward();case 5:this.sendNpcBearAwardEnd=!0,this.store.npcStore.coinBearNpcTriggerInfo={},this.store.queryFairyEarnCoins("npcBearClickAwardEnd");case 8:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"createMissionTips",value:(f=a()(i().mark((function e(){var t,r,n,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.abTestStore.npcBearAdEntry){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.queryMissionInfo();case 4:if(t=e.sent,this.missionUrl){e.next=8;break}return this.store.sendError("NpcBear missionUrl is invalid"),e.abrupt("return");case 8:if(!t.isReachLimit){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Promise.all([this.createMissionToast(t.coinFormatString),this.createMissionBtn()]);case 12:r=e.sent,(n=this.scene.add.container(0,-this.arm.height/2-(0,Ko.dV)(.3),r.flat().filter((function(e){return!!e})))).setSize((0,Ko.dV)(1.82),(0,Ko.dV)(.6)),n.setScale((0,Ko.fp)(.35)),n.setInteractive().on("pointerup",(function(){o.toMissionPage()})),this.missionTipsContainer=n,this.dispose.push((function(){n.removeAll(!0),n.destroy()})),this.arm.add(n),(0,ge.oy)(ye.dH.CPC_ENTRY);case 22:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"createMissionBtn",value:(p=a()(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="BEAR_MISSION_BTN",e.next=3,this.loadHandler.loadCustom({type:"spritesheet",key:t,url:"https://promotion.pddpic.com/promo/6e6a1cbd-320d-46f5-ad4a-4bf4f32f261a.png.slim.png",frameWidth:81,frameHeight:66});case 3:return(r=this.scene.add.sprite((0,Ko.dV)(.425),-(0,Ko.dV)(.035),t)).setScale((0,Ko.fp)(.5)),this.anims.create({key:t,frames:this.anims.generateFrameNumbers(t,{start:0,end:5}),frameRate:6,repeat:-1}),r.anims.play(t),e.abrupt("return",[r]);case 8:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"createMissionToast",value:(l=a()(i().mark((function e(t){var r,n,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="BEAR_MISSION_TOAST",e.next=3,this.loadHandler.loadCustom({type:"image",key:r,url:"https://promotion.pddpic.com/promo/fdcd6cd2-058f-418e-a1c8-d9bfa337bee2.png.slim.png"});case 3:return(n=this.scene.add.image(0,0,r)).setDisplaySize((0,Ko.dV)(1.34),(0,Ko.dV)(.44)),o=this.createMissionText("霸总送你",(0,Ko.dV)(-.54),(0,Ko.dV)(-.15)),(a=this.createMissionText(t,(0,Ko.dV)(-.54),(0,Ko.dV)(-.01)))&&(s=this.createMissionCoin(a.x+a.width+(0,Ko.dV)(.075),a.y+a.height/2)),e.abrupt("return",[n,o,a,s]);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"queryMissionInfo",value:(u=a()(i().mark((function e(){var t,r,n,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.store.leoForMission.npcBearMissionId,r=new qs.Z({id:t},(function(){return o.store})),e.next=4,r.checkTaskInfo();case 4:return n=e.sent,this.missionUrl=null==n?void 0:n.mission_url,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"createMissionCoin",value:function(e,t){var r=this.scene.add.image(e,t,Ku.key);return r.setDisplaySize((0,Ko.dV)(.13),(0,Ko.dV)(.12)),r}},{key:"createMissionText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;try{var n=this.scene.add.text(t,r,e,{fontSize:(0,Ko.dV)(.12)+"px",fontStyle:"bold",color:"#FFFFFF"});return n.setOrigin(0,0),n}catch(e){this.store.sendError(e)}}},{key:"toMissionPage",value:(c=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(this.expiresTimer),e.next=3,Promise.all([(0,ge.iH)(ye.dH.CPC_ENTRY),this.handleBack(),this.handleClickAward()]);case 3:(0,me.eH)(this.missionUrl);case 4:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"handleBack",value:(s=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fr.ZP.isNativePlatform){e.next=4;break}return e.next=3,(0,Sl.addSceneReturnCallback)((function(){t(),r.destroyBearWithCoinsFly()}));case 3:t=e.sent;case 4:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"isBigCoinNum",value:function(e){return e===this.store.npcStore.coinBearMapMaxItemValueStr||!(0,Ie.Bq)(+e)}},{key:"genCoinNumList",value:function(e){var t;if(e){if(this.isBigCoinNum(e))return[e];var r=null===(t=this.timelines.filter((function(e){return!e.isPlaying()})))||void 0===t?void 0:t.length,n=(0,Ie.rs)(Math.min(Rl[0],r),Math.min(Rl[1],r));if(!this.coins[n-1])return[e];var i=+e/n,o=new Array(n).fill(0);return o.reduce((function(t,r,n){var a=+e-t;return n+1===o.length?o[n]=a:o[n]=Math.min(i*(0,Ie.rs)(50,200)/100,a),o[n]=Number(o[n]).toFixed(0),t+=+o[n]}),0),o.filter((function(e){return e>0}))}}},{key:"createCollide",value:function(){var e=this,t=this.store.gameStore.roamCategory;this.arm.setCollisionCategory(t),this.arm.setOnCollide((function(){e.stopMove()}))}},{key:"createJelly",value:function(){var e=this,t=this.arm.scale,r=this.scene.tweens.add({targets:this.arm,scaleY:{from:t,to:.96*t},scaleX:{from:t,to:1.02*t},yoyo:!0,loop:!0,repeat:-1,ease:"Cubic.ease",duration:350}),n={y:0,prevY:0},i=this.scene.tweens.add({targets:n,y:{from:0,to:(0,Ko.dV)(.026).toFixed(0)},yoyo:!0,loop:!0,repeat:-1,ease:"Cubic.ease",duration:350,onUpdate:function(){e.arm.y+=n.y-n.prevY,n.prevY=n.y}});this.dispose.push((function(){r.remove(),i.remove()}))}},{key:"createMove",value:function(){var e=this.arm;this.moveTime=Phaser.Math.Between(500,1e3);var t=new Phaser.Math.Vector2;if(this.lastDirection){var r=this.lastDirection;t.x=r.x>0?Math.random()-1:Math.random(),t.y=r.y>0?Math.random()-1:Math.random()}else t.x=2*Math.random()-1,t.y=2*Math.random()-1;this.lastDirection=t.normalize();var n=(0,Ko.fp)(2.3),i=new Phaser.Math.Vector2(n,n).multiply(t);e.setVelocity(i.x,i.y)}},{key:"stopMove",value:function(){this.moveTime=0,this.arm.setVelocity(0,0)}},{key:"endMove",value:function(){this.stopMove(),this.moveEnd=!0}},{key:"createClickTips",value:(o=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return e.next=4,this.loadHandler.loadCustom({type:"image",key:El,url:"https://promotion.pddpic.com/promo/b73adb17-2189-4df8-bd0b-b37deeceb629.png.slim.png"});case 4:(t=this.scene.add.image(-(0,Ko.dV)(.14),-(0,Ko.dV)(.31)-this.arm.displayHeight/2,El)).setDisplaySize((0,Ko.dV)(1.02),(0,Ko.dV)(.31)),this.clickTips=t,this.arm.add(t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"createCoins",value:function(){var e,t,r=this;(e=this.arm.width,t=this.arm.height,[{x:0-e/2,y:0-t/3},{x:0-e/2,y:0+t/6},{x:0-e/2,y:0+3*t/4},{x:0+e/2,y:0-2*t/3},{x:0+e/2,y:0},{x:0+e/2,y:0+t/2},{x:0-e/6,y:0-3*t/4},{x:0+e/6,y:0-t/2},{x:0+e/3,y:0+9*t/10},{x:0-5*e/6,y:0-5*t/6},{x:0-5*e/6,y:0-1*t/8},{x:0+3*e/4,y:0-3*t/10},{x:0+4*e/5,y:0+2*t/9},{x:0-7*e/10,y:0+4*t/9},{x:0+1*e/4,y:0-t}]).forEach((function(e,t){var n=r.scene.add.image(0,0,Ku.key);n.setDisplaySize((0,Ko.dV)(Pl),(0,Ko.dV)(.13));var i=r.createNumText(),o=[n];i&&o.push(i);var a=r.scene.add.container(e.x,e.y,o),s=a.y,c=a.scale;a.setVisible(!1),r.arm.add(a);var u=r.scene.tweens.createTimeline({loop:0,paused:!0,onStart:function(){a.setVisible(!0)},onComplete:function(){a.setVisible(!1),a.y=s,u.pause()}});u.add({targets:a,scale:{getActive:function(){return 0},getEnd:function(){return a.getData("scaleBase")||c}},paused:!0,ease:"Quad.easeIn",duration:300,yoyo:!1}),u.add({targets:a,y:"-="+(0,Ko.dV)(.28),paused:!0,ease:"Quad.easeOut",duration:500,yoyo:!1}),r.coins.push(a),r.timelines.push(u),r.dispose.push((function(){u.destroy(),a.removeAll(!0),a.destroy()}))}))}},{key:"startCoinsPop",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=this.timelines.filter((function(e){return!e.isPlaying()}));var n,i=Ol(t);try{var o=function(){var t=n.value;if(!r.length)return{v:void 0};var i=(0,Ie.rs)(0,r.length-1),o=r.find((function(e,t){return i===t}));if(!o)return"break";var a=e.coins.find((function(e){return o.hasTarget(e)}));if(!a)return"break";var s=e.isBigCoinNum(t),c=a.list.find((function(e){return e.name===xl}));if(s)e.setBigNumText(a,"+"+(0,Pe.n)(t).valueStr),a.setData({scaleBase:1.8}),null==c||c.setVisible(!1);else{if(!c)return"break";c.text="+"+(0,Pe.n)(t).valueStr,a.setData({scaleBase:1.1}),c.setVisible(!0);var u=a.list.find((function(e){return e.name===Dl}));null==u||u.setVisible(!1)}o.play(),r=r.filter((function(e,t){return t!==i}))};e:for(i.s();!(n=i.n()).done;){var a=o();switch(a){case"break":break e;default:if("object"===wl()(a))return a.v}}}catch(e){i.e(e)}finally{i.f()}}},{key:"setBigNumText",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.list.find((function(e){return e.name===Dl}));n||(n=this.createBigNumText(r))&&e.add(n),null===(t=n)||void 0===t||t.setVisible(!0)}},{key:"createBigNumText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var t=this.scene.add.text((0,Ko.dV)(.1),0,e,{fontSize:(0,Ko.fp)(18)+"px",fontStyle:"bold",color:"#FD431B",stroke:"#FFFFFF",strokeThickness:(0,Ko.dV)(.04)});return t.name=Dl,t.setOrigin(0,.5),t}catch(e){this.store.sendError(e)}}},{key:"createNumText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var t=(0,Ko.fp)(18),r=this.scene.add.bitmapText((0,Ko.dV)(.1),0,Cl,e,t,0);return r.name=xl,r.setOrigin(0,.5),r}catch(e){this.store.sendError(e)}}},{key:"loadFont",value:function(){return this.loadHandler.loadBitmapFont(Cl,"https://promotion.pddpic.com/promo/0ed4d2ef-7686-4d0d-b7f4-4f44cdf14cdc.png.slim.png","https://promotion.pddpic.com/promo/efee916e-8992-43d6-85ea-99d10867664f.xml")}},{key:"setTimer",value:(n=a()(i().mark((function e(){var t,r,n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.store.leoConfig,r=t.npcBearActiveTime,n=void 0===r?12e3:r,o=t.npcBearTipsRemainTime,a=void 0===o?3e3:o,e.next=3,(0,Ie._v)(n-a);case 3:this.toCountDownStep();case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"toCountDownStep",value:function(){var e=this;if(!this.countDownStepTimer){var t=this.store.leoConfig.npcBearTipsRemainTime,r=void 0===t?3e3:t;this.createCountdownText(r/1e3);var n=this.countDownStepTimer=setTimeout((function(){e.countDownEnd()}),r);this.dispose.push((function(){return clearTimeout(n)}))}}},{key:"createCountdownText",value:(r=a()(i().mark((function e(t,r){var n,o,a=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<=0||this.isDestroyed)){e.next=2;break}return e.abrupt("return");case 2:n=this.missionTipsContainer?this.missionTipsContainer.y:-this.arm.height/2,(o=r||this.scene.add.text(0,n-(0,Ko.dV)(.4),String(t),{fontSize:(0,Ko.fp)(40)+"px",fontStyle:"bold",color:"#FFF793",stroke:"#FD431B",strokeThickness:(0,Ko.dV)(.06)})).text=String(t),r||(o.setOrigin(.5,.5),this.arm.add(o),o.setDepth(this.arm.depth+10),this.dispose.push((function(){return o.destroy()}))),setTimeout((function(){t-1==0?o.destroy():a.createCountdownText(t-1,o)}),1e3);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"startCoinsFlyBack",value:(t=a()(i().mark((function e(){var t,r,n,o,a,s,c,u,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null===(t=this.store.scoreSpeedCoinRef)||void 0===t||null===(r=t.current)||void 0===r?void 0:r.getBoundingClientRect(),a=null===(n=this.store.canvasRefCurrent)||void 0===n?void 0:n.getBoundingClientRect(),o&&a){e.next=4;break}return e.abrupt("return");case 4:return s=this.scene.add.particles(Ku.key,void 0,{x:this.arm.x,y:this.arm.y,scale:{start:0,end:(0,Ko.fp)(.3)},angle:{random:[0,360]},speed:{random:[(0,Ko.fp)(15),(0,Ko.fp)(100)]},accelerationX:{random:[(0,Ko.fp)(-100),(0,Ko.fp)(100)]},accelerationY:{random:[(0,Ko.fp)(-100),(0,Ko.fp)(100)]},quantity:10,frequency:100,maxParticles:20,gravityY:(0,Ko.fp)(50),lifespan:800}),this.dispose.push((function(){return s.destroy()})),s.setDepth(this.arm.depth+10),this.arm.setVisible(!1),c=0,u="",l="",p=this.store.canvasRefCurrent,this.flyback&&(s.emitters.each((function(e){e.deathCallback=function(e){!c&&p&&(l=p.style.position,u=p.style.zIndex,p.style.position="relative",p.style.zIndex="1000"),c++,s.createEmitter({x:e.x,y:e.y,scale:(0,Ko.fp)(.3),active:!0,moveToX:(0,Ko.EM)(o.x+o.width/2-a.x),moveToY:(0,Ko.EM)(o.y+o.height/2-a.y),quantity:1,maxParticles:1,delay:50*c,lifespan:500})}})),(0,ge.oy)(ye.dH.AWARD_ANI,this.logInfo)),e.next=15,(0,Ie._v)(3e3);case 15:c&&(p.style.position=l,p.style.zIndex=u);case 16:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"logInfo",get:function(){var e=this.store.npcStore.coinBearNpcTriggerInfo||{};return{top_rank:e.top_rank,tuid:e.tuid}}}]),b}(na),P()(vl.prototype,"toMissionPage",[$.d],Object.getOwnPropertyDescriptor(vl.prototype,"toMissionPage"),vl.prototype),P()(vl.prototype,"createCountdownText",[J.Y],Object.getOwnPropertyDescriptor(vl.prototype,"createCountdownText"),vl.prototype),vl);var Ll,Ml,Bl,Fl,Gl,jl,Ul,Wl,Zl,Hl,Kl=r(77301),zl=r.n(Kl);function ql(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Yl,Vl=(Ll=(0,J.Y)((function(e){(0,ou.sendNormalLog)({msg:null==e?void 0:e.message,key:"collectInvalidMatterBody"},null)}),null,!1),Ml=(0,J.Y)((function(e){(0,ou.sendNormalLog)({msg:null==e?void 0:e.message,key:"collectInvalidDisplayList"},null)}),null,!1),Bl=function(e){O()(m,e);var t,r,n,o,s,c,u,l,p,f,d=ql(m);function m(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return g()(this,m),(e=d.call(this,r)).restartGameLoopCount=0,e.type="main",e.audioManager=void 0,e.curUnLockSeatIdx=-1,h()(e,"isRecycleSuccess",Fl,v()(e)),e.operationTime=0,e.currentTime=0,e.errorParamSprite=[],h()(e,"_eggAddOne",Gl,v()(e)),e.firstShowLogMark=!1,e.allShowLogMark=!1,h()(e,"isShowSeatBgWithScale",jl,v()(e)),h()(e,"isPrepareToRecycle",Ul,v()(e)),e.guideHandler=void 0,e.bg=void 0,e.depthManager=void 0,e.updateHandler=void 0,e.operateHandler=void 0,e.attach=void 0,e.seatEffect=void 0,e.commonEffect=void 0,e.guide=void 0,e.coinRain=void 0,e.tickCount=void 0,e.roundRectPoints=void 0,e.worldCategory=void 0,e.dropCategory=void 0,e.roamCategory=void 0,e.edgeCategory=void 0,e.produceCategories=void 0,e.trashBottomCategory=void 0,e.coinCategory=void 0,e.spareCategory=void 0,e.npcBear=void 0,e.entityList=[],e.systemStepFlag=!1,e.systemStepTimer=void 0,h()(e,"isShowEatFoodAni",Wl,v()(e)),h()(e,"isShowEnergyBallFly",Zl,v()(e)),h()(e,"isShowCoinRateUp",Hl,v()(e)),Object.assign(v()(e),t),e.traceGameError(),e.blockData=[],e.bg=new Zu((function(){return v()(e)}),(function(){return e.parentStore})),e.audioManager=new Vu((function(){return v()(e)}),(function(){return e.parentStore})),e.depthManager=new Xu,e.loadHandler=new cl(t.loadHandler,(function(){return v()(e)}),(function(){return e.parentStore})),e.updateHandler=new dl((function(){return v()(e)}),(function(){return e.parentStore})),e.guideHandler=new gl((function(){return v()(e)}),(function(){return e.parentStore})),e.operateHandler=new _l((function(){return v()(e)}),(function(){return e.parentStore})),e.tickCount=0,e.roundRectPoints=new Map,e}return w()(m,[{key:"addEntity",value:function(e){(this.store.isTest||this.store.isInStaging)&&this.entityList.some((function(t){return t===e}))?this.store.sendError("addEntity重复调用拦截"):this.entityList.push(e)}},{key:"removeEntity",value:function(e){this.entityList=this.entityList.filter((function(t){return t!==e}))}},{key:"destroyEntityList",value:function(){this.entityList.forEach((function(e){var t;null===(t=e.destroy)||void 0===t||t.call(e)})),this.entityList=[]}},{key:"collectInvalidMatterBody",value:function(){var e;if(!this.store.leoConfig.disableCheckInvalidMatterBody&&(null===(e=this.scene)||void 0===e?void 0:e.tweens)){var t=this.scene.tweens.getAllTweens().reduce((function(e,t){var r,n=null===(r=t.targets)||void 0===r?void 0:r.find((function(e){return e instanceof Phaser.Physics.Matter.Sprite||e instanceof Phaser.Physics.Matter.Image}));return n&&!n.body&&e.push(n.toJSON()),e}),[]);t.length&&(0,ou.sendNormalLog)({invalidEntityList:JSON.stringify(t.slice(0,10))},null)}}},{key:"collectInvalidDisplayList",value:function(){var e,t;if(!this.store.leoConfig.disableCollectInvalidDisplayList&&(null===(e=this.scene)||void 0===e||null===(t=e.sys)||void 0===t?void 0:t.displayList)){var r=this.scene.sys.displayList.list.reduce((function(e,t){return t.frame&&!t.frame.source&&e.push(t.toJSON()),e}),[]);r.length&&(0,ou.sendNormalLog)({invalidDisplayList:JSON.stringify(r.slice(0,10))},null)}}},{key:"traceGameError",value:function(){var e=this;zl().report.subscribe((function(t){if(t.stack.some((function(e){var t;return null===(t=e.url)||void 0===t?void 0:t.includes("phaser")}))||"TypeError"===t.name||e.store.isInStaging){var r,n;if((null===(r=e.store.game)||void 0===r||null===(n=r.renderer)||void 0===n?void 0:n.type)===Phaser.WEBGL&&e.store.game.renderer.contextLost)return;e.systemStepTask()}}))}},{key:"systemStepTask",value:function(){var e=this;if(!this.systemStepTimer){var t=this.store.leoConfig.systemStepTaskTime,r=void 0===t?2e3:t;this.systemStepFlag=!1,this.systemStepTimer=setTimeout((function(){if(!e.systemStepFlag&&document.visibilityState===po.hw){if(e.systemStepTimer=void 0,e.restartGameLoop())return;e.store.duoduoSpriteLogger({stage:"game_step_error"}),e.sendError("game step error"),e.store.setInitError(!0)}}),r)}}},{key:"restartGameLoop",value:function(){try{var e=this.store.leoConfig.gameLoopRestartCountMax,t=void 0===e?3:e;if(this.restartGameLoopCount<=t)return this.restartGameLoopCount++,this.collectInvalidDisplayList(),this.collectInvalidMatterBody(),this.stopSceneWithClear(),this.store.game.loop.sleep(),this.scene.scene.restart(),this.store.game.loop.wake(!0),this.store.duoduoSpriteLogger({stage:"game_loop_restart"}),!0}catch(e){this.store.sendError(e)}return!1}},{key:"preload",value:function(){var e;_()(C()(m.prototype),"preload",this).call(this),null===(e=this.bg)||void 0===e||e.preload(),this.loadHandler.preloadGameSceneAsset()}},{key:"create",value:function(){try{_()(C()(m.prototype),"create",this).call(this),this.initCollideCategory(),this.initSceneAfterLoading()}catch(e){return this.restartSceneByError(e)}this.isMainScene&&this.isInWorkStep&&this.showWorkGuide(),this.isMainScene&&this.initCoinRain(),this.showSceneChangeAnimation(),this.loadHandler.reloadFailAsset(),this.isMainScene&&this.parentStore.addLoadingProgress((0,Ie.rs)(30,45),"scene_create"),this.isMainScene&&this.parentStore.handleGameCreated()}},{key:"update",value:function(){this.entityList.forEach((function(e){var t;null===(t=e.update)||void 0===t||t.call(e)}));var e=this.tickCount%2==0;this._updateByHalfFrame(e),this.pets.forEach((function(t){var r=t.instance;r&&(r.isNotShowRoamBubble?e&&r.randomMotion():r.randomMotion(),e&&r.resetVelocity())})),this.correctRoamPetsStatus(),e&&(this.currentTime=this.scene.game.getTime(),this.isMainSceneActive()&&this.commonEffect&&(this.isShowAutoMatch?this.commonEffect.showAutoMatchEffect():this.commonEffect.hideAutoMatchEffect())),this.systemStepFlag=!0}},{key:"_updateByHalfFrame",value:function(e){this.matter.world&&(this.matter.world.autoUpdate=!this.isFallFinish&&!this.store.checkLowDeviceDowngrade("main_scene_ani")||e)}},{key:"showSceneChangeAnimation",value:function(){var e=this;if(this.parentStore.startCloudAni){var t=setTimeout((function(){e.parentStore.startCloudAni=!1,e.parentStore.transitionCloudStore.startAni(),clearTimeout(t)}),100);this.showForbidGrabToast()}this.isChanging&&this.rootStore.duoduoSpriteLogger({stage:"scene_change",longFields:{timeCost:this.rootStore.performanceNow()-this.rootStore.logStartTime}}),this.endChangingScene(),this.endRestart(),this.resetRestartCount()}},{key:"correctRoamPetsStatus",value:function(){250===this.tickCount&&(this.pets.forEach((function(e){var t;return null===(t=e.instance)||void 0===t?void 0:t.correctRoamStatus()})),this.tickCount=0),this.tickCount++}},{key:"initEffectAndAttach",value:function(){var e=this;this.isMainScene&&this.isInGuideStep&&this.initGuide(),this.commonEffect=new $u((function(){return e}),(function(){return e.parentStore})),this.attach=new rl((function(){return e}),(function(){return e.parentStore})),this.seatEffect=new tl((function(){return e}),(function(){return e.parentStore}))}},{key:"initSceneAfterLoading",value:function(){var e;null===(e=this.bg)||void 0===e||e.create(),this.initEffectAndAttach(),this.createSeats(),this.createPets(),this.seats.forEach((function(e){return e.instance.update(e)}))}},{key:"createNpcBear",value:function(){var e=this;this.npcBear&&!this.npcBear.isDestroyed||!this.isMainScene||(this.npcBear=new Nl({},(function(){return e}),(function(){return e.store})))}},{key:"findPetById",value:function(e){var t=this.pets.find((function(t){return t.unique_id===e}));return t||(t=this.pets.find((function(t){return t.fairy_id===e}))),t}},{key:"resetOperationTime",value:function(){var e;this.scene.game&&(this.operationTime=this.scene.game.getTime(),null===(e=this.commonEffect)||void 0===e||e.hideAutoMatchEffect())}},{key:"showForbidGrabToast",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.guideHandler.showForbidGrabToast(e)}},{key:"showGuideToast",value:function(){return this.guideHandler.showGuideToast()}},{key:"showWorkGuideToast",value:function(){return this.guideHandler.showWorkGuideToast()}},{key:"showCommonGuideToast",value:function(){return this.guideHandler.showCommonGuideToast()}},{key:"showForbidAddToast",value:function(){var e;return!!this.forbidAddPet&&((0,qt.Z)("空间不足，请先合成已有精灵~"),null===(e=this.bg)||void 0===e||e.showRecycleTip(),!0)}},{key:"initCollideCategory",value:function(){var e=this;this.matter.world.resetCollisionIDs(),this.worldCategory=1,this.dropCategory=this.matter.world.nextCategory(),this.roamCategory=this.matter.world.nextCategory(),this.edgeCategory=this.matter.world.nextCategory(),this.produceCategories=new Array(7).fill(0).map((function(){return e.matter.world.nextCategory()})),this.trashBottomCategory=this.matter.world.nextCategory(),this.spareCategory=this.matter.world.nextCategory(),this.coinCategory=this.matter.world.nextCategory()}},{key:"createSeats",value:function(){var e=this;this.seats.forEach((function(t){t.instance=new Fu(t,(function(){return e}),(function(){return e.parentStore})),!e.isShowSeats&&t.instance.hideAll()})),this.store.surpriseStore.createSurpriseBoxList()}},{key:"setCurUnLockSeatIdx",value:function(e){this.curUnLockSeatIdx=e}},{key:"createPet",value:function(e){var t,r=this;e&&(null===(t=e.instance)||void 0===t||t.destroy(),e.instance=new Lu(e,(function(){return r}),(function(){return r.parentStore})))}},{key:"createPets",value:function(){var e=this;this.pets.length||this.allShowLogMark&&this.firstShowLogMark||(this.firstShowLogMark=!0,this.allShowLogMark=!0,this.parentStore.loadTimeLogger("show_all_pets","showAllPets")),this.pets.forEach((function(t,r){e.isInComposeStep?setTimeout((function(){e.createPet(t)}),1e3*r):e.createPet(t)}))}},{key:"initGuide",value:function(){var e=this;this.guide=new Hu((function(){return e}))}},{key:"showComposeGuide",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.guideHandler.showComposeGuide(e)}},{key:"showWorkGuide",value:function(){this.showAllSeats(),this.guideHandler.showWorkGuide()}},{key:"showAllSeats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.seats.forEach((function(t){var r;return null===(r=t.instance)||void 0===r?void 0:r.update(t,e)}))}},{key:"hideAllSeats",value:function(){this.seats.forEach((function(e){var t;return null===(t=e.instance)||void 0===t?void 0:t.hideAll()}))}},{key:"addPet",value:(f=a()(i().mark((function e(t){var r,n,o,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(a.length>1&&void 0!==a[1])||a[1],e.next=3,this.updateHandler.addPet(t,n);case 3:return o=e.sent,this.sortDisplayList(),null===(r=this.commonEffect)||void 0===r||r.updateAutoMatchSet(),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"deletePetById",value:function(e){var t;this.updateHandler.deletePetById(e),null===(t=this.commonEffect)||void 0===t||t.updateAutoMatchSet()}},{key:"buyPet",value:function(e){e&&(e.hasGravity=!0,this.addPet(e,!1))}},{key:"addGrabPetInScene",value:(p=a()(i().mark((function e(t){var r,n,o,a,s,c,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(u.length>1&&void 0!==u[1])||u[1],t){e.next=3;break}return e.abrupt("return");case 3:if(n=t.fairy_id,o=t.fairy_rank,a=t.fairy_work_order,!(s=this.seats[a])){e.next=10;break}return e.next=8,this.addPet(t,r);case 8:e.sent&&(s.state=Cr.t7.USED,s.petId=n,s.petLevel=o,s.petUniqueId=t.unique_id,null===(c=s.instance)||void 0===c||c.update(s));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"toWork",value:function(e,t){var r;e&&"number"==typeof t&&(this.updateHandler.toWork(e,t),this.sortDisplayList(),null===(r=this.commonEffect)||void 0===r||r.updateAutoMatchSet())}},{key:"toRoam",value:function(e){var t;e&&(this.updateHandler.toRoam(e),this.sortDisplayList(),null===(t=this.commonEffect)||void 0===t||t.updateAutoMatchSet())}},{key:"unlockSeat",value:function(e,t){this.updateHandler.unlockSeat(e,t)}},{key:"compose",value:function(e,t,r,n){e&&t&&r&&(e.destroy(),t.destroy(),this.pets=this.pets.filter((function(r){return r.unique_id!==e.uniqueId&&r.unique_id!==t.uniqueId})),this.unlockSeat(r,n),this.addPet(r,!0))}},{key:"destroyGuide",value:function(){this.guideHandler.destroyGuide()}},{key:"removeAllDisplay",value:function(){this.removePhaserInstance()}},{key:"removePhaserInstance",value:function(){var e,t,r,n,i,o;this.scene.load.removeAllListeners(),null===(e=this.guideHandler)||void 0===e||null===(t=e.guide)||void 0===t||t.destroy(),null===(r=this.commonEffect)||void 0===r||r.destroy(),null===(n=this.attach)||void 0===n||n.destroy(),null===(i=this.seatEffect)||void 0===i||i.destroy(),this.pets.forEach((function(e){(null==e?void 0:e.instance)&&(e.instance.destroyLandingPlace(),e.instance.destroyAnims(),e.instance.destroy(),delete e.instance)})),this.seats.forEach((function(e){e.instance&&(e.instance.destroy(),delete e.instance)})),this.bg.destroy(),null===(o=this.coinRain)||void 0===o||o.destroy(),this.commonEffect=void 0,this.attach=void 0,this.destroyEntityList()}},{key:"destroy",value:function(){var e,t;this.destroyEntityList(),this.removeAllDisplay(!0,!0),this.loadHandler.removeCacheAsset(!0),null===(e=this.scene.textures)||void 0===e||e.destroy(),null===(t=this.scene.cache)||void 0===t||t.destroy(),this.removeAllScene()}},{key:"sortDisplayList",value:function(){this.scene.sys.displayList.sort("sortId"),this.scene.sys.displayList.sort("_depth")}},{key:"setAllRequestData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.updateHandler.setAllRequestData(e,t,r)}},{key:"doComposeOperation",value:(l=a()(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.operateHandler.doComposeOperation(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"doReCycleOperation",value:(u=a()(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.operateHandler.doReCycleOperation(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"doWorkOperation",value:(c=a()(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.operateHandler.doWorkOperation(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"doRecallOperation",value:(s=a()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.operateHandler.doRecallOperation(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"recallGrabPets",value:(o=a()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.operateHandler.recallGrabPets(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"grabFriendWorkSeat",value:(n=a()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.operateHandler.grabFriendWorkSeat(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"checkFairyBeforeGrab",value:(r=a()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.operateHandler.checkFairyBeforeGrab(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"checkFairyBeforeRecallInMainScene",value:(t=a()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.operateHandler.checkFairyBeforeRecallInMainScene(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"queryMainAfterOperation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={handObj:void 0,isDirectUpdate:e,needSetCoinNum:t};this.parentStore.queryUserProcess(r)}},{key:"workPetSpeedUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:14,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.updateHandler.workPetSpeedUp(e,t,r)}},{key:"initCoinRain",value:function(){this.coinRain=new Ku({scene:this.scene})}},{key:"startCoinRain",value:function(){this.coinRain.start()}},{key:"petLoadFinishLog",value:function(e){if(!this.firstShowLogMark||!this.allShowLogMark){var t=this.parentStore.initLoadPetMap;t.has(e)&&t.set(e,!0);var r=Array.from(t.values());if(!r.length)return this.firstShowLogMark=!0,void(this.allShowLogMark=!0);var n=r.some((function(e){return e})),i=r.every((function(e){return e}));n&&!this.firstShowLogMark&&(this.firstShowLogMark=!0,this.parentStore.loadTimeLogger("show_first_pet","showFirstPet")),i&&!this.allShowLogMark&&(this.allShowLogMark=!0,this.parentStore.loadTimeLogger("show_all_pets","showAllPets"))}}},{key:"parentStore",get:function(){return this.getRoot()}},{key:"isInGuideStep",get:function(){var e;return null===(e=this.guideHandler)||void 0===e?void 0:e.isInGuideStep}},{key:"isInComposeStep",get:function(){var e;return null===(e=this.guideHandler)||void 0===e?void 0:e.isInComposeStep}},{key:"isInWorkStep",get:function(){var e;return null===(e=this.guideHandler)||void 0===e?void 0:e.isInWorkStep}},{key:"isHasIdleSeat",get:function(){return this.seats.some((function(e){return e.state===Cr.t7.IDLE}))}},{key:"spriteCanMove",get:function(){return!this.isInComposeStep}},{key:"isShowSeats",get:function(){return this.parentStore.topRank>=this.guideHandler.enableWorkLevel}},{key:"isShowTrashBox",get:function(){return this.parentStore.topRank>=5}},{key:"forbidAddPet",get:function(){var e,t=this.pets.filter((function(e){return e.fairy_status===Cr.jq.ROAM||e.fairy_status===Cr.jq.WORK||e.fairy_status===Cr.jq.WORK_IN_FRIEND&&!e.owner_uid})).length+this._eggAddOne,r=((null===(e=this.parentStore.nativeFairyList)||void 0===e?void 0:e.length)||0)+this._eggAddOne;return t>=10||r>=10}},{key:"isPetInOperation",get:function(){return this.pets.some((function(e){var t;return null===(t=e.instance)||void 0===t?void 0:t.isInOperation}))}},{key:"roamPets",get:function(){return this.pets.filter((function(e){return e.fairy_status===Cr.jq.ROAM}))}},{key:"workPets",get:function(){return this.pets.filter((function(e){return e.fairy_status===Cr.jq.WORK}))}},{key:"hasSameLevelPet",get:function(){return 2===this.autoMatchPets.length}},{key:"autoMatchPets",get:function(){var e,t,r=this.pets.filter((function(e){return e.fairy_status===Cr.jq.ROAM}));r.sort((function(e,t){return t.fairy_rank-e.fairy_rank}));for(var n=0,i=r.length-1;n<i;n++){var o=r[n],a=r[n+1];if(o.fairy_rank===a.fairy_rank){e=o,t=a;break}}return e&&t?[e,t]:[]}},{key:"isFallFinish",get:function(){return this.pets.length<1||this.pets.every((function(e){var t;return!e.instance||(null===(t=e.instance)||void 0===t?void 0:t.isFallFinish)}))}},{key:"isShowAutoMatch",get:function(){var e=this.isInComposeStep||this.isInWorkStep;return(this.currentTime-this.operationTime)/1e3>he.KE&&!e}},{key:"idleSeatIndex",get:function(){var e=[];return this.parentStore.nativeFairyList.forEach((function(t){t.fairy_status===Cr.jq.WORK&&e.push(t.fairy_work_order)})),this.parentStore.nativeFriendFairyList.forEach((function(t){return e.push(t.fairy_work_order)})),this.seats.forEach((function(t,r){t.state===Cr.t7.LOCK&&e.push(r)})),[0,1,2,3,4].find((function(t){return!e.includes(t)}))}},{key:"hasValidIdleSeatIdx",get:function(){var e=this.parentStore,t=e.totalOpenWorkArea,r=e.topRank;return"number"==typeof this.idleSeatIndex&&this.idleSeatIndex<t&&r>=4}},{key:"grabFriendPetIds",get:function(){return this.parentStore.myNativeFairyList.filter((function(e){return e.fairy_status===Cr.jq.WORK_IN_FRIEND})).map((function(e){return e.fairy_id}))}},{key:"avatars",get:function(){return this.loadHandler.avatars}},{key:"forbidPlay",get:function(){if(this.parentStore.useOldWithdrawProcess)return this.parentStore.canWithdraw;var e=this.parentStore.myNativeFairyList.find((function(e){return e.fairy_rank===Cr.s7}));return this.parentStore.myTopRank>=Cr.s7||!!e}},{key:"forbidPlayInFriend",get:function(){var e=this.pets.find((function(e){return e.fairy_rank===Cr.s7})),t=this.parentStore.friendNativeFairyList.find((function(e){return e.fairy_rank===Cr.s7}));return this.parentStore.friendTopRank>=Cr.s7||e||t}}]),m}(uu),Fl=P()(Bl.prototype,"isRecycleSuccess",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gl=P()(Bl.prototype,"_eggAddOne",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),jl=P()(Bl.prototype,"isShowSeatBgWithScale",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ul=P()(Bl.prototype,"isPrepareToRecycle",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wl=P()(Bl.prototype,"isShowEatFoodAni",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zl=P()(Bl.prototype,"isShowEnergyBallFly",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hl=P()(Bl.prototype,"isShowCoinRateUp",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(Bl.prototype,"collectInvalidMatterBody",[Ll],Object.getOwnPropertyDescriptor(Bl.prototype,"collectInvalidMatterBody"),Bl.prototype),P()(Bl.prototype,"collectInvalidDisplayList",[Ml],Object.getOwnPropertyDescriptor(Bl.prototype,"collectInvalidDisplayList"),Bl.prototype),P()(Bl.prototype,"isInGuideStep",[R.computed],Object.getOwnPropertyDescriptor(Bl.prototype,"isInGuideStep"),Bl.prototype),P()(Bl.prototype,"isInComposeStep",[R.computed],Object.getOwnPropertyDescriptor(Bl.prototype,"isInComposeStep"),Bl.prototype),P()(Bl.prototype,"isInWorkStep",[R.computed],Object.getOwnPropertyDescriptor(Bl.prototype,"isInWorkStep"),Bl.prototype),P()(Bl.prototype,"isHasIdleSeat",[R.computed],Object.getOwnPropertyDescriptor(Bl.prototype,"isHasIdleSeat"),Bl.prototype),P()(Bl.prototype,"isShowSeats",[R.computed],Object.getOwnPropertyDescriptor(Bl.prototype,"isShowSeats"),Bl.prototype),P()(Bl.prototype,"isShowTrashBox",[R.computed],Object.getOwnPropertyDescriptor(Bl.prototype,"isShowTrashBox"),Bl.prototype),P()(Bl.prototype,"forbidAddPet",[R.computed],Object.getOwnPropertyDescriptor(Bl.prototype,"forbidAddPet"),Bl.prototype),P()(Bl.prototype,"hasSameLevelPet",[R.computed],Object.getOwnPropertyDescriptor(Bl.prototype,"hasSameLevelPet"),Bl.prototype),P()(Bl.prototype,"autoMatchPets",[R.computed],Object.getOwnPropertyDescriptor(Bl.prototype,"autoMatchPets"),Bl.prototype),P()(Bl.prototype,"grabFriendPetIds",[R.computed],Object.getOwnPropertyDescriptor(Bl.prototype,"grabFriendPetIds"),Bl.prototype),P()(Bl.prototype,"forbidPlay",[R.computed],Object.getOwnPropertyDescriptor(Bl.prototype,"forbidPlay"),Bl.prototype),P()(Bl.prototype,"forbidPlayInFriend",[R.computed],Object.getOwnPropertyDescriptor(Bl.prototype,"forbidPlayInFriend"),Bl.prototype),P()(Bl.prototype,"setAllRequestData",[R.action],Object.getOwnPropertyDescriptor(Bl.prototype,"setAllRequestData"),Bl.prototype),Bl),Xl=r(93175),Ql=r(40327);function Jl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var $l,ep,tp,rp,np,ip,op,ap,sp,cp,up,lp,pp,fp,dp,hp,mp,gp,yp,vp,bp,_p,kp,wp,Sp,Op,Ip,Ap,Tp,Cp,Ep,Pp,Rp,xp,Dp,Np,Lp,Mp,Bp,Fp,Gp,jp,Up,Wp,Zp,Hp,Kp,zp,qp,Yp,Vp,Xp,Qp,Jp,$p,ef,tf,rf,nf,of,af,sf,cf,uf,lf,pf,ff,df,hf,mf,gf,yf,vf,bf,_f,kf,wf,Sf,Of,If,Af,Tf,Cf,Ef,Pf,Rf,xf,Df,Nf,Lf=(Yl=function(e){O()(r,e);var t=Jl(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return g()(this,r),e=t.call(this,n,i),Object.assign(v()(e),n),e.getRoot=i,e}return w()(r,[{key:"commonAbTest",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{0;var n=r||{salt:e,bucketCount:100,defaultModel:"B",models:{A:{whiteList:this.leoForAb[e+"_a"]||this.leoForAb.ab_test_whiteList_a||[],blackList:[],buckets:t},B:{whiteList:[],blackList:[],buckets:100}}},i=(0,Xl.Z)(n,this.userId);return"A"===i}catch(e){return!1}}},{key:"parentStore",get:function(){return this.getRoot()}},{key:"queries",get:function(){return this.parentStore.queries}},{key:"userId",get:function(){return this.parentStore.userId}},{key:"leoForAb",get:function(){return this.parentStore.leoForAb}},{key:"useNpcFriendListTf",get:function(){return this.commonAbTest("cp13140",this.leoForAb.useNpcFriendListTfBucketsA)}},{key:"gameSceneSleep",get:function(){return this.commonAbTest("cp23140",this.leoForAb.gameSceneSleepBucketsA)}},{key:"defaultCloseMusic",get:function(){return this.commonAbTest("cp23199",this.leoForAb.defaultCloseMusicBucketsA)}},{key:"newCoinGiftIcon",get:function(){return this.commonAbTest("cp33971",this.leoForAb.newCoinGiftIconBucketsA)}},{key:"showShellPickGuide",get:function(){return this.commonAbTest("cp31147",this.leoForAb.showShellPickGuideBucketsA)}},{key:"showMsgShellBox",get:function(){return this.commonAbTest("cp31144",this.leoForAb.showMsgShellBoxBucketsA)}},{key:"showMsgRank",get:function(){return this.commonAbTest("cp31143",this.leoForAb.showMsgRankBucketsA)}},{key:"showMsgLetterRowTwoUI",get:function(){return this.commonAbTest("cp31141",this.leoForAb.showMsgLetterRowTwoUIBucketsA)}},{key:"useCommonLandingPage",get:function(){return this.commonAbTest("cp27791",this.leoForAb.commonLandingPageBucketsA)}},{key:"useCommonTaskListUI",get:function(){return this.commonAbTest("cp26260",this.leoForAb.useCommonTaskListUIBucketsA)}},{key:"stayForTimeLimitBuy",get:function(){return this.commonAbTest("cp31709",this.leoForAb.stayForTimeLimitBuyBucketsA)}},{key:"canRollEgg",get:function(){return this.commonAbTest("cp28845",this.leoForAb.canRollEggBucketsA)}},{key:"npcBearAdEntry",get:function(){return this.commonAbTest("cp29743",this.leoForAb.npcBearAdEntryBucketsA)}},{key:"showSurprise",get:function(){return this.commonAbTest("cp27257",this.leoForAb.showSurpriseBucketsA)}},{key:"showCptBrandWidget",get:function(){return this.commonAbTest(this.leoForAb.showCptBrandWidgetSalt,this.leoForAb.showCptBrandWidgetBucketsA)}},{key:"useExchange",get:function(){return this.commonAbTest("cp25273",this.leoForAb.useExchangeBucketsA)}},{key:"newUserShowNewSportSkin",get:function(){return this.commonAbTest("cp25005",this.leoForAb.newUserShowNewSportSkinBucketsA)}},{key:"showTaskSchedule",get:function(){return this.commonAbTest("cp25688",this.leoForAb.showTaskScheduleBucketsA)}},{key:"showBarrageWhenGuide",get:function(){return this.commonAbTest("cp25648",this.leoForAb.showBarrageWhenGuideBucketsA)}},{key:"newUserAddAdditionalCalendar",get:function(){return this.commonAbTest("cp25988",this.leoForAb.newUserAddAdditionalCalendarBucketsA)}},{key:"homeIconGuide",get:function(){var e,t=this.rootStore.$$commonData.platform.platform,r=null===(e=this.leoForAb.homeIconAndroidAbConfig)||void 0===e?void 0:e.split("-"),n=f()(r,2),i=n[0],o=n[1],a=(0,Ql.Z)(100,"cp18156",this.rootStore.userId),s=t===L.PLATFORM.PddIOS||t===L.PLATFORM.PddAndroid&&a>=i&&a<o;return this.commonAbTest("cp24674",this.leoForAb.homeIconGuideBucketsA)&&s}},{key:"openH5Navbar",get:function(){return this.commonAbTest("cp12345",this.leoForAb.openH5NavBarBucketsA)}},{key:"useApngIcon",get:function(){return this.commonAbTest("cp23456",this.leoForAb.useApngIconBucketsA)}},{key:"useIdleCallback",get:function(){return this.commonAbTest("cp45678",this.leoForAb.useIdleCallbackBucketsA)}},{key:"useDcNewUserCoupon",get:function(){return this.commonAbTest(this.leoForAb.useDcNewUserCouponSalt,this.leoForAb.useDcNewUserCouponBucketsA)}}]),r}(Ar.Z),P()(Yl.prototype,"useNpcFriendListTf",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"useNpcFriendListTf"),Yl.prototype),P()(Yl.prototype,"gameSceneSleep",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"gameSceneSleep"),Yl.prototype),P()(Yl.prototype,"defaultCloseMusic",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"defaultCloseMusic"),Yl.prototype),P()(Yl.prototype,"newCoinGiftIcon",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"newCoinGiftIcon"),Yl.prototype),P()(Yl.prototype,"showShellPickGuide",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"showShellPickGuide"),Yl.prototype),P()(Yl.prototype,"showMsgShellBox",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"showMsgShellBox"),Yl.prototype),P()(Yl.prototype,"showMsgRank",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"showMsgRank"),Yl.prototype),P()(Yl.prototype,"showMsgLetterRowTwoUI",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"showMsgLetterRowTwoUI"),Yl.prototype),P()(Yl.prototype,"useCommonLandingPage",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"useCommonLandingPage"),Yl.prototype),P()(Yl.prototype,"useCommonTaskListUI",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"useCommonTaskListUI"),Yl.prototype),P()(Yl.prototype,"stayForTimeLimitBuy",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"stayForTimeLimitBuy"),Yl.prototype),P()(Yl.prototype,"canRollEgg",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"canRollEgg"),Yl.prototype),P()(Yl.prototype,"npcBearAdEntry",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"npcBearAdEntry"),Yl.prototype),P()(Yl.prototype,"showSurprise",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"showSurprise"),Yl.prototype),P()(Yl.prototype,"showCptBrandWidget",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"showCptBrandWidget"),Yl.prototype),P()(Yl.prototype,"useExchange",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"useExchange"),Yl.prototype),P()(Yl.prototype,"newUserShowNewSportSkin",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"newUserShowNewSportSkin"),Yl.prototype),P()(Yl.prototype,"showTaskSchedule",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"showTaskSchedule"),Yl.prototype),P()(Yl.prototype,"showBarrageWhenGuide",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"showBarrageWhenGuide"),Yl.prototype),P()(Yl.prototype,"newUserAddAdditionalCalendar",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"newUserAddAdditionalCalendar"),Yl.prototype),P()(Yl.prototype,"homeIconGuide",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"homeIconGuide"),Yl.prototype),P()(Yl.prototype,"openH5Navbar",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"openH5Navbar"),Yl.prototype),P()(Yl.prototype,"useApngIcon",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"useApngIcon"),Yl.prototype),P()(Yl.prototype,"useIdleCallback",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"useIdleCallback"),Yl.prototype),P()(Yl.prototype,"useDcNewUserCoupon",[R.computed],Object.getOwnPropertyDescriptor(Yl.prototype,"useDcNewUserCoupon"),Yl.prototype),Yl);function Mf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mf(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ff(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Gf=($l=(0,fe.P)(500),ep=(0,fe.P)(1e3),tp=(0,J.Y)((function(e,t){t.heartbeatErrorFlag++})),rp=(0,J.Y)((function(e,t){return(0,qt.Z)(he.BB[+(null==e?void 0:e.errorCode)]||or),t.requestMain("buy_default_fairy_failed",!0)}),null,!0,!0),np=(0,fe.P)(2e3),ip=(0,J.Y)((function(){(0,qt.Z)(or)})),op=(0,J.Y)((function(){(0,de.info)(he.Fe)})),ap=(0,J.Y)((function(){(0,de.info)(he.Fe)})),sp=(0,J.Y)((function(){(0,qt.Z)(he.Fe)})),cp=function(e){O()(N,e);var t,r,n,o,s,c,u,p,d,m,y,b,k,S,I,A,T,E,P,x=Ff(N);function N(e){var t,r;g()(this,N),(r=x.call(this,e)).bottomBarRef=D().createRef(),r.fairyBookIconRef=D().createRef(),r.logStartTime=0,r.shouldRequestMain=!1,r.assetsOfPreload=[],r.needCheckDelay=void 0,r.startCloudAni=void 0,r.game=void 0,r.needQueryWalletOnce=!1,r.canTryGiveNewUserCoupon=void 0,h()(r,"isLoading",up,v()(r)),h()(r,"isPageShow",lp,v()(r)),h()(r,"loadingProgress",pp,v()(r)),h()(r,"unlockAssistList",fp,v()(r)),h()(r,"speedUpAniActive",dp,v()(r)),h()(r,"server_time",hp,v()(r)),h()(r,"userType",mp,v()(r)),h()(r,"fairyList",gp,v()(r)),h()(r,"isMuted",yp,v()(r)),h()(r,"top_rank_fairy",vp,v()(r)),h()(r,"userInfo",bp,v()(r)),h()(r,"roiTestUserType",_p,v()(r)),h()(r,"roiGameEndTime",kp,v()(r)),h()(r,"speedUpTotalTime",wp,v()(r)),h()(r,"canWithdraw",Sp,v()(r)),h()(r,"myTotalOpenWorkArea",Op,v()(r)),h()(r,"friendTotalOpenWorkArea",Ip,v()(r)),h()(r,"isShowBuyTipsForPacket",Ap,v()(r)),h()(r,"luckyPacketCoinNum",Tp,v()(r)),h()(r,"initialUserCoinNum",Cp,v()(r)),h()(r,"workAreaInfo",Ep,v()(r)),h()(r,"totalCoinRate",Pp,v()(r)),h()(r,"totalCoinRateWithAni",Rp,v()(r)),h()(r,"isInitError",xp,v()(r)),h()(r,"isRequestEnd",Dp,v()(r)),h()(r,"isGameCreated",Np,v()(r)),h()(r,"composeResult",Lp,v()(r)),r.heartbeatErrorFlag=0,r.updateTime=void 0,r.initLoadPetMap=new Map,h()(r,"offlineDialogInfo",Mp,v()(r)),h()(r,"recycleCoinNum",Bp,v()(r)),h()(r,"myNativeFairyList",Fp,v()(r)),h()(r,"friendNativeFairyList",Gp,v()(r)),h()(r,"myNativeFriendFairyList",jp,v()(r)),h()(r,"friendNativeOccupyFairyList",Up,v()(r)),h()(r,"dailyPresentCoinNum",Wp,v()(r)),h()(r,"presentRemainTime",Zp,v()(r)),h()(r,"canReceivePresent",Hp,v()(r)),h()(r,"isPassGame",Kp,v()(r)),h()(r,"isShowFriendAndPresent",zp,v()(r)),h()(r,"isShowNewSkinWindow",qp,v()(r)),h()(r,"isShowUnlockSkinWindow",Yp,v()(r)),h()(r,"friendUid",Vp,v()(r)),h()(r,"isShowSeriesSign7",Xp,v()(r)),h()(r,"nextWindowSkinType",Qp,v()(r)),h()(r,"showExchangeGift",Jp,v()(r)),h()(r,"gray",$p,v()(r)),h()(r,"duoDuoPayInfo",ef,v()(r)),h()(r,"ownedSkinTypeList",tf,v()(r)),h()(r,"orderToUnlockOlympicSkin",rf,v()(r)),h()(r,"triggerRedPacketInfo",nf,v()(r)),h()(r,"showTriggerRedPacket",of,v()(r)),h()(r,"showGiftBox",af,v()(r)),h()(r,"isGamePetDraging",sf,v()(r)),h()(r,"buySpriteCurrent",cf,v()(r)),h()(r,"canvasRefCurrent",uf,v()(r)),h()(r,"scoreSpeedCoinRef",lf,v()(r)),h()(r,"riskUserBlockCpcMission",pf,v()(r)),h()(r,"showBrandCpt",ff,v()(r)),h()(r,"retainUser",df,v()(r)),h()(r,"giveRetainCoin",hf,v()(r)),h()(r,"healthSystemGrey",mf,v()(r)),h()(r,"energyScore",gf,v()(r)),h()(r,"nutritionScore",yf,v()(r)),h()(r,"healthCoefficient",vf,v()(r)),h()(r,"nutritionExchangeEnergyCoefficient",bf,v()(r)),h()(r,"maxEnergy",_f,v()(r)),h()(r,"normalEnergy",kf,v()(r)),h()(r,"showOrderTask",wf,v()(r)),h()(r,"myAvatar",Sf,v()(r)),h()(r,"friendAvatar",Of,v()(r)),h()(r,"myTopRank",If,v()(r)),h()(r,"friendTopRank",Af,v()(r)),h()(r,"user_name",Tf,v()(r)),h()(r,"myTotalWorkArea",Cf,v()(r)),h()(r,"friendTotalWorkArea",Ef,v()(r)),r.lastSkinType=0,h()(r,"mySkinType",Pf,v()(r)),h()(r,"friendSkinType",Rf,v()(r)),h()(r,"handleChangeMuted",xf,v()(r)),r.handleChangeMutedStatus=function(e){return function(){!r.isMuted===e&&r.handleChangeMuted()}},r.titanHandler=void 0,r.lottieManager=void 0,r.dragonBonesManager=void 0,r.cache=void 0,r.abTestStore=void 0,r.gameStore=void 0,r.gameToolStore=void 0,r.shareStore=void 0,r.taskListStore=void 0,r.unlockSpriteDialogStore=void 0,r.redPacketDialogStore=void 0,r.speedUpInviteDialogStore=void 0,r.unlockResultDialogStore=void 0,r.inviteUnlockDialogStore=void 0,r.taskCouponDialogStore=void 0,r.persuadeDialogStore=void 0,r.spriteBookDialogStore=void 0,r.spriteShopDialogStore=void 0,r.offlineDialogStore=void 0,r.resetDialogStore=void 0,r.howToSearchDialogStore=void 0,r.withdrawDialogStore=void 0,r.ruleDialogStore=void 0,r.recycleDialogStore=void 0,r.friendRankDialogStore=void 0,r.coinParticleStore=void 0,r.skinPresentDialogStore=void 0,r.buySkinDialogStore=void 0,r.driveAwayDialogStore=void 0,r.driveAwayReturnDialogStore=void 0,r.recallReturnDialogStore=void 0,r.recallAllDialogStore=void 0,r.transitionCloudStore=void 0,r.driveAwayAnimationStore=void 0,r.topBarStore=void 0,r.dailySign7DialogStore=void 0,r.sceneChangeStarStore=void 0,r.score2CoinDialogStore=void 0,r.guideDialogStore=void 0,r.inviteShareStore=void 0,r.remindShareStore=void 0,r.mealsCheckInDialogStore=void 0,r.giftBoxDialogStore=void 0,r.searchChangeDialogStore=void 0,r.chargeBackCouponsDialogStore=void 0,r.shopTaskDialogStore=void 0,r.taskAwardDialogStore=void 0,r.composeTaskTipDialogStore=void 0,r.composeTaskResultDialogStore=void 0,r.timeLimitBuyDialogStore=void 0,r.speedUpCardDialogStore=void 0,r.friendDeleteDialogStore=void 0,r.friendshipStore=void 0,r.freshUserInviteDialogStore=void 0,r.coinAwardDialogStore=void 0,r.friendRecallDialogStore=void 0,r.luckyPacketUnlockDialogStore=void 0,r.luckyPacketResultDialogStore=void 0,r.packetHelperStore=void 0,r.packetHelperCashDialogStore=void 0,r.materialStore=void 0,r.coinFlyStore=void 0,r.sendCashFailGiveCoinDialogStore=void 0,r.npcStore=void 0,r.surpriseStore=void 0,r.surpriseCouponDialogStore=void 0,r.surpriseCoupon2DialogStore=void 0,r.surpriseCouponRecordDialogStore=void 0,r.coinRewardBoxDialogStore=void 0,r.rollEggStore=void 0,r.rollEggMachineDialogStore=void 0,r.rollEggMachineAnimationStore=void 0,r.rollEggOpenStore=void 0,r.rollEggPrizeDialogStore=void 0,r.rollEggAwardResultDialogStore=void 0,r.rollEggGoodsOrderDialogStore=void 0,r.rollEggMissionAwardDialogStore=void 0,r.coinAwardBannerDialogStore=void 0,r.addressStore=void 0,r.myPackStore=void 0,r.messengerStore=void 0,r.commonOrderPopMsgDialogStore=void 0,r.msgBoxAwardDialogStore=void 0,r.rareBookDialogStore=void 0,r.msgRankDialogStore=void 0,r.rankingStore=void 0,r.foodAwardDialogStore=void 0,r.energyTaskListStore=void 0,r.energyGuideDialogStore=void 0,r.recycleGuideDialogStore=void 0,r.dcNewUserCouponDialogStore=void 0,r.airGiftBoxDialogStore=void 0,r.newUserCouponDialogStore=void 0,r.taskProgressDetailDialogStore=void 0,h()(r,"duoduoSpriteLogger",Df,v()(r)),r.npcMallRiskPromise=null,h()(r,"isNpcMallRisk",Nf,v()(r)),r.initBigPipeStore();var n={cache:new za.Z({},(function(){return v()(r)})),abTestStore:new Lf(e.abTestStore,(function(){return v()(r)})),gameStore:new Vl(e.gameStore,(function(){return v()(r)})),gameToolStore:new Ho.Z({},(function(){return v()(r)})),shareStore:new uo({},(function(){return v()(r)})),taskListStore:new De.Z({getRoot:function(){return v()(r)},moduleId:r.leoForMission.module_id,degrade:r.leoConfig.degrade_task_list}),unlockSpriteDialogStore:new Q.Z({},(function(){return v()(r)})),redPacketDialogStore:new oi({},(function(){return v()(r)})),speedUpInviteDialogStore:new pe({},(function(){return v()(r)})),unlockResultDialogStore:new Q.Z({},(function(){return v()(r)})),inviteUnlockDialogStore:new Q.Z({},(function(){return v()(r)})),taskCouponDialogStore:new Q.Z({},(function(){return v()(r)})),persuadeDialogStore:new Q.Z({},(function(){return v()(r)})),spriteBookDialogStore:new Oe({},(function(){return v()(r)})),spriteShopDialogStore:new Ee({},(function(){return v()(r)})),offlineDialogStore:new Js({},(function(){return v()(r)})),resetDialogStore:new Q.Z({},(function(){return v()(r)})),howToSearchDialogStore:new Q.Z({},(function(){return v()(r)})),withdrawDialogStore:new Q.Z({},(function(){return v()(r)})),ruleDialogStore:new Q.Z({},(function(){return v()(r)})),recycleDialogStore:new xe({},(function(){return v()(r)})),friendRankDialogStore:new Ut(e.friendRankDialogStore,(function(){return v()(r)})),coinParticleStore:new zt({},(function(){return v()(r)})),skinPresentDialogStore:new Q.Z({},(function(){return v()(r)})),buySkinDialogStore:new ur({},(function(){return v()(r)})),driveAwayDialogStore:new Vt({},(function(){return v()(r)})),driveAwayReturnDialogStore:new Ii({},(function(){return v()(r)})),recallReturnDialogStore:new ki({},(function(){return v()(r)})),recallAllDialogStore:new er({},(function(){return v()(r)})),transitionCloudStore:new Ir({},(function(){return v()(r)})),driveAwayAnimationStore:new Q.Z({},(function(){return v()(r)})),topBarStore:new Pr({},(function(){return v()(r)})),dailySign7DialogStore:new $n({},(function(){return v()(r)})),sceneChangeStarStore:new Q.Z({},(function(){return v()(r)})),score2CoinDialogStore:new ir({},(function(){return v()(r)})),guideDialogStore:new di({},(function(){return v()(r)})),inviteShareStore:new iu(e.inviteShareStore,(function(){return v()(r)})),remindShareStore:new Qc(e.remindShareStore,(function(){return v()(r)})),mealsCheckInDialogStore:new yi({},(function(){return v()(r)})),giftBoxDialogStore:new Po({},(function(){return v()(r)})),searchChangeDialogStore:new Q.Z({},(function(){return v()(r)})),chargeBackCouponsDialogStore:new xi({},(function(){return v()(r)})),shopTaskDialogStore:new Wo(e.shopTaskDialogStore,(function(){return v()(r)})),taskAwardDialogStore:new Q.Z({},(function(){return v()(r)})),composeTaskTipDialogStore:new Q.Z({},(function(){return v()(r)})),composeTaskResultDialogStore:new Q.Z({},(function(){return v()(r)})),timeLimitBuyDialogStore:new Q.Z({},(function(){return v()(r)})),surpriseStore:new Ha({},(function(){return v()(r)})),materialStore:new ea({},(function(){return v()(r)})),rollEggStore:new Qa({},(function(){return v()(r)})),myPackStore:new ns({},(function(){return v()(r)})),messengerStore:new Yn({},(function(){return v()(r)})),rankingStore:new Ts({},(function(){return v()(r)})),dcNewUserCouponDialogStore:new zs({},(function(){return v()(r)}))};return r.titanHandler=new Vc((function(){return v()(r)})),r.lottieManager=new us({},(function(){return v()(r)})),r.dragonBonesManager=new bs({},(function(){return v()(r)})),r.energyTaskListStore=new Ms({moduleId:r.leoForMission.energy_module_id},(function(){return v()(r)})),Object.assign(n,{speedUpCardDialogStore:new Q.Z({},(function(){return v()(r)})),friendshipStore:new Zo.Z({},(function(){return v()(r)})),friendDeleteDialogStore:new Q.Z({},(function(){return v()(r)})),freshUserInviteDialogStore:new Q.Z({},(function(){return v()(r)})),luckyPacketUnlockDialogStore:new Q.Z({},(function(){return v()(r)})),luckyPacketResultDialogStore:new Q.Z({},(function(){return v()(r)})),packetHelperStore:new Vo({},(function(){return v()(r)})),packetHelperCashDialogStore:new Q.Z({},(function(){return v()(r)})),coinAwardDialogStore:new Q.Z({},(function(){return v()(r)})),friendRecallDialogStore:new Q.Z({},(function(){return v()(r)})),coinFlyStore:new Q.Z({},(function(){return v()(r)})),sendCashFailGiveCoinDialogStore:new Q.Z({},(function(){return v()(r)})),surpriseCouponDialogStore:new Q.Z({},(function(){return v()(r)})),surpriseCoupon2DialogStore:new Q.Z({},(function(){return v()(r)})),surpriseCouponRecordDialogStore:new Q.Z({},(function(){return v()(r)})),coinRewardBoxDialogStore:new Q.Z({},(function(){return v()(r)})),npcStore:new ms({},(function(){return v()(r)})),commonOrderPopMsgDialogStore:new Q.Z({},(function(){return v()(r)})),msgBoxAwardDialogStore:new Q.Z({},(function(){return v()(r)})),rareBookDialogStore:new Q.Z({},(function(){return v()(r)})),msgRankDialogStore:new Q.Z({},(function(){return v()(r)})),newUserCouponDialogStore:new Q.Z({},(function(){return v()(r)}))}),r.recycleGuideDialogStore=new Q.Z({},(function(){return v()(r)})),r.energyGuideDialogStore=new Q.Z({},(function(){return v()(r)})),r.foodAwardDialogStore=new Q.Z({},(function(){return v()(r)})),r.rollEggMachineDialogStore=new Q.Z({},(function(){return v()(r)})),r.rollEggMachineAnimationStore=new Q.Z({},(function(){return v()(r)})),r.rollEggOpenStore=new Q.Z({},(function(){return v()(r)})),r.rollEggPrizeDialogStore=new Q.Z({},(function(){return v()(r)})),r.rollEggAwardResultDialogStore=new Q.Z({},(function(){return v()(r)})),r.rollEggGoodsOrderDialogStore=new Q.Z({},(function(){return v()(r)})),r.rollEggMissionAwardDialogStore=new Q.Z({},(function(){return v()(r)})),r.coinAwardBannerDialogStore=new Q.Z({},(function(){return v()(r)})),r.addressStore=new Q.Z({},(function(){return v()(r)})),r.airGiftBoxDialogStore=new Q.Z({},(function(){return v()(r)})),r.taskProgressDetailDialogStore=new Q.Z({},(function(){return v()(r)})),(0,R.set)(v()(r),n),(null===(t=e.initLoadPetMap)||void 0===t?void 0:t.length)&&(r.initLoadPetMap=new Map(e.initLoadPetMap)),window.__STORE__=v()(r),r}return w()(N,[{key:"checkDialogsClosed",value:function(){var e=this;return!Object.values(this).some((function(t){var r;return(t instanceof Q.Z||t===e.friendRankDialogStore)&&t.isShow||t===e.taskListStore&&(null===(r=t.$taskListStore)||void 0===r?void 0:r.isShow)}))}},{key:"checkUpgradeDialogClose",value:function(){return!(this.composeResult||this.unlockSpriteDialogStore.isShow||this.redPacketDialogStore.isShow||this.composeTaskResultDialogStore.isShow||this.timeLimitBuyDialogStore.isShow)}},{key:"setLuckyPacketCoinNum",value:function(e){this.luckyPacketCoinNum=e}},{key:"createUniqueId",value:function(e){var t=e.fairy_id,r=e.fairyId,n=e.owner_uid,i=e.ownerUid,o=n||i||this.userId;return"".concat(o,"-").concat(t||r)}},{key:"getGameBg",value:function(){var e=this.levelMap.BG_BLOCKS;return(void 0===e?{}:e).BG}},{key:"addUniqueIdForFairyList",value:function(e){var t=this;return e.map((function(e){return e.unique_id=t.createUniqueId(e),e}))}},{key:"setRecycleResult",value:function(e){if(e){var t=e.coin_number,r=e.total_coin_number;this.recycleCoinNum=t,this.userInfo.coinNum=r,this.gameStore.isRecycleSuccess=!0}}},{key:"setStartCloudAni",value:function(e){this.startCloudAni=e}},{key:"isCanBuy",value:function(e){return!!e&&!!this.userInfo.coinNum&&(0,Pe.ED)(this.userInfo.coinNum,e,!0)}},{key:"totalOpenWorkArea",get:function(){return this.isMainScene?this.myTotalOpenWorkArea:this.friendTotalOpenWorkArea}},{key:"nativeFairyList",get:function(){return this.isMainScene?this.myNativeFairyList:this.friendNativeFairyList}},{key:"nativeFriendFairyList",get:function(){return this.isMainScene?this.myNativeFriendFairyList:this.friendNativeOccupyFairyList}},{key:"previewSkin",get:function(){var e,t=+(this.queries.preview_skin||0);return!(null===(e=this.ownedSkinTypeList)||void 0===e?void 0:e.includes(t))&&t||0}},{key:"canMainOrderGainSkin",get:function(){var e,t=null===(e=this.ownedSkinTypeList)||void 0===e?void 0:e.includes(4);return this.orderToUnlockOlympicSkin&&!t&&!this.previewSkin}},{key:"isHasFairyWorking",get:function(){return this.nativeFairyList&&this.nativeFairyList.some((function(e){return e.fairy_status===Cr.jq.WORK}))}},{key:"isMainQueryError",get:function(){return this.userType===he.$A.QUERY_ERROR}},{key:"isUserNeedInitial",get:function(){return[he.$A.WITHDRAW_USER,he.$A.RESET_USER,he.$A.NEWER_USER].includes(this.userType)}},{key:"isMainScene",get:function(){return this.gameStore.isMainScene}},{key:"isShowBottomFriends",get:function(){return this.myTopRank>=4||this.isPassGame}},{key:"isShowFriends",get:function(){return this.isShowBottomFriends&&this.isShowFriendAndPresent}},{key:"avatar",get:function(){return this.isMainScene?this.myAvatar:this.friendAvatar}},{key:"topRank",get:function(){return this.isMainScene?this.myTopRank:this.friendTopRank}},{key:"totalWorkAreaNum",get:function(){return this.isMainScene?this.myTotalWorkArea:this.friendTotalWorkArea}},{key:"levelMap",get:function(){return Di.U3["LEVEL_".concat(this.skinType)]||{}}},{key:"skinType",get:function(){return this.previewSkin||(this.isMainScene?this.mySkinType:this.friendSkinType)}},{key:"skinExportType",get:function(){var e={1:1,2:2,3:3,4:3};return e[this.mySkinType]||e[4]}},{key:"isSkin3",get:function(){return 3===this.skinType}},{key:"skinUseCommon",get:function(){return this.skinType>=4}},{key:"dialogSkinUseCommon",get:function(){return!this.isSkin3}},{key:"dialogSkinType",get:function(){return this.dialogSkinUseCommon?4:this.skinType}},{key:"isInSpeedState",get:function(){return this.speedUpTotalTime>0}},{key:"isUpgradedTo2",get:function(){var e,t,r;return!this.isPassGame&&(null===(e=this.composeResult)||void 0===e?void 0:e.user_upgrade)&&2===(null===(t=this.composeResult)||void 0===t||null===(r=t.fairy_info)||void 0===r?void 0:r.fairy_rank)}},{key:"isNewUser",get:function(){return this.userType===he.$A.NEWER_USER}},{key:"inRaceGameDuration",get:function(){var e=this.leoConfig,t=e.race_game_start_time,r=e.race_game_end_time;return this.server_time>=t&&this.server_time<=r}},{key:"useOldWithdrawProcess",get:function(){return 0===this.gray}},{key:"isShowMusicIconTop",get:function(){return this.$$commonData.platform.isNativePlatform&&this.appContext.nh>0}},{key:"newRecycleWithTips",get:function(){return this.healthSystemGrey&&!this.leoConfig.closeNewRecycleWithTips}}]),w()(N,[{key:"initBigPipeStore",value:function(){}},{key:"connect",value:function(e){this.game=e,this.gameStore.addAllScene()}},{key:"performanceNow",value:function(){var e,t;return null===(e=window.performance)||void 0===e||null===(t=e.now)||void 0===t?void 0:t.call(e)}},{key:"callNativeWebScene",value:(P=a()(i().mark((function e(){var t,r,n,o,a,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fr.ZP.isNativePlatform){e.next=11;break}return e.next=3,Promise.all([(0,fo.vL)(),(0,fo.ws)()]);case 3:return t=e.sent,r=f()(t,2),n=r[0],o=r[1],a=(n||{}).webViewCacheHittedCount,c=(s=o||{}).webview_count,u=s.is_cold_start,this.queries.test&&(console.log("webSceneGetTiming",n),console.log("webViewCacheHittedCount",a),console.log("unoContext",o),console.log("webview_count",c),console.log("is_cold_start",u)),e.abrupt("return",{webViewCacheHittedCount:a,webview_count:c,is_cold_start:u});case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,this)}))),function(){return P.apply(this,arguments)})},{key:"queryUserProcess",value:(E=a()(i().mark((function e(){var t,r,n,o,a,s,c,u,l,p,f,d,h,m,g,y,v,b,_,k,w,S,O,I,A,T,C,E,P,x,D,N,L,M,B,F,G,j,U,W,Z,H,K,z,q=this,Y=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Y.length>0&&void 0!==Y[0]?Y[0]:{handObj:null,isDirectUpdate:!0,needSetCoinNum:!1,forceInit:!1,isSceneChanging:!1,needUpdateSkinWindow:!1,queryWallet:!1},r=t.handObj,n=t.isDirectUpdate,o=t.needSetCoinNum,a=t.forceInit,s=t.isSceneChanging,c=t.needUpdateSkinWindow,this.isDirectUpdate=n,u=!(!t.queryWallet&&!this.needQueryWalletOnce),this.needQueryWalletOnce&&(this.needQueryWalletOnce=!1),l=this.totalCoinRate,e.next=8,this.isomorphicRequest(ee.a8,{query_wallet:u});case 8:if(p=e.sent,f=p.fairy_list,d=p.skin_type,h=p.user_type,m=p.red_packet_num,g=p.speed_up_total_time,y=p.coin_num,v=p.can_withdraw,b=p.avatar,_=p.top_rank,k=p.user_name,w=p.can_work_num,S=p.total_work_num,O=p.top_rank_fairy,I=p.server_time,A=p.total_coin_rate,T=p.present_remain_time,C=p.can_present,E=p.pass_round,P=p.show_friend_list_and_present,x=p.show_new_skin_window,D=p.show_unlock_skin_window,N=p.friends_fairy_list,p.show_series_sign,L=p.show_series_sign7_days,p.show_unlock_skin_sign,M=p.window_skin_type,B=p.unlock_red_packet_num,F=p.gray,G=p.gray_test,j=p.owned_skin_type_list,U=p.pay_binding_info,W=p.trigger_red_packet_info,Z=p.roi_test_enum,H=p.roi_game_end_time,K=p.user_health_system_info_vo,z=void 0===K?{}:K,Array.isArray(f)&&Object.values(he.$A).includes(h)&&S&&I){e.next=12;break}throw new Error("queryUserProcessService error: ".concat(JSON.stringify(p)));case 12:return(0,R.runInAction)((function(){var e,t,i,p;q.server_time=I,q.mySkinType=d||3,q.needSkinUpgradeTips||(q.needSkinUpgradeTips=q.leoConfig.needSkinUpgrade&&(d<3||!d)&&(null==j?void 0:j.includes(3))),q.isUserNeedInitial||(q.userType=h,q.isShowNewSkinWindow=x,q.isShowUnlockSkinWindow=D),q.roiTestUserType=Z,q.roiGameEndTime=H,c&&(q.isShowNewSkinWindow=x,q.isShowUnlockSkinWindow=D),!(0,Ie.Xy)(q.top_rank_fairy,O)&&(q.top_rank_fairy=O||{}),Object.assign(q.userInfo,{savingMoney:m,coinNum:q.userInfo.coinNum,canWithdrawMoney:B}),q.myAvatar=b,q.myTopRank=_,q.user_name=k,o&&(q.userInfo.coinNum=y),q.speedUpTotalTime=g,q.canWithdraw=v,q.myTotalWorkArea=S,q.myTotalOpenWorkArea=w<2?2:w;var R,K=q.addUniqueIdForFairyList(f),Y=q.addUniqueIdForFairyList(N||[]);!(0,Ie.Xy)(q.myNativeFairyList,K)&&(q.myNativeFairyList=K),!(0,Ie.Xy)(q.myNativeFriendFairyList,Y)&&(q.myNativeFriendFairyList=Y),(null==r?void 0:r.type)===he.sf.BUY&&(null===(R=q.gameStore.audioManager)||void 0===R||R.playCallFairy()),q.totalCoinRate=A,q.presentRemainTime=T,q.canReceivePresent=C,q.isPassGame=E,q.isShowFriendAndPresent=P,q.isShowSeriesSign7=L,M&&(q.nextWindowSkinType=M),q.gray=F||0,u&&(q.duoDuoPayInfo=U),!(0,Ie.Xy)(q.ownedSkinTypeList,j)&&(q.ownedSkinTypeList=j||[]),q.orderToUnlockOlympicSkin=null==G?void 0:G.order_to_unlock_olympic_skin,q.riskUserBlockCpcMission=null==G?void 0:G.risk_user_block_cpc_mission,q.retainUser="true"===(null==G||null===(e=G.ab_test_result_map)||void 0===e?void 0:e.retain_user),q.giveRetainCoin="true"===(null==G||null===(t=G.ab_test_result_map)||void 0===t?void 0:t.give_retain_coin),q.showOrderTask="1"===(null==G||null===(i=G.ab_test_result_map)||void 0===i?void 0:i.mission_table_order_task),q.healthSystemGrey=z.health_system_grey,q.energyScore=z.energy_score,q.nutritionScore=z.nutrition_score,q.healthCoefficient=z.health_coefficient,q.nutritionExchangeEnergyCoefficient=z.nutrition_exchange_energy_coefficient,q.maxEnergy=z.energy_score_upper_bound,q.normalEnergy=z.init_energy_score_num,q.showBrandCpt=null==G?void 0:G.show_brand_station_homepage_entrance,(!(null===(p=q.titanHandler)||void 0===p?void 0:p.luckyPacketInfoUpdateTime)||I>q.titanHandler.luckyPacketInfoUpdateTime)&&q.setTriggerRedPacketInfo(W),s&&q.gameStore.setMainScene(),q.updateTime=Date.now();var V=q.isMainScene&&A!==l;q.gameStore.setAllRequestData(r,n||V,a)})),e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"setTriggerRedPacketInfo",value:function(e){if(e){var t=Bf(Bf({},this.triggerRedPacketInfo),e);!(0,Ie.Xy)(this.triggerRedPacketInfo,t)&&(this.triggerRedPacketInfo=t),this.showTriggerRedPacket=this.triggerRedPacketInfo.show_trigger_red_packet,this.showGiftBox=this.triggerRedPacketInfo.show_gift_box}}},{key:"queryFriendProcess",value:(T=a()(i().mark((function e(){var t,r,n,o,a,s,c,u,l,p,f,d,h,m,g=this,y=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y.length>0&&void 0!==y[0]?y[0]:{isDirectUpdate:!0,uid:null,forceInit:!1,isSceneChanging:!1},r=t.isDirectUpdate,n=t.forceInit,o=t.isSceneChanging,(a=t.uid)||this.isMainScene||(a=this.friendUid),a){e.next=6;break}return e.abrupt("return",!1);case 6:return s={friend_uid:a},e.next=9,this.isomorphicRequest(ee.Ry,s);case 9:if((c=e.sent)&&Array.isArray(c.fairy_list)&&Array.isArray(c.occupy_fairy_list)&&c.total_work_num){e.next=12;break}throw new Error("queryFriendProcessService error: ".concat(JSON.stringify(c)));case 12:return u=c.fairy_list,l=c.occupy_fairy_list,p=c.avatar,f=c.top_rank,d=c.can_work_num,h=c.total_work_num,m=c.skin_type,(0,R.runInAction)((function(){g.friendSkinType=m>=3?m:3,g.friendAvatar=p,g.friendTopRank=f,g.friendNativeFairyList=g.addUniqueIdForFairyList(u),g.friendNativeOccupyFairyList=g.addUniqueIdForFairyList(l),g.friendTotalWorkArea=h,g.friendTotalOpenWorkArea=d<2?2:d,o&&g.gameStore.setFriendScene(),g.gameStore.setAllRequestData(null,r,n)})),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this)}))),function(){return T.apply(this,arguments)})},{key:"queryFairyEarnCoins",value:(A=a()(i().mark((function e(t){var r,n,o,a,s,c=this,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]&&u[1],e.next=3,this.isomorphicRequest(ee.Hj,{if_offline_earnings:r,coin_num:this.userInfo.coinNum,source_track_type:t||"unknown"});case 3:return n=e.sent,o=n.total_coin_num,a=n.off_line_earnings,s=n.offline_window,(0,R.runInAction)((function(){c.userInfo.coinNum=o,s&&(c.offlineDialogInfo={isShow:s,offlineCoinNum:a})})),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"commitQueryFairyEarnCoins",value:function(){return this.queryFairyEarnCoins.apply(this,arguments)}},{key:"callMainQuery",value:function(){return this.queryFairyEarnCoins("task")}},{key:"getInitialStore",value:(I=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()(C()(N.prototype),"getInitialStore",this).call(this);case 2:return e.next=4,this.request(!0);case 4:this.setPreloadAssetsByLevels(),(0,ho.default)(this.assetsOfPreload,!0);case 6:case"end":return e.stop()}}),e,this)}))),function(){return I.apply(this,arguments)})},{key:"heartbeat",value:(S=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.gameStore.forbidPlay){e.next=2;break}return e.abrupt("return");case 2:if(!(this.heartbeatErrorFlag>=3)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.isomorphicRequest(ee.E7);case 7:if(e.sent.success){e.next=11;break}throw new Error("heartbeatTimeService error");case 11:this.heartbeatErrorFlag=0;case 12:case"end":return e.stop()}}),e,this)}))),function(){return S.apply(this,arguments)})},{key:"addLoadingProgress",value:(k=a()(i().mark((function e(t,r,n){var o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<=0)){e.next=2;break}return e.abrupt("return");case 2:if(this.preLoadingProgress=this.loadingProgress,!n){e.next=9;break}return this.loadingProgress=100,e.next=7,(0,Ie._v)(500);case 7:return(0,R.runInAction)((function(){o.isLoading=!1})),e.abrupt("return");case 9:this.loadingProgress<100&&(this.loadingProgress=Math.min(99,this.loadingProgress+t));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return k.apply(this,arguments)})},{key:"handleUserType",value:function(){this.initialUserCoinNum>0&&this.userType===he.$A.WITHDRAW_USER&&(0,de.info)("新一轮合成，送你".concat((0,Pe.n)(this.initialUserCoinNum).valueStr,"金币"))}},{key:"closeTitan",value:function(){this.titanHandler.close()}},{key:"restartTitan",value:function(){this.titanHandler.restartTitan()}},{key:"buyDefaultFairy",value:(b=a()(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ee.Xy)({fairy_rank:this.top_rank_fairy.fairy_rank,coin_number:this.top_rank_fairy.init_price,purchase_channel:1});case 2:if(t=e.sent,this.gameStore.resetOperationTime(),null==(r=t.fairy)?void 0:r.fairy_id){e.next=7;break}throw new Error("buyDefaultFairy error: ".concat(JSON.stringify(t)));case 7:if(this.gameStore.buyPet(r),this.showGiftBox){e.next=11;break}return e.next=11,(0,Ie._v)(200);case 11:return e.abrupt("return",this.queryUserProcess({handObj:{type:he.sf.BUY,fairyList:[r.fairy_id]},isDirectUpdate:!1,needSetCoinNum:!0}));case 12:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"setComposeResult",value:function(e){this.composeResult=e,(null==e?void 0:e.window_skin_type)&&(this.nextWindowSkinType=e.window_skin_type),(null==e?void 0:e.red_packet_amount)&&(this.needQueryWalletOnce=!0),this.redPacketDialogStore.setAwardNum(null==e?void 0:e.red_packet_amount)}},{key:"request",value:(y=a()(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([this.requestMain("first_screen",!1,!0,!0,t),this.friendRankDialogStore.checkInviteFriendTaskInfo()]);case 3:if(n=e.sent,f()(n,1)[0]){e.next=8;break}return e.abrupt("return");case 8:r=!0,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this.sendError(e.t0);case 14:return e.prev=14,this.setInitError(!r),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[0,11,14,17]])}))),function(e){return y.apply(this,arguments)})},{key:"handleInitRequest",value:(m=a()(i().mark((function e(){var t,r,n,o,a,s=this,c=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(c.length>0&&void 0!==c[0])||c[0],r=c.length>1&&void 0!==c[1]&&c[1],e.prev=2,this.shareStore.handleAssist(),!this.isUserNeedInitial){e.next=13;break}return e.next=7,this.newUser();case 7:return o=e.sent,e.next=10,this.requestMain("new_user",t,r);case 10:if(a=e.sent,o&&a){e.next=13;break}return e.abrupt("return");case 13:this.addLoadingProgress((0,Ie.rs)(10,15),"request_finish"),this.gameStore.forbidPlay||this.initCoinNumUpdateTimer(),n=!0,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),this.sendError(e.t0);case 21:return e.prev=21,this.setInitError(!n),(0,R.runInAction)((function(){s.isRequestEnd=!0})),e.finish(21);case 25:case"end":return e.stop()}}),e,this,[[2,18,21,25]])}))),function(){return m.apply(this,arguments)})},{key:"requestMainUpdate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.requestMain(e,t,r,n)}},{key:"requestMain",value:(d=a()(i().mark((function e(t){var r,n,o,s,c,u,l,p=this,f=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]&&f[1],n=f.length>2&&void 0!==f[2]&&f[2],o=!(f.length>3&&void 0!==f[3])||f[3],s=f.length>4&&void 0!==f[4]&&f[4],(c={handObj:void 0,isDirectUpdate:r,needSetCoinNum:!1,forceInit:["first_screen","new_user"].includes(t)}).forceInit&&(c.queryWallet=!0),u=function(){var e=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=o,!e.t0){e.next=4;break}return e.next=4,p.friendRankDialogStore.bigPipeQueryFriendList(s,n);case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=9,Promise.all([this.queryUserProcess(c),this.queryFairyEarnCoins(t||"requestMain",n),u()]);case 9:return l=e.sent,e.abrupt("return",l.every((function(e){return e})));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"cmtNewUserLogger",value:function(){this.duoduoSpriteLogger({stage:"new_user"})}},{key:"newUser",value:(p=a()(i().mark((function e(){var t,r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isomorphicRequest(ee.jc,{user_source:(0,Ko.wV)(this.queries,this.leoConfig.channelTypeUserSourceMap)});case 2:return t=e.sent,r=t.coin_num,n=t.played_days,this.cmtNewUserLogger(),[he.$A.RESET_USER,he.$A.WITHDRAW_USER].includes(this.userType)&&r&&(this.initialUserCoinNum=r),this.played_days=n,e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"setInitError",value:function(e){this.isInitError=e}},{key:"handleGameCreated",value:function(){this.isGameCreated=!0}},{key:"setGamePetDragState",value:function(e){this.isGamePetDraging=e}},{key:"initCoinNumUpdateTimer",value:function(){var e=this;if(this.server_time){var t,r,n=3e5,o=(new Date).getTime(),s=!1;this.coinNumUpdateTimer=new lo.jo({now:this.server_time,endTime:this.server_time+n,render:(r=a()(i().mark((function t(){var r,n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.gameStore.forbidPlay){t.next=3;break}return null===(r=e.coinNumUpdateTimer)||void 0===r||r.remove(),t.abrupt("return");case 3:if(n=o,a=o=(new Date).getTime(),s=s||a-n>5e3,!e.needCheckDelay||!s){t.next=13;break}if(e.needCheckDelay=s=!1,document.visibilityState!==po.hw||!e.isMainScene){t.next=11;break}return t.next=11,e.requestMainUpdate("correct_timer");case 11:return e.resetCoinNumUpdateTimer(),t.abrupt("return");case 13:(0,R.runInAction)((function(){e.isMainScene&&(e.userInfo.coinNum=(0,Pe.Oq)(e.userInfo.coinNum,e.totalCoinRate))}));case 14:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)}),onFinish:(t=a()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(document.visibilityState!==po.hw){t.next=6;break}if(!((new Date).getTime()-e.updateTime>n&&e.isMainScene)){t.next=4;break}return t.next=4,e.requestMainUpdate("sync_server");case 4:return e.resetCoinNumUpdateTimer(),t.abrupt("return");case 6:e.coinNumUpdateTimer=null;case 7:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})})}}},{key:"resetCoinNumUpdateTimer",value:function(){var e;null===(e=this.coinNumUpdateTimer)||void 0===e||e.remove(),this.initCoinNumUpdateTimer()}},{key:"restartCoinNumUpdateTimer",value:(u=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.coinNumUpdateTimer){e.next=4;break}return e.next=3,this.requestMainUpdate("restart_timer");case 3:this.initCoinNumUpdateTimer();case 4:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"initHeartbeatTimer",value:function(){var e=this,t=this.leoConfig.heartbeat_interval||5e3;this.heartbeatTimer=new lo.jo({delayTime:t,now:this.server_time,endTime:this.server_time+6e5,render:function(){e.heartbeat()},onFinish:function(){document.visibilityState===po.hw&&e.resetHeartbeatTimer()}})}},{key:"resetHeartbeatTimer",value:function(){var e;null===(e=this.heartbeatTimer)||void 0===e||e.remove(),this.initHeartbeatTimer()}},{key:"stopHeartbeatTimer",value:function(){var e;null===(e=this.heartbeatTimer)||void 0===e||e.remove()}},{key:"withdrawCash",value:(c=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isomorphicRequest(ee.$f);case 2:if((t=e.sent).award_type===he.ol){e.next=6;break}throw new Error("withdrawMoney error: ".concat(JSON.stringify(t)));case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"requestWithdraw",value:(s=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.withdrawCash();case 2:(0,fo.sl)();case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"receiveDailyPresent",value:(o=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canReceivePresent){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.isomorphicRequest(ee.sW,{daily_present_list_id:this.listId});case 4:if(t=e.sent){e.next=7;break}throw new Error("daily present error: ".concat(JSON.stringify(t)));case 7:return(0,R.runInAction)((function(){var e=t.total_coin_num,n=t.present_earnings;r.userInfo.coinNum=e,r.dailyPresentCoinNum=n})),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"preloadRocketAssets",value:function(){var e=this;return this.rocketAssetsLoad||(this.rocketAssetsLoad=a()(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,t.next=3,(0,R.when)((function(){return!e.isLoading}));case 3:return t.next=5,(0,ho.default)([{url:Ze.ZP.ROCKET_ANI,webp:r},{url:Ze.ZP.ROCKET_LIGHT,webp:r}]);case 5:e.rocketAssetsLoad=!0;case 6:case"end":return t.stop()}}),t)})))())}},{key:"fetchLatestComponents",value:function(){if(Fr.ZP.isNativePlatform&&(0,L.compareVersion)(Fr.ZP.version,"4.58.0"))return(0,fo.xX)("JSVita","fetchLatestComponents",{list:["com.xunmeng.pinduoduo.remote.promote","com.xunmeng.pinduoduo.remote.promote.resource_sprite","com.xunmeng.pinduoduo.remote.promote.resource_lazy"]})}},{key:"getOrderTask",value:function(){return this.taskListStore.mainOrderTaskStore}},{key:"dealOrderSkinTaskReturn",value:function(){var e=this.getOrderTask();if(!(null==e?void 0:e.toSkinOrderPage))return!1;return this.queryUserProcess({handObj:null,isDirectUpdate:!1,needSetCoinNum:!1,needUpdateSkinWindow:!0}),this.gameStore.resetOperationTime(),e.toSkinOrderPage=!1,!0}},{key:"getWithdrawPageUrl",value:function(){var e=this.isTest?he.wo.HTJ["".concat(this.skinExportType)]:he.wo.PRO["".concat(this.skinExportType)];return e||(e=(0,M.appendQuery)({skinType:this.skinExportType},Ro.fd)),e=this.gameStore.forbidPlay?(0,M.appendQuery)({mission_forbid:1},e):(0,M.appendQuery)({mission_id:this.leoForMission.cash_order_mission_id,module_id:this.leoForMission.module_id},e)}},{key:"queryExchangeAwardList",value:(n=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.useOldWithdrawProcess){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,ee.p8)();case 4:if(t=e.sent){e.next=7;break}throw new Error("query exchange award list error");case 7:(0,R.runInAction)((function(){r.showExchangeGift=t.show_award_list}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setPreloadAssetsByLevels",value:function(){var e,t=this;if(this.levelMap){var r={webp:!1},n=[];(null===(e=this.myNativeFairyList)||void 0===e?void 0:e.length)&&(n=n.concat(this.myNativeFairyList.map((function(e){return e.fairy_rank})).map((function(e){var n,i;return Bf({url:(null===(n=t.levelMap.SPRITE_MAP)||void 0===n||null===(i=n[e])||void 0===i?void 0:i.FRAME_PIC)||""},r)})))),n.forEach((function(e){return t.initLoadPetMap.set(e.url,!1)})),n.length&&this.initLoadPetMap.set(this.levelMap.WORK_PET.FRAME_PIC,!1),n=n.concat([Bf({url:this.levelMap.STEAL_PET.FRAME_PIC||""},r),Bf({url:this.levelMap.WORK_PET.FRAME_PIC||""},r)]),this.assetsOfPreload=this.assetsOfPreload.concat(n)}}},{key:"getDiffTimeFromNavigationStart",value:function(){var e=-1;return this.timing.navigationStart&&(e=Date.now()-this.timing.navigationStart),e}},{key:"loadTimeLogger",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;n<0&&(n=this.getDiffTimeFromNavigationStart());var i={};return i[t]=n,n>=0&&this.duoduoSpriteLogger({stage:e,longFields:i}),this.queries.test&&r&&console.log(e,n),n}},{key:"toMainOrderPageWithSkinPreview",value:function(){var e,t;return null===(e=this.taskListStore.mainOrderTaskStore)||void 0===e||e.setTaskProcess(!0),null===(t=this.taskListStore.mainOrderTaskStore)||void 0===t?void 0:t.handleTaskStartAction()}},{key:"getVisitInfo",value:function(){if(this.server_time&&this.userId){var e,t="fairy_lvt_".concat(this.userId),r=(0,dt.$o)(t);(0,dt.m8)(t,this.server_time);var n=Y()(this.server_time);return r&&Y()(+r).add(1,"day").isSame(n,"day")?e=1:(r&&Y()(+r).isBefore(n.add(-1,"day"))||this.userType===he.$A.NEWER_USER)&&(e=2),e?{visitStatus:e}:void 0}}},{key:"openTriggerRedPacket",value:(r=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ee.op)({page_sn:+ye.mC,page_el_sn:ye.j3.RESULT_DIALOG_BTN});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"toUseLuckyPacketCoupon",value:function(e){var t,r=e||{},n=r.mission_url,i=r.id,o=r.module_id;if(n&&i&&o){var a=(0,M.appendQuery)((t={},l()(t,ft.u6.TASK_FORWARD,1),l()(t,ft.u6.MISSION_ID,i),l()(t,ft.u6.MODULE_ID,o),t),n);(0,me.eH)(a)}}},{key:"setBuyTipsForPacketShow",value:function(e){this.isShowBuyTipsForPacket=e}},{key:"queryIsNpcMallRisk",value:(t=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 3:return null===this.npcMallRiskPromise&&(this.npcMallRiskPromise=(0,ee.$m)().then((function(e){return!e.is_display}))),e.next=6,this.npcMallRiskPromise;case 6:return this.isNpcMallRisk=e.sent,e.abrupt("return",this.npcMallRiskPromise);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"handleCommonLandingPage",value:function(e,t,r){var n;return this.abTestStore.useCommonLandingPage?(null===(n=this.leoForMission.missionCommonUrlMap)||void 0===n?void 0:n[null==r?void 0:r.id])||t:e}},{key:"checkLowDeviceDowngrade",value:function(e){var t,r=this.leoConfig.lowDeviceDowngradeFlags,n=void 0===r?[]:r;return!!(null===(t=this.appContext)||void 0===t?void 0:t.isLowDevice)&&(n.includes(e)||n.includes("all"))}},{key:"leoForMission",get:function(){return Bf({luckyPacketMissionUrlMap:{"browsingMission-2":"/promotion/keywords_game.html?type=52&id=172540&_pdd_fs=1&_pdd_tc=ffffff&_pdd_sbs=1","browsingMission-3":"/promotion/keywords_game.html?type=52&id=172541&_pdd_fs=1&_pdd_tc=ffffff&_pdd_sbs=1","orderInTargetPageMission-2":"/promotion/keywords_game.html?type=52&id=172542&_pdd_fs=1&_pdd_tc=ffffff&_pdd_sbs=1","orderInTargetPageMission-3":"/promotion/keywords_game.html?type=52&id=172543&_pdd_fs=1&_pdd_tc=ffffff&_pdd_sbs=1"},invite_mission_id:13092,timeLimitBuyTaskConfig:{triggerRank:6,missionId:13046,url:"/promotion/keywords_game.html?type=52&id=6095&_pdd_fs=1&_pdd_tc=ffffff&_pdd_sbs=1"},remind_mission_id:this.isTest?13135:14705,mainOrderMissionId:this.isTest?13046:14366,sign_7_mission_id:15860,npc_free_coin_tasks:[15790,15791,16103],scheduleMinThreshold:1},(0,Xo.Z)(Qo.Tu))}},{key:"leoForAb",get:function(){return Bf({showBarrageWhenGuideBucketsA:30,showCptBrandWidgetSalt:"cp30228",friendListNonStandardNpcGray:[{salt:"cp30222",showBuckets:95,pageElSn:"6135772"},{salt:"cp31949",showBuckets:5,pageElSn:"6642777"}]},(0,Xo.Z)(Qo.c$))}},{key:"leoForCptBrandWidget",get:function(){return(0,Xo.Z)(Qo.rF)}},{key:"leoForFriendListNpc",get:function(){return(0,Xo.Z)(Qo.d6)||[]}},{key:"leoConfig",get:function(){return Bf({heartbeat_interval:1e4,load_timeout:108e3,race_game_start_time:16032096e5,race_game_end_time:160493754e4,degrade_task_list:!1,shareInfo:{shareURL:"/promote/good_life_game_5.html",title:"多多精灵",wxAppTitle:"升级精灵可以拿红包啦！",message:"升级精灵还有钱拿？快来和我一起合成精灵拿红包吧！",thumbnailURL:"https://promotion.pddpic.com/promo/2020-08-27/e1a3864b-02ae-4d3c-8541-ffd6f32fd7f4.png",waterMark:""},mystery_shop_url:"",multipleKvPercent:1,day_tips_tasks_id:[],canPlayRollEggMinLevel:6,channelTypeUserSourceMap:{floating_window:8,farm:12,promotion:1,app_push:5},taskBoardNpcs:{16:{salt:"",showBuckets:100,pageElSn:5613990},17:{salt:"",showBuckets:100,pageElSn:5613991},18:{salt:"",showBuckets:100,pageElSn:5613992},21:{salt:"cp28334",showBuckets:95,pageElSn:5907118}},unlockMessengerDegree:7,retryBtnGap:10},(0,Xo.Z)(Qo.vs))}},{key:"timing",get:function(){var e;return(null===(e=window.performance)||void 0===e?void 0:e.timing)||{}}},{key:"isAfterOfflineTime",get:function(){return!1}}]),N}(X),up=P()(cp.prototype,"isLoading",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lp=P()(cp.prototype,"isPageShow",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pp=P()(cp.prototype,"loadingProgress",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fp=P()(cp.prototype,"unlockAssistList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dp=P()(cp.prototype,"speedUpAniActive",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hp=P()(cp.prototype,"server_time",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y()().valueOf()}}),mp=P()(cp.prototype,"userType",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return he.$A.QUERY_ERROR}}),gp=P()(cp.prototype,"fairyList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yp=P()(cp.prototype,"isMuted",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vp=P()(cp.prototype,"top_rank_fairy",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{fairy_rank:0,pic_url:"",init_price:0}}}),bp=P()(cp.prototype,"userInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{savingMoney:0,coinNum:0,canWithdrawMoney:0}}}),_p=P()(cp.prototype,"roiTestUserType",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kp=P()(cp.prototype,"roiGameEndTime",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wp=P()(cp.prototype,"speedUpTotalTime",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sp=P()(cp.prototype,"canWithdraw",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Op=P()(cp.prototype,"myTotalOpenWorkArea",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ip=P()(cp.prototype,"friendTotalOpenWorkArea",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ap=P()(cp.prototype,"isShowBuyTipsForPacket",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tp=P()(cp.prototype,"luckyPacketCoinNum",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(cp.prototype,"totalOpenWorkArea",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"totalOpenWorkArea"),cp.prototype),Cp=P()(cp.prototype,"initialUserCoinNum",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ep=P()(cp.prototype,"workAreaInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pp=P()(cp.prototype,"totalCoinRate",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rp=P()(cp.prototype,"totalCoinRateWithAni",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xp=P()(cp.prototype,"isInitError",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dp=P()(cp.prototype,"isRequestEnd",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Np=P()(cp.prototype,"isGameCreated",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lp=P()(cp.prototype,"composeResult",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mp=P()(cp.prototype,"offlineDialogInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isShow:!1,offlineCoinNum:0}}}),Bp=P()(cp.prototype,"recycleCoinNum",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fp=P()(cp.prototype,"myNativeFairyList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gp=P()(cp.prototype,"friendNativeFairyList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P()(cp.prototype,"nativeFairyList",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"nativeFairyList"),cp.prototype),jp=P()(cp.prototype,"myNativeFriendFairyList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Up=P()(cp.prototype,"friendNativeOccupyFairyList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P()(cp.prototype,"nativeFriendFairyList",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"nativeFriendFairyList"),cp.prototype),Wp=P()(cp.prototype,"dailyPresentCoinNum",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zp=P()(cp.prototype,"presentRemainTime",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hp=P()(cp.prototype,"canReceivePresent",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kp=P()(cp.prototype,"isPassGame",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zp=P()(cp.prototype,"isShowFriendAndPresent",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qp=P()(cp.prototype,"isShowNewSkinWindow",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yp=P()(cp.prototype,"isShowUnlockSkinWindow",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vp=P()(cp.prototype,"friendUid",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xp=P()(cp.prototype,"isShowSeriesSign7",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qp=P()(cp.prototype,"nextWindowSkinType",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jp=P()(cp.prototype,"showExchangeGift",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$p=P()(cp.prototype,"gray",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ef=P()(cp.prototype,"duoDuoPayInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tf=P()(cp.prototype,"ownedSkinTypeList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rf=P()(cp.prototype,"orderToUnlockOlympicSkin",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nf=P()(cp.prototype,"triggerRedPacketInfo",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),of=P()(cp.prototype,"showTriggerRedPacket",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),af=P()(cp.prototype,"showGiftBox",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sf=P()(cp.prototype,"isGamePetDraging",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cf=P()(cp.prototype,"buySpriteCurrent",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uf=P()(cp.prototype,"canvasRefCurrent",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lf=P()(cp.prototype,"scoreSpeedCoinRef",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pf=P()(cp.prototype,"riskUserBlockCpcMission",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ff=P()(cp.prototype,"showBrandCpt",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),df=P()(cp.prototype,"retainUser",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hf=P()(cp.prototype,"giveRetainCoin",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mf=P()(cp.prototype,"healthSystemGrey",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gf=P()(cp.prototype,"energyScore",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yf=P()(cp.prototype,"nutritionScore",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vf=P()(cp.prototype,"healthCoefficient",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bf=P()(cp.prototype,"nutritionExchangeEnergyCoefficient",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_f=P()(cp.prototype,"maxEnergy",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kf=P()(cp.prototype,"normalEnergy",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wf=P()(cp.prototype,"showOrderTask",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(cp.prototype,"previewSkin",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"previewSkin"),cp.prototype),P()(cp.prototype,"canMainOrderGainSkin",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"canMainOrderGainSkin"),cp.prototype),P()(cp.prototype,"isHasFairyWorking",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"isHasFairyWorking"),cp.prototype),P()(cp.prototype,"isMainQueryError",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"isMainQueryError"),cp.prototype),P()(cp.prototype,"isUserNeedInitial",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"isUserNeedInitial"),cp.prototype),P()(cp.prototype,"isMainScene",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"isMainScene"),cp.prototype),P()(cp.prototype,"isShowBottomFriends",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"isShowBottomFriends"),cp.prototype),P()(cp.prototype,"isShowFriends",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"isShowFriends"),cp.prototype),Sf=P()(cp.prototype,"myAvatar",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Of=P()(cp.prototype,"friendAvatar",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P()(cp.prototype,"avatar",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"avatar"),cp.prototype),If=P()(cp.prototype,"myTopRank",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Af=P()(cp.prototype,"friendTopRank",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(cp.prototype,"topRank",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"topRank"),cp.prototype),Tf=P()(cp.prototype,"user_name",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cf=P()(cp.prototype,"myTotalWorkArea",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ef=P()(cp.prototype,"friendTotalWorkArea",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P()(cp.prototype,"totalWorkAreaNum",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"totalWorkAreaNum"),cp.prototype),P()(cp.prototype,"levelMap",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"levelMap"),cp.prototype),Pf=P()(cp.prototype,"mySkinType",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),Rf=P()(cp.prototype,"friendSkinType",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),P()(cp.prototype,"skinType",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"skinType"),cp.prototype),P()(cp.prototype,"skinExportType",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"skinExportType"),cp.prototype),P()(cp.prototype,"isSkin3",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"isSkin3"),cp.prototype),P()(cp.prototype,"skinUseCommon",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"skinUseCommon"),cp.prototype),P()(cp.prototype,"dialogSkinUseCommon",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"dialogSkinUseCommon"),cp.prototype),P()(cp.prototype,"dialogSkinType",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"dialogSkinType"),cp.prototype),P()(cp.prototype,"isInSpeedState",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"isInSpeedState"),cp.prototype),P()(cp.prototype,"isUpgradedTo2",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"isUpgradedTo2"),cp.prototype),P()(cp.prototype,"isNewUser",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"isNewUser"),cp.prototype),P()(cp.prototype,"inRaceGameDuration",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"inRaceGameDuration"),cp.prototype),P()(cp.prototype,"useOldWithdrawProcess",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"useOldWithdrawProcess"),cp.prototype),P()(cp.prototype,"isShowMusicIconTop",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"isShowMusicIconTop"),cp.prototype),P()(cp.prototype,"newRecycleWithTips",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"newRecycleWithTips"),cp.prototype),P()(cp.prototype,"setLuckyPacketCoinNum",[R.action],Object.getOwnPropertyDescriptor(cp.prototype,"setLuckyPacketCoinNum"),cp.prototype),xf=P()(cp.prototype,"handleChangeMuted",[$l,R.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t,r,n,i;(null===(t=e.gameStore.audioManager)||void 0===t?void 0:t.musicDeal)&&(e.isMuted=!e.isMuted,localStorage.setItem("duo_duo_sprite_audio_muted",e.isMuted?1:0),null===(r=e.gameStore.audioManager)||void 0===r||r.setMuted(!!e.isMuted),e.isMuted||(null===(n=e.gameStore.audioManager)||void 0===n||n.playBgMusic(),null===(i=e.gameStore.audioManager)||void 0===i||i.playFairyWork()))}}}),P()(cp.prototype,"addUniqueIdForFairyList",[R.action],Object.getOwnPropertyDescriptor(cp.prototype,"addUniqueIdForFairyList"),cp.prototype),P()(cp.prototype,"setRecycleResult",[R.action],Object.getOwnPropertyDescriptor(cp.prototype,"setRecycleResult"),cp.prototype),P()(cp.prototype,"setStartCloudAni",[R.action],Object.getOwnPropertyDescriptor(cp.prototype,"setStartCloudAni"),cp.prototype),P()(cp.prototype,"leoForMission",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"leoForMission"),cp.prototype),P()(cp.prototype,"leoForAb",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"leoForAb"),cp.prototype),P()(cp.prototype,"leoForCptBrandWidget",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"leoForCptBrandWidget"),cp.prototype),P()(cp.prototype,"leoForFriendListNpc",[R.computed],Object.getOwnPropertyDescriptor(cp.prototype,"leoForFriendListNpc"),cp.prototype),P()(cp.prototype,"callNativeWebScene",[J.Y],Object.getOwnPropertyDescriptor(cp.prototype,"callNativeWebScene"),cp.prototype),Df=P()(cp.prototype,"duoduoSpriteLogger",[J.Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){lc(e,t)}}}),P()(cp.prototype,"queryUserProcess",[J.Y],Object.getOwnPropertyDescriptor(cp.prototype,"queryUserProcess"),cp.prototype),P()(cp.prototype,"setTriggerRedPacketInfo",[R.action],Object.getOwnPropertyDescriptor(cp.prototype,"setTriggerRedPacketInfo"),cp.prototype),P()(cp.prototype,"queryFriendProcess",[J.Y],Object.getOwnPropertyDescriptor(cp.prototype,"queryFriendProcess"),cp.prototype),P()(cp.prototype,"queryFairyEarnCoins",[J.Y],Object.getOwnPropertyDescriptor(cp.prototype,"queryFairyEarnCoins"),cp.prototype),P()(cp.prototype,"commitQueryFairyEarnCoins",[$.d],Object.getOwnPropertyDescriptor(cp.prototype,"commitQueryFairyEarnCoins"),cp.prototype),P()(cp.prototype,"heartbeat",[ep,$.d,tp],Object.getOwnPropertyDescriptor(cp.prototype,"heartbeat"),cp.prototype),P()(cp.prototype,"addLoadingProgress",[R.action],Object.getOwnPropertyDescriptor(cp.prototype,"addLoadingProgress"),cp.prototype),P()(cp.prototype,"buyDefaultFairy",[$.d,rp],Object.getOwnPropertyDescriptor(cp.prototype,"buyDefaultFairy"),cp.prototype),P()(cp.prototype,"setComposeResult",[R.action],Object.getOwnPropertyDescriptor(cp.prototype,"setComposeResult"),cp.prototype),P()(cp.prototype,"requestMainUpdate",[np,$.d],Object.getOwnPropertyDescriptor(cp.prototype,"requestMainUpdate"),cp.prototype),P()(cp.prototype,"cmtNewUserLogger",[J.Y],Object.getOwnPropertyDescriptor(cp.prototype,"cmtNewUserLogger"),cp.prototype),P()(cp.prototype,"newUser",[ip],Object.getOwnPropertyDescriptor(cp.prototype,"newUser"),cp.prototype),P()(cp.prototype,"setInitError",[R.action],Object.getOwnPropertyDescriptor(cp.prototype,"setInitError"),cp.prototype),P()(cp.prototype,"handleGameCreated",[R.action],Object.getOwnPropertyDescriptor(cp.prototype,"handleGameCreated"),cp.prototype),P()(cp.prototype,"setGamePetDragState",[R.action],Object.getOwnPropertyDescriptor(cp.prototype,"setGamePetDragState"),cp.prototype),P()(cp.prototype,"withdrawCash",[op],Object.getOwnPropertyDescriptor(cp.prototype,"withdrawCash"),cp.prototype),P()(cp.prototype,"requestWithdraw",[$.d],Object.getOwnPropertyDescriptor(cp.prototype,"requestWithdraw"),cp.prototype),P()(cp.prototype,"receiveDailyPresent",[ap],Object.getOwnPropertyDescriptor(cp.prototype,"receiveDailyPresent"),cp.prototype),P()(cp.prototype,"fetchLatestComponents",[J.Y],Object.getOwnPropertyDescriptor(cp.prototype,"fetchLatestComponents"),cp.prototype),P()(cp.prototype,"queryExchangeAwardList",[J.Y],Object.getOwnPropertyDescriptor(cp.prototype,"queryExchangeAwardList"),cp.prototype),P()(cp.prototype,"openTriggerRedPacket",[sp,$.d],Object.getOwnPropertyDescriptor(cp.prototype,"openTriggerRedPacket"),cp.prototype),P()(cp.prototype,"setBuyTipsForPacketShow",[R.action],Object.getOwnPropertyDescriptor(cp.prototype,"setBuyTipsForPacketShow"),cp.prototype),Nf=P()(cp.prototype,"isNpcMallRisk",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P()(cp.prototype,"queryIsNpcMallRisk",[J.Y],Object.getOwnPropertyDescriptor(cp.prototype,"queryIsNpcMallRisk"),cp.prototype),cp),jf=r(71828),Uf=r.n(jf);function Wf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Zf,Hf,Kf,zf=function(e){O()(r,e);var t=Wf(r);function r(){return g()(this,r),t.apply(this,arguments)}return w()(r,[{key:"componentDidMount",value:function(){window._plt.fs||function(e,t){var r=e._plt=e._plt||[];r.fs=r.fs||!0;var n="load",i="error",o=+new Date;r.push(["tm","fsn",o]);var a=t.getElementsByTagName("img"),s=t.documentElement.clientHeight,c=[],u="complete"===t.readyState,l=function(){for(var e=0;e<c.length;e++){var t=c[e],n=t.img.getBoundingClientRect().top||0;n+t.img.height>0&&s>n&&(o=Math.max(t.time,o))}r.push(["tm","fs",o])};function p(){for(var e=!0,t=0;t<c.length;t++)if(!(e=e&&c[t].time))return;l()}for(var f=0;f<a.length;f++){var d=a[f];!d.complete&&d.src&&function(){var e={img:d},t=function t(){this.removeEventListener(n,t,!1),this.removeEventListener(i,t,!1),e.time=+new Date,u&&p()};d.addEventListener(n,t,!1),d.addEventListener(i,t,!1),c.push(e)}()}u?p():e.addEventListener(n,l),e.__fsImgItems=c,e.__fsImgSrcs=c.map((function(e){return e.img.src}))}(window,document)}},{key:"render",value:function(){return Be()("script",{dangerouslySetInnerHTML:{__html:'!function(e,t){var n=e._plt=e._plt||[];n.fs=n.fs||!0;var r=+new Date;n.push(["tm","fsn",r]);var i=t.getElementsByTagName("img"),a=t.documentElement.clientHeight,m=[],o="complete"===t.readyState,s=function(){for(var e=0;e<m.length;e++){var t=m[e],i=t.img.getBoundingClientRect().top||0;i+t.img.height>0&&a>i&&(r=Math.max(t.time,r))}n.push(["tm","fs",r])};function f(){for(var e=!0,t=0;t<m.length;t++)if(!(e=e&&m[t].time))return;s()}for(var g=0;g<i.length;g++){var v=i[g];!v.complete&&v.src&&function(){var e={img:v},t=function t(){this.removeEventListener("load",t,!1),this.removeEventListener("error",t,!1),e.time=+new Date,o&&f()};v.addEventListener("load",t,!1),v.addEventListener("error",t,!1),m.push(e)}()}o?f():e.addEventListener("load",s),e.__fsImgItems=m,e.__fsImgSrcs=m.map(function(e){return e.img.src})}(window,document);'}})}}]),r}(x.PureComponent),qf=r(27551),Yf=r(38740),Vf=r.n(Yf);function Xf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Qf,Jf,$f,ed,td,rd,nd={zIndex:9999},id=We()(Vf())((Kf=Hf=function(e){O()(r,e);var t=Xf(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).timer=null,e.state={second:e.props.countDown,isEnd:!1},e.startTimer=function(){0!==e.state.second?e.props.now>e.props.offlineTime&&(e.setState({isEnd:!0}),e.timer=setInterval((function(){var t=e.state.second;0!==t?e.setState({second:t-1}):e.rediret()}),1e3)):e.rediret()},e.rediret=function(){var t=e.props,r=t.jump,n=t.jumpUrl;clearInterval(e.timer);var i="".concat(location.protocol,"//").concat(location.hostname);r&&(0,B.reload)(n||"".concat(i,"/index.html"))},e}return w()(r,[{key:"componentDidMount",value:function(){this.startTimer()}},{key:"render",value:function(){return this.state.isEnd&&Be()(qf.Z,{style:nd},void 0,Be()("div",{className:Vf().container},void 0,Be()("img",{className:Vf().icon,src:"//promotion.pddpic.com/promo/2019-12-15/bd43700b-22b7-42b1-8deb-4dc45777245b.png"}),Be()("div",{className:Vf().title},void 0,this.props.title),Be()("div",{className:Vf().button,onClick:this.rediret},void 0,Be()("span",{},void 0,this.props.btnTitle)),Be()("div",{className:Vf().tip},void 0,this.state.second,"秒后自动跳转")))}}]),r}(x.Component),Hf.defaultProps={offlineTime:4763376e6,now:(new Date).getTime(),countDown:5,jump:!0,title:"活动已经结束啦",btnTitle:"看看其他"},Zf=Kf))||Zf,od=r(84023),ad=(Qf={loader:function(){return Promise.all([r.e("components_DuoduoSprite_widgets_BoomLightAni_index_tsx-components_DuoduoSprite_widgets_Breath-f22a25"),r.e("duoduo_sprite_main_pops")]).then(r.bind(r,3351))},Component:function(){return(0,od.Z)({loader:ad.loader})}},P()(Qf,"loader",[is.Z],(Jf=(Jf=Object.getOwnPropertyDescriptor(Qf,"loader"))?Jf.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return Jf}}),Qf),Qf),sd=ad,cd=($f={loader:function(){return Promise.all([r.e("components_DuoduoSprite_widgets_BoomLightAni_index_tsx-components_DuoduoSprite_widgets_Breath-f22a25"),r.e("duoduo_sprite_lazy_pops")]).then(r.bind(r,62997))},Component:function(){return(0,od.Z)({loader:cd.loader})}},P()($f,"loader",[is.Z],(ed=(ed=Object.getOwnPropertyDescriptor($f,"loader"))?ed.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return ed}}),$f),$f),ud=cd,ld=r(1399),pd=r.n(ld),fd="ddsp_downgrade_canvas",dd=function(e,t,r){var n=r.leoConfig.downgradeDpr,i=void 0===n?1.5:n;r.checkLowDeviceDowngrade("dpr")&&(0,Ko.TA)(i);var o=(0,Ko.x_)(),a=document.documentElement.clientWidth||document.body.clientWidth,s=a>640?640:a,c={type:function(e){return e.checkLowDeviceDowngrade("render_type")||(0,dt.$o)(fd)&&!e.leoConfig.disableDowngradeCanvasWithCache}(r)?Phaser.CANVAS:Phaser.AUTO,width:s*o,height:s/(375/812)*o,parent:e,canvas:t,input:{windowEvents:!1},backgroundColor:"rgba(0, 0, 0, 0)",transparent:!0,physics:{default:"matter",matter:{enableSleeping:!1,debug:false,debugShowBody:false,gravity:{y:(0,Ko.fp)(14.5)}}},images:{missing:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="},powerPreference:r.checkLowDeviceDowngrade("power_preference")?"low-power":"default",antialiasGL:!0,antialias:!0,resizeInterval:6e3,fps:{target:r.checkLowDeviceDowngrade("fps")?30:60,forceSetTimeOut:r.checkLowDeviceDowngrade("fps")}};return new Phaser.Game(c)},hd=r(91296),md=r.n(hd);function gd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var yd=We()(pd())(td=(0,Fe.observer)((rd=function(e){O()(o,e);var t,n=gd(o);function o(){var e;g()(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).gameRef=D().createRef(),e.canvasRef=D().createRef(),e.store=e.props.store,e.handleWebGLContextLost=function(){e.store.duoduoSpriteLogger({stage:"webgl_context_lost"}),e.store.setInitError(!0),(0,dt.m8)(fd,1)},e.handleWebGLContextRestored=function(){e.store.duoduoSpriteLogger({stage:"webgl_context_restored"})},e.handleResize=md()((function(){e.store.game.events.off("prestep",e.refresh),e.store.game.events.once("prestep",e.refresh)}),2e3),e.refresh=function(){e.store.game.scale.refresh()},e}return w()(o,[{key:"componentDidMount",value:(t=a()(i().mark((function e(){var t,r,n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.importPhaser();case 3:return t=e.sent,r=t.phaserInit,e.next=7,r();case 7:if(this.store.loadingStart=this.store.loadTimeLogger("loading_start","loadingStart"),window.Phaser){e.next=10;break}throw new Error("phaser js load error");case 10:this.dispose=(0,R.reaction)((function(){return n.store.isRequestEnd}),(function(){if(n.store.isRequestEnd&&n.gameRef.current&&n.canvasRef.current){var e=dd(n.gameRef.current,n.canvasRef.current,n.store);n.store.setupStart=n.store.loadTimeLogger("setup_start","setupStart"),n.store&&(n.store.connect(e),n.store.gameStore.runMainScene(),(0,R.runInAction)((function(){n.store.canvasRefCurrent=n.canvasRef.current})),window.addEventListener("resize",n.handleResize),n.store.game.events.on(Phaser.Core.Events.CONTEXT_LOST,n.handleWebGLContextLost),n.store.game.events.on(Phaser.Core.Events.CONTEXT_RESTORED,n.handleWebGLContextRestored)),n.store.addLoadingProgress((0,Ie.rs)(40,65),"before_progress")}}),{fireImmediately:!0}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),this.store.sendError(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(){return t.apply(this,arguments)})},{key:"importPhaser",value:function(){return r.e("phaser").then(r.bind(r,12337))}},{key:"componentWillUnmount",value:function(){var e;this.store.gameStore.destroy(),this.store.gameStore.stopAll(),null===(e=this.dispose)||void 0===e||e.call(this),window.removeEventListener("resize",this.handleResize),this.store.game.events.off(Phaser.Core.Events.CONTEXT_LOST,this.handleWebGLContextLost),this.store.game.events.off(Phaser.Core.Events.CONTEXT_RESTORED,this.handleWebGLContextRestored)}},{key:"render",value:function(){var e=this.store.isGameCreated,t=this.store.gameStore,r=t.isInComposeStep,n=t.isPrepareToRecycle;return D().createElement("div",{className:pd().stageContainer,ref:this.gameRef,style:{opacity:e?"1":"0",zIndex:n||r?"10":""}},D().createElement("canvas",{ref:this.canvasRef}))}}]),o}(x.Component),P()(rd.prototype,"importPhaser",[is.Z],Object.getOwnPropertyDescriptor(rd.prototype,"importPhaser"),rd.prototype),td=rd))||td)||td,vd=r(49190),bd=r(9206),_d=r(36977),kd=r.n(_d),wd=r(83524),Sd=r(55912),Od=r(55729),Id="ENERGY_ADD_TIPS";function Ad(e){return Td.apply(this,arguments)}function Td(){return(Td=a()(i().mark((function e(t){var r,n,o,a,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.gameStore.loadHandler.loadCustom({type:"image",key:Id,url:"https://promotion.pddpic.com/promo/62f18e7d-d0b5-42d4-9564-5ad0c624c0c1.png.slim.png"});case 2:if(!t.gameStore.isChanging&&t.isMainScene){e.next=4;break}return e.abrupt("return");case 4:return(n=t.gameStore.entityList.find((function(e){return e.key===Id})))?r=n.entity:(o=t.gameStore.scene,a=o.add.image(0,0,Id).setDisplaySize((0,Ko.dV)(.61),(0,Ko.dV)(.27)),s=o.add.text(0,-(0,Ko.dV)(.02),"补充能量",{fontSize:(0,Ko.dV)(.12)+"px",fontStyle:"bold",color:"#FFFFFF"}).setOrigin(.5,.5),(r=o.add.container(0,0,[a,s])).setSize(a.displayWidth,a.displayHeight),r.setInteractive().on("pointerup",(function(){(0,ge.iH)(ye.oY.GUIDE_ADD_ENERGY_TIPS),t.energyTaskListStore.showAction()})),c={key:Id,entity:r,destroy:function(){r.removeAll(!0),r.destroy()},update:function(){try{var e,n,i,o=((null===(e=r.data)||void 0===e?void 0:e.values)||{}).parentPetId,a=t.gameStore.findPetById(o);if(!a)return void Cd(t,r);if((null===(n=a.instance)||void 0===n?void 0:n.isRoamPet)&&a.instance.roamPet.sprite)return void r.setPosition(a.instance.roamPet.sprite.x+a.instance.roamPet.sprite.displayWidth/4,a.instance.roamPet.sprite.y-a.instance.roamPet.sprite.displayHeight/2);(null===(i=a.instance)||void 0===i?void 0:i.isNormalWorkPet)&&a.instance.workPet.sprite&&r.setPosition(a.instance.workPet.sprite.x,a.instance.workPet.sprite.y-a.instance.workPet.sprite.displayHeight/2)}catch(e){t.sendError(e),c.destroy(),t.gameStore.removeEntity(c)}}},t.gameStore.addEntity(c)),(0,ge.oy)(ye.oY.GUIDE_ADD_ENERGY_TIPS),Cd(t,r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cd(e,t){var r,n,i;if(t.visible){var o=e.gameStore.nextMaxEnergyTipsRank||e.myTopRank,a=e.gameStore.pets.filter((function(e){var t=e.instance;return t&&(t.isNormalWorkPet||t.isRoamPet)&&t.level>0&&t.level<=o})),s=c()(new Set(a.map((function(e){return e.instance.level})))).sort((function(e,t){return e-t})),u=s.pop()||e.myTopRank;e.gameStore.nextMaxEnergyTipsRank=s.pop()||e.myTopRank;var l=null===(r=a.find((function(e){return e.instance.level===u})))||void 0===r?void 0:r.instance,p=(null==l?void 0:l.isRoamPet)?l.roamPet.sprite:(null==l?void 0:l.isNormalWorkPet)&&l.workPet.sprite;p&&(t.setData({parentPetId:null==l?void 0:l.uniqueId}),t.setDepth((null==l||null===(n=l.attach)||void 0===n||null===(i=n.levelIcons[0])||void 0===i?void 0:i.depth)||p.depth))}}function Ed(e){var t=e.store;Br()(kd());var r=t.leoConfig.unlockEnergyLevel,n=void 0===r?8:r,i=Be()(Pd,{store:t});return(0,Fe.useObserver)((function(){if(t.myTopRank>=n||t.isPassGame)return i;return Be()(je.Z,{className:kd().lock,bgUrl:"https://promotion.pddpic.com/promo/facafe1e-821b-4120-945b-5b564105bc00.png.slim.png",onClick:function(){return(0,de.info)("".concat(n,"级解锁哦，快去升级吧"))}})}))}function Pd(e){var t=e.store;Br()(kd());var r=(0,wd.Z)();return(0,x.useEffect)((function(){var e;(0,ge.oy)(ye.oY.ENERGY_ENTRY),t.cache.get(za.r.GUIDE_ENERGY_PLAY)||(e=(0,R.when)((function(){return t.checkUpgradeDialogClose()}),(function(){t.energyGuideDialogStore.showAction(),t.cache.set(za.r.GUIDE_ENERGY_PLAY,1)})));var r=function(e){var t,r=!1,n=(0,R.reaction)((function(){return e.isMainScene&&e.isGameCreated&&!e.gameStore.isChanging&&e.healthCoefficient<1}),function(){var n=a()(i().mark((function n(o){var a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o){n.next=4;break}return clearInterval(t),r=!0,n.abrupt("return");case 4:return r=!1,n.next=7,Ad(e);case 7:if(a=n.sent,!r&&a){n.next=10;break}return n.abrupt("return");case 10:t=setInterval((function(){document.visibilityState===po.hw&&Cd(e,a)}),e.leoConfig.energyAddGuideInterval||2e4);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),{fireImmediately:!0});return function(){r=!0,clearInterval(t),n()}}(t);return function(){var t;r(),null===(t=e)||void 0===t||t()}}),[]),(0,Fe.useObserver)((function(){return Be()(Od.Z,{id:Sd.l.EnergyEntry,className:kd().wrap,store:t,onClick:function(){(0,ge.iH)(ye.oY.ENERGY_ENTRY),t.energyTaskListStore.showAction(),t.cache.set(za.r.GUIDE_ENERGY_ENTRY_POINT,1,0,!0)}},void 0,!t.cache.get(za.r.GUIDE_ENERGY_ENTRY_POINT)&&r&&Be()(je.Z,{className:kd().point,bgUrl:"https://promotion.pddpic.com/promo/4a1bdc05-ad14-4438-b7e8-29fa53559055.png.slim.png"}),Be()(je.Z,{className:kd().btn,bgUrl:"https://promotion.pddpic.com/promo/25e7673c-9b5e-4943-98cc-472d90c19d80.png.slim.png"}))}))}var Rd,xd,Dd=r(94384),Nd=r.n(Dd);function Ld(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Md,Bd,Fd,Gd,jd,Ud=We()(Nd())(Rd=(0,Fe.inject)("store")(Rd=(0,Fe.observer)((xd=function(e){O()(r,e);var t=Ld(r);function r(){return g()(this,r),t.apply(this,arguments)}return w()(r,[{key:"renderCommon",value:function(){var e,t,r,n,i=null===(e=this.store.levelMap.SPRITE_MAP)||void 0===e||null===(t=e[1])||void 0===t?void 0:t.PIC,o=null===(r=this.store.levelMap.SPRITE_MAP)||void 0===r||null===(n=r[2])||void 0===n?void 0:n.PIC;return D().createElement(D().Fragment,null,Be()("div",{className:Nd().spriteWrap},void 0,Be()(je.Z,{className:Nd().spriteOne,bgUrl:i},void 0,Be()(je.Z,{className:Nd().level,bgUrl:Ze.ZP.UNLOCK_SPRITE_DIALOG_LEVEL},void 0,"1")),Be()(je.Z,{className:Nd().add,bgUrl:this.commonStyle.addBgUrl}),Be()(je.Z,{className:Nd().spriteOneAgain,bgUrl:i},void 0,Be()(je.Z,{className:Nd().level,bgUrl:Ze.ZP.UNLOCK_SPRITE_DIALOG_LEVEL},void 0,"1")),Be()(je.Z,{className:Nd().equal,bgUrl:this.commonStyle.equalBgUrl}),Be()(je.Z,{className:Nd().packet,bgUrl:this.commonStyle.packBgUrl}),Be()(je.Z,{className:Nd().spriteTwo,bgUrl:o},void 0,Be()(je.Z,{className:Nd().level,bgUrl:Ze.ZP.UNLOCK_SPRITE_DIALOG_LEVEL},void 0,"2"))),Be()("div",{className:Nd().commonBottom},void 0,Be()(je.Z,{className:Nd().commonStar,bgUrl:this.commonStyle.starBgUrl}),"同等级精灵，拖动合成，可得新等级精灵",Be()(je.Z,{className:Nd().commonStar,bgUrl:this.commonStyle.starBgUrl})))}},{key:"render",value:function(){var e=this.props.bottom;if(!this.needTips||"number"!=typeof e)return null;var t=this.levelMap.GUIDE;return Be()(ze.Z,{trackingInfo:{page_el_sn:ye.Y9.pageElSn}},void 0,Be()(je.Z,{className:Ke()(Nd().bg,this.commonStyle.commonBg),bgUrl:t.GUIDE_COMPOSE_TIP_PIC,style:{bottom:"".concat(e+100,"px")}},void 0,this.store.skinUseCommon?this.renderCommon():Be()("div",{className:Nd().bottom},void 0,Be()(je.Z,{className:Nd().star,bgUrl:Ze.ZP.COMMON_PIC_MINI_STAR}),"同等级精灵，拖动合成，可得新等级精灵",Be()(je.Z,{className:Nd().star,bgUrl:Ze.ZP.COMMON_PIC_MINI_STAR}))))}},{key:"needTips",get:function(){return Number(this.store.topRank)>1&&this.store.topRank<this.store.gameStore.guideHandler.enableWorkLevel}},{key:"levelMap",get:function(){return this.store.levelMap}},{key:"commonStyle",get:function(){return this.store.skinUseCommon?{starBgUrl:"https://promotion.pddpic.com/promo/924a42d3-338c-4b94-87bd-56e3d6f0c38c.png.slim.png",packBgUrl:"https://promotion.pddpic.com/promo/390a6d6c-ba30-465d-92e3-3b7c65f67798.png.slim.png",equalBgUrl:"https://promotion.pddpic.com/promo/fa609bb9-e238-48bf-912b-0f421240193d.png.slim.png",addBgUrl:"https://promotion.pddpic.com/promo/ff1ab878-89b4-4e41-a6c5-635a6434b50c.png.slim.png",commonBg:Nd().commonBg}:{}}}]),r}(Ge.Z),P()(xd.prototype,"needTips",[R.computed],Object.getOwnPropertyDescriptor(xd.prototype,"needTips"),xd.prototype),P()(xd.prototype,"levelMap",[R.computed],Object.getOwnPropertyDescriptor(xd.prototype,"levelMap"),xd.prototype),P()(xd.prototype,"commonStyle",[R.computed],Object.getOwnPropertyDescriptor(xd.prototype,"commonStyle"),xd.prototype),Rd=xd))||Rd)||Rd)||Rd,Wd=r(23836),Zd=r(28635),Hd=r.n(Zd);function Kd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kd(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Yd=Be()(Bt,{}),Vd=Be()("br",{}),Xd=Be()("span",{},void 0,he.k8),Qd=Be()("span",{},void 0,he.k8),Jd=Be()("span",{},void 0,"2小时"),$d=We()(Hd())(Md=(0,Fe.inject)("store")(Md=(0,Fe.observer)((Bd=function(e){O()(n,e);var t,r=qd(n);function n(){var e;g()(this,n);for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return e=r.call.apply(r,[this].concat(o)),h()(e,"isMount",Fd,v()(e)),h()(e,"bottomBarHeight",Gd,v()(e)),e.onClickTaskIcon=function(t){(0,ge.iH)(ye.Jl.EL_3436482,zd({icon_bubble:e.store.taskListStore.hasSpAwardTaskToDo?1:0},t)),e.gameStore.showGuideToast()||(e.store.taskListStore.setReferElSn(ye.Jl.EL_3436482),e.store.taskListStore.showAction())},h()(e,"onClickGrab",jd,v()(e)),e.onClickReturnHomeBtn=function(){e.gameStore.isInSceneTransition||((0,ge.iH)(ye.eE.RETURN_HOME),e.gameStore.visitMain())},e.onClickGiftBoxIcon=a()(i().mark((function t(){var r,n=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:{},(0,ge.iH)(ye.oi,r),t.next=4,e.store.giftBoxDialogStore.giftBoxQuery();case 4:t.sent&&e.store.giftBoxDialogStore.showAction();case 6:case"end":return t.stop()}}),t)}))),e}return w()(n,[{key:"showTaskBoardFromSpecialChannel",value:(t=a()(i().mark((function e(){var t,r,n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,Ko.Jn)(this.store)){e.next=5;break}if(!(null===(t=this.store.gameStore)||void 0===t||null===(r=t.guideHandler)||void 0===r?void 0:r.isInGuideLt3)){e.next=4;break}return e.next=4,(0,R.when)((function(){var e,t;return!(null===(e=n.store.gameStore)||void 0===e||null===(t=e.guideHandler)||void 0===t?void 0:t.isInGuideLt3)}));case 4:this.store.taskListStore.showAction();case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidMount",value:function(){var e=this;(0,R.runInAction)((function(){var t;e.isMount=!0;var r=null===(t=e.store.bottomBarRef)||void 0===t?void 0:t.current;r&&(e.bottomBarHeight=r.getBoundingClientRect().height)})),this.showTaskBoardFromSpecialChannel()}},{key:"renderFriendSceneIcon",value:function(){var e=this,t=this.gameStore,r=t.hasValidIdleSeatIdx,n=t.forbidPlay,i=t.forbidPlayInFriend,o=!this.store.isMainScene&&r&&!n&&!i,a=o?Ze.ZP.BOTTOM_BAR_CAN_GRAB_BTN:Ze.ZP.BOTTOM_BAR_CANT_GRAB_BTN;return Be()(ze.Z,{trackingInfo:{page_el_sn:ye.eE.GRAB_SEAT_BTN}},void 0,Be()("div",{className:Hd().btnWrap},void 0,Be()(je.Z,{className:Hd().grabBtn,bgUrl:a,onClick:o?this.onClickGrab:function(){e.gameStore.showForbidGrabToast(!0)}})))}},{key:"renderMainSceneIcon",value:function(){var e,t,r=null===(e=this.store.gameStore)||void 0===e||null===(t=e.guideHandler)||void 0===t?void 0:t.isInGuideLt3;return Be()("div",{className:Hd().btnWrap},void 0,!r&&(this.store.healthSystemGrey?Be()(Ed,{store:this.store}):Be()(bd.Z,{store:this.store})),this.renderMainBtn(),!r&&this.renderNewTaskIcon())}},{key:"renderNewTaskIcon",value:function(){var e=this,t=this.store.taskListStore,r=t.unFinishTaskNum,n=t.hasSpAwardTaskToDo,i=this.store.checkLowDeviceDowngrade("cancel_css_animation");return Be()(ze.Z,{trackingInfo:{page_el_sn:ye.Jl.EL_3436482,new_task_icon:1}},void 0,Be()("div",{className:Ke()(Hd().newTaskIcon,l()({},Hd().cancelCssAnimation,i)),onClick:function(){return e.onClickTaskIcon({new_task_icon:1})}},void 0,Be()(je.Z,{className:Hd().newIconCoin,bgUrl:Ze.ZP.BIG_TASK_COIN}),Be()(je.Z,{className:Hd().newIconGainCoinBar,bgUrl:Ze.ZP.BTN_GAIN_COIN}),!i&&D().createElement(D().Fragment,null,Be()(je.Z,{className:Hd().shineStar,bgUrl:Ze.ZP.SMALL_SHINE_STAR,style:{top:".28rem",left:"-.11rem"}}),Be()(je.Z,{className:Hd().shineStar,bgUrl:Ze.ZP.SMALL_SHINE_STAR,style:{top:"0",right:"-.05rem",animationDelay:"0.5s"}})),!n&&r>0&&Be()(je.Z,{className:Hd().newIconTips,bgUrl:Ze.ZP.BUBBLE_RED_BG},void 0,"升级先领币"),n&&Be()(je.Z,{className:Hd().newIconTips,bgUrl:Ze.ZP.BUBBLE_RED_BG},void 0,"奖励翻倍")))}},{key:"renderMainBtn",value:function(){return Be()(eh,{store:this.store})}},{key:"renderFriendList",value:function(){return Yd}},{key:"renderSearchTip",value:function(){var e=this.store.levelMap.UI_COLOR.BOTTOM_TIP.RGBA,t=e?{background:"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")")}:{};return D().createElement(D().Fragment,null,Be()(ze.Z,{trackingInfo:{page_el_sn:ye.Jl.EL_3436483,size_type:1}},void 0,Be()("div",{className:Hd().tips,style:t},void 0,"如何进入",he.k8,"？",Vd,Be()("div",{className:Hd().text},void 0,"拼多多首页搜索“",Xd,"”"),Be()(je.Z,{className:Hd().searchImg,bgUrl:Ze.ZP.BOTTOM_BAR_SEARCH}))),Be()(ze.Z,{trackingInfo:{page_el_sn:ye.Jl.EL_3436483,size_type:2}},void 0,Be()("div",{className:Hd().miniTips,style:t},void 0,"拼多多首页搜索“",Qd,"”进入游戏")))}},{key:"renderBarTips",value:function(){return this.store.isMainScene?null:Be()(je.Z,{bgUrl:Ze.ZP.BOTTOM_BAR_TIPS,className:Hd().barTips},void 0,"立即打工 收益翻2倍")}},{key:"renderIcon",value:function(){return this.store.isMainScene?this.renderMainSceneIcon():this.renderFriendSceneIcon()}},{key:"renderBottom",value:function(){var e=this.store.shopTaskDialogStore.mallList;return this.store.isShowBottomFriends&&(!this.isMount||this.friendRankDialogStore.isFriendListAvailable||e.length)?this.renderFriendList():this.renderSearchTip()}},{key:"renderGrabTip",value:function(){return Be()(je.Z,{className:Hd().grabTip,bgUrl:Ze.Wi.WORK_GRAB_BG["".concat(this.store.skinType)]},void 0,"精灵在好友家打工满",Jd,"会自动回家")}},{key:"render",value:function(){var e=this.store,t=e.isMainScene,r=e.isPassGame,n=this.store.gameStore.isInComposeStep;return D().createElement(D().Fragment,null,this.store.isMainScene&&!r&&Be()(Ud,{bottom:this.bottomBarHeight}),D().createElement("div",{className:Hd().wrap,ref:this.store.bottomBarRef,style:{zIndex:n?15:void 0}},!t&&Be()(ze.Z,{trackingInfo:{page_el_sn:ye.eE.RETURN_HOME}},void 0,Be()("div",{className:Hd().homeWrap,onClick:this.onClickReturnHomeBtn},void 0,Be()(je.Z,{className:Hd().returnArrow,bgUrl:Ze.ZP.BOTTOM_BAR_HOME_ARROW}),Be()("div",{className:Hd().homeTip},void 0,"返回自己家"))),this.renderBarTips(),this.renderIcon(),!t&&this.renderGrabTip(),this.renderBottom()))}},{key:"gameStore",get:function(){return this.store.gameStore}},{key:"friendRankDialogStore",get:function(){return this.store.friendRankDialogStore}}]),n}(Ge.Z),Fd=P()(Bd.prototype,"isMount",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gd=P()(Bd.prototype,"bottomBarHeight",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jd=P()(Bd.prototype,"onClickGrab",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return a()(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.store.isMainScene&&!e.gameStore.forbidPlayInFriend){t.next=2;break}return t.abrupt("return");case 2:return(0,ge.iH)(ye.eE.GRAB_SEAT_BTN),r={isDirectUpdate:!0,uid:e.store.friendUid,forceInit:!1},t.next=6,e.gameStore.checkFairyBeforeGrab(r);case 6:if(!t.sent){t.next=13;break}return t.next=10,e.gameStore.grabFriendWorkSeat(e.gameStore.idleSeatIndex);case 10:e.store.duoduoSpriteLogger({stage:"grab_friend_seat"}),t.next=14;break;case 13:e.gameStore.hasValidIdleSeatIdx?(0,qt.Z)("无空闲精灵可抢好友家打工位哦~"):(0,qt.Z)("好友工位已被占完哦~");case 14:case"end":return t.stop()}}),t)})))}}),Md=Bd))||Md)||Md)||Md;function eh(e){var t=e.store;Br()(Hd());var r=(0,wd.Z)();return(0,Fe.useObserver)((function(){var e=t.newRecycleWithTips&&t.gameStore.isShowTrashBox&&(t.isGamePetDraging||t.recycleDialogStore.isShow),n=t.recycleDialogStore.recycleCoinNum;return Be()("div",{className:Hd().mainBtnWrap},void 0,Be()(Wd.Z,{isInBottomBar:!0,style:{visibility:e?"hidden":"visible"}}),t.newRecycleWithTips&&r&&Be()(je.Z,{className:Hd().recycleBtn,bgUrl:"https://promotion.pddpic.com/promo/bddbe80a-98c6-4a89-a53b-d2c70c054ed3.png.slim.png",style:{display:e?"flex":"none"}},void 0,"可得",Be()(je.Z,{className:Hd().coin,bgUrl:Ze.ZP.COMMON_PIC_COIN}),n))}))}var th,rh=r(96338),nh=r.n(rh),ih=r(2365),oh=r(10445);function ah(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var sh,ch,uh,lh,ph,fh,dh=function(e){var t=e.count;Br()(nh());var r=(0,x.useState)(+t||10),n=f()(r,2),i=n[0],o=n[1];(0,x.useEffect)((function(){var e;return i>0&&(e=setTimeout((function(){o((function(e){return e-1}))}),1e3)),function(){e&&clearTimeout(e)}}),[i]);var a=i<=0;return Be()(je.Z,{className:nh().retryBtn,style:{opacity:a?1:.7},bgUrl:"https://promotion.pddpic.com/promo/a9e65d87-0edb-4f63-b167-eb02ec8d28c1.png.slim.png",onClick:function(){a&&B.default.reload((0,M.appendQuery)({ssr:!1},location.href))}},void 0,a?"立即":"".concat(i,"秒后可"),"重试")},hh=Be()("span",{},void 0,"微信提现"),mh=We()(nh())(th=(0,Fe.inject)("store")(th=(0,Fe.observer)(th=function(e){O()(r,e);var t=ah(r);function r(){return g()(this,r),t.apply(this,arguments)}return w()(r,[{key:"render",value:function(){var e=this.store,t=e.loadingProgress,r=e.isInitError;return Be()(lt,{trackingInfo:{page_el_sn:ye.Fm.sectionPageElSn}},void 0,Be()("div",{className:nh().wrap,style:{background:this.store.queries.test&&!1}},void 0,Be()("div",{className:nh().main},void 0,Be()("div",{className:nh().title},void 0,"合成精灵获得红包"),Be()("div",{className:nh().mainTitle},void 0,"可",hh),Be()(oh.Z,{className:nh().stars}),Be()(je.Z,{className:nh().sprite,bgUrl:"https://promotion.pddpic.com/promo/dc9fd2a5-f464-47ae-a7b3-3e5a89c420f6.png"}),Be()("div",{className:nh().text},void 0,r?"网络异常，可重试":D().createElement(D().Fragment,null,"正在加载............",Number(t).toFixed(0),"%")),r?Be()(dh,{count:this.store.leoConfig.retryBtnGap}):Be()(je.Z,{className:nh().progressWrap,bgUrl:Ze.ZP.LOADING_PROGRESS_BG},void 0,Be()(je.Z,{className:nh().progress,bgUrl:Ze.ZP.LOADING_PROGRESS,style:{width:"".concat(t,"%")}},void 0,Be()(ih.Z,{width:100,height:100,svgClassName:nh().progressStar,contentClassName:nh().progressStarAni,imgUrl:Ze.ZP.LOADING_PROGRESS_STAR_ANI}),Be()(je.Z,{className:nh().coin,bgUrl:Ze.ZP.COMMON_PIC_COIN}))))))}}]),r}(Ge.Z))||th)||th)||th,gh=r(12842),yh=r.n(gh),vh=r(83632),bh=r(95458),_h=r.n(bh),kh=function(e){var t=e.show,r=e.style;return Br()(_h()),t?Be()(je.Z,{className:_h().finger,backgroundImage:"https://promotion.pddpic.com/promo/28f1e3b5-78ef-4b86-bbd3-073f02a93a6a.png.slim.png",style:r}):null},wh=r(75436),Sh=r(33955),Oh=r.n(Sh);function Ih(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ah(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ih(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ih(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Th(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Ch="https://promotion.pddpic.com/promo/07cd506a-a351-4c6d-8787-8c683b98e57a.png.slim.png",Eh="https://promotion.pddpic.com/promo/a4c3712b-1489-49b2-a73b-afc15077267c.png.slim.png",Ph=Be()("br",{}),Rh=We()(Oh())(sh=(0,Fe.inject)("store")(sh=(0,Fe.observer)((ch=function(e){O()(r,e);var t=Th(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),h()(e,"selectedList",uh,v()(e)),h()(e,"onSelectShell",lh,v()(e)),h()(e,"onUnSelectShell",ph,v()(e)),h()(e,"onMessengerStart",fh,v()(e)),e.onClose=function(){e.messengerStore.showStartDialog=!1,e.messengerStore.messengerAniStep===xr.kn.ReadyForCollecting&&e.messengerStore.setAniStep(xr.kn.Rest)},e.renderSeat=function(t){var r=e.selectedList[t]?e.messengerStore.ownedShellVolist.find((function(r){return r.tuid===e.selectedList[t]})):null;return Be()(je.Z,{className:Oh().seat,backgroundImage:Ch},void 0,r?Be()(je.Z,{className:Oh().selectedItem,backgroundImage:r.img},void 0,Be()(je.Z,{onClick:e.onUnSelectShell.bind(v()(e),t),className:Oh().selectedItemDeleteIcon,backgroundImage:Eh})):null)},e}return w()(r,[{key:"componentDidMount",value:function(){(0,ge.oy)(ye.UI.START_DIALOG_BTN,Ah({},this.commonLog)),this.messengerStore.setAniStep(xr.kn.ReadyForCollecting)}},{key:"render",value:function(){var e=this;return Be()(vh.Z,{contentClass:Oh().startDialog,clickCloseBtn:this.onClose},void 0,Be()(je.Z,{className:Oh().startDialogBg,backgroundImage:"https://promotion.pddpic.com/promo/d646c7e6-ad6f-4e63-b652-f91ef39aae12.png.slim.png"},void 0,Be()("div",{className:Oh().startDialogTitle},void 0,"企鹅带着信物去旅行，广袤无垠 的世界，会有哪些奇遇"),Be()("div",{className:Oh().seatWrap},void 0,this.renderSeat(0),this.renderSeat(1),this.renderSeat(2)),Be()("div",{className:Oh().shellWrap},void 0,this.unSelectedShellVoList.map((function(t,r){var n=t.length;return Be()("div",{className:Oh().shell,onClick:e.onSelectShell.bind(e,t)},r,Be()(je.Z,{className:Oh().shellImg,backgroundImage:t[0].img}),(0,xr.gS)(t[0].rarity)&&Be()(je.Z,{className:Oh().rareTag,backgroundImage:wh.ym}),Be()("div",{className:Oh().shellCount},void 0,n),0===r&&Be()(kh,{show:e.messengerStore.showSelectShellGuide}))})),0===this.messengerStore.ownedShellVolist.length&&Be()("div",{className:Oh().emptyText},void 0,"还没有信物哦，",Ph,"快去主场景拾取吧")),Be()(je.Z,{onClick:this.onMessengerStart,className:Oh().startDialogBtn,backgroundImage:"https://promotion.pddpic.com/promo/336a6989-bede-432c-b7f7-755931f0542a.png.slim.png"})))}},{key:"messengerStore",get:function(){return this.store.messengerStore}},{key:"commonLog",get:function(){return{source:this.messengerStore.openStartDialogSource}}},{key:"unSelectedShellVoList",get:function(){var e=this.selectedList.filter((function(e){return!!e})),t=this.messengerStore.ownedShellVolist.filter((function(t){var r=t.tuid;return!e.includes(r)})),r={};return t.forEach((function(e){var t=e.color;r[t]=r[t]||[],r[t].push(e)})),Object.values(r)}}]),r}(Ge.Z),uh=P()(ch.prototype,"selectedList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null,null,null]}}),P()(ch.prototype,"unSelectedShellVoList",[R.computed],Object.getOwnPropertyDescriptor(ch.prototype,"unSelectedShellVoList"),ch.prototype),lh=P()(ch.prototype,"onSelectShell",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.messengerStore.setShowedGuide("showSelectShellGuide");var r=e.selectedList.findIndex((function(e){return!e}));if(-1!==r){var n=e.messengerStore.ownedShellVolist.filter((function(t){return e.selectedList.includes(t.tuid)})).map((function(e){return e.color})),i=t[0];n.includes(i.color)?(0,de.info)("同一种信物只能携带一个哦~"):(0,R.runInAction)((function(){e.selectedList[r]=i.tuid}))}else(0,de.info)("最多只能携带3个信物出发哦~")}}}),ph=P()(ch.prototype,"onUnSelectShell",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectedList[t]=null}}}),fh=P()(ch.prototype,"onMessengerStart",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return a()(i().mark((function t(){var r,n,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=e.selectedList.filter((function(e){return!!e}))).length){t.next=5;break}return(0,de.info)("要选择至少一个信物才能出发哦~"),(0,ge.iH)(ye.UI.START_DIALOG_BTN,Ah({depart_status:0},e.commonLog)),t.abrupt("return");case 5:return n=e.messengerStore.ownedShellVolist.filter((function(e){var t=e.tuid;return r.includes(t)})).map((function(e){return e.color})).filter((function(e){return!!e})).join(","),o=!1,t.prev=7,t.next=10,Rr.n.toolUse({npc_type:Qr,home_messenger_trigger_param:{tcid:xr.kt.FairyShell,tuid_list:r}},{});case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(7),e.store.sendError(t.t0),o=!0;case 16:return t.prev=16,o&&(0,de.info)("出发失败，请稍后重试"),(0,ge.iH)(ye.UI.START_DIALOG_BTN,Ah({depart_status:o?0:1,color:o?void 0:n},e.commonLog)),t.next=21,e.messengerStore.freshStatus();case 21:return(0,R.runInAction)((function(){e.messengerStore.showStartDialog=!1,o||e.messengerStore.setAniStep(xr.kn.CollectingStart)})),t.finish(16);case 23:case"end":return t.stop()}}),t,null,[[7,12,16,23]])})))}}),sh=ch))||sh)||sh)||sh,xh=r(33170),Dh=r(74243),Nh=r.n(Dh),Lh=r(47050),Mh=r.n(Lh),Bh=r(55641),Fh=r(43535),Gh=r.n(Fh),jh=Be()(Bh.default,{hideBg:!0});function Uh(e){var t=e.dataLoader,r=e.children;Br()(Gh());var n=(0,x.useState)({showLoading:!0}),o=f()(n,2),s=o[0],c=o[1];return(0,x.useEffect)((function(){a()(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:r=e.sent,c({showLoading:!1,childData:r});case 4:case"end":return e.stop()}}),e)})))()}),[]),D().createElement(D().Fragment,null,s.showLoading&&jh,Be()("div",{className:Ke()(s.showLoading&&Gh().pending)},void 0,(0,Vr.Wl)(r)?r(s.childData):r))}var Wh;function Zh(e){var t=e.store,r=e.list,n=e.onItemClick;return Br()(Mh()),D().createElement(D().Fragment,null,Be()(je.Z,{className:Mh().wrap,backgroundImage:"https://promotion.pddpic.com/promo/152659e7-1246-4e6f-949a-99ae98b9a813.png.slim.png"},void 0,t.abTestStore.showMsgRank&&Be()(Uh,{dataLoader:function(){return t.rankingStore.queryLetterRanking()}},void 0,(function(){var e;return Be()(Hh,{store:t,userRank:null===(e=t.rankingStore.letterRankingInfo)||void 0===e?void 0:e.user_rank})})),Be()("div",{className:Ke()(Mh().list)},void 0,r.map((function(e,r){var i=!!e.collected,o=(0,xr.gS)(e.rarity);return Be()(je.Z,{className:Mh().item,backgroundImage:i?e.unlock_small_img:o?"https://promotion.pddpic.com/promo/0ccf14de-b93b-4e34-9836-23bf039b4974.png.slim.png":"https://promotion.pddpic.com/promo/1d92a5f4-b742-4676-aaba-4be50d271d7e.png.slim.png",resizeWidth:400,quality:100,onClick:function(){n(e)}},r,t.messengerStore.enableMessengerOpt&&i&&o&&Be()(je.Z,{className:Mh().rareTag,backgroundImage:wh.ym}),i&&Be()("div",{className:Mh().awardName},void 0,e.award_name))})))),t.messengerStore.messengerStatus===xr.ZM.Rest&&Be()(ze.Z,{trackingInfo:{page_el_sn:ye.UI.GO_COLLECT}},void 0,Be()(je.Z,{className:Mh().btn,bgUrl:"https://promotion.pddpic.com/promo/7256fd05-b71f-49e0-8c23-22a997146454.png.slim.png",onClick:function(){(0,ge.iH)(ye.UI.GO_COLLECT),t.messengerStore.showLetterListDialog=!1,t.messengerStore.openStartDialog(xr.WX.LetterDialog)}})))}function Hh(e){var t=e.store,r=e.userRank,n=void 0===r?{}:r;return Be()(ze.Z,{trackingInfo:{page_el_sn:ye.UI.RANK_ENTRY}},void 0,Be()(je.Z,{className:Mh().rankBanner,bgUrl:"https://promotion.pddpic.com/promo/03cb7b1e-d294-4262-b3a5-3d72e4ab7dc0.png.slim.png"},void 0,"number"==typeof(null==n?void 0:n.rank)&&n.rank<=1e4?Be()("div",{},void 0,"我的排名: ",Be()("span",{},void 0,n.rank)):(null==n?void 0:n.required_extra_object_count)?Be()("div",{},void 0,"再收集",n.required_extra_object_count,"个信件可上榜"):void 0,Be()(je.Z,{className:Mh().rankBtn,bgUrl:"https://promotion.pddpic.com/promo/1ab8a921-d1af-4e99-8b41-26e1b6d504e2.png.slim.png",onClick:function(){(0,ge.iH)(ye.UI.RANK_ENTRY),t.msgRankDialogStore.showAction(),t.duoduoSpriteLogger({stage:"show_letter_rank"})}})))}function Kh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var zh,qh=We()(Nh())(Wh=(0,Fe.inject)("store")(Wh=(0,Fe.observer)(Wh=function(e){O()(r,e);var t=Kh(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onItemClick=function(t){t.collected?(0,R.runInAction)((function(){e.messengerStore.selectedLetterItem=t})):(0,de.info)("信件暂未解锁~")},e}return w()(r,[{key:"componentDidMount",value:function(){(0,ge.oy)(ye.UI.MY_LETTER_LIST_DIALOG)}},{key:"render",value:function(){var e=this;return Be()(vh.Z,{contentClass:Nh().wrap,clickCloseBtn:function(){e.messengerStore.showLetterListDialog=!1}},void 0,this.store.abTestStore.showMsgLetterRowTwoUI?Be()(Zh,{store:this.store,list:this.messengerStore.letterVolist,onItemClick:this.onItemClick}):Be()(je.Z,{className:Nh().bg,backgroundImage:"https://promotion.pddpic.com/promo/333b9005-df6a-40be-add9-c75adcf74f49.png.slim.png"},void 0,Be()("div",{className:Ke()(Nh().list)},void 0,this.messengerStore.letterVolist.map((function(t,r){var n=!!t.collected,i=(0,xr.gS)(t.rarity);return Be()(je.Z,{className:Nh().itemBg,backgroundImage:n?"https://promotion.pddpic.com/promo/29fc106a-741d-47e1-9298-335d414eb602.png.slim.png":"https://promotion.pddpic.com/promo/a237a484-6a17-426a-9f37-697eca57060e.png.slim.png",onClick:function(){e.onItemClick(t)}},r,Be()(je.Z,{className:n?Nh().collectedImg:Nh().unCollectedImg,backgroundImage:n?t.unlock_small_img:i?"https://promotion.pddpic.com/promo/ad4c8b0a-7c0a-4c46-b4c1-743a533274a9.png.slim.png":"https://promotion.pddpic.com/promo/c74db2c9-0562-4f6a-b3c7-c06c8afb2fa5.png.slim.png"},void 0,e.messengerStore.enableMessengerOpt&&n&&i&&Be()(je.Z,{className:Nh().rareTag,backgroundImage:wh.ym})),n&&Be()("div",{className:Nh().awardName},void 0,t.award_name))})))))}},{key:"messengerStore",get:function(){return this.store.messengerStore}}]),r}(Ge.Z))||Wh)||Wh)||Wh,Yh=r(75636),Vh=r.n(Yh),Xh=r(16040),Qh=Be()("br",{}),Jh=function(e){var t=e.coinCount,r=e.onClose;return Br()(Vh()),(0,x.useEffect)((function(){(0,ge.oy)(ye.UI.RECEIVE_COIN_DIALOG)}),[]),Be()(Xh.Z,{onClose:r},void 0,Be()("div",{className:Vh().title},void 0,"企鹅跋山涉水带回来了",Qh,(0,Pe.n)(t).valueStr,"金币"))},$h=r(14314),em=r(98607),tm=r.n(em),rm=r(52866),nm=(0,x.memo)((function(e){var t=e.store,r=e.onClick,n=e.position,i=e.idx,o=e.item,a=e.isUnLimit,s=e.children;Br()(tm());var c=o.trace_id,u=o.picked,p=o.img,d=(0,x.useRef)(u),h=(0,x.useRef)(),m=(0,x.useState)(!1),g=f()(m,2),y=g[0],v=g[1],b=!d.current&&u,_=t.abTestStore.showShellPickGuide&&i===t.messengerStore.showPickGuideShellIndex;if((0,x.useEffect)((function(){b&&(t.messengerStore.startNextShellPickGuideAni(),setTimeout((function(){v(!0)}),1100))}),[b]),(0,x.useEffect)((function(){d.current||(0,ge.oy)(ye.UI.SHELL,{scarcity_rate:null==o?void 0:o.rarity}),t.messengerStore.setPickTimer()}),[]),d.current||y)return null;var k="";if(b){var w,S,O,I=(null===(w=h.current)||void 0===w||null===(S=w.getBoundingClientRect)||void 0===S?void 0:S.call(w))||{},A=(null===(O=document.getElementById(Sd.l.MyPack))||void 0===O?void 0:O.getBoundingClientRect())||{},T=(0,rm.NH)(I,A),C=T.translateX,E=T.translateY,P="translate(".concat(C,"px, ").concat(E,"px)");k="\n    @keyframes Key".concat(c," {\n        0% {\n            transform: translate(0, 0) scale(1);\n        }\n        66.7% {\n            transform: ").concat(P," scale(1);\n        }\n        100% {\n            transform: ").concat(P," scale(0);\n        }\n    }\n")}var R=n||{},N=R.x,L=R.y,M=a?.15*Math.floor(i/20)+1:N,B=a?i%20*.15+1:L;return D().createElement("div",{className:Ke()(tm().wrap,l()({},tm().unLimitWrap,a)),ref:h,style:{left:"".concat(M,"rem"),top:"".concat(B,"rem"),zIndex:b?102:void 0,animation:b?"Key".concat(c," ").concat(1e3,"ms both"):void 0}},Be()(xh.Z,{store:t}),Be()("style",{dangerouslySetInnerHTML:{__html:k}}),Be()(je.Z,{className:Ke()(tm().aniWrap,_&&tm().guideAniWrap),onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){r(o,i),(0,ge.iH)(ye.UI.SHELL,{scarcity_rate:null==o?void 0:o.rarity})})),style:{animationDelay:a?0:"".concat(500*i,"ms")},backgroundImage:"https://promotion.pddpic.com/promo/1ac6e721-06b2-4b38-a199-c3399cf1f1be.png.slim.png"},void 0,Be()($h.Z,{className:tm().img,src:p})),s)})),im=r(17574),om=r.n(im);function am(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?am(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):am(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var cm={contentClassName:om().restAniCls,imgUrl:"https://promotion.pddpic.com/promo/b2d6f75f-e1bb-4cdb-ac7a-d36168c77e58.png.slim.png",cutWidth:!0},um=(zh={},l()(zh,xr.kn.RestUnlock,{contentClassName:om().restUnlockAniCls,imgUrl:"https://promotion.pddpic.com/promo/69bc9c6f-33b0-46e8-a3fd-2a94e25ff580.png.slim.png"}),l()(zh,xr.kn.Rest,cm),l()(zh,xr.kn.ReadyForCollecting,cm),l()(zh,xr.kn.CollectingStart,{contentClassName:om().collectingStartAniCls,imgUrl:wh.j5}),l()(zh,xr.kn.Collecting,{contentClassName:om().collectingCls,imgUrl:"https://promotion.pddpic.com/promo/3080bb74-9a4a-4de4-8813-c9dd9bece81a.png.slim.png"}),l()(zh,xr.kn.CollectedBack,{contentClassName:om().collectedBackAniCls,imgUrl:wh.I5}),l()(zh,xr.kn.Collected,cm),zh),lm=function(e){var t=e.store,r=e.showLetterGuide,n=e.showMessengerGuide,i=e.showBoxGuide,o=e.aniStep,a=e.setAniStep,s=e.statusBarHeight,c=e.onStartAniEnd,u=e.onBackAniEnd,p=(0,wd.Z)(),f=um[o],d={marginTop:s},h=[xr.kn.CollectingStart,xr.kn.CollectedBack,xr.kn.ReadyForCollecting].includes(o)&&t.checkLowDeviceDowngrade("cancel_msg_animation"),m=t.checkLowDeviceDowngrade("cancel_msg_animation")&&!!f.cutWidth;return Br()(om()),(0,x.useEffect)((function(){(0,ge.oy)(ye.UI.MESSENGER_HOUSE)}),[]),(0,x.useEffect)((function(){var e;return o===xr.kn.CollectingStart?e=setTimeout((function(){a(xr.kn.Collecting),c()}),h?0:xr.HH):o===xr.kn.CollectedBack?e=setTimeout((function(){a(xr.kn.Collected),u()}),h?0:xr.HH):o===xr.kn.RestUnlock&&(e=setTimeout((function(){a(xr.kn.Rest)}),500)),function(){e&&clearTimeout(e)}}),[o,u,c,a,h]),D().createElement(D().Fragment,null,!h&&Be()(ih.Z,{optimize:m,width:375,height:287,svgClassName:om().positionCls,svgStyle:d,contentClassName:p?f.contentClassName:"",imgUrl:f.imgUrl,cutWidth:f.cutWidth},"messenger"),[xr.kn.CollectedBack,xr.kn.Collected].includes(o)&&Be()(ih.Z,{optimize:!1,width:40,height:40,svgStyle:d,svgClassName:om().messagePositionCls,contentClassName:Ke()(om().messageCls,l()({},om().messageAniCls,xr.kn.Collected===o)),imgUrl:"https://promotion.pddpic.com/promo/6d024d0e-18e0-4e2a-a25b-fa1409ef2203.png.slim.png"},"message"),xr.kn.Collected===o&&r&&Be()(kh,{show:r,style:sm({top:"2.1rem",left:"1.06rem",zIndex:15},d)},"showLetterGuide"),n&&Be()(kh,{show:n,style:sm({top:"2.6rem",left:"0.76rem",zIndex:15},d)},"showMessengerGuide"),i&&Be()(kh,{show:i,style:sm({top:"2.05rem",left:"0.4rem",zIndex:20},d)},"showBoxGuide"),!h&&o===xr.kn.ReadyForCollecting&&Be()(je.Z,{bgUrl:wh.j5,className:om().displayNone}))},pm=r(1042),fm=r(79320),dm=r.n(fm),hm=Be()("br",{}),mm=function(e){var t=e.onClose,r=e.collectFinishTime,n=e.enableMessengerOpt,i=e.cpcTaskUrl,o=e.toFinishCpcTask;return Br()(dm()),(0,x.useEffect)((function(){(0,ge.oy)(ye.UI.TRAVELING_DIALOG)}),[]),(0,x.useEffect)((function(){(0,ge.oy)(i?ye.UI.CALL_BACK_BTN:ye.UI.WILL_COME_BTN)}),[i]),Be()(qf.Z,{maskClass:dm().mask,onClick:t},void 0,Be()("div",{className:dm().wrap},void 0,Be()("div",{className:dm().title},void 0,"企鹅去旅行啦！",hm,Be()(pm.Z,{className:dm().countDown,fmtStr:"hh:mm:ss",now:Date.now(),endTime:r,onFinish:t}),"后回来，会带来惊喜！"),Be()(je.Z,{backgroundImage:"https://promotion.pddpic.com/promo/a00ee2a7-61de-4e83-bdbd-a193da524e6c.png.slim.png",className:dm().border},void 0,Be()(je.Z,{backgroundImage:"https://promotion.pddpic.com/promo/251db282-cd59-4323-b1e8-3ab5466f3bd9.jpg.slim.c3.jpeg",className:dm().bg},void 0,Be()(ih.Z,{optimize:!1,width:150,height:141,svgClassName:dm().positionCls,contentClassName:dm().contentCls,imgUrl:"https://promotion.pddpic.com/promo/79ebf0ee-9b22-4794-a05a-9a459a2a9536.png.slim.png"}))),n&&Be()("div",{className:dm().bottomArea},void 0,i?Be()(je.Z,{backgroundImage:"https://promotion.pddpic.com/promo/b6d9ff9e-89ba-414d-bb20-3d5918040e5f.png.slim.png",className:dm().btn,onClick:function(e){e.stopPropagation(),(0,ge.iH)(ye.UI.CALL_BACK_BTN),o()}},void 0,"召回领奖励"):Be()(je.Z,{backgroundImage:"https://promotion.pddpic.com/promo/b6d9ff9e-89ba-414d-bb20-3d5918040e5f.png.slim.png",className:dm().btn,onClick:function(e){e.stopPropagation(),(0,ge.iH)(ye.UI.WILL_COME_BTN),t()}},void 0,"我会来看看"))))},gm=r(38025),ym=r.n(gm);function vm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vm(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _m,km="https://promotion.pddpic.com/promo/eaa732bc-7850-4a8e-a851-a6118d5c12b8.png.slim.png";function wm(e,t){var r=(0,x.useState)(!0),n=f()(r,2),i=n[0],o=n[1];return(0,x.useEffect)((function(){var r;return e&&(o(!0),r=t((function(){setTimeout((function(){var e;o(!1),null===(e=r)||void 0===e||e()}),0)}))),function(){var e;null===(e=r)||void 0===e||e()}}),[e,t]),i}!function(e){e[e.Nothing=0]="Nothing",e[e.ToStart=1]="ToStart",e[e.CountDown=2]="CountDown",e[e.ComeBack=3]="ComeBack"}(_m||(_m={}));var Sm,Om=function(e){var t=e.ownedShellVolist,r=e.messengerAniStep,n=e.cpcTaskUrl,i=e.registerClickMessenger,o=e.statusBarHeight,a=[xr.kn.Rest,xr.kn.ReadyForCollecting].includes(r)&&t.length>0?_m.ToStart:r===xr.kn.Collecting&&n?_m.ComeBack:_m.Nothing;Br()(ym());var s=wm(a===_m.ToStart,i),c=wm(a===_m.ComeBack,i),u={marginTop:o};switch(a){case _m.ToStart:return s?Be()(je.Z,{className:ym().countDownDialog,backgroundImage:km,style:bm({width:".56rem"},u)},void 0,Be()($h.Z,{className:ym().mail,src:"https://promotion.pddpic.com/promo/28e32f7c-4142-4cba-a174-85e5b57ba6b6.png.slim.png"}),"出发"):null;case _m.ComeBack:return c?Be()(je.Z,{className:ym().countDownDialog,backgroundImage:km,style:bm({width:".51rem",marginLeft:".37rem"},u)},void 0,"可召回"):null;case _m.Nothing:default:return null}},Im=r(55566),Am=r.n(Im),Tm=r(78049),Cm=Be()(Tm.Z,{}),Em=function(e){var t=e.item,r=t.img,n=t.rarity,i=e.onClose;Br()(Am()),(0,x.useEffect)((function(){(0,ge.oy)(ye.UI.MY_LETTER_DIALOG)}),[]);var o=(0,xr.gS)(n);return Be()(vh.Z,{contentClass:Am().wrap,clickCloseBtn:i,clickMask:i},void 0,o&&Cm,Be()(je.Z,{className:Am().bg,backgroundImage:"https://promotion.pddpic.com/promo/6b0f335f-dd66-4750-9fb5-147f7cd840e6.png.slim.png"},void 0,Be()(je.Z,{className:Am().pin,backgroundImage:"https://promotion.pddpic.com/promo/6bb200ac-772e-4ed0-87ea-06026aca3217.png.slim.png"}),Be()(je.Z,{className:Am().mainImg,backgroundImage:r})),o&&Be()(ih.Z,{optimize:!1,width:375,height:812,svgClassName:Am().circlePosCls,contentClassName:Am().circleAniCls,imgUrl:"https://promotion.pddpic.com/promo/8e54469a-c8c8-4795-91e9-727ef31d7c6e.png.slim.png"}))},Pm=r(46250),Rm=r.n(Pm),xm=["你好棒哦！","你很有收集的天赋！ ","神机妙算！"],Dm=function(e){return Math.floor(Math.random()*e)};!function(e){e[e.Normal=0]="Normal",e[e.Pack=1]="Pack"}(Sm||(Sm={}));var Nm,Lm,Mm,Bm,Fm="https://promotion.pddpic.com/promo/1c378f7e-f937-4e31-a9ad-f723130aa290.png.slim.png",Gm="https://promotion.pddpic.com/promo/84880ce2-7f6f-45ee-aa8a-f75d562323c8.png.slim.png",jm="https://promotion.pddpic.com/promo/bc245daf-22ce-44e9-afd1-814d55ca0690.png.slim.png",Um="https://promotion.pddpic.com/promo/d4133a8e-7a82-4447-8ca2-ca45e59a9f0d.png.slim.png",Wm="https://promotion.pddpic.com/promo/ae2d9357-f622-4ac2-8f40-38d2a1cc9ac4.png.slim.png",Zm="https://promotion.pddpic.com/promo/fe0bf47a-b582-4c7f-9858-acf3fe975e75.png.slim.png",Hm="https://promotion.pddpic.com/promo/6bb200ac-772e-4ed0-87ea-06026aca3217.png.slim.png",Km="https://promotion.pddpic.com/promo/c7fdb4c7-0896-4ede-95e9-e0304c29a47d.png.slim.png",zm="https://promotion.pddpic.com/promo/8e54469a-c8c8-4795-91e9-727ef31d7c6e.png.slim.png",qm="MESSENGER_LETTER_IMG_ID",Ym=Be()("br",{}),Vm=Be()("br",{}),Xm=Be()(Tm.Z,{}),Qm=function(e){var t=e.item,r=t.img,n=t.rarity,i=e.onClose,o=e.enableMessengerOpt,a=void 0!==o&&o;Br()(Rm()),(0,x.useEffect)((function(){(0,ge.oy)(ye.UI.RECEIVE_LETTER_DIALOG),(0,ho.default)([Km,Fm,Gm])}),[]);var s=(0,x.useRef)(xm[Dm(xm.length)]),c=(0,x.useRef)(Dm(10)+90),u=(0,x.useRef)(Dm(3)+1),p=(0,xr.gS)(n),d=a?p?Be()("div",{className:Rm().congratsTitleRare},void 0,"哇，天选之子",Ym,"只有",Be()("span",{},void 0,u.current,"%"),"的玩家能获得此信件"):Be()("div",{className:Rm().congratsTitleRare},void 0,"  "+s.current,Vm,"收集速度超越了",Be()("span",{},void 0,c.current,"%"),"的玩家"):null,h=(0,x.useState)(Sm.Normal),m=f()(h,2),g=m[0],y=m[1],v=g===Sm.Pack,b=(0,x.useCallback)((function(){a?(y(Sm.Pack),setTimeout((function(){i()}),1583)):i()}),[i,a]),_=(0,x.useState)(0),k=f()(_,2),w=k[0],S=k[1];(0,x.useEffect)((function(){var e,t,r,n=null===(e=document.getElementById(qm))||void 0===e?void 0:e.getBoundingClientRect(),i=null===(t=document.getElementById(xr.WP))||void 0===t?void 0:t.getBoundingClientRect(),o=(r=(n.y-i.y)/Math.min(window.innerWidth,640)*375-216.5,-Math.round(r)/100);S(o||0)}),[]);var O=" ".concat(w>0?"+":"-"," ").concat(Math.abs(w),"rem");return Be()(vh.Z,{contentClass:Rm().wrap,maskClass:Ke()(l()({},Rm().maskPack,v)),closeBtn:!v,clickCloseBtn:b,clickMask:function(){}},void 0,p&&!v&&Xm,Be()(je.Z,{className:Ke()(Rm().letterFirstBg,l()({},Rm().removeAniCls,v)),backgroundImage:jm}),Be()(je.Z,{className:Ke()(Rm().letterSecondBg,l()({},Rm().showAndRemoveAniCls,v)),backgroundImage:Um}),Be()(je.Z,{className:Ke()(Rm().letterFirstCover,l()({},Rm().removeAniCls,v)),backgroundImage:Wm}),Be()(je.Z,{className:Ke()(Rm().letterSecondCover,l()({},Rm().showAndRemoveAniCls,v)),backgroundImage:Zm}),!v&&d,Be()(je.Z,{className:Ke()(Rm().pin,l()({},Rm().removeAniCls,v)),backgroundImage:Hm}),Be()("div",{className:Ke()(Rm().mainImgWrap,l()({},Rm().mainImgPackAni,v)),id:qm},void 0,Be()(je.Z,{className:Rm().mainImg,backgroundImage:r})),v&&D().createElement(D().Fragment,null,Be()(je.Z,{className:Rm().boxTop,style:{marginTop:"".concat(w,"rem")},backgroundImage:Fm}),Be()(je.Z,{className:Rm().boxBottom,style:{marginTop:"".concat(w,"rem")},backgroundImage:Gm}),Be()(je.Z,{className:Rm().heartIn,backgroundImage:Km}),Be()(je.Z,{className:Rm().heartOut,style:{animation:"heartOutAniKey 707ms linear 876ms both"},backgroundImage:Km}),Be()("style",{dangerouslySetInnerHTML:{__html:"\n@keyframes heartOutAniKey {\n    0.00% { transform: translate(0%, 0%) rotate(0deg) scale(1); opacity: 0; }\n    0.1% { transform: translate(0%, 0%) rotate(0deg) scale(1); opacity: 1; }\n    17.64% { transform: translate(0%, 0%) rotate(0deg) scale(1.15); opacity: 1; }\n    52.93% { transform: translate(-171.2%, calc(-386.6%".concat(O,")) rotate(0deg) scale(.085); opacity: 1; }\n    58.82% { transform: translate(-183.8%, calc(-369.1%").concat(O,")) rotate(0deg) scale(.068); opacity: 1; }\n    64.71% { transform: translate(-193%, calc(-349.1%").concat(O,")) rotate(0deg) scale(.05); opacity: 1; }\n    70.57%,\n    76.09% { transform: translate(-184.7%, calc(-341.4%").concat(O,")) rotate(14deg) scale(.05); opacity: 1; }\n    76.46% { transform: translate(-172.6%, calc(-336.9%").concat(O,")) rotate(28deg) scale(.05); opacity: 1; }\n    76.50%,\n    100.00% { transform: translate(-172.6%, calc(-336.9%").concat(O,")) rotate(28deg) scale(.05); opacity: 0; }\n}\n")}})),p&&!v&&Be()(ih.Z,{optimize:!1,width:375,height:812,svgClassName:Rm().circlePosCls,contentClassName:Rm().circleAniCls,imgUrl:zm}),Be()(je.Z,{onClick:b,className:Ke()(Rm().btn,l()({},Rm().removeAni2Cls,v)),backgroundImage:wh.g9},void 0,"开心收下"),Be()("div",{className:Ke()(Rm().tailText,l()({},Rm().removeAni2Cls,v))},void 0,"(关闭后可在信箱中查看)"))};function Jm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var $m,eg=function(e){return function(e){var t=e.endTime,r=e.onEnd;(0,x.useEffect)((function(){var e;return t>Date.now()&&(e=setTimeout((function(){r()}),t-Date.now())),function(){e&&clearTimeout(e)}}),[])}({endTime:e.endTime,onEnd:e.onEnd}),null};!function(e){e[e.Nothing=1]="Nothing",e[e.Locked=2]="Locked",e[e.Normal=3]="Normal"}($m||($m={}));var tg=Be()("br",{}),rg=We()(yh())(Nm=(0,Fe.inject)("store")(Nm=(0,Fe.observer)((Lm=function(e){O()(r,e);var t=Jm(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).clickMessengerListeners=[],e.registerClickMessenger=function(t){return e.clickMessengerListeners.push(t),function(){e.clickMessengerListeners=e.clickMessengerListeners.filter((function(e){return e!==t}))}},e.execClickMessengerListeners=function(){e.clickMessengerListeners.forEach((function(t){if("function"==typeof t)try{t()}catch(t){e.store.sendError(t)}}))},h()(e,"onClickMessenger",Mm,v()(e)),h()(e,"onClickLetterBox",Bm,v()(e)),e.onStartAniEnd=function(){e.messengerStore.enableMessengerOpt&&((0,dt.aF)(xr.DC)||e.messengerStore.openTravelDialog())},e.onBackAniEnd=function(){(0,dt.m8)(qn,1)},e.toFinishCpcTask=function(){var t=e.messengerStore.cpcTaskUrl;t&&me.ZP.forward(t)},e}return w()(r,[{key:"renderLocked",value:function(){return Be()(ze.Z,{trackingInfo:{page_el_sn:ye.UI.MESSENGER_HOUSE}},void 0,Be()(je.Z,{className:yh().main,backgroundImage:"https://promotion.pddpic.com/promo/909a38c0-565a-48c6-aa80-5cd95e17f67c.png.slim.png",style:{marginTop:this.statusBarHeight}},void 0,this.store.leoConfig.unlockMessengerDegree,"级后",tg,"解锁"))}},{key:"render",value:function(){var e=this;if(!this.messengerStore.canShow)return null;var t=this.messengerStore,r=t.messengerStatus,n=t.hasUnlock,i=t.messengerAniStep,o=t.showLetterGuide,a=t.showMessengerGuide,s=t.showBoxGuide,c=t.showBoxGuideDisabled,u=t.setAniStep,l=t.showStartDialog,p=t.showLetterListDialog,f=t.receiveCoinCount,d=t.selectedLetterItem,h=t.cpcTaskUrl,m=t.enableMessengerOpt,g=t.receiveLetterItem,y=t.closeTravelDialog,v=t.collectFinishTime,b=t.showTravelDialog,_=t.freshStatus,k=t.ownedShellVolist,w=r===xr.ZM.Unknown,S=n?w?$m.Nothing:$m.Normal:$m.Locked;return D().createElement(D().Fragment,null,S!==$m.Nothing&&Be()("div",{id:xr.WP,className:yh().wrap,onClick:this.onClickMessenger,style:{marginTop:this.statusBarHeight}},void 0,Be()(xh.Z,{store:this.store,collide:!1},"".concat(this.statusBarHeight)),S===$m.Normal&&Be()(ze.Z,{trackingInfo:{page_el_sn:ye.UI.LETTER_BOX}},void 0,Be()("div",{className:yh().letterBox,onClick:this.onClickLetterBox}))),S===$m.Normal&&D().createElement(D().Fragment,null,Be()(lm,{aniStep:i,statusBarHeight:this.statusBarHeight,showLetterGuide:o,showMessengerGuide:a&&k.length>0,showBoxGuide:!c&&s,setAniStep:u,onStartAniEnd:this.onStartAniEnd,onBackAniEnd:this.onBackAniEnd,store:this.store}),m&&Be()(Om,{statusBarHeight:this.statusBarHeight,cpcTaskUrl:h,ownedShellVolist:k,messengerAniStep:i,registerClickMessenger:this.registerClickMessenger})),S===$m.Locked&&this.renderLocked(),l&&Be()(Rh,{store:this.store}),p&&Be()(qh,{store:this.store}),f&&Be()(Jh,{coinCount:f,onClose:function(){e.messengerStore.receiveCoinCount=null}}),d&&Be()(Em,{item:d,onClose:function(){e.messengerStore.selectedLetterItem=null}}),g&&Be()(Qm,{item:g,enableMessengerOpt:m,onClose:function(){e.messengerStore.receiveLetterItem=null,e.messengerStore.handleLetterRankingUpShow()}}),b&&Be()(mm,{enableMessengerOpt:m,cpcTaskUrl:h,toFinishCpcTask:this.toFinishCpcTask,onClose:y,collectFinishTime:v+2e3}),-1!==v&&Be()(eg,{endTime:v+2e3,onEnd:_},"OnEnterHook_".concat(v)))}},{key:"messengerStore",get:function(){return this.store.messengerStore}},{key:"statusBarHeight",get:function(){var e;return(null===(e=this.store.appContext)||void 0===e?void 0:e.sh)||0}}]),r}(Ge.Z),Mm=P()(Lm.prototype,"onClickMessenger",[$.d,R.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return a()(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.execClickMessengerListeners(),e.messengerStore.hasUnlock){t.next=5;break}return(0,ge.iH)(ye.UI.MESSENGER_HOUSE,{messenger_status:xr.ZM.Locked}),(0,de.info)("再升".concat(e.store.leoConfig.unlockMessengerDegree-e.store.myTopRank,"级可解锁新角色哦")),t.abrupt("return");case 5:if(e.messengerStore.messengerStatus!==xr.ZM.Unknown){t.next=8;break}return(0,ge.iH)(ye.UI.MESSENGER_HOUSE,{messenger_status:xr.ZM.Unknown}),t.abrupt("return");case 8:(0,ge.iH)(ye.UI.MESSENGER_HOUSE,{messenger_status:e.messengerStore.messengerStatus}),e.messengerStore.ownedShellVolist.length>0&&e.messengerStore.setShowedGuide("showMessengerGuide"),t.t0=e.messengerStore.messengerStatus,t.next=t.t0===xr.ZM.Rest?13:t.t0===xr.ZM.Collecting?16:t.t0===xr.ZM.Collected?18:47;break;case 13:return t.next=15,e.messengerStore.openStartDialog(xr.WX.ClickMessenger);case 15:return t.abrupt("return");case 16:return e.messengerStore.openTravelDialog(),t.abrupt("return");case 18:return t.prev=18,e.messengerStore.setShowedGuide("showLetterGuide"),t.next=22,Rr.n.toolSend({tcid:xr.kt.FairyLetter},{});case 22:if(!(null==(r=t.sent)?void 0:r.fairy_letter_hint)){t.next=27;break}e.store.rareBookDialogStore.showAction(r.fairy_letter_hint),t.next=36;break;case 27:if(!(null==r?void 0:r.fairy_coin_num)){t.next=31;break}e.messengerStore.receiveCoinCount=r.fairy_coin_num,t.next=36;break;case 31:if(!(null==r?void 0:r.fairy_letter_vo)){t.next=35;break}(0,R.runInAction)((function(){e.messengerStore.receiveLetterItem=r.fairy_letter_vo,e.messengerStore.letterRankBefore=r.letter_rank_before})),t.next=36;break;case 35:throw new Error("领奖时未返回[金币]或[信件]");case 36:t.next=42;break;case 38:t.prev=38,t.t1=t.catch(18),e.store.sendError(t.t1),(0,de.info)(xr.eR);case 42:return t.prev=42,e.messengerStore.freshStatus(),e.messengerStore.setShowedGuide("showBoxGuideDisabled"),t.finish(42);case 46:case 47:return t.abrupt("return");case 48:case"end":return t.stop()}}),t,null,[[18,38,42,46]])})))}}),Bm=P()(Lm.prototype,"onClickLetterBox",[$.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=a()(i().mark((function t(r){var n,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.stopPropagation(),(0,ge.iH)(ye.UI.LETTER_BOX),t.prev=2,t.next=5,Rr.n.queryToolList({query_fairy_letter:!0},{});case 5:if(!(null==(o=t.sent)||null===(n=o.fairy_letter_volist)||void 0===n?void 0:n.length)){t.next=10;break}(0,R.runInAction)((function(){e.messengerStore.letterVolist=(null==o?void 0:o.fairy_letter_volist)||[],e.messengerStore.showLetterListDialog=!0})),t.next=11;break;case 10:throw new Error("信物返回数量不足");case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),(0,de.info)(xr.eR),e.store.sendError(t.t0);case 17:return t.prev=17,e.messengerStore.showBoxGuideDisabled||(e.messengerStore.setShowedGuide("showBoxGuide"),e.messengerStore.resetGuides()),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[2,13,17,20]])})));return function(e){return t.apply(this,arguments)}}()}}),Nm=Lm))||Nm)||Nm)||Nm,ng=(0,Fe.observer)((function(e){var t=e.store;return t.messengerStore.canShow?t.messengerStore.todayShellVolist.map((function(e,r){return Be()(nm,{store:t,onClick:t.messengerStore.gainShell,isUnLimit:t.messengerStore.isUnLimit,position:Dr[r],item:e,idx:r},r,0===r?Be()(kh,{show:t.messengerStore.showShellGuide}):null)})):null})),ig=r(25338);function og(e){return new Promise((function(t){var r=0,n=null;requestAnimationFrame((function i(){if(null===n)n=Date.now(),requestAnimationFrame(i);else{r++;var o=Date.now()-n;if(e>o)requestAnimationFrame(i);else{var a=function(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r}(1e3/(o/r),0);t(a)}}}))}))}var ag,sg=r(73634),cg=r.n(sg);function ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ug(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ug(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var fg=We()(cg())(ag=(0,Fe.observer)(ag=function(e){O()(n,e);var t,r=pg(n);function n(){var e;g()(this,n);for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(e=r.call.apply(r,[this].concat(o))).store=e.props.store,e.offlineDialogStore=e.store.offlineDialogStore,e.chargeBackCouponsDialogStore=e.store.chargeBackCouponsDialogStore,e.handleTask=a()(i().mark((function t(){var r,n,o,a,s,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.store.duoduoSpriteLogger({stage:"click_offline_cpt_entry"}),(0,ge.iH)(null,e.taskLogInfo)]);case 2:o=e.store.leoForMission.offlineTaskConfig||{},a=o.orderMissionId,s=o.orderBackUpCpcMissionId,c=e.store.offlineDialogStore.isCpt?a:s,e.store.shouldRequestMain=!0,(0,me.eH)(null===(r=e.offlineDialogStore.useTask)||void 0===r?void 0:r._appendTaskQuery(null===(n=e.offlineDialogStore.useTask)||void 0===n?void 0:n.targetUrl,c),{page_el_sn:e.taskLogInfo.page_el_sn});case 6:case"end":return t.stop()}}),t)}))),e.handleClose=function(){(0,ge.iH)(ye.us.EL_3436857,{reward_type:4}),e.offlineDialogStore.hideAction(),e.store.duoduoSpriteLogger({stage:"offline_dialog_closed"}),e.chargeBackCouponsDialogStore.showAction()},e}return w()(n,[{key:"showCostLog",value:function(){try{var e=window._plt.find((function(e){return"ps"===e[1]}))[2],t=Date.now()-e;this.store.duoduoSpriteLogger({stage:"offline_pop_cost",longFields:{cost_time:t}})}catch(e){this.store.sendError(e)}}},{key:"componentDidMount",value:function(){var e=this.store.offlineDialogInfo,t=e.offlineCoinNum;e.isShow&&(0,Pe.ED)(t,0)&&(this.handleGuide(),this.offlineDialogStore.showAction(),this.showCostLog())}},{key:"componentWillUnmount",value:function(){var e;null===(e=this.notificationRemove)||void 0===e||e.call(this)}},{key:"handleGuide",value:(t=a()(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fr.ZP.isNativePlatform){e.next=4;break}return e.next=3,(0,Sl.addNotificationCallback)(po.t0,(function(){t.offlineDialogStore.hideAction()}));case 3:this.notificationRemove=e.sent;case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderBtn",value:function(){var e,t=this;return Be()("div",{className:cg().btnWrap},void 0,Be()("div",{className:cg().btn,onClick:this.handleClose},void 0,"我知道了"),this.showTaskBtn&&Be()(lt,{trackingInfo:this.taskLogInfo,onEnter:function(){return t.store.duoduoSpriteLogger({stage:"enter_offline_cpt_entry"})}},void 0,Be()(je.Z,{bgUrl:Ze.ZP.OFFLINE_DIALOG_BTN_DO_TASK,className:cg().doTaskBtn,onClick:this.handleTask},void 0,this.offlineDialogStore.guideText||"多领".concat(null===(e=this.offlineDialogStore.useTask)||void 0===e?void 0:e.coinFormatString,"金币"))))}},{key:"renderBrandContent",value:function(e,t){var r=this.store.offlineDialogInfo.offlineCoinNum;return Be()(je.Z,{className:cg().brandDialogBg,bgUrl:Ze.ZP.OFFLINE_DIALOG_BRAND_BG},void 0,Be()(je.Z,{className:cg().brandLogo,bgUrl:e}),Be()(je.Z,{className:cg().brandTitle},void 0,Be()("span",{},void 0,t),"为您收获了"),Be()("div",{className:cg().coinNew},void 0,Be()(je.Z,{className:cg().coinSmall,bgUrl:Ze.ZP.COMMON_PIC_COIN}),(0,Pe.n)(r).valueStr),Be()(je.Z,{className:cg().coinBox,bgUrl:Ze.ZP.OFFLINE_DIALOG_COIN_BOX}),Be()("div",{className:cg().timeNew},void 0,"最多可累计3小时收益"),this.renderBtn())}},{key:"render",value:function(){if(!this.offlineDialogStore.isShow)return null;var e=this.store.offlineDialogInfo.offlineCoinNum,t=this.offlineDialogStore,r=t.brandLogoUrl,n=t.brandName,i=t.isBrand,o=t.isCpt,a={page_el_sn:ye.us.sectionPageElSn,reward_type:4},s=this.store.duoduoSpriteLogger;return Be()(lt,{onEnter:s.bind(null,{stage:"offline_dialog_show"}),trackingInfo:a},void 0,Be()(vh.Z,{contentClass:Ke()(cg().dialog,i&&cg().brandDialog),clickCloseBtn:this.handleClose},void 0,i&&o?this.renderBrandContent(r,n):D().createElement(D().Fragment,null,Be()(je.Z,{bgUrl:Ze.ZP.OFFLINE_DIALOG_TREASURE_PIC,className:cg().treasure}),Be()("div",{className:cg().white},void 0,"您不在的时间里，您的精灵为您收获了"),Be()("div",{className:cg().green},void 0,Be()(je.Z,{className:cg().coin,bgUrl:Ze.ZP.COMMON_PIC_COIN}),(0,Pe.n)(e).valueStr),Be()("div",{className:cg().time},void 0,"最多可累计3小时收益"),Be()(je.Z,{bgUrl:Ze.ZP.OFFLINE_DIALOG_TITTLE_PIC,className:cg().titlePic}),this.renderBtn())))}},{key:"showTaskBtn",get:function(){var e,t;return(null===(e=this.offlineDialogStore.useTask)||void 0===e?void 0:e.isToStart)||(null===(t=this.offlineDialogStore.useTask)||void 0===t?void 0:t.isToGetAward)}},{key:"taskLogInfo",get:function(){var e=this.offlineDialogStore,t=e.isBrand,r=e.browseCptTask,n=e.isCpt,i=e.browseCpcTask;return n?lg(lg({page_el_sn:ye.us.EL_4824215},r.baseItemLogInfo),{},{is_show_brand:~~t,entrance_from:1}):lg({page_el_sn:ye.us.EL_7080195},i.baseItemLogInfo)}}]),n}(D().Component))||ag)||ag,dg=r(70694),hg=r.n(dg);function mg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var gg=function(e){O()(r,e);var t=mg(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={retryTimes:e.props.retryTimes||0,error:null,errorInfo:null},e}return w()(r,[{key:"componentDidCatch",value:function(e,t){this.props.catchCallback&&this.props.catchCallback(e),(0,ge.y7)(e,t),+this.state.retryTimes>0&&this.setState({retryTimes:this.state.retryTimes-1,error:null,errorInfo:null})}},{key:"render",value:function(){return this.state.error?this.props.fallback||Be()("div",{className:"error-boundary2"}):this.props.children||null}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),r}(D().Component);gg.propsTypes={retryTimes:hg().number,fallback:hg().element,catchCallback:hg().func},gg.defaultProps={retryTimes:0,fallback:Be()("div",{className:"error-boundary"})};var yg,vg,bg=r(80583),_g=r.n(bg),kg=r(28679),wg=r.n(kg);function Sg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Og,Ig=We()(wg())(yg=(0,Fe.inject)("store")(yg=(0,Fe.observer)((vg=function(e){O()(r,e);var t=Sg(r);function r(){var e;g()(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onClickRocket=a()(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,ge.iH)(ye.Jl.EL_3436623),t.next=3,e.store.speedUpInviteDialogStore.request();case 3:e.store.speedUpInviteDialogStore.showAction();case 4:case"end":return t.stop()}}),t)}))),e.onFinishSpeedUp=function(){e.store.requestMainUpdate("rocket_speed_up")},e}return w()(r,[{key:"renderCountDown",value:function(){var e=this.store.speedUpTotalTime;if(!(e>0))return null;var t=this.store.server_time,r=t+e;return Be()("div",{className:wg().time,style:this.commonStyle.time},void 0,Be()("div",{className:wg().speedUpNum},void 0,"赚金币速度x2"),Be()(pm.Z,{fmtStr:"hh:mm:ss",now:t,endTime:r,onFinish:this.onFinishSpeedUp},r))}},{key:"render",value:function(){if(this.store.myTopRank<this.store.gameStore.guideHandler.enableWorkLevel||!this.store.isMainScene||!this.store.isGameCreated)return null;var e=this.store.checkLowDeviceDowngrade("cancel_css_animation");return D().createElement(D().Fragment,null,Be()(ze.Z,{trackingInfo:{page_el_sn:ye.Jl.EL_3436623}},void 0,Be()("div",{className:wg().wrap,onClick:this.onClickRocket},void 0,this.store.speedUpAniActive?Be()(ih.Z,{id:Sd.l.Rocket,width:180,height:1200,contentClassName:wg().rocketAni,svgClassName:wg().rocket,imgUrl:Ze.ZP.ROCKET_ANI,optimize:!1}):Be()(je.Z,{id:Sd.l.Rocket,className:Ke()(wg().rocketStatic,l()({},wg().cancelCssAnimation,e)),bgUrl:"https://promotion.pddpic.com/promo/8e66e68d-83a8-41e5-aa32-99209e712016.png.slim.png"},void 0,Be()($h.Z,{className:wg().rocketInnerFire,src:"https://promotion.pddpic.com/promo/bdc05595-235e-486b-9fb8-c2559fdbfee6.png.slim.png",optimize:!1}),Be()($h.Z,{className:wg().rocketInner,src:"https://promotion.pddpic.com/promo/cae13326-c160-4236-8e91-82e183be68fc.png.slim.png",optimize:!1})))),this.store.speedUpAniActive&&Be()(je.Z,{className:wg().light,bgUrl:Ze.ZP.ROCKET_LIGHT}),this.renderCountDown())}},{key:"commonStyle",get:function(){return this.store.skinUseCommon?{time:{top:"0.94rem"}}:{}}}]),r}(Ge.Z),P()(vg.prototype,"commonStyle",[R.computed],Object.getOwnPropertyDescriptor(vg.prototype,"commonStyle"),vg.prototype),yg=vg))||yg)||yg)||yg;function Ag(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Tg=Be()(Ig,{}),Cg=We()(_g())(Og=(0,Fe.observer)(Og=function(e){O()(r,e);var t=Ag(r);function r(){return g()(this,r),t.apply(this,arguments)}return w()(r,[{key:"render",value:function(){var e=this.store.levelMap.SEAT,t=e.SEAT_PIC,r=e.SEAT_SPEED_UP_PIC,n=e.BG_DOM,i=this.store.gameStore,o=i.isShowSeats,a=i.isShowSeatBgWithScale,s=this.store.speedUpTotalTime;return Be()(je.Z,{className:_g().wrap,bgUrl:s?r:t,style:{width:"".concat(n.w,"rem"),height:"".concat(n.h,"rem"),left:"".concat(n.x,"rem"),top:"".concat(n.y,"rem"),opacity:o?"1":"0",animation:a?void 0:"none"},optimize:!1},void 0,Tg)}}]),r}(Ge.Z))||Og)||Og,Eg=r(55861),Pg=r(57087),Rg=function(){var e=a()(i().mark((function e(){var t,r,n,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},r=function(){var e=a()(i().mark((function e(){var r,n,o,a,s,c,u,l,p,d,h,m,g,y,v,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,fo.k$)("supportCustomNavigationBar",null,!1);case 2:if(r=e.sent,0!==r.enable){e.next=6;break}return e.abrupt("return");case 6:return n=t.btnStyle,o=void 0===n?["#ffffff","#ffffff"]:n,a=t.statusBarStyle,s=void 0===a?[1,1]:a,c=t.alpha,u=void 0===c?[0,1]:c,l=t.offset,p=void 0===l?[0,200]:l,d=t.backgroundColor,h=void 0===d?"#6615a6":d,m=[(0,fo.k$)("getNavigationHeight",null,!1),(0,fo.k$)("setRollingAlpha",{alpha:u,btn_style:o,status_bar_style:s,continuous:1,offset:p,height:window.innerHeight},!1),(0,fo.k$)("setBackground",{background_color:h},!1)],e.next=10,Promise.all(m);case 10:return g=e.sent,y=f()(g,1),v=y[0],b=v.navigation_height,v.statusbar_height,e.abrupt("return",~~b);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,r();case 5:return n=e.sent,e.abrupt("return",n);case 9:if(e.prev=9,e.t0=e.catch(2),60001!==e.t0&&!(0,Ie.$k)(e.t0)){e.next=13;break}return e.abrupt("return",0);case 13:return ge.ZP.sendError(e.t0),e.abrupt("return",0);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),xg=function(e){if((0,L.compareVersion)(Fr.ZP.version,"4.31.0")>=0&&location.href.includes("_pdd_fs=1"))return Rg(e)},Dg=r(76539),Ng=r.n(Dg),Lg=r(87227);function Mg(e){var t=e.store;Br()(Ng());var r=(0,x.useState)(!1),n=f()(r,2),i=n[0],o=n[1],a=(0,x.useState)(!1),s=f()(a,2),c=s[0],u=s[1];return Be()(xh.Z,{className:Ke()(Ng().wrap,!1),store:t,isStatic:!0,overlay:!0,onClick:function(){(0,ge.iH)(ye.RZ.RABBIT_NPC),t.rollEggMachineDialogStore.showAction(),t.rollEggStore.hideRabbitNpc(!0)},parentContainer:!1,x:0,y:0},void 0,Be()(Lg.Z,{className:Ke()(Ng().ani,i&&Ng().show,c&&Ng().fade),lottieManager:t.lottieManager,animationParams:{renderer:"svg",loop:!0,autoplay:!1,path:"https://promotion.pddpic.com/promo/cb76f270-6a7c-41e6-a6a7-13082944e263.json"},onEvent:{data_ready:function(e){return function(e){e.play(),o(!0),(0,ge.oy)(ye.RZ.RABBIT_NPC);var r=t.leoConfig.disappearTime;setTimeout((function(){u(!0),setTimeout((function(){t.rollEggStore.hideRabbitNpc()}),500)}),void 0===r?1e4:r)}(e)}}},void 0,Be()(je.Z,{className:Ng().tips,bgUrl:"https://promotion.pddpic.com/promo/ebb16550-ec30-4fb1-9c89-985ce40a9810.png.slim.png"},void 0,"点我吖~")))}var Bg=r(97957),Fg=r(74904),Gg=r.n(Fg),jg=Be()("svg",{width:".11rem",height:".22rem",viewBox:"0 0 512 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},void 0,Be()("path",{d:"M525.89 1021.75a24.63 24.63 0 0 1-17.21-7L8.51 529.45a24.72 24.72 0 0 1 0-35.48L508.68 8.64a24.72 24.72 0 0 1 34.42 35.49L61.21 511.71l481.9 467.59a24.72 24.72 0 0 1-17.21 42.46z m0 0",fill:"#ffffff"})),Ug=r(73945),Wg=r.n(Ug);function Zg(e){var t=e.store;Br()(Wg());var r=(0,x.useState)(!1),n=f()(r,2),i=n[0],o=n[1];(0,x.useEffect)((function(){if(i){var e=setTimeout((function(){a()}),1550);return s(!0),function(){clearTimeout(e)}}}),[i]),(0,x.useEffect)((function(){return function(){a(),s(!1)}}),[]);var a=function(){return(0,R.runInAction)((function(){t.gameStore.isShowEatFoodAni=!1,t.gameStore.isShowEnergyBallFly=!0}))};function s(e){t.gameStore.pets.map((function(t){var r=t.instance,n=(null==r?void 0:r.isRoamPet)&&r.roamPet;n&&(n.stopMotion=e)}))}return(0,Fe.useObserver)((function(){return D().createElement(D().Fragment,null,t.gameStore.pets.map((function(e,t){var r=e.instance,n=(null==r?void 0:r.isRoamPet)?r.roamPet.sprite:(null==r?void 0:r.isNormalWorkPet)&&r.workPet.sprite;if(n){var a=(0,Ko.BO)(n.x),s=(0,Ko.BO)(n.y);return Be()($h.Z,{className:Wg().ani,src:"https://promotion.pddpic.com/promo/04e5750e-0415-481b-b724-3227d3ba6ae2.png",isApng:!0,onLoad:function(){return!t&&o(!0)},style:{left:a,top:s,display:i?void 0:"none"}},t)}})))}))}var Hg,Kg,zg,qg,Yg,Vg,Xg=function(e){var t,r,n=null===(t=e.leoConfig)||void 0===t?void 0:t.reloadTime,i=Date.now();e.$$commonData.platform.isNativePlatform&&n&&!(null===(r=e.queries)||void 0===r?void 0:r.time_reload)&&(0,Sl.addNotificationCallback)("onAppShow",(function(){Date.now()-i>n&&(0,F.invokeBridgeCallNativeFun)("WebScene","reload",{url:(0,M.appendQuery)({time_reload:1},location.href)})}))},Qg=r(5278),Jg=r.n(Qg),$g=(0,x.memo)((function(e){var t,r,n=e.store;Br()(Jg()),(0,x.useEffect)((function(){var e=setTimeout((function(){(0,R.runInAction)((function(){n.gameStore.isShowEnergyBallFly=!1,n.gameStore.isShowCoinRateUp=!0}))}),s.time+c.time);return function(){clearTimeout(e)}}),[]);var i=document.querySelector("#".concat(Sd.l.EnergyEntry)),o=null==i?void 0:i.getBoundingClientRect(),a=null===(t=n.scoreSpeedCoinRef)||void 0===t||null===(r=t.current)||void 0===r?void 0:r.getBoundingClientRect();if(!o||!a)return null;var s={offsetX:a.x-o.width/2,offsetY:a.y-o.height/2,time:800},c={offsetX:a.x-o.width/2+a.width/2,offsetY:a.y-o.height/2+a.height/2,time:200},u="translate3d(".concat(o.x,"px, ").concat(o.y,"px, 0) scale(1)"),l="translate3d(".concat(s.offsetX,"px, ").concat(s.offsetY,"px, 0) scale(.6)"),p="translate3d(".concat(c.offsetX,"px, ").concat(c.offsetY,"px, 0) scale(0)"),f=(0,M.nanoid)(),d="\n        @keyframes ani-".concat(f," {\n            0% {\n                transform: ").concat(u,";\n            }\n            60% {\n                transform: ").concat(l,";\n            }\n            100% {\n                transform: ").concat(p,";\n            }\n        }"),h={animation:"ani-".concat(f," ").concat(s.time+c.time,"ms linear both")};return D().createElement(D().Fragment,null,Be()("style",{dangerouslySetInnerHTML:{__html:d}}),Be()(Od.Z,{store:n,className:Jg().flyWrap,style:h}))}));function ey(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ty(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function ty(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ry(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ny(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ry(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ry(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function iy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var oy=sd.Component(),ay=ud.Component(),sy=["giftBoxDialog","speedUpInviteDialog","inviteUnlockDialog","unlockResultDialog","unlockSpriteDialog","howToSearchDialog","taskCouponDialog","redPacketDialog","buySkinDialog","driveAwayDialog","driveAwayReturnDialog","recallReturnDialog","recallAllDialog","guideDialog","dailySignDialog","score2CoinDialog","driveAwayAnimation","transitionCloud","eggDialog","mealsCheckInDialog","spriteBookDialog","resetDialog","ruleDialog","recycleDialog","searchChangeDialog","taskAwardDialog","luckyPacketUnlockDialog","luckyPacketResultDialog","sendCashFailGiveCoinDialog","surpriseCouponDialog","surpriseCouponRecordDialog","surpriseCoupon2Dialog","rollEggAwardResultDialog","coinRewardBoxDialog","rollEggPrizeDialog","rollEggGoodsOrderDialog","rollEggMissionAwardDialog","address","toolGetDialog","commonOrderPopMsgDialog","msgBoxAwardDialog","rareBookDialog","msgRankDialog","foodAwardDialog","energyGuideDialog","recycleGuideDialog","taskProgressDetailDialog"],cy=Be()(id,{offlineTime:0}),uy=Be()(gg,{},void 0,Be()(mh,{})),ly=Be()(gg,{},void 0,Be()(vd.Z,{})),py=Be()(gg,{},void 0,Be()($d,{})),fy=Be()(gg,{},void 0,Be()(zf,{})),dy=Be()(gg,{},void 0,Be()(oy,{})),hy=function(e){var t=Be()(e,{});return(0,Fe.inject)("store")((function(e){var r=e.store,n=r.$$commonData,i=r.appContext,o=i.immerse&&n.platform.isNativePlatform&&"1"===n.queries._pdd_fs;return Br()(Gg()),(0,x.useEffect)((function(){o&&(0,fo.xX)("JSUIControl","hideNavigationBar")}),[o]),D().createElement(D().Fragment,null,o&&Be()("div",{className:Gg().icon,style:{top:(null==i?void 0:i.sh)||0},id:"back-btn",onClick:function(){try{var e,t;if("function"==typeof(null===(e=window)||void 0===e?void 0:e.__goBack))null===(t=window)||void 0===t||t.__goBack();else B.default.back()}catch(e){B.default.back(),r.sendError(e)}}},void 0,jg),t)}))}((Hg=(0,Fe.inject)("store"),Kg=We()(Uf()),zg=(0,fe.P)(3e3),Hg(qg=Kg(qg=(0,Fe.observer)((Yg=function(e){O()(y,e);var t,r,n,o,s,c,u,p,d,m=iy(y);function y(){var e;g()(this,y);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=m.call.apply(m,[this].concat(r))).shouldReloadPage=!1,e.state={shouldPreloadLazy:!1},e.notificationRemove=void 0,e.refreshNotificationRemove=void 0,e.sceneReturnNotificationRemove=void 0,e.dispose=void 0,e.removeListener=void 0,e.reactionRemove=void 0,e.disposeLevelReaction=void 0,e.disposeGameSceneSleep=void 0,h()(e,"handleTouchMove",Vg,v()(e)),e.cmtBaseInfoLogger=function(){var t=e.store,r=t.userType,n=t.duoduoSpriteLogger,i=t.game,o=e.store.getVisitInfo();n(ny({stage:"base_info",userType:r,gameRenderer:i.config.renderType,fields:{href:location.href}},o))},e}return w()(y,[{key:"emitPreloadLazy",value:(d=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=0;case 2:if(!(t<10)){e.next=11;break}return e.next=5,og(2e3);case 5:if(!(e.sent>=55)){e.next=8;break}return e.abrupt("break",11);case 8:t++,e.next=2;break;case 11:this.setState({shouldPreloadLazy:!0}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),this.store.sendError("emitPreloadLazy error: ".concat(e.t0.message)),this.setState({shouldPreloadLazy:!0});case 18:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(){return d.apply(this,arguments)})},{key:"componentDidMount",value:(p=a()(i().mark((function e(){var t,r,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fr.ZP.isNativePlatform&&(0,Pg.u1)(this.store)&&xg({statusBarStyle:[0,0],btnStyle:["#000000","#000000"]}),!this.store.isAfterOfflineTime){e.next=3;break}return e.abrupt("return");case 3:if(this.handleLoad(),this.store.lottieManager.handleWhenInit(),this.store.dragonBonesManager.handleInit(),this.handleGameSceneSleep(),this.addNotification(),this.emitPreloadLazy(),!(0,Fr.Dt)()){e.next=14;break}return n=ig.default.getInstance(),o=null===(t=n.getPageInfo())||void 0===t||null===(r=t.getNativePageContext)||void 0===r?void 0:r.call(t),e.next=14,(0,F.setPageContext)(o);case 14:(0,fo._g)(),Xg(this.store);case 16:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e,t,r,n,i,o,a,s;null===(e=this.dispose)||void 0===e||e.call(this),null===(t=this.notificationRemove)||void 0===t||t.call(this),document.removeEventListener("touchstart",this.handleTouchMove),null===(r=this.removeListener)||void 0===r||r.call(this),null===(n=this.reactionRemove)||void 0===n||n.call(this),null===(i=(o=this.store.shareStore).dispose)||void 0===i||i.call(o),null===(a=this.disposeLevelReaction)||void 0===a||a.call(this),(0,fo.eZ)(),this.removeNotification(),null===(s=this.disposeGameSceneSleep)||void 0===s||s.call(this)}},{key:"handleGameSceneSleep",value:function(){var e,t=this;if(this.store.abTestStore.gameSceneSleep&&(null===(e=this.store.appContext)||void 0===e?void 0:e.isLowDevice)){var r,n=function(){return t.store.energyTaskListStore.isShow||t.store.taskListStore.$taskListStore.isShow||t.store.spriteBookDialogStore.isShow||t.store.rollEggMachineDialogStore.isShow},i=function(){n()||!t.store.isPageShow?t.store.gameStore.sceneSystemRest():t.store.gameStore.sceneSystemWork()};this.disposeGameSceneSleep=(0,R.autorun)((function(){(clearTimeout(r),t.store.isGameCreated)&&(n()&&t.store.isPageShow?r=setTimeout((function(){i()}),t.store.leoConfig.gameSceneSleepPrepareTime||5e3):i())}))}}},{key:"handlePopQueue",value:(u=a()(i().mark((function e(){var t,r,n,o,s=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Map).set(this.store.packetHelperCashDialogStore,{shouldPop:function(){var e=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.when)((function(){return!!s.store.packetHelperStore.packetHelperGuideInfo}));case 2:return e.next=4,s.store.packetHelperStore.checkHelperCashMissionAchieve();case 4:return t=e.sent,e.abrupt("return",!!t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),t.set(this.store.resetDialogStore,{shouldPop:function(){return s.store.initialUserCoinNum>0&&s.store.userType===he.$A.RESET_USER}}),r=ey(t),e.prev=4,o=i().mark((function e(){var t,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f()(n.value,2),r=t[0],o=t[1],e.next=3,o.shouldPop();case 3:if(!e.sent){e.next=7;break}return null===(a=r.showAction)||void 0===a||a.call(r),e.next=7,(0,R.when)((function(){return!r.isShow}));case 7:case"end":return e.stop()}}),e)})),r.s();case 7:if((n=r.n()).done){e.next=11;break}return e.delegateYield(o(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),r.e(e.t1);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[4,13,16,19]])}))),function(){return u.apply(this,arguments)})},{key:"addNotification",value:(c=a()(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fr.ZP.isNativePlatform){e.next=7;break}return e.next=3,(0,Sl.addNotificationCallback)(po.ap,(function(e){t.store.listId!==(null==e?void 0:e.listId)&&(t.store.shouldRequestMain=!0)}));case 3:return this.refreshNotificationRemove=e.sent,e.next=6,(0,Sl.addSceneReturnCallback)((function(){if(t.store.gameStore.forbidPlay||t.shouldReloadPage)return t.shouldReloadPage=!1,(0,fo.sl)();t.store.offlineDialogStore.handleBack(),t.store.topBarStore.timeLimitBuyTaskHandleBack(),t.store.dealOrderSkinTaskReturn()||t.store.shouldRequestMain&&(t.store.requestMainUpdate("scene_return"),t.store.gameStore.resetOperationTime(),t.store.shouldRequestMain=!1)}));case 6:this.sceneReturnNotificationRemove=e.sent;case 7:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"removeNotification",value:function(){var e,t;null===(e=this.refreshNotificationRemove)||void 0===e||e.call(this),null===(t=this.sceneReturnNotificationRemove)||void 0===t||t.call(this)}},{key:"dealMusic",value:(s=a()(i().mark((function e(){var t,r,n,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,R.runInAction)((function(){o.store.isMuted=+localStorage.getItem("duo_duo_sprite_audio_muted"),o.store.abTestStore.defaultCloseMusic&&(o.store.isMuted=!0)})),e.next=3,null===(t=this.store.gameStore.audioManager)||void 0===t?void 0:t.create();case 3:this.store.isMuted||document.addEventListener("touchstart",this.handleTouchMove),r=function(){var e;o.store.isMuted||null===(e=o.store.gameStore.audioManager)||void 0===e||e.setMuted(!0)},n=function(){var e,t;o.store.isMuted||(null===(e=o.store.gameStore.audioManager)||void 0===e||e.setMuted(!1),null===(t=o.store.gameStore.audioManager)||void 0===t||t.playBgMusic())},this.removeListener=(0,Ie.I8)({onVisible:n,onHidden:r}),this.reactionRemove=(0,R.reaction)((function(){return o.store.isHasFairyWorking}),(function(e){var t,r;e?null===(t=o.store.gameStore.audioManager)||void 0===t||t.playFairyWork():null===(r=o.store.gameStore.audioManager)||void 0===r||r.stopFairyWork()}),{fireImmediately:!0}),this.store.gameStore.audioManager.musicDeal=!0;case 9:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"timeoutCheck",value:(o=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.store.leoConfig.load_timeout,e.next=3,(0,Ie._v)(t);case 3:this.store.isLoading&&(this.store.setInitError(!0),this.store.sendError("handleLoad timeout: ".concat(t)));case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"handleLoad",value:(n=a()(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.isInitError){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.store.handleInitRequest(!1,!0);case 4:if(!this.store.isInitError){e.next=6;break}return e.abrupt("return");case 6:return this.store.shareStore.handleShareLinkAfterUserInit(),e.next=9,Promise.race([(0,R.when)((function(){return t.store.isGameCreated})),this.timeoutCheck()]);case 9:if(!this.store.isInitError){e.next=11;break}return e.abrupt("return");case 11:if(this.store.packetHelperStore.checkPacketHelperGuideShow(),this.handlePopQueue(),this.store.timing.navigationStart&&(this.store.loadingEnd=this.store.getDiffTimeFromNavigationStart(),this.store.loadingCost=this.store.loadingEnd-this.store.loadingStart),this.store.queries.test&&console.log("loadingEnd",this.store.loadingEnd),this.store.addLoadingProgress(10,"handleLoad",!0),this.cmtLogLoadingEnd(),this.store.surpriseStore.startTimerStep(),this.store.rollEggStore.requestRollEggMainInfo(),this.store.rollEggStore.checkRabbitNpcShow(),this.store.friendshipStore.queryMatureInviteNewList(),this.store.messengerStore.init(),this.store.showGiftBox&&this.store.giftBoxDialogStore.giftBoxQuery(),this.checkMallList(),this.dealMusic(),this.store.handleUserType(),this.store.initHeartbeatTimer(),this.store.titanHandler.init(),this.handleLevel(),this.preloadForLevel(),!Fr.ZP.isNativePlatform){e.next=34;break}return e.next=33,(0,Sl.addNotificationCallback)("duo_duo_sprite_withdraw_success",a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.store.gameStore.forbidPlay?t.shouldReloadPage=!0:t.store.shouldRequestMain=!0;case 1:case"end":return e.stop()}}),e)}))));case 33:this.notificationRemove=e.sent;case 34:this.cmtBaseInfoLogger();case 35:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"cmtLogLoadingEnd",value:(r=a()(i().mark((function e(){var t,r,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.store.callNativeWebScene();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:t=e.t0,r=t.webViewCacheHittedCount,n=t.webview_count,o=t.is_cold_start,this.store.duoduoSpriteLogger({stage:"loading_end",longFields:{loadingEnd:this.store.loadingEnd,loadingCost:this.store.loadingCost},fields:Fr.ZP.isNativePlatform?{webViewCacheHittedCount:r,webview_count:n,is_cold_start:o}:{}});case 10:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"preloadForLevel",value:function(){var e;if(!(this.store.myTopRank>=24)){var t=this.store.webpEnable,r=(null===(e=this.store.levelMap.SPRITE_MAP)||void 0===e?void 0:e[this.store.myTopRank+1])||{},n=r.FRAME_PIC,i=r.DIALOG_FRAME_PIC,o=t&&he.o4;(0,ho.default)([{url:i||"",webp:o},{url:n||"",webp:!1,quality:100}])}}},{key:"handleLevel",value:function(){var e=this;this.disposeLevelReaction=(0,R.reaction)((function(){return e.store.myTopRank}),(function(){!e.store.gameStore.forbidPlay&&e.store.taskListStore.$taskListStore.initTaskListData(),e.preloadForLevel(),e.store.duoduoSpriteLogger({stage:"level_up"}),e.store.rollEggStore.checkRabbitNpcShow()}))}},{key:"checkMallList",value:(t=a()(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.shopTaskDialogStore.requestTask(),!(t=function(){return r.store.shopTaskDialogStore.mallList.length<1})()){e.next=7;break}return e.next=5,this.store.shopTaskDialogStore.requestFriendListAdvList(10);case 5:if(!t()){e.next=7;break}return e.abrupt("return");case 7:this.store.shopTaskDialogStore.checkAllMallDetail(),this.store.shopTaskDialogStore.queryMallListLive();case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this,r=this.store,n=r.isPageShow,i=r.isAfterOfflineTime,o=r.isLoading,a=r.isInitError,s=r.isGameCreated,c=r.levelMap,u=r.previewSkin,p=r.skinUseCommon;if(i)return cy;if((0,Pg.u1)(this.store))return Be()(Pg.ZP,{store:this.store});var f=c.BG_COLOR,d=c.WRAP_COLOR,h=this.store.getGameBg(),m=sy.some((function(e){var r;return null===(r=t.store["".concat(e,"Store")])||void 0===r?void 0:r.isShow})),g=a;return g?uy:D().createElement(D().Fragment,null,Be()(Eg.nS,{canMainOrderGainSkin:this.store.canMainOrderGainSkin},void 0,Be()("div",{className:Ke()(Uf().wrap,(e={},l()(e,Uf().lock,o||u),l()(e,Uf().hide,!n),e)),style:{backgroundColor:d}},void 0,Be()(gg,{},void 0,Be()(rg,{store:this.store})),Be()(je.Z,{className:Ke()(Uf().container,!p&&Uf().container3),bgUrl:h,quality:90,style:{backgroundColor:f}},void 0,Be()(gg,{},void 0,Be()(Cg,{store:this.store})),Be()(gg,{},void 0,Be()(ng,{store:this.store})),ly,Be()("div",{style:{pointerEvents:this.store.gameStore.forbidPlay?"none":"auto"}},void 0,Be()(gg,{},void 0,Be()(yd,{store:this.store})),py),Be()(my,{store:this.store})),fy,s&&!this.store.isUserNeedInitial&&!this.store.gameStore.forbidPlay&&!u&&Be()(gg,{},void 0,Be()(fg,{store:this.store})),!o&&!u&&D().createElement(D().Fragment,null,dy,Be()(gg,{},void 0,Be()(ay,{when:m||this.state.shouldPreloadLazy}))))),!!u&&!g&&Be()("div",{className:Uf().previewMask,onTouchStart:function(){return(0,qt.Z)("解锁皮肤后再进行操作哦~")}},void 0,Be()(je.Z,{className:Uf().previewBar},void 0,"新皮肤预览中...",Be()(je.Z,{className:Uf().backBtn,onTouchStart:function(e){return(0,B.back)()||(null==e?void 0:e.stopPropagation())}},void 0,Be()(je.Z,{className:Uf().backBtnArrow,bgUrl:"https://promotion.pddpic.com/promo/b2d99adc-cdf9-4456-bc22-370738e2b182.png.slim.png"}),"返回上一页"))))}}]),y}(Ge.Z),Vg=P()(Yg.prototype,"handleTouchMove",[zg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return a()(i().mark((function t(){var r,n,o,a,s,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([null===(r=e.store.gameStore.audioManager)||void 0===r?void 0:r.playBgMusic(),null===(n=e.store.gameStore.audioManager)||void 0===n?void 0:n.playFairyWork()]);case 2:o=t.sent,a=f()(o,2),s=a[0],c=a[1],s&&c&&document.removeEventListener("touchstart",e.handleTouchMove);case 7:case"end":return t.stop()}}),t)})))}}),P()(Yg.prototype,"handleLoad",[J.Y],Object.getOwnPropertyDescriptor(Yg.prototype,"handleLoad"),Yg.prototype),qg=Yg))||qg)||qg)||qg));function my(e){var t=e.store;Br()(Uf());var r=Be()(Mg,{store:t}),n=Be()(Bg.Z,{store:t}),i=Be()(Zg,{store:t}),o=Be()($g,{store:t});return(0,Fe.useObserver)((function(){var e,a,s=[!(null===(e=t.gameStore)||void 0===e||null===(a=e.guideHandler)||void 0===a?void 0:a.isInGuideLt3)&&t.healthSystemGrey&&Be()("div",{className:Uf().luckyPacketEntryWrap},void 0,Be()(bd.Z,{className:Uf().luckyPacketEntryInner,store:t})),t.rollEggStore.isShowRabbitNpc&&r,t.abTestStore.showMsgShellBox&&t.messengerStore.hasUnlock&&n,t.gameStore.isShowEatFoodAni&&i,t.gameStore.isShowEnergyBallFly&&o];return t.isMainScene&&!t.gameStore.isChanging&&s.some((function(e){return!!e}))?Be()(gg,{},void 0,Be()("div",{className:Uf().gameOverlayContainer},void 0,s.map((function(e,t){return Be()(D().Fragment,{},t,e)})))):null}))}var gy=r(16014);function yy(){var e=[["script",function(e){return e.src||""}],["link",function(e){return"stylesheet"===e.rel&&e.href||""}]].map((function(e){return Array.from(document.getElementsByTagName(e[0])).map(e[1]).join("")}));return(0,M.crc32)(e.join(""))}var vy=(0,M.memoize)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.skipNewVersionCheck)return!1;if("undefined"==typeof localStorage||!localStorage)return!0;var t=yy(),r="pdd_monitor_build_version";if(t){var n=window.location.pathname,i=localStorage.getItem(r);try{i=JSON.parse(i)||{}}catch(e){i={}}var o=t===i[n];return o||(i[n]=t,localStorage.setItem(r,JSON.stringify(i))),!o}return!1}),100,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!e.skipNewVersionCheck})),by=r(26989),_y=r(60065),ky=r(77517),wy=["Native","Performance","Custom"],Sy=function(){function e(){g()(this,e),this.datasource=null,this.rts=[],this.tags={},this.fields={},this.longFields={},this.ranges={}}return w()(e,[{key:"request",value:function(){}},{key:"buildData",value:function(){}},{key:"getBoundValue",value:function(){return 1e4}},{key:"addUnHealthyField",value:function(e,t){wy.includes(this.name)&&(this.fields["is".concat(this.name,"UnHealthy")]=!0,this.fields["".concat(this.name,"_unhealthy_").concat(e)]=t)}},{key:"reviseValue",value:function(e){var t=e.key,r=e.start,n=e.end;if(r&&n){var i=t.split("~"),o=f()(i,1)[0],a=o.startsWith("noLog^"),s=0,c=0;if(-1!==n){var u=this.getBoundValue(t);s=c=parseInt(n-r,10)||0,(c<0||c>u)&&(s=Math.max(0,Math.min(c,u)),a||this.addUnHealthyField(t,c))}a||this.longFields["".concat(this.name,"_").concat(o)]||(this.longFields["".concat(this.name,"_").concat(o)]=s),this.rts.push({key:t,start:r,end:n,originValue:c,value:s})}}},{key:"batchReviseValue",value:function(e){var t=this,r=e.source,n=e.start;Object.keys(r).forEach((function(e){t.reviseValue({key:e,start:n,end:r[e]})}))}},{key:"buildRanges",value:function(e){var t=this;return e=Object.entries(e).reduce((function(e,r){var n=f()(r,2),i=n[0],o=n[1],a=i.split("~"),s=f()(a,2),u=s[0],l=s[1],p=u.split("#"),d=f()(p,2),h=d[0];return d[1]?(i="".concat(h).concat(l?"~"+l:""),t.ranges[i]=[].concat(c()(t.ranges[i]||[]),[o])):e[i]=o,e}),{}),Object.entries(this.ranges).forEach((function(e){var r=f()(e,2),n=r[0],i=r[1];t.reviseValue({key:n,start:i[0],end:i[1]})})),e}},{key:"value",get:function(){return this.datasource}}]),e}();function Oy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.reduce((function(e,t){var r=new t;if(!(r instanceof Sy))throw new Error("[monitor]: exist collecter don‘t extends BaseCollecter");if(!r.name)throw new Error("[monitor]: collecter’s name miss");if(e[r.name])throw new Error("[monitor]: repeat collecter name ".concat(r.name));return e[r.name]=r,e}),{}),n=Object.values(r);return Promise.all(n.map((function(e){return e.request(t[e.name])}))).then((function(){return n.forEach((function(e){e.buildData(r)})),r}))}function Iy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ay(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Iy(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ty(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Cy=["nativeStartRoute","nativeInit","nativeLoadURL","nativeStartLoad","nativeFetchStart","nativeDnsStart","nativeDnsEnd","nativeConnectStart","nativeSecureConnectStart","nativeSecureConnectEnd","nativeConnectEnd","nativeRequestStart","nativeRequestEnd","nativeResponseStart","nativeResponseEnd","nativeCompeleteLoad"],Ey=["webViewInit","webViewSetUrl","webViewLoadStart"];var Py=function(e){O()(o,e);var t,r,n=Ty(o);function o(){var e;g()(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).name="Native",e.nativeStart=0,e.unoContext={},e}return w()(o,[{key:"getTiming",value:(r=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,F.invokeBridgeCallNativeFun)("WebScene","getTiming",null,"4.29.0","4.29.0").catch((function(){return null}));case 2:this.datasource=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getUnoContext",value:(t=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,F.invokeBridgeCallNativeFun)("WebScene","getUnoContext",null,"4.78.0","4.78.0").catch((function(){return{}}));case 2:this.unoContext=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"request",value:function(){if(by.IP.isNativePlatform)return Promise.all([this.getTiming(),this.getUnoContext()])}},{key:"recordUnoContext",value:function(){var e,t,r,n=this;this.tags={isCold:(e=this.unoContext,t=e.webview_count,r=e.process_lifetime,(void 0===r?0:r)<10||t&&t<=1?1:0),isInset:this.unoContext.is_inset?1:0},Object.entries(this.unoContext).forEach((function(e){var t=f()(e,2),r=t[0],i=t[1];if("object"!==wl()(i)){var o="Native_".concat(r);["process_lifetime","webview_count","webview_load_count"].includes(r)||0===r.indexOf("long_")?n.longFields[o]=parseInt(i,10)||0:n.fields[o]=i}}))}},{key:"getBoundValue",value:function(e){return["nativeCompeleteLoad"].includes(e)?2e4:5e3}},{key:"buildData",value:function(){var e=this;if(by.IP.isNativePlatform)if(this.value)if(this.unoContext.webview_load_count>1)this.addUnHealthyField("webview_load_count",this.unoContext.webview_load_count);else{var t=this.value,r=t.webViewRefresh,n=t.webViewSetUrl,i=t.webViewLoadStart,o=t.webViewInit,a=void 0===o?0:o,s=t.nativeStartRoute,c=void 0===s?0:s,u=t.nativeContainerResume;if(r)this.addUnHealthyField("webViewRefresh",r);else{if(c&&-1!==c)this.nativeStart=c,u&&-1!==u&&1===Number(this.unoContext.string_is_container_resume)&&(this.nativeStart=u),Cy.forEach((function(t){e.reviseValue({key:t,start:e.nativeStart,end:e.value[t]})}));else{if(this.addUnHealthyField("nativeStartRoute",c),!a||-1===a)return void this.addUnHealthyField("webViewInit",a);this.nativeStart=a}Ey.forEach((function(t){e.reviseValue({key:t,start:e.nativeStart,end:e.value[t]})})),this.reviseValue({key:"webViewSetUrl_low",start:a,end:n}),this.reviseValue({key:"webViewLoadStart_low",start:n,end:i}),this.longFields["".concat(this.name,"_nativeStart")]=this.nativeStart,this.fields=Ay(Ay({},this.fields),this.value),this.recordUnoContext()}}else this.addUnHealthyField("webviewRts",null)}}]),o}(Sy);function Ry(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var xy=["navigationStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","unloadEventStart","unloadEventEnd","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],Dy=function(e){O()(r,e);var t=Ry(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).name="Performance",e.navigationStart=0,e}return w()(r,[{key:"request",value:function(){window.performance&&window.performance.timing&&(this.datasource=window.performance.timing)}},{key:"getBoundValue",value:function(e){return["loadEventEnd","loadEventStart","domComplete"].includes(e)?2e4:_()(C()(r.prototype),"getBoundValue",this).call(this,e)}},{key:"buildData",value:function(e){this.tags.connectZero=this.value.connectStart===this.value.connectEnd?1:0;var t=this.value,r=t.navigationStart,n=void 0===r?0:r,i=tt()(t,["navigationStart"]),o=e.Native;n||this.addUnHealthyField("navigationStart",0),this.longFields.Performance_base_navigationStart=n,this.navigationStart=n||o.value&&o.value.webViewLoadStart||0,this.navigationStart&&(o.nativeStart&&this.reviseValue({key:"navigationStart",start:o.nativeStart,end:this.navigationStart}),this.batchReviseValue({source:i,start:this.navigationStart}))}},{key:"value",get:function(){var e=this;return this.datasource?xy.reduce((function(t,r){return t[r]=e.datasource[r],t}),{}):{}}}]),r}(Sy);function Ny(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Ly=function(e){O()(r,e);var t=Ny(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).name="Custom",e.checkFields=["ps","fp","fs","dr","ld","fsn","fraf","tti"],e}return w()(r,[{key:"checkReady",value:function(){var e=this;return this.datasource={},window._plt.forEach((function(t){var r=f()(t,3),n=r[0],i=r[1],o=r[2];"tm"===n&&(e.datasource[i]=o)})),this.checkFields.every((function(t){return void 0!==e.datasource[t]}))}},{key:"request",value:function(){var e=this;return new Promise((function(t){var r=window._plt||[],n=r.push,i=function(){return e.checkReady()&&t()};r.push=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var a=n.apply(r,t);return i(),a},window._plt=r,i()}))}},{key:"getBoundValue",value:function(e){return["ld","fs"].includes(e)?2e4:_()(C()(r.prototype),"getBoundValue",this).call(this,e)}},{key:"buildData",value:function(e){var t=e.Performance.navigationStart;if(t){var r=this.value,n=r.fs,i=r.fsn,o=r.tti,a=tt()(r,["fs","fsn","tti"]),s=(0,by.UO)(),c=s.onPreRenderShow,u=s.requestStart,l=s.requestEnd,p=s.onPreRenderFinish,f=c||t;this.batchReviseValue({source:a,start:t}),this.batchReviseValue({source:{fs:n,fsn:i,tti:o},start:f}),this.batchReviseValue({source:{preRequestStart:u,preRequestEnd:l},start:c}),this.batchReviseValue({source:{onPreRenderFinish:p},start:t})}}},{key:"value",get:function(){var e=window.performance,t=this.datasource,r=0,n=0,i={};if(e&&e.timing&&e.getEntriesByName&&e.getEntriesByType){var o=e.timing.navigationStart,a=e.getEntriesByName("first-paint")[0],s=e.getEntriesByName("first-contentful-paint")[0];a&&(r=a.startTime+o),s&&(n=s.startTime+o);var c=Array.from(document.querySelectorAll("script")).filter((function(e){return e.src&&!e.async})).map((function(e){return e.src})),u=Array.from(document.querySelectorAll('link[rel="stylesheet"]')).map((function(e){return e.href})),l=e.getEntriesByType("resource"),p=l.filter((function(e){return u.includes(e.name)})),f=l.filter((function(e){return c.includes(e.name)})),d=function(e,t,r){return(e.length&&e.reduce((function(e,n){return Math[t](e,n[r])}),e[0][r])||0)+o},h=function(e,t){return d(e,"min",t)},m=function(e,t){return d(e,"max",t)};i={scriptStart:h(f,"fetchStart"),scriptEnd:m(f,"responseEnd"),styleStart:h(p,"fetchStart"),styleEnd:m(p,"responseEnd")}}var g={ps:t.ps,fp:t.fp,fs:t.fs,dr:t.dr,ld:t.ld,fsn:t.fsn,fpc:r,fcp:n,styleStart:i.styleStart,styleEnd:i.styleEnd,scriptStart:i.scriptStart,scriptEnd:i.scriptEnd,fraf:t.fraf,tti:t.tti};return Object.keys(g).reduce((function(e,t){return e[t]=parseInt(g[t],10)||0,e}),{})}}]),r}(Sy);function My(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function By(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?My(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):My(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}function Gy(e,t){var r=by.IP.isNativePlatform&&(0,L.compareVersion)(by.IP.version,"5.51.0")>=0,n={memory:"getMemoryInfo",device:"deviceInfo",battery:"getBatteryInfo"}[e];return r&&n?(0,F.invokeBridgeCallNativeFun)("AMDevice",n).then((function(r){var n=(t?t(r):r)||{};return{fields:Object.keys(n).reduce((function(t,r){return t["Native_".concat(e,"_").concat(r)]=n[r],t}),{})}}),(function(){return{}})):Promise.resolve({})}var jy=function(e){O()(r,e);var t=Fy(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).name="DeviceInfo",e}return w()(r,[{key:"request",value:function(){var e,t=this;return Promise.all([(e={0:"未知",1:"wifi",2:"2G",3:"3G",4:"4G"},new Promise((function(t){if(by.IP.isNativePlatform)return(0,F.invokeBridgeCallNativeFun)("JSNetwork","info").then((function(r){var n=r.reachable,i=r.network_type,o=r.speed;t({fields:{reachable:n,networkType:e[i]},longFields:{speed:parseInt(o||0,10)}})}),(function(){return t({})}));(0,M.getNetWorkType)().then((function(r){t({fields:{networkType:e[r]}})}),(function(){return t({})}))}))),Gy("memory"),Gy("battery"),Gy("device",(function(e){var t=e.phoneModel,r=void 0===t?"unknown":t,n=e.deviceName;return{phoneModel:r,deviceName:void 0===n?"unknown":n}}))]).then((function(e){e.forEach((function(e){t.fields=By(By({},t.fields),e.fields),t.longFields=By(By({},t.longFields),e.longFields)}))}))}}]),r}(Sy);function Uy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Wy=function(e){return"number"==typeof e&&!Number.isNaN(e)},Zy=function(e){return[e.transferSize,e.decodedBodySize,e.encodedBodySize].every((function(e){return Wy(e)}))},Hy=function(e){return Math.round(e/1024)},Ky=function(e){return Math.max(Math.min(Math.round(e),2e4),0)},zy=function(e){O()(r,e);var t=Uy(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).name="Resource",e}return w()(r,[{key:"recordWithPrefix",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object.keys(e).forEach((function(n){t[r?"longFields":"fields"]["".concat(t.name,"_").concat(n)]=e[n]}))}},{key:"getJSResourceInfo",value:function(){try{for(var e=0,t=0,r=0,n=0,i=0,o=0,a=performance.getEntriesByType("resource"),s=Array.from(document.querySelectorAll("script")).filter((function(e){return e.src})),c=a.filter((function(e){if(["script","link"].includes(e.initiatorType)&&(e.name.endsWith(".js")||e.name.endsWith(".css"))){var t=s.find((function(t){return t.src===e.name}));return t&&!t.async}return!1})),u=0;u<c.length;u++){var l=c[u],p=l.transferSize,f=l.decodedBodySize,d=l.encodedBodySize;if(!Zy(c[u]))return{};r+=1,e+=d,t+=f,p>0?o+=1:i+=1,n+=p}this.recordWithPrefix({totalEncodedBodySize:Hy(e),totalDecodedBodySize:Hy(t),totalTransferSize:Hy(n),resourceNum:r,cacheResourceNum:i,transferResourceNum:o})}catch(e){}}},{key:"getHtmlResourceInfo",value:function(){try{var e=performance.getEntriesByType("navigation")[0];Zy(e)&&this.recordWithPrefix({htmlEncodedBodySize:Hy(e.encodedBodySize),htmlDecodedBodySize:Hy(e.decodedBodySize),htmlTransferSize:Hy(e.transferSize)})}catch(e){}}},{key:"getFsImgsResourceInfo",value:function(){try{var e=window.__fsImgSrcs||[],t=performance.timing.navigationStart;if(0!==e.length){var r=(0,by.UO)().onPreRenderShow,n=r?r-t:0,i=performance.getEntriesByType("resource").filter((function(t){var r=t.name;return e.includes(r)})),o=i.map((function(e){return e.fetchStart})).reduce((function(e,t){return Math.min(e,t)}),2e4),a=function(e){return e.reduce((function(e,t){return Math.max(e,t)}),0)}(i.map((function(e){return e.responseEnd})));if([o,a].every((function(e){return Wy(e)})))return this.recordWithPrefix({fsImgsFetchStart:Ky(o),fsImgsResponseEnd:Ky(a-n)})}else{var s=function(e){return window._plt.find((function(t){return t[1]===e}))[2]-t};this.recordWithPrefix({fsImgsFetchStart:Ky(s("fp")),fsImgsResponseEnd:Ky(s("fsn"))})}}catch(e){}}},{key:"getServerTimingInfo",value:function(){var e=this;try{performance.getEntriesByType("navigation")[0].serverTiming.forEach((function(t){t.name&&("string"==typeof t.description&&t.description?e.fields["ServerTiming_".concat(t.name)]=t.description:"number"==typeof t.duration&&(e.longFields["ServerTiming_".concat(t.name)]=Math.round(t.duration)))}))}catch(e){}}},{key:"request",value:function(){this.getJSResourceInfo(),this.getHtmlResourceInfo(),this.getFsImgsResourceInfo(),this.getServerTimingInfo()}}]),r}(Sy);function qy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Yy=function(e){O()(r,e);var t=qy(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).name="Node",e}return w()(r,[{key:"request",value:function(){var e=window.__MONITOR_INFOS__;e&&(this.datasource=e.serverData)}},{key:"record",value:function(e){var t=this;Object.entries(this.value[e]).forEach((function(r){var n=f()(r,2),i=n[0],o=n[1];t[e][i]=o}))}},{key:"buildData",value:function(e){if(this.value){var t=e.Performance.value.requestStart,r=this.value.marks,n=r.nodeInit,i=tt()(r,["nodeInit"]);if(t){var o=n-t;n=t,i=Object.entries(i).reduce((function(e,t){var r=f()(t,2),n=r[0],i=r[1];return e[n]=i-o,e}),{})}i=this.buildRanges(i),this.batchReviseValue({source:i,start:n}),this.record("tags"),this.record("fields"),this.record("longFields")}}}]),r}(Sy);function Vy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var Xy=function(e){O()(r,e);var t=Vy(r);function r(){var e;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).name="Client",e}return w()(r,[{key:"request",value:function(){this.datasource=window._plt.reduce((function(e,t){var r=f()(t,3),n=r[0],i=r[1],o=r[2];return"ctm"===n&&(e.ctm[i]=parseInt(o,10)||0),"cf"===n&&(e.cf[i]=o),e}),{ctm:{},cf:{}})}},{key:"recordCustomFields",value:function(){var e=this;Object.keys(this.value.cf).forEach((function(t){e.fields[t]=e.value.cf[t]}))}},{key:"buildData",value:function(e){var t=e.Performance.navigationStart;if(t){var r=this.buildRanges(this.value.ctm);this.batchReviseValue({source:r,start:t}),this.recordCustomFields()}}}]),r}(Sy);function Qy(e){return e.reduce((function(e,t){var r=t.rts.sort((function(e,t){return e.start-t.start})).map((function(e){return{name:e.key,start:Math.round(e.start),end:Math.round(e.start+e.value)}}));return r.length&&e.push({title:t.name,spans:r}),e}),[])}function Jy(){return(Jy=a()(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e("monitor-dev-panel").then(r.bind(r,92935));case 2:(0,e.sent.default)(t,n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $y=r(82494).Z;function ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rv=[].concat([Py,Dy,Ly,jy,zy,Yy,Xy]);function nv(e){(0,M.throwErrorAsync)(new Error("@pdd/monitor:"+e))}var iv=function(){function e(t){if(g()(this,e),"undefined"!=typeof window){var r=(0,by.Up)(),n=r.amplifyRate,i=r.sampleRate;this.amplifyRate=n,this.sampleRate=i,this.firstInit=String(+vy()),this.report(t)}else nv("服务端禁止调用 Pmm.init")}return w()(e,[{key:"reportCustom",value:function(e){var t=this,r=String(e.groupId),n=e.customTraceSpanFormatter||Qy,i=rv,o=[(0,_y.VN)(),Oy(i,{})];Promise.all(o).then((function(i){var o=f()(i,2),a=o[0],s=o[1],c=Object.values(s),u=c.reduce((function(e,t){return e.tags=tv(tv({},e.tags),t.tags),e.longFields=tv(tv({},e.longFields),t.longFields),e.fields=tv(tv({},e.fields),t.fields),e.fields["is".concat(t.name,"UnHealthy")]&&(e.tags.isDirty=1),e}),(0,gy.ZP)({pn:e.pn,groupId:r}));u.fields.uid=a||"0",u.fields.pddId=(0,M.getCookie)("ETag")||"0",u.tags.firstInit=t.firstInit,u.longFields.amplifyRate=t.amplifyRate,e.grayTag&&(u.tags.gray=e.grayTag);var l=n(c);window.__MONITOR_INFOS__&&window.__MONITOR_INFOS__.usePanel&&function(e,t){Jy.apply(this,arguments)}(r,l),Math.random()>t.sampleRate||!r||(window.__FRONTEND_PERF_DATA__={tags:tv({},u.tags),longFields:tv({},u.longFields)},(0,tc.P2)(tv({groupId:r,amplifyRate:t.amplifyRate},u),{appId:ky.oN,bizSide:ky.gM}),e.useTrace&&function(e){var t=e.timelines,r=e.pn,n=e.groupId,i=e.userId,o=(0,by.GP)("/api/cmt/trace"),a=by.IP.system,s=by.IP.systemVersion,c=by.IP.version,u=by.IP.platform,l={traceId:(0,_y.Wj)(n),tags:{system:a,version:c,systemVersion:s,platform:u,href:window.location.href,userID:i||"0",pageName:r||"none"},span:t};(0,by.wG)(o,l)}({timelines:l,pn:e.pn,groupId:r,userId:a}),function(e,t,r){var n=e.pagePath,i=r.tags,o=r.longFields;(0,tc.P2)([{groupId:"90246",amplifyRate:t,tags:{pagePath:String(n)}},{groupId:"90341",amplifyRate:t,tags:{pn:i.pn,hostname:i.hostname,platform:i.platform},longFields:o,fields:i}],{appId:ky.oN,bizSide:ky.gM},!0)}(e,t.amplifyRate,u))}))}},{key:"report",value:function(e){this.reportCustom(e),$y(e,this.amplifyRate,this.sampleRate)}}],[{key:"init",value:function(t){try{var r=["pn","pagePath","groupId"].filter((function(e){return!t[e]}));if(r.length)return void nv("Pmm.init 上报，必须传入: ".concat(r.map((function(e){return"options.".concat(e)})).join(", ")));t.logTTISelf||window._plt.push(["tm","tti",+new Date]),(0,by.Rj)((function(){return new e(tv({},t))}))}catch(e){(0,M.throwErrorAsync)(e)}}}]),e}(),ov=r(98703).Z,av=r(49690),sv=r.n(av),cv=r(81249),uv=r.n(cv);function lv(){return new Promise((function(e){if(!(0,L.getCurrentPlatform)().isNativePlatform||"undefined"==typeof window)return e({});uv().callNative("WebScene","getTiming",null,(function(t){e(t)}),(function(){e({})}))}))}function pv(){return new Promise((function(e){if(!(0,L.getCurrentPlatform)().isNativePlatform||"undefined"==typeof window)return e({});uv().callNative("WebScene","getUnoContext",null,(function(t){e(t)}),(function(){e({})}))}))}r(94693).default.constant.CookieKey;var fv="init",dv="renderTopChunk",hv="loadFirstScreenData",mv="renderToString",gv="renderBodyChunk",yv="renderModuleChunk",vv="serializeRawData";Symbol("traceInfo"),Symbol("nodePerf"),Symbol("nodeLog"),Symbol("logBaseInfo"),Symbol("logServerPerf"),Symbol("traceApiEnd");var bv=r(72669);function _v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_v(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wv="10272",Sv="number"==typeof window.__PERF_SAMPLE_RATE__&&Math.random()<window.__PERF_SAMPLE_RATE__,Ov="number"==typeof window.__TRACE_SAMPLE_RATE__&&Math.random()<window.__TRACE_SAMPLE_RATE__,Iv=(0,L.getCurrentPlatform)();function Av(e){if("production"!==bv.env.BUNDLE_PLATFORM&&location.hostname.indexOf("hutaojie.com")>=0)return"http://cmtw.htj.pdd.net".concat(e);var t="amcomponent:"===window.location.protocol?"https:":location.protocol;return"".concat(t,"//").concat(window.__CMT_HOST__||"cmtw.pinduoduo.com").concat(e)}function Tv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mutipleKvList||[],r={mutipleKvList:t},n={method:"POST",body:JSON.stringify(r),data:JSON.stringify(r),headers:{"Content-Type":"application/json;charset=UTF-8"},credentials:"include"},i=Av("/api/cmt/cmtc_h5");Iv.isNativePlatform?(Object.assign(n,{url:i}),(0,F.invokeBridgeCallNativeFun)("JSNetwork","request",n).catch((function(e){}))):fetch(i,n).catch((function(e){}))}function Cv(e){if(!e)return null;var t=[["0.0.0","3.51.1"],["3.51.2","4.1.0"],["4.1.1","4.85.0"],["4.85.1","4.91.0"],["4.91.0","5.9.0"]].find((function(t){return(0,L.compareVersion)(e,t[0])>=0&&(0,L.compareVersion)(e,t[1])<=0}));return t?"".concat(t[0],"-").concat(t[1]):"5.9.0以上"}function Ev(e){return["m.pinduoduo.net","mobile.yangkeduo.com","csr.pddpic.com"].includes(e)?e:null}function Pv(e){if(!e)return 0;var t=e.split("."),r=f()(t,3),n=r[0],i=r[1],o=r[2],a=[i,o].map((function(e){return"string"!=typeof e?"00":e.padStart(2,"0")})),s=f()(a,2);return+[n,i=s[0],o=s[1]].join("")}function Rv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ig.default.getInstance(),r=e.pageName||t.getPageName(),n=t.getReferPageQuery()||{},i=Iv.system,o=Iv.systemVersion,a=Iv.version,s=window.location,c=s.hostname,u=s.protocol,l=["android","ios","wechat","wxapp"],p=Iv.platform,f={pageName:r,hostname:"amcomponent:"===u?"amcomponent":Ev(c),version:Cv(a),platform:l.includes(p)?p:null},d=kv({protocol:u,hostname:c,system:i,platform:p,version:a,systemVersion:String(o).split(".")[0],systemVersionLong:String(o),pddId:(0,M.getCookie)("ETag")||0},n);return{tags:f,fields:d}}function xv(e){var t=e.webview_count,r=void 0===t?1:t,n=e.process_lifetime;return(void 0===n?0:n)<10||r<=1}function Dv(e,t){var r=e.FCP,n=e.firstRafTime,i=r||n;return t.webview_load_count>1||(void 0===i||i>1e4||e.Mounted>1e4||!(i<500)&&null)}function Nv(){return Lv.apply(this,arguments)}function Lv(){return(Lv=a()(i().mark((function e(){var t,r,n,o,a,s,u,l,p,f,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lv();case 3:return t=e.sent,r=t.webViewInit,n=void 0===r?0:r,o=t.nativeStartRoute,s=["webViewInit","webViewSetUrl","webViewLoadStart","webViewFirstMeaningfulPaint","webViewFirstPaint"],u=n,(a=void 0===o?0:o)&&-1!==a&&(s=[].concat(c()(s),["nativeStartRoute","nativeInit","nativeLoadURL","nativeStartLoad","nativeFetchStart","nativeDnsStart","nativeDnsEnd","nativeConnectStart","nativeSecureConnectStart","nativeSecureConnectEnd","nativeConnectEnd","nativeRequestStart","nativeRequestEnd","nativeResponseStart","nativeResponseEnd","nativeCompeleteLoad"]),u=a),l=function(e){if(!e||!u||-1===e||-1===u)return 0;var t=e-u;return t<0?0:parseInt(t,10)},p=kv({},t),f={},d={},s.forEach((function(e){var r=t[e];f[e]=r?l(r):0,d[e]=r,delete p[e]})),e.abrupt("return",{nativeTimingLongFields:f,nativeTimingFields:p,nativeTimingTraceFields:d});case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",{});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function Mv(){return Bv.apply(this,arguments)}function Bv(){return(Bv=a()(i().mark((function e(){var t,r,n,o,a,s,c,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pv();case 3:return t=e.sent,r=["webview_pre_connect","html_long_link","load_scene","js_encrypt_type"],n=["process_lifetime","webview_count"],o=(Object.keys(t)||[]).reduce((function(e,i){var o=f()(e,3),a=o[0],s=o[1],c=o[2];return r.includes(i)?c[i]=t[i]:n.includes(i)?a[i]=t[i]:s[i]=t[i],[a,s,c]}),[{},{},{}]),a=f()(o,3),s=a[0],c=a[1],(u=a[2]).isCold=xv(s),!0===(l=c.pre_fetch_html)||1===l?u.pre_fetch_html=1:!1===l||0===l?u.pre_fetch_html=0:2===l&&(u.pre_fetch_html=2),e.abrupt("return",{nativeUnoLongFields:s,nativeUnoFields:c,nativeTags:u});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Fv(){return Gv.apply(this,arguments)}function Gv(){return(Gv=a()(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Iv.isNativePlatform&&!((0,L.compareVersion)(Iv.version,"4.78.0")<0)){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,Nv();case 4:return t=e.sent,e.next=7,Mv();case 7:return r=e.sent,e.abrupt("return",kv(kv({},t),r));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jv(e,t){var r,n;if("script"===t)r=function(e){return e.src&&!e.async},n="src";else{if("link"!==t)return[];r=function(e){return"stylesheet"===e.rel},n="href"}var i=Array.prototype.slice.apply(document.querySelectorAll(t)).filter(r).map((function(e){return e[n]}));return e.filter((function(e){return i.includes(e.name)})).map((function(e){return{fetchStart:e.fetchStart,responseEnd:e.responseEnd,name:e.name}}))}function Uv(e){return Wv.apply(this,arguments)}function Wv(){return(Wv=a()(i().mark((function e(t){var r,n,o,a,s,u,p,f,d,h,m,g,y,v,b,_,k,w,S,O,I,A,T,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=window.__pft=window.__pft||{},n={},o={},!(a=window.performance)||!a.timing){e.next=29;break}for(h in u=t||a.timing.navigationStart,p=function(e){return parseInt(e-u,10)},f=function(e){return e?parseInt(e,10)+a.timing.navigationStart:0},d=["navigationStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd"],a.timing)d.includes(h)&&(n[h]=p(a.timing[h]),o[h]=a.timing[h]);if(a.getEntriesByType&&(m=a.getEntriesByType("resource")||[],(g=m.filter((function(e){return"img"===e.initiatorType}))[0])&&(n.firstImageFetchStart=parseFloat(g.fetchStart.toFixed(2)),o.firstImageFetchStart=n.firstImageFetchStart+u),y=jv(m,"script"),v=jv(m,"link"),b=function(e,t,r){return e.length&&e.reduce((function(e,n){return Math[t](e,n[r])}),e[0][r])||0},_=function(e,t){return b(e,"min",t)},k=function(e,t){return b(e,"max",t)},w=parseInt(k(y,"responseEnd"),10),S=parseInt(_(y,"fetchStart"),10),O=parseInt(k(v,"responseEnd"),10),I=parseInt(_(v,"fetchStart"),10),n.jsStartTime=S,n.jsEndTime=w,n.jsRunTime=parseInt(r.bootTime-w-u,10),n.jsLoadTime=w-S,n.cssStartTime=I,n.cssEndTime=O,n.cssLoadedTime=O-I,o.jsStartTime=f(S),o.jsEndTime=f(w),o.cssStartTime=f(I),o.cssEndTime=f(O),o.sourceFields=[].concat(c()(y),c()(v))),A=0,!r.firstRafTimePromise){e.next=18;break}return e.next=15,r.firstRafTimePromise;case 15:A=e.sent,n.firstRafTime=p(A),n.firstRafTimeDelay=A-r.screenTime;case 18:if(T=0,!r.rafTimePromise){e.next=25;break}return e.next=22,r.rafTimePromise;case 22:T=e.sent,n.rafTime=p(T),n.rafDelayTime=T-r.screenTime;case 25:r.moduleLoadTime&&(n.moduleLoadTime=p(r.moduleLoadTime),o.moduleLoadTime=r.moduleLoadTime),n=kv(kv({},n),{},(s={InlineCssParsed:n.cssStartTime?0:r.inlineCssEnd-r.inlineCssStart},l()(s,r.usePipe?"TopChunkLoaded":"DOMLoadedTime",p(r.pageStart)),l()(s,"Paint",p(r.paintTime)),l()(s,"bodyLoadTime",p(r.bodyLoadTime)),l()(s,"FirstScreen",p(r.screenTime)),l()(s,"FirstScreenParsedCost",r.screenTime-r.bodyLoadTime),l()(s,"Boot",p(r.bootTime)),l()(s,"BootWaiting",r.bootTime-r.screenTime),l()(s,"beginPreparePage",p(r.beginPreparePageTime)),l()(s,"runApp",p(r.runAppTime)),l()(s,"fromJs",p(r.fromJsTime)),l()(s,"Mounted",p(r.mountTime)),l()(s,"MountCost",r.mountTime-r.bootTime),s)),a.getEntriesByName&&(C=a.getEntriesByName("first-contentful-paint")||[])&&C.length&&(n.FCP=Math.round(C[0].startTime)),o=kv(kv({},o),{},{inlineCssTimeStart:r.inlineCssStart,inlineCssTimeEnd:r.inlineCssEnd,pageStart:r.pageStart,firstScreenTime:r.screenTime,paintTime:r.paintTime,bodyLoadTime:r.bodyLoadTime,bootTime:r.bootTime,beginPreparePageTime:r.beginPreparePageTime,runAppTime:r.runAppTime,fromJsTime:r.fromJsTime,mountTime:r.mountTime,rafTime:T,firstRafTime:A});case 29:return e.abrupt("return",{webviewTrend:n,webviewTimeline:o});case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zv=[fv,dv,hv,mv,gv,yv,vv],Hv=[fv,hv,mv,vv];function Kv(){var e=[],t=[],r={},n=window.__pft=window.__pft||{},i=n.nodePerf||{},o=i.api,a=i.customPerf,s=tt()(i,["api","customPerf"]),c=n.usePipe?Zv:Hv,u=s.init;return o&&Object.keys(o).forEach((function(e){var r=o[e];t.push({name:"node_"+e,start:r.begin,end:r.end})})),s&&c.reduce((function(t,n){var i="node_"+n,o=s[n];return o?(r[i]=o-u,e.push({name:i,start:t,end:o}),o):t}),u),a&&Object.keys(a).forEach((function(e){var t="node_custom_"+e,n=a[e];r[t]||(r[t]=n-u)})),{nodePerfTimelines:e,nodePerfFields:r,nodeApiTimelines:t}}function zv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fields,r=e.longFields,n=e.tags,i=void 0===n?{}:n,o=i.groupId;o&&(i.type=i.type||"unknown",Tv({commonTags:{groupId:o},mutipleKvList:[{tags:i,fields:t,longFields:r}]}))}function qv(e){var t=e.traceId,r=e.fields,n=e.originalData,i=e.nodePerfTimelines,o=e.nodeApiTimelines;i=i||[];var a=window.__pft=window.__pft||{},s=a.usePipe,u=[["DNS",["domainLookupStart","domainLookupEnd",10,"寻址时间过长"]],["TCP",["connectStart","connectEnd",10,"TCP连接时间过长"]],["Request",["requestStart","responseStart",50,"网速较慢"]],["Response",["responseStart","responseEnd"]],["首屏解析",["bodyLoadTime","firstScreenTime",100,"首屏节点过多"]]];a.beginPreparePageTime?u.push(["PreparePage开始",["bootTime","beginPreparePageTime"]],["PreparePage结束",["beginPreparePageTime","runAppTime"]],["Store反序列化",["runAppTime","fromJsTime"]],["挂载组件",["fromJsTime","mountTime"]]):u.push(["开始挂载组件",["bootTime","mountTime"]]);var l=[["首次动画帧",["init","firstRafTime"]],["二次动画帧",["init","rafTime"]]];s?u.push(["TopChunkLoaded",["responseStart","pageStart",100,"网速较慢"]],["BodyChunkLoaded",["responseStart","bodyLoadTime",200,"Node端执行较久"]],["ModuleChunkLoaded",["responseStart","moduleLoadTime"]]):u.push(["DOMLoaded",["responseStart","pageStart",300,"网速或Node端执行较久"]],["白屏",["responseStart","paintTime",500,"网速或Node端执行较久"]]);var p=[],d=n.nativeStartRoute,h=n.webViewInit;if(d||h){n.init=d||h,u.push(["WebViewInit",["init","webViewInit"]],["NavigationStart",["webViewInit","navigationStart"]]),l.push(["原生首次绘制",["webViewInit","webViewFirstPaint",500,"可能存在绘制阻塞"]]);var m=["nativeStartLoad",["nativeFetchStart","（拦截模块开始加载）"],"nativeDnsStart","nativeDnsEnd","nativeConnectStart","nativeSecureConnectStart","nativeSecureConnectEnd","nativeConnectEnd","nativeRequestStart","nativeRequestEnd","nativeResponseStart","nativeResponseEnd",["nativeCompeleteLoad","(拦截模块结束加载)"]],g=function(e){return"[object Array]"===Object.prototype.toString.call(e)?{keyDes:"".concat(e[0]).concat(e[1]),key:e[0]}:{keyDes:e,key:e}};m.forEach((function(e,t){if(0!==t){var r=g(m[t-1]),n=g(e);p.push([n.keyDes,[r.key,n.key]])}})),p.push(["nativeInit(容器初始化)",["nativeStartRoute","nativeInit"]]),p.push(["nativeLoadURL(调webview接口加载html)",["nativeLoadURL","navigationStart"]])}else n.init=n.navigationStart,u.push(["NavigationStart",["navigationStart","navigationStart"]]);Iv.isNativePlatform&&Iv.platform===L.PLATFORM.PddIOS?u.push(["JS加载并开始启动",["jsStartTime","bootTime",1e3,"js执行过久"]]):u.push(["JS加载",["jsStartTime","jsEndTime",1e3,"js下载时间过长"]],["JS开始启动",["jsEndTime","bootTime",1e3,"js执行过久"]]),n.cssStartTime?u.push(["CSS加载",["cssStartTime","cssEndTime",1e3,"css下载时间过长"]]):u.push(["内联CSS解析",["inlineCssTimeStart","inlineCssTimeEnd",100,"内联css解析时间过长"]]);var y=function(e){return e.reduce((function(e,t){var r=f()(e,2),i=r[0],o=r[1],a=n[t[1][0]]||0,s=n[t[1][1]]||0;if(0===a||0===s||-1===a||-1===s)return[i,o];var c={name:t[0],start:n[t[1][0]]||0,end:n[t[1][1]]||0};i.push(c);var u=c.end-c.start,l=t[1][2],p=t[1][3];return l&&u>l&&o.push("".concat(p)),[i,o]}),[[],[]])},v=y(p),b=y(u),_=f()(b,2),k=_[0],w=_[1],S=y(l),O=f()(S,2),I=O[0],A=O[1],T=i.find((function(e){return"node_init"===e.name}));if(T){var C=n.requestStart-T.start;[i,o].forEach((function(e){return e.forEach((function(e){e.start+=C,e.end+=C}))}))}var E=r.sourceFields,P=tt()(r,["sourceFields"]),R=E.map((function(e){return"".concat(e.name,"；")})).join("\n"),x={traceId:t,tags:kv(kv({},P),{},{"加载资源":R,"性能报告":c()(new Set([].concat(c()(w),c()(A)))).join("；")}),span:[].concat(c()(v[0]&&v[0].length?[{title:"原生",spans:v[0]}]:[]),[{title:"容器（浏览器）",spans:k},{title:"NodePerf",spans:i}],c()(o&&o.length?[{title:"NodeApi",spans:o}]:[]),[{title:"动画帧",spans:I}])},D={method:"POST",body:JSON.stringify(x),data:JSON.stringify(x),headers:{"Content-Type":"application/json;charset=UTF-8"},credentials:"include"},N=Av("/api/cmt/trace");N&&(Iv.isNativePlatform?(Object.assign(D,{url:N}),(0,F.invokeBridgeCallNativeFun)("JSNetwork","request",D).catch((function(e){return{}}))):fetch(N,D).catch((function(e){return{}})))}function Yv(){return(Yv=a()(i().mark((function e(t){var r,n,o,a,s,c,u,l,p,f,d,h,m,g,y,v,b,_,k,w,S,O,I,A,T,C,E,P,R,x,D,N,L,M,B,F,G,j,U,W,Z,H;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sv||Ov){e.next=2;break}return e.abrupt("return");case 2:return(r=window.__pft=window.__pft||{}).mountTime=+new Date,o=(n=t||{}).groupId,a=void 0===o?wv:o,s=n.customFields,c=void 0===s?{}:s,u=n.customLongFields,l=void 0===u?{}:u,e.prev=5,p={usePipe:r.usePipe},e.next=9,Fv();case 9:return f=e.sent,d=f.nativeTimingLongFields,h=void 0===d?{}:d,m=f.nativeTimingTraceFields,g=void 0===m?{}:m,y=f.nativeTimingFields,v=f.nativeUnoLongFields,b=f.nativeUnoFields,_=void 0===b?{}:b,k=f.nativeTags,e.next=21,Uv(g.webViewInit);case 21:return w=e.sent,S=w.webviewTrend,O=w.webviewTimeline,I=Kv(),A=I.nodePerfTimelines,T=I.nodePerfFields,C=I.nodeApiTimelines,E=r.reqId||null,P=Pv(Iv.version),R=kv(kv(kv({isCSR:r.isCSR,isFallbackCSR:r.isFallbackCSR},y),_),c),x=g.nativeCompeleteLoad,D=void 0===x?0:x,N=g.nativeStartLoad,L=void 0===N?0:N,M=O.navigationStart,B=Math.min(D-L,M-L),"boolean"==typeof(F=Dv(S,_))&&Object.assign(p,{isDirtyData:F}),G=Rv(t),j=G.tags,U=G.fields,e.next=36,(0,Li.getUid)();case 36:W=e.sent,Sv&&zv({tags:kv(kv(kv({groupId:a,type:"performance_log"},p),k),j),fields:kv(kv(kv({userID:W},R),U),{},{traceId:E}),longFields:kv(kv(kv(kv(kv(kv({},T),v),h),S),l),{},{prefetchEnhanced:B,version:P})}),Z=O.sourceFields,H=tt()(O,["sourceFields"]),Ov&&E&&qv({traceId:E,fields:kv(kv(kv(kv(kv(kv(kv({userID:W,prefetchEnhanced:B},p),j),R),h),U),k),{},{sourceFields:Z}),originalData:kv(kv({},g),H),nodePerfTimelines:A,nodeApiTimelines:C}),e.next=45;break;case 42:e.prev=42,e.t0=e.catch(5);case 45:case"end":return e.stop()}}),e,null,[[5,42]])})))).apply(this,arguments)}function Vv(){var e=window.__pft||{},t={ps:"pageStart",fp:"paintTime",fsn:"screenTime",fraf:"firstRafTime"};(window._plt||[]).forEach((function(r){var n=f()(r,3),i=(n[0],n[1]),o=n[2],a=t[i];a&&(e[a]=o)})),e.firstRafTimePromise=new Promise((function(t){t(e.firstRafTime)})),e.bodyLoadTime=e.paintTime,e.inlineCssStart=0,e.inlineCssEnd=0,window.__pft=e,function(e){Yv.apply(this,arguments)}()}function Xv(){Fr.ZP.isNativePlatform&&((0,Sl.addNotificationCallback)("onPageShow",a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0;case 1:case"end":return e.stop()}}),e)})))),(0,Sl.addNotificationCallback)("onAppShow",(function(){!0})),(0,Sl.addNotificationCallback)("onPageHide",(function(){!1,!0})),(0,Sl.addNotificationCallback)("onAppHide",(function(){!1,!0})))}function Qv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qv(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C()(e);if(t){var i=C()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var eb=function(){return We().apply(void 0,arguments)((function(){return null}))}(sv()),tb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageSn,r=e.pageName,n=e.App,o=e.Store,s=e.promGame,c=tt()(e,["pageSn","pageName","App","Store","promGame"]),u=Be()(n,{}),l=function(e){O()(d,e);var n,l,p,f=$v(d);function d(e){var t;return g()(this,d),(t=f.call(this,e)).props.store instanceof o?t.store=t.props.store:t.store=new o(Jv({getContext:function(){return new ov}},t.props.store)),t}return w()(d,null,[{key:"getBigPipeInitial",value:(p=a()(i().mark((function e(t){var r,n,a,s,c,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.req,n=t.res,a=t.renderPagelet,s=t.context,c=t.Component,u=t.params,l=new o(Jv({getContext:function(){return new ov(r,n)}},u)),a(eb,{store:l}),e.t0=l.getInitialStore,!e.t0){e.next=7;break}return e.next=7,l.getInitialStore();case 7:return e.next=9,d.bigPipeRender({store:l,renderPagelet:a,context:s,Component:c});case 9:return e.abrupt("return",{store:l});case 10:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"bigPipeRender",value:(l=a()(i().mark((function e(t){var r,n,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.renderPagelet,o=t.store,t.context,s=t.Component,n(s,{store:o}),c=(null===(r=o.bigPipeStore)||void 0===r?void 0:r.list)||[],e.next=5,Promise.all(c.map(function(){var e=a()(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestPromise;case 2:if(t.fetched=!0,t.getInstance()){e.next=5;break}return e.abrupt("return");case 5:r=t.getWidget(),n(r,Jv({store:o},t.props),{placeholderId:t.key});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"getInitialProps",value:(n=a()(i().mark((function e(t){var r,n,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.req,n=t.res,a=t.params,s=new o(Jv({getContext:function(){return new ov(r,n)}},a)),e.t0=s.getInitialStore,!e.t0){e.next=6;break}return e.next=6,s.getInitialStore();case 6:return e.abrupt("return",{store:s});case 7:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"getLogBase",value:function(){var e=(0,Xo.Z)(Qo.DZ),n="wxapp"===(0,Ie.XX)("platform")?{platform:"wxapp"}:{};return Object.assign({},n,{page_sn:t,page_name:r,prom_name:e||s,is_game:1})}},{key:"getPrepareOption",value:function(){var e={},n={pageSN:t,pageName:r};return Jv({shareInfo:e,pageProperty:n,usePDDShare:!0},c)}}]),w()(d,[{key:"render",value:function(){return Be()(Fe.Provider,{store:this.store},void 0,u)}},{key:"componentDidMount",value:function(){this.store.calcAppContext(),iv.init({groupId:90184,pn:t,pagePath:window.location.pathname}),Vv(),Xv()}}]),d}(D().Component);return We()(sv())(l)}({Store:Gf,pageSn:ye.mC,pageName:ye.Hf,promName:ye.n2,App:hy,disablePullReload:!0});function rb(){return nb.apply(this,arguments)}function nb(){return(nb=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{title:"多多精灵",chunks:["duoduo_sprite","phaser","phaser_extend","client"],component:tb,pageSn:ye.mC,forceLogin:!0,useBigPipe:!0,cacheKey:"promote_duoduo_sprite",preloadImages:[Ze.ZP.COMMON_PIC_BASE_SPRITE.url]});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},82864:function(e,t,r){"use strict";r.d(t,{V:function(){return d}});var n,i=r(54612),o=r.n(i),a=r(11809),s=r.n(a),c=r(46461),u=r.n(c),l=r(85114),p=r.n(l),f=r(58699),d=null;d=new(function(){function e(){var t=this;u()(this,e),this.realInit=s()(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e("pdd").then(r.bind(r,96636));case 2:n=e.sent.default,t.riskControlCrawler=new n({serverTime:t.serverTime}),t.riskControlCrawler.init();case 5:case"end":return e.stop()}}),e)}))),this.retry=function(e){e.message+="风控初始化失败",f.ZP.sendError(e),(n=t.realInit()).catch((function(e){e.message+="风控初始化重试失败",f.ZP.sendError(e)}))},this.getAntiContent=s()(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",e.prev=1,e.next=4,t.init();case 4:return t.riskControlCrawler.updateServerTime((new Date).valueOf()),e.next=7,t.riskControlCrawler.messagePackSync();case 7:r=e.sent,t.riskControlCrawler.clearCache(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),f.ZP.sendError(e.t0);case 14:return e.prev=14,e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),this.riskControlCrawler=null,this.serverTime=window.__SERVER_TIME||(new Date).valueOf(),this.init()}return p()(e,[{key:"init",value:function(){return n||(n=this.realInit()).catch(this.retry),n}}]),e}())},81812:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(49304),i=r.n(n),o=r(28716),a=r.n(o),s=r(46058);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.kk;return Object.keys(e).reduce((function(r,n){var i=e[n];if(Array.isArray(i)){var o=i.map((function(e){return e.includes("http")?e:"".concat(s.kk).concat(e)}));return r[n]=o,r}if("object"===a()(i)){var c=i.url;return c&&!c.includes("http")&&(r[n]=u(u({},i),{},{url:"".concat(t).concat(c)})),r}return r[n]=i.includes("http")?i:"".concat(s.kk).concat(i),r}),{})}},94753:function(e,t,r){"use strict";r.d(t,{mB:function(){return p},WV:function(){return h}});var n=r(49304),i=r.n(n),o=(r(97703),r(50318)),a=r(30805),s=r(36721);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(){return(0,o.parseQuery)(location.search)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e.includes("?"))return{};var t=e.match(/\?.*/)[0];return(0,o.parseQuery)(t)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"";var r=(0,o.buildQuery)(t);return e+(r?(~e.indexOf("?")?"&":"?")+r:"")}var d=function(e){(0,s.getCurrentPlatform)().isNativePlatform?(0,a.b4)("replaceURL",{url:e},!1):history.replaceState(null,null,e)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l(),r=f("".concat(location.origin).concat(location.pathname,"?"),u(u({},t),e));d(r)}},4937:function(e,t,r){"use strict";r.d(t,{V:function(){return o}});var n=r(95144),i=r(25338);function o(){var e=(0,n.createDefaultAxios)({pageInfo:{pageId:(0,i.getPageID)()}});return e.defaults.timeout=8e3,e.interceptors.response.use(null,(function(e){var t,r;throw e.errorMsg=e.errorMsg||(null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error_msg),e.message=e.message+", url: "+e.config.url+", params: "+JSON.stringify(e.config.data)+", response: "+JSON.stringify(e.response?e.response.data:{}),e})),e}},48165:function(e,t,r){"use strict";var n;n=r(4937).V,t.Z=n},41013:function(e,t,r){"use strict";r.d(t,{d:function(){return o}});var n=r(44703);function i(){var e=function(e){var t;return function(){var r;if(!t)try{return t=!0,r=e.apply(this,arguments)}finally{r instanceof Promise?r.finally((function(){t=!1})):t=!1}}};return function(t,r,i){return(0,n.nm)(e,["get"])(t,r,i)}}function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.GW)(i,t)}},57866:function(e,t,r){"use strict";r.d(t,{X:function(){return l}});var n=r(54612),i=r.n(n),o=r(11809),a=r.n(o),s=r(44703),c=r(78231);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=function(t){return function(){var r=this,n=arguments,o=e,s=function(){var e=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.apply(r,n);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!o--){e.next=12;break}return e.next=11,(0,c._v)(1e3);case 11:return e.abrupt("return",s());case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return s()}};return function(e,r,n){return(0,s.nm)(t,["get"])(e,r,n)}}var l=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.GW)(u,t)};t.Z=l},78313:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var n=r(44703),i=r(93096),o=r.n(i);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{trailing:!1},r=function(r){return o()(r,e,t)};return function(e,t,i){return(0,n.nm)(r,["get"])(e,t,i)}}var s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.GW)(a,t)};t.Z=s},26671:function(e,t,r){"use strict";r.d(t,{Y:function(){return d}});var n=r(54612),i=r.n(n),o=r(11809),a=r.n(o),s=r(58699),c=r(44703),u=r(56349),l=r(77301),p=r.n(l);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=function(n,o){var c="initializer"===o?this:null;return a()(i().mark((function o(){var a,l,f,d,h=arguments;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return l=(null==(a=c||this)?void 0:a.sendError)||s.y7,f=new Error,i.prev=3,i.next=6,n.apply(a,h);case 6:return i.abrupt("return",i.sent);case 9:if(i.prev=9,i.t0=i.catch(3),r&&((0,u.Kn)(i.t0)&&(Object.defineProperty(i.t0,"preparedStack",{configurable:!0,writable:!0,enumerable:!1}),i.t0.preparedStack=null===(d=p().computeStackTrace(f))||void 0===d?void 0:d.stack),l.call(a,i.t0)),!(0,u.Wl)(e)){i.next=15;break}return i.next=15,e.call(a,i.t0,a);case 15:if(i.prev=15,!(0,u.Wl)(t)){i.next=19;break}return i.next=19,t.call(a,a);case 19:return i.finish(15);case 20:case"end":return i.stop()}}),o,this,[[3,9,15,20]])})))};return function(e,t,r){return(0,c.nm)(n,["get"])(e,t,r)}}function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,c.GW)(f,t)}},44703:function(e,t,r){"use strict";r.d(t,{GW:function(){return o},nm:function(){return a}});var n=r(66393),i=r.n(n);function o(e,t){return function(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],r=0,n=t.length;r<n;r++)if(e.hasOwnProperty(t[r]))return!0;return!1}(t[t.length-1])?e().apply(void 0,i()(t)):function(){return e.apply(void 0,i()(t)).apply(void 0,arguments)}}var a=function(e){return function(t,r,n){var i=n.initializer,o=n.get;return i?n.initializer=function(){var t=i.call(this);return e.call(this,t,"initializer")}:o?n.get=e(o):n.value=e(n.value),n}}},40328:function(e,t,r){"use strict";var n=r(54612),i=r.n(n),o=r(11809),a=r.n(o),s=r(79430),c=r(54578);t.Z=function(e){var t=(0,c.Z)(e);return(0,s.useMemo)((function(){return function(e){var t=!1;return a()(i().mark((function r(){var n,o,a,s=arguments;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=10;break}for(t=!0,r.prev=2,n=s.length,o=new Array(n),a=0;a<n;a++)o[a]=s[a];return r.next=6,e.apply(this,o);case 6:return r.abrupt("return",r.sent);case 7:return r.prev=7,t=!1,r.finish(7);case 10:case"end":return r.stop()}}),r,this,[[2,,7,10]])})))}(t)}),[t])}},83524:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(97703),i=r.n(n),o=r(79430);function a(){var e=(0,o.useState)(!1),t=i()(e,2),r=t[0],n=t[1];return(0,o.useEffect)((function(){n(!0)}),[]),r}},54578:function(e,t,r){"use strict";var n=r(79430);t.Z=function(e){var t=(0,n.useRef)(e);t.current=e;var r=(0,n.useRef)();return r.current||(r.current=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.current.apply(this,r)}),r.current}},20449:function(e,t,r){"use strict";r.d(t,{L:function(){return u}});var n=r(97703),i=r.n(n),o=r(79430),a=r(50359),s=r(54578);function c(e,t,r){var n=(0,o.useState)(!1),a=i()(n,2),c=a[0],u=a[1];(0,o.useEffect)((function(){return t(e)||u(!0),function(){}}),[e]);var l=(0,s.Z)((function(){c&&(u(!1),r(e,1))}));return[c,l]}function u(e){return c(e,a.aF,a.o_)}t.Z=function(e){return c(e,a.$o,a.m8)}},66723:function(e,t,r){"use strict";r.d(t,{ZP:function(){return S},eH:function(){return _}});var n=r(49304),i=r.n(n),o=r(94255),a=r.n(o),s=r(50318),c=r(25031),u=r(18749);function l(e,t){(e=e||{}).queries=e.queries||{},e.queries.sp||(e.queries.sp=(0,s.getBodyScrollTop)()),c.default.replaceQuery(e.queries,t)}var p=r(89378),f=(r(46058),r(36050)),d=r(92748),h=r(305);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=[],v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?(e.startsWith("http")||e.startsWith("/")||(e="/"+e),e):""},b=function(e){var t=document.createElement("a");return t.href=e,t},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){y.forEach((function(e){return e()})),!u.ZP.isNativePlatform&&l();var r=t.page_sn,n=t.page_el_sn,o=a()(t,["page_sn","page_el_sn"]),f=t.list_id,m=(0,d.Z)(h.DZ),_=(0,s.buildQuery)(g({refer_page_sn:r,refer_page_el_sn:n,refer_list_id:f,refer_is_game:m?1:null,refer_prom_name:m},o));e=v(e);var k,w=(0,s.parseUrlQuery)(e),S=(0,s.parseUrlQuery)(location.href),O=p.u6.POPUP_MISSION_ID,I=p.u6.POPUP_MODULE_ID;if(S[O]&&w[O]&&w[I])(0,c.setNextPageQuery)((k={},i()(k,O,w[O]),i()(k,I,w[I]),k));else if((0,c.getNextPageQuery)()[O]){var A;(0,c.setNextPageQuery)((A={},i()(A,O,null),i()(A,I,null),A))}(0,c.replaceQuery)(t,(function(){var t=e.includes("?")?"".concat(e,"&").concat(_):"".concat(e,"?").concat(_);try{var r;window.__STORE__.duoduoSpriteLogger({stage:"forward",forwardPath:null===(r=b(t))||void 0===r?void 0:r.pathname,fields:{forwardUrl:t}})}catch(e){}(0,c.uniformForward)(t)}))}},k=function(){if("undefined"!=typeof window){var e=window.location&&window.location.pathname;if(/editor\.html/.test(e))return function(){}}return _}(),w=[],S={forward:_,controlledForward:k,forwardOMS:function(e){location.host.includes("hutaojie")?window.location.href="http://oms-web.qa3.test.yiran.com/"+e:window.location.href="https://oms.corp.yiran.com/"+e},reload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.replaceQuery)(e),(0,c.reload)()},rewriteRoute:v,beforeForward:function(e){var t=y.push(e)-1;return function(){return y[t]=function(){}}},registerWhenGoBackStage:function(e){var t=w.push(e)-1;if(u.ZP.isNativePlatform)(0,f.addSceneLeaveCallback)((function(){w[t](!1)}));else{var r=window.wx;r&&r.ready((function(){r.on("onPageStateChange",(function(e){w[t]("true"===e.active)}))}))}return function(){w[t]=function(){}}}}},47963:function(e,t,r){"use strict";var n,i=r(54612),o=r.n(i),a=r(11809),s=r.n(a),c=r(58699),u=r(48165),l=r(56349),p=r(18749),f=r(36721);function d(){return p.ZP.isNativePlatform&&(0,f.compareVersion)(p.ZP.version,"4.69.0")>=0}function h(){n||(n=r(82864).V)}var m=function(){return h(),n.getAntiContent().catch((function(e){c.ZP.sendError(e)}))};d()||h();var g={request:function(e){var t=arguments;return s()(o().mark((function r(){var n,i,a,s,c,p,f,h,g,y,v;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.length>1&&void 0!==t[1]?t[1]:{},i=t.length>2&&void 0!==t[2]?t[2]:{},a=t.length>3&&void 0!==t[3]?t[3]:"get",s=e.api,c=e.risk,p=e.url,f=e.middleware,s||e,h={defaultErrorHandler:(0,l.Wl)(i.defaultErrorHandler)?i.defaultErrorHandler:void 0,name:s,method:a,url:p||s},!s||!c){r.next=15;break}if(!d()){r.next=11;break}h.useNativeAntiToken=!0,r.next=15;break;case 11:return r.next=13,m();case 13:g=r.sent,n=Object.assign({},n,{anti_content:g});case 15:return"get"===a?h.params=n:h.data=n,v=(0,u.Z)(),y=v(h),r.abrupt("return",y.then((function(t){var r=t;return f&&(r=f(t,e,n)),Promise.resolve(r)})));case 18:case"end":return r.stop()}}),r)})))()},get:function(e,t,r){return this.request(e,t,r,"get")},post:function(e,t,r){return this.request(e,t,r,"post")},put:function(e,t,r){return this.request(e,t,r,"put")},postForm:function(e,t,r){return this.request(e,t,r,"put")}};t.Z=g},30805:function(e,t,r){"use strict";r.d(t,{xX:function(){return l},k$:function(){return p},b4:function(){return f},sl:function(){return d},vL:function(){return h},ws:function(){return m},_g:function(){return g},eZ:function(){return y}});var n=r(81249),i=r.n(n),o=r(36050),a=r(48142),s=r(18749),c=r(36721),u=function(e){return function(t){return(0,o.addNotificationCallback)(e,t)}},l=function(e,t,r){return new Promise((function(n,o){return i().callNative(e,t,r,n,o)}))},p=function(e,t,r){return l("JSUIControl",e,t,r)},f=(u("PDDDCHideKVGifNotification"),u("PDDDCShowKVGifNotification"),u("onAppShow"),u("onAppHide"),function(e,t,r){return l("WebScene",e,t,r)}),d=function(){return s.ZP.isNativePlatform?f("reload"):location.reload()},h=function(){return f("getTiming")},m=function(){return f("getUnoContext")},g=function(){s.ZP.isNativePlatform&&(0,c.compareVersion)(s.ZP.version,"4.30.0")>0&&(0,a.disableSwipeBack)()},y=function(){return(0,a.enableSwipeBack)()}},91963:function(e,t,r){"use strict";r.d(t,{n:function(){return n},Oq:function(){return i},ED:function(){return o}});var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=["个","万","亿","兆","垓"];if(!/^(([1-9][0-9]*)|0)$/.test(e))return console.warn("字符串传参不标准，返回为空字符串"),{value:"",unit:"",valueStr:"",takeUnitStr:""};var n=""+e,i=Math.floor((n.length-1)/4),o=i<r.length?i:r.length-1,a=n.length-4*o,s=n.slice(0,a),c=n.slice(a,a+t),u=r[o]||r[r.length-1],l=0===o?s:s+"."+c;return{value:l,unit:u,valueStr:l+(0===o?"":u),takeUnitStr:l+u}},i=function(e,t){if(!/^(([1-9][0-9]*)|0)$/.test(e)||!/^(([1-9][0-9]*)|0)$/.test(t))return"";for(var r=1,n=""+e,i=""+t,o=n.length,a=i.length,s="",c=0;n[o-r]||i[a-r]||c;){var u=~~n[o-r]+~~i[a-r]+c;s="".concat(u%10).concat(s),c=+(u>9),r++}return s},o=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!/^(([1-9][0-9]*)|0)$/.test(e)||!/^(([1-9][0-9]*)|0)$/.test(t))return console.warn("字符串传参不标准，执行前者小于后者block"),!1;var n=""+e,i=""+t,o=n.length===i.length;return o?r?n>=i:n>i:n.length>i.length}},89082:function(e,t,r){"use strict";r.d(t,{J:function(){return n}});var n=function(e,t){return{task_id:e,button_status:t}}},73688:function(e,t,r){"use strict";r.d(t,{mr:function(){return p},jo:function(){return f}});var n=r(85114),i=r.n(n),o=r(46461),a=r.n(o),s=function e(t){var r=this;a()(this,e),this._createTimer=function(e){var t=!0;!function n(){if(r.clearId&&r.cbId===r.clearId)r.clearId=r.cbId=null;else{var i=new Date;if(Object.keys(r._queue).forEach((function(e){r._queue[e]()})),r.stop)r.cbId=null;else{var o=new Date-i,a=t?e:Math.max(0,e-o);r.cbId=setTimeout(n,a)}}}(),t=!1},this.add=function(e){return r._queue[r.index++]=e,r.restart(),r.index-1},this.remove=function(e){e<0||(delete r._queue[e],Object.keys(r._queue).length||(r.stop=!0,r.clearId=r.cbId))},this.restart=function(){r.stop&&(r.stop=!1,r._createTimer(r.delay))},this._queue={},this.stop=!1,this.delay=t,this._createTimer(t),this.index=0},c=function(){function e(){a()(this,e),this._pool={}}return i()(e,[{key:"getTimer",value:function(e){return this._pool[e]||(this._pool[e]=new s(e))}},{key:"removeTimer",value:function(e){this._pool[e]&&delete this._pool[e]}}]),e}(),u=new c;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",n=-1;for(t-=(e=String(e)).length;++n<t;)e=r+e;return e}function p(e){var t=parseInt(e/1e3),r=parseInt(t/60);return{days:l(parseInt(r/60/24)),hours:l(parseInt(r/60%24)),minutes:l(r%60),seconds:l(t%60),milliseconds:parseInt(e/100%10)}}var f=function(){function e(t){var r=this;a()(this,e),this.defaultOptions={now:(new Date).valueOf(),render:function(){},end:function(){r.render(p(0)),r.onFinish&&r.onFinish()},onFinish:function(){},endTime:(new Date).valueOf()+3e5,delayTime:1e3},Object.assign(this,this.defaultOptions,t),this.init()}return i()(e,[{key:"init",value:function(){var e=this;this.timer=u.getTimer(this.delayTime),this.index=this.timer.add((function(){e.now+=e.delayTime,e.now>=e.endTime?(e.timer.remove(e.index),e.end()):e.render(e.getBetween())}))}},{key:"getBetween",value:function(){return p(this.endTime-this.now)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.timer.remove(this.index),Object.assign(this,e),this.init()}},{key:"remove",value:function(){this.timer.remove(this.index)}}]),e}()},132:function(e,t){"use strict";var r=!1,n=!1,i=null,o=function(){var e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode("\n    .CommonToast {\n        position: fixed;\n        z-index: 99999999;\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%, -50%);\n        -webkit-transform: translate(-50%, -50%);\n        display: table;\n        margin-top: -.32rem;\n        max-width: 3rem;\n        padding: .12rem .16rem;\n        text-align: center;\n        line-height: .2rem;\n        color: #F0F0F0;\n        font-size: .16rem;\n        background-color: rgba(0, 0, 0, .8);\n        border-radius: .05rem;\n        pointer-events: none;\n        animation: CommonToastAnimation 3s linear;\n        -webkit-animation: CommonToastAnimation 3s linear;\n    }\n\n    @keyframes CommonToastAnimation {\n        0% {\n            opacity: 0;\n        }\n        20% {\n            opacity: 1;\n        }\n        80% {\n            opacity: 1;\n        }\n        100% {\n            opacity: 0;\n        }\n    }\n\n    @-webkit-keyframes CommonToastAnimation {\n        0% {\n            opacity: 0;\n        }\n        20% {\n            opacity: 1;\n        }\n        80% {\n            opacity: 1;\n        }\n        100% {\n            opacity: 0;\n        }\n    }\n")),document.head.insertBefore(e,document.head.firstChild)};t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={className:"",message:"",duration:4e3};return e=Object.assign({},t,"string"==typeof e||Array.isArray(e)?{message:e}:e),new Promise((function(t){var a=[].concat(e.message);if(n||(n=!0,o()),i||(i="AnimationEvent"in window?"animationend":"webkitAnimationEnd"),!r){r=!0;var s=document.createElement("div");s.className+="CommonToast ".concat(e.className),s.style.animationDuration="".concat(e.duration,"ms"),s.style.webkitAnimationDuration="".concat(e.duration,"ms"),s.innerHTML=a.join("<br/>"),s.addEventListener(i,(function(){r=!1,s.remove(),t()})),document.body.appendChild(s)}}))}},52866:function(e,t,r){"use strict";r.d(t,{T8:function(){return s},NH:function(){return c}});var n=r(49304),i=r.n(n);r(69435);function o(){return parseInt(document.getElementsByTagName("html")[0].style.fontSize.replace("px",""))}var a=0;var s=function(e,t){var r,n=e.replace(/^\S/,(function(e){return e.toUpperCase()}));return r={},i()(r,e,t),i()(r,"Moz".concat(n),t),i()(r,"Webkit".concat(n),t),i()(r,"O".concat(n),t),r},c=function(e,t){var r=e.left+e.width/2,n=e.top+e.height/2;return{translateX:t.left+t.width/2-r||0,translateY:t.top+t.height/2-n||0}};t.ZP={getOffsetX:function(){var e=o();return document.getElementsByClassName("editor-screen-scroll")[0].getBoundingClientRect().x/e},getOffsetY:function(){var e=o();return document.getElementsByClassName("editor-screen-scroll")[0].getBoundingClientRect().y/e},getFontSize:o,getWidth:function(){var e=o();return document.getElementsByClassName("editor-screen-scroll")[0].getBoundingClientRect().width/e},getHeight:function(){var e=o();return document.getElementsByClassName("editor-screen-scroll")[0].getBoundingClientRect().height/e},getScrollTop:function(){var e=o();return document.getElementsByClassName("editor-screen-scroll")[0].scrollTop/e},disableScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;a=e,document.body.style.top=-1*e+"px",document.body.style.position="fixed"},enableScroll:function(){document.body.style.overflow="",document.body.style.position=null,document.body.style.top=null,window.scrollTo(0,a)},remToPx:function(e){return 100*parseFloat(e)?100*parseFloat(e):""},pxToRem:function(e){return e?"".concat(e/100,"rem"):""},positionDetect:function(e){var t=innerHeight,r=innerWidth,n=e.getBoundingClientRect(),i=n.top,o=n.bottom,a=n.left,s=n.right,c=this.offset,u=null===e.offsetParent,l=i<t&&o>=0,p=a<r&&s>=0;return{isUnVisible:u,isHorizonNotInView:a>r||s<0,isVerticalNotInView:i>t&&i<c+t||o<0&&o>-c,isHorizonInView:p,isVerticalInView:l,isInView:l&&p&&!u}}}},17145:function(e,t,r){"use strict";r.d(t,{O:function(){return n}});var n=function(e){var t=e.room_id,r=e.module_id,n=e.mall_id;return"/live_room.html?ext=%7B%22feed_scene_id%22%3A487%7D&biz_type=0&scene_id=50&use_hub=1&page_from=60153&hub_type=hub%2Fzb_promotions_scene%2Fweak&location_requird=0&room_id=".concat(t,"&module_id=").concat(r,"&mall_id=").concat(n)}},99527:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,'/*! normalize.css v3.0.2 | MIT License | git.io/normalize */@media only screen and (max-width: 480px){html{font-size:128px}}@media only screen and (max-width: 414px){html{font-size:110.4px}}@media only screen and (max-width: 412px){html{font-size:109.86667px}}@media only screen and (max-width: 400px){html{font-size:106.66667px}}@media only screen and (max-width: 393px){html{font-size:104.8px}}@media only screen and (max-width: 375px){html{font-size:100px}}@media only screen and (max-width: 360px){html{font-size:96px}}@media only screen and (max-width: 345px){html{font-size:92px}}@media only screen and (max-width: 320px){html{font-size:85.33333px}}html{-webkit-text-size-adjust:none;font-size:calc(100vw / 3.75)}@media only screen and (min-width: 640px){html{font-size:170.66667px}}*{box-sizing:border-box;border:0;-webkit-tap-highlight-color:transparent;outline:0;margin:0;padding:0}*::before,*::after{box-sizing:border-box}html{text-size-adjust:100%;width:100%;height:100%;font-family:PingFangSC-Regular, STHeiti STXihei, Microsoft JhengHei, Microsoft YaHei, miui}body{margin:0;width:100%;height:100%;font-family:PingFangSC-Regular, STHeiti STXihei, Microsoft JhengHei, Microsoft YaHei, miui}body,h1,h2,h3,h4,h5,h6,hr,p,blockquote,dl,dt,dd,ul,ol,li,pre,form,fieldset,legend,button,input,textarea,th,td{vertical-align:baseline;border:0 none;list-style:outside none none}i,em{font-style:normal}ol,ul{list-style:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}a:visited,a:active,a:hover{text-decoration:none;outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:0.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;top:-0.5em}sub{bottom:-0.25em}img{border:0;max-width:100%;width:auto;height:auto;vertical-align:top}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0;resize:none}button{overflow:visible;text-transform:none}select{text-transform:none}button,html input[type="button"]{-webkit-appearance:button;cursor:pointer}input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input::-moz-focus-inner{border:0;padding:0}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}.native-scroll{overflow:auto;-webkit-overflow-scrolling:touch}.ms-controller,.ms-important,[ms-controller],[ms-important]{visibility:hidden}.scroller-wrapper-for-ios-wechat{overflow-y:auto;height:100%;-webkit-overflow-scrolling:touch}leftUserNumColor{color:#ffb100}.self-uid{position:absolute;left:15px;bottom:17px;font-size:6.5px;color:#6a6a6a;line-height:1}.with-mask{color:#1a1a1a}anniShieldMark{color:#fee93e}@keyframes loading{0%{transform:rotateZ(0deg)}50%{transform:rotateZ(180deg)}100%{transform:rotateZ(360deg)}}body{background:#f4f4f4;color:#666666;font-size:12px;line-height:1.5}.container-dc{position:relative;min-height:100%;margin:0 auto;overflow:hidden;background-color:#f2f2f2}.content{overflow:hidden}@media (max-width: 640px){.goods-show{width:100%;margin:10px 0}}@media (min-width: 641px){.goods-show{width:45%;margin:2.5%}}.app-mask{background-color:rgba(0,0,0,0)}input::-webkit-inner-spin-button{-webkit-appearance:none}input::-webkit-outer-spin-button{-webkit-appearance:none}.pull-up-show,.pull-up-hide{height:auto;width:100%;background-color:transparent}#go-top,.go-top{display:block;width:.43rem;height:.43rem;position:fixed;right:0.18rem;bottom:0.64rem;z-index:999;background-image:url("/assets/img/go_top.png");background-size:contain;opacity:1;-webkit-transition:bottom 0.8s ease, opacity 0.6s ease}#go-top span,.go-top span{position:absolute;bottom:0.07rem;width:100%;display:block;height:0.12rem;line-height:0.12rem;text-align:center;font-size:0.1rem;color:#333333}.top-button-hide{bottom:-0.64rem;opacity:0.0}.top-button-show{bottom:0.64rem;opacity:1.0}.list-center{width:200px;margin:0 auto;text-align:center;position:relative;padding-left:15px}.list-center .img-rotate,.list-center .img-rotate-bg{position:absolute;top:10px;left:33px;width:25px;height:25px;-webkit-animation:loading 1s linear 0s infinite;margin-top:0 !important}.list-center .img-rotate-bg{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAMAAAANf8AYAAABvFBMVEUAAACioqJ8fHx8fHx8fHx8fHyOjo6QkJB8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHza2tp8fHzIyMh8fHx8fHx8fHx8fHx8fHx8fHx8fHyAgIB8fHysrKx8fHzc3NyEhITk5OR8fHzk5OSfn598fHyfn5/k5OR8fHzT09N8fHx8fHyfn598fHzk5OR8fHx8fHywsLDT09N8fHyCgoLY2NiZmZnf39+rq6ve3t7CwsKwsLB8fHyfn5/T09OwsLDCwsJ8fHyOjo6fn598fHzk5OSwsLDCwsKOjo7T09PCwsLT09N8fHywsLCfn598fHywsLDk5OTk5OR8fHx8fHywsLDT09Ofn5+Ojo7b29vCwsKXl5ewsLB8fHzCwsJ8fHynp6fT09PT09PT09OOjo6fn5/k5OSwsLCOjo7T09Pk5OSwsLCfn5/k5OTT09OwsLCfn5+wsLDk5OTT09Ofn5+fn5/T09OwsLDCwsLT09PCwsKfn5/T09PCwsKwsLB8fHx8fHzk5OSwsLCwsLCOjo7k5OTk5OSfn5/T09Ofn5+Ojo7T09OwsLB8fHzCwsKwsLCOjo7T09Ofn5/k5OR8G97RAAAAjXRSTlMAA/3u4hXuBfoKv6Y9D+e3VSscBvLb1MKaaVFFKSYYCAj8+O3gzsq9qZKSi4J9cWBaQz0tJiUgFBAP/fn29fTv6+vm5d/b19bQz83Bsaamn5eUkoN4bWViYUtGNzY2MiIa/vrq6unn4eHez8K8t7e3t6+toJGHhYSBgH97eHRzc29nV1ZTUUw/NS4cGhc3HnOAAAACxUlEQVRIx8WTZ1fiUBCGJzEuSBFEAUGx997b2nsvu669bO+99953A0L+sPcNFw2Se4588vmSOTPznJs7k5CITEcmpYm7Xy1rSdNRVFXNptNQ5CSOCoiT5REaWfOy9bOJE8xT/aLLrbI2uT3FycxgYb7AyUefLcXhaXMKVBA84bTLCAMkwIXqeEmy40fks4icQivqq0mOW48KSEgd6nlFBqdEQTBPYpwj6Fhi0TjfaSMSZR2pe6mx+oKkE0CLvE/kLlOtblbKQ6KedHb9si2xp4vIuwoRSpWIHUffqEfFeU5CaMcA7dyxqcBahyYHK3gxOUOtGe/S2K8CxXAOGAlY2JLs9XB19N4afN4t+igM51jqrDzjayczPDZel+3O48W4eNIr3DWodJCRoDeezjJzsvVSdrNEyVg+Yax+MmMJI6p3mv1w+YrLY75qu1KzT2dAQEkM0ucgEQXTB5zRDTZmWT1CkQSK5frBMR38/+AUCZy/Bwa+U4fxHBIgjRqcLqJmbwancpdEbE+f49zeoDMgt6n6Qq/52BruN/SQCT8mNE17auq8iMViN9ZTFpFTrYHSYjNnLAaqfpGR7pVSTecmmVEVi7PYdZz7Uq7FKd80df5UcGmgwcJTTdwoxQg636wZ30/69mqHqOTdALee83x1XHmQg3sNRqNzhtsuRCKRVva8vBh3Knh+BcbETwJzUUabPnpCa4QxqYfb+q0eJyZwVytv0vO0GQXswL2p8NQeUc95SB8JSOtjsYoQJejkVyi+A+Uhi2bD4fAsey7DGfrPd9slUQrvoVztZFEfc/qIHTQEaZmE/BuEU4swDBBcioAdofMMyrXeJEeahHNPpPy+AmeNkhxqjYCvAqcWyox0wqEncB4JnJd8NyecEOa9IHC6ZzCAZIeP4VaIBEhtOWTiUKg1l07BMFOGKT3eMuc1pcnWhy0ScAhT81WseKxt7AAAAABJRU5ErkJggg==") no-repeat;background-size:contain}.list-center .loading-text{line-height:45px;font-weight:normal;font-size:15px;margin-left:30px}.list-center .middle{margin-left:0}.pull-up-show,.pull-up-hide{height:auto;width:100%;background-color:transparent}.list-grid-item{position:relative}.list-item-subfix{position:absolute;top:0}.editor-content .ant-form-item{margin-bottom:0}body{height:100%;overflow-y:scroll;user-select:none;-webkit-overflow-scrolling:touch}@font-face{font-family:icomoon-transac;src:url(https://funimg.pddpic.com/fonts/transac_iconfont_20190124.ttf)}@font-face{font-family:\'icomoon\';src:url(https://funimg.pddpic.com/fonts/iconfont_20180706.ttf);font-weight:normal;font-style:normal;line-height:1}*{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}input,textarea{-webkit-touch-callout:text;-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.staging-text{position:fixed;right:.1rem;top:.3rem;font-size:.12rem;padding:0 .06rem;z-index:9999999;color:#fff;background-color:rgba(0,0,0,0.6)}\n',""]),e.exports=n},77714:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".ani-3XlJZ{width:1.275rem;height:1.225rem;position:absolute;transform:translate(-50%, -50%)}\n",""]),n.locals={ani:"ani-3XlJZ"},e.exports=n},32351:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".aniStop-3uEy- *{animation:none !important}.ball-BDdKK{width:.61rem;height:.61rem;position:relative;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:column;-webkit-flex-direction:column;padding-bottom:.04rem;border-radius:50%;transition:all .2s linear}.waveWrap-AnE6B{width:.53rem;height:.53rem;position:absolute;left:.04rem;bottom:.04rem;border-radius:50%;overflow:hidden;background-position:50% 100%;background-size:100% auto !important;transform:translateZ(0)}.waveAni1-HIZUI,.waveAni2-210ZZ{position:absolute;bottom:0;left:50%;width:200%;height:200%;border-radius:45%;transform:translate3d(-50%, 0, 0) rotate(0);animation:wave-rotate-3_7Rc 6s linear infinite;background-position:50% 50%;background-size:150% 150% !important}.waveAni2-210ZZ{border-radius:47%;transform:translate3d(-50%, 0, 0) rotate(0);animation:wave-rotate-3_7Rc 10s linear infinite}@keyframes wave-rotate-3_7Rc{50%{transform:translate3d(-50%, -3%, 0) rotate(180deg)}100%{transform:translate3d(-50%, 0, 0) rotate(360deg)}}.wave-1kSQM{width:.53rem;position:absolute;left:0;bottom:0;background-size:100% auto !important;background-position:50% 0;background-repeat:round;transition:all .4s linear}.sphere-16lhY{width:.58rem;height:.54rem;position:absolute;left:.03rem;top:.04rem}.energyNum-1cNrN{position:relative;font-size:.22rem;font-weight:bold;color:#fff;line-height:1;text-shadow:0 0.01rem 0 rgba(34,156,37,0.71)}.energyText-2eQCD{position:relative;font-size:.1rem;color:#fff;text-shadow:0 0.01rem 0 rgba(34,156,37,0.71);font-weight:500;line-height:1}\n",""]),n.locals={aniStop:"aniStop-3uEy-",ball:"ball-BDdKK",waveWrap:"waveWrap-AnE6B",waveAni1:"waveAni1-HIZUI",waveAni2:"waveAni2-210ZZ","wave-rotate":"wave-rotate-3_7Rc",wave:"wave-1kSQM",sphere:"sphere-16lhY",energyNum:"energyNum-1cNrN",energyText:"energyText-2eQCD"},e.exports=n},33496:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".flyWrap-nXV_C{position:fixed !important;left:0;top:0;transform:translateZ(0);z-index:200}\n",""]),n.locals={flyWrap:"flyWrap-nXV_C"},e.exports=n},68794:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".lock-1ZRpB{width:.65rem;height:.7rem}.wrap-aKIhE{margin-bottom:.09rem}.point-3LMTo{width:.15rem;height:.15rem;position:absolute;right:.02rem;top:.01rem}.btn-2ilmB{width:.65rem;height:.23rem;position:absolute;left:50%;top:.47rem;transform:translateX(-50%)}\n",""]),n.locals={lock:"lock-1ZRpB",wrap:"wrap-aKIhE",point:"point-3LMTo",btn:"btn-2ilmB"},e.exports=n},60897:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-9ef7b{background:transparent !important;height:3.4rem}.mainImg-1BM1r{width:2.27rem;height:.97rem}.btn-2_rgZ{position:absolute;width:1.55rem;height:.57rem;bottom:0;font-size:.29rem;color:#fff;font-weight:900;text-shadow:0 .01rem 0 #cf3d1d;display:flex;justify-content:center;align-items:center;padding-bottom:.05rem}\n",""]),n.locals={wrap:"wrap-9ef7b",mainImg:"mainImg-1BM1r",btn:"btn-2_rgZ"},e.exports=n},21427:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".finger-1o3tu{position:absolute;z-index:1;pointer-events:none;right:-.3rem;bottom:-.35rem;width:.38rem;height:.4rem;transform:translate(0%, 0%) rotate(0deg) scale(1);transform-origin:80.15% 80.3%;animation:BX_AniKey9-135ha 1.67s linear 0s infinite both}@keyframes BX_AniKey9-135ha{0%{transform:translate(-44.7%, -52.5%) rotate(13deg)}15%{transform:translate(-44.7%, -52.5%) rotate(-6deg)}37.5%{transform:translate(-44.7%, -52.5%) rotate(13deg)}52.5%{transform:translate(-44.7%, -52.5%) rotate(-6deg)}75%,100%{transform:translate(-44.7%, -52.5%) rotate(13deg)}}\n",""]),n.locals={finger:"finger-1o3tu",BX_AniKey9:"BX_AniKey9-135ha"},e.exports=n},46976:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-3TogY{width:3.3rem;height:4.95rem;position:relative;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:column;-webkit-flex-direction:column;padding:.75rem 0 .2rem 0}.rankBanner-3334q{width:2.92rem;height:.25rem;position:relative;display:flex;display:-webkit-flex;justify-content:space-between;-webkit-justify-content:space-between;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;color:#fff;font-size:.14rem;font-weight:bold;padding:0 .03rem .01rem .1rem;margin-bottom:.06rem;flex-shrink:0;line-height:normal}.rankBanner-3334q span{color:#FFFB88}.rankBtn-1_St8{width:.59rem;height:.23rem;position:absolute;right:.03rem;top:.02rem}.list-3gwj8{height:3.69rem;flex-shrink:0;display:flex;flex-wrap:wrap;overflow-y:scroll;padding-left:.15rem;mask:linear-gradient(0deg, transparent, #fff 2.5%);-webkit-mask:linear-gradient(0deg, transparent, #fff 2.5%)}.item-28iLm{width:1.42rem;height:.9rem;margin:.02rem .04rem;border-radius:.08rem;position:relative;background-size:cover !important;background-position:50% 100% !important}.rareTag-39UQD{position:absolute;left:-.01rem;top:-.01rem;width:.38rem;height:.35rem}.awardName-8HosJ{position:absolute;right:.02rem;bottom:.02rem;min-width:.52rem;height:.17rem;padding:0 .06rem  0 .08rem;color:#fff;font-size:.125rem;font-weight:800;line-height:normal;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;background:rgba(254,59,0,0.75);border-radius:.08rem 0 .08rem 0}.btn-2UZIb{width:1.81rem;height:.58rem;margin-top:.1rem}\n",""]),n.locals={wrap:"wrap-3TogY",rankBanner:"rankBanner-3334q",rankBtn:"rankBtn-1_St8",list:"list-3gwj8",item:"item-28iLm",rareTag:"rareTag-39UQD",awardName:"awardName-8HosJ",btn:"btn-2UZIb"},e.exports=n},87451:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-3ZMEG{background:transparent !important}.bg-16QzL{position:relative;width:3.3rem;height:4.4rem}.list-e2P_t{position:absolute;top:.71rem;width:3rem;left:.17rem;display:flex;flex-wrap:wrap;max-height:3.55rem;overflow:scroll}.itemBg-2qVz5{position:relative;width:.98rem;height:1.15rem;display:flex;flex-direction:column;align-items:center}.collectedImg-e5G9X{position:relative;margin-top:.15rem;width:.78rem;height:.59rem;background-size:cover !important;background-position:50% 50% !important}.unCollectedImg-2q-JO{margin-top:.08rem;width:.78rem;height:.92rem}.awardName-1Ul5i{position:absolute;bottom:0;width:100%;text-align:center;font-size:.15rem;color:#fff;line-height:.31rem;font-weight:bold;text-shadow:0 .5px 1.5px #d43e08}.rareTag-3qghw{position:absolute;left:0;top:0;width:.38rem;height:.35rem}\n",""]),n.locals={wrap:"wrap-3ZMEG",bg:"bg-16QzL",list:"list-e2P_t",itemBg:"itemBg-2qVz5",collectedImg:"collectedImg-e5G9X",unCollectedImg:"unCollectedImg-2q-JO",awardName:"awardName-1Ul5i",rareTag:"rareTag-3qghw"},e.exports=n},57716:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".item-KeguU{position:absolute;width:.45rem;height:.46rem;pointer-events:auto;transform:translate(-50%, 5%) scale(0.8)}.boxBoom-O2W3A{width:.4rem;height:.35rem;position:absolute;left:50%;top:-.04rem;transform:translate(-50%, 0)}.boxBoomAni-1vhJU{animation:boom-ani-3z8gy 1.5s steps(16);background-size:auto 100% !important}@keyframes boom-ani-3z8gy{0%{background-position:0 0}100%{background-position:-1280px 0}}.time-17Mzp{position:absolute;top:.29rem;left:0;width:100%;text-align:center;font-size:.11rem;line-height:1;font-weight:800}\n",""]),n.locals={item:"item-KeguU",boxBoom:"boxBoom-O2W3A",boxBoomAni:"boxBoomAni-1vhJU","boom-ani":"boom-ani-3z8gy",time:"time-17Mzp"},e.exports=n},77185:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-3EC_P{background:transparent !important;position:relative;display:flex;justify-content:center}.bg-2SIkV{width:3.03rem;height:3.91rem;position:relative}.pin-2utVc{width:.52rem;height:.63rem;position:absolute;top:.59rem;right:-.04rem;z-index:2}.mainImg-omeld{position:absolute;top:.7rem;right:0;width:3.13rem;height:2.34rem;transform:rotate(0deg);transform-origin:91.04% 14.21%;animation:rotateAniKey-LTi8m 666ms linear .2s both}@keyframes rotateAniKey-LTi8m{0%{transform:rotate(0deg)}18.75%{transform:rotate(5deg)}37.5%{transform:rotate(10deg)}68.75%{transform:rotate(5deg)}81.25%{transform:rotate(3deg)}100.00%{transform:rotate(5deg)}}.btn-1BU8e{position:absolute;width:1.55rem;height:.57rem;bottom:0;font-size:.29rem;color:#fff;font-weight:900;text-shadow:0 .01rem 0 #cf3d1d;display:flex;justify-content:center;align-items:center;padding-bottom:.05rem}.circlePosCls-1Kc8e{position:absolute;width:3.75rem;height:8.12rem;pointer-events:none;background-size:100% auto !important}.circleAniCls-2U35Q{background-size:3000px 812px !important;animation:circleAniKey-2aOpB 583.1ms steps(7) 0.1s 1 both}@keyframes circleAniKey-2aOpB{0%{background-position:0 0}100%{background-position:-2625px 0}}.tailText-3FcVD{position:absolute;bottom:-.25rem;font-size:.16rem;color:#fff;font-weight:bold;width:100%;text-align:center}.congratsTitleRare-2hTRV{position:absolute;top:-.64rem;font-size:.19rem;color:#fff;line-height:.27rem;width:100%;text-align:center;font-weight:bold;white-space:pre}.congratsTitleRare-2hTRV>span{color:#FFFB88}\n",""]),n.locals={wrap:"wrap-3EC_P",bg:"bg-2SIkV",pin:"pin-2utVc",mainImg:"mainImg-omeld",rotateAniKey:"rotateAniKey-LTi8m",btn:"btn-1BU8e",circlePosCls:"circlePosCls-1Kc8e",circleAniCls:"circleAniCls-2U35Q",circleAniKey:"circleAniKey-2aOpB",tailText:"tailText-3FcVD",congratsTitleRare:"congratsTitleRare-2hTRV"},e.exports=n},9862:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".title-1MaaB{font-size:.22rem;color:#fff;line-height:.35rem;font-weight:800;text-align:center;position:absolute;top:.2rem}\n",""]),n.locals={title:"title-1MaaB"},e.exports=n},60708:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"div.maskPack-a5H8C{animation:bgOpacityOutAniKey-32r0A 292ms linear 876ms both}@keyframes bgOpacityOutAniKey-32r0A{0%{background-color:rgba(0,0,0,0.8)}100%{background-color:rgba(0,0,0,0)}}div.wrap-22ort{background:transparent;display:flex;justify-content:center;width:3.03rem;height:3.91rem}.bg-daclW{width:3.03rem;height:3.91rem;position:relative}.pin-2MXuq{width:.52rem;height:.63rem;position:absolute;top:.59rem;right:-.06rem;z-index:2}.mainImgWrap-2gjDx{position:absolute;top:.7rem;right:0;width:3.13rem;height:2.34rem}.mainImg-37IWB{position:absolute;top:0;right:0;width:3.13rem;height:2.34rem;transform:rotate(0deg);transform-origin:91.04% 14.21%;animation:rotateAniKey-3Nh7V 666ms linear .2s both}@keyframes rotateAniKey-3Nh7V{0%{transform:rotate(0deg)}18.75%{transform:rotate(5deg)}37.5%{transform:rotate(10deg)}68.75%{transform:rotate(5deg)}81.25%{transform:rotate(3deg)}100.00%{transform:rotate(5deg)}}.mainImgPackAni-GTgRT{animation:mainImgPackAniKey-31Fgh 292ms ease 0s both}@keyframes mainImgPackAniKey-31Fgh{0.00%{transform:scale(1);opacity:1}43%{transform:scale(1.1, 1);opacity:1}100.00%{transform:scale(0, 0);opacity:1}}.btn-3GjO9{position:absolute;width:1.55rem;height:.57rem;bottom:0;font-size:.29rem;color:#fff;font-weight:900;text-shadow:0 .01rem 0 #cf3d1d;display:flex;justify-content:center;align-items:center;padding-bottom:.05rem}.circlePosCls-4QzI1{position:absolute;width:3.75rem;height:8.12rem;pointer-events:none;background-size:100% auto !important}.circleAniCls-3Ru8q{background-size:3000px 812px !important;animation:circleAniKey-a8NOr 583.1ms steps(7) 0.1s 1 both}@keyframes circleAniKey-a8NOr{0%{background-position:0 0}100%{background-position:-2625px 0}}.tailText-3nghH{position:absolute;bottom:-.25rem;font-size:.16rem;color:#fff;font-weight:bold;width:100%;text-align:center}.congratsTitleRare-3-Nx-{position:absolute;top:-.64rem;font-size:.19rem;color:#fff;line-height:.27rem;width:100%;text-align:center;font-weight:bold;white-space:pre}.congratsTitleRare-3-Nx->span{color:#fffb88}.letterFirstBg-8EIWS{position:absolute;left:0;top:0;width:2.9rem;height:3.71rem}.letterFirstCover-eACpm{position:absolute;left:.06rem;top:1.35rem;width:2.75rem;height:2.27rem}.removeAniCls-RSsKG{animation:removeAniKey-bLq67 292ms steps(1) 0s both}.removeAni2Cls-3-naz{animation:removeAniKey-bLq67 876ms steps(1) 0s both}@keyframes removeAniKey-bLq67{0.00%{opacity:1}100.00%{opacity:0}}.letterSecondBg-3TTkj{position:absolute;left:0;top:1.36rem;width:2.9rem;height:2.35rem}.letterSecondCover-162OE{position:absolute;left:.01rem;top:1.36rem;width:2.89rem;height:1.46rem}.showAndRemoveAniCls-2C8sP{animation:showAndRemoveAniKey-3rbR8 876ms steps(1) 0s both}@keyframes showAndRemoveAniKey-3rbR8{0%{opacity:0}29%{opacity:1}100%{opacity:0}}.heartIn-2GVHj{position:absolute;left:1rem;top:.65rem;width:.97rem;height:.88rem;transform:translate(0%, 0%) rotate(0deg) scale(0.53);opacity:0;animation:heartInAniKey-1SNuN 876ms linear 0s both}@keyframes heartInAniKey-1SNuN{0.00%,47.49%{transform:translate(0%, 0%) scale(0.53);opacity:0}47.79%{transform:translate(0%, 0%) scale(0.53);opacity:0}66.75%{transform:translate(0%, 194.3%) scale(1);opacity:1}85.74%{transform:translate(0%, 194.3%) scale(1.15);opacity:1}95.25%,99.7%{transform:translate(0%, 194.3%) scale(1.05);opacity:1}100%{transform:translate(0%, 194.3%) scale(1);opacity:0}}.heartOut-1T4a3{position:absolute;left:1rem;top:2.36rem;width:.97rem;height:.88rem;transform:translate(0%, 0%) rotate(0deg) scale(1);opacity:0}.boxTop-2Q29o{left:-.27rem;top:-.03rem;width:.14rem;height:.08rem;transform:translate(0%, 0%) rotate(0deg) scale(1);position:absolute;opacity:0;animation:BX_AniKey17-2jGvf 44ms linear 1414ms both}@keyframes BX_AniKey17-2jGvf{0%{transform:translate(0%, 0%) rotate(0deg);opacity:1}6%,94%{transform:translate(16.4%, -1.2%) rotate(8deg);opacity:1}100%{transform:translate(0%, 0%) rotate(0deg);opacity:1}}.boxBottom-34DQt{left:-0.28rem;top:-0.21rem;width:.32rem;height:.38rem;transform:translate(0%, 0%) rotate(0deg) scale(1);transform-origin:60.55% 100.33%;position:absolute;opacity:0;animation:BX_AniKey16-1rbVG 44ms linear 1414ms both}@keyframes BX_AniKey16-1rbVG{0%{transform:rotate(0deg);opacity:1}6%,94%{transform:rotate(8deg);opacity:1}100%{transform:rotate(0deg);opacity:1}}\n",""]),n.locals={maskPack:"maskPack-a5H8C",bgOpacityOutAniKey:"bgOpacityOutAniKey-32r0A",wrap:"wrap-22ort",bg:"bg-daclW",pin:"pin-2MXuq",mainImgWrap:"mainImgWrap-2gjDx",mainImg:"mainImg-37IWB",rotateAniKey:"rotateAniKey-3Nh7V",mainImgPackAni:"mainImgPackAni-GTgRT",mainImgPackAniKey:"mainImgPackAniKey-31Fgh",btn:"btn-3GjO9",circlePosCls:"circlePosCls-4QzI1",circleAniCls:"circleAniCls-3Ru8q",circleAniKey:"circleAniKey-a8NOr",tailText:"tailText-3nghH",congratsTitleRare:"congratsTitleRare-3-Nx-",letterFirstBg:"letterFirstBg-8EIWS",letterFirstCover:"letterFirstCover-eACpm",removeAniCls:"removeAniCls-RSsKG",removeAniKey:"removeAniKey-bLq67",removeAni2Cls:"removeAni2Cls-3-naz",letterSecondBg:"letterSecondBg-3TTkj",letterSecondCover:"letterSecondCover-162OE",showAndRemoveAniCls:"showAndRemoveAniCls-2C8sP",showAndRemoveAniKey:"showAndRemoveAniKey-3rbR8",heartIn:"heartIn-2GVHj",heartInAniKey:"heartInAniKey-1SNuN",heartOut:"heartOut-1T4a3",boxTop:"boxTop-2Q29o",BX_AniKey17:"BX_AniKey17-2jGvf",boxBottom:"boxBottom-34DQt",BX_AniKey16:"BX_AniKey16-1rbVG"},e.exports=n},12319:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".rotateLightWrap-3E6Bh{position:absolute;z-index:-1;width:3.72rem;height:3.69rem;pointer-events:none;transform:translate(0%, 0%) rotate(63.08deg);transform-origin:50.13% 54.92%;animation:rotateLightAni-2ZvoA 4.5s linear .2s infinite both}@keyframes rotateLightAni-2ZvoA{0%{transform:rotate(63.08deg)}100%{transform:rotate(423.08deg)}}.rotateLight-346fc{width:100%;height:100%;transform:scale(1.54);animation:scaleAni-2zAEf 633ms linear .2s infinite both}@keyframes scaleAni-2zAEf{0%{transform:scale(1.54)}52.63%{transform:scale(1.9)}100%{transform:scale(1.54)}}.starPosCls-1v23H{position:absolute;width:3.75rem;height:8.12rem;pointer-events:none;background-size:100% auto !important}.starAniCls-3Iu6y{background-size:2625px 812px !important;animation:starAniKey-208ZC 750ms steps(6) .2s infinite both}@keyframes starAniKey-208ZC{0%{background-position:0 0}100%{background-position:-2250px 0}}\n",""]),n.locals={rotateLightWrap:"rotateLightWrap-3E6Bh",rotateLightAni:"rotateLightAni-2ZvoA",rotateLight:"rotateLight-346fc",scaleAni:"scaleAni-2zAEf",starPosCls:"starPosCls-1v23H",starAniCls:"starAniCls-3Iu6y",starAniKey:"starAniKey-208ZC"},e.exports=n},52682:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-25BoX{position:absolute;z-index:10;width:.47rem;height:.44rem}.unLimitWrap-ZXkdQ{width:.14rem;height:.13rem}.aniWrap-2FSVL{width:100%;height:100%;display:flex;align-items:center;justify-content:center;animation:showAni-3-zOy .6s both}@keyframes showAni-3-zOy{0%{transform:scale(0)}65%{transform:scale(1.15)}85%{transform:scale(0.9)}100%{transform:scale(1)}}.guideAniWrap-zgk94{animation:guide-light-ani-Dqocn 1s ease infinite both;animation-delay:0ms !important;will-change:transform}@keyframes guide-light-ani-Dqocn{0%,100%{transform:scale(0.95);filter:brightness(1) drop-shadow(0 0 0.1rem #fff)}50%{transform:scale(1.1);filter:brightness(1.25) drop-shadow(0 0 0.1rem #fff)}}.img-1YA-N{height:100%;width:auto}\n",""]),n.locals={wrap:"wrap-25BoX",unLimitWrap:"unLimitWrap-ZXkdQ",aniWrap:"aniWrap-2FSVL",showAni:"showAni-3-zOy",guideAniWrap:"guideAniWrap-zgk94","guide-light-ani":"guide-light-ani-Dqocn",img:"img-1YA-N"},e.exports=n},64671:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".startDialog-2ABq5{background:transparent !important}.startDialogBg-2d4gO{position:relative;width:3.19rem;height:4.73rem;display:flex;flex-direction:column;align-items:center;padding-left:.05rem}.startDialogTitle-3y8gB{position:absolute;top:1.42rem;width:2.26rem;height:37px;font-size:.16rem;color:#C58438;line-height:.21rem;font-weight:bold;text-align:left;left:.52rem}.seatWrap-1FhGJ{position:absolute;top:2.04rem;width:2.22rem;display:flex;justify-content:space-between;align-items:center}.seat-3gqad{width:.66rem;height:.65rem}.startDialogBtn-1Osw0{position:absolute;bottom:-.3rem;width:1.55rem;height:.57rem}.shellWrap-lJim0{position:absolute;display:flex;top:2.97rem;left:.53rem;width:2.3rem;flex-wrap:wrap;height:1.26rem;overflow:scroll}.shell-2ig_U{position:relative;width:.53rem;height:.53rem;border:.5px solid #bf8a4b;border-radius:.04rem;margin-right:.04rem;margin-bottom:.04rem;background-color:#fff}.shellImg-OmubB{width:100%;height:100%}.shellCount-2K8ok{position:absolute;font-weight:900;bottom:.06rem;right:.09rem;line-height:.16rem;display:flex;justify-content:center;align-items:center;color:#C68C45;font-size:.16rem;text-shadow:-.04em -.04em 0 #fff, .04em -.04em 0 #fff, -.04em .04em 0 #fff, .04em .04em 0 #fff}.selectedItem-3RRln{width:100%;height:100%;position:relative;background-color:#fff;border:.02rem solid #E6C07F;border-radius:.04rem}.selectedItemDeleteIcon-oh4UQ{width:.14rem;height:.14rem;position:absolute;right:-.05rem;top:-.07rem}.rareTag-17lrP{position:absolute;left:0;top:0;width:.38rem;height:.35rem}.emptyText-2nrFb{text-align:center;width:100%;font-size:.15rem;line-height:.25rem;color:#C58438;font-weight:bold;margin-top:.3rem;padding-left:.05rem}\n",""]),n.locals={startDialog:"startDialog-2ABq5",startDialogBg:"startDialogBg-2d4gO",startDialogTitle:"startDialogTitle-3y8gB",seatWrap:"seatWrap-1FhGJ",seat:"seat-3gqad",startDialogBtn:"startDialogBtn-1Osw0",shellWrap:"shellWrap-lJim0",shell:"shell-2ig_U",shellImg:"shellImg-OmubB",shellCount:"shellCount-2K8ok",selectedItem:"selectedItem-3RRln",selectedItemDeleteIcon:"selectedItemDeleteIcon-oh4UQ",rareTag:"rareTag-17lrP",emptyText:"emptyText-2nrFb"},e.exports=n},79652:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".positionCls-1ilm6{position:absolute;z-index:15;top:0;left:0;width:3.75rem;height:2.87rem;pointer-events:none;background-size:100% auto !important}.collectingCls-3Oi5F{background-size:375px 287px !important;animation:none}.displayNone-1l2VT{transform:scale(0)}.restAniCls-sQTk8{background-size:auto 287px !important;animation:restAniKey-s3iwM 875ms steps(7) both infinite}@keyframes restAniKey-s3iwM{0%{background-position:0 0}100%{background-position:-2625px 0}}.readyForCollectingAniCls-14QIT{background-size:17250px 287px !important;background-position:0 0}.collectingStartAniCls-1mS2Y{background-size:17250px 287px !important;animation:CollectingStartAniKey-3HOM2 5625ms steps(45) both}@keyframes CollectingStartAniKey-3HOM2{0%{background-position:0 0}100%{background-position:-16875px 0}}.collectedBackAniCls-1uPKG{background-size:17250px 287px !important;animation:CollectedBackAniKey-dbgVF 5625ms steps(45) both}@keyframes CollectedBackAniKey-dbgVF{0%{background-position:0 0}100%{background-position:-16875px 0}}.restUnlockAniCls-fyatP{background-size:1875px 287px !important;animation:restUnlockAniKey-GsAsJ 500ms steps(4) both}@keyframes restUnlockAniKey-GsAsJ{0%{background-position:0 0}100%{background-position:-1500px 0}}.messagePositionCls-1rR6D{position:absolute;z-index:15;top:1.74rem;left:.63rem;width:.4rem;height:.4rem;pointer-events:none;background-size:100% auto !important}.messageCls-1W6sp{background-size:320px 40px !important}.messageAniCls-3d09I{animation:messageAniKey-2fwdn 583.1ms steps(7) both}@keyframes messageAniKey-2fwdn{0%{background-position:0 0}100%{background-position:-280px 0}}\n",""]),n.locals={positionCls:"positionCls-1ilm6",collectingCls:"collectingCls-3Oi5F",displayNone:"displayNone-1l2VT",restAniCls:"restAniCls-sQTk8",restAniKey:"restAniKey-s3iwM",readyForCollectingAniCls:"readyForCollectingAniCls-14QIT",collectingStartAniCls:"collectingStartAniCls-1mS2Y",CollectingStartAniKey:"CollectingStartAniKey-3HOM2",collectedBackAniCls:"collectedBackAniCls-1uPKG",CollectedBackAniKey:"CollectedBackAniKey-dbgVF",restUnlockAniCls:"restUnlockAniCls-fyatP",restUnlockAniKey:"restUnlockAniKey-GsAsJ",messagePositionCls:"messagePositionCls-1rR6D",messageCls:"messageCls-1W6sp",messageAniCls:"messageAniCls-3d09I",messageAniKey:"messageAniKey-2fwdn"},e.exports=n},58720:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".countDownDialog-3bLuS{position:absolute;left:.08rem;top:1.82rem;width:.61rem;height:.24rem;z-index:17;margin-left:.34rem;padding-bottom:.05rem;color:#fff;display:flex;justify-content:center;align-items:center;font-size:.12rem;font-weight:bold}.countDown-pz62N{position:absolute;font-size:.12rem;color:#fff;line-height:.19rem;font-weight:bold;top:0;width:100%;text-align:center}.mail-22YUi{width:.19rem;height:.13rem;margin-right:.01rem}\n",""]),n.locals={countDownDialog:"countDownDialog-3bLuS",countDown:"countDown-pz62N",mail:"mail-22YUi"},e.exports=n},54179:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap--Fkhn{position:absolute;left:.08rem;top:1.79rem;width:.87rem;height:.92rem;z-index:16}.main-3XbdV{position:absolute;left:.08rem;top:1.79rem;width:.87rem;height:.92rem;font-size:.12rem;color:#F50303;font-weight:bold;padding-top:.43rem;text-align:center;padding-left:.04rem;line-height:.14rem;z-index:1}.letterBox-3meOD{position:absolute;width:.4rem;height:.4rem;left:-.05rem;top:-.05rem}\n",""]),n.locals={wrap:"wrap--Fkhn",main:"main-3XbdV",letterBox:"letterBox-3meOD"},e.exports=n},25304:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".remind-NJIR2{font-size:.13rem;font-weight:500;color:#fff;display:flex;height:.2rem;align-items:center;margin-top:.18rem;width:100%;justify-content:center}.emptyImg-2jinZ{margin-right:.05rem;width:.14rem;height:.14rem}\n",""]),n.locals={remind:"remind-NJIR2",emptyImg:"emptyImg-2jinZ"},e.exports=n},78497:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".mask-1zukb{flex-direction:column !important}.title-1WdTK{width:3.75rem;font-size:.19rem;color:#fff;font-weight:bold;text-align:center;line-height:.27rem}.border-294T7{width:3.75rem;height:1.63rem;margin-top:.1rem;background-size:4.16rem 1.63rem !important;background-position:-.1rem 0;display:flex;align-items:center}.bg-1tSnP{position:relative;width:3.75rem;height:1.3rem;background-size:8.04rem 1.3rem !important;background-repeat:repeat-x;background-position:0 0;animation:bgAniKey-3nnQ4 26083ms linear infinite}@keyframes bgAniKey-3nnQ4{0%{background-position:0 0}100%{background-position:-8.04rem 0}}.positionCls-3_tWH{position:absolute;top:.45rem;left:.6rem;width:.75rem;height:.72rem}.contentCls-bHQDP{background-size:1410px 150px !important;animation:aniKey-swVNV 749.7ms steps(9) infinite}@keyframes aniKey-swVNV{0%{background-position:0 0}100%{background-position:-1269px 0}}.countDown-3lN2B{margin-right:.03rem}.wrap-2G5ZH{position:relative;margin-top:-15vh}.bottomArea-3yWZj{position:absolute;top:100%;width:100%;display:flex;flex-direction:column;align-items:center}.btn-2Vtck{width:1.61rem;height:.49rem;font-size:.23rem;display:flex;justify-content:center;align-items:center;font-weight:bold;white-space:pre;color:#fff;padding-bottom:.05rem;margin-top:.26rem}\n",""]),n.locals={mask:"mask-1zukb",title:"title-1WdTK",border:"border-294T7",bg:"bg-1tSnP",bgAniKey:"bgAniKey-3nnQ4",positionCls:"positionCls-3_tWH",contentCls:"contentCls-bHQDP",aniKey:"aniKey-swVNV",countDown:"countDown-3lN2B",wrap:"wrap-2G5ZH",bottomArea:"bottomArea-3yWZj",btn:"btn-2Vtck"},e.exports=n},7781:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-1WGYt{width:3.75rem;height:100vh;overflow:hidden}.hide-1G0GO *{animation:none !important}.container-33ggo{position:relative;width:3.75rem;height:8.12rem;background-size:100% !important;transition:all .4s ease-in}.gameOverlayContainer-3jsn6{position:absolute;width:100%;height:100%;left:0;top:0;pointer-events:none}.lock-1Eloj *{pointer-events:none !important}.previewMask-2tM-x{width:3.75rem;height:100vh;position:fixed;left:0;top:0;z-index:100}.previewBar-3ml8h{width:3.75rem;height:1.9rem;background:linear-gradient(0deg, rgba(0,0,0,0.75) 0%, rgba(0,0,0,0) 100%);position:fixed;left:0;top:auto;bottom:0;padding-top:1.21rem;color:#fff;font-size:.14rem;font-weight:500;line-height:1;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:column;-webkit-flex-direction:column}.backBtn-3RiGH{width:1.03rem;height:.3rem;border:.01rem solid #fff;border-radius:.06rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;font-size:.15rem;font-weight:700;line-height:normal;margin-top:.06rem}.backBtnArrow-1subq{width:.09rem;height:.15rem;margin-right:.03rem}@media screen and (min-aspect-ratio: 375 / 800){.container-33ggo{margin-top:calc((100vh - 8.21rem) * .9)}.container3-3ZmM-{margin-top:calc((100vh - 8.21rem) * .8)}}.luckyPacketEntryWrap-PPq0n{width:.49rem;height:.45rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;margin-top:.15rem;position:absolute;right:.11rem;top:4.26rem}.luckyPacketEntryInner-2t-WN{transform:scale(0.79)}@media screen and (min-width: 640px){.wrap-1WGYt{position:fixed;top:0;left:calc(50vw - 1.875rem)}}\n",""]),n.locals={wrap:"wrap-1WGYt",hide:"hide-1G0GO",container:"container-33ggo",gameOverlayContainer:"gameOverlayContainer-3jsn6",lock:"lock-1Eloj",previewMask:"previewMask-2tM-x",previewBar:"previewBar-3ml8h",backBtn:"backBtn-3RiGH",backBtnArrow:"backBtnArrow-1subq",container3:"container3-3ZmM-",luckyPacketEntryWrap:"luckyPacketEntryWrap-PPq0n",luckyPacketEntryInner:"luckyPacketEntryInner-2t-WN"},e.exports=n},45116:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-1VfFW{width:3.75rem;position:absolute;left:50%;bottom:0;transform:translate(-50%, 0)}.btnWrap-1s88w{width:100%;display:flex;display:-webkit-flex;justify-content:space-between;-webkit-justify-content:space-between;align-items:flex-end;-webkit-align-items:flex-end;flex-direction:row;-webkit-flex-direction:row;padding:0 .23rem 0 .21rem}.shopIcon-FGbHr{width:.64rem;height:.69rem;position:relative}.taskIcon-7MQTQ{width:.64rem;height:.69rem;position:relative}.newTaskIcon-2Ax8I{width:.64rem;height:.7rem;position:relative}.cancelCssAnimation-290Se div{animation-iteration-count:1;opacity:1}.newIconCoin-2Wfmj{width:.61rem;height:.6rem;position:absolute;left:.01rem;top:0;animation:jump-ani-2GkI1 10s ease infinite}@keyframes jump-ani-2GkI1{4%{transform:translate3d(0, -100%, 0)}7%{transform:translate3d(0, 20%, 0)}8%{transform:translate3d(0, -15%, 0)}9%{transform:translate3d(0, -5%, 0) rotate(-10deg)}10%{transform:translate3d(0, 0, 0) rotate(-10deg)}15%,100%{transform:translate3d(0, 0, 0)}}.newIconGainCoinBar-28j_u{width:.64rem;height:.22rem;position:absolute;bottom:0;left:0}.shineStar-24ZQW{width:.18rem;height:.2rem;position:absolute;animation:shine-ani-15kcl 10s ease-out infinite;opacity:0}@keyframes shine-ani-15kcl{15%,25%,26%,40%,41%,50%,51%,60%{opacity:0;transform:scale(0)}20%,31%,46%,55%{opacity:1;transform:scale(1)}}.newIconTips-3aiBo{height:.24rem;min-width:.69rem;padding:0 .06rem .04rem .06rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;color:#fff;font-size:.12rem;font-weight:bold;white-space:nowrap;line-height:normal;position:absolute;top:-.21rem;left:-.04rem;animation:fade-ani-2K0-i 10s ease infinite, bubble-ani-3aaPC 1.5s ease infinite;opacity:0}@keyframes fade-ani-2K0-i{0%,5%,80%{opacity:0}15%,75%{opacity:1}}@keyframes bubble-ani-3aaPC{0%,100%{transform:translateY(-25%)}50%{transform:translateY(-50%)}}.iconTip-8KUAe{border:.015rem solid #fff;padding:0;background:#FE360C;color:#fff;position:absolute;top:0;right:-.05rem;border-radius:.075rem;font-size:.1rem;width:.375rem;height:.165rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;white-space:nowrap}.mainBtn-2LwCu{width:1.55rem}.top-1E4Ix{width:100%;height:.74rem;margin-bottom:-.39rem;position:relative;background-size:100% !important}.sprite-1ynDu{width:.79rem;height:1rem;position:absolute;left:50%;top:-.27rem;transform:translateX(-50%);background-size:contain !important;background-position:top center;background-repeat:no-repeat}.bottom-3d2lA{width:100%;height:.39rem;padding:.05rem 0 .17rem 0;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;font-size:.14rem;font-weight:bold;color:#FFF56C;position:relative}.level-xtHXO{width:.26rem;height:.26rem;position:absolute;top:.09rem;right:.3rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;font-size:.11rem;font-weight:800;color:#fff;text-shadow:-1px -1px 1px #E55F16,1px -1px 1px #E55F16,-1px 1px 1px #E55F16,1px 1px 1px #E55F16;line-height:normal}.coin-YQS63{width:.18rem;height:.18rem;margin:0 .04rem}.grabBtn-1OKa8{width:1.55rem;height:.73rem;margin:auto}.barTips-32ZEI{width:1.465rem;height:.18rem;line-height:.18rem;font-size:.12rem;font-weight:bold;color:#fff;margin:0 auto .02rem;text-indent:.38rem;white-space:nowrap}.grabTip-Re8FK{font-size:.13rem;color:#fff;font-weight:bold;width:3.75rem;height:.21rem;margin:auto;text-align:center;transform:translate(0, 0.04rem)}.grabTip-Re8FK span{color:#FFF56C}.tips-2w3-S{width:3.75rem;height:.6rem;background:rgba(33,167,128,0.7);border-radius:.1rem .1rem 0 0;padding:.16rem 0 0 .14rem;font-size:.14rem;font-weight:800;color:#fff;line-height:1;position:relative;margin-top:.12rem}.tips-2w3-S span{color:#FFF56C}.text-UxvIP{font-size:.12rem;margin-top:.06rem}.searchImg-1MbUJ{width:1.65rem;height:.5rem;position:absolute;bottom:0;right:.14rem}.miniTips-2yg95{display:none !important;margin-top:.04rem;width:3.75rem;height:.2rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;font-size:.12rem;font-weight:bold;line-height:normal;color:#fff;background:rgba(33,167,128,0.7);border-radius:.1rem .1rem 0 0}.miniTips-2yg95 span{color:#FFF56C}.guideHand-1M7W5{width:.4rem;height:.4rem;pointer-events:none;background-size:100% 100%;position:absolute;left:2.26rem;top:.36rem;animation:hand_move-2hi3g 1.5s linear infinite forwards}@keyframes hand_move-2hi3g{0%{transform:translate(0, 0)}50%{transform:translate(-0.13rem, -0.1rem)}100%{transform:translate(0, 0)}}.friendIcon-1e7dB{width:.56rem;height:.65rem;position:absolute;right:.26rem;top:-.68rem}.friendAlert-2C9LW{width:.12rem;height:.12rem;position:absolute;left:.4rem;top:0}.homeWrap-1S4om{width:1.03rem;height:.3rem;position:absolute;left:-.05rem;top:0;background-color:rgba(0,0,0,0.7);border-radius:.06rem}.returnArrow-lwE3O{width:.095rem;height:.15rem;position:absolute;left:.09rem;top:.07rem}.homeTip-13F3E{color:#fff;font-size:.15rem;font-weight:800;position:absolute;left:.21rem;top:.03rem}.playIcon-1mHo_{width:.64rem;height:.7rem;position:relative}.playIconTips-A7bsq{min-width:.57rem;height:.22rem;position:absolute;top:-.23rem;left:50%;transform:translateX(-50%);font-size:.12rem;color:#fff;font-weight:500;line-height:normal;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;white-space:nowrap;padding:0 .04rem .04rem .04rem}.playIconBg-3kZ4y{width:.62rem;height:.62rem;border-radius:50%;border:solid .03rem #fff;background:#B60B03;position:absolute;top:0;left:.02rem}.playBox-365Yw{width:.53rem;height:.61rem;position:absolute;top:-.03rem;left:.07rem}.playTips-1sXig{width:.64rem;height:.22rem;position:absolute;left:0;bottom:0}.playBoxAni-1Q775{animation:box-shake-ani-Q2dkH 1s ease-in infinite;transform-origin:50% 100%}@keyframes box-shake-ani-Q2dkH{25%{transform:rotate(-5deg)}75%{transform:rotate(5deg)}}.mainBtnWrap-MXQKW{width:1.56rem;height:.74rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;position:relative;margin:auto}.recycleBtn-fWX3z{position:absolute;left:0;top:0;width:1.56rem;height:.74rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;padding:.38rem 0 .19rem 0;color:#FFF56C;font-size:.14rem;font-weight:bold}@media screen and (min-aspect-ratio: 375 / 660){.wrap-1VfFW{width:3.75rem;position:fixed;left:50%;bottom:0;transform:translate(-50%, 0)}}\n",""]),n.locals={wrap:"wrap-1VfFW",btnWrap:"btnWrap-1s88w",shopIcon:"shopIcon-FGbHr",taskIcon:"taskIcon-7MQTQ",newTaskIcon:"newTaskIcon-2Ax8I",cancelCssAnimation:"cancelCssAnimation-290Se",newIconCoin:"newIconCoin-2Wfmj","jump-ani":"jump-ani-2GkI1",newIconGainCoinBar:"newIconGainCoinBar-28j_u",shineStar:"shineStar-24ZQW","shine-ani":"shine-ani-15kcl",newIconTips:"newIconTips-3aiBo","fade-ani":"fade-ani-2K0-i","bubble-ani":"bubble-ani-3aaPC",iconTip:"iconTip-8KUAe",mainBtn:"mainBtn-2LwCu",top:"top-1E4Ix",sprite:"sprite-1ynDu",bottom:"bottom-3d2lA",level:"level-xtHXO",coin:"coin-YQS63",grabBtn:"grabBtn-1OKa8",barTips:"barTips-32ZEI",grabTip:"grabTip-Re8FK",tips:"tips-2w3-S",text:"text-UxvIP",searchImg:"searchImg-1MbUJ",miniTips:"miniTips-2yg95",guideHand:"guideHand-1M7W5",hand_move:"hand_move-2hi3g",friendIcon:"friendIcon-1e7dB",friendAlert:"friendAlert-2C9LW",homeWrap:"homeWrap-1S4om",returnArrow:"returnArrow-lwE3O",homeTip:"homeTip-13F3E",playIcon:"playIcon-1mHo_",playIconTips:"playIconTips-A7bsq",playIconBg:"playIconBg-3kZ4y",playBox:"playBox-365Yw",playTips:"playTips-1sXig",playBoxAni:"playBoxAni-1Q775","box-shake-ani":"box-shake-ani-Q2dkH",mainBtnWrap:"mainBtnWrap-MXQKW",recycleBtn:"recycleBtn-fWX3z"},e.exports=n},55404:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".festivalBox-NbAKz{animation:.4s fadeOut-3OcCd 8s linear both;pointer-events:none}.festivalOuter-5920s{border:.015rem solid #eb5f23;border-radius:.155rem;background:linear-gradient(#fff9eb, #e9d6b1);position:absolute;right:-.1rem;bottom:.95rem;z-index:1;text-align:center;animation:.4s scaleIn-2D1CF 2.8s linear both;transform-origin:center bottom;transform:scale(0)}.festivalOuter-5920s::before{content:'';width:0;height:0;border-style:solid;border-width:.1rem .1rem 0 .1rem;border-color:#eb5f23 transparent transparent transparent;position:absolute;bottom:-.1rem;right:.3rem}.festivalOuter-5920s::after{content:'';width:0;height:0;border-style:solid;border-width:.1rem .1rem 0 .1rem;border-color:#e9d6b1 transparent transparent transparent;position:absolute;bottom:-.085rem;right:.3rem}.festivalInner-1517n{border:.01rem solid #EB5F23;border-radius:.135rem;background-color:linear-gradient(0deg, #e86227 0%, #ff8900 100%);margin:.04rem;position:relative}.festivalInner-1517n::before{content:'';width:0;height:0;border-style:solid;border-width:.09rem .09rem 0 .09rem;border-color:#EB5F23 transparent transparent transparent;position:absolute;bottom:-.1rem;right:.26rem;z-index:1}.festivalInner-1517n::after{content:'';width:0;height:0;border-style:solid;border-width:.09rem .09rem 0 .09rem;border-color:#e9d6b1 transparent transparent transparent;position:absolute;bottom:-.09rem;right:.26rem;z-index:2}.icon1-7YzUZ{position:absolute;right:.03rem;bottom:.01rem;width:.25rem;height:.27rem}.icon2-1ekg1{position:absolute;right:-.22rem;bottom:-.26rem;width:.36rem;height:.27rem}.festivalText-3U73s{font-size:.16rem;color:#EA2624;line-height:.2rem;display:inline-block;animation:.4s fadeIn-2buQE 3s linear both;opacity:0;text-align:center;white-space:nowrap;padding:.07rem;position:relative;z-index:1}@keyframes fadeIn-2buQE{100%{opacity:1}}@keyframes fadeOut-3OcCd{100%{opacity:0}}@keyframes scaleIn-2D1CF{0%{transform:scale(0)}60%{transform:scale(1.08)}80%{transform:scale(0.96)}100%{transform:scale(1)}}\n",""]),n.locals={festivalBox:"festivalBox-NbAKz",fadeOut:"fadeOut-3OcCd",festivalOuter:"festivalOuter-5920s",scaleIn:"scaleIn-2D1CF",festivalInner:"festivalInner-1517n",icon1:"icon1-7YzUZ",icon2:"icon2-1ekg1",festivalText:"festivalText-3U73s",fadeIn:"fadeIn-2buQE"},e.exports=n},91311:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".mainBtn-2rmEx{width:1.55rem;position:relative;margin:0 auto}.top-3ws3w{width:100%;height:.74rem;position:relative}.buyGuideTip-24EvH{width:1.5rem;height:.345rem;background-size:100%;position:absolute;top:-.55rem}.sprite-25bed{width:.54rem;height:.41rem;position:absolute;right:.06rem;top:-.1rem;background-size:.6rem 10.59rem !important;background-repeat:no-repeat}.bottom-XeNlS{width:100%;height:.42rem;position:absolute;bottom:0;left:0;background-size:100%;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:column;-webkit-flex-direction:column;font-size:.14rem;font-weight:bold;color:#FFF56C}.cost-1uGbV{display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;font-size:.14rem;margin-top:.05rem;font-weight:bold}.level-CKK9E{width:.26rem;height:.26rem;position:absolute;top:.04rem;right:-.04rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;font-size:.11rem;font-weight:800;color:#fff;text-shadow:-1px -1px 1px #E55F16,1px -1px 1px #E55F16,-1px 1px 1px #E55F16,1px 1px 1px #E55F16;line-height:normal}.coin-2NPqi{width:.185rem;height:.17rem;margin:0 .03rem}.guideHandPos-3LM29{left:1.26rem;top:.6rem}.guideHandPos2-2BMzs{left:1.4rem;top:.55rem}.buyTips-r1GdX{height:.27rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;padding:0 .06rem .04rem .06rem;position:absolute;left:-.25rem;top:-.17rem;color:#FF242E;font-size:.12rem;font-weight:bold;line-height:normal;transition:all .4s ease-in;pointer-events:none;transform:scale(1.2) translate(50%, -45%);z-index:10}\n",""]),n.locals={mainBtn:"mainBtn-2rmEx",top:"top-3ws3w",buyGuideTip:"buyGuideTip-24EvH",sprite:"sprite-25bed",bottom:"bottom-XeNlS",cost:"cost-1uGbV",level:"level-CKK9E",coin:"coin-2NPqi",guideHandPos:"guideHandPos-3LM29",guideHandPos2:"guideHandPos2-2BMzs",buyTips:"buyTips-r1GdX"},e.exports=n},4612:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-1RONZ{width:0;height:0;position:absolute;top:0;left:0}.item-3bWsm{opacity:0;transition:all .2s ease;position:absolute;top:0;left:0;width:.2rem;height:.2rem}\n",""]),n.locals={wrap:"wrap-1RONZ",item:"item-3bWsm"},e.exports=n},13530:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".particleContainer-3SepL{display:block;position:fixed;left:0;top:0}.particleHide-YVfrL{display:none}.coinParticle-3ryNg{display:none;width:.22rem;height:.21rem;position:fixed;top:0;left:0;z-index:2}\n",""]),n.locals={particleContainer:"particleContainer-3SepL",particleHide:"particleHide-YVfrL",coinParticle:"coinParticle-3ryNg"},e.exports=n},88425:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".bg-2f_8v{width:3.47rem;height:1.29rem;position:fixed;left:50%;transform:translateX(-50%);z-index:100}.bottom-RzArF{color:#FFF56C;font-size:.14rem;text-align:center;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;margin-top:1rem}.star-374VP{width:.135rem;height:.135rem;background-size:100% 100%;margin:.03rem .03rem 0}.commonBg-rYCTz{width:3.205rem;height:1.41rem}.commonBottom-1kgwz{width:100%;position:absolute;top:1.13rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;font-size:.14rem;color:#8F5F49;font-weight:bold;line-height:normal}.commonStar-LyegL{width:.1rem;height:.1rem;margin:0 .07rem}.spriteOne-1ba3E,.spriteOneAgain-3J8dl,.spriteTwo-10x8i{width:.69rem;height:.69rem;background-size:contain;background-position:50% 50%;position:absolute;top:.42rem}.spriteOne-1ba3E{left:.26rem}.spriteOneAgain-3J8dl{left:1.12rem}.add-YO-KX{width:.15rem;height:.15rem;position:absolute;left:.95rem;top:.68rem}.equal-2wULB{width:.15rem;height:.12rem;position:absolute;left:1.9rem;top:.7rem}.packet-2OAks{width:.5rem;height:.64rem;position:absolute;left:2.47rem;top:.45rem}.spriteTwo-10x8i{width:.6rem;height:.6rem;left:2.08rem;top:.53rem}.level-1cVsJ{width:.26rem;height:.26rem;position:absolute;right:-.02rem;bottom:.04rem;top:auto;left:auto;font-size:.11rem;font-weight:800;line-height:normal;color:#fff;text-shadow:-1px -1px 1px #E55F16,1px -1px 1px #E55F16,-1px 1px 1px #E55F16,1px 1px 1px #E55F16;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row}\n",""]),n.locals={bg:"bg-2f_8v",bottom:"bottom-RzArF",star:"star-374VP",commonBg:"commonBg-rYCTz",commonBottom:"commonBottom-1kgwz",commonStar:"commonStar-LyegL",spriteOne:"spriteOne-1ba3E",spriteOneAgain:"spriteOneAgain-3J8dl",spriteTwo:"spriteTwo-10x8i",add:"add-YO-KX",equal:"equal-2wULB",packet:"packet-2OAks",level:"level-1cVsJ"},e.exports=n},42207:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".iconWrap-3nkYL{pointer-events:auto;width:.5rem;height:.5rem;margin-top:.02rem;flex-shrink:0;position:relative}.hide-XrLdI{display:none}.icon-1X2ok{width:.5rem;height:.5rem;pointer-events:auto}.iconAni-YtbD-{animation:keyframes-coin-36owQ 1.3s steps(1) 3}@keyframes keyframes-coin-36owQ{0%{background-position:0 0}4.35%{background-position:-45px 0}8.70%{background-position:-90px 0}13.04%{background-position:-135px 0}17.39%{background-position:-180px 0}21.74%{background-position:-225px 0}26.09%{background-position:-270px 0}30.43%{background-position:-315px 0}34.78%{background-position:-360px 0}39.13%{background-position:-405px 0}43.48%{background-position:-450px 0}47.83%{background-position:-495px 0}52.17%{background-position:-540px 0}56.52%{background-position:-585px 0}60.87%{background-position:-270px 0}65.22%{background-position:-315px 0}69.57%{background-position:-360px 0}73.91%{background-position:-405px 0}78.26%{background-position:-450px 0}82.61%{background-position:-495px 0}86.96%{background-position:-540px 0}91.30%{background-position:-585px 0}95.65%,100%{background-position:-630px 0}}.iconHide-30qjX{display:none}.static-2zn8Z{width:.5rem;height:.5rem;pointer-events:auto}.staticHide-5JPu7{display:none}.staticAni-39-6y{animation:keyframes-stream-snm2S 2s steps(1) infinite}@keyframes keyframes-stream-snm2S{0%{background-position:0 0}6.25%{background-position:-45px 0}12.50%{background-position:-90px 0}18.75%{background-position:-135px 0}25.00%{background-position:-180px 0}31.25%{background-position:-225px 0}37.50%{background-position:-270px 0}43.75%{background-position:-315px 0}50.00%{background-position:-360px 0}56.25%{background-position:-405px 0}62.50%{background-position:-450px 0}68.75%{background-position:-495px 0}75.00%{background-position:-540px 0}81.25%{background-position:-585px 0}87.50%{background-position:-630px 0}93.75%,100%{background-position:-675px 0}}\n",""]),n.locals={iconWrap:"iconWrap-3nkYL",hide:"hide-XrLdI",icon:"icon-1X2ok",iconAni:"iconAni-YtbD-","keyframes-coin":"keyframes-coin-36owQ",iconHide:"iconHide-30qjX",static:"static-2zn8Z",staticHide:"staticHide-5JPu7",staticAni:"staticAni-39-6y","keyframes-stream":"keyframes-stream-snm2S"},e.exports=n},90410:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".pending-1uYP6{pointer-events:none}\n",""]),n.locals={pending:"pending-1uYP6"},e.exports=n},40555:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".listWrap-3Gwr5{width:100%;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:flex-start;-webkit-align-items:flex-start;flex-direction:row;-webkit-flex-direction:row;margin-bottom:0;margin-top:.03rem;height:.79rem}@media only screen and (min-device-height: 812px){@supports (-webkit-overflow-scrolling: touch){.listWrap-3Gwr5{height:.9rem}}}.listWrap3-18ve3{background:#DC1717}.friendListWrap-2-GGN{overflow-x:scroll;overflow-y:visible;width:100%;height:.71rem;max-height:100%;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:flex-start;-webkit-align-items:flex-start;flex-direction:row;-webkit-flex-direction:row}.friendListWrap-2-GGN::-webkit-scrollbar{display:none}.avatar-2XxGE{width:.45rem;height:.45rem;border-radius:50%;border:1px solid #fff;margin-top:.07rem;margin-left:.06rem;margin-right:.06rem;position:relative;flex-shrink:0;background-size:cover;background-color:#fff}.separator-KanXw{background:#fff;width:.02rem;height:.3rem;z-index:2;transform:translate(0, 6%);margin-top:.14rem;flex-shrink:0}.recallAll-6di_8{width:.5rem;height:.31rem;position:absolute;left:-.02rem;top:.12rem}.grabIcon-1x4xK{width:.41rem;height:.18rem;position:absolute;left:.1rem;top:.27rem}.npcCoinIcon-2UakW{width:.24rem;height:.16rem;position:absolute;top:auto;left:auto;right:-.14rem;bottom:-.04rem}.coinBox-3fcVh{width:60%;height:46.7%;position:absolute;left:57.8%;top:57.8%}.noIdleSeatIcon-2TQop{min-width:.48rem;height:.15rem;position:absolute;left:auto;right:-.135rem;top:-.05rem;padding:0 .04rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;background:#fdd90d;border-radius:.075rem .075rem .075rem 0;font-size:.1rem;color:#E93F2F;line-height:normal;font-weight:500;white-space:nowrap}.redPacketIcon-3UDzO{width:.26rem;height:.21rem;position:absolute;left:.21rem;top:.25rem}.workIcon-2q5XE{width:.36rem;height:.15rem;position:absolute;left:.16rem;top:-.05rem}.nickName-4Qy-y{text-align:center;font-size:.12rem;font-weight:500;color:#fff;width:.48rem;height:.2rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;position:absolute;top:.42rem;left:50%;transform:translateX(-50%)}.mallCoin-2H46S{width:55%;height:55%;position:absolute;bottom:0;right:0}.mallGuideHand-vn6GD{width:55%;height:55%;position:absolute;bottom:-10%;right:-12%;animation:hand_move-131qW 1.5s linear infinite forwards}.friendshipIcon-36v8c{width:.46rem;height:.46rem;border-radius:50%;border:1px solid #fff;position:relative;margin:.07rem .05rem 0 .05rem;flex-shrink:0}.friendshipIcon-36v8c .line-_pbY8{width:.15rem;height:2px;background:#fff;border-radius:1px;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.friendshipIcon-36v8c .line-_pbY8+.line-_pbY8{width:2px;height:.15rem;background:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.tail-2AvcX{width:.05rem;height:100%;flex-shrink:0}.mallPoint-2dvUC{width:26%;height:26%;position:absolute;top:0;right:.01rem;border-radius:50%;border:.015rem solid #fff;background:#FF2800}.liveTag-1zY0X{min-width:.36rem;height:.15rem;padding:0 .04rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;border:1px solid #fff;border-radius:.075rem .075rem .075rem 0;background:#FA1817;color:#fff;font-size:.1rem;font-weight:500;line-height:normal;position:absolute;top:-.04rem;right:-.14rem;white-space:nowrap}@keyframes hand_move-131qW{0%{transform:translate(0, 0)}50%{transform:translate(30%, 25%)}100%{transform:translate(0, 0)}}@media screen and (min-aspect-ratio: 375 / 695){.tips-3Ni3i{display:none}.miniTips-MYNvp{display:flex !important}.listWrap-3Gwr5{margin-bottom:0 !important;height:.79rem}.grabIcon-1x4xK{width:.33rem;height:.14rem;top:.2rem}.redPacketIcon-3UDzO{width:.22rem;height:.18rem;top:.18rem}.workIcon-2q5XE{width:.27rem;height:.13rem;left:.16rem}.avatar-2XxGE,.friendshipIcon-36v8c{width:.36rem;height:.36rem;margin-left:.07rem;margin-right:.07rem}.nickName-4Qy-y{top:.33rem}.recallAll-6di_8{width:.37rem;height:.23rem}.separator-KanXw{height:.25rem}}@media screen and (min-aspect-ratio: 375 / 597){.tips-3Ni3i{display:none}.miniTips-MYNvp{display:none !important}.nickName-4Qy-y{display:none}.listWrap-3Gwr5{margin-top:.01rem !important;margin-bottom:0 !important;height:.42rem !important}.friendListWrap-2-GGN{height:.42rem !important}.grabIcon-1x4xK{width:.28rem;height:.12rem;top:.2rem}.redPacketIcon-3UDzO{width:.19rem;height:.15rem;left:.17rem;top:.17rem}.workIcon-2q5XE{width:.26rem;height:.12rem;left:.12rem}.avatar-2XxGE,.friendshipIcon-36v8c{width:.33rem;height:.33rem;margin-left:.055rem;margin-right:.055rem}.separator-KanXw{height:.22rem}.recallAll-6di_8{width:.32rem;height:.19rem}}@media screen and (min-aspect-ratio: 375 / 573){.sprite-oElF_{top:-.17rem}.nickName-4Qy-y{display:none}.listWrap-3Gwr5{margin-bottom:0 !important;height:.34rem !important}.friendListWrap-2-GGN{height:.34rem !important}.grabIcon-1x4xK{width:.24rem;height:.1rem;left:.06rem;top:.13rem}.redPacketIcon-3UDzO{width:.16rem;height:.12rem;left:.12rem;top:.12rem}.workIcon-2q5XE{width:.23rem;height:.11rem;left:.08rem;top:-.02rem}.avatar-2XxGE,.friendshipIcon-36v8c{width:.25rem;height:.25rem;margin-left:.055rem;margin-right:.055rem}.separator-KanXw{height:.19rem}.recallAll-6di_8{width:.26rem;height:.16rem;top:.07rem}}\n",""]),n.locals={listWrap:"listWrap-3Gwr5",listWrap3:"listWrap3-18ve3",friendListWrap:"friendListWrap-2-GGN",avatar:"avatar-2XxGE",separator:"separator-KanXw",recallAll:"recallAll-6di_8",grabIcon:"grabIcon-1x4xK",npcCoinIcon:"npcCoinIcon-2UakW",coinBox:"coinBox-3fcVh",noIdleSeatIcon:"noIdleSeatIcon-2TQop",redPacketIcon:"redPacketIcon-3UDzO",workIcon:"workIcon-2q5XE",nickName:"nickName-4Qy-y",mallCoin:"mallCoin-2H46S",mallGuideHand:"mallGuideHand-vn6GD",hand_move:"hand_move-131qW",friendshipIcon:"friendshipIcon-36v8c",line:"line-_pbY8",tail:"tail-2AvcX",mallPoint:"mallPoint-2dvUC",liveTag:"liveTag-1zY0X",tips:"tips-3Ni3i",miniTips:"miniTips-MYNvp",sprite:"sprite-oElF_"},e.exports=n},76448:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".box-VVfpL{width:100%;height:100%;position:absolute;left:0;top:0;opacity:0;pointer-events:none}.point-1jBjK{pointer-events:auto}\n",""]),n.locals={box:"box-VVfpL",point:"point-1jBjK"},e.exports=n},99005:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".guideHand-6DftO{width:.4rem;height:.4rem;pointer-events:none;background-size:100% 100%;position:absolute;animation:hand_move-Mfh3F 1.5s linear infinite forwards;z-index:21}@keyframes hand_move-Mfh3F{0%{transform:translate(0, 0)}50%{transform:translate(-0.13rem, -0.1rem)}100%{transform:translate(0, 0)}}\n",""]),n.locals={guideHand:"guideHand-6DftO",hand_move:"hand_move-Mfh3F"},e.exports=n},14585:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".icon-2Y8ZX{width:.4rem;height:.5rem;display:flex;align-items:center;justify-content:center;position:fixed;left:0;top:0;z-index:999}\n",""]),n.locals={icon:"icon-2Y8ZX"},e.exports=n},61707:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-18JgZ{width:100%;height:100vh;position:fixed;left:0;bottom:0;background:#000;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;font-size:.17rem;font-weight:bold;color:#fff;z-index:998}.title-2ZvcQ{font-size:.24rem;line-height:.24rem}.mainTitle-1kDUM{font-size:.28rem;line-height:.28rem;margin:.12rem 0 .09rem}.mainTitle-1kDUM>span{color:#FFF36A}.main-2LD37{width:100%;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:column;-webkit-flex-direction:column;background-size:3.08rem !important;background-position:.42rem 0;padding-top:.02rem;position:relative}.text-U6ZH9{display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;margin:.17rem 0 .15rem;font-size:.18rem;line-height:.19rem;height:.19rem}.sprite-mxEjd{width:2.66rem;height:2.3rem;position:relative}.stars-2ozNn{top:auto !important;transform:translate3d(-50%, -20%, 0) !important;bottom:0}.progressWrap-3lbWe{width:2.92rem;height:.2rem;margin-top:.19rem;padding:0 .04rem;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row}.progress-1Dj0I{height:.13rem;border-radius:.07rem;position:relative;background-size:auto !important;background-repeat:repeat-x !important;transition:.5s ease}.coin-1efim{width:.29rem;height:.28rem;position:absolute;top:-.07rem;right:-.17rem}.progressStar-2S2aU{width:.5rem;height:.5rem;position:absolute;bottom:-.08rem;right:-.04rem}.progressStarAni-BTaIi{animation:progress-star-ani-3WfIT 2s steps(20, end) infinite}@keyframes progress-star-ani-3WfIT{0%{background-position:0 0}100%{background-position:0 -2000px}}.retryBtn-NJmnN{position:relative;width:1.45rem;height:.45rem;display:flex;justify-content:center;align-items:center;font-size:.2rem;color:#fff;padding-bottom:.05rem;pointer-events:auto !important}\n",""]),n.locals={wrap:"wrap-18JgZ",title:"title-2ZvcQ",mainTitle:"mainTitle-1kDUM",main:"main-2LD37",text:"text-U6ZH9",sprite:"sprite-mxEjd",stars:"stars-2ozNn",progressWrap:"progressWrap-3lbWe",progress:"progress-1Dj0I",coin:"coin-1efim",progressStar:"progressStar-2S2aU",progressStarAni:"progressStarAni-BTaIi","progress-star-ani":"progress-star-ani-3WfIT",retryBtn:"retryBtn-NJmnN"},e.exports=n},52465:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-3zgqU{width:.62rem;height:.62rem;position:relative;margin-bottom:.08rem;pointer-events:auto;flex-shrink:0}.cancelCssAnimation-1mIU2 div{animation:none !important}.main-3RNLr{width:.52rem;height:.4rem;position:absolute;top:.07rem;left:50%;transform:translateX(-50%)}.shake-32ZkU{animation:shake-ani-1uWvZ 1s ease infinite;transform-origin:0 100%}@keyframes shake-ani-1uWvZ{10%,40%{transform:rotate(-5deg) translateX(-50%)}20%{transform:rotate(5deg) translateX(-50%)}50%,100%{transform:rotate(0) translateX(-50%)}}.progress-1SOKk,.takeTips-3Xiwu{min-width:.38rem;padding:0 .06rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;font-size:.12rem;font-weight:bold;line-height:normal;color:#fff;position:absolute;top:0;right:-.1rem}.takeTips-3Xiwu{top:.02rem;right:-.09rem;animation:beat-ani-u68YA 1s ease infinite}@keyframes beat-ani-u68YA{50%,60%,80%,100%{transform:scale(1)}70%,90%{transform:scale(0.85)}}.roundWrap-LD2tD{width:.25rem;height:.26rem;border-radius:50%;overflow:hidden;position:absolute;left:50%;bottom:.04rem;transform:translateX(-54%)}.gold-vd57z{width:150%;position:absolute;left:50%;transform:translateX(-50%);top:auto;bottom:0;transition:all .4s linear}.bottom-2rTTO{width:.65rem;height:.23rem;position:absolute;top:.47rem;left:50%;transform:translateX(-50%)}.bubbleTips-3ype4{min-width:.94rem;height:.23rem;padding:0 .05rem .03rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;position:absolute;top:0;left:50%;transform:translate(-50%, -100%);color:#fff;font-size:.12rem;font-weight:bold;white-space:nowrap}.coinWrap-3OnWg{min-width:.69rem;height:.17rem;background:#ED181C;border:.01rem solid #FFF0A6;border-radius:.085rem;padding:0 .04rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;position:absolute;top:-.2rem;left:50%;transform:translateX(-50%);color:#fff;font-size:.13rem;font-weight:bold;line-height:normal;white-space:nowrap;opacity:0;animation:coin-bubble-ani-1v3JL 2s ease-out}@keyframes coin-bubble-ani-1v3JL{0%{transform:translate(-50%, 0) scale(0)}20%{transform:translate(-50%, 0) scale(1.1)}25%,100%{opacity:1;transform:translate(-50%, 0) scale(1)}}.coin-l1Hfp{width:.12rem;height:.12rem;margin-right:.01rem;flex-shrink:0}.coinFlyWrap-2QEQk{top:-.45rem !important;left:50% !important;transform:translate(-50%, -100%)}\n",""]),n.locals={wrap:"wrap-3zgqU",cancelCssAnimation:"cancelCssAnimation-1mIU2",main:"main-3RNLr",shake:"shake-32ZkU","shake-ani":"shake-ani-1uWvZ",progress:"progress-1SOKk",takeTips:"takeTips-3Xiwu","beat-ani":"beat-ani-u68YA",roundWrap:"roundWrap-LD2tD",gold:"gold-vd57z",bottom:"bottom-2rTTO",bubbleTips:"bubbleTips-3ype4",coinWrap:"coinWrap-3OnWg","coin-bubble-ani":"coin-bubble-ani-1v3JL",coin:"coin-l1Hfp",coinFlyWrap:"coinFlyWrap-2QEQk"},e.exports=n},97692:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".stageContainer-3p9OI{display:block;position:absolute;left:0;top:0;transition:all .1s linear}.stageContainer-3p9OI canvas{width:3.75rem;height:8.12rem}\n",""]),n.locals={stageContainer:"stageContainer-3p9OI"},e.exports=n},60093:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-1u_MK{width:.79rem;height:.24rem;position:absolute;top:-.24rem;left:50%;transform:translateX(-50%);display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;font-size:.12rem;color:#fff;font-weight:Bold;line-height:normal;text-shadow:0 .01rem .01rem #D14B31}\n",""]),n.locals={wrap:"wrap-1u_MK"},e.exports=n},19191:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".content-29CPS{background:transparent !important}.title-32CI5{font-size:.23rem;color:#fff;line-height:.36rem;font-weight:bold;text-align:center}.info-3H7nt{font-size:.13rem;color:#fff;line-height:.18rem;text-align:center}.btnArea-2GyI2{display:flex;width:2.74rem;justify-content:space-around;margin:.11rem auto 0}.toUseBtn-3TRKL{width:1.58rem;height:0.4rem;background-size:100% 100%;font-weight:bold;color:#FFF9E3;font-size:.22rem;display:flex;justify-content:center;align-items:center}.list-1-eUL{width:3.48rem;display:flex;justify-content:space-around;margin-top:.16rem;margin-bottom:.21rem}.item-1XvWz{display:flex;flex-direction:column;align-items:center;color:#e35051}.couponName-2OJgN{position:absolute;height:.3rem;font-size:.22rem;color:#fffae9;line-height:.3rem;top:.06rem;font-weight:bold}.discountAmount-2FE8X{position:absolute;font-size:.72rem;font-weight:bold;height:.82rem;line-height:.82rem;width:100%;text-align:center;top:.5rem}.discountAmount-2FE8X>span{font-size:.37rem;position:relative;top:-.03rem}.minAmount-Nrsv6{position:absolute;font-size:.21rem;height:.2rem;line-height:.2rem;top:1.34rem}.deadline-2xlVa{position:absolute;top:1.99rem;font-size:.2rem;font-weight:bold;height:.2rem;line-height:.2rem}.itemBg-Lx7ba{position:relative;width:1.11rem;height:1.47rem;background-size:100% 100%;display:flex;flex-direction:column;align-items:center}.single-1aI-X .itemBg-Lx7ba{width:1.87rem;height:2.48rem}.themeCommon-3TZ2R{color:#e35051}\n",""]),n.locals={content:"content-29CPS",title:"title-32CI5",info:"info-3H7nt",btnArea:"btnArea-2GyI2",toUseBtn:"toUseBtn-3TRKL",list:"list-1-eUL",item:"item-1XvWz",couponName:"couponName-2OJgN",discountAmount:"discountAmount-2FE8X",minAmount:"minAmount-Nrsv6",deadline:"deadline-2xlVa",itemBg:"itemBg-Lx7ba",single:"single-1aI-X",themeCommon:"themeCommon-3TZ2R"},e.exports=n},28654:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".star-105VZ{width:3.05rem;height:2.41rem}.starAni-1vwrG{animation:emitter-star-ani-tOM9k 1.2s steps(10) infinite}@keyframes emitter-star-ani-tOM9k{0%{background-position:0 0}100%{background-position:0 -2410px}}\n",""]),n.locals={star:"star-105VZ",starAni:"starAni-1vwrG","emitter-star-ani":"emitter-star-ani-tOM9k"},e.exports=n},98242:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".bag-3DR9P{width:2.43rem;height:2.06rem}.bagAni-3C3QQ{animation:bag-ani-15SqX 1.2s steps(8) 1}@keyframes bag-ani-15SqX{0%{background-position:0 0}100%{background-position:0 -1648px}}\n",""]),n.locals={bag:"bag-3DR9P",bagAni:"bagAni-3C3QQ","bag-ani":"bag-ani-15SqX"},e.exports=n},23573:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".giftDialog-3uuoV{background:transparent !important}.giftTitle-1zSNL{font-size:.28rem;font-weight:bold;color:#fff;text-align:center;height:.32rem;line-height:.32rem;transform:translate(0.07rem, 0.1rem)}.giftBg-2n0n-{width:3.54rem;height:3.51rem;margin:0 .09rem 0 .13rem}.light-Jb6K4{position:absolute;width:3.54rem;height:3.51rem;top:0;animation:lightRotate-PNeaM 8s linear 0s infinite}@keyframes lightRotate-PNeaM{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.starWrap-23kNf{position:absolute;top:.52rem;left:-.03rem}.giftBagWrap-1DjWi{position:absolute;top:.6rem;left:.16rem}\n",""]),n.locals={giftDialog:"giftDialog-3uuoV",giftTitle:"giftTitle-1zSNL",giftBg:"giftBg-2n0n-",light:"light-Jb6K4",lightRotate:"lightRotate-PNeaM",starWrap:"starWrap-23kNf",giftBagWrap:"giftBagWrap-1DjWi"},e.exports=n},92190:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"@keyframes ani-jelly-3vmlg{0%{transform:scale(0)}70%{transform:scale(1.1)}100%{transform:scale(1)}}.mainCls-2IjgU{animation:ani-jelly-3vmlg .5s ease both}@keyframes ani-jelly-close-WAgNJ{0%{transform:scale(1)}30%{transform:scale(1.1)}100%{transform:scale(0)}}@keyframes ani-loading-1lLoV{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.mainCls-2IjgU{display:flex;justify-content:center;align-items:center}.wrap-EIQsZ{position:relative;width:3rem;height:3.66rem;display:flex;align-items:center;flex-direction:column}.wrap-EIQsZ .btn-22MyF{width:1.68rem;height:.6rem;position:absolute;bottom:.14rem}.main-1dJYa{width:1.43rem;height:1.19rem;position:absolute;top:1.2rem;font-size:.43rem;color:#FFF;font-weight:Bold;text-align:center}.light-11wK3{width:2.5rem;height:2.5rem;position:absolute;animation:light-ani-2WLKi 6s linear infinite}@keyframes light-ani-2WLKi{100%{transform:rotate(360deg)}}.star-3U9y9{top:.95rem !important}.text-1ztma{font-size:.26rem;color:#fff;font-weight:Bold;width:100%;text-align:center;position:absolute;top:.1rem;line-height:.36rem}.firstLine-1GRJN{font-size:.21rem}.secondLine-1KTS_>span{color:#FFFD75}\n",""]),n.locals={mainCls:"mainCls-2IjgU","ani-jelly":"ani-jelly-3vmlg",wrap:"wrap-EIQsZ",btn:"btn-22MyF",main:"main-1dJYa",light:"light-11wK3","light-ani":"light-ani-2WLKi",star:"star-3U9y9",text:"text-1ztma",firstLine:"firstLine-1GRJN",secondLine:"secondLine-1KTS_","ani-jelly-close":"ani-jelly-close-WAgNJ","ani-loading":"ani-loading-1lLoV"},e.exports=n},56194:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".content-2J1QY{background-color:transparent !important}.wrap-2sasP{position:relative;width:3.26rem;height:4.27rem;display:flex;flex-direction:column;align-items:center}.title-31bLc{position:absolute;width:100%;text-align:center;top:.95rem;font-size:.22rem;color:#F20807;font-weight:bolder;line-height:.34rem}.secondLine-jFLNY{font-size:.27rem}.btns-3nDkO{position:absolute;width:100%;bottom:.27rem;display:flex;align-items:center;justify-content:center}.leftBtn-YPuQB{height:.45rem;width:1.22rem}.rightBtn-RPo8m{width:1.23rem;height:.45rem;margin-left:.15rem}.wepayBg-14k3p{position:absolute;top:1.9rem;width:1.26rem;height:1.06rem}.wepayBg-14k3p>div{font-size:.38rem;color:#fff;font-weight:bold;width:100%;text-align:center;line-height:.52rem;height:.52rem}\n",""]),n.locals={content:"content-2J1QY",wrap:"wrap-2sasP",title:"title-31bLc",secondLine:"secondLine-jFLNY",btns:"btns-3nDkO",leftBtn:"leftBtn-YPuQB",rightBtn:"rightBtn-RPo8m",wepayBg:"wepayBg-14k3p"},e.exports=n},59945:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-1ZwrV{position:absolute;left:.07rem;top:.49rem;width:3.09rem;height:.24rem;background:rgba(255,255,255,0.85);border:0.02rem solid #fff;border-radius:.02rem;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;font-weight:bold;overflow:hidden;pointer-events:none;line-height:normal}.label-iYZF_{min-width:.6rem;height:.24rem;font-size:.13rem;color:#fff;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;margin-right:.01rem;flex-shrink:0;z-index:1;position:relative;left:-.02rem;padding:0 .04rem}.content-1hClV{flex:1;font-size:.13rem;color:#F10000;white-space:nowrap;animation:scroll-ani-2Trft 20s linear infinite both}@keyframes scroll-ani-2Trft{0%{transform:translate3d(2.5rem, 0, 0)}100%{transform:translate3d(-100%, 0, 0)}}\n",""]),n.locals={wrap:"wrap-1ZwrV",label:"label-iYZF_",content:"content-1hClV","scroll-ani":"scroll-ani-2Trft"},e.exports=n},13043:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".dialog-1My9h{background:transparent !important}.wrap-2m_1r{width:3.36rem;height:3.37rem;padding:1.25rem .43rem 0 .43rem;line-height:normal;font-weight:bold;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:column;-webkit-flex-direction:column;margin-top:-.8rem}.title-2xsv0{font-size:.29rem;color:#F72C2C;font-weight:900;text-shadow:0 0.005rem 0 rgba(255,255,255,0.8);line-height:1}.content-1Sp8y{font-size:.16rem;color:#8F5F49;margin:.12rem 0 .12rem 0}.content-1Sp8y span{color:#F72D2D}.btn-7TTqM{width:2.52rem;height:.4rem;border-radius:.1975rem;background:linear-gradient(0deg, #da0b0b 0%, #ff452c 100%);color:#fff;font-size:.2rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;margin-bottom:.3rem;flex-shrink:0}\n",""]),n.locals={dialog:"dialog-1My9h",wrap:"wrap-2m_1r",title:"title-2xsv0",content:"content-1Sp8y",btn:"btn-7TTqM"},e.exports=n},22235:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-2sNDU{position:fixed;left:0;top:0;width:100vw;height:100vh;background:#fff;font-weight:bold;line-height:normal;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:column;-webkit-flex-direction:column}.title-3PtZ2{font-size:.2rem;color:#6D6D6D;margin-bottom:.14rem}.content-1a9Dp{font-size:.16rem;color:#7B7B7B;margin-bottom:.19rem;text-align:center}.logo-197Rt{width:1.28rem;height:1.28rem;margin-bottom:.21rem}.btn-1NSM4{width:2.16rem;height:.44rem;border-radius:.22rem;background:linear-gradient(0deg, #da0b0b 0%, #ff452c 100%);font-size:.2rem;color:#fff;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row}\n",""]),n.locals={wrap:"wrap-2sNDU",title:"title-3PtZ2",content:"content-1a9Dp",logo:"logo-197Rt",btn:"btn-1NSM4"},e.exports=n},70273:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".dialog-1_ykl{width:3.75rem !important;height:4.34rem !important;background:rgba(255,255,255,0) !important}.close-36XBh{position:absolute;left:3.16rem;top:-.27rem;width:.39rem;height:.39rem}.treasure-1-UJc{position:absolute;top:.09rem;left:0;width:3.75rem;height:4.25rem}.btnWrap-21Y3m{position:absolute;top:3.85rem;width:3.75rem;color:#fff;font-size:.18rem;font-weight:800;line-height:normal;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:flex-start;-webkit-align-items:flex-start;flex-direction:row;-webkit-flex-direction:row}.btn-12eMU{width:1.1rem;height:.4rem;border-radius:.2rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;background:transparent;border:.02rem solid #fff}.doTaskBtn-GPvkh{min-width:1.93rem;height:.48rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;margin-left:.07rem;text-shadow:0 0.01rem 0 rgba(207,61,29,0.36);padding:0 .15rem .08rem .15rem}.titlePic-3Acd7{position:absolute;top:-.07rem;left:.41rem;width:2.88rem;height:.89rem}.white-3kJ5w{position:absolute;left:0;top:.85rem;width:100%;line-height:.19rem;font-size:.18rem;color:#FFF;text-align:center}.green-1T2Ls{position:absolute;top:1.16rem;left:50%;transform:translate(-50%, 0);padding-left:.3rem;padding-right:.2rem;height:.36rem;background:rgba(42,102,86,0.75);border-radius:.18rem;text-align:center;color:#FFF56C;font-size:.27rem;line-height:.36rem;white-space:nowrap}.coin-1cWDz{position:absolute;top:-.03rem;left:-.19rem;width:.45rem;height:.44rem}.time-3SEug{position:absolute;left:0;top:3.56rem;width:100%;font-weight:500;font-size:.13rem;color:#FFF;text-align:center;line-height:.13rem}.text-1twRj{position:absolute;left:.48rem;top:.1rem;width:.59rem;height:.31rem}.brandDialog-Keafm{height:4.28rem !important}.brandDialogBg-1dJAH{width:3.03rem;height:4.28rem;background-size:3.03rem 3.52rem !important;position:relative;padding-top:1.24rem;line-height:1;font-weight:bold;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:column;-webkit-flex-direction:column}.brandLogo-2zX0y{position:absolute;width:.77rem;height:.77rem;border-radius:50%;top:.28rem;left:50%;transform:translateX(-50%)}.brandTitle-283DL{color:#A95F2F;font-size:.22rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row}.brandTitle-283DL span{color:#F10909;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;max-width:1.65rem}.coinNew-LlBVt{height:.29rem;background:#EE360C;box-shadow:.01rem .01rem 0 0 #fff, .01rem .01rem 0 0 #D8A944;border-radius:.145rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;color:#fff;font-size:.2rem;padding:0 .15rem 0 .03rem;margin:.09rem 0 .18rem 0;line-height:normal}.coinSmall-kVxS_{width:.24rem;height:.23rem;margin-right:.08rem}.coinBox-1NZfG{width:1.28rem;height:1.2rem;margin-bottom:-.05rem}.timeNew-m37Ih{color:#A95F2F;font-size:.14rem}\n",""]),n.locals={dialog:"dialog-1_ykl",close:"close-36XBh",treasure:"treasure-1-UJc",btnWrap:"btnWrap-21Y3m",btn:"btn-12eMU",doTaskBtn:"doTaskBtn-GPvkh",titlePic:"titlePic-3Acd7",white:"white-3kJ5w",green:"green-1T2Ls",coin:"coin-1cWDz",time:"time-3SEug",text:"text-1twRj",brandDialog:"brandDialog-Keafm",brandDialogBg:"brandDialogBg-1dJAH",brandLogo:"brandLogo-2zX0y",brandTitle:"brandTitle-283DL",coinNew:"coinNew-LlBVt",coinSmall:"coinSmall-kVxS_",coinBox:"coinBox-1NZfG",timeNew:"timeNew-m37Ih"},e.exports=n},81522:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".dialog-2kxTc{margin-top:-1rem;width:3.55rem !important;height:4.95rem !important;background:rgba(255,255,255,0) !important}.bg-1om5B{position:relative;width:100%;height:100%}.bg_3-1cAWm{width:3.67rem;height:4.99rem;transform:translate(0, -0.1rem)}.close-fKv9M{position:absolute;left:2.68rem;top:1.26rem;width:.3rem;height:.3rem}.close_3-296wV{left:3.26rem;top:1.6rem}.commonBg-3k7Wo{width:3.44rem;height:3.96rem}\n",""]),n.locals={dialog:"dialog-2kxTc",bg:"bg-1om5B",bg_3:"bg_3-1cAWm",close:"close-fKv9M",close_3:"close_3-296wV",commonBg:"commonBg-3k7Wo"},e.exports=n},92952:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".content-1BXMe{background:transparent !important}.title-3jPmx{font-size:.23rem;color:#fff;line-height:.36rem;font-weight:bold;text-align:center}.info-5eoKu{font-size:.13rem;color:#fff;line-height:.18rem;text-align:center}.btnArea-23Jrj{display:flex;width:2.74rem;justify-content:space-around;margin:.11rem auto 0}.leaveBtn-3sGPn{width:1.13rem;height:.26rem;border:.02rem solid #fff;border-radius:.13rem;font-weight:bold;color:#fff;font-size:.18rem;display:flex;justify-content:center;align-items:center}.toUseBtn-23WZM{width:1.13rem;height:.26rem;background-size:100% 100%;font-weight:bold;color:#FFF9E3;font-size:.18rem;display:flex;justify-content:center;align-items:center}.list-30eZP{width:3.48rem;display:flex;justify-content:space-around;margin-top:.16rem;margin-bottom:.21rem}.item-1Xjjk{display:flex;flex-direction:column;align-items:center;color:#e35051}.couponName-2oHFd{position:absolute;height:.3rem;font-size:.22rem;color:#fffae9;line-height:.3rem;top:.06rem;font-weight:bold}.discountAmount-167bG{position:absolute;font-size:.72rem;font-weight:bold;height:.82rem;line-height:.82rem;width:100%;text-align:center;top:.5rem}.discountAmount-167bG>span{font-size:.37rem;position:relative;top:-.03rem}.minAmount-5ppXj{position:absolute;font-size:.21rem;height:.2rem;line-height:.2rem;top:1.34rem}.deadline-2ATy0{position:absolute;top:1.99rem;font-size:.2rem;font-weight:bold;height:.2rem;line-height:.2rem}.itemBg-2cPBi{position:relative;width:1.11rem;height:1.47rem;background-size:100% 100%;display:flex;flex-direction:column;align-items:center}.single-2-TXR .itemBg-2cPBi{width:1.87rem;height:2.48rem}.double-2Xf_k .itemBg-2cPBi{width:1.6rem;height:2.11rem}.double-2Xf_k .toUseBtn-23WZM{width:1.58rem;height:.4rem;margin-top:.08rem;font-size:.22rem}.double-2Xf_k .couponName-2oHFd{font-size:.19rem;top:.04rem}.double-2Xf_k .discountAmount-167bG{top:.38rem;font-size:.61rem}.double-2Xf_k .discountAmount-167bG>span{font-size:.32rem}.double-2Xf_k .minAmount-5ppXj{top:1.15rem;font-size:.18rem}.double-2Xf_k .deadline-2ATy0{top:1.67rem;font-size:.17rem}.triple-3WQlN .itemBg-2cPBi{width:1.11rem;height:1.47rem}.triple-3WQlN .toUseBtn-23WZM{width:1.03rem;height:.26rem;margin-top:.12rem;font-size:.18rem}.triple-3WQlN .couponName-2oHFd{font-size:.13rem;top:-.02rem}.triple-3WQlN .discountAmount-167bG{top:.12rem;font-size:.43rem}.triple-3WQlN .discountAmount-167bG>span{font-size:.22rem}.triple-3WQlN .minAmount-5ppXj{top:.76rem;font-size:.13rem}.triple-3WQlN .deadline-2ATy0{top:1.13rem;font-size:.12rem}.themeForFamily-BN0HH{color:#eb4917}.themeForMakeUp-1A6Ob{color:#e35051}.themeForMomAndBaby-1N5IE{color:#e2880d}\n",""]),n.locals={content:"content-1BXMe",title:"title-3jPmx",info:"info-5eoKu",btnArea:"btnArea-23Jrj",leaveBtn:"leaveBtn-3sGPn",toUseBtn:"toUseBtn-23WZM",list:"list-30eZP",item:"item-1Xjjk",couponName:"couponName-2oHFd",discountAmount:"discountAmount-167bG",minAmount:"minAmount-5ppXj",deadline:"deadline-2ATy0",itemBg:"itemBg-2cPBi",single:"single-2-TXR",double:"double-2Xf_k",triple:"triple-3WQlN",themeForFamily:"themeForFamily-BN0HH",themeForMakeUp:"themeForMakeUp-1A6Ob",themeForMomAndBaby:"themeForMomAndBaby-1N5IE"},e.exports=n},29956:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-3Dged{display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row}.btn-2Jlny,.leave-3JqLk,.play-26Jpe{position:absolute;top:4.26rem;height:.41rem;width:1.23rem;line-height:.41rem;font-size:.21rem;text-align:center;font-weight:bold}.leave-3JqLk{left:.45rem;color:#CB783C}.leave_3-2XTPI{width:1.26rem;height:.45rem;line-height:.45rem;left:.49rem}.play-26Jpe{left:1.83rem;color:#FFF;text-shadow:0 0 .1rem #60A604, 0 0 .1rem #60A604}.play_3-2ymQ_{width:1.26rem;height:.45rem;line-height:.45rem;left:1.94rem}.commonBtn-pIkBj{width:1.23rem;height:.41rem;position:relative;top:auto;left:auto;margin-right:.14rem}\n",""]),n.locals={wrap:"wrap-3Dged",btn:"btn-2Jlny",leave:"leave-3JqLk",play:"play-26Jpe",leave_3:"leave_3-2XTPI",play_3:"play_3-2ymQ_",commonBtn:"commonBtn-pIkBj"},e.exports=n},62252:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-3JRVx{position:absolute;left:0;top:-.5rem;width:100%;height:100%}.btn-6Ema3,.leave-3Y_Pv,.play-35ZFL{position:absolute;top:4.26rem;height:.41rem;width:1.23rem;line-height:.41rem;font-size:.21rem;text-align:center;font-weight:bold}.leave-3Y_Pv{left:.45rem;color:#CB783C}.leave_3-3ve5l{left:.58rem}.play-35ZFL{left:1.83rem;color:#FFF;text-shadow:0 0 .1rem #60A604, 0 0 .1rem #60A604}.play_3-2KUBR{left:1.89rem}.gray-2BwQd{position:absolute;top:3.89rem;left:0;width:100%;text-align:center;font-weight:bold;color:#8F5F4A;font-size:.13rem}.gray-2BwQd span{color:#F10F2E}.redBig-Cn8Pd{position:absolute;top:1.99rem;left:0;width:100%;text-align:center;font-size:.24rem;line-height:.23rem;font-weight:bold;color:#F10F2E}.redBig_3-1Mf6G{left:.14rem}.redSmall-aWkjo{position:absolute;top:2.28rem;left:0;width:100%;line-height:.17rem;text-align:center;font-size:.18rem;font-weight:bold;color:#F10F2E}.redSmall_3-3_1d2{left:.03rem}.icon-nIFp1{width:2.4rem;height:1.075rem;position:absolute;top:2.5rem;left:50%;transform:translateX(-50%)}\n",""]),n.locals={wrap:"wrap-3JRVx",btn:"btn-6Ema3",leave:"leave-3Y_Pv",play:"play-35ZFL",leave_3:"leave_3-3ve5l",play_3:"play_3-2KUBR",gray:"gray-2BwQd",redBig:"redBig-Cn8Pd",redBig_3:"redBig_3-1Mf6G",redSmall:"redSmall-aWkjo",redSmall_3:"redSmall_3-3_1d2",icon:"icon-nIFp1"},e.exports=n},96194:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".dialog-AIt7a{width:3.55rem !important;height:3.82rem !important;background:rgba(255,255,255,0) !important}.dialog_3-KfTZ1{width:3.64rem !important;height:4.59rem !important}.bg-2RwTj{position:relative;width:100%;height:100%}.bg_3-3EtLL{transform:translate(0, -0.55rem)}.close-KYOwG{position:absolute;left:3.18rem;top:-.36rem;width:.39rem;height:.39rem}.close_3-2CcHp{left:3.18rem;top:.28rem;width:.39rem;height:.39rem}.btn-3da6N,.leave-1r9N-,.play-2XOOu{position:absolute;top:3.18rem;height:.41rem;width:1.23rem;line-height:.41rem;font-size:.21rem;text-align:center;font-weight:bold}.leave-1r9N-{left:.45rem;color:#CB783C}.play-2XOOu{left:1.83rem;color:#FFF;text-shadow:0 0 .1rem #60A604, 0 0 .1rem #60A604}.gray-1GSIu{position:absolute;top:2.55rem;left:0;width:100%;text-align:center;font-weight:bold;color:#8F5F4A;font-size:.13rem}.gray_3-13239{top:3.37rem;left:.05rem}.red-33clq{position:absolute;top:.35rem;left:0;width:100%;text-align:center;font-size:.24rem;font-weight:bold;line-height:.27rem;color:#F10F2E}.red_3-s96Z6{top:1.2rem;left:.08rem}.searchGif-3dE8C{background-size:100% 100%;width:2.85rem;height:1.23rem;z-index:10;position:absolute;left:50%;transform:translateX(-50%);top:1.65rem}.searchGif_3-3Cnyj{top:2.47rem}.packet-1vioi{width:1.44rem;height:1.22rem;position:absolute;left:.96rem;top:1.48rem}\n",""]),n.locals={dialog:"dialog-AIt7a",dialog_3:"dialog_3-KfTZ1",bg:"bg-2RwTj",bg_3:"bg_3-3EtLL",close:"close-KYOwG",close_3:"close_3-2CcHp",btn:"btn-3da6N",leave:"leave-1r9N-",play:"play-2XOOu",gray:"gray-1GSIu",gray_3:"gray_3-13239",red:"red-33clq",red_3:"red_3-s96Z6",searchGif:"searchGif-3dE8C",searchGif_3:"searchGif_3-3Cnyj",packet:"packet-1vioi"},e.exports=n},90616:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".content-2N6Y6{background:transparent !important}.wrap-1IwiM{width:3.36rem;height:3.37rem;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:column;-webkit-flex-direction:column;line-height:normal;font-weight:bold;padding-top:1.2rem;margin-top:-1rem}.title-1a6S0{font-size:.17rem;color:#E52626;text-shadow:0 0.005rem 0 rgba(255,255,255,0.8);text-align:center}.center-2S7P4{width:.82rem;height:.82rem;margin:.04rem 0 .04rem 0}.tips-3xZSj{color:#B6773F;font-size:.12rem;line-height:1}.btnWrap-3wjA5{margin-top:.1rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row}.btn-2D30d{margin:0 .045rem;width:1.21rem;height:.39rem}\n",""]),n.locals={content:"content-2N6Y6",wrap:"wrap-1IwiM",title:"title-1a6S0",center:"center-2S7P4",tips:"tips-3xZSj",btnWrap:"btnWrap-3wjA5",btn:"btn-2D30d"},e.exports=n},54203:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".search-2Kg-V{position:absolute;top:2.52rem;left:.54rem;width:2.4rem;height:1.23rem;background-color:#F6D8C4;border-radius:.1rem}.search_3-3J5mP{left:.65rem}.red-3Xaa2{position:absolute;top:2.09rem;left:0;width:100%;text-align:center;font-size:.24rem;font-weight:bold;color:#F10F2E}.gray-CSnjN{position:absolute;top:3.89rem;left:0;width:100%;text-align:center;font-weight:bold;color:#8F5F4A;font-size:.13rem}.gray-CSnjN span{color:red}.btn-T5CEo,.leave-xZx_C,.play-2co_M{width:1.54rem;height:.61rem;position:absolute;top:4.55rem;left:50%;transform:translateX(-50%)}.leave-xZx_C{left:.45rem;color:#CB783C}.leave_3-1J6dC{left:.58rem}.play-2co_M{left:1.83rem;color:#FFF;text-shadow:0 0 .1rem #60A604, 0 0 .1rem #60A604}.play_3-1_RO8{left:1.88rem}.searchGif-3OcoX{background-size:100% 100%;width:2.85rem;height:1.23rem;z-index:10;position:absolute;left:50%;transform:translateX(-50%);top:2.55rem}\n",""]),n.locals={search:"search-2Kg-V",search_3:"search_3-3J5mP",red:"red-3Xaa2",gray:"gray-CSnjN",btn:"btn-T5CEo",leave:"leave-xZx_C",play:"play-2co_M",leave_3:"leave_3-1J6dC",play_3:"play_3-1_RO8",searchGif:"searchGif-3OcoX"},e.exports=n},97380:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".dialog-25UYX{background:transparent !important}.wrap-24P3T{width:3.29rem;height:4.27rem;position:relative;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:column;-webkit-flex-direction:column;font-weight:bold;line-height:normal}.title-3nSz0{margin-top:1rem;font-size:.2rem;color:#F20807;text-align:center;white-space:nowrap}.title-3nSz0 span{font-size:.24rem}.coinPic-3jWTW{width:1.93rem;height:.76rem;margin:.14rem 0 .04rem 0;position:relative}.limitTips-82FlL{position:absolute;top:0;right:.1rem;width:.63rem;height:.27rem}.countDown-2A8vy{font-size:.2rem;color:#FFFCFB;height:.26rem;padding:0 .24rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;background:#f10907;border:0.005rem solid #adadad;border-radius:.13rem}.btns-b8epF{display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;margin-top:.57rem}.btn-2zK0Z{width:1.4rem;height:.53rem;margin:0 .015rem}\n",""]),n.locals={dialog:"dialog-25UYX",wrap:"wrap-24P3T",title:"title-3nSz0",coinPic:"coinPic-3jWTW",limitTips:"limitTips-82FlL",countDown:"countDown-2A8vy",btns:"btns-b8epF",btn:"btn-2zK0Z"},e.exports=n},78931:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".btn-1ATDk,.leave-2-st8,.play-3k0x_{position:absolute;top:4.26rem;height:.41rem;width:1.23rem;line-height:.41rem;font-size:.21rem;text-align:center;font-weight:bold}.leave-2-st8{left:.45rem;color:#CB783C}.leave_3-2o_2q{left:.58rem}.play-3k0x_{left:1.83rem;color:#FFF;text-shadow:0 0 .1rem #60A604, 0 0 .1rem #60A604}.play_3-o4hSU{left:1.89rem}.gray-crOEC{position:absolute;top:3.89rem;left:0;width:100%;text-align:center;font-weight:bold;color:#8F5F4A;font-size:.13rem}.gray-crOEC span{color:#F10F2E}.redBig-2AP8M{position:absolute;top:1.99rem;left:0;width:100%;text-align:center;font-size:.24rem;line-height:.23rem;font-weight:bold;color:#F10F2E}.redBig_3-2YT7W{left:.14rem}.redSmall-2FTMc{position:absolute;top:2.28rem;left:0;width:100%;line-height:.17rem;text-align:center;font-size:.18rem;font-weight:bold;color:#F10F2E}.redSmall_3-2YL1f{left:.03rem}.work-2srVs{position:absolute;left:.54rem;top:2.57rem;width:2.4rem;height:.66rem}.work_3-2VAFL{left:.65rem}.searchGif-Rw9bb{background-size:100% 100%;width:2.85rem;height:1.23rem;z-index:10;position:absolute;left:50%;transform:translateX(-50%);top:2.95rem}\n",""]),n.locals={btn:"btn-1ATDk",leave:"leave-2-st8",play:"play-3k0x_",leave_3:"leave_3-2o_2q",play_3:"play_3-o4hSU",gray:"gray-crOEC",redBig:"redBig-2AP8M",redBig_3:"redBig_3-2YT7W",redSmall:"redSmall-2FTMc",redSmall_3:"redSmall_3-2YL1f",work:"work-2srVs",work_3:"work_3-2VAFL",searchGif:"searchGif-Rw9bb"},e.exports=n},67074:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-1Adwp{position:absolute;top:2rem;left:1.85rem;width:1rem;height:1rem}.wrapSp-3X-Ql{top:0;left:0}.ani-3LNMO{width:100%;height:100%;transition:all .5s ease-out;transform:translate3d(0, 0, 0) scale(0);transform-origin:50% 100%}.show-1vW24{transform:translate3d(0, 0, 0) scale(1)}.fade-3jtyT{opacity:0}.tips-2ylsM{width:.565rem;height:.3rem;position:absolute;left:-.2rem;top:-.05rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;color:#fff;font-size:.12rem;font-weight:bold;padding-bottom:.02rem;z-index:3}\n",""]),n.locals={wrap:"wrap-1Adwp",wrapSp:"wrapSp-3X-Ql",ani:"ani-3LNMO",show:"show-1vW24",fade:"fade-3jtyT",tips:"tips-2ylsM"},e.exports=n},37926:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-5N5fC{position:absolute;width:.515rem;height:.67rem;top:.15rem;left:3.06rem;z-index:10}.rocket-19og2{width:.9rem;height:6rem;position:absolute;bottom:0;left:50%;transform:translateX(-50%);pointer-events:none}.rocketAni-3x0EG{animation:rocket-ani-1F0qz 2s steps(27, end)}@keyframes rocket-ani-1F0qz{0%{background-position:0 0}100%{background-position:0 -32400px}}.rocketStatic-3sFAK{width:100%;height:100%;position:absolute;top:auto;bottom:0;left:50%;transform:translateX(-50%);pointer-events:none;animation:fade-in-1SZWP .5s linear both}.cancelCssAnimation-KPPzV{animation:none !important}.cancelCssAnimation-KPPzV img{animation:none !important}.rocketInner-29rob{width:.325rem;height:.405rem;position:absolute;left:.1rem;top:0;animation:BX_AniKey1-2CHeM 8s linear infinite both}@keyframes BX_AniKey1-2CHeM{0.00%{transform:scale(1)}5.20%{transform:scale(1.15)}10.40%{transform:scale(1)}15.60%{transform:scale(1.15)}20.80%{transform:scale(1)}26.00%{transform:scale(1.15)}31.20%{transform:scale(1)}36.40%{transform:scale(1.15)}41.60%{transform:scale(1)}46.80%{transform:scale(1.15)}52.00%{transform:scale(1)}57.20%{transform:scale(1.15)}62.5%{transform:scale(1)}100%{transform:scale(1)}}.rocketInnerFire-1L6qd{width:.15rem;height:.14rem;position:absolute;left:.18rem;top:.32rem;animation:BX_AniKey2-1PlQW .5s linear infinite both}@keyframes BX_AniKey2-1PlQW{0.00%{transform:translate(0%, 0%) scale(1)}8.33%{transform:translate(0%, 4.3%) scale(1.03)}25.00%{transform:translate(0%, 23.6%) scale(1.09)}33.33%{transform:translate(0%, 27.9%) scale(1.12)}50.00%{transform:translate(0%, 0%) scale(1)}58.33%{transform:translate(0%, 4.3%) scale(1.03)}75.00%{transform:translate(0%, 23.6%) scale(1.09)}83.33%{transform:translate(0%, 27.9%) scale(1.12)}100.00%{transform:translate(0%, 0%) scale(1)}}@keyframes fade-in-1SZWP{0%{opacity:0}100%{opacity:1}}.light-2rsNl{position:fixed;width:3.75rem;height:3.75rem;top:-2rem;left:0;animation:light-ani-14w9p 5s linear}@keyframes light-ani-14w9p{0%{transform:rotate(0) scale(3)}90%{transform:rotate(324deg) scale(3);opacity:1}100%{transform:rotate(360deg) scale(3);opacity:0}}.time-18vIW{position:absolute;left:50%;top:.84rem;transform:translateX(-50%);height:.19rem;padding:0 .07rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;background:linear-gradient(0deg, #FA371D, #F97517);border:.01rem solid  #fff;border-radius:.1rem;color:#fff;font-size:.13rem;font-weight:bold;line-height:normal}.speedUpNum-kTQOC{margin-right:.04rem;border-right:0.01rem solid rgba(255,255,255,0.44);height:.15rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;padding-right:.04rem;width:max-content}\n",""]),n.locals={wrap:"wrap-5N5fC",rocket:"rocket-19og2",rocketAni:"rocketAni-3x0EG","rocket-ani":"rocket-ani-1F0qz",rocketStatic:"rocketStatic-3sFAK","fade-in":"fade-in-1SZWP",cancelCssAnimation:"cancelCssAnimation-KPPzV",rocketInner:"rocketInner-29rob",BX_AniKey1:"BX_AniKey1-2CHeM",rocketInnerFire:"rocketInnerFire-1L6qd",BX_AniKey2:"BX_AniKey2-1PlQW",light:"light-2rsNl","light-ani":"light-ani-14w9p",time:"time-18vIW",speedUpNum:"speedUpNum-kTQOC"},e.exports=n},10429:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-29VQd{position:absolute;transition:all .4s linear;animation:scale-ani-2Sgjv .45s ease-out}@keyframes scale-ani-2Sgjv{0%,100%{transform:scale(1, 1)}35%{transform:scale(1, 1.2)}70%{transform:scale(1, 0.85)}}\n",""]),n.locals={wrap:"wrap-29VQd","scale-ani":"scale-ani-2Sgjv"},e.exports=n},4454:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".star-2JINw{width:3rem;height:3rem;position:absolute;top:0;left:50%;transform:translateX(-50%)}.star_3-3CADe{width:4rem;height:4rem}.starAni-2wjx6{animation:star-ani-3zZU0 2s steps(10, end) infinite}@keyframes star-ani-3zZU0{0%{background-position:0 0}100%{background-position:0 -6000px}}\n",""]),n.locals={star:"star-2JINw",star_3:"star_3-3CADe",starAni:"starAni-2wjx6","star-ani":"star-ani-3zZU0"},e.exports=n},46031:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-2n5QE{position:relative;flex-shrink:0;pointer-events:auto;width:.6rem;height:.6rem;top:.02rem}.icon-e6xu3{width:.4rem;height:.4rem;position:absolute;top:.11rem;left:.09rem}.tip-3JTpC{width:.38rem;height:.17rem;left:.22rem;top:.05rem;position:absolute}.banner-1OL36{width:.58rem;height:.19rem;position:absolute;left:0;top:.41rem;text-align:center;font-size:.12rem;font-weight:800;color:#fff}.hand-3f7Xl{width:.25rem !important;height:.25rem !important;left:.45rem;top:.62rem}\n",""]),n.locals={wrap:"wrap-2n5QE",icon:"icon-e6xu3",tip:"tip-3JTpC",banner:"banner-1OL36",hand:"hand-3f7Xl"},e.exports=n},80717:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".container-eGd_o{width:.9rem;height:.75rem;position:relative;top:0;left:0;pointer-events:auto;transform:translate(-10%, -10%) scale(0.9)}.swiperItem-2-Rct{width:.56rem;height:.56rem;padding:.01rem}.goodsImage-qEw3N{width:.56rem;height:.56rem;position:absolute;top:.1rem;left:auto;right:.1rem;overflow:hidden}.benefitSwiperWrapper-ZxW_V{height:.29rem;overflow:hidden}.desc-3nFJu{width:.88rem;height:.29rem;position:absolute;right:-.12rem;top:-.14rem;z-index:3;overflow:hidden}.double-2gsmn{font-size:.18rem;font-weight:bold}.icon-1Juol{width:.185rem;margin-top:.01rem;margin-left:.04rem}.ani-3X6Zw{transform-origin:40% 100%;animation:3s linear 1s infinite both iconShake-DDuME}@keyframes iconShake-DDuME{5%,25%{transform:rotate(5deg)}from,10%,20%,30%,40%,to{transform:rotate(0deg)}15%,35%{transform:rotate(-5deg)}45%{transform:rotate(5deg)}50%{transform:rotate(0deg)}}.descItem-1xvac{width:.88rem;height:.29rem;font-size:.17rem;color:#FFF;text-align:center;line-height:normal;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;padding-bottom:.06rem;overflow:hidden}.browseBenefitText-z6LXp{font-size:.15rem;font-weight:bold}.browseBenefitText-z6LXp>span{color:#FFF684}.benefitText-His4i{font-size:.165rem;font-weight:bold}.single-3k-VV{display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row}\n",""]),n.locals={container:"container-eGd_o",swiperItem:"swiperItem-2-Rct",goodsImage:"goodsImage-qEw3N",benefitSwiperWrapper:"benefitSwiperWrapper-ZxW_V",desc:"desc-3nFJu",double:"double-2gsmn",icon:"icon-1Juol",ani:"ani-3X6Zw",iconShake:"iconShake-DDuME",descItem:"descItem-1xvac",browseBenefitText:"browseBenefitText-z6LXp",benefitText:"benefitText-His4i",single:"single-3k-VV"},e.exports=n},58707:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".container-1LM1m{pointer-events:auto;height:3.25rem;width:1.29rem;transition:transform .6s;position:fixed;left:0;top:1.46rem}.item-2PWLh{position:relative;width:1.22rem;height:.56rem;display:flex;align-items:center;padding-left:.14rem;margin-left:-.02rem;color:#8d5d33;font-size:.14rem}.icon-1-wed{width:.32rem;height:.32rem;margin-right:.07rem}.board-1v2wI{position:relative;z-index:2;height:3.25rem;width:1.29rem;padding-top:.4rem}.emitIcon-3Lkqu{position:absolute;width:.27rem;height:.62rem;display:flex;justify-content:center;align-items:center;z-index:1;top:1.32rem;left:1.28rem;padding-right:.04rem;padding-bottom:.04rem}.emitIconIn-2SE8c{width:.19rem;height:.29rem;transition:transform .4s;transform-origin:center center}.boardRedDot-3EMTs{width:.17rem;height:.17rem;position:absolute;top:0;right:-.02rem}.shopRedDot-3Sqiz{width:.14rem;height:.14rem;position:absolute;top:.15rem;right:.29rem}.music-fuv2W{width:.97rem;height:.32rem;transition:background-image .6s ease-in-out}.musicWrap-3t3ZE{margin:.07rem 0 .08rem .11rem}.cover-QlU_X{position:absolute;left:0;top:-1.46rem;width:100vw;height:100vh;z-index:-1}\n",""]),n.locals={container:"container-1LM1m",item:"item-2PWLh",icon:"icon-1-wed",board:"board-1v2wI",emitIcon:"emitIcon-3Lkqu",emitIconIn:"emitIconIn-2SE8c",boardRedDot:"boardRedDot-3EMTs",shopRedDot:"shopRedDot-3Sqiz",music:"music-fuv2W",musicWrap:"musicWrap-3t3ZE",cover:"cover-QlU_X"},e.exports=n},21523:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-KkFqE{position:absolute;width:100%;height:100%;left:0;top:0}.aniStopWrap-1xrac *{animation:none !important}.bubbleContainer-3WtyG{background:rgba(42,102,86,0.75);width:max-content;height:.14rem;border-radius:.08rem .07rem 0 .07rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;position:absolute;left:50%;top:0;animation:bubble-ani-kxdlE .3s linear both;flex-shrink:0;white-space:nowrap;font-size:.1rem;color:#fff;padding:0 .02rem;line-height:normal}@keyframes bubble-ani-kxdlE{0%,100%{transform:translate(-50%, 0)}50%{transform:translate(-50%, -0.05rem)}}.bubbleCoin-2zCRU{width:.1rem;height:.1rem;margin-left:.01rem}.bubbleTip-2OD2y{color:#FFF56C;margin-left:.02rem;margin-right:.04rem;margin-top:-.02rem}.dailyCountDown-1IAE1{display:none}.giftWrap-S05cb{width:.38rem;height:.38rem;position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;pointer-events:auto}.giftTips-1Xzqh{width:.27rem;height:.27rem;position:relative;animation:giftTips-ani-3AMVH .5s ease infinite both}.redDot-3YGec{width:.13rem;height:.13rem;position:absolute;right:-.01rem;top:.01rem}@keyframes giftTips-ani-3AMVH{0%,100%{transform:rotate(0)}25%{transform:rotate(2.5deg)}75%{transform:rotate(-2.5deg)}}.rectLeft-lANB5,.rectRight-bUnyr{width:50%;height:100%;overflow:hidden;position:absolute;top:0;left:0}.rectRight-bUnyr{left:auto;right:0}.circleLeft-z5EE1{width:100%;height:100%;position:absolute;left:0;top:0;background-position:0 0;background-size:auto 100% !important;animation:circle-ani-left-7xExk 3s linear both;transform-origin:100% 50%;will-change:transform}.circleRight-1uPes{width:100%;height:100%;position:absolute;left:0;top:0;background-position:-.19rem 0;background-size:auto 100% !important;animation:circle-ani-right-80PF0 3s linear both;transform-origin:0 50%;will-change:transform}@keyframes circle-ani-right-80PF0{0%{transform:rotate(0)}50%{transform:rotate(180deg);opacity:1}51%,100%{opacity:0}}@keyframes circle-ani-left-7xExk{0%,50%{transform:rotate(0)}100%{transform:rotate(180deg)}}.coinUp-1kXGa{width:.29rem;height:.18rem;animation:coinUp-ani-1fhsh .3s ease both}@keyframes coinUp-ani-1fhsh{0%{transform:scale(0.2)}100%{transform:scale(1)}}\n",""]),n.locals={wrap:"wrap-KkFqE",aniStopWrap:"aniStopWrap-1xrac",bubbleContainer:"bubbleContainer-3WtyG","bubble-ani":"bubble-ani-kxdlE",bubbleCoin:"bubbleCoin-2zCRU",bubbleTip:"bubbleTip-2OD2y",dailyCountDown:"dailyCountDown-1IAE1",giftWrap:"giftWrap-S05cb",giftTips:"giftTips-1Xzqh","giftTips-ani":"giftTips-ani-3AMVH",redDot:"redDot-3YGec",rectLeft:"rectLeft-lANB5",rectRight:"rectRight-bUnyr",circleLeft:"circleLeft-z5EE1","circle-ani-left":"circle-ani-left-7xExk",circleRight:"circleRight-1uPes","circle-ani-right":"circle-ani-right-80PF0",coinUp:"coinUp-1kXGa","coinUp-ani":"coinUp-ani-1fhsh"},e.exports=n},28462:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".icon-1YyRC{width:.38rem;height:.37rem;display:flex;justify-content:center;align-items:center;position:relative}.invisibleIcon-2JCHo{width:.2rem;height:.2rem}.container-3GWMw{position:relative;width:1.45rem;height:.45rem;margin-left:.14rem;background:rgba(255,255,255,0.75);border-radius:.22rem .24rem .24rem .22rem;color:#8d5d33;display:flex;align-items:center;padding-left:.06rem}.txtWrap-3nhNz{width:.86rem;display:flex;justify-content:center}.txt-5zUGG{font-weight:800;margin-left:.03rem;font-size:.1rem;display:flex;flex-direction:column;justify-content:center;height:.45rem;margin-top:-.01rem;white-space:nowrap}.total-1gOdc{line-height:.18rem;border-bottom:.5px solid #c0aa98}.total-1gOdc>span{font-size:.13rem;font-weight:900;color:#fd0c0c;margin-left:.06rem}.speed-3CciI{line-height:.18rem;border-top:.5px solid #c0aa98;margin-top:-.5px;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row}.speed-3CciI>span{font-size:.11rem;color:#fd0c0c;margin-left:.06rem}.arrowUp-2DOuE{width:.12rem;height:.11rem;animation:ani-arrow-1fU6X 1s linear both;margin-left:.06rem}@keyframes ani-arrow-1fU6X{0%,100%{transform:translateY(0)}25%,75%{transform:translateY(-50%)}}\n",""]),n.locals={icon:"icon-1YyRC",invisibleIcon:"invisibleIcon-2JCHo",container:"container-3GWMw",txtWrap:"txtWrap-3nhNz",txt:"txt-5zUGG",total:"total-1gOdc",speed:"speed-3CciI",arrowUp:"arrowUp-2DOuE","ani-arrow":"ani-arrow-1fU6X"},e.exports=n},69237:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".dailyCountDown-Ga2ut{position:absolute;left:.01rem;top:.04rem}.dailyTip-Uoq02{position:absolute;left:.06rem;top:.2rem}.dailyTipTomorrow-3nah6{position:absolute;left:0;top:.3rem;width:.495rem}.spriteWrap-3sQCg{width:.495rem;height:.445rem;transform:translate(0, 0.02rem)}.spriteDailyIcon-M80fy{width:.495rem;height:.445rem;pointer-events:auto;background-size:100% auto !important}.activeDailyAni-3k9F1{background-size:49.5px 1112.5px !important;animation:active-daily-ani-3zdEm 2s steps(25) infinite}@keyframes active-daily-ani-3zdEm{0%{background-position:0 0}100%{background-position:0 -1112.5px}}.inactiveDailyAni-1672Y{background-size:49.5px 890px !important;animation:inactive-daily-ani-oInza 1.5s steps(20) 1}@keyframes inactive-daily-ani-oInza{0%{background-position:0 0}100%{background-position:0 -890px}}.bubbleContainer-16Wqt{background:rgba(42,102,86,0.75);width:max-content;height:.19rem;border-radius:.12rem;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;position:absolute;left:-.05rem;top:-.07rem;animation:bubble-ani-3J_W6 1.5s linear 1;flex-shrink:0;white-space:nowrap}@keyframes bubble-ani-3J_W6{0%{transform:translate(0, 0)}100%{transform:translate(0, -0.1rem)}}.bubbleCoin-2cNlz{width:.15rem;height:.15rem;margin-left:.02rem}.bubbleTip-BX3CM{color:#FFF56C;margin-left:.02rem;margin-right:.04rem;margin-top:-.02rem}.hideIcon-3y0D-{display:none}.dailyIcon-2x9cB{width:.495rem;height:.445rem;margin-top:.09rem;font-weight:800;font-size:.12rem;text-align:center;text-shadow:-1px -1px 1px #BB840D,1px -1px 1px #BB840D,-1px 1px 1px #BB840D,1px 1px 1px #BB840D;color:#fff;transform:translate(-0.02rem, -0.02rem)}.dailyMask-1qYGR{width:.4rem;height:.4rem;border-radius:50%;position:absolute;left:.05rem;top:.03rem;background-color:rgba(255,255,255,0.5)}\n",""]),n.locals={dailyCountDown:"dailyCountDown-Ga2ut",dailyTip:"dailyTip-Uoq02",dailyTipTomorrow:"dailyTipTomorrow-3nah6",spriteWrap:"spriteWrap-3sQCg",spriteDailyIcon:"spriteDailyIcon-M80fy",activeDailyAni:"activeDailyAni-3k9F1","active-daily-ani":"active-daily-ani-3zdEm",inactiveDailyAni:"inactiveDailyAni-1672Y","inactive-daily-ani":"inactive-daily-ani-oInza",bubbleContainer:"bubbleContainer-16Wqt","bubble-ani":"bubble-ani-3J_W6",bubbleCoin:"bubbleCoin-2cNlz",bubbleTip:"bubbleTip-BX3CM",hideIcon:"hideIcon-3y0D-",dailyIcon:"dailyIcon-2x9cB",dailyMask:"dailyMask-1qYGR"},e.exports=n},71743:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".rightIcons-3fSt5{display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:column;-webkit-flex-direction:column}.iconsWrap-3m04D{position:absolute;right:.05rem;top:.47rem;max-height:calc((100vh - 8.21rem) * .9 + 3.8rem);overflow-y:scroll;pointer-events:auto;padding-bottom:.1rem;mask:linear-gradient(0deg, transparent, #fff 10%);-webkit-mask:linear-gradient(0deg, transparent, #fff 10%)}.couponIcon-1rmfE{width:.48rem;height:.49rem;position:relative;pointer-events:auto;margin-top:.09rem}.sportSkinIcon-_vVd7{width:.49rem;height:.6rem;margin-top:.09rem;pointer-events:auto;transition:all .2s linear}.rollEggIcon-2paK9{width:.53rem;height:.47rem;pointer-events:auto;margin-top:.09rem;position:relative}.redDot-2TPP2{width:.13rem;height:.13rem;position:absolute;right:.065rem;top:0}.newTag-2g6NN{min-width:.32rem;min-height:.16rem;background:#fd350b;border:0.02rem solid #fff;border-radius:.07rem .07rem .075rem 0;padding:0 .06rem 0 .02rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;position:absolute;top:-.08rem;right:-.01rem;font-size:.1rem;color:#fff;font-weight:500;line-height:.13rem}.myPackIcon-288Nu{width:.4rem;height:.47rem;pointer-events:auto;margin-top:.09rem;position:relative}.couponTips-1RKpk{width:.23rem;height:.17rem;position:absolute;left:auto;right:-.04rem;top:-.02rem}@media screen and (min-aspect-ratio: 501 / 665){.iconsWrap-3m04D{max-height:calc((100vh - 8.21rem) * .815 + 3.8rem)}}\n",""]),n.locals={rightIcons:"rightIcons-3fSt5",iconsWrap:"iconsWrap-3m04D",couponIcon:"couponIcon-1rmfE",sportSkinIcon:"sportSkinIcon-_vVd7",rollEggIcon:"rollEggIcon-2paK9",redDot:"redDot-2TPP2",newTag:"newTag-2g6NN",myPackIcon:"myPackIcon-288Nu",couponTips:"couponTips-1RKpk"},e.exports=n},15172:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".sign7Icon-qEuCO{position:relative;pointer-events:auto;width:.66rem;height:.46rem;margin-top:.09rem}.redDot-1gP8p{width:.13rem;height:.13rem;position:absolute;border-radius:50%;background-color:#fa461f;border:.02rem solid #fff;right:.11rem;top:-.02rem}\n",""]),n.locals={sign7Icon:"sign7Icon-qEuCO",redDot:"redDot-1gP8p"},e.exports=n},58196:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-2ofUX{width:3.75rem;z-index:101;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;padding:0 .04rem 0 .36rem;position:fixed;top:.5rem;left:calc(50vw - 1.875rem);pointer-events:none;height:.5rem;transition:opacity .2s linear}.wrapHideFriend-3BO-j{display:none}.wrapHideMain-6S4qi{display:none}.scoreBox-HEv7Y{height:.45rem;display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;padding:0 .03rem 0 .49rem;position:relative;margin:0 0 .03rem 0;background:rgba(255,255,255,0.95);border-radius:.4rem;flex-shrink:0}.boxBgHidden-1ToPZ{background:none}.avatarBox-3ikQW{width:.45rem;height:.45rem;position:absolute;left:-.01rem;bottom:.01rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row}.avatar-3_J6Q{width:.37rem;height:.37rem;border-radius:50%;position:absolute;top:.04rem;left:.04rem}.level-3v4WK{position:absolute;top:.28rem;left:50%;transform:translateX(-50%);font-size:.12rem;font-weight:800;text-shadow:-1px -1px 1px #E55F16,1px -1px 1px #E55F16,-1px 1px 1px #E55F16,1px 1px 1px #E55F16;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;color:#fff}.wing-3Y1tv{width:.19rem;height:.12rem;margin:0 .01rem}.wingRight-deXod{transform:rotateY(180deg)}.grabBanner-2FOEx{width:2.73rem;height:.26rem;position:relative;left:.16rem;top:-.06rem;white-space:nowrap}.grabBannerNum-1cTD9{position:absolute;left:.43rem;top:-.09rem;width:.28rem;height:.34rem}.grabBannerTip-pacb9{font-size:.13rem;font-weight:bold;color:#fff;position:absolute;left:.82rem;top:.04rem}.withDrawBtn-2F9iX{width:.35rem;height:.35rem;pointer-events:auto;position:relative}.info-2JiKb{line-height:1;font-weight:bold;flex-shrink:0;margin-right:.03rem}.topInfo-Q7mpu{display:flex;display:-webkit-flex;justify-content:flex-start;-webkit-justify-content:flex-start;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;color:#FE0C0C;font-size:.18rem;transform:translate(0, -0.02rem)}.topInfo-Q7mpu span{font-size:.14rem;margin-top:.02rem}.redPacketIcon-1LrbV{width:.12rem;height:.14rem;margin-right:.03rem}.tips-2hpDi{font-size:.1rem;font-weight:bold;color:#8D5D33;padding-top:.02rem}.progressBarBg-2yfDv{position:relative;width:.81rem;height:.07rem}.progressBar-3bmNt{position:absolute;height:.05rem;top:.01rem;left:.02rem;background:linear-gradient(180deg, #fb836e, #fe100e, #fa7534);border-radius:.12rem}.music-3chVQ{margin:0 0 .05rem .26rem;width:.34rem;height:.34rem;border-radius:50%;background-color:#2A6656;pointer-events:auto;background-size:.24rem .18rem !important;background-position:.05rem .08rem;position:relative}.icons-2Jgqb{position:absolute;top:1rem;display:flex;display:-webkit-flex;justify-content:flex-end;-webkit-justify-content:flex-end;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;flex:1}.festivalSkinIcon-29rML{width:.63rem;height:.68rem;position:absolute;left:.06rem;top:1.25rem;pointer-events:auto}.leftIcons-1uKRd{pointer-events:auto;position:absolute;left:0;top:.8rem}.getFriendSkin-3WqZH{width:1.33rem;height:.39rem;position:absolute;left:.16rem;top:1rem;pointer-events:auto}.coinBox-27L_4{width:.83rem;height:.75rem;position:absolute;top:1.91rem;right:.08rem;pointer-events:auto;animation:box-shake-ani-1QXxn 1.2s linear infinite;transform-origin:50% 100%}@keyframes box-shake-ani-1QXxn{25%{transform:rotate(-5deg)}75%{transform:rotate(5deg)}}\n",""]),n.locals={wrap:"wrap-2ofUX",wrapHideFriend:"wrapHideFriend-3BO-j",wrapHideMain:"wrapHideMain-6S4qi",scoreBox:"scoreBox-HEv7Y",boxBgHidden:"boxBgHidden-1ToPZ",avatarBox:"avatarBox-3ikQW",avatar:"avatar-3_J6Q",level:"level-3v4WK",wing:"wing-3Y1tv",wingRight:"wingRight-deXod",grabBanner:"grabBanner-2FOEx",grabBannerNum:"grabBannerNum-1cTD9",grabBannerTip:"grabBannerTip-pacb9",withDrawBtn:"withDrawBtn-2F9iX",info:"info-2JiKb",topInfo:"topInfo-Q7mpu",redPacketIcon:"redPacketIcon-1LrbV",tips:"tips-2hpDi",progressBarBg:"progressBarBg-2yfDv",progressBar:"progressBar-3bmNt",music:"music-3chVQ",icons:"icons-2Jgqb",festivalSkinIcon:"festivalSkinIcon-29rML",leftIcons:"leftIcons-1uKRd",getFriendSkin:"getFriendSkin-3WqZH",coinBox:"coinBox-27L_4","box-shake-ani":"box-shake-ani-1QXxn"},e.exports=n},15689:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wrap-2iLl4{border-radius:50%;z-index:10;width:.29rem;height:.29rem}.gameClose-23jFK{width:.29rem;height:.29rem;position:absolute;top:-.43rem;right:calc(.145rem + (100% - 3.75rem) * .35);background-size:contain;background-position:center center}.gameClose-23jFK:active{opacity:.5}.icon-38yR-{display:inline-block;border-radius:50%;line-height:1;font-family:\"icomoon\";font-style:normal;font-smoothing:antialiased;font-size:.29rem}.icon-38yR-::before{font-size:.29rem}.gray-bkQ-c::before{content:'\\e69b'}.museum-30fkA::before{content:'\\e6aa'}\n",""]),n.locals={wrap:"wrap-2iLl4",gameClose:"gameClose-23jFK",icon:"icon-38yR-",gray:"gray-bkQ-c",museum:"museum-30fkA"},e.exports=n},13578:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".wappper-1lHU4{overflow:hidden}ul{transform:translate3d(0, 0, 0)}.horizontal-2HRgI{display:flex;flex-wrap:nowrap}.hidden-2YbbG{position:absolute;opacity:0;visibility:hidden;height:.01rem;width:100%}.hiddenAnimation-1Gsvg{animation:none !important}.pausedAnimation-2qQlv{animation-play-state:paused !important}\n",""]),n.locals={wappper:"wappper-1lHU4",horizontal:"horizontal-2HRgI",hidden:"hidden-2YbbG",hiddenAnimation:"hiddenAnimation-1Gsvg",pausedAnimation:"pausedAnimation-2qQlv"},e.exports=n},70047:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"@keyframes ani-jelly-5Toz0{0%{transform:scale(0)}70%{transform:scale(1.1)}100%{transform:scale(1)}}.jelly-3XT4I{animation:ani-jelly-5Toz0 .5s ease both}@keyframes ani-jelly-close-JBaUE{0%{transform:scale(1)}30%{transform:scale(1.1)}100%{transform:scale(0)}}@keyframes ani-loading-ySAzu{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.mask-z-rpa{z-index:999;position:fixed;left:0;right:0;top:0;bottom:0;height:100vh;background-color:rgba(0,0,0,0.8);display:flex;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;transition:all .5s ease}.hide-15OXF{display:none}.content-2KbMO{position:relative;width:2.9rem;min-height:1rem;background:#fff;border-radius:.06rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:column;-webkit-flex-direction:column}.close-249wv{position:absolute;top:0;right:0;transform:translate(50%, -50%)}.inner-3H2fw{width:100%;flex:1;padding:.1rem 10%;text-align:center;font-size:.17rem;margin:.1rem 0 .05rem;color:#151516}.btns-eQ3vE{width:100%;border-top:.01rem solid #e0e0e0;border-radius:0 0 .06rem .06rem;overflow:hidden;font-size:.17rem;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row}.btn-3EAH9{line-height:1.5;display:inline-block;text-align:center;touch-action:manipulation;background-image:none;background-color:#fff;white-space:nowrap;user-select:none;position:relative;color:#333;outline:none;padding:0 .12rem;font-size:.18rem;height:.44rem;width:100%;border-radius:0}.cancel-3OQWr{color:#9c9c9c;border-left:none}.confirm-342iA{color:#e02e24;border:none;border-left:.01rem solid #e0e0e0}.confirm-342iA:first-child{border:none}.aniIcon-PMvkS{position:absolute;background-size:contain !important;background-position:50% 50%}.aniIconWidget-1w-13{position:absolute;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row}@media screen and (min-aspect-ratio: 501 / 665){.content-2KbMO{transform:scale(0.75) !important}}\n",""]),n.locals={jelly:"jelly-3XT4I","ani-jelly":"ani-jelly-5Toz0",mask:"mask-z-rpa",hide:"hide-15OXF",content:"content-2KbMO",close:"close-249wv",inner:"inner-3H2fw",btns:"btns-eQ3vE",btn:"btn-3EAH9",cancel:"cancel-3OQWr",confirm:"confirm-342iA",aniIcon:"aniIcon-PMvkS",aniIconWidget:"aniIconWidget-1w-13","ani-jelly-close":"ani-jelly-close-JBaUE","ani-loading":"ani-loading-ySAzu"},e.exports=n},37017:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".mask-1Zk7T{z-index:999;position:fixed;left:0;right:0;top:0;bottom:0;height:100vh;background-color:rgba(0,0,0,0.8);display:flex;display:flex;display:-webkit-flex;justify-content:center;-webkit-justify-content:center;align-items:center;-webkit-align-items:center;flex-direction:row;-webkit-flex-direction:row;transition:all .5s ease}.hide-xKwVc{display:none}\n",""]),n.locals={mask:"mask-1Zk7T",hide:"hide-xKwVc"},e.exports=n},95705:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"@keyframes ani-jelly-3zQh_{0%{transform:scale(0)}70%{transform:scale(1.1)}100%{transform:scale(1)}}.container-2fORi{animation:ani-jelly-3zQh_ .5s ease both}@keyframes ani-jelly-close-2pfUy{0%{transform:scale(1)}30%{transform:scale(1.1)}100%{transform:scale(0)}}@keyframes ani-loading-2xBzl{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.container-2fORi{z-index:100;position:fixed;margin:auto;top:0;bottom:0;left:0;right:0;width:2.9rem;height:3.19rem;border-radius:.08rem;background-color:#fff;padding-top:.45rem;text-align:center}.button-27_-j{width:2.5rem;height:.43rem;border-radius:.26rem;background-color:#ff2741;margin:0 .2rem .08rem;font-size:0}.button-27_-j span{font-size:.17rem;line-height:.47rem;color:#fff}.tip-1_mpA{font-size:.14rem;color:#9c9c9c}.title-2DME9{font-size:.17rem;color:#000;margin-bottom:.19rem}.icon-2tCvz{width:1.2rem;height:1.2rem;margin:0 .85rem .34rem}\n",""]),n.locals={container:"container-2fORi","ani-jelly":"ani-jelly-3zQh_",button:"button-27_-j",tip:"tip-1_mpA",title:"title-2DME9",icon:"icon-2tCvz","ani-jelly-close":"ani-jelly-close-2pfUy","ani-loading":"ani-loading-2xBzl"},e.exports=n},76671:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".divWithBg-gDtWZ{background-size:100% 100%;background-repeat:no-repeat}\n",""]),n.locals={divWithBg:"divWithBg-gDtWZ"},e.exports=n},23645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);n&&i[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),t.push(c))}},t}},49690:function(e,t,r){var n=r(99527),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},73945:function(e,t,r){var n=r(77714),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},12071:function(e,t,r){var n=r(32351),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},5278:function(e,t,r){var n=r(33496),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},36977:function(e,t,r){var n=r(68794),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},78586:function(e,t,r){var n=r(60897),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},95458:function(e,t,r){var n=r(21427),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},47050:function(e,t,r){var n=r(46976),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},74243:function(e,t,r){var n=r(87451),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},91858:function(e,t,r){var n=r(57716),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},55566:function(e,t,r){var n=r(77185),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},75636:function(e,t,r){var n=r(9862),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},46250:function(e,t,r){var n=r(60708),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},94084:function(e,t,r){var n=r(12319),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},98607:function(e,t,r){var n=r(52682),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},33955:function(e,t,r){var n=r(64671),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},17574:function(e,t,r){var n=r(79652),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},38025:function(e,t,r){var n=r(58720),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},12842:function(e,t,r){var n=r(54179),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},83491:function(e,t,r){var n=r(25304),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},79320:function(e,t,r){var n=r(78497),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},71828:function(e,t,r){var n=r(7781),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},28635:function(e,t,r){var n=r(45116),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},93790:function(e,t,r){var n=r(55404),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},80246:function(e,t,r){var n=r(91311),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},28296:function(e,t,r){var n=r(4612),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},11976:function(e,t,r){var n=r(13530),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},94384:function(e,t,r){var n=r(88425),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},40091:function(e,t,r){var n=r(42207),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},43535:function(e,t,r){var n=r(90410),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},79861:function(e,t,r){var n=r(40555),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},90494:function(e,t,r){var n=r(76448),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},62983:function(e,t,r){var n=r(99005),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},74904:function(e,t,r){var n=r(14585),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},96338:function(e,t,r){var n=r(61707),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},96788:function(e,t,r){var n=r(52465),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},1399:function(e,t,r){var n=r(97692),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},55361:function(e,t,r){var n=r(60093),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},3248:function(e,t,r){var n=r(19191),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},77889:function(e,t,r){var n=r(28654),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},97932:function(e,t,r){var n=r(98242),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},92829:function(e,t,r){var n=r(23573),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},534:function(e,t,r){var n=r(92190),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},20253:function(e,t,r){var n=r(56194),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},32096:function(e,t,r){var n=r(59945),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},76825:function(e,t,r){var n=r(13043),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},41149:function(e,t,r){var n=r(22235),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},73634:function(e,t,r){var n=r(70273),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},64166:function(e,t,r){var n=r(81522),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},81180:function(e,t,r){var n=r(92952),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},52126:function(e,t,r){var n=r(29956),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},10397:function(e,t,r){var n=r(62252),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},21387:function(e,t,r){var n=r(96194),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},82118:function(e,t,r){var n=r(90616),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},12400:function(e,t,r){var n=r(54203),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},86068:function(e,t,r){var n=r(97380),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},69883:function(e,t,r){var n=r(78931),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},76539:function(e,t,r){var n=r(67074),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},28679:function(e,t,r){var n=r(37926),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},80583:function(e,t,r){var n=r(10429),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},97716:function(e,t,r){var n=r(4454),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},33473:function(e,t,r){var n=r(46031),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},67217:function(e,t,r){var n=r(80717),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},26100:function(e,t,r){var n=r(58707),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},51267:function(e,t,r){var n=r(21523),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},6266:function(e,t,r){var n=r(28462),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},92075:function(e,t,r){var n=r(69237),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},94392:function(e,t,r){var n=r(71743),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},67995:function(e,t,r){var n=r(15172),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},48774:function(e,t,r){var n=r(58196),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},24229:function(e,t,r){var n=r(15689),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},96006:function(e,t,r){var n=r(13578),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},58226:function(e,t,r){var n=r(70047),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},32250:function(e,t,r){var n=r(37017),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},38740:function(e,t,r){var n=r(95705),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},84520:function(e,t,r){var n=r(76671),i=r(52725),o="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return o},t._getCss=function(){return""+n},t._insertCss=function(e){return i(o,e)}},91296:function(e,t,r){var n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,u="object"==typeof self&&self&&self.Object===Object&&self,l=c||u||Function("return this")(),p=Object.prototype.toString,f=Math.max,d=Math.min,h=function(){return l.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==p.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var r=o.test(e);return r||a.test(e)?s(e.slice(2),r?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,r){var n,i,o,a,s,c,u=0,l=!1,p=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=n,o=i;return n=i=void 0,u=t,a=e.apply(o,r)}function b(e){return u=e,s=setTimeout(k,t),l?v(e):a}function _(e){var r=e-c;return void 0===c||r>=t||r<0||p&&e-u>=o}function k(){var e=h();if(_(e))return w(e);s=setTimeout(k,function(e){var r=t-(e-c);return p?d(r,o-(e-u)):r}(e))}function w(e){return s=void 0,y&&n?v(e):(n=i=void 0,a)}function S(){var e=h(),r=_(e);if(n=arguments,i=this,c=e,r){if(void 0===s)return b(c);if(p)return s=setTimeout(k,t),v(c)}return void 0===s&&(s=setTimeout(k,t)),a}return t=g(t)||0,m(r)&&(l=!!r.leading,o=(p="maxWait"in r)?f(g(r.maxWait)||0,t):o,y="trailing"in r?!!r.trailing:y),S.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=c=i=s=void 0},S.flush=function(){return void 0===s?a:w(h())},S}},18552:function(e,t,r){var n=r(10852)(r(89103),"DataView");e.exports=n},53818:function(e,t,r){var n=r(10852)(r(89103),"Promise");e.exports=n},58525:function(e,t,r){var n=r(10852)(r(89103),"Set");e.exports=n},70577:function(e,t,r){var n=r(10852)(r(89103),"WeakMap");e.exports=n},77412:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},34963:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}},29932:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},62488:function(e){e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},44037:function(e,t,r){var n=r(98363),i=r(3674);e.exports=function(e,t){return e&&n(t,i(t),e)}},63886:function(e,t,r){var n=r(98363),i=r(81704);e.exports=function(e,t){return e&&n(t,i(t),e)}},85990:function(e,t,r){var n=r(46384),i=r(77412),o=r(34865),a=r(44037),s=r(63886),c=r(64626),u=r(278),l=r(18805),p=r(1911),f=r(58234),d=r(46904),h=r(64160),m=r(43824),g=r(29148),y=r(38517),v=r(1469),b=r(44144),_=r(56688),k=r(86073),w=r(72928),S=r(3674),O=r(81704),I="[object Arguments]",A="[object Function]",T="[object Object]",C={};C[I]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[T]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[A]=C["[object WeakMap]"]=!1,e.exports=function e(t,r,E,P,R,x){var D,N=1&r,L=2&r,M=4&r;if(E&&(D=R?E(t,P,R,x):E(t)),void 0!==D)return D;if(!k(t))return t;var B=v(t);if(B){if(D=m(t),!N)return u(t,D)}else{var F=h(t),G=F==A||"[object GeneratorFunction]"==F;if(b(t))return c(t,N);if(F==T||F==I||G&&!R){if(D=L||G?{}:y(t),!N)return L?p(t,s(D,t)):l(t,a(D,t))}else{if(!C[F])return R?t:{};D=g(t,F,N)}}x||(x=new n);var j=x.get(t);if(j)return j;x.set(t,D),w(t)?t.forEach((function(n){D.add(e(n,r,E,n,t,x))})):_(t)&&t.forEach((function(n,i){D.set(i,e(n,r,E,i,t,x))}));var U=B?void 0:(M?L?d:f:L?O:S)(t);return i(U||t,(function(n,i){U&&(n=t[i=n]),o(D,i,e(n,r,E,i,t,x))})),D}},21078:function(e,t,r){var n=r(62488),i=r(37285);e.exports=function e(t,r,o,a,s){var c=-1,u=t.length;for(o||(o=i),s||(s=[]);++c<u;){var l=t[c];r>0&&o(l)?r>1?e(l,r-1,o,a,s):n(s,l):a||(s[s.length]=l)}return s}},97786:function(e,t,r){var n=r(71811),i=r(69139);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}},68866:function(e,t,r){var n=r(62488),i=r(1469);e.exports=function(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}},25588:function(e,t,r){var n=r(64160),i=r(73921);e.exports=function(e){return i(e)&&"[object Map]"==n(e)}},29221:function(e,t,r){var n=r(64160),i=r(73921);e.exports=function(e){return i(e)&&"[object Set]"==n(e)}},14259:function(e){e.exports=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}},80531:function(e,t,r){var n=r(73377),i=r(29932),o=r(1469),a=r(88089),s=n?n.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r}},57406:function(e,t,r){var n=r(71811),i=r(10928),o=r(40292),a=r(69139);e.exports=function(e,t){return t=n(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},71811:function(e,t,r){var n=r(1469),i=r(15403),o=r(55514),a=r(79833);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:o(a(e))}},57157:function(e,t,r){var n=r(74318);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},93147:function(e){var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},40419:function(e,t,r){var n=r(73377),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},18805:function(e,t,r){var n=r(98363),i=r(99551);e.exports=function(e,t){return n(e,i(e),t)}},1911:function(e,t,r){var n=r(98363),i=r(51442);e.exports=function(e,t){return n(e,i(e),t)}},60696:function(e,t,r){var n=r(68630);e.exports=function(e){return n(e)?void 0:e}},99021:function(e,t,r){var n=r(85564),i=r(45357),o=r(30061);e.exports=function(e){return o(i(e,void 0,n),e+"")}},58234:function(e,t,r){var n=r(68866),i=r(99551),o=r(3674);e.exports=function(e){return n(e,o,i)}},46904:function(e,t,r){var n=r(68866),i=r(51442),o=r(81704);e.exports=function(e){return n(e,o,i)}},99551:function(e,t,r){var n=r(34963),i=r(70479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},51442:function(e,t,r){var n=r(62488),i=r(85924),o=r(99551),a=r(70479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:a;e.exports=s},64160:function(e,t,r){var n=r(18552),i=r(57071),o=r(53818),a=r(58525),s=r(70577),c=r(83954),u=r(80346),l="[object Map]",p="[object Promise]",f="[object Set]",d="[object WeakMap]",h="[object DataView]",m=u(n),g=u(i),y=u(o),v=u(a),b=u(s),_=c;(n&&_(new n(new ArrayBuffer(1)))!=h||i&&_(new i)!=l||o&&_(o.resolve())!=p||a&&_(new a)!=f||s&&_(new s)!=d)&&(_=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case m:return h;case g:return l;case y:return p;case v:return f;case b:return d}return t}),e.exports=_},43824:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},29148:function(e,t,r){var n=r(74318),i=r(57157),o=r(93147),a=r(40419),s=r(77133);e.exports=function(e,t,r){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},37285:function(e,t,r){var n=r(73377),i=r(35694),o=r(1469),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},15403:function(e,t,r){var n=r(1469),i=r(88089),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},24523:function(e,t,r){var n=r(88306);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},40292:function(e,t,r){var n=r(97786),i=r(14259);e.exports=function(e,t){return t.length<2?e:n(e,i(t,0,-1))}},55514:function(e,t,r){var n=r(24523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,r,n,i){t.push(n?i.replace(o,"$1"):r||e)})),t}));e.exports=a},69139:function(e,t,r){var n=r(88089);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},85564:function(e,t,r){var n=r(21078);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},56688:function(e,t,r){var n=r(25588),i=r(7518),o=r(31167),a=o&&o.isMap,s=a?i(a):n;e.exports=s},72928:function(e,t,r){var n=r(29221),i=r(7518),o=r(31167),a=o&&o.isSet,s=a?i(a):n;e.exports=s},10928:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},88306:function(e,t,r){var n=r(83369);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(i.Cache||n),r}i.Cache=n,e.exports=i},57557:function(e,t,r){var n=r(29932),i=r(85990),o=r(57406),a=r(71811),s=r(98363),c=r(60696),u=r(99021),l=r(46904),p=u((function(e,t){var r={};if(null==e)return r;var u=!1;t=n(t,(function(t){return t=a(t,e),u||(u=t.length>1),t})),s(e,l(e),r),u&&(r=i(r,7,c));for(var p=t.length;p--;)o(r,t[p]);return r}));e.exports=p},70479:function(e){e.exports=function(){return[]}},79833:function(e,t,r){var n=r(80531);e.exports=function(e){return null==e?"":n(e)}},75:function(e,t,r){var n=r(72669);(function(){var t,r,i,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=n&&n.hrtime?(e.exports=function(){return(t()-a)/1e6},r=n.hrtime,o=(t=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*n.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)},54087:function(e,t,r){for(var n=r(75),i="undefined"==typeof window?r.g:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],c=i["cancel"+a]||i["cancelRequest"+a],u=0;!s&&u<o.length;u++)s=i[o[u]+"Request"+a],c=i[o[u]+"Cancel"+a]||i[o[u]+"CancelRequest"+a];if(!s||!c){var l=0,p=0,f=[];s=function(e){if(0===f.length){var t=n(),r=Math.max(0,16.666666666666668-(t-l));l=r+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(r))}return f.push({handle:++p,callback:e,cancelled:!1}),p},c=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){c.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=c}},73700:function(e,t,r){var n;!function(){var i="undefined"!=typeof window&&window===this?this:void 0!==r.g&&null!=r.g?r.g:this,o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)};function a(){a=function(){},i.Symbol||(i.Symbol=c)}var s=0;function c(e){return"jscomp_symbol_"+(e||"")+s++}function u(){a();var e=i.Symbol.iterator;e||(e=i.Symbol.iterator=i.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&o(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return l(this)}}),u=function(){}}function l(e){var t=0;return function(e){return u(),(e={next:e})[i.Symbol.iterator]=function(){return this},e}((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))}function p(e){u();var t=e[Symbol.iterator];return t?t.call(e):l(e)}function f(e){if(!(e instanceof Array)){e=p(e);for(var t,r=[];!(t=e.next()).done;)r.push(t.value);e=r}return e}var d=0;var h="img script iframe link audio video source".split(" ");function m(e,t){for(var r=(e=p(e)).next();!r.done;r=e.next())if(r=r.value,t.includes(r.nodeName.toLowerCase())||m(r.children,t))return!0;return!1}function g(e,t){if(2<e.length)return performance.now();for(var r=[],n=(t=p(t)).next();!n.done;n=t.next())n=n.value,r.push({timestamp:n.start,type:"requestStart"}),r.push({timestamp:n.end,type:"requestEnd"});for(n=(t=p(e)).next();!n.done;n=t.next())r.push({timestamp:n.value,type:"requestStart"});for(r.sort((function(e,t){return e.timestamp-t.timestamp})),e=e.length,t=r.length-1;0<=t;t--)switch(n=r[t],n.type){case"requestStart":e--;break;case"requestEnd":if(2<++e)return n.timestamp;break;default:throw Error("Internal Error: This should never happen")}return 0}function y(e){e=e||{},this.w=!!e.useMutationObserver,this.u=e.minValue||null,e=window.__tti&&window.__tti.e;var t=window.__tti&&window.__tti.o;this.a=e?e.map((function(e){return{start:e.startTime,end:e.startTime+e.duration}})):[],t&&t.disconnect(),this.b=[],this.f=new Map,this.j=null,this.v=-1/0,this.i=!1,this.h=this.c=this.s=null,function(e,t){var r=XMLHttpRequest.prototype.send,n=d++;XMLHttpRequest.prototype.send=function(i){for(var o=[],a=0;a<arguments.length;++a)o[a-0]=arguments[a];var s=this;return e(n),this.addEventListener("readystatechange",(function(){4===s.readyState&&t(n)})),r.apply(this,o)}}(this.m.bind(this),this.l.bind(this)),function(e,t){var r=fetch;fetch=function(n){for(var i=[],o=0;o<arguments.length;++o)i[o-0]=arguments[o];return new Promise((function(n,o){var a=d++;e(a),r.apply(null,[].concat(f(i))).then((function(e){t(a),n(e)}),(function(e){t(e),o(e)}))}))}}(this.m.bind(this),this.l.bind(this)),function(e){e.c=new PerformanceObserver((function(t){for(var r=(t=p(t.getEntries())).next();!r.done;r=t.next())if("resource"===(r=r.value).entryType&&(e.b.push({start:r.fetchStart,end:r.responseEnd}),b(e,g(e.g,e.b)+5e3)),"longtask"===r.entryType){var n=r.startTime+r.duration;e.a.push({start:r.startTime,end:n}),b(e,n+5e3)}})),e.c.observe({entryTypes:["longtask","resource"]})}(this),this.w&&(this.h=function(e){var t=new MutationObserver((function(t){for(var r=(t=p(t)).next();!r.done;r=t.next())("childList"==(r=r.value).type&&m(r.addedNodes,h)||"attributes"==r.type&&h.includes(r.target.tagName.toLowerCase()))&&e(r)}));return t.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),t}(this.B.bind(this)))}function v(e){e.i=!0;var t=0<e.a.length?e.a[e.a.length-1].end:0,r=g(e.g,e.b);b(e,Math.max(r+5e3,t))}function b(e,t){!e.i||e.v>t||(clearTimeout(e.j),e.j=setTimeout((function(){var t=performance.timing.navigationStart,r=g(e.g,e.b);t=(window.a&&window.a.A?1e3*window.a.A().C-t:0)||performance.timing.domContentLoadedEventEnd-t;if(e.u)var n=e.u;else performance.timing.domContentLoadedEventEnd?n=(n=performance.timing).domContentLoadedEventEnd-n.navigationStart:n=null;var i=performance.now();null===n&&b(e,Math.max(r+5e3,i+1e3));var o=e.a;5e3>i-r?r=null:r=5e3>i-(r=o.length?o[o.length-1].end:t)?null:Math.max(r,n),r&&(e.s(r),clearTimeout(e.j),e.i=!1,e.c&&e.c.disconnect(),e.h&&e.h.disconnect()),b(e,performance.now()+1e3)}),t-performance.now()),e.v=t)}y.prototype.getFirstConsistentlyInteractive=function(){var e=this;return new Promise((function(t){e.s=t,"complete"==document.readyState?v(e):window.addEventListener("load",(function(){v(e)}))}))},y.prototype.m=function(e){this.f.set(e,performance.now())},y.prototype.l=function(e){this.f.delete(e)},y.prototype.B=function(){b(this,performance.now()+5e3)},i.Object.defineProperties(y.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(f(this.f.values()))}}});var _={getFirstConsistentlyInteractive:function(e){return e=e||{},"PerformanceLongTaskTiming"in window?new y(e).getFirstConsistentlyInteractive():Promise.resolve(null)}};e.exports?e.exports=_:void 0===(n=function(){return _}.apply(t,[]))||(e.exports=n)}()},88089:function(e,t,r){e.exports=r(99816)("/9aa")},52745:function(e,t,r){e.exports=r(99816)("1ABj")},68123:function(e,t,r){e.exports=r(83589)("2mql")},55641:function(e,t,r){e.exports=r(99816)("6uy4")},19878:function(e,t,r){e.exports=r(83589)("KFxo")},69435:function(e,t,r){e.exports=r(99816)("MyPv")},43748:function(e,t,r){e.exports=r(99816)("O7Vp")},71831:function(e,t,r){e.exports=r(99816)("PJYZ")},52725:function(e,t,r){e.exports=r(99816)("Q8e5")},94255:function(e,t,r){e.exports=r(99816)("QILm")},54483:function(e,t,r){e.exports=r(99816)("TSYQ")},71988:function(e,t,r){e.exports=r(99816)("U+yc")},25367:function(e,t,r){e.exports=r(99816)("Wr5T")},41197:function(e,t,r){e.exports=r(83589)("g5zU")},36050:function(e,t,r){e.exports=r(99816)("jWx1")},73377:function(e,t,r){e.exports=r(99816)("nmnc")},80819:function(e,t,r){e.exports=r(99816)("yG8O")}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-promote/js/../js/duoduo_sprite-98062dae0a7ecdd0cfa.js.map