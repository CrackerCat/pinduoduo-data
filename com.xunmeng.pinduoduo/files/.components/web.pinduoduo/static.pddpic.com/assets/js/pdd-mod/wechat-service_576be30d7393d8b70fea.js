(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"Hwvr":function(e,n,i){var t,o,a=i("lSNA");o=window,void 0===(t=function(){return function(e,n){if(!e.jWeixin){var i,t,o={"config":"preVerifyJSAPI","onMenuShareTimeline":"menu:share:timeline","onMenuShareAppMessage":"menu:share:appmessage","onMenuShareQQ":"menu:share:qq","onMenuShareWeibo":"menu:share:weiboApp","onMenuShareQZone":"menu:share:QZone","previewImage":"imagePreview","getLocation":"geoLocation","openProductSpecificView":"openProductViewWithPid","addCard":"batchAddCard","openCard":"batchViewCard","chooseWXPay":"getBrandWCPayRequest","openEnterpriseRedPacket":"getRecevieBizHongBaoRequest","startSearchBeacons":"startMonitoringBeacons","stopSearchBeacons":"stopMonitoringBeacons","onSearchBeacons":"onBeaconsInRange","consumeAndShareCard":"consumedShareCard","openAddress":"editAddress"},r=function(){var e={};for(var n in o)e[o[n]]=n;return e}(),c=e.document,s=c.title,d=navigator.userAgent.toLowerCase(),u=navigator.platform.toLowerCase(),p=!(!u.match("mac")&&!u.match("win")),l=-1!=d.indexOf("wxdebugger"),m=-1!=d.indexOf("micromessenger"),f=-1!=d.indexOf("android"),g=-1!=d.indexOf("iphone")||-1!=d.indexOf("ipad"),h=(t=d.match(/micromessenger\/(\d+\.\d+\.\d+)/)||d.match(/micromessenger\/(\d+\.\d+)/))?t[1]:"",w={"initStartTime":L(),"initEndTime":0,"preVerifyStartTime":0,"preVerifyEndTime":0},S={"version":1,"appId":"","initTime":0,"preVerifyTime":0,"networkType":"","isPreVerifyOk":1,"systemType":g?1:f?2:-1,"clientVersion":h,"url":encodeURIComponent(location.href)},I={},v={"_completes":[]},y={"state":0,"data":{}};O((function(){w.initEndTime=L()}));var k=!1,T=[],_=(a(i={"config":function config(n){B("config",I=n);var i=!1!==I.check;O((function(){if(i)M(o.config,{"verifyJsApiList":C(I.jsApiList),"verifyOpenTagList":C(I.openTagList)},function(){v._complete=function(e){w.preVerifyEndTime=L(),y.state=1,y.data=e},v.success=function(e){S.isPreVerifyOk=0},v.fail=function(e){v._fail?v._fail(e):y.state=-1};var e=v._completes;return e.push((function(){!function(){if(!(p||l||I.debug||h<"6.0.2"||S.systemType<0)){var e=new Image;S.appId=I.appId,S.initTime=w.initEndTime-w.initStartTime,S.preVerifyTime=w.preVerifyEndTime-w.preVerifyStartTime,_.getNetworkType({"isInnerInvoke":!0,"success":function success(n){S.networkType=n.networkType;var i="https://open.weixin.qq.com/sdk/report?v="+S.version+"&o="+S.isPreVerifyOk+"&s="+S.systemType+"&c="+S.clientVersion+"&a="+S.appId+"&n="+S.networkType+"&i="+S.initTime+"&p="+S.preVerifyTime+"&u="+S.url;e.src=i}})}}()})),v.complete=function(n){for(var i=0,t=e.length;i<t;++i)e[i]();v._completes=[]},v}()),w.preVerifyStartTime=L();else{y.state=1;for(var e=v._completes,n=0,t=e.length;n<t;++n)e[n]();v._completes=[]}})),_.invoke||(_.invoke=function(n,i,t){e.WeixinJSBridge&&WeixinJSBridge.invoke(n,x(i),t)},_.on=function(n,i){e.WeixinJSBridge&&WeixinJSBridge.on(n,i)})},"ready":function ready(e){0!=y.state?e():(v._completes.push(e),!m&&I.debug&&e())},"error":function error(e){h<"6.0.2"||(-1==y.state?e(y.data):v._fail=e)},"checkJsApi":function checkJsApi(e){M("checkJsApi",{"jsApiList":C(e.jsApiList)},(e._complete=function(e){if(f){var n=e.checkResult;n&&(e.checkResult=JSON.parse(n))}e=function(e){var n=e.checkResult;for(var i in n){var t=r[i];t&&(n[t]=n[i],delete n[i])}return e}(e)},e))},"onMenuShareTimeline":function onMenuShareTimeline(e){P(o.onMenuShareTimeline,{"complete":function complete(){M("shareTimeline",{"title":e.title||s,"desc":e.title||s,"img_url":e.imgUrl||"","link":e.link||location.href,"type":e.type||"link","data_url":e.dataUrl||""},e)}},e)},"onMenuShareAppMessage":function onMenuShareAppMessage(e){P(o.onMenuShareAppMessage,{"complete":function complete(n){"favorite"===n.scene?M("sendAppMessage",{"title":e.title||s,"desc":e.desc||"","link":e.link||location.href,"img_url":e.imgUrl||"","type":e.type||"link","data_url":e.dataUrl||""}):M("sendAppMessage",{"title":e.title||s,"desc":e.desc||"","link":e.link||location.href,"img_url":e.imgUrl||"","type":e.type||"link","data_url":e.dataUrl||""},e)}},e)},"onMenuShareQQ":function onMenuShareQQ(e){P(o.onMenuShareQQ,{"complete":function complete(){M("shareQQ",{"title":e.title||s,"desc":e.desc||"","img_url":e.imgUrl||"","link":e.link||location.href},e)}},e)},"onMenuShareWeibo":function onMenuShareWeibo(e){P(o.onMenuShareWeibo,{"complete":function complete(){M("shareWeiboApp",{"title":e.title||s,"desc":e.desc||"","img_url":e.imgUrl||"","link":e.link||location.href},e)}},e)},"onMenuShareQZone":function onMenuShareQZone(e){P(o.onMenuShareQZone,{"complete":function complete(){M("shareQZone",{"title":e.title||s,"desc":e.desc||"","img_url":e.imgUrl||"","link":e.link||location.href},e)}},e)},"updateTimelineShareData":function updateTimelineShareData(e){M("updateTimelineShareData",{"title":e.title,"link":e.link,"imgUrl":e.imgUrl},e)},"updateAppMessageShareData":function updateAppMessageShareData(e){M("updateAppMessageShareData",{"title":e.title,"desc":e.desc,"link":e.link,"imgUrl":e.imgUrl},e)},"startRecord":function startRecord(e){M("startRecord",{},e)},"stopRecord":function stopRecord(e){M("stopRecord",{},e)},"onVoiceRecordEnd":function onVoiceRecordEnd(e){P("onVoiceRecordEnd",e)},"playVoice":function playVoice(e){M("playVoice",{"localId":e.localId},e)},"pauseVoice":function pauseVoice(e){M("pauseVoice",{"localId":e.localId},e)},"stopVoice":function stopVoice(e){M("stopVoice",{"localId":e.localId},e)},"onVoicePlayEnd":function onVoicePlayEnd(e){P("onVoicePlayEnd",e)},"uploadVoice":function uploadVoice(e){M("uploadVoice",{"localId":e.localId,"isShowProgressTips":0==e.isShowProgressTips?0:1},e)},"downloadVoice":function downloadVoice(e){M("downloadVoice",{"serverId":e.serverId,"isShowProgressTips":0==e.isShowProgressTips?0:1},e)},"translateVoice":function translateVoice(e){M("translateVoice",{"localId":e.localId,"isShowProgressTips":0==e.isShowProgressTips?0:1},e)},"chooseImage":function chooseImage(e){M("chooseImage",{"scene":"1|2","count":e.count||9,"sizeType":e.sizeType||["original","compressed"],"sourceType":e.sourceType||["album","camera"]},(e._complete=function(e){if(f){var n=e.localIds;try{n&&(e.localIds=JSON.parse(n))}catch(e){}}},e))},"getLocation":function getLocation(e){},"previewImage":function previewImage(e){M(o.previewImage,{"current":e.current,"urls":e.urls},e)},"uploadImage":function uploadImage(e){M("uploadImage",{"localId":e.localId,"isShowProgressTips":0==e.isShowProgressTips?0:1},e)},"downloadImage":function downloadImage(e){M("downloadImage",{"serverId":e.serverId,"isShowProgressTips":0==e.isShowProgressTips?0:1},e)},"getLocalImgData":function getLocalImgData(e){!1===k?(k=!0,M("getLocalImgData",{"localId":e.localId},(e._complete=function(e){if(k=!1,0<T.length){var n=T.shift();wx.getLocalImgData(n)}},e))):T.push(e)},"getNetworkType":function getNetworkType(e){M("getNetworkType",{},(e._complete=function(e){e=function(e){var n=e.errMsg;e.errMsg="getNetworkType:ok";var i=e.subtype;if(delete e.subtype,i)e.networkType=i;else{var t=n.indexOf(":"),o=n.substring(t+1);switch(o){case"wifi":case"edge":case"wwan":e.networkType=o;break;default:e.errMsg="getNetworkType:fail"}}return e}(e)},e))},"openLocation":function openLocation(e){M("openLocation",{"latitude":e.latitude,"longitude":e.longitude,"name":e.name||"","address":e.address||"","scale":e.scale||28,"infoUrl":e.infoUrl||""},e)}},"getLocation",(function getLocation(e){M(o.getLocation,{"type":(e=e||{}).type||"wgs84"},(e._complete=function(e){delete e.type},e))})),a(i,"hideOptionMenu",(function hideOptionMenu(e){M("hideOptionMenu",{},e)})),a(i,"showOptionMenu",(function showOptionMenu(e){M("showOptionMenu",{},e)})),a(i,"closeWindow",(function closeWindow(e){M("closeWindow",{},e=e||{})})),a(i,"hideMenuItems",(function hideMenuItems(e){M("hideMenuItems",{"menuList":e.menuList},e)})),a(i,"showMenuItems",(function showMenuItems(e){M("showMenuItems",{"menuList":e.menuList},e)})),a(i,"hideAllNonBaseMenuItem",(function hideAllNonBaseMenuItem(e){M("hideAllNonBaseMenuItem",{},e)})),a(i,"showAllNonBaseMenuItem",(function showAllNonBaseMenuItem(e){M("showAllNonBaseMenuItem",{},e)})),a(i,"scanQRCode",(function scanQRCode(e){M("scanQRCode",{"needResult":(e=e||{}).needResult||0,"scanType":e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(g){var n=e.resultStr;if(n){var i=JSON.parse(n);e.resultStr=i&&i.scan_code&&i.scan_code.scan_result}}},e))})),a(i,"openAddress",(function openAddress(e){M(o.openAddress,{},(e._complete=function(e){e=function(e){return e.postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo,e}(e)},e))})),a(i,"openProductSpecificView",(function openProductSpecificView(e){M(o.openProductSpecificView,{"pid":e.productId,"view_type":e.viewType||0,"ext_info":e.extInfo},e)})),a(i,"addCard",(function addCard(e){for(var n=e.cardList,i=[],t=0,a=n.length;t<a;++t){var r=n[t],c={"card_id":r.cardId,"card_ext":r.cardExt};i.push(c)}M(o.addCard,{"card_list":i},(e._complete=function(e){var n=e.card_list;if(n){for(var i=0,t=(n=JSON.parse(n)).length;i<t;++i){var o=n[i];o.cardId=o.card_id,o.cardExt=o.card_ext,o.isSuccess=!!o.is_succ,delete o.card_id,delete o.card_ext,delete o.is_succ}e.cardList=n,delete e.card_list}},e))})),a(i,"chooseCard",(function chooseCard(e){M("chooseCard",{"app_id":I.appId,"location_id":e.shopId||"","sign_type":e.signType||"SHA1","card_id":e.cardId||"","card_type":e.cardType||"","card_sign":e.cardSign,"time_stamp":e.timestamp+"","nonce_str":e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))})),a(i,"openCard",(function openCard(e){for(var n=e.cardList,i=[],t=0,a=n.length;t<a;++t){var r=n[t],c={"card_id":r.cardId,"code":r.code};i.push(c)}M(o.openCard,{"card_list":i},e)})),a(i,"consumeAndShareCard",(function consumeAndShareCard(e){M(o.consumeAndShareCard,{"consumedCardId":e.cardId,"consumedCode":e.code},e)})),a(i,"chooseWXPay",(function chooseWXPay(e){M(o.chooseWXPay,V(e),e)})),a(i,"openEnterpriseRedPacket",(function openEnterpriseRedPacket(e){M(o.openEnterpriseRedPacket,V(e),e)})),a(i,"startSearchBeacons",(function startSearchBeacons(e){M(o.startSearchBeacons,{"ticket":e.ticket},e)})),a(i,"stopSearchBeacons",(function stopSearchBeacons(e){M(o.stopSearchBeacons,{},e)})),a(i,"onSearchBeacons",(function onSearchBeacons(e){P(o.onSearchBeacons,e)})),a(i,"openEnterpriseChat",(function openEnterpriseChat(e){M("openEnterpriseChat",{"useridlist":e.userIds,"chatname":e.groupName},e)})),a(i,"launchMiniProgram",(function launchMiniProgram(e){M("launchMiniProgram",{"targetAppId":e.targetAppId,"path":function(e){if("string"==typeof e&&0<e.length){var n=e.split("?")[0],i=e.split("?")[1];return n+=".html",void 0!==i?n+"?"+i:n}}(e.path),"envVersion":e.envVersion},e)})),a(i,"openBusinessView",(function openBusinessView(e){M("openBusinessView",{"businessType":e.businessType,"queryString":e.queryString||"","envVersion":e.envVersion},(e._complete=function(e){if(f){var n=e.extraData;if(n)try{e.extraData=JSON.parse(n)}catch(n){e.extraData={}}}},e))})),a(i,"miniProgram",{"navigateBack":function navigateBack(e){e=e||{},O((function(){M("invokeMiniProgramAPI",{"name":"navigateBack","arg":{"delta":e.delta||1}},e)}))},"navigateTo":function navigateTo(e){O((function(){M("invokeMiniProgramAPI",{"name":"navigateTo","arg":{"url":e.url}},e)}))},"redirectTo":function redirectTo(e){O((function(){M("invokeMiniProgramAPI",{"name":"redirectTo","arg":{"url":e.url}},e)}))},"switchTab":function switchTab(e){O((function(){M("invokeMiniProgramAPI",{"name":"switchTab","arg":{"url":e.url}},e)}))},"reLaunch":function reLaunch(e){O((function(){M("invokeMiniProgramAPI",{"name":"reLaunch","arg":{"url":e.url}},e)}))},"postMessage":function postMessage(e){O((function(){M("invokeMiniProgramAPI",{"name":"postMessage","arg":e.data||{}},e)}))},"getEnv":function getEnv(n){O((function(){n({"miniprogram":"miniprogram"===e.__wxjs_environment})}))}}),i),b=1,R={};return c.addEventListener("error",(function(e){if(!f){var n=e.target,i=n.tagName,t=n.src;if(("IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i)&&-1!=t.indexOf("wxlocalresource://")){e.preventDefault(),e.stopPropagation();var o=n["wx-id"];if(o||(o=b++,n["wx-id"]=o),R[o])return;R[o]=!0,wx.ready((function(){wx.getLocalImgData({"localId":t,"success":function success(e){n.src=e.localData}})}))}}}),!0),c.addEventListener("load",(function(e){if(!f){var n=e.target,i=n.tagName;if(n.src,"IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i){var t=n["wx-id"];t&&(R[t]=!1)}}}),!0),_&&(e.wx=e.jWeixin=_),_}function M(n,i,t){e.WeixinJSBridge?WeixinJSBridge.invoke(n,x(i),(function(e){A(n,e,t)})):B(n,t)}function P(n,i,t){e.WeixinJSBridge?WeixinJSBridge.on(n,(function(e){t&&t.trigger&&t.trigger(e),A(n,e,i)})):B(n,t||i)}function x(e){return(e=e||{}).appId=I.appId,e.verifyAppId=I.appId,e.verifySignType="sha1",e.verifyTimestamp=I.timestamp+"",e.verifyNonceStr=I.nonceStr,e.verifySignature=I.signature,e}function V(e){return{"timeStamp":e.timestamp+"","nonceStr":e.nonceStr,"package":e.package,"paySign":e.paySign,"signType":e.signType||"SHA1"}}function A(e,n,i){"openEnterpriseChat"!=e&&"openBusinessView"!==e||(n.errCode=n.err_code),delete n.err_code,delete n.err_desc,delete n.err_detail;var t=n.errMsg;t||(t=n.err_msg,delete n.err_msg,t=function(e,n){var i=e,t=r[i];t&&(i=t);var o="ok";if(n){var a=n.indexOf(":");"confirm"==(o=n.substring(a+1))&&(o="ok"),"failed"==o&&(o="fail"),-1!=o.indexOf("failed_")&&(o=o.substring(7)),-1!=o.indexOf("fail_")&&(o=o.substring(5)),"access denied"!=(o=(o=o.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=o||(o="permission denied"),"config"==i&&"function not exist"==o&&(o="ok"),""==o&&(o="fail")}return i+":"+o}(e,t),n.errMsg=t),(i=i||{})._complete&&(i._complete(n),delete i._complete),t=n.errMsg||"",I.debug&&!i.isInnerInvoke&&alert(JSON.stringify(n));var o=t.indexOf(":");switch(t.substring(o+1)){case"ok":i.success&&i.success(n);break;case"cancel":i.cancel&&i.cancel(n);break;default:i.fail&&i.fail(n)}i.complete&&i.complete(n)}function C(e){if(e){for(var n=0,i=e.length;n<i;++n){var t=e[n],a=o[t];a&&(e[n]=a)}return e}}function B(e,n){if(!(!I.debug||n&&n.isInnerInvoke)){var i=r[e];i&&(e=i),n&&n._complete&&delete n._complete,console.log('"'+e+'",',n||"")}}function L(){return(new Date).getTime()}function O(n){m&&(e.WeixinJSBridge?n():c.addEventListener&&c.addEventListener("WeixinJSBridgeReady",n,!1))}}(o)}.call(n,i,n,e))||(e.exports=t)},"PVRb":function(e,n,i){"use strict";i.r(n);var t,o,a=i("o0o1"),r=i.n(a),c=i("HaE+"),s=i("VTBJ"),d=i("Fcpp"),u=i("rePB"),p=["addDownloadTask","queryDownloadTask","installDownloadTask","showMenuItems","hideMenuItems","onMenuShareAppMessage","onMenuShareTimeline","onMenuShareQQ","onMenuShareQZone","onMenuShareWeibo","addCard","openCard","chooseCard","previewImage","editAddress","chooseImage","uploadImage","getLocation","openAddress","getInstallState","launch3rdApp","launchApplication","startRecord","stopRecord","uploadVoice","openBusinessView"],l=["wx-open-launch-app","wx-open-launch-weapp","wx-open-subscribe","wx-open-audio"],m="menuItem:share:appMessage",f="menuItem:share:qq",g="menuItem:share:QZone",h="menuItem:share:timeline",w="menuItem:copyUrl",S=["menuItem:openWithSafari","menuItem:share:email"],I=1,v=2,y=4,k=5,T=(t={},Object(u.a)(t,I,m),Object(u.a)(t,v,h),Object(u.a)(t,y,f),Object(u.a)(t,k,g),t),_=(o={},Object(u.a)(o,I,0),Object(u.a)(o,v,0),Object(u.a)(o,y,0),Object(u.a)(o,k,0),o);i("Hwvr");i.d(n,"initWxConfig",(function(){return initWxConfig}));function initWxConfig(e,n){var i=e.wechatAppID,t=e.timestamp,o=e.nonceStr,a=e.signature,u=e.shareTypeEnable,m=void 0===u?{}:u;return new Promise((function(e){var u=top.wx||window.wx;u.config({"timestamp":t,"signature":a,"nonceStr":o,"debug":!1,"beta":!0,"appId":i,"jsApiList":p,"openTagList":l}),u.ready((function(){var i=function getShareMenuItems(e,n){var i=I,t=v;return e=Object(s.a)(Object(s.a)({},_),e),Object.keys(e).reduce((function(o,a){var r=T[a];if(n&&[i,t].indexOf(+a)<0)r&&o.menuShareItemsToHide.push(r);else{var c=e[a]?o.menuShareItemsToShow:o.menuShareItemsToHide;r&&c.push(r)}return o}),{"menuShareItemsToShow":[],"menuShareItemsToHide":[]})}(m,n.onlyWeChat),t=i.menuShareItemsToShow,o=i.menuShareItemsToHide,a=[],r=S.concat(o);n.disableShare?r=r.concat(t):a=a.concat(t),n.disableCopyUrl&&r.push(w),n.enableBrowserOpen&&r.splice(0,1),u.hideMenuItems({"menuList":r}),u.showMenuItems({"menuList":a}),window.wxReady||Object.defineProperty(window,"wxReady",{"get":function get(){return console.warn("window.wxReady 即将废弃，使用方尽快解除依赖"),!0}}),e()})),u.error((function(e){d.a.trackingRecord({"op":"real_error","error_type":"wx_config_error","error_message":JSON.stringify(e),"page_url":location.href,"payload":{"signature":a}})})),function initAppInstallState(){window.wx.ready(Object(c.a)(r.a.mark((function _callee(){var e,n;return r.a.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,getAppInstallState();case 2:e=i.sent,n=e.wxCheckPdd,+localStorage.getItem("WxCheckPdd")!==n&&d.a.trackingRecord({"op":"event","sub_op":"app_check","uninstall_status":n}),localStorage.setItem("WxCheckPdd",""+n);case 7:case"end":return i.stop()}}),_callee)}))))}()}))}function getAppInstallState(){return window.WeixinJSBridge&&window.WeixinJSBridge.invoke?new Promise((function(e){window.WeixinJSBridge.invoke("getInstallState",{"packageName":"com.xunmeng.pinduoduo","packageUrl":"pinduoduo://"},(function(n){var i=n.err_msg,t=void 0===i?"":i,o=n.versionName,a=void 0===o?"":o,r=/get_install_state:yes/.test(t),c=/get_install_state:no/.test(t);e({"version":a,"wxCheckPdd":r?1:c?0:2})}))})):Promise.resolve({"version":"","wxCheckPdd":2})}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-farm/js/pdd-mod/wechat-service_576be30d7393d8b70fea.js.map