(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[25],{YYoc:function(e,a,t){"use strict";t.r(a);var r=t("cDf5"),n=t.n(r),i=t("lwsE"),o=t.n(i),s=t("W8MJ"),h=t.n(s),u=t("a1gu"),c=t.n(u),p=t("Nsbk"),_=t.n(p),l=t("7W2i"),S=t.n(l),m=t("dKgK"),f=t("a/1V"),y=t("chhR"),E=t("EECB"),P=t("o0o1"),g=t.n(P),A=t("yXPU"),O=t.n(A),w=t("YSLc"),b=t("W9H9"),C=t("gfNA"),d=t("bbLm"),v=function(e){function a(e){var t;return o()(this,a),(t=c()(this,_()(a).call(this,e))).wxAppRequestPayload=e.wxAppRequestPayload,t.miniObjectPath=e.miniObjectPath,t.shortCommandApi=e.shortCommandApi,t.wxAppNavigatePayload=e.wxAppNavigatePayload,t}return S()(a,e),h()(a,[{key:"normalize",value:function(){var e=O()(g.a.mark(function e(a){var t,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a!==f.a.COPY_CIPHER){e.next=2;break}return e.abrupt("return",this.processCipher());case 2:if(t=Object.assign({},this),(r=t.miniObjectPath)&&"string"==typeof r)r=Object(d.a)(t);else if("function"==typeof r)try{"string"!=typeof(r=r(t.shareURL))&&(r=null)}catch(e){}return e.abrupt("return",Promise.resolve(Object.assign({},t.wxAppNavigatePayload,{title:t.title,thumbnail:t.thumbnailURL,share_url:r||Object(d.c)(t.shareURL)})));case 6:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()},{key:"getShareForm",value:function(e){return e===f.a.COPY_CIPHER?b.a.COMMAND:b.a.WXAPP_CARD}},{key:"getShareMethod",value:function(e){return e===f.a.COPY_CIPHER?w.a.MANUAL:w.a.SDK}}]),a}(C.a),R=t("/bZk"),T=t("8l/m"),N=t("mj+i"),x=R.b.ShareErrorCode,D=[f.a.WECHAT_SESSION,f.a.COPY_CIPHER],H=function(e){function a(e){var t;return o()(this,a),(t=c()(this,_()(a).call(this,e))).ShareEntityClass=v,t._enableShareTypes=D.concat(),t}return S()(a,e),h()(a,[{key:"share",value:function(e){return this._enableShareTypes.indexOf(e)<0?x.SHARE_TYPE_DISABLED:f.a.COPY_CIPHER===e?this.copyCipher():this.getShareEntityByShareType(e)?this._shareByNavigate():x.SHARE_PARAMS_NOT_VALID}},{key:"_shareByNavigate",value:function(){var e=this;if(!window.wx||!window.wx.miniProgram||"function"!=typeof window.wx.miniProgram.navigateTo)return x.SHARE_NOT_SUPPORTED;var a=f.a.WECHAT_SESSION,t=this.getShareEntityByShareType(a);return this.emit(y.a.ON_SHARE_TRIGGER,{shareType:a}),t.normalize(a).then(function(t){window.wx.miniProgram.navigateTo({url:"".concat("/pages/web_share/web_share?").concat(Object(N.b)(Object.assign({page_sn:Object(T.c)()+"",page_name:Object(T.b)(),page_id:Object(T.a)()},t)))}),e.emit(y.a.ON_SHARE_COMPLETED,{shareType:a,shareResultType:E.a.SUCCESS})},this.getNormalizeErrorHandler(a)),0}},{key:"refreshWxAppChannelShare",value:function(e){return this._setupPlatformShareSDK()}},{key:"notifyWxAppShareComplete",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.a.SUCCESS;this.emit(y.a.ON_SHARE_COMPLETED,{shareType:e,shareResultType:a}),this.refreshWxAppChannelShare(e)}},{key:"_setupPlatformShareSDK",value:function(){var e=this;return"object"!==("undefined"==typeof wx?"undefined":n()(wx))||"object"!==n()(window.wx.miniProgram)||"function"!=typeof window.wx.miniProgram.postMessage?(this.emit(y.a.SDK_INIT_FAILED),Promise.resolve()):Promise.all([f.a.WECHAT_SESSION].map(function(a){var t=e.getShareEntityByShareType(a);return t?(e.emit(y.a.ON_SHARE_PREPARE,{shareType:a}),t.normalize(a).then(function(e){try{window.wx.miniProgram.postMessage({data:{message_type:"share",share_info:e,page_info:{page_sn:Object(T.c)()+"",page_name:Object(T.b)(),page_id:Object(T.a)()}}})}catch(e){}},e.getNormalizeErrorHandler(a))):Promise.resolve()}))}}]),a}(m.a);a.default=H}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-eve-spike/js/ms_wx_app_c_5ec3dedc61c43d26c29d.js.map