(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[68],{A7Cm:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3SNK4gd5{display:none;z-index:-1}._3mKWe8rG{width:1.4rem!important;height:1.4rem;background:rgba(0,0,0,.8)!important;border-radius:.08rem;color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-family:PingFangSC-Medium,PingFang SC,PingFangSC-Regular,STHeiti STXihei,Microsoft YaHei,Microsoft JhengHei,miui;font-weight:700;font-weight:500;font-size:.14rem}._3mKWe8rG img{width:.64rem;height:.64rem;margin-top:.16rem;margin-bottom:.08rem}._35RQ5UUI{text-align:center}",""]),t.locals={mask:"_3SNK4gd5",root:"_3mKWe8rG",text:"_35RQ5UUI"}},GWpJ:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=n("TyAF"),c=n("Wgwc"),a=n.n(c),s=n("O2NP"),l=n("yo/L"),u=n("PlGL"),f=n("mFSr"),m=n("HIPb"),g=n("Risg"),b=n("di7h"),d=n.n(b),p=function(e){var t=e.scan_sec,n=void 0===t?g.f:t,o=e.mission,c=e.closeSignInDialog;Object(m.a)(d.a);return Object(r.useEffect)((function(){var e=setTimeout((function(){c()}),4e3);return function(){e&&clearTimeout(e)}}),[]),i.a.createElement(u.a,{className:d.a.root,BackdropProps:{className:d.a.mask}},i.a.createElement(f.a,{src:"https://promotion.pddpic.com/mobile_live/4907eb2e-a4bf-4f7d-91f8-997242125b14.png.slim.png"}),(null==o?void 0:o.status)===g.e.DONE?i.a.createElement("div",{className:d.a.text},"恭喜获得现金红包",i.a.createElement("br",null),"去“签到页面”领取"):i.a.createElement("div",{className:d.a.text},"浏览直播间",n,"s",i.a.createElement("br",null),"可得“现金红包”"))},O=Object(r.memo)(p),S=n("lSNA"),v=n.n(S),_=n("yXPU"),w=n.n(_),j=n("J4zp"),h=n.n(j),y=n("o0o1"),D=n.n(y),E=n("Vpw8");function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=Object(E.a)(o.observer)((function(){var e=Object(s.k)().store,t=Object(r.useState)(null),n=h()(t,2),i=n[0],o=n[1],c=Object(r.useState)(0),a=h()(c,2),u=a[0],f=a[1],m=e.query,b=e.activityPopStore,d=(m||{}).list_id,p=void 0===d?"":d,O=b.signInMissionData,S=b.setValue,_=b.showSignInDialog,j=b.completeSignInBrowserMission,y=O||{},E=y.scan_sec,I=y.sign_in_mission_map,k=(null==I?void 0:I[g.d.Browse])||{},P=function(){var e=w()(D.a.mark((function e(){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null==k?void 0:k.status)===g.e.CANDO){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,j();case 4:t=e.sent,n=x(x({},I),{},v()({},g.d.Browse,x(x({},k),{},{status:g.e.DONE}))),S({signInMissionData:x(x({},O),{},{sign_in_mission_map:n})}),console.log("isBrowseSuccess:",t),t&&_(),Object(l.f)(g.c,null);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=Object(r.useCallback)((function(e){var t=e.stateSeconds,n=e.storeSeconds,r=e.storageSeconds;void 0!==t&&f(t),void 0!==n&&S({signInWatchCountDown:n}),void 0!==r&&Object(l.f)(g.c,r)}),[S]);return Object(r.useEffect)((function(){(function(){var e=w()(D.a.mark((function e(){var t,n,r,i,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(Object(l.c)(g.c)||"").split(g.g),n=h()(t,2),r=n[0],i=n[1],c=void 0===i?0:i,N(r&&p===r?{stateSeconds:+c,storeSeconds:E-c}:{storeSeconds:E,storageSeconds:"".concat(p).concat(g.g).concat(u)}),o(1e3);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(s.d)((function(){var e=u+1;N({stateSeconds:e,storeSeconds:E-e,storageSeconds:"".concat(p).concat(g.g).concat(e)}),e>=E&&(o(null),P())}),i),null})),P=n("rNYS"),N=n("ZuUz");t.default=Object(o.observer)((function(){var e=Object(s.k)().store.activityPopStore,t=e.updateIconDisplayConfig,n=e.signInMissionData,o=e.showSignInDialog,c=e.closeSignInDialog,u=e.isRealShowSignInDialog,f=n.sign_in_mission_map,m=n.scan_sec,b=Object(P.a)(f),d=(null==b?void 0:b.mission_id)===g.d.Browse,p=null==f?void 0:f[g.d.Browse];Object(r.useEffect)((function(){var e;b&&(d&&(e=Object(l.c)(g.b)||0,a()().isSame(a()(e),"day")||(o(),Object(l.f)(g.b,+new Date))),t(N.c.SIGN_IN_MISSION,!0))}),[]);var S={mission:p,closeSignInDialog:c,scan_sec:m};return i.a.createElement(i.a.Fragment,null,u&&i.a.createElement(O,S),d&&i.a.createElement(k,null))}))},di7h:function(e,t,n){var r=n("A7Cm"),i=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return i(o,e)}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_RightActivities_SignInMission_c0246ce8b66fc586c88a.js.map