(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[28],{C02A:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3jgnauty{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;position:relative}._3jgnauty ._2piiCKk3,._3jgnauty .dvCjxVJp{width:.7rem}._2vbyp_Vw{position:absolute;top:.29rem;width:.65rem;height:.11rem;border-radius:.14rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#fff;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}._12JOcRRx,.G02v0VUh{position:absolute;color:#fff;font-family:PingFangSC-Medium,PingFang SC,PingFangSC-Regular,STHeiti STXihei,Microsoft YaHei,Microsoft JhengHei,miui;font-weight:700;font-weight:500;text-align:center}.G02v0VUh{bottom:.05rem;font-size:.1rem}.G02v0VUh i{font-size:.14rem;color:#ffec84}._12JOcRRx{bottom:.06rem;font-size:.14rem}",""]),t.locals={entrance:"_3jgnauty",img:"dvCjxVJp",buyImg:"_2piiCKk3",rewardText:"_2vbyp_Vw",countDownText:"G02v0VUh",buyText:"_12JOcRRx"}},Hggz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return c}));var i={BrowseGuide:1,BrowseRewardWithBuyGuide:2,BuyGuide:3},o="LiveOuterTask_SpiritMessengerBrowserCompleteKey",r="LiveOuterTask_SpiritMessengerBuyCompleteKey",c="LiveOuterTask_SpiritMessengerBuyBeforeBrowserKey"},OBJF:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=["个","万","亿","兆","垓"];if(!/^(([1-9][0-9]*)|0)$/.test(e))return console.warn("字符串传参不标准，返回为空字符串"),{value:"",unit:"",valueStr:"",takeUnitStr:""};var i=""+e,o=Math.floor((i.length-1)/4),r=o<n.length?o:n.length-1,c=i.length-4*r,a=i.slice(0,c),s=i.slice(c,c+t),u=n[r]||n[n.length-1],l=0===r?a:a+"."+s;return l+(0===r?"":u)}},eQJp:function(e,t,n){"use strict";var i=n("yXPU"),o=n.n(i),r=n("J4zp"),c=n.n(r),a=n("o0o1"),s=n.n(a),u=n("q1tI"),l=n("TyAF"),d=n("Vpw8"),p=n("O2NP"),b=n("yo/L"),f=n("hA9s"),m=function(e){var t=e.bizKey,n=e.completeSeconds,i=e.onComplete,r=e.onUpdateSeconds,a="LiveOuterTaskWatchedSeconds_"+t,l=(Object(p.k)().store.query||{}).list_id,d=void 0===l?"":l,m=Object(u.useState)(0),v=c()(m,2),O=v[0],_=v[1],g=Object(u.useState)(null),y=c()(g,2),w=y[0],j=y[1],h=function(e){_(e||0),r(e||0)};return Object(u.useEffect)((function(){if(t)(function(){var e=o()(s.a.mark((function e(){var t,n,i,o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(Object(b.c)(a)||"").split("$__split__$"),n=c()(t,2),i=n[0],o=n[1],r=void 0===o?0:o,i&&d===i&&h(parseInt(r)||0),j(1e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();else if(f.b)throw new Error("BrowseCountdown的bizKey不能为空！")}),[]),Object(p.d)((function(){var e=O+1;Object(b.f)(a,"".concat(d).concat("$__split__$").concat(e)),h(e),e>=n&&(j(null),i(),Object(b.a)(a))}),w),null};m.defaultProps={completeSeconds:31536e3,onComplete:function(){},onUpdateSeconds:function(){}},t.a=Object(d.a)(l.observer)(m)},mCmQ:function(e,t,n){var i=n("C02A"),o=n("Q8e5"),r="string"==typeof i?[[e.i,i,""]]:i;(t=e.exports=i.locals||{})._getContent=function(){return r},t._getCss=function(){return""+i},t._insertCss=function(e){return o(r,e)}},yUsy:function(e,t,n){"use strict";n.r(t);var i=n("lSNA"),o=n.n(i),r=n("J4zp"),c=n.n(r),a=n("q1tI"),s=n.n(a),u=n("TyAF"),l=n("TSYQ"),d=n.n(l),p=n("O2NP"),b=n("mFSr"),f=n("N4rI"),m=n("HIPb"),v=n("DCTZ"),O=n("kLkQ"),_=n("zRTd"),g=n("/WLQ"),y=n("OBJF"),w=n("FoiV"),j=n("Hggz"),h=n("yXPU"),k=n.n(h),S=n("o0o1"),x=n.n(S),C=n("Vpw8"),T=n("eQJp"),E=Object(C.a)(u.observer)((function(e){var t=Object(p.k)().store,n=t.activityTaskStore,i=t.query,o=n.missionTypeMap,r=n.requestCompleteGenieMission,c=n.refreshPendantInfo,u=n.showSpiritMessengerDialog,l=o[w.d.BROWSE]||{},d=l.completeSeconds,b=l.missionId,f=l.finishCount,m=Object(p.e)(Object(a.useCallback)(k()(x.a.mark((function e(){var t,o,a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(b);case 2:return o=e.sent,a=n.missionTypeMap[w.d.BUY]||{},s=a.status,null!=o&&null!==(t=o.result)&&void 0!==t&&t.finish&&(Object(O.n)(null==i?void 0:i.list_id,j.b),Object(O.k)(null==i?void 0:i.list_id,j.c)&&Object(O.n)(null==i?void 0:i.list_id,j.d),s!==w.c.UNDONE||Object(O.k)(null==i?void 0:i.list_id,j.c)||u(j.a.BrowseRewardWithBuyGuide)),e.next=7,Object(O.o)(1e3);case 7:c();case 8:case"end":return e.stop()}}),e)}))),[])),v={bizKey:"spiritBrowse-".concat(f),completeSeconds:d,onComplete:m,onUpdateSeconds:e.onUpdateSeconds};return s.a.createElement(T.a,v)})),B=n("mCmQ"),N=n.n(B);t.default=Object(u.observer)((function(){var e;Object(m.a)(N.a);var t=Object(a.useState)(0),n=c()(t,2),i=n[0],r=n[1],u=Object(a.useState)(""),l=c()(u,2),h=l[0],k=l[1],S=Object(p.k)().store,x=S.activityTaskStore,C=S.roomId,T=S.query,B=x.missionTypeMap,U=B[w.d.BROWSE]||{},D=U.status,L=(U.priceNum,U.completeSeconds),M=void 0===L?60:L,A=B[w.d.BUY]||{},J=A.status,R=A.priceNum,z=A.finishCount,F=Object(p.h)(z),I=J===w.c.UNDONE,V=D===w.c.UNDONE&&!Object(O.k)(null==T?void 0:T.list_id,j.b);Object(a.useEffect)((function(){!V&&Object(O.k)(null==T?void 0:T.list_id,j.c)&&Object(O.k)(null==T?void 0:T.list_id,j.d)&&k("企鹅已回来")}),[V]),Object(p.n)((function(){z>0&&z>F&&Object(O.n)(null==T?void 0:T.list_id,j.c)}),[z,F]);var G=Object(a.useMemo)((function(){return h||(V?s.a.createElement(s.a.Fragment,null,"浏览",s.a.createElement("i",null,M-i),"s回来"):I?"拼单立得":"领取奖励")}),[h,V,I,M,i]),K=V||h,P=K?"https://promotion.pddpic.com/ignore_query/live/50f9dec6-debe-4ad9-8c37-651a4ebaa552.png.slim.png":"https://promotion.pddpic.com/ignore_query/live/32a2d989-65da-4a27-a6fe-c7e2f11ba5b4.png.slim.png";return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:N.a.entrance,onClick:function(){Object(_.f)({subType:g.e.DuoDuoSpiritNew}),V?Object(O.p)("浏览".concat(M,"秒企鹅立即回来")):I?Object(f.a)("live_shop_coupon_dialog",{openLiveGoods:!0,room_id:C}):Object(v.a)()}},s.a.createElement(_.b,{subType:g.e.DuoDuoSpiritNew}),s.a.createElement(b.a,{className:d()(N.a.img,o()({},N.a.buyImg,!K)),src:P}),!K&&s.a.createElement("div",{className:N.a.rewardText},Object(y.a)(R)),s.a.createElement("div",{className:d()((e={},o()(e,N.a.countDownText,K),o()(e,N.a.buyText,!K),e))},G)),V&&s.a.createElement(E,{onUpdateSeconds:r}))}))}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_ActivityTasks_SpiritMessengerEntrance_0077ed1e7ce0ee9fed74.js.map