"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1132],{34049:function(t,e,n){n.d(e,{Z:function(){return M}});var r=n(48926),o=n.n(r),i=n(34575),c=n.n(i),s=n(93913),a=n.n(s),l=n(2205),u=n.n(l),f=n(78585),p=n.n(f),h=n(29754),d=n.n(h),v=n(87757),m=n.n(v),y=n(67294),g=n.n(y),w=n(81506),D=n.n(w),E=n(73935),b=n(12045);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var L=function(t){u()(r,t);var e=k(r);function r(t){var n;return c()(this,r),(n=e.call(this,t)).provideOptions=function(){n.DomNode=(0,E.findDOMNode)(D()(n)),n.DomNode&&n.registerImprToComponent()},n.registerImprToComponent=function(){var t=n.props,e={threshold:t.threshold,rootMargin:t.rootMargin,root:t.root};n.observer=new IntersectionObserver(n.observerCallBack,e),n.observer.observe(n.DomNode)},n.observerCallBack=function(t,e){t.forEach((function(t){n.singleTracking(t)}))},n.singleTracking=function(t){var e=n.props,r=e.onEnter,o=e.onLeave,i=e.doImpr;n.isItemIn(t)?(i&&n.trackingAction(),r(t)):o(t)},n.trackingAction=function(){n.timer&&clearTimeout(n.timer),n.timer=setTimeout((function(){var t=n.DomNode.getBoundingClientRect().top;if(!(t<-200||t>800)){var e=n.props,r=e.once,o=e.trackingInfo,i=void 0===o?{}:o;(0,b.wI)(i),n.observer&&n.DomNode&&r&&n.observer.unobserve(n.DomNode)}}),300)},n.isItemIn=function(t){var e=n.props.threshold;return t.isIntersecting&&t.intersectionRatio>=e},n.observer=null,n.DomNode=null,n.timer=null,n}return a()(r,[{key:"componentDidMount",value:function(){n(66337),this.provideOptions()}},{key:"componentWillUnmount",value:function(){this.observer&&this.DomNode&&this.observer.unobserve(this.DomNode)}},{key:"render",value:function(){return g().Children.only(this.props.children)}}]),r}(y.Component);L.defaultProps={root:null,doImpr:!0,isCombined:!1,threshold:1,rootMargin:"0px",gap:300,imprItem:{},once:!0,onEnter:function(){},onLeave:function(){}};var R=L,T=n(34427);var N=function(){return g().createElement("div",{className:"downloader-container"},g().createElement("div",{className:"loader-spinner"}),g().createElement("div",{className:"loader-text"},"正在加载中..."))},S=n(94184),x=n.n(S);var C=function(t){var e=t.show,n=x()({"infinite-gotop-container":!0,"go-top-show":e,"go-top-hide":!e});return g().createElement("div",{className:n,onClick:t.goTop},g().createElement("span",{className:"go-top-text"},"顶部"))},O=n(23493),I=n.n(O);function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var P=function(t){u()(n,t);var e=B(n);function n(){var t;c()(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={isLoading:!1,isShowGoTop:!1,isFinishLoading:!1,sentinelKey:(0,T.x)()},t.onScroll=I()((function(){t.props.isUseGoTop&&t.checkShowGoTop()}),300),t.getSentinels=function(){var e=t.props,n=e.rootMargin,r=e.threshold;return n="string"==typeof n?n:"".concat(n,"px"),g().createElement(R,{key:t.state.sentinelKey,doImpr:!1,onEnter:t.onLoadDown,rootMargin:n,threshold:r,root:t.props.container},g().createElement("div",{style:{width:"100%",height:1}}))},t.resetObserver=I()((function(){t.setState({sentinelKey:(0,T.x)()})}),500),t.onLoadDown=o()(m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({isLoading:!0}),e.next=3,t.props.onLoadDown();case 3:n=e.sent,t.setState({isLoading:!1}),"end"===n?(t.setState({isFinishLoading:!0}),t.props.onFinishLoadDown()):t.resetObserver();case 6:case"end":return e.stop()}}),e)}))),t.checkShowGoTop=function(){var e=parseInt(t.scroller.offsetHeight/1.5,10);t.scrollTop>=e?t.setState({isShowGoTop:!0}):t.setState({isShowGoTop:!1})},t.goTop=function(){t.scrollTop=0},t}return a()(n,[{key:"componentDidMount",value:function(){this.props.isUseGoTop&&this.setupGoTop()}},{key:"componentWillUnmount",value:function(){this.props.isUseGoTop&&this.cleanupGoTop()}},{key:"setupGoTop",value:function(){var t=this.props,e=t.useWindow,n=t.scroller;e?(this.scroller=document.body,window.addEventListener("scroll",this.onScroll,!1)):(this.scroller=n,this.scroller.addEventListener("scroll",this.onScroll,!1))}},{key:"cleanupGoTop",value:function(){this.props.useWindow?window.removeEventListener("scroll",this.onScroll):this.scroller&&this.scroller.removeEventListener&&this.scroller.removeEventListener("scroll",this.onScroll),this.onScroll.cancel&&this.onScroll.cancel()}},{key:"scrollTop",get:function(){return this.props.useWindow?document.body.scrollTop+document.documentElement.scrollTop:this.scroller.scrollTop},set:function(t){this.props.useWindow?(document.body.scrollTop=t,0===document.body.scrollTop&&(document.documentElement.scrollTop=t)):this.scroller.scrollTop=t}},{key:"render",value:function(){var t=this.state,e=t.isLoading,n=t.isShowGoTop,r=t.isFinishLoading,o=this.props,i=o.isUseGoTop,c=o.children,s=o.DownLoader;return g().createElement("div",{className:"infinite-list-wrapper"},c,!r&&this.getSentinels(),i&&g().createElement(C,{show:n,goTop:this.goTop}),e&&g().createElement(s,null))}}]),n}(y.Component);P.defaultProps={dataSource:[],onLoadDown:function(){},onFinishLoadDown:function(){},isUseGoTop:!0,useWindow:!0,scroller:{},rootMargin:0,container:null,DownLoader:N};var M=P},19323:function(t,e,n){n.r(e),n.d(e,{default:function(){return L}});var r,o=n(34575),i=n.n(o),c=n(93913),s=n.n(c),a=n(2205),l=n.n(a),u=n(78585),f=n.n(u),p=n(29754),h=n.n(p),d=n(67294),v=n.n(d),m=n(49408),y=n(20354),g=n(12102),w="_64ex07X9",D="QaWggCYQ",E="m4pPogMx",b="xqWk162T";function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var L=(0,m.f3)("store")(r=(0,m.Pi)(r=function(t){l()(n,t);var e=k(n);function n(){var t;i()(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).store=t.props.store,t.clickHanlder=function(){(0,t.store.closeShowPopup)()},t}return s()(n,[{key:"render",value:function(){var t=this.store,e=t.closeShowPopup,n=t.popupInfo;return v().createElement(y.Dg,{visible:!0,className:w,onCloseClick:e},v().createElement(y.Dx,{className:D},n.title),v().createElement(y.ht,{awardNum:n.count,className:b},n.count,"充值金"),v().createElement(g.w9,{big:!0,className:E,onClick:this.clickHanlder},"收下奖励"))}}]),n}(v().Component))||r)||r},36366:function(t,e,n){n.r(e),n.d(e,{default:function(){return J}});var r=n(34575),o=n.n(r),i=n(93913),c=n.n(i),s=n(2205),a=n.n(s),l=n(78585),u=n.n(l),f=n(29754),p=n.n(f),h=n(67294),d=n.n(h),v=n(94184),m=n.n(v),y=n(49408),g=n(34049),w=n(49434),D=n(20354),E=n(48926),b=n.n(E),k=n(21165),L=n.n(k),R=n(81506),T=n.n(R),N=n(33124),S=n.n(N),x=(n(67268),n(87757)),C=n.n(x),O=n(22188),I=n(80644),B=n(28387),P=n(99433),M=n(79582);function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var _="api/aurum/exchange/history";function A(t){return((null==t?void 0:t.list)||[]).map((function(t){return{title:t.awardName,time:t.createdAt,success:t.success,credit:t.costCredits}}))}var U,W,H,F,j,K,X=function(t){a()(r,t);var e,n=G(r);function r(){var t;o()(this,r);for(var e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];return(t=n.call.apply(n,[this].concat(i))).offset=0,t}return c()(r,[{key:"fetchHistory",value:(e=b()(C().mark((function t(){var e,n,r,o=arguments;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=o.length>0&&void 0!==o[0]?o[0]:{}).offset=this.offset,n.count=20,t.next=5,this.post({url:_,risk:!0,params:n});case 5:return r=t.sent,this.offset=this.offset+((null===(e=r.list)||void 0===e?void 0:e.length)||0),t.abrupt("return",A(r));case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),r}(M.b);function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var V,Y=(U=O.aD.bound,W=O.aD.bound,H=O.aD.bound,F=function(t){a()(i,t);var e,n,r=z(i);function i(){var t;o()(this,i);for(var e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return t=r.call.apply(r,[this].concat(n)),L()(t,"historyList",j,T()(t)),L()(t,"isUseSrolling",K,T()(t)),t}return c()(i,[{key:"loadDown",value:(n=b()(C().mark((function t(){var e;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$service.fetchHistory();case 2:if(null!=(e=t.sent)&&e.length){t.next=5;break}return t.abrupt("return","end");case 5:this.historyList=this.historyList.concat(e);case 6:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"initServices",value:function(t){this.$service=new X(t)}},{key:"setupModel",value:(e=b()(C().mark((function t(){var e;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadDown();case 2:try{(e=(0,B.zT)()).platform===P.iw.PddIOS&&(this.isUseSrolling=(0,P.yC)(e.systemVersion,"12.0")>=0)}catch(t){}case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"getDatasource",value:function(){return[this.setupModel]}}]),i}(I._),j=S()(F.prototype,"historyList",[O.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=S()(F.prototype,"isUseSrolling",[O.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S()(F.prototype,"loadDown",[U],Object.getOwnPropertyDescriptor(F.prototype,"loadDown"),F.prototype),S()(F.prototype,"setupModel",[W],Object.getOwnPropertyDescriptor(F.prototype,"setupModel"),F.prototype),S()(F.prototype,"getDatasource",[H],Object.getOwnPropertyDescriptor(F.prototype,"getDatasource"),F.prototype),F),q={box:"S0hjXWIX",title:"jVjcwrMN",empty:"_9iLVwTtO",tip:"iG2tcguE",panel:"+IwYS5qu",scrolling:"xHaoBhs4",item:"iME0TwKC",bottom:"PWynMq9X",top:"_2XmjCYPY",name:"cB2SBemI",number:"_5-8tC8NL",time:"V21WM4Hs",success:"o4hxxxhk",fail:"La4FH6cC"};function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}function Z(t){var e=t.data,n=e.success,r=e.credit;return d().createElement("div",{className:q.item},d().createElement("div",{className:q.top},d().createElement("div",{className:q.name},e.title),d().createElement("div",{className:q.number},"-",r)),d().createElement("div",{className:q.bottom},d().createElement("div",{className:q.time},e.time),d().createElement("div",{className:q.status},n?"兑换成功":"兑换失败")))}function $(t){var e=t.list,n=t.loadDown,r=t.root;return null!=e&&e.length?d().createElement(g.Z,{onLoadDown:n,isUseGoTop:!1,rootMargin:100,container:r},e.map((function(t,e){return d().createElement(Z,{data:t,key:"".concat(t.time,"-").concat(e)})}))):d().createElement("div",{className:q.empty},d().createElement("div",null,"还没有兑换记录"),d().createElement("div",{className:q.tip},"快去赚充值金兑换好礼吧"))}var J=(0,w.a)(Y)(V=(0,y.f3)("dstore")(V=(0,y.Pi)(V=function(t){a()(n,t);var e=Q(n);function n(){var t;o()(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))).store=t.props.dstore,t.scrollRef=d().createRef(),t}return c()(n,[{key:"render",value:function(){var t,e=this.props.onClose,n=this.store,r=n.historyList,o=n.loadDown,i=n.isUseSrolling;return d().createElement(D.Dg,{visible:!0,className:q.box,onCloseClick:e,scrollSelector:"#scrollContainer"},d().createElement(D.Dx,{className:q.title},"兑换记录"),d().createElement("div",{className:m()(q.panel,i&&q.scrolling),id:"scrollContainer",ref:this.scrollRef},d().createElement($,{list:r,loadDown:o,root:null===(t=this.scrollRef)||void 0===t?void 0:t.current})))}}]),n}(d().Component))||V)||V)||V},49434:function(t,e,n){n.d(e,{a:function(){return b}});var r=n(48926),o=n.n(r),i=n(34575),c=n.n(i),s=n(93913),a=n.n(s),l=n(2205),u=n.n(l),f=n(78585),p=n.n(f),h=n(29754),d=n.n(h),v=n(87757),m=n.n(v),y=n(67294),g=n.n(y),w=n(49408),D=n(24788);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}function b(t){return function(e){var n=function(n){u()(s,n);var r,i=E(s);function s(){var t;c()(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).state={isFinishInitLoading:!1},t.store=null,t}return a()(s,[{key:"componentDidMount",value:(r=o()(m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.No(),n=new t(this.props),e.next=4,n.initClientData();case 4:n.prepareClientData(),n.finishInitLoading(),this.store=n,this.setState({isFinishInitLoading:!0}),D.Cp();case 9:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"render",value:function(){return this.state.isFinishInitLoading?g().createElement(w.zt,{dstore:this.store},g().createElement(e,this.props)):null}}]),s}(g().Component);return(0,w.Pi)(n)}}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/m100433/js/loadable_new_221TaskTipDlg_9d47060d70e4ab7cea49.js.map