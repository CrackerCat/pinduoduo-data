(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[45],{qava:function(e,t,n){"use strict";n.r(t);var a,r=n("J4zp"),u=n.n(r),o=n("V2iB"),c=n("9H8l"),l=n("FdF9"),i=n("O+S/"),b=n("rrx9"),f=n("xNPO"),d=n("wq3h"),w=n("6E9I"),s=n("5Pib");function m(e){var t=e.nextDrawMoney,n=e.next,a=b.c.useValue(),r=a.drawCoinCount,o=a.currentDrawCoinTime,c=a.currentDrawCoinTotalTime,i=a.needScrollCount,f=b.b.useValue().hitScrollDrawCoin,w=Math.floor((c-o)/1e3),s=Object(l.useRef)(!1),m=Object(l.useState)(i),D=u()(m,2),C=D[0],y=D[1],E=Object(l.useCallback)(function(){s.current||(s.current=!0,n())},[n]);return Object(l.useEffect)(function(){f||w<=1&&E()},[w,E]),Object(d.a)(function(){E()},[r]),Object(l.useEffect)(function(){i<C&&y(i)},[i,C]),l.default.createElement(l.default.Fragment,null,f?"看 ".concat(Math.max(C,1)," 个视频"):"看视频".concat(Math.max(0,w),"秒"),l.default.createElement("br",null),"得".concat(t/100,"元现金余额"))}function D(e){var t=e.mount,n=e.next;return Object(f.b)(n),l.default.createElement(l.default.Fragment,null,"获得".concat(t/100,"元"),l.default.createElement("br",null),"现金余额")}!function(e){e[e.Null=0]="Null",e[e.DrawMoney=1]="DrawMoney"}(a||(a={}));var C=Object(l.memo)(function(){var e=Object(l.useState)(a.Null),t=u()(e,2),n=t[0],r=t[1],f=Object(l.useState)(null),d=u()(f,2),C=d[0],y=d[1],E=b.c.useValue(),O=E.drawCoinCount,x=E.currentDrawCoinTotalTime,_=E.drawCoinData,M=w.d.useActions(),j=M.hideModule,T=M.setNextTask,v=o.a.useActions().getStoreActions,h=b.b.useValue().limited,A=i.q.useActions().getCombineBalanceAndRemitGray,S=Object(l.useCallback)(function(){j("DrawMoney"),T()},[j,T]),p=A();Object(l.useEffect)(function(){(p||h)&&S()},[p,h,S]);var N=function(){var e=_.draw_money||C.nextDrawMoney;v().setEntranceBubbleForce({bubbleType:c.b.EnhanceDrawMoneyReceive,priority:-102,showPeriod:5e3,bubbleText:l.default.createElement(D,{mount:e,next:S}),bubbleSubText:"",isTopPriority:!0}),r(a.DrawMoney)};return function(e,t,n){var a=e.drawCoinData,r=e.drawCoinCount,u=(null===a||void 0===a?void 0:a.next_draw_money)||0,o=Object(l.useRef)(!1);Object(l.useEffect)(function(){u&&!o.current&&(o.current=!0,t())},[u,t]),Object(l.useEffect)(function(){r>0&&!u&&n()},[u,r,n])}({drawCoinData:_,drawCoinCount:O},function(){var e=(_||{}).next_draw_money;e&&(y({nextDrawMoney:e,perViewTime:Math.floor(x/1e3)||10}),v().setEntranceBubbleForce({bubbleType:c.b.EnhanceDrawMoney,priority:-101,showPeriod:0,bubbleText:l.default.createElement(m,{nextDrawMoney:e,next:N}),bubbleSubText:""}))},S),n===a.DrawMoney?l.default.createElement(s.a,{type:"draw",drawInfo:C,onClose:function(){return r(a.Null)}}):null});t.default=C}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-video-layer/js/loadable_NewerWatchVideo_EnhanceDrawMoney_34c0232d5a31a089c970.js.map