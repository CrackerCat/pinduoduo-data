"use strict";(self.webpackChunkmobile_fun_cashback=self.webpackChunkmobile_fun_cashback||[]).push([[355],{98725:function(e,t,n){function i(e){return e.replace(/[^A-Za-z0-9+/]/g,"")}function r(e){return window.atob(i(e))}function o(e){return window.btoa(e)}function a(e){return window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function s(e){return decodeURIComponent(window.atob(i(e)).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!t&&/[^\x00-\x7F]/.test(e)?a(e):o(e)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?r(e):s(e)}n.d(t,{c:function(){return c},J:function(){return u}})},10991:function(e,t,n){n.d(t,{mr:function(){return r},as:function(){return o},bd:function(){return s},nt:function(){return c},BH:function(){return u},NM:function(){return d},Al:function(){return l}});var i="Invalid Date";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";if("number"!=typeof e&&"string"!=typeof e||(e=new Date(e)),e.toString()===i)return i;var n=e.getFullYear(),r=e.getMonth(),o=e.getDate(),a=e.getHours(),s=e.getMinutes(),c=e.getSeconds(),u={YYYY:String(n),YY:String(n).slice(-2),M:String(r+1),MM:String(r+1).padStart(2,"0"),D:String(o),DD:String(o).padStart(2,"0"),H:String(a),HH:String(a).padStart(2,"0"),m:String(s),mm:String(s).padStart(2,"0"),s:String(c),ss:String(c).padStart(2,"0"),SSS:String(e.getMilliseconds()).padStart(3,"0"),h:String(a%12),hh:String(a%12).padStart(2,"0"),a:a<12?"am":"pm",A:a<12?"AM":"PM"};return t.replace(/\[([^\]]+)]|(YY){1,2}|M{1,2}|D{1,2}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|SSS/g,(function(e,t){return t||u[e]}))}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return JSON.parse(e)}catch(e){return console.error("safeParseJson: 参数解析失败",e),t}}function a(e,t){return e=Number(e),isNaN(e)?"0":("cent"!==t&&(e=+"".concat(e,"e2")),(Math.floor(e)/100).toString())}function s(e){return a(e,"cent")}function c(e){return a(e)}function u(e){if((e=parseInt(e,10)||0)<9999)return e.toString();if(e<=99999){var t=parseInt(e/1e3,10);return"".concat(parseInt(t/10,10),".").concat(t%10,"万")}return"".concat(parseInt(e/1e4,10),"万")}function d(e,t){if(void 0===t||0==+t)return Math.round(e);if(e=+e,t=+t,isNaN(e)||t%1!=0)return NaN;var n=Math.pow(10,t);return Math.round(+"".concat(e,"e").concat(t))/n}function l(e){return"0.0"===(e=(e=parseFloat(e)||0).toFixed(1))&&(e="0.1"),e}},91809:function(e,t,n){n.d(t,{GK:function(){return g},C5:function(){return b},FT:function(){return P}});var i=n(39569),r=n(98725),o=n(24646);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var d=function(e){return e.split("?")[0]},l=/\/image\/(.+?)\//;var g=function(e){var t=e.watermark,n=e.width;if(!n)return t;var i=function(e){var t=l.exec(e);return t&&t[1]}(t);if(!i)return t;var o=(0,r.J)(i)+"?imageMogr2/thumbnail/".concat(n,"x"),a=(0,r.c)(o);return t.replace(i,a)};function m(e){var t=e.sharpen,n=e.thumbnail,i=e.radius,r=e.sigma,o=e.custom,a=void 0===o?"":o,s=a?[a]:[];return t&&s.push("/sharpen/".concat(t)),i&&r&&s.push("/blur/".concat(i,"x").concat(r)),n&&n.width&&s.push("/thumbnail/".concat(n.width,"x")),s.length?"imageMogr2".concat(s.join("")):""}var p=function(e){return"boolean"==typeof e};function f(e){return p(e)&&e?400:e}function v(e){return p(e)?70:e}function h(e){return s({addToFront:!0},"object"===u(e)?e:{image:e})}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=e.sigma;return(t||n)&&(n=n||1,t=t||1),{radius:t,sigma:n}}var y=function(e){var t=e.webpEnable,n=e.quality,i=e.resizeWidth,r=e.plainWatermark,o=e.sharpen,a=e.prefitWidth,s=e.watermark,c=e.blur,u=e.imageMogr2,d=c.radius,l=c.sigma,p=[];p.push(m({thumbnail:{width:a}}));var f=r||function(e){var t=e.image,n=e.gravity,i=e.dx,r=e.dy,o=e.scatype,a=e.spcent,s=[];if(!t)return"";var c=e.blogo;return o||a||(c=c||2,s.push("/blogo/".concat(c))),!c&&o&&a&&s.push("/scatype/".concat(o,"/spcent/").concat(a)),t&&s.push("/image/".concat(t)),n&&s.push("/gravity/".concat(n)),i&&s.push("/dx/".concat(i)),r&&s.push("/dy/".concat(r)),s.length?"watermark/1".concat(s.join("")):""}(s);return a&&(f=g({watermark:f,width:a})),s.addToFront&&p.push(f),p.push(m({sharpen:o,radius:d,sigma:l,custom:u})),p.push(function(e){var t=e.mode,n=e.width,i=e.height,r=e.format,o=e.quality,a=e.rQuality,s=e.lQuality,c=[];return t&&(n||i)&&(c.push("/".concat(t)),n&&c.push("/w/".concat(n)),i&&c.push("/h/".concat(i))),o&&c.push("/q/".concat(o)),r&&c.push("/format/".concat(r)),a&&c.push("/rq/".concat(a)),s&&c.push("/lq/".concat(s)),c.length?"imageView2".concat(c.join("")):""}({mode:"2",width:i,quality:n,format:t?"webp":""})),s.addToFront||p.push(f),(p=p.filter((function(e){return!!e}))).length?"?"+p.join("%7C"):""},b={resizeWidth:1300,quality:80},k=function(e){return 0===e.indexOf("http")||0===e.indexOf("//")};function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;if(!k(e=e||""))return e;e=(0,o.y)(e);var n=(e=(0,i.Hm)(e)).split("?")[1];if(n)return e;var r=s(s({},t),{},{sharpen:v(t.sharpen),prefitWidth:f(t.prefitWidth),watermark:h(t.watermark),blur:_(t.blur)});return e.indexOf(".gif")>=0&&(r.sharpen=!1,r.webpEnable=!!r.enableGifToWebp&&r.webpEnable),r.webpEnable&&(r.quality=r.quality||70),d(e)+y(r)}},49984:function(e,t,n){n.d(t,{H:function(){return o}});var i="funimg.pddpic.com",r="https://";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return"".concat(r).concat(t).concat(e)}},24646:function(e,t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.indexOf("t00img.yangkeduo.com")>-1?e.replace("t00img.yangkeduo.com","img.pddpic.com"):e.indexOf("t16img.yangkeduo.com")>-1?e.replace("t16img.yangkeduo.com","commimg.pddpic.com"):e}n.d(t,{y:function(){return i}})},46256:function(e,t,n){n.d(t,{f:function(){return d}});var i,r,o=n(63409),a=n(66556);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={busType:o.V5.DEFAULT,appName:"",subAppName:"",sceneId:0,subSceneId:0,imprElsn:(i={},s(i,o.oy.Goods,0),s(i,o.oy.Recommend,0),s(i,o.oy.Ulike,0),s(i,o.oy.Similar,0),i),imprExt:{},bizTag:"",paymentBiz:"",customCfg:{mobile_fit_browse:s({},o.oy.Similar,{trigger_scene_id:0,land_app_name:"",land_scene_id:0,land_page_url:""})},monitorCfg:{requestQPS:s({},o.oy.Goods,{eventId:100}),loadError:{eventId:200},loadEmpty:{eventId:201},loadBack:{eventId:202},loadLast:{eventId:0},dotDepth:{depth:30,eventId:203},effectPrice:{bizType:o.p4.DEFAULT,floor:0,ceil:0,eventId:204},dotShow:(r={},s(r,o.oy.Similar,{eventId:300}),s(r,o.oy.Recommend,{eventId:301}),r)},inspectCfg:{mkt_tr_sc:{op:"some",value:[],failedEventId:500},mkt_tr_token:{op:"neq",value:"",failedEventId:501},mkt_domain:{op:"eq",type:Number,value:0,failedEventId:502}},missionLogCfg:s({},o.oy.Goods,{missionRecId:0,missionRecPath:"api/manor-gateway/normal/goods/record"})},u=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(0,a.Kn)(t))return t;n=Number(n)||0;var i=Object.keys(t);t.eventId>0&&(t.eventId=t.eventId+n),t.failedEventId>0&&(t.failedEventId=t.failedEventId+n);for(var r=0,o=i.length;r<o;r++){var s=i[r],c=t[s];(0,a.Kn)(c)&&(c=e(c,n)),t[s]=c}return t},d=function(e){var t=e||{},n=t.baseCfg,i=void 0===n?c:n,r=t.config,a=void 0===r?{}:r;i=Object.assign({},i||{});var s=(a=Object.assign({},a))||{},d=s.appName,l=void 0===d?"":d,g=s.subAppName,m=void 0===g?"":g,p=s.sceneId,f=void 0===p?0:p,v=s.subSceneId,h=void 0===v?0:v,_=s.listId,y=void 0===_?"":_,b=s.bizTag,k=void 0===b?"":b,P=s.paymentBiz,I=void 0===P?"":P,O=s.mktTrSc,S=void 0===O?[]:O,C=s.mktDomain,j=void 0===C?0:C,w=s.baseCatId,N=void 0===w?0:w,x=s.imprElsn,T=void 0===x?{}:x,E=s.imprExt,L=void 0===E?{}:E,F=s.missionLogCfg,A=void 0===F?{}:F,U=s.customCfg,G=void 0===U?{}:U,B=s.searchAdConfig,R=void 0===B?{}:B;i.appName=l,i.subAppName=m,i.sceneId=f,i.subSceneId=h,i.listId=y,i.bizTag=k||i.bizTag,i.paymentBiz=I||i.paymentBiz,i.inspectCfg=i.inspectCfg||{},i.inspectCfg.mkt_tr_sc.value=S,i.inspectCfg.mkt_domain.value=j,i.imprElsn=i.imprElsn||{},i.imprExt=i.imprExt||{};var Z=T||{},M=Z.goods,z=void 0===M?0:M,q=Z.recommend,D=void 0===q?0:q,J=Z.uLike,H=void 0===J?0:J,Q=Z.similar,W=void 0===Q?{}:Q;Number(z)>0&&(i.imprElsn[o.oy.Goods]=z),Number(D)>0&&(i.imprElsn[o.oy.Recommend]=D),Number(H)>0&&(i.imprElsn[o.oy.Ulike]=H);var V=W||{},Y=V.impr,K=void 0===Y?0:Y,$=V.click,X=void 0===$?0:$,ee={};Number(K)>0&&Number(X)>0&&(ee.impr=K,ee.click=X),Object.keys(ee).length>0&&(i.imprElsn[o.oy.Similar]=ee),T[o.oy.Goods]>0&&(i.imprElsn[o.oy.Goods]=T[o.oy.Goods]),T[o.oy.LvGoods]>0&&(i.imprElsn[o.oy.LvGoods]=T[o.oy.LvGoods]),T[o.oy.LgGoods]>0&&(i.imprElsn[o.oy.LgGoods]=T[o.oy.LgGoods]),T[o.oy.Hmall]>0&&(i.imprElsn[o.oy.Hmall]=T[o.oy.Hmall]),T[o.oy.Vmall]>0&&(i.imprElsn[o.oy.Vmall]=T[o.oy.Vmall]);var te=T[o.oy.Similar]||{},ne=te.impr,ie=void 0===ne?0:ne,re=te.click,oe=void 0===re?0:re,ae={};Number(ie)>0&&Number(oe)>0&&(ae.impr=ie,ae.click=oe),Object.keys(ae).length>0&&(i.imprElsn[o.oy.Similar]=ae),T[o.oy.HGoods]>0&&(i.imprElsn[o.oy.HGoods]=T[o.oy.HGoods]),T[o.oy.VGoods]>0&&(i.imprElsn[o.oy.VGoods]=T[o.oy.VGoods]),T[o.oy.Recommend]>0&&(i.imprElsn[o.oy.Recommend]=T[o.oy.Recommend]),T[o.oy.Ulike]>0&&(i.imprElsn[o.oy.Ulike]=T[o.oy.Ulike]),T[o.oy.Sliding]>0&&(i.imprElsn[o.oy.Sliding]=T[o.oy.Sliding]),T[o.oy.SGoods]>0&&(i.imprElsn[o.oy.SGoods]=T[o.oy.SGoods]),T[o.oy.LvMall]>0&&(i.imprElsn[o.oy.LvMall]=T[o.oy.LvMall]),T[o.oy.LvMallGoods]>0&&(i.imprElsn[o.oy.LvMallGoods]=T[o.oy.LvMallGoods]),Object.keys(L||{}).length>0&&(i.imprExt=L),i.missionLogCfg=i.missionLogCfg||{};var se=A||{},ce=se.missionRecPath,ue=void 0===ce?"":ce,de=se.goods,le=void 0===de?0:de;i.missionLogCfg[o.oy.Goods]=i.missionLogCfg[o.oy.Goods]||{},i.missionLogCfg[o.oy.Goods].missionRecPath=ue,i.missionLogCfg[o.oy.Goods].missionRecId=le,i.customCfg=i.customCfg||{};var ge=G||{},me=ge[o.oy.Recommend],pe=void 0===me?{}:me,fe=ge[o.oy.Ulike],ve=void 0===fe?{}:fe,he=ge[o.oy.Similar],_e=void 0===he?{}:he,ye=R||{},be=ye.recommend,ke=void 0===be?{}:be,Pe=ye.uLike,Ie=void 0===Pe?{}:Pe,Oe=ye.similar,Se=void 0===Oe?{}:Oe;return Object.keys(ke).length>0&&(pe=ke),Object.keys(Ie).length>0&&(ve=Ie),Object.keys(Se).length>0&&(_e=Se),i.customCfg[l]=i.customCfg[l]||{},i.customCfg[l][o.oy.Recommend]=pe||{},i.customCfg[l][o.oy.Ulike]=ve||{},i.customCfg[l][o.oy.Similar]=_e||{},i.customCfg[m]=i.customCfg[m]||{},i.customCfg[m][o.oy.Recommend]=pe||{},i.customCfg[m][o.oy.Ulike]=ve||{},i.customCfg[m][o.oy.Similar]=_e||{},u(i,N)}},36498:function(e,t,n){var i,r=n(82448),o=n(63409),a=n(66556),s=n(37554),c=n(18735),u=n(13773);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=(g(i={},o.oy.Goods,"goods.html"),g(i,o.oy.Hmall,"mall_page.html"),g(i,o.oy.Similar,"cartoon_fruiter_wf6.html"),g(i,o.oy.HGoods,"goods.html"),g(i,o.oy.Recommend,"cartoon_fruiter_wf6.html"),i),p=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;d(this,e),this.sp=0,this.needBackPosition=!0,this.prodType=o.V5.DEFAULT,this.bizType="",this.bizTag="",this.paymentBiz="",this.useLinkUrl=!1,this.isFirstUpdate=!1,this.adFowardExParams=null,this.name="adForward",this.getFloorPrice=function(){var e=((0,u.getPlugins)()||{}).monitor||[];return((e[e.length-1]||{}).priceConfig||{}).floor_price||0},this.adFowardExParams=n;var i=Object.assign({isFirstUpdate:!0},t),s=i,c=s.sp,l=void 0===c?-1:c,g=r.Z.getFunctions(),m=g.coreUtil;if((0,a.Lf)()&&l<0){var p=m.parseUrlQuery((0,a.w)())||{};l=Number(p.sp)||0}i=Object.assign({},i,{sp:l}),this.reset(i),(0,a.Lf)()&&this.initPagePosition(l)}var t,n,i;return t=e,n=[{key:"reset",value:function(e){var t=e||{},n=t.sp,i=void 0===n?this.sp:n,r=t.prodType,o=void 0===r?this.prodType:r,a=t.bizType,s=void 0===a?this.bizType:a,u=t.bizTag,d=void 0===u?this.bizTag:u,l=t.paymentBiz,g=void 0===l?this.paymentBiz:l,m=t.isFirstUpdate,p=void 0===m?this.isFirstUpdate:m,f=t.needBackPosition,v=void 0===f?this.needBackPosition:f,h=t.useLinkUrl,_=void 0===h?this.useLinkUrl:h;this.needBackPosition=v,this.isFirstUpdate=p,this.bizType=s||this.bizType,this.bizTag=d||this.bizTag,this.paymentBiz=g||this.paymentBiz,this.prodType=o||this.prodType,this.sp=i||0,this.useLinkUrl=_,(0,c.Z)().reset(e)}},{key:"initPagePosition",value:function(e){if(!(0,s.Rw)()){var t=document.body.scrollHeight||document.documentElement.scrollHeight,n=document.body.offsetHeight||document.documentElement.clientHeight;if(this.isFirstUpdate&&e&&!(t<n+100)){this.isFirstUpdate=!1;var i=r.Z.getFunctions().page;setTimeout((function(){i.setScrollTop(e)}),0)}}}},{key:"getPluginConfig",value:function(){return(0,c.Z)().getBaseParams().monitorCfg||{}}},{key:"setScrollPosition",value:function(e){var t=r.Z.getFunctions().page,n=(0,c.Z)().getBaseParams(),i=t.getScrollTop(),o=Object.assign({},e,{opt_id:n.optId,sub_opt_id:n.subId,size:n.size,sp:1,app_name:n.appName,sub_app_name:"",sub_scene_id:""});n.subAppName&&n.appName!==n.subAppName&&(o=Object.assign({},o,{sub_app_name:n.subAppName})),n.subSceneId&&n.sceneId!==n.subSceneId&&(o=Object.assign({},o,{sub_scene_id:n.subSceneId})),(this.needBackPosition||n.page<=1)&&(o=Object.assign({},o,{sp:i,page:n.page,list_id:n.listId})),t.setPageScrollPosition({queries:o})}},{key:"getMissionRecordType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.oy.Goods,t=(0,c.Z)().getBaseParams()||{},n=t.destAppName,i=t.multiMissionLogCfg||{},r=t.missionLogCfg||{};Object.keys(r).length||(r=i[n]||{});var a=r[e||o.oy.Goods]||{},s=a||{},u=s.missionRecId,d=void 0===u?0:u;return Number(d)||0}},{key:"getBizTag",value:function(){var e=((0,c.Z)().getBaseParams()||{}).bizTag;return this.bizTag||e}},{key:"getBizType",value:function(){var e=((0,c.Z)().getBaseParams()||{}).bizType;return this.bizType||e}},{key:"getPaymentBiz",value:function(){var e=((0,c.Z)().getBaseParams()||{}).paymentBiz;return this.paymentBiz||e}},{key:"getMissionLogId",value:function(e){var t=(0,c.Z)().getBaseParams()||{},n=t.destAppName,i=t.multiMissionLogCfg||{},r=t.missionLogCfg||{};Object.keys(r).length||(r=i[n]||{});var a=r[e||o.oy.Goods]||{};Object.keys(a).length||(a=r[o.oy.Goods]||{});var s=(a||{}).missionRecId;return void 0===s?0:s}},{key:"afterLoad",value:function(e){var t=(0,c.Z)(),n=t.getBaseParams(),i=e||{},r=i.optId,o=void 0===r?n.optId:r,a=i.subId,s=void 0===a?n.subId:a;t.reset({optId:o,subId:s})}},{key:"afterUpdate",value:function(){var e=this;if(this.isFirstUpdate&&this.sp&&!(0,s.Rw)()){this.isFirstUpdate=!1;var t=r.Z.getFunctions().page;setTimeout((function(){t.setScrollTop(e.sp)}),0)}}},{key:"doForwarding",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,i=e.idx,r=void 0===i?0:i,s=e.type,c=void 0===s?0:s;if(c===o.oy.CustomCell&&this.customCellForward&&(0,a.mf)(this.customCellForward))return this.customCellForward(n,r);if(c===o.oy.Hmall||c===o.oy.Vmall)return this.mallForward(n,r);if(c===o.oy.Similar)return this.similarForward(n,r);if(c===o.oy.Recommend)return this.recommendForward(n,r);if(c===o.oy.LvGoods){var u=n||{},d=u.ext_info||{},l=d.liveToGd;if(!l)return this.liveRoomForward(n,r)}return c===o.oy.LvMall?this.liveRoomForward(n,r):this.goodsForward(n,r)}},{key:"getLandUrls",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(0,c.Z)().getBaseParams(),n=t.destAppName,i=t.customCfg,r=t.landUrls,o={};o=Object.assign({},m,r||{});var a=(i||{})[n]||{},s=a=a[e]||{},u=s.land_page_url,d=s.landing_page_url,l=u||d||"";return l||o[e]}},{key:"getFowardExParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t),i={};i=(0,a.mf)(this.adFowardExParams)?this.adFowardExParams():this.adFowardExParams||{};var o=r.Z.getFunctions(),u=o.coreUtil;n.linkURL&&(0,a.mf)(u.parseUrlQuery)&&(n=Object.assign({},n,u.parseUrlQuery(n.linkURL))),(0,a.mf)(u.parseUrlQuery)&&(window||{}).location&&(n=Object.assign({},n,u.parseUrlQuery(window.location.href||"")));var d=(0,c.Z)().getBaseParams(),l=d.destAppName,g=n.mkt_tr_sc||n._oc_mkt_tr_sc||n._x_fun_mkt_sc||l,m=Number(this.getMissionLogId(e))||Number(n._x_fun_source_el);return i=(i[l]||{})[e]||{},m&&(i._x_fun_source_el=m),g&&(i._x_fun_mkt_sc=g),Number(n.goods_id)>0&&(i._x_fun_goods_id=n.goods_id),m||g||(0,s.ep)(2915,{_x_fun_source_el:m,_x_fun_mkt_sc:g,type:e,name:"getFowardExParams"}),i}},{key:"getNavGoodsParams",value:function(e){var t=e||{},n=t.goods_id,i=void 0===n?"":n,r=t.mkt_domain,a=void 0===r?"":r,s=t.mkt_tr_sc,c=void 0===s?"":s,u=t.mkt_tr_token,d=void 0===u?"":u,l=t.creative_ad_info,g=void 0===l?{}:l,m=t.p_rec,p=void 0===m?{}:m,f=(g||{}).image_id,v=void 0===f?"":f,h=this.getFowardExParams(o.oy.Goods,e),_=this.getFloorPrice(),y=Object.assign({goods_id:i,gallery_id:v,_oc_mkt_domain:a,_oc_mkt_tr_sc:c,_oc_mkt_tr_token:d},h),b=this.getBizType();b&&(y=Object.assign({},y,{_oc_biz_type:b}));var k=this.getBizTag();k&&(y=Object.assign({},y,{_oc_biz_tag:k}));var P=this.getPaymentBiz();P&&(y=Object.assign({},y,{_oc_payment_biz:P})),this.prodType===o.V5.GARDEN&&(y.page_from=56);var I=(p||{}).org||"unKnown",O=(p||{}).sid||"unKnown";return y=Object.assign({},y,{_x_fun_order_rec:I,_x_fun_prec_sid:O,_x_fun_flr_price:_})}},{key:"goodsForward",value:function(e,t){var n=e||{},i=n.goods_id,c=void 0===i?"":i,u=n.should_use_landing_page_url,d=void 0!==u&&u,l=n.landing_page_url,g=void 0===l?"":l,m=n.link_url,p=void 0===m?"":m;if(c){var f=this.getNavGoodsParams(e);f=this.beforeNavigate({data:e,srcParams:f,index:t,type:o.oy.Goods});var v="";this.useLinkUrl&&p&&(v=p);var h=d&&g?g:"goods.html";h=v||h;var _=r.Z.getFunctions(),y=_.navigation,b=_.coreUtil,k=b.appendQuery(f,h);if((0,a.mf)(b.isWeapp)&&b.isWeapp()||this.setScrollPosition({prev_goods:c}),(0,a.mf)(y.uniformForward))return y.uniformForward(k);(0,a.mf)(b.isWeapp)&&b.isWeapp()?(k=b.appendQuery(f,"/package_c/goods/goods"),y.navigate(k)):(0,s.UL)(k)}}},{key:"getNavMallParams",value:function(e,t){var n=e=e||{},i=n.mall_id,s=void 0===i?"":i,c=n.mkt_domain,u=void 0===c?"":c,d=n.mkt_tr_sc,l=void 0===d?"":d,g=n.mkt_tr_token,m=void 0===g?"":g,p=n.beautified_mall,f=void 0!==p&&p,v=n.landing_page_url,h=void 0===v?"":v,_=n.cartoon_land_url,y=void 0===_?"":_,b=h.toString(),k=y.toString(),P=r.Z.getFunctions().coreUtil;if(f&&k){var I=P.parseUrlQuery((0,a.w)());return Object.assign({},I,{mall_id:s})}var O=this.getFowardExParams(o.oy.Hmall,e),S=Object.assign({mkt_domain:u,mkt_tr_sc:l,mkt_mall_token:m},O);return b?S:Object.assign({},S,{mall_id:s})}},{key:"mallForward",value:function(e,t){var n=e=e||{},i=n.mall_id,a=void 0===i?"":i,c=n.beautified_mall,u=void 0!==c&&c,d=n.landing_page_url,l=void 0===d?"":d,g=n.cartoon_land_url,m=void 0===g?"":g;if(a){var p=this.getNavMallParams(e,t),f=l.toString(),v=m.toString(),h=r.Z.getFunctions().coreUtil;f||(f=this.getLandUrls(o.oy.Hmall)),u&&v&&(f=v),f=h.appendQuery(p,f),(0,s.UL)(f)}}},{key:"getNavSimilarParams",value:function(e,t){for(var n=e=e||{},i=n.similar_list,r=n.click_idx,a=n.click_text,s=i.recommend_query_ad_single_list,u=i.is_hidden_banner,d=i.info_to_second_page,l=e,g=l.query,m=l.trigger_goods_id,p=void 0===m?"":m,f=l.goods_id,v=[],h=0,_=(s||[]).length;h<_;h++){var y=s[h]||{},b=y.creative,k=y.goods_id,P=y.trigger_goods_id,I=y.query,O=(b||{}).creative_id,S=void 0===O?"undefined":O;v.push("".concat(I,"_$_").concat(S,"_$_").concat(k,"_$_").concat(P))}var C=v.join(","),j=(0,c.Z)().getBaseParams(),w=j.appName,N=j.subAppName,x=j.sceneId,T=j.subSceneId,E=this.getFowardExParams(o.oy.Similar,e),L=(0,c.Z)().getBaseParams(),F=L.destAppName,A=(L.customCfg||{})[F]||{},U=A=A[o.oy.Similar]||{},G=U.land_app_name,B=U.land_scene_id;G=G||N||w,B=B||T||x;var R=Object.assign({app_name:G,scene_id:B,query:g||"百货",trigger_goods_id:p,query_goods_id:f,recommend_ad_idx:r,recommend_ad_list:C},E);return u&&(R.is_hidden=1),a&&(R.recommend_ad_click_text=1),d&&(R=Object.assign({},R,{info_to_second_page:d})),R}},{key:"similarForward",value:function(e,t){var n=(e=e||{}).similar_list.landing_page_url,i=void 0===n?"":n;i||(i=this.getLandUrls(o.oy.Similar));var a=this.getNavSimilarParams(e,t),c=r.Z.getFunctions().coreUtil.appendQuery(a,i);(0,s.UL)(c)}},{key:"getNavRecommendParams",value:function(e,t){for(var n=e=e||{},i=n.recommend_list,r=n.click_idx,a=n.click_text,s=i.recommend_query_ad_single_list,u=i.is_hidden_banner,d=i.info_to_second_page,l=e,g=l.query,m=l.trigger_goods_id,p=void 0===m?"":m,f=l.goods_id,v=l.ad_to_second_page,h=void 0===v?"":v,_=[],y=0,b=(s||[]).length;y<b;y++){var k=s[y]||{},P=k.creative,I=k.goods_id,O=k.trigger_goods_id,S=k.query,C=(P||{}).creative_id,j=void 0===C?"undefined":C;_.push("".concat(S,"_$_").concat(j,"_$_").concat(I,"_$_").concat(O))}var w=_.join(","),N=this.getFowardExParams(o.oy.Recommend,e),x=(0,c.Z)().getBaseParams(),T=x.destAppName,E=(x.customCfg||{})[T]||{},L=E=E[o.oy.Recommend]||{},F=L.land_app_name,A=L.land_scene_id,U=Object.assign({app_name:F,scene_id:A,query:g||"百货",trigger_goods_id:p,query_goods_id:f,recommend_ad_idx:r,sug_idx:t,recommend_ad_list:w,lu_ext:h},N);return u&&(U.is_hidden=1),a&&(U=Object.assign({},U,{recommend_ad_click_text:1})),d&&(U=Object.assign({},U,{info_to_second_page:d})),U}},{key:"recommendForward",value:function(e,t){var n=((e=e||{}).recommend_list||{}).landing_page_url,i=void 0===n?"":n;i||(i=this.getLandUrls(o.oy.Recommend));var a=this.getNavRecommendParams(e,t),c=r.Z.getFunctions().coreUtil.appendQuery(a,i);(0,s.UL)(c)}},{key:"getNavLiveRoomParams",value:function(e,t,n){var i=(e=e||{})||{},r=i.room_id,a=void 0===r?"":r,s=i.elem_type,c=void 0===s?o.oy.LvGoods:s,u=i.mkt_tr_sc,d=void 0===u?"":u,l=i.mkt_domain,g=void 0===l?"":l,m=i.mkt_tr_token,p=void 0===m?"":m,f=i.g_mkt_tr_sc,v=void 0===f?"":f,h=i.g_mkt_domain,_=void 0===h?"":h,y=i.g_mkt_tr_token,b=void 0===y?"":y,k=i.g_mkt_type,P=void 0===k?"":k,I=i.url_tracks,O=void 0===I?{}:I,S=i.cost_type,C=void 0===S?"":S,j=i.dsp_origin,w=void 0===j?"":j,N={_live_mkt_trade_scene:d,_live_mkt_domain:g,_live_mkt_mall_token:p,_live_fruit_source_el:this.getMissionRecordType(c)};if(v&&_&&b&&P&&(N=Object.assign({},N,{_oc_mkt_type:P,_oc_mkt_tr_sc:v,_oc_mkt_domain:_,_oc_mkt_tr_token:b})),this.getBizTag()&&(N._oc_biz_tag=this.bizTag,N._live_oc_biz_tag=this.bizTag),5===C){var x=(O||{}).refer_banner_middle,T=void 0===x?"":x;N._ex_banner_middle=T}0===Number(w)&&(N._live_data_from=1e3);var E=(n||{}).goods_id,L=void 0===E?"":E;L&&(N._live_goods_id=L);var F=this.getFowardExParams(o.oy.Goods,e);return Object.assign({page_from:3,room_id:a},N,F)}},{key:"liveRoomForward",value:function(e,t,n){var i=(0,s._q)("4.88.0","4.89.0"),o=e||{},a=o.live_url,c=void 0===a?"":a,u=o.h5_live_url,d=void 0===u?"":u;(0,s.Rw)()&&i&&(d=c);var l=this.getNavLiveRoomParams(e,t,n),g=r.Z.getFunctions().coreUtil;if(!i)return d=g.appendQuery(l,d),(0,s.UL)(d);l=Object.assign({},l,{use_urm_navigation:1}),d=g.appendQuery(l,d),(0,s.UL)(d,(function(){}),{componentFirst:!0})}},{key:"beforeNavigate",value:function(e){var t=e.data,n=void 0===t?{}:t,i=e.srcParams,r=void 0===i?{}:i,a=(e.index,e.type),s=void 0===a?o.oy.Goods:a,c=r||{};if(s>0&&s!==o.oy.Goods)return c;try{var u=(n||{}).link_url_ext||{};c=Object.assign({},c,u)}catch(e){}return c}},{key:"captureClick",value:function(e,t){e.data,e.index;var n=e.type;return void 0===n&&o.oy.Goods,Promise.resolve(!0)}}],n&&l(t.prototype,n),i&&l(t,i),e}();t.Z=p},730:function(e,t,n){var i=n(37554),r=n(66556),o=n(63409),a=n(18735);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e),this.inspectCfg={},this.multiInspectCfg={},this.name="adInspector",this.htmlname="",this.reset(t)}var t,n,u;return t=e,(n=[{key:"reset",value:function(e){var t=e||{},n=t.inspectCfg,i=void 0===n?this.inspectCfg:n,r=t.multiInspectCfg,o=void 0===r?this.multiInspectCfg:r;this.inspectCfg=i,this.multiInspectCfg=o,(0,a.Z)().reset(e)}},{key:"loadInspectConfig",value:function(){var e=(0,a.Z)().getBaseParams()||{},t=e.destAppName,n=this.inspectCfg,i=this.multiInspectCfg||{};return Object.keys(n).length||(n=e.inspectCfg||{}),Object.keys(i).length||(i=e.multiInspectCfg||{}),Object.keys(n).length||(n=i[t]||{}),Object.assign({mkt_tr_token:{op:"neq",value:""}},n||{})}},{key:"getCommonPmmTags",value:function(){var e=(0,a.Z)().getBaseParams(),t=(0,a.Z)().orgStr||"default",n=e.pageSn,i=void 0===n?0:n,o=e.pageName,s=e.destAppName;return this.htmlname||(this.htmlname=(0,r.M2)()),{fun_page_sn:i,fun_html_name:this.htmlname,fun_page_name:o,fun_rec:t,fun_app_name:s}}},{key:"beforeLeave",value:function(e,t){var n=this,s=(e||{}).type,c=void 0===s?0:s;if(!c||c===o.oy.Hmall||c===o.oy.Vmall){var u=(e||{}).data||{},d=u.goods_id,l=void 0===d?"":d,g=u.mall_id,m=void 0===g?"":g,p=u.mkt_domain,f=void 0===p?"":p,v=u.mkt_tr_sc,h=void 0===v?"":v,_=u.mkt_tr_token,y=void 0===_?"":_,b=u.link_url_ext,k=void 0===b?{}:b,P=u.p_rec,I=void 0===P?{}:P,O=k||{},S=O._oc_n_mkt_domain,C=void 0===S?0:S,j=O._oc_n_mkt_tr_sc,w=void 0===j?"":j,N=O._oc_n_mkt_tr_token,x=void 0===N?"":N,T={goods_id:l,mall_id:m,mkt_domain:f,mkt_tr_sc:h,mkt_tr_token:y,goodsType:c,link_url_ext:k,p_rec:I};Object.keys(t||{}).length>0&&(T=t);var E=Object.assign({},u||{},{mkt_domain:f||C,mkt_tr_sc:h||w,mkt_tr_token:y||x}),L=this.loadInspectConfig();(Object.keys(L)||[]).forEach((function(e){var t=E[e],s=L[e],c=s.value,u=s.op,d=s.failedEventId,l=s.type,g=(0,i.WI)(d,(0,a.Z)().orgStr);(0,r.jS)(t,c,u,l)||((0,i.ep)(g,T),(0,i.uM)({groupId:o.mc.mktError,tags:Object.assign({},n.getCommonPmmTags(),{fun_mkt_key:e}),extras:T}))}))}}}])&&c(t.prototype,n),u&&c(t,u),e}();t.Z=u},86681:function(e,t,n){var i=n(82448),r=n(66556),o=n(63409),a=n(37554),s=n(18735);function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var g=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}c((i=i.apply(e,t||[])).next())}))},m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api/tyrion/ad_list";d(this,e),this.baseUrl="api/tyrion/ad_list",this.beginFirst=!0,this.postClickGoods=!0,this.clickedIds={},this.maxPage=-1,this.extendParams={},this.pageImprCnt={},this.name="adLoader";var o={},a=i.Z.getFunctions(),c=a.coreUtil;(0,r.Lf)()&&(o=c.parseUrlQuery((0,r.w)())||{});var u=(0,s.Z)().getBaseParams()||{},l=u.optId,g=void 0===l?0:l,m=u.subId,p=void 0===m?0:m,f=o,v=f.prev_goods,h=void 0===v?"":v;h&&(this.clickedIds[p||g]=[h]),this.reset(t,n)}var t,n,u;return t=e,n=[{key:"reset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.baseUrl,n=e||{},o=n.beginFirst,a=void 0===o?this.beginFirst:o,c=n.postClickGoods,u=void 0===c?this.postClickGoods:c,d=n.extendParams,l=void 0===d?this.extendParams:d,g=n.maxPage,m=void 0===g?this.maxPage:g;if(Object.keys(t).length>0&&t.defaultFetchUrl){var p=t.defaultFetchUrl,f=void 0===p?this.baseUrl:p;this.baseUrl=f}else this.baseUrl=t;this.beginFirst=a,this.postClickGoods=u,this.extendParams=l;var v={},h=i.Z.getFunctions(),_=h.coreUtil;(0,r.Lf)()&&(v=_.parseUrlQuery((0,r.w)())||{}),v.rule_id&&(this.extendParams.rule_id=v.rule_id),v.batch_sn&&(this.extendParams.batch_sn=v.batch_sn),v.mixed_goods_list&&(this.extendParams.mixed_goods_list=v.mixed_goods_list),this.maxPage=m,(0,s.Z)().reset(e)}},{key:"runInContructor",value:function(e){var t=(e||{}).dataList,n=void 0===t?[]:t;(n||[]).length>0&&(this.beginFirst=!1,(0,s.Z)().ascertainOrgRec(n[0]))}},{key:"isFetchEnded",value:function(){var e=(0,s.Z)(),t=this.beginFirst?1:e.page+1;return this.maxPage>0&&t>this.maxPage}},{key:"fetch",value:function(e){return g(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,c,u,d,l,g,m,p,f,v,h,_,y,b,k,P,I,O,S,C,j,w,N,x,T,E,L,F,A=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,s.Z)(),r=n.getBaseParams(),u=(c=e||{}).subId,d=void 0===u?0:u,l=c.optId,g=void 0===l?r.optId:l,m=c.page,p=void 0===m?r.page:m,f=c.size,v=void 0===f?r.size:f,h=c.listId,_=void 0===h?r.listId:h,y=i.Z.getFunctions(),b=y.requestUtil,k=y.coreUtil,P=r.destAppName,I={page_sn:r.pageSn,app_name:P,list_id:"".concat(P,"_").concat(r.listId,"_").concat(n.subId||n.optId),page:this.beginFirst?1:n.page+1,size:this.beginFirst?(n.page||1)*n.size:n.size},O=r.menu||{},(Number(O.tab_type)||0)===o.hE.DEFAULT&&(I=Object.assign({},I,{opt_id:n.subId||n.optId})),S=this.baseUrl||"",O.fetch_ad_url&&(S=O.fetch_ad_url||""),C=this.pageImprCnt[I.opt_id]||0,j=(this.clickedIds||{})[I.opt_id]||[],w=this.postClickGoods,j.length>0&&w&&(I.click_goods_ids=j.join(",")),n.reset({optId:g,subId:d,page:p,size:v,listId:_}),N=this.extendParams||{},I=Object.assign({},N,I),(x=S.indexOf("orchard_merge")>=0)&&(I=Object.assign({},I,{hole_cnt:C})),I.opt_id&&isNaN(I.opt_id)&&(I.opt_id=0),Object.keys(O.fetch_extend_params||{}).length>0&&(I=Object.assign({},I,O.fetch_extend_params)),Object.keys(O.ext_params||{}).length>0&&(I=Object.assign({},I,O.ext_params)),T=this.beginFirst,this.beginFirst=!1,t.next=26,this.beforeFetch(I,{beginFirst:T,extendParams:N,menu:O});case 26:return E=t.sent,Object.keys(E||{}).length>0&&(I=E),(L={}).useRawResponse=!0,(F=I.app_name)&&(S=k.appendQuery({app_name:F},S)),t.abrupt("return",b.baseRequest(S,{method:"POST",params:I},L).then((function(e){var t=e=e||{},i={};L.useRawResponse&&(t=e.data||e,i=e.headers||{});var r=(t=A.afterFetch(t))||{},o=r.item_list,s=void 0===o?[]:o,c=r.result,u=void 0===c?{}:c,l=r.title_show_type,m=void 0===l?0:l,f=(u||{}).title_show_type,h=void 0===f?0:f,_=[];return!(((_=x?(0,a.te)(u,C):(0,a.h)(s))||[]).length>0)||T&&p||n.incrPage(),n.ascertainOrgRec((_||[])[0],i),{page:p,size:v,optId:g,subId:d,list:(_||[]).map((function(e){return Object.assign({title_show_type:m||h},e)})),origin:t}})));case 33:case"end":return t.stop()}}),t,this)})))}},{key:"afterFetch",value:function(e){return e}},{key:"beforeLeave",value:function(e){var t=(e||{}).data,n=((void 0===t?{}:t)||{}).goods_id,i=void 0===n?"":n,r=(0,s.Z)().getBaseParams()||{},o=r.subId,a=void 0===o?0:o,c=r.optId,u=a||(void 0===c?0:c);(this.clickedIds[u]||[]).length||(this.clickedIds[u]=[]),i&&this.clickedIds[u].push(i)}},{key:"doPatching",value:function(e){return e=(0,a.Tw)(e,"goods_id")}},{key:"beforePatch",value:function(e,t){for(var n=(0,s.Z)().getBaseParams()||{},i=n.subId,r=void 0===i?0:i,a=n.optId,u=r||(void 0===a?0:a),d=this.doPatching([].concat(c(e),c(t))),l=0,g=0,m=d.length;g<m;g++){var p=(d[g]||{}).elem_type,f=void 0===p?0:p;f=Number(f)||0,(d[g]||{}).impr_index=l,l+=f===o.oy.Hmall?2:1}return this.pageImprCnt[u]=l,d}},{key:"beforeFetch",value:function(e,t){return Promise.resolve(Object.assign({},e,{page:Number(e.page)||1,size:Number(e.size)||20}))}}],n&&l(t.prototype,n),u&&l(t,u),e}();t.Z=m},23255:function(e,t,n){var i=n(82448),r=n(66556),o=n(63409),a=n(18735);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.imprElsn={},this.imprExt={},this.queries={},this.name="imprLogger",this.createRecommendLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,i=void 0===t?{}:t,r=e.idx,o=void 0===r?0:r,s=e.type,c=void 0===s?0:s,u=n.loadImprElSn()[c];if(!(u=(u||{}).impr||u))return{};var d=(0,a.Z)().getBaseParams(),l=d.optId,g=d.subId,m=d.destSceneId,p=i||{},f=p.impr_index,v=p.track_log_fields,h=p.ad,_=p.p_rec,y={page_el_sn:u,idx:Number(f)||Number(o),sug_idx:o,ad:JSON.stringify(v),opt_id:Number(g)||Number(l)||0,scene_id:m};return h&&Object.keys(h).length>0&&(y.ad=JSON.stringify(h)),_&&Object.keys(_).length>0&&(y.p_rec=JSON.stringify(_)),y},this.createMallLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,i=void 0===t?{}:t,r=e.idx,o=void 0===r?0:r,s=e.type,c=void 0===s?0:s,u=i||{},d=n.loadImprElSn()[c];if(!(d=(d||{}).impr||d))return{};var l=u.mall_id,g=u.p_search,m=u.p_rec,p=u.ad,f=u.impr_index,v=u.track_info,h=u.fun_track_info,_=u.collected,y=(0,a.Z)().getBaseParams(),b=y.optId,k=y.subId,P=y.destSceneId,I={page_el_sn:d,opt_id:Number(k)||Number(b)||0,idx:Number(f)||Number(o),mall_id:l,scene_id:P,follow_type:2,collected:_};return p&&Object.keys(p).length>0&&(I.ad=JSON.stringify(p)),m&&Object.keys(m).length>0&&(I.p_rec=JSON.stringify(m)),g&&Object.keys(g).length>0&&(I.p_search=JSON.stringify(g)),Object.keys(v||{}).length>0&&(I=Object.assign({},v||{},I)),Object.keys(h||{}).length>0&&(I=Object.assign({},h||{},I)),I},this.createSimilarLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,i=void 0===t?{}:t,r=e.idx,o=void 0===r?0:r,s=e.type,c=void 0===s?0:s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"impr",d=i||{};d=d.similar_list||d;var l=n.loadImprElSn()[c];if(!(l=(l||{})[u]||l))return{};var g=d,m=g.trigger_goods_id,p=g.trigger_goods_index,f=void 0===p?o:p,v=g.track_log_fields,h=g.ad,_=g.p_rec,y=(0,a.Z)().getBaseParams(),b=y.optId,k=y.subId,P=y.destSceneId,I={page_el_sn:l,idx:f,trigger_goods_id:m,opt_id:Number(k)||Number(b)||0,scene_id:P,ad:""};return v&&Object.keys(v).length>0&&(I.ad=JSON.stringify(v)),h&&Object.keys(h).length>0&&(I.ad=JSON.stringify(h)),_&&Object.keys(_).length>0&&(I.p_rec=JSON.stringify(_)),I},this.doClickImpr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=void 0===t?{}:t,a=e.idx,s=void 0===a?-1:a,c=e.type,u=void 0===c?0:c,d=arguments.length>1?arguments[1]:void 0,l=(d||{}).dataset,g=r||{},m=null;if(u===o.oy.Recommend){var p=g.ad_id,f=g.query,v=g.click_idx,h=g.recommend_list,_=JSON.stringify({ad_id:p,query:f});m=n.createRecommendLogger({data:h,idx:s,type:u}),m=Object.assign({},m,{query_idx:v,clkQuery:_})}if(u!==o.oy.Hmall&&u!==o.oy.Vmall||(m=n.createMallLogger({data:r,idx:s,type:u})),u===o.oy.LvMall&&(m=n.createLiveMallLogger({data:r,idx:s,type:u})),u===o.oy.LvMallGoods&&(m=n.createLvMallGoodsLogger({data:r,idx:s,type:u})),u!==o.oy.HGoods&&u!==o.oy.VGoods||(m=n.createMallGoodsLogger({data:r,idx:s,type:u})),u===o.oy.Similar){var y=g.click_idx,b=void 0===y?0:y;m=n.createSimilarLogger({data:r,idx:s,type:u},"click"),m=Object.assign({},m,{query_idx:b})}u===o.oy.SGoods&&(m=n.createSlidingGoodsLogger({data:r,idx:s,type:u})),u!==o.oy.AdGoods&&u!==o.oy.LvGoods||(m=n.createLogger({data:r,idx:s,type:u})),u&&u!==o.oy.Goods&&u!==o.oy.CustomRow||(m=n.createLogger({data:r,idx:s,type:u})),u===o.oy.CustomCell&&(m=n.createCustomCellLogger({data:r,idx:s,type:u}));var k=l||{},P=k.page_el_name,I=void 0===P?"":P,O=(n.loadImprExt()[I]||{}).click||{};m=Object.assign({},m,O);var S=i.Z.getFunctions(),C=S.logger;return m?C.trackingRecord(Object.assign({op:"click"},m)):Promise.resolve(r)};var s={},c=i.Z.getFunctions().coreUtil;(0,r.Lf)()&&(s=c.parseUrlQuery((0,r.w)())||{}),this.queries=s,this.reset(t)}var t,n,u;return t=e,n=[{key:"reset",value:function(e){var t=e||{},n=t.imprElsn,i=void 0===n?{}:n,r=t.imprExt,o=void 0===r?{}:r;this.imprElsn=Object.assign({},this.imprElsn,i||{}),this.imprExt=Object.assign({},this.imprExt,o||{}),(0,a.Z)().reset(e)}},{key:"loadImprConfig",value:function(e){var t;return s(t={},o.oy.Goods,!0),s(t,o.oy.AdGoods,!0),s(t,o.oy.LvGoods,!0),s(t,o.oy.Hmall,!0),s(t,o.oy.Vmall,!0),s(t,o.oy.Coupon,!0),s(t,o.oy.Favorite,!0),s(t,o.oy.Similar,!0),s(t,o.oy.HGoods,!0),s(t,o.oy.VGoods,!0),s(t,o.oy.Recommend,!0),s(t,o.oy.Sliding,!0),s(t,o.oy.SGoods,!0),s(t,o.oy.LvMall,!0),s(t,o.oy.LvMallGoods,!0),s(t,o.oy.CustomRow,!0),s(t,o.oy.CustomCell,!0),t}},{key:"loadImprElSn",value:function(){var e=(0,a.Z)().getBaseParams().destAppName,t=this.imprElsn,n=this.imprElsn[e]||{};return Object.keys(n).length>0&&(t=n),t}},{key:"loadImprExt",value:function(){var e=(0,a.Z)().getBaseParams().destAppName,t=this.imprExt,n=this.imprExt[e]||{};return Object.keys(n).length>0&&(t=n),t||{}}},{key:"createCustomCellLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,i=e.idx,r=void 0===i?0:i,o=e.type,s=void 0===o?0:o,c=n||{},u=this.loadImprElSn()[s];if(!(u=(u||{}).impr||u))return{};var d=c.impr_index,l=c.fun_track_info,g=(0,a.Z)().getBaseParams(),m=g.optId,p=g.subId,f=g.destSceneId,v={page_el_sn:u,idx:Number(d)||Number(r),scene_id:f,opt_id:Number(p)||Number(m)||0};return Object.keys(l||{}).length>0&&(v=Object.assign({},l||{},v)),v}},{key:"createLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,i=e.idx,r=void 0===i?0:i,o=e.type,s=void 0===o?0:o,c=n||{},u=this.loadImprElSn()[s];if(!(u=(u||{}).impr||u))return{};var d=c.goods_id,l=c.p_search,g=c.p_rec,m=c.ad,p=c.impr_index,f=c.track_info,v=c.fun_track_info,h=(0,a.Z)().getBaseParams(),_=h.optId,y=h.subId,b=h.destSceneId,k=this.queries||{},P=k.query,I=void 0===P?"":P,O=k.recommend_ad_idx,S=void 0===O?null:O,C=k.sug_idx,j=void 0===C?null:C,w={page_el_sn:u,goods_id:d,idx:Number(p)||Number(r),scene_id:b,opt_id:Number(y)||Number(_)||0,rec_goods_id:d,sug_idx:j,query_idx:S,query:I};return m&&Object.keys(m).length>0&&(w.ad=JSON.stringify(m)),g&&Object.keys(g).length>0&&(w.p_rec=JSON.stringify(g)),l&&Object.keys(l).length>0&&(w.p_search=JSON.stringify(l)),Object.keys(f||{}).length>0&&(w=Object.assign({},f||{},w)),Object.keys(v||{}).length>0&&(w=Object.assign({},v||{},w)),w}},{key:"createMallGoodsLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,i=e.idx,r=void 0===i?0:i,o=e.type,s=void 0===o?0:o,c=n||{},u=this.loadImprElSn()[s];if(!(u=(u||{}).impr||u))return{};var d=c.goods_id,l=c.p_search,g=c.p_rec,m=c.ad,p=c.track_info,f=c.fun_track_info,v=c.impr_goods_index,h=c.impr_mall_data,_=h||{},y=_.mall_id,b=void 0===y?"":y,k=_.impr_index,P=void 0===k?0:k,I=(0,a.Z)().getBaseParams(),O=I.optId,S=I.subId,C=I.destSceneId,j={page_el_sn:u,goods_id:d,mall_id:b,idx:Number(P)||Number(r),scene_id:C,opt_id:Number(S)||Number(O)||0,goods_idx:v};return m&&Object.keys(m).length>0&&(j.ad=JSON.stringify(m)),g&&Object.keys(g).length>0&&(j.p_rec=JSON.stringify(g)),l&&Object.keys(l).length>0&&(j.p_search=JSON.stringify(l)),Object.keys(p||{}).length>0&&(j=Object.assign({},p||{},j)),Object.keys(f||{}).length>0&&(j=Object.assign({},f||{},j)),j}},{key:"createSlidingGoodsLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,i=e.idx,r=void 0===i?0:i,a=e.type,s=void 0===a?0:a,c=n||{},u=this.loadImprElSn()[s];if(!(u=(u||{}).impr||u))return{};var d=this.createLogger({data:n,idx:r,type:o.oy.SGoods}),l=c.sliding_pos;return d=Object.assign({},d,{in_sliding_window:1,sliding_pos:l})}},{key:"createLiveMallLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,i=e.idx,r=void 0===i?0:i,o=e.type,s=void 0===o?0:o,c=n||{},u=this.loadImprElSn()[s];if(!(u=(u||{}).impr||u))return{};var d=c.mall_id,l=c.room_id,g=c.live_fans,m=c.p_search,p=c.p_rec,f=c.ad,v=c.url_tracks,h=c.impr_index,_=c.cost_type,y=v||{},b=y.refer_banner_middle,k=void 0===b?"":b,P=(0,a.Z)().getBaseParams(),I=P.optId,O=P.subId,S=P.destSceneId,C={page_el_sn:u,mall_id:d,room_id:l,is_fans:g?1:0,idx:Number(h)||Number(r),scene_id:S,opt_id:Number(O)||Number(I)||0};return 5===_&&(C.refer_banner_middle=k),f&&Object.keys(f).length>0&&(C.ad=JSON.stringify(f)),p&&Object.keys(p).length>0&&(C.p_rec=JSON.stringify(p)),m&&Object.keys(m).length>0&&(C.p_search=JSON.stringify(m)),C}},{key:"createLvMallGoodsLogger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,i=e.idx,r=void 0===i?0:i,o=e.type,s=void 0===o?0:o,c=n||{},u=this.loadImprElSn()[s];if(!(u=(u||{}).impr||u))return{};var d=c.goods_id,l=c.impr_shop_data,g=l||{},m=g.mall_id,p=void 0===m?0:m,f=g.impr_index,v=void 0===f?0:f,h=g.room_id,_=void 0===h?0:h,y=g.live_fans,b=void 0!==y&&y,k=(0,a.Z)().getBaseParams(),P=k.destSceneId;return{scene_id:P,page_el_sn:u,idx:Number(v)||Number(r),room_id:_,is_fans:b?1:0,mall_id:p,goods_id:d,goods_idx:r}}},{key:"doLogImpr",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t,r=e.idx,a=void 0===r?-1:r,s=e.type,c=void 0===s?0:s,u=n||{},d=null;if(c===o.oy.Recommend){var l=u.recommend_query_ad_single_list||[];(d=this.createRecommendLogger({data:n,idx:a,type:c})).imprQuery=JSON.stringify(l.map((function(e){return{query:e.query,ad_id:e.ad_id}})))}c!==o.oy.Hmall&&c!==o.oy.Vmall||(d=this.createMallLogger({data:n,idx:a,type:c})),c===o.oy.LvMall&&(d=this.createLiveMallLogger({data:n,idx:a,type:c})),c===o.oy.LvMallGoods&&(d=this.createLvMallGoodsLogger({data:n,idx:a,type:c})),c!==o.oy.HGoods&&c!==o.oy.VGoods||(d=this.createMallGoodsLogger({data:n,idx:a,type:c})),c===o.oy.Similar&&(d=this.createSimilarLogger({data:n,idx:a,type:c})),c===o.oy.SGoods&&(d=this.createSlidingGoodsLogger({data:n,idx:a,type:c})),c!==o.oy.AdGoods&&c!==o.oy.LvGoods||(d=this.createLogger({data:n,idx:a,type:c})),c&&c!==o.oy.Goods&&c!==o.oy.CustomRow||(d=this.createLogger({data:n,idx:a,type:c})),c===o.oy.CustomCell&&(d=this.createCustomCellLogger({data:n,idx:a,type:c}));var g=u.ad_report;if(g&&Object.keys(g||{}).length>0&&(d.ad=JSON.stringify(g)),(d||{}).page_el_sn){var m=i.Z.getFunctions(),p=m.logger;p.trackingRecord(Object.assign({op:"impr"},d))}}}],n&&c(t.prototype,n),u&&c(t,u),e}();t.Z=u},88262:function(e,t,n){var i=n(66556);function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.pageKey="cartoon_widgets_fruit_goods",this.optId=0,this.subId=0,this.size=20,this.page=0,this.list=[],this.cacheData={},this.name="localCache";var n=t||{},i=n.page,r=void 0===i?0:i,o=n.size,s=void 0===o?20:o,c=n.optId,u=void 0===c?0:c,d=n.subId,l=void 0===d?0:d;this.size=s,this.page=r,this.optId=u,this.subId=l}var t,n,o;return t=e,n=[{key:"cleanCache",value:function(){this.page=0,this.list=[],this.cacheData={}}},{key:"putInCache",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=arguments.length>3?arguments[3]:void 0;e.length&&(this.page=o||this.page+1,this.optId=t,(n>=0||(0,i.ZQ)(n))&&(this.subId=n),this.list=[].concat(r(this.list),r(e)))}},{key:"getFromCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=this.subId||this.optId;this.cacheData[n]={page:this.page,list:this.list};var r=t||e;this.optId=e,(t>=0||(0,i.ZQ)(t))&&(this.subId=t);var o=this.cacheData[r]||{},a=o.page,s=void 0===a?0:a,c=o.list,u=void 0===c?[]:c;return this.page=s,this.list=u||[],{options:{optId:this.optId,subId:this.subId,size:this.size,page:this.page},list:this.list}}}],n&&s(t.prototype,n),o&&s(t,o),e}();t.Z=c},90607:function(e,t,n){var i=n(82448),r=n(18735),o=n(66556),a=n(37554);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.connected=!1,this.optId=0,this.subId=0,this.menuCache={},this.callBacks=[],this.cbRefresh=[],this.fetchParams={},this.baseUrl="api/tyrion/opts",this.name="menuSwitch";var n=(0,r.Z)().getBaseParams()||{},i=n.optId,o=void 0===i?0:i,a=n.subId,s=void 0===a?0:a,c=t||{},u=c.optId,d=void 0===u?o:u,l=c.subId,g=void 0===l?s:l,m=c.optFetchUrl,p=void 0===m?this.baseUrl:m,f=c.fetchParams,v=void 0===f?{}:f;this.optId=d,this.subId=g,this.baseUrl=p,this.fetchParams=v,(0,r.Z)().reset({optId:d,subId:g})}var t,n,c;return t=e,n=[{key:"connect",value:function(){this.connected=!0}},{key:"isConnected",value:function(){return this.connected}},{key:"reigistResetCB",value:function(e){this.callBacks.push(e)}},{key:"registRefreshCB",value:function(e){this.cbRefresh.push(e)}},{key:"beforePatch",value:function(e){return e}},{key:"addMenuToMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.optId,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,r.Z)().addMenuToMap((0,o.ZQ)(t)||(0,o.ZQ)(e)||0,n)}},{key:"manualReset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.optId,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,r.Z)().addMenuToMap((0,o.ZQ)(t)||(0,o.ZQ)(e)||0,n),e!==this.optId||t!==this.subId){var i=n||{},a=i.link_app_name,s=void 0===a?"":a,c=i.link_scene_id,u=void 0===c?0:c;(0,r.Z)().changeBaseParams({subAppName:s,subSceneId:u});for(var d=0,l=this.callBacks.length;d<l;d++){var g=this.callBacks[d];(0,o.mf)(g)&&g(e,t)}}}},{key:"menuRefresh",value:function(e){this.forceRefreshView(e)}},{key:"forceRefreshView",value:function(e){for(var t=0,n=this.cbRefresh.length;t<n;t++){var i=this.cbRefresh[t];(0,o.mf)(i)&&i(e)}}},{key:"manualRefresh",value:function(){for(var e=0,t=this.callBacks.length;e<t;e++){var n=this.callBacks[e];(0,o.mf)(n)&&n(this.optId,this.subId,1)}}},{key:"fetch",value:function(){var e=(0,r.Z)().getBaseParams()||{},t=e.subAppName||e.appName,n=i.Z.getFunctions(),o=n.requestUtil,a=n.coreUtil,s={};t&&(s.app_name=t),s=Object.assign({},s,this.fetchParams||{});var c=a.appendQuery(s,this.baseUrl);return o.baseRequest(c)}},{key:"beforeReset",value:function(e){var t=(0,r.Z)().getBaseParams()||{},n=t.page,o=void 0===n?1:n,a=t.optId,s=t.subId,c=void 0===s?0:s,u=i.Z.getFunctions().page.getScrollTop(),d=c||a,l=this.menuCache[d]||{};this.menuCache[d]=Object.assign({},l,{page:o,scrollTop:u})}},{key:"afterUpdate",value:function(e){var t=e||{},n=t.optId,o=void 0===n?this.subId:n,s=t.subId,c=void 0===s?this.subId:s,u=c||o;if(u!==(this.subId||this.optId)){var d=(this.menuCache[u]||{}).scrollTop,l=void 0===d?-1:d,g=i.Z.getFunctions().page;l>=0&&g.setScrollTop(l),this.optId=o,this.subId=c;var m=(0,r.Z)().getBaseParams(),p=m.subAppName,f=void 0===p?"":p,v=m.subSceneId,h=void 0===v?0:v,_={opt_id:o,sub_opt_id:c,sp:0,page:0};f&&(_=Object.assign({},_,{sub_app_name:f})),h&&(_=Object.assign({},_,{sub_scene_id:h}));var y=(0,r.Z)().getBaseParams().menu||{},b={};Object.keys(y.fetch_extend_params||{}).length>0&&(b=Object.assign({},b,y.fetch_extend_params)),Object.keys(y.ext_params||{}).length>0&&(b=Object.assign({},b,y.ext_params));var k={};Object.keys(b).forEach((function(e){k["fetch_".concat(e)]=b[e]})),_=Object.assign({},k,_),(0,a.wS)(_)}}}],n&&s(t.prototype,n),c&&s(t,c),e}();t.Z=c},14564:function(e,t,n){var i=n(37554),r=n(63409),o=n(82448),a=n(66556),s=n(18735);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=["goods_id","goods_name","mkt_tr_sc","hd_thumb_url","cost_type","group","p_rec","hole_size","hole_type","link_url","link_url_ext","mall_id","market_price","price","price_info","price_type","normal_price","position","ad_product_type","cat_id1"],l=function(e){var t=e||{},n=t.mkt_tr_sc,i=void 0===n?"":n,r=t.mkt_domain,o=void 0===r?"":r,a=t.source_type,s=void 0===a?"":a,c=t.ad_product_type,u=void 0===c?"":c,d=t.goods_id,l=void 0===d?"":d,g=t.goods_name,m=void 0===g?"":g,p=t.mall_id,f=void 0===p?"":p,v=t.mall_name,h=void 0===v?"":v,_=t.group,y=void 0===_?"":_,b=t.price,k=void 0===b?"":b,P=t.p_rec,I=void 0===P?{}:P,O=t.cat_id1,S=void 0===O?"":O;return m?{mkt_tr_sc:i,mkt_domain:o,source_type:s,ad_product_type:u,mall_id:f,mall_name:h,goods_id:l,goods_name:m,group:JSON.stringify(y||{}),price:k,p_rec:JSON.stringify(I||{}),cat_id1:S}:Object.assign({},e||{},{ad:null})},g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e),this.bizType=r.p4.DEFAULT,this.priceFetchedTime=0,this.isFetchedPrice=!1,this.priceConfig={},this.monitorCfg={},this.depth=0,this.name="minitorLogger",this.htmlname="",this.ruleFetchedTime=0,this.isFetchedRule=!1,this.ruleConfig={};var n=t||{},i=n.monitorCfg,o=void 0===i?this.monitorCfg:i;this.monitorCfg=o,(0,s.Z)().reset(t)}var t,n,g;return t=e,n=[{key:"getPluginConfig",value:function(){return Object.keys(this.monitorCfg).length>0?this.monitorCfg:(0,s.Z)().getBaseParams().monitorCfg||{}}},{key:"getCommonPmmTags",value:function(){var e=(0,s.Z)().getBaseParams(),t=(0,s.Z)().orgStr||"default",n=e.pageSn,i=void 0===n?0:n,r=e.pageName,o=e.destAppName;return this.htmlname||(this.htmlname=(0,a.M2)()),{fun_page_sn:i,fun_page_name:r,fun_html_name:this.htmlname,fun_rec:t,fun_app_name:o}}},{key:"getBaseLogInfo",value:function(){var e=(0,s.Z)().getBaseParams()||{},t=e.listId,n=void 0===t?"":t,i=e.optId,r=void 0===i?"":i,o=e.subId,a=void 0===o?"":o,c=e.page,u=void 0===c?0:c,d=e.destSceneId,l=void 0===d?"":d;return{listId:n,optId:r,subId:a,page:u,mediaId:this.bizType,sceneId:l}}},{key:"getFloorOrCeilPrice",value:function(e){var t=(0,s.Z)().getBaseParams()||{},n=t.optId,i=void 0===n?"":n,r=t.subId,o=Number(void 0===r?"":r)||Number(i),a=this.priceConfig||{},c=(a.cate_price_map||{})[o]||{},u=Number(c[e])||Number(a[e]);return u>0?u:"floor_price"===e?0:Number.MAX_VALUE}},{key:"beforeLoad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.oy.Goods,n=this.getPluginConfig()||{},o=(n[t]||{}).request||{},a=n.requestQPS||{},c=a[t]||{},u=(0,i.WI)(o.eventId||c.eventId,(0,s.Z)().orgStr);(0,i.ep)(u,e)}},{key:"beforeLeave",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.oy.Goods,n=e=e||{},o=n.type,s=void 0===o?r.oy.Goods:o;s=t||s;var c=e.data||{},u=c.goods_id,l=void 0===u?"":u,g=c.cost_type,m=void 0===g?"":g;4===Number(m)&&(s=r.oy.CPS);var p=Object.assign({},e,{data:null});d.forEach((function(e){p[e]=c[e]&&(0,a.Kn)(c[e])?JSON.stringify(c[e]):c[e]})),(0,i.uM)({groupId:r.mc.adClick,tags:Object.assign({},this.getCommonPmmTags(),{fun_goods_type:Number(s),extras:{logger_data:p}})}),l&&(0,i.ep)(16,p)}},{key:"afterLoad",value:function(e){var t=e||{},n=t.error,o=void 0===n?0:n,a=t.data,c=void 0===a?{}:a,u=t.prevList,d=void 0===u?[]:u,l=t.isPreload,g=void 0!==l&&l,m=(c||{}).list||[],p=this.getPluginConfig(),f=p.loadError,v=void 0===f?{}:f,h=p.loadBack,_=void 0===h?{}:h,y=(0,s.Z)().orgStr,b=(0,i.WI)((v||{}).eventId,y),k=Object.assign({},e,{prevList:(d||[]).length,data:JSON.stringify(Object.assign({},c,{list:m.length}))});if(this.logNormalPercent({items:m}),(0,i.uM)({groupId:r.mc.resCount,tags:this.getCommonPmmTags(),longFields:{listcount:Number(m.length)||0}}),o>0)return(0,i.uM)({groupId:r.mc.resError,tags:this.getCommonPmmTags(),extras:k}),(0,i.ep)(b,k);var P=(c||{}).origin||{};(!1===P.has_more||!1===(P.result||{}).has_more)&&(0,i.uM)({groupId:r.mc.resLast,tags:this.getCommonPmmTags(),extras:k});var I=m.length,O=(_||{}).minAmount;I&&I<(void 0===O?20:O)&&(0,i.uM)({groupId:r.mc.resLessCnt,tags:this.getCommonPmmTags(),extras:k}),m.length||(d||[]).length||g||(0,i.uM)({groupId:r.mc.resEmpty,tags:this.getCommonPmmTags(),extras:k})}},{key:"afterEnter",value:function(e){var t=this,n=e.data||e.list||[];n=n.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e||{},n=t.elem_type,i=void 0===n?r.oy.Goods:n;return i===r.oy.Goods||i===r.oy.CustomRow||!i})),e=Object.assign({},e,{data:n.slice(0,4)}),this.logNormalPercent({items:n}),this.doCheckPrice(e),this.doCheckFilter(e);var s=o.Z.getFunctions().nativeNotification;(0,i.Rw)()&&(0,a.mf)((s||{}).addSceneLeaveCallback)&&s.addSceneLeaveCallback((function(){(0,i.uM)({groupId:r.mc.scanDepth,tags:t.getCommonPmmTags(),longFields:{depth:Number(t.depth)}})}))}},{key:"adDidShow",value:function(e){var t=(e||{}).data,n=void 0===t?{}:t,o=(e||{}).type,a=void 0===o?r.oy.Goods:o,s=n||{},c=s.mall_id,u=void 0===c?"":c,d=s.mall_name,l=void 0===d?"":d,g=s.goods_id,m=void 0===g?"":g,p=s.goods_name,f=void 0===p?"":p,v=s.mkt_tr_sc,h=void 0===v?"":v,_=s.hd_thumb_url,y=void 0===_?"":_,b=s.cost_type,k=void 0===b?"":b,P=s.spec_id,I=void 0===P?0:P;a&&a!==r.oy.Goods&&a!==r.oy.CustomRow||(this.doCheckPrice({data:[n]}),a=4===Number(k)?r.oy.CPS:a,a=7===Number(I)?r.oy.LgGoods:a);var O=Object.assign({},e,{data:JSON.stringify({mall_id:u,mall_name:l,goods_id:m,goods_name:f,mkt_tr_sc:h,hd_thumb_url:y,cost_type:k})});Number(a)>0&&(0,i.uM)({groupId:r.mc.adShow,tags:Object.assign({},this.getCommonPmmTags(),{fun_goods_type:Number(a)}),extras:O})}},{key:"doLogImpr",value:function(e){var t=(e||{}).idx,n=void 0===t?0:t;n>this.depth&&(this.depth=n)}},{key:"isPriceUnEffect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.getFloorOrCeilPrice("floor_price"),n=t>0;if(!n)return[];var i=e.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e||{},i=n.source_type,r=void 0===i?0:i,o=n.group,a=void 0===o?{}:o,s=n.price,c=void 0===s?0:s,u=Number((a||{}).price)||Number(c)||0,d=Number(r)>0||u>=t;return!d}));return i.length>0&&this.priceFetchedTime<3&&(this.priceFetchedTime=this.priceFetchedTime+1,this.isFetchedPrice=!1),(i||[]).map(l)}},{key:"isGTCeilPrice",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.getFloorOrCeilPrice("ceil_price")<Number.MAX_VALUE;if(!n)return[];var i=t.filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t||{},i=n.source_type,r=void 0===i?0:i,o=n.group,a=void 0===o?{}:o,s=n.price,c=void 0===s?0:s,u=a||{},d=u.price_type,l=void 0===d?0:d,g=u.price_str,m=void 0===g?"0":g,p=Number((a||{}).price)||Number(c)||0;2===Number(l)&&Number(m)>0&&(p=100*Number(m));var f=Number(r)>0||p<e.getFloorOrCeilPrice("ceil_price");return!f}));return i.length>0&&this.priceFetchedTime<3&&(this.priceFetchedTime=this.priceFetchedTime+1,this.isFetchedPrice=!1),(i||[]).map(l)}},{key:"doCheckPrice",value:function(e){var t=this;e=e||{};var n=this.getPluginConfig().effectPrice||{},i=n.bizType,a=void 0===i?r.p4.DEFAULT:i,c=n.requestUrl,u=void 0===c?"":c;a=a||r.p4.DEFAULT,u=u||"api/fun-gateway/query/price/config",this.bizType=a;var d=e.data||e.list||[];if(d.length){var l=((0,s.Z)().getBaseParams()||{}).destSceneId,g=void 0===l?"":l,m=e.sceneIds||[];!m.length&&g&&(m=[g]),m=m.map((function(e){return Number(e)})).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return!!e}));var p=this.getBaseLogInfo();if(this.isFetchedPrice){var f=this.isPriceUnEffect(d);f.length>0&&this.logUnEffectPriceGoods(f,Object.assign({},p,{sceneIds:m}));var v=this.isGTCeilPrice(d);v.length>0&&this.logNoPassGoods({groupId:r.mc.pirceGTCeil,items:v,oLogger:Object.assign({},p,{scene_price_config:this.priceConfig,sceneIds:m})})}else{this.isFetchedPrice=!0;var h,_,y,b=o.Z.getFunctions().requestUtil,k={scene_id:m};a>0&&(k={media_scene_map:(h={},_=a,y=m,_ in h?Object.defineProperty(h,_,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[_]=y,h)}),b.baseRequest(u,{method:"POST",params:k}).then((function(e){e=(e=(e||{}).scene_price_config_map||{})[m[0]]||{},t.priceConfig=e;var n=t.isPriceUnEffect(d);n.length>0&&t.logUnEffectPriceGoods(n,Object.assign({},p,{sceneIds:m}));var i=t.isGTCeilPrice(d);i.length>0&&t.logNoPassGoods({groupId:r.mc.pirceGTCeil,items:i,oLogger:Object.assign({},p,{scene_price_config:t.priceConfig,sceneIds:m})})})).catch((function(){t.priceConfig={floor_price:0,ceil_price:Number.MAX_VALUE}}))}}}},{key:"logIfPriceUnEffect",value:function(e){}},{key:"logUnEffectPriceGoods",value:function(e,t){var n=this,o=this.getPluginConfig().effectPrice,a=((void 0===o?{}:o)||{}).eventId,c=void 0===a?0:a,u=(0,i.WI)(c,(0,s.Z)().orgStr);e.forEach((function(e){var o=Object.assign({},t||{},{bizType:n.bizType,scene_price_config:JSON.stringify(n.priceConfig||{}),goods:JSON.stringify(Object.assign({},e||{}))});(0,i.ep)(u,o),(0,i.uM)({groupId:r.mc.pirceLTFloor,tags:n.getCommonPmmTags(),extras:o})}))}},{key:"logNoPassGoods",value:function(e){var t=this,n=e.items,r=e.oLogger;n.forEach((function(n){var o=Object.assign({},r||{},{goods:n});(0,i.uM)({groupId:e.groupId,tags:t.getCommonPmmTags(),extras:o})}))}},{key:"isFilterUnEffect",value:function(e){var t=this.ruleConfig||{},n=t.filter_cate_ids||[],i=t.only_cate_ids||[];if(!(n.length+i.length>0))return[];var r=[];return e.forEach((function(e){var t=Number((e||{}).cat_id1)||0;t>0&&n.length>0&&n.includes(t)&&r.push(e),t>0&&i.length>0&&!i.includes(t)&&r.push(e)})),r.length>0&&this.ruleFetchedTime<3&&(this.ruleFetchedTime=this.ruleFetchedTime+1,this.isFetchedRule=!1),(r||[]).map(l)}},{key:"doCheckFilter",value:function(e){var t=this;e=e||{};var n=(this.getPluginConfig().filterRule||{}).requestUrl||"api/fun-gateway/query/goods/filter/rule",i=e.data||e.list||[],a=(0,s.Z)().getBaseParams()||{},c=e.ruleId||a.ruleId;if(i.length&&c){var u=this.getBaseLogInfo();if(this.isFetchedRule){var d=this.isFilterUnEffect(i);d.length>0&&this.logNoPassGoods({groupId:r.mc.filterEx,items:d,oLogger:Object.assign({},u,{rule_config:this.ruleConfig})})}else this.isFetchedRule=!0,o.Z.getFunctions().requestUtil.baseRequest(n,{method:"POST",params:{rule_id:c,media_id:this.bizType}}).then((function(e){var n=e.filter_cate_list,o=e.only_show_cate_list,a=(n||[]).map((function(e){return Number(e.cate_id)})).filter((function(e){return e>0})),s=(o||[]).map((function(e){return Number(e.cate_id)})).filter((function(e){return e>0}));t.ruleConfig=Object.assign({},e,{only_cate_ids:s,filter_cate_ids:a});var c=t.isFilterUnEffect(i);c.length>0&&t.logNoPassGoods({groupId:r.mc.filterEx,items:c,oLogger:Object.assign({},u,{rule_config:t.ruleConfig})})})).catch((function(){t.ruleConfig={}}))}}},{key:"logNormalPercent",value:function(e){var t=e.items,n=void 0===t?[]:t;try{var o=n.filter((function(e){return!(e||{}).ad})),a=Math.round(100*o.length/n.length);(0,i.uM)({groupId:r.mc.normalPercent,tags:this.getCommonPmmTags(),longFields:{nrmpercent:a||0}})}catch(e){console.error("logNormalPercent >>>",e)}}}],n&&u(t.prototype,n),g&&u(t,g),e}();t.Z=g},86888:function(e,t,n){var i=n(82448),r=n(18735),o=n(37554),a=n(66556),s=n(63409);function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=1,g=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mapStatus={},this.mapPrice={},this.currentList=[],this.updateFns=[],this.currentOptId="0",this.pddTianBiz=10082,this.fetchParams={},this.collectFromPatch=!0,this.merchantTag=s.aG.DEFAULT,this.monitor=null,this.isEnable=!1,this.isTianPushActivate=!1,this.msgId="-1",this.baseUrl="api/arsenal/consult_goods_price",this.name="priceListener",this.getPluginMonitor=function(){return Object.keys(n.monitor||{}).length>0?n.monitor:((0,r.Z)().getBaseParams().monitorCfg||{}).priceTitanPush||{}},this.addTianListener=function(){if((0,a.Lf)()&&!n.isTianPushActivate){n.isTianPushActivate=!0;var e=i.Z.getFunctions().pinBridge;(0,a.mf)((e||{}).callNative)&&e.callNative("PDDTitanPush","register",{biz_type:n.pddTianBiz,push_receiver:function(e,t){var i=(n.getPluginMonitor().receive||{}).eventId,a=void 0===i?0:i,s=(0,o.WI)(a,(0,r.Z)().orgStr);(0,o.ep)(s,{error:e||{},resoponse:t||{}}),console.log("================PDDTitanPush====================="),console.log(JSON.stringify(e||{})),console.log(JSON.stringify(t||{})),console.log("================PDDTitanPush=====================");var c=(((t||{}).result||[])[0]||{}).msg_id,u=void 0===c?"":c;u&&n.msgId!==u&&(n.msgId=u,Object.keys(n.mapStatus||{}).forEach((function(e){n.mapStatus[e]=!1})),n.mapPrice={},n.doUpdate())}})}},this.addForceUpdateFn=function(e){(0,a.mf)(e)&&n.updateFns.push(e)};var c=t||{},u=c.baseUrl,d=void 0===u?this.baseUrl:u,l=c.fetchParams,g=void 0===l?{}:l,m=c.pddTianBiz,p=void 0===m?this.pddTianBiz:m,f=c.merchantTag,v=void 0===f?this.merchantTag:f,h=c.monitor,_=void 0===h?this.monitor:h;this.baseUrl=d,this.fetchParams=g,this.pddTianBiz=p,this.merchantTag=v,this.monitor=_,this.doUpdate=(0,a.P2)(this.doUpdate.bind(this),1e3)}var t,n,u;return t=e,(n=[{key:"fetch",value:function(){var e=i.Z.getFunctions().requestUtil,t=this.currentList||[],n=t.map((function(e){return e.goods_id})).filter((function(e){return!!e})),a=(t[0]||{}).mkt_domain||0;if(!(n||[]).length)return Promise.resolve({});var s={goods_id_list:n,merchant_tag:this.merchantTag,mkt_domain:a};s=Object.assign({},s,this.fetchParams||{});var c=(0,r.Z)().orgStr,u=this.getPluginMonitor(),d=(u.request||{}).eventId,l=void 0===d?0:d,g=(0,o.WI)(l,c);return(0,o.ep)(g,{params:s}),e.baseRequest(this.baseUrl,{method:"POST",params:Object.assign({},s,{anti_content:""})}).then((function(e){var t=e.goods_price_map,n=void 0===t?{}:t,i=e.success,r=(u.response||{}).sucessId,a=void 0===r?0:r,d=(0,o.WI)(a,c);return(0,o.ep)(d,{params:s,data:e}),i?n:{}})).catch((function(e){var t=(u.response||{}).failedId,n=void 0===t?0:t,i=(0,o.WI)(n,c);(0,o.ep)(i,{params:s,excetion:e})}))}},{key:"beforePatch",value:function(e,t){var n=this,i=(0,r.Z)().getBaseParams()||{},o=i.subId,a=void 0===o?0:o,u=i.optId,d=a||(void 0===u?0:u),g=this.mapPrice[d]||{},m=[].concat(c(e||[]),c(t||[]));return this.collectFromPatch&&(this.currentList=(m||[]).map((function(e){var t=e||{},i=t.goods_id,r=void 0===i?0:i,o=t.mkt_domain,a=void 0===o?0:o,c=t.group,u=void 0===c?{}:c;return Number((u||{}).price_type)===s.jj.COUPONPRICE&&(n.isEnable=!0),{goods_id:r,mkt_domain:a,group:u}}))),this.isEnable&&this.addTianListener(),this.mapStatus[this.currentOptId]?m:(this.mapStatus[this.currentOptId]=!0,m.map((function(e){var t=e||{},n=t.goods_id,i=void 0===n?0:n,r=t.group,o=void 0===r?{}:r,a=t.force_refresh,s=void 0===a?0:a,c=g[i]||{},u=(o||{}).price_str,d=void 0===u?"":u,m=c.price_str,p=void 0===m?"":m;return!i||!p||p&&d===p?e:Object.assign({},e,{group:Object.assign({},e.group||{},c),force_refresh:(Number(s)||0)+l})})))}},{key:"afterUpdate",value:function(e){var t=this,n=e||{},i=n.optId,r=void 0===i?"":i,o=n.subId,a=void 0===o?"":o,c=n.list,u=void 0===c?[]:c,d=a.toString().trim()||r.toString().trim()||"";if(""!==d){this.collectFromPatch=!1,this.currentOptId=d,this.currentList=(u||[]).map((function(e){var n=e||{},i=n.goods_id,r=void 0===i?0:i,o=n.mkt_domain,a=void 0===o?0:o,c=n.group,u=void 0===c?{}:c;return Number((u||{}).price_type)===s.jj.COUPONPRICE&&(t.isEnable=!0),{goods_id:r,mkt_domain:a,group:u}})),this.isEnable&&this.addTianListener();var l=Object.keys(this.mapStatus||{});this.currentOptId!==d&&l.includes(d)&&(this.mapStatus[d]=!1,this.doUpdate())}}},{key:"doUpdate",value:function(){var e=this;this.isEnable&&this.fetch().then((function(e){console.log("================Fetch====================="),console.log(JSON.stringify(e||{})),console.log("================Fetch=====================");for(var t=Object.keys(e||{})||[],n={},i=0,r=t.length;i<r;i++){var o=t[i],a=e[o]||{},s=a.price_info,c=a.price_type;n[o]={price_info:s,price_type:c,price_str:s}}return n})).then((function(t){Object.keys(t).length>0&&(e.mapPrice[e.currentOptId]=t);var n=e.updateFns||[];Object.keys(t).length>0&&(l++,n.forEach((function(e){return e()})))})).catch((function(){console.error("[pdd-cartoon-goods-plugins] :: priceListener > 获取券后价失败")}))}}])&&d(t.prototype,n),u&&d(t,u),e}();t.Z=g},33696:function(e,t,n){n.r(t),n.d(t,{getFunctions:function(){return fe},initFunctions:function(){return pe}});var i={};n.r(i),n.d(i,{addPageContext:function(){return c.po},captchaVerifyResult:function(){return c.E7},checkABTest:function(){return c.km},checkAudioEnabled:function(){return c.SL},checkContactAuthority:function(){return c.uc},checkNotify:function(){return c.wC},configReportTimeout:function(){return c.Nt},disableSwipeBack:function(){return c._g},enableAudio:function(){return c.D$},enableNotify:function(){return c.LV},enableSwipeBack:function(){return c.eZ},getAccessToken:function(){return c.hP},getBatteryInfo:function(){return c.JG},getDDJBParams:function(){return c.ZQ},getDeviceInfo:function(){return c.dz},getExtra:function(){return c.dG},getMeta:function(){return c.xZ},getNativeStorage:function(){return c.KV},getPageContext:function(){return c.a2},getPageShownType:function(){return c.X6},getPasteBoard:function(){return c.fB},getReferPageContext:function(){return c.pZ},getSourceApplication:function(){return c.z4},getStorage:function(){return c.cF},getUserInfo:function(){return c.bG},hideCaptchaDialog:function(){return c.zT},invokeBridgeCallNativeFun:function(){return c.Q6},invokeBridgeDecodeFuncs:function(){return c.Zq},logToNative:function(){return c.NJ},mask:function(){return c.sS},onWebMounted:function(){return c.GN},openDirectPay:function(){return c.TF},playAudio:function(){return c.Sk},preloadAudio:function(){return c.ST},requestPopupAndShow:function(){return c.kJ},searchContactsByMobiles:function(){return c.au},selectContact:function(){return c.KJ},setBackButton:function(){return c.z2},setHeaderRefresh:function(){return c.NX},setNativeStorage:function(){return c.G2},setPageContext:function(){return c.I8},setPasteBoard:function(){return c.wt},setPasteBoardKL:function(){return c.DI},setRichTitle:function(){return c.E3},setRightBarButtons:function(){return c.WJ},setStorage:function(){return c.ub},setTitle:function(){return c.Td},setupPullReload:function(){return c.nk},showKeyboard:function(){return c.ez},showRetryPage:function(){return c.vY},showSharePage:function(){return c.fd},startRecord:function(){return c.yb},stopAudio:function(){return c.ON},stopRecord:function(){return c.F2},updateDDJBParams:function(){return c.P6},uploadAudio:function(){return c.vw},uploadLog:function(){return c.Dy},venderAppIds:function(){return c.nw},vibrateLong:function(){return c.Ed},vibrateShort:function(){return c.ix},waitTabPageVisible:function(){return c.Rl}});var r={};n.r(r),n.d(r,{appendQuery:function(){return v.ru},buildQuery:function(){return v.XP},changeTitle:function(){return Y.r},crc32:function(){return p.k},createPageId:function(){return V.Vm},decode:function(){return g.J},disableScroll:function(){return z},disableScrollAndLock:function(){return q},discount:function(){return l.Al},enableScroll:function(){return M},encode:function(){return g.c},forceHttps:function(){return v.Hm},formatTime:function(){return l.mr},generateCDNImageUrl:function(){return _.FT},getBodyScrollTop:function(){return J},getCDNImgUrl:function(){return N.H},getCompressedImgUrl:function(){return P},getCookie:function(){return m.ej},getExtendInfoFromQuery:function(){return V.H4},getNetWorkType:function(){return E.R},getPathnameWithSearchAndHash:function(){return v.Rh},getReferInfo:function(){return V.g$},getReferPageInfo:function(){return V.Qv},getRoundAvatar:function(){return j},getSafeAreaBottom:function(){return K},httpsSafe:function(){return v.rB},isAbsoluteUrl:function(){return v.sD},isSupportWebGL:function(){return $},isSupportWebp:function(){return T},launchApp:function(){return Y.I},launchPDDApp:function(){return h.p},loadScript:function(){return Q.v},memoize:function(){return W.HP},nanoid:function(){return f.x},parseQuery:function(){return v.mB},parseUrlQuery:function(){return v.FU},price:function(){return l.nt},priceCent:function(){return l.bd},rejectOnTimeout:function(){return W.e9},removeCookie:function(){return m.nJ},replaceImgDomain:function(){return I.y},resizeWatermarkWidth:function(){return _.GK},resolveFullUrl:function(){return v.De},round:function(){return l.NM},safeParseJson:function(){return l.as},sales:function(){return l.BH},setBodyScrollTop:function(){return D},setCookie:function(){return m.d8},throttle:function(){return W.P2},throwErrorAsync:function(){return W.K2},wechatGetInstallState:function(){return h.t}});var o={};n.r(o),n.d(o,{addNotificationCallback:function(){return ie.rB},addPageShowCallback:function(){return ie._r},addSceneLeaveCallback:function(){return ie.$m},addSceneReturnCallback:function(){return ie.Fz},send:function(){return ie.lW}});var a={};n.r(a),n.d(a,{addPmmCollecters:function(){return re.Z},default:function(){return re.q},getBaseParam:function(){return oe.HU},initGlobalPmmGroupConfig:function(){return oe.gW},pmmReport:function(){return oe.h8},reportDefined:function(){return oe.P2},resolvePmmUrl:function(){return oe.x1}});var s=n(15038),c=n(84195),u=n(24441),d=n(189),l=n(10991),g=n(98725),m=n(2171),p=n(60350),f=n(18414),v=n(39569),h=n(84225),_=n(91809);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){return(0,_.FT)(e,b(b({},_.C5),{},{webpEnable:t}))}var I=n(24646);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var C=encodeURIComponent("|");function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||"",e=(0,I.y)(e);var n=(e=(0,v.Hm)(e)).split("?"),i=O(n,2),r=i[0],o=i[1];if(o)return e;var a=t.size||100;return"".concat(r,"?imageMogr2/thumbnail/").concat(a,"x").concat(C,"imageMogr2/iradius/").concat(a/2,"/format/png")}var w,N=n(49984);var x=function(){return w=new Promise((function(e){var t=document.createElement("img");t.onload=t.onerror=function(){return e(!(!t.height||!t.width))},t.src="data:image/webp;base64,UklGRlAAAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSBIAAAABBxAR/Q8ABOH/3EFE/1MDAABWUDggGAAAADABAJ0BKhAAEAACACYlpAADcAD+/PQAAA=="}))};function T(){return w||x()}var E=n(46016),L=!1;try{var F=Object.defineProperty({},"passive",{get:function(){return L=!0}});window.addEventListener("passivesupport",null,F)}catch(e){}var A=-1,U=-1;function G(e,t){var n=function(e){var t=e.targetTouches[0];return Math.abs(t.clientY-U)>Math.abs(t.clientX-A)}(t);!n||n&&function(e){return e.targetTouches[0].clientY>U}(t)&&!function(e){return e.scrollTop<=0}(e)||n&&function(e){return e.targetTouches[0].clientY<U}(t)&&!function(e){return e.scrollHeight<=e.scrollTop+e.clientHeight+1}(e)?t.stopPropagation():t.cancelable&&t.preventDefault()}var B=[];function R(e){e.cancelable&&e.preventDefault()}var Z=!1;function M(){Z||(document.body.removeEventListener("touchmove",R),document.documentElement.removeEventListener("touchmove",R),B.forEach((function(e){return e()})),B=[])}function z(e){var t=!!L&&{passive:!1};document.body.addEventListener("touchmove",R,t),document.documentElement.addEventListener("touchmove",R,t),e&&(e=e.nodeType?[e]:Array.prototype.slice.call(e)).forEach((function(e){e.nodeType?function(e){function t(e){A=e.targetTouches[0].clientX,U=e.targetTouches[0].clientY}var n=G.bind(null,e),i=!!L&&{passive:!1};e.addEventListener("touchstart",t,i),e.addEventListener("touchmove",n,i),B.push((function(){e.removeEventListener("touchstart",t),e.removeEventListener("touchmove",n)}))}(e):console.error("disableEventNew: 参数错误，需传dom对象")}))}function q(e){return z(e),Z?function(){}:(Z=!0,function(){Z=!1,M()})}function D(e){document.body.scrollTop=e,document.documentElement&&(document.documentElement.scrollTop=e)}function J(){return document.body.scrollTop||document.documentElement.scrollTop||0}var H,Q=n(43158),W=n(38231),V=n(97684),Y=n(18792);function K(){return H||(document.getElementById("__safeAreaStyle__")||document.head.insertAdjacentHTML("beforeend",'<style id="__safeAreaStyle__">:root {\n      --sab:constant(safe-area-inset-bottom);\n      --sab: env(safe-area-inset-bottom);\n    }</style>'),H=getComputedStyle(document.documentElement).getPropertyValue("--sab"))}function $(){var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return t&&t instanceof WebGLRenderingContext}var X=n(66437),ee=n(53534),te=n(13822),ne=n(58701),ie=n(49229),re=n(11201),oe=n(27087),ae=n(66556),se={baseRequest:function(e,t){return Promise.reject("The baseRequest method is unsupported")},manortkRequest:function(e,t){return Promise.reject("The manortkRequest method is unsupported")}},ce={setStorageSync:function(e,t){},getStorageSync:function(e){return""}},ue={setStorageSync:function(e,t){},getStorageSync:function(e){return""}};if("undefined"!=typeof window){var de=window.localStorage;ce=Object.assign({},ce,{setStorageSync:function(e,t){de.setItem(e,t)},getStorageSync:function(e){return de.getItem(e)||""}});var le=window.sessionStorage;ue=Object.assign({},ue,{setStorageSync:function(e,t){le.setItem(e,t)},getStorageSync:function(e){return le.getItem(e)||""}})}se=Object.assign({},se,{baseRequest:function(e,t,n){var i=(t=t||{}).method||"GET";i=i.toUpperCase();var r=ee.ZP.instance.getPageSN(),o=e||"",a=t.params||{},s=v.FU(o)||{};("POST"!==i||a.page_sn||(a=Object.assign({},a,{page_sn:r})),"GET"===i)&&(s.page_sn||""||(o+=-1!==o.indexOf("?")?"&":"?",o+="&page_sn=".concat(r)));n=n||{};var c=Object.assign({},a,s);return(c.hasOwnProperty("anti_content")||c.hasOwnProperty("screen_token"))&&(n.useNativeAntiToken=!0,a.use_anti_token=1,a.hasOwnProperty("anti_content")&&!a.anti_content&&delete a.anti_content,a.hasOwnProperty("screen_token")&&!a.screen_token&&delete a.screen_token),new Promise((function(e,t){d.Z.apiRequest(i,o,a,(function(t){e(t)}),(function(e){t(e)}),null,null,null,n)}))},manortkRequest:function(e,t){var n=(t=t||{}).method||"POST";n=(n||"").toUpperCase();var i=t.params||null;if((0,ae.mf)(d.Z.manortkRequest))return d.Z.manortkRequest(n,e,i);var r={method:n,headers:{"Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify(i)};return fetch(e,r).catch((function(){}))}});var ge={setPageScrollPosition:function(e,t){if((e=e||{}).queries=e.queries||{},"undefined"!=typeof document){var n=document.querySelector("#nav-bar");n&&(e.queries.nbsl=n.scrollLeft)}s.ZP.replaceQuery(e.queries,t)},setScrollTop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===e)return document.body.scrollTop=0,void((document.documentElement||{}).scrollTop=0);document.body.scrollTop=e,0===document.body.scrollTop&&((document.documentElement||{}).scrollTop=e)},getScrollTop:function(){return document.body.scrollTop+((document.documentElement||{}).scrollTop||0)}},me={trackingRecord:u.oP},pe=function(e){},fe=function(){return{navigation:s.ZP,platformUtil:ne,page:ge,logger:me,requestUtil:se,localStorage:ce,sessionStorage:ue,pddAuth:X,coreUtil:Object.assign({getCurrentPageName:function(){var e=location.pathname,t=e.indexOf("/")+1,n=e.indexOf(".html");return{name:e.substr(t,n-t),pathname:e,link:window.location.href}}},r||{}),nativeUtil:i,nativeNotification:o,pddPmm:a,pinBridge:te.ZP}}},82448:function(e,t,n){var i={};i=n(33696),t.Z=i}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-fun-cashback/js/355_31f0c92a9477ee7b7b26.js.map