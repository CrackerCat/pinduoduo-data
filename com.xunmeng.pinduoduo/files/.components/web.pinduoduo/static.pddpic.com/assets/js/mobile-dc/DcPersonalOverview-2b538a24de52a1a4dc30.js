(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["314f"],{"7uUq":function(e,t,r){"use strict";r.d(t,{K:function(){return o},b:function(){return n}});var o=function(e,t){return t.axios.post("api/carnival/content_list/no_back_list",e)},n=function(e){return e.axios.post("user/profile/me",{})}},DXnM:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return se}});var o,n,i,a,s,c,u,l,p,m,f=r("U5BY"),d=r.n(f),b=r("hwDT"),h=r.n(b),g=r("f6/u"),v=r.n(g),y=r("f17R"),_=r.n(y),w=r("Vl5s"),k=r.n(w),N=r("9bdW"),S=r.n(N),C=r("lrCg"),U=r.n(C),O=r("iQtE"),I=r.n(O),D=r("xeO4"),z=r.n(D),$=r("0Qln"),A=r.n($),B=r("i/Q6"),E=r.n(B),q=r("jXLS"),P=r.n(q),x=(r("XC3m"),r("T6n4")),L=r.n(x),R=r("UK90"),j=r("7uUq");function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var K,M=(o=function(e){v()(f,e);var t,r,o=(t=f,function(){var e,r=k()(t);if(H()){var o=k()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return _()(this,e)});function f(){var e;d()(this,f);for(var t=arguments.length,r=new Array(t),b=0;b<t;b++)r[b]=arguments[b];return e=o.call.apply(o,[this].concat(r)),A()(e,"$avater",n,E()(e)),A()(e,"$nickName",i,E()(e)),A()(e,"$subsidyAmount",a,E()(e)),A()(e,"$superpositionAmount",s,E()(e)),A()(e,"subsidyUrl",c,E()(e)),A()(e,"superpositionUrl",u,E()(e)),A()(e,"avaterBg",l,E()(e)),A()(e,"showCoupon",p,E()(e)),A()(e,"orderBtnBg",m,E()(e)),e.$queryCouponParams={carnival_id:e.rootStore.promotion_id,page_no:1,page_size:10},e}return h()(f,[{key:"request",value:(r=z()(L().mark((function e(t){var r,o,n,i,a,s,c,u=this;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rootStore.isEditor){e.next=2;break}return e.abrupt("return");case 2:return r=[(0,j.b)(t).catch((function(){}))],o=[(0,j.K)(Object.assign({group:"user_promotion_activity_coupon"},this.$queryCouponParams),t).catch((function(){})),(0,j.K)(Object.assign({group:"user_superposition_coupon"},this.$queryCouponParams),t).catch((function(){}))],this.showCoupon&&(r=[].concat(I()(r),o)),e.next=7,Promise.all(r);case 7:n=e.sent,i=U()(n,3),a=i[0],s=i[1],c=i[2],(0,R.runInAction)((function(){a&&u.initUserInfo(a),s&&u.initSubsidyInfo(s),c&&u.initSuperpositionInfo(c)}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"initUserInfo",value:function(e){this.$avater=e.avatar,this.$nickName=e.nickname}},{key:"initSubsidyInfo",value:function(e){var t,r;this.$subsidyAmount=((null===(t=e.content_list)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.total_coupon_discount)||0)/100}},{key:"initSuperpositionInfo",value:function(e){var t,r,o,n;this.$superpositionAmount=((null===(t=e.content_list)||void 0===t||null===(r=t[0])||void 0===r||null===(o=r.user_coupon_list)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.discount_param)||0)/100}}]),f}(r("wfOt").Z),n=P()(o.prototype,"$avater",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"http://funimg.pddpic.com/promotion/2019-09-24/ec3cd8e99006c1d59e1dbb23b903d1d7.png"}}),i=P()(o.prototype,"$nickName",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"..."}}),a=P()(o.prototype,"$subsidyAmount",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=P()(o.prototype,"$superpositionAmount",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=P()(o.prototype,"subsidyUrl",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"index.html"}}),u=P()(o.prototype,"superpositionUrl",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"index.html"}}),l=P()(o.prototype,"avaterBg",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=P()(o.prototype,"showCoupon",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=P()(o.prototype,"orderBtnBg",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P()(o.prototype,"request",[R.action],Object.getOwnPropertyDescriptor(o.prototype,"request"),o.prototype),P()(o.prototype,"initUserInfo",[R.action],Object.getOwnPropertyDescriptor(o.prototype,"initUserInfo"),o.prototype),P()(o.prototype,"initSubsidyInfo",[R.action],Object.getOwnPropertyDescriptor(o.prototype,"initSubsidyInfo"),o.prototype),P()(o.prototype,"initSuperpositionInfo",[R.action],Object.getOwnPropertyDescriptor(o.prototype,"initSuperpositionInfo"),o.prototype),o),Q=M,Z=r("GDNQ"),T=r("4mj9"),V=r("2tVT"),W=r("BFRN"),X=r("KdYu"),Y=r("iuwq"),F=r("ukrc"),G=r.n(F),J=r("OESa"),ee=r.n(J),te=r("VCAa"),re=r("gIXg");function oe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ne="http://funimg.pddpic.com/promotion/2019-09-24/657081cc8f560ad25a9cd96a485a0207.png",ie="http://funimg.pddpic.com/promotion/2019-09-24/06e1820b4fe2b5c7ca7b6e4d24fc8654.png",ae=G()(ee())(K=(0,X.inject)("store")(K=(0,X.observer)(K=function(e){v()(o,e);var t,r=(t=o,function(){var e,r=k()(t);if(oe()){var o=k()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return _()(this,e)});function o(){var e;d()(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).toMySubsidy=function(){(0,Z.eH)(e.store.subsidyUrl)},e.toMyCoupon=function(){(0,Z.eH)(e.store.superpositionUrl)},e.toOrderList=function(){(0,Z.eH)(re.uX)},e.toLogin=function(){(0,T.login)()},e.renderCouponOverview=function(){return S().createElement("div",{className:ee().couponWrapper},S().createElement(W.Z,{src:ie,className:ee().couponImg}),S().createElement("div",{onClick:e.toMySubsidy,className:ee().couponAmount},e.store.$subsidyAmount||0),S().createElement("div",{onClick:e.toMySubsidy,className:ee().couponDetails},"平台津贴"),S().createElement("div",{className:ee().couponSeparate}),S().createElement(W.Z,{src:ne,className:ee().subsidyImg}),S().createElement("div",{onClick:e.toMyCoupon,className:ee().subsidyAmount},e.store.$superpositionAmount||0),S().createElement("div",{onClick:e.toMyCoupon,className:ee().subsiDetails},"补贴红包"))},e}return h()(o,[{key:"render",value:function(){var e=this.store,t=e.avaterBg,r=e.$avater,o=e.$nickName,n=e.showCoupon,i=e.orderBtnBg,a={backgroundImage:t,height:(0,te.Q1)(n?150:84)};return S().createElement("div",{id:this.componentId,style:this.UIStore.style,className:ee().personalWrapper},S().createElement(V.ZP,{style:a,className:ee().avaterBg,optimize:!0},S().createElement(W.Z,{src:r,className:ee().avater}),this.rootStore.userHasLogin()?S().createElement("div",{className:ee().name},o):S().createElement("div",{className:ee().toLoginName,onClick:this.toLogin},"立即登录"),this.rootStore.userHasLogin()&&S().createElement(W.Z,{src:i,onClick:this.toOrderList,className:ee().order}),n&&this.renderCouponOverview()))}}]),o}(Y.Z))||K)||K)||K;ae.Store=Q;var se=ae},OESa:function(e,t,r){var o=r("07xc"),n=r("DDs0"),i="string"==typeof o?[[e.id,o,""]]:o;(t=e.exports=o.locals||{})._getContent=function(){return i},t._getCss=function(){return""+o},t._insertCss=function(e){return n(i,e)}},"07xc":function(e,t,r){(t=e.exports=r("Cgg2")(!1)).push([e.id,'._1piSgGTT{position:relative}._2CV49Wrc{background-size:100% 100%;background-repeat:no-repeat}.L8U-qjZp{position:relative;top:.23rem;left:.14rem;width:.45rem;height:.45rem;border-radius:50%}._3H0NS_QH{left:.68rem;top:.25rem}._3H0NS_QH,._3YO7qc8D{position:absolute;line-height:.2rem;font-size:.17rem;color:#fff;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:1.3rem}._3YO7qc8D{left:.65rem;top:.36rem}._3hHjtLRH{position:absolute;left:.67rem;top:.5rem;width:.7rem;height:.17rem;border-radius:.12rem}.soKSj9Qw{position:absolute;bottom:0;margin-left:.09rem;width:3.57rem;height:.66rem;background:-webkit-linear-gradient(top,#ffe2d7,#ffb199);background:linear-gradient(180deg,#ffe2d7,#ffb199);border-radius:.07rem}._1VvfA-pR{margin-left:.21rem;margin-top:.12rem;width:.35rem;height:.42rem}._3hM2bsKP{position:absolute;top:.1rem;left:.68rem;line-height:.28rem;font-size:.27rem;font-weight:700;color:#d5002c}._3hM2bsKP:after{position:relative;bottom:.02rem;font-size:.13rem;content:"\\5143"}._2qBNFtUa{position:absolute;top:.41rem;left:.7rem;font-size:.12rem;color:#e91217;line-height:.13rem}._2qBNFtUa:after{content:"";display:inline-block;position:relative;bottom:.01rem;width:.07rem;height:.07rem;border-top:.01rem solid #e91217;border-right:.01rem solid #e91217;-webkit-transform:rotate(45deg);transform:rotate(45deg)}._1O8U185d{margin-left:1.45rem;margin-top:.12rem;width:.35rem;height:.42rem}._2JLiv1Pr{position:absolute;top:.1rem;left:2.46rem;font-size:.27rem;line-height:.28rem;font-weight:700;color:#d5002c}._2JLiv1Pr:after{position:relative;bottom:.02rem;left:.02rem;font-size:.13rem;content:"\\5143"}._3t6fcNUg{position:absolute;top:.41rem;left:2.46rem;font-size:.12rem;color:#e91217;line-height:.13rem}._3t6fcNUg:after{content:"";display:inline-block;position:relative;bottom:.01rem;width:.07rem;height:.07rem;border-top:.01rem solid #e91217;border-right:.01rem solid #e91217;-webkit-transform:rotate(45deg);transform:rotate(45deg)}._1pBNifcp{position:absolute;height:.41rem;width:.01rem;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:#e91217;opacity:.5}',""]),t.locals={personalWrapper:"_1piSgGTT",avaterBg:"_2CV49Wrc",avater:"L8U-qjZp",name:"_3H0NS_QH",toLoginName:"_3YO7qc8D",order:"_3hHjtLRH",couponWrapper:"soKSj9Qw",couponImg:"_1VvfA-pR",couponAmount:"_3hM2bsKP",couponDetails:"_2qBNFtUa",subsidyImg:"_1O8U185d",subsidyAmount:"_2JLiv1Pr",subsiDetails:"_3t6fcNUg",couponSeparate:"_1pBNifcp"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcPersonalOverview-2b538a24de52a1a4dc30.js.map