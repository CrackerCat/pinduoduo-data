(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["717d"],{"Vj+h":function(e,t,n){"use strict";var r=n("X/oI"),o=n("wfOt");t.Z=(0,o.w)(r.Z)},upIe:function(e,t,n){"use strict";var r=n("XGyy"),o=n("rJMY");t.Z=(0,r.r_)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.T;return function(t){var n=t.fn;return function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=n.apply(t,o),c=function(){return t._emit(e)};return a instanceof Promise?a.then(c,(function(){})):c(),a}}}))},"d++z":function(e,t,n){"use strict";var r=n("iQtE"),o=n.n(r),i=n("/4JS"),a=n.n(i),c=n("9bdW"),u=n.n(c),s=n("KVD2"),l=n.n(s),f=n("pQHD"),p=n.n(f),m=n("W4bd"),d=n("rJMY");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.collectStoreFromProps,n=void 0===t?function(e){return[e.componentStore]}:t,r=e.mapStore2Props,i=void 0===r?function(){return{}}:r,a=e.eventName,s=void 0===a?d.T:a;return function(e){var t=function(t){var r=(0,m.N)(),a=n(t),l=v(v({},t),i.apply(void 0,o()(a).concat([t])));return(0,c.useEffect)((function(){var e=!1,t=p()((function(){return e||r()}),0,{leading:!1,trailing:!0}),n=a.map((function(e){var n;return null===(n=e._on)||void 0===n?void 0:n.call(e,s,t)}));return function(){e=!0,n.forEach((function(e){return null==e?void 0:e()}))}}),[]),u().createElement(e,l)},r=(0,c.memo)(t);return l()(r,e),r}}},rJMY:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var r=Symbol.for("__CART_STORE_CHANGED__")},F8Aq:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var r=function(e,t){return t.axios.post("api/carnival/content_list/no_back_list",e,{useNativeAntiToken:!0})}},hpjl:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ae}});var r,o,i,a,c=n("/4JS"),u=n.n(c),s=n("9bdW"),l=n.n(s),f=n("d++z"),p=n("0Qln"),m=n.n(p),d=n("xeO4"),b=n.n(d),v=n("U5BY"),g=n.n(v),h=n("hwDT"),y=n.n(h),_=n("i/Q6"),w=n.n(_),k=n("f6/u"),x=n.n(k),O=n("f17R"),I=n.n(O),N=n("Vl5s"),P=n.n(N),j=n("jXLS"),E=n.n(j),D=(n("XC3m"),n("T6n4")),S=n.n(D),T=n("Vj+h"),A=n("upIe"),C=n("D+Sb"),J=(0,C.u)([{name:"KEDIEJIA",value:0,label:"可叠加券"},{name:"MANJIAN",value:1,label:"平台满减券"},{name:"PINGTAI",value:2,label:"平台券"}]),z=((0,C.u)([{name:"LEFT",value:0,label:"左侧券"},{name:"RIGHT",value:1,label:"右侧券"}]),u()({},J.PINGTAI,"api/firefly-api/query-platform-coupon")),M=(r={},u()(r,J.KEDIEJIA,"user_superposition_coupon"),u()(r,J.MANJIAN,"user_rebate_coupon"),r),W=(o={},u()(o,J.KEDIEJIA,"kediejia_url"),u()(o,J.MANJIAN,"manjian_url"),u()(o,J.PINGTAI,"pingtai_url"),o),Y={0:{text:"红包补贴",icon1:"https://promotion.pddpic.com/cart/2021-07-19/2c452c0b-70f1-4da4-90cc-ded2ab5d3026_suffix.png",icon2:"https://promotion.pddpic.com/cart/2021-07-19/1340f608-9c9b-4eae-ae4d-546ed781e714_suffix.png"},1:{text:"平台消费券",icon1:"https://promotion.pddpic.com/cart/2021-07-19/0d11ee9e-c193-491e-b9e7-0cc686ad08c7_suffix.png",icon2:"https://promotion.pddpic.com/cart/2021-07-19/6fd8b4e6-4fba-488c-a09e-fcd18ac07aad_suffix.png"}},Z=n("F8Aq"),q=n("4k0V"),G=function(e,t){var n=e.reduce((function(e,n){return e+=+n[t]}),0);return(0,q.priceCent)(n)},Q=function(e,t){return t===J.PINGTAI?G(e,"discount_amount"):G(e,"discount_param")};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var V={useNativeAntiToken:!0,defaultErrorHandler:function(){}},X=(i=function(e){x()(r,e);var t,n=(t=r,function(){var e,n=P()(t);if(L()){var r=P()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return I()(this,e)});function r(){var e;g()(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).couponList=void 0,e.getPingtaiCoupons=function(){var t=b()(S().mark((function t(n){var r,o;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.axios.post(z[J.PINGTAI],{},V);case 2:if(r=t.sent,0!==(o=r.result||[]).length){t.next=6;break}return t.abrupt("return","0");case 6:return t.abrupt("return",Q(o,n));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getCarnivalCoupons=function(){var t=b()(S().mark((function t(n){var r,o,i;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=R(R({},e.params),{},{group:M[n]}),t.next=3,(0,Z.K)(r,e.requestParams);case 3:if(o=t.sent,0!==(i=o.content_list&&o.content_list[0].user_coupon_list||[]).length){t.next=7;break}return t.abrupt("return","0");case 7:return t.abrupt("return",Q(i,n));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getBaseInfo=b()(S().mark((function t(){var n,r;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=[]).push((r=function(t){return t===J.PINGTAI?e.getPingtaiCoupons(t):e.getCarnivalCoupons(t)})(e.leftCouponType)),n.push(r(e.rightCouponType)),t.next=6,Promise.all(n);case 6:e.couponList=t.sent;case 7:case"end":return t.stop()}}),t)}))),m()(e,"request",a,w()(e)),e}return y()(r,[{key:"params",get:function(){return{carnival_id:this.rootStore.promotion_id,page_no:1,page_size:this.pageSize}}}]),r}(T.Z),a=E()(i.prototype,"request",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return b()(S().mark((function t(){var n,r,o;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.rootStore,r=n.isEditor,o=n.userInfo,r||o.uid){t.next=4;break}return e.hide=!0,t.abrupt("return");case 4:return t.prev=4,t.next=7,e.getBaseInfo();case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(4),e.logError(t.t0),e.hide=!0;case 13:case"end":return t.stop()}}),t,null,[[4,9]])})))}}),i),F=n("2tVT"),H=n("iOT4"),U=n("0zLy"),B=n.n(U),$=n("TKwH"),ee=n.n($),te=n("9Q3p"),ne=n("MV8a"),re=n("BqXm"),oe=n("GDNQ"),ie=function(e){ee()(B());var t=e.componentStore,n=t.UIStore.style,r=t.hide,o=t.request,i=t.couponList,a=t.getLog;if((0,s.useEffect)((function(){(0,H.hE)(o)}),[]),r)return null;var c=function(t){var n=e.componentStore,r=a(t);(0,re.i)(r);var o=n[0===t?"leftCouponType":"rightCouponType"],i=n[W[o]];(0,oe.Y5)(i,r)};return l().createElement("div",{style:n,className:B().wrap},i.map((function(e,t){var n=Y[t],r=n.icon1,o=n.icon2,i=n.text,s=a(t);return l().createElement(ne.Z,{key:t,trackingInfo:s},l().createElement("div",{className:B().coupon,key:t,onClick:c.bind(null,t)},l().createElement(F.ZP,{className:B().icon1,backgroundImage:r}),l().createElement("div",{className:B().text},l().createElement("div",{className:B().line1},i,l().createElement(te.Z,u()({className:B().arrow,useIcon:!0,color:"#797979"},"className",B().arrow))),l().createElement("div",{className:B().line2},e)),l().createElement(F.ZP,{className:B().icon2,backgroundImage:o})))})))};ie.Store=X;var ae=(0,f.Z)()(ie)},"0zLy":function(e,t,n){var r=n("NoSv"),o=n("DDs0"),i="string"==typeof r?[[e.id,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},NoSv:function(e,t,n){(t=e.exports=n("Cgg2")(!1)).push([e.id,'._3NW0fmUJ{margin:0 auto;width:3.49rem}._2wJolaYz,._3NW0fmUJ{display:-webkit-box;display:-webkit-flex;display:flex}._2wJolaYz{width:1.73rem;height:.57rem;padding:.07rem 0 .07rem .05rem;border-radius:.04rem;background:#fff}._2wJolaYz:first-child{margin-right:.03rem}._2uQoItbh{width:.37rem;height:.43rem;margin-right:.04rem;background-size:100%}.l-_XD5Di{width:.83rem;padding:.015rem 0;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-justify-content:space-between;-webkit-box-align:start;align-items:flex-start;-webkit-align-items:flex-start;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-flex-direction:column}.WuoM0MWr{font-size:.12rem;color:#797979;position:relative}.kqanDQ6t,.WuoM0MWr{line-height:1;font-weight:700}.kqanDQ6t{font-size:.26rem;color:#ed0d0d}.kqanDQ6t:after{position:relative;display:inline-block;content:"\\5143";font-size:.13rem}._1oF_ovZr{width:.43rem;height:.43rem;background-size:100%}._3SGMW6KY{display:inline-block;position:absolute;-webkit-transform:translateY(-50%) scale(.6);transform:translateY(-50%) scale(.6);top:50%;right:auto}',""]),t.locals={wrap:"_3NW0fmUJ",coupon:"_2wJolaYz",icon1:"_2uQoItbh",text:"l-_XD5Di",line1:"WuoM0MWr",line2:"kqanDQ6t",icon2:"_1oF_ovZr",arrow:"_3SGMW6KY"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcMyCouponNew-3444925c6ddd65c22259.js.map