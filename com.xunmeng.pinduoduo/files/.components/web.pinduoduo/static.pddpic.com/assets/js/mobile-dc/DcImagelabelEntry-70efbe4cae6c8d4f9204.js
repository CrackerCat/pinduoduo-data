(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["a580"],{axbV:function(e,t,r){"use strict";r.d(t,{re:function(){return c},nE:function(){return a},Sk:function(){return s},gL:function(){return u}});var n=r("m8Qe"),o=r.n(n);function i(e){return e.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()}))}function c(e,t,r){for(var n in t=t||{},r=r||[],e)e.hasOwnProperty(n)&&("object"===o()(e[n])&&null!==e[n]&&-1===r.indexOf(n)?t[i(n)]=c(e[n],Array.isArray(e[n])?[]:{},r):t[i(n)]=e[n]);return t}var a=function(e,t){return e.length>t?e.slice(0,t)+"...":e},s=function(e,t){return e.startsWith(t)?e:t+e},u=function(e,t){return e.startsWith(t)?e.slice(t.length):e}},HPX1:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return De}});var n,o=r("iQtE"),i=r.n(o),c=r("xeO4"),a=r.n(c),s=r("U5BY"),u=r.n(s),l=r("hwDT"),f=r.n(l),p=r("f6/u"),d=r.n(p),m=r("f17R"),y=r.n(m),v=r("Vl5s"),g=r.n(v),b=r("T6n4"),h=r.n(b),w=r("9bdW"),k=r.n(w),_=r("KdYu"),O=r("iuwq"),x=r("wJ16"),S=r("/4JS"),E=r.n(S),L=r("AIhP"),j=r.n(L),R=r("kcif"),P=r.n(R),C=r("+tQh"),N=r.n(C),I=r("TKwH"),D=r.n(I),T=r("xnpn"),A=r("902E"),$=r("MV8a"),Z=r("V56i");function z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var F=(0,_.observer)(n=function(e){d()(n,e);var t,r=(t=n,function(){var e,r=g()(t);if(z()){var n=g()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return y()(this,e)});function n(){var e;u()(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=r.call.apply(r,[this].concat(o))).handleClick=function(){var t=e.props,r=t.trackForward,n=t.trackingInfo,o=e.store.editors.landingUrl,i=e.model,c=i.sceneLabelId,a=i.sceneLabelName,s=i.keywordId;r((0,Z.Vi)(o,{top_goods:s,list_token:s,scene_label_id:c,scene_label_name:a}),n)},e}return f()(n,[{key:"store",get:function(){return this.props.componentStore}},{key:"render",value:function(){var e=this.props,t=e.index,r=e.trackingInfo,n=this.store.templateStore;return k().createElement($.Z,{key:t,trackingInfo:r},k().createElement("div",{onClick:this.handleClick},k().createElement(T.Z,{id:t,index:t,data:this.model,json:n.template})))}}]),n}(A.Z))||n,M=r("VRmg"),q=r("BFRN");function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){E()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V,X,G,Q,H,J,W,K=(0,_.observer)((function(e){var t=e.componentStore,r=e.trackForward;D()(N());var n,o,i=t.editors.bgImg;return k().createElement("div",{className:N().container},k().createElement(q.Z,{src:i,onClick:function(){var e=t.editors.collectionUrl;e&&r(e,{},1)}}),k().createElement("div",{className:N().entryList},(n=t.$entryList,o=t.colNum,P()(n,o).map((function(e,n){return k().createElement("div",{key:n,className:N().row},e.map((function(e,n){var o=(0,M.sl)({index:n,goodsItem:e,componentStore:t,pageElSnIndex:2}),i=e.sceneLabelId,c=e.imageLabelSource,a=e.keywordId,s={index:n,model:e,componentStore:t,trackingInfo:U(U({},o),{},{extra_info:JSON.stringify({scene_label_id:i,keyword_id:a,image_label_source:c})}),trackForward:r};return k().createElement(F,j()({key:n},s))})))})))))})),Y=r("ukrc"),ee=r.n(Y),te=r("azrQ"),re=ee()(N())((0,_.observer)((function(e){var t=e.store,r=t.editors.bgImg,n=t.$pageSize,o=t.colNum;return k().createElement("div",{className:N().container},k().createElement(q.Z,{src:r}),k().createElement("div",{className:N().entryList},P()(Array(n).fill(""),o).map((function(e,r){return k().createElement("div",{key:r,className:N().row},e.map((function(e,r){return k().createElement(te.x,{key:r,count:1,skeleton:t.templateStore.skeleton})})))}))))}))),ne=r("D+Sb"),oe=(0,ne.u)([{text:"一排三",name:"THREE_COL",value:1}]),ie=(0,ne.u)([{text:"个性化排序",name:"RECOM",value:1}]),ce=(0,ne.u)([{text:"商品个性化推荐",name:"PERSONAL",value:1}]),ae=E()({},oe.THREE_COL,{colNum:3,StyleComponent:K,SkeletonComponent:re}),se=(0,_.observer)(k().forwardRef((function(e,t){var r=e.store,n=r.editors.styleType,o=r.UIStore.style,i=ae[n].SkeletonComponent;return k().createElement("div",{ref:t,style:o},k().createElement(i,{store:r}))}))),ue=se,le=r("0Qln"),fe=r.n(le),pe=r("i/Q6"),de=r.n(pe),me=r("jXLS"),ye=r.n(me),ve=(r("XC3m"),r("UK90")),ge=r("2ZWC"),be=r("s0Le"),he=r("Skb2"),we=r("nC4b"),ke=r("axbV"),_e=r("V5cf");function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){E()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ee,Le,je,Re,Pe=(V=ve.observable.shallow,X=ve.action.bound,G=ve.action.bound,Q=ve.action.bound,H=function(e){d()(o,e);var t,r,n=(t=o,function(){var e,r=g()(t);if(Se()){var n=g()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return y()(this,e)});function o(){var e;u()(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).editors={subjectId:"",styleType:oe.THREE_COL,rowNum:1,imageLabelRowNum:0,sortType:ie.RECOM,goodsSort:ce.PERSONAL,collectionUrl:"",landingUrl:"",bgImg:""},e.templateStore=(0,be.$)(de()(e)),fe()(e,"$entryList",J,de()(e)),fe()(e,"queryContentList",W,de()(e)),e.getRemark=function(){return[e.nickName,"背景图","图像标签"]},e}return f()(o,[{key:"colNum",get:function(){return ae[this.editors.styleType].colNum}},{key:"$pageSize",get:function(){return this.colNum*this.editors.rowNum}},{key:"dataFormat",value:function(e){var t=this;return e.slice(0,this.$pageSize).map((function(e){var r,n,o,c,a,s,u,l,f,p={sceneLabelId:null!==(r=e.content_id)&&void 0!==r?r:"",sceneLabelName:(0,ke.gL)(null!==(n=e.content_name)&&void 0!==n?n:"","#"),imageLabelSource:null===(o=e.content_extend)||void 0===o?void 0:o.image_label_source,desp:null!==(c=e.desp)&&void 0!==c?c:""},d=null===(a=e.goods_list)||void 0===a?void 0:a[0];if(!d)throw new Error("入口".concat(e.content_id,"下无商品"));var m=i()(new Set((d.goods_tags||[]).map((function(e){return e.text})).filter((function(e){return e})))),y=xe(xe(xe({},new we.ZP(d,{imgType:t.imgType})),p),{},{keywordId:null!==(s=null==d||null===(u=d.goods_extend)||void 0===u?void 0:u.keyword_id)&&void 0!==s?s:"",keywordName:null!==(l=null==d||null===(f=d.goods_extend)||void 0===f?void 0:f.keyword_name)&&void 0!==l?l:"",tag1:null==m?void 0:m[0],tag2:null==m?void 0:m[1]});return(0,M.NR)(y,{isTemplate:!0,extraKey:["sceneLabelId","sceneLabelName","imageLabelSource","keywordId"],store:t})}))}},{key:"afterInit",value:function(){this.$entryList=(0,M.Ag)(this.$entryList)}},{key:"request",value:(r=a()(h().mark((function e(){var t,r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.queryContentList();case 3:t=e.sent,(0,ve.runInAction)((function(){r.$entryList=r.dataFormat(t)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.logError(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return r.apply(this,arguments)})}]),o}(ge.ZP),J=ye()(H.prototype,"$entryList",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=ye()(H.prototype,"queryContentList",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return a()(h().mark((function t(){var r,n,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={subject_id:e.editors.subjectId,group:_e.G_.PROM_IMAGE_LABEL_REC,list_id:e.requestParams.listId,page_no:1,page_size:e.$pageSize,min_display_num:e.$pageSize,goods_count:1,min_display_goods_num:1,extra_param:xe({image_label_num:e.colNum*e.editors.imageLabelRowNum},e.useBusinessIcon&&e.tag?{goods_tag_code:e.tag}:{})},t.next=3,(0,he.$Z)(r,e.requestParams,{notSendErrorWhenBackUp:!0});case 3:return n=t.sent,o=n.content_list,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})))}}),ye()(H.prototype,"dataFormat",[G],Object.getOwnPropertyDescriptor(H.prototype,"dataFormat"),H.prototype),ye()(H.prototype,"request",[Q],Object.getOwnPropertyDescriptor(H.prototype,"request"),H.prototype),H),Ce=r("G2FM"),Ne=r("UzMC");function Ie(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var De=(0,_.inject)("store")(Ee=(0,_.observer)((je=Le=function(e){d()(o,e);var t,r,n=(t=o,function(){var e,r=g()(t);if(Ie()){var n=g()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return y()(this,e)});function o(){var e;u()(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).couponPriceRemover=void 0,e}return f()(o,[{key:"componentDidMount",value:(r=a()(h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,Ce.Rj)(this.store.templateStore)){e.next=5;break}return e.next=4,Ne.ZP.register({store:this.store,merchantTag:Ne.tJ.COMMON,updateGoodsList:function(e){t.store.$entryList.forEach((function(t){var r=t.goodsId;e[r]&&(0,Ne.b1)(e[r],t)}))},getGoodsIdList:function(){var e=t.store.$entryList.map((function(e){return e.goodsId}));return i()(new Set(e))}});case 4:this.couponPriceRemover=e.sent;case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e;null===(e=this.couponPriceRemover)||void 0===e||e.call(this)}},{key:"render",value:function(){if(!this.store.$entryList.length)return null;var e=this.store.editors.styleType,t=ae[e].StyleComponent;return k().createElement("div",{style:this.style},Re||(Re=k().createElement(x.k,null)),k().createElement(t,{componentStore:this.store,trackForward:this.trackForward}))}}]),o}(O.Z),Le.Store=Pe,Le.SkeletonComponent=ue,Ee=je))||Ee)||Ee},"+tQh":function(e,t,r){var n=r("XGt2"),o=r("DDs0"),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},XGt2:function(e,t,r){(t=e.exports=r("Cgg2")(!1)).push([e.id,".XSma2zVo{position:relative}.OJ8NABBq{position:absolute;bottom:0;left:0;right:0}._1nxTjehX{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;justify-content:space-evenly;margin-bottom:.03rem}",""]),t.locals={container:"XSma2zVo",entryList:"OJ8NABBq",row:"_1nxTjehX"}},kcif:function(e,t,r){var n=r("KxBF"),o=r("mv/X"),i=r("Sxd8"),c=Math.ceil,a=Math.max;e.exports=function(e,t,r){t=(r?o(e,t,r):void 0===t)?1:a(i(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var u=0,l=0,f=Array(c(s/t));u<s;)f[l++]=n(e,u,u+=t);return f}},ZCgT:function(e,t,r){var n=r("/dva"),o=1/0;e.exports=function(e){return e?(e=n(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},Sxd8:function(e,t,r){var n=r("ZCgT");e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},"/dva":function(e,t,r){e.exports=r("xyHx")("tLB3")}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcImagelabelEntry-70efbe4cae6c8d4f9204.js.map