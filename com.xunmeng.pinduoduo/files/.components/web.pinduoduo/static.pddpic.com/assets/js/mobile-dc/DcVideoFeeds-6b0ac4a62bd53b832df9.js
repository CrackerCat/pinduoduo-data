(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["6f44"],{"Vj+h":function(e,t,n){"use strict";var r=n("X/oI"),o=n("wfOt");t.Z=(0,o.w)(r.Z)},upIe:function(e,t,n){"use strict";var r=n("XGyy"),o=n("rJMY");t.Z=(0,r.r_)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.T;return function(t){var n=t.fn;return function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=n.apply(t,o),c=function(){return t._emit(e)};return a instanceof Promise?a.then(c,(function(){})):c(),a}}}))},"d++z":function(e,t,n){"use strict";var r=n("iQtE"),o=n.n(r),i=n("/4JS"),a=n.n(i),c=n("9bdW"),u=n.n(c),s=n("KVD2"),l=n.n(s),f=n("pQHD"),p=n.n(f),d=n("W4bd"),m=n("rJMY");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.collectStoreFromProps,n=void 0===t?function(e){return[e.componentStore]}:t,r=e.mapStore2Props,i=void 0===r?function(){return{}}:r,a=e.eventName,s=void 0===a?m.T:a;return function(e){var t=function(t){var r=(0,d.N)(),a=n(t),l=v(v({},t),i.apply(void 0,o()(a).concat([t])));return(0,c.useEffect)((function(){var e=!1,t=p()((function(){return e||r()}),0,{leading:!1,trailing:!0}),n=a.map((function(e){var n;return null===(n=e._on)||void 0===n?void 0:n.call(e,s,t)}));return function(){e=!0,n.forEach((function(e){return null==e?void 0:e()}))}}),[]),u().createElement(e,l)},r=(0,c.memo)(t);return l()(r,e),r}}},rJMY:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var r=Symbol.for("__CART_STORE_CHANGED__")},Ug59:function(e,t,n){"use strict";var r=n("9bdW"),o=n("7eD0");t.Z=function(e){(0,r.useEffect)((function(){return e&&(0,o.Cp)(),function(){e&&(0,o.JM)()}}),[e])}},jjUS:function(e,t,n){"use strict";n.d(t,{JR:function(){return r}});var r,o=n("/4JS"),i=n.n(o),a=n("lrCg"),c=n.n(a),u=n("9bdW");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t-o,c=n-e,u=0;return i?a>0?u=r.UP:a<0&&(u=r.DOWN):c>0?u=r.LEFT:c<0&&(u=r.RIGHT),u}!function(e){e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT"}(r||(r={}));t.ZP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.vertical,r=void 0!==n&&n,o=(0,u.useState)(0),i=c()(o,2),a=i[0],s=i[1],p=(0,u.useState)(!1),d=c()(p,2),m=d[0],g=d[1],v=(0,u.useState)(""),h=c()(v,2),b=h[0],y=h[1],_=(0,u.useState)({touchStartX:0,touchStartY:0,delta:0}),O=c()(_,2),w=O[0],k=O[1];function E(e){var t=e.touches[0].pageX,n=e.touches[0].pageY;k({touchStartX:t,touchStartY:n,delta:0}),g(!0)}function S(e){var t=e.touches[0].pageX,n=e.touches[0].pageY;y("ON_SLIDE_END");var o=t-w.touchStartX,i=n-w.touchStartY,a=r?i:o;r?Math.abs(i)>Math.abs(o)&&e.cancelable&&e.preventDefault():Math.abs(i)<Math.abs(o)&&e.cancelable&&e.preventDefault(),k(l(l({},w),{},{delta:a})),y("ON_SLIDE_MOVE")}function D(e){var t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY,o=f(w.touchStartX,w.touchStartY,t,n,r),i=r?n-w.touchStartY:t-w.touchStartX;s(o),y("ON_SLIDE_END"),g(!1),k(l(l({},w),{},{delta:i}))}return(0,u.useEffect)((function(){if(e&&e.current)return e.current.addEventListener("touchstart",E,!1),e.current.addEventListener("touchmove",S,!1),e.current.addEventListener("touchend",D,!1),function(){e.current.removeEventListener("touchstart",E),e.current.removeEventListener("touchmove",S),e.current.removeEventListener("touchend",D)}})),{direction:a,sliding:m,type:b,delta:w.delta}}},tAln:function(e,t,n){"use strict";n.d(t,{r:function(){return x},Kz:function(){return P}});var r=n("/4JS"),o=n.n(r),i=n("lrCg"),a=n.n(i),c=n("xeO4"),u=n.n(c),s=n("T6n4"),l=n.n(s),f=n("9bdW"),p=n.n(f),d=n("KdYu"),m=n("2tVT"),g=n("hrDj"),v=n("u2c9"),h=n.n(v),b=n("BFRN"),y=n("TKwH"),_=n.n(y),O=n("ekv0"),w=n.n(O),k=n("iOT4"),E=n("Z6Bh");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(){var e=u()(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!t.paused){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t.pause();case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=u()(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.paused){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t.play();case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();t.ZP=(0,d.inject)("store")((function(e){_()(w());var t=(0,f.useState)(!1),n=a()(t,2),r=n[0],o=n[1],i=(0,f.useState)(!1),c=a()(i,2),s=c[0],d=c[1],v=(0,f.useRef)(s),y=(0,f.useRef)(null),O=e.style,S=e.className,I=void 0===S?"":S,j=e.loop,T=void 0===j||j,N=e.poster,C=void 0===N?"":N,L=e.preload,A=void 0===L?"auto":L,R=e.src,G=e.autoPlay,U=e.playsInline,Z=void 0===U||U,M=e.crossOrigin,z=e.muted,W=void 0!==z&&z,B=e.onRef,K=e.autoReplay,V=void 0!==K&&K,H=e.onStartPlay,Y=e.id,F=e.onEnded,q=e.posterStyle,J=void 0===q?{}:q,X=e.store,Q=function(){setTimeout((function(){null==H||H(),o(!0)}),100)},$=function(){var e=u()(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G&&P(null==y?void 0:y.current);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){G&&x(null==y?void 0:y.current)};return(0,f.useEffect)((function(){if(null==B||B(y),null!==k.ZP&&void 0!==k.ZP&&k.ZP.isNativePlatform&&V){var e=[];return u()(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,(0,g.addPageShowCallback)((function(){$()}));case 3:return t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.t2=e,t.next=8,(0,g.addNotificationCallback)("onAppShow",(function(){$()}));case 8:return t.t3=t.sent,t.t2.push.call(t.t2,t.t3),t.t4=e,t.next=13,(0,g.addSceneLeaveCallback)((function(){ee()}));case 13:t.t5=t.sent,t.t4.push.call(t.t4,t.t5);case 15:case"end":return t.stop()}}),t)})))(),function(){e.forEach((function(e){e()}))}}}),[G,T,W,B,V]),(0,f.useEffect)((function(){v.current=s,s?$():ee()}),[s]),p().createElement(p().Fragment,null,p().createElement("video",{src:R,muted:W,className:h()(w().wrap,I),ref:y,preload:A,loop:T,poster:(0,m.BT)(C,null==X?void 0:X.webpEnable),playsInline:Z,"webkit-playsinline":Z.toString(),crossOrigin:M,"x5-video-player-type":"h5-page",style:O,onCanPlay:Q,onCanPlayThrough:Q,onTimeUpdate:function(){var e;r||((null==y||null===(e=y.current)||void 0===e?void 0:e.currentTime)>.1&&(null==H||H()),o(!0))},id:Y,onEnded:F}),p().createElement(E.Z,{onEnter:function(){d(!0)},onLeave:function(){d(!1)},threshold:.5,once:!1},p().createElement("div",{style:D({zIndex:r?-1:1},J),className:w().playerPoster},p().createElement(b.Z,{progress:!0,src:C}))))}))},"+jya":function(e,t,n){"use strict";n.d(t,{yW:function(){return s},TD:function(){return l},IK:function(){return f},hn:function(){return p},MY:function(){return d},CA:function(){return u},E:function(){return m}});var r=n("/4JS"),o=n.n(r),i=n("D+Sb");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u,s="1003",l=(0,i.u)([{name:"CAROUSEL",value:1,label:"轮播"},{name:"VIDEO",value:6,label:"视频"}]),f=(0,i.u)([{name:"UNSET",value:1,label:"未设置"},{name:"AUTO",value:2,label:"自动播放"},{name:"MANUAL",value:3,label:"手动播放"}]),p=(0,i.u)([{name:"GOOD_CARD",value:0,label:"商品卡片"},{name:"AUDIO_SOUND",value:1,label:"有声按钮"},{name:"AUDIO_MUTE",value:2,label:"无声按钮"},{name:"VIDEO_PLAY",value:3,label:"播放视频按钮"},{name:"CAROUSEL",value:4,label:"轮播图曝光"},{name:"BUY",value:5,label:"立即购买按钮"}]),d={AUDIO_MUTE:"https://promotion.pddpic.com/promo/c2dfafec-dfb3-401e-a7f0-204fe1b3171f.png.slim.png",AUDIO_SOUND:"https://promotion.pddpic.com/promo/3709f0af-e5a4-4038-83cf-378e01dffe3e.png.slim.png",VIDEO_PLAY:"https://promotion.pddpic.com/promo/25e043ca-6304-4770-a0bb-3e92de7c683f.png.slim.png"};!function(e){e.GAME="game",e.PROMOTION="promotion"}(u||(u={}));u.PROMOTION,u.GAME;var m=function(e){return c(c({},e.link_url_ext),{},{_oc_mkt_tr_sc:e.mkt_tr_sc,_oc_mkt_tr_token:e.mkt_tr_token,_oc_mkt_domain:e.mkt_domain})}},apB6:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return We}});var r,o,i=n("xeO4"),a=n.n(i),c=n("lrCg"),u=n.n(c),s=n("T6n4"),l=n.n(s),f=n("9bdW"),p=n.n(f),d=n("d++z"),m=n("0Qln"),g=n.n(m),v=n("/4JS"),h=n.n(v),b=n("iQtE"),y=n.n(b),_=n("U5BY"),O=n.n(_),w=n("hwDT"),k=n.n(w),E=n("i/Q6"),S=n.n(E),D=n("f6/u"),x=n.n(D),P=n("f17R"),I=n.n(P),j=n("Vl5s"),T=n.n(j),N=(n("XC3m"),n("jXLS")),C=n.n(N),L=n("4k0V"),A=n("Vj+h"),R=n("upIe"),G=n("+jya"),U=n("Skb2"),Z=n("0J4C"),M=n("V5cf"),z=n("VRmg"),W=n("s0Le"),B=n("9Zgs"),K=n("zWf8"),V=n("G2FM"),H=n("iOT4");function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var J=function(e){return/\.mp4$/.test(e)},X=(r=function(e){x()(i,e);var t,n,r=(t=i,function(){var e,n=T()(t);if(q()){var r=T()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return I()(this,e)});function i(){var e;O()(this,i);for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return(e=r.call.apply(r,[this].concat(n))).subjectId=void 0,e.sceneId=void 0,e.sceneType=void 0,e.pageNo=1,e.pageSize=30,e.goodsList=[],e.hasMore=!0,e.itemHeight=void 0,e.templateStore=(0,W.$)(S()(e)),e.coinNumStr="",e.$isLowEnd=!1,e.getBaseInfo=a()(l().mark((function t(){var n,r,o,i,a,c,u;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={promotion_id:e.subjectId,list_id:e.requestParams.listId,page_no:e.pageNo++,page_size:e.pageSize,group:M.Pq.GOODS_WITH_VIDEO,list_token:(0,z.AG)(e.rootStore.requestContext.queries),extra_param:{goods_tag_code:G.yW,component_from:"goods_video_feeds"}},e.isGame&&(r=e.getLog(1),o=r.page_el_sn,Object.assign(n,{page_no:void 0,promotion_id:void 0,page_index:n.page_no,scene_id:e.sceneId,page_el_sn:o,page_sn:e.rootStore.trackingBase.pageSn})),i=e.isGame?function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.axios).post.apply(t,["api/firefly-api/ad-goods-list"].concat(r))}:U.OF,t.next=5,i(n,e.requestParams);case 5:a=t.sent,c=e.preHandleData(a),e.hasMore=c.has_more&&c.goods_list.length,u=e.dataProcess(c.goods_list),e.goodsList=[].concat(y()(e.goodsList),y()(u));case 10:case"end":return t.stop()}}),t)}))),e.dataProcess=function(t){var n=t.map((function(t){return Object.assign(new Z.Z(t),F({goods_tags:t.goods_tags},e.handleGameGoodsItem(t)))}));return n.forEach((function(n,r){var o,i,a,c,u,s,l=(null===(o=t[r].goods_gallery_vos)||void 0===o?void 0:o.find((function(e){return e.type===G.TD.VIDEO})))||{},f=(null===(i=t[r].goods_gallery_vos)||void 0===i?void 0:i.filter((function(e){return e.type===G.TD.CAROUSEL})))||[];n.gallery=f,Object.keys(l).length&&J(l.url)&&n.gallery.unshift(l),n.promTagImg=e.rootStore.promTagImg;var p=null===(a=n.goodsTags[B.k.DISCOUNT_TAG])||void 0===a?void 0:a.map((function(e){return e.text})),d=n.goods_tags||[];p&&(n.couponText=p[0],d=d.filter((function(e){return!p.includes(e.text)})));var m=y()(new Set(d.map((function(e){return e.text})).filter((function(e){return e}))));n.tag1=m[0],n.tag2=m[1],n.goldLabel=null===(c=n.goodsTags[B.k.GOLD_LABEL])||void 0===c||null===(u=c[0])||void 0===u?void 0:u.tag_url,n.tenBillionLabel=null===(s=d.find((function(e){return+e.id==+B.k.TEN_BILLION_LABEL})))||void 0===s?void 0:s.tag_url,n.cutPriceDegree=n.cutPriceDegree>=1?n.cutPriceDegree:""})),n.map((function(t){return e.isGame?t:(0,z.NR)(t,{extraKey:["gallery","imgUrl"],isTemplate:!0,store:S()(e)})}))},g()(e,"request",o,S()(e)),e}return k()(i,[{key:"isGame",get:function(){return this.sceneType===G.CA.GAME}},{key:"afterInit",value:function(){var e=(0,V.VD)(this.templateStore).height;if(e&&/rem$/.test(e)){var t=e.replace("rem","");this.itemHeight=+t+3.57+"rem"}this.$isLowEnd=(0,H.XK)(this.rootStore),this.isGame||(this.goodsList=(0,z.Ag)(this.goodsList))}},{key:"preHandleData",value:function(e){if(this.isGame){var t=(null==e?void 0:e.result)||{};return F(F({},t),{},{goods_list:t.item_list||[]})}return e}},{key:"handleGameGoodsItem",value:function(e){if(!this.isGame)return{};var t=(null==e?void 0:e.goods)||{},n=t.hd_thumb_url,r=t.thumb_url,o=t.group,i=t.sales_tip,a=t.goods_name,c=t.short_name,s=t.goods_id,l=t.tag_list,f=t.icons_list,p=o||{},d=p.group_price,m=p.price,g=p.coupon_price,v=(f||[]).map((function(e){return e.icon_url})),h=u()(v,2),b=h[0],y=h[1];return F(F(F({imgUrl:n||r,groupPrice:d?(0,L.priceCent)(d):"",price:m?(0,L.priceCent)(m):"",sales_tip:i,goodsName:a,shortName:c,name:c,goodsId:s,goods_tags:l},e),null==e?void 0:e.goods),{},{group:{price:m?(0,L.priceCent)(m):"",group_price:d?(0,L.priceCent)(d):"",coupon_price:g?(0,L.priceCent)(g):""},icon1:b,icon2:y})}},{key:"requestTaskInfo",value:(n=a()(l().mark((function e(){var t,n,r,o,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.coinNumStr){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,r=this.rootStore.query,o=r.order_mission_id,i=r.module_id,o&&i){e.next=6;break}throw new Error("DcVideoFeedsStore lack order_mission_id or module_id");case 6:return e.next=8,this.axios.post("api/hertz/mission/query/mission",{mission_id:+o,module_id:+i});case 8:if(null!=(a=e.sent)&&null!==(t=a.result)&&void 0!==t&&t.fairy_coin_reward){e.next=11;break}throw new Error("DcVideoFeedsStore requestTaskInfo result error");case 11:this.coinNumStr=null==a||null===(n=a.result)||void 0===n?void 0:n.fairy_coin_reward,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),this.logError(e.t0);case 17:case"end":return e.stop()}}),e,this,[[2,14]])}))),function(){return n.apply(this,arguments)})}]),i}(A.Z),C()(r.prototype,"requestTaskInfo",[K.U,R.Z],Object.getOwnPropertyDescriptor(r.prototype,"requestTaskInfo"),r.prototype),o=C()(r.prototype,"request",[R.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return a()(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([e.getBaseInfo(),e.isGame&&e.requestTaskInfo()]);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),e.hasMore=!1,e.logError(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))}}),r),Q=n("h8tm"),$=n.n(Q),ee=n("TKwH"),te=n.n(ee),ne=n("1Tjp"),re=n.n(ne),oe=n("MV8a"),ie=n("BqXm"),ae=n("GDNQ"),ce=n("2tVT"),ue=n("tAln"),se=n("Et4y"),le=n.n(se),fe=n("jjUS"),pe=n("BFRN"),de=n("hrDj");function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=function(e){te()(le());var t=(0,f.useState)(null),n=u()(t,2),r=n[0],o=n[1],i=(0,f.useState)(1),c=u()(i,2),s=c[0],d=c[1],m=(0,f.useState)(0),g=u()(m,2),v=g[0],h=g[1],b=(0,f.useRef)(null),y=(0,fe.ZP)(b),_=(0,f.useRef)(null),O=e.good,w=e.active,k=e.preload,E=e.setActiveIdx,S=e.idx,D=e.muted,x=e.setMuted,P=e.mode,I=e.componentStore.getLog,j=O.gallery.length;(0,f.useEffect)((function(){var e;if(null!=_&&null!==(e=_.current)&&void 0!==e&&e.sliding&&(null==y||!y.sliding)){if(Math.abs(y.delta)<20||y.direction===fe.JR.RIGHT&&s===j||y.direction===fe.JR.LEFT&&1===s)return void h(0);y.direction===fe.JR.RIGHT&&s!==j&&(d(s+1),h(0),w&&1===s&&(0,ue.r)(null==r?void 0:r.current)),y.direction===fe.JR.LEFT&&1!==s&&(d(s-1),h(0),w&&2===s&&(0,ue.Kz)(null==r?void 0:r.current))}_.current=y,"ON_SLIDE_MOVE"===y.type&&h(y.delta||0)})),(0,f.useEffect)((function(){if(H.ZP.isNativePlatform){var e=[];return a()(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!w||O.gallery[0].type!==G.TD.VIDEO){t.next=16;break}return t.t0=e,t.next=4,(0,de.addSceneLeaveCallback)((function(){(0,ue.r)(null==r?void 0:r.current)}));case 4:return t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.t2=e,t.next=9,(0,de.addNotificationCallback)("onAppShow",(function(){(0,ue.Kz)(null==r?void 0:r.current)}));case 9:return t.t3=t.sent,t.t2.push.call(t.t2,t.t3),t.t4=e,t.next=14,(0,de.addPageShowCallback)((function(){(0,ue.Kz)(null==r?void 0:r.current)}));case 14:t.t5=t.sent,t.t4.push.call(t.t4,t.t5);case 16:case"end":return t.stop()}}),t)})))(),e.forEach((function(e){return e()}))}}),[w]);var T=function(e){var t,n;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),null==e||null===(n=e.stopPropagation)||void 0===n||n.call(e),x(!D);var r=I(D?G.hn.AUDIO_SOUND:G.hn.AUDIO_MUTE);(0,ie.i)(r)},N={width:"".concat(3.57*j,"rem"),transform:"translate3d(".concat(-3.57*(s-1)+v/100,"rem, 0, 0)")},C=function(e){var t,n;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),null==e||null===(n=e.stopPropagation)||void 0===n||n.call(e),E(S),P===G.IK.MANUAL&&(0,ue.Kz)(null==r?void 0:r.current);var o=I(G.hn.VIDEO_PLAY);(0,ie.i)(o)};(0,f.useEffect)((function(){w?P===G.IK.AUTO&&(0,ue.Kz)(null==r?void 0:r.current):(0,ue.r)(null==r?void 0:r.current)}),[w]);var L=I(G.hn.CAROUSEL);return p().createElement("div",{className:le().wrap},p().createElement("div",{className:le().page},s,"/",O.gallery.length),p().createElement("div",{className:le().galleryWrap},p().createElement("div",{className:le().gallery,style:N,ref:b},O.gallery.map((function(e,t){var n=e.type,r=e.id,i=e.url,a=e.width,c=e.height,u=n!==G.TD.VIDEO?{}:a>c?{height:"3.57rem",width:"auto"}:{width:"3.57rem",height:"auto"},s=ge(ge({},L),{},{index:t}),l=!(0===t&&0===S);return p().createElement(oe.Z,{key:t,track:s},n===G.TD.VIDEO?p().createElement("div",{className:le().videoWrap,key:r},p().createElement(ue.ZP,{autoPlay:w&&P===G.IK.AUTO,loop:!0,src:i,poster:O.imgUrl,style:u,muted:D,onRef:o,preload:k}),w?p().createElement(ce.ZP,{className:le().audio,backgroundImage:D?G.MY.AUDIO_MUTE:G.MY.AUDIO_SOUND,onClick:T}):p().createElement(p().Fragment,null,p().createElement(ce.ZP,{backgroundImage:G.MY.VIDEO_PLAY,className:le().playBtn,onClick:C}),p().createElement(pe.Z,{key:r,className:le().imgWrap,resizeWidth:714,src:O.imgUrl,lazy:l}))):p().createElement(pe.Z,{key:r,className:le().imgWrap,resizeWidth:714,src:i,lazy:l}))})))))},he=n("tEg8"),be=n.n(he),ye=n("IZoM");var _e=function(e){te()(be());var t=e.good.goodsId,n=e.componentStore,r=n.getLog,o=n.templateStore,i=n.isGame,a=n.coinNumStr,c=r(G.hn.BUY),u=function(n){n.preventDefault(),n.stopPropagation(),(0,ie.i)(c),e.setSkuInfo({show:!0,goodsId:t,mktInfo:i?(0,G.E)(e.good):{}})};return p().createElement("div",{className:be().wrap},p().createElement(ye.Z,{model:e.good,templateStore:o,onItemClick:e.onClick}),i?p().createElement("div",{className:be().gameBtn,onClick:u},"拼单得",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=["个","万","亿","兆","垓"];if(!/^(([1-9][0-9]*)|0)$/.test(e))return console.warn("字符串传参不标准，返回为空字符串"),{value:"",unit:"",valueStr:"",takeUnitStr:""};var r=""+e,o=Math.floor((r.length-1)/4),i=o<n.length?o:n.length-1,a=r.length-4*i,c=r.slice(0,a),u=r.slice(a,a+t),s=n[i]||n[n.length-1],l=0===i?c:c+"."+u;return{value:l,unit:s,valueStr:l+(0===i?"":s),takeUnitStr:l+s}}(a).valueStr,p().createElement(ce.ZP,{className:be().coin,backgroundImage:"https://promotion.pddpic.com/promo/2020-08-11/3fa29563-a039-40bd-a8a3-bafde583d754.png.slim.png"})):p().createElement("div",{className:be().btn,onClick:u},"立即购买"))},Oe=n("gIXg"),we=n("xD/e"),ke=n("UX2+"),Ee=n("4vPy"),Se=n("H+T8"),De=n("L8Fz");function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Pe={preventAutoConfirm:!0},Ie=function(e){var t=e.skuInfo,n=e.setSkuInfo,r=e.oakStage,o=e.componentStore,i=e.pageElSnIndex,c=e.extraForwardParams,u=void 0===c?{}:c,s=(0,f.useRef)(null),d=t.show,m=t.goodsId,g={goods_id:m,page_from:0,page_sn:o.rootStore.trackingBase.pageSn,_oak_stage:r,page_version:7},v=(null===H.ZP||void 0===H.ZP?void 0:H.ZP.platform)===Ee.PLATFORM.PddAndroid,b=(0,f.useCallback)((function(){n({show:!1,goodsId:0})}),[n]),y=(0,f.useCallback)(a()(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==s||null===(t=s.current)||void 0===t?void 0:t.loadGoods();case 2:if(null==s||null===(n=s.current)||void 0===n||n.show(Pe),H.ZP.isNativePlatform&&v){e.next=5;break}return e.abrupt("return");case 5:(0,ke.setBackButton)({callback:function(){var e;null!=s&&null!==(e=s.current)&&void 0!==e&&e.isShow?b():Se.default.back()}});case 6:case"end":return e.stop()}}),e)}))),[v,b]);return(0,f.useEffect)((function(){var e;d?y():null===(e=s.current)||void 0===e||e.hide()}),[d,y]),p().createElement(we.ZP,{ref:s,isRemote:!0,params:g,isSingleBuy:!1,onHide:b,confirmOrder:function(e){var t=e.selectedSkuID,n=e.goodsNumber,r=e.props,a=o.getLog(i),c=(0,L.appendQuery)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({goods_id:m,sku_id:t,goods_number:n,group_id:r.group.groupID},u),"/order_checkout.html");(0,ae.Y5)(c,a),b()},loadGoodsFail:function(e){var t=(((e||{}).response||{}).data||{}).error_msg;t&&(0,De.info)(t)}})},je=function(e){te()(re());var t=e.good,n=e.active,r=e.preload,o=e.setActiveIdx,i=e.componentStore,a=e.idx,c=e.muted,s=e.setMuted,l=e.mode,d=(0,f.useState)({show:!1,goodsId:0,mktInfo:{}}),m=u()(d,2),g=m[0],v=m[1],h=(0,z.sl)({index:a,goodsItem:t,componentStore:i,pageElSnIndex:G.hn.GOOD_CARD}),b=i.isGame;b&&t.ad&&(h.ad=JSON.stringify(t.ad));var y=function(){(0,ie.i)(h);var e=(0,Oe.sE)(t.goodsId);b&&(e=(0,L.appendQuery)((0,G.E)(t),e)),(0,ae.Y5)(e,h)};return p().createElement(oe.Z,{trackingInfo:h},p().createElement(p().Fragment,null,p().createElement("div",{className:re().wrap,onClick:y},p().createElement(ve,{setActiveIdx:o,idx:a,active:n,good:t,muted:c,setMuted:s,componentStore:i,preload:r,mode:l}),p().createElement(_e,{setSkuInfo:v,good:t,onClick:y,componentStore:i})),p().createElement(Ie,{skuInfo:g,setSkuInfo:v,componentStore:e.componentStore,pageElSnIndex:G.hn.BUY,extraForwardParams:g.mktInfo})))},Te=n("Ug59"),Ne=n("Z6Bh"),Ce=n("ukrc"),Le=n.n(Ce),Ae=n("azrQ"),Re=Le()($(),le())((function(e){var t=e.store;return p().createElement("div",{className:$().wrap},[1,2,3].map((function(e,n){return p().createElement("div",{key:n,className:$().placeholder},p().createElement("div",{className:le().wrap}),p().createElement(Ae.x,{count:1,skeleton:t.templateStore.skeleton}))})))})),Ge=n("wJ16"),Ue=n("vuIA"),Ze=n("/Wvg"),Me=n("UzMC"),ze=function(e){te()($());var t=e.componentStore,n=t.UIStore.style,r=t.request,o=t.hasMore,i=t.goodsList,c=t.itemHeight,s=t.$isLowEnd,d=t.isGame,m=(0,f.useState)(-1),g=u()(m,2),v=g[0],h=g[1],b=(0,f.useState)(0),y=u()(b,2),_=y[0],O=y[1],w=(0,f.useState)(!0),k=u()(w,2),E=k[0],S=k[1],D=s?G.IK.MANUAL:G.IK.AUTO;(0,Te.Z)(!0);var x=function(e){O(e)},P=function(e){O(e),D===G.IK.AUTO&&h(e)},I=function(e){D===G.IK.MANUAL&&v===e&&h(-1)};return(0,f.useEffect)((function(){var t;if(!d)return function(){n.apply(this,arguments)}(),function(){var e;null===(e=t)||void 0===e||e()};function n(){return(n=a()(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Me.ZP.register({store:e.componentStore,merchantTag:Me.tJ.COMMON,updateGoodsList:function(e,t){t.goodsList.filter((function(t){return e[t.goodsId]})).forEach((function(t){return(0,Me.b1)(e[t.goodsId],t)}))},getGoodsIdList:function(e){return e.goodsList.map((function(e){return e.goodsId}))}});case 2:t=n.sent;case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}})),p().createElement("div",{style:n,className:$().wrap},p().createElement("div",{className:$().min,style:n},p().createElement(Ge.k,null,i.map((function(t,n){if(n>_+5||n<_-5)return p().createElement(Ne.Z,{key:"placeHolder"+n,onEnter:x.bind(null,n),threshold:1,once:!1},p().createElement("div",{className:$().placeholder,style:{height:c}}));var r=v===n;return p().createElement(Ne.Z,{key:n,onEnter:P.bind(null,n),onLeave:I.bind(null,n),threshold:1,once:!1},p().createElement("div",null,p().createElement(je,{active:r,preload:"none",idx:n,good:t,componentStore:e.componentStore,key:t.goodsId,setActiveIdx:h,muted:E,setMuted:S,mode:D})))})))),p().createElement(Ue.r,{rootMargin:"800px",isEnd:!o,onLoad:function(){return r()}},p().createElement(Ze.Z,{isEnd:!o})))};ze.Store=X,ze.SkeletonComponent=Re;var We=(0,d.Z)()(ze)},"0J4C":function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n("hwDT"),o=n.n(r),i=n("U5BY"),a=n.n(i),c=n("i/Q6"),u=n.n(c),s=n("f6/u"),l=n.n(s),f=n("f17R"),p=n.n(f),d=n("Vl5s"),m=n.n(d),g=n("nC4b"),v=n("4k0V");function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(e){l()(r,e);var t,n=(t=r,function(){var e,n=m()(t);if(h()){var r=m()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return p()(this,e)});function r(){var e,t,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a()(this,r),o=n.call(this,i,c);var s=u()(o);return s.ticket_discount="",s.stackable_coupon=i.red_envelopes||"",s.brand_coupon=i.brand_coupon||"",s.multi_free=i.display_name||"",s.tags=i.tag_list||[{text:"",type:""}],s.goodsTags=i.goods_tag_map||{},o.postCouponPrice=(0,v.priceCent)(i.group_price-(null===(e=i.goods_extend)||void 0===e||null===(t=e.coupon_vo)||void 0===t?void 0:t.discount_amount)||0),o}return o()(r)}(g.ZP)},"9Zgs":function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var r=(0,n("D+Sb").u)([{name:"GOOD_CHANNEL_TAG",label:"优质频道标签",value:"1001"},{name:"MARKET_TAG",label:"营销标签",value:"8016"},{name:"GOOD_SERVICE_TAG",label:"优质服务标签",value:"1003"},{name:"OTHER_CHANNEL_TAG",label:"其他频道标签",value:"1004"},{name:"OTHER_SERVICE_TAG",label:"其他服务标签",value:"1005"},{name:"LIST_TAG",label:"榜单标签",value:"1006"},{name:"SOCIAL_TAG",label:"社交标签",value:"1007"},{name:"DISCOUNT_TAG",label:"优惠标签",value:"1009"},{name:"GOLD_LABEL",label:"旗舰店金标",value:"4070"},{name:"TEN_BILLION_LABEL",label:"百亿补贴标",value:"20001"}])},IZoM:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r,o=n("U5BY"),i=n.n(o),a=n("hwDT"),c=n.n(a),u=n("f6/u"),s=n.n(u),l=n("f17R"),f=n.n(l),p=n("Vl5s"),d=n.n(p),m=n("9bdW"),g=n.n(m),v=n("KdYu"),h=n("xnpn"),b=n("902E");function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var _=(0,v.observer)(r=function(e){s()(r,e);var t,n=(t=r,function(){var e,n=d()(t);if(y()){var r=d()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return f()(this,e)});function r(){return i()(this,r),n.apply(this,arguments)}return c()(r,[{key:"render",value:function(){var e,t=this.props,n=t.onItemClick,r=t.index,o=(this.store||{}).templateStore;return g().createElement(h.Z,{eventHandler:{onClick:n},index:r,id:r,data:this.model,json:(null===(e=this.props.templateStore)||void 0===e?void 0:e.template)||o.template})}}]),r}(b.Z))||r},ekv0:function(e,t,n){var r=n("Y/pq"),o=n("DDs0"),i="string"==typeof r?[[e.id,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},tEg8:function(e,t,n){var r=n("G1oB"),o=n("DDs0"),i="string"==typeof r?[[e.id,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},Et4y:function(e,t,n){var r=n("pDsI"),o=n("DDs0"),i="string"==typeof r?[[e.id,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},"1Tjp":function(e,t,n){var r=n("Q6KI"),o=n("DDs0"),i="string"==typeof r?[[e.id,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},h8tm:function(e,t,n){var r=n("EyzQ"),o=n("DDs0"),i="string"==typeof r?[[e.id,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},"Y/pq":function(e,t,n){(t=e.exports=n("Cgg2")(!1)).push([e.id,"._1nDpGCFh{object-fit:fill;display:block}._1aVXx6j6,._1nDpGCFh{width:100%;height:100%}._1aVXx6j6{position:absolute;top:0;left:0;pointer-events:none}",""]),t.locals={wrap:"_1nDpGCFh",playerPoster:"_1aVXx6j6"}},G1oB:function(e,t,n){(t=e.exports=n("Cgg2")(!1)).push([e.id,".EkiLM7KG{position:relative}._3_n1Wqys{bottom:.12rem;right:.13rem;width:1rem;height:.34rem;font-size:.19rem}._3_n1Wqys,._8k2Hdt5N{position:absolute;line-height:normal;background:-webkit-linear-gradient(top,#e02e24,#c60b00);background:linear-gradient(180deg,#e02e24,#c60b00);border-radius:.05rem;font-weight:700;color:#fff;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;z-index:10}._8k2Hdt5N{bottom:.1rem;right:.1rem;min-width:1rem;height:.29rem;font-size:.16rem;padding:0 .05rem}._1ShLNNRo{width:.14rem;height:.14rem;margin-left:.01rem;background-size:100% 100%}",""]),t.locals={wrap:"EkiLM7KG",btn:"_3_n1Wqys",gameBtn:"_8k2Hdt5N",coin:"_1ShLNNRo"}},pDsI:function(e,t,n){(t=e.exports=n("Cgg2")(!1)).push([e.id,"._2HFwNgRb{width:3.57rem;height:3.57rem;position:relative}._2sRR5lCH{bottom:.42rem;width:.32rem;height:.32rem;background-size:100% 100%}._2sRR5lCH,._2zpRDo79{position:absolute;right:.1rem;z-index:1}._2zpRDo79{bottom:.1rem;background:rgba(0,0,0,.5);width:.42rem;height:.24rem;border-radius:.12rem;font-size:.15rem;color:#fff;line-height:normal;font-weight:Bold;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}._1ODxaIwB{width:3.57rem;height:3.57rem;overflow:hidden;border-top-left-radius:.14rem;border-top-right-radius:.14rem}._3wGIbENJ{height:3.57rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-transition:all .2s ease-out 0s;transition:all .2s ease-out 0s;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-overflow-scrolling:touch}.Oig1WFg8{background-size:100%;border-radius:.14rem}._3M9n4wW3,.Oig1WFg8{width:3.57rem;height:3.57rem;overflow:hidden}._3M9n4wW3{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;background-color:#fff;position:relative}._3WfpxWoq{width:.57rem;height:.57rem;background-size:100% 100%;z-index:2;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}",""]),t.locals={wrap:"_2HFwNgRb",audio:"_2sRR5lCH",page:"_2zpRDo79",galleryWrap:"_1ODxaIwB",gallery:"_3wGIbENJ",imgWrap:"Oig1WFg8",videoWrap:"_3M9n4wW3",playBtn:"_3WfpxWoq"}},Q6KI:function(e,t,n){(t=e.exports=n("Cgg2")(!1)).push([e.id,".N5JlccxF{width:3.57rem;margin-bottom:.09rem;background-color:#fff;border-radius:.14rem}",""]),t.locals={wrap:"N5JlccxF"}},EyzQ:function(e,t,n){(t=e.exports=n("Cgg2")(!1)).push([e.id,"._1PcK5LKT{width:3.57rem;margin:0 auto}._1PcK5LKT img{overflow:visible!important}.ldE1KZzg{min-height:100vh}._1defpSug{width:3.57rem;min-height:3.57rem;margin-bottom:.09rem;background-color:#fff;border-radius:.14rem}",""]),t.locals={wrap:"_1PcK5LKT",min:"ldE1KZzg",placeholder:"_1defpSug"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcVideoFeeds-6b0ac4a62bd53b832df9.js.map