(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["f2b0"],{"//ph":function(t,e,r){"use strict";r.d(e,{C:function(){return n}});var n=new(r("K63m").Z)({text:"大促1-10008",alias:"S",value:10008},{text:"大促2-10009",alias:"A",value:10009},{text:"大促3-10010",alias:"B",value:10010},{text:"大促4-10117",alias:"C",value:10117},{text:"大促5-10118",alias:"D",value:10118})},F8Aq:function(t,e,r){"use strict";r.d(e,{K:function(){return n}});var n=function(t,e){return e.axios.post("api/carnival/content_list/no_back_list",t,{useNativeAntiToken:!0})}},B1pg:function(t,e,r){"use strict";r.d(e,{Ys:function(){return f},Dv:function(){return d},vJ:function(){return h},Ml:function(){return m}});var n=r("/4JS"),o=r.n(n),i=r("xeO4"),a=r.n(i),s=r("T6n4"),u=r.n(s),c=r("nVUW");function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=function(){var t=a()(u().mark((function t(e,r){var n,o,i,a=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},o="/search_hotquery",t.next=4,r.axios.post(o,e,l({defaultErrorHandler:function(){}},n));case 4:if(i=t.sent){t.next=7;break}throw new c.fB({message:"search_hotquery接口返回异常!",request:e,response:i,url:o});case 7:return t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),d=function(){var t=a()(u().mark((function t(e,r){var n,o,i,a=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.length>2&&void 0!==a[2]?a[2]:{},t.next=3,f(e,r,o);case 3:if(null!=(i=t.sent)&&null!==(n=i.hotqs)&&void 0!==n&&n.length){t.next=6;break}throw new c.fB({message:"hotqs热词返回为空",request:e,response:i,url:"/search_hotquery"});case 6:return t.abrupt("return",i.hotqs);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),h=function(){var t=a()(u().mark((function t(e,r){var n,o,i,a=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.length>2&&void 0!==a[2]?a[2]:{},t.next=3,r.axios.get("api/search/hotquery/i2hotq",l({params:e,defaultErrorHandler:function(){}},o));case 3:if(null!=(i=t.sent)&&null!==(n=i.i2q)&&void 0!==n&&n.length||i.is_ignore_warning){t.next=6;break}throw new c.fB({message:"回退搜索词返回为空",request:e,response:i,url:"/api/search/hotquery/i2hotq"});case 6:return t.abrupt("return",i.i2q);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),m=function(){var t=a()(u().mark((function t(e,r){var n,o,i,a=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.length>2&&void 0!==a[2]?a[2]:{},t.next=3,r.axios.get("/search",l({params:e,defaultErrorHandler:function(){}},o));case 3:if(null!=(i=t.sent)&&null!==(n=i.items)&&void 0!==n&&n.length){t.next=6;break}throw new c.fB({message:"搜索异常错误，可能达到最高QPS已限流或搜索词搜索清单数据返回为空",request:e,response:i,url:"search"});case 6:return t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},OvdF:function(t,e,r){"use strict";r.d(e,{K:function(){return c}});var n=r("xeO4"),o=r.n(n),i=r("T6n4"),a=r.n(i),s=r("X3Or"),u=r("swbT"),c=(0,r("huFl").n7)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(n){return o()(a().mark((function o(){var i=arguments;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,n.apply(this,i);case 3:return o.abrupt("return",o.sent);case 6:o.prev=6,o.t0=o.catch(0),r&&(0,u.y7)(o.t0),(0,s.Z)(t)&&t(o.t0,this),o.next=14;break;case 13:throw o.t0;case 14:return o.prev=14,(0,s.Z)(e)&&e(this),o.finish(14);case 17:case"end":return o.stop()}}),o,this,[[0,6,14,17]])})))}}))},"h/xE":function(t,e,r){"use strict";r.d(e,{j:function(){return l}});var n=r("/4JS"),o=r.n(n),i=r("huFl"),a=r("/18x");function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=Promise.race([new Promise((function(e){(0,a.sendClickMetrics)(t),e()})),new Promise((function(t){setTimeout(t,500)}))]);r.then(e)}function p(t,e,r){var n=r.value;return r.value=function(){var t=arguments,e=this,r=arguments[arguments.length-1];if(r&&r.type&&(location.pathname.includes("editor")||r.stopPropagation(),r.preventDefault()),arguments[0].trackingInfo){var o=arguments[0].trackingInfo||{};c(u({op:"click"},o),(function(){n.apply(e,t)}))}else n.apply(this,arguments)},r}function l(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,i.GW)(p,e)}},M4vm:function(t,e,r){"use strict";var n=r("lrCg"),o=r.n(n),i=r("9bdW");function a(t){return(t<10?"0":"")+t}function s(t){return Math.max(t-Date.now(),0)}e.Z=function(t){var e=(0,i.useState)(s(t)),r=o()(e,2),n=r[0],u=r[1];(0,i.useEffect)((function(){var e=setInterval((function(){var r=s(t);u(r),r<=0&&clearInterval(e)}),1e3);return function(){e&&clearInterval(e)}}),[t]);var c=Math.max(n/1e3,0),p=Math.floor(c),l=Math.floor(c/60),f=Math.floor(c/60/60),d=f%24,h=l%60,m=p%60;return{totalAllDays:Math.floor(c/60/60/24),totalHH:a(f),totalH:f,HH:a(d),H:d,mm:a(h),m:h,ss:a(m),s:m,isEnd:n<=0,leftTime:n}}},"25h1":function(t,e,r){"use strict";r.d(e,{c:function(){return u}});var n=r("swbT"),o=r("lb/N"),i=r("2tVT"),a=function t(e,r,i,a){if(e)return new Promise((function(s){if(r){a=a||s;var u=new Image;u.onload=a,u.onerror=function(){t(e,r-1,i,a),(0,n.y7)(new Error("【图片未成功加载】：".concat(e)))},u.src=(0,o.Z)(e)}else i.push(e),a()}))},s=function(t){var e=[];return Promise.all([].concat(t).map((function(t){return a(t,2,e,null)}))).then((function(){return e}))},u=function(t,e){s(t.map((function(t){return(0,i.BT)(t,e)})))};e.Z=s},r46I:function(t,e,r){"use strict";r.d(e,{wD:function(){return i},sB:function(){return a},Cg:function(){return s}});var n="//promotion.pddpic.com",o="".concat(n,"/promo"),i=function(t){return"".concat(n).concat(t)},a=function(t){return"".concat(o).concat(t,".png")},s=function(t){return"".concat(o).concat(t,".png.slim.png")}},RCX2:function(t,e,r){"use strict";r.d(e,{q:function(){return u},w:function(){return c}});var n=r("xeO4"),o=r.n(n),i=r("T6n4"),a=r.n(i),s=r("FrRG"),u=function(){var t=o()(a().mark((function t(e,r){var n,o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.map((function(t){return t.userGroupId})),t.next=3,(0,s.Cl)({user_group_ids:o},e.requestParams,{forceUpdate:!0});case 3:if(t.t2=n=t.sent,t.t1=null===t.t2,t.t1){t.next=7;break}t.t1=void 0===n;case 7:if(!t.t1){t.next=11;break}t.t3=void 0,t.next=12;break;case 11:t.t3=n.result;case 12:if(t.t0=t.t3,t.t0){t.next=15;break}t.t0=[];case 15:return i=t.t0,t.abrupt("return",o.map((function(t,e){return e})).filter((function(t){return i.includes(Number(o[t]))})));case 17:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),c=function(){var t=o()(a().mark((function t(e,r,n){var i,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=[],t.next=3,Promise.all(n.map((function(t){return r[t]})).map(function(){var t=o()(a().mark((function t(r){var n,o,s,u,c,p,l;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.brandTag,u=r.couponType,c=r.name,p=r.useScope,t.prev=1,t.next=4,e.axios.post("api/serbia/query_brand_batch",{brand_tag:s},{defaultErrorHandler:function(){}});case 4:l=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),i.push(t.t0);case 10:return t.abrupt("return",{couponType:u,brandTag:s,couponName:c,useScope:p,couponInfo:(null===(n=l)||void 0===n||null===(o=n.coupon_batches)||void 0===o?void 0:o[0])||null});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()));case 3:return s=t.sent,i.forEach((function(t){return e.logError(t)})),t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()},"W/Bg":function(t,e,r){"use strict";var n,o,i,a,s,u,c,p,l=r("AIhP"),f=r.n(l),d=r("/4JS"),h=r.n(d),m=r("0Qln"),b=r.n(m),v=r("U5BY"),k=r.n(v),g=r("hwDT"),y=r.n(g),w=r("i/Q6"),_=r.n(w),x=r("f6/u"),S=r.n(x),P=r("f17R"),O=r.n(P),I=r("Vl5s"),C=r.n(I),E=r("jXLS"),$=r.n(E),U=(r("XC3m"),r("9bdW")),A=r.n(U),M=r("UK90"),D=r("KdYu"),B=r("ukrc"),L=r.n(B),T=r("2tVT"),j=r("X3Or"),R=r("u2c9"),z=r.n(R),W=r("BzID"),q=r.n(W),N=r("i/nU"),G=r("uiXq");function F(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var H=(n=L()(q()),o=M.action.bound,n(i=(0,D.observer)((a=function(t){S()(n,t);var e,r=(e=n,function(){var t,r=C()(e);if(F()){var n=C()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return O()(this,t)});function n(){var t;k()(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t=r.call.apply(r,[this].concat(o)),b()(t,"$showEnterAni",s,_()(t)),b()(t,"$stopRepeatAni",u,_()(t)),t.visibilityChangeRemover=void 0,b()(t,"onHidden",c,_()(t)),b()(t,"onVisible",p,_()(t)),t.renderPkcEnterAni=function(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return A().createElement(T.ZP,f()({className:z()((e={},h()(e,q().containerZIndex,!0),h()(e,q().containerPosition,!r),h()(e,q().containerPositionSmall,r),h()(e,q().enterAniSingle,!r),h()(e,q().enterSmall,r),h()(e,q().hideEle,!t.$showEnterAni),e))},r?N.nM:N.zH,{onAnimationEnd:r?t.onEnterAniEnd:function(){}}))},t.renderPkcRepeatAniBody=function(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return A().createElement(T.ZP,f()({className:z()((e={},h()(e,q().containerZIndex,!0),h()(e,q().containerPositionSmall,r),h()(e,q().repeatAniSmall,r&&!t.$stopRepeatAni),h()(e,q().staticAniSmall,r&&t.$stopRepeatAni),h()(e,q().repeatAniNormal,!r),h()(e,q().hideEle,t.$showEnterAni),e))},N.xS,{onAnimationStart:function(){r||setTimeout((function(){t.props.startMoveUp()}),500)}}))},t}return y()(n,[{key:"componentDidMount",value:function(){this.visibilityChangeRemover=(0,G.I8)({onHidden:this.onHidden,onVisible:this.onVisible})}},{key:"componentWillUnmount",value:function(){var t;null===(t=this.visibilityChangeRemover)||void 0===t||t.call(this)}},{key:"onEnterAniEnd",value:function(){this.$showEnterAni=!1,(0,j.Z)(this.props.onEnterAniEndHook)&&this.props.onEnterAniEndHook()}},{key:"render",value:function(){var t=this.props.isSmall;if(t)return A().createElement(A().Fragment,null,this.renderPkcEnterAni(t),this.renderPkcRepeatAniBody(t));var e,r=this.props.renderMiddlePart,n=(e={},h()(e,q().moveUpStatus,this.props.$shouldMoveUp),h()(e,q().moveUpAni,this.props.$shouldMoveUp&&!this.props.$isMoveUpOver),e);return A().createElement(A().Fragment,null,A().createElement("div",{className:z()(q().pikachuMain,n)},this.renderPkcEnterAni(t)),!!r&&r(),A().createElement("div",{className:z()(q().pikachuMain,n),onAnimationEnd:this.props.endMoveUp},this.renderPkcRepeatAniBody(t)))}}]),n}(A().Component),s=$()(a.prototype,"$showEnterAni",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=$()(a.prototype,"$stopRepeatAni",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=$()(a.prototype,"onHidden",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){t.$stopRepeatAni=!0}}}),p=$()(a.prototype,"onVisible",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){t.$stopRepeatAni=!1}}}),$()(a.prototype,"onEnterAniEnd",[o],Object.getOwnPropertyDescriptor(a.prototype,"onEnterAniEnd"),a.prototype),i=a))||i)||i);e.Z=H},oQqF:function(t,e,r){"use strict";r.d(e,{ZP:function(){return D},q3:function(){return A}});var n=r("U5BY"),o=r.n(n),i=r("hwDT"),a=r.n(i),s=r("f6/u"),u=r.n(s),c=r("f17R"),p=r.n(c),l=r("Vl5s"),f=r.n(l),d=r("xeO4"),h=r.n(d),m=r("T6n4"),b=r.n(m),v=r("9bdW"),k=r.n(v),g=r("GDNQ"),y=r("/4JS"),w=r.n(y),_=r("UX2+"),x=r("iOT4");function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){w()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var O=new(function(){function t(){o()(this,t),this.queue=[],this.hasSet=!1}return a()(t,[{key:"goBack",value:function(){g.B7&&(0,g.B7)()}},{key:"resetBackButton",value:function(){var t=this;x.ZP.isNativePlatform&&(0,_.setBackButton)({callback:function(){return t.goBack()}})}},{key:"addBackEventLister",value:function(){var t=this;x.ZP.isNativePlatform&&(0,_.setBackButton)({callback:function(){return t.handleBackBtnClick()}})}},{key:"setEventPriority",value:function(t){var e=this;if(!t||"function"!=typeof t.callback||"function"!=typeof t.shouldRetain)throw new Error("注册事件回调不是函数");var r=P(P({},t),{},{level:t.level||1,isRunNow:void 0===t.isRunNow||t.isRunNow});return r.isRunNow&&r.shouldRetain()?this.pushHandler(r):r.isRunNow||this.pushHandler(r),!this.hasSet&&this.queue.length&&(this.hasSet=!0,this.addBackEventLister()),function(){e.queue=e.queue.filter((function(t){return t.callback!==r.callback}))}}},{key:"pushHandler",value:function(t){this.queue.some((function(e){return e.callback===t.callback}))?console.warn("repeat callback！"):this.queue.push(t)}},{key:"handleBackBtnClick",value:function(){var t=this;try{var e,r=this.queue.sort((function(t,e){return e.level-t.level})).filter((function(t){return t.shouldRetain()}))[0]||{callback:function(){return t.goBack()}};this.resetBackButton(),null===(e=r.callback)||void 0===e||e.call(r)}catch(t){this.goBack()}}}]),t}()),I=r("X3Or"),C=r("nVUW");function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var $=0,U=function(){var t=h()(b().mark((function t(e,r,n,o){var i;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=17;break}return i=!1,t.prev=2,t.next=5,r();case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(2),(0,C.Yf)(t.t0)||o(t.t0),i=!0;case 11:if(!i){t.next=15;break}return t.abrupt("return",!1);case 15:return n(),t.abrupt("return",!0);case 17:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,r,n,o){return t.apply(this,arguments)}}(),A=function(){var t=h()(b().mark((function t(e,r){var n,o;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e.length)){t.next=11;break}return o=e[n],t.next=5,U(o.shouldRetain,o.preRetain,o.retainFunc,r);case 5:if(!t.sent){t.next=8;break}return t.abrupt("return",!0);case 8:n++,t.next=1;break;case 11:return t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),M=function(t){u()(n,t);var e,r=(e=n,function(){var t,r=f()(e);if(E()){var n=f()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return p()(this,t)});function n(t){var e;return o()(this,n),(e=r.call(this,t)).goBack=function(){(0,g.B7)()},e.retainAction=h()(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.t0=(0,I.Z)(e.props.retainAction),!t.t0){t.next=5;break}return t.next=5,e.props.retainAction();case 5:t.next=10;break;case 7:t.prev=7,t.t1=t.catch(0),e.goBack();case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.componentDidMount=function(){++$>1&&console.warn("页面中挽留弹窗组件不止一个，会优先弹出优先级高的弹窗组件，请注意！"),e.removeEvent=O.setEventPriority({callback:function(){return e.retainAction()},shouldRetain:function(){return e.props.shouldRetain()},level:e.props.popupLevel})},(0,I.Z)(t.retainAction)||console.warn("retainAction 属性不为函数时，无需使用 RetainActionWrapper 组件"),e}return a()(n,[{key:"componentWillUnmount",value:function(){var t;$--,null===(t=this.removeEvent)||void 0===t||t.call(this)}},{key:"render",value:function(){return this.props.children}}]),n}(k().Component);M.defaultProps={shouldRetain:function(){},retainAction:function(){}};var D=M},"i/nU":function(t,e,r){"use strict";r.d(e,{tL:function(){return a},rZ:function(){return s},Zu:function(){return u},Iw:function(){return c},D1:function(){return p},Mp:function(){return l},zL:function(){return f},uT:function(){return d},zH:function(){return h},xS:function(){return m},nM:function(){return b},Mq:function(){return v},fo:function(){return k},Ae:function(){return g},Bj:function(){return y},TH:function(){return w},VF:function(){return _},aO:function(){return x},XY:function(){return n}});var n,o=r("D+Sb"),i=r("r46I"),a={backgroundImage:(0,i.wD)("/cart/2019-10-18/85a2f7bf4eaaac6fb65ed07db583e094.png"),resizeWidth:240},s=(0,o.u)([{label:"无门槛券",name:"WuMenKan",value:"WuMenKan"},{label:"可叠加券",name:"KeDieJia",value:"KeDieJia"},{label:"满减券",name:"ManJian",value:"ManJian"},{label:"满返进度",name:"ManFan",value:"ManFan"},{label:"图片定坑",name:"FixedImage",value:"FixedImage"}]),u=(0,o.u)([{text:"通用商品",name:"COMMON",value:1,disabled:!1},{text:"领券中心商品",name:"COUPON",value:4,disabled:!1},{text:"百亿补贴商品",name:"SUBSIDY",value:5,disabled:!1},{text:"满返满免商品",name:"FULL_BACK",value:6,disabled:!1}]),c=(0,o.u)([{text:"跳转商详",name:"GO_DETAIL",value:1},{text:"跳转会场",name:"GO_VENUE",value:2}]),p=4,l={subjectId:"",goodsType:u.COMMON,text:"",jumpUrl:""},f=s.values().map((function(t){return{id:t}})),d={MASK_P_BG:{backgroundImage:(0,i.Cg)("/abbb908a-1a98-445b-82cb-e56acaf38ac4"),resizeWidth:750},MASK_P_SP_BG:{backgroundImage:(0,i.Cg)("/c0f90c02-1e6f-40d9-a0c6-9a080650c767"),resizeWidth:750},CHANGE_BUTTON_IMG:{backgroundImage:(0,i.Cg)("/2021-01-22/245fb906-72c4-475f-a0f7-43b6a17504b7"),resizeWidth:271},LOOK_BUTTON_IMG:{backgroundImage:(0,i.Cg)("/2021-01-22/4775b347-bf6c-4cc8-ad93-9dface232310"),resizeWidth:271},NEXT_PAGE_BG:{backgroundImage:(0,i.Cg)("/2021-01-22/e7f254cc-671d-4f5b-8cd9-ed37a4446d94"),resizeWidth:78}},h={backgroundImage:(0,i.sB)("/2020-10-20/b4b4b053-3ea1-4179-b512-210fdb657bd7"),resizeWidth:250},m={backgroundImage:(0,i.Cg)("/2020-04-06/2020-10-19/6ce76b75-1e6e-4cbf-abfc-aaef8b7a80be"),resizeWidth:140},b={backgroundImage:(0,i.sB)("/2020-07-23/2020-10-19/367a6be3-db8c-4f45-9fb7-d065578bb86a"),resizeWidth:140},v={backgroundImage:(0,i.sB)("/2020-03-06/searchBg"),resizeWidth:569},k=function(t,e){return[h,m,b,{backgroundImage:t.useBubbleArea?e.wpBgSp.url||e.wpBgSp:e.wpBg.url||e.wpBg,resizeWidth:750},{backgroundImage:e.changeBg,resizeWidth:271},{backgroundImage:e.lookBg,resizeWidth:271}]},g=function(t){return k(t,t.editors).concat([a])},y="加载失败，请稍后重试",w=1100,_="残忍离开",x="好物推荐";!function(t){t[t.PlatformCoupon=1]="PlatformCoupon",t[t.Collect=2]="Collect",t[t.SearchWords=3]="SearchWords",t[t.None=4]="None"}(n||(n={}))},xicw:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return je}});var n,o=r("xeO4"),i=r.n(o),a=r("U5BY"),s=r.n(a),u=r("hwDT"),c=r.n(u),p=r("i/Q6"),l=r.n(p),f=r("f6/u"),d=r.n(f),h=r("f17R"),m=r.n(h),b=r("Vl5s"),v=r.n(b),k=r("jXLS"),g=r.n(k),y=r("T6n4"),w=r.n(y),_=r("9bdW"),x=r.n(_),S=r("UK90"),P=r("KdYu"),O=r("iuwq"),I=r("ukrc"),C=r.n(I),E=r("iQtE"),$=r.n(E),U=r("0Qln"),A=r.n(U),M=r("/4JS"),D=r.n(M),B=(r("XC3m"),r("wfOt")),L=r("nC4b"),T=r("pfaS"),j=r("L8Fz"),R=r("OvdF"),z=r("F8Aq"),W=r("i/nU"),q=r("4k0V"),N=r("B1pg"),G=r("5oH6"),F=r("V56i"),H=r("//ph"),Z=r("9vur"),V=r("Wq4O"),J=r("tq6Q"),K=r("Rvoc"),Q=r("Skb2"),Y=r("kcif"),X=r.n(Y),tt=r("nVUW"),et=r("oQqF"),rt=r("RCX2"),nt=r("Wgwc"),ot=r.n(nt);!function(t){t.NewUserCoupon="NewUserCoupon",t.RedPocketRain="RedPocketRain"}(n||(n={}));var it,at,st,ut,ct,pt,lt,ft,dt,ht,mt,bt,vt,kt,gt,yt,wt,_t,xt,St,Pt,Ot,It,Ct,Et,$t,Ut,At,Mt,Dt,Bt,Lt,Tt,jt=function(){var t=i()(w().mark((function t(e){var r,n,o,i;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.post("/api/carnival/content_list/no_back_list",{carnival_id:e.rootStore.promotion_id,page_no:1,page_size:10,group:"user_superposition_coupon"},{useNativeAntiToken:!0,defaultErrorHandler:function(){}});case 3:n=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),e.logError(t.t0),t.abrupt("return");case 10:return o=(null===(r=n)||void 0===r?void 0:r.content_list)&&n.content_list[0].user_coupon_list||[],i=o[0]&&o[0].end_time&&(0,V.Z)(o[0].discount_param),t.abrupt("return",i?Math.floor(o[0].discount_param):0);case 13:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),Rt=function(t,e){var r=t.rootStore.serverTime,n=e.startTime,o=e.endTime;return r>=n&&r<o},zt=function(){var t=i()(w().mark((function t(e){var r,n;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.rootStore.isEditor&&e.rootStore.userHasLogin()){t.next=2;break}return t.abrupt("return");case 2:return r=function(){var t=i()(w().mark((function t(){var r,n,o,i,a,s,u,c,p;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$UC_enableNewUserCoupon){t.next=2;break}return t.abrupt("return");case 2:if(i=e.editors.useCoupon.newUserCouponConfig,a=null===(r=e.rootStore.getComponentByKeyReg(/DcNewUserBrandCouponEntry/))||void 0===r||null===(n=r[0])||void 0===n?void 0:n.store,!(s=null==a||null===(o=a.editors)||void 0===o?void 0:o.couponConfig)||!i.every((function(t,e){return t.userGroupId===s[e].userGroupId&&t.brandTag===s[e].brandTag}))){t.next=11;break}return t.next=8,a.memoizedRequest();case 8:null!==(u=a.$couponList)&&void 0!==u&&u.length&&(0,S.runInAction)((function(){e.$UC_hitCouponIdx=(0,S.toJS)(a.$hitCouponIdx),e.$UC_newUserCouponList=(0,S.toJS)(a.$couponList)})),t.next=18;break;case 11:return t.next=13,(0,rt.q)(e,i);case 13:return c=t.sent,t.next=16,(0,rt.w)(e,i,c);case 16:p=t.sent,(0,S.runInAction)((function(){e.$UC_hitCouponIdx=c,e.$UC_newUserCouponList=p}));case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=i()(w().mark((function t(){var r;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$UC_enableRedPocketRain){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,jt(e);case 4:r=t.sent,e._updateRedPocketRain(r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=4,t.next=7,Promise.all([r(),n()]);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),e.logError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(e){return t.apply(this,arguments)}}(),Wt=function(t,e,r){var n=r.find((function(e){return e.brandTag===t}));n&&Object.assign(n.couponInfo,e)},qt=function(){return{enableRedPocketRain:!1,redPocketRainJumpToUrl:!1,redPocketRainTimeInterval:{startTime:ot()("2022-05-31 20:00:00").valueOf(),endTime:ot()("2022-06-21 00:00:00").valueOf()},redPocketRainUrl:"",enableNewUserCoupon:!1,newUserCouponJumpToUrl:!1,newUserCouponTimeInterval:{startTime:ot()("2022-05-21 20:00:00").valueOf(),endTime:ot()("2022-06-21 00:00:00").valueOf()},newUserCouponConfig:[{name:"好家券",userGroupId:5444,brandTag:1189,useCouponUrl:"promotion_subject.html?type=2&id=183828&_pdd_fs=1&_pdd_tc=ffffff&_pdd_sbs=1&subject_id=104450"},{name:"美丽券",userGroupId:5445,brandTag:1188,useCouponUrl:"promotion_subject.html?type=2&id=183829&_pdd_fs=1&_pdd_tc=ffffff&_pdd_sbs=1&subject_id=104451"},{name:"母婴券",userGroupId:5446,brandTag:1187,useCouponUrl:"promotion_subject.html?type=2&id=183830&_pdd_fs=1&_pdd_tc=ffffff&_pdd_sbs=1&subject_id=104452"}]}};function Nt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Gt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(r),!0).forEach((function(e){D()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ft(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Ht,Zt,Vt,Jt,Kt,Qt,Yt,Xt,te,ee,re=function(){var t=i()(w().mark((function t(e,r){var n;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:return n=t.sent,t.abrupt("return",n||null);case 7:return t.prev=7,t.t0=t.catch(0),r(t.t0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}(),ne=["first","second","third","fourth"],oe=(it=S.action.bound,at=S.action.bound,st=S.action.bound,ut=S.action.bound,ct=S.action.bound,pt=S.action.bound,lt=S.action.bound,ft=(0,T.Z)(1e3,{tailing:!1}),dt=S.action.bound,ht=S.action.bound,mt=S.action.bound,bt=S.action.bound,vt=S.action.bound,kt=S.action.bound,gt=S.action.bound,yt=S.action.bound,wt=function(t){d()(E,t);var e,o,a,u,p,f,h,b,k,g,y,_,x,P,O,I,C=(e=E,function(){var t,r=v()(e);if(Ft()){var n=v()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return m()(this,t)});function E(){var t,e;s()(this,E);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=C.call.apply(C,[this].concat(n))).editors={popupLevel:2,wpBg:{url:W.uT.MASK_P_BG.backgroundImage,height:0,width:0},wpBgSp:{url:null===(t=W.uT.MASK_P_SP_BG)||void 0===t?void 0:t.backgroundImage,height:0,width:0},lookBg:W.uT.LOOK_BUTTON_IMG.backgroundImage,changeBg:W.uT.CHANGE_BUTTON_IMG.backgroundImage,nextBg:W.uT.NEXT_PAGE_BG.backgroundImage,leftBtnTxtColor:"#fff7cf",rightBtnTxtColor:"#fff7cf",useBottom:!0,pkcVertPos:310,leftButtonText:W.VF,rightButtonText:W.aO,rightButtonUrl:"",goodsJumpType:W.Iw.GO_VENUE,fourGoodsConfig:new Array(4).fill("").map((function(){return Gt({},W.Mp)})),useFourSimplify:!1,simpleTextArr:[{text:""},{text:""},{text:""},{text:""}],useSearchWord:!1,sceneType:H.C.S,wordsActivityID:"",categoryIds:[],exCategoryIds:[],preText:"",searchBgSp:W.Mq.backgroundImage,fullBackId:0,useSpecialFunc:!1,specialOrder:JSON.parse(JSON.stringify(W.zL)),specialCount:0,specialManJianUrl:"",specialKeDieJiaUrl:"",specialManFanActivityId:0,specialManFanSubjectId:0,specialManFanUseSelfJump:!0,specialManFanUrl:"",specialWuMenKanUrl:"",FixedImage:"",specialFixedImageUrl:"",useCoupon:qt()},A()(e,"$shouldShowStillMask",_t,l()(e)),A()(e,"$shouldShowAniMask",xt,l()(e)),A()(e,"$shouldMoveUp",St,l()(e)),A()(e,"$isMoveUpOver",Pt,l()(e)),A()(e,"$showGLAni",Ot,l()(e)),A()(e,"$isUserClickPopup",It,l()(e)),e.$reqGLCnt=1,e.$firstLineList=[],e.$secondLineList=[],e.$thirdLineList=[],e.$fourthLineList=[],A()(e,"$firstLineIdx",Ct,l()(e)),e.$secondLineIdx=-1,e.$thirdLineIdx=-1,e.$fourthLineIdx=-1,A()(e,"$searchWords",Et,l()(e)),e.$lastGoodsListData=[],A()(e,"$isImprEver",$t,l()(e)),e.getImprStatus=function(){var t;e.$isImprEver=(0,J.xt)(e.rootStore.promotion_id,null===(t=e.rootStore.userInfo)||void 0===t?void 0:t.uid)},A()(e,"$isLoadingData",Ut,l()(e)),A()(e,"$initCnt",At,l()(e)),A()(e,"$isBackShow",Mt,l()(e)),A()(e,"$hasBackTriggerMask",Dt,l()(e)),e.defaultErrorHandler=function(){},e.$popupMask=null,e.$hasQuerySpecialInfo=!1,A()(e,"$UC_hitCouponIdx",Bt,l()(e)),A()(e,"$UC_newUserCouponList",Lt,l()(e)),A()(e,"$UC_rprCouponAmount",Tt,l()(e)),e._updateNewUserCoupon=function(t,r){Wt(t,r,e.$UC_newUserCouponList)},e._updateRedPocketRain=function(t){"number"==typeof t&&(e.$UC_rprCouponAmount=t)},e.getRemark=function(){return["0-区块","1-按钮-换一批","2-按钮-返回","3-小精灵","4-按钮-左下方","5-搜索词气泡-单个搜索词","6-按钮-跳转会场按钮","7-特殊坑位-可叠加券","8-特殊坑位-满减券","9-特殊坑位-平台无门槛券","10-特殊坑位-平台满返","11-四宫格-坑位一","12-四宫格-坑位二","13-四宫格-坑位三","14-四宫格-坑位四","15-特殊坑位-图片定坑","16-用券悬浮窗"]},e}return c()(E,[{key:"startMoveUp",value:function(){this.$isMoveUpOver||(this.$shouldMoveUp=!0)}},{key:"endMoveUp",value:function(){this.$isMoveUpOver=!0}},{key:"displayGoodsList",get:function(){return-1===this.$firstLineIdx?[]:[this.$firstLineList[this.$firstLineIdx],this.$secondLineList[this.$secondLineIdx],this.$thirdLineList[this.$thirdLineIdx],this.$fourthLineList[this.$fourthLineIdx]]}},{key:"useBubbleArea",get:function(){return this.bubbleShowType!==W.XY.None}},{key:"isNextOk",get:function(){var t=this;return ne.every((function(e){return t["$".concat(e,"LineIdx")]+1<t["$".concat(e,"LineList")].length}))}},{key:"toNextPage",value:(I=i()(w().mark((function t(){var e,r=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],this.rootStore.isEditor||e.push(this.querySpecialInfo()),this.isNextOk||e.push(this.requestBeforeMask()),!this.$searchWords.length&&this.editors.useSearchWord&&e.push(this.getSearchWordsInfo()),t.next=6,Promise.all(e);case 6:if(this.isNextOk){t.next=10;break}if(-1!==this.$firstLineIdx){t.next=9;break}throw new Error("首页查询完成后数量不足");case 9:return t.abrupt("return",null);case 10:(0,S.runInAction)((function(){r.$firstLineIdx++,r.$secondLineIdx++,r.$thirdLineIdx++,r.$fourthLineIdx++,r.$firstLineIdx>=60&&ne.forEach((function(t){r["$".concat(t,"LineIdx")]-=58,r["$".concat(t,"LineList")]=$()(r["$".concat(t,"LineList")].slice(58))}))}));case 11:case"end":return t.stop()}}),t,this)}))),function(){return I.apply(this,arguments)})},{key:"changePatch",value:(O=i()(w().mark((function t(){var e=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.showSearchWords&&(0,S.runInAction)((function(){var t,r=e.$searchWords.splice(0,3);(t=e.$searchWords).push.apply(t,$()(r))})),t.next=4,this.toNextPage();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),(0,j.info)(W.Bj);case 9:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(){return O.apply(this,arguments)})},{key:"goodsTypeOfFourGrid",get:function(){var t,e=null===(t=this.editors.fourGoodsConfig)||void 0===t?void 0:t.findIndex((function(t){return t.goodsType===W.Zu.FULL_BACK}));return W.Zu.items().map((function(t){return Gt(Gt({},t),{},{disabled:t.value===W.Zu.FULL_BACK&&-1!==e})}))}},{key:"showSearchWords",get:function(){return this.bubbleShowType===W.XY.SearchWords}},{key:"bubbleShowType",get:function(){return this.editors.useSearchWord&&(this.$searchWords.length>=3||this.rootStore.isEditor)?W.XY.SearchWords:W.XY.None}},{key:"getSearchWordsInfo",value:(P=i()(w().mark((function t(){var e,r,n=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,N.Ys)({source:this.editors.sceneType,task:"5",cate_arr:this.editors.categoryIds.map((function(t){return+t})),cate_blacklist:this.editors.exCategoryIds.map((function(t){return+t})),shade_list_quantity:12,query_size:4.5},this.requestParams);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=[];case 6:if(null!=(r=t.t0)&&null!==(e=r.shade_list)&&void 0!==e&&e.length){t.next=9;break}throw new Error("大促精灵查询搜索词失败!");case 9:(0,S.runInAction)((function(){n.$searchWords=r.shade_list.map((function(t){return t.word=t.query,t.jumpUrl=(0,F.Vi)((0,G.zD)(t,n.editors.wordsActivityID),{search_met:"promotion_hot_DcPikachu",source:n.editors.sceneType||10045}),t}))})),t.next=15;break;case 12:t.prev=12,t.t1=t.catch(0),this.logError(t.t1);case 15:case"end":return t.stop()}}),t,this,[[0,12]])}))),function(){return P.apply(this,arguments)})},{key:"showFullBackGoods",get:function(){var t;return null===(t=this.editors.fourGoodsConfig)||void 0===t?void 0:t.some((function(t){return t.goodsType===W.Zu.FULL_BACK}))}},{key:"reqGoodsList",value:(x=i()(w().mark((function t(e){var r,n,o,i=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=Gt({group:this.editors.useFourSimplify?"big_promotion_spirit_simple":"big_promotion_sprit",promotion_list:this.editors.fourGoodsConfig.slice(0,this.editors.useFourSimplify?1:4).map((function(t){return{promotion_id:t.subjectId,type:t.goodsType}})),carnival_id:e.promotion_id,page_no:this.$reqGLCnt,page_size:2*W.D1,list_id:e.listId},this.showFullBackGoods?{full_back_activity_id:this.fullBackId}:{})).promotion_list.sort((function(t,e){return t.type-e.type})),t.next=4,this.requestParams.axios.post("api/carnival/bigpromotion/sprit/list?comp_key=DcSaveMoneyTreasure&comp_id=".concat(this.componentId),r,Gt(Gt({},e),{},{useNativeAntiToken:!0,defaultErrorHandler:this.defaultErrorHandler}));case 4:return n=t.sent,o=this.editors.fourGoodsConfig.map((function(t){return t.subjectId})),(0,S.runInAction)((function(){if(!n.result||null==n||!n.data)throw new Error("省钱宝商品列表返回数据异常");(0,Q.h8)(i.rootStore,o);var t=i.dataFormat(n.data);if(t.length<W.D1){if(!i.$lastGoodsListData.length)throw new Error("省钱宝商品列表返回数量不足，无法前端兜底");i.logError("省钱宝商品列表返回数量不足，触发前端兜底"),t=i.$lastGoodsListData}else i.$lastGoodsListData=t;ne.forEach((function(e,r){t.length>=W.D1&&(i["$".concat(e,"LineList")]=[].concat($()(i["$".concat(e,"LineList")]),[t[0+r]])),t.length>=2*W.D1&&(i["$".concat(e,"LineList")]=[].concat($()(i["$".concat(e,"LineList")]),[t[W.D1+r]]))})),i.$reqGLCnt=i.$reqGLCnt%15+1})),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return x.apply(this,arguments)})},{key:"setImprStatus",value:function(){try{var t,e;if(!this.$isImprEver)(0,J.Si)(this.rootStore.promotion_id,null===(e=this.rootStore.userInfo)||void 0===e?void 0:e.uid);(0,J.Sw)(null===(t=this.rootStore.userInfo)||void 0===t?void 0:t.uid,"showedGoods")}catch(t){this.logError(t)}finally{this.$isImprEver=!0}}},{key:"calcShouldRetain",value:function(){var t;return"1"!==this.rootStore.requestContext.queries.dc_home_tab&&!(0,J.qk)(null===(t=this.rootStore.userInfo)||void 0===t?void 0:t.uid).showedGoods}},{key:"retainLogic",value:(_=i()(w().mark((function t(e){var r,n=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,J.qk)(e),t.abrupt("return",(0,et.q3)([{shouldRetain:!r.showedGoods,preRetain:function(){var t=i()(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.getImprStatus(),t.next=3,Promise.race([n.initMask(),(0,Z._)(W.TH).then((function(){return Promise.reject((0,tt.Lh)())}))]);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),retainFunc:function(){(0,S.runInAction)((function(){n.$hasBackTriggerMask=!0}))}}],this.logError));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return _.apply(this,arguments)})},{key:"retainAction",value:(y=i()(w().mark((function t(){var e,r,n;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null===(e=this.rootStore.userInfo)||void 0===e?void 0:e.uid){t.next=3;break}throw new Error("go back...");case 3:return n=!1,t.prev=4,t.next=7,this.retainLogic(r);case 7:n=t.sent,t.next=14;break;case 10:throw t.prev=10,t.t0=t.catch(4),this.logError(t.t0),new Error("go back...");case 14:if(n){t.next=16;break}throw new Error("go back...");case 16:case"end":return t.stop()}}),t,this,[[4,10]])}))),function(){return y.apply(this,arguments)})},{key:"requestBeforeMask",value:(g=i()(w().mark((function t(){var e,r,n=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,S.runInAction)((function(){n.$isLoadingData=!0})),e=this.requestParams,r=[this.reqGoodsList(e)],t.prev=3,t.next=6,Promise.all(r);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(3),this.logError(t.t0),t.t0;case 13:return t.prev=13,(0,S.runInAction)((function(){n.$isLoadingData=!1})),t.finish(13);case 16:case"end":return t.stop()}}),t,this,[[3,9,13,16]])}))),function(){return g.apply(this,arguments)})},{key:"dataFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t||!t.length)return[];var e=t.filter((function(t){return t.business_type>0})).slice(0,2*W.D1).map((function(t){var e=new L.ZP(t);return Object.assign(e,{businessType:+t.business_type,subjectId:t.tab_id}),e.businessType===W.Zu.FULL_BACK&&(1===t.full_back_activity_type&&(e.needAmount=(0,q.priceCent)(t.need_amount),e.seedAmount=(0,q.priceCent)(t.send_amount)),2===t.full_back_activity_type&&(e.awardThreshold=t.award_threshold,e.awardAmount=t.award_amount)),e})),r=[];return(r=this.editors.useFourSimplify?X()(e,2):this.editors.fourGoodsConfig.map((function(t){return e.filter((function(e){return e.subjectId===t.subjectId}))}))).every((function(t){return t.length>=2}))?r.map((function(t){return t[0]})).concat(r.map((function(t){return t[1]}))):r.every((function(t){return t.length>=1}))?r.map((function(t){return t[0]})):[]}},{key:"showPikachuSmall",get:function(){var t;return!(null===(t=this.rootStore.getComponentByKeyReg("DcFloatingProgress"))||void 0===t?void 0:t[0])||this.$hasBackTriggerMask}},{key:"shouldExistPikachu",get:function(){return this.rootStore.userHasLogin()||this.rootStore.isEditor}},{key:"request",value:(k=i()(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.rootStore.isEditor){t.next=3;break}return t.next=3,this.toNextPage();case 3:return t.next=5,zt(this);case 5:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)})},{key:"clickInit",value:(b=i()(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.$initCnt++,t.next=4,this.initMask();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),(0,j.info)(W.Bj);case 9:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(){return b.apply(this,arguments)})},{key:"importPopup",value:(h=i()(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([r.e("00df"),r.e("673e")]).then(r.bind(r,"vUr2"));case 2:this.$popupMask=t.sent;case 3:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"initMask",value:(f=i()(w().mark((function t(){var e;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$popupMask){t.next=3;break}return t.next=3,this.importPopup();case 3:return t.next=5,this.toNextPage();case 5:if(!this.displayGoodsList.every((function(t){return!!t}))){t.next=10;break}this.$isImprEver?this.showStillMask():this.showAniMask(),this.setImprStatus(),t.next=13;break;case 10:throw e=new Error("返回列表不合法"),this.logError(e),e;case 13:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"showStillMask",value:function(){this.$shouldShowStillMask=!0}},{key:"hideStillMask",value:function(){this.$shouldShowStillMask=!1,this.$searchWords=[]}},{key:"showAniMask",value:function(){this.$shouldShowAniMask=!0}},{key:"hideAniMask",value:function(){this.$shouldShowAniMask=!1,this.$shouldMoveUp=!1,this.$showGLAni=!1,this.$isMoveUpOver=!1,this.$searchWords=[]}},{key:"querySpecialInfo",value:(p=i()(w().mark((function t(){var e,r=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$hasQuerySpecialInfo&&this.editors.useSpecialFunc){t.next=2;break}return t.abrupt("return");case 2:return this.$hasQuerySpecialInfo=!0,t.next=5,Promise.all(this.editors.specialOrder.slice(0,this.editors.specialCount).map((function(t){return t.id})).map((function(t){return r["query".concat(t)]()})));case 5:e=t.sent,(0,S.runInAction)((function(){var t=e.filter((function(t){return!!t})).slice(0,W.D1);ne.forEach((function(e,n){var o=ne[ne.length-1-n];t[n]&&(r["$".concat(o,"LineList")]=[t[n]].concat($()(r["$".concat(o,"LineList")])))}))}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"queryManJian",value:(u=i()(w().mark((function t(){var e=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",re(i()(w().mark((function t(){var r,n,o,i;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,z.K)({carnival_id:e.rootStore.promotion_id,page_no:1,page_size:10,group:"user_rebate_coupon"},e.requestParams);case 2:if(o=t.sent,null==(i=(null===(r=o.content_list)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.user_coupon_list)||[])||!i[0]){t.next=6;break}return t.abrupt("return",Gt(Gt({},i[0]),{},{businessType:"ManJian"}));case 6:return t.abrupt("return",null);case 7:case"end":return t.stop()}}),t)}))),this.logError));case 1:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"queryKeDieJia",value:(a=i()(w().mark((function t(){var e=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",re(i()(w().mark((function t(){var r,n,o,i;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,z.K)({carnival_id:e.rootStore.promotion_id,page_no:1,page_size:10,group:"user_superposition_coupon"},e.requestParams);case 2:if(o=t.sent,null==(i=(null===(r=o.content_list)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.user_coupon_list)||[])||!i[0]){t.next=6;break}return t.abrupt("return",Gt(Gt({},i[0]),{},{businessType:"KeDieJia"}));case 6:return t.abrupt("return",null);case 7:case"end":return t.stop()}}),t)}))),this.logError));case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"queryManFan",value:(o=i()(w().mark((function t(){var e=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",re(i()(w().mark((function t(){var r,n,o,i,a,s,u,c;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.axios.post("api/zurich/mission/batch_query_mission_progress",{activity_id_list:[e.editors.specialManFanActivityId]}),t.next=3,n;case 3:if(o=t.sent,i=null==o||null===(r=o.activity_progress_volist)||void 0===r?void 0:r[0]){t.next=7;break}return t.abrupt("return",null);case 7:if(!((0,V.Z)(null==i?void 0:i.progress)&&(0,V.Z)(null==i?void 0:i.threshold)&&i.progress>0&&i.progress<i.threshold)){t.next=17;break}return t.next=10,e.axios.post("api/carnival/goods_list/list?comp_key=DcSaveMoneyTreasurea&comp_id=".concat(e.componentId),{carnival_id:e.rootStore.promotion_id,extra_param:{page_sn:String(null===(a=e.rootStore.trackingBase)||void 0===a?void 0:a.pageSn)},full_back_activity_id:e.editors.specialManFanActivityId,group:"full_back_goods",list_id:e.rootStore.listId+"_dcPikachu",min_display_num:1,page_no:1,page_size:1,promotion_id:e.editors.specialManFanSubjectId});case 10:if(u=t.sent,!(c=null==u||null===(s=u.goods_list)||void 0===s?void 0:s[0])){t.next=16;break}return t.abrupt("return",Gt(Gt({},i),{},{model:new L.ZP(c),businessType:"ManFan",end_time:(0,K.t1)()-1e3}));case 16:throw new Error("省钱宝：满返进度商品信息不全");case 17:return t.abrupt("return",null);case 18:case"end":return t.stop()}}),t)}))),this.logError));case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"queryWuMenKan",value:function(){var t=this;return re(i()(w().mark((function e(){var r,n,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.axios.post("api/firefly-api/query-platform-coupon");case 2:if(null==(n=e.sent)||null===(r=n.result)||void 0===r||!r.length){e.next=8;break}if(o=n.result.find((function(t){return t.is_cash}))){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",Gt(Gt({},o),{},{businessType:"WuMenKan"}));case 8:case"end":return e.stop()}}),e)}))),this.logError)}},{key:"queryFixedImage",value:function(){return{businessType:W.rZ.FixedImage}}},{key:"$UC_enableNewUserCoupon",get:function(){var t=this.editors.useCoupon,e=t.enableNewUserCoupon,r=t.newUserCouponTimeInterval;return e&&Rt(this,r)}},{key:"$UC_enableRedPocketRain",get:function(){var t=this.editors.useCoupon,e=t.enableRedPocketRain,r=t.redPocketRainTimeInterval;return e&&Rt(this,r)}},{key:"$UC_couponInfo",get:function(){return t=this.$UC_newUserCouponList,e=this.$UC_rprCouponAmount,r=this.$UC_enableNewUserCoupon,o=this.$UC_enableRedPocketRain,a=(t||[]).filter((function(t){var e;return null===(e=t.couponInfo)||void 0===e?void 0:e.batch_sn})).filter((function(t){return t.couponInfo.usable_count>0})).sort((function(t,e){return e.couponInfo.discount_amount-t.couponInfo.discount_amount}))[0],r&&null!=a&&null!==(i=a.couponInfo)&&void 0!==i&&i.discount_amount?{couponType:n.NewUserCoupon,couponName:a.couponName,text:"新人补贴红包",amount:a.couponInfo.discount_amount,linkUrl:""}:o&&e>0?{couponType:n.RedPocketRain,text:"大促补贴红包",amount:e,linkUrl:""}:null;var t,e,r,o,i,a}}]),E}(B.Z),_t=g()(wt.prototype,"$shouldShowStillMask",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xt=g()(wt.prototype,"$shouldShowAniMask",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),St=g()(wt.prototype,"$shouldMoveUp",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pt=g()(wt.prototype,"$isMoveUpOver",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ot=g()(wt.prototype,"$showGLAni",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),It=g()(wt.prototype,"$isUserClickPopup",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g()(wt.prototype,"startMoveUp",[it],Object.getOwnPropertyDescriptor(wt.prototype,"startMoveUp"),wt.prototype),g()(wt.prototype,"endMoveUp",[at],Object.getOwnPropertyDescriptor(wt.prototype,"endMoveUp"),wt.prototype),Ct=g()(wt.prototype,"$firstLineIdx",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g()(wt.prototype,"displayGoodsList",[S.computed],Object.getOwnPropertyDescriptor(wt.prototype,"displayGoodsList"),wt.prototype),g()(wt.prototype,"useBubbleArea",[S.computed],Object.getOwnPropertyDescriptor(wt.prototype,"useBubbleArea"),wt.prototype),g()(wt.prototype,"toNextPage",[st],Object.getOwnPropertyDescriptor(wt.prototype,"toNextPage"),wt.prototype),g()(wt.prototype,"changePatch",[ut],Object.getOwnPropertyDescriptor(wt.prototype,"changePatch"),wt.prototype),g()(wt.prototype,"goodsTypeOfFourGrid",[S.computed],Object.getOwnPropertyDescriptor(wt.prototype,"goodsTypeOfFourGrid"),wt.prototype),Et=g()(wt.prototype,"$searchWords",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g()(wt.prototype,"showSearchWords",[S.computed],Object.getOwnPropertyDescriptor(wt.prototype,"showSearchWords"),wt.prototype),g()(wt.prototype,"bubbleShowType",[S.computed],Object.getOwnPropertyDescriptor(wt.prototype,"bubbleShowType"),wt.prototype),g()(wt.prototype,"showFullBackGoods",[S.computed],Object.getOwnPropertyDescriptor(wt.prototype,"showFullBackGoods"),wt.prototype),g()(wt.prototype,"reqGoodsList",[ct],Object.getOwnPropertyDescriptor(wt.prototype,"reqGoodsList"),wt.prototype),$t=g()(wt.prototype,"$isImprEver",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g()(wt.prototype,"setImprStatus",[pt],Object.getOwnPropertyDescriptor(wt.prototype,"setImprStatus"),wt.prototype),Ut=g()(wt.prototype,"$isLoadingData",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g()(wt.prototype,"retainAction",[lt],Object.getOwnPropertyDescriptor(wt.prototype,"retainAction"),wt.prototype),g()(wt.prototype,"requestBeforeMask",[ft],Object.getOwnPropertyDescriptor(wt.prototype,"requestBeforeMask"),wt.prototype),g()(wt.prototype,"dataFormat",[dt],Object.getOwnPropertyDescriptor(wt.prototype,"dataFormat"),wt.prototype),At=g()(wt.prototype,"$initCnt",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mt=g()(wt.prototype,"$isBackShow",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dt=g()(wt.prototype,"$hasBackTriggerMask",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g()(wt.prototype,"showPikachuSmall",[S.computed],Object.getOwnPropertyDescriptor(wt.prototype,"showPikachuSmall"),wt.prototype),g()(wt.prototype,"shouldExistPikachu",[S.computed],Object.getOwnPropertyDescriptor(wt.prototype,"shouldExistPikachu"),wt.prototype),g()(wt.prototype,"request",[ht,R.K],Object.getOwnPropertyDescriptor(wt.prototype,"request"),wt.prototype),g()(wt.prototype,"clickInit",[mt],Object.getOwnPropertyDescriptor(wt.prototype,"clickInit"),wt.prototype),g()(wt.prototype,"initMask",[bt],Object.getOwnPropertyDescriptor(wt.prototype,"initMask"),wt.prototype),g()(wt.prototype,"showStillMask",[vt],Object.getOwnPropertyDescriptor(wt.prototype,"showStillMask"),wt.prototype),g()(wt.prototype,"hideStillMask",[kt],Object.getOwnPropertyDescriptor(wt.prototype,"hideStillMask"),wt.prototype),g()(wt.prototype,"showAniMask",[gt],Object.getOwnPropertyDescriptor(wt.prototype,"showAniMask"),wt.prototype),g()(wt.prototype,"hideAniMask",[yt],Object.getOwnPropertyDescriptor(wt.prototype,"hideAniMask"),wt.prototype),Bt=g()(wt.prototype,"$UC_hitCouponIdx",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lt=g()(wt.prototype,"$UC_newUserCouponList",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tt=g()(wt.prototype,"$UC_rprCouponAmount",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g()(wt.prototype,"$UC_enableNewUserCoupon",[S.computed],Object.getOwnPropertyDescriptor(wt.prototype,"$UC_enableNewUserCoupon"),wt.prototype),g()(wt.prototype,"$UC_enableRedPocketRain",[S.computed],Object.getOwnPropertyDescriptor(wt.prototype,"$UC_enableRedPocketRain"),wt.prototype),g()(wt.prototype,"$UC_couponInfo",[S.computed],Object.getOwnPropertyDescriptor(wt.prototype,"$UC_couponInfo"),wt.prototype),wt),ie=oe,ae=r("CMaj"),se=r.n(ae),ue=r("h/xE"),ce=r("25h1"),pe=r("2tVT"),le=r("MV8a"),fe=r("u2c9"),de=r.n(fe),he=r("VCAa"),me=r("W/Bg"),be=r("P5/W"),ve=r.n(be);function ke(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ge,ye=(Ht=C()(ve()),Zt=S.action.bound,Vt=(0,T.Z)(100,{trailing:!0}),Jt=(0,T.Z)(1e3,{trailing:!1}),Ht(Kt=(0,P.observer)((Qt=function(t){d()(n,t);var e,r=(e=n,function(){var t,r=v()(e);if(ke()){var n=v()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return m()(this,t)});function n(){var t;s()(this,n);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t=r.call.apply(r,[this].concat(o)),A()(t,"$rotatePikachu",Yt,l()(t)),A()(t,"$showSmallEnterAni",Xt,l()(t)),A()(t,"onScroll",te,l()(t)),A()(t,"onClickDoc",ee,l()(t)),t}return c()(n,[{key:"onEnterAniEndHook",value:function(){this.$showSmallEnterAni=!1}},{key:"componentDidMount",value:function(){window.addEventListener("click",this.onClickDoc),window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.$showDelayTimer&&clearTimeout(this.$showDelayTimer),window.removeEventListener("click",this.onClickDoc),window.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var t,e=this.props,r=e.shouldHide,n=e.onClick,o=e.trackingInfo,i=e.useBottom,a=e.pkcVertPos,s=!this.$showSmallEnterAni&&this.$rotatePikachu,u=i?"bottom":"top";return x().createElement(x().Fragment,null,x().createElement(pe.ZP,{className:de()(ve().smallPikachuBg,D()({},ve().bgIn,s)),style:D()({},u,(0,he.Q1)(a+(i?-47:33))),backgroundImage:"//promotion.pddpic.com/cart/2019-12-23/8a7a65d26d399a7947217df463738fb6.png"}),x().createElement(le.Z,{trackingInfo:o},x().createElement("div",{onClick:n,className:de()(ve().dcPikachu,(t={},D()(t,ve().dcPikachuRotate,s),D()(t,ve().hideEle,r),t)),style:D()({},u,(0,he.Q1)(a))},x().createElement(me.Z,{isSmall:!0,onEnterAniEndHook:this.onEnterAniEndHook}))))}}]),n}(x().Component),Yt=g()(Qt.prototype,"$rotatePikachu",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xt=g()(Qt.prototype,"$showSmallEnterAni",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g()(Qt.prototype,"onEnterAniEndHook",[Zt],Object.getOwnPropertyDescriptor(Qt.prototype,"onEnterAniEndHook"),Qt.prototype),te=g()(Qt.prototype,"onScroll",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){(0,S.runInAction)((function(){var e=t.$rotatePikachu;t.props.shouldHide||(window.pageYOffset>10?e||(t.$rotatePikachu=!0):e&&(t.$rotatePikachu=!1))}))}}}),ee=g()(Qt.prototype,"onClickDoc",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){t.$showDelayTimer&&clearTimeout(t.$showDelayTimer)}}}),Kt=Qt))||Kt)||Kt),we=ye,_e=r("TKwH"),xe=r.n(_e),Se=r("M4vm"),Pe=r("BqXm"),Oe=r("iOT4"),Ie=r("tf1F"),Ce=r.n(Ie);var Ee,$e,Ue,Ae,Me,De,Be,Le=function(t){var e=t.store,r=t.couponInfo,o=r.text,a=r.amount,s=r.couponType,u=r.couponName,c=t.openPopup,p=t.trackForward,l=e.editors,f=l.useCoupon,d=l.pkcVertPos,h=l.useBottom,m=f,b=h?"bottom":"top",v=e.rootStore.serverTime,k=e.getLog(16);xe()(Ce());var g=(0,_.useMemo)((function(){return function(t){var e=new Date(t);return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),+e+864e5}(v)}),[]),y=(0,Se.Z)(g),S=y.totalHH,P=y.mm,O=y.ss;return(0,_.useEffect)((function(){var t;return i()(w().mark((function r(){var n;return w().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=function(){var t=i()(w().mark((function t(){var r,n;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((null===(r=e.$UC_newUserCouponList)||void 0===r?void 0:r.length)>0)){t.next=4;break}return t.next=3,(0,rt.w)(e,e.editors.useCoupon.newUserCouponConfig,e.$UC_hitCouponIdx);case 3:e.$UC_newUserCouponList=t.sent;case 4:if(!(e.$UC_rprCouponAmount>0)){t.next=9;break}return t.next=7,jt(e);case 7:n=t.sent,e._updateRedPocketRain(n);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.next=3,(0,Oe.hE)(n);case 3:t=r.sent;case 4:case"end":return r.stop()}}),r)})))(),function(){var e;null===(e=t)||void 0===e||e()}}),[]),x().createElement(le.Z,{trackingInfo:k},x().createElement(pe.ZP,{className:Ce().wrap,style:D()({},b,(0,he.Q1)(d)),backgroundImage:"https://promotion.pddpic.com/promo/ffc04000-bf74-4b41-94ce-8dfcd659f081.png.slim.png",onClick:function(){if(s===n.NewUserCoupon&&m.newUserCouponJumpToUrl){var t,e=null===(t=m.newUserCouponConfig.find((function(t){return t.name===u})))||void 0===t?void 0:t.useCouponUrl;p(e,k)}else s===n.RedPocketRain&&m.redPocketRainJumpToUrl?p(m.redPocketRainUrl,k):((0,Pe.iH)(null,k),c())}},x().createElement("div",{className:Ce().couponName},o),x().createElement("div",{className:Ce().couponAmount},(0,q.priceCent)(a),ge||(ge=x().createElement("span",null,"元"))),x().createElement("div",{className:Ce().countDown},S,":",P,":",O)))};function Te(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var je=(Ee=C()(se()),$e=(0,P.inject)("store"),Ue=S.action.bound,Ee(Ae=$e(Ae=(0,P.observer)((Be=De=function(t){d()(o,t);var e,r,n=(e=o,function(){var t,r=v()(e);if(Te()){var n=v()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return m()(this,t)});function o(){var t;s()(this,o);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))).state={isMounted:!1,isLoadedImages:!1},t.componentDidMount=i()(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0,t.setState({isMounted:!0}),t.store.shouldExistPikachu&&(t.store.getImprStatus(),t.prepareImages(t.store.$isImprEver?(0,W.fo)(t.store,t.store.editors):(0,W.Ae)(t.store)),t.store.$isBackShow&&t.store.clickInit());case 3:case"end":return e.stop()}}),e)}))),t.renderPikachu=function(){var e=t.store,r=e.$shouldShowAniMask,n=e.$shouldShowStillMask,o=e.$isImprEver,i=e.editors,a=i.useBottom,s=i.pkcVertPos,u=e.showPikachuSmall,c=t.store.getLog(3);return u&&t.state.isLoadedImages||t.rootStore.isEditor?x().createElement(we,{useBottom:a,pkcVertPos:s,$isImprEver:o,shouldHide:r||n,onClick:t.onClickSmallPikachu.bind(l()(t),{trackingInfo:c}),trackingInfo:c}):null},t.renderLoading=function(){return x().createElement("div",{className:se().loading})},t}return c()(o,[{key:"openPopup",value:function(){this.store.$isUserClickPopup=!0,this.store.clickInit()}},{key:"onClickSmallPikachu",value:function(t){t.trackingInfo;this.openPopup()}},{key:"prepareImages",value:(r=i()(w().mark((function t(e){var r=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return setTimeout((function(){r.setState({isLoadedImages:!0})}),3e3),t.next=3,(0,ce.Z)(e.map((function(t){return(0,F.lP)(t.backgroundImage||t.src,{resizeWidth:t.resizeWidth,webpEnable:r.props.store.webpEnable,quality:pe.SI})})));case 3:this.setState({isLoadedImages:!0});case 4:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"renderMask",value:function(){var t=this.store.$popupMask||{},e=t.PopupAniMask,r=t.PopupStillMask;return x().createElement(x().Fragment,null,e&&x().createElement(e,{store:this.store,rootStore:this.rootStore})||null,r&&x().createElement(r,{store:this.store,rootStore:this.rootStore})||null)}},{key:"render",value:function(){var t,e=this,r=this.store,n=r.$isLoadingData,o=r.shouldExistPikachu,i=r.retainAction;return this.state.isMounted&&o?x().createElement(et.ZP,{rootStore:this.rootStore,shouldRetain:function(){return e.store.calcShouldRetain()},retainAction:i,popupLevel:this.store.editors.popupLevel},x().createElement("div",{id:this.componentId},null!==(t=this.store.$UC_couponInfo)&&void 0!==t&&t.amount?x().createElement(Le,{couponInfo:this.store.$UC_couponInfo,store:this.store,openPopup:this.openPopup,trackForward:this.trackForward}):this.renderPikachu(),this.renderMask(),n&&this.renderLoading())):null}}]),o}(O.Z),De.Store=ie,Me=Be,g()(Me.prototype,"openPopup",[Ue],Object.getOwnPropertyDescriptor(Me.prototype,"openPopup"),Me.prototype),g()(Me.prototype,"onClickSmallPikachu",[ue.j],Object.getOwnPropertyDescriptor(Me.prototype,"onClickSmallPikachu"),Me.prototype),Ae=Me))||Ae)||Ae)||Ae)},tq6Q:function(t,e,r){"use strict";r.d(e,{qk:function(){return m},Sw:function(){return b},xt:function(){return k},Si:function(){return g}});var n=r("/4JS"),o=r.n(n),i=r("Wgwc"),a=r.n(i);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t){return function(t){var e;try{e=JSON.parse(t||"")}catch(r){e=t}return e}(localStorage.getItem(t))}function p(t,e){var r;return null===(r=c(t))||void 0===r?void 0:r[e]}function l(t,e,r){!function(t,e){localStorage.setItem(t,JSON.stringify(e))}(t,u(u({},c(t)),{},o()({},r,e)))}var f="mobile_dc_retain_data",d={showedGoods:!1,takenRetainCoupon:!1,showedRetainRpcCoupon:!1},h=function(t){return a()(t).format("YYYYMMDD")};function m(t){var e=p(f,t);if(e&&h(e.lastTime)===h(Date.now()))return Object.assign({},d,e);var r=Object.assign({},d,{lastTime:Date.now()});return l(f,r,t),r}function b(t,e,r){var n=m(t);n[e]=null==r||r,l(f,n,t)}var v="mobile_dc_pikachu_ani_state";function k(t,e){return!!(p(v,e)||{})[t]}function g(t,e){var r=p(v,e)||{};r[t]=!0,l(v,r,e)}},BzID:function(t,e,r){var n=r("VsFd"),o=r("DDs0"),i="string"==typeof n?[[t.id,n,""]]:n;(e=t.exports=n.locals||{})._getContent=function(){return i},e._getCss=function(){return""+n},e._insertCss=function(t){return o(i,t)}},"P5/W":function(t,e,r){var n=r("GyNs"),o=r("DDs0"),i="string"==typeof n?[[t.id,n,""]]:n;(e=t.exports=n.locals||{})._getContent=function(){return i},e._getCss=function(){return""+n},e._insertCss=function(t){return o(i,t)}},tf1F:function(t,e,r){var n=r("yTWS"),o=r("DDs0"),i="string"==typeof n?[[t.id,n,""]]:n;(e=t.exports=n.locals||{})._getContent=function(){return i},e._getCss=function(){return""+n},e._insertCss=function(t){return o(i,t)}},CMaj:function(t,e,r){var n=r("0lIk"),o=r("DDs0"),i="string"==typeof n?[[t.id,n,""]]:n;(e=t.exports=n.locals||{})._getContent=function(){return i},e._getCss=function(){return""+n},e._insertCss=function(t){return o(i,t)}},VsFd:function(t,e,r){(e=t.exports=r("Cgg2")(!1)).push([t.id,"@-webkit-keyframes _2HUz0Ied{0%{-webkit-transform:scale(0);transform:scale(0)}70%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes _2HUz0Ied{0%{-webkit-transform:scale(0);transform:scale(0)}70%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes _3gS-9xTR{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes _3gS-9xTR{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}._hHJ-Qx9{top:calc(50% - .33rem);right:.02rem;height:.54rem;width:.54rem}._1W1C4wez{position:absolute;right:-.265rem;top:1.1rem;z-index:10;overflow:hidden}._2LJX6Era{position:absolute;width:2.5rem;height:2.94rem;top:.2rem;left:50%;margin-left:-1.25rem}._2yejWqnS{width:.54rem;height:.54rem;background-repeat:no-repeat;background-position:0 0;background-size:.54rem 11.88rem;-webkit-animation:_37__JA1A 2.45s steps(21) 2.45s infinite;animation:_37__JA1A 2.45s steps(21) 2.45s infinite}@-webkit-keyframes _37__JA1A{to{background-position:0 -11.34rem}}@keyframes _37__JA1A{to{background-position:0 -11.34rem}}._21cseM6p{width:.54rem;height:.54rem;background-repeat:no-repeat;background-position:0 0;background-size:.54rem 11.88rem;-webkit-animation:_2YTNMJmT 6.125s steps(21) 2.45s infinite;animation:_2YTNMJmT 6.125s steps(21) 2.45s infinite}@-webkit-keyframes _2YTNMJmT{0%{background-position:0 0}40%,to{background-position:0 -11.34rem}}@keyframes _2YTNMJmT{0%{background-position:0 0}40%,to{background-position:0 -11.34rem}}._2syfG2f0{width:.54rem;height:.54rem;background-size:.54rem 11.88rem}._2syfG2f0,._3BlrKxdI{background-repeat:no-repeat;background-position:0 0}._3BlrKxdI{width:2.5rem;height:2.94rem;background-size:2.5rem 99.96rem;-webkit-animation:MHvndcpY 2.45s steps(34) .3s forwards;animation:MHvndcpY 2.45s steps(34) .3s forwards}@-webkit-keyframes MHvndcpY{to{background-position:0 -99.96rem}}@keyframes MHvndcpY{to{background-position:0 -99.96rem}}._3V8A4K91{width:.54rem;height:.54rem;background-repeat:no-repeat;background-position:0 0;background-size:.54rem 5.94rem;-webkit-animation:_1oHVBUtR 1s steps(10) forwards;animation:_1oHVBUtR 1s steps(10) forwards}@-webkit-keyframes _1oHVBUtR{to{background-position:0 -5.4rem}}@keyframes _1oHVBUtR{to{background-position:0 -5.4rem}}._2QR5U51G{position:absolute;top:.82rem;left:0;right:0;width:100%;height:3rem;overflow:visible;z-index:8}.G3pnm42p{width:.54rem;height:.54rem;right:0;top:0}._hHJ-Qx9{position:fixed;background-size:100% 100%;z-index:51;-webkit-transition:all .5s;transition:all .5s;-webkit-transform-origin:100% 70%;transform-origin:100% 70%}._2-6WaBUB{visibility:hidden}._3nsh7cyz{-webkit-transform:translate3d(0,-2rem,0) scale(.64);transform:translate3d(0,-2rem,0) scale(.64)}.iGOXgtHG{-webkit-animation:_2_xiQ1Ss .375s;animation:_2_xiQ1Ss .375s}@-webkit-keyframes _2_xiQ1Ss{0%,33%{-webkit-transform:translateZ(0) scale(1);transform:translateZ(0) scale(1)}to{-webkit-transform:translate3d(0,-2rem,0) scale(.64);transform:translate3d(0,-2rem,0) scale(.64)}}@keyframes _2_xiQ1Ss{0%,33%{-webkit-transform:translateZ(0) scale(1);transform:translateZ(0) scale(1)}to{-webkit-transform:translate3d(0,-2rem,0) scale(.64);transform:translate3d(0,-2rem,0) scale(.64)}}",""]),e.locals={dcPikachu:"_hHJ-Qx9",containerZIndex:"_1W1C4wez",containerPosition:"_2LJX6Era",repeatAniNormal:"_2yejWqnS","repeat-move-normal":"_37__JA1A",repeatAniSmall:"_21cseM6p","repeat-move-small":"_2YTNMJmT",staticAniSmall:"_2syfG2f0",enterAniSingle:"_3BlrKxdI","enter-ani-sin":"MHvndcpY",enterSmall:"_3V8A4K91","enter-small-ani":"_1oHVBUtR",pikachuMain:"_2QR5U51G",containerPositionSmall:"G3pnm42p",hideEle:"_2-6WaBUB",moveUpStatus:"_3nsh7cyz",moveUpAni:"iGOXgtHG","move-up":"_2_xiQ1Ss","ani-jelly":"_2HUz0Ied","ani-loading":"_3gS-9xTR"}},GyNs:function(t,e,r){(e=t.exports=r("Cgg2")(!1)).push([t.id,"._4tKIStmy{right:.02rem;height:.54rem;width:.54rem;position:fixed;background-size:100% 100%;z-index:51;-webkit-transition:all .5s;transition:all .5s;-webkit-transform-origin:100% 78%;transform-origin:100% 78%}._2m1w57rB{visibility:hidden}._5Nf5dkIy{-webkit-transform:rotate(-90deg) translateZ(0);transform:rotate(-90deg) translateZ(0);-webkit-transform-origin:100% 78%;transform-origin:100% 78%}._2z_UVBtl{position:fixed;visibility:hidden;background-size:100% 100%;z-index:51;-webkit-transform-origin:100% 70%;transform-origin:100% 70%;right:0;margin-top:.11rem;width:.4rem;height:.63rem}._3JZvtyY0{visibility:visible!important;-webkit-animation:_29fk6EH8 1s;animation:_29fk6EH8 1s}@-webkit-keyframes _29fk6EH8{0%,50%{opacity:0}to{opacity:1}}@keyframes _29fk6EH8{0%,50%{opacity:0}to{opacity:1}}",""]),e.locals={dcPikachu:"_4tKIStmy",hideEle:"_2m1w57rB",dcPikachuRotate:"_5Nf5dkIy",smallPikachuBg:"_2z_UVBtl",bgIn:"_3JZvtyY0","opa-in":"_29fk6EH8"}},yTWS:function(t,e,r){(e=t.exports=r("Cgg2")(!1)).push([t.id,"._2nZrVAWC{width:.54rem;height:.56rem;background-size:100% 100%;position:fixed;z-index:51;right:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#f90000;font-weight:700}._3S4ketF6{font-size:.1rem;white-space:nowrap;-webkit-transform:scale(.8);transform:scale(.8);line-height:.1rem;margin-top:.04rem}._3b2116kr{font-size:.18rem;line-height:.2rem}._2A9maWfa,._3b2116kr>span{font-size:.11rem}._2A9maWfa{color:#fff;line-height:.19rem;font-weight:400}",""]),e.locals={wrap:"_2nZrVAWC",couponName:"_3S4ketF6",couponAmount:"_3b2116kr",countDown:"_2A9maWfa"}},"0lIk":function(t,e,r){(e=t.exports=r("Cgg2")(!1)).push([t.id,'@-webkit-keyframes _1V-iVXZV{0%{-webkit-transform:scale(0);transform:scale(0)}70%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes _1V-iVXZV{0%{-webkit-transform:scale(0);transform:scale(0)}70%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}.QJgdS1w4{-webkit-animation:_1V-iVXZV .5s ease;animation:_1V-iVXZV .5s ease}@-webkit-keyframes _1DyDcGtW{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes _1DyDcGtW{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}._3UMVhEpe{position:fixed;z-index:1000;left:50%;top:50%;margin-left:-.13rem;margin-top:-.13rem;display:inline-block;width:.26rem;height:.26rem;background:url("https://promotion.pddpic.com/promo/2020-04-01/610500d9-f816-4484-a295-286dd71e0b99.png") 0 0/100% 100%;-webkit-animation:_1DyDcGtW 1s linear infinite;animation:_1DyDcGtW 1s linear infinite}.blEJnvYB{visibility:hidden}._3E8xFxij{height:5.05rem}._3AxbBzdw,._3E8xFxij{width:3.75rem;top:.1rem}._3AxbBzdw{height:5.285rem}._1QiDgmiU{background-size:100% 100%;position:relative;overflow:visible}._1QiDgmiU ._2rWceLV1{position:absolute;z-index:9;top:.72rem;width:3.22rem;height:4.41rem;left:50%;-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0);background-size:100%}._1QiDgmiU ._1gsZTyTE{-webkit-animation:sB55WIUL .75s;animation:sB55WIUL .75s}@-webkit-keyframes sB55WIUL{0%{-webkit-transform:translate3d(-50%,6rem,0);transform:translate3d(-50%,6rem,0)}66%{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}83%{-webkit-transform:translate3d(-50%,.05rem,0);transform:translate3d(-50%,.05rem,0)}to{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}}@keyframes sB55WIUL{0%{-webkit-transform:translate3d(-50%,6rem,0);transform:translate3d(-50%,6rem,0)}66%{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}83%{-webkit-transform:translate3d(-50%,.05rem,0);transform:translate3d(-50%,.05rem,0)}to{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}}._374vcs8w{height:5.25rem!important}._1Z-tJdqA,._374vcs8w{width:3.22rem!important}._1Z-tJdqA{height:5.485rem!important}._3E8xFxij ._2rWceLV1{width:3.75rem;height:5.05rem;top:.1rem}._3AxbBzdw ._2rWceLV1{width:3.75rem;height:5.285rem;top:.1rem}@media only screen and (min-aspect-ratio:75/101){._1QiDgmiU{-webkit-transform:scale(.7);transform:scale(.7)}.QJgdS1w4{-webkit-animation:_3MxraS-x .5s ease;animation:_3MxraS-x .5s ease}@-webkit-keyframes _3MxraS-x{0%{-webkit-transform:scale(0);transform:scale(0)}70%{-webkit-transform:scale(.8);transform:scale(.8)}to{-webkit-transform:scale(.7);transform:scale(.7)}}@keyframes _3MxraS-x{0%{-webkit-transform:scale(0);transform:scale(0)}70%{-webkit-transform:scale(.8);transform:scale(.8)}to{-webkit-transform:scale(.7);transform:scale(.7)}}}',""]),e.locals={maskPopUpAni:"QJgdS1w4","ani-jelly":"_1V-iVXZV",loading:"_3UMVhEpe","ani-loading":"_1DyDcGtW",hideEle:"blEJnvYB",mask3:"_3E8xFxij",mask5:"_3AxbBzdw",mask:"_1QiDgmiU",listBg:"_2rWceLV1",listMoveUp:"_1gsZTyTE","list-move-up":"sB55WIUL",maskAni3:"_374vcs8w",maskAni5:"_1Z-tJdqA",popAni:"_3MxraS-x"}},kcif:function(t,e,r){var n=r("KxBF"),o=r("mv/X"),i=r("Sxd8"),a=Math.ceil,s=Math.max;t.exports=function(t,e,r){e=(r?o(t,e,r):void 0===e)?1:s(i(e),0);var u=null==t?0:t.length;if(!u||e<1)return[];for(var c=0,p=0,l=Array(a(u/e));c<u;)l[p++]=n(t,c,c+=e);return l}},ZCgT:function(t,e,r){var n=r("/dva"),o=1/0;t.exports=function(t){return t?(t=n(t))===o||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},Sxd8:function(t,e,r){var n=r("ZCgT");t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},"/dva":function(t,e,r){t.exports=r("xyHx")("tLB3")}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcSaveMoneyTreasure-d1300013ea65a2ea1368.js.map