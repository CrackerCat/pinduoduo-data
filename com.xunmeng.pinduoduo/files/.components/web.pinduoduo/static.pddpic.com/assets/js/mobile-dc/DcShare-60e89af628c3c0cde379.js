(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["e490"],{uLgV:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return pe}});var n,a=r("U5BY"),o=r.n(a),c=r("hwDT"),i=r.n(c),s=r("f6/u"),u=r.n(s),f=r("f17R"),l=r.n(f),p=r("Vl5s"),h=r.n(p),d=r("9bdW"),y=r.n(d),b=r("xeO4"),v=r.n(b),m=r("/4JS"),g=r.n(m),_=r("T6n4"),S=r.n(_),O=r("KdYu"),R=r("UK90"),w=r("bSXV"),U=r("iuwq"),j=r("iOT4"),P=r("4vPy"),L=r("V56i"),k=r("CLTR"),I=r("swbT"),x=r("L8Fz"),C="拼多多商城",D="风靡全国的拼单商城，优质商品新鲜直供，快一起来拼多多吧",T="https://funimg.pddpic.com/base/logo.jpg",E="APP主动分享失败",V=function(e,t){var r=e.shareURL,n=e.shareTitle,a=e.shareContent,o=e.shareImageURL,c={is_silence:!1,title:n,type:4,thumb_url:o,extra:{sub_title:a,link_url:r}},i={page_sn:e.page_sn,title:n,message:a,thumb_url:o,share_url:(0,L.hX)(r),enabled_channels:[0,2,3,4],share_callback:function(e,t){60006===e||e&&(0,I.y7)("".concat(E,": ").concat(e))}};t&&(0,P.compareVersion)(j.Jv.version,"4.83.0")>=0&&(i.pdd_timeline_info=c,((0,j.Dt)()&&(0,P.compareVersion)(j.Jv.version,"5.9.0")>=0||(0,j.gn)())&&i.enabled_channels.splice(1,0,7));(0,k.c_)(i)};function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var N=(0,O.inject)("store")(n=(0,O.observer)(n=function(e){u()(a,e);var t,r,n=(t=a,function(){var e,r=h()(t);if(M()){var n=h()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return l()(this,e)});function a(){return o()(this,a),n.apply(this,arguments)}return i()(a,[{key:"shareInfo",get:function(){var e=this.rootStore,t=e.shareURL,r=e.shareInfo,n=e.pageTitle,a=r.shareTitle,o=r.shareImageURL,c=r.shareContent,i=r.shareMiniProgramImageURL;return A(A({shareURL:t},r),{},{shareTitle:a||n||C,shareContent:c||D,shareImageURL:o||T,shareMiniProgramImageURL:i||T})}},{key:"render",value:function(){return null}},{key:"prepareShare",value:(r=v()(S().mark((function e(){var t,r,n,a,o,c=this;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.rootStore,r=t.needShare,n=t.userInfo,a=t.trackingBase.pageSn,r&&j.ZP.isNativePlatform&&(o=A(A({},this.shareInfo),{},{page_sn:a}),this.pddShare=w.default.getInstance(),this.pddShare.setupNativeShareButton(o,(0,R.action)(v()(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,j.oG)("4.53")){e.next=4;break}V(o,null==n?void 0:n.uid),e.next=8;break;case 4:return e.next=6,c.pddShare.getShareManager().getShareControllerAsync();case 6:c.shareController=e.sent,t=c.shareController,r=w.ShareType.WECHAT_SESSION,a=void 0,(a=t.share(r))&&((0,x.info)("分享失败"),(0,I.y7)("".concat(E,": ").concat(a)));case 8:return e.abrupt("return");case 9:case"end":return e.stop()}var t,r,a}),e)}))))));case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"componentDidMount",value:function(){this.prepareShare()}}]),a}(U.Z))||n)||n,Q=r("0Qln"),X=r.n(Q),Z=r("i/Q6"),q=r.n(Z),z=r("jXLS"),B=r.n(z),J=(r("XC3m"),r("wfOt"));var K,F,G,H=function(e){var t=e.type,r=e.id,n=void 0===r?"":r,a=e.path,o=e.isEditor;return"".concat(o?a:e.requestContext.pathname,"?id=").concat(n,"&type=").concat(t)},W=r("JZM8"),Y=r.n(W),ee=r("4k0V"),te=Object.values({id:"id",type:"type",pddFs:"_pdd_fs",pddNc:"_pdd_nc",pddTc:"_pdd_tc",pddSbs:"_pdd_sbs",isBack:"is_back",searchLandingGoodsKey:"goods_from_search",scene_label_id:"scene_label_id",scene_label_name:"scene_label_name",tfId:"tf_id",tfIdName:"tf_id_name",tertiaryTfId:"tertiary_tf_id",tertiaryTfName:"tertiary_tf_name"});function re(e){var t=Y()(e,te);return(0,ee.buildQuery)(t)}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ce,ie,se,ue={shareTitle:"",shareContent:"",shareImageURL:"",shareMiniProgramImageURL:""},fe=(K=function(e){u()(n,e);var t,r=(t=n,function(){var e,r=h()(t);if(oe()){var n=h()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return l()(this,e)});function n(){var e;o()(this,n);for(var t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];return e=r.call.apply(r,[this].concat(a)),X()(e,"$showShare",F,q()(e)),X()(e,"useCustomShareUrl",G,q()(e)),e.afterInit=function(){var t=e.rootStore;(0,R.runInAction)((function(){(0,R.extendObservable)(t,{}),(0,R.set)(e.rootStore,{shareInfo:t.shareInfo||ue,shareURL:t.shareURL||"",needShare:!1!==t.needShare})})),e.setShareURL()},e.setShareURL=v()(S().mark((function t(){var r,n,a,o,c;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$defaultURL=H(e.rootStore),r=e.rootStore,n=r.isEditor,a=r.shareURL,o=r.requestContext.queries,!n){t.next=6;break}return r.shareURL=e.useCustomShareUrl&&a||e.$defaultURL,t.abrupt("return");case 6:c=re(o),r.shareURL=e.useCustomShareUrl?a:(0,ee.appendQuery)(ae(ae({},(0,ee.parseQuery)(c)),(0,ee.parseUrlQuery)(e.$defaultURL)),e.$defaultURL);case 8:case"end":return t.stop()}}),t)}))),e}return i()(n)}(J.Z),F=B()(K.prototype,"$showShare",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=B()(K.prototype,"useCustomShareUrl",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K);function le(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var pe=(0,O.inject)("store")(ce=(0,O.observer)((se=ie=function(e){u()(n,e);var t,r=(t=n,function(){var e,r=h()(t);if(le()){var n=h()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return l()(this,e)});function n(){return o()(this,n),r.apply(this,arguments)}return i()(n,[{key:"render",value:function(){return this.rootStore.$useActivityShare?null:y().createElement(N,{componentStore:this.store})}}]),n}(U.Z),ie.Store=fe,ce=se))||ce)||ce},bSXV:function(e,t,r){e.exports=r("xyHx")("zRS3")}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcShare-60e89af628c3c0cde379.js.map