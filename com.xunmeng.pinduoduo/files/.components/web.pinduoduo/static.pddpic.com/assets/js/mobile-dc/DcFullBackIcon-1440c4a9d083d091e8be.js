(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["4997"],{QAzG:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n,o,i,s=r("U5BY"),a=r.n(s),c=r("hwDT"),u=r.n(c),l=r("f6/u"),p=r.n(l),f=r("f17R"),m=r.n(f),h=r("Vl5s"),d=r.n(h),b=r("9bdW"),v=r.n(b),g=r("KdYu"),y=r("ukrc"),w=r.n(y),k=r("u2c9"),_=r.n(k),E=r("UK90"),x=r("X3Or"),C=new(function(){function e(){var t=this;a()(this,e),this.queue=[],this.timer=null,this.start=function(){t.queue.forEach((function(e){return e()})),t.timer=setTimeout(t.start,100),t.queue.length||t.stop()}}return u()(e,[{key:"stop",value:function(){clearTimeout(this.timer),this.timer=null}},{key:"add",value:function(e){var t=this;return this.queue.push(e),this.timer||this.start(),function(){var r=t.queue.findIndex((function(t){return t===e}));t.queue.splice(r,1)}}}]),e}()),S=new Map,O=new Map,P=function(e,t,r){var n=[e,t].join("_");if(S.has(n))return S.get(n)(r);O.has(e)||O.set(e,Date.now());var o=(0,E.observable)({h:"00",m:"00",s:"00",ms:"0"}),i=function(e){return e<10?"0".concat(e):e},s=function(r){var n=t-((r?Date.now()-O.get(e):0)+e),s=n<=0;return(0,E.runInAction)((function(){s?(o.h="00",o.m="00",o.s="00",o.ms="0"):(o.h=i(~~(n/1e3/60/60)),o.m=i(~~(n/1e3/60%60)),o.s=i(~~(n/1e3%60)),o.ms=~~(n%1e3/100))})),s},a={dep:0,callbacks:[],isEnd:s(!1),dispose:function(){},stop:function(){this.dispose(),this.callbacks=[],this.isEnd||S.delete(n)},start:function(){var e=this;this.dispose=C.add((function(){e.isEnd=s(!0),e.isEnd&&(e.callbacks.forEach((function(e){return e()})),e.stop())}))}},c=function(e){return{value:o,start:function(){a.isEnd?(0,x.Z)(e)&&e():((0,x.Z)(e)&&a.callbacks.push(e),a.dep||a.start()),a.dep++},stop:function(){a.dep--,a.dep?a.callbacks=a.callbacks.filter((function(t){return t!==e})):a.stop()}}};return S.set(n,c),c(r)},R=r("3CTc"),z=r.n(R),D=r("uiXq");function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var j=w()(z())(n=(0,g.observer)((i=o=function(e){p()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(q()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return m()(this,e)});function n(){var e,t,o,i,s;a()(this,n);for(var c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];return(e=r.call.apply(r,[this].concat(u))).visibilityChangeRemover=void 0,e.clock=(t=e.props,o=t.start,i=t.end,s=t.onEnd,P(o,i,s)),e.onHidden=function(){e.clock.stop()},e.onVisible=function(){e.clock.start()},e}return u()(n,[{key:"componentDidMount",value:function(){this.clock.start(),this.visibilityChangeRemover=(0,D.I8)({onHidden:this.onHidden,onVisible:this.onVisible})}},{key:"componentWillUnmount",value:function(){var e;this.clock.stop(),null===(e=this.visibilityChangeRemover)||void 0===e||e.call(this)}},{key:"render",value:function(){var e=this.props,t=e.showMs,r=e.hSeparator,n=e.mSeparator,o=e.sSeparator,i=e.msSeparator,s=e.className,a=e.style,c=e.subStyle,u=e.colonStyle,l=this.clock.value,p=l.h,f=l.m,m=l.s;return v().createElement("ul",{className:_()(z().time,s),style:a},v().createElement("li",{style:c},p),v().createElement("s",{style:u},r),v().createElement("li",{style:c},f),v().createElement("s",{style:u},n),v().createElement("li",{style:c},m),v().createElement("s",{style:u},o),t&&v().createElement("li",{className:z().ms,style:c},i,this.clock.value.ms))}}]),n}(b.Component),o.defaultProps={className:"",style:{},subStyle:{},hSeparator:":",mSeparator:":",sSeparator:"",msSeparator:".",showMs:!0,colonStyle:{}},n=i))||n)||n},XNH5:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return be}});var n=r("xeO4"),o=r.n(n),i=r("/4JS"),s=r.n(i),a=r("0Qln"),c=r.n(a),u=r("U5BY"),l=r.n(u),p=r("hwDT"),f=r.n(p),m=r("i/Q6"),h=r.n(m),d=r("f6/u"),b=r.n(d),v=r("f17R"),g=r.n(v),y=r("Vl5s"),w=r.n(y),k=r("jXLS"),_=r.n(k),E=(r("XC3m"),r("T6n4")),x=r.n(E),C=r("9bdW"),S=r.n(C),O=r("UK90"),P=r("wfOt"),R=r("nVUW");function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q,j,H,N,T,A,B,$,U,F=function(){var e=o()(x().mark((function e(t,r){var n,o,i=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,r.axios.post("api/zurich/coupon/cross/query",t,D({defaultErrorHandler:function(){}},n));case 3:if((o=e.sent)&&o.full_back_coupon_list){e.next=6;break}throw new R.w8({message:"今日已领跨店满返券列表返回异常",request:t,response:o,url:"/api/zurich/coupon/cross/query"});case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Q=function(){var e=o()(x().mark((function e(t,r){var n,o,i,s=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,r.axios.post("api/zurich/mission/batch_query_mission_progress",t,D({useNativeAntiToken:!0,defaultErrorHandler:function(){}},o));case 3:if((i=e.sent)&&null!==(n=i.activity_progress_volist)&&void 0!==n&&n.length){e.next=6;break}throw new R.w8({message:"请求用户跨店满返进度返回异常",request:t,response:i,url:"/api/zurich/mission/batch_query_mission_progress"});case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),M=r("Rvoc"),W=r("4k0V");function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var L,V,Z,Y,K,X=(q=O.action.bound,j=O.action.bound,H=O.action.bound,N=function(e){b()(i,e);var t,r,n=(t=i,function(){var e,r=w()(t);if(I()){var n=w()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return g()(this,e)});function i(){var e;l()(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).editors={fullBackId:"",jumpUrl:"",useBottom:!0,discount:"1.86rem"},c()(e,"$progress",T,h()(e)),c()(e,"$userHasCoupon",A,h()(e)),c()(e,"$isFirstEnter",B,h()(e)),c()(e,"$userClickClose",$,h()(e)),c()(e,"requestData",U,h()(e)),e.getRemark=function(){return[e.nickName]},e}return f()(i,[{key:"queryUserHasCoupon",value:(r=o()(x().mark((function e(){var t,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F({activity_id:this.editors.fullBackId},this.requestParams);case 3:return r=e.sent,e.abrupt("return",!(null==r||null===(t=r.full_back_coupon_list)||void 0===t||!t.length));case 7:e.prev=7,e.t0=e.catch(0),this.logError(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return r.apply(this,arguments)})},{key:"closeIcon",value:function(){this.$userClickClose=!0}}]),i}(P.Z),T=_()(N.prototype,"$progress",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{progress:0,threshold:0,perSendAmount:0,perThreshold:0,stage:1}}}),A=_()(N.prototype,"$userHasCoupon",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=_()(N.prototype,"$isFirstEnter",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$=_()(N.prototype,"$userClickClose",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=_()(N.prototype,"requestData",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=o()(x().mark((function t(r){var n,o,i;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.rootStore.userHasLogin()){t.next=3;break}return t.abrupt("return");case 3:if(!(0,M.Q$)(e.rootStore)){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,Q({activity_id_list:[e.editors.fullBackId]},e.requestParams);case 7:o=t.sent,i=(null===(n=o.activity_progress_volist)||void 0===n?void 0:n[0])||{},(0,O.runInAction)((function(){e.$progress={progress:(null==i?void 0:i.progress)||0,threshold:(null==i?void 0:i.threshold)||"",perSendAmount:(0,W.priceCent)((null==i?void 0:i.actual_send_amount)||""),perThreshold:(0,W.priceCent)((null==i?void 0:i.actual_threshold)||""),stage:i.stage},e.$isFirstEnter=r})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.logError(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}}),_()(N.prototype,"queryUserHasCoupon",[j],Object.getOwnPropertyDescriptor(N.prototype,"queryUserHasCoupon"),N.prototype),_()(N.prototype,"closeIcon",[H],Object.getOwnPropertyDescriptor(N.prototype,"closeIcon"),N.prototype),N),G=r("iOT4"),J=r("KdYu"),ee=r("iuwq"),te=r("CLTR"),re=r("ukrc"),ne=r.n(re),oe=r("bdxJ"),ie=r.n(oe),se=r("2tVT"),ae=r("BFRN"),ce=r("zWf8"),ue=r("L8Fz"),le=r("QAzG"),pe=r("Z6Bh"),fe=r("9Q3p");function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function de(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var be=ne()(ie())(L=(0,J.inject)("store")(L=(0,J.observer)((K=Y=function(e){b()(n,e);var t,r=(t=n,function(){var e,r=w()(t);if(de()){var n=w()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return g()(this,e)});function n(){var e;l()(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=r.call.apply(r,[this].concat(o))).disposeReturn=void 0,c()(e,"clickHander",Z,h()(e)),e}return f()(n,[{key:"componentDidMount",value:function(){var e=this;G.ZP.isNativePlatform&&(this.disposeReturn=(0,te.Q)((function(){return e.refreshStatus()})))}},{key:"componentWillUnmount",value:function(){var e;null===(e=this.disposeReturn)||void 0===e||e.call(this)}},{key:"refreshStatus",value:function(){var e;null!==(e=this.store.$progress)&&void 0!==e&&e.perSendAmount&&!this.store.$userClickClose&&this.store.requestData(!1)}},{key:"render",value:function(){var e=this,t=this.store,r=t.$progress,n=r.progress,o=r.threshold,i=r.perSendAmount,s=r.perThreshold,a=r.stage,c=t.editors,u=c.useBottom,l=c.discount,p=t.$isFirstEnter,f=!t.$userClickClose&&o&&i&&a&&n<=o||this.rootStore.isEditor;return S().createElement("div",{id:this.componentId,style:this.style},S().createElement(pe.Z,{onEnter:function(){return e.store.requestData(!0)},threshold:1,once:!0},S().createElement("div",{style:{height:1}})),f&&S().createElement(S().Fragment,null,S().createElement("div",{className:ie().wrapper,style:he({position:"fixed",left:0},u?{bottom:l}:{top:l})},p&&S().createElement("div",{className:ie().float},S().createElement("div",{className:ie().fullbackTxt,style:{fontSize:"".concat(o).length>3?".16rem":".19rem"}},"每满",s,"返",i),S().createElement("div",{className:ie().bottomArea},S().createElement("div",{className:ie().progressBarWrapper},S().createElement("div",{className:ie().progressBar,style:{width:"".concat(+n/+o*100,"%")}})),S().createElement("div",{className:ie().progressNum},n,"/",o)))||null,S().createElement(se.ZP,{resizeWidth:240,className:ie().iconWrapper,onClick:this.clickHander,backgroundImage:"https://promotion.pddpic.com/promo/021d43fb-afed-4683-9e88-7cbfd82c4375.png.slim.png"},S().createElement("div",{className:ie().sendAmount},+i*a,S().createElement("span",null,"元",S().createElement(fe.Z,{className:ie().arrow,color:"#fff"}))),S().createElement(le.Z,{className:ie().countDown,showMs:!1,start:this.rootStore.serverTime,end:(0,M.t1)(),onEnd:this.refreshStatus}),S().createElement("div",{className:ie().fixedTxt},"进度失效")),S().createElement(ae.Z,{src:"https://promotion.pddpic.com/promo/e36be722-0af8-41ab-b914-fc955d135afd.png.slim.png",className:ie().close,resizeWidth:40,onClick:function(){return e.store.closeIcon()}})))||null)}}]),n}(ee.Z),Y.Store=X,V=K,Z=_()(V.prototype,"clickHander",[ce.U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return o()(x().mark((function t(){var r,n,o,i,s;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,n=r.$progress,o=n.perThreshold,i=n.perSendAmount,s=r.editors.jumpUrl,t.next=3,e.store.queryUserHasCoupon();case 3:t.sent?e.trackForward(s,e.store.getLog(0)):(0,ue.html)("<div style={{ fontSize: '.19rem', color: '#fff' }}>今日买满".concat(o,"元<br/>即可领取").concat(i,"元无门槛券</div>"));case 5:case"end":return t.stop()}}),t)})))}}),L=V))||L)||L)||L},"3CTc":function(e,t,r){var n=r("4VQ6"),o=r("DDs0"),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},bdxJ:function(e,t,r){var n=r("6miL"),o=r("DDs0"),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},"4VQ6":function(e,t,r){(t=e.exports=r("Cgg2")(!1)).push([e.id,"._2SNHhE5s{display:inline-block;font-size:.14rem}._2SNHhE5s>li{display:inline-block;min-width:.18rem;text-align:center}._2SNHhE5s>li._3x8eyH10{min-width:.12rem;text-align:left;font-size:.1rem}._2SNHhE5s>s{text-decoration:none}",""]),t.locals={time:"_2SNHhE5s",ms:"_3x8eyH10"}},"6miL":function(e,t,r){(t=e.exports=r("Cgg2")(!1)).push([e.id,"._1lCwPpK1{z-index:49}._1lCwPpK1,.KBb_LFWq{width:.6rem;height:.6rem}.KBb_LFWq{position:relative;background-repeat:no-repeat;background-size:100% 100%}._1zRQAneM{width:.6rem;height:.25rem;line-height:.25rem;font-size:.23rem;text-align:center;color:#fff}._1zRQAneM span{font-size:.15rem}._1z4qSyJ-{width:.6rem;color:#e02e24;font-size:.12rem!important;font-weight:700;padding-left:.04rem}._1z4qSyJ->s{margin:0 -.02rem}._1YbRfGmM{width:.6rem;height:.14rem;line-height:.14rem;font-size:.12rem;color:#e73d20;font-weight:700;text-align:center}._13CAxQzi{position:absolute;top:-.05rem;right:-.05rem;width:.14rem;height:.14rem;border-radius:50%;background-repeat:no-repeat;background-size:100% 100%}._3YHwEDlf{position:absolute;left:.56rem;top:0;padding:0 .06rem 0 .1rem;height:.6rem;background:#000;opacity:.8;border-radius:.04rem;-webkit-transition:all 1s ease 4s;transition:all 1s ease 4s;-webkit-animation:_1C22vP8u 1s 4s ease forwards;animation:_1C22vP8u 1s 4s ease forwards}@-webkit-keyframes _1C22vP8u{0%{opacity:.8}to{opacity:0;-webkit-transform:translateX(-2rem);transform:translateX(-2rem)}}@keyframes _1C22vP8u{0%{opacity:.8}to{opacity:0;-webkit-transform:translateX(-2rem);transform:translateX(-2rem)}}._3kSR8LRR{width:1.22rem;font-size:.19rem;color:#fff;font-weight:700;margin-top:.095rem;text-align:center}._3ig11lPH{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:1.22rem;height:.14rem}._1bFUY5BT{position:relative;width:.67rem;background:#fff}._1bFUY5BT,._3e-tMggq{height:.06rem;border-radius:.03rem}._3e-tMggq{position:absolute;left:0;top:0;background:#e83d20}.TG_hHa8V{height:.14rem;line-height:.14rem;font-size:.12rem;color:#fff;font-weight:700;margin-left:.05rem}._2TFQPDrE{position:relative;top:-.04rem;left:.02rem}",""]),t.locals={wrapper:"_1lCwPpK1",iconWrapper:"KBb_LFWq",sendAmount:"_1zRQAneM",countDown:"_1z4qSyJ-",fixedTxt:"_1YbRfGmM",close:"_13CAxQzi",float:"_3YHwEDlf",fadeOut:"_1C22vP8u",fullbackTxt:"_3kSR8LRR",bottomArea:"_3ig11lPH",progressBarWrapper:"_1bFUY5BT",progressBar:"_3e-tMggq",progressNum:"TG_hHa8V",arrow:"_2TFQPDrE"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcFullBackIcon-1440c4a9d083d091e8be.js.map