(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["da6e"],{"5Z79":function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n("/4JS"),o=n.n(r),a=function(e,t){var n,r=e.replace(/^\S/,(function(e){return e.toUpperCase()}));return n={},o()(n,e,t),o()(n,"Moz".concat(r),t),o()(n,"Webkit".concat(r),t),o()(n,"O".concat(r),t),n}},b1BB:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ke}});var r,o,a,i,c,s,u,l,f=n("/4JS"),m=n.n(f),p=n("U5BY"),d=n.n(p),b=n("hwDT"),g=n.n(b),v=n("f6/u"),y=n.n(v),h=n("f17R"),k=n.n(h),w=n("Vl5s"),_=n.n(w),x=n("9bdW"),C=n.n(x),E=n("KdYu"),O=n("iuwq"),P=n("ukrc"),D=n.n(P),M=n("pQHD"),R=n.n(M),N=n("5Z79"),T=n("lrCg"),S=n.n(T),j=n("xeO4"),q=n.n(j),z=n("T6n4"),K=n.n(z),Z=n("4Ox8"),A=n("CLTR"),B=n("4vPy"),V=n("9vur"),Q=[],F=function(e){var t=e.children,n=e.onPause,r=e.onPlay,o=e.onEnded,a=e.onCanPlayThrough,i=e.src,c=(0,x.useRef)(null),s=(0,x.useRef)(!1),u=(0,x.useRef)({play:function(){c.current&&(Q.forEach((function(e){e!==c&&(e.current.pause(),e.current.currentTime=0)})),c.current.play())},load:function(){c.current&&(s.current||(s.current=!0,c.current.load()))},pause:function(){c.current&&c.current.pause()}});return(0,x.useEffect)((function(){var e=function(){u.current.load()};return document.addEventListener("touchstart",e),function(){document.removeEventListener("touchstart",e)}}),[]),(0,x.useEffect)((function(){return Q.push(c),function(){Q.splice(Q.indexOf(c),1)}}),[]),C().createElement(C().Fragment,null,C().createElement("audio",{ref:c,src:i,onPause:function(){n()},onPlay:function(){r()},onEnded:function(){o()},onCanPlayThrough:function(){a(u.current)}}),t(u.current))},H=function(e){var t=e.children,n=e.onPause,r=e.onPlay,o=e.onEnded,a=e.onCanPlayThrough,i=e.src,c=(0,x.useRef)((0,Z.ay)()),s={play:function(){return q()(K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.ID)("preLoad",{audio_url:i,audio_id:c.current});case 3:return e.next=5,(0,V._)(500);case 5:return e.next=7,(0,A.ID)("play",{audio_url:i,audio_id:c.current,complete:function(){o()}});case 7:r(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))()},load:function(){return q()(K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(s);case 1:case"end":return e.stop()}}),e)})))()},pause:function(){return q()(K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.ID)("stop");case 3:n(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))()}};return t(s)},I=function(e){var t=e.platform;return t.isNativePlatform&&t.system===B.SYSTEM.Android&&(0,B.compareVersion)(t.version,"4.70.0")>0?C().createElement(H,e):C().createElement(F,e)},J=n("MV8a"),X=n("BqXm"),L=n("BFRN"),U=n("2tVT"),Y=n("u2c9"),W=n.n(Y),G=n("ZiUo"),$=n.n(G),ee=D()($())((function(e){var t=e.start,n=void 0!==t&&t;return C().createElement(U.ZP,{backgroundImage:"//promotion.pddpic.com/promo/2019-12-20/2020-10-12/3e17ac10-64bb-4616-95ff-0fb532c0f999.png.slim.png",className:W()($().voice,n?$().start:$().notStart)})})),te=n("x3St"),ne=n.n(te),re=D()(ne())((function(){return C().createElement(L.Z,{src:"//promotion.pddpic.com/promo/2019-12-20/2020-10-12/ac55e304-9156-4050-a112-15bace90842b.png.slim.png",lazy:!1,className:ne().loading})})),oe=n("AIhP"),ae=n.n(oe),ie=n("sdwB"),ce=n.n(ie),se=n("oAXE"),ue=n.n(se),le=["className"],fe=D()(ue())((function(e){var t=e.className,n=ce()(e,le);return C().createElement(L.Z,ae()({},n,{className:W()(ue().finger,ue().moveAnimation,t),src:"https://promotion.pddpic.com/promo/2020-11-09/e429ac17-dc2d-41a4-bb54-7f52e77afdea.png.slim.png"}))})),me=n("dvz+"),pe=n.n(me),de=0,be=1,ge=2,ve=3,ye=4,he=D()(pe())((0,E.observer)((function(e){var t=e.enableFinger,n=e.avatar,a=e.bgColor,i=e.audio,c=i.url,s=i.duration,u=e.log,l=e.playKvVideo,f=e.platform,m=(0,x.useState)(!0),p=S()(m,2),d=p[0],b=p[1],g=(0,x.useState)(!1),v=S()(g,2),y=v[0],h=v[1],k=(0,x.useState)(de),w=S()(k,2),_=w[0],E=w[1],O=(0,x.useRef)(!1);return C().createElement(I,{platform:f,onPause:function(){E(ve)},onPlay:function(){E(ge)},onEnded:function(){E(ye),l()},onCanPlayThrough:function(e){var t=e.play;y||(O.current?(E(be),t()):E(de),h(!0))},src:c},(function(e){var i=e.play,c=e.load,f=e.pause;return C().createElement(J.Z,{trackingInfo:u},C().createElement("div",{className:pe().audio},!!n&&C().createElement(L.Z,{className:pe().avatar,src:n}),C().createElement("div",{className:pe().container,style:{backgroundColor:a},onClick:function(){return function(e){var t=e.play,n=e.load,r=e.pause;if(b(!1),O.current=!0,y)_===ge?(r(),l()):(E(be),t());else{if(_===be)return;n(),E(be)}(0,X.iH)(null,u)}({play:i,load:c,pause:f})}},C().createElement("span",{className:pe().before,style:{borderRightColor:a}}),!!d&&C().createElement("span",{className:pe().unread}),_===be?r||(r=C().createElement(re,null)):C().createElement(C().Fragment,null,C().createElement(ee,{key:_,start:_===ge}),!!s&&C().createElement("span",{className:pe().seconds},Math.ceil(s),"‚Äù"))),!(!t||!d)&&C().createElement("div",{className:pe().finger},o||(o=C().createElement(fe,null)))))}))}))),ke=n("0Qln"),we=n.n(ke),_e=n("i/Q6"),xe=n.n(_e),Ce=n("jXLS"),Ee=n.n(Ce),Oe=(n("XC3m"),n("UK90"));function Pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var De,Me,Re,Ne=(a=function(e){y()(r,e);var t,n=(t=r,function(){var e,n=_()(t);if(Pe()){var r=_()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return k()(this,e)});function r(){var e;d()(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),we()(e,"bgColor",i,xe()(e)),we()(e,"scale",c,xe()(e)),we()(e,"audio",s,xe()(e)),we()(e,"avatar",u,xe()(e)),we()(e,"enableFinger",l,xe()(e)),e.getRemark=function(){return[e.nickName]},e}return g()(r)}(n("wfOt").Z),i=Ee()(a.prototype,"bgColor",[Oe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=Ee()(a.prototype,"scale",[Oe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),s=Ee()(a.prototype,"audio",[Oe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=Ee()(a.prototype,"avatar",[Oe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=Ee()(a.prototype,"enableFinger",[Oe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a),Te=n("9OBN"),Se=n.n(Te);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ke=D()(Se())(De=(0,E.inject)("store")(De=(0,E.observer)((Re=Me=function(e){y()(r,e);var t,n=(t=r,function(){var e,n=_()(t);if(ze()){var r=_()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return k()(this,e)});function r(){var e;d()(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).playKvVideo=R()((function(){var t,n,r,o;null===(t=e.rootStore.getComponentByKeyReg(/(Dc)?KvImage/))||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.store)||void 0===r||null===(o=r.playVideo)||void 0===o||o.call(r)}),500),e}return g()(r,[{key:"transform",get:function(){return(0,N.T)("transform","scale(".concat(this.store.scale/100,")"))}},{key:"render",value:function(){var e=this.store,t=e.bgColor,n=e.audio,r=e.UIStore,o=e.avatar,a=e.enableFinger,i=this.props,c=i.style,s=void 0===c?{}:c,u=i.useReativeContainer,l=void 0===u||u;if(!n)return null;var f={enableFinger:a,avatar:o,bgColor:t,audio:n,log:this.store.getLog(0),playKvVideo:this.playKvVideo,platform:this.rootStore.requestContext.platform},m=C().createElement("div",{className:Se().content,style:qe(qe(qe(qe({},r.style),s),this.transform),{},{position:"absolute",left:0,top:0}),onClick:function(e){e.stopPropagation()}},C().createElement(he,f));return l?C().createElement("div",{className:Se().container},m):m}}]),r}(O.Z),Me.Store=Ne,De=Re))||De)||De)||De},"dvz+":function(e,t,n){var r=n("z5Qj"),o=n("DDs0"),a="string"==typeof r?[[e.id,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return a},t._getCss=function(){return""+r},t._insertCss=function(e){return o(a,e)}},oAXE:function(e,t,n){var r=n("2mna"),o=n("DDs0"),a="string"==typeof r?[[e.id,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return a},t._getCss=function(){return""+r},t._insertCss=function(e){return o(a,e)}},x3St:function(e,t,n){var r=n("Mv3k"),o=n("DDs0"),a="string"==typeof r?[[e.id,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return a},t._getCss=function(){return""+r},t._insertCss=function(e){return o(a,e)}},ZiUo:function(e,t,n){var r=n("ERSv"),o=n("DDs0"),a="string"==typeof r?[[e.id,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return a},t._getCss=function(){return""+r},t._insertCss=function(e){return o(a,e)}},"9OBN":function(e,t,n){var r=n("yNrr"),o=n("DDs0"),a="string"==typeof r?[[e.id,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return a},t._getCss=function(){return""+r},t._insertCss=function(e){return o(a,e)}},z5Qj:function(e,t,n){(t=e.exports=n("Cgg2")(!1)).push([e.id,"._3aD1-v5K{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start;-webkit-box-align:start;align-items:flex-start;-webkit-align-items:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;position:relative;width:-webkit-max-content;width:max-content}._19E4gHKc{width:.22rem;height:.22rem;margin-right:.08rem}._2aTOMH9d,._19E4gHKc{-webkit-flex-shrink:0;flex-shrink:0}._2aTOMH9d{position:absolute;right:-.1rem;bottom:-.06rem}._3ZEk4H4L{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;-webkit-flex-shrink:0;flex-shrink:0;margin-top:.01rem;position:relative;width:.84rem;height:.18rem;background:#ffe4af;border-radius:.04rem;cursor:pointer}._3OQCEMyB{position:absolute;left:-.11rem;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);border-style:solid;border-color:transparent;border-width:.04rem .06rem}._1CP-9EBe{font-size:.11rem;font-weight:700;color:red}._1OqfXCxJ{position:absolute;top:-.03rem;right:-.03rem;width:.07rem;height:.07rem;border:.01rem solid #fff;border-radius:50%;background-color:red}",""]),t.locals={audio:"_3aD1-v5K",avatar:"_19E4gHKc",finger:"_2aTOMH9d",container:"_3ZEk4H4L",before:"_3OQCEMyB",seconds:"_1CP-9EBe",unread:"_1OqfXCxJ"}},"2mna":function(e,t,n){(t=e.exports=n("Cgg2")(!1)).push([e.id,"._1dFT-iyk{width:.2rem;height:.2rem}._3CtxDoNR{-webkit-animation:_1_qn166A 1s infinite;animation:_1_qn166A 1s infinite}@-webkit-keyframes _1_qn166A{0%{-webkit-transform:translate(0);transform:translate(0)}50%{-webkit-transform:translate(.05rem,.05rem);transform:translate(.05rem,.05rem)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes _1_qn166A{0%{-webkit-transform:translate(0);transform:translate(0)}50%{-webkit-transform:translate(.05rem,.05rem);transform:translate(.05rem,.05rem)}to{-webkit-transform:translate(0);transform:translate(0)}}",""]),t.locals={finger:"_1dFT-iyk",moveAnimation:"_3CtxDoNR",move:"_1_qn166A"}},Mv3k:function(e,t,n){(t=e.exports=n("Cgg2")(!1)).push([e.id,"._2jucXQap{width:.12rem;height:.12rem;-webkit-animation:_1pMae5OM 1s linear infinite;animation:_1pMae5OM 1s linear infinite;-webkit-transform-origin:center;transform-origin:center;margin-left:.05rem}@-webkit-keyframes _1pMae5OM{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes _1pMae5OM{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""]),t.locals={loading:"_2jucXQap",play:"_1pMae5OM"}},ERSv:function(e,t,n){(t=e.exports=n("Cgg2")(!1)).push([e.id,"._3utKsiEq{background:100%/400% 100% no-repeat;width:.12rem;height:.12rem;margin:0 .04rem}._2dbngloq{-webkit-animation:_2J-3MTu1 .7s steps(3) infinite;animation:_2J-3MTu1 .7s steps(3) infinite}._2swZNugW{background-position:100%}@-webkit-keyframes _2J-3MTu1{0%{background-position:0}to{background-position:100%}}@keyframes _2J-3MTu1{0%{background-position:0}to{background-position:100%}}",""]),t.locals={voice:"_3utKsiEq",start:"_2dbngloq",play:"_2J-3MTu1",notStart:"_2swZNugW"}},yNrr:function(e,t,n){(t=e.exports=n("Cgg2")(!1)).push([e.id,".vqI_eTVP{position:relative;left:0;top:0;width:0;height:0;z-index:52}._3VoqcpQ9{-webkit-transform-origin:center;transform-origin:center}",""]),t.locals={container:"vqI_eTVP",content:"_3VoqcpQ9"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcAudio-2265b68affddedfe0e63.js.map