(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["e739"],{"h/xE":function(e,t,r){"use strict";r.d(t,{j:function(){return l}});var n=r("/4JS"),o=r.n(n),i=r("huFl"),a=r("/18x");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=Promise.race([new Promise((function(t){(0,a.sendClickMetrics)(e),t()})),new Promise((function(e){setTimeout(e,500)}))]);r.then(t)}function p(e,t,r){var n=r.value;return r.value=function(){var e=arguments,t=this,r=arguments[arguments.length-1];if(r&&r.type&&(location.pathname.includes("editor")||r.stopPropagation(),r.preventDefault()),arguments[0].trackingInfo){var o=arguments[0].trackingInfo||{};u(s({op:"click"},o),(function(){n.apply(t,e)}))}else n.apply(this,arguments)},r}function l(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.GW)(p,t)}},r46I:function(e,t,r){"use strict";r.d(t,{wD:function(){return i},sB:function(){return a},Cg:function(){return c}});var n="//promotion.pddpic.com",o="".concat(n,"/promo"),i=function(e){return"".concat(n).concat(e)},a=function(e){return"".concat(o).concat(e,".png")},c=function(e){return"".concat(o).concat(e,".png.slim.png")}},q4Pd:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ut}});var n,o=r("/4JS"),i=r.n(o),a=r("xeO4"),c=r.n(a),s=r("U5BY"),u=r.n(s),p=r("hwDT"),l=r.n(p),f=r("f6/u"),m=r.n(f),b=r("f17R"),d=r.n(b),h=r("Vl5s"),y=r.n(h),g=r("jXLS"),v=r.n(g),O=r("T6n4"),w=r.n(O),k=r("9bdW"),S=r.n(k),E=r("KdYu"),x=r("iuwq"),C=r("MV8a"),D=r("lrCg"),_=r.n(D),P=r("0Qln"),I=r.n(P),T=r("i/Q6"),j=r.n(T),N=(r("XC3m"),r("UK90")),R=r("D+Sb"),A=r("IZoM"),H=r("r46I"),z=r("G2FM");function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=function(e){return 60*e*1e3},L=function(e){return e*B(60)},Z=B(5),q=B(15),G=L(1),W=L(2),$=L(4),J=(0,H.wD)("/promo/155e9edc-1333-4f60-b242-3887575bab42.png.slim.png"),V=(0,R.u)([{text:"限时限量抢组件",name:"AREA",value:0},{text:"顶部Banner",name:"TOP_BANNER",value:1},{text:"预约按钮(提醒我)",name:"NEED_REMIND",value:2},{text:"预约按钮(已提醒)",name:"HAS_REMIND",value:3},{text:"预约按钮(即将开抢)",name:"SOON_SNATCH",value:4},{text:"预约按钮(抢)",name:"CAN_SNATCH",value:5},{text:"商品",name:"GOODS",value:6}]),Y=(0,R.u)([{text:"跳转商详",name:"GOODS_DETAIL",value:1},{text:"跳转落地页",name:"VENUE_PAGE",value:2}]),F=(0,R.u)([{text:"提醒我",name:"NEED_REMIND",value:"needRemind"},{text:"已提醒",name:"HAS_REMIND",value:"hasRemind"},{text:"即将开抢",name:"SOON_SNATCH",value:"soonSnatch"},{text:"抢",name:"CAN_SNATCH",value:"canSnatch"}]),Q=(n={},i()(n,F.NEED_REMIND,{trackInfo:V.NEED_REMIND}),i()(n,F.HAS_REMIND,{trackInfo:V.HAS_REMIND}),i()(n,F.SOON_SNATCH,{trackInfo:V.SOON_SNATCH}),i()(n,F.CAN_SNATCH,{trackInfo:V.CAN_SNATCH}),n),X=(0,R.u)([{text:"达芬奇模板",name:"DESIGN_TEMPLATE",value:1}]),K=M(M({},"number"==typeof z.YO.TRIPLE_COL?i()({},z.YO.TRIPLE_COL,{Item:A.Z,col:3,className:"tripleClass"}):{}),"number"==typeof z.YO.QUADRUPLE_COL?i()({},z.YO.QUADRUPLE_COL,{Item:A.Z,col:4,className:"quadrupleClass"}):{}),ee=r("Skb2");function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne,oe,ie,ae,ce,se,ue,pe,le,fe,me,be,de,he,ye,ge,ve,Oe,we,ke,Se=function(){var e=c()(w().mark((function e(t,r){var n,o,i=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,r.axios.post("api/massage/subscribe/query",t,re({defaultErrorHandler:function(){}},n));case 3:if((o=e.sent)&&null!=o&&o.result){e.next=6;break}throw new Error("查询App Push是否预约接口返回错误！");case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ee=function(){var e=c()(w().mark((function e(t,r){var n,o,i=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,r.axios.post("api/massage/subscribe/add",t,re({defaultErrorHandler:function(){}},n));case 3:if((o=e.sent)&&null!=o&&o.success){e.next=6;break}throw new Error("App Push预约接口返回异常！");case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),xe=function(){var e=c()(w().mark((function e(t,r){var n,o,i=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,r.axios.post("api/massage/subscribe/remove",t,re({defaultErrorHandler:function(){}},n));case 3:if((o=e.sent)&&null!=o&&o.success){e.next=6;break}throw new Error("App Push取消预约接口返回异常！");case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ce=r("nC4b"),De=r("2ZWC"),_e=r("hQaO"),Pe=r("V5cf"),Ie=r("h/xE"),Te=r("zWf8"),je=r("s0Le"),Ne=r("4k0V"),Re=r("l00R"),Ae=r("V56i");function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ue(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Me,Be,Le,Ze,qe,Ge,We,$e=(ne=N.action.bound,oe=N.action.bound,ie=N.action.bound,ae=N.action.bound,ce=function(e){m()(f,e);var t,r,n,o,a,s,p=(t=f,function(){var e,r=y()(t);if(Ue()){var n=y()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return d()(this,e)});function f(){var e;u()(this,f);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=p.call.apply(p,[this].concat(r)),I()(e,"subjectId",se,j()(e)),I()(e,"styleType",ue,j()(e)),I()(e,"jumpType",pe,j()(e)),I()(e,"venueUrl",le,j()(e)),I()(e,"clockConfig",fe,j()(e)),I()(e,"useRemind",me,j()(e)),I()(e,"btnUIConfig",be,j()(e)),I()(e,"btnJumpUrl",de,j()(e)),I()(e,"snatchStatus",he,j()(e)),I()(e,"topBannerStore",ye,j()(e)),I()(e,"gradualTopColor",ge,j()(e)),I()(e,"gradualBottomColor",ve,j()(e)),I()(e,"useCountDownTxt",Oe,j()(e)),I()(e,"$list",we,j()(e)),I()(e,"$tipsTxt",ke,j()(e)),e.templateStore=(0,je.$)(j()(e)),e.getRemark=function(){return V.items().map((function(e){return e.text}))},e}return l()(f,[{key:"styleConfig",get:function(){return function(e){var t;return i()({},X.DESIGN_TEMPLATE,M({img:"https://promotion.pddpic.com/promo/fae2076a-9fff-446d-b03c-395e454323fb.png.slim.png",col:3,className:"",Item:A.Z,isTemplate:!0},null!==(t=e.templateStore)&&void 0!==t&&t.layout?K[e.templateStore.layout]:{}))}(this)[this.styleType]}},{key:"isJumpGoods",get:function(){return this.jumpType===Y.GOODS_DETAIL}},{key:"snatchStatusConfig",get:function(){return Q[this.snatchStatus]}},{key:"showCmpt",get:function(){var e;return this.$list.length>=(null===(e=this.styleConfig)||void 0===e?void 0:e.col)}},{key:"request",value:(s=c()(w().mark((function e(t){var r,n,o,i,a=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([(0,ee.OF)({page_size:this.styleConfig.col,page_no:1,promotion_id:this.subjectId,group:Pe.Pq.LIMIT_QUANTITY_GOODS_GROUP,list_id:t.listId,min_display_num:this.styleConfig.col,extra_param:{future_time:Math.ceil(this.clockConfig[0]/1e3)}},t),this.refreshStatus(!0)]);case 3:r=e.sent,n=_()(r,1),o=n[0],i=o.goods_list||[],(0,N.runInAction)((function(){a.$list=a.dataFormat(i)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.logError(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e){return s.apply(this,arguments)})},{key:"dataFormat",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=Date.now(),n=_()(this.clockConfig,1),o=n[0],i=r<o;return t.map((function(t){var r=+(0,Ne.priceCent)(t.future_activity_price||t.group_price),n=+(0,Ne.priceCent)(t.origin_price),o=(0,Re.Tp)(n-r,2),a=r>0&&n>0&&o>0,c=e.getRestStockTxt(t,i);return ze(ze({},new Ce.ZP(t,{imgType:e.imgType})),{},{groupPrice:r,originPrice:n,normalPrice:(0,Ne.priceCent)(t.normal_price),restStockTxt:c?"仅剩".concat(c,"件"):"火爆抢购中",limitCutPrice:a?o:"心动直降",restStockRecoverAmount:c&&n>0?"再拼".concat(c,"件后恢复").concat(n,"元"):"火爆抢购中",linkUrl:e.isJumpGoods?t.link_url:(0,Ae.Vi)(e.venueUrl,{top_goods:t.goods_id})})}))}},{key:"getRestStockTxt",value:function(e,t){return t?e.future_activity_quantity:e.activity_quantity}},{key:"orderRemind",value:(a=c()(w().mark((function e(t){var r,n,o,i,a=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.trackingInfo,r=_()(this.clockConfig,2),n=r[0],o=r[1],e.prev=2,e.next=5,Ee({channel:18,type:0,targetId:n,endTime:o},this.requestParams);case 5:i=e.sent,(0,N.runInAction)((function(){null!=i&&i.result&&(a.snatchStatus=F.HAS_REMIND)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.logError(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return a.apply(this,arguments)})},{key:"cancelOrderRemind",value:(o=c()(w().mark((function e(t){var r,n,o,i=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.trackingInfo,r=_()(this.clockConfig,1),n=r[0],e.prev=2,e.next=5,xe({channel:18,type:0,targetId:n},this.requestParams);case 5:o=e.sent,(0,N.runInAction)((function(){null!=o&&o.result&&(i.snatchStatus=F.NEED_REMIND)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.logError(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return o.apply(this,arguments)})},{key:"queryHasOrderRemind",value:(n=c()(w().mark((function e(){var t,r,n,o,i=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_()(this.clockConfig,2),r=t[0],n=t[1],e.prev=1,e.next=4,Se({channel:18,type:0,targetIds:[r],endTime:n},this.requestParams);case 4:o=e.sent,(0,N.runInAction)((function(){null!=o&&o.result.includes(r)?i.snatchStatus=F.HAS_REMIND:i.snatchStatus=F.NEED_REMIND})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.logError(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return n.apply(this,arguments)})},{key:"refreshStatus",value:(r=c()(w().mark((function e(t){var r,n,o,i,a,c;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.clockConfig,this.useRemind&&this.rootStore.userHasLogin()){e.next=3;break}return e.abrupt("return");case 3:if(n=Date.now(),o=_()(r,2),i=o[0],a=o[1],!(n<(c=i-Z)&&t)){e.next=11;break}return e.next=9,this.queryHasOrderRemind();case 9:e.next=12;break;case 11:n>=c&&n<i?this.snatchStatus=F.SOON_SNATCH:n>=i&&(this.snatchStatus=F.CAN_SNATCH);case 12:n>=a-$&&n<a-W?this.$tipsTxt="仅4小时":n>=a-W&&n<a-G?this.$tipsTxt="仅剩2小时":n>=a-G&&n<a-q?this.$tipsTxt="仅剩1小时":n>=a-q&&n<a?this.$tipsTxt="仅剩15分钟":"限时限量"!==this.$tipsTxt&&(this.$tipsTxt="限时限量");case 13:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}]),f}(De.ZP),se=v()(ce.prototype,"subjectId",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ue=v()(ce.prototype,"styleType",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.DESIGN_TEMPLATE}}),pe=v()(ce.prototype,"jumpType",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.GOODS_DETAIL}}),le=v()(ce.prototype,"venueUrl",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fe=v()(ce.prototype,"clockConfig",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[0,0]}}),me=v()(ce.prototype,"useRemind",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),be=v()(ce.prototype,"btnUIConfig",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{needRemind:"",hasRemind:"",soonSnatch:"",canSnatch:""}}}),de=v()(ce.prototype,"btnJumpUrl",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),he=v()(ce.prototype,"snatchStatus",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.NEED_REMIND}}),ye=v()(ce.prototype,"topBannerStore",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _e.Z}}),ge=v()(ce.prototype,"gradualTopColor",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"#ff9956"}}),ve=v()(ce.prototype,"gradualBottomColor",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"#ffddaa"}}),Oe=v()(ce.prototype,"useCountDownTxt",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),we=v()(ce.prototype,"$list",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ke=v()(ce.prototype,"$tipsTxt",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"限时限量"}}),v()(ce.prototype,"styleConfig",[N.computed],Object.getOwnPropertyDescriptor(ce.prototype,"styleConfig"),ce.prototype),v()(ce.prototype,"isJumpGoods",[N.computed],Object.getOwnPropertyDescriptor(ce.prototype,"isJumpGoods"),ce.prototype),v()(ce.prototype,"snatchStatusConfig",[N.computed],Object.getOwnPropertyDescriptor(ce.prototype,"snatchStatusConfig"),ce.prototype),v()(ce.prototype,"showCmpt",[N.computed],Object.getOwnPropertyDescriptor(ce.prototype,"showCmpt"),ce.prototype),v()(ce.prototype,"orderRemind",[ne,Ie.j,Te.U],Object.getOwnPropertyDescriptor(ce.prototype,"orderRemind"),ce.prototype),v()(ce.prototype,"cancelOrderRemind",[oe,Ie.j,Te.U],Object.getOwnPropertyDescriptor(ce.prototype,"cancelOrderRemind"),ce.prototype),v()(ce.prototype,"queryHasOrderRemind",[ie],Object.getOwnPropertyDescriptor(ce.prototype,"queryHasOrderRemind"),ce.prototype),v()(ce.prototype,"refreshStatus",[ae],Object.getOwnPropertyDescriptor(ce.prototype,"refreshStatus"),ce.prototype),ce),Je=r("ukrc"),Ve=r.n(Je),Ye=r("IDYw"),Fe=r.n(Ye),Qe=r("WFcP"),Xe=r("VRmg"),Ke=r("azrQ"),et=r("2tVT"),tt=r("u2c9"),rt=r.n(tt),nt=Ve()(Fe())((0,E.observer)((function(e){var t,r=e.store,n=r.styleConfig.col,o=r.templateStore.id;r.templateStore.template||null===(t=r.rootStore.imStore)||void 0===t||t[o];return S().createElement("div",{style:r.UIStore.style},S().createElement("div",{className:Fe().wrapper},function(e){var t=e.topBannerStore;return(null==t?void 0:t.useBanner)&&(null==t?void 0:t.bannerImg)&&S().createElement("div",{className:Fe().bannerWrapper},S().createElement(Qe.Z,{store:e.rootStore,componentStore:t}))||null}(r),S().createElement("div",{className:Fe().contentWrapper,style:{backgroundColor:r.UIStore.innerBgColor}},Array(n).fill("").map((function(e,t){return S().createElement("div",{className:rt()(Fe().itemWrapper,i()({},Fe().tipsTop,r.useCountDownTxt)),key:t},r.useCountDownTxt&&S().createElement(et.ZP,{className:Fe().countDownTips,backgroundImage:J,resizeWidth:200})||null,S().createElement(Ke.x,{count:1,skeleton:r.templateStore.skeleton}))})))))}))),ot=r("pfaS"),it=r("L8Fz"),at=r("4mj9"),ct=r("wJ16");function st(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ut=(Me=Ve()(Fe()),Be=(0,E.inject)("store"),Le=(0,ot.Z)(1e3,{tailing:!1}),Me(Ze=Be(Ze=(0,E.observer)((We=Ge=function(e){m()(a,e);var t,r,n,o=(t=a,function(){var e,r=y()(t);if(st()){var n=y()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return d()(this,e)});function a(){var e;u()(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).timer=void 0,e}return l()(a,[{key:"componentDidMount",value:(n=c()(w().mark((function e(){var t=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.timer=setInterval((function(){t.store.refreshStatus(!1)}),1e3);case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"renderCountDownTips",value:function(){var e=this.store.$tipsTxt;return S().createElement(et.ZP,{className:Fe().countDownTips,backgroundImage:J,resizeWidth:200},e)}},{key:"renderGoods",value:function(){var e=this,t=this.store,r=t.styleConfig,n=r.Item,o=r.col,a=t.$list,c=t.subjectId,s=t.useCountDownTxt;return a.slice(0,o).map((function(t,r){var o=(0,Xe.sl)({index:r,goodsItem:t,componentStore:e.store,pageElSnIndex:V.GOODS,goodsTrackInfo:{sub_subject_id:c}}),a={model:t,componentStore:e.store,trackingInfo:o,onItemClick:function(){return e.trackForward(t.linkUrl,o)}};return S().createElement("div",{className:rt()(Fe().itemWrapper,i()({},Fe().tipsTop,s)),key:r},s&&e.renderCountDownTips()||null,S().createElement(C.Z,{trackingInfo:o,key:r},S().createElement(n,a)))}))}},{key:"statusChange",value:(r=c()(w().mark((function e(t,r){var n,o,i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.store,o=n.snatchStatus,i=n.btnJumpUrl,a=t,r.preventDefault(),r.stopPropagation(),this.rootStore.userHasLogin()){e.next=7;break}return(0,at.login)(),e.abrupt("return");case 7:if(o!==F.NEED_REMIND){e.next=13;break}return e.next=10,this.store.orderRemind({trackingInfo:a});case 10:(0,it.info)("开抢前5分钟将会提醒你哦~"),e.next=20;break;case 13:if(o!==F.HAS_REMIND){e.next=19;break}return e.next=16,this.store.cancelOrderRemind({trackingInfo:a});case 16:(0,it.info)("提醒已取消，你可能会抢不到哦~"),e.next=20;break;case 19:this.trackForward(i,a);case 20:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"renderBanner",value:function(){var e=this.store,t=e.snatchStatusConfig,r=e.btnUIConfig,n=e.snatchStatus,o=e.topBannerStore,i=e.getLog,a=e.useRemind,c=i(t.trackInfo);return(null==o?void 0:o.useBanner)&&(null==o?void 0:o.bannerImg)&&S().createElement("div",{className:Fe().bannerWrapper},S().createElement(Qe.Z,{store:this.rootStore,componentStore:o,trackingInfo:i(V.TOP_BANNER)}),a&&S().createElement(C.Z,{trackingInfo:c},S().createElement(et.ZP,{className:Fe().statusBtn,backgroundImage:(null==r?void 0:r[n])||"",resizeWidth:200,onClick:this.statusChange.bind(this,c)}))||null)||null}},{key:"render",value:function(){var e=this.store,t=e.showCmpt,r=e.gradualTopColor,n=e.gradualBottomColor;return t&&S().createElement("div",{id:this.componentId,style:this.UIStore.style},S().createElement("div",{className:Fe().wrapper},this.renderBanner(),S().createElement("div",{className:Fe().contentWrapper,style:{background:"linear-gradient(to bottom, ".concat(r,", ").concat(n,")")}},S().createElement(ct.k,null,this.renderGoods()))))||null}}]),a}(x.Z),Ge.Store=$e,Ge.SkeletonComponent=nt,qe=We,v()(qe.prototype,"statusChange",[Le],Object.getOwnPropertyDescriptor(qe.prototype,"statusChange"),qe.prototype),Ze=qe))||Ze)||Ze)||Ze)},IZoM:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n,o=r("U5BY"),i=r.n(o),a=r("hwDT"),c=r.n(a),s=r("f6/u"),u=r.n(s),p=r("f17R"),l=r.n(p),f=r("Vl5s"),m=r.n(f),b=r("9bdW"),d=r.n(b),h=r("KdYu"),y=r("xnpn"),g=r("902E");function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var O=(0,h.observer)(n=function(e){u()(n,e);var t,r=(t=n,function(){var e,r=m()(t);if(v()){var n=m()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return l()(this,e)});function n(){return i()(this,n),r.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e,t=this.props,r=t.onItemClick,n=t.index,o=(this.store||{}).templateStore;return d().createElement(y.Z,{eventHandler:{onClick:r},index:n,id:n,data:this.model,json:(null===(e=this.props.templateStore)||void 0===e?void 0:e.template)||o.template})}}]),n}(g.Z))||n},IDYw:function(e,t,r){var n=r("HCqw"),o=r("DDs0"),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},HCqw:function(e,t,r){(t=e.exports=r("Cgg2")(!1)).push([e.id,"._3PonJxRk{width:3.57rem;margin:0 auto}._18YCEgZc{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;justify-content:space-evenly;width:3.57rem;border-bottom-left-radius:.04rem;border-bottom-right-radius:.04rem;overflow:hidden;padding-top:.01rem}._303HiXS0{width:3.57rem;margin:auto;position:relative}.VKwi6Tna{position:absolute;top:50%;right:.1rem;margin-top:-.135rem;width:.765rem;height:.27rem;background-size:100% 100%;background-repeat:no-repeat}._3Td-LCqm{position:relative}._1jbhB9Pz{padding-top:.2rem}._1zBN4VJX{z-index:2;position:absolute;top:.03rem;width:.75rem;height:.27rem;background-size:100% 100%;background-repeat:no-repeat;font-size:.12rem;color:#fff;padding-top:.01rem;text-align:center}",""]),t.locals={wrapper:"_3PonJxRk",contentWrapper:"_18YCEgZc",bannerWrapper:"_303HiXS0",statusBtn:"VKwi6Tna",itemWrapper:"_3Td-LCqm",tipsTop:"_1jbhB9Pz",countDownTips:"_1zBN4VJX"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcLimitSnatch-d54a305d14458fcdaf5b.js.map