(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["4126"],{"RpV/":function(t,e,n){"use strict";n.d(e,{Z:function(){return N}});var r,o,i,c=n("/4JS"),a=n.n(c),s=n("U5BY"),l=n.n(s),u=n("hwDT"),f=n.n(u),p=n("f6/u"),b=n.n(p),m=n("f17R"),h=n.n(m),k=n("Vl5s"),d=n.n(k),y=n("9bdW"),w=n.n(y),g=n("u2c9"),v=n.n(g),x=n("Hp7V"),R=n("TtA4"),B=n("ukrc"),O=n.n(B),C=n("mMmj"),_=n.n(C);function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var A={},D={zIndex:1113},N=O()(_())((i=o=function(t){b()(r,t);var e,n=(e=r,function(){var t,n=d()(e);if(S()){var r=d()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return h()(this,t)});function r(){return l()(this,r),n.apply(this,arguments)}return f()(r,[{key:"getBtns",value:function(){var t=this.props,e=t.clickCancel,n=t.clickConfirm,r=t.btnGroupClass,o=t.cancel,i=t.confirm;return w().createElement("div",{className:v()(_().btns,r)},w().createElement("button",{className:v()(_().btn,_().cancel),onClick:e},o),w().createElement("button",{className:v()(_().btn,_().confirm),onClick:n},i))}},{key:"render",value:function(){var t=this.props,e=t.show,n=t.clickMask,r=t.maskClass,o=t.maskStyle,i=this.props,c=i.children,s=i.cancel,l=i.confirm,u=i.title,f=this.props,p=f.clickCloseBtn,b=f.closeBtn,m=f.closeBtnClass,h=f.closeBtnType,k=this.props,d=k.needAnimation,y=k.contentClass,g=k.contentStyle,B=k.disablePullReload,O=s&&l?D:{},C=P(P({},o),O);return w().createElement(R.Z,{show:e,onClick:n,maskClass:r,style:C,disablePullReload:B},w().createElement("div",{className:v()(_().content,y,a()({},_().jelly,d)),style:g},b&&c&&w().createElement(x.Z,{className:v()(_().close,m),onClick:p,type:h}),!c&&w().createElement("div",{className:_().inner},u),c,s&&l&&this.getBtns()))}}]),r}(w().Component),o.defaultProps={closeBtn:!0,clickCloseBtn:null,closeBtnClass:"",closeBtnType:"gray",contentClass:"",contentStyle:A,needAnimation:!0,btnGroupClass:"",title:"",cancel:"",confirm:"",clickCancel:null,clickConfirm:null,show:!0,clickMask:function(){},maskClass:"",maskStyle:A,disablePullReload:!0},r=i))||r},TDPU:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return tt}});var r,o,i,c,a,s,l=n("U5BY"),u=n.n(l),f=n("hwDT"),p=n.n(f),b=n("f6/u"),m=n.n(b),h=n("f17R"),k=n.n(h),d=n("Vl5s"),y=n.n(d),w=n("9bdW"),g=n.n(w),v=n("KdYu"),x=n("iuwq"),R=n("ukrc"),B=n.n(R),O=n("pK+K"),C=n.n(O),_=n("0Qln"),j=n.n(_),P=n("i/Q6"),S=n.n(P),A=n("jXLS"),D=n.n(A),N=(n("XC3m"),n("wfOt")),E=n("UK90"),Z=(r=E.action.bound,o=E.action.bound,i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};u()(this,t),j()(this,"isShow",c,this),this.getRoot=e}return p()(t,[{key:"store",get:function(){return this.getRoot()}},{key:"rootStore",get:function(){return this.store.rootStore}},{key:"showAction",value:function(){this.isShow=!0}},{key:"hideAction",value:function(){this.isShow=!1}}]),t}(),c=D()(i.prototype,"isShow",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D()(i.prototype,"showAction",[r],Object.getOwnPropertyDescriptor(i.prototype,"showAction"),i.prototype),D()(i.prototype,"hideAction",[o],Object.getOwnPropertyDescriptor(i.prototype,"hideAction"),i.prototype),i),K=(0,n("D+Sb").u)([{name:"MAIN_PIC",value:0,label:"弹窗主图"},{name:"BACK_BTN",value:1,label:"离开按钮"},{name:"GO_BTN",value:2,label:"跳转按钮"}]),T="DcBeforeBackDialog";function U(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function M(t,e,n){var r={value:e,expiry:(new Date).getTime()+n};localStorage.setItem(t,JSON.stringify(r))}function Q(t){var e=localStorage.getItem(t);if(!e)return null;var n=JSON.parse(e);return(new Date).getTime()>n.expiry?(localStorage.removeItem(t),null):n.value}var q,L,I,z=(a=function(t){m()(r,t);var e,n=(e=r,function(){var t,n=y()(e);if(U()){var r=y()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return k()(this,t)});function r(){var t;u()(this,r);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t=n.call.apply(n,[this].concat(o)),j()(t,"$dialog",s,S()(t)),t.editors={mainPic:"",mainUrl:"",btnLeave:"",btnGo:"",jumpUrl:"",popupLevel:1},t.getRemark=function(){return K.items().map((function(t){return t.label}))},t.shouldRetain=function(){return!Q(T+"".concat(t.rootStore.id))},t.retainAction=function(){t.$dialog.showAction(),M(T+"".concat(t.rootStore.id),!0,864e5)},t}return p()(r)}(N.Z),s=D()(a.prototype,"$dialog",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Z}}),a),G=n("MV8a"),V=n("2tVT"),J=n("BFRN"),F=n("RpV/"),W=n("4k0V"),Y=n("BqXm"),$=n("oQqF"),X=n("GDNQ");function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var tt=B()(C())(q=(0,v.observer)((I=L=function(t){m()(r,t);var e,n=(e=r,function(){var t,n=y()(e);if(H()){var r=y()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return k()(this,t)});function r(){var t;u()(this,r);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))).goBack=function(){var e=t.store.getLog(K.BACK_BTN);(0,Y.i)(e),(0,X.B7)()},t.jump=function(){var e,n=t.store,r=n.editors.jumpUrl,o=n.getLog,i=n.$dialog,c=o(K.GO_BTN);if(Number(null===(e=(0,W.parseUrlQuery)(r))||void 0===e?void 0:e.id)===Number(t.rootStore.id))return i.hideAction(),void(0,Y.i)(c);t.trackForward(r,c)},t.clickMain=function(){var e=t.store,n=e.editors.mainUrl,r=(0,e.getLog)(K.MAIN_PIC);(0,Y.i)(r),n&&t.trackForward(n,r)},t}return p()(r,[{key:"render",value:function(){var t=this.store,e=t.editors,n=e.mainPic,r=e.btnLeave,o=e.btnGo,i=e.popupLevel,c=t.$dialog,a=t.$dialog.isShow,s=t.getLog,l=t.shouldRetain,u=t.retainAction,f=s(K.MAIN_PIC);return g().createElement($.ZP,{shouldRetain:l,retainAction:u,popupLevel:i,rootStore:this.rootStore},a?g().createElement(F.Z,{show:a,clickCloseBtn:c.hideAction,contentClass:C().content,closeBtnType:"transparent",closeBtnClass:C().close},g().createElement(G.Z,{trackingInfo:f},g().createElement(J.Z,{className:C().bg,src:n,onClick:this.clickMain})),g().createElement("div",{className:C().btns},g().createElement(V.ZP,{className:C().btn,backgroundImage:r,onClick:this.goBack}),g().createElement(V.ZP,{className:C().btn,backgroundImage:o,onClick:this.jump}))):null)}}]),r}(x.Z),L.Store=z,q=I))||q)||q},oQqF:function(t,e,n){"use strict";n.d(e,{ZP:function(){return E},q3:function(){return D}});var r=n("U5BY"),o=n.n(r),i=n("hwDT"),c=n.n(i),a=n("f6/u"),s=n.n(a),l=n("f17R"),u=n.n(l),f=n("Vl5s"),p=n.n(f),b=n("xeO4"),m=n.n(b),h=n("T6n4"),k=n.n(h),d=n("9bdW"),y=n.n(d),w=n("GDNQ"),g=n("/4JS"),v=n.n(g),x=n("UX2+"),R=n("iOT4");function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){v()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var C=new(function(){function t(){o()(this,t),this.queue=[],this.hasSet=!1}return c()(t,[{key:"goBack",value:function(){w.B7&&(0,w.B7)()}},{key:"resetBackButton",value:function(){var t=this;R.ZP.isNativePlatform&&(0,x.setBackButton)({callback:function(){return t.goBack()}})}},{key:"addBackEventLister",value:function(){var t=this;R.ZP.isNativePlatform&&(0,x.setBackButton)({callback:function(){return t.handleBackBtnClick()}})}},{key:"setEventPriority",value:function(t){var e=this;if(!t||"function"!=typeof t.callback||"function"!=typeof t.shouldRetain)throw new Error("注册事件回调不是函数");var n=O(O({},t),{},{level:t.level||1,isRunNow:void 0===t.isRunNow||t.isRunNow});return n.isRunNow&&n.shouldRetain()?this.pushHandler(n):n.isRunNow||this.pushHandler(n),!this.hasSet&&this.queue.length&&(this.hasSet=!0,this.addBackEventLister()),function(){e.queue=e.queue.filter((function(t){return t.callback!==n.callback}))}}},{key:"pushHandler",value:function(t){this.queue.some((function(e){return e.callback===t.callback}))?console.warn("repeat callback！"):this.queue.push(t)}},{key:"handleBackBtnClick",value:function(){var t=this;try{var e,n=this.queue.sort((function(t,e){return e.level-t.level})).filter((function(t){return t.shouldRetain()}))[0]||{callback:function(){return t.goBack()}};this.resetBackButton(),null===(e=n.callback)||void 0===e||e.call(n)}catch(t){this.goBack()}}}]),t}()),_=n("X3Or"),j=n("nVUW");function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var S=0,A=function(){var t=m()(k().mark((function t(e,n,r,o){var i;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=17;break}return i=!1,t.prev=2,t.next=5,n();case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(2),(0,j.Yf)(t.t0)||o(t.t0),i=!0;case 11:if(!i){t.next=15;break}return t.abrupt("return",!1);case 15:return r(),t.abrupt("return",!0);case 17:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n,r,o){return t.apply(this,arguments)}}(),D=function(){var t=m()(k().mark((function t(e,n){var r,o;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<e.length)){t.next=11;break}return o=e[r],t.next=5,A(o.shouldRetain,o.preRetain,o.retainFunc,n);case 5:if(!t.sent){t.next=8;break}return t.abrupt("return",!0);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),N=function(t){s()(r,t);var e,n=(e=r,function(){var t,n=p()(e);if(P()){var r=p()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return u()(this,t)});function r(t){var e;return o()(this,r),(e=n.call(this,t)).goBack=function(){(0,w.B7)()},e.retainAction=m()(k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.t0=(0,_.Z)(e.props.retainAction),!t.t0){t.next=5;break}return t.next=5,e.props.retainAction();case 5:t.next=10;break;case 7:t.prev=7,t.t1=t.catch(0),e.goBack();case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.componentDidMount=function(){++S>1&&console.warn("页面中挽留弹窗组件不止一个，会优先弹出优先级高的弹窗组件，请注意！"),e.removeEvent=C.setEventPriority({callback:function(){return e.retainAction()},shouldRetain:function(){return e.props.shouldRetain()},level:e.props.popupLevel})},(0,_.Z)(t.retainAction)||console.warn("retainAction 属性不为函数时，无需使用 RetainActionWrapper 组件"),e}return c()(r,[{key:"componentWillUnmount",value:function(){var t;S--,null===(t=this.removeEvent)||void 0===t||t.call(this)}},{key:"render",value:function(){return this.props.children}}]),r}(y().Component);N.defaultProps={shouldRetain:function(){},retainAction:function(){}};var E=N},mMmj:function(t,e,n){var r=n("QyQl"),o=n("DDs0"),i="string"==typeof r?[[t.id,r,""]]:r;(e=t.exports=r.locals||{})._getContent=function(){return i},e._getCss=function(){return""+r},e._insertCss=function(t){return o(i,t)}},"pK+K":function(t,e,n){var r=n("BCft"),o=n("DDs0"),i="string"==typeof r?[[t.id,r,""]]:r;(e=t.exports=r.locals||{})._getContent=function(){return i},e._getCss=function(){return""+r},e._insertCss=function(t){return o(i,t)}},QyQl:function(t,e,n){(e=t.exports=n("Cgg2")(!1)).push([t.id,"@-webkit-keyframes _3RZ391O4{0%{-webkit-transform:scale(0);transform:scale(0)}70%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes _3RZ391O4{0%{-webkit-transform:scale(0);transform:scale(0)}70%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}.zx0ZVpK4{-webkit-animation:_3RZ391O4 .5s ease;animation:_3RZ391O4 .5s ease}@-webkit-keyframes _1MASUxKl{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes _1MASUxKl{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}._1xAguRJJ{position:relative;width:2.9rem;min-height:1rem;background:#fff;border-radius:.06rem;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-flex-direction:column}._1w-4KbrB{position:absolute;top:0;right:0;-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}._3gRko6Dy{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:.1rem 10%;text-align:center;margin:.1rem 0 .05rem;color:#151516}._2Su7joqC,._3gRko6Dy{width:100%;font-size:.17rem}._2Su7joqC{border-top:.01rem solid #e0e0e0;border-radius:0 0 .06rem .06rem;overflow:hidden;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row}._1WfDZ71l{line-height:1.5;display:inline-block;text-align:center;touch-action:manipulation;background-image:none;background-color:#fff;white-space:nowrap;-webkit-user-select:none;user-select:none;position:relative;color:#333;outline:none;padding:0 .12rem;font-size:.18rem;height:.44rem;width:100%;border-radius:0}._3K2omO8e{color:#9c9c9c;border-left:none}._24iNrTjD{color:#e02e24;border:none;border-left:.01rem solid #e0e0e0}",""]),e.locals={jelly:"zx0ZVpK4","ani-jelly":"_3RZ391O4",content:"_1xAguRJJ",close:"_1w-4KbrB",inner:"_3gRko6Dy",btns:"_2Su7joqC",btn:"_1WfDZ71l",cancel:"_3K2omO8e",confirm:"_24iNrTjD","ani-loading":"_1MASUxKl"}},BCft:function(t,e,n){(e=t.exports=n("Cgg2")(!1)).push([t.id,"._1LGMNSji{background-color:transparent!important;width:3.75rem!important}._3KiwOZF-{min-width:2.04rem;height:2.94rem;position:relative}._3PA0iEUk{margin-top:.14rem;width:100%;height:.27rem;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row}.YsAiQmKm{width:1.02rem;height:.27rem;background-size:100% 100%}.YsAiQmKm:first-child{margin-right:.09rem}.AwCJGzRQ{right:.6rem!important;top:-.42rem!important}",""]),e.locals={content:"_1LGMNSji",bg:"_3KiwOZF-",btns:"_3PA0iEUk",btn:"YsAiQmKm",close:"AwCJGzRQ"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcBeforeBackDialog-9b077ce700e7bf263c32.js.map