(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["6c9b"],{Fbik:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Re}});var n,o,i,s,a,c,l,u,f,p=r("xeO4"),m=r.n(p),d=r("/4JS"),g=r.n(d),h=r("0Qln"),b=r.n(h),v=r("U5BY"),w=r.n(v),k=r("hwDT"),y=r.n(k),_=r("i/Q6"),x=r.n(_),E=r("f6/u"),R=r.n(E),D=r("f17R"),C=r.n(D),L=r("Vl5s"),z=r.n(L),I=r("jXLS"),N=r.n(I),U=(r("XC3m"),r("T6n4")),S=r.n(U),B=r("9bdW"),j=r.n(B),T=r("UK90"),V=r("zWf8"),$=r("wfOt");r("L8Fz");function Z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var F,M=(n=function(e){R()(n,e);var t,r=(t=n,function(){var e,r=z()(t);if(Z()){var n=z()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return C()(this,e)});function n(){var e;w()(this,n);for(var t=arguments.length,p=new Array(t),m=0;m<t;m++)p[m]=arguments[m];return e=r.call.apply(r,[this].concat(p)),b()(e,"config",o,x()(e)),b()(e,"useLeft",i,x()(e)),b()(e,"top",s,x()(e)),b()(e,"isExpanded",a,x()(e)),b()(e,"$showComponent",c,x()(e)),b()(e,"$showMask",l,x()(e)),b()(e,"$progressList",u,x()(e)),b()(e,"request",f,x()(e)),e.getRemark=function(){return[e.nickName,"进度条","去拼单"]},e}return y()(n)}($.Z),o=N()(n.prototype,"config",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=N()(n.prototype,"useLeft",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),s=N()(n.prototype,"top",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 188}}),a=N()(n.prototype,"isExpanded",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=N()(n.prototype,"$showComponent",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=N()(n.prototype,"$showMask",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=N()(n.prototype,"$progressList",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=N()(n.prototype,"request",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=m()(S().mark((function t(r){var n,o;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.rootStore.userHasLogin()){t.next=3;break}return t.abrupt("return");case 3:return n=e.config.map((function(e){return e.activityId})),t.next=6,e.requestParams.axios.post("api/zurich/mission/batch_query_mission_progress",{activity_id_list:n},{useNativeAntiToken:!0,defaultErrorHandler:function(){}});case 6:if(o=t.sent,e.$progressList=o.activity_progress_volist,e.$showComponent=!0,e.$showMask=e.isExpanded,e.$progressList.length){t.next=12;break}throw new Error("悬浮进度条组件列表长度为空");case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),e.logError(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}}),n),A=M,G=r("iOT4"),K=r("KdYu"),H=r("iuwq"),J=r("CLTR"),W=r("lrCg"),Y=r.n(W),q=r("ukrc"),P=r.n(q),Q=r("VCAa"),X=r("BFRN"),O=r("2tVT"),ee=r("u2c9"),te=r.n(ee),re=r("MV8a"),ne=r("/ch3"),oe=r.n(ne),ie={right:"https://promotion.pddpic.com/promo/c43bc0ee-8a1a-49ab-aa7a-f5116223eb81.png.slim.png",left:"https://promotion.pddpic.com/promo/19b1aa4a-981e-4901-ae34-18704e1ec6bf.png.slim.png"},se={right:"https://promotion.pddpic.com/promo/a94abbc4-deb8-47e9-a817-e5cf2b9b7c74.png.slim.png",left:"https://promotion.pddpic.com/promo/73c50075-1ec7-4b2f-9ffb-b3c80d17867e.png.slim.png"},ae=P()(oe())((0,K.observer)((function(e){var t,r,n,o,i,s=e.store,a=e.openIcon,c=(0,B.useState)(!1),l=Y()(c,2),u=l[0],f=l[1];(0,B.useEffect)((function(){var e=setTimeout((function(){f(!0)}),1e3);return function(){return clearTimeout(e)}}),[u]);var p=s.getLog,m=s.top,d=s.useLeft,h=s.$progressList,b=d?"left":"right",v=null==h||null===(t=h[0])||void 0===t?void 0:t.title;return j().createElement(re.Z,{trackingInfo:p(1)},j().createElement("div",{className:oe().wrapper,style:(r={},g()(r,b,".04rem"),g()(r,"top",(0,Q.Q1)(m)),r)},j().createElement(O.ZP,{backgroundImage:ie[b],style:(n={},g()(n,b,"0"),g()(n,"top",(0,Q.Q1)(m+36)),n),className:te()(oe().floatBg,g()({},oe().bgIn,u))}),j().createElement(X.Z,{onClick:a,resizeWidth:300,src:"https://promotion.pddpic.com/promo/323a9cfb-91fb-4b69-8eff-20e683b4800a.png.slim.png",className:te()(oe().icon,(o={},g()(o,oe().iconLeft,d),g()(o,oe().iconRight,!d),g()(o,oe().foldRight,u&&!d),g()(o,oe().foldLeft,u&&d),o))}),!!v&&j().createElement(O.ZP,{backgroundImage:se[b],className:te()(oe().bg,(i={},g()(i,oe().hide,u),g()(i,oe().bgRight,!d),g()(i,oe().bgLeft,d),i))},j().createElement("p",{className:oe().title},v))))}))),ce=r("1V/y"),le=r.n(ce),ue=r("yKjV"),fe=r.n(ue),pe=P()(fe())((0,K.observer)((function(e){var t=e.progress,r=e.threshold,n=e.showButton,o="".concat(100*function(e,t){return e>=t?1:e/t}(t,r),"%"),i=t>=r?r:t;return j().createElement("div",{className:fe().progress},j().createElement("div",{className:te()(fe().bar,g()({},fe().longBar,!n))},j().createElement("div",{className:fe().nowBar,style:{width:o}})),j().createElement("div",{className:fe().desp},i,"/",r))}))),me=r("VoVD");function de(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ge,he,be,ve,we,ke,ye=P()(le())(F=(0,K.observer)(F=function(e){R()(n,e);var t,r=(t=n,function(){var e,r=z()(t);if(de()){var n=z()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return C()(this,e)});function n(){var e;w()(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=r.call.apply(r,[this].concat(o))).startY=void 0,e.onTouchStart=function(t){e.startY=t.targetTouches[0].pageY},e.onTouchEnd=function(t){var r=t.changedTouches[0].pageY,n=document.querySelector(".progress-wrapper");null!=n&&n.contains(t.target)||r===e.startY||e.props.closeIcon()},e}return y()(n,[{key:"componentDidMount",value:function(){this.props.store.isExpanded||(window.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchend",this.onTouchEnd))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchend",this.onTouchEnd)}},{key:"render",value:function(){var e=this.props.store,t=e.$progressList,r=e.config,n=e.getLog;return!!t.length&&j().createElement(re.Z,{trackingInfo:n(1)},j().createElement("div",{className:le().wrapper+" progress-wrapper"},j().createElement(X.Z,{className:le().close,src:"https://promotion.pddpic.com/promo/0b9eec87-ea65-4380-b66e-a93a91dc2a66.png.slim.png",onClick:this.props.closeIcon}),t.map((function(e,t){var o,i=!(null===(o=r[t])||void 0===o||!o.url);return j().createElement("div",{className:le().progress,key:t},j().createElement("div",{className:le().left},j().createElement("div",{className:le().title},e.title),j().createElement(pe,{progress:e.progress,threshold:e.threshold,showButton:i})),i&&j().createElement("div",{className:le().button,onClick:function(){return(0,me.Z)(r[t].url,n(2))}},"去拼单"))}))))}}]),n}(j().Component))||F)||F,_e=r("/18x");function xe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ee=(0,K.inject)("store")(ge=(0,K.observer)((ke=we=function(e){R()(n,e);var t,r=(t=n,function(){var e,r=z()(t);if(xe()){var n=z()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return C()(this,e)});function n(){var e;w()(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=r.call.apply(r,[this].concat(o)),b()(e,"openIcon",be,x()(e)),b()(e,"closeIcon",ve,x()(e)),e}return y()(n,[{key:"componentDidMount",value:function(){this.registerBackStateUpdate()}},{key:"componentWillUnmount",value:function(){var e;null===(e=this.disposeReturn)||void 0===e||e.call(this)}},{key:"registerBackStateUpdate",value:function(){var e=this;G.ZP.isNativePlatform&&(this.disposeReturn=(0,J.Q)((function(){return e.store.request()})))}},{key:"render",value:function(){return this.rootStore.isEditor||this.store.$showComponent?j().createElement("div",g()({id:this.componentId,style:this.style},"style",{position:"fixed",top:(0,Q.Q1)(this.store.top),zIndex:101}),j().createElement(ae,{store:this.store,openIcon:this.openIcon}),this.store.$showMask&&j().createElement(ye,{store:this.store,closeIcon:this.closeIcon})):null}}]),n}(H.Z),we.Store=A,he=ke,be=N()(he.prototype,"openIcon",[V.U,T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return m()(S().mark((function t(){return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,_e.sendClickMetrics)(e.store.getLog(1)),!e.store.$showMask){t.next=3;break}return t.abrupt("return");case 3:if(e.store.$progressList.length){t.next=6;break}return t.next=6,e.store.request();case 6:e.store.$showMask=!0;case 7:case"end":return t.stop()}}),t)})))}}),ve=N()(he.prototype,"closeIcon",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.store.$showMask=!1}}}),ge=he))||ge)||ge,Re=Ee},"/ch3":function(e,t,r){var n=r("Fhf0"),o=r("DDs0"),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},yKjV:function(e,t,r){var n=r("sdkw"),o=r("DDs0"),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},"1V/y":function(e,t,r){var n=r("Zwcd"),o=r("DDs0"),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},Fhf0:function(e,t,r){(t=e.exports=r("Cgg2")(!1)).push([e.id,"._1HU41iJr{width:.55rem;height:.55rem;position:fixed;top:0}.UEj0Qofu{width:100%;height:100%;-webkit-transition:all .5s;transition:all .5s}._3gKJptG1{-webkit-transform-origin:100% 72%;transform-origin:100% 72%}._1BPBXrHJ{-webkit-transform-origin:0 72%;transform-origin:0 72%}._25jVMrWe{width:.88rem;height:.48rem;background-size:100% 100%;position:relative;top:-1.07rem;padding:.02rem .03rem}._1jG8BioG{color:#ea1111;text-align:center;font-size:.12rem;line-height:.16rem;height:.32rem;overflow:hidden}._3YJajBaS{left:-.69rem}._1JAMDDAQ{left:.38rem}.I9DRAfdu{visibility:hidden;width:.35rem;height:.64rem;background-size:100% 100%;position:fixed}._3G33kvKk{-webkit-transition:all 1s;transition:all 1s;opacity:0;display:none}._2bagK-ZD{-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:100% 72%;transform-origin:100% 72%}._3vpUf7X3{-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-transform-origin:0 72%;transform-origin:0 72%}._28y6Vgnk{visibility:visible!important;-webkit-animation:_3zoiFHc0 1s;animation:_3zoiFHc0 1s}@-webkit-keyframes _3zoiFHc0{0%,50%{opacity:0}to{opacity:1}}@keyframes _3zoiFHc0{0%,50%{opacity:0}to{opacity:1}}",""]),t.locals={wrapper:"_1HU41iJr",icon:"UEj0Qofu",iconRight:"_3gKJptG1",iconLeft:"_1BPBXrHJ",bg:"_25jVMrWe",title:"_1jG8BioG",bgRight:"_3YJajBaS",bgLeft:"_1JAMDDAQ",floatBg:"I9DRAfdu",hide:"_3G33kvKk",foldRight:"_2bagK-ZD",foldLeft:"_3vpUf7X3",bgIn:"_28y6Vgnk","opa-in":"_3zoiFHc0"}},sdkw:function(e,t,r){(t=e.exports=r("Cgg2")(!1)).push([e.id,"._2qR8VvFc{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:.14rem}._1r_YvvSp{position:relative;background-color:#fff;width:1.08rem;height:.04rem;border-radius:.02rem}.DjCcaODW{width:1.66rem}._2NLasuDu{position:absolute;left:0;top:0;background-color:#e02e24;height:100%;border-radius:.02rem}._3IWr8soS{font-size:.1rem;margin-left:.08rem;color:#fff}",""]),t.locals={progress:"_2qR8VvFc",bar:"_1r_YvvSp",longBar:"DjCcaODW",nowBar:"_2NLasuDu",desp:"_3IWr8soS"}},Zwcd:function(e,t,r){(t=e.exports=r("Cgg2")(!1)).push([e.id,'._21n_dEuc{left:.62rem;width:2.5rem;background-color:rgba(0,0,0,.75);min-height:.49rem;border:.01rem solid #fff;border-radius:.08rem;position:relative;z-index:101}._1TNVnkcw{width:.14rem;height:.14rem;position:absolute;right:-.07rem;top:-.07rem}.xRZUU_lF{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:.07rem .08rem .08rem .1rem}.xRZUU_lF:not(:last-child){border-bottom:.01rem dashed #fff}._1A0v3noG{height:.2rem;line-height:.2rem;font-size:.12rem;color:#fff;white-space:nowrap}._33UKG_pw{width:.5rem;height:.18rem;font-size:.12rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;border-radius:.09rem;color:#e02e24;font-weight:700}._33UKG_pw:after{content:"";display:inline-block;width:.07rem;height:.07rem;border-top:.02rem solid;border-right:.02rem solid;-webkit-transform:rotate(45deg);transform:rotate(45deg)}',""]),t.locals={wrapper:"_21n_dEuc",close:"_1TNVnkcw",progress:"xRZUU_lF",title:"_1A0v3noG",button:"_33UKG_pw"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcFloatingProgress-622ed3dd280b4e5cf7ee.js.map