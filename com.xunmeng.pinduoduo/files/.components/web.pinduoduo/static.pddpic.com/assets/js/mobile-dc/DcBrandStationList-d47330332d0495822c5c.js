(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["d7e4"],{"/Wvg":function(e,t,n){"use strict";var r=n("9bdW"),o=n.n(r),i=n("TKwH"),s=n.n(i),a=n("04La"),c=n("/uol"),l=n.n(c);t.Z=function(e){return s()(l()),e.isEnd?!1!==e.useEndTips?o().createElement("div",{className:l().endTips},"已经到底啦"):null:o().createElement(a.Z,{className:l().downLoader})}},wt09:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Te}});var r=n("iQtE"),o=n.n(r),i=n("0Qln"),s=n.n(i),a=n("xeO4"),c=n.n(a),l=n("U5BY"),u=n.n(l),p=n("hwDT"),f=n.n(p),d=n("i/Q6"),m=n.n(d),g=n("f6/u"),h=n.n(g),y=n("f17R"),b=n.n(y),v=n("Vl5s"),w=n.n(v),k=n("jXLS"),_=n.n(k),E=(n("XC3m"),n("T6n4")),O=n.n(E),S=n("9bdW"),T=n.n(S),x=n("KdYu"),I=n("iuwq"),j=n("vuIA"),D=n("ukrc"),P=n.n(D),C=n("WFcP"),L=n("54yM"),N=n.n(L),q=n("azrQ"),M=P()(N())((0,x.observer)((function(e){var t=e.store,n=function(e,t){return Array(t).fill("").map((function(t,n){return T().createElement("div",{className:N().stationWithGoods,key:n},T().createElement(q.x,{count:1,skeleton:e.templateStore[1].skeleton}),T().createElement("div",{className:N().goods,style:{top:e.editors.templateMarginTop}},T().createElement(q.x,{count:e.editors.goodsNum,skeleton:e.templateStore[0].skeleton})))}))}(t,t.editors.requestLength);return T().createElement("div",{style:t.UIStore.style},T().createElement("div",null,T().createElement(C.Z,{store:t.rootStore,componentStore:t.topBannerStore}),n))}))),R=n("/4JS"),G=n.n(R),$=n("UK90"),W=n("2ZWC"),Z=n("s0Le"),B=n("EicU"),A=n("hQaO"),Q=n("Skb2"),z=n("D+Sb"),H=(0,z.u)([{name:"STATION",text:"跳转品牌站",value:1},{name:"DETAIL",text:"跳转商详",value:2}]),U=(0,z.u)([{name:"FIXED",text:"固定数量",value:1},{name:"INFINITE",text:"无限滚动",value:2}]),J=n("xnpn"),K=n("MV8a"),F=n("VRmg");var V=(0,x.observer)((function(e){var t=e.model,n=e.index,r=e.store,o=e.onClick,i=(0,F.sl)({index:n,goodsItem:t,componentStore:r,pageElSnIndex:0,goodsTrackInfo:{}});return t.price,t.priceUsingCoupon,T().createElement(K.Z,{trackingInfo:i,key:n},T().createElement(J.Z,{data:t,json:r.templateStore[0].template,id:n,eventHandler:{onClick:r.isJumpDetail?F.dy.bind(null,{},{trackingInfo:i,model:t,query:{},componentStore:r}):o.bind(null,t,i,0)}}))}));function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee,te,ne,re,oe,ie,se=P()(N())((0,x.observer)((function(e){var t=e.store,n=e.onClick,r=t.$contentList;return T().createElement("div",null,r.map((function(e,r){var o=(0,F.PL)(e,r);return T().createElement("div",{className:N().stationWithGoods,key:r},T().createElement(K.Z,{key:"impr".concat(r),trackingInfo:Y(Y({},t.getLog(1)),o)},T().createElement(J.Z,{eventHandler:{onClick:e.hasBrandSite?n.bind(null,e,o,1):function(){}},id:r,data:e,json:t.templateStore[1].template})),T().createElement("div",{className:N().goods,style:{top:t.editors.templateMarginTop}},e.goodsList.slice(0,t.editors.goodsNum).map((function(e,r){return T().createElement(V,{key:r,model:e,index:r,store:t,onClick:n})}))))})))}))),ae=(0,z.u)([{label:"一拖N",name:"STATION_WITH_GOODS",value:1}]),ce=G()({},ae.STATION_WITH_GOODS,{item:se,needTwoTemplate:!0,needGoodsConfig:!0,changeGoodsJumpType:!0}),le=n("V5cf"),ue=n("nC4b"),pe=n("gIXg");function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){G()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ge,he,ye,be,ve,we=(ee=$.observable.shallow,te=function(e){h()(o,e);var t,n,r=(t=o,function(){var e,n=w()(t);if(me()){var r=w()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return b()(this,e)});function o(){var e;u()(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).editors={tf_id:"",requestLength:6,goodsNum:3,loadType:U.FIXED,styleType:ae.STATION_WITH_GOODS,goodsJumpType:H.STATION,templateMarginTop:".43rem"},s()(e,"$hasMore",ne,m()(e)),s()(e,"$contentList",re,m()(e)),s()(e,"$pageNo",oe,m()(e)),s()(e,"topBannerStore",ie,m()(e)),e.UIStore=new B.Z({marginLeft:".09rem",marginRight:".09rem"}),e.templateStore=[{},{}],e.getRemark=function(){return["商品","品牌站头部","顶部Banner"]},e}return f()(o,[{key:"afterInit",value:function(){var e=this;this.templateStore=this.templateStore.map((function(t){return Object.assign((0,Z.$)(e),t)}))}},{key:"col",get:function(){var e=this.templateStore[0].layout;return e<=4?e:3}},{key:"isJumpDetail",get:function(){return this.editors.goodsJumpType===H.DETAIL}},{key:"styleConfig",get:function(){return ce[this.editors.styleType]}},{key:"request",value:(n=c()(O().mark((function e(){var t,n,r,o,i,s=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.styleConfig.needGoodsConfig?this.editors.goodsNum:1,e.next=4,(0,Q.$Z)({group:le.G_.REALTIME_REC_BRAND_GOODS,list_id:this.requestParams.listId,page_no:this.$pageNo,page_size:this.editors.requestLength,tf_id:this.editors.tf_id,goods_count:n,min_display_num:Math.min(this.col,this.editors.requestLength),min_display_goods_num:n},this.requestParams);case 4:if(r=e.sent,o=r.content_list||[],null!==(t=o)&&void 0!==t&&t.length){e.next=8;break}throw new Error("接口返回品牌站数量不足");case 8:if(!this.styleConfig.needGoodsConfig){e.next=13;break}if((o=o.filter((function(e){return e.goods_list.length>=s.editors.goodsNum}))).forEach((function(e){e.goods_list=e.goods_list.slice(0,s.editors.goodsNum)})),null!==(i=o)&&void 0!==i&&i.length){e.next=13;break}throw new Error("一拖N过滤后无品牌站");case 13:this.$pageNo++,this.$contentList=this.$contentList.concat(o.map((function(e){var t=e.goods_list.map((function(e){return e.goods_id})).join(","),n=(0,pe.nP)(e.content_id,t);return{brandId:e.content_id||"",brandName:e.content_name||"",brandLogo:e.content_img||"",hasBrandSite:e.has_brand_site,linkUrl:n,goodsList:e.goods_list.map((function(t){return(0,F.Ag)(de(de({},new ue.ZP(t,{imgType:s.imgType})),{},{linkUrl:!e.has_brand_site||s.isJumpDetail?t.link_url||"":n}))})).map((function(e){return(0,F.NR)(e,{isTemplate:!0,store:s,templateIndex:0})}))}}))),this.$hasMore=r.has_more,e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),this.$hasMore=!1,this.logError(e.t0);case 22:case"end":return e.stop()}}),e,this,[[0,18]])}))),function(){return n.apply(this,arguments)})}]),o}(W.ZP),ne=_()(te.prototype,"$hasMore",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),re=_()(te.prototype,"$contentList",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=_()(te.prototype,"$pageNo",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ie=_()(te.prototype,"topBannerStore",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new A.Z}}),_()(te.prototype,"col",[$.computed],Object.getOwnPropertyDescriptor(te.prototype,"col"),te.prototype),_()(te.prototype,"isJumpDetail",[$.computed],Object.getOwnPropertyDescriptor(te.prototype,"isJumpDetail"),te.prototype),_()(te.prototype,"styleConfig",[$.computed],Object.getOwnPropertyDescriptor(te.prototype,"styleConfig"),te.prototype),te),ke=n("zWf8"),_e=n("/Wvg"),Ee=n("UzMC"),Oe=n("wJ16");function Se(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Te=(0,x.inject)("store")(ge=P()(N())(ge=(0,x.observer)((ve=be=function(e){h()(i,e);var t,n,r=(t=i,function(){var e,n=w()(t);if(Se()){var r=w()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return b()(this,e)});function i(){var e;u()(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))).couponPriceRemover=void 0,e.onItemClick=function(){var t=c()(O().mark((function t(n,r){var o,i=arguments;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=i.length>2&&void 0!==i[2]?i[2]:0,e.trackForward(n.linkUrl,r,o);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),s()(e,"clickMoreHandle",ye,m()(e)),e}return f()(i,[{key:"componentDidMount",value:(n=c()(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.ZP.register({store:this.store,merchantTag:Ee.tJ.COMMON,updateGoodsList:function(e,t){t.$contentList.forEach((function(t){var n;null==t||null===(n=t.goodsList)||void 0===n||n.forEach((function(t){e[t.goodsId]&&(0,Ee.b1)(e[t.goodsId],t)}))}))},getGoodsIdList:function(e){var t=e.$contentList.reduce((function(e,t){var n;return null!=t&&null!==(n=t.goodsList)&&void 0!==n&&n.length&&e.push.apply(e,o()(t.goodsList.map((function(e){return e.goodsId})))),e}),[]).filter(Boolean);return o()(new Set(t))}});case 2:this.couponPriceRemover=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e;null===(e=this.couponPriceRemover)||void 0===e||e.call(this)}},{key:"render",value:function(){var e=this,t=this.store,n=t.$hasMore,r=t.getLog,o=t.$contentList,i=t.editors,s=i.loadType,a=i.styleType;if(null==o||!o.length)return null;var c=ce[a].item;return T().createElement("div",{id:this.componentId,style:this.style},T().createElement(C.Z,{store:this.rootStore,componentStore:this.store.topBannerStore,trackingInfo:r(2)}),T().createElement(Oe.k,null,T().createElement(c,{store:this.store,onClick:this.onItemClick})),s===U.INFINITE&&T().createElement(j.r,{rootMargin:"800px",isEnd:!n,onLoad:function(){return e.clickMoreHandle()}},T().createElement(_e.Z,{isEnd:!n})))}}]),i}(I.Z),be.Store=we,be.SkeletonComponent=M,he=ve,ye=_()(he.prototype,"clickMoreHandle",[ke.U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.store.request()}}}),ge=he))||ge)||ge)||ge},"/uol":function(e,t,n){var r=n("qEvW"),o=n("DDs0"),i="string"==typeof r?[[e.id,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},"54yM":function(e,t,n){var r=n("dbQV"),o=n("DDs0"),i="string"==typeof r?[[e.id,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},qEvW:function(e,t,n){(t=e.exports=n("Cgg2")(!1)).push([e.id,'._2tgQEqKw{position:relative;margin:0 auto;width:-webkit-max-content;width:max-content;font-size:.12rem;line-height:.4rem;height:.4rem;color:#fff}._2tgQEqKw:after,._2tgQEqKw:before{content:"";position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:.3rem;height:.01rem;background-color:#fff}._2tgQEqKw:before{left:-.4rem}._2tgQEqKw:after{right:-.4rem}.E2WBqGSS{color:#fff}',""]),t.locals={endTips:"_2tgQEqKw",downLoader:"E2WBqGSS"}},dbQV:function(e,t,n){(t=e.exports=n("Cgg2")(!1)).push([e.id,".tpiHhGPq{position:relative;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-content:center;align-content:center}._20Bf_wv9,.tpiHhGPq{display:-webkit-box;display:-webkit-flex;display:flex}._20Bf_wv9{z-index:1;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;justify-content:space-evenly;position:absolute;left:0;top:.43rem}",""]),t.locals={stationWithGoods:"tpiHhGPq",goods:"_20Bf_wv9"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcBrandStationList-d47330332d0495822c5c.js.map