(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["ffa4"],{fT09:function(r,t,e){"use strict";e.r(t),e.d(t,{default:function(){return wr}});var n,o,a,i,s,c=e("U5BY"),u=e.n(c),l=e("hwDT"),f=e.n(l),p=e("f6/u"),b=e.n(p),g=e("f17R"),m=e.n(g),v=e("Vl5s"),d=e.n(v),w=e("9bdW"),h=e.n(w),y=e("b6u1"),k=e.n(y),_=e("UK90"),P=e("KdYu"),O=e("ukrc"),j=e.n(O),x=e("/4JS"),C=e.n(x),R=e("iQtE"),D=e.n(R),M=e("xeO4"),N=e.n(M),z=e("0Qln"),S=e.n(z),Q=e("i/Q6"),F=e.n(Q),Y=e("jXLS"),E=e.n(Y),I=(e("XC3m"),e("T6n4")),L=e.n(I),T=e("u2c9"),A=e.n(T),B=e("0Q7g"),Z=e.n(B),q=e("BFRN"),W=e("VCAa");function X(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function U(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}var V,J,K,$,G,H,rr,tr,er=j()(Z())(n=(0,P.observer)((s=i=function(r){b()(o,r);var t,e,n=(t=o,function(){var r,e=d()(t);if(U()){var n=d()(this).constructor;r=Reflect.construct(e,arguments,n)}else r=e.apply(this,arguments);return m()(this,r)});function o(r){var t;return u()(this,o),t=n.call(this,r),S()(t,"activeList",a,F()(t)),t.barrageLib=t.props.barrage.slice(1),t}return f()(o,[{key:"componentDidMount",value:(e=N()(L().mark((function r(){var t,e,n,o=this;return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=this.props,e=t.intervalTime,n=t.maxAmount,this.timer=setInterval((function(){var r=o.activeList;r.length>=n&&o.barrageLib.push(r.shift()),(0,_.runInAction)((function(){o.activeList=[].concat(D()(r),[o.barrageLib.shift()||{}])}))}),e);case 2:case"end":return r.stop()}}),r,this)}))),function(){return e.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var r=this,t=this.props,e=t.className,n=void 0===e?"":e,o=t.jumpFnc,a=t.trackingInfo,i=t.barrageFont,s=void 0===i?9:i,c=t.propsStyle;return this.activeList.map((function(t){var e=function(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?X(Object(e),!0).forEach((function(t){C()(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):X(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}({background:"linear-gradient(to right, ".concat((0,W.mR)(t.barrageLeftColor,.8),", ").concat((0,W.mR)(t.barrageRightColor,.8),")"),height:(0,W.Q1)(s+7),lineHeight:(0,W.Q1)(s+7)},c);return t.info&&h().createElement("div",{key:t.keyId,className:A()(Z().wrapper,n),style:e,onClick:o.bind(r,t.linkUrl,a)},t.avatar&&h().createElement(q.Z,{className:Z().avater,src:t.avatar,style:{width:(0,W.Q1)(s+3),height:(0,W.Q1)(s+3)}}),h().createElement("div",{className:Z().info,style:{fontSize:(0,W.Q1)(s)}},t.info))||null}))}}]),o}(h().Component),i.defaultProps={barrage:[],className:"",intervalTime:3e3,maxAmount:3},o=s,a=E()(o.prototype,"activeList",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[this.props.barrage[0]]}}),n=o))||n)||n,nr=er,or=e("iuwq"),ar=e("iOT4"),ir=e("wfOt"),sr=e("kcif"),cr=e.n(sr);function ur(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function lr(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(e),!0).forEach((function(t){C()(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):ur(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}function fr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}var pr,br,gr,mr=(V=function(r){b()(n,r);var t,e=(t=n,function(){var r,e=d()(t);if(fr()){var n=d()(this).constructor;r=Reflect.construct(e,arguments,n)}else r=e.apply(this,arguments);return m()(this,r)});function n(){var r;u()(this,n);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),S()(r,"configTop",J,F()(r)),S()(r,"trackRowNum",K,F()(r)),S()(r,"rowBarrageNum",$,F()(r)),S()(r,"colorConfig",G,F()(r)),S()(r,"barrageConfig",H,F()(r)),S()(r,"barrageFont",rr,F()(r)),S()(r,"$showCom",tr,F()(r)),r.arrFormat=function(r,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=0,o=t.length;return r.map((function(r,a){++n/o>1&&(n-=o),e.push(lr(lr({},t[n-1]),r))})),e},r.getRemark=function(){return[r.nickName,"弹幕点击"]},r}return f()(n,[{key:"barrageArr",get:function(){var r=this.arrFormat(this.barrageConfig,this.colorConfig).filter((function(r){return r.info}));return r=cr()(r,this.rowBarrageNum)}}]),n}(ir.Z),J=E()(V.prototype,"configTop",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=E()(V.prototype,"trackRowNum",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),$=E()(V.prototype,"rowBarrageNum",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),G=E()(V.prototype,"colorConfig",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=E()(V.prototype,"barrageConfig",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rr=E()(V.prototype,"barrageFont",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9}}),tr=E()(V.prototype,"$showCom",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E()(V.prototype,"barrageArr",[_.computed],Object.getOwnPropertyDescriptor(V.prototype,"barrageArr"),V.prototype),V),vr=[3e3,3500,3e3,2900];function dr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}var wr=j()(k())(pr=(0,P.inject)("store")(pr=(0,P.observer)((gr=br=function(r){b()(n,r);var t,e=(t=n,function(){var r,e=d()(t);if(dr()){var n=d()(this).constructor;r=Reflect.construct(e,arguments,n)}else r=e.apply(this,arguments);return m()(this,r)});function n(){return u()(this,n),e.apply(this,arguments)}return f()(n,[{key:"componentDidMount",value:function(){var r=this;(0,_.runInAction)((function(){r.store.$showCom=!0})),this.rootStore.requestContext.platform.isNativePlatform||(0,ar.zh)()&&(window.onpageshow=function(r){r.persisted&&window.location.reload()})}},{key:"renderBarrages",value:function(){var r=this,t=this.store,e=t.barrageArr,n=t.barrageFont;return e.map((function(t,e){if(!((null==t?void 0:t.length)<3))return h().createElement(nr,{key:e,barrage:t,className:k()["barrage".concat(e+1)],intervalTime:vr[e%4]+300*(n-9),jumpFnc:r.trackForward,trackingInfo:r.store.getLog(1),barrageFont:n,propsStyle:{top:(0,W.Q1)(e*(n+16))}})}))}},{key:"render",value:function(){var r=this.store,t=r.$showCom,e=r.configTop;return(t||this.rootStore.isEditor)&&h().createElement("div",{id:this.componentId,className:k().wrapper,style:this.UIStore.style},h().createElement("div",{className:k().barrageWrapper,style:{top:(0,W.Q1)(e)}},this.renderBarrages()))||null}}]),n}(or.Z),br.Store=mr,pr=gr))||pr)||pr)||pr},"0Q7g":function(r,t,e){var n=e("E/zv"),o=e("DDs0"),a="string"==typeof n?[[r.id,n,""]]:n;(t=r.exports=n.locals||{})._getContent=function(){return a},t._getCss=function(){return""+n},t._insertCss=function(r){return o(a,r)}},b6u1:function(r,t,e){var n=e("Z90h"),o=e("DDs0"),a="string"==typeof n?[[r.id,n,""]]:n;(t=r.exports=n.locals||{})._getContent=function(){return a},t._getCss=function(){return""+n},t._insertCss=function(r){return o(a,r)}},"E/zv":function(r,t,e){(t=r.exports=e("Cgg2")(!1)).push([r.id,"._16pXoqYk{position:absolute;padding-right:.08rem;-webkit-transform:translate3d(3.75rem,0,0);transform:translate3d(3.75rem,0,0);border-radius:.43rem;border:.01rem solid rgba(255,238,224,.8);display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;overflow:hidden}._3Y382Vr-{vertical-align:bottom;margin-left:.02rem;margin-right:.03rem;border-radius:50%}._2cNXl9Fj,._3Y382Vr-{position:relative;z-index:6;display:inline-block}._2cNXl9Fj{color:#fff}",""]),t.locals={wrapper:"_16pXoqYk",avater:"_3Y382Vr-",info:"_2cNXl9Fj"}},Z90h:function(r,t,e){(t=r.exports=e("Cgg2")(!1)).push([r.id,"._2ijf1Zjk{position:relative}._2Y-_0mdp{position:absolute;left:0;top:0;width:3.75rem;z-index:5}.zRQq7nUY{top:0;-webkit-animation:u8oglMvP 12s linear .2s forwards;animation:u8oglMvP 12s linear .2s forwards}._2lYawDrs{-webkit-animation:u8oglMvP 13s ease-out forwards;animation:u8oglMvP 13s ease-out forwards}._237saYes{-webkit-animation:u8oglMvP 11s ease-in-out .3s forwards;animation:u8oglMvP 11s ease-in-out .3s forwards}._3IpbnJWK{-webkit-animation:u8oglMvP 14s ease .5s forwards;animation:u8oglMvP 14s ease .5s forwards}._3-iIwWw4{-webkit-animation:u8oglMvP 12s linear .2s forwards;animation:u8oglMvP 12s linear .2s forwards}._2J8CqdVs{-webkit-animation:u8oglMvP 13s ease-out forwards;animation:u8oglMvP 13s ease-out forwards}.T4Lzt0_5{-webkit-animation:u8oglMvP 11s ease-in-out .3s forwards;animation:u8oglMvP 11s ease-in-out .3s forwards}._3_jNQ1NG{-webkit-animation:u8oglMvP 14s ease .5s forwards;animation:u8oglMvP 14s ease .5s forwards}@-webkit-keyframes u8oglMvP{0%{-webkit-transform:translate3d(3.75rem,0,0);transform:translate3d(3.75rem,0,0)}to{-webkit-transform:translate3d(-4.5rem,0,0);transform:translate3d(-4.5rem,0,0)}}@keyframes u8oglMvP{0%{-webkit-transform:translate3d(3.75rem,0,0);transform:translate3d(3.75rem,0,0)}to{-webkit-transform:translate3d(-4.5rem,0,0);transform:translate3d(-4.5rem,0,0)}}",""]),t.locals={wrapper:"_2ijf1Zjk",barrageWrapper:"_2Y-_0mdp",barrage1:"zRQq7nUY",rollIn:"u8oglMvP",barrage2:"_2lYawDrs",barrage3:"_237saYes",barrage4:"_3IpbnJWK",barrage5:"_3-iIwWw4",barrage6:"_2J8CqdVs",barrage7:"T4Lzt0_5",barrage8:"_3_jNQ1NG"}},kcif:function(r,t,e){var n=e("KxBF"),o=e("mv/X"),a=e("Sxd8"),i=Math.ceil,s=Math.max;r.exports=function(r,t,e){t=(e?o(r,t,e):void 0===t)?1:s(a(t),0);var c=null==r?0:r.length;if(!c||t<1)return[];for(var u=0,l=0,f=Array(i(c/t));u<c;)f[l++]=n(r,u,u+=t);return f}},ZCgT:function(r,t,e){var n=e("/dva"),o=1/0;r.exports=function(r){return r?(r=n(r))===o||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0}},Sxd8:function(r,t,e){var n=e("ZCgT");r.exports=function(r){var t=n(r),e=t%1;return t==t?e?t-e:t:0}},"/dva":function(r,t,e){r.exports=e("xyHx")("tLB3")}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcKvPopup-67611065276ca817cfdd.js.map