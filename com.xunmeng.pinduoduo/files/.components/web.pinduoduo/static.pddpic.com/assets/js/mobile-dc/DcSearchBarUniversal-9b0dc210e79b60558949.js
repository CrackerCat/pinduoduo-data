(self.webpackChunk_name_mobile_dc=self.webpackChunk_name_mobile_dc||[]).push([["97cf"],{"5SpH":function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return nt}});var n=r("U5BY"),a=r.n(n),c=r("hwDT"),u=r.n(c),o=r("f6/u"),s=r.n(o),i=r("f17R"),f=r.n(i),l=r("Vl5s"),p=r.n(l),h=r("9bdW"),b=r.n(h),v=r("xeO4"),d=r.n(v),m=r("0Qln"),y=r.n(m),w=r("i/Q6"),O=r.n(w),g=r("jXLS"),k=r.n(g),P=(r("XC3m"),r("T6n4")),x=r.n(P),S=r("4k0V"),Z=r("UK90"),j=r("wfOt"),_=r("/4JS"),C=r.n(_),D=r("lrCg"),E=r.n(D),R=r("s+eA"),V=r("Yorr"),B=r("EYkE"),q=r("efW1"),H=r("qB3K");function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A,M,I=function(){var e=d()(x().mark((function e(t){var r,n,a,c,u,o,s,i,f,l,p,h;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.skinId,n=t.source,a=t.$axiosHttp,c=t.req,u=t.res,o=t.noHotRec,a){e.next=6;break}return e.next=5,(0,q.Z)({req:c,res:u});case 5:a=e.sent;case 6:return s=(0,H.eb)(c),e.next=9,Promise.all([o?null:(0,B.w)({update:!0,source:n,$axiosHttp:a}),r?(0,R.Z)({skinId:r,source:n,$axiosHttp:a}):null,(0,V.vF)(c)]);case 9:return i=e.sent,f=E()(i,3),l=f[0],p=f[1],h=f[2],e.abrupt("return",Q(Q({},l),{},{top:h,theme:p,webpEnabled:s}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=I;function K(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var T=10008,W=(A=function(e){s()(n,e);var t,r=(t=n,function(){var e,r=p()(t);if(K()){var n=p()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return f()(this,e)});function n(){var e;a()(this,n);for(var t=arguments.length,c=new Array(t),u=0;u<t;u++)c[u]=arguments[u];return(e=r.call.apply(r,[this].concat(c))).$ssrData={},e.$ssrHistories={},e.source=T,e.$myTheme={},y()(e,"searchResultPath",M,O()(e)),e.request=function(){var t=d()(x().mark((function t(r){var n;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,S.parseQuery)(location.search),e.source=n.source||T,e.actStatus=n.act_status||"",e.rootStore.trackingBase.source=e.source,t.prev=4,t.next=7,$({req:r.req,res:r.res,source:e.source,$axiosHttp:e.requestParams.axios});case 7:e.$ssrData=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),e.logError(t.t0);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),e}return u()(n)}(j.Z),M=k()(A.prototype,"searchResultPath",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"/attendance.html?_pdd_fs=1&_pdd_tc=ffffff&type=1&id=149193"}}),A),X=W,J=r("KdYu"),U=r("iuwq"),F=r("AIhP"),L=r.n(F),Y=r("1TFd"),z=r("WJtG"),G={},ee=r("MRQg"),te=r("F8EK"),re=r("PQzD"),ne=r("Xy8r"),ae=function(e,t,r,n,a){var c=(0,h.useRef)({});(0,h.useEffect)((function(){c.current.openSearchView=e}),[e]),(0,h.useEffect)((function(){c.current.closeSearchView=t}),[t]),(0,h.useEffect)((function(){c.current.updateData=r}),[r]),(0,h.useEffect)((function(){var e=c.current;return function(){e.openSearchView=ne.Z,e.closeSearchView=ne.Z,e.updateData=ne.Z}}),[]);var u=(0,h.useMemo)((function(){return{openSearchView:function(){return c.current.openSearchView()},closeSearchView:function(){return c.current.closeSearchView()},updateData:function(){return c.current.updateData()}}}),[]);(0,h.useEffect)((function(){n&&n(u)}),[n,u]),(0,h.useImperativeHandle)(a,(function(){return u}))},ce=r("ReAO"),ue=r("UX2+");function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ie=function(){var e=d()(x().mark((function e(t,r,n,a,c){var u,o,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},(u=(t?1:0)|(r?2:0))&&(o.options=u),n&&(o.bid=n,o.source=n),a&&(o.search_key=a),c&&(o.shade_words=c),s=(0,ce.Z)(o,"/search_view.html"),e.next=11,(0,ue.invokeBridgeCallNativeFun)("JSNavigation","forward",{type:"search_view",url:s,props:se({url:s},o),navigation_bar:{hidden:1},animated:0});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n,a,c){return e.apply(this,arguments)}}(),fe=ie,le=r("pHJm"),pe=r("PVoC");var he=r("GUVe"),be=r("1XQx"),ve=r("9Atd"),de=r("Ch8X"),me=r("6+kE"),ye=r("qfLu"),we=r("XtjB"),Oe=r("RNOx"),ge=function(){return(0,h.useContext)(Oe.Z)};var ke=(0,h.createContext)(!1),Pe=function(){return(0,h.useContext)(ke)},xe=r("6y+v"),Se=r("+fO1"),Ze=function(e,t){var r=e.onOpen,n=e.onClose,a=e.onReady,c=e.className,u=e.searchKey,o=e.customRenderSearchBar,s=(0,be.Z)(),i=(0,ve.Z)(),f=!!e.canMallSuggest,l=!!e.useNative,p=(0,de.Z)(),b=(0,z.Z)((function(){var t=function(e){if(!e)return null;try{var t=JSON.parse(e);return(0,pe.Z)(t)?t:null}catch(e){return null}}(e.ssrHistories);return t?t.map((function(e){return{value:e,type:he.A}})):null})),v=(0,Se.Z)().backQuery,m=v.isBack&&v.showActivePage,y=(0,z.Z)((function(){return!!e.alwaysOpen})),w=(0,z.Z)((function(){return y||!!e.initOpen&&!l||m})),O=(0,me.Z)().render,g=(0,xe.Z)().update,k=(0,ye.Z)(),P=(0,we.Z)(),S=ge(),Z=Pe(),j=(0,h.useState)(w),_=E()(j,2),C=_[0],D=_[1],R=(0,h.useState)(!1),V=E()(R,2),B=V[0],q=V[1],H=(0,h.useState)(!1),N=E()(H,2),Q=N[0],A=N[1],M=(0,h.useState)((function(){return S[0]})),I=E()(M,2),$=I[0],K=I[1],T=(0,h.useMemo)((function(){return Z?$:k}),[Z,$,k]),W=G.SearchBarOnly,X=(0,h.useMemo)((function(){return!!y||(!B||(!l||Q))}),[y,l,B,Q]);(0,Y.Z)((function(){(0,te.Z)()&&q(!0)}));var J=(0,h.useCallback)(d()(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return");case 2:if(X){e.next=12;break}return e.prev=3,e.next=6,fe(i,s,p,u,T&&T.query);case 6:return e.abrupt("return");case 9:e.prev=9,e.t0=e.catch(3),A(!0);case 12:return(0,re.xk)(),D(!0),e.next=16,(0,le.Z)();case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),[y,X,i,s,p,u,T]),U=(0,h.useCallback)(d()(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return");case 2:return P(!0),(0,re.s1)(),D(!1),e.next=7,(0,le.Z)();case 7:case"end":return e.stop()}}),e)}))),[y,P]),F=(0,h.useCallback)(d()(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return e.next=4,P(!0);case 4:return e.next=6,(0,le.Z)();case 6:case"end":return e.stop()}}),e)}))),[g,P]),L=(0,h.useCallback)(d()(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:r&&r();case 3:case"end":return e.stop()}}),e)}))),[J,r]),ne=(0,h.useCallback)(d()(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:n&&n();case 3:case"end":return e.stop()}}),e)}))),[U,n]);ae(J,U,F,a,t);var ce=o&&o();return h.createElement(h.Fragment,null,ce?h.createElement("div",{onClick:L},ce):W?h.createElement(W,{onShadeQuerySwitch:K,onInputClick:L,className:c,started:!C}):null,X&&h.createElement(ee.Z,{onCancelClick:ne,shadeQuery:T,searchVisible:C,canMallSuggest:f,text:u,ssrHistories:b}),O())},je=(0,h.memo)((0,h.forwardRef)(Ze)),_e=r("PCst"),Ce=r("379E"),De=r("6phV"),Ee=r("DPhn"),Re=r("b0l4"),Ve=r("9MSb"),Be=r("zynV"),qe=function(e,t){return(0,h.createElement)(ke.Provider,{value:!!t},e)},He=r("JA4w"),Ne=r("KdUj"),Qe=r("AajV"),Ae=r("pO4e"),Me=r("TA3C"),Ie=r("Ecld"),$e=r("IgqI"),Ke=r("YKQm");function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){C()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xe,Je,Ue,Fe=function(e,t){var r=e.theme,n=e.webpEnabled,a=(0,z.Z)((function(){return e.ssrData})),c=(0,h.useMemo)((function(){return r||(a&&a.theme||null)}),[r,a]),u=(0,h.useMemo)((function(){return void 0!==n?!!n:a&&a.webpEnabled}),[n,a]),o=(0,_e.Z)(e.source||e.bid),s=h.createElement(je,L()({},e,{ref:t}));return(0,Y.Z)((function(){(0,Ce.Z)(We(We({},e),{},{op:"SearchBarUniversal",searchBarRef:t}))})),s=(0,Ae.Z)(s),s=(0,Ie.Z)(s,e.activePageConfig&&e.activePageConfig.historySource),s=(0,Me.Z)(s,e.ssrData,e.shadeWords,o),s=(0,De.Z)(s,(function(){return e.top||a&&a.top})),s=(0,Ee.Z)(s,e.beforeRedirect),s=(0,Re.Z)(s,e.searchResultPath),s=qe(s,!!e.canShadeQueryAnimate),s=(0,Ve.Z)(s,!!e.canSearchMall),s=(0,Be.Z)(s,e.canSearchImage),s=(0,Ne.Z)(s,!!e.hideBackButton),s=(0,He.Z)(s,!!e.interceptBack),s=(0,Qe.Z)(s,o),s=(0,$e.Z)(s,u),s=(0,Ke.Z)(s,{requestContext:e.requestContext,activePageConfig:e.activePageConfig,searchBarTheme:c,searchHint:e.searchHint})},Le=(0,h.memo)((0,h.forwardRef)(Fe)),Ye=r("CLTR"),ze=r("V56i"),Ge=r("4vPy"),et=r("GDNQ");function tt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var rt=(0,J.inject)("store")((Ue=Je=function(e){s()(n,e);var t,r=(t=n,function(){var e,r=p()(t);if(tt()){var n=p()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return f()(this,e)});function n(){return a()(this,n),r.apply(this,arguments)}return u()(n,[{key:"componentDidMount",value:function(){(0,Ge.getCurrentPlatform)().isNativePlatform&&((0,Ye.k$)("hideNavigationBar"),(0,ue.setupPullReload)({enable:!1}))}},{key:"render",value:function(){var e,t,r=this.store,n=r.source,a=r.searchResultPath,c=r.$ssrData,u=r.actStatus,o=this.rootStore.requestContext.queries,s=o.full_back_id,i=o.shade_words,f=o.carnival_id,l=o.prom_name,p=o.mkt_tr_sc,h=o.filter_floor_price,v=o.promotion_ext,d=o.bannerWord,m=o.bannerImg,y=o.bannerLink;return b().createElement("div",{style:{minHeight:"100vh"}},b().createElement(Le,{source:n,useNative:!1,initOpen:!0,alwaysOpen:!1,hideBackButton:!(null!==(e=this.rootStore.requestContext)&&void 0!==e&&null!==(t=e.platform)&&void 0!==t&&t.isNativePlatform),webpEnabled:this.rootStore.webpEnable,ssrData:c,onClose:et.B7,shadeWords:i,activePageConfig:{useVoiceSearch:!0},searchResultPath:(0,ze.Vi)(a,{act_status:u,full_back_id:s,carnival_id:f,prom_name:l,mkt_tr_sc:p,filter_floor_price:h,promotion_ext:v,bannerWord:d,bannerImg:m,bannerLink:y})}))}}]),n}(U.Z),Je.Store=X,Xe=Ue))||Xe,nt=rt}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-dc/DcSearchBarUniversal-9b0dc210e79b60558949.js.map