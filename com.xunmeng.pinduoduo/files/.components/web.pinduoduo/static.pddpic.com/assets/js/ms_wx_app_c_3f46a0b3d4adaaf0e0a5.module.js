(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[11],{YYoc:function(e,t,a){"use strict";a.r(t);var r=a("dKgK"),i=a("a/1V"),s=a("chhR"),n=a("EECB"),h=a("YSLc"),o=a("W9H9"),p=a("gfNA"),_=a("bbLm");class S extends p.a{constructor(e){super(e),this.wxAppRequestPayload=e.wxAppRequestPayload,this.miniObjectPath=e.miniObjectPath,this.shortCommandApi=e.shortCommandApi,this.wxAppNavigatePayload=e.wxAppNavigatePayload}async normalize(e){if(e===i.a.COPY_CIPHER)return this.processCipher();const t=Object.assign({},this);let a=t.miniObjectPath;if(a&&"string"==typeof a)a=Object(_.a)(t);else if("function"==typeof a)try{a=a(t.shareURL),"string"!=typeof a&&(a=null)}catch(r){}return Promise.resolve(Object.assign({},t.wxAppNavigatePayload,{title:t.title,thumbnail:t.thumbnailURL,share_url:a||Object(_.c)(t.shareURL)}))}getShareForm(e){return e===i.a.COPY_CIPHER?o.a.COMMAND:o.a.WXAPP_CARD}getShareMethod(e){return e===i.a.COPY_CIPHER?h.a.MANUAL:h.a.SDK}}var c=S,m=a("/bZk"),E=a("8l/m"),l=a("mj+i");const{ShareErrorCode:P}=m.b,g=[i.a.WECHAT_SESSION,i.a.COPY_CIPHER];class y extends r.a{constructor(e){super(e),this.ShareEntityClass=c,this._enableShareTypes=g.concat()}share(e){if(this._enableShareTypes.indexOf(e)<0)return P.SHARE_TYPE_DISABLED;if(i.a.COPY_CIPHER===e)return this.copyCipher();return this.getShareEntityByShareType(e)?this._shareByNavigate():P.SHARE_PARAMS_NOT_VALID}_shareByNavigate(){if(!window.wx||!window.wx.miniProgram||"function"!=typeof window.wx.miniProgram.navigateTo)return P.SHARE_NOT_SUPPORTED;const e=i.a.WECHAT_SESSION,t=this.getShareEntityByShareType(e);return this.emit(s.a.ON_SHARE_TRIGGER,{shareType:e}),t.normalize(e).then((t=>{window.wx.miniProgram.navigateTo({url:"/pages/web_share/web_share?"+Object(l.b)(Object.assign({page_sn:Object(E.c)()+"",page_name:Object(E.b)(),page_id:Object(E.a)()},t))}),this.emit(s.a.ON_SHARE_COMPLETED,{shareType:e,shareResultType:n.a.SUCCESS})}),this.getNormalizeErrorHandler(e)),0}refreshWxAppChannelShare(e){return this._setupPlatformShareSDK()}notifyWxAppShareComplete(e,t=n.a.SUCCESS){this.emit(s.a.ON_SHARE_COMPLETED,{shareType:e,shareResultType:t}),this.refreshWxAppChannelShare(e)}_setupPlatformShareSDK(){return"object"!=typeof wx||"object"!=typeof window.wx.miniProgram||"function"!=typeof window.wx.miniProgram.postMessage?(this.emit(s.a.SDK_INIT_FAILED),Promise.resolve()):Promise.all([i.a.WECHAT_SESSION].map((e=>{const t=this.getShareEntityByShareType(e);return t?(this.emit(s.a.ON_SHARE_PREPARE,{shareType:e}),t.normalize(e).then((e=>{try{window.wx.miniProgram.postMessage({data:{message_type:"share",share_info:e,page_info:{page_sn:Object(E.c)()+"",page_name:Object(E.b)(),page_id:Object(E.a)()}}})}catch(t){}}),this.getNormalizeErrorHandler(e))):Promise.resolve()})))}}t.default=y}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-best-goods/js/ms_wx_app_c_3f46a0b3d4adaaf0e0a5.module.js.map