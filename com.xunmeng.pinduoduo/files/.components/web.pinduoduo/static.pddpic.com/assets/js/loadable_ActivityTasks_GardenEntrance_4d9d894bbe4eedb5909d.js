(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[16],{HFye:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2AjH2n1Y{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;position:relative}._1jf9vG7K{width:.7rem;height:.7rem}._1o2tE6_I{height:.2rem;line-height:.2rem;color:#0c5c6c;font-size:.14rem;top:.22rem}._1o2tE6_I,._2xjKyZtQ{position:absolute;font-family:PingFangSC-Medium,PingFang SC,PingFangSC-Regular,STHeiti STXihei,Microsoft YaHei,Microsoft JhengHei,miui;font-weight:700;font-weight:500;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}._2xjKyZtQ{background:url(https://promotion.pddpic.com/mobile_live/ffa414d8-2fff-40b4-9dcd-24f3b8b66cf3.png.slim.png) no-repeat;width:.68rem;height:.18rem;background-size:contain;line-height:.18rem;color:#fff;font-size:.1rem;bottom:.06rem;text-align:center}._34osSSJR{color:hsla(0,0%,100%,.9);font-size:.12rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-left:.08rem;position:absolute;right:110%;top:.2rem;opacity:0;background:url(https://promotion.pddpic.com/mobile_live/df91d696-774b-4e2f-8ccc-a1e3ee3a582e.png.slim.c1.png) no-repeat;background-size:contain;width:1.05rem;height:.28rem;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:right center;transform-origin:right center;-webkit-transition:opacity .5s,-webkit-transform .5s;transition:opacity .5s,-webkit-transform .5s;transition:opacity .5s,transform .5s;transition:opacity .5s,transform .5s,-webkit-transform .5s}._34osSSJR._3mNd5tqR{opacity:1;-webkit-transform:scale(1);transform:scale(1)}",""]),t.locals={wrapper:"_2AjH2n1Y",bg:"_1jf9vG7K",reward:"_1o2tE6_I",text:"_2xjKyZtQ",bubble:"_34osSSJR",show:"_3mNd5tqR"}},eQJp:function(e,t,n){"use strict";var r=n("yXPU"),o=n.n(r),i=n("J4zp"),a=n.n(i),c=n("o0o1"),s=n.n(c),u=n("q1tI"),l=n("TyAF"),b=n("Vpw8"),f=n("O2NP"),p=n("yo/L"),m=n("hA9s"),d=function(e){var t=e.bizKey,n=e.completeSeconds,r=e.onComplete,i=e.onUpdateSeconds,c="LiveOuterTaskWatchedSeconds_"+t,l=(Object(f.k)().store.query||{}).list_id,b=void 0===l?"":l,d=Object(u.useState)(0),w=a()(d,2),g=w[0],_=w[1],O=Object(u.useState)(null),h=a()(O,2),E=h[0],v=h[1],k=function(e){_(e||0),i(e||0)};return Object(u.useEffect)((function(){if(t)(function(){var e=o()(s.a.mark((function e(){var t,n,r,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(Object(p.c)(c)||"").split("$__split__$"),n=a()(t,2),r=n[0],o=n[1],i=void 0===o?0:o,r&&b===r&&k(parseInt(i)||0),v(1e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();else if(m.b)throw new Error("BrowseCountdown的bizKey不能为空！")}),[]),Object(f.d)((function(){var e=g+1;Object(p.f)(c,"".concat(b).concat("$__split__$").concat(e)),k(e),e>=n&&(v(null),r(),Object(p.a)(c))}),E),null};d.defaultProps={completeSeconds:31536e3,onComplete:function(){},onUpdateSeconds:function(){}},t.a=Object(b.a)(l.observer)(d)},ld1E:function(e,t,n){var r=n("HFye"),o=n("Q8e5"),i="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},mO40:function(e,t,n){"use strict";n.r(t);var r=n("J4zp"),o=n.n(r),i=n("q1tI"),a=n.n(i),c=n("TyAF"),s=n("Vpw8"),u=n("HIPb"),l=n("O2NP"),b=n("N4rI"),f=n("kLkQ"),p=n("mFSr"),m=n("zRTd"),d=n("/WLQ"),w=n("yXPU"),g=n.n(w),_=n("o0o1"),O=n.n(_),h=n("spdq"),E=n("wXSJ"),v=Object(s.a)(c.observer)((function(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null),n=Object(i.useState)(!1),r=o()(n,2),c=r[0],s=r[1],u=Object(i.useRef)(""),b=Object(l.k)().store.activityTaskStore.gardenDialogType,f=Object(l.h)(b),p=function(){e.current&&clearTimeout(e.current),t.current&&clearTimeout(t.current)},m=function(){var n=g()(O.a.mark((function n(){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:p(),e.current=setTimeout((function(){s(!0)}),500),t.current=setTimeout((function(){s(!1)}),6e3);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(i.useEffect)((function(){return function(){p()}}),[]),Object(i.useEffect)((function(){!b&&[E.a.BrowserGuide,E.a.BuyGuide].includes(f)&&(m(),u.current=f===E.a.BrowserGuide?"浏览直播间可得":"直播间下单可得")}),[b,f]),a.a.createElement(h.a,{isShow:c,text:u.current,bg:"https://promotion.pddpic.com/mobile_live/df91d696-774b-4e2f-8ccc-a1e3ee3a582e.png.slim.c1.png"})})),k=n("eQJp"),j=n("FoiV"),S=Object(s.a)(c.observer)((function(e){var t=Object(l.k)().store.activityTaskStore,n=t.missionMap,r=t.refreshPendantInfo,o=t.requestCompleteMission,c=t.showGardenDialog,s=n[j.b.GARDEN_BROWSE]||{},u=s.completeSeconds,b=s.priceNum,p=(n[j.b.GARDEN_BUY]||{}).status,m={bizKey:"gardenBrowse",completeSeconds:u,onComplete:Object(l.e)(Object(i.useCallback)(g()(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(j.b.GARDEN_BROWSE);case 2:return null!=(t=e.sent)&&t.success&&(Object(f.p)("当前浏览任务已完成，获得".concat(b,"g奖励")),!Object(f.b)(E.b[j.b.GARDEN_BUY])&&p===j.c.UNDONE&&c(E.a.BuyGuide)),e.next=6,Object(f.o)(1e3);case 6:r();case 7:case"end":return e.stop()}}),e)}))),[p])),onUpdateSeconds:e.onUpdateSeconds};return a.a.createElement(k.a,m)})),N=Object(s.a)(c.observer)((function(e){var t=e.setIsFrozen,n=Object(l.k)().store.activityTaskStore,r=n.missionMap,a=n.localDiffServer,c=void 0===a?0:a,s=r[j.b.GARDEN_BROWSE]||{},u=s.finishCount,b=s.nextCompleteTime,f=s.status,p=Object(i.useState)(null),m=o()(p,2),d=m[0],w=m[1],g=function(){t(!0),w(1e3)};return Object(l.n)((function(){u>0&&f===j.c.UNDONE&&g()}),[u]),Object(i.useEffect)((function(){u>0&&f===j.c.UNDONE&&+new Date-c<1e3*b&&g()}),[]),Object(l.d)((function(){+new Date-c>=1e3*b&&(t(!1),w(null))}),d),null})),y=n("ld1E"),x=n.n(y);t.default=Object(s.a)(c.observer)((function(){Object(u.a)(x.a);var e=Object(l.k)().store,t=e.activityTaskStore,n=e.roomId,r=t.missionMap,c=t.showGardenDialog,s=t.localDiffServer,w=Object(i.useState)(0),g=o()(w,2),_=g[0],O=g[1],h=r[j.b.GARDEN_BROWSE]||{},k=h.status,y=h.priceNum,D=h.completeSeconds,T=void 0===D?60:D,R=h.finishCount,C=h.nextCompleteTime,G=r[j.b.GARDEN_BUY]||{},A=G.status,U=G.priceNum,B=Object(i.useState)(k===j.c.UNDONE&&R>0&&Date.now()-s<1e3*C),F=o()(B,2),I=F[0],Q=F[1];Object(i.useEffect)((function(){Object(f.b)(E.b[j.b.GARDEN_BROWSE])||k!==j.c.UNDONE||I||c(E.a.BrowserGuide)}),[]);var L=Object(i.useMemo)((function(){return k!==j.c.UNDONE||I?A===j.c.UNDONE?{reward:U,iconText:"直播间下单得"}:I?{reward:y,iconText:"任务准备中"}:{reward:y,iconText:"浏览任务完成"}:{reward:y,iconText:"看".concat(T-_,"秒得")}}),[k,A,y,U,R,I,_,T]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:x.a.wrapper,onClick:function(){var e="";k!==j.c.UNDONE||I?A===j.c.UNDONE?Object(b.a)("live_shop_coupon_dialog",{openLiveGoods:!0,room_id:n}):I&&(e="需等待10分钟后，可再次进行任务"):e="浏览".concat(T,"秒即可获得").concat(y,"g水滴"),Object(m.f)({subType:d.e.OldWaterDrop}),e&&Object(f.p)(e)}},a.a.createElement(m.b,{subType:d.e.OldWaterDrop}),a.a.createElement(p.a,{className:x.a.bg,src:"https://promotion.pddpic.com/mobile_live/67d01ce4-00b4-465f-a820-5c69b8a16600.png.slim.png"}),a.a.createElement("span",{className:x.a.reward},null==L?void 0:L.reward,"g"),a.a.createElement("div",{className:x.a.text},null==L?void 0:L.iconText),a.a.createElement(v,null)),k===j.c.UNDONE&&a.a.createElement(N,{setIsFrozen:Q}),k===j.c.UNDONE&&!I&&a.a.createElement(S,{onUpdateSeconds:O}))}))},sN3p:function(e,t,n){var r=n("sT4o"),o=n("Q8e5"),i="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return i},t._getCss=function(){return""+r},t._insertCss=function(e){return o(i,e)}},sT4o:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2YwTQJRM{width:1.05rem;height:.28rem;position:absolute;top:50%;left:-.05rem;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%);pointer-events:none}._2YwTQJRM.Onup0dK3 .ZCnEDGQL{-webkit-transform:scale(1);transform:scale(1)}.ZCnEDGQL{-webkit-transform-origin:right center;transform-origin:right center;-webkit-transform:scale(0);transform:scale(0);will-change:transform;-webkit-transition:-webkit-transform .4s ease;transition:-webkit-transform .4s ease;transition:transform .4s ease;transition:transform .4s ease,-webkit-transform .4s ease}._3uSw1WF0,.ZCnEDGQL{width:100%;height:100%}._3uSw1WF0{position:absolute;left:0;top:0;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;flex-wrap:nowrap;-ms-wrap-through:nowrap;-webkit-flex-wrap:nowrap;padding-right:.05rem;color:#fff;font-size:.12rem}",""]),t.locals={bubble:"_2YwTQJRM",show:"Onup0dK3",bubbleInner:"ZCnEDGQL",bubbleText:"_3uSw1WF0"}},spdq:function(e,t,n){"use strict";var r=n("lSNA"),o=n.n(r),i=n("q1tI"),a=n.n(i),c=n("TyAF"),s=n("TSYQ"),u=n.n(s),l=n("HIPb"),b=n("O2NP"),f=n("mFSr"),p=n("sN3p"),m=n.n(p);t.a=Object(c.observer)((function(e){Object(l.a)(m.a);var t=e.isShow,n=e.text,r=e.bg,i=e.children;return!Object(b.k)().store.activityPopStore.needScroll&&a.a.createElement("div",{className:u()(m.a.bubble,e.className,o()({},m.a.show,t))},a.a.createElement("div",{className:m.a.bubbleInner},a.a.createElement(f.a,{src:r}),a.a.createElement("div",{className:m.a.bubbleText},n),i))}))},wXSJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r,o=n("lSNA"),i=n.n(o),a=n("FoiV"),c={BrowserGuide:1,BuyGuide:2,LeaveDialog:3},s=(r={},i()(r,a.b.GARDEN_BROWSE,"garden_water_browser_dialog"),i()(r,a.b.GARDEN_BUY,"garden_water_buy_dialog"),r)}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_ActivityTasks_GardenEntrance_4d9d894bbe4eedb5909d.js.map