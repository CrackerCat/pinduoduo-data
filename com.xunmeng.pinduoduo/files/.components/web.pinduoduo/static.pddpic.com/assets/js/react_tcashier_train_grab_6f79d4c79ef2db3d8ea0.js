(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5191],{27457:function(t,e,r){"use strict";r.d(e,{T:function(){return u}});var n=r(48926),i=r.n(n),o=r(87757),a=r.n(o),s=r(12714);function c(){return(c=i()(a().mark((function t(e,r){var n,i,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(n||!(i<r)){t.next=15;break}return t.prev=2,t.next=5,e();case 5:n=t.sent,t.next=13;break;case 8:t.prev=8,t.t0=t.catch(2),i++,o={error_msg:"dynamic import retry ".concat(i," times"),subOp:"vgui-loadable-fetch-import",type:501},(0,s.K2)(t.t0,o);case 13:t.next=1;break;case 15:if(!n){t.next=17;break}return t.abrupt("return",n);case 17:throw new Error("fail to load");case 18:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}function u(t){return"function"!=typeof t?t:function(t,e){return c.apply(this,arguments)}(t,3)}},97719:function(t,e,r){"use strict";r.d(e,{Z:function(){return O}});var n=r(59713),i=r.n(n),o=r(6479),a=r.n(o),s=r(48926),c=r.n(s),u=r(87757),l=r.n(u);r(66337);var p=r(51308),f=r(38533),h=r(36792),d=r(6341),v=r(12045),y=r(62424),m=["extraPageOptions"];function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(){return S.apply(this,arguments)}function S(){return(S=c()(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,h.X6)().then((function(t){return 1==+t.shown_type})).catch((function(){return!1}));case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,(0,h.Rl)();case 7:(0,v.Ku)();case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,y.BY)();var r=e.extraPageOptions,n=void 0===r?{}:r,i=a()(e,m),o=(0,d.rL)(i),s={appId:"100428",bizSide:"consumer-platform-fe",testAppId:"100265"};(0,p.g)(t,b(b({title:t.appConfig.title},o),{},{pmmAppInfo:s}));var c=(0,f.zT)();n.isManualPV&&c.isNativePlatform&&w()}},7939:function(t,e,r){"use strict";r(32e3),r(48977),r(98837),r(52310),r(94899),r(1268),r(30522),r(62773),r(56997),r(19371),r(58295),r(50110),r(20075),r(31842),r(19977),r(41560),r(48377),r(88416),r(11246),r(53403),r(75115),r(48646),r(22658),r(83276),r(89375),r(94882),r(98351),r(79622),r(41520),r(16917),r(30372),r(84672),r(96253),r(99176),r(64157),r(35095),r(49892),r(27476),r(43533),r(68838),r(96409),r(40851),r(9865),r(83946),r(66108),r(98184),r(95767),r(79665),r(29539),r(96620),r(50191),r(62850),r(39115),r(41784),r(92770),r(98306),r(10823),r(17732),r(65869),r(94325),r(32564),r(84633),r(91181),r(35666);var n,i=r(97719),o=r(48926),a=r.n(o),s=r(21165),c=r.n(s),u=r(34575),l=r.n(u),p=r(93913),f=r.n(p),h=r(81506),d=r.n(h),v=r(2205),y=r.n(v),m=r(78585),g=r.n(m),b=r(29754),w=r.n(b),S=r(33124),O=r.n(S),E=(r(67268),r(27361)),k=r.n(E),_=r(87757),P=r.n(_),T=r(67294),D=r.n(T),x=r(49408),C=r(1607),A=r(36792),L=r(55622),N=r(66197),R=r(90926),I=r.n(R),j=r(40193),B=r(79072),V=r(63389),U=r(39307),M=r(53613),H=r(45273),Z=r(57186),z=r(57686),F=r(11838),G=r(43230),q=r(13890),K=r(24878),Y=r(22392),W=r(32129),$=r(38276),Q=r(87319),X=r(27604),J=r(57068),tt=r(83718),et=r(66525),rt=r(84160),nt=r(26974),it=r(78357),ot=r(46177),at=r(96521),st=r(64663),ct=r(93820),ut=r(82799),lt=r(90110),pt=r(26733),ft=r.n(pt);function ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w()(t);if(e){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var dt,vt=I()(ft())(n=(0,x.f3)((0,ct.O)({conditionListStore:ut.Z}))(n=(0,x.Pi)(n=function(t){y()(r,t);var e=ht(r);function r(){return l()(this,r),e.apply(this,arguments)}return f()(r,[{key:"render",value:function(){var t=this.props.conditionListStore.unpickedItems,e=this.props.onItemClicked;return D().createElement("div",{className:ft().unpickedContainer},t.map((function(t){return D().createElement("div",{className:ft().unpickedItem,key:t&&t.code,onClick:function(){return e(t)}},D().createElement("div",{className:ft().unpickedItemPlus})," ",t.label)})))}}]),r}(D().Component))||n)||n)||n,yt={AL_DATE:1055948,AL_TRAIN:1055949,AL_SEAT_TYPE:1055950,DEADLINE:1055947},mt=r(53319),gt=r.n(mt);function bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w()(t);if(e){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var wt,St,Ot=I()(gt())(dt=(0,x.f3)((0,ct.O)({conditionListStore:ut.Z}))(dt=(0,x.Pi)(dt=function(t){y()(r,t);var e=bt(r);function r(){return l()(this,r),e.apply(this,arguments)}return f()(r,[{key:"render",value:function(){var t=this.props.conditionListStore.pickedItems,e=this.props.onItemClicked;return D().createElement("div",null,t.map((function(t){var r;return D().createElement("div",{className:gt().pickedItem,"data-test":yt[t.condition.code],onClick:function(){return e(t.condition)},key:t.condition.code},D().createElement("div",{className:gt().pickedItemLabel},t.condition.label),D().createElement("div",{className:gt().pickedItemContent},null===(r=t.value)||void 0===r?void 0:r.map((function(t){return t.text})).join(", ")),D().createElement("div",{className:gt().pickedItemIcon},t.condition.comments))})))}}]),r}(D().Component))||dt)||dt)||dt,Et=r(27818),kt=r.n(Et);function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w()(t);if(e){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var Pt,Tt=I()(kt())(wt=(0,x.f3)((0,ct.O)({conditionList:ut.Z,assemblyPopupStore:lt.Z}))(wt=(0,x.Pi)((St=function(t){y()(r,t);var e=_t(r);function r(){return l()(this,r),e.apply(this,arguments)}return f()(r,[{key:"render",value:function(){return D().createElement(D().Fragment,null,D().createElement(st.ZP,{contents:[st.N_.MULTIPLE_TIP]}),D().createElement("div",{className:kt().container},D().createElement(Ot,{onItemClicked:this.onItemClicked}),D().createElement(vt,{onItemClicked:this.onItemClicked})))}},{key:"onItemClicked",value:function(t){var e;this.props.assemblyPopupStore.showPopup(t),e=t.code,(0,M.V)(yt[e])}}]),r}(D().Component),O()(St.prototype,"onItemClicked",[at.Z],Object.getOwnPropertyDescriptor(St.prototype,"onItemClicked"),St.prototype),wt=St))||wt)||wt)||wt;function Dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w()(t);if(e){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var xt=(0,x.f3)((0,ct.O)({assemblyStore:lt.Z}))(Pt=(0,x.Pi)(Pt=function(t){y()(r,t);var e=Dt(r);function r(){return l()(this,r),e.apply(this,arguments)}return f()(r,[{key:"render",value:function(){var t=this.props.assemblyStore.conditionStoreMap;return D().createElement(D().Fragment,null,Object.keys(t).filter((function(e){return!!t[e].ComponentClass})).map((function(e){var r=t[e].ComponentClass;return D().createElement(r,{key:e,visible:t[e].isVisible()})})))}}]),r}(D().Component))||Pt)||Pt,Ct=r(59713),At=r.n(Ct),Lt=r(94184),Nt=r.n(Lt),Rt=r(29404),It=r(22188),jt=r(75048),Bt=r(72781),Vt=r(30023),Ut=r(91942),Mt=r(54328),Ht=r(70435),Zt=r(92272);function zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w()(t);if(e){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var Ft,Gt,qt,Kt,Yt,Wt,$t,Qt,Xt,Jt,te,ee,re,ne,ie="/api/mayflower/crh/refresh_member_status",oe=function(t){y()(r,t);var e=zt(r);function r(){return l()(this,r),e.apply(this,arguments)}return f()(r,[{key:"refreshMemberStatus",value:function(){return this.asyncQuerypost({url:ie,risk:!0})}}]),r}(Zt.b);function ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w()(t);if(e){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var se,ce,ue,le,pe,fe="去登录",he="已开启",de="去检测",ve="检测中",ye="再次检测",me=(Ft=f()((function t(){l()(this,t),c()(this,"ifSupportCandidate",Gt,this),c()(this,"grabPrivilegeTag",qt,this)})),Gt=O()(Ft.prototype,"ifSupportCandidate",[It.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qt=O()(Ft.prototype,"grabPrivilegeTag",[It.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ft),ge=(Kt=(0,Ut.U)(Ht.Z),Yt=(0,Ut.U)(Bt.Z),Wt=It.aD.bound,$t=It.aD.bound,Qt=function(t){y()(n,t);var e,r=ae(n);function n(){var t;l()(this,n);for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return t=r.call.apply(r,[this].concat(i)),c()(t,"r12306LoginStore",Xt,d()(t)),c()(t,"configurationStore",Jt,d()(t)),c()(t,"vo",te,d()(t)),c()(t,"detecting",ee,d()(t)),c()(t,"detected",re,d()(t)),c()(t,"second",ne,d()(t)),t.getService=function(){return t.$service||(t.$service=new oe),t.$service},t}return f()(n,[{key:"showLoginBar",get:function(){return this.configurationStore.source!==Vt.Hx.DDJB_PUSH}},{key:"title",get:function(){return this.vo.ifSupportCandidate?"双通道抢票":"抢票方式"}},{key:"desc",get:function(){return this.configurationStore.is12306Member||!this.vo.isLogin?"开启后可大幅提高抢票成功率":"注册12306畅行会员后，可开启"}},{key:"isLogin",get:function(){return!!k()(this.r12306LoginStore,"vo.account",null)}},{key:"status",get:function(){return this.isLogin?this.configurationStore.is12306Member?he:this.detecting?ve:this.second>0?this.second+"s":this.detected?ye:de:fe}},{key:"countDown",value:function(){var t=this;this.second=60;var e=setInterval((function(){t.second--,0===t.second&&(clearInterval(e),t.detected=!0)}),1e3)}},{key:"onNextViewObject",value:function(t){t=t||{},(0,jt.w)(this.vo,t)}},{key:"queryMemberStatus",value:(e=a()(P().mark((function t(){var e,r;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.detecting=!0,t.next=3,this.getService().refreshMemberStatus();case 3:e=t.sent,r=k()(e,"crhMemberStatus"),this.detecting=!1,e.isApiError?(0,N.Z)("系统繁忙，请稍后再试!"):r?this.configurationStore.updateMemberStatus(!0):(0,rt.wp)({text:"检测到您当前不是12306畅行会员，请先前往12306注册成为畅行会员，再开启候补通道抢票。",okLabel:"查看注册方法",pureClose:!0,onOk:function(){(0,Rt.v_)(Rt._B.TCASHIER_MEMBER)}}),this.countDown();case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),n}(Mt.q),Xt=O()(Qt.prototype,"r12306LoginStore",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt=O()(Qt.prototype,"configurationStore",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=O()(Qt.prototype,"vo",[It.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new me}}),ee=O()(Qt.prototype,"detecting",[It.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),re=O()(Qt.prototype,"detected",[It.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ne=O()(Qt.prototype,"second",[It.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O()(Qt.prototype,"title",[It.Fl],Object.getOwnPropertyDescriptor(Qt.prototype,"title"),Qt.prototype),O()(Qt.prototype,"desc",[It.Fl],Object.getOwnPropertyDescriptor(Qt.prototype,"desc"),Qt.prototype),O()(Qt.prototype,"isLogin",[It.Fl],Object.getOwnPropertyDescriptor(Qt.prototype,"isLogin"),Qt.prototype),O()(Qt.prototype,"status",[It.Fl],Object.getOwnPropertyDescriptor(Qt.prototype,"status"),Qt.prototype),O()(Qt.prototype,"countDown",[Wt],Object.getOwnPropertyDescriptor(Qt.prototype,"countDown"),Qt.prototype),O()(Qt.prototype,"queryMemberStatus",[$t],Object.getOwnPropertyDescriptor(Qt.prototype,"queryMemberStatus"),Qt.prototype),Qt),be="oa6-O0tv",we="Ta84nFHX",Se="ANL2vWgt",Oe="ANjHt-k1",Ee="WGev-pzz",ke="CSdHqRXU",_e="D0DVZI08",Pe="sCV-rWvS",Te="dWmV8dma",De="ze4pNp9o",xe="aVG530ft",Ce="fwCPPEZ0",Ae="fIEDFP9Q",Le="LLpJ8QgP",Ne="u6qirfD6",Re="F7Rmz-aO";function Ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w()(t);if(e){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var je=(se=(0,x.f3)((0,ct.O)({alternateChannelStore:ge})),ce=(0,L.gH)(1878981,!0),se(ue=(0,x.Pi)((le=function(t){y()(r,t);var e=Ie(r);function r(){var t;l()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),c()(t,"viewProtocal",pe,d()(t)),t.goLogin=function(){(0,Rt.v_)(Rt._B.LOGIN_MANAGEMENT)},t.clickHandler=function(){var e=t.props.alternateChannelStore,r=e.status;e.second>0||r===ve||r===he||(r===fe?t.goLogin():r!==de&&r!==ye||t.props.alternateChannelStore.queryMemberStatus())},t}return f()(r,[{key:"render",value:function(){var t,e=this.props.alternateChannelStore.vo,r=e.ifSupportCandidate,n=e.grabPrivilegeTag,i=this.props.alternateChannelStore,o=i.title,a=i.desc,s=i.status,c=i.showLoginBar,u=Nt()(Ce,(t={},At()(t,Ae,s===he),At()(t,Le,s===fe),At()(t,Re,s===ve),At()(t,Ne,s===de||s===ye),t));return D().createElement("div",{className:be},D().createElement("div",{className:we},D().createElement("div",{className:Se},D().createElement("span",{className:Oe},o),n&&D().createElement("span",{className:Ee},n)),D().createElement("div",{className:ke,"data-test":"1878981",onClick:this.viewProtocal},"规则说明")),D().createElement("div",null,D().createElement("div",{className:_e},D().createElement("span",{className:Te}),D().createElement("span",{className:De},"实时抢票"),D().createElement("span",{className:xe},"实时监控余票，不间断抢票"),D().createElement("span",{className:Nt()(Ce,Ae)},"已开启")),r&&c&&D().createElement("div",{className:_e},D().createElement("span",{className:Pe}),D().createElement("span",{className:De},"官方候补"),D().createElement("span",{className:xe},a),D().createElement("span",{className:u,"data-test":"1878981-support-candidate",onClick:this.clickHandler},s))))}}]),r}(D().Component),pe=O()(le.prototype,"viewProtocal",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){var e=t.props.alternateChannelStore.vo.ifSupportCandidate;(0,Rt.v_)(Rt._B.TRAIN_RULE,{active_tab:"grab",anchor:e?"alternate":void 0})}}}),ue=le))||ue)||ue),Be=r(63038),Ve=r.n(Be),Ue=r(81325),Me=r(86807),He=r(21590),Ze=r(9714),ze=r(40755),Fe=r(24485);function Ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ge(Object(r),!0).forEach((function(e){At()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ke(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.passengers_vo,r=t.stop_time_enum,n=t.seat_type,i=t.train_no,o=t.start_station,a=t.end_station,s=t.depart_date,c=t.use_last_order_input,u=t.alter_seat_type_list,l=t.alter_depart_date_list,p=t.alter_train_no_list,f=t.alter_train_list;if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return e=e&&e.length>0?e:null,r=parseInt(r,10),u=u||[n],p=p||[i],f=f||[{train_no:i,start_station:o,end_station:a}],l=l||[s],qe(qe({},t),{},{use_last_order_input:c?1:0,passengers_vo:e,alter_seat_type_list:u,alter_depart_date_list:l,alter_train_no_list:p,alter_train_list:f,stop_time_enum:r>0?r:void 0})}function Ye(t){var e=t=t||{},r=e.parentOrderSn,n=e.orderSn,i=e.mallId,o=e.goodsId,a=e.goodsName,s=e.catId1,c=e.catId2,u=e.catId3;return qe({riskMap:{orderSn:r||n,mallId:i,goodsId:o,goodsName:a,bizType:e.bizType,orderAmount:e.orderAmount,cat_id_1:s,cat_id_2:c,cat_id_3:u}},t)}function We(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w()(t);if(e){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var $e,Qe,Xe,Je,tr,er,rr,nr,ir,or,ar="api/mayflower/pre/grab/get_pre_grab_info",sr="api/mayflower/train/query/dict/query_dict_config_info",cr="api/mayflower/grab/create",ur="api/mayflower/train/grab/get_train_list",lr="api/mayflower/crh/last_login_account",pr=function(t){y()(i,t);var e,r,n=We(i);function i(){return l()(this,i),n.apply(this,arguments)}return f()(i,[{key:"getPreGrabInfo",value:(r=a()(P().mark((function t(e){var r,n,i;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Ke(e),r=Date.now(),t.next=4,this.post({url:ar,params:e,risk:!0,customConfig:{skipCamelCaseResponse:!0,fallbackCSR:!0,needTimeoutRetry:!0,retry:3},defaultValue:{}});case 4:return n=t.sent,i=Date.now()-r,(0,Fe.e)(i,"get_pre_grab_info"),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"initConfigData",value:function(){return this.post({url:sr,risk:!0,customDataHandler:ze.S,defaultValue:{}})}},{key:"grabCreateOrder",value:(e=a()(P().mark((function t(e){var r;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.asyncQuerypost({url:cr,params:e,risk:!0,defaultValue:{}});case 2:return r=t.sent,t.abrupt("return",Ye(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"queryTrains",value:function(t){return this.post({url:ur,params:t,risk:!0,defaultValue:{}})}},{key:"getLastLoginAccount",value:function(){return this.asyncQuerypost({url:lr,risk:!0,defaultValue:{}})}}]),i}(Zt.b),fr=r(67825),hr=r(33611),dr=r(79052),vr=r(82192),yr=r(87896),mr=r(53777),gr=r(20944),br=r(46400),wr=r(45104),Sr=r(71900),Or=r(41859),Er=r(11947),kr=r(97775);function _r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_r(Object(r),!0).forEach((function(e){At()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Tr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w()(t);if(e){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var Dr,xr,Cr,Ar,Lr,Nr,Rr,Ir,jr,Br,Vr,Ur,Mr,Hr,Zr,zr=($e=(0,Ut.U)(vr.n),Qe=(0,Ut.U)(ut.Z),Xe=(0,Ut.U)(hr.x),Je=(0,Ut.U)(Bt.Z),tr=It.aD.bound,er=function(t){y()(i,t);var e,r,n=Tr(i);function i(){var t;l()(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),c()(t,"selectedPassengersStore",rr,d()(t)),c()(t,"conditionListStore",nr,d()(t)),c()(t,"couponSelectStore",ir,d()(t)),c()(t,"configurationStore",or,d()(t)),t}return f()(i,[{key:"$service",get:function(){return this.__$service=this.__$service||new pr,this.__$service}},{key:"doPageUpdate",value:(r=a()(P().mark((function t(e){var r,n,i,o,a,s,c=arguments;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.length>1&&void 0!==c[1]&&c[1],n=(null==e?void 0:e.source)||"",i=this.selectedPassengersStore.isDraftModified(),!r||i||n){t.next=5;break}return t.abrupt("return",!1);case 5:return t.next=7,this.doSubmitWithoutToast(e);case 7:if(o=t.sent,a=o.success,s=o.errorMsg,!a){t.next=12;break}return t.abrupt("return",{success:!0});case 12:return(0,kr.m)(n,this.doPageUpdate,s),t.abrupt("return",{success:!1});case 14:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"doSubmitWithoutToast",value:(e=a()(P().mark((function t(){var e,r,n,i,o,a,s,c,u,l,p,f,h=arguments;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h.length>0&&void 0!==h[0]?h[0]:{},s=(0,He.Yp)(He.$0.QUERY),c=(0,He.Pq)(this.selectedPassengersStore.draftOperations),u=Pr(Pr({},s),c),l=a.source,(null==a?void 0:a.source)===F.xi.UPDATE_PAGE?u=Ke(u):(u.alter_seat_type_list=this.conditionListStore.getSelectedSeats(),u.alter_train_no_list=this.conditionListStore.getSelectedTrainNos(),u.alter_train_list=this.conditionListStore.getSelectedTrains(),u.alter_depart_date_list=this.conditionListStore.getSelectedDates(),u.stop_time_enum=this.conditionListStore.getDeadline(),delete a.source),u.coupon_id=(null===(e=this.couponSelectStore)||void 0===e?void 0:e.selectedCouponId)||null,u.is_coupon_do_not_use=(null===(r=this.couponSelectStore)||void 0===r?void 0:r.isDoNotUse)||!1,Object.assign(u,a),null!==(n=u)&&void 0!==n&&n.alter_depart_date_list.includes(null)&&(0,Or.k)({stores:{getSelectedDates:this.conditionListStore.getSelectedDates(),objToReplace:a},subOp:"pre/reserve/get_pre_grab_info depart_dates null"}),t.next=12,this.$service.getPreGrabInfo(u);case 12:if(!(p=t.sent).isApiError){t.next=16;break}return f=F.I[l]||F.I.DEFAULT,t.abrupt("return",{success:!1,data:p,errorCode:p.errorCode,errorMsg:p.errorMsg||f});case 16:return null!==(i=this.couponSelectStore)&&void 0!==i&&null!==(o=i.vo)&&void 0!==o&&o.canShowCoupon&&p.if_coupon_failed&&p.coupon_fail_msg&&(0,rt.wp)({text:p.coupon_fail_msg,okLabel:"知道了"}),this.updateWholeStoresNew(p),this.selectedPassengersStore.setDraftModified(!1),t.abrupt("return",{success:!0});case 20:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),i}(Er.Z),rr=O()(er.prototype,"selectedPassengersStore",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nr=O()(er.prototype,"conditionListStore",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir=O()(er.prototype,"couponSelectStore",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),or=O()(er.prototype,"configurationStore",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O()(er.prototype,"doPageUpdate",[at.Z],Object.getOwnPropertyDescriptor(er.prototype,"doPageUpdate"),er.prototype),O()(er.prototype,"doSubmitWithoutToast",[tr],Object.getOwnPropertyDescriptor(er.prototype,"doSubmitWithoutToast"),er.prototype),er),Fr=r(96237),Gr=r(51941),qr=r(82469),Kr=r(521),Yr=r(53527),Wr=r(71274),$r=r(80109),Qr=r(91907),Xr=r(1519),Jr=r(59438),tn=r(80837);function en(t,e,r){var n=[t];return(e=e||[]).forEach((function(e){r?!r(t,e)&&n.push(e):t!==e&&n.push(e)})),n}function rn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rn(Object(r),!0).forEach((function(e){At()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function on(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w()(t);if(e){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var an=(Dr=(0,Ut.U)(fr.s),xr=(0,Ut.U)(vr.n),Cr=(0,Ut.U)(dr.Z),Ar=(0,Ut.U)(Ht.Z),Lr=(0,Ut.U)(ut.Z),Nr=(0,Ut.U)(hr.x),Rr=(0,Ut.U)(yr.J),Ir=function(t){y()(r,t);var e=on(r);function r(){var t;l()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),c()(t,"bookingSummaryStore",jr,d()(t)),c()(t,"selectedPassengersStore",Br,d()(t)),c()(t,"telephoneInputStore",Vr,d()(t)),c()(t,"r12306LoginStore",Ur,d()(t)),c()(t,"conditionListStore",Mr,d()(t)),c()(t,"couponSelectStore",Hr,d()(t)),c()(t,"pickListPopupStore",Zr,d()(t)),t}return f()(r,[{key:"verifyAndComputeParams",value:function(){var t,e,r,n,i,o,a,s,c,u=null===(t=this.r12306LoginStore)||void 0===t||null===(e=t.vo)||void 0===e?void 0:e.account,l=this.bookingSummaryStore.vo,p=l.seatType,f=l.startStation,h=l.endStation,d=l.trainNo,v=l.departTime,y=l.arrivalTime,m=l.ticketPrice,g=l.departDate,b=(0,$r.bt)({passengers:null!==(r=null===(n=this.selectedPassengersStore)||void 0===n||null===(i=n.vo)||void 0===i?void 0:i.passengers)&&void 0!==r?r:[],seatType:p,ticketPrice:m}),w=(s=this.conditionListStore.getFormItem(Wr.Uy.AL_TRAIN),c=[],(s||[]).forEach((function(t){t&&c.push({train_no:t.trainNo,arrive_time:t.arrivalTime,depart_time:t.departTime,start_station:t.startStation,end_station:t.endStation})})),c),S=en(+p,this.conditionListStore.getSelectedSeats()),O=en(+g,this.conditionListStore.getSelectedDates(),(function(t,e){return tn.$.dateStartTime(t)===tn.$.dateStartTime(e)})),E=(0,Qr.FY)((0,Xr.y)({passengers:b,errorHandler:this.pickListPopupStore.showPopup}),(0,Jr.gG)({mobile:this.telephoneInputStore.mobile,errorHandler:this.telephoneInputStore.focusInput}),(0,Xr.D)({deadline:this.conditionListStore.getDeadline()}))||{};if(E.err)return{success:!1,error:E};var k=(0,He.Yp)(He.$0.GRAB_CREATE),_=null!==(o=null===(a=this.couponSelectStore)||void 0===a?void 0:a.selectedCouponId)&&void 0!==o?o:null;return{success:!0,params:nn(nn({},k),{},{seat_type:+p,seat_types:S,limit_time:this.conditionListStore.getDeadline(),start_station:f,end_station:h,depart_time:v,crh_user_name:u,train_no:d,train_infos:w,mobile:this.telephoneInputStore.mobile,depart_date:+g,depart_dates:O,arrival_time:y,passengers:b,coupon_id:_,page_id:(0,Yr.e6)()})}}}]),r}(Mt.q),jr=O()(Ir.prototype,"bookingSummaryStore",[Dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Br=O()(Ir.prototype,"selectedPassengersStore",[xr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vr=O()(Ir.prototype,"telephoneInputStore",[Cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ur=O()(Ir.prototype,"r12306LoginStore",[Ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mr=O()(Ir.prototype,"conditionListStore",[Lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hr=O()(Ir.prototype,"couponSelectStore",[Nr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zr=O()(Ir.prototype,"pickListPopupStore",[Rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O()(Ir.prototype,"verifyAndComputeParams",[at.Z],Object.getOwnPropertyDescriptor(Ir.prototype,"verifyAndComputeParams"),Ir.prototype),Ir);function sn(t){var e=t.balanceDetail,r=t.createOrderFunc,n=e.filterStartStation,i=e.filterEndStation,o=e.departDate,a=e.departDateShow,s=e.trainNo,c=e.seatType,u=e.startStation,l=e.endStation;(0,rt.i0)({text:"".concat(a).concat(s,"车次余票充足，直接购票成功率更高"),okLabel:"前往购票",cancelLabel:"继续抢票",onOk:function(){(0,Rt.v_)(Rt._B.TCASHIER,{departDate:o,seatType:c,trainNo:s,startStation:u,endStation:l,filterStartStation:n,filterEndStation:i,_tc_source:"balance_alert"})},onCancel:function(){r()},pureClose:!0})}var cn,un,ln,pn,fn,hn,dn,vn,yn,mn,gn,bn,wn,Sn,On=r(12045),En=function(t,e,r){(0,On.ax)({page_el_sn:1613333,travel_sn:t,order_sn:e,if_support_candidate:r?1:0})};function kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w()(t);if(e){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var _n=0,Pn=(cn=(0,Ut.U)(an),un=(0,Ut.U)(yr.J),ln=(0,Ut.U)(vr.n),pn=(0,Ut.U)(ge),fn=(0,Ut.U)(mr.Z),hn=It.aD.bound,dn=It.aD.bound,vn=It.aD.bound,yn=function(t){y()(i,t);var e,r,n=kn(i);function i(){var t;l()(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),c()(t,"validateFormStore",mn,d()(t)),c()(t,"pickListPopupStore",gn,d()(t)),c()(t,"selectedPassengersStore",bn,d()(t)),c()(t,"alternateChannelStore",wn,d()(t)),c()(t,"loginPopupStore",Sn,d()(t)),t.orderParams=null,t.doCreateReserve=a()(P().mark((function e(){var r,n,i,o,a,s,c,u;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.validateFormStore.verifyAndComputeParams(),n=r.success,i=r.params,o=r.error,n){e.next=5;break}return(0,N.Z)(o.err),o.errorHandler&&o.errorHandler(),e.abrupt("return");case 5:if(t.payBtnStatus!==Gr.yD.PAYING){e.next=7;break}return e.abrupt("return");case 7:if(_n||!t.checkNeedIncludeStudent()){e.next=10;break}return(0,rt.i0)({text:"您还未添加学生乘客，是否修改乘客？",cancelLabel:"去修改",okLabel:"继续抢票",onOk:function(){return t.payButtonClickHandler(i)},onCancel:t.pickListPopupStore.showPopup,pureClose:!0}),e.abrupt("return");case 10:if(a=t.checkStudentTicketValid(),s=a.isNotValidDate,c=a.isNotValidSeat,u=a.confirmText,!s&&!c){e.next=14;break}return(0,rt.i0)({text:u,cancelLabel:"取消",okLabel:"购买成人票",onOk:t.selectedPassengersStore.transStudentToAdult}),e.abrupt("return");case 14:return t.setPayBtnStatus(Gr.yD.PAYING),e.prev=15,e.next=18,t.payButtonClickHandler(i);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(15),(0,Fr.e)({errorMsg:"traingrab_payButtonClick_error",error:e.t0});case 23:t.setPayBtnStatus(Gr.yD.DEFAULT);case 24:case"end":return e.stop()}}),e,null,[[15,20]])}))),t}return f()(i,[{key:"showLoginPopHandler",value:(r=a()(P().mark((function t(){var e,r,n,i,o,a;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.rootService.getLastLoginAccount();case 2:if(r=t.sent,n=r.account,o=(i=n||{}).loginStatus,a=i.trainAccountName,o!==qr.uw.LOGIN){t.next=7;break}return t.abrupt("return",!1);case 7:return null===(e=this.loginPopupStore)||void 0===e||e.openLoginPop(a,this.payButtonClickHandler,this.validateFormStore.verifyAndComputeParams),(0,tt.v)(),t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"payButtonClickHandler",value:(e=a()(P().mark((function t(e){var r,n,i,o,a,s,c,u,l,p,f=this;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=k()(this.alternateChannelStore,"vo.ifSupportCandidate"),this.rootService=this.getRootService(),e.isForceCreate=_n,(0,tt.y)(),t.next=6,this.showLoginPopHandler();case 6:if(!t.sent){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,this.rootService.grabCreateOrder(e);case 11:if(n=t.sent,(0,tt.v)(),!(0,U.is)(n)){t.next=17;break}return t.next=16,this.handleApiError(n,(function(){return f.payButtonClickHandler(e)}));case 16:return t.abrupt("return");case 17:if(i=n.parentOrderSn,o=n.orderSn,a=n.parentTravelSn,s=n.hasTicketDetail,c=n.orderAmount,u=n.supportGrabPostPay,l=n.riskMap,p=n.duoduoAdditional,En(a,i||o,r),s&&!_n&&(_n=1,sn({balanceDetail:s,createOrderFunc:this.onPayBtnClick})),this.orderParams=null,(i||o)&&(this.orderParams={orderSn:i||o,isBatchPay:!!i,parentTravelSn:a,supportGrabPostPay:u,orderAmount:c||this.vo.orderAmount,riskMap:l,duoduoAdditional:p}),!this.orderParams){t.next=25;break}return t.next=25,this.showPaymentPopup(this.orderParams);case 25:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"onPayBtnClick",value:function(){this.orderParams?this.showPaymentPopup(this.orderParams):this.payBtnStatus!==Gr.yD.PAYING&&this.doCreateReserve()}}]),i}(Kr.K),mn=O()(yn.prototype,"validateFormStore",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn=O()(yn.prototype,"pickListPopupStore",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bn=O()(yn.prototype,"selectedPassengersStore",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wn=O()(yn.prototype,"alternateChannelStore",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn=O()(yn.prototype,"loginPopupStore",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O()(yn.prototype,"showLoginPopHandler",[hn],Object.getOwnPropertyDescriptor(yn.prototype,"showLoginPopHandler"),yn.prototype),O()(yn.prototype,"payButtonClickHandler",[dn],Object.getOwnPropertyDescriptor(yn.prototype,"payButtonClickHandler"),yn.prototype),O()(yn.prototype,"onPayBtnClick",[vn],Object.getOwnPropertyDescriptor(yn.prototype,"onPayBtnClick"),yn.prototype),yn),Tn=r(77841);var Dn=r(19335),xn=r(99510),Cn=r(28444),An=r(24538);var Ln=r(26372);var Nn=r(80267);function Rn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var In,jn,Bn,Vn,Un={bookingSummary:{clazz:fr.s,viewObjectMapper:function(t){var e=k()(t,"initData.train_detail_vo")||{},r=k()(t,"initData.support_seat_type_list")||[],n=k()(t,"initData.grab_stop_time_enum.enum_volist"),i=new fr.o;return Object.assign(i,{startStation:e.start_station||"出发未知",endStation:e.end_station||"终点未知",trainNo:e.train_no||"--",departDate:+e.depart_date_timestamp,departDateShow:e.depart_date_show||"--",departTimeShow:e.depart_time_show,departTime:+e.depart_time_timestamp,arrivalDateShow:e.arrival_date_show||"--",arrivalDate:e.arrival_date,arrivalTimeShow:e.arrival_time_show,arrivalTime:+e.arrival_time_timestamp,seat:e.seat||"座席信息未知",seatType:e.seat_type||0,dateTag:e.date_tag,unitAmount:e.unit_amount||"0",ticketPrice:e.ticket_price||0,duration:e.duration||"时长未知",supportSeats:r,useIdCardIn:null==e?void 0:e.use_id_card_in,deadlineList:(n||[]).filter((function(t){return t.supportable>0})).map((function(t){return Tn.J6.fromVal({id:t.id,text:t.desc})}))}),i}},selectedPassengers:{clazz:vr.n,viewObjectMapper:function(t){var e=k()(t,"initData.passengers_vo"),r=new vr.j;return Array.isArray(e)?(e.forEach((function(t){t&&r.passengers.push((0,Ln.ZV)(t))})),r):r}},configuration:{clazz:Bt.Z,viewObjectMapper:function(t){var e=k()(t,"updateExtraData.configData")||{},r=k()(t,"initData.condition_vo")||{},n=(k()(t,"initData.train_detail_vo.depart_time_timestamp")||{})>e.endDepartDate,i=k()(t,"updateExtraData.grayMap.loginGray")||!1;return{transacType:Gr.iU.GRAB,configData:e,detainMessage:k()(t,"initData.detain_msg",null),is12306Member:!!k()(t,"initData.r12306_vo.crh_member_status",0),departDateTimes:r.alter_depart_dates_timestamp||[],endDateTimes:r.alter_arrival_date_timestamp||[],seatTypes:(r.alter_seat_types||[]).map((function(t){return t.seat_type})),showRemindPop:!!k()(t,"initData.if_show_remind_retain")||!1,isReserveTrain:n,loginGray:i}}},pickListPopup:{clazz:yr.J,virtual:!0},telephoneInput:{clazz:dr.Z,viewObjectMapper:function(t){return k()(t,"initData.mobile")||""}},couponSelectStore:{clazz:hr.x,viewObjectMapper:function(t){var e,r=(null==t||null===(e=t.initData)||void 0===e?void 0:e.coupons)||[],n=k()(t,"initData.price_list")||[];return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rn(Object(r),!0).forEach((function(e){At()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({discountPriceShow:(0,Dn.VB)(n,An.g.DISCOUNT,!0)},(0,Nn.j)(r))}},paymentBottomBar:{clazz:Pn,viewObjectMapper:function(t){var e=k()(t,"initData.grab_checkout_vo"),r=k()(t,"initData.train_detail_vo"),n=k()(t,"initData.price_list")||[],i=(0,Dn.VB)(n,An.g.DISCOUNT)+(0,Dn.VB)(n,An.g.GARP_DISCOUNT),o=k()(t,"initData.condition_vo.alter_seat_types")||[],a=k()(t,"initData.passengers_vo")||[],s=(0,xn.o5)(a),c=(0,xn.d_)(a),u=k()(t,"initData.has_grab_privilege")?k()(t,"initData.grab_privilege"):{},l=a.find((function(t){return t.user_type_code===Cn.SS.STUDENT})),p=(0,Dn.$D)(n,!1);if(e){var f=new Kr.y;return Object.assign(f,{orderAmount:e.book_amount,totalPrice:e.book_amount_show||"--",payLabel:(null==u?void 0:u.booking_text)||"立即抢票",btnIcon:(null==u?void 0:u.booking_icon)||"",showSR:!0,successRate:e.success_rate_show||"--",discountText:i>0?"已减".concat((0,Dn.T4)(i),"元"):"",alterSeatTypes:o,hasChildTicket:s>0,hasStudentTicket:c>0,hasStudentPassenger:!!l,priceDetailList:(0,xn.$r)(a,p)?[]:p,startStation:r.start_station,endStation:r.end_station,currentCrhName:k()(t,"initData.r12306_vo.account",null)}),f}return null}},r12306Login:{clazz:Ht.Z,viewObjectMapper:function(t){var e=new Ht.l;return Object.assign(e,{account:k()(t,"initData.r12306_vo.account",null),ifSupportCandidate:!!k()(t,"initData.if_support_candidate")}),e}},validateForm:{clazz:an,virtual:!0},conditionsList:{clazz:ut.Z,viewObjectMapper:function(t){var e,r=k()(t,"initData.condition_vo"),n=[],i=k()(r,"alter_depart_dates_show")||[],o=k()(r,"alter_depart_dates_timestamp")||[];if(i.length!==o.length)throw new Error("alter_date_unmatched");i.forEach((function(t,e){n.push(Tn.cx.fromVal({ts:+o[e],text:t}))}));var a=(k()(r,"alter_train_volist")||[]).map((function(t){return Tn.GY.fromVal({trainNo:t.train_no,arrivalTime:t.arrival_time,departTime:t.depart_time,endStation:t.end_station,startStation:t.start_station,priceList:(t.price_list||[]).map((function(t){return(0,Ln.ZV)(t)})),trainTime:t.train_time})}));return e={},At()(e,Wr.Uy.AL_DATE.code,n),At()(e,Wr.Uy.AL_SEAT_TYPE.code,(k()(r,"alter_seat_types")||[]).map((function(t){return Tn.vD.fromVal({id:+t.seat_type,text:t.seat_type_show})}))),At()(e,Wr.Uy.AL_TRAIN.code,a),At()(e,Wr.Uy.DEADLINE.code,k()(r,"deadline")?[Tn.J6.fromVal({id:+k()(r,"deadline"),text:k()(r,"deadline_show")})]:[]),e}},assemblyPopup:{clazz:lt.Z,virtual:!0},datePopup:{clazz:gr.Z,virtual:!0},trainPopup:{clazz:br.Z,virtual:!0},deadlinePopup:{clazz:wr.Z,virtual:!0},seatTypePopup:{clazz:Sr.Z,virtual:!0},updateStore:{clazz:zr,virtual:!0},alternateChannelStore:{clazz:ge,viewObjectMapper:function(t){var e,r=new me;return Object.assign(r,{ifSupportCandidate:!!k()(t,"initData.if_support_candidate"),grabPrivilegeTag:k()(t,"initData.has_grab_privilege")&&(null===(e=k()(t,"initData.grab_privilege"))||void 0===e?void 0:e.desc_text)||""}),r}},loginPopupStore:{clazz:mr.Z,virtual:!0}};function Mn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w()(t);if(e){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var Hn,Zn,zn,Fn,Gn,qn,Kn,Yn=(0,Ue.G)(Un)((jn=function(t){y()(r,t);var e=Mn(r);function r(){var t;l()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),c()(t,"isApiError",Bn,d()(t)),c()(t,"bizError",Vn,d()(t)),t.updateExtraData={},t.getExtraData=function(){return t.updateExtraData},t.initGrayMap=function(t){return{loginGray:(0,Ze.KQ)("loginTextGray",t)||!1}},t.setupModel=function(){var e=a()(P().mark((function e(r){var n,i,o,a,s,c,u;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.query,i=t.initGrayMap(r),(o=(0,He.Yp)(He.$0.QUERY,n)||{}).use_last_order_input=!0,e.next=6,Promise.all([t.$service.getPreGrabInfo(o),t.$service.initConfigData()]);case 6:if(a=e.sent,s=Ve()(a,2),c=s[0],u=s[1],!c.isApiError){e.next=13;break}return t.isApiError=c.isApiError,e.abrupt("return");case 13:t.updateExtraData={grayMap:i,configData:u},t.bizError=c.error_payload_vo,Object.defineProperty(d()(t),"initData",{value:c});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return f()(r,[{key:"initServices",value:function(t){this.$service=new pr(t)}},{key:"getDatasource",value:function(){return[this.setupModel]}}]),r}(Me.w),Bn=O()(jn.prototype,"isApiError",[It.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vn=O()(jn.prototype,"bizError",[It.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),In=jn))||In,Wn=r(75277),$n=r.n(Wn);function Qn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w()(t);if(e){var i=w()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var Xn=(Hn=(0,j.r)(Yn,{serverTemplateName:"tcashier_train_grab",requireLogin:!0,title:"抢火车票",fallbackCSR:!0,bootstrapOptions:{disablePullReload:!0,pageProperty:{pageSN:27617,pageName:"tcashier_train_grab",pv:{keys:["source","_tp_order_source"]},native:{disablepullreload:!0}}}}),Zn=I()($n()),zn=(0,x.f3)("store"),Fn=(0,L.gH)("1847643"),Hn(Gn=Zn(Gn=zn(Gn=(0,x.Pi)((qn=function(t){y()(n,t);var e,r=Qn(n);function n(){var t;l()(this,n);for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={containerStyle:$n().container,showRemindPop:!1},t.setRemindPopup=function(){B.ZP.isNativePlatform&&(0,A.z2)({callback:function(){t.setState({showRemindPop:!0})}})},c()(t,"onBack",Kn,d()(t)),t}return f()(n,[{key:"verifyWebviewBackHandler",value:function(){var t=k()(this.props,"store.pickListPopup")||{},e=t.fetchLoginAndPassengers,r=t.initPopup;e&&e(),r&&r()}},{key:"loginWebviewBackHandler",value:(e=a()(P().mark((function t(){var e;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=k()(this.props.store,"updateStore.doPageUpdate"),(0,tt.y)(),t.t0=e,!t.t0){t.next=6;break}return t.next=6,e({source:F.xi.LOGIN_MANAGEMENT});case 6:(0,tt.v)();case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"remindParams",get:function(){var t=(0,z.ZS)(),e=k()(this.props.store,"configuration.isReserveTrain");return{onConfirm:this.onBack,onClose:this.onBack,trainInfo:k()(this.props.store,"bookingSummary.trainData"),seatType:parseInt(t.seat_type),remindType:e?nt.l.SALE:nt.l.TICKET,remindLevel:e?nt.p.TRAIN:nt.p.SEAT,isRetain:!0}}},{key:"componentDidMount",value:function(){var t=this;(0,B.bl)()?this.setState({containerStyle:$n().containerFixIos10}):B.ZP.isNativePlatform||this.setState({containerStyle:$n().containerNonApp});var e=this.props.store,r=e.bizError,n=e.isApiError,i=e.updateStore;if(n)(0,rt.wp)({text:ot.p.TITLE,okLabel:ot.p.BTNTXT,onOk:function(){return i.doPageUpdate({source:F.xi.UPDATE_PAGE})},pureClose:!0});else{r&&(0,U.ZP)(r);var o=k()(this.props.store,"configuration.detainMessage"),s=k()(this.props.store,"configuration.showRemindPop");!s&&o&&(0,V.Z)({text:o,onOk:(0,M.V)("1847642"),onCancel:this.onBack}),s&&this.setRemindPopup(),(0,Z.JE)(),(0,H.Z)(a()(P().mark((function e(){var r,n,i,o=arguments;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>0&&void 0!==o[0]?o[0]:{},r=(0,H.k)(r),(n=(r.props||{})[F.jZ]||0)===F.iV.PAGE&&t.loginWebviewBackHandler(),n!==F.iV.TOAST){e.next=9;break}return i=(r.props||{})[F.N$]||"",e.next=8,t.loginWebviewBackHandler();case 8:i&&(0,N.Z)(i);case 9:n===F.iV.PASSENGER&&t.verifyWebviewBackHandler();case 10:case"end":return e.stop()}}),e)}))))}}},{key:"render",value:function(){var t=this.props.store.updateExtraData.configData,e=void 0===t?{}:t;return D().createElement(J.Z,null,D().createElement("div",{className:this.state.containerStyle},D().createElement(G.Z,null),D().createElement(Tt,null),null!=e&&e.hideLogin?null:D().createElement(D().Fragment,null,D().createElement(je,null),D().createElement(W.Z,null)),D().createElement(Q._,null),D().createElement($.Z,null),D().createElement(q.Z,null),D().createElement(Y.Z,null),D().createElement(K.ZP,null),D().createElement(et.Z,null),D().createElement(X.Z,null),D().createElement(xt,null),this.state.showRemindPop&&D().createElement(it.Z,this.remindParams)))}}]),n}(D().Component),Kn=O()(qn.prototype,"onBack",[Fn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){C.ZP.back()}}}),Gn=qn))||Gn)||Gn)||Gn)||Gn);(0,i.Z)(Xn,Xn.appConfig.bootstrapOptions)},36541:function(t,e,r){"use strict";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.trainNo===e.trainNo&&t.startStation===e.startStation&&t.endStation===e.endStation}r.d(e,{o:function(){return n}})},93607:function(t,e,r){"use strict";r.d(e,{e:function(){return p},Q:function(){return f}});var n=r(59713),i=r.n(n),o=r(57686),a=r(80837),s=r(77841),c=r(36541);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e){return e=e||[],(t||[]).map((function(t,e){return s.GY.fromVal(l(l({},t),{},{idx:e,arrivalTime:t.eta,departTime:t.etd}))})).sort((function(t,r){var n=e.find((function(e){return(0,c.o)(t,e)})),i=e.find((function(t){return(0,c.o)(r,t)}));return n&&!i?-1:!n&&i?1:t.idx-r.idx}))}function f(t){var e=t.primaryTrain,r=t.selectedDateList,n=t.selectedTrainList,i=t.needTrainNoList,s=e.departDate,c=e.startStation,u=e.endStation,l=[],p=[],f=[a.$.dateStartTime(+s)];return n.forEach((function(t){var e=t.trainNo,r=t.startStation,n=t.endStation;l.includes(e)||l.push(e),p.push({trainNo:e,startStation:r,endStation:n})})),r.forEach((function(t){var e=a.$.dateStartTime(t);f.includes(e)||f.push(e)})),{startStation:c,endStation:u,departDateList:f,trainNoList:i?l:void 0,trainList:i?p:void 0,filterStartStation:(0,o.XX)("filter_start_station"),filterEndStation:(0,o.XX)("filter_end_station")}}},77841:function(t,e,r){"use strict";r.d(e,{cx:function(){return s},vD:function(){return c},J6:function(){return u},GY:function(){return l}});var n=r(34575),i=r.n(n),o=r(93913),a=r.n(o),s=function(){function t(){i()(this,t),this.text=null,this.ts=null}return a()(t,null,[{key:"fromVal",value:function(e){var r=e.ts,n=e.text;return Object.assign(new t,{ts:r,text:n})}}]),t}(),c=function(){function t(){i()(this,t),this.id=null,this.text=null,this.price=0}return a()(t,null,[{key:"fromVal",value:function(e){var r=e.id,n=e.text,i=e.price;return Object.assign(new t,{id:r,text:n,price:i})}}]),t}(),u=function(){function t(){i()(this,t),this.id=null,this.text=null}return a()(t,null,[{key:"fromVal",value:function(e){var r=e.id,n=e.text;return Object.assign(new t,{id:r,text:n})}}]),t}(),l=function(){function t(){i()(this,t),this.idx=null,this.trainNo=null,this.text=null,this.departTime=null,this.arrivalTime=null,this.endStation=null,this.startStation=null,this.trainTime=null,this.priceList=[]}return a()(t,null,[{key:"fromVal",value:function(e){var r=e.idx,n=e.trainNo,i=e.departTime,o=e.arrivalTime,a=e.endStation,s=e.startStation,c=e.trainTime,u=e.priceList;return Object.assign(new t,{text:n,trainNo:n,departTime:i,arrivalTime:o,endStation:a,startStation:s,trainTime:c,idx:r,priceList:u||[]})}}]),t}()},82799:function(t,e,r){"use strict";r.d(e,{Z:function(){return C}});var n,i,o,a=r(21165),s=r.n(a),c=r(34575),u=r.n(c),l=r(93913),p=r.n(l),f=r(81506),h=r.n(f),d=r(2205),v=r.n(d),y=r(78585),m=r.n(y),g=r(29754),b=r.n(g),w=r(33124),S=r.n(w),O=(r(67268),r(27361)),E=r.n(O),k=r(66678),_=r.n(k),P=r(22188),T=r(54328),D=r(71274);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b()(t);if(e){var i=b()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m()(this,r)}}var C=(n=P.aD.bound,i=function(t){v()(r,t);var e=x(r);function r(){var t;u()(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),s()(t,"formItems",o,h()(t)),t.getFormItem=function(e){return t.formItems[e.code]||[]},t.getSelectedTrainNos=function(){return(t.formItems[D.Uy.AL_TRAIN.code]||[]).filter((function(t){return t&&t.trainNo})).map((function(t){return t.trainNo}))},t.getSelectedTrains=function(){return(t.formItems[D.Uy.AL_TRAIN.code]||[]).filter((function(t){return t&&t.trainNo})).map((function(t){return{trainNo:t.trainNo,startStation:t.startStation,endStation:t.endStation}}))},t.getSelectedDates=function(){return(t.formItems[D.Uy.AL_DATE.code]||[]).filter((function(t){return t&&t.ts})).map((function(t){return+t.ts}))},t.getSelectedSeats=function(){return(t.formItems[D.Uy.AL_SEAT_TYPE.code]||[]).filter((function(t){return t&&t.id>=0})).map((function(t){return+t.id}))},t.getDeadline=function(){return+E()(t.formItems[D.Uy.DEADLINE.code],"[0].id")},t}return p()(r,[{key:"replaceFormItem",value:function(t,e){var r=_()(this.formItems);r[t.code]=e,this.formItems=r}},{key:"onNextViewObject",value:function(t){this.formItems=t}},{key:"pickedItems",get:function(){var t=this,e=[];return D.ay.forEach((function(r){var n=t.formItems[r.code];(n&&n.length||r.foreverVisible)&&e.push({condition:r,value:n||[]})})),e}},{key:"unpickedItems",get:function(){var t=this,e=[];return D.ay.forEach((function(r){var n=t.formItems[r.code];n&&!(n.length<=0)||r.foreverVisible||e.push(r)})),e}}]),r}(T.q),o=S()(i.prototype,"formItems",[P.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),S()(i.prototype,"replaceFormItem",[n],Object.getOwnPropertyDescriptor(i.prototype,"replaceFormItem"),i.prototype),S()(i.prototype,"pickedItems",[P.Fl],Object.getOwnPropertyDescriptor(i.prototype,"pickedItems"),i.prototype),S()(i.prototype,"unpickedItems",[P.Fl],Object.getOwnPropertyDescriptor(i.prototype,"unpickedItems"),i.prototype),i)},90110:function(t,e,r){"use strict";r.d(e,{Z:function(){return M}});var n,i,o,a,s,c,u,l,p,f,h=r(59713),d=r.n(h),v=r(21165),y=r.n(v),m=r(34575),g=r.n(m),b=r(93913),w=r.n(b),S=r(81506),O=r.n(S),E=r(2205),k=r.n(E),_=r(78585),P=r.n(_),T=r(29754),D=r.n(T),x=r(33124),C=r.n(x),A=(r(67268),r(22188)),L=r(91942),N=r(54328),R=r(71274),I=r(20944),j=r(71900),B=r(45104),V=r(46400);function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=D()(t);if(e){var i=D()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return P()(this,r)}}var M=(n=(0,L.U)(I.Z),i=(0,L.U)(j.Z),o=(0,L.U)(B.Z),a=(0,L.U)(V.Z),s=A.aD.bound,c=function(t){k()(r,t);var e=U(r);function r(){var t;g()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),y()(t,"datePopupStore",u,O()(t)),y()(t,"seatTypePopupStore",l,O()(t)),y()(t,"deadlinePopupStore",p,O()(t)),y()(t,"trainPopupStore",f,O()(t)),t}return w()(r,[{key:"showPopup",value:function(t){t=t||{};var e=this.conditionStoreMap[t.code];e&&e.showPopup&&e.showPopup()}},{key:"conditionStoreMap",get:function(){var t;return t={},d()(t,R.Uy.AL_DATE.code,this.datePopupStore),d()(t,R.Uy.AL_SEAT_TYPE.code,this.seatTypePopupStore),d()(t,R.Uy.AL_TRAIN.code,this.trainPopupStore),d()(t,R.Uy.DEADLINE.code,this.deadlinePopupStore),t}}]),r}(N.q),u=C()(c.prototype,"datePopupStore",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=C()(c.prototype,"seatTypePopupStore",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=C()(c.prototype,"deadlinePopupStore",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=C()(c.prototype,"trainPopupStore",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C()(c.prototype,"showPopup",[s],Object.getOwnPropertyDescriptor(c.prototype,"showPopup"),c.prototype),C()(c.prototype,"conditionStoreMap",[A.Fl],Object.getOwnPropertyDescriptor(c.prototype,"conditionStoreMap"),c.prototype),c)},20944:function(t,e,r){"use strict";r.d(e,{Z:function(){return $}});var n,i,o,a,s,c,u,l,p,f,h,d,v,y=r(48926),m=r.n(y),g=r(21165),b=r.n(g),w=r(34575),S=r.n(w),O=r(93913),E=r.n(O),k=r(81506),_=r.n(k),P=r(2205),T=r.n(P),D=r(78585),x=r.n(D),C=r(29754),A=r.n(C),L=r(33124),N=r.n(L),R=(r(67268),r(27361)),I=r.n(R),j=r(87757),B=r.n(j),V=r(22188),U=r(96521),M=r(91942),H=r(71274),Z=r(80837),z=r(79708),F=r(67825),G=r(86264),q=r(72781),K=r(82799),Y=r(77841);function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=A()(t);if(e){var i=A()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return x()(this,r)}}var $=(n=(0,M.U)(K.Z),i=(0,M.U)(F.s),o=(0,M.U)(q.Z),a=V.aD.bound,s=V.aD.bound,c=function(t){T()(i,t);var e,n=W(i);function i(){var t;S()(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),b()(t,"selectedDates",u,_()(t)),b()(t,"firstDay",l,_()(t)),b()(t,"lastDay",p,_()(t)),b()(t,"lastBookingDay",f,_()(t)),b()(t,"conditionListStore",h,_()(t)),b()(t,"bookingSummaryStore",d,_()(t)),b()(t,"configurationStore",v,_()(t)),t}return E()(i,[{key:"importFunc",value:function(){return r.e(6754).then(r.bind(r,36308))}},{key:"fetchPromise",value:(e=m()(B().mark((function t(){var e,r,n,i;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.selectedDates=this.conditionListStore.getFormItem(H.Uy.AL_DATE).slice(),e=Z.$.buyDate(),r=e.start,n=e.end,i=e.book,this.firstDay=I()(this.configurationStore,"configData.startDepartDate")||r,this.lastDay=I()(this.configurationStore,"configData.endDepartDate")||n,this.lastBookingDay=I()(this.configurationStore,"configData.endBookDate")||i;case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"clearAll",value:function(){this.selecteDates=[]}},{key:"selecteDate",value:function(t){var e=Y.cx.fromVal({ts:t.ts,text:t.text}),r=this.selectedDates.findIndex((function(t){return t&&Z.$.dateStartTime(t.ts)===Z.$.dateStartTime(e.ts)})),n=document.getElementById("datePop");r>=0?this.canDeselect(this.selectedDates[r].ts)?this.selectedDates.splice(r,1):(0,G.Z)({msg:"该日期已选定",root:n}):this.selectedDates.length>=5?(0,G.Z)({msg:"最多可选择5天",root:n}):this.selectedDates.push(e)}},{key:"canDeselect",value:function(t){return Z.$.dateStartTime(+this.bookingSummaryStore.vo.departDate)!==Z.$.dateStartTime(t)}}]),i}(z.Z),u=N()(c.prototype,"selectedDates",[V.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=N()(c.prototype,"firstDay",[V.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=N()(c.prototype,"lastDay",[V.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=N()(c.prototype,"lastBookingDay",[V.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=N()(c.prototype,"conditionListStore",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=N()(c.prototype,"bookingSummaryStore",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=N()(c.prototype,"configurationStore",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N()(c.prototype,"clearAll",[a],Object.getOwnPropertyDescriptor(c.prototype,"clearAll"),c.prototype),N()(c.prototype,"selecteDate",[s],Object.getOwnPropertyDescriptor(c.prototype,"selecteDate"),c.prototype),N()(c.prototype,"canDeselect",[U.Z],Object.getOwnPropertyDescriptor(c.prototype,"canDeselect"),c.prototype),c)},45104:function(t,e,r){"use strict";r.d(e,{Z:function(){return $}});var n,i,o,a,s,c,u,l,p,f,h,d,v,y=r(48926),m=r.n(y),g=r(21165),b=r.n(g),w=r(34575),S=r.n(w),O=r(93913),E=r.n(O),k=r(81506),_=r.n(k),P=r(16525),T=r.n(P),D=r(2205),x=r.n(D),C=r(78585),A=r.n(C),L=r(29754),N=r.n(L),R=r(33124),I=r.n(R),j=(r(67268),r(27361)),B=r.n(j),V=r(87757),U=r.n(V),M=r(22188),H=r(96521),Z=r(91942),z=r(71274),F=r(79708),G=r(67825),q=r(11947),K=r(83718),Y=r(82799);function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=N()(t);if(e){var i=N()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return A()(this,r)}}var $=(n=(0,Z.U)(Y.Z),i=(0,Z.U)(G.s),o=(0,Z.U)(q.Z),a=M.aD.bound,s=M.aD.bound,c=M.aD.bound,u=function(t){x()(i,t);var e,n=W(i);function i(){var t;S()(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),b()(t,"conditionListStore",l,_()(t)),b()(t,"bookingSummaryStore",p,_()(t)),b()(t,"updateStore",f,_()(t)),b()(t,"selectedDraft",h,_()(t)),b()(t,"deadlineList",d,_()(t)),b()(t,"deadLineList",v,_()(t)),t}return E()(i,[{key:"importFunc",value:function(){return r.e(6879).then(r.bind(r,29546))}},{key:"fetchPromise",value:function(){this.selectedDraft=this.conditionListStore.getFormItem(z.Uy.DEADLINE)[0],this.deadlineList=this.bookingSummaryStore.vo.deadlineList}},{key:"markSelected",value:function(t){return t=t||{},this.selectedDraft&&this.selectedDraft.id===t.id}},{key:"select",value:function(t){var e;(null==t?void 0:t.id)!==(null===(e=this.selectedDraft)||void 0===e?void 0:e.id)&&(this.selectedDraft=t)}},{key:"doUpdate",value:(e=m()(U().mark((function t(){var e,r,n,i,o;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.conditionListStore,r=e.getFormItem,n=e.replaceFormItem,i=r(z.Uy.DEADLINE),!this.selectedDraft||this.selectedDraft.id===B()(i,"[0].id")){t.next=12;break}return n(z.Uy.DEADLINE,[this.selectedDraft]),(0,K.y)(),t.next=7,this.updateStore.doPageUpdate();case 7:o=t.sent,(0,K.v)(),null!=o&&o.success?this.hidePopup():n(z.Uy.DEADLINE,i),t.next=13;break;case 12:this.hidePopup();case 13:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"hidePopup",value:function(){this.selectedDraft=null,T()(N()(i.prototype),"hidePopup",this).call(this)}}]),i}(F.Z),l=I()(u.prototype,"conditionListStore",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=I()(u.prototype,"bookingSummaryStore",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=I()(u.prototype,"updateStore",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=I()(u.prototype,"selectedDraft",[M.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=I()(u.prototype,"deadlineList",[M.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=I()(u.prototype,"deadLineList",[M.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I()(u.prototype,"markSelected",[H.Z],Object.getOwnPropertyDescriptor(u.prototype,"markSelected"),u.prototype),I()(u.prototype,"select",[a],Object.getOwnPropertyDescriptor(u.prototype,"select"),u.prototype),I()(u.prototype,"doUpdate",[s],Object.getOwnPropertyDescriptor(u.prototype,"doUpdate"),u.prototype),I()(u.prototype,"hidePopup",[c],Object.getOwnPropertyDescriptor(u.prototype,"hidePopup"),u.prototype),u)},71900:function(t,e,r){"use strict";r.d(e,{Z:function(){return G}});var n,i,o,a,s,c,u,l,p=r(48926),f=r.n(p),h=r(21165),d=r.n(h),v=r(34575),y=r.n(v),m=r(93913),g=r.n(m),b=r(81506),w=r.n(b),S=r(16525),O=r.n(S),E=r(2205),k=r.n(E),_=r(78585),P=r.n(_),T=r(29754),D=r.n(T),x=r(33124),C=r.n(x),A=(r(67268),r(87757)),L=r.n(A),N=r(22188),R=r(66197),I=r(91942),j=r(30023),B=r(71274),V=r(80109),U=r(79708),M=r(67825),H=r(86264),Z=r(93607),z=r(82799);function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=D()(t);if(e){var i=D()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return P()(this,r)}}var G=(n=(0,I.U)(z.Z),i=(0,I.U)(M.s),o=N.aD.bound,a=function(t){k()(i,t);var e,n=F(i);function i(){var t;y()(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),d()(t,"conditionListStore",s,w()(t)),d()(t,"bookingSummaryStore",c,w()(t)),d()(t,"availableSeatTypes",u,w()(t)),d()(t,"selectedSeatTypes",l,w()(t)),t.canDeselect=function(e){return t.bookingSummaryStore.vo.seatType!==e.id},t.isSelectedInDraft=function(e){return e=e||{},t.selectedSeatTypes.findIndex((function(t){return+t===e.id}))>=0},t.clearAll=function(){t.selectedSeatTypes=[],t.availableSeatTypes=[]},t}return g()(i,[{key:"importFunc",value:function(){return r.e(8595).then(r.bind(r,75649))}},{key:"fetchPromise",value:(e=f()(L().mark((function t(){var e,r,n,i,o,a,s,c,u,l,p,f,h,d,v,y,m,g,b=this;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.bookingSummaryStore.vo,r=e.trainNo,n=e.departDate,i=e.seatType,o=e.startStation,a=e.endStation,s=this.conditionListStore.getFormItem(B.Uy.AL_TRAIN),c=this.conditionListStore.getSelectedSeats(),u=this.conditionListStore.getSelectedDates(),l=(0,Z.Q)({primaryTrain:{trainNo:r,departDate:n,startStation:o,endStation:a},selectedTrainList:s,selectedDateList:u,needTrainNoList:!0}),p=this.getRootService(),t.next=8,p.queryTrains(l);case 8:if(f=t.sent,h=f.isApiError,d=f.errorMsg,v=f.trainInfoList,this.fetchSuccess=!h,!h){t.next=16;break}return(0,R.Z)(d||j.p1),t.abrupt("return");case 16:y=(0,V.Li)(v),m=Object.keys(y).sort((function(t,e){return+t-+e})).map((function(t){return y[t]})),g=[+i],c.forEach((function(t){g.includes(t)||g.push(t)})),(0,N.z)((function(){b.availableSeatTypes=m,b.selectedSeatTypes=g})),this.availableSeatTypes&&0!==this.availableSeatTypes.length||(0,R.Z)("没有可用座席，请先选择车次");case 22:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"isVisible",value:function(){return this.availableSeatTypes&&this.availableSeatTypes.length>0&&O()(D()(i.prototype),"isVisible",this).call(this)}},{key:"doDraftSelect",value:function(t){if(t&&t.id>=0){var e=this.selectedSeatTypes.findIndex((function(e){return+e===t.id}));e>=0?this.canDeselect(t)?this.selectedSeatTypes.splice(e,1):(0,H.Z)({msg:"该座席已选定",root:document.getElementById("seatPop")}):this.selectedSeatTypes.push(t.id)}}}]),i}(U.Z),s=C()(a.prototype,"conditionListStore",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=C()(a.prototype,"bookingSummaryStore",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=C()(a.prototype,"availableSeatTypes",[N.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=C()(a.prototype,"selectedSeatTypes",[N.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C()(a.prototype,"doDraftSelect",[o],Object.getOwnPropertyDescriptor(a.prototype,"doDraftSelect"),a.prototype),a)},46400:function(t,e,r){"use strict";r.d(e,{Z:function(){return G}});var n,i,o,a,s,c,u,l,p,f=r(48926),h=r.n(f),d=r(21165),v=r.n(d),y=r(34575),m=r.n(y),g=r(93913),b=r.n(g),w=r(81506),S=r.n(w),O=r(16525),E=r.n(O),k=r(2205),_=r.n(k),P=r(78585),T=r.n(P),D=r(29754),x=r.n(D),C=r(33124),A=r.n(C),L=(r(67268),r(87757)),N=r.n(L),R=r(22188),I=r(66197),j=r(91942),B=r(30023),V=r(71274),U=r(79708),M=r(67825),H=r(93607),Z=r(36541),z=r(82799);function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x()(t);if(e){var i=x()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return T()(this,r)}}var G=(n=(0,j.U)(z.Z),i=(0,j.U)(M.s),o=R.aD.bound,a=function(t){_()(i,t);var e,n=F(i);function i(){var t;m()(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),v()(t,"conditionListStore",s,S()(t)),v()(t,"bookingSummaryStore",c,S()(t)),v()(t,"fetchSuccess",u,S()(t)),v()(t,"trainList",l,S()(t)),v()(t,"selectedTrainList",p,S()(t)),t.canDeselect=function(e){var r=t.bookingSummaryStore.vo,n=r.trainNo,i=r.startStation,o=r.endStation;return!(0,Z.o)(e,{trainNo:n,startStation:i,endStation:o})},t.isSelectedTrain=function(e){var r=t.selectedTrainList.findIndex((function(t){return(0,Z.o)(t,e)}));return{isSelected:r>=0,currentIndex:r}},t}return b()(i,[{key:"importFunc",value:function(){return r.e(5014).then(r.bind(r,31393))}},{key:"fetchPromise",value:(e=h()(N().mark((function t(){var e,r,n,i,o,a,s,c,u,l,p;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.bookingSummaryStore.vo,r=e.trainNo,n=e.departDate,i=e.startStation,o=e.endStation,this.selectedTrainList=(this.conditionListStore.getFormItem(V.Uy.AL_TRAIN)||[]).slice(),a=(0,H.Q)({primaryTrain:{trainNo:r,departDate:n,startStation:i,endStation:o},selectedTrainList:this.selectedTrainList,selectedDateList:this.conditionListStore.getSelectedDates()}),s=this.getRootService(),t.next=6,s.queryTrains(a);case 6:if(c=t.sent,u=c.isApiError,l=c.errorMsg,p=c.trainInfoList,this.fetchSuccess=!u,!u){t.next=14;break}return(0,I.Z)(l||B.p1),t.abrupt("return");case 14:this.trainList=(0,H.e)(p,this.selectedTrainList);case 15:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"setSelectedTrainList",value:function(t){if(t&&t.forEach){var e=[];t.forEach((function(t){return e.push(t)})),this.selectedTrainList=e}}},{key:"isVisible",value:function(){return!!this.fetchSuccess&&E()(x()(i.prototype),"isVisible",this).call(this)}},{key:"formatAlterTrainNos",get:function(){return this.selectedTrainList.map((function(t){return t.trainNo}))}},{key:"formatAlterTrains",get:function(){return this.selectedTrainList.map((function(t){return{trainNo:t.trainNo,startStation:t.startStation,endStation:t.endStation}}))}}]),i}(U.Z),s=A()(a.prototype,"conditionListStore",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=A()(a.prototype,"bookingSummaryStore",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=A()(a.prototype,"fetchSuccess",[R.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=A()(a.prototype,"trainList",[R.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=A()(a.prototype,"selectedTrainList",[R.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A()(a.prototype,"setSelectedTrainList",[o],Object.getOwnPropertyDescriptor(a.prototype,"setSelectedTrainList"),a.prototype),a)},24485:function(t,e,r){"use strict";r.d(e,{e:function(){return i}});var n=r(57576);function i(t,e){(0,n.a)({stores:{checkoutRequestTime:t,timeoutRetryCount:Math.ceil(t/5e3)},subOp:"".concat(e,t>5e3?"_timeout":"_request_time")})}},37185:function(t,e,r){"use strict";var n;r.d(e,{p:function(){return n},h:function(){return i}}),function(t){t.TOAST="toast",t.NOTHING="nothing",t.ALERT="alert",t.CONFIRM="confirm",t.FACE="faceverify",t.BUTTONPOP="up_down_button"}(n||(n={}));var i={9200016:{isAllowSkipLogin:!0,needInfoErrMsg:!1},9300042:{isNeedCompletePassenger:!0,needInfoErrMsg:!1},6000062:{isVerifyRefresh:!0,needInfoErrMsg:!0},9200017:{isForwardReserveFail:!0,needInfoErrMsg:!1}}},86010:function(t,e,r){"use strict";r.d(e,{U:function(){return w},d:function(){return O}});var n=r(48926),i=r.n(n),o=r(50308),a=r.n(o),s=r(27361),c=r.n(s),u=r(87757),l=r.n(u),p=r(1607),f=r(25370),h=r(53527),d=r(66197),v=r(57576),y=r(35077),m=r(83718),g=r(84160),b=r(78667),w={NOTHING:0,FORWARD:1,BACK:2,GO_HOME:3,RELOAD:4,REFRESH:7,EMBED:8,CLEAR:9,REMIND:10,ORDER_CANCEL:100,SKIP_LOGIN:101,SKIP_VERIFY:102};function S(t){var e=c()(t,"type",0),r=c()(t,"param.url")||"";switch(e){case w.FORWARD:return!r&&(0,v.a)({subOp:"action_no_nav_url",stores:{actionObject:t}}),function(){return p.ZP.uniformForward(r)};case w.BACK:return function(){return p.ZP.back(r)};case w.GO_HOME:return(0,v.a)({subOp:"action navigation.home"}),function(){return p.ZP.uniformForward("index.html")};case w.RELOAD:return function(){return p.ZP.reload(r)};case w.REFRESH:return function(){return location.reload()};case w.ORDER_CANCEL:return i()(l().mark((function e(){var r,n,i,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c()(t,"param.order_sn"),n=c()(t,"param.prepay_type"),i=h.ZP.getInstance().getPageID(),o=(0,f.e)({pageInfo:{pageId:i}}),(0,m.y)(),a={method:"POST"},n===y.Z.Combine?Object.assign(a,{url:"api/vancouver/parent_order_cancel",data:{parent_order_sn:r,cancel_type:1}}):Object.assign(a,{url:"order/".concat(r,"/cancel?cancel_type=1")}),e.prev=7,e.next=10,o(a);case 10:(0,d.Z)("订单取消成功"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),(0,d.Z)("订单取消异常");case 16:(0,m.v)();case 17:case"end":return e.stop()}}),e,null,[[7,13]])})));case w.EMBED:return function(){return function(t){return E.apply(this,arguments)}(t)};default:return a()}}function O(t){var e=t||{},r=e.on_show,n=e.on_ok,i=e.on_cancel,o=e.customize_ok;return{onShow:S(r),onCancel:S(i),onOk:o||S(n)}}function E(){return(E=i()(l().mark((function t(e){var r,n,i,o,a,s,c,u,p,f,h,d,v;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(null==e?void 0:e.embed_payload)||{},n=r.view_object,i=(0,b.qm)(n||{}),o=i.title,a=i.message,s=i.cancel_label,c=i.ok_label,u=i.pure_close,p=O(n)||{},f=p.onOk,h=p.onCancel,d=(0,b.YY)(),v={method:"POST",url:"api/mayflower/pre/reserve/cancel_order_secondary_confirm"},t.prev=5,t.next=8,d(v);case 8:t.next=12;break;case 10:t.prev=10,t.t0=t.catch(5);case 12:(0,g.i0)({title:o,text:a,onOk:f,onCancel:h,cancelLabel:s,okLabel:c,pureClose:u});case 13:case"end":return t.stop()}}),t,null,[[5,10]])})))).apply(this,arguments)}},39307:function(t,e,r){"use strict";r.d(e,{ZP:function(){return d},kr:function(){return y},is:function(){return v}});var n=r(66197),i=r(96237),o=r(84160),a=r(3025),s=r(56893),c=r(27361),u=r.n(c),l=r(57576),p=r(26372),f=r(86010),h=r(37185);function d(t){var e=t.viewStyle;return e===h.p.FACE||e===h.p.BUTTONPOP?(0,a.pb)(t):function(t){if(t){var e=(0,p.$_)(t);(0,l.a)({subOp:"errorPayload handleError",errorMsg:t.view_style});var r=u()(e,"view_style",h.p.TOAST),n=u()(e,"view_object.title")||"",i=u()(e,"view_object.message")||"",a=(0,f.d)(u()(e,"view_object"))||{},s=a.onOk,c=a.onCancel,d=a.onShow,v=u()(e,"view_object.ok_label")||"确定",y=u()(e,"view_object.cancel_label")||"取消",m=u()(e,"view_object.pure_close");switch(r){case h.p.NOTHING:break;case h.p.ALERT:(0,o.wp)({title:n,text:i,onOk:s,okLabel:v,pureClose:m});break;case h.p.CONFIRM:(0,o.i0)({title:n,text:i,onOk:s,onCancel:c,cancelLabel:y,okLabel:v,pureClose:m});break;default:(0,o.wp)({text:n||i||"系统繁忙，请稍后再试"})}return d&&d(),!0}return!1}(t)}function v(t){return(null==t?void 0:t.isApiError)||(null==t?void 0:t.errorPayloadVo)}function y(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"网络不稳定，请稍后再试";if(null!=t&&t.isApiError){var a=(0,s.U)({data:t,crhUserName:e}),c=a.errorPayloadVo;if(c)return d(c);var u=h.h[null==t?void 0:t.errorCode],l=(null==t?void 0:t.errorMsg)||r;return(null==u?void 0:u.needInfoErrMsg)&&(0,n.Z)(l),(0,o.wp)({text:l,okLabel:"知道了",pureClose:!0}),!u&&(0,i.e)({errorMsg:"api response no errorPayload",stores:{errMsg:l}}),u||{}}return d(null==t?void 0:t.errorPayloadVo)}},78667:function(t,e,r){"use strict";r.d(e,{qm:function(){return _},YY:function(){return P},dA:function(){return D}});var n=r(48926),i=r.n(n),o=r(50308),a=r.n(o),s=r(87757),c=r.n(s),u=r(1607),l=r(25370),p=r(53527),f=r(66197),h=r(57576),d=r(35077),v=r(83718),y=r(84160),m=1,g=2,b=3,w=4,S=7,O=8,E=100,k={okLabel:"确定",cancelLabel:"取消",title:"",message:""};function _(t){return Object.keys(k).forEach((function(e){t[e]=t[e]||k[e]})),t}function P(){var t=(0,p.e6)();return(0,l.e)({pageInfo:{pageId:t}})}function T(t){var e,r=(null==t?void 0:t.type)||0,n=(null==t||null===(e=t.param)||void 0===e?void 0:e.url)||"";switch(r){case m:return!n&&(0,h.a)({subOp:"action_no_nav_url",stores:{actionObject:t}}),function(){return u.ZP.uniformForward(n)};case g:return function(){return u.ZP.back(n)};case b:return(0,h.a)({subOp:"action navigation.home"}),function(){return u.ZP.uniformForward("index.html")};case w:return function(){return u.ZP.reload(n)};case S:return function(){return location.reload()};case E:return function(t){return i()(c().mark((function e(){var r,n,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null==t?void 0:t.param)||{},n=r.orderSn,i=r.prepayType,o=P(),(0,v.y)(),a={method:"POST"},i===d.Z.Combine?Object.assign(a,{url:"api/vancouver/parent_order_cancel",data:{parent_order_sn:n,cancel_type:1}}):Object.assign(a,{url:"order/".concat(n,"/cancel?cancel_type=1")}),e.prev=5,e.next=8,o(a);case 8:(0,f.Z)("订单取消成功"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),(0,f.Z)("订单取消异常");case 14:(0,v.v)();case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))}(t);case O:return function(){return function(t){return x.apply(this,arguments)}(t)};default:return a()}}function D(t){var e=t||{},r=e.onShow,n=e.onOk,i=e.onCancel,o=e.customizeOk;return{onShow:T(r),onCancel:T(i),onOk:o||T(n)}}function x(){return(x=i()(c().mark((function t(e){var r,n,i,o,a,s,u,l,p,f,h,d,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(null==e?void 0:e.embed_payload)||{},n=r.view_object,i=_(n||{}),o=i.title,a=i.message,s=i.cancel_label,u=i.ok_label,l=i.pure_close,p=D(n)||{},f=p.onOk,h=p.onCancel,d=P(),v={method:"POST",url:"api/mayflower/pre/reserve/cancel_order_secondary_confirm"},t.prev=5,t.next=8,d(v);case 8:t.next=12;break;case 10:t.prev=10,t.t0=t.catch(5);case 12:(0,y.i0)({title:o,text:a,onOk:f,onCancel:h,cancelLabel:s,okLabel:u,pureClose:l});case 13:case"end":return t.stop()}}),t,null,[[5,10]])})))).apply(this,arguments)}},56893:function(t,e,r){"use strict";r.d(e,{U:function(){return l},G:function(){return f}});var n=r(48926),i=r.n(n),o=r(87757),a=r.n(o),s=r(66197),c=r(82469),u=r(37185);function l(t){var e=t.data,r=t.crhUserName,n=e||{},i=n.errorCode,o=n.errorMsg,a=c.ms[i+""];return a&&(e.errorPayloadVo={viewStyle:u.p.FACE,viewObject:{title:"身份核验",message:o||"为保障您的信息安全，本次登录需人脸核验，请确保是本人账号",okLabel:"立即刷脸核验",onOk:{type:9200314,param:{crhUserName:r||e.crhName||"",faceScene:a}}}}),e}function p(t){return new Promise((function(e){null!=t&&t.errorMsg?(0,s.Z)(null==t?void 0:t.errorMsg,{onClose:e}):null==e||e()}))}function f(t,e){return h.apply(this,arguments)}function h(){return(h=i()(a().mark((function t(e,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e||!e.isFaceError){t.next=4;break}return t.next=3,p(e);case 3:r&&location.reload();case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},3025:function(t,e,r){"use strict";r.d(e,{XO:function(){return Z},pb:function(){return M}});var n=r(59713),i=r.n(n),o=r(48926),a=r.n(o),s=r(87757),c=r.n(s),u=r(57576),l=r(84160),p=r(95301),f=r(6479),h=r.n(f),d=r(67294),v=r.n(d),y=r(94184),m=r.n(y),g=r(4026),b=r(33162),w=r(1010),S=r(92272),O=null;function E(){return O||(O=new S.b),O}var k=r(86010),_="ybV27eW7",P="JHky+0lz",T="bUPJigZR",D="zHYlhIKd",x="bOYZN1M2",C="kXB3Ju+y",A="bp8I5V+I",L="muy3ggTl",N=["apiUrl"];function R(t){var e=t.data,r=t.btnPopProps,n=t.closePopup,o=(r||{}).onSuccess,a=e||{},s=a.title,c=a.message,u=a.okLabel,l=a.cancelLabel,p=(null==u?void 0:u.split("\n"))||[],f=(null==p?void 0:p.length)>1;return v().createElement(b.Z,{visible:!0,onBackdropClick:n},v().createElement(w.Z,{onClick:n}),v().createElement("div",{className:_},v().createElement("div",{className:P},s),v().createElement("div",{className:T},c),v().createElement("div",{className:m()(D,A,i()({},x,f)),onClick:function(){null==o||o(),n()}},p.map((function(t,e){return v().createElement("div",{key:"btn-text-".concat(e),className:C},t)}))),l&&v().createElement("div",{className:L,onClick:function(){var t=(e||{}).onCancel||{},r=t.type,i=t.param||{},o=i.apiUrl,a=h()(i,N);if(r===k.U.REMIND){var s=E();null==s||s.post({url:o,params:a,risk:!0,defaultValue:{}})}n()}},l)))}function I(t){var e=t.viewObject,r=((null==e?void 0:e.onOk)||{}).type;return new Promise((function(t,n){var i={onSuccess:function(){return t({isOnOk:1,type:r})},onError:function(){return n({isOnCancel:1})}};!function(t){var e=t.btnPopProps,r=t.data,n=(0,g.Z)(v().createElement(R,{data:r,btnPopProps:e,closePopup:function(){return n()}}))}({data:e,btnPopProps:i})}))}var j=r(78667),B=r(37185);function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t){return H.apply(this,arguments)}function H(){return(H=a()(c().mark((function t(e){var r,n,i,o,a,s,f,h,d,v,y,m,g;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",{success:!1});case 2:if((0,u.a)({errorMsg:"errorPayload handleErrorAsync",subOp:e.viewStyle}),n=(r=e||{}).viewStyle,i=r.viewObject,n!==B.p.FACE){t.next=6;break}return t.abrupt("return",(0,p.Z)(i));case 6:if(n!==B.p.BUTTONPOP){t.next=8;break}return t.abrupt("return",I(e));case 8:o=(0,j.qm)(i||{}),a=o.title,s=o.message,f=o.cancelLabel,h=o.okLabel,d=o.pureClose,v=(0,j.dA)(i)||{},y=v.onOk,m=v.onCancel,g=v.onShow,t.t0=n,t.next=t.t0===B.p.NOTHING?13:t.t0===B.p.ALERT?14:t.t0===B.p.CONFIRM?16:18;break;case 13:return t.abrupt("break",19);case 14:return(0,l.wp)({title:a,text:s,onOk:y,okLabel:h,pureClose:d}),t.abrupt("break",19);case 16:return(0,l.i0)({title:a,text:s,onOk:y,onCancel:m,cancelLabel:f,okLabel:h,pureClose:d}),t.abrupt("break",19);case 18:(0,l.wp)({text:a||s||"系统繁忙，请稍后再试"});case 19:return g&&g(),t.abrupt("return",{success:!0,viewStyle:n});case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(t){var e=(t||{}).viewObject;return U(U({},(0,j.qm)(e||{})),(0,j.dA)(e))}},18873:function(t,e,r){"use strict";r.d(e,{F:function(){return l}});var n,i,o=r(59713),a=r.n(o),s=r(82469),c=(n={},a()(n,s.uw.LOGOUT,"历史账号"),a()(n,s.uw.LOGIN,"当前登录"),n),u=(i={},a()(i,s.uw.LOGOUT,"登录"),a()(i,s.uw.LOGIN,"退出"),i);function l(t,e){var r=(t||{}).accounts,n=!1,i=(r||[]).map((function(t){var e=t.loginStatus===s.uw.LOGIN;n||(n=e);var r={};return r.loginStatusTxt=c[t.loginStatus]||"",r.trainAccountId=t.trainAccountId||"",r.trainAccountName=t.trainAccountName||"",r.isLogged=e,r.handleDesc=u[t.loginStatus]||"",r}));return e&&(i=i.filter((function(t){return t.isLogged}))),{accountList:i,hasLoggedAccount:n}}},40755:function(t,e,r){"use strict";r.d(e,{S:function(){return a}});var n=r(96701),i=r(60308),o=[{id:3,name:"硬座"},{id:7,name:"硬卧"},{id:2,name:"二等座"},{id:0,name:"无座"}];function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=["startDepartDate","endDepartDate","endBookDate","passengerIdTypeList","noAccountServiceInfo"],a={};r.forEach((function(t){a[t]=e[t]})),a.saleBeginTime=e.saleBeginTime||n.oP[0],a.saleEndTime=e.saleEndTime||n.oP[1],a.dateInfo=(0,i._)(e);var s=e.seatTypeList||o;return a.stuSeatTypeList=s.map((function(t){return t.id})),a.stuSeatsName=s.map((function(t){return t.name})).join("、")||"",a.hideLogin=null===(t=e.accountDisableGray)||void 0===t?void 0:t.withAccountDisable,a.couponCashbackTxt=e.couponCashbackText||"",a.isSpring=1===e.springSwitch,a}},80267:function(t,e,r){"use strict";r.d(e,{j:function(){return i}});var n=r(26372);function i(t){var e=[],r=[],i=null;return(t=t||[]).forEach((function(t){var o=(0,n.ZV)(t,{});if(o.valid)return e.push(o),void(!i&&o.selected&&(i=o));r.push(o)})),{canShowCoupon:t.length>0,validList:e,unvalidList:r,selectedCoupon:i}}},19335:function(t,e,r){"use strict";r.d(e,{T4:function(){return c},$D:function(){return u},VB:function(){return l}});var n=r(3060),i=r(9709),o=r(24538),a=r(26372);function s(t,e){var r=t.priceType,n=t.ticketType,a=t.segmentNo;if(r===o.g.TICKET){var s=n===i.lL.CHILD;return a?"第".concat(a,"程").concat(s?"儿童":"","票价").concat(s?"(预估)":""):o._[r][n]+(e&&(s||n===i.lL.STUDENT)?"(预估)":"")}return o._[r]||""}function c(t){return(0,n.bd)(t||0)}function u(t,e){return(0,a.ZV)(t||[],[]).map((function(t){return{name:s(t,e),priceStd:c(t.price),ticketType:t.ticketType,count:t.count,priceType:t.priceType}}))}function l(t,e,r){var n=t.find((function(t){return t.price_type===e}));return n?r?c(n.price):n.price||0:r?"":0}},60308:function(t,e,r){"use strict";r.d(e,{_:function(){return o}});var n=r(80837),i=function(t){return n.$.chineseMD(t)};function o(t){var e=t||{},r=e.startStudentSummerDepartDate,n=e.endStudentSummerDepartDate,o=e.startStudentWinterDepartDate,a=e.endStudentWinterDepartDate,s=e.ignoreStudentTicketTime,c=r&&n&&o&&a;return{stuDurationShow:c?"暑假(".concat(i(r),"—").concat(i(n),")，寒假(").concat(i(o),"—次年").concat(i(a),")"):"",stuIsValid:c&&!s,stuDateInfo:{summerStart:r,summerEnd:n,winterStart:o,winterEnd:a}}}},26372:function(t,e,r){"use strict";r.d(e,{$9:function(){return l},$_:function(){return p},xZ:function(){return f},ZV:function(){return h}});var n=r(50008),i=r.n(n),o=r(11865),a=r.n(o),s=r(68929),c=r.n(s);function u(t){return(t||"").startsWith("_")?"_"+a()(t):a()(t)}function l(t,e){if(!t)return t;for(var r in e=e||{},t)t.hasOwnProperty(r)&&("object"===i()(t[r])&&null!==t[r]?e[u(r)]=l(t[r],Array.isArray(t[r])?[]:{}):e[u(r)]=t[r]);return e}function p(t,e){if(!t)return t;for(var r in e=e||{},t)t.hasOwnProperty(r)&&("object"===i()(t[r])&&null!==t[r]?e[a()(r)]=p(t[r],Array.isArray(t[r])?[]:{}):e[a()(r)]=t[r]);return e}function f(t){if(!t)return t;var e={};return Object.keys(t).forEach((function(r){if(t.hasOwnProperty(r)){var n=a()(r);e[n]=t[r]}})),e}function h(t,e){for(var r in e=e||{},t)t.hasOwnProperty(r)&&("object"===i()(t[r])&&null!==t[r]?e[c()(r)]=h(t[r],Array.isArray(t[r])?[]:{}):e[c()(r)]=t[r]);return e}},29404:function(t,e,r){"use strict";r.d(e,{_B:function(){return b},v_:function(){return O},pr:function(){return E},sl:function(){return k},P5:function(){return _},dT:function(){return T},RG:function(){return D},Um:function(){return x},$b:function(){return C},Hr:function(){return A},B7:function(){return L}});var n=r(59713),i=r.n(n),o=r(1607),a=r(41859),s=r(96237),c=r(36792),u=r(53613),l=r(57686),p=r(79072);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d="tcashier_train_checkout.html?_t_timestamp=",v="order.html",y="transac_combine_order.html",m="transac_orders_search_results.html?keyWord=火车票",g="orders.html",b={TRAIN_HOMEPAGE:"train.html",TRAIN_COMPOSE:"train.html?is_compose_page=1",FLIGHT_COMPOSE:"tandy_recliner.html?is_compose_page=1",TRAIN_TICKETS:"trip_tickets.html?scene_group=12",TRAIN_LIST:"train_list.html",TRAIN_RULE:"train_booking_rules.html",TCASHIER:"tcashier_train_checkout.html",INVITE_USER:"invite_user.html",TCASHIER_CHANGE:"".concat(d,"tcashier_train_change"),TCASHIER_GRAB:"".concat(d,"tcashier_train_grab"),TCASHIER_PAID:"".concat(d,"tcashier_train_paid"),RETRIEVE_PASSWORD:"".concat(d,"tcashier_retrieve_password"),TCASHIER_REGISTER:"".concat(d,"tcashier_12306_register"),TCASHIER_REGISTER_CODE:"".concat(d,"tcashier_12306_register_code"),TCASHIER_MEMBER:"".concat(d,"tcashier_12306_member"),PASSENGER_MANAGEMENT:"".concat(d,"tcashier_passenger_management"),PASSENGER_CENTER:"".concat(d,"tcashier_passenger_center"),LOGIN_MANAGEMENT:"".concat(d,"tcashier_login_management"),LOGIN_CENTER:"".concat(d,"tcashier_login_center"),STATION_SCREEN:"".concat(d,"train_station_screen"),TRAIN_SCREEN_DETAIL:"".concat(d,"train_screen_detail"),MOBILE_CODE:"".concat(d,"tcashier_mobile_code"),RESERVE_DETAIL:"".concat(d,"tcashier_reserve_detail"),FACE_VERIFY_RESULT:"".concat(d,"tcashier_face_verify_result"),TCASHIER_PROTOCOLS:"".concat(d,"tcashier_protocols"),TRANSFER_DETAIL:"".concat(d,"train_transfer_detail"),IDENTITY_VERIFY:"".concat(d,"tcashier_identity_verify")};function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.lastIndexOf("/"),r=t.indexOf("?");return t.substring(e>=0?e:0,r>=0?r:void 0)}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,r=w(t);e="".concat(e,"-").concat(r),p.ZP.isNativePlatform&&(0,a.k)({stores:{destUrl:t},subOp:e,isRetry:!1})}function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=(0,l.Q2)(t,e,r);S(n,"forward"),n?o.ZP.uniformForward(n):(0,s.e)({errorMsg:"navigation_uniformForward_no_url",stores:{url:t,destUrl:n,params:e,keepCamelParams:r}})}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;(0,u.V)(null==t?void 0:t.page_el_sn,t,(function(){return O(e,r,n)}))}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=(0,l.Q2)(t,e,r);S(n,"reload"),n?o.ZP.reload(n):(0,s.e)({errorMsg:"navigation_reload_no_url",stores:{url:t,destUrl:n,params:e,keepCamelParams:r}})}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;(0,u.V)(null==t?void 0:t.page_el_sn,t,(function(){return k(e,r,n)}))}function P(t){var e={url:m,type:t,props:{search_key:"火车票"}};(0,c.Q6)("JSNavigation","forward",e)}function T(t){p.ZP.isNativePlatform?(0,p.BB)()&&p.ZP.isVersionGreaterThanEqual("4.82.0")?P("pdd_order_search"):(0,p.bM)()&&p.ZP.isVersionGreaterThanEqual("4.60.0")?P():E(t,m):E(t,m)}function D(t,e){var r=t||{},n=r.orderSn,i=r.isBatchPay;return e=e||{},n?{url:i?y:v,query:h(h({},e),{},{parentOrderSn:i?n:void 0,orderSn:i?void 0:n})}:{url:g,query:e}}function x(t,e,r){if(null!=t&&t.orderSn){var n=D(t,r);E(e,n.url,n.query)}else T(e)}function C(t,e,r){var n=D(t,r);_(e,n.url,n.query)}function A(t,e,r){var n=e?b.FLIGHT_COMPOSE:b.TRAIN_COMPOSE;O(p.ZP.isNativePlatform?b.TRAIN_TICKETS:n,t,r)}function L(t){o.ZP.back(window.location.href,null,!0,{props:t})}},75048:function(t,e,r){"use strict";function n(t,e){if(e){for(var r in e)e[r];Object.assign(t,e)}}r.d(e,{w:function(){return n}})},21590:function(t,e,r){"use strict";r.d(e,{$0:function(){return p},Yp:function(){return v},Pq:function(){return y}});var n=r(59713),i=r.n(n),o=r(27361),a=r.n(o),s=r(96237),c=r(57686);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var p={CHECKOUT:"checkout_params",QUERY:"query_params",CREATE:"post_params",CHANGE_CERATE:"change_post_params",GRAB_CREATE:"grab_post_params"},f={checkout_params:["start_station","end_station","filter_start_station","filter_end_station","search_start_station","search_end_station","seat_type","train_no","depart_date","ticket_price","use_id_card_in"],query_params:["start_station","end_station","filter_start_station","filter_end_station","seat_type","train_no","depart_date","use_id_card_in"],post_params:["filter_start_station","filter_end_station","start_station","end_station","seat_type","train_no"],change_post_params:["filter_start_station","filter_end_station","start_station","end_station","seat_type","train_no"],grab_post_params:["filter_start_station","filter_end_station"]},h=["seat_type","depart_date","f_depart_date","f_seat_type","s_depart_date","s_seat_type","ticket_price","use_id_card_in"];function d(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n={};return e.forEach((function(e){var i=r+e;n[e]=h.includes(i)?parseInt(t[i],10)||0:t[i]})),n}var v=function(t,e){e||(e=(0,c.ZS)());var r={},n=f[t]||f[p.QUERY];return r=t===p.CHECKOUT?function(t,e){var r=[];return t.f_depart_date&&t.s_depart_date?(r.push(l({segmentNo:1},d(t,e,"f_"))),r.push(l({segmentNo:2},d(t,e,"s_")))):r.push(d(t,e)),{trainInfoList:r}}(e,n):d(e,n),Object.assign(r,function(t){var e={};return Object.keys(t).forEach((function(r){if(/^_tp_order_/.test(r)){var n=r.replace(/^_tp_order_/,"");e[n]="travel_sns"===n?t[r].split(","):t[r]}})),e}(e)),r},y=function(t){t=t||{};var e=[];return Object.keys(t).forEach((function(r){var n=a()(t[r],"passenger.ticketType");a()(t[r],"selected")&&(n||(0,s.e)({errorMsg:"formatPassengersVo ticketType不存在",stores:{draftOperations:t}}),e.push({id:r,with_children:a()(t[r],"withChildren"),ticket_type:n,verifyless:a()(t[r],"passenger.verifyless")}))})),{passengers_vo:e}}},99510:function(t,e,r){"use strict";r.d(e,{o5:function(){return s},d_:function(){return c},$r:function(){return l}});var n=r(59713),i=r.n(n),o=r(9709),a=r(24538);function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.reduce((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=parseInt(e.with_children,10)||0;return t+r+(e.ticket_type===o.lL.CHILD?1:0)}),0)}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.reduce((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t+(e.ticket_type===o.lL.STUDENT?1:0)}),0)}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.reduce((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t+(e.ticket_type===o.lL.ADULT?1:0)}),0)}function l(t,e){var r,n=(r={},i()(r,o.lL.ADULT,u),i()(r,o.lL.CHILD,s),i()(r,o.lL.STUDENT,c),r);return e.some((function(e){return e.priceType===a.g.TICKET&&n[e.ticketType]&&e.count!==n[e.ticketType](t)}))}},29960:function(t,e,r){"use strict";r.d(e,{Z:function(){return E}});var n=r(48926),i=r.n(n),o=r(34575),a=r.n(o),s=r(93913),c=r.n(s),u=r(2205),l=r.n(u),p=r(78585),f=r.n(p),h=r(29754),d=r.n(h),v=r(87757),y=r.n(v),m=r(92272),g=r(18873);function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d()(t);if(e){var i=d()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var w="api/mayflower/crh/login",S="api/mayflower/crh/login_by_id",O="api/mayflower/crh/list_all_accounts",E=function(t){l()(n,t);var e,r=b(n);function n(){return a()(this,n),r.apply(this,arguments)}return c()(n,[{key:"doLoginNotId",value:function(t){return this.asyncQuerypost({url:w,params:t,risk:!0,defaultValue:{}})}},{key:"doLoginById",value:function(t){return this.asyncQuerypost({url:S,params:t,risk:!0,defaultValue:{}})}},{key:"doLogin",value:function(t){var e=t.trainAccountId,r=t.loginParams;return e?this.doLoginById({trainAccountId:e}):this.doLoginNotId(r)}},{key:"queryAccountList",value:(e=i()(y().mark((function t(e){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.post({url:O,params:e,risk:!0,defaultValue:{}});case 2:return r=t.sent,t.abrupt("return",(0,g.F)(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),n}(m.b)},63389:function(t,e,r){"use strict";r.d(e,{V:function(){return c},Z:function(){return u}});var n=r(36792),i=r(1607),o=r(79072),a=r(84160),s=!0;function c(t){s=t}function u(t,e){t=t||{},o.ZP.isNativePlatform&&(0,n.z2)({callback:function(){if(s){"function"==typeof e&&Object.assign(t,e());var r=t,n=r.title,o=r.text,u=r.onOk,l=r.onCancel,p=r.okLabel,f=void 0===p?"留在此页":p,h=r.cancelLabel;!function(t){c(!1),(0,a.i0)(t)}({title:n,text:o,onOk:function(){c(!0),u&&u()},onCancel:l,okLabel:f,cancelLabel:void 0===h?"离开页面":h})}else i.ZP.back()}})}},72781:function(t,e,r){"use strict";r.d(e,{Z:function(){return R}});var n,i,o,a=r(59713),s=r.n(a),c=r(21165),u=r.n(c),l=r(34575),p=r.n(l),f=r(93913),h=r.n(f),d=r(81506),v=r.n(d),y=r(2205),m=r.n(y),g=r(78585),b=r.n(g),w=r(29754),S=r.n(w),O=r(33124),E=r.n(O),k=(r(67268),r(27361)),_=r.n(k),P=r(22188),T=r(54328),D=r(75048),x=r(63389),C=r(14102);function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){s()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=S()(t);if(e){var i=S()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return b()(this,r)}}var R=(n=function(t){m()(r,t);var e=N(r);function r(){var t;p()(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).transacType=0,t.source="",t.ifStudentTicket=!1,t.configData={},t.detainMessage=null,t.departDateTimes=[],t.seatTypes=[],t.isTransit=!1,u()(t,"is12306Member",i,v()(t)),u()(t,"updateMemberStatus",o,v()(t)),t.checkIsInStuHoliday=function(){var e,r=(null===(e=t.configData)||void 0===e?void 0:e.dateInfo)||{},n=r.stuIsValid,i=r.stuDateInfo,o=void 0===i?{}:i;if(!n)return!0;var a=t.departDateTimes.find((function(t){return!(0,C.W)(L(L({},o),{},{checkTime:t})).isInHoliday}));return a&&(0,x.V)(!1),!a},t.checkIsInValidSeats=function(){var e=t.configData.stuSeatTypeList||[],r=t.seatTypes.find((function(t){return!e.includes(t)}));return(t.isTransit||r)&&(0,x.V)(!1),!r&&!t.isTransit},t}return h()(r,[{key:"initWithContext",value:function(t){this.source=_()(t,"query._tp_order_source",""),this.ifStudentTicket=1===parseInt(_()(t,"query._tp_order_if_student_ticket",0),10)}},{key:"onNextViewObject",value:function(t){(0,D.w)(this,t)}}]),r}(T.q),i=E()(n.prototype,"is12306Member",[P.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=E()(n.prototype,"updateMemberStatus",[P.aD],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.is12306Member=e}}}),n)},79708:function(t,e,r){"use strict";r.d(e,{Z:function(){return B}});var n,i,o,a,s=r(63038),c=r.n(s),u=r(48926),l=r.n(u),p=r(21165),f=r.n(p),h=r(34575),d=r.n(h),v=r(93913),y=r.n(v),m=r(81506),g=r.n(m),b=r(2205),w=r.n(b),S=r(78585),O=r.n(S),E=r(29754),k=r.n(E),_=r(33124),P=r.n(_),T=(r(67268),r(87757)),D=r.n(T),x=r(22188),C=r(66197),A=r(96237),L=r(27457),N=r(54328),R=r(30023),I=r(83718);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=k()(t);if(e){var i=k()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O()(this,r)}}var B=(n=x.aD.bound,i=function(t){w()(n,t);var e,r=j(n);function n(){var t;d()(this,n);for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return t=r.call.apply(r,[this].concat(i)),f()(t,"ComponentClass",o,g()(t)),f()(t,"visible",a,g()(t)),t}return y()(n,[{key:"importFunc",value:function(){}},{key:"fetchPromise",value:function(){}},{key:"isVisible",value:function(){return this.visible&&!!this.ComponentClass}},{key:"showPopup",value:(e=l()(D().mark((function t(){var e,r,n;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,I.y)(),t.prev=1,t.next=4,Promise.all([(0,L.T)(this.importFunc),this.fetchPromise()]);case 4:e=t.sent,r=c()(e,1),(n=r[0])&&n.default&&(this.ComponentClass=n.default),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),(0,A.e)({errorMsg:"neo_dynamic_import_fail",error:t.t0});case 13:return t.prev=13,(0,I.v)(),t.finish(13);case 16:this.ComponentClass||(0,C.Z)(R.p1),this.visible=!0;case 18:case"end":return t.stop()}}),t,this,[[1,10,13,16]])}))),function(){return e.apply(this,arguments)})},{key:"hidePopup",value:function(){var t=this;(0,x.z)((function(){t.visible=!1}))}}]),n}(N.q),o=P()(i.prototype,"ComponentClass",[x.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=P()(i.prototype,"visible",[x.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P()(i.prototype,"showPopup",[n],Object.getOwnPropertyDescriptor(i.prototype,"showPopup"),i.prototype),i)},80109:function(t,e,r){"use strict";r.d(e,{Li:function(){return s},jj:function(){return c},Np:function(){return u},bt:function(){return l}});var n=r(27361),i=r.n(n),o=r(9709),a=r(77841);function s(t){var e={};return(t||[]).forEach((function(t){(i()(t,"priceList")||[]).forEach((function(t){var r=t.price,n=t.seatType,i=t.seatTypeName;e[n]&&(r=Math.max(r,e[n].price)),e[n]=a.vD.fromVal({id:+n,text:i,price:r})}))})),e}function c(t,e){t=t||{},e=e||{};var r={},n=!1,i={},o=!1;return Object.keys(t).forEach((function(i){e[i]||(r[i]=t[i],n=!0)})),Object.keys(e).forEach((function(r){t[r]||(i[r]=e[r],o=!0)})),{hasAddedTypes:n,hasLostTypes:o,addedTypes:r,lostTypes:i}}function u(t){var e=[];return(t=t||[]).forEach((function(t){var r=t.withChildren;if(t.isAccompanyChild=!1,e.push(t),r>0)for(var n=0;n<r;n++){var i={};Object.assign(i,t),i.childIdx=n+1,i.userType="儿童",i.isAccompanyChild=!0,i.ticketType=o.lL.CHILD,Object.defineProperty(i,"parent",{value:t}),delete i.withChildren,e.push(i)}})),e}var l=function(t){var e=t.passengers,r=t.seatType,n=t.ticketPrice;return(e=u(e)).map((function(t){return{ticket_type:t.ticketType,seat_type:parseInt(r,10),ticket_price:n,passenger_id:t.id}}))}},91907:function(t,e,r){"use strict";function n(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0;n<e.length;n++)if(e[n]&&e[n].err)return e[n];return{}}r.d(e,{FY:function(){return n}})},1519:function(t,e,r){"use strict";function n(t){var e=t.passengers,r=t.errorHandler,n=t.verifyless;return null!=e&&e.length?n?{err:"乘车人未通过核验，请重新选择",errorHandler:r}:{}:{err:"请添加乘车人",errorHandler:r}}function i(t){return t.deadline?{}:{err:"请选择抢票截止日期"}}r.d(e,{y:function(){return n},D:function(){return i}})},59438:function(t,e,r){"use strict";r.d(e,{uo:function(){return S},gq:function(){return O},Ol:function(){return E},Wf:function(){return k},oH:function(){return _},gG:function(){return P},HZ:function(){return T},P4:function(){return D}});var n=r(66279),i="请输入登录密码",o="密码由6-20位字母、数字或符号组成",a="请输入确认密码",s="密码不一致",c="请填写真实姓名",u="姓名不能为空",l="证件号码错误，请重新填写",p="证件号码不能为空",f="请输入电子邮箱",h="电子邮箱地址有误",d="手机号码不能为空",v="请填写正确的手机号码",y="请输入验证码",m="验证码有误",g=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?![,\.#%'\+\*\-:;^_`]+$)[,\.#%'\+\*\-:;^_`0-9A-Za-z]{6,20}$/,b=/^[0-9]+$/,w=/^\d{4}$/;function S(t){var e=t?"":i;return e||g.test(t)||(e=o),{err:e}}function O(t,e){var r=e?"":a;return r||t===e||(r=s),{err:r}}function E(t,e){var r=t?"":u;return!r&&e&&(r=(0,n.zN)(t)?"":c),{err:r}}function k(t,e){var r=t?"":p;return r||!e||e(t)||(r=l),{err:r}}function _(t){var e=t?"":f;return e||(0,n.oP)(t)||(e=h),{err:e}}function P(t){var e=t.mobile,r=t.errorHandler,i=e?"":d;return i||(0,n.z4)(e)||(i=v),{err:i,errorHandler:r}}function T(t){var e=t?"":y;return e||b.test(t)||(e=m),{err:e}}function D(t){var e=t?"":y;return e||w.test(t)||(e=m),{err:e}}},28444:function(t,e,r){"use strict";r.d(e,{W2:function(){return s},uR:function(){return c},D_:function(){return u},SS:function(){return l},sP:function(){return p},OZ:function(){return f},tT:function(){return h},ex:function(){return d}});var n,i=r(59713),o=r.n(i),a=r(66279),s={1:{desc:"居民二代身份证",checkIdFunc:a.SB,length:18},B:{desc:"护照",checkIdFunc:a.uD,length:18,needExpire:!0,needBirth:!0,needGender:!0,needRegion:!0},2:{desc:"港澳台居民居住证",checkIdFunc:a.ZE,length:18},H:{desc:"外国人永久居留身份证",checkIdFunc:a.CG,length:18,needExpire:!0,needBirth:!0,needGender:!0,needRegion:!0},C:{desc:"港澳居民来往内地通行证",checkIdFunc:a.Re,length:18,needExpire:!0,needBirth:!0,needGender:!0},G:{desc:"台湾居民来往大陆通行证",checkIdFunc:a.OA,length:18,needExpire:!0,needBirth:!0,needGender:!0}},c={CHINA_ID:"1",PASSPORT:"B",HONGKONG_MACAO_ID:"C",TAIWAN_PASSPORT:"G",FOAREINER_ID:"H",HONGKONG_MACAO_TAIWAN_ID:"2"},u={TRAIN:"TRAIN"},l={ADULT:1,CHILD:2,STUDENT:3},p={NULL:0,MALE:1,FEMALE:2},f=(n={},o()(n,p.NULL,""),o()(n,p.MALE,"男"),o()(n,p.FEMALE,"女"),n);function h(){return Object.keys(s).map((function(t){return{desc:(s[t]||{}).desc,value:t}}))}var d=[{desc:"男",value:p.MALE},{desc:"女",value:p.FEMALE}]},46177:function(t,e,r){"use strict";r.d(e,{p:function(){return n}});var n={TITLE:"车次信息查询不成功，请刷新重试",BTNTXT:"立即刷新"}},96701:function(t,e,r){"use strict";r.d(e,{xR:function(){return n},oP:function(){return i},$V:function(){return o}});var n=864e5,i=["05:00","23:30","23:55"],o="8"},71274:function(t,e,r){"use strict";r.d(e,{Uy:function(){return n},ay:function(){return i}});var n={AL_DATE:{code:"AL_DATE",label:"备选日期",comments:"可多选"},AL_TRAIN:{code:"AL_TRAIN",label:"备选车次",comments:"可多选"},AL_SEAT_TYPE:{code:"AL_SEAT_TYPE",label:"备选座席",comments:"可多选"},DEADLINE:{code:"DEADLINE",label:"抢票截止到",foreverVisible:!0}},i=[n.DEADLINE,n.AL_DATE,n.AL_TRAIN,n.AL_SEAT_TYPE]},30023:function(t,e,r){"use strict";r.d(e,{p1:function(){return n},Hx:function(){return i},rC:function(){return o},sz:function(){return a},k2:function(){return s}});var n="网络不稳定，请稍后再试",i={GUOYUAN:"guoyuan",DDJB_PUSH:"1212duoduojinbao"},o={NORMAL:1,PASSWORD_INPUT:2,CARD_SELECT:4,GENDER_SELECT:5,DATE_SELECT:6,REGION_SELECT:7},a="redirect_tcashier_url",s={IF_OPEN_SKIP_VERIFY:"0_if_open_skip_verify",TCASHIER_ORIGIN_URL:"0_origin_checkout_grab_url",BUY_CHANNEL_STORAGE_KEY:"0_trip_ifDuoduoReserve",ENTRANCE_TEACH_POPUP:"4_train_teach_popup",SHOW_PRIVILEGE:"6_train_snap_show_privilege",SHOW_LOGIN_TIP:"4_loginbar_show_guide_tip",CHECKOUT_MOBILE_INPUT:"7_train_checkout_mobile_input"}},11838:function(t,e,r){"use strict";r.d(e,{xi:function(){return a},I:function(){return s},jZ:function(){return c},iV:function(){return u},N$:function(){return l},QL:function(){return p}});var n,i=r(59713),o=r.n(i),a={COUPON:"coupon",ELECTRONIC_SEAT:"electronic_seat",ELECTRONIC_SEAT_COMPLETED:"electronic_seat_completed",LOGIN_MANAGEMENT:"login_management",SKIP_VERIFY_CHANGE:"skip_verify_change",PURCHASE_SERVICE_FEE_CHANGE:"purchase_service_fee_change",SKIP_LOGIN_CHANGE:"skip_login_change",UPDATE_PAGE:"update_page"},s=(n={},o()(n,a.COUPON,"优惠券选择失败"),o()(n,a.ELECTRONIC_SEAT,"选座服务更新失败"),o()(n,"DEFAULT","更新乘车人失败"),n),c="need_refresh_page",u={PAGE:1,PASSENGER:2,AUTOLOGIN:3,TOAST:4},l="refresh_toast_msg",p="login_success"},51941:function(t,e,r){"use strict";r.d(e,{IX:function(){return n},rG:function(){return i},F2:function(){return o},tC:function(){return a},pQ:function(){return s},kK:function(){return c},iU:function(){return u},Xf:function(){return l},yD:function(){return p}});var n={AliPay:1,WeChat:2,QQPay:3,ApplePay:4,AliPayDirectDebit:5,FriendPay:6,HBInstallmentPay:7,AliPayV2:8,UnionPay:9,DuoDuoPay:10,HBPay:11,WexinCredit:12},i={WEIXIN:n.WeChat,ALIPAY:n.AliPay,QQ:n.QQPay,WEIXIN_FRIEND:n.FriendPay,LIANLIANPAY:n.ApplePay,UNIONPAY:n.UnionPay,HBFQ_ALI_PAY:n.HBInstallmentPay,DUODUOPAY:n.DuoDuoPay,WEIXIN_CREDIT:n.WexinCredit},o={WEIXIN:"wechat",WEIXIN_FRIEND:"wechat",ALIPAY:"ali",QQ:"qq",DUODUOPAY:"ddpay",LIANLIANPAY:"apple",WEIXIN_CREDIT:"payAfterUse"},a={NATIVE:108,NATIVE_UES_BEFORE_PAY:125,H5_FOR_OTHER:109,H5_FOR_WECHAT:110,H5_FOR_MINIPROGRAM:111,H5_FOR_QQ:112},s=12,c={CREATED:0,PAYED:1,CANCELED:2},u={CHECKOUT:1,CHANGE:2,GRAB:3},l={PRICEDIFF:"· 当前车次票价有浮动，请以实际付款为准",SEATDIFF:"· 所选座位不足，已为您更换至有票座位"},p={DEFAULT:0,PAYING:1}},24538:function(t,e,r){"use strict";r.d(e,{g:function(){return c},_:function(){return u}});var n,i,o=r(59713),a=r.n(o),s=r(9709),c={TICKET:1,DISCOUNT:2,WINDOW:3,AVENUE:4,TOGETHER:5,TOP:6,MIDDLE_BOTTOM:7,BOTTOM:8,SKIP_VERIFY:10,PURCHASE_SERVICE_FEE:11,NIGHT_SERVICE_FEE:12,GARP_DISCOUNT:13,SKIP_LOGIN:14},u=(i={},a()(i,c.TICKET,(n={},a()(n,s.lL.ADULT,"成人票价"),a()(n,s.lL.CHILD,"儿童票价"),a()(n,s.lL.STUDENT,"学生票价"),n)),a()(i,c.DISCOUNT,"优惠金额"),a()(i,c.WINDOW,"选靠窗"),a()(i,c.AVENUE,"选过道"),a()(i,c.TOGETHER,"选连坐"),a()(i,c.TOP,"选上铺"),a()(i,c.MIDDLE_BOTTOM,"选中、下铺"),a()(i,c.BOTTOM,"选下铺"),a()(i,c.SKIP_VERIFY,"免核验购票"),a()(i,c.SKIP_LOGIN,"免登录购票"),a()(i,c.PURCHASE_SERVICE_FEE,"购票服务费"),a()(i,c.NIGHT_SERVICE_FEE,"夜间出票服务"),a()(i,c.GARP_DISCOUNT,"抢票优惠套餐"),i)},82469:function(t,e,r){"use strict";r.d(e,{uw:function(){return n},Me:function(){return i},TS:function(){return o},CY:function(){return a},ON:function(){return s},UD:function(){return c},om:function(){return u},ms:function(){return l},vE:function(){return p}});var n={LOGIN:1,LOGOUT:2},i={LOGIN:1,PERSON_VERIFY:2,IDENTITY_VERIFY:5,REGISTER_ACCOUNT:6},o={LOGIN:1},a=5,s="一次最多只能买".concat(a,"张票哦"),c="$trainCheckout$draftOps",u=[9200314,9200315,9200309],l={9200314:i.LOGIN,9200315:i.PERSON_VERIFY,9200309:i.LOGIN},p="onTripFaceVerifyCompleted"},70051:function(t,e,r){"use strict";r.d(e,{Xe:function(){return n},a6:function(){return i}});var n=[7,9,14,15,16,19,29,30],i=[{id:3,name:"硬座"},{id:7,name:"硬卧"},{id:2,name:"二等座"},{id:0,name:"无座"}]},38232:function(t,e,r){"use strict";r.d(e,{k:function(){return n},$:function(){return i}});var n={FAILED:0,PASSED:1,UNKNOWN:99},i={PASSED:1,NOT_VERIFIED:2,FAILED:3,PRE_VERIFY:4,PRE_PASS:5,EXPIRE:6,NO_RESULT:99}},85068:function(t,e,r){"use strict";r.d(e,{_i:function(){return n},p:function(){return i},u4:function(){return o},Mu:function(){return a},nQ:function(){return s}});var n={CHECKOUT:0,GRAB:1,NIGHT:2,OFFLINE:3},i={CHECKOUT:1,CHANGE:2,GRAB:3},o={Unknown:-1,HighToLow:1,SamePrice:2,LowToHigh:3},a={ONGOING:10,SUCCESS:21,FAILED:12,SUCCESS_BUT_GO_ORDER:100,CHANGE_CONFIRM:101,BEFORE_SUCCESS:11},s=[21,12,100,101]},9709:function(t,e,r){"use strict";r.d(e,{lL:function(){return s},ev:function(){return c},FI:function(){return u}});var n,i,o=r(59713),a=r.n(o),s={ADULT:1,CHILD:2,STUDENT:3,SOLDIER:4},c=(n={},a()(n,s.ADULT,"成人"),a()(n,s.CHILD,"儿童"),a()(n,s.STUDENT,"学生"),a()(n,s.SOLDIER,"残军"),n),u=(i={},a()(i,s.ADULT,"成人票"),a()(i,s.CHILD,"儿童票"),a()(i,s.STUDENT,"学生票"),a()(i,s.SOLDIER,"残军票"),i)},53613:function(t,e,r){"use strict";r.d(e,{V:function(){return c},f:function(){return u}});var n=r(59713),i=r.n(n),o=r(55622),a=r(6341);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t,e,r){try{if(e=e||{},!t)throw new Error("empty pageElSn");t&&(0,a.QN)(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({op:"click",page_el_sn:t},e)),null==r||r()}catch(t){r&&r()}}var u=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,o.cM)((function(){return{op:"click",page_el_sn:t}}),e)}},83714:function(t,e,r){"use strict";r.d(e,{ET:function(){return s},o:function(){return u},L2:function(){return l},Hu:function(){return p}});var n=r(59713),i=r.n(n),o=r(29404),a=r(11838),s={LOGING:"登录不成功",LOGGOUT:"登出失败",DELETE:"删除失败",WRITE_ERR:"请正确填写账号和密码",NOT_AGREE:"请阅读并同意《账户授权协议》"};function c(t,e){return(t||"").length>e}function u(t,e){return{isValid:c(t,3)&&c(e,3),msg:s.WRITE_ERR}}function l(){var t,e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=r?(t={},i()(t,a.jZ,a.iV.TOAST),i()(t,a.N$,n),i()(t,a.QL,s),t):(e={},i()(e,a.jZ,a.iV.PAGE),i()(e,a.QL,s),e);(0,o.B7)(c)}var p={MSG:8000038,FAIL:9200017}},80837:function(t,e,r){"use strict";r.d(e,{e:function(){return f},$:function(){return h}});var n=r(34575),i=r.n(n),o=r(93913),a=r.n(o),s=r(30381),c=r.n(s),u=r(2428),l=["今天","明天","后天"],p=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],f=function(t){return c()(t).utc().utcOffset(480)},h=function(){function t(){i()(this,t)}return a()(t,null,[{key:"now",value:function(){var t=u.Z.serverTimeNow();return f(t).valueOf()}},{key:"diffNow",value:function(e){return e-t.now()}},{key:"chineseMD",value:function(t){return f(t).format("M月D日")}},{key:"hColonM",value:function(t){return f(t).format("HH:mm")}},{key:"dateStartTime",value:function(t){return f(t).startOf("day").valueOf()}},{key:"dateEndTime",value:function(t){return f(t).endOf("day").valueOf()}},{key:"isSameDay",value:function(t,e){return f(t).isSame(e,"day")}},{key:"twxDay",value:function(t,e,r){var n=f(t).startOf("day"),i=f(e).endOf("day"),o=f(r);return(o.isAfter(n,"day")||o.isSame(n,"day"))&&(o.isBefore(i,"day")||o.isSame(i,"day"))}},{key:"buyDate",value:function(){return{start:f(t.now()).startOf("day").valueOf(),end:f(t.now()).add(29,"day").endOf("day").valueOf(),book:f(t.now()).add(69,"day").endOf("day").valueOf()}}},{key:"diffNowTag",value:function(e){var r=f(t.now()),n=Math.ceil((f(e).startOf("day")-r.startOf("day"))/864e5);return l[n]||""}},{key:"weekDayTag",value:function(t){var e=f(t).day();return p[e]||""}},{key:"tag",value:function(e){return t.diffNowTag(e)||t.weekDayTag(e)}},{key:"dayIncrease",value:function(t,e){return f(t).add(e?1:-1,"day").valueOf()}},{key:"formatYMD",value:function(t){return f(t).format("YYYY.MM.DD")}},{key:"dayDifference",value:function(t,e){return t&&e?c()(t).startOf("day").diff(c()(e).startOf("day"),"days"):0}},{key:"monthDifference",value:function(t,e){return t&&e?c()(t).startOf("month").diff(c()(e).startOf("month"),"month"):0}}]),t}()},14102:function(t,e,r){"use strict";r.d(e,{L:function(){return o},W:function(){return a}});var n=r(80837),i=function(t,e,r){for(var n=t.split(":"),i=e.split(":"),o=Math.max(n.length,i.length),a=0;a<o;++a){var s=parseInt(n[a]||"0"),c=parseInt(i[a]||"0");if(s!==c)return c>s}return!!r};function o(t,e){var r=n.$.hColonM(n.$.now());return i(e,t)?i(t,r,!0)||i(r,e):i(t,r,!0)&&i(r,e)}function a(t){var e=t.summerStart,r=t.summerEnd,i=t.winterStart,o=t.winterEnd,a=t.checkTime,s=n.$.twxDay(e,r,a),c=!s&&n.$.twxDay(i,o,a);return{isInSummer:s,isInWinter:c,isInHoliday:s||c}}},45273:function(t,e,r){"use strict";r.d(e,{Z:function(){return o},k:function(){return a}});var n=r(82094),i=r(79072);function o(t){i.ZP.isNativePlatform?function(t){(0,n.Fz)(t),(0,n.rB)("onApplicationResume",t)}(t):window.addEventListener("pageshow",(function(t){t.persisted&&location.reload()}))}function a(t){try{return"string"==typeof t&&(t=JSON.parse(t)),t}catch(t){return{}}}},79072:function(t,e,r){"use strict";r.d(e,{bM:function(){return o},JD:function(){return a},BB:function(){return s},bl:function(){return c}});var n=r(38533),i=r(99433);function o(){return(0,n.zT)().platform===i.iw.PddAndroid}function a(){return(0,n.zT)().system===i.we.Android}function s(){return(0,n.zT)().platform===i.iw.PddIOS}function c(){var t=(0,n.zT)();return(0,i.yC)(t.systemVersion,"12.0")<0&&t.system===i.we.IOS}e.ZP=(0,n.zT)()},28085:function(t,e,r){"use strict";function n(t){var e=new(0,r(78330).Z);return e.setPublicKey("-----BEGIN PUBLIC KEY-----MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCNh+5VkmS9LLiGFE/exWH5WqdTxRzENvbHuFtxIZ/F3shofpfd2NviRedXD3glohqlFSXlm9OJ4YWsSQ29DeFXmJOv03/c+uzLCNfUmOEsCNqqOh4BqNpdptboeb1jr7Pbh0GKBc4DZoU0UlcBtsRB1gm1dqn/dtMvqawNlirteQIDAQAB-----END PUBLIC KEY-----"),e.encrypt(t)}r.d(e,{H:function(){return n}})},16932:function(t,e,r){"use strict";r.d(e,{Z:function(){return L}});var n={};r.r(n),r.d(n,{getItem:function(){return b},isNativeSupport:function(){return g},setItem:function(){return S}});var i={};r.r(i),r.d(i,{getItem:function(){return x},setConfig:function(){return C},setItem:function(){return T}});var o=r(48926),a=r.n(o),s=r(34575),c=r.n(s),u=r(93913),l=r.n(u),p=r(87757),f=r.n(p),h=r(69483),d=r.n(h),v=r(96237),y=r(36792),m=r(79072);function g(){return!!m.ZP.isNativePlatform&&m.ZP.isVersionGreaterThanEqual("4.0.0")}function b(t){return w.apply(this,arguments)}function w(){return(w=a()(f().mark((function t(e){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,y.Q6)("AMStorage","get",{key:e});case 3:return r=t.sent,t.abrupt("return",r&&r.value);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",null);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function S(t,e){return(0,y.Q6)("AMStorage","set",{key:t,value:e})}var O=r(81086);function E(t){return k.apply(this,arguments)}function k(){return(k=a()(f().mark((function t(e){var r,n,i,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d().keys();case 2:return r=t.sent,n=r.filter((function(t){var e=parseInt(t.split("_")[0]);return e>=0&&e<=6})).sort().reverse(),t.next=6,Promise.all(n.map((function(t){return d().getItem(t)})));case 6:i=t.sent,o=0,i.forEach((function(t,r){o<2*e&&(o+=JSON.stringify(t).length,d().removeItem(n[r]))}));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e,r,n){return P.apply(this,arguments)}function P(){return(P=a()(f().mark((function t(e,r,n,i){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(["QuotaExceededError","QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED"].includes(e&&e.name)||i<3)){t.next=5;break}return t.next=3,E(JSON.stringify(r).length);case 3:T(n,r,i),i++;case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t,e){return D.apply(this,arguments)}function D(){return D=a()(f().mark((function t(e,r){var n,i=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:0,t.prev=1,t.next=4,d().setItem(e,r);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),(0,O.c)(t.t0),t.next=11,_(t.t0,r,e,n);case 11:case"end":return t.stop()}}),t,null,[[1,6]])}))),D.apply(this,arguments)}function x(t){return d().getItem(t)}function C(t){d().config({driver:[d().WEBSQL,d().INDEXEDDB,d().LOCALSTORAGE],name:t})}var A=function(){function t(){c()(this,t),this.utilforage=void 0,g()?this.utilforage=n:(this.utilforage=i,C("TRIP"))}return l()(t,[{key:"getItem",value:function(){var t=a()(f().mark((function t(e){var r,n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.utilforage.getItem(e);case 3:return r=t.sent,n=JSON.parse(r),t.abrupt("return",n.value);case 8:return t.prev=8,t.t0=t.catch(0),(0,O.c)("StorageHelper getItem key ".concat(e," ").concat(t.t0)),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},{key:"setItem",value:function(t,e){try{var r=JSON.stringify({value:e});this.utilforage.setItem(t,r)}catch(e){(0,v.e)({errorMsg:"StorageHelper error ".concat(t),error:e})}}}]),t}(),L=new A},81086:function(t,e,r){"use strict";r.d(e,{c:function(){return c},W:function(){return l}});var n=r(48926),i=r.n(n),o=r(87757),a=r.n(o),s=r(16932);function c(t){}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=new Date,n=new Date(Number(t));return!(r<=n)&&(r.setHours(0,0,0,0),n.setHours(0,0,0,0),(r-n)/864e5>=e)}function l(t){return p.apply(this,arguments)}function p(){return(p=i()(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.getItem(e);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=0;case 5:return r=t.t0,t.abrupt("return",!r||u(r,1));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},35989:function(t,e,r){"use strict";r.d(e,{c:function(){return l},Z:function(){return f}});var n=r(48926),i=r.n(n),o=r(87757),a=r.n(o),s=r(9714),c=r(16932),u=r(30023);function l(){return p.apply(this,arguments)}function p(){return(p=i()(a().mark((function t(){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt((0,s.KQ)("skipVerifyTime"),10)||36e5,t.next=3,c.Z.getItem(u.k2.IF_OPEN_SKIP_VERIFY);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=0;case 6:return r=t.t0,t.abrupt("return",Date.now()-r<e);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){c.Z.setItem(u.k2.IF_OPEN_SKIP_VERIFY,t?Date.now():0)}},97775:function(t,e,r){"use strict";r.d(e,{m:function(){return a}});var n=r(84160),i=r(11838),o=r(46177);function a(t,e,r){t!==i.xi.UPDATE_PAGE?(0,n.wp)({text:r,okLabel:"知道了"}):(0,n.wp)({text:o.p.TITLE,okLabel:o.p.BTNTXT,onOk:function(){return e({source:i.xi.UPDATE_PAGE})},pureClose:!0})}},57686:function(t,e,r){"use strict";r.d(e,{ZS:function(){return b},XX:function(){return w},Q2:function(){return S},FD:function(){return k},h8:function(){return _}});var n=r(48926),i=r.n(n),o=r(59713),a=r.n(o),s=r(27361),c=r.n(s),u=r(87757),l=r.n(u),p=r(30064),f=r(38533),h=r(36792),d=r(1607),v=r(96237),y=r(26372);function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(){return(0,p.mB)(window.location.search)}function w(t){var e=b();return e?e[t]:null}function S(t,e,r){e=e||{},r=r||{};var n=(0,p.XP)(g(g({},(0,y.$9)(e,{})),r));return(t=t||location.pathname)+(t.includes("?")?"&":"?")+n}function O(t){var e=window.location.href;e!==t&&c()(window,"Navigation.CurrentWebUrl")!==t&&(0,v.e)({error:{},errorMsg:"".concat(window.location.pathname,"-check replaceURL failed"),stores:{targetURL:t,currentURL:e}})}function E(){return(E=i()(l().mark((function t(e){var r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=(0,f.zT)()).statisfy||!r.statisfy("1.2.5","2.1.0","greaterThan")){t.next=13;break}return t.prev=2,t.next=5,(0,h.Q6)("WebScene","replaceURL",{url:e});case 5:return window.Navigation.CurrentWebUrl=e,O(e),t.abrupt("return");case 10:t.prev=10,t.t0=t.catch(2),(0,v.e)({error:t.t0,errorMsg:"".concat(window.location.pathname,"-replaceURL failed"),stores:{url:e,currentURL:window.location.href}});case 13:d.ZP.replaceURL(e,(function(){O(e)}));case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}function k(t){!function(t){E.apply(this,arguments)}(function(t,e){return(0,p.De)(e||location.pathname,g(g({},b()),(0,y.$9)(t,{})))}(t,""))}function _(t){d.ZP.replaceQuery(t),k(t)}},57186:function(t,e,r){"use strict";r.d(e,{TS:function(){return u},AC:function(){return l},JE:function(){return p},XX:function(){return f}});var n=r(23493),i=r.n(n),o=r(1607),a=r(66197),s=r(30023),c=r(16932);function u(t,e){var r={};return Object.keys(t).forEach((function(n){r[n]=t[n]||e[n]})),r}var l=i()((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;(0,a.Z)(t,{duration:e/1e3,onClose:function(){return o.ZP.back()}})}),2e3);function p(){var t=location.pathname+location.search;c.Z.setItem(s.k2.TCASHIER_ORIGIN_URL,t)}function f(){return c.Z.getItem(s.k2.TCASHIER_ORIGIN_URL)}},53955:function(t,e,r){"use strict";r.d(e,{Z:function(){return l},d:function(){return p}});var n=r(27361),i=r.n(n),o=r(67294),a=r.n(o),s=r(38533),c=r(99433);function u(t){try{return 1===JSON.parse(i()(t,'headers["p-uno-context"]')||"{}").ls}catch(t){return!1}}var l=a().createContext(null);function p(t){return{webpEnable:i()(t,"isSupportWebp"),platform:(i()(t,"userAgent"),e=(0,s.Xf)(window.navigator.userAgent),{current:e.platform,isNativePlatform:e.isNativePlatform,isWeChat:e.isWeChatPlatform,isTinyNativePlatform:e.isTinyNativePlatform,isIOS:e.system===c.we.IOS}),pageName:i()(t,"__res.locals.pageName"),isLoadScene:u(i()(t,"__req"))};var e}},27325:function(t,e,r){"use strict";r.d(e,{Z:function(){return c}});var n=r(67154),i=r.n(n),o=r(67294),a=r.n(o),s=r(53955);function c(t){return function(e){return a().createElement(s.Z.Consumer,null,(function(r){return a().createElement(t,i()({},e,{ctx:r}))}))}}},92272:function(t,e,r){"use strict";r.d(e,{b:function(){return M}});var n=r(48926),i=r.n(n),o=r(59713),a=r.n(o),s=r(6479),c=r.n(s),u=r(34575),l=r.n(u),p=r(93913),f=r.n(p),h=r(87757),d=r.n(h),v=r(2428),y=r(36406),m=r(50008),g=r.n(m),b=r(97792),w=[5e6,1e7];function S(t,e){return(t=parseInt(t,10))>=w[0]&&t<=w[1]?e:""}function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){return parseInt(t.errorCode,10)===b.Bq.AUTHENTICATION_FAILED||"needLogin"===t.errorMsg||"needLogin"===t.errorCode}var k=function(t,e){!function(t){if(E(t=t||{}))throw t}(t)};var _=function(t,e,r,n){var i=(n||{}).useApiErrorMsg||!r.includes("api/mayflower"),o=e||{};if("object"===g()(o)&&!Array.isArray(o)){var s=t.code,c=t.errorCode,u=t.errorMsg;o=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({isApiError:!0,code:s,errorCode:c,errorMsg:i?u:S(c,u)},o)}return o},P=r(12714);var T=r(46002);function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var C=0,A=1,L={url:"api/mayflower/train/async/result",risk:!0,defaultValue:{}};function N(t,e,r,n){return new Promise((function(o){var a=1,s=null,c=function(){var c=i()(d().mark((function i(){var c,u,l;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t(x(x({params:e},n),L));case 2:u=i.sent,l=null===(c=u.asyncApiData)||void 0===c?void 0:c.status,a>=30&&l===C&&(u.isApiError=!0),(u.isApiError||l===A)&&(clearInterval(s),(0,T.Q)({count:a,params:e,originParams:r,response:u}),o(u));case 6:case"end":return i.stop()}}),i)})));return function(){return c.apply(this,arguments)}}();s=setInterval((function(){a+=1,c()}),1e3),c()}))}var R=["customDataHandler","url"],I=["url","params","extrats","customConfig"],j=["url","params","risk","extrats","customConfig"],B=["url","params"];function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var M=function(){function t(e){var r=this;if(l()(this,t),this._handleResError=function(t,e){var r=e.customErrorHandler,n=e.defaultValue,i=e.url,o=e.customConfig;return k(t),r?r(t):_(t,n,i,o)},this._handleResData=function(t,e){var r=e.customDataHandler,n=e.url,i=c()(e,R),o=t;return function(t,e){var r=t||{},n=r.result;r.success&&!n&&(0,P.K2)(new Error("api response no result"),{error_msg:"api_response_no_result",params:JSON.stringify({data:t,api_url:e}),sub_op:"api_response_no_result"})}(o,n),r&&(o=r(t,U({},i))),o},this.get=function(){var t=i()(d().mark((function t(e){var n,i,o,a,s,u,l,p;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,i=e.params,o=e.extrats,a=void 0===o?{}:o,s=e.customConfig,u=void 0===s?{}:s,l=c()(e,I),t.prev=1,t.next=4,r.$http.get(n,U(U({},a),{},{params:i,customConfig:u}));case 4:return p=t.sent,t.abrupt("return",r._handleResData(p,U({url:n,params:i},l)));case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r._handleResError(t.t0,U({url:n,customConfig:u},l)));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),this.post=function(){var t=i()(d().mark((function t(e){var n,i,o,a,s,u,l,p,f,h;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,i=e.params,o=void 0===i?{}:i,a=e.risk,s=e.extrats,u=void 0===s?{}:s,l=e.customConfig,p=void 0===l?{}:l,f=c()(e,j),t.prev=1,t.next=4,r.$http.post(n,o,U(U({},u),{},{customConfig:p,risk:a}));case 4:return h=t.sent,t.abrupt("return",r._handleResData(h,U({url:n,params:o},f)));case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r._handleResError(t.t0,U({url:n,params:o,customConfig:p},f)));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),this.asyncQuerypost=i()(d().mark((function t(){var e,n,i,o,a,s,u,l,p,f,h=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=h.length>0&&void 0!==h[0]?h[0]:{}).customConfig=U(U({},e.customConfig||{}),{},{asyncApi:!0}),e.params=U(U({},e.params||{}),{},{async:!0}),t.next=5,r.post(e);case 5:if(n=t.sent,o=(i=n||{}).isApiError,a=i.asyncApiData,!o&&null!=a&&a.requestId){t.next=9;break}return t.abrupt("return",n);case 9:return u=(s=e||{}).url,l=s.params,p=c()(s,B),f={url:u,params:l},t.abrupt("return",N(r.post,{requestId:null==a?void 0:a.requestId},f,p));case 12:case"end":return t.stop()}}),t)}))),this.isClient=!0,this.$http=e||this._initClientHttp(),!this.$http)throw Error("$http is lost");this.isClient&&v.Z.serverTime(this.get)}return f()(t,[{key:"_initClientHttp",value:function(){return this.isClient?(0,y.W)():null}}]),t}()},2428:function(t,e,r){"use strict";var n=r(48926),i=r.n(n),o=r(87757),a=r.n(o);e.Z={__serverTimeDiff:0,serverTime:function(t){var e=this;return i()(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.__serverTime){r.next=2;break}return r.abrupt("return",e.__serverTime);case 2:return e.__queryPromise=e.__queryPromise||e.queryServerTime(t),r.abrupt("return",e.__queryPromise);case 4:case"end":return r.stop()}}),r)})))()},queryServerTime:function(t){var e=this;return i()(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getServerTime(t);case 2:return e.__serverTime=r.sent,e.setServerTimeDiff(e.__serverTime),e.__queryPromise=null,r.abrupt("return",e.__serverTime);case 6:case"end":return r.stop()}}),r)})))()},setServerTimeDiff:function(t){this.__serverTimeDiff=t-Date.now()},serverTimeNow:function(){return this.__serverTimeDiff+Date.now()},getServerTime:function(t){return t({url:"api/server/_stm",customConfig:{skipBizErrorCheck:!0}}).then((function(t){return t&&t.serverTime||Date.now()})).catch((function(){return Date.now()}))}}},36406:function(t,e,r){"use strict";r.d(e,{W:function(){return O}});var n=r(25370),i=r(53527),o=r(98717),a=r(59713),s=r.n(a),c=r(97792),u=r(12714),l=r(26372),p=r(46002);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){s()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(){return{request:function(t){return t.data&&(t.data=(0,l.$_)(t.data)),t.params&&(t.params=(0,l.$_)(t.params)),t}}},v=function(){return{response:function(t){var e=t.config.customConfig;return e&&e.skipCamelCaseResponse||(t.data=(0,l.ZV)(t.data)),t}}},y=function(){return{response:function(t){var e=t.config.customConfig;if(null==e||!e.asyncApi)return t;var r=t.data,n=r.result,i=r.status,o=r.requestId;return t.data.result=h(h({},n||{}),{},{asyncApiData:{status:i,requestId:o}}),t}}},m=function(){return{response:function(t){var e=t.config.customConfig;if(e&&e.skipBizErrorCheck)return t;var r=t.data,n=t.config;if(!r.success||!r.result){var i=r.errorMsg||"project unknown biz error",o=new Error(i);throw o.errorType="project_api_biz_error",o.errorCode=r.errorCode||"unknow",o.data=r,o.config=n,o.isDefaultCustomErrorChecker=!0,o.errorMsg=r.errorMsg,o}return t}}},g=function(t){return{responseError:function(e){var r=e.config,n=r.customConfig||{},i=n.needTimeoutRetry,o=n.retryDelay,a=void 0===o?1:o,s=n.retry,c=void 0===s?3:s;if(!i||![6e4,620011,-40057].includes(e.errorCode))return Promise.reject(e);if(r.__retryCount=r.__retryCount||0,r.__retryCount>=c)return Promise.reject(e);r.__retryCount+=1;var l={sub_op:"project_api_biz_error",url:r.method+":"+r.url,page_url:location.href,error_code:e.errorCode,error_msg:"axiosRetryInterceptor start ".concat(r.__retryCount," times"),error_type:e.errorType,params:JSON.stringify({params:r.params,data:r.data})};(0,u.K2)(e,h(h({},l),{},{sub_op:"api_error"}));var p=new Promise((function(t){setTimeout((function(){t()}),a)}));return r.data=JSON.parse(r.data||{}),p.then((function(){return t(r)}))}}},b=function(){return{responseError:function(t){if("project_api_biz_error"!==t.errorType)throw t;var e=t.errorCode,r=t.errorMsg,n=t.data,i=t.config,o=(i.url.split("?")[0]||"").replace(i.baseURL,""),a="".concat(e,"-").concat(o,"-").concat((0,p.b)(e,r||(0,c.fY)(e))),s={sub_op:"project_api_biz_error",url:i.method+":"+i.url,page_url:location.href,error_code:t.errorCode,error_msg:a,error_type:t.errorType,params:JSON.stringify({params:i.params,data:i.data,apiResponseTimeout:752===t.errorCode}),resData:n};throw(0,u.K2)(t,h(h({},s),{},{sub_op:"api_error"})),t}}},w=r(38356),S=function(t,e){return e.forEach((function(e){t.interceptors.request.use(e.request),t.interceptors.response.use(e.response,e.responseError)}))},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=null,r=(0,i.e6)(),a={pageId:r};e=(0,n.e)({pageInfo:a},{useRawResponse:!0});var s=[(0,w.WE)(),d(),v(),y(),m(),b(t),{response:function(t){var e=t.config.customConfig;return null!=e&&e.skipBizErrorCheck?t.data:t.data.result}},g(e)];return s.unshift(o.Z),S(e,s),e}},46002:function(t,e,r){"use strict";r.d(e,{b:function(){return u},Q:function(){return l}});var n=r(59713),i=r.n(n),o=r(12714);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c={9200314:{regx:/(「).+(」)/,replaceText:"$1xxx$2"},5000002:{regx:/(乘车人).+(手机号重复)/,replaceText:"$1xxx,xxx$2"},9200309:{msg:"人脸核验+短信错误提示信息"},9200318:{msg:"核对您发送验证短信的手机号码"}};function u(t,e){var r,n;if(null!==(r=c[t])&&void 0!==r&&r.msg)return null===(n=c[t])||void 0===n?void 0:n.msg;var i=c[t];return i&&e?e.replace(i.regx,i.replaceText):e}function l(t){var e=t.count,r=t.params,n=t.originParams,i=t.response,a=new Error("asyncApi resolve result"),c=u(i.errorCode,i.errorMsg),l={error_msg:"asyncApi resolve result",sub_op:"api_error",count:e,params:JSON.stringify({params:r,originParams:n,response:s(s({},i),{},{errorMsg:c})})};(0,o.K2)(a,l)}},38356:function(t,e,r){"use strict";r.d(e,{v0:function(){return d},WE:function(){return g}});var n=r(48926),i=r.n(n),o=r(87757),a=r.n(o),s=r(38533),c=r(99433),u=r(2428),l=null,p=function(){var t=(0,s.zT)(),e=t.version;return t.isNativePlatform&&(0,c.yC)(e,"4.69.0")>=0};function f(){return h.apply(this,arguments)}function h(){return(h=i()(a().mark((function t(){var e,n,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.e(5928).then(r.bind(r,96636));case 2:return e=t.sent,n=e.default,t.next=6,u.Z.serverTime();case 6:i=t.sent,l=new n({serverTime:i});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return v.apply(this,arguments)}function v(){return(v=i()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l){t.next=3;break}return t.next=3,f();case 3:return t.abrupt("return",l.messagePackSync());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return m.apply(this,arguments)}function m(){return(m=i()(a().mark((function t(e,r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=e||{},!r||!p()){t.next=4;break}return e.useNativeAntiToken=!0,t.abrupt("return",e);case 4:return t.next=6,d();case 6:if(n=t.sent,!e.risk_request){t.next=10;break}return e.risk_request={anti_content:n},t.abrupt("return",e);case 10:return e.anti_content=n,t.abrupt("return",e);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var g=function(){return{request:(t=i()(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.risk){t.next=2;break}return t.abrupt("return",e);case 2:return e.method,r=e.customConfig||{},n=r.useNativeRisk,t.next=6,y(e.data,n);case 6:return e.data=t.sent,t.abrupt("return",e);case 8:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})};var t}},9714:function(t,e,r){"use strict";r.d(e,{KQ:function(){return i}});var n=r(27527);function i(t,e){return(0,n.ZP)(t,e)}},91942:function(t,e,r){"use strict";r.d(e,{U:function(){return s}});var n=r(50008),i=r.n(n),o=r(61960),a=r(25026),s=function(t,e){return function(r,n,s){return{get:function(){var r=this[o.V];if(r){r[n]||Object.keys(r).includes(n);switch(i()(t)){case"string":return r[n];case"function":return function(t,e,r){var n=t[o.B].get(e);if(n){if(n.duplicatedDeclare)(0,a._)("不允许注入，".concat(e.name,"在当前根store中存在多重定义"));else if(n.instance)return n.instance;(0,a._)("内部错误，instance未被存入storeMapping")}if((r=r||{}).nullable)return null;(0,a._)("rootstore中不存在类型为["+e.name+"] 的子store")}(r,t,e);default:(0,a._)("injectFromRoot仅支持传属性名或类型")}}else(0,a._)("内部错误，请检查rootstore中是否使用了@withSubstores")}}}}},81325:function(t,e,r){"use strict";r.d(e,{G:function(){return S}});var n=r(93913),i=r.n(n),o=r(34575),a=r.n(o),s=r(81506),c=r.n(s),u=r(2205),l=r.n(u),p=r(78585),f=r.n(p),h=r(29754),d=r.n(h),v=r(25026),y=r(61960);function m(){console.warn("不允许对虚拟子store做赋值运算")}function g(t){var e=new Map;Object.defineProperty(t,y.B,{value:e,writable:!1})}function b(t,e,r){var n=r||{},i=n.clazz,o=n.virtual,a=new i;Object.defineProperty(t,e,{enumerable:!o,get:function(){return a},set:o?m:function(t){t&&Object.assign(a,t)}});var s=function(t){for(var e=[],r=t;r&&"function"==typeof r;){e.push(r);var n=Object.getPrototypeOf(r);if(!n||n===Object.prototype)break;r=n}return e}(i);s.forEach((function(e){t[y.B].has(e)?t[y.B].get(e).duplicatedDeclare=!0:t[y.B].set(e,{instance:a,substoreConfig:r})})),Object.defineProperty(a,y.V,{get:function(){return t}})}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d()(t);if(e){var i=d()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var S=function(t){return function(e){var r,n;return n=r=function(r){l()(o,r);var n=w(o);function o(){var r;return a()(this,o),r=n.apply(this,arguments),g(c()(r)),Object.keys(t).forEach((function(n){r[n]&&(0,v._)("".concat(n,"已经定义，请检查根Store[").concat(e.name,"]的声明"));var i=t[n];"function"==typeof t[n]&&(i={clazz:t[n]}),b(c()(r),n,i)})),r}return i()(o)}(e),r.displayName=e.displayName||e.name,n}}},86807:function(t,e,r){"use strict";r.d(e,{O:function(){return g},w:function(){return b}});var n=r(34575),i=r.n(n),o=r(93913),a=r.n(o),s=r(2205),c=r.n(s),u=r(78585),l=r.n(u),p=r(29754),f=r.n(p),h=r(96060),d=r(36406),v=r(53955),y=r(61960);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f()(t);if(e){var i=f()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}function g(t){var e=t.data,r=t.rootStore;r&&r[y.B]&&r[y.B].forEach((function(t){var r=t||{},n=r.substoreConfig,i=r.instance;if(i&&i.onNextViewObject){var o=n&&n.viewObjectMapper?n.viewObjectMapper(e):e;i.onNextViewObject&&i.onNextViewObject(o)}}))}var b=function(t){c()(r,t);var e=m(r);function r(){return i()(this,r),e.apply(this,arguments)}return a()(r,[{key:"initAxiosHttp",value:function(t){t.req,t.res,t.accessToken;var e={pageInfo:t.pageInfo};this.$axiosHttp=(0,d.W)(e)}},{key:"getExtraData",value:function(){}},{key:"initCommonPageData",value:function(t){}},{key:"baseInitDataCallback",value:function(t){this.$ctx=(0,v.d)(t),this.initCommonPageData(t),this.initServices(this.$axiosHttp);var e=this.getDatasource();return this.loadDatasource(e,t)}},{key:"initDataCallback",value:function(t){var e=this;this[y.B]&&this[y.B].forEach((function(e){var r=(e||{}).instance;r&&r.initWithContext&&r.initWithContext(t)}));var r=this.baseInitDataCallback(t);return this[y.B]&&r&&r.then?r.then((function(t){return g({data:e,rootStore:e}),t})):r}},{key:"fromJS",value:function(t,e){t&&t.isServerRendered&&(Object.assign(this,t),this.initAxiosHttp({pageInfo:e}),this.initServices(this.$axiosHttp))}}]),r}(h.j)},54328:function(t,e,r){"use strict";r.d(e,{q:function(){return u}});var n=r(34575),i=r.n(n),o=r(93913),a=r.n(o),s=r(61960),c=r(86807),u=function(){function t(){i()(this,t)}return a()(t,[{key:"initWithContext",value:function(t){}},{key:"onNextViewObject",value:function(t){}},{key:"getAxiosHttp",value:function(){var t=this[s.V];return t&&t.$axiosHttp?t.$axiosHttp:(console.warn("未找到$axiosHttp的存在，请不要在initClientData前调用"),null)}},{key:"getRootService",value:function(){var t=this[s.V];return t&&t.$service?t.$service:(console.warn("未找到$service的存在，请确保initService时有创建"),null)}},{key:"updateWholeStores",value:function(t){var e=this[s.V];e&&(0,c.O)({data:t,rootStore:e})}},{key:"updateWholeStoresNew",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this[s.V],r=e&&e.getExtraData&&e.getExtraData()||{},n={initData:t,updateExtraData:r};e&&(0,c.O)({data:n,rootStore:e})}}]),t}()},40193:function(t,e,r){"use strict";r.d(e,{r:function(){return o}});var n=r(693),i=r(86807);function o(t,e){if("function"==typeof i.w&&i.w.isPrototypeOf(t))return(0,n.I)({store:t},e);throw new Error("必须传入一个 RootViewStore 的子类")}},93820:function(t,e,r){"use strict";r.d(e,{O:function(){return i}});var n=r(61960);function i(t){return function(e){var r=e.store;if(!r)throw new Error("找不到根store，请确认是否使用了@mstoresAppStore装饰根组件");if(!r[n.B])throw new Error("根store并没有经@withSubstores处理");return Object.keys(t).reduce((function(e,i){var o=t[i],a=r[n.B].get(o);if(!a||!a.instance)throw new Error("内部错误，无法找到子store的instance");if(a.duplicatedDeclare)throw new Error("不允许注入，".concat(o.name,"在当前根store中存在多重定义"));return e[i]=a.instance,e}),{$pStore:r})}}},61960:function(t,e,r){"use strict";r.d(e,{B:function(){return n},V:function(){return i}});var n="$$mstores_root_storeMapping",i="$$mstores_sub_rootlink"},25026:function(t,e,r){"use strict";function n(t){throw console.error(t),new Error(t)}r.d(e,{_:function(){return n}})},78357:function(t,e,r){"use strict";r.d(e,{Z:function(){return F}});var n=r(59713),i=r.n(n),o=r(48926),a=r.n(o),s=r(87757),c=r.n(s),u=r(67294),l=r.n(u),p=r(49408),f=r(94184),h=r.n(f),d=r(24684),v=r(66197),y=r(1010),m=r(54268),g=r(33162),b=r(6341),w=r(96237),S=r(57028),O=r(37576),E=r(26974),k="jXbp-4PT",_="JF6a93Ph",P="Su5B-Gzl",T="Dd8YHmFl",D="atXi-neZ",x="_1Gou5XgO",C="MNOJP2kJ",A="UAZHCXkI",L="DjUCoSN+",N="bnGI3Fo0",R="e5Ub-y1N",I="sOJbxH3+",j="Io7jfNDk",B="_2ZegpywC",V=(0,m.H)("/order_checkout/a8e6ba71-9620-445c-b59b-499413fb5d60.png.slim.png"),U={IMPR:5443338,OPEN:5443339,CANCEL:5443340},M={IMPR:5443346,OPEN:5443347,CANCEL:5443348},H=(0,u.memo)((function(t){var e=t.station,r=t.timeSplit,n=t.date;return l().createElement("div",{className:T},l().createElement("span",{className:x},e),l().createElement("span",{className:C},null==r?void 0:r[0],l().createElement("span",{className:A},":"),null==r?void 0:r[1]),l().createElement("span",{className:D},n))})),Z=(0,u.memo)((function(t){var e=t.trainInfo||{},r=e.startStation,n=e.showEtdDate,i=e.etdSplit,o=e.trainNo,a=e.endStation,s=e.etaSplit,c=e.showEtaDate;return e.eta?l().createElement(S.Z,{background:!0,src:V,className:P,resizeWidth:504},l().createElement(H,{station:r,timeSplit:i,date:n}),l().createElement("div",{className:L},l().createElement("div",{className:N},o),l().createElement("div",{className:R})),l().createElement(H,{station:a,timeSplit:s,date:c})):null})),z=(0,p.Pi)((function(t){var e=t.onConfirm,r=t.onClose,n=t.trainInfo,o=t.seatType,s=t.remindType,u=t.remindLevel,p=t.isRetain,f=t.title,m=t.jumpUrl,S=n.startStation,P=n.endStation,T=n.trainNo,D=n.etd,x=n.eta,C=p?M:U,A=function(){var t=a()(c().mark((function t(){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,b.Vr)(C.OPEN),r={trainNo:T,startStation:S,endStation:P,departTime:D,arriveTime:x,seatType:o,remindType:s,remindLevel:u,jumpUrl:m},t.next=4,O.Z.addRemind(r);case 4:if(!(n=t.sent).isApiError){t.next=9;break}return(0,v.Z)("当前预订人数过多，请稍候重试"),(0,w.e)({errorMsg:"add remind error",stores:{data:n}}),t.abrupt("return");case 9:e();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(t){t.stopPropagation()},N=function(){(0,b.Vr)(C.CANCEL),r()};return l().createElement(d.Z,{trackingInfo:{page_el_sn:C.IMPR}},l().createElement(g.Z,{visible:!0,onBackdropClick:L},l().createElement("div",{className:k,onClick:L},l().createElement("span",{className:_},f||"开启提醒，车次".concat(s===E.l.SALE?"开售":"有票","时通知您购票")),l().createElement(Z,{trainInfo:n}),l().createElement("div",{className:h()(I,i()({},B,!(null!=n&&n.eta))),onClick:A},"开启提醒"),l().createElement("div",{className:j,onClick:N},"稍后再说"),l().createElement(y.Z,{onClick:N}))))})),F=z},37576:function(t,e,r){"use strict";var n=r(34575),i=r.n(n),o=r(93913),a=r.n(o),s=r(2205),c=r.n(s),u=r(78585),l=r.n(u),p=r(29754),f=r.n(p),h=r(92272);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f()(t);if(e){var i=f()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var v="api/mayflower/remind/add",y="api/mayflower/remind/close",m=function(t){c()(r,t);var e=d(r);function r(){return i()(this,r),e.apply(this,arguments)}return a()(r,[{key:"addRemind",value:function(t){return this.post({url:v,params:t,risk:!0,defaultValue:{}})}},{key:"closeRemind",value:function(t){return this.post({url:y,params:t,risk:!0,defaultValue:{}})}}]),r}(h.b);e.Z=new m},26974:function(t,e,r){"use strict";r.d(e,{l:function(){return n},p:function(){return i}});var n={TICKET:1,SALE:2,ARRIVE:3,CHECKOUT:4},i={TRAIN:1,SEAT:2}},22392:function(t,e,r){"use strict";r.d(e,{Z:function(){return H}});var n,i,o,a=r(21165),s=r.n(a),c=r(34575),u=r.n(c),l=r(93913),p=r.n(l),f=r(81506),h=r.n(f),d=r(2205),v=r.n(d),y=r(78585),m=r.n(y),g=r(29754),b=r.n(g),w=r(33124),S=r.n(w),O=(r(67268),r(67294)),E=r.n(O),k=r(49408),_=r(94184),P=r.n(_),T=r(90926),D=r.n(T),x=r(93820),C=r(72781),A=r(29404),L=r(85068),N=r(59713),R=r.n(N),I=r(55622),j=R()({},L.p.CHECKOUT,802880),B=(0,I.Aw)({makeParams:function(t,e,r){return{op:"click",page_el_sn:j[r]||""}},waitForRecord:!0}),V=r(53092),U=r.n(V);function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b()(t);if(e){var i=b()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m()(this,r)}}var H=D()(U())(n=(0,k.f3)((0,x.O)({configurationStore:C.Z}))((i=function(t){v()(r,t);var e=M(r);function r(){var t;u()(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),s()(t,"doLoggerAddThen",o,h()(t)),t}return p()(r,[{key:"render",value:function(){var t=this,e=this.props.configurationStore.transacType,r=e===L.p.GRAB?"抢票/退改签须知":"购票/退改签须知";return E().createElement(E().Fragment,null,E().createElement("div",{className:U().agreeContainer},E().createElement("div",{className:U().label},E().createElement("span",null,"点击立即预订即表示您已阅读并同意"),E().createElement("span",{className:U().protocolText,"data-test":"agreement-bar-protocol",onClick:function(){return t.doLoggerAddThen("protocol",e)},"data-active":"link-gray"},"《火车票预订服务协议》"))),E().createElement("div",{className:U().viewContainer,onClick:function(){return t.doLoggerAddThen("rules",e)}},E().createElement("div",{className:U().icon}),E().createElement("div",{className:U().label},E().createElement("span",{className:P()(U().protocolText,U().view)},"点击查看"),E().createElement("span",{className:U().desc,"data-test":"agreement-bar-rules","data-active":"link-gray"},r))))}}]),r}(E().Component),o=S()(i.prototype,"doLoggerAddThen",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(t,e){"protocol"===t?(0,A.v_)(A._B.TCASHIER_PROTOCOLS,{protocolName:"reserve_protocol"}):(0,A.v_)(A._B.TRAIN_RULE,{active_tab:e===L.p.GRAB?"grab":"booking"})}}}),n=i))||n)||n},84160:function(t,e,r){"use strict";r.d(e,{wp:function(){return W},i0:function(){return Y},QM:function(){return Q},GN:function(){return $},XA:function(){return X}});var n=r(48926),i=r.n(n),o=r(34575),a=r.n(o),s=r(93913),c=r.n(s),u=r(2205),l=r.n(u),p=r(78585),f=r.n(p),h=r(29754),d=r.n(h),v=r(59713),y=r.n(v),m=r(87757),g=r.n(m),b=r(67294),w=r.n(b),S=r(94184),O=r.n(S),E=r(33162),k=r(4026),_=r(77499),P=r(1010),T="pFQuk6jJ",D="j7EVzWCm",x="Vo82WyOq",C="L7C-N9W+",A="nHgSEAbj",L="HvE-Wtqo",N="FDWMy6q+",R="_2GWFb0P0",I="CfBiUBSd",j="CP6JWdAK",B="_1nCwJY4n";function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach((function(e){y()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d()(t);if(e){var i=d()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var H=0,Z=1,z="确认",F="取消",G=(0,b.memo)((function(t){var e=t.okLabel,r=t.type,n=t.onOk,i=O()(N,R,y()({},I,r===H));return w().createElement("div",{className:i,onClick:n,"data-active":"link-red"},e||z)})),q=(0,b.memo)((function(t){var e=t.cancelLabel,r=t.type,n=t.onCancel;return r!==H?null:w().createElement("div",{className:N,onClick:n},e||F)})),K=function(t){l()(r,t);var e=M(r);function r(){var t;a()(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).onOk=i()(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.props.onOk){e.next=6;break}return e.next=3,t.props.onOk();case 3:if(!1!==e.sent){e.next=6;break}return e.abrupt("return");case 6:t.props.cleanupPopup();case 7:case"end":return e.stop()}}),e)}))),t.onCancel=i()(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.onCancel&&t.props.onCancel(),t.props.cleanupPopup();case 2:case"end":return e.stop()}}),e)}))),t.onClose=i()(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.onClose&&t.props.onClose(),t.props.cleanupPopup();case 2:case"end":return e.stop()}}),e)}))),t}return c()(r,[{key:"render",value:function(){var t=this.props,e=t.title,r=t.text,n=t.cancelLabel,i=t.okLabel,o=t.type,a=t.textArr,s=t.textLeft,c=!!a&&a.length>0,u=O()(x,y()({},C,!!e),y()({},A,s));return w().createElement(E.Z,{visible:!0,onBackdropClick:this.onClose},w().createElement("div",{className:T},w().createElement(P.Z,{onClick:this.onClose}),!!e&&w().createElement("div",{className:D},e),!!r&&w().createElement("div",{className:u},r),c&&w().createElement("div",{className:u},a.map((function(t,e){return w().createElement("div",{key:"confirm-text-arr-".concat(e)},t)}))),w().createElement("div",{className:L},w().createElement(q,{cancelLabel:n,onCancel:this.onCancel,type:o}),w().createElement(G,{okLabel:i,type:o,onOk:this.onOk}))))}}]),r}(w().Component);function Y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.title,r=t.text,n=t.onOk,i=t.onCancel,o=t.okLabel,a=t.cancelLabel,s=t.pureClose,c=t.textArr,u=t.textLeft,l=(0,k.Z)(w().createElement(K,{title:e,text:r,textArr:c,textLeft:u,onOk:n,onCancel:i,onClose:s?null:i,cleanupPopup:function(){return l()},okLabel:o,type:H,cancelLabel:a}))}function W(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.title,r=t.text,n=t.onOk,i=t.okLabel,o=t.pureClose,a=t.textArr,s=t.textLeft,c=(0,k.Z)(w().createElement(K,{title:e,text:r,textArr:a,textLeft:s,onOk:n,onClose:o?null:n,cleanupPopup:function(){return c()},okLabel:i,type:Z}))}function $(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,r){Y(U(U({},t),{},{onOk:e,onCancel:r}))}))}function Q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,r){W(U(U({},t),{},{onOk:e}))}))}function X(t,e){var r="<div class=".concat(j,">\n        <div class=").concat(B,"></div>\n        <div>").concat(t,"</div>\n    </div>");(0,_.Z)(r,e)}},36423:function(t,e,r){"use strict";var n=r(38871);e.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3transitDetailPopup"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(7711).then(r.bind(r,29016))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 29016}})},43230:function(t,e,r){"use strict";r.d(e,{Z:function(){return q}});var n=r(34575),i=r.n(n),o=r(93913),a=r.n(o),s=r(2205),c=r.n(s),u=r(78585),l=r.n(u),p=r(29754),f=r.n(p),h=r(67294),d=r.n(h),v=r(49408),y=r(93820),m=r(72781),g=r(521),b=r(59713),w=r.n(b),S=r(94184),O=r.n(S),E=r(54136),k={container:"ZaB6jhir",content:"i6wiSicQ",special:"v10HakLE",left:"_8APgYMq7",right:"MpT5qLT5",station:"_8w8q0yVC",time:"_3qHShfU-",colon:"zZemK33T",block:"W2LQisgo",text:"-a97zhjX",box:"WKMBBAjD",line:"duO4kD8U",schedule:"WxnS9taf",date:"GDVi0eqn",tag:"nu-ojsyG",cardTip:"veBHsXZl",loading:"NhjpC1YL",gradual:"qpou9X59"};function _(t){var e=t.type,r=t.isApiError,n=t.station,i=t.date,o=t.time,a=void 0===o?"":o,s=t.tag,c=a.split(":");return d().createElement("div",{className:k[e]},d().createElement("div",{className:k.station},n),d().createElement("div",{className:k.time},a?d().createElement(h.Fragment,null,c[0],d().createElement("span",{className:k.colon},":"),c[1]):d().createElement("span",null,"--")),d().createElement("div",{className:k.block},r?"--":d().createElement(h.Fragment,null,d().createElement("div",{className:k.date},i),i&&s&&d().createElement("div",{className:k.tag},s))))}var P=(0,h.memo)(_);function T(t){var e=t.trainData,r=t.pageElSn,n=t.isApiError,i=t.hideBorder,o=e||{},a=o.startStation,s=o.endStation,c=o.dateTag,u=o.showEtaDate,l=o.showEtaTime,p=o.showEtdDate,f=o.showEtdTime,v=o.trainTime,y=o.trainNo,m=o.showIdCard;return d().createElement(h.Fragment,null,d().createElement("div",{className:k.container},d().createElement("div",{className:O()(k.content,w()({},k.special,i||m))},d().createElement(P,{type:"left",isApiError:n,station:a,date:p,time:f,tag:c}),d().createElement(E.Z,{hasStationPop:!0,showTimeSchedule:!0,duration:v,trainNo:y,className:k.schedule,clickElSn:r}),d().createElement(P,{type:"right",isApiError:n,station:s,date:u,time:l})),m&&d().createElement("div",{className:k.cardTip},"本车次可刷二代身份证进站乘车")))}var D,x=r(24538),C=r(63038),A=r.n(C),L=r(24684),N=r(6341),R=r(36423),I={container:"teDA04Ep",list:"XIwnZux2",trainInfo:"yKbFyXU-",segmentNo:"oPFca9p-",station:"BUsoSnm9",price:"hlmEN45r",loading:"SiT6+mYQ",gradual:"_5+ZM2OXp"},j=5489507,B=(0,h.memo)((function(t){var e=t.trainInfoList,r=t.transitPopupData,n=(0,h.useState)(!1),i=A()(n,2),o=i[0],a=i[1],s=function(t){(0,N.Vr)(j),a(t)};return d().createElement("div",{className:I.container},d().createElement(L.Z,{trackingInfo:{page_el_sn:j}},d().createElement("div",{className:I.list,onClick:function(){return s(!0)}},e.map((function(t,e){var r=t.departDateShow,n=t.startStation,i=t.endStation,o=t.seat,a=t.unitAmount,s=t.trainNo;return d().createElement("div",{key:"".concat(s,"-").concat(e),className:I.trainInfo},d().createElement("span",{className:I.segmentNo},"第",e+1,"程"),d().createElement("span",{className:I.date},r),d().createElement("span",{className:I.station},n," - ",i),d().createElement("span",{className:I.seat},o),d().createElement("span",{className:I.price},"¥",a))})))),o&&d().createElement(R.Z,{data:r,onClose:s}))})),V=r(67825),U="YK9NFVeY",M="iKeq-AhD",H="_76rNmi7H",Z="t85qN4wL",z="TdAfJynj",F="lPfRITFp";function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f()(t);if(e){var i=f()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var q=(0,v.f3)((0,y.O)({bookingSummaryStore:V.s,paymentBottomBarStore:g.K,configurationStore:m.Z}))(D=(0,v.Pi)(D=function(t){c()(r,t);var e=G(r);function r(){return i()(this,r),e.apply(this,arguments)}return a()(r,[{key:"render",value:function(){var t,e=this.props.bookingSummaryStore,r=e.trainData,n=e.toggleAcceptNoSeat,i=e.acceptNoSeat,o=e.isTransit,a=e.singleTrainVo,s=e.trainInfoList,c=e.transitPopupData,u=(null===(t=(this.props.paymentBottomBarStore.vo||{}).priceDetailList.find((function(t){return t.priceType===x.g.TICKET})))||void 0===t?void 0:t.priceStd)||0;if(o)return d().createElement(B,{trainInfoList:s,transitPopupData:c});var l=a.seat,p=a.showAcceptNoSeat;return d().createElement(h.Fragment,null,d().createElement(T,{trainData:r,pageElSn:802834}),d().createElement("div",{className:U},l,d().createElement("span",{className:M},"¥",u),d().createElement("span",{className:H}),!!p&&d().createElement("span",{className:Z,"data-test":"summary-accept-no-seat",onClick:n},"接受无座 ",d().createElement("span",{className:i?F:z}))))}}]),r}(d().Component))||D)||D},67825:function(t,e,r){"use strict";r.d(e,{o:function(){return X},s:function(){return J}});var n,i,o,a,s,c,u,l,p,f,h,d,v,y,m,g,b,w,S,O,E,k,_,P,T,D,x,C=r(81506),A=r.n(C),L=r(2205),N=r.n(L),R=r(78585),I=r.n(R),j=r(29754),B=r.n(j),V=r(21165),U=r.n(V),M=r(93913),H=r.n(M),Z=r(34575),z=r.n(Z),F=r(33124),G=r.n(F),q=(r(67268),r(22188)),K=r(91942),Y=r(54328),W=r(75048),$=r(72781);function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=B()(t);if(e){var i=B()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return I()(this,r)}}var X=(n=H()((function t(){z()(this,t),U()(this,"startStation",i,this),U()(this,"endStation",o,this),U()(this,"trainNo",a,this),U()(this,"departDateShow",s,this),U()(this,"departTimeShow",c,this),U()(this,"arrivalDateShow",u,this),U()(this,"arrivalTimeShow",l,this),U()(this,"seat",p,this),U()(this,"seatType",f,this),U()(this,"dateTag",h,this),U()(this,"unitAmount",d,this),U()(this,"duration",v,this),U()(this,"ticketPrice",y,this),U()(this,"supportSeats",m,this),U()(this,"deadlineList",g,this),U()(this,"showAcceptNoSeat",b,this),U()(this,"segmentNo",w,this),U()(this,"useIdCardIn",S,this)})),i=G()(n.prototype,"startStation",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=G()(n.prototype,"endStation",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=G()(n.prototype,"trainNo",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=G()(n.prototype,"departDateShow",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=G()(n.prototype,"departTimeShow",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=G()(n.prototype,"arrivalDateShow",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=G()(n.prototype,"arrivalTimeShow",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=G()(n.prototype,"seat",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=G()(n.prototype,"seatType",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=G()(n.prototype,"dateTag",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=G()(n.prototype,"unitAmount",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=G()(n.prototype,"duration",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=G()(n.prototype,"ticketPrice",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=G()(n.prototype,"supportSeats",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=G()(n.prototype,"deadlineList",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=G()(n.prototype,"showAcceptNoSeat",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=G()(n.prototype,"segmentNo",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=G()(n.prototype,"useIdCardIn",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),n),J=(O=(0,K.U)($.Z),E=q.aD.bound,k=function(t){N()(r,t);var e=Q(r);function r(){var t;z()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),U()(t,"vo",_,A()(t)),U()(t,"trainInfoList",P,A()(t)),U()(t,"transitPopupData",T,A()(t)),U()(t,"acceptNoSeat",D,A()(t)),U()(t,"configurationStore",x,A()(t)),t}return H()(r,[{key:"singleTrainVo",get:function(){var t;return(null===(t=this.trainInfoList)||void 0===t?void 0:t[0])||this.vo}},{key:"trainData",get:function(){var t=this.singleTrainVo,e=t.startStation,r=t.endStation,n=t.dateTag,i=t.arrivalDateShow,o=t.arrivalTimeShow,a=t.departDateShow,s=t.departTimeShow,c=t.duration,u=t.trainNo,l=t.departTime,p=t.arrivalTime,f=t.useIdCardIn;return{startStation:e,endStation:r,dateTag:n,showEtaDate:i,showEtaTime:o,showEtdDate:a,showEtdTime:s,trainTime:c,trainNo:u,etdSplit:null==s?void 0:s.split(":"),etaSplit:null==o?void 0:o.split(":"),etd:l,eta:p,showIdCard:1===parseInt(f,10)}}},{key:"isTransit",get:function(){var t;return(null===(t=this.trainInfoList)||void 0===t?void 0:t.length)>1}},{key:"onNextViewObject",value:function(t){var e=t.trainInfoList;Array.isArray(e)?(0,W.w)(this,t):(0,W.w)(this.vo,t||{})}},{key:"toggleAcceptNoSeat",value:function(){this.acceptNoSeat=!this.acceptNoSeat}}]),r}(Y.q),_=G()(k.prototype,"vo",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new X}}),P=G()(k.prototype,"trainInfoList",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=G()(k.prototype,"transitPopupData",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),D=G()(k.prototype,"acceptNoSeat",[q.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=G()(k.prototype,"configurationStore",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G()(k.prototype,"trainData",[q.Fl],Object.getOwnPropertyDescriptor(k.prototype,"trainData"),k.prototype),G()(k.prototype,"toggleAcceptNoSeat",[E],Object.getOwnPropertyDescriptor(k.prototype,"toggleAcceptNoSeat"),k.prototype),k)},11947:function(t,e,r){"use strict";r.d(e,{Z:function(){return d}});var n=r(34575),i=r.n(n),o=r(93913),a=r.n(o),s=r(2205),c=r.n(s),u=r(78585),l=r.n(u),p=r(29754),f=r.n(p);function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f()(t);if(e){var i=f()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var d=function(t){c()(r,t);var e=h(r);function r(){return i()(this,r),e.apply(this,arguments)}return a()(r,[{key:"doPageUpdate",value:function(){throw new Error("unimplemented")}}]),r}(r(54328).q)},13890:function(t,e,r){"use strict";r.d(e,{Z:function(){return _}});var n,i=r(34575),o=r.n(i),a=r(93913),s=r.n(a),c=r(2205),u=r.n(c),l=r(78585),p=r.n(l),f=r(29754),h=r.n(f),d=r(67294),v=r.n(d),y=r(49408),m=r(93820),g=r(53613),b=r(9786),w=r(33611),S="KOzMm5Nx",O="_6PHpMPMA";function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p()(this,r)}}var k=1656561,_=(0,y.f3)((0,m.O)({couponSelectStore:w.x}))(n=(0,y.Pi)(n=function(t){u()(r,t);var e=E(r);function r(){var t;o()(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).store=t.props.couponSelectStore,t.clickHandle=function(){(0,g.V)(k,null,t.store.toggleCouponPopup)},t}return s()(r,[{key:"render",value:function(){var t,e;if(null===(t=this.store)||void 0===t||null===(e=t.vo)||void 0===e||!e.canShowCoupon)return null;var r=this.store,n=r.showText,i=r.showCouponPopup,o=r.toggleCouponPopup,a=r.selectedCouponId,s=r.selectHandler,c=this.store.vo||{},u=c.validList,l=c.unvalidList;return v().createElement(d.Fragment,null,v().createElement("div",{className:S,"data-test":"1656561",onClick:this.clickHandle},v().createElement("p",null,"平台优惠"),v().createElement("div",{className:O},n)),i&&v().createElement(b.Z,{validList:u,unvalidList:l,couponId:a,selectHandler:s,closePopup:o}))}}]),r}(v().Component))||n)||n},33611:function(t,e,r){"use strict";r.d(e,{x:function(){return G}});var n,i,o,a,s,c,u,l,p,f,h,d,v,y=r(48926),m=r.n(y),g=r(81506),b=r.n(g),w=r(2205),S=r.n(w),O=r(78585),E=r.n(O),k=r(29754),_=r.n(k),P=r(21165),T=r.n(P),D=r(93913),x=r.n(D),C=r(34575),A=r.n(C),L=r(33124),N=r.n(L),R=(r(67268),r(87757)),I=r.n(R),j=r(22188),B=r(75048),V=r(91942),U=r(54328),M=r(11838),H=r(11947),Z=r(83718);function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_()(t);if(e){var i=_()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return E()(this,r)}}var F=(n=x()((function t(){A()(this,t),T()(this,"canShowCoupon",i,this),T()(this,"validList",o,this),T()(this,"unvalidList",a,this),T()(this,"selectedCoupon",s,this),T()(this,"discountPriceShow",c,this)})),i=N()(n.prototype,"canShowCoupon",[j.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=N()(n.prototype,"validList",[j.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=N()(n.prototype,"unvalidList",[j.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=N()(n.prototype,"selectedCoupon",[j.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=N()(n.prototype,"discountPriceShow",[j.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n),G=(u=(0,V.U)(H.Z),l=j.aD.bound,p=j.aD.bound,f=function(t){S()(n,t);var e,r=z(n);function n(){var t;A()(this,n);for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return t=r.call.apply(r,[this].concat(i)),T()(t,"showCouponPopup",h,b()(t)),t.isDoNotUse=!1,T()(t,"vo",d,b()(t)),T()(t,"updateStore",v,b()(t)),t}return x()(n,[{key:"onNextViewObject",value:function(t){t=t||{},(0,B.w)(this.vo,t)}},{key:"selectedCouponId",get:function(){var t;return null===(t=this.vo.selectedCoupon)||void 0===t?void 0:t.couponId}},{key:"showText",get:function(){if(this.vo.discountPriceShow)return"已减".concat(this.vo.discountPriceShow,"元");var t=this.vo.validList.length,e=this.vo.unvalidList.length;return t>0?"你有".concat(t,"张无门槛券可使用"):"你有".concat(t+e,"张无门槛券")}},{key:"toggleCouponPopup",value:function(){this.showCouponPopup=!this.showCouponPopup}},{key:"selectHandler",value:(e=m()(I().mark((function t(e){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isDoNotUse=!e,this.vo.selectedCoupon=e,(0,Z.y)(),t.next=5,this.updateStore.doPageUpdate({source:M.xi.COUPON});case 5:(0,Z.v)(),this.toggleCouponPopup();case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),n}(U.q),h=N()(f.prototype,"showCouponPopup",[j.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=N()(f.prototype,"vo",[j.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new F}}),v=N()(f.prototype,"updateStore",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N()(f.prototype,"selectedCouponId",[j.Fl],Object.getOwnPropertyDescriptor(f.prototype,"selectedCouponId"),f.prototype),N()(f.prototype,"showText",[j.Fl],Object.getOwnPropertyDescriptor(f.prototype,"showText"),f.prototype),N()(f.prototype,"toggleCouponPopup",[l],Object.getOwnPropertyDescriptor(f.prototype,"toggleCouponPopup"),f.prototype),N()(f.prototype,"selectHandler",[p],Object.getOwnPropertyDescriptor(f.prototype,"selectHandler"),f.prototype),f)},57028:function(t,e,r){"use strict";var n=r(67154),i=r.n(n),o=r(6479),a=r.n(o),s=r(67294),c=r.n(s),u=r(22882),l=r(9164),p=r(44968),f=r(27325),h=["src","background","lazy","children"],d=["src","innerRef","resizeWidth","ctx","quality","preloadResourceName","forceSkipCDN"];function v(t){var e=t.src,r=t.background,n=t.lazy,o=t.children,s=a()(t,h);return r?c().createElement("div",i()({style:{backgroundImage:"url(".concat(e,")")}},s),o):n?c().createElement(u.Z,i()({src:e},s)):c().createElement(l.Z,i()({src:e},s))}e.Z=(0,s.memo)((0,f.Z)((function(t){var e=t.src,r=t.innerRef,n=t.resizeWidth,o=t.ctx,u=t.quality,l=void 0===u?80:u,f=(t.preloadResourceName,t.forceSkipCDN),h=a()(t,d);if(!e)return c().createElement(s.Fragment,null);var y=f?e:(0,p.FT)(e,{resizeWidth:n,quality:l,webpEnable:o.webpEnable});return c().createElement(v,i()({},h,{ref:r,src:y}))})))},38005:function(t,e,r){"use strict";var n=r(38871);e.Z=(0,n.n)({resolved:{},chunkName:function(){return"dynamic_GotoApp"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(4343).then(r.bind(r,16720))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 16720}},{isCloseSpinner:!0})},99349:function(t,e,r){"use strict";var n=r(38871);e.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1app_share"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(8320).then(r.bind(r,82337))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 82337}},{timeout:300,isCloseSpinner:!0})},37668:function(t,e,r){"use strict";var n=r(38871);e.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1share_native"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(1312).then(r.bind(r,37578))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 37578}},{isCloseSpinner:!0,timeout:300})},57068:function(t,e,r){"use strict";r.d(e,{Z:function(){return it}});var n=r(34575),i=r.n(n),o=r(93913),a=r.n(o),s=r(2205),c=r.n(s),u=r(78585),l=r.n(u),p=r(29754),f=r.n(p),h=r(67294),d=r.n(h),v=(r(45697),r(49408)),y=r(38533),m=r(59738),g=r(30209),b=r(66197),w=r(53955);function S(t){var e=t.ctx||(0,w.d)();return d().createElement(w.Z.Provider,{value:e},t.children)}var O,E=r(59713),k=r.n(E),_=r(33124),P=r.n(_),T=r(94184),D=r.n(T),x=r(24788),C=r(96521),A=r(65077),L="jvVVFQTB",N="_1jEsgCwd",R="+cd5MS7v",I="o66Fn2Ec",j="_8yvLPUQJ",B="jOOoTBTT",V="_5lWtf8BM";function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f()(t);if(e){var i=f()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var M="_oc_h5_isfirsterror",H=(O=function(t){c()(r,t);var e=U(r);function r(){var t;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state={refreshing:!1,enableRefresh:!1,showType:2,leftSecond:9,isFirsrtError:!1},t}return a()(r,[{key:"componentDidMount",value:function(){var t=this;if(x.Cp(),(0,A.XY)(),sessionStorage.getItem(M))var e=setInterval((function(){var r=t.state.leftSecond-1;t.setState({leftSecond:r}),r<=0&&(t.setState({enableRefresh:!0}),clearInterval(e))}),1e3);else sessionStorage.setItem(M,"1"),this.setState({leftSecond:0,enableRefresh:!0,isFirsrtError:!0})}},{key:"onClick",value:function(){!this.state.refreshing&&this.state.enableRefresh&&(this.setState({refreshing:!0}),location.reload())}},{key:"render",value:function(){var t,e=this.state,r=e.refreshing,n=e.enableRefresh,i=e.leftSecond,o=D()(j,(t={},k()(t,B,!n),k()(t,V,r),t)),a="重新加载";return i>0&&(a="重新加载("+i+"s)"),d().createElement("div",{className:D()(L,N)},d().createElement("div",{className:R}),d().createElement("p",{className:I},"页面正在加载中，请稍后"),d().createElement("div",{className:o,onClick:this.onClick},a))}}]),r}(d().Component),P()(O.prototype,"onClick",[C.Z],Object.getOwnPropertyDescriptor(O.prototype,"onClick"),O.prototype),O),Z=r(48926),z=r.n(Z),F=r(87757),G=r.n(F),q=r(99433),K=r(79072),Y=r(37668),W=r(99349);function $(t){var e=t.shareInfo;return(0,h.useEffect)((function(){var t=function(){var t=z()(G().mark((function t(){var n,i,o;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.e(902).then(r.bind(r,10902));case 2:if(n=t.sent,i=n.default,o=n.ShareType,i){t.next=7;break}return t.abrupt("return");case 7:i.getInstance().prepareShareSafe(e,o.WECHAT_SESSION).catch((function(){}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),null}function Q(t){var e=t.shareInfo;return K.ZP.isNativePlatform?(0,q.yC)(K.ZP.version,"5.0.0")>=0?d().createElement(W.Z,{shareInfo:e}):d().createElement(Y.Z,{shareInfo:e}):d().createElement($,{shareInfo:e})}var X=(0,h.memo)(Q);function J(t){var e=t.isAddInvisibleChar,r=t.invisibleCharCount,n=void 0===r?200:r;return e?d().createElement("div",{style:{height:0}},"​".repeat(n)):null}var tt,et=r(38005);function rt(){return d().createElement("script",{dangerouslySetInnerHTML:{__html:"(function () {\n    var ua = navigator.userAgent || navigator.vendor || window.opera;\n    if (!window.pinbridge || !ua.match(/phh_(android|ios)_version/i)) {\n        return;\n    }\n    window.pinbridge.callNative('JSUIControl', 'hideLoading');\n})();"}})}function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f()(t);if(e){var i=f()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var it=(0,v.f3)("store")(tt=(0,v.Pi)(tt=function(t){c()(r,t);var e=nt(r);function r(){return i()(this,r),e.apply(this,arguments)}return a()(r,[{key:"componentDidMount",value:function(){(0,m.g)();var t=this.props.store.renderError;t&&(0,b.Z)(t.errorMsg||"系统繁忙，请稍后再试")}},{key:"clientRender",value:function(){var t=this.props,e=t.shareInfo,r=t.shareNativeMap,n=this.props,i=n.isShowGotoApp,o=n.gotoAppStyle,a=(0,y.zT)().isNativePlatform;return d().createElement(d().Fragment,null,!a&&i&&d().createElement(et.Z,{style:o}),e&&d().createElement(X,{shareInfo:e,shareNativeMap:r}))}},{key:"render",value:function(){var t=this.props,e=t.children,r=t.store;if(r&&r.serviceRenderError)return d().createElement(H,null);var n=r.isFinishInitLoading;return d().createElement(S,{ctx:r.$ctx},d().createElement(J,{isAddInvisibleChar:r.$ctx.platform.isIOS}),e,n&&d().createElement(g.eA,null),d().createElement(rt,null),this.clientRender())}}]),r}(d().Component))||tt)||tt},27604:function(t,e,r){"use strict";var n=r(38871);e.Z=(0,n.n)({resolved:{},chunkName:function(){return"1_login_pop_content"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(6281).then(r.bind(r,974))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 974}})},53777:function(t,e,r){"use strict";r.d(e,{Z:function(){return gt}});var n,i,o,a,s,c,u,l,p,f,h,d,v,y,m,g,b,w,S,O,E,k,_,P,T,D,x,C,A,L,N=r(48926),R=r.n(N),I=r(21165),j=r.n(I),B=r(34575),V=r.n(B),U=r(93913),M=r.n(U),H=r(81506),Z=r.n(H),z=r(2205),F=r.n(z),G=r(78585),q=r.n(G),K=r(29754),Y=r.n(K),W=r(33124),$=r.n(W),Q=(r(67268),r(87757)),X=r.n(Q),J=r(22188),tt=r(66197),et=r(53527),rt=r(91942),nt=r(54328),it=r(29960),ot=r(29404),at=r(86010),st=r(11947),ct=r(83718),ut=r(521),lt=r(70435),pt=r(84160),ft=r(28085),ht=r(83714),dt=r(57686),vt=r(11838),yt=r(24246);function mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Y()(t);if(e){var i=Y()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return q()(this,r)}}var gt=(n=(0,rt.U)(st.Z),i=(0,rt.U)(lt.Z),o=(0,rt.U)(ut.K),a=J.aD.bound,s=J.aD.bound,c=J.aD.bound,u=J.aD.bound,l=J.aD.bound,p=J.aD.bound,f=J.aD.bound,h=J.aD.bound,d=J.aD.bound,v=J.aD.bound,y=J.aD.bound,m=J.aD.bound,g=J.aD.bound,b=J.aD.bound,w=J.aD.bound,S=function(t){F()(c,t);var e,r,n,i,o,a,s=mt(c);function c(){var t;V()(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t=s.call.apply(s,[this].concat(r)),j()(t,"updateStore",O,Z()(t)),j()(t,"r12306LoginStore",E,Z()(t)),j()(t,"paymentBottomBarStore",k,Z()(t)),j()(t,"showLoginPop",_,Z()(t)),j()(t,"selectSkipLogin",P,Z()(t)),j()(t,"pwdValue",T,Z()(t)),j()(t,"accountValue",D,Z()(t)),j()(t,"isAgreeProtocol",x,Z()(t)),j()(t,"showVerifyPopup",C,Z()(t)),j()(t,"verifyPopupText",A,Z()(t)),j()(t,"accountList",L,Z()(t)),t.loginSuccessCallback=null,t.verifyParamsFun=null,t}return M()(c,[{key:"$service",get:function(){return this.__$service=this.__$service||new it.Z,this.__$service}},{key:"loginParams",get:function(){return{enCrhName:(0,ft.H)(this.accountValue),enCrhPassword:(0,ft.H)(this.pwdValue),pageSN:(0,et.kd)()}}},{key:"referPageSn",get:function(){return(0,dt.XX)("refer_page_sn")}},{key:"accountChange",value:function(t){this.accountValue=t}},{key:"pwdChange",value:function(t){this.pwdValue=t}},{key:"toggleAgreeProtocol",value:function(){this.isAgreeProtocol=!this.isAgreeProtocol}},{key:"getLoginAccountData",value:(a=R()(X().mark((function t(){var e,r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$service.queryAccountList();case 2:e=t.sent,r=e.accountList,this.accountList=r||[];case 5:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"openLoginPop",value:(o=R()(X().mark((function t(e,r,n){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.accountValue=e||this.accountValue||"",t.next=3,this.getLoginAccountData();case 3:this.showPopup(),this.loginSuccessCallback=r,this.verifyParamsFun=n;case 6:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return o.apply(this,arguments)})},{key:"closePopup",value:function(){this.showLoginPop=!1}},{key:"showPopup",value:function(){this.showLoginPop=!0}},{key:"skipLoginHandler",value:(i=R()(X().mark((function t(){var e,r,n,i=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]&&i[0],(0,ct.y)(),null!==(e=this.r12306LoginStore)&&void 0!==e&&null!==(r=e.vo)&&void 0!==r&&r.account&&!n||(this.selectSkipLogin=!0),t.next=5,this.updateStore.doPageUpdate({source:vt.xi.SKIP_LOGIN_CHANGE});case 5:(0,ct.v)(),this.closePopup();case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"autoLogin",value:function(){var t,e=this;if(this.accountValue){var r=(null===(t=this.accountList)||void 0===t?void 0:t.find((function(t){return t.trainAccountName===e.accountValue})))||{};this.doLoginHandle(r.trainAccountId,!0)}}},{key:"setAccount",value:function(t){this.accountValue=t||this.accountValue,this.r12306LoginStore.setAccount(t||""),this.paymentBottomBarStore.setAccount(t||"")}},{key:"clearAccount",value:function(t){null==t||t(),this.accountChange(""),this.pwdChange("")}},{key:"doLogin",value:(n=R()(X().mark((function t(e,r){var n,i,o,a,s=this;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,yt.U)({trainAccountId:e,isAuto:r,accountValue:this.accountValue,pwdValue:this.pwdValue,service:this.__$service});case 2:if(null!=(n=t.sent)&&n.isLogined&&(this.setAccount(n.crhName),this.loginSuccessHandler()),!(null!=n&&n.isClearSuccess||null!=n&&n.isClearCancel)){t.next=7;break}return this.clearAccount(null==n?void 0:n.callback),t.abrupt("return");case 7:null!=n&&n.isAllowSkipLogin&&(0,pt.i0)({title:"身份核验",text:"您的12306账号需要进行短信核验，您可使用免登录购票或进行短信核验",cancelLabel:"短信核验",okLabel:"免登录购票",onOk:function(){return s.skipLoginHandler()},onCancel:function(){var t,e;return(0,ot.v_)("tcashier_train_checkout.html?_t_timestamp=tcashier_mobile",{mobile:null===(t=s.accountValue)||void 0===t?void 0:t.substring((null===(e=s.accountValue)||void 0===e?void 0:e.length)-4),sms_code:666,account:s.accountValue})},pureClose:!0}),(null==n?void 0:n.type)===at.U.SKIP_LOGIN&&null!=n&&n.isOnOk&&this.skipLoginHandler(),null!=n&&n.isForwardLoginFail&&(i=this.r12306LoginStore.configurationStore||{},o=i.endDateTimes,a=i.departDateTimes,(0,ot.v_)("tcashier_login_fail.html",{depart_date:null==a?void 0:a[0],endDate:null==o?void 0:o[0],source:"login_fail"}));case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"loginSuccessHandler",value:function(){var t=this.verifyParamsFun(),e=t.success,r=t.params;e?(this.loginSuccessCallback(r),this.closePopup()):this.closePopup()}},{key:"doLoginHandle",value:(r=R()(X().mark((function t(e,r){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isAgreeProtocol){t.next=3;break}return(0,tt.Z)(ht.ET.NOT_AGREE),t.abrupt("return");case 3:return t.next=5,this.doLogin(e,r);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"doSubmit",value:(e=R()(X().mark((function t(){var e,r,n;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(0,ht.o)(this.accountValue,this.pwdValue),r=e.isValid,n=e.msg,!r){t.next=6;break}return t.next=4,this.doLoginHandle();case 4:t.next=7;break;case 6:(0,tt.Z)(n);case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),c}(nt.q),O=$()(S.prototype,"updateStore",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=$()(S.prototype,"r12306LoginStore",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=$()(S.prototype,"paymentBottomBarStore",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=$()(S.prototype,"showLoginPop",[J.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=$()(S.prototype,"selectSkipLogin",[J.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=$()(S.prototype,"pwdValue",[J.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=$()(S.prototype,"accountValue",[J.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=$()(S.prototype,"isAgreeProtocol",[J.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C=$()(S.prototype,"showVerifyPopup",[J.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=$()(S.prototype,"verifyPopupText",[J.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=$()(S.prototype,"accountList",[J.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$()(S.prototype,"accountChange",[a],Object.getOwnPropertyDescriptor(S.prototype,"accountChange"),S.prototype),$()(S.prototype,"pwdChange",[s],Object.getOwnPropertyDescriptor(S.prototype,"pwdChange"),S.prototype),$()(S.prototype,"toggleAgreeProtocol",[c],Object.getOwnPropertyDescriptor(S.prototype,"toggleAgreeProtocol"),S.prototype),$()(S.prototype,"getLoginAccountData",[u],Object.getOwnPropertyDescriptor(S.prototype,"getLoginAccountData"),S.prototype),$()(S.prototype,"openLoginPop",[l],Object.getOwnPropertyDescriptor(S.prototype,"openLoginPop"),S.prototype),$()(S.prototype,"closePopup",[p],Object.getOwnPropertyDescriptor(S.prototype,"closePopup"),S.prototype),$()(S.prototype,"showPopup",[f],Object.getOwnPropertyDescriptor(S.prototype,"showPopup"),S.prototype),$()(S.prototype,"skipLoginHandler",[h],Object.getOwnPropertyDescriptor(S.prototype,"skipLoginHandler"),S.prototype),$()(S.prototype,"autoLogin",[d],Object.getOwnPropertyDescriptor(S.prototype,"autoLogin"),S.prototype),$()(S.prototype,"setAccount",[v],Object.getOwnPropertyDescriptor(S.prototype,"setAccount"),S.prototype),$()(S.prototype,"clearAccount",[y],Object.getOwnPropertyDescriptor(S.prototype,"clearAccount"),S.prototype),$()(S.prototype,"doLogin",[m],Object.getOwnPropertyDescriptor(S.prototype,"doLogin"),S.prototype),$()(S.prototype,"loginSuccessHandler",[g],Object.getOwnPropertyDescriptor(S.prototype,"loginSuccessHandler"),S.prototype),$()(S.prototype,"doLoginHandle",[b],Object.getOwnPropertyDescriptor(S.prototype,"doLoginHandle"),S.prototype),$()(S.prototype,"doSubmit",[w],Object.getOwnPropertyDescriptor(S.prototype,"doSubmit"),S.prototype),S)},24246:function(t,e,r){"use strict";r.d(e,{U:function(){return T}});var n=r(48926),i=r.n(n),o=r(59713),a=r.n(o),s=r(87757),c=r.n(s),u=r(53527),l=r(96237),p=r(28085),f=r(83714),h=r(82469),d=r(83718),v=r(84160),y=r(3025),m=r(56893),g=r(86010);function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function S(t){var e=t.viewObject||{},r=e.onOk,n=e.onCancel;return(r||{}).type===g.U.CLEAR||(null==n?void 0:n.type)===g.U.CLEAR?function(t){var e=t||{},r=e.message,n=e.onOk,i=e.onCancel;return new Promise((function(e,o){(0,v.i0)(w(w({},t),{},{text:r||"",onOk:function(){return e({isClearSuccess:1,callback:n})},onCancel:function(){return o({isClearCancel:1,callback:i})}}))}))}((0,y.XO)(t)):(0,y.pb)(t)}function O(t){var e=t.accountValue,r=t.pwdValue;return{enCrhName:(0,p.H)(e),enCrhPassword:(0,p.H)(r),pageSN:(0,u.kd)()}}function E(t){return k.apply(this,arguments)}function k(){return(k=i()(c().mark((function t(e){var r,n,i,o,a,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.trainAccountId,n=e.isAuto,i=e.accountValue,o=e.pwdValue,a=e.service,(0,d.y)(n?"自动登录中":""),t.next=4,a.doLogin({trainAccountId:r,loginParams:O({accountValue:i,pwdValue:o})});case 4:return s=t.sent,(0,d.v)(),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return(null==t?void 0:t.loginStatus)===h.uw.LOGIN}function P(t,e){var r=e.crhUserName,n=e.accountValue,i=t.errorCode;if(i===f.Hu.MSG)return{isAllowSkipLogin:!0};if(i===f.Hu.FAIL)return{isForwardLoginFail:!0};var o=(0,m.U)({data:t,crhUserName:r||n}).errorPayloadVo;return o?S(o):((0,l.e)({errorMsg:"login response no errorPayload",stores:{errorCode:i}}),(0,v.wp)({text:(null==t?void 0:t.errorMsg)||f.ET.LOGING,okLabel:"知道了",pureClose:!0}),{})}function T(t){return D.apply(this,arguments)}function D(){return(D=i()(c().mark((function t(e){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:if(!_(r=t.sent)){t.next=5;break}return t.abrupt("return",w({isLogined:1},r));case 5:return t.prev=5,t.next=8,P(r,e);case 8:if(null==(n=t.sent)||!n.isFaceSuccess){t.next=11;break}return t.abrupt("return",T(w(w({},e),{},{isAuto:!0})));case 11:return t.abrupt("return",n);case 14:return t.prev=14,t.t0=t.catch(5),t.abrupt("return",(0,m.G)(t.t0,!1));case 17:case"end":return t.stop()}}),t,null,[[5,14]])})))).apply(this,arguments)}},83718:function(t,e,r){"use strict";r.d(e,{v:function(){return _},y:function(){return k}});var n=r(59713),i=r.n(n),o=r(63038),a=r.n(o),s=r(67294),c=r.n(s),u=r(94184),l=r.n(u),p=r(4026),f="w6VCU9RF",h="HYUcilRZ",d="IZrvc8KG",v="qYirjabr",y="_99-+Jahh",m="Rz9FbbJ9",g="EvGdUXuH",b=null,w=null,S=null;function O(){var t=(0,s.useState)(!1),e=a()(t,2),r=e[0],n=e[1],o=(0,s.useState)(""),u=a()(o,2),p=u[0],S=u[1];b=n,w=S;var O=l()(h,i()({},g,!!p));return r?c().createElement("div",{className:f},c().createElement("div",{className:O},c().createElement("div",{className:d}),c().createElement("div",{className:v},c().createElement("div",{className:y})),c().createElement("div",{className:m},p||""))):null}function E(){clearTimeout(S),S=null}function k(t){w&&b&&(w(t),b(!0),E(),S=setTimeout((function(){S=null}),1e4))}function _(){b&&(b(!1),E())}(0,p.Z)(c().createElement(O,null))},24878:function(t,e,r){"use strict";r.d(e,{ZP:function(){return G}});var n=r(34575),i=r.n(n),o=r(93913),a=r.n(o),s=r(2205),c=r.n(s),u=r(78585),l=r.n(u),p=r(29754),f=r.n(p),h=r(59713),d=r.n(h),v=r(67294),y=r.n(v),m=r(49408),g=r(94184),b=r.n(g),w=r(90926),S=r.n(w),O=r(93820),E=r(64663),k=r(52391),_=r(63038),P=r.n(_),T=r(54268),D=r(57028),x="WzM3D8+f",C="XDTnXr-L",A="EW601HBy";var L=(0,m.Pi)((function(t){var e=t.text,r=t.className,n=(0,v.useState)(!1),i=P()(n,2),o=i[0],a=i[1];return(0,v.useEffect)((function(){o||(a(!0),setTimeout((function(){return a(!1)}),2e3))}),[]),e&&o?y().createElement("div",{className:b()(x,r)},y().createElement(D.Z,{src:(0,T.H)("/order_checkout/iconcoupon.png"),className:C}),y().createElement("div",{className:A}),"购票最高返10元"):null})),N=r(53613),R=r(51941),I=r(31458),j=r(12065);var B,V,U=(0,m.Pi)((function(t){var e=t.paymentBottomBarStore,r=e.paymentPopupVisible,n=e.orderParams,i=e.paymentShowCallback,o=e.grabTicketInfo,a=e.reserveResultVisible,s=e.reserveParams,c=e.reserveShowCallback,u=e.handleApiError,l=e.showPaymentPopup,p=e.closeReservePopup;return y().createElement(v.Fragment,null,r&&y().createElement(I.Z,{orderParams:n,finishCallback:i,grabTicketInfo:o}),a&&y().createElement(j.Z,{reserveParams:s,finishCallback:c,payCallback:l,handleApiError:u,closePopup:p}))})),M=r(521),H=r(45128),Z=r.n(H);function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f()(t);if(e){var i=f()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var F=(B={},d()(B,R.iU.CHECKOUT,2622550),d()(B,R.iU.GRAB,2635940),B),G=S()(Z())(V=(0,m.f3)((0,O.O)({paymentBottomBarStore:M.K}))(V=(0,m.Pi)(V=function(t){c()(r,t);var e=z(r);function r(){var t;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).clickDetail=function(){var e=t.props.paymentBottomBarStore,r=e.toggleDetailPopup,n=e.configurationStore;(0,N.V)(F[n.transacType]),r()},t.clickPayButton=function(){var e=t.props.paymentBottomBarStore,r=e.onPayBtnClick;e.showDetailPopup&&t.clickDetail(),r()},t}return a()(r,[{key:"render",value:function(){var t=this.props.paymentBottomBarStore,e=t.payBtnStatus,r=t.showTipContent,n=t.showDetailPopup,i=t.showDetailText,o=t.isChange,a=t.configurationStore,s=this.props.paymentBottomBarStore.vo||{},c=s.totalPrice,u=s.totalLabel,l=s.payLabel,p=s.showSR,f=s.successRate,h=s.discountText,m=s.priceDetailList,g=s.btnIcon,w=a.configData,S=b()(Z().button,d()({},Z().smallButton,!o)),O=b()(Z().detail,n?[Z().down]:[Z().up]);return y().createElement(v.Fragment,null,y().createElement("div",{className:Z().container},y().createElement(E.ZP,{contents:r}),n&&y().createElement(k.Z,{data:m,onClose:this.clickDetail}),y().createElement("div",{className:Z().content},y().createElement(L,{text:null==w?void 0:w.couponCashbackTxt}),y().createElement("div",{className:Z().amount},y().createElement("div",{className:Z().amountContainer},y().createElement("div",{className:Z().amountTop},u&&y().createElement("div",{className:Z().amountLabel},u),y().createElement("div",{className:Z().amountNumber},y().createElement("span",{className:Z().amountYuanMark},"￥"),y().createElement("span",{className:Z().price},c),p&&h&&y().createElement("span",{className:Z().discount},h))),p&&y().createElement("div",{className:Z().srContainer},"预估成功率 ",y().createElement("span",{className:Z().srText},f)),!p&&h&&y().createElement("span",{className:b()(Z().discount,Z().disBottom)},h)),i&&y().createElement("span",{className:O,onClick:this.clickDetail},"明细")),y().createElement("div",{className:S,"data-test":"payment-bottom-button",onClick:this.clickPayButton},g&&y().createElement("span",{className:Z().icon},""),e===R.yD.PAYING?"请稍候":l))),y().createElement(U,{paymentBottomBarStore:this.props.paymentBottomBarStore}))}}]),r}(y().Component))||V)||V)||V},521:function(t,e,r){"use strict";r.d(e,{y:function(){return Et},K:function(){return kt}});var n,i,o,a,s,c,u,l,p,f,h,d,v,y,m,g,b,w,S,O,E,k,_,P,T,D,x,C,A,L,N,R,I,j=r(59713),B=r.n(j),V=r(48926),U=r.n(V),M=r(81506),H=r.n(M),Z=r(2205),z=r.n(Z),F=r(78585),G=r.n(F),q=r(29754),K=r.n(q),Y=r(21165),W=r.n(Y),$=r(93913),Q=r.n($),X=r(34575),J=r.n(X),tt=r(33124),et=r.n(tt),rt=(r(67268),r(87757)),nt=r.n(rt),it=r(22188),ot=r(91942),at=r(54328),st=r(39307),ct=r(56893),ut=r(86010),lt=r(70051),pt=r(85068),ft=r(51941),ht=r(11838),dt=r(75048),vt=r(72781),yt=r(64663),mt=r(84160),gt=r(35989),bt=r(29404);function wt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(r),!0).forEach((function(e){B()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=K()(t);if(e){var i=K()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return G()(this,r)}}var Et=(n=Q()((function t(){J()(this,t),W()(this,"totalPrice",i,this),W()(this,"discountText",o,this),this.orderAmount=0,this.totalLabel="",this.payLabel="",this.showSR=!1,this.successRate="",this.startStation="",this.endStation="",this.currentCrhName="",W()(this,"alterSeatTypes",a,this),W()(this,"bookType",s,this),W()(this,"hasChildTicket",c,this),W()(this,"hasStudentTicket",u,this),W()(this,"hasStudentPassenger",l,this),W()(this,"ifShowRemind",p,this),W()(this,"remindInfo",f,this),W()(this,"priceDetailList",h,this),W()(this,"isSelectElectronicSeat",d,this)})),i=et()(n.prototype,"totalPrice",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=et()(n.prototype,"discountText",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=et()(n.prototype,"alterSeatTypes",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=et()(n.prototype,"bookType",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=et()(n.prototype,"hasChildTicket",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=et()(n.prototype,"hasStudentTicket",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=et()(n.prototype,"hasStudentPassenger",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=et()(n.prototype,"ifShowRemind",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=et()(n.prototype,"remindInfo",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=et()(n.prototype,"priceDetailList",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=et()(n.prototype,"isSelectElectronicSeat",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),kt=(v=(0,ot.U)(vt.Z),y=it.aD.bound,m=it.aD.bound,g=it.aD.bound,b=it.aD.bound,w=it.aD.bound,S=it.aD.bound,O=it.aD.bound,E=it.aD.bound,k=function(t){z()(o,t);var e,r,n,i=Ot(o);function o(){var t;J()(this,o);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t=i.call.apply(i,[this].concat(r)),W()(t,"configurationStore",_,H()(t)),W()(t,"payBtnStatus",P,H()(t)),W()(t,"showDetailPopup",T,H()(t)),W()(t,"vo",D,H()(t)),W()(t,"paymentPopupVisible",x,H()(t)),W()(t,"orderParams",C,H()(t)),W()(t,"paymentShowCallback",A,H()(t)),W()(t,"reserveResultVisible",L,H()(t)),W()(t,"reserveParams",N,H()(t)),W()(t,"reserveShowCallback",R,H()(t)),W()(t,"showVerifyPopup",I,H()(t)),t.verifyPopupText="",t.faceScene=null,t.faceSuccessCallback=null,t.checkNeedIncludeStudent=function(){return t.configurationStore.ifStudentTicket&&!t.vo.hasStudentPassenger},t.checkStudentTicketValid=function(){var e,r=t.configurationStore,n=r.configData,i=r.checkIsInStuHoliday,o=r.checkIsInValidSeats,a=t.vo.hasStudentTicket&&!i(),s=t.vo.hasStudentTicket&&!o(),c="";a?c="学生票优惠时间为：".concat(null===(e=n.dateInfo)||void 0===e?void 0:e.stuDurationShow,"，请重新选择出发日期或为选中的学生乘客直接购买全价成人票。"):s&&(c="学生票仅支持购买：".concat(n.stuSeatsName,"。当前选择了不支持的座席，请返回修改座席或购买全价成人票。"));return{isNotValidDate:a,isNotValidSeat:s,confirmText:c}},t}return Q()(o,[{key:"onPayBtnClick",value:function(){throw new Error("unimplemented")}},{key:"onNextViewObject",value:function(t){(0,dt.w)(this.vo,t)}},{key:"grabTicketInfo",get:function(){var t=this.vo;return{startStation:t.startStation,endStation:t.endStation,totalPrice:t.totalPrice}}},{key:"isChange",get:function(){return this.configurationStore.transacType===ft.iU.CHANGE}},{key:"isGrab",get:function(){return this.configurationStore.transacType===ft.iU.GRAB}},{key:"isNightOrder",get:function(){return this.configurationStore.transacType===ft.iU.CHECKOUT&&this.vo.bookType===pt._i.NIGHT}},{key:"showTipContent",get:function(){var t,e,r,n,i=[],o=this.vo,a=o.hasChildTicket,s=o.hasStudentTicket,c=a&&s,u=this.vo.alterSeatTypes.some((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lt.Xe.includes(t.seat_type)})),l=(null===(t=this.skipLoginStore)||void 0===t||null===(e=t.vo)||void 0===e?void 0:e.hasSkipLogin)||!1,p=(null===(r=this.skipVerifyStore)||void 0===r||null===(n=r.vo)||void 0===n?void 0:n.hasSkipVerify)||!1,f="CHECKOUT";if(this.isChange?f="CHANGE":(this.isGrab||this.isNightOrder||this.vo.isSelectElectronicSeat)&&(f="GRAB"),c||s||a||u){var h="";u&&(h=l||p?"_LOWER_BERTH_SLEEP":"_SLEEP");var d="";c?d="_CHILD_STUDENT":a?d="_CHILD":s&&(d="_STUDENT");var v=yt.N_["".concat(f).concat(h).concat(d,"_PRICE")];v&&i.push(v)}return i}},{key:"showDetailText",get:function(){return this.vo.totalPrice>0&&this.configurationStore.transacType!==ft.iU.CHANGE&&this.vo.priceDetailList.length>0}},{key:"setAccount",value:function(t){this.vo.currentCrhName=t||""}},{key:"closeVerifyPopup",value:function(t){this.showVerifyPopup=!1,t&&location.reload()}},{key:"handleApiError",value:(n=U()(nt().mark((function t(e){var r,n,i,o,a,s,c,u,l,p,f,h,d=this,v=arguments;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=v.length>1&&void 0!==v[1]?v[1]:location.reload,t.prev=1,n=this.vo.currentCrhName,t.next=5,(0,st.kr)(e,n);case 5:if(null==(i=t.sent)||!i.isAllowSkipLogin){t.next=9;break}return(0,mt.wp)({title:"占座不成功",text:"12306账号暂不可用，建议使用免登录购票服务或更换账号重试",okLabel:"免登录购票",pureClose:!0,onOk:function(){return d.loginPopupStore.skipLoginHandler(!0)}}),t.abrupt("return");case 9:if(null==i||!i.isFaceSuccess){t.next=11;break}return t.abrupt("return",null==r?void 0:r());case 11:if(null!=i&&i.isFaceSmsVerify&&null!=i&&i.fromCloseBtn&&location.reload(),null==i||!i.isVerifyRefresh){t.next=15;break}return null===(o=this.pickListPopupStore)||void 0===o||null===(a=o.showPopup)||void 0===a||a.call(o),t.abrupt("return");case 15:if(null==i||!i.isNeedCompletePassenger){t.next=18;break}return null===(s=this.completePassengerHandler)||void 0===s||s.call(this),t.abrupt("return");case 18:if(u=(c=i||{}).type,l=c.isOnOk,u!==ut.U.SKIP_LOGIN||!l){t.next=22;break}return this.loginPopupStore.skipLoginHandler(!0),t.abrupt("return");case 22:if(u!==ut.U.SKIP_VERIFY||!l){t.next=27;break}return(0,gt.Z)(1),t.next=26,this.updateStore.doPageUpdate({source:ht.xi.SKIP_VERIFY_CHANGE});case 26:return t.abrupt("return");case 27:if(null==i||!i.isForwardReserveFail){t.next=31;break}return p=this.configurationStore,f=p.endDateTimes,h=p.departDateTimes,(0,bt.v_)("tcashier_login_fail.html",{depart_date:null==h?void 0:h[0],endDate:null==f?void 0:f[0],source:"reserve_fail"}),t.abrupt("return");case 31:return t.abrupt("return",i);case 34:return t.prev=34,t.t0=t.catch(1),t.abrupt("return",(0,ct.G)(t.t0,!0));case 37:case"end":return t.stop()}}),t,this,[[1,34]])}))),function(t){return n.apply(this,arguments)})},{key:"setPayBtnStatus",value:function(t){this.payBtnStatus=t}},{key:"toggleDetailPopup",value:function(){this.showDetailPopup=!this.showDetailPopup}},{key:"closeReservePopup",value:function(){this.reserveResultVisible=!1}},{key:"showReservePopup",value:(r=U()(nt().mark((function t(e){var r,n=this;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.configurationStore.transacType,this.reserveParams=St(St({},e),{},{transacType:r}),this.reserveResultVisible=!0,t.next=5,new Promise((function(t){n.reserveShowCallback=t}));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"showPaymentPopup",value:(e=U()(nt().mark((function t(e){var r,n=this;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.configurationStore.transacType,this.orderParams=St(St({},e),{},{transacType:r}),this.paymentPopupVisible=!0,t.next=5,new Promise((function(t){n.paymentShowCallback=t}));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),o}(at.q),_=et()(k.prototype,"configurationStore",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=et()(k.prototype,"payBtnStatus",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ft.yD.DEFAULT}}),T=et()(k.prototype,"showDetailPopup",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=et()(k.prototype,"vo",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Et}}),x=et()(k.prototype,"paymentPopupVisible",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=et()(k.prototype,"orderParams",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),A=et()(k.prototype,"paymentShowCallback",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=et()(k.prototype,"reserveResultVisible",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=et()(k.prototype,"reserveParams",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),R=et()(k.prototype,"reserveShowCallback",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=et()(k.prototype,"showVerifyPopup",[it.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),et()(k.prototype,"setAccount",[y],Object.getOwnPropertyDescriptor(k.prototype,"setAccount"),k.prototype),et()(k.prototype,"closeVerifyPopup",[m],Object.getOwnPropertyDescriptor(k.prototype,"closeVerifyPopup"),k.prototype),et()(k.prototype,"handleApiError",[g],Object.getOwnPropertyDescriptor(k.prototype,"handleApiError"),k.prototype),et()(k.prototype,"setPayBtnStatus",[b],Object.getOwnPropertyDescriptor(k.prototype,"setPayBtnStatus"),k.prototype),et()(k.prototype,"toggleDetailPopup",[w],Object.getOwnPropertyDescriptor(k.prototype,"toggleDetailPopup"),k.prototype),et()(k.prototype,"closeReservePopup",[S],Object.getOwnPropertyDescriptor(k.prototype,"closeReservePopup"),k.prototype),et()(k.prototype,"showReservePopup",[O],Object.getOwnPropertyDescriptor(k.prototype,"showReservePopup"),k.prototype),et()(k.prototype,"showPaymentPopup",[E],Object.getOwnPropertyDescriptor(k.prototype,"showPaymentPopup"),k.prototype),k)},66525:function(t,e,r){"use strict";var n=r(38871);e.Z=(0,n.n)({resolved:{},chunkName:function(){return"1_picklist_pop_up"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(432).then(r.bind(r,84904))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 84904}},{isCloseSpinner:!0})},87896:function(t,e,r){"use strict";r.d(e,{J:function(){return Ot}});var n=r(48926),i=r.n(n),o=r(21165),a=r.n(o),s=r(34575),c=r.n(s),u=r(93913),l=r.n(u),p=r(81506),f=r.n(p),h=r(2205),d=r.n(h),v=r(78585),y=r.n(v),m=r(29754),g=r.n(m),b=r(33124),w=r.n(b),S=(r(67268),r(27361)),O=r.n(S),E=r(87757),k=r.n(E),_=r(22188),P=r(66197),T=r(41859),D=r(96237),x=r(91942),C=r(54328),A=r(72781),L=r(3025),N=r(30023),R=r(85068),I=r(16932),j=r(35989),B=r(70435),V=r(82192),U=r(55692),M=r(92272),H=r(59713),Z=r.n(H),z=r(38232);function F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?F(Object(r),!0).forEach((function(e){Z()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function q(t){return{list:(t.frequentPassengerList||[]).map((function(t,e){var r=parseInt(t.validateStatus),n=t.mobileValidateStatus===z.k.PASSED,i=1===parseInt(t.selectable);return G(G({},t),{},{originIndex:e,mobileVerified:n,validateStatus:r,selectable:!0,passengerVerified:i,verifyless:!i||!n,disabledSelect:r===z.$.FAILED})})),login:{loginStatus:t.loginStatus,crhName:t.crhName,memberStatus:t.crhMemberStatus},idCardForbidden:!O()(t,"passengerAddable",!0),otherCardForbidden:!O()(t,"otherCardPassengerAddable",!0),errorPayloadVo:null==t?void 0:t.errorPayloadVo}}var K={list:[],login:{}};function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g()(t);if(e){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}var W,$,Q,X,J,tt,et,rt,nt,it,ot,at,st,ct,ut,lt,pt,ft,ht,dt,vt,yt,mt,gt="api/mayflower/crh/get_passenger_list_with_status",bt="api/mayflower/crh/refresh",wt=function(t){d()(o,t);var e,r,n=Y(o);function o(){return c()(this,o),n.apply(this,arguments)}return l()(o,[{key:"fetchListAndStatus",value:(r=i()(k().mark((function t(e){var r;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.asyncQuerypost({url:gt,risk:!0,defaultValue:K,params:e});case 2:return r=t.sent,t.abrupt("return",q(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"refreshListAndStatus",value:(e=i()(k().mark((function t(e){var r;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.asyncQuerypost({url:bt,risk:!0,defaultValue:K,params:e});case 2:return r=t.sent,t.abrupt("return",q(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),o}(M.b);function St(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g()(t);if(e){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}var Ot=(W=(0,x.U)(B.Z),$=(0,x.U)(A.Z),Q=(0,x.U)(V.n),X=_.aD.bound,J=_.aD.bound,tt=_.aD.bound,et=_.aD.bound,rt=_.aD.bound,nt=_.aD.bound,it=_.aD.bound,ot=_.aD.bound,at=_.aD.bound,st=_.aD.bound,ct=function(t){d()(u,t);var e,r,n,o,s=St(u);function u(){var t;c()(this,u);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=s.call.apply(s,[this].concat(r))).originIsSkipVerify=!1,a()(t,"visible",ut,f()(t)),a()(t,"isSkipVerify",lt,f()(t)),a()(t,"showVerifyPopup",pt,f()(t)),a()(t,"fPassengerList",ft,f()(t)),a()(t,"idCardForbidden",ht,f()(t)),a()(t,"otherCardForbidden",dt,f()(t)),t.verifyPopupData={},a()(t,"r12306LoginStore",vt,f()(t)),a()(t,"configurationStore",yt,f()(t)),a()(t,"selectedPassengersStore",mt,f()(t)),t.asyncLocalSkipVeriy=function(){I.Z.setItem(N.k2.IF_OPEN_SKIP_VERIFY,t.isSkipVerify?Date.now():0)},t}return l()(u,[{key:"$service",get:function(){return this.__$service=this.__$service||new wt,this.__$service}},{key:"skipVerifyInfo",get:function(){return O()(this.configurationStore,"configData.skipVerifyInfo")||{}}},{key:"suppertSkipVerify",get:function(){return this.configurationStore.transacType===R.p.CHECKOUT&&this.skipVerifyInfo.isGray}},{key:"params",get:function(){return{scene:this.configurationStore.isTransit?1:0}}},{key:"skipVerifyLimited",get:function(){return this.configurationStore.pickListSkipVerify||this.isSkipVerify}},{key:"skipVerifyHasChanged",get:function(){return this.originIsSkipVerify!==this.isSkipVerify}},{key:"initPopup",value:(o=i()(k().mark((function t(e){var r,n;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,j.c)();case 2:r=t.sent,n=this.suppertSkipVerify&&r,this.isSkipVerify=n,this.originIsSkipVerify=n,!this.isSkipVerify&&this.skipVerifyLimited&&this.changeSkipVerify(!0),this.clearVerifylessPassenger(),this.visible=!0;case 9:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"showPopup",value:(n=i()(k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchLoginAndPassengers();case 2:t.sent&&this.initPopup(!0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"closePopup",value:function(){this.visible=!1}},{key:"clearVerifylessPassenger",value:function(){if(!this.skipVerifyLimited){var t=this.selectedPassengersStore,e=t.draftOperations,r=t.deletePassengerDraft,n=(0,U.$Z)(e,this.fPassengerList),i=n.isVerifyless,o=n.verifylessPassengers;i&&(0,T.k)({stores:o,subOp:"PickListPopup clearVerifylessPassenger"}),i&&o.forEach(r)}}},{key:"changeSkipVerify",value:function(t){this.isSkipVerify=t,this.clearVerifylessPassenger()}},{key:"initVerifyPopup",value:function(t,e){this.verifyPopupData={passengerData:t,selectCallback:e},this.showVerifyPopup=!0}},{key:"closeVerifyPopup",value:function(){this.showVerifyPopup=!1}},{key:"fetchLoginAndPassengers",value:(r=i()(k().mark((function t(){var e;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$service.fetchListAndStatus(this.params);case 2:if(null==(e=t.sent)||!e.errorPayloadVo){t.next=6;break}return(0,L.pb)(null==e?void 0:e.errorPayloadVo),t.abrupt("return",!1);case 6:if(!e.isApiError){t.next=10;break}return(0,D.e)({errorMsg:"query passengers no errorPayload",stores:{data:e}}),(0,P.Z)("获取乘车人列表失败"),t.abrupt("return",!0);case 10:return this._updateLoginAndPassengers(e),t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"doSync",value:(e=i()(k().mark((function t(){var e;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$service.refreshListAndStatus(this.params);case 2:if(null==(e=t.sent)||!e.errorPayloadVo){t.next=6;break}return(0,L.pb)(null==e?void 0:e.errorPayloadVo),t.abrupt("return");case 6:if(!e.isApiError){t.next=10;break}return(0,D.e)({errorMsg:"refresh response no errorPayload",stores:{data:e}}),(0,P.Z)("同步失败"),t.abrupt("return");case 10:this._updateLoginAndPassengers(e);case 11:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"_updateLoginAndPassengers",value:function(t){var e=t.login,r=t.list,n=t.idCardForbidden,i=t.otherCardForbidden;this.fPassengerList=r,this.idCardForbidden=n,this.otherCardForbidden=i,this.r12306LoginStore.updateLoginStatus(e),this.configurationStore.is12306Member=!!e.memberStatus}}]),u}(C.q),ut=w()(ct.prototype,"visible",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lt=w()(ct.prototype,"isSkipVerify",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pt=w()(ct.prototype,"showVerifyPopup",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ft=w()(ct.prototype,"fPassengerList",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ht=w()(ct.prototype,"idCardForbidden",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dt=w()(ct.prototype,"otherCardForbidden",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vt=w()(ct.prototype,"r12306LoginStore",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=w()(ct.prototype,"configurationStore",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=w()(ct.prototype,"selectedPassengersStore",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w()(ct.prototype,"skipVerifyLimited",[_.Fl],Object.getOwnPropertyDescriptor(ct.prototype,"skipVerifyLimited"),ct.prototype),w()(ct.prototype,"skipVerifyHasChanged",[_.Fl],Object.getOwnPropertyDescriptor(ct.prototype,"skipVerifyHasChanged"),ct.prototype),w()(ct.prototype,"initPopup",[X],Object.getOwnPropertyDescriptor(ct.prototype,"initPopup"),ct.prototype),w()(ct.prototype,"showPopup",[J],Object.getOwnPropertyDescriptor(ct.prototype,"showPopup"),ct.prototype),w()(ct.prototype,"closePopup",[tt],Object.getOwnPropertyDescriptor(ct.prototype,"closePopup"),ct.prototype),w()(ct.prototype,"clearVerifylessPassenger",[et],Object.getOwnPropertyDescriptor(ct.prototype,"clearVerifylessPassenger"),ct.prototype),w()(ct.prototype,"changeSkipVerify",[rt],Object.getOwnPropertyDescriptor(ct.prototype,"changeSkipVerify"),ct.prototype),w()(ct.prototype,"initVerifyPopup",[nt],Object.getOwnPropertyDescriptor(ct.prototype,"initVerifyPopup"),ct.prototype),w()(ct.prototype,"closeVerifyPopup",[it],Object.getOwnPropertyDescriptor(ct.prototype,"closeVerifyPopup"),ct.prototype),w()(ct.prototype,"fetchLoginAndPassengers",[ot],Object.getOwnPropertyDescriptor(ct.prototype,"fetchLoginAndPassengers"),ct.prototype),w()(ct.prototype,"doSync",[at],Object.getOwnPropertyDescriptor(ct.prototype,"doSync"),ct.prototype),w()(ct.prototype,"_updateLoginAndPassengers",[st],Object.getOwnPropertyDescriptor(ct.prototype,"_updateLoginAndPassengers"),ct.prototype),ct)},55692:function(t,e,r){"use strict";r.d(e,{Qb:function(){return s},UW:function(){return c},y0:function(){return u},RR:function(){return l},ez:function(){return p},$Z:function(){return f}});var n=r(27361),i=r.n(n),o=r(28444),a=r(9709);function s(t){var e=t.draftOperations,r=t.passengerItem,n=void 0===r?{}:r,o=n.id,a=n.selected,s=n.withChildren,c=e[o];return{draftSelected:i()(c,"selected",a),draftWithChildren:i()(c,"withChildren",s),childrenList:i()(c,"childrenList")||[],ticketType:i()(c,"passenger.ticketType")}}function c(t){var e=t.selectedList,r=t.fPassengerList,n=new Set((r||[]).map((function(t){return t?t.id:-1}))),i=(e||[]).filter((function(t){return t&&!n.has(t.id)})).map((function(t){return t.id}));return{isConflict:i.length>0,conflictPassengers:i}}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[];return Object.keys(t).forEach((function(r){var n=t[r],i=n.passenger&&n.passenger.ticketType===a.lL.ADULT;n.selected&&i&&e.push(n.passenger)})),e.sort((function(t,e){return i()(t,"originIndex",0)-i()(e,"originIndex",0)}))}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(t||[]).sort((function(t,r){if(t&&r){var n=e.findIndex((function(e){return t&&e&&e.id===t.id}))>-1,o=e.findIndex((function(t){return r&&t&&t.id===r.id}))>-1;if(n&&!o)return-1;if(!n&&o)return 1}return i()(t,"originIndex",0)-i()(r,"originIndex",0)}))}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!1,r=!1;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n]||{},s=i.passenger||{},c=s.passengerUserType,u=s.ticketType,l=i.selected&&u===a.lL.ADULT,p=i.selected&&c===o.SS.CHILD,f=(i.childrenList||[]).find((function(t){return t.selected}));if(f&&!l)return"儿童不能单独乘车，为确保出行安全，请先勾选该证件对应成人";r=r||p,e=e||l}return r&&!e?"儿童不能单独乘车，为确保出行安全，需有成人同行":""}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],n=function(n){if(!t.hasOwnProperty(n))return"continue";var i=t[n]||{},o=parseInt(n,10),a=e.find((function(t){return t.id===o}));i.selected&&(!a||null!=a&&a.verifyless)&&r.push(n)};for(var i in t)n(i);return{isVerifyless:r.length>0,verifylessPassengers:r}}},96160:function(t,e,r){"use strict";var n=r(67294),i=r.n(n),o=r(94184),a=r.n(o),s=r(24684),c=r(48865),u=(0,n.memo)((function(t){var e=t.text,r=t.desc,n=t.btnText,o=t.className,u=t.onClick,l=t.pageElSn;return i().createElement(s.Z,{doImpr:!!l,trackingInfo:{page_el_sn:l}},i().createElement("div",{className:a()(c.Z.loginBar,o)},i().createElement("div",{className:c.Z.content},i().createElement("div",null,e||"登录12306账号",i().createElement("div",{className:c.Z.text},r||"铁路局要求实名制购票"))),i().createElement("div",{className:c.Z.btn,onClick:u},n||"立即登录")))}));e.Z=u},32129:function(t,e,r){"use strict";r.d(e,{Z:function(){return U}});var n,i=r(59713),o=r.n(i),a=r(48926),s=r.n(a),c=r(34575),u=r.n(c),l=r(93913),p=r.n(l),f=r(2205),h=r.n(f),d=r(78585),v=r.n(d),y=r(29754),m=r.n(y),g=r(67154),b=r.n(g),w=r(87757),S=r.n(w),O=r(67294),E=r.n(O),k=r(49408),_=r(94184),P=r.n(_),T=r(93820),D=r(29404),x=r(30023),C=r(16932),A=r(70435),L=r(96160),N=r(48865);function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=m()(t);if(e){var i=m()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v()(this,r)}}var I={gray:{text:"铁路局规定必须登录12306购票",desc:"出票更快捷 退改更方便",btnText:"立即登录"},default:{text:"未登录12306账号",desc:"出票更快捷 购票得积分",btnText:"去登录"}},j="已登录12306账号",B="登录后购票更快",V=(0,O.memo)((function(t){var e=t.account,r=t.showTip,n=t.loginGray;if(e)return E().createElement(E().Fragment,null,E().createElement("div",{className:P()(N.Z.content,N.Z.minIcon)},j),E().createElement("div",{className:N.Z.operate},e));var i=n?I.gray:I.default;return E().createElement(E().Fragment,null,E().createElement(L.Z,b()({},i,{className:N.Z.loginBar})),r&&E().createElement("div",{className:N.Z.tip},B,E().createElement("div",{className:N.Z.triangle})))})),U=(0,k.f3)((0,T.O)({r12306LoginStore:A.Z}))(n=(0,k.Pi)(n=function(t){h()(n,t);var e,r=R(n);function n(){var t;u()(this,n);for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).loginStore=t.props.r12306LoginStore,t.state={showTip:!1},t}return p()(n,[{key:"componentDidMount",value:(e=s()(S().mark((function t(){var e,r,n=this;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.Z.getItem(x.k2.SHOW_LOGIN_TIP);case 2:if(r=t.sent,!(null!==(e=this.loginStore)&&void 0!==e&&e.account||1===parseInt(r,10))){t.next=5;break}return t.abrupt("return");case 5:setTimeout((function(){n.setState({showTip:!1}),C.Z.setItem(x.k2.SHOW_LOGIN_TIP,1)}),3e3);case 6:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"render",value:function(){var t=this.loginStore||{},e=t.hideLoginBar,r=t.configurationStore,n=t.vo;if(e)return null;var i=r||{},a=i.loginGray,s=i.departDateTimes,c=i.endDateTimes,u=null==n?void 0:n.account;return E().createElement("div",{className:P()(N.Z.container,o()({},N.Z.loged,u)),onClick:function(){return(0,D.v_)(D._B.LOGIN_MANAGEMENT,{depart_date:null==s?void 0:s[0],end_date:null==c?void 0:c[0]})}},E().createElement(V,{account:u,loginGray:a,showTip:this.state.showTip}))}}]),n}(E().Component))||n)||n},70435:function(t,e,r){"use strict";r.d(e,{l:function(){return j},Z:function(){return B}});var n,i,o,a,s,c,u,l,p,f=r(81506),h=r.n(f),d=r(2205),v=r.n(d),y=r(78585),m=r.n(y),g=r(29754),b=r.n(g),w=r(21165),S=r.n(w),O=r(93913),E=r.n(O),k=r(34575),_=r.n(k),P=r(33124),T=r.n(P),D=(r(67268),r(22188)),x=r(91942),C=r(54328),A=r(30023),L=r(82469),N=r(75048),R=r(72781);function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b()(t);if(e){var i=b()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m()(this,r)}}var j=(n=E()((function t(){_()(this,t),S()(this,"account",i,this),S()(this,"ifSupportCandidate",o,this)})),i=T()(n.prototype,"account",[D.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=T()(n.prototype,"ifSupportCandidate",[D.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),B=(a=(0,x.U)(R.Z),s=D.aD.bound,c=D.aD.bound,u=function(t){v()(r,t);var e=I(r);function r(){var t;_()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),S()(t,"configurationStore",l,h()(t)),S()(t,"vo",p,h()(t)),t}return E()(r,[{key:"onNextViewObject",value:function(t){(0,N.w)(this.vo,t)}},{key:"hideLoginBar",get:function(){return this.configurationStore.source===A.Hx.DDJB_PUSH}},{key:"updateLoginStatus",value:function(t){var e=t.loginStatus,r=t.crhName;e!==L.uw.LOGIN?this.vo.account="":this.vo.account=r||"已登录"}},{key:"setAccount",value:function(t){this.vo.account=t}}]),r}(C.q),l=T()(u.prototype,"configurationStore",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=T()(u.prototype,"vo",[D.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j}}),T()(u.prototype,"updateLoginStatus",[s],Object.getOwnPropertyDescriptor(u.prototype,"updateLoginStatus"),u.prototype),T()(u.prototype,"setAccount",[c],Object.getOwnPropertyDescriptor(u.prototype,"setAccount"),u.prototype),u)},86264:function(t,e,r){"use strict";r.d(e,{Z:function(){return d}});var n=r(67154),i=r.n(n),o=r(6479),a=r.n(o),s=r(67294),c=r.n(s),u=r(38951),l=r(83576),p=["onTimeout","msg","root"];var f=null;function h(t){(0,u.Z)(f,function(t){return t||(t=document.createElement("div"),document.body.appendChild(t),t)}(t))}function d(t){var e=t.onTimeout,r=t.msg,n=t.root,o=a()(t,p);f=c().createElement(l.Z,i()({},o,{onTimeout:function(){return function(t,e){f=null,h(e),t&&t()}(e,n)},ControllerProps:{PortalComponent:null}}),r),h(n)}},75938:function(t,e,r){"use strict";r.d(e,{Z:function(){return B}});var n,i=r(59713),o=r.n(i),a=r(34575),s=r.n(a),c=r(93913),u=r.n(c),l=r(2205),p=r.n(l),f=r(78585),h=r.n(f),d=r(29754),v=r.n(d),y=r(67294),m=r.n(y),g=(r(45697),r(49408)),b=r(90926),w=r.n(b),S=r(93820),O=r(72781),E=r(30021),k=r(96059),_=r(9709),P=r(85068),T=r(53613),D=o()({},P.p.CHECKOUT,803053),x=o()({},P.p.CHECKOUT,802878),C=function(t){(0,T.V)(D[t])},A=function(t){(0,T.V)(x[t])},L=r(93147),N=r.n(L);function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=v()(t);if(e){var i=v()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h()(this,r)}}var B=w()(N())(n=(0,g.f3)((0,S.O)({configurationStore:O.Z}))(n=(0,g.Pi)(n=function(t){p()(r,t);var e=j(r);function r(){var t;s()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).transacType=t.props.configurationStore.transacType,t.state={showChildDesc:!1,showStuDesc:!1},t.toggleChildPopup=function(){t.setState((function(t){return I(I({},t),{},{showChildDesc:!t.showChildDesc})}))},t.toggleStuPopup=function(){t.setState((function(t){return I(I({},t),{},{showStuDesc:!t.showStuDesc})}))},t.clickHandle=function(){C(t.transacType),t.toggleChildPopup()},t.removeHandle=function(){A(t.transacType),t.props.onClickRemove()},t}return u()(r,[{key:"render",value:function(){var t=this.props.data,e=t.name,r=t.cardType,n=t.cardNo,i=t.isAccompanyChild,o=t.ticketType,a=this.props.configurationStore.configData||{},s=a.saleBeginTime,c=a.saleEndTime,u=a.dateInfo,l=a.stuSeatsName,p=this.state,f=p.showChildDesc,h=p.showStuDesc,d=i||o===_.lL.CHILD,v=o===_.lL.STUDENT;return m().createElement(y.Fragment,null,m().createElement("div",{className:N().passenger},m().createElement("div",{className:N().rowBorder},m().createElement("div",{className:N().passengerBody},m().createElement("div",{className:N().passengerRow1},m().createElement("div",{className:N().passengerName},e,_.FI[o]&&m().createElement("span",null,"(".concat(_.FI[o],")")),d&&m().createElement("span",{className:N().passengerDescInfo,onClick:this.clickHandle}),v&&m().createElement("span",{className:N().passengerDescInfo,onClick:this.toggleStuPopup}))),m().createElement("div",{className:N().passengerRow2},i?m().createElement(m().Fragment,null,m().createElement("div",{className:N().passengerDesc},"用",m().createElement("span",{className:N().passengerBold},e),"证件取票，儿童身高需在1.2~1.5米间")):m().createElement("div",{className:N().passengerDesc},"".concat(r," ").concat(n)))),this.props.hasRemoveBtn&&m().createElement("div",{className:N().passengerBtn,"data-test":"selected-passenger-remove-icon",onClick:this.removeHandle}))),f&&m().createElement(E.Z,{onClosePopup:this.toggleChildPopup,saleBeginTime:s,saleEndTime:c}),h&&m().createElement(k.Z,{onClosePopup:this.toggleStuPopup,saleBeginTime:s,saleEndTime:c,stuDurationShow:null==u?void 0:u.stuDurationShow,stuSeatsName:l}))}}]),r}(m().Component))||n)||n)||n},87319:function(t,e,r){"use strict";r.d(e,{_:function(){return Y}});var n,i,o,a=r(48926),s=r.n(a),c=r(34575),u=r.n(c),l=r(93913),p=r.n(l),f=r(2205),h=r.n(f),d=r(78585),v=r.n(d),y=r(29754),m=r.n(y),g=r(27361),b=r.n(g),w=r(87757),S=r.n(w),O=r(67294),E=r.n(O),k=r(49408),_=r(41859),P=r(93820),T=r(80109),D=r(72781),x=r(75938),C=r(11947),A=r(64663),L=r(83718),N=r(87896),R=r(82192),I=r(59713),j=r.n(I),B=r(85068),V=r(53613),U=(n={},j()(n,B.p.CHECKOUT,802843),j()(n,B.p.GRAB,1055958),n),M=(i={},j()(i,B.p.CHECKOUT,802878),j()(i,B.p.GRAB,1055959),i),H=function(t){(0,V.V)(U[t])},Z=function(t){(0,V.V)(M[t])},z="V071E83C",F="Nw7OU7Lz",G="L2qMavls",q="m1oquG3C";function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=m()(t);if(e){var i=m()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v()(this,r)}}var Y=(0,k.f3)((0,P.O)({selectedPassengersStore:R.n,pickListPopupStore:N.J,updateStore:C.Z,configurationStore:D.Z}))(o=(0,k.Pi)(o=function(t){h()(r,t);var e=K(r);function r(){var t;u()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).clearDraftAndPopup=function(){var e=t.props.pickListPopupStore.showPopup;(0,t.props.selectedPassengersStore.resetDraftOperations)(),e(),H(b()(t.props,"configurationStore.transacType"))},t.getTrueChildIdx=function(t,e){var r=1,n=e-1;return t.forEach((function(t,i){t.selected&&(r===e?n=i:r+=1)})),n},t.doRemoveAndSubmit=function(){var e=s()(S().mark((function e(r){var n,i,o,a,s,c,u,l;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(n=r=r||{}).id,(o=n.childIdx)>=0?(a=t.props.selectedPassengersStore.draftOperations[i]||{},s=a.passenger,c=a.withChildren,u=a.childrenList,l=t.getTrueChildIdx(u,o),u.splice(l,1),t.props.selectedPassengersStore.changeChildrenList({passenger:s,withChildren:c>0?c-1:c,childrenList:u})):t.props.selectedPassengersStore.deletePassengerDraft(r.id),(0,_.k)({stores:{ticketObj:r},subOp:"delete selected passenger"}),(0,L.y)(),e.next=7,t.props.updateStore.doPageUpdate();case 7:(0,L.v)(),Z(b()(t.props,"configurationStore.transacType"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return p()(r,[{key:"componentDidMount",value:function(){this.props.selectedPassengersStore.resetDraftOperations()}},{key:"render",value:function(){var t=this,e=(0,T.Np)(b()(this.props,"selectedPassengersStore.vo.passengers")),r=b()(this.props,"selectedPassengersStore.getTipContent"),n=r&&r(e.length)||"";return E().createElement("div",{className:z},E().createElement(A.ZP,{contents:n}),e.map((function(e){return E().createElement(x.Z,{key:e.id+"_"+e.childIdx,data:e,hasRemoveBtn:!0,onClickRemove:function(){return t.doRemoveAndSubmit(e)}})})),E().createElement("div",{className:F,"data-test":"passenger-list-add-passenger",onClick:this.clearDraftAndPopup,"data-active":"link-red"},E().createElement("div",{className:G}),E().createElement("div",{className:q},"选择乘车人")))}}]),r}(E().Component))||o)||o},82192:function(t,e,r){"use strict";r.d(e,{j:function(){return X},n:function(){return tt}});var n,i,o,a,s,c,u,l,p,f,h,d,v,y,m=r(59713),g=r.n(m),b=r(81506),w=r.n(b),S=r(2205),O=r.n(S),E=r(78585),k=r.n(E),_=r(29754),P=r.n(_),T=r(21165),D=r.n(T),x=r(93913),C=r.n(x),A=r(34575),L=r.n(A),N=r(33124),R=r.n(N),I=(r(67268),r(27361)),j=r.n(I),B=r(22188),V=r(96237),U=r(91942),M=r(54328),H=r(75048),Z=r(72781),z=r(11947),F=r(51941),G=r(28444),q=r(9709),K=r(64663),Y=r(78998);function W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?W(Object(r),!0).forEach((function(e){g()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=P()(t);if(e){var i=P()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return k()(this,r)}}var X=(n=C()((function t(){L()(this,t),D()(this,"passengers",i,this)})),i=R()(n.prototype,"passengers",[B.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),n),J=!1,tt=(o=(0,U.U)(Z.Z),a=(0,U.U)(z.Z),s=B.aD.bound,c=B.aD.bound,u=B.aD.bound,l=B.aD.bound,p=B.aD.bound,f=function(t){O()(r,t);var e=Q(r);function r(){var t;L()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),D()(t,"vo",h,w()(t)),D()(t,"configurationStore",d,w()(t)),D()(t,"updateStore",v,w()(t)),D()(t,"draftOperations",y,w()(t)),t.getTipContent=function(e){return e<=1?[]:t.configurationStore.transacType===F.iU.GRAB?[K.N_.MUTI_PASSENGER]:[]},t.canAddMoreToDraft=function(e){return e=e||1,(0,Y.nb)(t.draftOperations,e)},t}return C()(r,[{key:"onNextViewObject",value:function(t){(0,H.w)(this.vo,t)}},{key:"hasVerifyless",get:function(){var t;return null===(t=this.vo.passengers)||void 0===t?void 0:t.find((function(t){return!t.crhBookPass}))}},{key:"transStudentToAdult",value:function(){var t=this;Object.keys(this.draftOperations).forEach((function(e){var r=t.draftOperations[e]||{};(r.passenger||{}).passengerUserType===G.SS.STUDENT&&(r.passenger.ticketType=q.lL.ADULT)})),this.setDraftModified(!0),this.updateStore.doPageUpdate()}},{key:"changeSelect",value:function(t){var e=t.passenger,r=t.selected,n=t.studentTransAdult;e.ticketType=n?q.lL.ADULT:e.passengerUserType;var i={passenger:e,withChildren:0,selected:r,childrenList:[]};this.draftOperations[e.id]&&(i.withChildren=this.draftOperations[e.id].withChildren,i.childrenList=this.draftOperations[e.id].childrenList||[]),this._replaceOperation(i)}},{key:"_formatDraftPassenger",value:function(t){var e=t.passengerUserType||t.userTypeCode,r=t.ticketType||e;return r||(0,V.e)({errorMsg:"draftOperations ticketType不存在",stores:{passenger:t}}),$($({},t),{},{passengerName:t.passengerName||t.name,passengerCardTypeDesc:t.passengerCardTypeDesc||t.cardType,passengerCardId:t.passengerCardId||t.cardNo,passengerUserTypeDesc:t.passengerUserTypeDesc||t.userType,passengerUserType:e,ticketType:r})}},{key:"_replaceOperation",value:function(t){var e=t.withChildren,r=t.passenger,n=t.selected,i=t.childrenList,o=void 0===i?[]:i,a=this.draftOperations;this.draftOperations={},Object.assign(this.draftOperations,a),this.draftOperations[r.id]={passenger:this._formatDraftPassenger(r),withChildren:e,selected:n,childrenList:o},this.setDraftModified(!0)}},{key:"resetDraftOperations",value:function(t){var e=this;t?this.draftOperations=t:(this.draftOperations={},this.vo.passengers&&this.vo.passengers.forEach((function(t,r){t.originIndex=r;var n=e._formatDraftPassenger(t),i=e.initChildrenList(n,n.withChildren);e.draftOperations[n.id]={passenger:n,withChildren:n.withChildren,selected:!0,childrenList:i}}))),this.setDraftModified(!1)}},{key:"deletePassengerDraft",value:function(t){delete this.draftOperations[t],this.setDraftModified(!0)}},{key:"setDraftModified",value:function(t){J=t}},{key:"isDraftModified",value:function(){return J}},{key:"changeChildrenList",value:function(t){var e=t.passenger,r=t.withChildren,n=t.childrenList;this._replaceOperation({passenger:e,withChildren:r,selected:j()(this.draftOperations[e.id],"selected")||e.selected,childrenList:n||this.initChildrenList(e,r)})}},{key:"initChildrenList",value:function(t,e){for(var r=[],n=0;n<e;n++)r.push(this.initChildPassengerInfo(t));return r}},{key:"initChildPassengerInfo",value:function(t){t=t||{};var e={};return Object.assign(e,t),e.selected=!0,delete e.withChildren,delete e.childrenList,e}}]),r}(M.q),h=R()(f.prototype,"vo",[B.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new X}}),d=R()(f.prototype,"configurationStore",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=R()(f.prototype,"updateStore",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=R()(f.prototype,"draftOperations",[B.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),R()(f.prototype,"transStudentToAdult",[s],Object.getOwnPropertyDescriptor(f.prototype,"transStudentToAdult"),f.prototype),R()(f.prototype,"changeSelect",[c],Object.getOwnPropertyDescriptor(f.prototype,"changeSelect"),f.prototype),R()(f.prototype,"resetDraftOperations",[u],Object.getOwnPropertyDescriptor(f.prototype,"resetDraftOperations"),f.prototype),R()(f.prototype,"deletePassengerDraft",[l],Object.getOwnPropertyDescriptor(f.prototype,"deletePassengerDraft"),f.prototype),R()(f.prototype,"changeChildrenList",[p],Object.getOwnPropertyDescriptor(f.prototype,"changeChildrenList"),f.prototype),f)},78998:function(t,e,r){"use strict";r.d(e,{nb:function(){return i},iA:function(){return o}});var n=r(82469);function i(t,e){t=t||{};var r=0;return Object.keys(t).forEach((function(e){t[e].selected&&(r+=1+(t[e].withChildren||0))})),r+e<=n.CY}function o(t){try{t=t||{},sessionStorage.setItem(n.UD,JSON.stringify(t))}catch(t){}}},38276:function(t,e,r){"use strict";r.d(e,{Z:function(){return it}});var n,i,o,a,s=r(48926),c=r.n(s),u=r(34575),l=r.n(u),p=r(93913),f=r.n(p),h=r(2205),d=r.n(h),v=r(78585),y=r.n(v),m=r(29754),g=r.n(m),b=r(87757),w=r.n(b),S=r(67294),O=r.n(S),E=r(49408),k=r(36792),_=r(4042),P=r(93820),T=r(72781),D=r(79072),x=r(79052),C=r(59713),A=r.n(C),L=r(85068),N=r(53613),R=(n={},A()(n,L.p.CHECKOUT,802877),A()(n,L.p.GRAB,1055952),n),I=(i={},A()(i,L.p.CHECKOUT,802876),A()(i,L.p.GRAB,1055953),i),j=(o={},A()(o,L.p.CHECKOUT,2056204),A()(o,L.p.GRAB,2056205),o),B=function(t){(0,N.V)(R[t])},V=function(t){(0,N.V)(I[t])},U=function(t){(0,N.V)(j[t])},M="_0+ISB0QS",H="gihdq8Df",Z="Tg2-F-xF",z="sqrU1R71",F="HUhPoxjO",G="_6KU1z1kr",q="wVOomYzC",K="D5pmk9ee",Y="hJMZgEAG";function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g()(t);if(e){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}var $,Q=(0,E.f3)((0,P.O)({telephoneInputStore:x.Z}))(a=(0,E.Pi)(a=function(t){d()(r,t);var e=W(r);function r(){var t;l()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={items:[],loaded:!1},t.telStore=t.props.telephoneInputStore,t.doSelect=function(e){U(t.props.transacType),t.telStore.setShowAutoComplete(!1),t.telStore.resetCurrentMobile(e)},t.doRemove=function(e,r){r&&r.stopPropagation(),r&&r.preventDefault();var n=t.state.items||[],i=n[e];n.splice(e,1),t.setState({items:n}),t.telStore.removeMobile({mobile:i})},t.doClear=function(){t.setState({items:[]}),t.telStore.clearMobiles()},t}return f()(r,[{key:"componentDidMount",value:function(){var t=this;setTimeout(c()(w().mark((function e(){var r,n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.telStore.queryMobileHistory();case 2:r=e.sent,n=r.mobileList,t.setState({loaded:!0,items:n||[]});case 5:case"end":return e.stop()}}),e)}))),200)}},{key:"render",value:function(){var t=this,e=this.telStore,r=e.setShowAutoComplete,n=e.showAutoComplete,i=this.state,o=i.loaded,a=i.items,s=null;return n?(o?a&&a.length>0&&(s=a.map((function(e,r){return O().createElement("div",{key:e,className:G,onClick:function(){return t.doSelect(e)}},O().createElement("div",null,e),O().createElement("div",{className:q,onClick:function(e){return t.doRemove(r,e)}}))}))).push(O().createElement("div",{key:"clear-mobile",className:F,onClick:this.doClear},"清空历史")):s=O().createElement("div",{className:K},O().createElement("div",{className:Y})),s?O().createElement(O().Fragment,null,O().createElement("div",{className:M,onClick:function(){return r(!1)}}),O().createElement("div",{className:H},O().createElement("div",{className:z},s),O().createElement("div",{className:Z,onClick:function(){return r(!1)}}))):null):null}}]),r}(O().Component))||a)||a,X="iCM4K3Tm",J="iWdKY6l7",tt="DxPyZxfX",et="_3M0W96Xw",rt="mgawa7Bm";function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g()(t);if(e){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}var it=(0,E.f3)((0,P.O)({telephoneInputStore:x.Z,configurationStore:T.Z}))($=(0,E.Pi)($=function(t){d()(n,t);var e,r=nt(n);function n(){var t;l()(this,n);for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={offsetTop:0,offsetHeight:0},t.telStore=t.props.telephoneInputStore,t.borderElem=null,t.isAndroid=!1,t.onFocus=function(){var e=t.telStore.setShowAutoComplete;B(t.props.configurationStore.transacType),e(!0),t.refreshAutoInputPos(),t.isAndroid||setTimeout((function(){document.activeElement.scrollIntoView({block:"center"})}),100)},t.onBlur=function(){setTimeout((function(){t.telStore.setShowAutoComplete(!1)}),0)},t.invokeContact=function(){V(t.props.configurationStore.transacType),(0,k.KJ)().then((function(e){e=e||{},t.telStore.resetCurrentMobile(e.mobile)})).catch((function(){}))},t.refreshAutoInputPos=function(){t.borderElem&&t.setState({offsetHeight:t.borderElem.offsetHeight,offsetTop:t.borderElem.offsetTop})},t}return f()(n,[{key:"componentDidMount",value:(e=c()(w().mark((function t(){var e;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.telStore.getLocalCacheMobile();case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=this.telStore.lastOrderInput;case 5:(e=t.t0)&&this.telStore.resetCurrentMobile(e),this.refreshAutoInputPos(),this.isAndroid=(0,D.JD)(),this.isAndroid&&window.addEventListener("resize",(function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||window.setTimeout((function(){var t,e;"scrollIntoView"in document.activeElement?document.activeElement.scrollIntoView({block:"center"}):null===(t=(e=document.activeElement).scrollIntoViewIfNeeded)||void 0===t||t.call(e)}),100)}));case 10:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"render",value:function(){var t=this,e=this.telStore,r=e.showNativeMobileSelect,n=e.setInputElement,i=e.mobile,o=e.onMobileChange,a=this.props.configurationStore.transacType;return O().createElement("div",{className:X,ref:function(e){t.borderElem=e}},O().createElement("div",{className:J},"手机号码"),O().createElement("div",{className:et},O().createElement(_.Z,{className:rt,inputRef:function(t){return n(t)},placeholder:"用于接收短信通知",type:"tel",value:i,onChange:o,onFocus:this.onFocus,onBlur:this.onBlur})),r&&O().createElement("div",{className:tt,onClick:this.invokeContact}),O().createElement(Q,{telInputTop:this.state.offsetTop,telInputHeight:this.state.offsetHeight,transacType:a}))}}]),n}(O().Component))||$)||$},79052:function(t,e,r){"use strict";r.d(e,{Z:function(){return F}});var n=r(48926),i=r.n(n),o=r(21165),a=r.n(o),s=r(34575),c=r.n(s),u=r(93913),l=r.n(u),p=r(81506),f=r.n(p),h=r(2205),d=r.n(h),v=r(78585),y=r.n(v),m=r(29754),g=r.n(m),b=r(33124),w=r.n(b),S=(r(67268),r(87757)),O=r.n(S),E=r(22188),k=r(38533),_=r(54328),P=r(9714),T=r(30023),D=r(16932),x=r(92272);function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g()(t);if(e){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}var A,L,N,R,I,j,B,V="api/mayflower/history/query",U="api/mayflower/history/delete",M="api/mayflower/history/clear",H=function(t){d()(r,t);var e=C(r);function r(){return c()(this,r),e.apply(this,arguments)}return l()(r,[{key:"queryMobiles",value:function(){return this.post({url:V,defaultValue:{}})}},{key:"removeMobile",value:function(t){return this.post({url:U,params:t,customConfig:{skipBizErrorCheck:!0},defaultValue:{}})}},{key:"clearMobiles",value:function(){return this.post({url:M,customConfig:{skipBizErrorCheck:!0},defaultValue:{}})}}]),r}(x.b);function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g()(t);if(e){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}var z=null,F=(A=E.aD.bound,L=E.aD.bound,N=E.aD.bound,R=function(t){d()(r,t);var e=Z(r);function r(){var t;c()(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).lastOrderInput=null,a()(t,"showNativeMobileSelect",I,f()(t)),a()(t,"mobile",j,f()(t)),a()(t,"showAutoComplete",B,f()(t)),t.queryMobileHistory=function(){return t.$service.queryMobiles()},t.removeMobile=function(e){t.$service.removeMobile(e)},t.clearMobiles=function(){t.$service.clearMobiles()},t.setInputElement=function(t){z=t},t.focusInput=function(){z&&z.focus()},t.getLocalCacheMobile=i()(O().mark((function t(){var e,r,n,i;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.Z.getItem(T.k2.CHECKOUT_MOBILE_INPUT);case 2:if(!(e=t.sent)){t.next=8;break}if(r=e.time,n=e.mobile,i=(0,P.KQ)("mobileCacheTime")||216e5,!(Date.now()-r<i&&n)){t.next=8;break}return t.abrupt("return",n);case 8:return t.abrupt("return","");case 9:case"end":return t.stop()}}),t)}))),t}return l()(r,[{key:"initWithContext",value:function(t){var e=(0,k.Xf)(t.userAgent);this.showNativeMobileSelect=e.isNativePlatform&&e.isVersionGreaterThanEqual("3.17.0")}},{key:"onNextViewObject",value:function(t){this.lastOrderInput=t}},{key:"$service",get:function(){return this.__$service=this.__$service||new H,this.__$service}},{key:"resetCurrentMobile",value:function(t){this.mobile=function(t){return(t=(t=(t||"").toString()).replace(/(\+86)/g,"")).replace(/[^\d]*/g,"")}(t),D.Z.setItem(T.k2.CHECKOUT_MOBILE_INPUT,{time:Date.now(),mobile:this.mobile})}},{key:"onMobileChange",value:function(t){var e,r,n=((null==t||null===(e=t.target)||void 0===e?void 0:e.value)||"").trim();this.resetCurrentMobile(n),this.verifyCode=((null==t||null===(r=t.target)||void 0===r?void 0:r.value)||"").trim()}},{key:"setShowAutoComplete",value:function(t){this.showAutoComplete=t}}]),r}(_.q),I=w()(R.prototype,"showNativeMobileSelect",[E.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=w()(R.prototype,"mobile",[E.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=w()(R.prototype,"showAutoComplete",[E.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w()(R.prototype,"resetCurrentMobile",[A],Object.getOwnPropertyDescriptor(R.prototype,"resetCurrentMobile"),R.prototype),w()(R.prototype,"onMobileChange",[L],Object.getOwnPropertyDescriptor(R.prototype,"onMobileChange"),R.prototype),w()(R.prototype,"setShowAutoComplete",[N],Object.getOwnPropertyDescriptor(R.prototype,"setShowAutoComplete"),R.prototype),R)},54136:function(t,e,r){"use strict";r.d(e,{Z:function(){return v}});var n=r(59713),i=r.n(n),o=r(63038),a=r.n(o),s=r(67294),c=r.n(s),u=r(49408),l=r(94184),p=r.n(l),f=r(26961),h=r(53613),d={center:"N2zwb46+",text:"Uy7GhPVx",trainNo:"a1QHuEXl",box:"F-CznYFG",line:"fFPeEluH",arrow:"N8mBfOTm",label:"SdmW6ClV",change:"FbaK7RMQ",rightArrow:"ETTKUpKQ",loading:"ihktstJL",gradual:"yGgrEAY1"};var v=(0,u.Pi)((function(t){var e=t.duration,r=t.trainNo,n=t.hasStationPop,o=void 0!==n&&n,u=t.showTimeSchedule,l=t.className,v=t.clickElSn,y=t.stationTimeParams,m=(0,s.useState)(!1),g=a()(m,2),b=g[0],w=g[1],S=function(){o&&((0,h.V)(v),w(!b))};return c().createElement(c().Fragment,null,c().createElement("div",{className:p()(d.center,l),onClick:S},c().createElement("div",{className:d.text},e),c().createElement("div",{className:d.box},c().createElement("div",{className:d.line},c().createElement("i",{className:d.arrow})),u&&c().createElement("div",{className:p()(d.label,l,i()({},d.change,!!o))},"时刻表",o&&c().createElement("i",{className:d.rightArrow}))),c().createElement("div",{className:p()(d.text,d.trainNo)},c().createElement("span",{className:d.trainNoTxt},r))),b&&c().createElement(f.Z,{closePopup:S,stationTimeParams:y}))}))},64663:function(t,e,r){"use strict";r.d(e,{Sx:function(){return u},Zr:function(){return c},N_:function(){return l},ZP:function(){return p}});var n=r(67294),i=r.n(n),o=r(94184),a=r.n(o),s="Gu0T5mDl",c="退改需至车站办理，不支持线上改退签",u="根据铁路局规定，购票须提供每位乘车人手机号并核验，该乘客联系方式尚未通过核验，请您尽快完成核验",l={MUTI_SEAT:"多选座席按最高价收取，出票后按实际座席退还差价",MUTI_PASSENGER:"多个乘车人建议分开抢票，成功率更高",MULTIPLE_TIP:"多选车次、日期、座席，可大幅提高抢票成功率",CHECKOUT_CHILD_PRICE:"儿童票暂展示预估价格，实际以占座后价格为准",CHECKOUT_STUDENT_PRICE:"学生票暂展示预估价格，实际以占座后价格为准",CHECKOUT_CHILD_STUDENT_PRICE:"儿童、学生票暂展示预估价格，实际以占座后价格为准",CHECKOUT_SLEEP_PRICE:"卧铺暂按上铺票价展示，实际以占座后价格为准",CHECKOUT_LOWER_BERTH_SLEEP_PRICE:"卧铺暂按下铺票价收费，出票后按实际铺型退还差价",CHECKOUT_SLEEP_CHILD_PRICE:"儿童票暂展示预估价格，卧铺暂按上铺票价展示，实际以占座后价格为准",CHECKOUT_SLEEP_STUDENT_PRICE:"学生票暂展示预估价格，卧铺暂按上铺票价展示，实际以占座后价格为准",CHECKOUT_SLEEP_CHILD_STUDENT_PRICE:"儿童、学生票暂展示预估价格，卧铺暂按上铺票价展示，实际以占座后价格为准",GRAB_CHILD_PRICE:"儿童票暂按成人票价收费，出票后按实际票价退还差价",GRAB_STUDENT_PRICE:"学生票暂按成人票价收费，出票后按实际票价退还差价",GRAB_CHILD_STUDENT_PRICE:"儿童、学生票暂按成人票价收费，出票后按实际票价退还差价",GRAB_SLEEP_PRICE:"卧铺暂按下铺票价收费，出票后按实际铺型退还差价",GRAB_SLEEP_CHILD_PRICE:"儿童票暂按成人票价收费，卧铺暂按下铺票价收费，出票后按实际票价退还差价",GRAB_SLEEP_STUDENT_PRICE:"学生票暂按成人票价收费，卧铺暂按下铺票价收费，出票后按实际票价退还差价",GRAB_SLEEP_CHILD_STUDENT_PRICE:"儿童、学生票暂按成人票价收费，卧铺暂按下铺票价收费，出票后按实际票价退还差价",CHANGE_CHILD_PRICE:"儿童票暂按成人票价展示，以实际占座结果为准",CHANGE_STUDENT_PRICE:"学生票暂按成人票价展示，以实际占座结果为准",CHANGE_CHILD_STUDENT_PRICE:"儿童、学生票暂按成人票价展示，以实际占座结果为准",CHANGE_SLEEP_PRICE:"卧铺暂按上铺票价展示，以实际占座结果为准",CHANGE_SLEEP_CHILD_PRICE:"儿童票暂按成人票价展示，卧铺暂按上铺票价展示，以实际占座结果为准",CHANGE_SLEEP_STUDENT_PRICE:"学生票暂按成人票价展示，卧铺暂按上铺票价展示，以实际占座结果为准",CHANGE_SLEEP_CHILD_STUDENT_PRICE:"儿童、学生票暂按成人票价展示，卧铺暂按上铺票价展示，以实际占座结果为准"},p=(0,n.memo)((function(t){var e=t.contents,r=void 0===e?[]:e,n=t.className;return null!=r&&r.length?i().createElement("div",{className:a()(s,n)},r.map((function(t){return i().createElement("span",{key:"yellow-tip-".concat(t)},t)}))):null}))},30021:function(t,e,r){"use strict";var n=r(38871);e.Z=(0,n.n)({resolved:{},chunkName:function(){return"2_child_description_popup"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(4094).then(r.bind(r,71954))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 71954}})},9786:function(t,e,r){"use strict";var n=r(38871);e.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_tcashier_couponPopup"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(5362).then(r.bind(r,45297))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 45297}})},95301:function(t,e,r){"use strict";r.d(e,{Z:function(){return b}});var n=r(48926),i=r.n(n),o=r(59713),a=r.n(o),s=r(87757),c=r.n(s),u=r(67294),l=r.n(u),p=r(38871),f=r(4026),h=r(1607),d=r(79072);function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m=(0,p.n)({resolved:{},chunkName:function(){return"index"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(4826).then(r.bind(r,14845))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 14845}},{isCloseSpinner:!0});function g(t){return y(y({},t),{},{isFaceSmsVerify:!0})}function b(t){return w.apply(this,arguments)}function w(){return(w=i()(c().mark((function t(e){var r,n,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null===(r=e.onTextLink)||void 0===r||null===(n=r.param)||void 0===n?void 0:n.url,d.ZP.isNativePlatform||!i){t.next=4;break}return h.ZP.uniformForward(i),t.abrupt("return");case 4:return t.abrupt("return",new Promise((function(t,r){var n={onSuccess:function(){return t(g({isFaceSuccess:1}))},onError:function(){return r(g({isFaceError:1}))}},i=function(){};i=(0,f.Z)(l().createElement(m,{data:e,faceBtnProps:n,closePopup:function(e){i(),null!=e&&e.fromFace||t(g(e))}}))})));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},31458:function(t,e,r){"use strict";var n=r(38871);e.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1payment_popup"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(8308).then(r.bind(r,42552))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 42552}})},52391:function(t,e,r){"use strict";var n=r(38871);e.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1priceDetailPopup"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(199).then(r.bind(r,75843))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 75843}})},12065:function(t,e,r){"use strict";var n=r(38871);e.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1reserve_result"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(8835).then(r.bind(r,27655))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 27655}})},26961:function(t,e,r){"use strict";var n=r(38871);e.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1station_times"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(7235).then(r.bind(r,14891))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 14891}})},96059:function(t,e,r){"use strict";var n=r(38871);e.Z=(0,n.n)({resolved:{},chunkName:function(){return"2_student_description_popup"},isReady:function(t){var e=this.resolve(t);return!0===this.resolved[e]&&!!r.m[e]},importAsync:function(){return r.e(5846).then(r.bind(r,47102))},requireAsync:function(t){var e=this,r=this.resolve(t);return this.resolved[r]=!1,this.importAsync(t).then((function(t){return e.resolved[r]=!0,t}))},requireSync:function t(e){var n=this.resolve(e);return r(n)},resolve:function t(){return 47102}})},53319:function(t,e,r){var n=r(17361),i=r(84718),o="string"==typeof n?[[t.id,n,""]]:n;(e=t.exports=n.locals||{})._getContent=function(){return o},e._getCss=function(){return""+n},e._insertCss=function(t){return i(o,t)}},26733:function(t,e,r){var n=r(20461),i=r(84718),o="string"==typeof n?[[t.id,n,""]]:n;(e=t.exports=n.locals||{})._getContent=function(){return o},e._getCss=function(){return""+n},e._insertCss=function(t){return i(o,t)}},27818:function(t,e,r){var n=r(38241),i=r(84718),o="string"==typeof n?[[t.id,n,""]]:n;(e=t.exports=n.locals||{})._getContent=function(){return o},e._getCss=function(){return""+n},e._insertCss=function(t){return i(o,t)}},75277:function(t,e,r){var n=r(97681),i=r(84718),o="string"==typeof n?[[t.id,n,""]]:n;(e=t.exports=n.locals||{})._getContent=function(){return o},e._getCss=function(){return""+n},e._insertCss=function(t){return i(o,t)}},53092:function(t,e,r){var n=r(65273),i=r(84718),o="string"==typeof n?[[t.id,n,""]]:n;(e=t.exports=n.locals||{})._getContent=function(){return o},e._getCss=function(){return""+n},e._insertCss=function(t){return i(o,t)}},45128:function(t,e,r){var n=r(10284),i=r(84718),o="string"==typeof n?[[t.id,n,""]]:n;(e=t.exports=n.locals||{})._getContent=function(){return o},e._getCss=function(){return""+n},e._insertCss=function(t){return i(o,t)}},93147:function(t,e,r){var n=r(31026),i=r(84718),o="string"==typeof n?[[t.id,n,""]]:n;(e=t.exports=n.locals||{})._getContent=function(){return o},e._getCss=function(){return""+n},e._insertCss=function(t){return i(o,t)}},78330:function(t,e,r){"use strict";r.d(e,{Z:function(){return at}});function n(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function i(t,e){return t&e}function o(t,e){return t|e}function a(t,e){return t^e}function s(t,e){return t&~e}function c(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function u(t){for(var e=0;0!=t;)t&=t-1,++e;return e}var l,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function f(t){var e,r,n="";for(e=0;e+3<=t.length;e+=3)r=parseInt(t.substring(e,e+3),16),n+=p.charAt(r>>6)+p.charAt(63&r);for(e+1==t.length?(r=parseInt(t.substring(e,e+1),16),n+=p.charAt(r<<2)):e+2==t.length&&(r=parseInt(t.substring(e,e+2),16),n+=p.charAt(r>>2)+p.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n}function h(t){var e,r="",i=0,o=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e){var a=p.indexOf(t.charAt(e));a<0||(0==i?(r+=n(a>>2),o=3&a,i=1):1==i?(r+=n(o<<2|a>>4),o=15&a,i=2):2==i?(r+=n(o),r+=n(a>>2),o=3&a,i=3):(r+=n(o<<2|a>>4),r+=n(15&a),i=0))}return 1==i&&(r+=n(o<<2)),r}var d,v=function(t){var e;if(void 0===l){var r="0123456789ABCDEF",n=" \f\n\r\t \u2028\u2029";for(l={},e=0;e<16;++e)l[r.charAt(e)]=e;for(r=r.toLowerCase(),e=10;e<16;++e)l[r.charAt(e)]=e;for(e=0;e<n.length;++e)l[n.charAt(e)]=-1}var i=[],o=0,a=0;for(e=0;e<t.length;++e){var s=t.charAt(e);if("="==s)break;if(-1!=(s=l[s])){if(void 0===s)throw new Error("Illegal character at offset "+e);o|=s,++a>=2?(i[i.length]=o,o=0,a=0):o<<=4}}if(a)throw new Error("Hex encoding incomplete: 4 bits missing");return i},y={decode:function(t){var e;if(void 0===d){var r="= \f\n\r\t \u2028\u2029";for(d=Object.create(null),e=0;e<64;++e)d["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)]=e;for(d["-"]=62,d._=63,e=0;e<r.length;++e)d[r.charAt(e)]=-1}var n=[],i=0,o=0;for(e=0;e<t.length;++e){var a=t.charAt(e);if("="==a)break;if(-1!=(a=d[a])){if(void 0===a)throw new Error("Illegal character at offset "+e);i|=a,++o>=4?(n[n.length]=i>>16,n[n.length]=i>>8&255,n[n.length]=255&i,i=0,o=0):i<<=6}}switch(o){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:n[n.length]=i>>10;break;case 3:n[n.length]=i>>16,n[n.length]=i>>8&255}return n},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=y.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw new Error("RegExp out of sync");t=e[2]}return y.decode(t)}},m=1e13,g=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,e){var r,n,i=this.buf,o=i.length;for(r=0;r<o;++r)(n=i[r]*t+e)<m?e=0:n-=(e=0|n/m)*m,i[r]=n;e>0&&(i[r]=e)},t.prototype.sub=function(t){var e,r,n=this.buf,i=n.length;for(e=0;e<i;++e)(r=n[e]-t)<0?(r+=m,t=1):t=0,n[e]=r;for(;0===n[n.length-1];)n.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var e=this.buf,r=e[e.length-1].toString(),n=e.length-2;n>=0;--n)r+=(m+e[n]).toString().substring(1);return r},t.prototype.valueOf=function(){for(var t=this.buf,e=0,r=t.length-1;r>=0;--r)e=e*m+t[r];return e},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}(),b=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,w=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function S(t,e){return t.length>e&&(t=t.substring(0,e)+"…"),t}var O,E=function(){function t(e,r){this.hexDigits="0123456789ABCDEF",e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=r)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset "+t+" on a stream of length "+this.enc.length);return"string"==typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e,r){for(var n="",i=t;i<e;++i)if(n+=this.hexByte(this.get(i)),!0!==r)switch(15&i){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},t.prototype.isASCII=function(t,e){for(var r=t;r<e;++r){var n=this.get(r);if(n<32||n>176)return!1}return!0},t.prototype.parseStringISO=function(t,e){for(var r="",n=t;n<e;++n)r+=String.fromCharCode(this.get(n));return r},t.prototype.parseStringUTF=function(t,e){for(var r="",n=t;n<e;){var i=this.get(n++);r+=i<128?String.fromCharCode(i):i>191&&i<224?String.fromCharCode((31&i)<<6|63&this.get(n++)):String.fromCharCode((15&i)<<12|(63&this.get(n++))<<6|63&this.get(n++))}return r},t.prototype.parseStringBMP=function(t,e){for(var r,n,i="",o=t;o<e;)r=this.get(o++),n=this.get(o++),i+=String.fromCharCode(r<<8|n);return i},t.prototype.parseTime=function(t,e,r){var n=this.parseStringISO(t,e),i=(r?b:w).exec(n);return i?(r&&(i[1]=+i[1],i[1]+=+i[1]<70?2e3:1900),n=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(n+=":"+i[5],i[6]&&(n+=":"+i[6],i[7]&&(n+="."+i[7]))),i[8]&&(n+=" UTC","Z"!=i[8]&&(n+=i[8],i[9]&&(n+=":"+i[9]))),n):"Unrecognized time: "+n},t.prototype.parseInteger=function(t,e){for(var r,n=this.get(t),i=n>127,o=i?255:0,a="";n==o&&++t<e;)n=this.get(t);if(0===(r=e-t))return i?-1:0;if(r>4){for(a=n,r<<=3;0==(128&(+a^o));)a=+a<<1,--r;a="("+r+" bit)\n"}i&&(n-=256);for(var s=new g(n),c=t+1;c<e;++c)s.mulAdd(256,this.get(c));return a+s.toString()},t.prototype.parseBitString=function(t,e,r){for(var n=this.get(t),i="("+((e-t-1<<3)-n)+" bit)\n",o="",a=t+1;a<e;++a){for(var s=this.get(a),c=a==e-1?n:0,u=7;u>=c;--u)o+=s>>u&1?"1":"0";if(o.length>r)return i+S(o,r)}return i+o},t.prototype.parseOctetString=function(t,e,r){if(this.isASCII(t,e))return S(this.parseStringISO(t,e),r);var n=e-t,i="("+n+" byte)\n";n>(r/=2)&&(e=t+r);for(var o=t;o<e;++o)i+=this.hexByte(this.get(o));return n>r&&(i+="…"),i},t.prototype.parseOID=function(t,e,r){for(var n="",i=new g,o=0,a=t;a<e;++a){var s=this.get(a);if(i.mulAdd(128,127&s),o+=7,!(128&s)){if(""===n)if((i=i.simplify())instanceof g)i.sub(80),n="2."+i.toString();else{var c=i<80?i<40?0:1:2;n=c+"."+(i-40*c)}else n+="."+i.toString();if(n.length>r)return S(n,r);i=new g,o=0}}return o>0&&(n+=".incomplete"),n},t}(),k=function(){function t(t,e,r,n,i){if(!(n instanceof _))throw new Error("Invalid tag value.");this.stream=t,this.header=e,this.length=r,this.tag=n,this.sub=i}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),r=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+r,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+r);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+r,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+r,t);case 6:return this.stream.parseOID(e,e+r,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return S(this.stream.parseStringUTF(e,e+r),t);case 18:case 19:case 20:case 21:case 22:case 26:return S(this.stream.parseStringISO(e,e+r),t);case 30:return S(this.stream.parseStringBMP(e,e+r),t);case 23:case 24:return this.stream.parseTime(e,e+r,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var r=0,n=this.sub.length;r<n;++r)e+=this.sub[r].toPrettyString(t)}return e},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var e=t.get(),r=127&e;if(r==e)return r;if(r>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===r)return null;e=0;for(var n=0;n<r;++n)e=256*e+t.get();return e},t.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,r=2*this.length;return t.substr(e,r)},t.decode=function(e){var r;r=e instanceof E?e:new E(e,0);var n=new E(r),i=new _(r),o=t.decodeLength(r),a=r.pos,s=a-n.pos,c=null,u=function(){var e=[];if(null!==o){for(var n=a+o;r.pos<n;)e[e.length]=t.decode(r);if(r.pos!=n)throw new Error("Content size is not correct for container starting at offset "+a)}else try{for(;;){var i=t.decode(r);if(i.tag.isEOC())break;e[e.length]=i}o=a-r.pos}catch(t){throw new Error("Exception while decoding undefined length content: "+t)}return e};if(i.tagConstructed)c=u();else if(i.isUniversal()&&(3==i.tagNumber||4==i.tagNumber))try{if(3==i.tagNumber&&0!=r.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");c=u();for(var l=0;l<c.length;++l)if(c[l].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(t){c=null}if(null===c){if(null===o)throw new Error("We can't skip over an invalid tag with undefined length at offset "+a);r.pos=a+Math.abs(o)}return new t(n,s,o,i,c)},t}(),_=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=0!=(32&e),this.tagNumber=31&e,31==this.tagNumber){var r=new g;do{e=t.get(),r.mulAdd(128,127&e)}while(128&e);this.tagNumber=r.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}(),P=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],T=(1<<26)/P[P.length-1],D=function(){function t(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,i=(1<<e)-1,o=!1,a="",s=this.t,c=this.DB-s*this.DB%e;if(s-- >0)for(c<this.DB&&(r=this[s]>>c)>0&&(o=!0,a=n(r));s>=0;)c<e?(r=(this[s]&(1<<c)-1)<<e-c,r|=this[--s]>>(c+=this.DB-e)):(r=this[s]>>(c-=e)&i,c<=0&&(c+=this.DB,--s)),r>0&&(o=!0),o&&(a+=n(r));return o?a:"0"},t.prototype.negate=function(){var e=N();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+H(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var r=N();return this.abs().divRemTo(e,null,r),this.s<0&&r.compareTo(t.ZERO)>0&&e.subTo(r,r),r},t.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new C(e):new A(e),this.exp(t,r)},t.prototype.clone=function(){var t=N();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var e=N();return this.bitwiseTo(t,i,e),e},t.prototype.or=function(t){var e=N();return this.bitwiseTo(t,o,e),e},t.prototype.xor=function(t){var e=N();return this.bitwiseTo(t,a,e),e},t.prototype.andNot=function(t){var e=N();return this.bitwiseTo(t,s,e),e},t.prototype.not=function(){for(var t=N(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var e=N();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},t.prototype.shiftRight=function(t){var e=N();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+c(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=u(this[r]^e);return t},t.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,o)},t.prototype.clearBit=function(t){return this.changeBit(t,s)},t.prototype.flipBit=function(t){return this.changeBit(t,a)},t.prototype.add=function(t){var e=N();return this.addTo(t,e),e},t.prototype.subtract=function(t){var e=N();return this.subTo(t,e),e},t.prototype.multiply=function(t){var e=N();return this.multiplyTo(t,e),e},t.prototype.divide=function(t){var e=N();return this.divRemTo(t,e,null),e},t.prototype.remainder=function(t){var e=N();return this.divRemTo(t,null,e),e},t.prototype.divideAndRemainder=function(t){var e=N(),r=N();return this.divRemTo(t,e,r),[e,r]},t.prototype.modPow=function(t,e){var r,n,i=t.bitLength(),o=M(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new C(e):e.isEven()?new L(e):new A(e);var a=[],s=3,c=r-1,u=(1<<r)-1;if(a[1]=n.convert(this),r>1){var l=N();for(n.sqrTo(a[1],l);s<=u;)a[s]=N(),n.mulTo(l,a[s-2],a[s]),s+=2}var p,f,h=t.t-1,d=!0,v=N();for(i=H(t[h])-1;h>=0;){for(i>=c?p=t[h]>>i-c&u:(p=(t[h]&(1<<i+1)-1)<<c-i,h>0&&(p|=t[h-1]>>this.DB+i-c)),s=r;0==(1&p);)p>>=1,--s;if((i-=s)<0&&(i+=this.DB,--h),d)a[p].copyTo(o),d=!1;else{for(;s>1;)n.sqrTo(o,v),n.sqrTo(v,o),s-=2;s>0?n.sqrTo(o,v):(f=o,o=v,v=f),n.mulTo(v,a[p],o)}for(;h>=0&&0==(t[h]&1<<i);)n.sqrTo(o,v),f=o,o=v,v=f,--i<0&&(i=this.DB-1,--h)}return n.revert(o)},t.prototype.modInverse=function(e){var r=e.isEven();if(this.isEven()&&r||0==e.signum())return t.ZERO;for(var n=e.clone(),i=this.clone(),o=M(1),a=M(0),s=M(0),c=M(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),r?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),r?(s.isEven()&&c.isEven()||(s.addTo(this,s),c.subTo(e,c)),s.rShiftTo(1,s)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);n.compareTo(i)>=0?(n.subTo(i,n),r&&o.subTo(s,o),a.subTo(c,a)):(i.subTo(n,i),r&&s.subTo(o,s),c.subTo(a,c))}return 0!=i.compareTo(t.ONE)?t.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},t.prototype.pow=function(t){return this.exp(t,new x)},t.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},t.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=P[P.length-1]){for(e=0;e<P.length;++e)if(r[0]==P[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<P.length;){for(var n=P[e],i=e+1;i<P.length&&n<T;)n*=P[i++];for(n=r.modInt(n);e<i;)if(n%P[e++]==0)return!1}return r.millerRabin(t)},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(e,r){var n;if(16==r)n=4;else if(8==r)n=3;else if(256==r)n=8;else if(2==r)n=1;else if(32==r)n=5;else{if(4!=r)return void this.fromRadix(e,r);n=2}this.t=0,this.s=0;for(var i=e.length,o=!1,a=0;--i>=0;){var s=8==n?255&+e[i]:U(e,i);s<0?"-"==e.charAt(i)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=n)>=this.DB&&(a-=this.DB))}8==n&&0!=(128&+e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},t.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},t.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.lShiftTo=function(t,e){for(var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(t/this.DB),a=this.s<<r&this.DM,s=this.t-1;s>=0;--s)e[s+o+1]=this[s]>>n|a,a=(this[s]&i)<<r;for(s=o-1;s>=0;--s)e[s]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()},t.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)e[a-r-1]|=(this[a]&o)<<i,e[a-r]=this[a]>>n;n>0&&(e[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},t.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},t.prototype.multiplyTo=function(e,r){var n=this.abs(),i=e.abs(),o=n.t;for(r.t=o+i.t;--o>=0;)r[o]=0;for(o=0;o<i.t;++o)r[o+n.t]=n.am(0,i[o],r,o,0,n.t);r.s=0,r.clamp(),this.s!=e.s&&t.ZERO.subTo(r,r)},t.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(e,r,n){var i=e.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t)return null!=r&&r.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=N());var a=N(),s=this.s,c=e.s,u=this.DB-H(i[i.t-1]);u>0?(i.lShiftTo(u,a),o.lShiftTo(u,n)):(i.copyTo(a),o.copyTo(n));var l=a.t,p=a[l-1];if(0!=p){var f=p*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),h=this.FV/f,d=(1<<this.F1)/f,v=1<<this.F2,y=n.t,m=y-l,g=null==r?N():r;for(a.dlShiftTo(m,g),n.compareTo(g)>=0&&(n[n.t++]=1,n.subTo(g,n)),t.ONE.dlShiftTo(l,g),g.subTo(a,a);a.t<l;)a[a.t++]=0;for(;--m>=0;){var b=n[--y]==p?this.DM:Math.floor(n[y]*h+(n[y-1]+v)*d);if((n[y]+=a.am(0,b,n,m,0,l))<b)for(a.dlShiftTo(m,g),n.subTo(g,n);n[y]<--b;)n.subTo(g,n)}null!=r&&(n.drShiftTo(l,r),s!=c&&t.ZERO.subTo(r,r)),n.t=l,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&t.ZERO.subTo(n,n)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,r){if(e>4294967295||e<1)return t.ONE;var n=N(),i=N(),o=r.convert(this),a=H(e)-1;for(o.copyTo(n);--a>=0;)if(r.sqrTo(n,i),(e&1<<a)>0)r.mulTo(i,o,n);else{var s=n;n=i,i=s}return r.revert(n)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=M(r),i=N(),o=N(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(t)+a},t.prototype.fromRadix=function(e,r){this.fromInt(0),null==r&&(r=10);for(var n=this.chunkSize(r),i=Math.pow(r,n),o=!1,a=0,s=0,c=0;c<e.length;++c){var u=U(e,c);u<0?"-"==e.charAt(c)&&0==this.signum()&&(o=!0):(s=r*s+u,++a>=n&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(r,a)),this.dAddOffset(s,0)),o&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,r,n){if("number"==typeof r)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),o,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var i=[],a=7&e;i.length=1+(e>>3),r.nextBytes(i),a>0?i[0]&=(1<<a)-1:i[0]=0,this.fromString(i,256)}},t.prototype.bitwiseTo=function(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},t.prototype.changeBit=function(e,r){var n=t.ONE.shiftLeft(e);return this.bitwiseTo(n,r,n),n},t.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},t.prototype.multiplyLowerTo=function(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r[--n]=0;for(var i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,t[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t[n],r,n,0,e-n);r.clamp()},t.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},t.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},t.prototype.millerRabin=function(e){var r=this.subtract(t.ONE),n=r.getLowestSetBit();if(n<=0)return!1;var i=r.shiftRight(n);(e=e+1>>1)>P.length&&(e=P.length);for(var o=N(),a=0;a<e;++a){o.fromInt(P[Math.floor(Math.random()*P.length)]);var s=o.modPow(i,this);if(0!=s.compareTo(t.ONE)&&0!=s.compareTo(r)){for(var c=1;c++<n&&0!=s.compareTo(r);)if(0==(s=s.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=s.compareTo(r))return!1}}return!0},t.prototype.square=function(){var t=N();return this.squareTo(t),t},t.prototype.gcda=function(t,e){var r=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(r.compareTo(n)<0){var i=r;r=n,n=i}var o=r.getLowestSetBit(),a=n.getLowestSetBit();if(a<0)e(r);else{o<a&&(a=o),a>0&&(r.rShiftTo(a,r),n.rShiftTo(a,n));var s=function(){(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),r.compareTo(n)>=0?(r.subTo(n,r),r.rShiftTo(1,r)):(n.subTo(r,n),n.rShiftTo(1,n)),r.signum()>0?setTimeout(s,0):(a>0&&n.lShiftTo(a,n),setTimeout((function(){e(n)}),0))};setTimeout(s,10)}},t.prototype.fromNumberAsync=function(e,r,n,i){if("number"==typeof r)if(e<2)this.fromInt(1);else{this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),o,this),this.isEven()&&this.dAddOffset(1,0);var a=this,s=function(){a.dAddOffset(2,0),a.bitLength()>e&&a.subTo(t.ONE.shiftLeft(e-1),a),a.isProbablePrime(r)?setTimeout((function(){i()}),0):setTimeout(s,0)};setTimeout(s,0)}else{var c=[],u=7&e;c.length=1+(e>>3),r.nextBytes(c),u>0?c[0]&=(1<<u)-1:c[0]=0,this.fromString(c,256)}},t}(),x=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},t.prototype.sqrTo=function(t,e){t.squareTo(e)},t}(),C=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),A=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=N();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(D.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=N();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),L=function(){function t(t){this.m=t,this.r2=N(),this.q3=N(),D.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=N();return t.copyTo(e),this.reduce(e),e},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();function N(){return new D(null)}function R(t,e){return new D(t,e)}var I="undefined"!=typeof navigator;I&&"Microsoft Internet Explorer"==navigator.appName?(D.prototype.am=function(t,e,r,n,i,o){for(var a=32767&e,s=e>>15;--o>=0;){var c=32767&this[t],u=this[t++]>>15,l=s*c+u*a;i=((c=a*c+((32767&l)<<15)+r[n]+(1073741823&i))>>>30)+(l>>>15)+s*u+(i>>>30),r[n++]=1073741823&c}return i},O=30):I&&"Netscape"!=navigator.appName?(D.prototype.am=function(t,e,r,n,i,o){for(;--o>=0;){var a=e*this[t++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=67108863&a}return i},O=26):(D.prototype.am=function(t,e,r,n,i,o){for(var a=16383&e,s=e>>14;--o>=0;){var c=16383&this[t],u=this[t++]>>14,l=s*c+u*a;i=((c=a*c+((16383&l)<<14)+r[n]+i)>>28)+(l>>14)+s*u,r[n++]=268435455&c}return i},O=28),D.prototype.DB=O,D.prototype.DM=(1<<O)-1,D.prototype.DV=1<<O;D.prototype.FV=Math.pow(2,52),D.prototype.F1=52-O,D.prototype.F2=2*O-52;var j,B,V=[];for(j="0".charCodeAt(0),B=0;B<=9;++B)V[j++]=B;for(j="a".charCodeAt(0),B=10;B<36;++B)V[j++]=B;for(j="A".charCodeAt(0),B=10;B<36;++B)V[j++]=B;function U(t,e){var r=V[t.charCodeAt(e)];return null==r?-1:r}function M(t){var e=N();return e.fromInt(t),e}function H(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}D.ZERO=M(0),D.ONE=M(1);var Z=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}();var z,F,G=null;if(null==G){G=[],F=0;var q=void 0;if(window.crypto&&window.crypto.getRandomValues){var K=new Uint32Array(256);for(window.crypto.getRandomValues(K),q=0;q<K.length;++q)G[F++]=255&K[q]}var Y=0,W=function(t){if((Y=Y||0)>=256||F>=256)window.removeEventListener?window.removeEventListener("mousemove",W,!1):window.detachEvent&&window.detachEvent("onmousemove",W);else try{var e=t.x+t.y;G[F++]=255&e,Y+=1}catch(t){}};window.addEventListener?window.addEventListener("mousemove",W,!1):window.attachEvent&&window.attachEvent("onmousemove",W)}function $(){if(null==z){for(z=new Z;F<256;){var t=Math.floor(65536*Math.random());G[F++]=255&t}for(z.init(G),F=0;F<G.length;++F)G[F]=0;F=0}return z.next()}var Q=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=$()},t}();var X=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),r=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(r)<0;)e=e.add(this.p);return e.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=R(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;for(var r=[],n=t.length-1;n>=0&&e>0;){var i=t.charCodeAt(n--);i<128?r[--e]=i:i>127&&i<2048?(r[--e]=63&i|128,r[--e]=i>>6|192):(r[--e]=63&i|128,r[--e]=i>>6&63|128,r[--e]=i>>12|224)}r[--e]=0;for(var o=new Q,a=[];e>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);r[--e]=a[0]}return r[--e]=2,r[--e]=0,new D(r)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var r=this.doPublic(e);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n},t.prototype.setPrivate=function(t,e,r){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=R(t,16),this.e=parseInt(e,16),this.d=R(r,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,e,r,n,i,o,a,s){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=R(t,16),this.e=parseInt(e,16),this.d=R(r,16),this.p=R(n,16),this.q=R(i,16),this.dmp1=R(o,16),this.dmq1=R(a,16),this.coeff=R(s,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,e){var r=new Q,n=t>>1;this.e=parseInt(e,16);for(var i=new D(e,16);;){for(;this.p=new D(t-n,1,r),0!=this.p.subtract(D.ONE).gcd(i).compareTo(D.ONE)||!this.p.isProbablePrime(10););for(;this.q=new D(n,1,r),0!=this.q.subtract(D.ONE).gcd(i).compareTo(D.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var a=this.p.subtract(D.ONE),s=this.q.subtract(D.ONE),c=a.multiply(s);if(0==c.gcd(i).compareTo(D.ONE)){this.n=this.p.multiply(this.q),this.d=i.modInverse(c),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(s),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var e=R(t,16),r=this.doPrivate(e);return null==r?null:function(t,e){var r=t.toByteArray(),n=0;for(;n<r.length&&0==r[n];)++n;if(r.length-n!=e-1||2!=r[n])return null;++n;for(;0!=r[n];)if(++n>=r.length)return null;var i="";for(;++n<r.length;){var o=255&r[n];o<128?i+=String.fromCharCode(o):o>191&&o<224?(i+=String.fromCharCode((31&o)<<6|63&r[n+1]),++n):(i+=String.fromCharCode((15&o)<<12|(63&r[n+1])<<6|63&r[n+2]),n+=2)}return i}(r,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,e,r){var n=new Q,i=t>>1;this.e=parseInt(e,16);var o=new D(e,16),a=this,s=function(){var e=function(){if(a.p.compareTo(a.q)<=0){var t=a.p;a.p=a.q,a.q=t}var e=a.p.subtract(D.ONE),n=a.q.subtract(D.ONE),i=e.multiply(n);0==i.gcd(o).compareTo(D.ONE)?(a.n=a.p.multiply(a.q),a.d=o.modInverse(i),a.dmp1=a.d.mod(e),a.dmq1=a.d.mod(n),a.coeff=a.q.modInverse(a.p),setTimeout((function(){r()}),0)):setTimeout(s,0)},c=function(){a.q=N(),a.q.fromNumberAsync(i,1,n,(function(){a.q.subtract(D.ONE).gcda(o,(function(t){0==t.compareTo(D.ONE)&&a.q.isProbablePrime(10)?setTimeout(e,0):setTimeout(c,0)}))}))},u=function(){a.p=N(),a.p.fromNumberAsync(t-i,1,n,(function(){a.p.subtract(D.ONE).gcda(o,(function(t){0==t.compareTo(D.ONE)&&a.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(u,0)}))}))};setTimeout(u,0)};setTimeout(s,0)},t.prototype.sign=function(t,e,r){var n=function(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var r=e-t.length-6,n="",i=0;i<r;i+=2)n+="ff";return R("0001"+n+"00"+t,16)}((J[r]||"")+e(t).toString(),this.n.bitLength()/4);if(null==n)return null;var i=this.doPrivate(n);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},t.prototype.verify=function(t,e,r){var n=R(e,16),i=this.doPublic(n);return null==i?null:function(t){for(var e in J)if(J.hasOwnProperty(e)){var r=J[e],n=r.length;if(t.substr(0,n)==r)return t.substr(n)}return t}(i.toString(16).replace(/^1f+00/,""))==r(t).toString()},t}();var J={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};var tt={};tt.lang={extend:function(t,e,r){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var n=function(){};if(n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),r){var i;for(i in r)t.prototype[i]=r[i];var o=function(){},a=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(o=function(t,e){for(i=0;i<a.length;i+=1){var r=a[i],n=e[r];"function"==typeof n&&n!=Object.prototype[r]&&(t[r]=n)}})}catch(t){}o(t.prototype,r)}}};var et={};void 0!==et.asn1&&et.asn1||(et.asn1={}),et.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var r=e.substr(1).length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var n="",i=0;i<r;i++)n+="f";e=new D(n,16).xor(t).add(D.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return hextopem(t,e)},this.newObject=function(t){var e=et.asn1,r=e.DERBoolean,n=e.DERInteger,i=e.DERBitString,o=e.DEROctetString,a=e.DERNull,s=e.DERObjectIdentifier,c=e.DEREnumerated,u=e.DERUTF8String,l=e.DERNumericString,p=e.DERPrintableString,f=e.DERTeletexString,h=e.DERIA5String,d=e.DERUTCTime,v=e.DERGeneralizedTime,y=e.DERSequence,m=e.DERSet,g=e.DERTaggedObject,b=e.ASN1Util.newObject,w=Object.keys(t);if(1!=w.length)throw"key of param shall be only one.";var S=w[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+S+":"))throw"undefined key: "+S;if("bool"==S)return new r(t[S]);if("int"==S)return new n(t[S]);if("bitstr"==S)return new i(t[S]);if("octstr"==S)return new o(t[S]);if("null"==S)return new a(t[S]);if("oid"==S)return new s(t[S]);if("enum"==S)return new c(t[S]);if("utf8str"==S)return new u(t[S]);if("numstr"==S)return new l(t[S]);if("prnstr"==S)return new p(t[S]);if("telstr"==S)return new f(t[S]);if("ia5str"==S)return new h(t[S]);if("utctime"==S)return new d(t[S]);if("gentime"==S)return new v(t[S]);if("seq"==S){for(var O=t[S],E=[],k=0;k<O.length;k++){var _=b(O[k]);E.push(_)}return new y({array:E})}if("set"==S){for(O=t[S],E=[],k=0;k<O.length;k++){_=b(O[k]);E.push(_)}return new m({array:E})}if("tag"==S){var P=t[S];if("[object Array]"===Object.prototype.toString.call(P)&&3==P.length){var T=b(P[2]);return new g({tag:P[0],explicit:P[1],obj:T})}var D={};if(void 0!==P.explicit&&(D.explicit=P.explicit),void 0!==P.tag&&(D.tag=P.tag),void 0===P.obj)throw"obj shall be specified for 'tag'.";return D.obj=b(P.obj),new g(D)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},et.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",r=parseInt(t.substr(0,2),16),n=(e=Math.floor(r/40)+"."+r%40,""),i=2;i<t.length;i+=2){var o=("00000000"+parseInt(t.substr(i,2),16).toString(2)).slice(-8);if(n+=o.substr(1,7),"0"==o.substr(0,1))e=e+"."+new D(n,2).toString(10),n=""}return e},et.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new D(t,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";n=o+n;for(a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=e(parseInt(s,2))}return r};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",i=t.split("."),o=40*parseInt(i[0])+parseInt(i[1]);n+=e(o),i.splice(0,2);for(var a=0;a<i.length;a++)n+=r(i[a]);return n},et.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var r=e.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+r).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},et.asn1.DERAbstractString=function(t){et.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},tt.lang.extend(et.asn1.DERAbstractString,et.asn1.ASN1Object),et.asn1.DERAbstractTime=function(t){et.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,r){var n=this.zeroPadding,i=this.localDateToUTC(t),o=String(i.getFullYear());"utc"==e&&(o=o.substr(2,2));var a=o+n(String(i.getMonth()+1),2)+n(String(i.getDate()),2)+n(String(i.getHours()),2)+n(String(i.getMinutes()),2)+n(String(i.getSeconds()),2);if(!0===r){var s=i.getMilliseconds();if(0!=s){var c=n(String(s),3);a=a+"."+(c=c.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,e,r,n,i,o){var a=new Date(Date.UTC(t,e-1,r,n,i,o,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},tt.lang.extend(et.asn1.DERAbstractTime,et.asn1.ASN1Object),et.asn1.DERAbstractStructured=function(t){et.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},tt.lang.extend(et.asn1.DERAbstractStructured,et.asn1.ASN1Object),et.asn1.DERBoolean=function(){et.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},tt.lang.extend(et.asn1.DERBoolean,et.asn1.ASN1Object),et.asn1.DERInteger=function(t){et.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=et.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new D(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},tt.lang.extend(et.asn1.DERInteger,et.asn1.ASN1Object),et.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=et.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}et.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var r="0"+t;this.hTLV=null,this.isModified=!0,this.hV=r+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var r=0;r<=e;r++)t+="0";var n="";for(r=0;r<t.length-1;r+=8){var i=t.substr(r,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),n+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+e+n},this.setByBooleanArray=function(t){for(var e="",r=0;r<t.length;r++)1==t[r]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},tt.lang.extend(et.asn1.DERBitString,et.asn1.ASN1Object),et.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=et.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}et.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},tt.lang.extend(et.asn1.DEROctetString,et.asn1.DERAbstractString),et.asn1.DERNull=function(){et.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},tt.lang.extend(et.asn1.DERNull,et.asn1.ASN1Object),et.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new D(t,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";n=o+n;for(a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=e(parseInt(s,2))}return r};et.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",i=t.split("."),o=40*parseInt(i[0])+parseInt(i[1]);n+=e(o),i.splice(0,2);for(var a=0;a<i.length;a++)n+=r(i[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(t){var e=et.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},tt.lang.extend(et.asn1.DERObjectIdentifier,et.asn1.ASN1Object),et.asn1.DEREnumerated=function(t){et.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=et.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new D(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},tt.lang.extend(et.asn1.DEREnumerated,et.asn1.ASN1Object),et.asn1.DERUTF8String=function(t){et.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},tt.lang.extend(et.asn1.DERUTF8String,et.asn1.DERAbstractString),et.asn1.DERNumericString=function(t){et.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},tt.lang.extend(et.asn1.DERNumericString,et.asn1.DERAbstractString),et.asn1.DERPrintableString=function(t){et.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},tt.lang.extend(et.asn1.DERPrintableString,et.asn1.DERAbstractString),et.asn1.DERTeletexString=function(t){et.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},tt.lang.extend(et.asn1.DERTeletexString,et.asn1.DERAbstractString),et.asn1.DERIA5String=function(t){et.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},tt.lang.extend(et.asn1.DERIA5String,et.asn1.DERAbstractString),et.asn1.DERUTCTime=function(t){et.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},tt.lang.extend(et.asn1.DERUTCTime,et.asn1.DERAbstractTime),et.asn1.DERGeneralizedTime=function(t){et.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},tt.lang.extend(et.asn1.DERGeneralizedTime,et.asn1.DERAbstractTime),et.asn1.DERSequence=function(t){et.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){t+=this.asn1Array[e].getEncodedHex()}return this.hV=t,this.hV}},tt.lang.extend(et.asn1.DERSequence,et.asn1.DERAbstractStructured),et.asn1.DERSet=function(t){et.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var r=this.asn1Array[e];t.push(r.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},tt.lang.extend(et.asn1.DERSet,et.asn1.DERAbstractStructured),et.asn1.DERTaggedObject=function(t){et.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,r){this.hT=e,this.isExplicit=t,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},tt.lang.extend(et.asn1.DERTaggedObject,et.asn1.ASN1Object);var rt,nt=(rt=function(t,e){return rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},rt(t,e)},function(t,e){function r(){this.constructor=t}rt(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),it=function(t){function e(r){var n=t.call(this)||this;return r&&("string"==typeof r?n.parseKey(r):(e.hasPrivateKeyProperty(r)||e.hasPublicKeyProperty(r))&&n.parsePropertiesFrom(r)),n}return nt(e,t),e.prototype.parseKey=function(t){try{var e=0,r=0,n=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(t)?v(t):y.unarmor(t),i=k.decode(n);if(3===i.sub.length&&(i=i.sub[2].sub[0]),9===i.sub.length){e=i.sub[1].getHexStringValue(),this.n=R(e,16),r=i.sub[2].getHexStringValue(),this.e=parseInt(r,16);var o=i.sub[3].getHexStringValue();this.d=R(o,16);var a=i.sub[4].getHexStringValue();this.p=R(a,16);var s=i.sub[5].getHexStringValue();this.q=R(s,16);var c=i.sub[6].getHexStringValue();this.dmp1=R(c,16);var u=i.sub[7].getHexStringValue();this.dmq1=R(u,16);var l=i.sub[8].getHexStringValue();this.coeff=R(l,16)}else{if(2!==i.sub.length)return!1;var p=i.sub[1].sub[0];e=p.sub[0].getHexStringValue(),this.n=R(e,16),r=p.sub[1].getHexStringValue(),this.e=parseInt(r,16)}return!0}catch(t){return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new et.asn1.DERInteger({int:0}),new et.asn1.DERInteger({bigint:this.n}),new et.asn1.DERInteger({int:this.e}),new et.asn1.DERInteger({bigint:this.d}),new et.asn1.DERInteger({bigint:this.p}),new et.asn1.DERInteger({bigint:this.q}),new et.asn1.DERInteger({bigint:this.dmp1}),new et.asn1.DERInteger({bigint:this.dmq1}),new et.asn1.DERInteger({bigint:this.coeff})]};return new et.asn1.DERSequence(t).getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return f(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new et.asn1.DERSequence({array:[new et.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new et.asn1.DERNull]}),e=new et.asn1.DERSequence({array:[new et.asn1.DERInteger({bigint:this.n}),new et.asn1.DERInteger({int:this.e})]}),r=new et.asn1.DERBitString({hex:"00"+e.getEncodedHex()});return new et.asn1.DERSequence({array:[t,r]}).getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return f(this.getPublicBaseKey())},e.wordwrap=function(t,e){if(!t)return t;var r="(.{1,"+(e=e||64)+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(r,"g")).join("\n")},e.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=e.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},e.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=e.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},e.hasPublicKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}(X),ot="3.0.1",at=function(){function t(t){t=t||{},this.default_key_size=t.default_key_size?parseInt(t.default_key_size,10):1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new it(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(h(t))}catch(t){return!1}},t.prototype.encrypt=function(t){try{return f(this.getKey().encrypt(t))}catch(t){return!1}},t.prototype.sign=function(t,e,r){try{return f(this.getKey().sign(t,e,r))}catch(t){return!1}},t.prototype.verify=function(t,e,r){try{return this.getKey().verify(t,h(e),r)}catch(t){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new it,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.version=ot,t}()},46384:function(t,e,r){var n=r(38407),i=r(37465),o=r(63779),a=r(67599),s=r(44758),c=r(34309);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,t.exports=u},77412:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},34865:function(t,e,r){var n=r(89465),i=r(77813),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];o.call(t,e)&&i(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},44037:function(t,e,r){var n=r(98363),i=r(3674);t.exports=function(t,e){return t&&n(e,i(e),t)}},63886:function(t,e,r){var n=r(98363),i=r(81704);t.exports=function(t,e){return t&&n(e,i(e),t)}},89465:function(t,e,r){var n=r(38777);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},85990:function(t,e,r){var n=r(46384),i=r(77412),o=r(34865),a=r(44037),s=r(63886),c=r(64626),u=r(278),l=r(18805),p=r(1911),f=r(58234),h=r(46904),d=r(64160),v=r(43824),y=r(29148),m=r(38517),g=r(1469),b=r(44144),w=r(56688),S=r(13218),O=r(72928),E=r(3674),k="[object Arguments]",_="[object Function]",P="[object Object]",T={};T[k]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[P]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[_]=T["[object WeakMap]"]=!1,t.exports=function t(e,r,D,x,C,A){var L,N=1&r,R=2&r,I=4&r;if(D&&(L=C?D(e,x,C,A):D(e)),void 0!==L)return L;if(!S(e))return e;var j=g(e);if(j){if(L=v(e),!N)return u(e,L)}else{var B=d(e),V=B==_||"[object GeneratorFunction]"==B;if(b(e))return c(e,N);if(B==P||B==k||V&&!C){if(L=R||V?{}:m(e),!N)return R?p(e,s(L,e)):l(e,a(L,e))}else{if(!T[B])return C?e:{};L=y(e,B,N)}}A||(A=new n);var U=A.get(e);if(U)return U;A.set(e,L),O(e)?e.forEach((function(n){L.add(t(n,r,D,n,e,A))})):w(e)&&e.forEach((function(n,i){L.set(i,t(n,r,D,i,e,A))}));var M=I?R?h:f:R?keysIn:E,H=j?void 0:M(e);return i(H||e,(function(n,i){H&&(n=e[i=n]),o(L,i,t(n,r,D,i,e,A))})),L}},3118:function(t,e,r){var n=r(13218),i=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=o},64626:function(t,e,r){t=r.nmd(t);var n=r(55639),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}},278:function(t){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},98363:function(t,e,r){var n=r(34865),i=r(89465);t.exports=function(t,e,r,o){var a=!r;r||(r={});for(var s=-1,c=e.length;++s<c;){var u=e[s],l=o?o(r[u],t[u],u,r,t):void 0;void 0===l&&(l=t[u]),a?i(r,u,l):n(r,u,l)}return r}},18805:function(t,e,r){var n=r(98363),i=r(99551);t.exports=function(t,e){return n(t,i(t),e)}},1911:function(t,e,r){var n=r(98363),i=r(51442);t.exports=function(t,e){return n(t,i(t),e)}},38777:function(t,e,r){var n=r(10852),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},58234:function(t,e,r){var n=r(5569)(Object.keys,Object);t.exports=n},46904:function(t){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},85924:function(t,e,r){var n=r(5569)(Object.getPrototypeOf,Object);t.exports=n},99551:function(t){t.exports=function(){return[]}},51442:function(t){t.exports=function(){return[]}},64160:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},43824:function(t){var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},29148:function(t){t.exports=function(t){return t}},38517:function(t,e,r){var n=r(3118),i=r(85924),o=r(25726);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:n(i(t))}},25726:function(t){t.exports=function(){return!1}},5569:function(t){t.exports=function(t,e){return function(r){return t(e(r))}}},37465:function(t,e,r){var n=r(38407);t.exports=function(){this.__data__=new n,this.size=0}},63779:function(t){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},67599:function(t){t.exports=function(t){return this.__data__.get(t)}},44758:function(t){t.exports=function(t){return this.__data__.has(t)}},34309:function(t,e,r){var n=r(38407),i=r(57071),o=r(83369);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(a)}return r.set(t,e),this.size=r.size,this}},66678:function(t,e,r){var n=r(85990);t.exports=function(t){return n(t,4)}},44144:function(t){t.exports=function(){return!1}},56688:function(t){t.exports=function(){return!1}},72928:function(t){t.exports=function(){return!1}},3674:function(t,e,r){var n=r(5569)(Object.keys,Object);t.exports=n},81704:function(t){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},48865:function(t,e){"use strict";e.Z={container:"IEr2uH54",loged:"fRaVwUIg",content:"_6vGVguG2",minIcon:"yszQsSZs",text:"dot8MPCP",operate:"-WkkYQCt",btn:"_4i5QfeSO",tip:"CYEDnU-Q",triangle:"Ywv+tbkx",loginBar:"zxN3nRsh",loading:"p9d-PbOU",gradual:"tghxSVQN"}},49674:function(t){function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=function(){return[]},e.resolve=e,e.id=49674,t.exports=e},17361:function(t,e,r){var n=r(23645)((function(t){return t[1]}));n.push([t.id,'@-webkit-keyframes qt1Ks\\+Zf{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes qt1Ks\\+Zf{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes LBy2kCi6{0%{opacity:1}50%{opacity:.2}to{opacity:1}}@keyframes LBy2kCi6{0%{opacity:1}50%{opacity:.2}to{opacity:1}}.lkhNZC76{-webkit-box-align:center;align-items:center;-webkit-align-items:center;border-bottom:1px solid rgba(0,0,0,.05);display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;font-size:.15rem;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start;padding:.08rem .12rem}.lkhNZC76:active{background-color:rgba(0,0,0,.08)!important}.lkhNZC76:last-child{border-bottom:0}.ZHgiXWpD{color:#151516;width:.93rem}.LFkfJusK{color:#58595b;-webkit-box-flex:1;-webkit-flex:1;flex:1}.WaaJVaMU{color:#9c9c9c;font-size:.14rem;padding:.04rem 0 .04rem .12rem}.WaaJVaMU:after{-webkit-font-smoothing:antialiased;color:#9c9c9c;content:"";font-family:icomoon;font-size:.14rem;font-weight:400;line-height:1}',""]),n.locals={pickedItem:"lkhNZC76",pickedItemLabel:"ZHgiXWpD",pickedItemContent:"LFkfJusK",pickedItemIcon:"WaaJVaMU",loading:"qt1Ks+Zf",gradual:"LBy2kCi6"},t.exports=n},20461:function(t,e,r){var n=r(23645)((function(t){return t[1]}));n.push([t.id,'@-webkit-keyframes JhnSvWe6{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes JhnSvWe6{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes YTS-aKxi{0%{opacity:1}50%{opacity:.2}to{opacity:1}}@keyframes YTS-aKxi{0%{opacity:1}50%{opacity:.2}to{opacity:1}}.lhRVJ5nU{-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start}.lhRVJ5nU,.kZLFWizM{-webkit-box-align:center;align-items:center;-webkit-align-items:center;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row}.kZLFWizM{background:rgba(224,46,36,.1);border-radius:.04rem;color:#e02e24;font-size:.14rem;height:.34rem;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;line-height:normal;margin-right:.12rem;padding-left:.12rem;width:.94rem}.MpDzj5sU{margin-right:.06rem}.MpDzj5sU:before{color:inherit;content:"";font-family:icomoon-tcashier;font-size:.1rem;font-weight:400;line-height:1}',""]),n.locals={unpickedContainer:"lhRVJ5nU",unpickedItem:"kZLFWizM",unpickedItemPlus:"MpDzj5sU",loading:"JhnSvWe6",gradual:"YTS-aKxi"},t.exports=n},38241:function(t,e,r){var n=r(23645)((function(t){return t[1]}));n.push([t.id,"@-webkit-keyframes BLsNn\\+Fh{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes BLsNn\\+Fh{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes _1LfVfYib{0%{opacity:1}50%{opacity:.2}to{opacity:1}}@keyframes _1LfVfYib{0%{opacity:1}50%{opacity:.2}to{opacity:1}}.lEvWvHDy{background:#fff;margin-bottom:.08rem}",""]),n.locals={container:"lEvWvHDy",loading:"BLsNn+Fh",gradual:"_1LfVfYib"},t.exports=n},97681:function(t,e,r){var n=r(23645)((function(t){return t[1]}));n.push([t.id,"@-webkit-keyframes GcOzXelv{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes GcOzXelv{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes MO5KWHL8{0%{opacity:1}50%{opacity:.2}to{opacity:1}}@keyframes MO5KWHL8{0%{opacity:1}50%{opacity:.2}to{opacity:1}}.EbVx8tP7{-webkit-overflow-scrolling:touch;bottom:0;left:0;overflow:scroll;position:absolute;right:0;top:0}.EbVx8tP7,.I6EwTfrO,.p2Jc5U3O{padding-bottom:1rem}.p2Jc5U3O{position:static}@media only screen and (min-device-height:812px){.EbVx8tP7,.p2Jc5U3O{padding-bottom:calc(1rem + env(safe-area-inset-bottom))}}",""]),n.locals={container:"EbVx8tP7",containerFixIos10:"I6EwTfrO",containerNonApp:"p2Jc5U3O",loading:"GcOzXelv",gradual:"MO5KWHL8"},t.exports=n},65273:function(t,e,r){var n=r(23645)((function(t){return t[1]}));n.push([t.id,"@-webkit-keyframes bHuSqZtU{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes bHuSqZtU{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes ggQEEHtA{0%{opacity:1}50%{opacity:.2}to{opacity:1}}@keyframes ggQEEHtA{0%{opacity:1}50%{opacity:.2}to{opacity:1}}.dSQ6Sby7,.cu8bYQf5{-webkit-box-align:center;align-items:center;-webkit-align-items:center;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;font-size:.13rem;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start;line-height:.21rem;margin:.11rem .12rem 0}.cu8bYQf5{margin-top:.01rem}.Vkb4ZAcq{color:#9c9c9c}.SF784shI{color:#58595b;font-size:.13rem}._8Xfvg0RD{color:#58595b}.N59IPs1o{color:#9c9c9c}",""]),n.locals={agreeContainer:"dSQ6Sby7",viewContainer:"cu8bYQf5",label:"Vkb4ZAcq",protocolText:"SF784shI",desc:"_8Xfvg0RD",view:"N59IPs1o",loading:"bHuSqZtU",gradual:"ggQEEHtA"},t.exports=n},10284:function(t,e,r){var n=r(23645)((function(t){return t[1]}));n.push([t.id,'@-webkit-keyframes R6wr0xuh{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes R6wr0xuh{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes LuY25O5Y{0%{opacity:1}50%{opacity:.2}to{opacity:1}}@keyframes LuY25O5Y{0%{opacity:1}50%{opacity:.2}to{opacity:1}}.GOkKnuId{bottom:0;max-width:768px;position:fixed;z-index:1}.GOkKnuId,.X1hzSaRr{background:#fff;width:100%}.X1hzSaRr{-webkit-box-align:center;align-items:center;-webkit-align-items:center;border-top:1px solid rgba(0,0,0,.05);display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;height:.54rem;-webkit-box-pack:justify;justify-content:space-between;-webkit-justify-content:space-between;line-height:1;position:relative;z-index:10000}@media only screen and (min-device-height:812px){.X1hzSaRr{height:calc(.54rem + constant(safe-area-inset-bottom));height:calc(.54rem + env(safe-area-inset-bottom));padding-bottom:calc(0px + env(safe-area-inset-bottom))}}.JINvvEx3{-webkit-box-align:center;align-items:center;-webkit-align-items:center;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-justify-content:space-between}.dre16VEa{background:#fff;-webkit-box-flex:1;-webkit-flex:1;flex:1;padding-left:.12rem}.BkIco7ov{-webkit-box-align:baseline;align-items:baseline;-webkit-align-items:baseline;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start}._5-jvpd2d{color:#151516;-webkit-flex-shrink:0;flex-shrink:0;font-size:.14rem;margin-right:.02rem}.BGkncbuA{-webkit-box-align:baseline;align-items:baseline;-webkit-align-items:baseline;color:#e02e24;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;-webkit-flex-shrink:0;flex-shrink:0;font-size:.2rem;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start}.TdDRzpx2{display:inline-block;font-size:.14rem;font-weight:600;letter-spacing:-.02rem}._1y0YwdZM{display:inline-block;font-family:SFProText-Medium;font-weight:500}.yb4qn1EO{color:#e02e24;font-size:.13rem;line-height:.21rem;margin-left:.04rem}.AMETpQFZ{margin-left:0}._4RC9OFCQ{-webkit-box-align:center;align-items:center;-webkit-align-items:center;background:#e02e24;color:#fff;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;-webkit-flex-shrink:0;flex-shrink:0;font-size:.17rem;height:100%;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;line-height:normal;padding:.02rem;position:relative;text-align:center;width:1.87rem}._4RC9OFCQ:active{background-color:#c51e14!important;color:#edbbb8!important}.jDQiRs3l{width:1.46rem}.m9TuBrj4{color:#fff;font-family:icomoon-tcashier;font-size:.16rem;line-height:1;margin-right:.07rem}.W-YFXSFa{color:#58595b;font-size:.13rem;margin-top:.04rem}.W-YFXSFa .vqwQzlgY{color:#e02e24}.FhiCJnOm{-webkit-box-align:center;align-items:center;-webkit-align-items:center;color:#9c9c9c;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;font-size:.13rem;-webkit-box-pack:end;justify-content:flex-end;-webkit-justify-content:flex-end;line-height:.18rem;margin-right:.14rem;text-align:right}.FhiCJnOm:active,.FhiCJnOm:active:after{color:#151516!important}.ZVTVe8Zc:after{content:"";margin-left:.04rem}.LZX1AFON:after,.ZVTVe8Zc:after{color:#9c9c9c;font-family:icomoon-tcashier;font-size:.09rem;font-weight:400;line-height:1}.LZX1AFON:after{content:"";margin-left:.04rem}.nHh3c2Xl{color:#151516;font-size:.14rem;line-height:.21rem;margin-right:.06rem}',""]),n.locals={container:"GOkKnuId",content:"X1hzSaRr",amount:"JINvvEx3",amountContainer:"dre16VEa",amountTop:"BkIco7ov",amountLabel:"_5-jvpd2d",amountNumber:"BGkncbuA",amountYuanMark:"TdDRzpx2",price:"_1y0YwdZM",discount:"yb4qn1EO",disBottom:"AMETpQFZ",button:"_4RC9OFCQ",smallButton:"jDQiRs3l",icon:"m9TuBrj4",srContainer:"W-YFXSFa",srText:"vqwQzlgY",detail:"FhiCJnOm",up:"ZVTVe8Zc",down:"LZX1AFON",desc:"nHh3c2Xl",loading:"R6wr0xuh",gradual:"LuY25O5Y"},t.exports=n},31026:function(t,e,r){var n=r(23645)((function(t){return t[1]}));n.push([t.id,'@-webkit-keyframes FxAAFNw3{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes FxAAFNw3{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes lQtvDuCX{0%{opacity:1}50%{opacity:.2}to{opacity:1}}@keyframes lQtvDuCX{0%{opacity:1}50%{opacity:.2}to{opacity:1}}.PoNwZdid{padding:.16rem .12rem;width:100%}.PcTCwQhj{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-flex-shrink:1;flex-shrink:1}.dMZG7IAL,.u0x8Kb\\+m{-webkit-box-align:center;align-items:center;-webkit-align-items:center;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start}.u0x8Kb\\+m{margin-top:.08rem}.\\-2aQigud{color:#151516;font-size:.15rem}._0d7tFhk0{-webkit-line-clamp:1;-webkit-box-orient:vertical;color:#58595b;display:-webkit-box;font-size:.14rem;line-height:.16rem;overflow:hidden;padding-top:.01rem;text-overflow:ellipsis}.UegfkMYx{margin-left:.04rem;width:.16rem}.UegfkMYx:before{-webkit-font-smoothing:antialiased;color:#9c9c9c;content:"";font-family:icomoon;font-size:.14rem;font-weight:400;line-height:1}.UegfkMYx:active:before{color:#58595b!important}.U5arUGDx{font-weight:700}.nruHp96Y{-webkit-flex-shrink:0;flex-shrink:0;font-size:.13rem;padding:.12rem 0 .12rem .12rem}.nruHp96Y:before{-webkit-font-smoothing:antialiased;color:#9c9c9c;content:"";font-family:icomoon;font-size:.13rem;font-weight:400;line-height:1}.nruHp96Y:active:before{color:#58595b!important}.myfnWN5N{background:#ffeee6;border-radius:.02rem;color:#ff5706;font-size:.12rem;margin-left:.06rem;padding:.01rem}.wbETtRM\\+{-webkit-box-align:center;align-items:center;-webkit-align-items:center;border-bottom:1px solid rgba(0,0,0,.05);display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start;margin-bottom:-.16rem;padding-bottom:.16rem}',""]),n.locals={passenger:"PoNwZdid",passengerBody:"PcTCwQhj",passengerRow1:"dMZG7IAL",passengerRow2:"u0x8Kb+m",passengerName:"-2aQigud",passengerDesc:"_0d7tFhk0",passengerDescInfo:"UegfkMYx",passengerBold:"U5arUGDx",passengerBtn:"nruHp96Y",passengerTag:"myfnWN5N",rowBorder:"wbETtRM+",loading:"FxAAFNw3",gradual:"lQtvDuCX"},t.exports=n},34968:function(t){"use strict";t.exports=window.pinbridge}},function(t){t.O(0,[4736,4181],(function(){return e=7939,t(t.s=e);var e}));t.O()}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/m100428/js/react_tcashier_train_grab_6f79d4c79ef2db3d8ea0.js.map