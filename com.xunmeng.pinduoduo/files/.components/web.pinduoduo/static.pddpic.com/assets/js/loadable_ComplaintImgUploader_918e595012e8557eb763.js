(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8803],{44968:function(e,t,n){"use strict";n.d(t,{C:function(){return C},F:function(){return O}});var r=n(59713),i=n.n(r),o=n(50008),a=n.n(o),c=n(30064);function s(e){return e.replace(/[^A-Za-z0-9+/]/g,"")}function u(e){return window.atob(s(e))}function l(e){return window.btoa(e)}function f(e){return window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function d(e){return decodeURIComponent(window.atob(s(e)).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.indexOf("t00img.yangkeduo.com")>-1?e.replace("t00img.yangkeduo.com","img.pddpic.com"):e.indexOf("t16img.yangkeduo.com")>-1?e.replace("t16img.yangkeduo.com","commimg.pddpic.com"):e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){return e.split("?")[0]},v=/\/image\/(.+?)\//;var y=function(e){var t=e.watermark,n=e.width;if(!n)return t;var r=function(e){var t=v.exec(e);return t&&t[1]}(t);if(!r)return t;var i=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?u(e):d(e)}(r)+"?imageMogr2/thumbnail/".concat(n,"x"),o=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!/[^\x00-\x7F]/.test(e)?l(e):f(e)}(i);return t.replace(r,o)};function b(e){var t=e.sharpen,n=e.thumbnail,r=e.radius,i=e.sigma,o=e.custom,a=void 0===o?"":o,c=a?[a]:[];return t&&c.push("/sharpen/".concat(t)),r&&i&&c.push("/blur/".concat(r,"x").concat(i)),n&&n.width&&c.push("/thumbnail/".concat(n.width,"x")),c.length?"imageMogr2".concat(c.join("")):""}var w=function(e){return"boolean"==typeof e};function k(e){return w(e)&&e?400:e}function I(e){return w(e)?70:e}function S(e){return h(h({},"object"===a()(e)?e:{image:e}),{},{blogo:2})}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=e.sigma;return(t||n)&&(n=n||1,t=t||1),{radius:t,sigma:n}}var A=function(e){var t=e.webpEnable,n=e.quality,r=e.resizeWidth,i=e.plainWatermark,o=e.sharpen,a=e.prefitWidth,c=e.watermark,s=e.blur,u=e.imageMogr2,l=s.radius,f=s.sigma,d=[];d.push(b({thumbnail:{width:a}}));var p=i||function(e){var t=e.image,n=e.gravity,r=e.dx,i=e.dy,o=e.blogo,a=[];return t?(o&&a.push("/blogo/".concat(o)),t&&a.push("/image/".concat(t)),n&&a.push("/gravity/".concat(n)),r&&a.push("/dx/".concat(r)),i&&a.push("/dy/".concat(i)),a.length?"watermark/1".concat(a.join("")):""):""}(c);return a&&(p=y({watermark:p,width:a})),d.push(p),d.push(b({sharpen:o,radius:l,sigma:f,custom:u})),d.push(function(e){var t=e.mode,n=e.width,r=e.height,i=e.format,o=e.quality,a=e.rQuality,c=e.lQuality,s=[];return t&&(n||r)&&(s.push("/".concat(t)),n&&s.push("/w/".concat(n)),r&&s.push("/h/".concat(r))),o&&s.push("/q/".concat(o)),i&&s.push("/format/".concat(i)),a&&s.push("/rq/".concat(a)),c&&s.push("/lq/".concat(c)),s.length?"imageView2".concat(s.join("")):""}({mode:"2",width:r,quality:n,format:t?"webp":""})),(d=d.filter((function(e){return!!e}))).length?"?"+d.join("%7C"):""},C={resizeWidth:1300,quality:80},E=function(e){return 0===e.indexOf("http")||0===e.indexOf("//")};function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;if(!E(e=e||""))return e;e=p(e);var n=(e=(0,c.Hm)(e)).split("?")[1];if(n)return e;var r=h(h({},t),{},{sharpen:I(t.sharpen),prefitWidth:k(t.prefitWidth),watermark:S(t.watermark),blur:P(t.blur)});return e.indexOf(".gif")>=0&&(r.sharpen=!1,r.webpEnable=!!r.enableGifToWebp&&r.webpEnable),r.webpEnable&&(r.quality=r.quality||70),g(e)+A(r)}},9164:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r=n(67154),i=n.n(r),o=n(6479),a=n.n(o),c=n(67294),s=n.n(c),u=(n(45697),n(81094)),l=n(34575),f=n.n(l),d=n(93913),p=n.n(d),m=n(48926),h=n.n(m),g=n(87757),v=n.n(g);function y(e,t){e.dataset.cuiRetryCount=t}function b(e){return parseInt(e.dataset.cuiRetryCount)||0}var w=n(77932),k=n(88393);function I(e,t){var n,r,i=e.getAttribute("src");if(i){var o=b(e);n=o?"cui_image_error_retry_".concat(o):"cui_image_error",r=(0,k.Z)(i).host}else n="cui_image_error_empty_src";(0,w.Z)({errorMsg:n,payload:{src:i,host:r,useImageSdk:t}})}var S,P=n(17740),A=n(65839),C=function(e){return e.complete&&0===e.naturalHeight},E=function(e){return y(e,0)},O=function(){var e=h()(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){function e(t){var n=t.config,r=t.getFallbackUrl,i=t.retryDurationUnit;f()(this,e),this._config=n,this._getFallbackUrl=r,this._retryDurationUnit=i||400}var t;return p()(e,[{key:"handleLoadError",value:function(e){var t=this;return this._handleError=h()(v().mark((function n(){var r;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,A.Z)();case 2:if(r=n.sent,I(e,r),r){n.next=10;break}if(!e.getAttribute("src")){n.next=10;break}if((0,P.Z)(e.src)){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,t._retry(e);case 10:case"end":return n.stop()}}),n)}))),this._handleLoad=function(){E(e)},e.addEventListener("error",this._handleError),e.addEventListener("load",this._handleLoad),C(e)&&this._handleError(e),function(){e.removeEventListener("error",t._handleError),e.removeEventListener("load",t._handleLoad)}}},{key:"_loadFallbackUrl",value:function(e){if(C(e)){var t=b(e);e.src=this._getFallbackUrl(e.src,t),y(e,t+1)}}},{key:"_retry",value:(t=h()(v().mark((function e(t){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=b(t))>=this._config.getRetryLimit())){e.next=4;break}return E(t),e.abrupt("return");case 4:return e.next=6,O(n*this._retryDurationUnit);case 6:this._loadFallbackUrl(t);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),x=n(14551);var _=s().createContext({});var L=["src"];function R(e){var t=e.src,n=a()(e,L);(0,c.useEffect)((function(){var e,t=(e=r.current,S||(S=new D({config:(0,u.Z)(),getFallbackUrl:x.Z})),S.handleLoadError(e));return function(){return t()}}),[]);var r=(0,c.useRef)(null),o=(0,c.useContext)(_).getInitialUrl,l=o?function(e,t){var n;try{n=t(e)}catch(t){(0,w.Z)({errorMsg:"cui-image: 替换备用域名失败",payload:{src:e},error:t}),n=e}return n}(t,o):t;return s().createElement("img",i()({ref:r,src:l},n))}},81094:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(34575),i=n.n(r),o=n(93913),a=n.n(o),c=n(77932);var s=n(50008),u=n.n(s);function l(e){return e&&"object"===u()(e)}var f=["49.234.253.21","212.129.222.108"],d={"dl.pddpic.com":{"dl-1.pddpic.com":50,"dl-2.pddpic.com":50},"t00img.yangkeduo.com":{"img-1.pddpic.com":30,"img-2.pddpic.com":30,"img-3.pddpic.com":20,"img-4.pddpic.com":20},"t13img.yangkeduo.com":{"promotion-1.pddpic.com":50,"promotion-2.pddpic.com":30,"promotion-3.pddpic.com":20},"t20img.yangkeduo.com":{"avatar2-1.pddpic.com":50,"avatar2-2.pddpic.com":50},"t22img.yangkeduo.com":{"review-1.pddpic.com":50,"review-2.pddpic.com":50,"review-3.pddpic.com":0},"images.pinduoduo.com":{"images-1.pinduoduo.com":60,"images-2.pinduoduo.com":40},"img.pddpic.com":{"img-1.pddpic.com":30,"img-2.pddpic.com":30,"img-3.pddpic.com":20,"img-4.pddpic.com":20},"t04img.yangkeduo.com":{"t04img-b.yangkeduo.com":100},"commimg.pddpic.com":{"commimg-1.pddpic.com":50,"commimg-2.pddpic.com":50},"promotion.pddpic.com":{"promotion-1.pddpic.com":50,"promotion-2.pddpic.com":30,"promotion-3.pddpic.com":20},"funimg.pddpic.com":{"funimg-1.pddpic.com":50,"funimg-2.pddpic.com":50},"avatar.pddpic.com":{"avatar-b.pddpic.com":100},"avatar2.pddpic.com":{"avatar2-1.pddpic.com":50,"avatar2-2.pddpic.com":50},"review.pddpic.com":{"review-1.pddpic.com":50,"review-2.pddpic.com":50,"review-3.pddpic.com":0}};function p(e,t){void 0!==e&&(0,c.Z)({errorMsg:t,payload:{value:JSON.stringify(e)}})}function m(e){if(!l(e))return p(e,"cui-image: 配置错误，backupDomainConfigMap需为object对象"),d;var t={};for(var n in e)l(e[n])?t[n]=e[n]:(p(e,"cui-image: 配置错误，backupDomainConfigMap的".concat(n,"需为object对象")),t[n]={});return t}function h(e){return t=e,"[object Number]"!==Object.prototype.toString.call(t)||isNaN(t)||e<0?(p(e,"cui-image: 配置错误，retryLimit需为大于等于0的数字"),3):e;var t}function g(e){return t=e,"[object Boolean]"!==Object.prototype.toString.call(t)?(p(e,"cui-image: 配置错误，useIpFallback需为boolean"),true):e;var t}var v,y=function(){function e(t){i()(this,e);var n=function(e){return l(e)?{backupDomainConfigMap:m(e.backupDomainConfigMap),useIpFallback:g(e.useIpFallback),retryLimit:h(e.retryLimit)}:(p(e,"cui-image: 配置错误，自定义配置需为object对象"),{backupDomainConfigMap:d,useIpFallback:!0,retryLimit:3})}(t);this._backupDomainConfigMap=n.backupDomainConfigMap,this._useIpFallback=n.useIpFallback,this._retryLimit=n.retryLimit}return a()(e,[{key:"getBackupDomainConfigMap",value:function(){return this._backupDomainConfigMap}},{key:"useIpFallback",value:function(){return this._useIpFallback}},{key:"getRetryLimit",value:function(){return this._retryLimit}},{key:"getBgpIps",value:function(){return f}},{key:"getBackupDomainConfig",value:function(e){var t=this._backupDomainConfigMap[e];return l(t)?t:{}}},{key:"getOriginHost",value:function(e){var t=this._backupDomainConfigMap;for(var n in t){if(e in t[n])return n}return""}}]),e}(),b="__CDN_IMG__";function w(){return v||(v=new y(function(){var e=window.__CDN_IMG__;if(window.hasOwnProperty(b)&&!l(e)){var t="cui-image: window.".concat(b,"的数据不合法");(0,c.Z)({errorMsg:t,payload:{value:e},error:new Error(t)})}return e}())),v}},14551:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(81094),i=n(59713),o=n.n(i),a=n(34575),c=n.n(a),s=n(93913),u=n.n(s),l=n(30064);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){var n=e?(0,l.mB)(e):{};return"?".concat((0,l.XP)(d(d({},n),t)))}var m=n(91277);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v,y=function(){function e(t){c()(this,e),this._config=t}return u()(e,[{key:"_getBackupIp",value:function(e){if(!this._config.useIpFallback())return e;var t=this._config.getBgpIps().filter((function(t){return t!==e}));return t[Math.floor(Math.random()*t.length)]}},{key:"_isBgpIp",value:function(e){return this._config.getBgpIps().includes(e)}},{key:"_getBackupDomain",value:function(e,t){var n,r,i=this._config.getBackupDomainConfig(e);return n=g(g({},i),{},o()({},t,0)),r=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),(0,m.Z)(n,r)}},{key:"_getOriginHost",value:function(e){var t=e.host,n=this._isBgpIp(t),r=(0,l.FU)(e.search);return n&&r.host||this._config.getOriginHost(t)||t}},{key:"_getNewHost",value:function(e,t,n){var r;return n<2&&(r=this._getBackupDomain(e,t)),r||this._getBackupIp(t)}},{key:"getFallbackUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.createElement("a");n.href=e;var r=this._getOriginHost(n),i=this._getNewHost(r,n.host,t);return this._isBgpIp(i)&&(n.search=p(n.search,{host:r}),n.protocol="http:"),n.host=i,n.href}}]),e}();function b(e,t){return v||(v=new y((0,r.Z)())),v.getFallbackUrl(e,t)}},65839:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r,i=n(48926),o=n.n(i),a=n(87757),c=n.n(a),s=n(36792),u=n(38533),l=n(99433),f=n(77932);function d(){return p.apply(this,arguments)}function p(){return(p=o()(c().mark((function e(){var t,n,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r){e.next=2;break}return e.abrupt("return",r);case 2:if(t=(0,u.zT)(),n=t.platform,i=t.version,!(n!==l.iw.PddIOS||(0,l.yC)(i,"5.87.0")<0)){e.next=6;break}return r=!1,e.abrupt("return",r);case 6:return e.prev=6,e.next=9,(0,s.Q6)("WebScene","checkImageProtocol");case 9:return o=e.sent,r=o.use_image_sdk,e.abrupt("return",r);case 14:e.prev=14,e.t0=e.catch(6),(0,f.Z)({error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}},91277:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e).reduce((function(t,n){return t+e[n]}),0);t%=n;var r=0;for(var i in e)if(t<(r+=e[i]))return i;return""}n.d(t,{Z:function(){return r}})},88393:function(e,t,n){"use strict";function r(e){var t=document.createElement("a");return t.href=e,t}n.d(t,{Z:function(){return r}})},17740:function(e,t,n){"use strict";function r(e){return"string"==typeof e&&["http://","https://","//"].some((function(t){return e.startsWith(t)}))}n.d(t,{Z:function(){return r}})},77932:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(12714);function i(e){var t=e.errorMsg,n=e.payload;var i=e.error||new Error(t);(0,r.K2)(i,{payload:n,error_msg:t})}},24684:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(34575),i=n.n(r),o=n(93913),a=n.n(o),c=n(81506),s=n.n(c),u=n(2205),l=n.n(u),f=n(78585),d=n.n(f),p=n(29754),m=n.n(p),h=n(67294),g=n.n(h),v=n(73935),y=n(48926),b=n.n(y),w=n(87757),k=n.n(w),I=n(12045),S=n(38533),P=n(36792),A=(n(66337),(0,S.zT)()),C={rootMargin:"0px",threshold:[.75]},E=new(a()((function e(){var t=this;i()(this,e),this.init=b()(k().mark((function e(){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(A.isNativePlatform&&A.statisfy&&A.statisfy("4.20.0","4.26.0","greaterThanEqual")){e.next=6;break}return t.createOberver(),e.abrupt("return");case 6:return e.prev=6,e.next=9,(0,P.Q6)("WebScene","getPageShownType",null);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:n=e.t0,parseInt(n.shown_type,10)?(r=function(){t.createOberver()},(0,P.Rl)().then(r)):t.createOberver(),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(6),t.createOberver();case 20:case"end":return e.stop()}var r}),e,null,[[6,17]])}))),this.createOberver=function(){t.oberver=new IntersectionObserver(t.observerCallBack,C),Array.isArray(t.stashQuene)&&t.stashQuene.forEach((function(e){e&&e()})),t.stashQuene=null},this.observerCallBack=function(e){e.forEach((function(e){var n=parseInt(e.target.dataset.uniqid,10);if(n){if(e.isIntersecting&&e.intersectionRatio>=.75){if((t.elStore[n]||{}).immediate)return void t.log(n);t.entryQuene[n]=e}else t.entryQuene[n]&&(e.time-t.entryQuene[n].time>=300&&t.log(n),delete t.entryQuene[n]);t.lastTimer&&clearTimeout(t.lastTimer),t.lastTimer=setTimeout((function(){Object.keys(t.entryQuene).forEach((function(e){t.log(e),delete t.entryQuene[e]}))}),300)}}))},this.log=function(e){if(t.elStore[e]){var n=t.elStore[e]||{},r=n.info,i=n.once,o=n.el,a=n.handleCustomTracking;i&&t.unRegister(o,e),a?a():(0,I.wI)(r)}},this.register=function(e){var n=e.el,r=e.info,i=e.handleCustomTracking,o=e.once,a=void 0===o||o,c=e.immediate,s=void 0!==c&&c;if(n&&r){var u=t._uniqid;t._uniqid++,n.dataset.uniqid=u,t.elStore[u]=i?{el:n,info:r,once:a,immediate:s,handleCustomTracking:i}:{el:n,info:r,once:a,immediate:s},t.oberver?t.oberver.observe(n):t.stashQuene.push((function(){t.oberver.observe(n)}))}},this.unRegister=function(e,n){t.oberver&&t.oberver.unobserve(e),delete t.elStore[n],delete t.entryQuene[n]},this._uniqid=1,this.oberver=null,this.entryQuene={},this.elStore={},this.stashQuene=[],this.init()})));n(45697);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var D=function(e){l()(n,e);var t=O(n);function n(){var e;i()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).componentDidMount=function(){var t=e.props,n=t.id,r=t.doImpr;e.el=(0,v.findDOMNode)(s()(e))||document.getElementById(n),r&&e.registerImpr()},e.componentDidUpdate=function(t){e.lock||!t.doImpr&&e.props.doImpr&&(e.registerImpr(),e.lock=!0)},e.componentWillUnmount=function(){if(e.el&&e.isRegistered){var t=parseInt(e.el.dataset.uniqid,10)||0;E.unRegister(e.el,t)}},e.registerImpr=function(){var t=e.props,n=t.trackingInfo,r=t.once,i=t.handleCustomTracking,o=t.immediate;E.register({el:e.el,info:n,once:r,handleCustomTracking:i,immediate:o}),e.isRegistered=!0},e}return a()(n,[{key:"render",value:function(){return g().Children.only(this.props.children)}}]),n}(h.Component);D.defaultProps={doImpr:!0,id:"",once:!0,trackingInfo:{},immediate:!1};var x=D},25558:function(e,t,n){"use strict";var r=n(93913),i=n.n(r),o=n(34575),a=n.n(o),c={DEFAULT:0,LOADING:1,ENCODING:2,ENCODED:3,UPLOADING:4,UPLOADED:5},s={VERTICAL:0,HORIZONTAL:1},u=i()((function e(t){a()(this,e),t=t||{},this.key=t.key||null,this.url=t.url||"",this.status=t.status||c.DEFAULT,this.orientation=t.orientation||s.VERTICAL,this.base64=null,this.width=0,this.height=0,this.webURL=null}));u.ImageStatus=c,u.ImageOrientation=s,t.Z=u},5815:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r=n(50008),i=n.n(r),o=n(48926),a=n.n(o),c=n(34575),s=n.n(c),u=n(93913),l=n.n(u),f=n(87757),d=n.n(f),p=n(11954),m=n(53527);var h,g=(h=m.ZP.getInstance().getPageID(),(0,p.e)({pageInfo:{pageId:h}})),v=function(){function e(){s()(this,e),this.bucketTag=null,this.loaded=!1,this.api="image/signature"}return l()(e,[{key:"load",value:function(e){e=e||{},this.bucketTag=e.bucketTag||this.bucketTag}},{key:"getSign",value:function(){var e=this;return new Promise((function(t,n){g.post(e.api,{bucket_tag:e.bucketTag}).then((function(e){t({signature:(e=e||{}).signature||""})}),(function(){n()}))}))}}]),e}(),y=n(25558),b=function(){function e(){s()(this,e),this.img=null,this.coreContext=null}var t;return l()(e,[{key:"load",value:function(e){e=e||{},this.coreContext=e.context||null}},{key:"onSelected",value:(t=a()(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&this.coreContext&&this.img)){e.next=5;break}return this.coreContext.updateImage(this.img,t),e.next=4,this.coreContext.loadImage(this.img);case 4:this.coreContext.process(this.img);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onSelectStart",value:function(){this.img&&(this.img=null),this.img=this.coreContext.createImage()}},{key:"onSelectCancel",value:function(){this.coreContext&&(this.coreContext.remove(this.img),this.img=null)}}]),e}(),w=b;var k=new function(e){Math.round;var t,n,r,i,o,a=Math.floor,c=new Array(64),s=new Array(64),u=new Array(64),l=new Array(64),f=new Array(65535),d=new Array(65535),p=new Array(64),m=new Array(64),h=[],g=0,v=7,y=new Array(64),b=new Array(64),w=new Array(64),k=new Array(256),I=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],x=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function L(e,t){for(var n=0,r=0,i=[],o=1;o<=16;o++){for(var a=1;a<=e[o];a++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function R(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<v),n--,--v<0&&(255==g?(B(255),B(0)):B(g),v=7,g=0)}function B(e){h.push(k[e])}function M(e){B(e>>8&255),B(255&e)}function N(e,t,n,r,i){for(var o,a=i[0],c=i[240],s=function(e,t){var n,r,i,o,a,c,s,u,l,f,d=0;for(l=0;l<8;++l){n=e[d],r=e[d+1],i=e[d+2],o=e[d+3],a=e[d+4],c=e[d+5],s=e[d+6];var m=n+(u=e[d+7]),h=n-u,g=r+s,v=r-s,y=i+c,b=i-c,w=o+a,k=o-a,I=m+w,S=m-w,P=g+y,A=g-y;e[d]=I+P,e[d+4]=I-P;var C=.707106781*(A+S);e[d+2]=S+C,e[d+6]=S-C;var E=.382683433*((I=k+b)-(A=v+h)),O=.5411961*I+E,D=1.306562965*A+E,x=.707106781*(P=b+v),_=h+x,L=h-x;e[d+5]=L+O,e[d+3]=L-O,e[d+1]=_+D,e[d+7]=_-D,d+=8}for(d=0,l=0;l<8;++l){n=e[d],r=e[d+8],i=e[d+16],o=e[d+24],a=e[d+32],c=e[d+40],s=e[d+48];var R=n+(u=e[d+56]),B=n-u,M=r+s,N=r-s,U=i+c,j=i-c,T=o+a,F=o-a,Z=R+T,Q=R-T,z=M+U,G=M-U;e[d]=Z+z,e[d+32]=Z-z;var W=.707106781*(G+Q);e[d+16]=Q+W,e[d+48]=Q-W;var H=.382683433*((Z=F+j)-(G=N+B)),q=.5411961*Z+H,V=1.306562965*G+H,X=.707106781*(z=j+N),J=B+X,Y=B-X;e[d+40]=Y+q,e[d+24]=Y-q,e[d+8]=J+V,e[d+56]=J-V,d++}for(l=0;l<64;++l)f=e[l]*t[l],p[l]=f>0?f+.5|0:f-.5|0;return p}(e,t),u=0;u<64;++u)m[S[u]]=s[u];var l=m[0]-n;n=m[0],0==l?R(r[0]):(R(r[d[o=32767+l]]),R(f[o]));for(var h=63;h>0&&0==m[h];)h--;if(0==h)return R(a),n;for(var g,v=1;v<=h;){for(var y=v;0==m[v]&&v<=h;)++v;var b=v-y;if(b>=16){g=b>>4;for(var w=1;w<=g;++w)R(c);b&=15}o=32767+m[v],R(i[(b<<4)+d[o]]),R(f[o]),v++}return 63!=h&&R(a),n}function U(e){e<=0&&(e=1),e>100&&(e=100),o!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((t[n]*e+50)/100);r<1?r=1:r>255&&(r=255),c[S[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var f=a((i[o]*e+50)/100);f<1?f=1:f>255&&(f=255),s[S[o]]=f}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,m=0;m<8;m++)for(var h=0;h<8;h++)u[p]=1/(c[S[p]]*d[m]*d[h]*8),l[p]=1/(s[S[p]]*d[m]*d[h]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e)}this.encode=function(e,o,a){(new Date).getTime(),o&&U(o),h=[],g=0,v=7,M(65496),M(65504),M(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),M(1),M(1),B(0),B(0),function(){M(65499),M(132),B(0);for(var e=0;e<64;e++)B(c[e]);B(1);for(var t=0;t<64;t++)B(s[t])}(),function(e,t){M(65472),M(17),B(8),M(t),M(e),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(e.width,e.height),function(){M(65476),M(418),B(0);for(var e=0;e<16;e++)B(P[e+1]);for(var t=0;t<=11;t++)B(A[t]);B(16);for(var n=0;n<16;n++)B(C[n+1]);for(var r=0;r<=161;r++)B(E[r]);B(1);for(var i=0;i<16;i++)B(O[i+1]);for(var o=0;o<=11;o++)B(D[o]);B(17);for(var a=0;a<16;a++)B(x[a+1]);for(var c=0;c<=161;c++)B(_[c])}(),M(65498),M(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var f=0,d=0,p=0;g=0,v=7,this.encode.displayName="_encode_";for(var m,k,S,L,j,T,F,Z,Q,z=e.data,G=e.width,W=e.height,H=4*G,q=0;q<W;){for(m=0;m<H;){for(T=j=H*q+m,F=-1,Z=0,Q=0;Q<64;Q++)T=j+(Z=Q>>3)*H+(F=4*(7&Q)),q+Z>=W&&(T-=H*(q+1+Z-W)),m+F>=H&&(T-=m+F-H+4),k=z[T++],S=z[T++],L=z[T++],y[Q]=(I[k]+I[S+256>>0]+I[L+512>>0]>>16)-128,b[Q]=(I[k+768>>0]+I[S+1024>>0]+I[L+1280>>0]>>16)-128,w[Q]=(I[k+1280>>0]+I[S+1536>>0]+I[L+1792>>0]>>16)-128;f=N(y,u,f,t,r),d=N(b,l,d,n,i),p=N(w,l,p,n,i),m+=32}q+=8}if(v>=0){var V=[];V[1]=v+1,V[0]=(1<<v+1)-1,R(V)}if(M(65497),a){for(var X=h.length,J=new Uint8Array(X),Y=0;Y<X;Y++)J[Y]=h[Y].charCodeAt();return h=[],J}var K="data:image/jpeg;base64,"+btoa(h.join(""));return h=[],K},e||(e=50),function(){for(var e=String.fromCharCode,t=0;t<256;t++)k[t]=e(t)}(),t=L(P,A),n=L(O,D),r=L(C,E),i=L(x,_),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)d[32767+r]=n,f[32767+r]=[],f[32767+r][1]=n,f[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)d[32767+i]=n,f[32767+i]=[],f[32767+i][1]=n,f[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)I[e]=19595*e,I[e+256>>0]=38470*e,I[e+512>>0]=7471*e+32768,I[e+768>>0]=-11059*e,I[e+1024>>0]=-21709*e,I[e+1280>>0]=32768*e+8421375,I[e+1536>>0]=-27439*e,I[e+1792>>0]=-5329*e}(),U(e)}(100),I={EXIF:null};(function(){var e=function e(t){return t instanceof e?t:this instanceof e?void 0:new e(t)},t=e.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},n=e.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},r=e.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},o=e.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function a(e){return!!e.exifdata}function c(e,t){function n(n){var r=s(n),i=function(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;var n=2,r=e.byteLength,i=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};for(;n+5<r;){if(i(t,n)){var o=t.getUint8(n+7);return o%2!=0&&(o+=1),0===o&&(o=4),l(e,n+8+o,t.getUint16(n+6+o))}n++}}(n);e.exifdata=r||{},e.iptcdata=i||{},t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src))n(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"").replace(/%0A/gi,"");for(var n=atob(e),r=n.length,i=new ArrayBuffer(r),o=new Uint8Array(i),a=0;a<r;a++)o[a]=n.charCodeAt(a);return i}(e.src));else if(/^blob\:/i.test(e.src)){var r=new FileReader;r.onload=function(e){n(e.target.result)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}(e.src,(function(e){r.readAsArrayBuffer(e)}))}else{var i=new XMLHttpRequest;i.onload=function(){if(200!=this.status&&0!==this.status)throw new Error("Could not load image");n(i.response),i=null},i.open("GET",e.src,!0),i.responseType="arraybuffer",i.send(null)}else if(window.FileReader&&(e instanceof window.Blob||e instanceof window.File)){var o=new FileReader;o.onload=function(e){n(e.target.result)},o.readAsArrayBuffer(e)}}function s(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;for(var n=2,r=e.byteLength;n<r;){if(255!=t.getUint8(n))return!1;if(225==t.getUint8(n+1))return m(t,n+4,t.getUint16(n+2));n+=2+t.getUint16(n+2)}}var u={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function l(e,t,n){for(var r,i,o,a,c=new DataView(e),s={},l=t;l<t+n;)28===c.getUint8(l)&&2===c.getUint8(l+1)&&(a=c.getUint8(l+2))in u&&((o=c.getInt16(l+3))+5,i=u[a],r=p(c,l+5,o),s.hasOwnProperty(i)?s[i]instanceof Array?s[i].push(r):s[i]=[s[i],r]:s[i]=r),l++;return s}function f(e,t,n,r,i){var o,a,c=e.getUint16(n,!i),s={};for(a=0;a<c;a++)o=n+12*a+2,s[r[e.getUint16(o,!i)]]=d(e,o,t,n,i);return s}function d(e,t,n,r,i){var o,a,c,s,u,l,f=e.getUint16(t+2,!i),d=e.getUint32(t+4,!i),m=e.getUint32(t+8,!i)+n;switch(f){case 1:case 7:if(1==d)return e.getUint8(t+8,!i);for(o=d>4?m:t+8,a=[],s=0;s<d;s++)a[s]=e.getUint8(o+s);return a;case 2:return p(e,o=d>4?m:t+8,d-1);case 3:if(1==d)return e.getUint16(t+8,!i);for(o=d>2?m:t+8,a=[],s=0;s<d;s++)a[s]=e.getUint16(o+2*s,!i);return a;case 4:if(1==d)return e.getUint32(t+8,!i);for(a=[],s=0;s<d;s++)a[s]=e.getUint32(m+4*s,!i);return a;case 5:if(1==d)return u=e.getUint32(m,!i),l=e.getUint32(m+4,!i),(c=new Number(u/l)).numerator=u,c.denominator=l,c;for(a=[],s=0;s<d;s++)u=e.getUint32(m+8*s,!i),l=e.getUint32(m+4+8*s,!i),a[s]=new Number(u/l),a[s].numerator=u,a[s].denominator=l;return a;case 9:if(1==d)return e.getInt32(t+8,!i);for(a=[],s=0;s<d;s++)a[s]=e.getInt32(m+4*s,!i);return a;case 10:if(1==d)return e.getInt32(m,!i)/e.getInt32(m+4,!i);for(a=[],s=0;s<d;s++)a[s]=e.getInt32(m+8*s,!i)/e.getInt32(m+4+8*s,!i);return a}}function p(e,t,n){for(var r="",i=t;i<t+n;i++)r+=String.fromCharCode(e.getUint8(i));return r}function m(e,i){if("Exif"!=p(e,i,4))return!1;var a,c,s,u,l=i+6;if(18761==e.getUint16(l))a=!1;else{if(19789!=e.getUint16(l))return!1;a=!0}if(42!=e.getUint16(l+2,!a))return!1;var d=e.getUint32(l+4,!a);if(d<8)return!1;var m=f(e,l,l+d,n,a);if(m.ExifIFDPointer)for(c in s=f(e,l,l+m.ExifIFDPointer,t,a)){switch(c){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":s[c]=o[c][s[c]];break;case"ExifVersion":case"FlashpixVersion":s[c]=String.fromCharCode(s[c][0],s[c][1],s[c][2],s[c][3]);break;case"ComponentsConfiguration":s[c]=o.Components[s[c][0]]+o.Components[s[c][1]]+o.Components[s[c][2]]+o.Components[s[c][3]]}m[c]=s[c]}if(m.GPSInfoIFDPointer)for(c in u=f(e,l,l+m.GPSInfoIFDPointer,r,a)){if("GPSVersionID"===c)u[c]=u[c][0]+"."+u[c][1]+"."+u[c][2]+"."+u[c][3];m[c]=u[c]}return m}e.getData=function(e,t){return!((e instanceof Image||e instanceof HTMLImageElement)&&!e.complete)&&(a(e)?t&&t.call(e):c(e,t),!0)},e.getTag=function(e,t){if(a(e))return e.exifdata[t]},e.getAllTags=function(e){if(!a(e))return{};var t,n=e.exifdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},e.pretty=function(e){if(!a(e))return"";var t,n=e.exifdata,r="";for(t in n)n.hasOwnProperty(t)&&("object"===i()(n[t])?n[t]instanceof Number?r+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":r+=t+" : ["+n[t].length+" values]\r\n":r+=t+" : "+n[t]+"\r\n");return r},e.readFromBinaryFile=function(e){return s(e)},I.EXIF=e}).call(window);var S=I,P=null,A=function(){function e(t){s()(this,e),this.returnNullIfNotFitLimit=t.returnNullIfNotFitLimit||!1,this.limitBase64Length=t.limitBase64Length||0}return l()(e,[{key:"compressImage",value:function(e,t){var n=this;e&&t&&this.getImgData(e,(function(e,r){var i=r.width,o=r.height,a=i/o;(i>1200||o>1200)&&(i=1200,(o=parseInt(i/a,10))>1200&&(o=1200,i=parseInt(o*a,10)));var c=document.createElement("canvas"),s=c.getContext("2d");if(c.width=i,c.height=o,s.drawImage(r,0,0,i,o),e&&1!==e)switch(e){case 6:n.rotateImg(r,"left",c,i,o);break;case 8:n.rotateImg(r,"right",c,i,o);break;case 3:n.rotateImg(r,"right",c,i,o),n.rotateImg(r,"right",c,i,o)}if(6!==e&&8!==e||(i+=o,i-=o=i-o),n.notSupportCompressJpeg||n.tryLoopCompress(i,o,75,(function(e){return c.toDataURL("image/jpeg",e/100)}),!1,t),n.notSupportCompressJpeg){var u=s.getImageData(0,0,i,o);n.tryLoopCompress(i,o,75,(function(e){return k.encode(u,e,!1)}),!0,t)}}))}},{key:"getImgData",value:function(e,t){var n=new Image;n.src=e.url,n.onload=function(){try{void 0!==e.exifOrientation?t(e.exifOrientation,n):S.EXIF.getData(n,(function(){S.EXIF.getAllTags(n);var e=S.EXIF.getTag(n,"Orientation");t(e,n)}))}catch(e){t(null,n)}}}},{key:"tryLoopCompress",value:function(e,t,n,r,i,o){var a;do{if(a=r(n),n-=10,!i&&(!a||a.length<10||0===a.indexOf("data:image/png;")))return void(this.notSupportCompressJpeg=!0)}while(a.length>this.limitBase64Length&&n>=10);a.length>this.limitBase64Length&&this.returnNullIfNotFitLimit?o&&o(null,e,t):o&&o(a,e,t)}},{key:"rotateImg",value:function(e,t,n,r,i){if(e){var o=2;o||(o=0),"right"===t?++o>3&&(o=0):--o<0&&(o=3);var a=90*o*Math.PI/180,c=n.getContext("2d");switch(o){case 0:n.width=r,n.height=i,c.drawImage(e,0,0,r,i);break;case 1:n.width=i,n.height=r,c.rotate(a),c.drawImage(e,0,-i,r,i);break;case 2:n.width=r,n.height=i,c.rotate(a),c.drawImage(e,-r,-i,r,i);break;case 3:n.width=i,n.height=r,c.rotate(a),c.drawImage(e,-r,0,r,i)}}}}]),e}();A.getInstance=function(){return P||(P=new A),P};var C=A;var E=y.Z.ImageStatus,O=y.Z.ImageOrientation,D=300,x=300;function _(e,t){if(t&&e){for(var n=[],r=2;r<arguments.length;++r)n.push(arguments[r]);t.apply(e,n)}}var L=function(){function e(t){s()(this,e),this.loaded=!1,this.imageMap=t.imageMap||{},this.keyList=t.keyList||[],this.nativeReceiver=null,this.seed=t.seed||1,this.uploadAPI="v2/store_image",this.signatureModule=null,this.taskMap={},this.callbackMap={},this.context=null,this.imageTargetSize=x,this.imageLimitSize=D,this.imageUtil=null,this.fileDomain="",this.useXHR=!!t.useXHR}var t,n,r;return l()(e,[{key:"load",value:function(e){this.loaded||(e=e||{},this.uploadAPI=e.uploadAPI||this.uploadAPI,this.callbackMap=e.callbackMap||this.callbackMap,this.context=e.context||this.context,this.imageTargetSize=e.imageTargetSize||this.imageTargetSize,this.imageLimitSize=e.imageLimitSize||this.imageLimitSize,this.fileDomain=e.fileDomain||(location.href.includes("hutaojie")?"https://file.hutaojie.com/":"https://file.pinduoduo.com/"),this.imageUtil=e.imageUtil||new C({limitBase64Length:1024*this.imageLimitSize,returnNullIfNotFitLimit:!1}),this.nativeReceiver=new w,this.signatureModule=new v,this.nativeReceiver.load({context:this}),this.signatureModule.load({bucketTag:e.bucketTag}))}},{key:"createImage",value:function(){return new y.Z({key:"img-"+this.seed++})}},{key:"updateImage",value:function(e,t,n){e&&(n=n||{},e.url=t,e.orientation=n.orientation||e.orientation)}},{key:"loadImage",value:(r=a()(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||t.status!==E.DEFAULT){e.next=11;break}return this.imageMap[t.key]=t,this.keyList.push(t.key),t.status=E.LOADING,e.next=6,this.getImageOrientation(t);case 6:n=e.sent,t.exifOrientation=n,r=this.context,i=this.callbackMap.onLoad,_(r,i,t);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getImageOrientation",value:(n=a()(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new Image;n.onload=function(){if(2===n.width&&3===n.height)return e(0);var r=new Image;r.onload=function(){try{S.EXIF.getData(r,(function(){e(S.EXIF.getTag(r,"Orientation")||0)}))}catch(t){e(S.EXIF.getTag(r,"Orientation")||0)}},r.src=t.url},n.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k="})));case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"createImageAndLoad",value:(t=a()(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.createImage(t,n),this.updateImage(r,t,n),e.next=4,this.loadImage(r);case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"loadImageByFile",value:function(e){if((e=e||{}).type){if(!/^(image\/jpeg|image\/png)$/i.test(e.type))return}else if(e.name){var t=e.name||"";if(-1===(t=t.toUpperCase()).indexOf("IMAGE%3A")&&-1===t.indexOf("IMAGE:"))return}var n=(URL||window.webkitURL).createObjectURL(e);return this.createImageAndLoad(n)}},{key:"remove",value:function(e){if(e){var t=e.key,n=this.keyList.indexOf(t);n>=0&&this.keyList.splice(n,1)}}},{key:"getImage",value:function(e){return this.imageMap[e]||null}},{key:"getImages",value:function(){var e=this.imageMap||{},t=this.keyList||[],n=[];return t.forEach((function(t){var r=e[t]||null;r&&n.push(r)})),n}},{key:"getImageCount",value:function(){return this.keyList.length}},{key:"getImageProperties",value:function(e,t){var n=this.imageMap||{},r=this.keyList||[],o=[];return r.forEach((function(r){var a=n[r];if(e&&a)if("string"==typeof e)a&&a[e]&&o.push(a[e]||t);else if("object"===i()(e)){var c={};for(var s in e)e.hasOwnProperty(s)&&(c[s]=a[e[s]]||t);c&&o.push(c)}})),o}},{key:"encodeImage",value:function(e){e=e||{};var t=this;return new Promise((function(n,r){if(e.status===E.LOADING&&e.url){e.status=E.ENCODING,_(t.context,t.callbackMap.onEncode,e);var i=new Image,o=e.url,a=function(t,r,i){e.base64=t.replace(/%0A/gi,""),e.width=r,e.height=i,e.orientation=r>i?O.HORIZONTAL:O.VERTICAL,e.status=E.ENCODED,n(e)};i.onload=function(n){0!==o.indexOf("data:image/")||o.length>1024*t.imageLimitSize?t.imageUtil.compressImage(e,a):a(o,i.width,i.height)},i.src=o}else r()}))}},{key:"uploadImage",value:function(e,t){var n=this,r=this;return e=e||{},new Promise((function(i,o){if(t&&e&&e.status===E.ENCODED&&e.base64){e.status=E.UPLOADING,_(r.context,r.callbackMap.onUpload,e);var a=function(t){e.status=E.UPLOADED,t=t||{},e.webURL=t.url,e.width=t.width,e.height=t.height,i(e)},c=function(e){o(e)},s=n.fileDomain+n.uploadAPI,u={upload_sign:t,image:e.base64};n.useXHR?function(e,t,n,r){var i={method:e,body:null==n?null:JSON.stringify(n),headers:{"Content-Type":null==n?"application/x-www-form-urlencoded;charset=UTF-8":"application/json;charset=UTF-8"},credentials:"include"};i.headers.AccessToken=localStorage.getItem("AccessToken")||"";var o=new XMLHttpRequest;o.open(i.method,t,!0),o.withCredentials=!0;var a=i.headers||{};for(var c in a)o.setRequestHeader(c,a[c]);return o.onerror=r.onUploadError,o.upload.addEventListener("progress",r.onUploadProgress),o.ontimeout=r.onUploadTimeout,o.send(i.body),new Promise((function(e,t){o.onload=function(){var n=null;try{n=JSON.parse(o.responseText)}catch(e){n={}}if(n&&n.error_code)return t({errorCode:n.error_code,errorMessage:n.error_message});e(n)},o.onerror=function(e){t(e)}}))}("POST",s,u,{onUploadProgress:function(t){r.callbackMap.onUploadProgress&&r.callbackMap.onUploadProgress(e.url,t)}}).then(a,c):g.post(s,u).then(a,c)}else o()}))}},{key:"process",value:function(e){var t=this,n=t.encodeImage(e),r=t.signatureModule.getSign(),i=Promise.all([r,n]).then((function(n){var r=((n=n||[])[0]||{}).signature;return t.uploadImage(n[1]||e,r).then((function(e){_(t.context,t.callbackMap.onSuccess,e)}),(function(n){_(t.context,t.callbackMap.onFail,e,n)}))}),(function(){_(t.context,t.callbackMap.onFail,e)}));return t.taskMap[e.key]=i,i}},{key:"isAllImageReady",value:function(){for(var e=this.keyList||[],t=0,n=e.length;t<n;t++){var r=this.imageMap[e[t]];if(r&&(r.status!==E.UPLOADED||!r.webURL))return!1}return!0}},{key:"waitForAll",value:function(e){var t=[],n=this;this.keyList.forEach((function(e){n.taskMap[e]&&t.push(n.taskMap[e])})),Promise.all(t).then((function(){"function"==typeof e&&e(!0)}),(function(){"function"==typeof e&&e(!1)})).catch((function(t){"function"==typeof e&&e(!1)}))}}]),e}(),R=L},80558:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(50008),i=n.n(r),o=n(34575),a=n.n(o),c=n(93913),s=n.n(c),u=n(2205),l=n.n(u),f=n(78585),d=n.n(f),p=n(29754),m=n.n(p),h=n(67294),g=n.n(h),v={buildCtx:function(e,t){e=e||{},t=t||{};var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]={value:t[r],enumerable:!0,writable:!1});return Object.create(e,n)},pickCtx:function(e){e=e||{};var t={};for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}},y=n(12045),b=n(38533);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var k=function(e){l()(n,e);var t=w(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).ctxUtil=v,r.mountViewID=e.mountViewID,r.viewID=e.viewID,r.setupViewContext(e),r.isServerEnv=!1,r.isClientEnv=!r.isServerEnv,r.platform=r.isClientEnv&&(0,b.Xf)(navigator.userAgent),r.buildViewContext(),r}return s()(n,[{key:"setupViewContext",value:function(e){var t=e.viewCtx||{};"object"!==i()(t)||0===Object.keys(t).length&&!t.isRoot?((t={}).isRoot=!0,this.viewCtx=t):(Object.keys(t).length&&!t.isRoot&&(t.isRoot=!0),this.viewCtx=this.ctxUtil.buildCtx(t))}},{key:"buildViewContext",value:function(){}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"track",value:function(e,t){if(this.isClientEnv&&e){var n=v.pickCtx(v.buildCtx(this.viewCtx,e));n.ad&&"object"===i()(n.ad)&&(n.ad=JSON.stringify(n.ad)),n.hasOwnProperty("isRoot")&&delete n.isRoot,(0,y.oP)(n).catch((function(){})).then(t)}}}]),n}(g().Component);k.defaultProps={show:!1};var I=k},39328:function(e,t,n){"use strict";n.d(t,{Z:function(){return ee}});var r,i=n(67154),o=n.n(i),a=n(6479),c=n.n(a),s=n(34575),u=n.n(s),l=n(93913),f=n.n(l),d=n(2205),p=n.n(d),m=n(78585),h=n.n(m),g=n(29754),v=n.n(g),y=n(48926),b=n.n(y),w=n(87757),k=n.n(w),I=n(67294),S=n.n(I),P=(n(45697),n(81094)),A=n(88393),C=n(91277),E=n(17740),O=function(){function e(t){u()(this,e),this._config=t}return f()(e,[{key:"_getBackupDomain",value:function(e,t){var n=this._config.getBackupDomainConfig(e),r=Object.keys(n),i=parseInt(+t.slice(-4),10);return r.length>1&&i>=0&&(0,C.Z)(n,i)||e}},{key:"getInitialUrl",value:function(e,t){if(!e)return"";if(!(0,E.Z)(e))return e;if(!(t=""+t))return e;var n=(0,A.Z)(e);return n.host=this._getBackupDomain(n.host,t),n.toString()}}]),e}();function D(e,t){return r||(r=new O((0,P.Z)())),r.getInitialUrl(e,t)}var x=n(81535),_=n(12714),L="pdd-lazy-image",R={thresholds:"100px"},B=n(59713),M=n.n(B),N=n(65839),U=n(14551);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e){return parseInt(e.dataset.retryCount,10)||0}n(66337);var Z=/\/\/([\w+.-]+)\//;function Q(e,t){var n=e.src,r=function(e){var t=F(e);return t?"lazy_image_error_retry_".concat(t):"lazy_image_error"}(e),i=(n.match(Z)||[])[1]||"",o=new Error(r);(0,_.K2)(o,{payload:{src:n,host:i,useImageSdk:t},error_msg:r})}var z,G=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u()(this,e);var i,o=n(52732),a=T(T({},R),{},{thresholds:r.thresholds||R.thresholds,callback_error:(i=b()(k().mark((function e(n){var r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,N.Z)();case 2:r=e.sent,Q(n,r),r||t._retry(n);case 5:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})});r.container&&(a.container=r.container),this._lazyLoad=new o(a,[])}return f()(e,[{key:"start",value:function(e){var t=e.el,n=e.src;this._start({el:t,src:n,retryCount:0})}},{key:"destroy",value:function(){var e;this._lazyLoad&&((e=this._lazyLoad)._observer&&(e._elements.forEach((function(t){e._observer.unobserve(t)})),e._observer=null))}},{key:"_start",value:function(e){var t=e.el,n=e.src,r=e.retryCount;!function(e){e.classList.remove("error"),e.removeAttribute("data-was-processed")}(t),t.dataset.src=n,t.dataset.retryCount=r,this._lazyLoad&&this._lazyLoad.update([t])}},{key:"_retry",value:function(e){var t=this;if((0,E.Z)(e.src)){var n=F(e);n>=(0,P.Z)().getRetryLimit()||setTimeout((function(){t._start({el:e,src:(0,U.Z)(e.src,n),retryCount:n+1})}),400*n)}}}]),e}(),W=S().createContext({get lazyLoader(){return z||(z=new G),z}}),H=n(93379),q=n.n(H),V=n(50779),X={insert:"head",singleton:!1},J=(q()(V.Z,X),V.Z.locals,["src","className"]);function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function K(e){return $.apply(this,arguments)}function $(){return($=b()(k().mark((function e(t){var n,r,i,o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.prev=1,e.next=4,(0,x.sq)();case 4:r=e.sent,n=D(t,r),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),i="lazy_image_error: 兜底域名替换失败",o=new Error(i),(0,_.K2)(o,{payload:{src:t,uid:r},error_msg:i});case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var ee=function(e){p()(r,e);var t,n=Y(r);function r(){var e;u()(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).myRef=S().createRef(),e}return f()(r,[{key:"componentDidMount",value:function(){this._startLazyLoad()}},{key:"componentDidUpdate",value:function(){this._startLazyLoad()}},{key:"_startLazyLoad",value:(t=b()(k().mark((function e(){var t,n,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.src,this._lastSrc!==t){e.next=3;break}return e.abrupt("return");case 3:if(!this.context||!this.context.lazyLoader){e.next=12;break}return this._lastSrc=t,e.next=7,K(t);case 7:if(n=e.sent,r=this.myRef.current){e.next=11;break}return e.abrupt("return");case 11:this.context.lazyLoader.start({el:r,src:n});case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=(e.src,e.className),n=void 0===t?"":t,r=c()(e,J);return S().createElement("img",o()({ref:this.myRef},r,{className:"".concat(L," ").concat(n)}))}}]),r}(S().Component);ee.contextType=W},76737:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(67154),i=n.n(r),o=n(59713),a=n.n(o),c=n(6479),s=n.n(c),u=n(67294),l=n.n(u),f=(n(45697),n(39328)),d=n(44968),p=n(9164),m=["lazy","src","processParam"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={resizeWidth:1300,quality:80,strip:!0};function y(e){var t=e.lazy,n=e.src,r=e.processParam,o=s()(e,m),a=g(g({},v),r),c=t?f.Z:p.Z;return l().createElement(c,i()({},o,{src:(0,d.F)(n,a)}))}y.defaultProps={lazy:!0}},14074:function(e,t,n){"use strict";n.d(t,{lb:function(){return C},qq:function(){return E},z$:function(){return O},r1:function(){return D},Kv:function(){return x},X8:function(){return _},kS:function(){return L},QU:function(){return R},nD:function(){return B},yu:function(){return M},I:function(){return N},mS:function(){return U},I2:function(){return j}});var r=n(48926),i=n.n(r),o=n(59713),a=n.n(o),c=n(87757),s=n.n(c),u=n(3060),l=n(38533),f=n(99433),d=n(36792),p=n(82094),m=n(29807),h=n.n(m),g=n(1607),v=n(97341),y=n(31783),b=n(62025);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=(0,l.zT)()||{},S=I.isNativePlatform,P=I.platform===f.iw.PddAndroid,A=I.version;function C(e){return parseFloat((0,u.bd)(e))}function E(e,t){return e[t]||e[function(e,t){return e.find((function(e){return new RegExp("^(".concat(e,")$")).test(t)}))}(Object.keys(e),t)]}function O(e){if(isNaN(e)||!e)return 0;var t="".concat(e);if(-1!==t.indexOf(".")){var n=t.split(".");return n[0]=parseInt(n[0],10),0===n[1].length?n[1]=0:1===n[1].length?n[1]=10*parseInt(n[1],10):2===n[1].length?n[1]=parseInt(n[1],10):n[1].length>2&&(n[1]=parseInt(n[1].substring(0,2),10)),100*n[0]+n[1]}return 100*parseInt(t,10)}var D=function(e,t){e&&((0,l.zT)().isNativePlatform?(0,d.Td)({title:e}):document.title=e)};function x(e,t){return e.reduce((function(e,t){return e&&e[t]?e[t]:null}),t)}var _=function(e){(0,p.Fz)(e),(0,p._r)(e),(0,p.rB)("onSceneResume",e)};function L(e){navigator.userAgent.includes("app_type/lite")&&h().callNative("AMStorage","set",{key:"order2Refresh",value:e})}function R(e,t){return t&&t!==document.body?(t.scrollTop=e,t):0===e?(document.body.scrollTop=0,(document.documentElement||{}).scrollTop=0,null):(document.body.scrollTop=e,0!==document.body.scrollTop?document.body:((document.documentElement||{}).scrollTop=e,!(!document.documentElement||0===document.documentElement.scrollTop)&&document.documentElement))}function B(){return!I.isNativePlatform&&window.history}var M=function(e){if(!e)return!1;if(S&&P&&(0,f.yC)(A,"4.00.0")<=0){g.ZP.reload("https://mobile.yangkeduo.com"+e)}else g.ZP.reload(e)},N=function e(){return new Promise((function(t){var n=function(){return t({navigationHeight:0,statusbarHeight:0})};e.isSupport||n(),h().callNative("JSUIControl","getNavigationHeight",null,(function(e){t((0,v.re)(e))}),(function(){n()}))}))},U=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.isSupport)return(0,y.m)(t||"",n,k({ViewNotWechatInteraface:S,longImageOptimizeInIphonex:!0},r))};U.isSupport=b.jU,U.isSupportNativeLongImage=U.isSupport&&S&&(0,f.yC)(A,"4.75.0")>=0;var j=function(){var e=i()(s().mark((function e(t){var n,r,i,o,a,c,u,l,f,d,p,m,h=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:null,r=n?n.getBoundingClientRect():{},i=r.width,o=void 0===i?0:i,a=r.height,c=void 0===a?0:a,u=r.left,l=void 0===u?0:u,f=r.top,d=void 0===f?0:f,e.next=4,N();case 4:p=e.sent,m=p.navigationHeight,U(t,null,{viewAttri:[{index:0,width:o,height:c,startX:l,startY:m+d}],showIndexBar:!1,comeInAnim:"default",exitOutAnim:"default",hybridPhotoBrowser:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},82704:function(e,t,n){"use strict";n.d(t,{GI:function(){return y},B7:function(){return b},$i:function(){return w},nt:function(){return k}});var r=n(63038),i=n.n(r),o=n(48926),a=n.n(o),c=n(87757),s=n.n(c),u=n(1607),l=n(79859),f=n(64219),d=n(53527),p=n(11954),m=n(30064),h=n(81535),g=(0,l.eF)(),v=d.ZP.getInstance();function y(){g.isWeChatMiniProgram&&setTimeout(a()(s().mark((function e(){var t,r,o,a,c,u,l,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.getPageID(),r=v.getPageSN(),o={pageId:t},a=(0,p.e)({pageInfo:o}),e.next=6,Promise.all([(0,f.H)(a,r),n.e(8920).then(n.bind(n,73670))]);case 6:return c=e.sent,u=i()(c,2),l=u[0],d=u[1].initWxConfig,e.next=12,d(l,{disableShare:!0});case 12:case"end":return e.stop()}}),e)}))),200)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;!e&&g.isWeChatMiniProgram&&window.wx&&window.wx.miniProgram?window.wx.miniProgram.navigateBack({delta:1,success:function(){t&&t()}}):u.ZP.back(e,t)}function w(e,t){g.isWeChatMiniProgram&&window.wx&&window.wx.miniProgram?window.wx.miniProgram.navigateBack({delta:e,success:function(){t&&t()}}):history&&history.go(-e)}function k(){return I.apply(this,arguments)}function I(){return(I=a()(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.sq)();case 2:if(t=e.sent,!(n=(0,m.FU)(window.location.href).mini_program_uid)||t===n){e.next=6;break}throw new Error("H5页面UID:".concat(t,".小程序UID:").concat(n,"."));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},45774:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var r=n(48926),i=n.n(r),o=n(34575),a=n.n(o),c=n(93913),s=n.n(c),u=n(2205),l=n.n(u),f=n(78585),d=n.n(f),p=n(29754),m=n.n(p),h=n(87757),g=n.n(h),v=n(67294),y=n.n(v),b=(n(45697),n(26242)),w=n(24684),k=n(65077),I=n(14074),S=n(33945),P=n(59385),A=n(67154),C=n.n(A),E=n(73935),O=n.n(E),D=n(68218),x=n(11862),_=n(59713),L=n.n(_),R=n(36792),B=n(30064),M=n(79859),N=n(82704);function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var j=(0,M.eF)(),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show_layer_page";return function(t){var n,r;return r=n=function(n){l()(i,n);var r=U(i);function i(){var t;a()(this,i);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=r.call.apply(r,[this].concat(o))).state={isShowLayerPage:t.isShowLayerPageByQs},t.toggleLayerPage=function(n){var r="boolean"==typeof n?n:!t.state.isShowLayerPage,i=(0,B.ru)(L()({},e,r),location.href);r?history&&history.pushState(null,null,i):history&&history.back(),t.setState({isShowLayerPage:r})},t}return s()(i,[{key:"isShowLayerPageByQs",get:function(){return"true"===(0,B.mB)(location.search)[e]}},{key:"render",value:function(){return this.state.isShowLayerPage&&y().createElement(t,C()({},this.props,{toggleLayerPage:this.toggleLayerPage}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.gainToggleLayerPage;t&&t(this.toggleLayerPage),window.addEventListener("popstate",(function(){e.setState({isShowLayerPage:e.isShowLayerPageByQs})})),j.isNativePlatform&&(0,R.z2)({callback:function(){if(e.isShowLayerPageByQs)return e.toggleLayerPage(!1);(0,N.B7)()}})}}]),i}(v.PureComponent),n.displayName="layerPageHOC(".concat(t.displayName||t.name||"Component",")"),r}},F=function(e){var t=e.demoTitle,n=e.demoImageList,r=e.onClick,i=void 0===r?function(){}:r,o=e.onCloseClick,a=void 0===o?function(){}:o;return y().createElement("div",{className:"as-demo-detail-wrapper"},y().createElement("div",{className:"image-demo-detail",onClick:i},t&&y().createElement("div",{className:"title",onClick:a},t,y().createElement("i",{className:"icon-close"})),y().createElement("div",{className:"image-list"},(n||[]).map((function(e){return y().createElement(P.Z,{src:e,key:e})})))))},Z=(0,D.q)(T("show_demo_detail"),x.Z,v.memo)((function(e){var t=e.toggleLayerPage;return O().createPortal(y().createElement(F,C()({},e,{onClick:t.bind(null,!1)})),document.getElementById("main"))}));function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var z=function(e){l()(n,e);var t=Q(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={isModalShow:!1},e.demoBlockRef=y().createRef(),e.showDemoDetail=function(){var t=e.props,n=t.showTypeLongImagePrior,r=t.showType,i=t.demoElsn,o=t.clickDemo;if(i&&(0,b.g)({op:"click",page_el_sn:i}),o&&o(),n&&I.mS.isSupportNativeLongImage)e.viewDemoDetailImage();else switch(r){case"page":return e.toggleDemoDetail(!0);case"modal":return e.toggleDemoDetailModal(!0)}},e.closeDemoDetailModal=function(){return e.toggleDemoDetailModal(!1)},e.resetToggleDemoDetail=function(t){e.toggleDemoDetail=t},e.viewDemoDetailImage=i()(g().mark((function t(){var n,r,i,o,a,c,s,u,l;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.demoImageList,r=e.demoBlockRef.current,i=r.getBoundingClientRect(),o=i.width,a=i.height,c=i.left,s=i.top,t.next=5,(0,I.I)();case 5:u=t.sent,l=u.navigationHeight,(0,I.mS)("",n,{viewAttri:[{index:0,width:o,height:a,startX:c,startY:l+s}],showIndexBar:!1,comeInAnim:"default",exitOutAnim:"default",hybridPhotoBrowser:!0});case 8:case"end":return t.stop()}}),t)}))),e.toggleDemoDetail=function(){},e.toggleDemoDetailModal=function(t){var n="boolean"==typeof t?t:!e.state.isModalShow;e.setState({isModalShow:n}),n?(0,k.XY)(document.querySelector(".demo-block-modal .image-list")):(0,k.K9)()},e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.demoImageList,r=e.demoTitle,i=e.showType,o=e.renderBottom,a=e.demoBlockClickLogger,c=e.demoElsn,s=this.state.isModalShow;return!!n&&n.length>0&&y().createElement("div",{id:t},y().createElement(w.Z,{trackingInfo:{page_el_sn:c}},y().createElement("div",{className:"as-demo-block",ref:this.demoBlockRef,onClick:a(this.showDemoDetail)},y().createElement("div",{className:"demo-tag"},"示例"),y().createElement(P.Z,{src:n[0]}))),"page"===i&&y().createElement(Z,{demoImageList:n,demoTitle:r,gainToggleLayerPage:this.resetToggleDemoDetail}),"modal"===i&&y().createElement(S.Z,{id:"".concat(t,"Modal"),modalClassName:"demo-block-modal",popup:!0,isShow:s,onMaskClick:this.closeDemoDetailModal},y().createElement(F,{demoImageList:n,demoTitle:r,onCloseClick:this.closeDemoDetailModal}),o()))}}]),n}(v.PureComponent);z.defaultProps={demoTitle:"",demoImageList:[],showTypeLongImagePrior:!0,showType:"page",renderBottom:function(){},demoBlockClickLogger:function(e){return e}}},59385:function(e,t,n){"use strict";var r=n(67154),i=n.n(r),o=n(59713),a=n.n(o),c=n(6479),s=n.n(c),u=n(67294),l=n.n(u),f=(n(45697),n(76737)),d=n(9164),p=n(52156),m=n(44968),h=["lazy","src","processParam"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var v=function(e){var t=e.lazy,n=e.src,r=e.processParam,o=s()(e,h),c=(0,u.useContext)(p.NC)||{},v=c.webpEnable,y=n;if(!c.isCsr){var b,w=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({webpEnable:v},r),k=function(e){var t;if(e)return null!==(t=e.includes)&&void 0!==t&&t.call(e,"rem")?Math.ceil(300*parseFloat(e.replace("rem",""))):3*parseInt(e,10)}(null===(b=e.style)||void 0===b?void 0:b.width);k&&(w.resizeWidth=k),y=(0,m.F)(n,w)}return t?l().createElement(f.Z,i()({src:y},o)):l().createElement(d.Z,i()({src:y},o))};v.defaultProps={lazy:!1,webpEnable:!1,className:"",processParam:{resizeWidth:1300,quality:80}},t.Z=(0,u.memo)(v)},11862:function(e,t,n){"use strict";var r=n(34575),i=n.n(r),o=n(93913),a=n.n(o),c=n(2205),s=n.n(c),u=n(78585),l=n.n(u),f=n(29754),d=n.n(f),p=n(67294),m=n.n(p);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}t.Z=function(e){var t,n;return n=t=function(t){s()(r,t);var n=h(r);function r(){var e;i()(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state={mounted:!1},e}return a()(r,[{key:"render",value:function(){return this.state.mounted&&m().createElement(e,this.props)}},{key:"componentDidMount",value:function(){this.setState({mounted:!0})}}]),r}(m().Component),t.displayName="clientRenderHOC(".concat(e.displayName||e.name||"Component",")"),n}},45186:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r,i,o,a=n(67154),c=n.n(a),s=n(34575),u=n.n(s),l=n(93913),f=n.n(l),d=n(2205),p=n.n(d),m=n(78585),h=n.n(m),g=n(29754),v=n.n(g),y=n(67294),b=n.n(y),w=(n(45697),n(94184)),k=n.n(w),I=n(42846),S=n(45774),P=n(11862),A=n(99214);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var E=(0,P.Z)((o=i=function(e){p()(n,e);var t=C(n);function n(){return u()(this,n),t.apply(this,arguments)}return f()(n,[{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.demoImageList,r=e.demoTitle,i=e.config,o=e.demoBlockClickLogger,a=e.uploadClickLogger,s=e.showType,u=void 0===s?"modal":s,l=e.demoElsn,f=e.needProof,d=e.clickDemo,p=i||(0,I.E2)(),m=k()("image-uploader-container",{"show-demo":n.length>0});return!!t&&b().createElement("div",{className:m},this.renderTitle(),b().createElement(S.Z,{clickDemo:d,showType:u,demoTitle:r,demoImageList:n,demoBlockClickLogger:o,demoElsn:l}),b().createElement(A.Z,c()({needProof:f,demoImageList:n,uploadClickLogger:a},p)))}},{key:"renderTitle",value:function(){var e=this.props,t=e.title,n=e.tips;return!!t&&b().createElement("div",{className:"title"},t,!!n&&b().createElement("span",{className:"tips"},n))}}]),n}(y.PureComponent),i.defaultProps={isShow:!0,demoImageList:[],demoBlockClickLogger:function(e){return e},uploadClickLogger:function(e){return e}},r=o))||r},99214:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(34575),i=n.n(r),o=n(93913),a=n.n(o),c=n(16525),s=n.n(c),u=n(2205),l=n.n(u),f=n(78585),d=n.n(f),p=n(29754),m=n.n(p);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var g=function(e){l()(n,e);var t=h(n);function n(){var e;i()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).updateImageList=function(){var t=e.state.imageInfoList.filter((function(e){var t=e.webURL;return Boolean(t)})),n=t.map((function(e){return e.webURL})),r=t.map((function(e){return{url:e.webURL,height:e.height,width:e.width}}));e.props.updateImageList({imageInfoList:t,imageUrlList:n,pictures:r})},e.updateLoadStatus=function(){e.props.updateIsAllImageReady(e.isAllImageReady())},e}return a()(n,[{key:"componentDidUpdate",value:function(){var e=this;this.props.needClear&&this.setState({imageInfoList:[]},(function(){e.props.updateNeedClear&&e.props.updateNeedClear(!1)}))}},{key:"removeImage",value:function(e){var t=this;s()(m()(n.prototype),"removeImage",this).call(this,e),setTimeout((function(){t.updateImageList()}),300)}},{key:"onUploadSuccess",value:function(e){s()(m()(n.prototype),"onUploadSuccess",this).call(this,e),this.updateImageList(),this.updateLoadStatus()}},{key:"onImageLoad",value:function(e){s()(m()(n.prototype),"onImageLoad",this).call(this,e),this.updateLoadStatus()}},{key:"onSelectImage",value:function(){this.props.uploadClickLogger(s()(m()(n.prototype),"onSelectImage",this)).call(this)}}]),n}(n(45976).Z);g.defaultProps={updateImageList:function(){},updateIsAllImageReady:function(){},uploadClickLogger:function(e){return e},needClear:!1,updateNeedClear:function(){}}},33945:function(e,t,n){"use strict";n.d(t,{Z:function(){return q}});var r=n(34575),i=n.n(r),o=n(93913),a=n.n(o),c=n(2205),s=n.n(c),u=n(78585),l=n.n(u),f=n(29754),d=n.n(f),p=n(67294),m=n.n(p),h=n(73935),g=n.n(h),v=(n(45697),n(11862)),y=n(59713),b=n.n(y),w=n(16525),k=n.n(w);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var A,C,E,O,D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isShow";return function(t){var n,r;return r=n=function(n){s()(o,n);var r=P(o);function o(){var e;i()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).state=S(S({},e.state),{},{hidden:!0}),e}return a()(o,[{key:"render",value:function(){return k()(d()(o.prototype),"render",this).call(this)}},{key:"componentDidUpdate",value:function(){var t=this;k()(d()(o.prototype),"componentDidUpdate",this)&&k()(d()(o.prototype),"componentDidUpdate",this).call(this);var n=this.props.hideTimeout;this.state[e]?clearTimeout(this.timeout):this.timeout=setTimeout((function(){var n;t.setState((n={},b()(n,e,!1),b()(n,"hidden",!0),n))}),n)}},{key:"componentWillUnmount",value:function(){k()(d()(o.prototype),"componentWillUnmount",this)&&k()(d()(o.prototype),"componentWillUnmount",this).call(this),this.timeout&&clearTimeout(this.timeout)}}],[{key:"getDerivedStateFromProps",value:function(n,r){var i=t.getDerivedStateFromProps&&t.getDerivedStateFromProps(n,r);return i||r[e]!==n[e]?S(S(S({},r),i||{}),{},{hidden:r[e]===n[e]&&r.hidden}):null}}]),o}(t),n.displayName="delayHideHOC(".concat(t.displayName||t.name||"Component",")"),n.defaultProps=S(S({},t.defaultProps||{}),{},{hideTimeout:300}),r}};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var R=(A=D(),(0,v.Z)(C=A((O=E=function(e){s()(n,e);var t=L(n);function n(){var e;i()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={isShow:e.props.isShow},e}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.setMaskClass,n=e.onClick,r=e.id,i=e.style,o=this.state,a=o.isShow,c=o.hidden,s=_(_({},i),{},{visibility:!a&&c?"hidden":"visible"});return g().createPortal(m().createElement("div",{id:r,className:"as-mask-container ".concat(t(a)),style:s,onClick:n}),document.getElementById("main"))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isShow!==t.isShow?{isShow:e.isShow}:null}}]),n}(p.PureComponent),E.defaultProps={id:"",isShow:!0,setMaskClass:function(e){return e?"as-mask-show":"as-mask-hide"}},C=O))||C)||C);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var M=function(e){s()(n,e);var t=B(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).setPopupClass=function(e){return e?"as-show-popup":"as-hide-popup"},r.setPopupClass=e.setPopupClass||r.setPopupClass,r}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isShow,r=e.ModalStyle,i=this.setPopupClass(n);return m().createElement("div",{style:r,className:"as-modal-popup ".concat(i)},t)}}]),n}(p.PureComponent);M.defaultProps={isShow:!1};var N=n(319),U=n.n(N),j=n(63038),T=n.n(j);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var Z,Q,z,G,W=function(e){s()(n,e);var t=F(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).getDirections=function(){var e,t,n=r.props.direction;if("string"==typeof n)e=n,t=r.reverseDirect[e];else if(Array.isArray(n)){var i=T()(n,2);e=i[0],t=i[1]}return[e,t]},r.setFadeClass=function(e,t,n){return e||r.preShowState?e?(r.preShowState=!0,"as-show-fade ".concat(t)):!e&&r.preShowState?(r.preShowState=!1,"as-hide-fade ".concat(r.reverseDirect[n])):void 0:"as-hide-fade ".concat(t," no-animation")},r.setFadeClass=e.setFadeClass||r.setFadeClass,r.preShowState=!1,r.reverseDirect={left:"right",right:"left",up:"down",down:"up"},r}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.children,r=this.setFadeClass.apply(this,[t].concat(U()(this.getDirections())));return m().createElement("div",{className:"as-modal-fade ".concat(r)},n)}}]),n}(p.PureComponent);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}W.defaultProps={isShow:!1,direction:["up","down"]};var q=(Z=D(),(0,v.Z)(Q=Z((G=z=function(e){s()(n,e);var t=H(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).state={isShow:r.props.isShow},r.toggleModal=function(e){r.setState({isShow:"boolean"==typeof e?e:!r.state.isShow})},r.onMaskClick=e.onMaskClick||function(){r.toggleModal(!1)},r}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.hasMask,n=e.children,r=e.id,i=e.popup,o=e.setPopupClass,a=e.fade,c=e.setFadeClass,s=e.setMaskClass,u=e.modalClassName,l=e.ModalStyle,f=this.state,d=f.isShow,p={visibility:f.hidden?"hidden":"visible"},h=d?{}:{opacity:0};return g().createPortal(m().createElement("div",{id:r,className:"as-modal-container ".concat(u),style:p},i&&m().createElement(M,{isShow:d,setPopupClass:o,ModalStyle:l},n),a&&m().createElement(W,{isShow:d,direction:a,setFadeClass:c},n),m().createElement(R,{id:"".concat(r,"-mask"),style:h,isShow:t&&d,setMaskClass:s,onClick:this.onMaskClick})),document.getElementById("main"))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isShow!==t.isShow?{isShow:e.isShow}:null}}]),n}(p.PureComponent),z.defaultProps={id:"",modalClassName:"",isShow:!0,hasMask:!0,popup:!1,fade:!1,ModalStyle:{}},Q=G))||Q)||Q)},45976:function(e,t,n){"use strict";n.d(t,{Z:function(){return fe}});var r=n(48926),i=n.n(r),o=n(34575),a=n.n(o),c=n(93913),s=n.n(c),u=n(16525),l=n.n(u),f=n(2205),d=n.n(f),p=n(78585),m=n.n(p),h=n(29754),g=n.n(h),v=n(87757),y=n.n(v),b=n(67294),w=n.n(b),k=n(31783),I=n(9164),S=n(80558),P=n(99433),A=n(36792),C=n(66197);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}n(17964);var O="data:image/jpeg;base64,",D=1,x=2,_=function(e){d()(n,e);var t=E(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={show:!1,isUp:!1},r.animating=!1,r}return s()(n,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.isClientEnv&&!this.animating&&(e.show&&!this.props.show?(this.animating=!0,this.setState({show:!0},(function(){window.setTimeout((function(){t.setState({isUp:!0}),t.animating=!1}),100)}))):!e.show&&this.props.show&&(this.animating=!0,this.setState({isUp:!1}),window.setTimeout((function(){t.setState({show:!1}),t.animating=!1}),100)))}},{key:"render",value:function(){var e=this;return w().createElement("div",{id:this.viewID,style:{display:this.state.show?"":"none"},className:"base-image-selector"},w().createElement("div",{className:this.state.isUp?"bis-select-image-slide-up bis-select-image":"bis-select-image"},w().createElement("div",{className:"bis-select-image-type"},w().createElement("p",{id:"".concat(this.viewID,"-camera"),className:"bis-from-camera",onClick:function(){e.selectImageFromCamera()}},"拍照"),w().createElement("p",{id:"".concat(this.viewID,"-album"),className:"bis-from-album",onClick:function(){e.selectImageFromAlbum()}},"从相册选择")),w().createElement("div",{id:"".concat(this.viewID,"-cancel"),className:"bis-select-cancel",onClick:function(){e.hide()}},"取消")),w().createElement("div",{className:"bis-select-image-mask",onClick:function(){e.hide()}}))}},{key:"hide",value:function(){this.props.onClose&&this.props.onClose()}},{key:"selectImageFromCamera",value:function(){this.selectImage(D),this.hide()}},{key:"selectImageFromAlbum",value:function(){this.selectImage(x),this.hide()}},{key:"selectImage",value:function(e){var t=this,n={source:e},r=this.platform.platform===P.iw.PddIOS,i=r?"4.79.0":"4.85.0",o=(0,P.yC)(this.platform.version,i)>=0;r&&this.props.option&&(n.option=this.props.option),o&&(n.max_images_count=this.props.maxImageCount);var a=o?"getV2":"get";(0,A.Q6)("JSPhoto",a,n).then((function(e){if((e=e||{}).image_data){var n=e.image_data,r="".concat(O).concat(n);return t.props.onSelectStart&&t.props.onSelectStart(),void(t.props.onSelected&&t.props.onSelected(r))}if(e.image_list){if(!e.image_list.length)return t.props.onSelectFail&&t.props.onSelectFail();e.image_list.reduce((function(e,n){return e.then((function(){return t.props.onSelectStart&&t.props.onSelectStart(),t.props.onSelected&&t.props.onSelected("".concat(O).concat(n))}))}),Promise.resolve())}})).catch((function(){t.props.onSelectCancel&&t.props.onSelectCancel()}))}}]),n}(S.Z);_.defaultProps={onSelected:null,onSelectStart:null,onSelectCancel:null,onSelectFail:function(){return(0,C.Z)("图片上传失败")},onClose:null,option:null};var L=_,R=n(5815),B=n(97792),M=n(86951),N=n(11191),U=n(63038),j=n.n(U),T=n(67674),F=n(65077),Z=n(24684),Q=n(26242),z=n(59385),G=n(72876),W=n(38533),H="gR7GvOK9",q="_0t3vde8G",V="BoNl80w0",X="_5DOARM9K",J="mOSWqvE7",Y="MOOsVdoK",K="Gd8Inc3b",$=1,ee=2,te="data:image/jpeg;base64,",ne=(0,W.zT)(),re=(0,T.Pi)((function(e){var t=e.onClose,n=e.image,r=e.option,i=e.maxImageCount,o=e.onSelectStart,a=e.onSelectFail,c=e.onSelectCancel,s=e.onSelected,u=e.onSelectImage,l=e.inputId,f=(0,b.useState)(!1),d=j()(f,2),p=d[0],m=d[1],h=(0,b.useRef)(null);(0,b.useEffect)((function(){setTimeout((function(){return m(!0)}),0),h.current&&(0,F.XY)(h.current)}));var g=ne.isNativePlatform,v=function(e){var t={source:e},n=ne.platform===P.iw.PddIOS,u=n?"4.79.0":"4.85.0",l=(0,P.yC)(ne.version,u)>=0;n&&r&&(t.option=r),l&&(t.max_images_count=i);var f=l?"getV2":"get";(0,A.Q6)("JSPhoto",f,t).then((function(e){if((e=e||{}).image_data){var t=e.image_data,n="".concat(te).concat(t);return o&&o(),void(s&&s(n))}if(e.image_list){if(!e.image_list.length)return a&&a();e.image_list.reduce((function(e,t){return e.then((function(){return o&&o(),s&&s("".concat(te).concat(t))}))}),Promise.resolve())}})).catch((function(){c&&c()}))};return w().createElement(G.Z,{disableScroll:!0,contentCls:H,show:p,closePop:t,title:"请参考示例图上传凭证"},w().createElement("div",{ref:h,className:q},w().createElement(z.Z,{className:V,src:n})),w().createElement("div",{className:X},g?w().createElement(w().Fragment,null,w().createElement(Z.Z,{trackingInfo:{page_el_sn:6857791}},w().createElement("div",{className:J,onClick:function(){(0,Q.g)({op:"click",page_el_sn:6857791}),v(ee)}},"从相册选择")),w().createElement("div",{className:Y,onClick:function(){(0,Q.g)({op:"click",page_el_sn:6857792}),v($)}},"拍照")):w().createElement("div",{className:K,onClick:function(){var e=document.getElementById(l);e?e.click():u&&u()}},"上传凭证")))})),ie=(0,b.memo)(re);function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var ae="请选择jpeg、png格式的图片",ce="请检查网络，稍候重试",se="图片上传失败",ue={},le=function(e){d()(n,e);var t=oe(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).onSelectImage=function(){var e=r.props,t=e.demoImageList;if(e.needProof&&null!=t&&t.length){if(!r.state.showProofPop)return void r.setState({showProofPop:!0});r.setState({showProofPop:!1})}r.state.useWeixinJsBridge?r.selectImageInWxMiniProgram():r.onSelectNativeImage()},r.state=r.state||{},r.state.imageInfoList=Array.isArray(e.imageInfoList)?e.imageInfoList:[],r.state.uploadProgressMap={},r.state.showSelector=!1,r.state.useWeixinJsBridge=!1,r.state.showProofPop=!1,r.core=null,r.maximum=parseInt(e.maximum||5,10),r.imageSelectorOption=r.props.imageSelectorOption||"",r.imageTargetSize=e.imageTargetSize||300,r.imageLimitSize=e.imageLimitSize||null,r.bucketTag=e.bucketTag||null,r.disabled=!1,r.onInputChange=null,r}return s()(n,[{key:"initImageInfoList",value:function(){var e=[],t={},n=this.state.imageInfoList;return n.forEach((function(n,r){var i="img-".concat(r+1);e.push(i),n.key=i,t[i]=n})),{keyList:e,imageMap:t,seed:n.length+1,useXHR:!!this.props.enableUploadProgress}}},{key:"componentWillMount",value:function(){if(l()(g()(n.prototype),"componentWillMount",this).call(this),this.isClientEnv){var e=this.platform,t=e.isNativePlatform,r=e.isWeChatMiniProgram,i=e.version;this.isNativePlatform=t,this.isWeChatMiniProgram=r,this.isPhotoDisabled=this.isNativePlatform&&this.platform.statisfy(["1.2.6","1.2.7","1.2.8"],"","contains");var o=i;this.isNativePlatform&&o.length>0&&(0,P.yC)(o,"1.1.2")>0&&(this.canSelectInNative=!0);var a=this.initImageInfoList();this.core=new R.Z(a)}}},{key:"componentDidMount",value:function(){l()(g()(n.prototype),"componentDidMount",this).call(this),this.core.load({bucketTag:this.bucketTag,context:this,callbackMap:{onLoad:this.onImageLoad,onEncode:this.onImageEncode,onUpload:this.onImageUpload,onUploadProgress:this.onUploadProgress.bind(this),onSuccess:this.onUploadSuccess,onFail:this.onUploadFail},fileHttpsTester:this.props.fileHttps,useXHR:this.props.enableUploadProgress}),this.isWeChatMiniProgram?this.setState({useWeixinJsBridge:!0}):this.resetInput(),this.props.autoImageUploader&&this.onSelectImage()}},{key:"componentDidUpdate",value:function(e,t){t.useWeixinJsBridge&&!this.state.useWeixinJsBridge&&this.resetInput()}},{key:"render",value:function(){var e=this,t=this.state,n=t.imageInfoList,r=void 0===n?[]:n,i=t.useWeixinJsBridge,o=this.props.needProof,a=this.maximum,c=r.length>=a?{display:"none"}:{};return w().createElement("div",{id:this.viewID,className:"image-uploader-module"},this.renderCubes(r),w().createElement("div",{id:"".concat(this.viewID,"-selector"),onClick:function(t){e.onSelectImage()},className:"ium-selector ium-cube ium-cube-last-in-line ".concat(o?"input-hide":""),style:c},w().createElement("div",{id:"".concat(this.viewID,"-indicator"),className:"ium-indicator"},w().createElement("div",{className:"ium-indicator-icon icon icon-evaluation-camera"}),0===r.length&&w().createElement("div",{className:"ium-indicator-text"},this.props.indicatorText?this.props.indicatorText:"上传图片"),r.length>0&&w().createElement("div",{className:"ium-indicator-text"},r.length,w().createElement("i",null,"/"),a)),!this.isNativePlatform&&!i&&w().createElement("input",{onClick:function(e){return e.stopPropagation()},id:"".concat(this.viewID,"-input"),accept:"image/*",type:"file",defaultValue:""})),this.renderImageSelector(a-r.length),this.renderProofPop())}},{key:"renderProofPop",value:function(){var e=this,t=this.props,n=t.demoImageList;if(!t.needProof||!this.state.showProofPop)return null;var r=this.core.nativeReceiver,i=this.state.imageInfoList,o=void 0===i?[]:i;return w().createElement(ie,{inputId:"".concat(this.viewID,"-input"),image:n[0],onClose:function(){e.setState({showProofPop:!1})},onSelectImage:this.onSelectImage,option:this.imageSelectorOption,maxImageCount:this.maximum-o.length,onSelected:function(t){return e.setState({showProofPop:!1}),r.onSelected(t)},onSelectStart:function(){r.onSelectStart()},onSelectCancel:function(){r.onSelectCancel()}})}},{key:"renderCubes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.state.uploadProgressMap,r=this.props.enableUploadProgress;return t.map((function(t,i){return t=t||{},w().createElement("div",{key:i,className:"ium-image-block ium-cube",onClick:function(){e.viewImageList(t)}},!!t.url&&e.renderImgCube(t),!!(r&&t.status<5)&&w().createElement("div",{className:"ium-progress-block"},w().createElement("div",{style:{width:"".concat(n[t.url],"%")}})),!r&&5!==t.status&&w().createElement("div",{className:"ium-tip-block"},"上传中"),w().createElement("div",{className:"ium-delete icon icon-close",onClick:function(n){e.deleteInfo(t,n)}}))}))}},{key:"renderImgCube",value:function(e){var t=this.getRotationDegree(e.exifOrientation);return this.platform.platform===P.iw.PddAndroid||this.isWeChatMiniProgram?w().createElement(I.Z,{src:e.url,style:{WebkitTransform:"rotate(".concat(t,"deg)"),transform:"rotate(".concat(t,"deg)")}}):w().createElement("div",{className:"image-box",style:{backgroundImage:"url(".concat(e.url,")"),backgroundSize:"cover",backgroundPosition:"center",WebkitTransform:"rotate(".concat(t,"deg)"),transform:"rotate(".concat(t,"deg)")}})}},{key:"onSelectNativeImage",value:function(){this.disabled||(this.isPhotoDisabled?alert("请升级软件"):this.selectImageInNative())}},{key:"deleteInfo",value:function(e,t){(t=t||event)&&t.preventDefault(),t&&t.stopPropagation(),this.disabled||this.removeImage(e)}},{key:"viewImageList",value:function(e,t){if((t=t||event)&&t.preventDefault(),t&&t.stopPropagation(),!this.disabled){var n=this.getImageWebURLs()||[];if(n.length>0){var r=(e=e||{}).webURL;r&&(0,k.m)(r||n[0],n,{ViewNotWechatInteraface:this.isNativePlatform})}}}},{key:"getImages",value:function(){return this.core.getImages()}},{key:"getImageCount",value:function(){return this.core.keyList.length}},{key:"getImageWebURLs",value:function(){return this.core.getImageProperties("webURL","")}},{key:"getImageWebInfo",value:function(){return this.core.getImageProperties({url:"webURL",height:"height",width:"width"})}},{key:"isAllImageReady",value:function(){return this.core.isAllImageReady()}},{key:"waitForAll",value:function(e){this.core.waitForAll(e)}},{key:"resetInput",value:function(){var e=this,t=document.getElementById("".concat(this.viewID,"-input"));t&&(t.outerHTML=t.outerHTML.replace(/(value=\").+\"/i,'$1"'),t=document.getElementById("".concat(this.viewID,"-input")),this.isNativePlatform||(this.onInputChange&&(t.removeEventListener("change",this.onInputChange),this.onInputChange=null),this.onInputChange=function(){var n=i()(y().mark((function n(r){var i;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.disabled){n.next=2;break}return n.abrupt("return");case 2:if(t.files&&t.files[0]){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,e.core.loadImageByFile(t.files[0]);case 6:(i=n.sent)?(e.core.process(i),e.resetInput()):(0,C.Z)(ae);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),t.addEventListener("change",this.onInputChange)))}},{key:"onImageLoad",value:function(e){ue[e.url]?ue[e.url]=void 0:this.setState({imageInfoList:this.state.imageInfoList.concat([e])})}},{key:"onImageEncode",value:function(e){}},{key:"onImageUpload",value:function(e){}},{key:"onUploadSuccess",value:function(e){this.updateImage(e)}},{key:"onUploadFail",value:function(e,t){var n=this,r="";r=!(t=t||{}).errorCode||t instanceof ProgressEvent?ce:(0,B.fY)(t.errorCode)||se,(0,C.Z)(r),ue[e.url]=!0,setTimeout((function(){n.removeImage(e)}),200),(0,M.OO)(new N.Z(90001,e.url),{message:JSON.stringify(t),code:t.errorCode})}},{key:"removeImage",value:function(e){for(var t=this,n=this.state.imageInfoList||[],r=0,i=n.length;r<i;r++)if(n[r].key===e.key)return n.splice(r,1),void this.setState({imageInfoList:n},(function(){t.core.remove(e)}))}},{key:"updateImage",value:function(e){for(var t=this.state.imageInfoList||[],n=0,r=t.length;n<r;n++)if(t[n].key===e.key)return t[n].status=e.status,t[n].webURL=e.webURL,t[n].exifOrientation=e.exifOrientation,void this.setState({imageInfoList:t})}},{key:"disable",value:function(){this.disable=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"renderImageSelector",value:function(e){var t=this;if(this.canSelectInNative){var n=this.core.nativeReceiver;return w().createElement(L,{viewID:"".concat(this.viewID,"-native-selector"),viewCtx:this.viewCtx,option:this.imageSelectorOption,show:this.state.showSelector,maxImageCount:e,onSelected:function(e){return n.onSelected(e)},onSelectStart:function(){n.onSelectStart()},onSelectCancel:function(){n.onSelectCancel()},onClose:function(){t.setState({showSelector:!1})}})}return!1}},{key:"selectImageInNative",value:function(){this.setState({showSelector:!0})}},{key:"onWxAppUploadFail",value:function(e){this.setState({useWeixinJsBridge:!1})}},{key:"selectImageInWxMiniProgram",value:function(){var e=this,t=this.state.imageInfoList,n=void 0===t?[]:t,r=this.core.nativeReceiver;window.wx&&window.wx.chooseImage({count:this.maximum-n.length,success:function(t){(t.localIds||[]).reduce((function(t,n){return t.then((function(){return r.onSelectStart(),e.getWxMiniProgramImageData(n).then((function(e){return r.onSelected(e)})).catch((function(t){r.onSelectCancel(),e.onWxAppUploadFail(t)}))}))}),Promise.resolve())},fail:function(t){e.onWxAppUploadFail(t)}})}},{key:"getWxMiniProgramImageData",value:function(e){return new Promise((function(t,n){window.wx&&window.wx.getLocalImgData({localId:e,success:function(e){var n=e.localData;/^\s*data:image/.test(n)||(n="data:image/jpeg;base64,".concat(n)),n=n.replace("image/jpg","image/jpeg"),t(n)},fail:function(e){n(e)}})}))}},{key:"getRotationDegree",value:function(e){var t=0;switch(e){case 6:t=90;break;case 8:t=-90;break;case 3:t=180}return t}},{key:"onUploadProgress",value:function(e,t){var n=this.state.uploadProgressMap;n[e]=100*t.loaded/t.total,this.setState({uploadProgressMap:n})}}]),n}(S.Z),fe=le},72876:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(59713),i=n.n(r),o=n(63038),a=n.n(o),c=n(67294),s=n.n(c),u=n(94184),l=n.n(u),f=n(24684),d=n(65077),p=n(99433),m=n(79859),h="VUohPrkc",g="biqWChg9",v="lDbPSgIz",y="yZOmurwT",b="_379qwrmu",w="_43Zu-x3C",k=(0,m.eF)(),I=function(e){var t,n=e.show,r=e.children,o=e.closePop,u=e.contentCls,m=e.metricInfo,I=e.fixInput,S=e.disableScroll,P=e.title,A=e.noTransform,C=e.noClose,E=(0,c.useState)({}),O=a()(E,2),D=O[0],x=O[1],_=(0,c.useRef)(null);(0,c.useEffect)((function(){if(I&&k.system===p.we.Android){var e=document.body.clientHeight;window.addEventListener("resize",(function(){var t=e-document.body.clientHeight;x(t>0?{bottom:"-".concat(t-100,"px")}:{})}))}if(S&&_.current)return(0,d.XY)(_.current),function(){return(0,d.K9)()}}),[]);return s().createElement(s().Fragment,null,function(){if(n){var e=s().createElement("div",{className:h,onClick:o});return m?s().createElement(f.Z,{trackingInfo:m},e):e}return null}(),s().createElement("div",{ref:_,className:l()(g,u,(t={},i()(t,v,!n),i()(t,y,!A),t)),style:D},!C&&s().createElement("div",{className:b,onClick:o}),P&&s().createElement("div",{className:w},P),r))};I.defaultProps={contentCls:"",metricInfo:null,fixInput:!1,disableScroll:!1,title:"",noTransform:!1,noClose:!1};var S=s().memo(I)},17964:function(e,t,n){"use strict";n.r(t);var r=n(93379),i=n.n(r),o=n(83039),a={insert:"head",singleton:!1};i()(o.Z,a);t.default=o.Z.locals||{}},83039:function(e,t,n){"use strict";var r=n(23645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".base-image-selector .bis-select-image{background:transparent;bottom:0;color:#0079ff;font-size:.18rem;left:0;max-width:3.75rem;padding:.1rem;position:fixed;transform:translateY(200%);-webkit-transform:translateY(200%);transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out, -webkit-transform .3s ease-out;-webkit-transition:-webkit-transform .3s ease-out;width:100%;z-index:100002}.base-image-selector .bis-select-image-type{background-color:#fff;border-radius:.03rem;-webkit-border-radius:.03rem;text-align:center;width:100%}.base-image-selector .bis-select-image-type p{padding:.1rem 0}.base-image-selector .bis-select-cancel{background-color:#fff;border-radius:.03rem;-webkit-border-radius:.03rem;margin-top:.1rem;padding:.1rem 0;text-align:center;width:100%}.base-image-selector .bis-select-cancel:active{background-color:#dfdfdf;border-radius:.03rem;-webkit-border-radius:.03rem}.base-image-selector .bis-select-image-mask{background-color:#000;bottom:50%;filter:alpha(opacity=50);height:400%;left:0;opacity:.5;position:fixed;-webkit-transform:translateY(50%);transform:translateY(50%);transition:background .3s ease-out;-webkit-transition:background .3s ease-out;width:100%;z-index:100001}.base-image-selector .bis-select-image-slide-up{transform:translate(0);-webkit-transform:translate(0)}.base-image-selector .bis-from-camera{border-bottom:1px solid #dfdfdf}.base-image-selector .bis-from-camera:active{background-color:#dfdfdf;border-top-left-radius:.03rem;-webkit-border-top-left-radius:.03rem;border-top-right-radius:.03rem;-webkit-border-top-right-radius:.03rem}.base-image-selector .bis-from-album:active{-webkit-bottom-top-left-radius:.03rem;-webkit-bottom-top-right-radius:.03rem;background-color:#dfdfdf;border-bottom-left-radius:.03rem;border-bottom-right-radius:.03rem}",""]),t.Z=i},50779:function(e,t,n){"use strict";var r=n(23645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,'.pdd-lazy-image{min-height:1px;min-width:1px}.pdd-lazy-image:not([src]),.pdd-lazy-image[src=""]{content:url("data:image/jpeg;base64,R0lGODlhAQABAIABAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAICTAEAOw==")}',""]),t.Z=i},52732:function(e,t,n){var r,i,o;function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(){"use strict";var e=!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),t="IntersectionObserver"in window,n="classList"in document.createElement("p"),r={elements_selector:"img",container:document,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},i=function(e,t){var n,r=new e(t);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:r}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:r})}window.dispatchEvent(n)},o=function(e,t){return e.getAttribute("data-"+t)},c=function(e,t,n){var r="data-"+t;null!==n?e.setAttribute(r,n):e.removeAttribute(r)},s=function(e){return"true"===o(e,"was-processed")},u=function(e,t){return c(e,"ll-timeout",t)},l=function(e){return o(e,"ll-timeout")},f=function(e,t){e&&e(t)},d=function(e,t){e._loadingCount+=t,0===e._elements.length&&0===e._loadingCount&&f(e._settings.callback_finish)},p=function(e){for(var t,n=[],r=0;t=e.children[r];r+=1)"SOURCE"===t.tagName&&n.push(t);return n},m=function(e,t,n){n&&e.setAttribute(t,n)},h=function(e,t){m(e,"sizes",o(e,t.data_sizes)),m(e,"srcset",o(e,t.data_srcset)),m(e,"src",o(e,t.data_src))},g={IMG:function(e,t){var n=e.parentNode;n&&"PICTURE"===n.tagName&&p(n).forEach((function(e){h(e,t)})),h(e,t)},IFRAME:function(e,t){m(e,"src",o(e,t.data_src))},VIDEO:function(e,t){p(e).forEach((function(e){m(e,"src",o(e,t.data_src))})),m(e,"src",o(e,t.data_src)),e.load()}},v=function(e,t){n?e.classList.add(t):e.className+=(e.className?" ":"")+t},y=function(e,t,n){e.addEventListener(t,n)},b=function(e,t,n){e.removeEventListener(t,n)},w=function(e,t,n){b(e,"load",t),b(e,"loadeddata",t),b(e,"error",n)},k=function(e,t,r){var i=r._settings,o=t?i.class_loaded:i.class_error,a=t?i.callback_loaded:i.callback_error,c=e.target;!function(e,t){n?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}(c,i.class_loading),v(c,o),f(a,c),d(r,-1)},I=["IMG","IFRAME","VIDEO"],S=function(e,t){var n=t._observer;A(e,t),n&&t._settings.auto_unobserve&&n.unobserve(e)},P=function(e){var t=l(e);t&&(clearTimeout(t),u(e,null))},A=function(e,t,n){var r=t._settings;!n&&s(e)||(I.indexOf(e.tagName)>-1&&(function(e,t){var n=function n(i){k(i,!0,t),w(e,n,r)},r=function r(i){k(i,!1,t),w(e,n,r)};!function(e,t,n){y(e,"load",t),y(e,"loadeddata",t),y(e,"error",n)}(e,n,r)}(e,t),v(e,r.class_loading)),function(e,t){var n,r,i=t._settings,a=e.tagName,c=g[a];if(c)return c(e,i),d(t,1),void(t._elements=(n=t._elements,r=e,n.filter((function(e){return e!==r}))));!function(e,t){var n=o(e,t.data_src),r=o(e,t.data_bg);n&&(e.style.backgroundImage='url("'.concat(n,'")')),r&&(e.style.backgroundImage=r)}(e,i)}(e,t),function(e){c(e,"was-processed","true")}(e),f(r.callback_reveal,e),f(r.callback_set,e))},C=function(e){return!!t&&(e._observer=new IntersectionObserver((function(t){t.forEach((function(t){return function(e){return e.isIntersecting||e.intersectionRatio>0}(t)?function(e,t){var n=t._settings;f(n.callback_enter,e),n.load_delay?function(e,t){var n=t._settings.load_delay,r=l(e);r||(r=setTimeout((function(){S(e,t),P(e)}),n),u(e,r))}(e,t):S(e,t)}(t.target,e):function(e,t){var n=t._settings;f(n.callback_exit,e),n.load_delay&&P(e)}(t.target,e)}))}),{root:(n=e._settings).container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"}),!0);var n},E=["IMG","IFRAME"],O=function(e,t){return function(e){return e.filter((function(e){return!s(e)}))}((n=e||function(e){return e.container.querySelectorAll(e.elements_selector)}(t),Array.prototype.slice.call(n)));var n},D=function(e,t){this._settings=function(e){return a({},r,e)}(e),this._loadingCount=0,C(this),this.update(t)};return D.prototype={update:function(t){var n,r=this,i=this._settings;this._elements=O(t,i),!e&&this._observer?(function(e){return e.use_native&&"loading"in HTMLImageElement.prototype}(i)&&((n=this)._elements.forEach((function(e){-1!==E.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),A(e,n))})),this._elements=O(t,i)),this._elements.forEach((function(e){r._observer.observe(e)}))):this.loadAll()},destroy:function(){var e=this;this._observer&&(this._elements.forEach((function(t){e._observer.unobserve(t)})),this._observer=null),this._elements=null,this._settings=null},load:function(e,t){A(e,this,t)},loadAll:function(){var e=this;this._elements.forEach((function(t){S(t,e)}))}},function(e,t){if(t)if(t.length)for(var n,r=0;n=t[r];r+=1)i(e,n);else i(e,t)}(D,window.lazyLoadOptions),D},"object"===c(t)?e.exports=o():void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-aftersale/js/loadable_ComplaintImgUploader_918e595012e8557eb763.js.map