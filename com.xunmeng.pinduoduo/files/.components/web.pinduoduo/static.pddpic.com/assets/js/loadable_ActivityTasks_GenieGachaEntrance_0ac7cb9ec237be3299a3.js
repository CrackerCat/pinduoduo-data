(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[22],{"5GaI":function(e,t,n){"use strict";n.r(t);var a=n("J4zp"),o=n.n(a),c=n("q1tI"),i=n.n(c),r=n("TyAF"),s=n("Vpw8"),l=n("HIPb"),u=n("O2NP"),d=n("mFSr"),p=n("DCTZ"),m=n("N4rI"),f=n("kLkQ"),b=n("zRTd"),_=n("/WLQ"),g=n("yXPU"),v=n.n(g),E=n("o0o1"),O=n.n(E),h=n("eQJp"),y=n("FoiV"),S=n("rXWB"),j=Object(s.a)(r.observer)((function(e){var t=Object(u.k)().store,n=t.activityTaskStore,a=t.query,o=n.missionTypeMap,r=n.requestCompleteGenieMission,s=n.refreshPendantInfo,l=n.showGenieGachaDialog,d=o[y.d.BROWSE]||{},p=d.completeSeconds,m=d.missionId,b=d.finishCount,_=Object(u.e)(Object(c.useCallback)(v()(O.a.mark((function e(){var t,o,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(m);case 2:return o=e.sent,c=n.missionTypeMap[y.d.BUY]||{},i=c.status,null!=o&&null!==(t=o.result)&&void 0!==t&&t.finish&&(Object(f.n)(null==a?void 0:a.list_id,S.b),i===y.c.UNDONE&&l(S.a.BuyGuide)),e.next=7,Object(f.o)(1e3);case 7:s();case 8:case"end":return e.stop()}}),e)}))),[])),g={bizKey:"genieGachaBrowse-".concat(b),completeSeconds:p,onComplete:_,onUpdateSeconds:e.onUpdateSeconds};return i.a.createElement(h.a,g)})),T=n("BHrB"),w=n.n(T);t.default=Object(s.a)(r.observer)((function(){Object(l.a)(w.a);var e=Object(c.useState)(0),t=o()(e,2),n=t[0],a=t[1],r=Object(u.k)().store,s=r.activityTaskStore,g=r.roomId,v=r.query,E=s.missionTypeMap,O=(s.refreshPendantInfo,E[y.d.BROWSE]||{}),h=O.status,T=O.completeSeconds,N=void 0===T?60:T,C=(E[y.d.BUY]||{}).status===y.c.UNDONE,B=h===y.c.UNDONE&&!Object(f.k)(null==v?void 0:v.list_id,S.b);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:w.a.genieEntranceRoot,onClick:function(){Object(b.f)({subType:_.e.Egg}),B?Object(f.p)("浏览".concat(N,"秒即可获得扭蛋1次")):C?Object(m.a)("live_shop_coupon_dialog",{openLiveGoods:!0,room_id:g,lego_data:{goodsListTopHint:"直播间下单可得金币+扭蛋1次"}}):Object(p.a)()}},i.a.createElement(b.b,{subType:_.e.Egg}),i.a.createElement("div",{className:w.a.iconContainer},i.a.createElement(d.a,{src:B||C?"https://promotion.pddpic.com/mobile_live/2065294f-9e56-404d-b73c-8bfc282c9e83.png.slim.png":"https://promotion.pddpic.com/mobile_live/16755e80-fa14-4ed1-9150-bd28ea627598.png.slim.png"}),i.a.createElement("div",{className:w.a.content},B?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:w.a.iconText},"扭蛋",i.a.createElement("br",null),"1次"),i.a.createElement("p",{className:w.a.iconTip},"看".concat(N-n,"秒得"))):C?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:w.a.iconText},"金币+",i.a.createElement("br",null),"扭蛋1次"),i.a.createElement("p",{className:w.a.iconTip},"拼单立得")):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:w.a.iconText},"金币+",i.a.createElement("br",null),"扭蛋1次"),i.a.createElement("p",{className:w.a.iconTip},"立即领取"))))),B&&i.a.createElement(j,{onUpdateSeconds:a}))}))},BHrB:function(e,t,n){var a=n("WER0"),o=n("Q8e5"),c="string"==typeof a?[[e.i,a,""]]:a;(t=e.exports=a.locals||{})._getContent=function(){return c},t._getCss=function(){return""+a},t._insertCss=function(e){return o(c,e)}},WER0:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._1gcu4M8l{width:100%;height:100%;text-align:center}._1xdpMXNR{width:.54rem;margin:0 auto;position:relative}._1KYsd_Yp{width:100%;height:100%;position:absolute;left:0;top:0;padding-top:.1rem}.dI9zcv9n{font-size:.12rem;color:#fffde6;line-height:.14rem}.dI9zcv9n,.nZyA0AL-{font-family:PingFangSC-Medium,PingFang SC,PingFangSC-Regular,STHeiti STXihei,Microsoft YaHei,Microsoft JhengHei,miui;font-weight:700;font-weight:500}.nZyA0AL-{color:#ad430d;font-size:.11rem;margin-top:.01rem}",""]),t.locals={genieEntranceRoot:"_1gcu4M8l",iconContainer:"_1xdpMXNR",content:"_1KYsd_Yp",iconText:"dI9zcv9n",iconTip:"nZyA0AL-"}},eQJp:function(e,t,n){"use strict";var a=n("yXPU"),o=n.n(a),c=n("J4zp"),i=n.n(c),r=n("o0o1"),s=n.n(r),l=n("q1tI"),u=n("TyAF"),d=n("Vpw8"),p=n("O2NP"),m=n("yo/L"),f=n("hA9s"),b=function(e){var t=e.bizKey,n=e.completeSeconds,a=e.onComplete,c=e.onUpdateSeconds,r="LiveOuterTaskWatchedSeconds_"+t,u=(Object(p.k)().store.query||{}).list_id,d=void 0===u?"":u,b=Object(l.useState)(0),_=i()(b,2),g=_[0],v=_[1],E=Object(l.useState)(null),O=i()(E,2),h=O[0],y=O[1],S=function(e){v(e||0),c(e||0)};return Object(l.useEffect)((function(){if(t)(function(){var e=o()(s.a.mark((function e(){var t,n,a,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(Object(m.c)(r)||"").split("$__split__$"),n=i()(t,2),a=n[0],o=n[1],c=void 0===o?0:o,a&&d===a&&S(parseInt(c)||0),y(1e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();else if(f.b)throw new Error("BrowseCountdown的bizKey不能为空！")}),[]),Object(p.d)((function(){var e=g+1;Object(m.f)(r,"".concat(d).concat("$__split__$").concat(e)),S(e),e>=n&&(y(null),a(),Object(m.a)(r))}),h),null};b.defaultProps={completeSeconds:31536e3,onComplete:function(){},onUpdateSeconds:function(){}},t.a=Object(d.a)(u.observer)(b)},rXWB:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var a={BrowseGuide:1,BuyGuide:2},o="LiveOuterTask_GenieGachaBrowserCompleteKey"}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_ActivityTasks_GenieGachaEntrance_0ac7cb9ec237be3299a3.js.map