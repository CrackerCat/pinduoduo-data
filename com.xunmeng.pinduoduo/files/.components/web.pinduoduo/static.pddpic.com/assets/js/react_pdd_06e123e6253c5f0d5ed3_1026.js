(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[0],{"+aNZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n("cDf5"),a=n.n(r),o=n("F19C"),i=n("uSI5");function c(e){Object(o.a)(!!e,"nullJson"),Object(o.a)("string"==typeof e.salt&&e.salt.startsWith("cp"),"abFormatInvalidSalt"),Object(o.a)("number"==typeof e.bucketCount,"abFormatInvalidBucketCount"),Object(o.a)(!!e.models&&"object"===a()(e.models),"abFormatInvalidModels")}var s={Default:function(e){return e},ABTest:{normal:function(e,t){var n=(t=t||{}).identity?t.identity.uid:0,r=null;try{r="string"==typeof e?JSON.parse(e):e}catch(e){throw new Error("invalidJsonFormat1")}return c(r),i.a.getTestStrategy(r,n,!1)},fallback:function(e){var t=null;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){throw new Error("invalidJsonFormat2")}else t=e;return c(t),Object.keys(t.models).forEach((function(e){t.models[e]={blackList:[],whiteList:[],buckets:t.models[e].buckets}})),t}}};function u(e){var t=e.leoKey,n=e.formatter,r=e.csrFallback,i=s.Default;if("object"===a()(n)&&n){var c="function"==typeof n.normal,u="function"==typeof n.fallback;Object(o.a)(c&&u,"[leoKey=".concat(t,"'] both normal and fallback methods needed")),i=r?n.fallback:n.normal}else"function"==typeof n&&(i=n);return i}},"+bH0":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("o0o1"),a=n.n(r),o=n("yXPU"),i=n.n(o),c="undefined"!=typeof window,s=null;function u(e){return l.apply(this,arguments)}function l(){return(l=i()(a.a.mark((function e(t){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Promise.resolve().then(n.bind(null,"rx36"));case 4:if(r=e.sent,o=r.default,s||!t){e.next=10;break}return e.next=9,t.get("api/server/_stm",{defaultErrorHandler:function(){}}).then((function(e){return e.server_time})).catch((function(){return 0})).then((function(e){return new o({serverTime:e})}));case 9:s=e.sent;case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"+j3k":function(e,t,n){var r=n("5E9K"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},"+vUh":function(e,t,n){e.exports={icon:"_1PJkHLAg",back:"_16nNUClS"}},"+wjZ":function(e,t,n){var r=n("YlAs"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},"/++w":function(e,t,n){e.exports={yellowLabelListWrap:"_9kqdzMX6",yellowLabelWrap:"_124NkzTI",listItem:"QAFjCy2I",yellowLabel:"_19oXnsrZ",yellowLabelOC:"WbesAh-B",countDown:"_40JBw-jd",skuSelectorHeadContent:"_1fYHEBIC",skuSelectorHeadContentOC:"_3P4E5ia9",skuSelectorPrice:"_2mtFnR8B",skuSelectorPriceOC:"IvhjY_HV",skuQuantityPriceDesc:"_27FaiT3N",isNewPriceArea:"Cccuw03n",startHide:"C68J1BqP",toHide:"_2NCyKoqd",startDisplay:"_1cpcC5_k",toDisplay:"_1k8KGuTw"}},"/Dp6":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2tlQjtVP{position:relative;color:#9c9c9c;height:.48rem;font-weight:400;line-height:normal;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}",""]),t.locals={root:"_2tlQjtVP"}},"/f7M":function(e,t,n){var r=n("77Gi"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},"/jjR":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("pVnL"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("QILm"),s=n.n(c),u=n("q1tI"),l=n.n(u),d=(n("17x9"),n("JUuB")),p=n("ez7s"),f=n("GftL"),m={resizeWidth:1300,quality:80,strip:!0};function h(e){var t=e.lazy,n=e.src,r=e.processParam,o=s()(e,["lazy","src","processParam"]),c=i()(i()({},m),r),u=t?d.a:f.a;return l.a.createElement(u,a()({},o,{src:Object(p.b)(n,c)}))}h.defaultProps={lazy:!0}},"/vAr":function(e,t,n){},"/zLV":function(e,t,n){},"037P":function(e,t,n){"use strict";var r,a=n("b8gg"),o=n("FhbG"),i=n("sFJH");function c(){return r||(r=new a.a(function(){var e=window.__CDN_IMG__;if(window.hasOwnProperty("__CDN_IMG__")&&!Object(o.a)(e)){var t="cui-image: window.".concat("__CDN_IMG__","的数据不合法");Object(i.a)({errorMsg:t,payload:{value:e},error:new Error(t)})}return e}())),r}n.d(t,"a",(function(){return c}))},"0P1e":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("cDf5"),a=n.n(r),o={unknown:0,wifi:1,"2g":2,"3g":3,"4g":4},i=o.unknown;function c(){return new Promise((function(e){if("object"===("undefined"==typeof window?"undefined":a()(window))&&window.WeixinJSBridge&&window.wx&&window.wx.getNetworkType)return e(new Promise((function(e){window.wx.ready((function(){window.wx.getNetworkType({success:function(t){e(t&&t.networkType)},fail:function(){e("unknown")}})}))})));e("object"===("undefined"==typeof navigator?"undefined":a()(navigator))&&navigator.connection&&navigator.connection.effectiveType)}))}function s(){return c().then((function(e){return o[e]||i}))}},"0U4v":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'._22uO9OKv{padding:.12rem 0 .07rem;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start;-webkit-box-align:start;align-items:flex-start;-webkit-align-items:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;position:relative;border:none!important}._22uO9OKv:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;-webkit-transform-origin:0 0;transform-origin:0 0;pointer-events:none;-webkit-transform:scale(.5);transform:scale(.5);width:200%;box-sizing:border-box;border-bottom:1px solid rgba(0,0,0,.08);border-radius:calc(* 2);height:calc(auto * 2)}.Kke5DTlU{font-size:.11rem;color:#9c9c9c;line-height:.16rem;width:.82rem;margin-left:.03rem}.Kke5DTlU span{font-family:Helvetica;color:#e02e24;font-size:.1rem}._2c3t53WV{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1}._3_PaRVEK{vertical-align:baseline;fill:currentColor;height:.08rem;width:.08rem;margin-left:auto;position:absolute;top:.04rem;right:0;-webkit-transform:rotate(90deg);transform:rotate(90deg);color:#9c9c9c}._38B5sGEb{color:#151516;font-size:.15rem;line-height:.2rem;white-space:pre-wrap;overflow:hidden;height:.18rem;position:relative}._38B5sGEb.NT5tM_uA{height:inherit;line-height:.18rem}.EmlF_gIG{margin-top:.03rem;color:#9c9c9c;line-height:.18rem;height:.16rem;font-size:.12rem;overflow:hidden;white-space:pre-wrap;position:relative}.EmlF_gIG.NT5tM_uA{height:inherit;line-height:.16rem}._2EmCXK1p{word-break:break-all;width:100%;margin-top:-.01rem}._2EmCXK1p._12OWJTlS{width:calc(100% - .1rem)}._2EmCXK1p._2uHK1HfL{margin-top:0}._81xyN7at{-webkit-flex-shrink:0;flex-shrink:0;text-align:right}._3pzSkK1D{font-size:.12rem;line-height:.16rem;color:#9c9c9c;margin-top:.05rem;text-align:right}._2c9NXR7a{margin-top:.04rem;width:.62rem;height:.07rem;background-color:#ffd9d7;border-radius:.05rem;overflow:hidden;margin-left:.12rem}._3Y4Zut2e{max-width:100%;height:100%}._3j_HU7dP,._3Y4Zut2e{background-color:#e02e24}._3j_HU7dP{margin-left:.1rem;width:.72rem;height:.3rem;border-radius:.04rem;color:#fff;font-size:.15rem;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;margin-top:.04rem;-webkit-flex-shrink:0;flex-shrink:0}._3j_HU7dP:active{background-color:#c51e14!important;color:#edbbb8!important}._2bAqgOdr{margin-left:.1rem;min-width:.72rem;text-align:right;-webkit-flex-shrink:0;flex-shrink:0;font-size:.13rem;line-height:.18rem;color:#9c9c9c;white-space:nowrap;height:.37rem;margin-top:.01rem}._3U42oIDi{margin-top:.02rem;margin-right:-.02rem;font-size:.12rem}._3U42oIDi:active{color:#58595b}._2pzr0Ca_{vertical-align:baseline;fill:currentColor;height:.08rem;width:.08rem;margin-left:auto;color:rgba(0,0,0,.15)}._2pzr0Ca_:active{color:#58595b}',""]),t.locals={item:"_22uO9OKv",countTime:"Kke5DTlU",left:"_2c3t53WV",openIcon:"_3_PaRVEK",name:"_38B5sGEb",open:"NT5tM_uA",address:"EmlF_gIG",innerTxt:"_2EmCXK1p",needOpen:"_12OWJTlS",opened:"_2uHK1HfL",middle:"_81xyN7at",sales:"_3pzSkK1D",progress:"_2c9NXR7a",progressRed:"_3Y4Zut2e",btn:"_3j_HU7dP",noSend:"_2bAqgOdr",showRec:"_3U42oIDi",showRecIcon:"_2pzr0Ca_"}},"0XX3":function(e,t,n){e.exports={salesTip:"_2_iAZoMl"}},"0dFz":function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"h",(function(){return y})),n.d(t,"b",(function(){return _}));var r,a=n("cDf5"),o=n.n(a),i=n("J4zp"),c=n.n(i),s=n("qnV/"),u=n("q1tI"),l=n.n(u);r="undefined"!=typeof window&&window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}:function(){};var d={};d.Funcs={Linear:function(e,t,n,r){return n*e/r+t},Cubic:{easeIn:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOut:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},Sine:{easeIn:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOut:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOut:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t}},Quart:{easeIn:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOut:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}}},d.scrollLeftTo=function(e,t,n,r){(n=n||{}).attr="scrollLeft",d.gradualChange(e,t,n,r)},d.gradualChange=function(e,t,n,a){if(e&&void 0!==t){var o=(n=n||{}).fn||d.Funcs.Linear,i=n.wrapValueFn||null,c=n.getValueFn||null,s=n.during||60,u=n.callbackTimeout||0,l=n.inStyle||!1,p=n.stopAdvance||0,f=n.attr;if(f){var m=0,h=0,v=function(){u?a&&setTimeout(a,u):a&&a()};!function n(){m++;var a=0;a="function"==typeof c?c(h):e[f];var u=h=o(m,a,t-a,s);"function"==typeof i&&(u=i(h,m)),l?e.style[f]=u:e[f]=u,m>s-p?v():m<s?r(n):v()}()}else a&&a()}};var p=function(e,t){return t&&t!==document.body?(t.scrollTop=e,t):0===e?(document.body.scrollTop=0,(document.documentElement||{}).scrollTop=0,null):(document.body.scrollTop=e,0!==document.body.scrollTop?document.body:((document.documentElement||{}).scrollTop=e,!(!document.documentElement||0===document.documentElement.scrollTop)&&document.documentElement))},f=function(e){return e&&e!==document.body?e.scrollTop:document.body.scrollTop+((document.documentElement||{}).scrollTop||0)},m=function(e){for(var t=0,n=0;n<e.length;n++)e.charCodeAt(n)<0||e.charCodeAt(n)>255?t+=2:t+=1;return t},h=function(e,t){return t.split(".").reduce((function(e,t){return e[t]}),e)},v=function e(t,n){return Object.entries(n).forEach((function(n){var r=c()(n,2),a=r[0],i=r[1];"object"===o()(i)&&i?t[a]=e(t[a],i):t[a]=i})),t},g=function(e){var t,n=!1;return function(){return n||(t=e.apply(this,arguments),n=!0,t instanceof Promise?t.then((function(e){return n=!1,e})).catch((function(e){throw n=!1,e})):n=!1),t}},y=function(e,t){try{var n,r=document.querySelectorAll("[role=dialog]");return null==r||r.forEach((function(e){e.getAttribute("aria-hidden")||(n=e),null==e||e.setAttribute("aria-hidden",!0)})),null==e||e.setAttribute("role","dialog"),null==e||e.removeAttribute("aria-hidden"),null==e||e.setAttribute("aria-modal",!0),null==e||e.setAttribute("tabindex",-1),(null==t?void 0:t["aria-label"])&&(null==e||e.setAttribute("aria-label",null==t?void 0:t["aria-label"])),e.focus(),function(){var t;null==e||e.setAttribute("aria-hidden",!0),null===(t=n)||void 0===t||t.removeAttribute("aria-hidden")}}catch(e){Object(s.c)(e)}return function(){}},_=function(e){var t=e.dialogId,n=e.ariaLabel,r=Object(u.useRef)();return Object(u.useEffect)((function(){var e;return setTimeout((function(){var a,o;t?a=document.getElementById(t):a=null===(o=r.current)||void 0===o?void 0:o.parentNode;e=a&&y(a,{"aria-label":n})}),1),function(){e&&e()}}),[t,n]),t?null:l.a.createElement("div",{ref:r,style:{display:"none"}})}},"0mK9":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("MVZn"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),s=n.n(c),u=n("RgOI");function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onClose,r=i()(t,["onClose"]);e&&Object(u.a)(a()({onTimeout:n,children:s.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})},r))}},"0y1f":function(e,t,n){e.exports={commonPromotionItem:"_1V2zDwDE",disableWrap:"_4nwFZZmx",promotionButtonDesc:"jrd5e26U",buttonWrap:"_2YSiZbER",btn:"xwJAz4fr",isTakenOut:"_11gcuE83",hasNum:"_1uVJvzmT"}},"0yKJ":function(e,t,n){e.exports={address:"_3dnUJxSF",bottomline:"NvihmHhr",addressLine:"_1UK6XxYu"}},"1/kQ":function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("h3qu"),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a()(this,e),this.cache={},this.ua=t}return i()(e,[{key:"platform",get:function(){return Object(c.f)(this.ua)}},{key:"system",get:function(){return Object(c.g)(this.ua)}},{key:"systemVersion",get:function(){return Object(c.h)(this.ua)}},{key:"version",get:function(){return""}},{key:"isNativePlatform",get:function(){return!1}},{key:"isLiteNativePlatform",get:function(){return!1}},{key:"isTinyNativePlatform",get:function(){return!1}},{key:"isMecoCore",get:function(){return!1}},{key:"isMajiabaoNativePlatform",get:function(){return!1}},{key:"wechatVersion",get:function(){return""}},{key:"wechatPlatform",get:function(){return""}},{key:"isSupportHistoryAPI",get:function(){return!1}},{key:"isPureWeChatPlatform",get:function(){return!1}},{key:"isWeChatMiniProgram",get:function(){return!1}},{key:"isWeChatPlatform",get:function(){return!1}},{key:"isAndroidWeChatPlatform",get:function(){return!1}},{key:"isIOSWeChatPlatform",get:function(){return!1}},{key:"isEmbeddedBrowser",get:function(){return!1}},{key:"isSupportWechatFloatingWindow",get:function(){return!1}},{key:"isShowSMAlertPlatform",get:function(){return!1}},{key:"isQQPlatform",get:function(){return!1}},{key:"isPureQQPlatform",get:function(){return!1}},{key:"isQQMiniProgram",get:function(){return!1}},{key:"isWeiboPlatform",get:function(){return!1}}]),e}();t.a=s},"1Irm":function(e,t,n){"use strict";var r,a=n("o0o1"),o=n.n(a),i=n("yXPU"),c=n.n(i),s=n("MpJ2");r={};var u,l={register:function(e,t){return t?r[e]?(r[e].add(t),Promise.resolve()):(r[e]=new Set,Object(s.f)("JSNotification","register",{name:e}).then((function(){r[e].add(t)}))):Promise.reject(new Error("pinnotification register lack callback param"))},unregister:function(e,t){var n=r[e];n&&n.delete(t)&&!n.size&&(r[e]=null,Object(s.f)("JSNotification","unregister",{name:e}))},message:function(e,t){var n=r[e];null!=n&&n.forEach((function(e){try{e(t)}catch(e){return Promise.reject(e)}}))}};function d(e,t){return p.apply(this,arguments)}function p(){return(p=c()(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.register(t,n);case 2:return e.abrupt("return",(function(){l.unregister(t,n)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return d("onSceneLeave",e)}function m(e){return d("onSceneReturn",e)}function h(e){return d("onPageShow",e)}function v(e,t){return Object(s.f)("JSNotification","send",{name:e,payload:t})}n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return v})),window.pinnotification&&(u=window.pinnotification,console.warn("存在其他版本的pinnotification对象,请检查是否多版本或者存在其他notification包")),window.pinnotification={},Object.defineProperty(window.pinnotification,"message",{value:function(e,t){u&&"function"==typeof u.message&&u.message(e,t),l.message(e,t)},writable:!1})},"1KKG":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=(n("17x9"),n("QILm")),s=n.n(c),u=n("TSYQ"),l=n.n(u),d=n("KaGD"),p=n("CSCl"),f=n("x7kv"),m=n.n(f),h=Object(p.a)("/core-ui/spinner.png");setTimeout((function(){return e=h,void((new Image).src=e);var e}),0);var v=Object(d.a)(m.a)((function(e){var t=e.className,n=e.bigger,r=s()(e,["className","bigger"]);return i.a.createElement("img",a()({src:h},r,{className:l()(m.a.root,t,n&&m.a.bigger)}))})),g=n("MVZn"),y=n.n(g),_=n("sxqM"),b=n.n(_);var k=Object(d.a)(b.a)((function(e){var t=e.className,n=e.style,r=e.bigger,o=e.hideBg,c=s()(e,["className","style","bigger","hideBg"]),u=o?y()({backgroundColor:"transparent"},n):n;return i.a.createElement("div",a()({},c,{style:u,className:l()(b.a.root,t,r&&b.a.bigger)}))}));t.a=function(e){var t=e.style,n=e.className,r=e.children,o=e.hideBg,c=e.ContainerProps,s=e.SpinnerImgProps,u=!!r;return i.a.createElement(k,a()({bigger:u,hideBg:o,style:t,className:n},c),i.a.createElement(v,a()({bigger:u},s)),o?"":r)}},"1R20":function(e,t,n){},"1WeI":function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),o=n("yXPU"),i=n.n(o),c=n("3OdE"),s=n("KoDT");var u=function(e){if(e&&window&&(window.__DOWNLOAD_CONFIG||window.leoConfig&&window.leoConfig.__DOWNLOAD_CONFIG)){return(window.__DOWNLOAD_CONFIG?window.__DOWNLOAD_CONFIG:window.leoConfig.__DOWNLOAD_CONFIG||{})[e]}return null};var l=function(e){var t=c.a.get(location.host),n=Object(s.a)(),r=(e||{}).from_browser;r=parseInt(r,10)||0;var a=(e||{}).use_proxy_way;if(a=parseInt(a,10)||0,n.isIOSWeChatPlatform&&r)return"".concat(location.origin,"/proxy/at");if(a||t.useProxyDomain)return"".concat(location.origin,"/proxy/at");var o=(e||{}).at_host_value||"",i=u("at_host");return o||i||"https://at-ipv6.pinduoduo.com"},d=n("zawQ");var p=function(e,t){var n=(t||{}).pds_scene;if(n)return e===d.a.APK_ACTIVATION?"/c/"+n:"/b/"+n;if(e===d.a.LINK_ACTIVATION){var r=(t||{}).at_path_value,a=u("at_path");return r||a||"/s"}if(e===d.a.APK_ACTIVATION){var o=(t||{}).at_apppath_value,i=u("at_apppath");return o||i||"/p/app"}return e},f=n("mj+i"),m=n("SxTj");function h(e,t){return[].concat(e).filter((function(e){return 0===t.indexOf(e)})).length}var v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object.assign.apply(Object,[{}].concat(t,[{page_id:null,is_back:null,page_sn:null,page_el_sn:null,msgid:null}])),a={};for(var o in r)!r.hasOwnProperty(o)||!h(["refer_share"],o)&&h(["refer"],o)||(a[o]=r[o]);return a},g=n("3sKm"),y=n("AGSb"),_=n("uf4C"),b=n("fkZF");var k=function(){return[Date.now(),Object(b.a)(16)].join("")},w=n("h3qu");var S=function(){var e=c.a.get(location.host),t=Object(s.a)();return t.platform===w.a.WeChat?e.AppID.WeChat:t.platform===w.a.Weibo?e.AppID.Weibo:t.platform===w.a.QQ?t.isNativePlatform?e.AppID.QQ:e.AppID.QQConnect:""};var I=function(){var e=null;try{e=localStorage.getItem("WxCheckPdd")}catch(t){e=null}return null!=e?parseInt(e,10)||0:e};function C(){return(C=i()(a.a.mark((function e(){var t,n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),n=Object(s.a)(),r="",o="",e.prev=4,e.next=7,Object(g.b)();case 7:return r=e.sent,e.next=10,Object(g.c)();case 10:o=e.sent,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:return e.abrupt("return",Object.assign({},Object(_.b)(),{log_id:t,time:t.substring(0,13),app_id:S(),user_id:r,uin:o,platform:n.platform,app_version:n.version,wx_check_pdd:I(),api_uid:Object(y.a)("api_uid"),refer_page_name:Object(_.e)(),refer_page_id:Object(_.c)(),refer_page_sn:Object(_.f)()}));case 16:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}var x=function(){return C.apply(this,arguments)};var P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object.assign.apply(Object,[{}].concat(t)),a=Object(f.g)(location.search),o={},i=["from"];i.forEach((function(e){var t="refer_channel_"+e,n=r[e]||a[e];n&&(o[t]=n)}));var c=["src","campaign","cid","msgid","scene"];c.forEach((function(e){var t="refer_"+e,n=r[e]||a[e];n&&(o[t]=n)}));var s=["refer_share_id","refer_share_uid","refer_share_uin","refer_share_channel","refer_share_form"];return s.forEach((function(e){var t=r[e]||r[e.slice(6)]||a[e]||a[e.slice(6)];t&&(o[e]=t)})),o};function E(){return(E=i()(a.a.mark((function e(){var t,n=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,x();case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t={};case 10:return e.abrupt("return",Object(f.b)(Object.assign({},Object(m.b)(!0),v.apply(void 0,n),P.apply(void 0,n),t)));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var O=function(){return E.apply(this,arguments)};function N(){return(N=i()(a.a.mark((function e(t){var n,r,o,i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=t||{}).downloadParams||{},o=n.activationType||d.a.LINK_ACTIVATION,i="",e.prev=4,e.next=7,O(r);case 7:i=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:return c="".concat(l(r)).concat(p(o,r),"?").concat(i),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}t.a=function(e){return N.apply(this,arguments)}},"1dsc":function(e,t,n){var r=n("P6Z/"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},"1wry":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("QILm"),s=n.n(c),u=n("q1tI"),l=n.n(u),d=(n("17x9"),n("TSYQ")),p=n.n(d),f=n("MVZn"),m=n.n(f),h=n("5FZG"),v=n.n(h);function g(e){var t=e.className,n=e.borderColor,r=e.name,a=e.background,o=(e.textColor,e.style);return l.a.createElement("div",{className:p()(v.a.tag,t),style:m()({background:a,color:e.textColor},o||{})},r,!!n&&l.a.createElement("div",{className:v.a.border,style:{borderColor:n}}))}var y=n("kI5u"),_=n.n(y);t.a=function(e){var t=e.className,n=e.isOfficial,r=void 0!==n&&n,o=s()(e,["className","isOfficial"]);return t=p()(_.a.root,i()({},_.a.official,r),t),l.a.createElement(g,a()({},o,{className:t}))}},"2/+j":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._1o0Z4KRu{position:relative;color:#e02e24;height:.48rem;font-weight:500;line-height:normal;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-weight:700}",""]),t.locals={root:"_1o0Z4KRu"}},"2Pqc":function(e,t,n){e.exports={nameArea:"_207UXmFS",name:"_2FyV2ToV",text:"_25aQu4ow",price:"_18cPPiye",questionIcon:"_nXTc1Jt",questionDialog:"iK0vh05u",question:"_1d2-PSxj"}},"2b+V":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("q1tI"),a=n.n(r),o=n("i8i4"),i=n.n(o);function c(e,t){var r=n("3OsT");i.a.render(a.a.createElement(r.Provider,{value:{insertCss:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return e._insertCss()}));return function(){return r.forEach((function(e){return e()}))}}}},e),t)}},"2xwX":function(e,t,n){"use strict";var r=n("MpJ2"),a=n("KoDT");function o(){return Object(a.a)().isNativePlatform}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.hideBg,a=n?{}:{loading_style:"2",message:e};Object(r.f)("JSUIControl","showLoading",a)}var c,s=n("q1tI"),u=n.n(s),l=n("1KKG"),d=n("ZKQX");function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c&&c(),c=Object(d.a)(u.a.createElement(l.a,t,e))}function f(){o()?i.apply(void 0,arguments):p.apply(void 0,arguments)}function m(){o()?Object(r.f)("JSUIControl","hideLoading"):(c&&c(),c=null)}function h(){f("",{hideBg:!0})}n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return m}))},"32Nq":function(e,t,n){e.exports={modalCartList:"FzeTXdKd",titleCartSku:"_2eUg3fCf",cartContent:"_2nTVFCTP",skuList:"_2I6B4yA1",cartSkuItem:"WbAzXl55",skuSelectedRightDesc:"_2ScUV4rT",skuSelectedName:"_1zg1w7m9",skuSelectedPricePrefix:"_1AsyBzsJ",skuSelectedPrice:"_1qiSe_9J",skuSelectedSinglePrice:"_1MCU61ji",yen:"_2Q_nMSu7",skuSelectedDelete:"SRwWohQa",skuSelectedNum:"zcOmj4vh",empty:"_3Pt0HhJv",buyMoreBtn:"_26D3yYMZ",cartTotal:"_18iO4-v2",cartBottomBtn:"_2CVKtFrJ",cartDiscount:"_2hRtMz5I",payPrice:"gNCgaRSJ",couponPrice:"_3E-5BsHY"}},"38mt":function(e,t,n){},"3EMY":function(e,t,n){},"3HI/":function(e,t,n){"use strict";var r=n("MVZn"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),u=n("7W2i"),l=n.n(u),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),m=n.n(f),h=n("lSCD"),v=n.n(h),g=n("mwIZ"),y=n.n(g),_=n("q1tI"),b=n.n(_),k=n("TSYQ"),w=n.n(k),S=(n("17x9"),n("Ip76")),I=n("K7Sh"),C=n("gi5g"),x=n("KoDT"),P=n("h3qu"),E=n("MpJ2"),O=n("/jjR"),N=n("AmiU"),D=n("KaGD"),T=n("o0o1"),j=n.n(T),A=n("yXPU"),R=n.n(A),W=n("J4zp"),L=n.n(W),M=n("XScy"),F=n("b6XL");var B=function(e){l()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=m()(e);if(t()){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).isLongTap=!1,e.isDoubleClick=!1,e.isPullDown=!1,e.isZomm=!1,e.lastScale=1,e.currentScale=1,e.getLen=function(e,t){var n=e||{},r=n.clientX,a=n.clientY,o=t||{},i=o.clientX,c=o.clientY;return Math.hypot(i-r,c-a)},e.onTouchStart=function(t){e.props.onTouchStart&&e.props.onTouchStart(),t.touches.length>=2?(e.startFingerDist=e.getLen(t.touches[0],t.touches[1]),e.multiTouch=!0,e.isDoubleClick=!1,e.isSingleTap=!1):(e.isSingleTap=!0,e.startTime=Date.now(),e.lastTime=e.lastTime||e.startTime,e.interval=e.startTime-e.lastTime,e.startX=t.touches[0].clientX,e.startY=t.touches[0].clientY,e.preTap&&(e.isDoubleClick=e.interval>0&&e.interval<300&&Math.abs(e.preTap.x-e.startX<30)&&Math.abs(e.preTap.y-e.startY<30),e.isDoubleClick&&(e.props.onDoubleClick(t),clearTimeout(e.singleTapTimeout),e.clear())),e.preTap={x:e.startX,y:e.startY})},e.onTouchMove=function(t){if(e.props.onTouchMove&&e.props.onTouchMove(),t.touches.length>=2){var n=t.touches[0]||{},r=n.clientX,a=n.clientY,o=t.touches[1]||{},i=o.clientX,c=o.clientY;t.center={x:(r+i)/2,y:(a+c)/2},e.currentFingerDist=e.getLen(t.touches[0],t.touches[1]),t.scale=e.currentFingerDist/e.startFingerDist,e.props.onPinching(t)}else{var s=t.touches[0].clientX,u=t.touches[0].clientY,l=Math.abs(s-e.startX)<10&&Math.abs(u-e.startY)<10;if(!e.startX||!e.startY||l)return;t.transY=u-e.startY,t.transX=s-e.startX;var d=Math.abs(e.startX-s)-Math.abs(e.startY-u);e.isPulling||e.isSwiping?(t.direction=e.direction,e.props.onSwipe(t)):(d<0?t.transY>0?e.direction="down":e.direction="up":t.transX>0?e.direction="right":e.direction="left",t.direction=e.direction,"down"===e.direction||"up"===e.direction?e.isPulling=!0:e.isSwiping=!0,e.props.onSwipe(t))}},e.onTouchEnd=function(t){if(e.props.onTouchEnd&&e.props.onTouchEnd(),e.multiTouch&&t.touches.length<2)e.multiTouch=!1,t.scale=e.currentFingerDist/e.startFingerDist,e.props.onPinchEnd(t);else{if(!e.startX||!e.startY||t.touches.length)return;var n=t.changedTouches[0],r=n.clientX,a=n.clientY;if(t.transY=a-e.startY,t.transX=r-e.startX,t.direction=e.direction,e.isPulling||e.isSwiping)e.props.onSwipeEnd(t),e.clear();else if(e.startTime&&Date.now()-e.startTime>500&&Math.abs(r-e.startX)<10&&Math.abs(a-e.startY)<10)e.props.onLongTap(t),e.clear();else if(e.isSingleTap){var o=t;e.singleTapTimeout=setTimeout((function(){e.props.onClick(o),e.isSingleTap=!1,e.clear()}),300)}}},e}return s()(n,[{key:"clear",value:function(){this.startTime=null,this.lastTime=null,this.interval=null,this.startX=null,this.startY=null,this.preTap=null,this.startFingerDist=null,this.isDoubleClick=!1,this.isSwiping=!1,this.isPulling=!1,this.isSingleTap=!1}},{key:"render",value:function(){return b.a.cloneElement(b.a.Children.only(this.props.children),{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd})}}]),n}(_.Component);B.defaultProps={onClick:function(){},onDoubleClick:function(){},onLongTap:function(){},onPinching:function(){},onPinchEnd:function(){},onSwipe:function(){},onSwipeEnd:function(){}};var U=n("fho7"),V=n("KF8E"),H=n.n(V),q=function(e){var t=e.isPictureLoading;return Object(U.a)(H.a),b.a.createElement("div",{className:w()(H.a.loading,t&&H.a.pictureLoading)},b.a.createElement("div",{className:H.a.uploader},b.a.createElement("div",{className:H.a.loader})))},z=b.a.memo(q);n("P8qb");var Q=function(){return/iphone|ipad|ipod/i.test(navigator.userAgent)&&/os [8|9]/i.test(navigator.userAgent)},G=function(){return"undefined"!=typeof window&&(/Android/i.test(navigator.userAgent)||Object(x.a)().platform===P.a.PddAndroid)},J=function(e){l()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=m()(e);if(t()){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).videoRef=b.a.createRef(),e.videoContainerRef=b.a.createRef(),e.state={videoSrc:"",loadingClass:"hide-loading",playIconClass:"video-play-icon-show",posterClass:"slider-poster-show",sliderVideoClass:"slider-video-item-hide"},e.getVideoSrc=function(){var t=e.props,n=t.src,r=t.needCompressSuffix,a=n.replace(/\.f\d+\.mp4/g,""),o=n.match(/\.f\d+\.mp4/)||[],i=L()(o,1)[0];return r?a+(void 0===i?".f30.mp4":i):a},e.onPause=function(t){e.setState({sliderVideoClass:"slider-video-item-hide",posterClass:"slider-poster-show",playIconClass:"video-play-icon-show",loadingClass:"hide-loading"})},e.showVideo=function(t){t&&t.target.currentTime>.1&&e.setState({loadingClass:"hide-loading",sliderVideoClass:"slider-video-item-show"})},e.playVideo=function(){(G()||Q())&&e.props.muted?Object(F.a)("因为音乐版权问题，该视频不支持播放"):e.videoRef.current&&(e.props.onPlayVideo&&e.props.onPlayVideo(),e.videoRef.current.play(),e.setState({loadingClass:"show-loading"}))},e.togglePlay=R()(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.videoSrc){t.next=5;break}return n=e.getVideoSrc(),e.setState({videoSrc:n}),setTimeout((function(){e.playVideo()}),100),t.abrupt("return");case 5:if(!e.videoRef.current){t.next=10;break}return t.next=8,e.videoRef.current.getPaused();case 8:t.sent?e.playVideo():e.videoRef.current.pause();case 10:case"end":return t.stop()}}),t)}))),e.onTouchMove=function(){e.videoRef.current&&(e.videoRef.current.pause(),setTimeout((function(){e.setState({videoSrc:""})}),100))},e.stopAndClose=function(){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||e.onTouchMove()},e.stopPropagation=function(e){e.stopPropagation()},e}return s()(n,[{key:"render",value:function(){return b.a.createElement("div",{className:"swipe-view-video",onTouchMove:this.onTouchMove},b.a.createElement("div",{className:"slider-poster-container ".concat(this.state.posterClass)},b.a.createElement(B,{onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,onSwipe:this.props.onSwipe,onSwipeEnd:this.props.onSwipeEnd},b.a.createElement(O.a,{className:"slider-video-poster",src:this.props.poster,onLoad:this.props.onLoad,processParam:{webpEnable:this.props.isSupportWebp},lazy:this.props.lazy,style:this.props.swipeViewPicStyle})),b.a.createElement(B,{onClick:this.togglePlay},b.a.createElement("div",{className:"video-play-icon ".concat(this.state.playIconClass)})),b.a.createElement("div",{className:"slider-video-loading ".concat(this.state.loadingClass)},b.a.createElement(z,null))),b.a.createElement("div",{className:"slider-video-container"},this.state.videoSrc&&b.a.createElement(M.a,{className:this.state.sliderVideoClass,src:this.state.videoSrc,onPause:this.onPause,onTimeUpdate:this.showVideo,muted:this.props.muted,onTouchMove:this.onTouchMove,poster:this.props.poster,ref:this.videoRef,options:{isFullScreen:!0,onFullScreenChange:this.stopAndClose}})))}}]),n}(b.a.Component);J.defaultProps={needCompressSuffix:!0,isSupportWebp:!1};var K,Y=J,X=n("U+yc"),Z=n.n(X),$=n("gKdT"),ee=n.n($),te=n("1Irm"),ne=n("mj+i"),re=n("X0J6"),ae=n("bfoz"),oe=n.n(ae);var ie=(K=function(e){l()(r,e);var t,n=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=m()(e);if(t()){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}(r);function r(){var e;i()(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).state={status:"pause",isShowMute:!0,isShowPoster:!0,isLoading:!1,style:null,isClient:!1,preload:"metadata"},e.videoRef=b.a.createRef(),e.progressRef=b.a.createRef(),e.video=null,e.isClickPause=!1,e}return s()(r,[{key:"componentDidMount",value:function(){var e=this;Object(x.a)().system===P.b.IOS&&this.setState({preload:"none"}),this.setState({isClient:!0},(function(){e.initVideo()}))}},{key:"initVideo",value:function(){this.video=this.videoRef.current,this.isIOS8()&&this.setState({isShowMute:!1}),Object(x.a)().isNativePlatform&&this.addListener()}},{key:"componentWillUnmount",value:function(){clearInterval(this.checkNeedLoadingTimer),clearInterval(this.checkHideLoadingTimer),clearInterval(this.checkHidePosterTimer)}},{key:"handleCanPlayThrough",value:function(){this.canPlayThrough=!0,this.video.currentTime>=.2&&this.hideLoading()}},{key:"addListener",value:function(){var e=this;Object(te.c)((function(){e.video.paused||e.videoPause()})),Object(te.d)((function(){e.video.paused||e.videoPause()})),Object(te.a)("onApplicationResume",(function(){e.video.paused||e.videoPause()})),Object(te.a)("onApplicationPause",(function(){e.video.paused||e.videoPause()}))}},{key:"isAndroidWX",value:function(){return Object(x.a)().isAndroidWeChatPlatform}},{key:"isLiteApp",value:function(){return navigator.userAgent.includes("app_type/lite")}},{key:"isIOS8",value:function(){return/iphone|ipad|ipod/i.test(navigator.userAgent)&&/os [8|9]/i.test(navigator.userAgent)}},{key:"handlePlayPause",value:function(){"pause"===this.state.status?this.videoPlay():(this.videoPause(),this.isClickPause=!0,this.props.onVideoPause&&this.props.onVideoPause(this.video.currentTime))}},{key:"hideLoading",value:function(){this.setState({isLoading:!1})}},{key:"showLoading",value:function(){this.setState({isLoading:!0})}},{key:"videoPlay",value:(t=R()(j.a.mark((function e(){var t,n=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=Object(ne.h)(window.location.href),this.startLoadingTimmer=setTimeout((function(){n.video.currentTime<.02&&n.showLoading()}),+t.st_loading||1500),this.checkHidePosterTimer=setInterval((function(){n.video.currentTime>.02&&(n.setState({isShowPoster:!1}),clearInterval(n.checkHidePosterTimer))}),16),this.setState({status:"play"},(function(){setTimeout((function(){n.video.currentTime<=0&&"play"===n.state.status&&(Object(F.a)("视频加载失败，请稍后重试!"),n.videoPause())}),6e4),n.preTime=n.video.currentTime,n.checkNeedLoadingTimer=setInterval((function(){var e=n.video.currentTime-n.preTime;"play"===n.state.status&&e<.5&&n.preTime>0&&e>=0&&(!n.canPlayThrough||n.video.currentTime<.02)&&n.showLoading(),n.canPlayThrough=!1,n.preTime=n.video.currentTime}),+t.show_loading||1500),n.checkHideLoadingTimer=setInterval((function(){var e=n.video.currentTime-n.preTime;"play"===n.state.status&&e<.05&&e>=0&&(!n.canPlayThrough||n.video.currentTime<.02)||n.hideLoading(),n.canPlayThrough=!1,n.preTimeHide=n.video.currentTime}),+t.hide_loading||150);var e=n.video.play();void 0!==e&&e.catch((function(e){"play"===n.state.status&&(n.videoPause(),(e+"").includes("denied permission")||Object(F.a)("视频加载失败，请稍后重试"))}))})),this.props.onVideoPlay&&this.props.onVideoPlay()}catch(e){}case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"videoPause",value:function(){var e=this;this.hideLoading(),clearInterval(this.checkNeedLoadingTimer),clearInterval(this.checkHideLoadingTimer),clearInterval(this.checkHidePosterTimer),clearTimeout(this.startLoadingTimmer),this.setState({status:"pause"},(function(){e.video.pause()}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.poster,r=t.src,a={width:"100%",height:"100%"};return b.a.createElement(re.a,{threshold:.5,onEnter:function(){e.video.paused&&!e.isClickPause&&e.videoPlay()},once:!1,onLeave:function(){e.video.paused||(e.videoPause(),e.props.onVideoEnded&&e.props.onVideoEnded(e.video.currentTime))}},b.a.createElement(B,{onSwipe:this.props.onSwipe,onSwipeEnd:this.props.onSwipeEnd,onClick:this.handlePlayPause,onDoubleClick:this.props.onDoubleClick},b.a.createElement("div",{style:a,className:oe.a.mallVideoContainer},this.state.isClient&&b.a.createElement("video",{ref:this.videoRef,loop:"loop",muted:this.props.muted,style:a,src:r,width:"100%",preload:this.state.preload,"webkit-playsinline":"true",playsInline:!0,"x5-video-player-type":"h5",onCanPlayThrough:this.handleCanPlayThrough,onPause:function(){e.videoPause()},onEnded:function(){e.props.onVideoEnded&&e.props.onVideoEnded(e.video.currentTime)},onPlaying:function(){e.props.onVideoPlay&&e.props.onVideoPlay(e.video.currentTime)}},"您的浏览器可能不支持视频播放"),b.a.createElement(O.a,{className:w()(oe.a.mallVideoPosterImg,this.state.isShowPoster?oe.a.show:oe.a.hide),src:n,onLoad:this.props.onLoad,processParam:{webpEnable:this.props.isSupportWebp},lazy:this.props.lazy,style:this.props.swipeViewPicStyle}),b.a.createElement("div",{className:w()(oe.a.videoPlayIcon,"pause"===this.state.status?oe.a.show:oe.a.hide)}),b.a.createElement("div",{className:w()(oe.a.mallVideoLoading,this.state.isLoading?oe.a.show:oe.a.hide)},b.a.createElement(z,null)))))}}]),r}(b.a.Component),Z()(K.prototype,"initVideo",[ee.a],Object.getOwnPropertyDescriptor(K.prototype,"initVideo"),K.prototype),Z()(K.prototype,"handleCanPlayThrough",[ee.a],Object.getOwnPropertyDescriptor(K.prototype,"handleCanPlayThrough"),K.prototype),Z()(K.prototype,"addListener",[ee.a],Object.getOwnPropertyDescriptor(K.prototype,"addListener"),K.prototype),Z()(K.prototype,"handlePlayPause",[ee.a],Object.getOwnPropertyDescriptor(K.prototype,"handlePlayPause"),K.prototype),Z()(K.prototype,"hideLoading",[ee.a],Object.getOwnPropertyDescriptor(K.prototype,"hideLoading"),K.prototype),Z()(K.prototype,"showLoading",[ee.a],Object.getOwnPropertyDescriptor(K.prototype,"showLoading"),K.prototype),Z()(K.prototype,"videoPlay",[ee.a],Object.getOwnPropertyDescriptor(K.prototype,"videoPlay"),K.prototype),Z()(K.prototype,"videoPause",[ee.a],Object.getOwnPropertyDescriptor(K.prototype,"videoPause"),K.prototype),K),ce=Object(D.a)(oe.a)(ie),se=function(e){var t=e.src,n=e.className,r=e.onLoad,a=e.processParam,o=e.lazy,i=e.onSwipe,c=e.onSwipeEnd,s=e.onClick,u=e.onDoubleClick,l=e.swipeViewPicStyle;return b.a.createElement(B,{onSwipe:i,onSwipeEnd:c,onClick:s,onDoubleClick:u},b.a.createElement(O.a,{className:n,src:t,onLoad:r,processParam:a,lazy:o,style:l}))},ue=b.a.memo(se),le=function(){1===y()(window,"history.state.has_showed_projector")&&window.history.back()},de=function(e,t){var n=e.top,r=e.left,a=e.width,o=e.height,i=t.top,c=t.left,s=t.width,u=t.height,l=c+.5*s-(r+.5*a),d=i+.5*u-(n+.5*o),p=u/o;return"matrix(".concat(s/a,",0, 0,").concat(p,", ").concat(l,",").concat(d,")")},pe=n("kpCq"),fe=n.n(pe);S.a.use(I.a),le();var me=function(e){l()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=m()(e);if(t()){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).needActiveList=e.props.list.length>10,e.state={index:e.props.index,activeIndex:e.needActiveList?Math.min(e.props.isLoop?5:e.props.index,5):e.props.index,activeList:e.projectorList,posterDisplayed:!1,posterTransformStyle:"",isPullingDown:!1,sliderStyle:{opacity:"0"},bgStyle:{},frameStyle:{},startPos:{}},e.posterTransEnd=!1,e.posterLoadEnd=!1,e.bannerRef=b.a.createRef(),e.unlockAndEnableScroll=function(){},e.touchStart=function(t){var n=Object(x.a)();t.touches&&t.touches[0]&&t.touches[0].pageX<=40&&n.system===P.b.IOS&&e.bannerBScroll.disable()},e.touchEnd=function(){e.bannerBScroll.enable()},e.onPullDown=function(t){if("down"===t.direction&&!e.isClosing&&e.state.posterDisplayed){var n=e.endPos.height,r=t.transX,a=t.transY,o=document.documentElement.offsetHeight;e.currentHeight=Math.max(n*(o-Math.abs(a))/o,150);var i=Math.min(e.currentHeight/n,1),c="matrix(".concat(i," ,0, 0, ").concat(i,", ").concat(r,",").concat(a/2,")"),s={transform:c,WebkitTransform:c,transition:"unset"};e.bannerBScroll.disable(),e.setState({sliderStyle:s,bgStyle:{background:"rgba(0, 0, 0, ".concat(i,")"),transition:"unset"},frameStyle:{opacity:0},isPullingDown:!0})}},e.onPullDownEnd=function(t){e.state.posterDisplayed&&("down"!==t.direction||t.transY<30?e.setState({sliderStyle:{},bgStyle:{},frameStyle:{},isPullingDown:!1},(function(){e.bannerBScroll.enable()})):e.closeProjector())},e.switchProjector=function(t){var n=e.props,r=n.switchCallback,a=n.list,o=e.state.activeList,i=y()(o,[t,"_index"]);v()(r)&&r({index:i}),e.setState({index:i,activeIndex:t},(function(){!e.needActiveList||0!==t&&t!==o.length-1||(e.bannerBScroll.disable(),e.setState({activeIndex:Math.min(e.props.isLoop?a.length:i,5),activeList:e.projectorList},(function(){e.bannerBScroll.goToPage(Math.min(e.props.isLoop?5:i,5),0,0),e.bannerBScroll.refresh(),e.bannerBScroll.enable()})))}))},e.onPosterDisplayed=function(){e.bannerBScroll.enable(),e.setState({posterDisplayed:!0,sliderStyle:{}})},e.closeProjector=function(t){e.isClosing=!0;var n=e.state.startPos,r=de(e.endPos,n),a={transform:r,WebkitTransform:r};e.setState({sliderStyle:a,bgStyle:{opacity:0},frameStyle:{opacity:0}},(function(){setTimeout((function(){var n=e.props.closeCallback;v()(n)&&n(t)}),200)}))},e.renderPoster=function(){var t=e.state.posterTransformStyle,n=e.props,r=n.list,a=n.index,o=n.currentTarget,i=n.isSupportWebp,c=n.posterSrc,s=r.length>a?r[a]:{},u=o.getBoundingClientRect(),l={top:u.top,left:u.left,width:u.width,height:u.height,transform:t,WebkitTransform:t};return b.a.createElement(O.a,{className:fe.a.curtainWrapper,style:l,onTransitionEnd:function(){e.posterTransEnd=!0,!e.state.posterDisplayed&&e.posterLoadEnd&&e.onPosterDisplayed()},src:c||s.url,processParam:{webpEnable:i},lazy:!1})},e.onPlayVideo=function(){e.props.onPlayVideo&&e.props.onPlayVideo(e.state.index)},e.onDoubleClick=function(){e.props.onDoubleClick&&e.props.onDoubleClick(e.state.index)},e.renderSlider=function(){var t=e.props,n=t.isSupportWebp,r=t.isLoop,a=t.isFullScreen,o=e.state,i=o.sliderStyle,c=o.activeList,s=o.activeIndex,u=o.isPullingDown,l=c.map((function(t,o){if(!t)return null;var i,c=t._index,l=t.url,d=t.src,p=t.playMusic,f=t.swipeViewPicContainerStyle,m=t.swipeViewPicStyle;o===s&&(i=function(){e.posterLoadEnd=!0,!e.state.posterDisplayed&&e.posterTransEnd&&e.onPosterDisplayed()});var h=a?Y:ce;return b.a.createElement("div",{className:w()(fe.a.swipeViewPic,o!==s&&u&&fe.a.hidePicture),key:c,style:f},d?b.a.createElement(h,{src:d,poster:l,muted:!1===p,onVideoPlay:e.onPlayVideo,onLoad:i,isSupportWebp:n,lazy:!r||o>1&&o<o.length-1,onSwipe:e.onPullDown,onSwipeEnd:e.onPullDownEnd,onDoubleClick:e.onDoubleClick,onClick:e.closeProjector,swipeViewPicStyle:m}):b.a.createElement(b.a.Fragment,null,b.a.createElement(z,{isPictureLoading:!0}),b.a.createElement(ue,{key:c,onSwipe:e.onPullDown,onSwipeEnd:e.onPullDownEnd,onClick:e.closeProjector,onDoubleClick:e.onDoubleClick,className:fe.a.swipePicture,src:l,onLoad:i,processParam:{webpEnable:n},lazy:!r||o>1&&o<o.length-1,swipeViewPicStyle:m})))}));return b.a.createElement("div",{className:fe.a.swipeArea,style:i,ref:e.bannerRef},b.a.createElement("div",{className:fe.a.swipeableViews},l))},e}return s()(n,[{key:"componentDidMount",value:function(){var e=this;this.unlockAndEnableScroll=Object(C.b)();var t=Object(x.a)();t.isNativePlatform&&Object(E.o)({enable:!1}),this.props.needSetBack&&(t.isNativePlatform?Object(E.o)({enable:!1}):(history.pushState({has_showed_projector:1},""),window.addEventListener("popstate",(function(){return e.closeProjector({isBack:!0})}))));var n=this.props,r=n.currentTarget,a=n.posterTransform,o=this.state.activeIndex;this.bannerBScroll=new S.a(this.bannerRef.current,{scrollX:!0,scrollY:!1,slide:{loop:this.props.isLoop&&!this.needActiveList,autoplay:!1,startPageXIndex:o},momentum:!1,bounce:!this.props.isLoop,click:!0,eventPassthrough:t.system===P.b.Android?"vertical":"",HWCompositing:!0,useTransition:!1}),this.bannerBScroll.on("slidePageChanged",(function(t){var n=t.pageX;e.switchProjector(n)})),setTimeout((function(){var t=r.getBoundingClientRect(),n=a&&a(t,e.endPos)||de(t,e.endPos);e.setState({posterTransformStyle:n,startPos:t})}),20)}},{key:"componentWillUnmount",value:function(){this.bannerBScroll.destroy(),this.unlockAndEnableScroll();var e=Object(x.a)();e.isNativePlatform&&Object(E.o)({enable:!0}),this.props.needSetBack&&(e.isNativePlatform||(window.removeEventListener("popstate",this.closeProjector),le()))}},{key:"render",value:function(){var e=this.state,t=e.posterDisplayed,n=e.bgStyle,r=e.frameStyle,a={closeProjector:this.closeProjector,index:this.state.index};return b.a.createElement(N.a,null,b.a.createElement("div",{className:fe.a.projector,onTouchStart:this.touchStart,onTouchEnd:this.touchEnd,style:n},!t&&this.renderPoster(),this.renderSlider(),this.props.children&&b.a.createElement("div",{className:fe.a.projectCover,style:r},b.a.cloneElement(this.props.children,a))))}},{key:"endPos",get:function(){var e=this.props.list,t=this.state.index,n=document.documentElement,r=n.offsetWidth,a=n.offsetHeight,o=Math.min(r,768),i=y()(e,[t,"width"],o),c=y()(e,[t,"height"],a);return{top:.5*a-o*(c/i)*.5,left:r>768?(r-768)/2:0,width:o,height:o*(c/i)}}},{key:"projectorList",get:function(){var e=this.props,t=e.list,n=e.isLoop,r=e.index,o=(this.state||{}).index,i=void 0===o?r:o,c=(t||[]).map((function(e,t){return e&&a()(a()({},e),{},{_index:t})}));return this.needActiveList?n?i<5?c.slice(i-5).concat(c.slice(0,i+5)):i>c.length-5?c.slice(i-c.length-5).concat(c.slice(0,i-c.length+5)):c.slice(i-5,i+5):c.slice(Math.max(i-5,0),Math.max(i+5,10)):c}}]),n}(b.a.Component);me.defaultProps={list:[],index:0,currentTarget:{},isSupportWebp:!1,isLoop:!1,needSetBack:!0,isFullScreen:!0};t.a=Object(D.a)(fe.a)(me)},"3INx":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),s=n.n(c),u=n("a1gu"),l=n.n(u),d=n("Nsbk"),p=n.n(d),f=n("h3qu"),m=n("1/kQ");var h={greaterThan:"greaterThan",greaterThanEqual:"greaterThanEqual",contains:"contains"},v=function(e){s()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=p()(e);if(t()){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"isVersionGreater",value:function(e){return!!e&&Object(f.c)(this.version,e)>0}},{key:"isVersionGreaterThanEqual",value:function(e){return!!e&&Object(f.c)(this.version,e)>=0}},{key:"statisfy",value:function(e,t,n){return n===h.greaterThan?this.platform===f.a.PddAndroid?this.isVersionGreater(e):this.isVersionGreater(t):n===h.greaterThanEqual?this.platform===f.a.PddAndroid?this.isVersionGreaterThanEqual(e):this.isVersionGreaterThanEqual(t):n===h.contains&&(this.platform===f.a.PddAndroid?e.includes(this.version):t.includes(this.version))}},{key:"version",get:function(){return Object(f.d)(this.cache,"version",Object(f.e)(this.ua,this.platform))}},{key:"isNativePlatform",get:function(){return this.platform===f.a.PddIOS||this.platform===f.a.PddAndroid}},{key:"isLiteNativePlatform",get:function(){return this.isNativePlatform&&this.ua.includes("app_type/lite")}},{key:"isMecoCore",get:function(){return Object(f.d)(this.cache,"isMecoCore",this.isNativePlatform&&Object(f.i)(this.ua))}}]),n}(m.a);t.b=v},"3OdE":function(e,t,n){"use strict";var r={CookieKey:{UID:"pdd_user_id",UIN:"pdd_user_uin"},LocalStorageKey:{UID:"0e4f9612e0fbe579",UIN:"830d7c3797f9909d"},CDNImgHostName:"http://pinduoduoimg.yangkeduo.com/"},a=n("cDf5"),o=n.n(a),i=n("MVZn"),c=n.n(i),s=n("KoDT"),u={},l=Object(s.a)(),d="undefined"!=typeof location&&location.hostname.includes("yangkeduo.com"),p=!l.isNativePlatform&&d;var f,m={loggingURL:function(e){return"undefined"!=typeof window&&window.__LogingUrl__?window.__LogingUrl__:e?"https://th.yangkeduo.com/t.gif":"https://th.pinduoduo.com/t.gif"}(p),logRoutes:{ad:function(e){return"undefined"!=typeof window&&window.__AdLogingUrl__?window.__AdLogingUrl__:e?"https://ta.yangkeduo.com/t.gif":"https://ta.pinduoduo.com/t.gif"}(p)}},h={loggingURL:m.loggingURL,logRoutes:c()({},m.logRoutes),httpsLoggingURL:m.loggingURL,httpsLogRoutes:c()({},m.logRoutes),AppID:{WeChat:2,QQ:12,Weibo:11,QQConnect:13,QQPublic:30},ApiKey:{WeChat:"wx839691cce7c102bb",QQPublic:"200675334"},RedirectURI:{QQConnect:"http://mobile.yangkeduo.com/qqoauth_callback.html"},thirdLevelLoginPath:"jkr_report.html"},v={AppID:{WeChat:24},ApiKey:{WeChat:"wx20392b0342c8af91"}},g={hutaojie:1,mobile:2,weipin:3,app:4,huabei:17,xibei:18,dongbei:19,huazhong:21,huadong:22,dongnan:23,xinan:24,panduoduo:25,sc:26,hybrid:"hybrid",hybridTest:"hybridTest",huanan:40,hzsc:41,dnsc:42,dbsc:43,xbsc:44,xnsc:45,hnsc:46,hbsc:47,pddpt:48,m:49,mm:66,myqxgs:68,mobpinduoduo:72,mmpinduoduo:73,mobilepinduoduo:74,mobileddlequ:75,nvude3:82,mobnvude3:83,mpinduoduo:63,mddlequ:85,hhngpinduoduo:129};function y(e){return function(){for(var e={},t=0;t<arguments.length;t++)"object"===o()(arguments[t])&&_(e,arguments[t]);return e}(h,e)}function _(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],a=o()(r);"number"===a||"string"===a||"boolean"===a?e[n]=r:"object"===a?(e[n]=e[n]||{},_(e[n],r)):(i=r,"[object Array]"===Object.prototype.toString.call(i)&&(e[n]=e[n]||[],_(e[n],r)))}var i}u[g.hutaojie]={},u[g.mobile]={domain:"https://mobile.yangkeduo.com/"},u[g.weipin]={domain:"https://weipin.yangkeduo.com/",AppID:{WeChat:g.weipin},ApiKey:{WeChat:"wx51e5fe8c95f71b20"}},u[g.huabei]={domain:"https://huabei.yangkeduo.com/",AppID:{WeChat:g.huabei},ApiKey:{WeChat:"wx4044e9709b7188ea"}},u[g.xibei]={domain:"https://xibei.yangkeduo.com/",AppID:{WeChat:g.xibei},ApiKey:{WeChat:"wxbc80866520cc300d"}},u[g.dongbei]={domain:"https://dongbei.yangkeduo.com/",AppID:{WeChat:g.dongbei},ApiKey:{WeChat:"wx27901e8ab752ed35"}},u[g.huazhong]={domain:"https://huazhong.yangkeduo.com/",AppID:{WeChat:g.huazhong},ApiKey:{WeChat:"wx95c952f67a727090"}},u[g.huadong]={domain:"https://huadong.yangkeduo.com/",AppID:{WeChat:g.huadong},ApiKey:{WeChat:"wx03908118b84f285a"}},u[g.dongnan]={domain:"https://dongnan.yangkeduo.com/",AppID:{WeChat:g.dongnan},ApiKey:{WeChat:"wxff2e8dc2762c5b92"}},u[g.xinan]=c()({domain:"https://xinan.yangkeduo.com/"},v),u[g.panduoduo]={},u[g.sc]={domain:"https://sc.yangkeduo.com/",AppID:{WeChat:g.sc},ApiKey:{WeChat:"wx32b0d9cdd390ebf0"}},u[g.app]={domain:"https://app.yangkeduo.com/",AppID:{WeChat:4},ApiKey:{WeChat:"wx77d53b84434b9d9a"}},u[g.hybrid]={shareDomain:"https://mobile.yangkeduo.com/",AppID:{WeChat:4},ApiKey:{WeChat:"wx77d53b84434b9d9a"}},u[g.hybridTest]={},u[g.huanan]={shareDomain:"https://huanan.yangkeduo.com/",AppID:{WeChat:40},ApiKey:{WeChat:"wxaffd94b821032481"}},u[g.hzsc]={shareDomain:"https://hzsc.yangkeduo.com/",AppID:{WeChat:41},ApiKey:{WeChat:"wx7bca1a27af0a31ed"}},u[g.dnsc]={shareDomain:"https://dnsc.yangkeduo.com/",AppID:{WeChat:42},ApiKey:{WeChat:"wxb79645ae502205d9"}},u[g.dbsc]={shareDomain:"https://dbsc.yangkeduo.com/",AppID:{WeChat:43},ApiKey:{WeChat:"wx01e7a1f91b8c43d3"}},u[g.xbsc]={shareDomain:"https://xbsc.yangkeduo.com",AppID:{WeChat:44},ApiKey:{WeChat:"wxc50a66d9b6d566ed"}},u[g.xnsc]={shareDomain:"https://xnsc.yangkeduo.com",AppID:{WeChat:45},ApiKey:{WeChat:"wx52457b6561fcd804"}},u[g.hnsc]={shareDomain:"https://hnsc.yangkeduo.com",AppID:{WeChat:46},ApiKey:{WeChat:"wx8e75952076e03567"}},u[g.hbsc]={shareDomain:"https://hbsc.yangkeduo.com",AppID:{WeChat:47},ApiKey:{WeChat:"wx7388833e69aafd89"}},u[g.pddpt]={shareDomain:"https://pddpt.yangkeduo.com",AppID:{WeChat:48},ApiKey:{WeChat:"wxe1b0f22089fadce1"}},u[g.m]={domain:"https://m.ishangtong.com",shareDomain:"https://m.ishangtong.com",AppID:{WeChat:48},ApiKey:{WeChat:"wxe1b0f22089fadce1"}},u[g.mm]={shareDomain:"https://mm.ishangtong.com",AppID:{WeChat:66},ApiKey:{WeChat:"wxf05b577296a1b6ec"}},u[g.myqxgs]={domain:"https://m.yiqixiegushi.com",shareDomain:"https://m.yiqixiegushi.com",AppID:{WeChat:66},ApiKey:{WeChat:"wxf05b577296a1b6ec"}},u[g.mobpinduoduo]={shareDomain:"https://mob.pinduoduo.com",AppID:{WeChat:56},ApiKey:{WeChat:"wx1e2715638762a51b"}},u[g.mmpinduoduo]={shareDomain:"https://mm.pinduoduo.com",AppID:{WeChat:57},ApiKey:{WeChat:"wxa19650a24138625a"}},u[g.mobileddlequ]=c()({shareDomain:"https://mobile.ddlequ.com/"},v),u[g.mddlequ]=c()({shareDomain:"https://m.ddlequ.com/"},v),u[g.mobilepinduoduo]={domain:"https://mobile.pinduoduo.com",shareDomain:"https://mobile.pinduoduo.com"},u[g.nvude3]={domain:f="https://m.nvude3.com",shareDomain:f,AppID:{WeChat:67},ApiKey:{WeChat:"wx15ee6b92001c5295"},httpsLoggingURL:f+"/proxy/th/t.gif",httpsLogRoutes:{error:f+"/proxy/te/e.gif",chat_error:f+"/proxy/te/e.gif",real_error:f+"/proxy/tne/tne.gif"}},u[g.mobnvude3]={shareDomain:"https://mob.nvude3.com",AppID:{WeChat:65},ApiKey:{WeChat:"wx86161385b94a2ed7"}},u[g.mpinduoduo]={shareDomain:"https://mobile.yangkeduo.com/",AppID:{WeChat:g.mpinduoduo},ApiKey:{WeChat:"wx2993126642818cea"}},u[g.hhngpinduoduo]={shareDomain:"https://hhng.pinduoduo.com/",AppID:{WeChat:g.hhngpinduoduo},ApiKey:{WeChat:"wx8aeafb2c4c5252fa"}};var b={hutaojie:{m:"hutaojie",app:"apptest"},yangkeduo:{mobile:"mobile",app:"app",huabei:"huabei",xibei:"xibei",dongbei:"dongbei",xinan:"xinan",huazhong:"huazhong",dongnan:"dongnan",huadong:"huadong",panduoduo:"panduoduo",sc:"sc",huanan:"huanan",hzsc:"hzsc",dnsc:"dnsc",dbsc:"dbsc",xbsc:"xbsc",xnsc:"xnsc",hnsc:"hnsc",hbsc:"hbsc",pddpt:"pddpt",weipin:"weipin"},ishangtong:{m:"m",mm:"mm"},yiqixiegushi:{m:"myqxgs"},pinduoduo:{mob:"mobpinduoduo",mm:"mmpinduoduo",mobile:"mobilepinduoduo",m:"mpinduoduo",hhng:"hhngpinduoduo"},nvude3:{m:"nvude3",mob:"mobnvude3"},ddlequ:{mobile:"mobileddlequ",m:"mddlequ"}};var k=function(e){var t,n=function(e){var t={hostName:e||"",hasThirdLevelDomain:!1};if(!e)return t.hostName=".",t;var n=["m.ishangtong.com","m.yiqixiegushi.com","m.hutaojie.com"],r=e.split("."),a=r.length;if(a<=3)return t;for(var o=r[a-2],i=0;i<n.length;i++){var c=n[i];if(c.indexOf(o)>0)return t.hostName=c,t.hasThirdLevelDomain=!0,t}return t}((e=e||{}).hostName),r=n.hostName||".",a=r.split(".");if(e.isModuleVersion){var o="undefined"!=typeof window?location.href.indexOf("hutaojie")>=0:r.indexOf("hutaojie")>=0;t=u[o?g.hybridTest:g.hybrid]}else a.length>=2&&b[a[1]]&&(t=u[g[b[a[1]][a[0]]]]);return t||(t=u[g.mobile]),t.hasThirdLevelDomain=n.hasThirdLevelDomain||!1,y(t)};t.a={get:function(e,t){return t||(t="undefined"!=typeof window&&(window.navigator.userAgent||window.navigator.vendor||window.opera)||""),k({isModuleVersion:!!t&&!(!t.match(/phh_ios_version/i)&&!t.match(/phh_android_version/i)),hostName:e})},constant:r}},"3oyJ":function(e,t,n){e.exports={container:"_1KXxDdpj",paymentlistv2:"_3SPixsNP",channelBottomContent:"dUZr_cqC",placeholder:"_1yNGB6ns",group:"DEV9y_oe",groupUnspreadContainer:"_28ZaMpmL",groupUnspread:"_2QsxsnqX",groupTitle:"_1ISgtFxl",groupSpreadTitle:"_3n6U5qsG",groupExtensionContent:"_1MxX-d9W",groupSubtitle:"_1ZIqZ-g9",groupSubtitleIcon:"_2zDfFEwJ",tipsContainer:"_2KTjaymL",tipsContainerFlexEnd:"_1fcLdrFQ",tips:"pIKAwkMi",tipArrow:"_2qekUpJ8",tipImage:"x0djofWZ",tipAction:"vl4jJYQR",tipLeftAnchor:"_1JEGM-sk",tipRightAnchor:"_3jSpO6SH",combineItems:"_2Ho_SGcd",groupBorder:"_2o34Mu3W",groupSelectedSvg:"_28h4CsHl",groupSelected:"_2Z-dRROu",unableText:"s_SbzFCI"}},"3sKm":function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("yXPU"),s=n.n(c),u=n("QILm"),l=n.n(u),d=n("MpJ2"),p=n("KoDT"),f=n("mj+i"),m=n("AGSb"),h="snsapi_base",v="snsapi_userinfo",g="BASE",y="USERINFO",_=43058,b=54001,k=54002,w=54003,S="PDDAccessToken",I="pdd_user_id",C="pdd_user_uin",x="AccessToken",P="0e4f9612e0fbe579",E="830d7c3797f9909d";function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UnLoginError";this.name="UnLoginError",this.message=e,this.errorCode=40001,this.stack=(new Error).stack}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"RedirectedError";this.name="RedirectedError",this.message=e,this.errorCode=302,this.stack=(new Error).stack}O.prototype=Object.create(Error.prototype),O.prototype.constructor=O,N.prototype=Object.create(Error.prototype),N.prototype.constructor=N;var D=n("ii9O"),T=n("3OdE");function j(e,t){var n=T.a.get(e),r=n.RedirectURI.QQConnect+"?"+Object(f.b)({refer:t}),a=Object(f.b)({response_type:"code",scope:"get_user_info",client_id:n.ApiKey.QQPublic,redirect_uri:r});return{oAuthUrl:"https://graph.qq.com/oauth2.0/authorize?".concat(a,"#qq_redirect"),redirectUri:r}}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,r=T.a.get(e);if(r.hasThirdLevelDomain){var a=r.domain||r.shareDomain;return a=a.endsWith("/")?a:a+"/",Object(f.a)({third_level_from_url:t},"".concat(a).concat(r.thirdLevelLoginPath))}var o=Object(f.b)({response_type:"code",scope:n,appid:r.ApiKey.WeChat,redirect_uri:t.split("#")[0],state:n===v?y:g});return"https://open.weixin.qq.com/connect/oauth2/authorize?".concat(o,"#wechat_redirect")}var R=[54004,54008,43020,43046,43054];function W(e){return R.includes(e)||e>=54100&&e<=54200}var L=Object(p.a)();function M(){var e=T.a.get(location.host);return L.isWeChatPlatform?e.AppID.WeChat:L.isWeiboPlatform?e.AppID.Weibo:L.isQQPlatform?L.isEmbeddedBrowser?e.AppID.QQPublic:e.AppID.QQ:0}function F(){return(F=s()(a.a.mark((function e(t,n){var r,o,c,s,u,l,d,p,f,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.code,o=n.state,c=M(),s=o===y?{code:r,app_id:c,is_auth:1}:{code:r,app_id:c},L.isQQPlatform&&(s.is_qq_connect=!0,s.redirect_uri=j(location.host,location.href).redirectUri),e.prev=4,e.next=7,t.post("/login",s,{defaultErrorHandler:function(){}});case 7:return u=e.sent,e.abrupt("return",i()(i()({},u),{},{accessToken:u.access_token}));case 11:if(e.prev=11,e.t0=e.catch(4),l=e.t0.errorCode,d=e.t0.response,p=d.data||{},f=p.verify_auth_token,m=p.verify_ttl,l!==_||!L.isWeChatPlatform){e.next=18;break}throw location.href=A(location.host,location.href,v),new N;case 18:if(l!==k&&l!==b){e.next=21;break}throw D.a.reload("psnl_verification.html?VerifyAuthToken=".concat(f,"&from=").concat(encodeURIComponent(location.href))),new N;case 21:if(l!==w){e.next=24;break}throw D.a.reload("fpctdipk.html?_t_module_name=login_error&&ttl=".concat(m,"&from=").concat(encodeURIComponent(location.href))),new N;case 24:if(!W(l)){e.next=27;break}throw D.a.reload("/commercial_pre_orders.html?_t_module_name=psnl_account_freeze_alert&error_code=".concat(l)),new N;case 27:throw e.t0;case 28:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}var B=n("h3qu"),U=Object(p.a)();function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{maxAge:864e4};t&&Object(m.a)(e)!==t&&Object(m.c)(e,t,n)}function H(){return q.apply(this,arguments)}function q(){return(q=s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.isNativePlatform?Object(d.e)().then((function(e){return e.access_token})).catch((function(){return Object(m.a)(S)})):Object(m.a)(S));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return Q.apply(this,arguments)}function Q(){return(Q=s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.isNativePlatform?Object(d.e)().then((function(e){return e.user_id})).catch((function(){return Object(m.a)(I)})):Object(m.a)(I));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return J.apply(this,arguments)}function J(){return(J=s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U.isNativePlatform){e.next=2;break}return e.abrupt("return",Object(d.e)().then((function(e){return e.uin||Object(m.a)(C)})).catch((function(){return Object(m.a)(C)})));case 2:return e.abrupt("return",Object(m.a)(C));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){var t=Object(m.a)(),n=t[S],r=t[I],a=t[C],o=function(){return n?Promise.resolve({accessToken:n,uid:r,uin:a}):Promise.reject(new O)};if(U.isNativePlatform)return Object(d.e)().then((function(e){if(!e.access_token)throw new O;return{accessToken:e.access_token,uid:e.user_id,uin:e.uin,type:e.type}})).then((function(e){return i()(i()({},e),{},{uin:e.uin||(e.accessToken===n?a:null)})}),o);var c=Object(f.g)(location.search),s=c.code,u=c.state;return s&&D.a.replaceURL(location.origin+location.pathname+"?"+Object(f.b)(i()(i()({},Object(f.g)(location.search)),{},{code:null,state:null}))),n?o():s?function(e,t){return F.apply(this,arguments)}(e,{code:s,state:u}):o()}function Y(){return U.isNativePlatform&&Object(B.c)(U.version,"5.25.0")>=0}function X(e){var t=U.isNativePlatform&&Object(B.c)(U.version,"5.99.0")>=0,n=e.force_show,r=l()(e,["force_show"]),a=t?"login.html":"native_login.html";return new Promise((function(o,c){Object(d.f)("JSNavigation","modal",i()(i()({},t||!1===n?{}:{type:"login"}),{},{props:i()(i()(i()({},r),!1===n||t?{url:Object(f.a)(e,a)}:{}),{},{complete:function(e,t){if(0===e)o({accessToken:t.access_token});else{var n=new Error("native login modal error");n.errorCode=e,c(n)}}})})).catch(c)}))}function Z(e){var t=Object(p.a)(),n=t.isNativePlatform,r=Y();return n?X(i()(i()({},e.nativeParams),r?{force_show:!e.silent}:{})):new Promise((function(){var n=e.from||location.href;t.isWeChatPlatform?location.href=A(location.host,n,e.scopeType):t.isQQPlatform?location.href=j(location.host,n).oAuthUrl:D.a.reload(function(e){return"/login.html?from=".concat(encodeURIComponent(e))}(n))}))}n.d(t,"e",(function(){return re})),n.d(t,"a",(function(){return ae})),n.d(t,"b",(function(){return ie})),n.d(t,"c",(function(){return se})),n.d(t,"d",(function(){return le})),n.d(t,"f",(function(){return de}));var $=!1,ee={};function te(e){var t=e.accessToken,n=e.uid,r=e.uin,a=void 0===r?"":r,o=e.type;return function(e,t,n){V(S,e),V(I,t),V(C,n)}(t,n=n&&String(n),a),function(e,t,n,r){ee={accessToken:e,uid:t,uin:n,type:r}}(t,n,a,o),function(e,t,n){e&&localStorage.setItem(x,e),t&&localStorage.setItem(P,(+t).toString(36)),n&&localStorage.setItem(E,n)}(t,n,a),{accessToken:t,uid:n,uin:a,type:o}}function ne(){Object(m.b)(S),Object(m.b)(I),Object(m.b)(C),ee={},localStorage.removeItem(x),localStorage.removeItem(P),localStorage.removeItem(E)}function re(e){return $=!0,K(e).then(te,(function(e){throw ne(),e}))}function ae(){return oe.apply(this,arguments)}function oe(){return(oe=s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $||console.warn("await init() first to get correct accesstoken"),e.abrupt("return",ee.accessToken||H());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return ce.apply(this,arguments)}function ce(){return(ce=s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $||console.warn("await init() first to get correct uid"),e.abrupt("return",ee.uid||z());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return ue.apply(this,arguments)}function ue(){return(ue=s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $||console.warn("await init() first to get correct uin"),e.abrupt("return",ee.uin||G());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){if(!$)throw new Error("未初始化调用getUserInfoSync");return i()({},ee)}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===e.silent&&(e.silent=!0);var t=e.silent&&Y();return t||ne(),Z(e).then(te)}},"4+4F":function(e,t,n){"use strict";var r=n("iuD5");t.a=function(e){var t=e.payload,n=e.error_msg,a=e.error_code,o=e.page;Object(r.a)({page:o,error_message:n,payload:t,error_code:a},{bizSide:"consumer-platform-fe",appId:"100603",testAppId:"100211"})}},"4D+U":function(e,t,n){e.exports={wrap:"QbDX7Jfg",childHide:"_1BJD4UpY"}},"4fGO":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("MVZn"),a=n.n(r),o=n("MVQ+");function i(e){return Object(o.a)(a()(a()({},e),{},{onCancel:void 0}))}},"4xEa":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("QILm"),s=n.n(c),u=n("q1tI"),l=n.n(u),d=n("TSYQ"),p=n.n(d),f=(n("17x9"),n("/jjR")),m=n("fho7"),h=n("KidB"),v=n.n(h),g={border:void 0,borderColor:void 0,borderWidth:void 0,borderStyle:void 0,borderRadius:void 0},y=Object(u.memo)((function(e){var t=e.style,n=e.size,r=e.borderColor,o=e.lazy,c=e.src,d=e.processParam,h=e.SimpleEmageProps,y=void 0===h?{}:h,_=s()(e,["style","size","borderColor","lazy","src","processParam","SimpleEmageProps"]);Object(m.a)(v.a);var b=Object(u.useMemo)((function(){return i()(i()(i()({},t),g),{},{width:n,height:n})}),[t,n]),k=Object(u.useMemo)((function(){return r?{boxShadow:"0 0 0 2px ".concat(r)}:{}}),[r]),w=i()(i()({},y),{},{src:c,lazy:o,processParam:d});return l.a.createElement("div",a()({},_,{className:p()(_.className,v.a.root,r&&v.a.hasBorder),style:b}),l.a.createElement(f.a,a()({},w,{className:p()(v.a.image,w.className)})),l.a.createElement("div",{className:v.a.border,style:k}))}));t.a=y},"50WD":function(e,t,n){},"5E9K":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._1UBkv9hu{position:relative;z-index:0}._1kCCxWJk{display:inline-block;vertical-align:top;position:relative;left:-2px}._1kCCxWJk:last-child{margin-right:-2px}._1kCCxWJk:first-child{left:0;margin-right:0}",""]),t.locals={root:"_1UBkv9hu",avatar:"_1kCCxWJk"}},"5FZG":function(e,t,n){e.exports={tag:"_1r184qiT",border:"_11WNfbK2"}},"5OuH":function(e,t,n){e.exports={wrapper:"_34XMyt7Q",container:"_1R13RRdw"}},"5Pt6":function(e,t,n){var r=n("wekK"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},"5q+E":function(e,t,n){"use strict";var r=n("MVZn"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("o0o1"),s=n.n(c),u=n("yXPU"),l=n.n(u),d=n("fkZF"),p=n("qnV/"),f=n("gi5g"),m=n("PlGL"),h=n("q1tI"),v=n.n(h),g=n("KoDT"),y=n("h3qu"),_=n("Ip76"),b=n("pVnL"),k=n.n(b),w=n("lwsE"),S=n.n(w),I=n("W8MJ"),C=n.n(I),x=n("PJYZ"),P=n.n(x),E=n("7W2i"),O=n.n(E),N=n("a1gu"),D=n.n(N),T=n("Nsbk"),j=n.n(T),A=n("17x9"),R=n.n(A),W=n("+qE3"),L=n("D+Ft"),M=n("0dFz"),F=n("2xwX"),B=n("rIj9"),U=n("uf4C"),V=n("+bH0"),H=n("b6XL"),q=n("mG/U");var z="undefined"!=typeof window,Q=1,G=2,J=3,K=["2","27","25"];function Y(e){return e=e||"",K.includes(e.toString())}var X=function(e){return 0!=+e&&+e==+e},Z=function(e){O()(o,e);var t,r=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=j()(e);if(t()){var a=j()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return D()(this,n)}}(o);function o(e){var t;S()(this,o),t=r.call(this,e);var n=e.addressInfo||{},a=n.province_id,i=void 0===a?"0":a,c=n.city_id,s=void 0===c?"0":c,u=n.district_id,l=void 0===u?"0":u;return t.state={currentRegionTab:X(s)?J:X(i)?G:Q,panelStyle:{transform:"translateY(3.86rem)"},provinceID:i,provinceName:"",provinces:null,cityID:s,cityName:"",cities:null,districtID:l,districtName:"",districts:null},t.provincesLoaded=!1,t.citiesLoaded=!1,t.districtsLoaded=!1,t.regions={},t.$axiosHttp=t.createAxios(),t.selectCity=t.selectCity.bind(P()(t)),t.loadRegions=t.loadRegions.bind(P()(t)),t.onCityEdited=t.onCityEdited.bind(P()(t)),t.selectDistrict=t.selectDistrict.bind(P()(t)),t.generateHeader=t.generateHeader.bind(P()(t)),t.onCitiesLoaded=t.onCitiesLoaded.bind(P()(t)),t.selectProvince=t.selectProvince.bind(P()(t)),t.selectRegionTab=t.selectRegionTab.bind(P()(t)),t.onDistrictEdited=t.onDistrictEdited.bind(P()(t)),t.onProvinceEdited=t.onProvinceEdited.bind(P()(t)),t.onDistrictsLoaded=t.onDistrictsLoaded.bind(P()(t)),t.onProvincesLoaded=t.onProvincesLoaded.bind(P()(t)),t.setRegionUnionName=t.setRegionUnionName.bind(P()(t)),t.onAddressInfoLoaded=t.onAddressInfoLoaded.bind(P()(t)),t.hideRegionSelectorPanel=t.hideRegionSelectorPanel.bind(P()(t)),t.showRegionSelectorPanel=t.showRegionSelectorPanel.bind(P()(t)),t}return C()(o,[{key:"createAxios",value:function(){var e=U.a.getInstance().getPageID();return Object(B.a)({pageInfo:{pageId:e}})}},{key:"componentWillMount",value:function(){z&&n("yRwX")}},{key:"render",value:function(){var e=this,t=e.state.panelStyle,n=e.props.isShow;return v.a.createElement("div",{id:"region-selector",className:"edit-addr-region-selector",style:{display:n?"":"none"}},v.a.createElement("div",{className:"mars-panel-mask",onClick:function(t){return e.hideRegionSelectorPanel(t)}}),v.a.createElement("div",{id:"region-selector-panel",ref:"regionSelectorPanel",className:"mars-panel",style:t},n&&v.a.createElement(M.b,{ariaLabel:"选择地址的省市区"}),e.generateHeader(),e.generateRegions()))}},{key:"componentDidMount",value:(t=l()(s.a.mark((function e(){var t,n,r,o,i,c,u,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(f.a)(),t=this.props,n=t.addressId,r=t.communityId,o=t.extraRequestParams,i=t.addressInfo,e.prev=2,n){e.next=18;break}if(!r){e.next=10;break}return e.next=7,this.$axiosHttp.post("api/origenes/address/business/recommend",o,{timeout:1200});case 7:c=e.sent,e.next=16;break;case 10:return this.onAddressInfoLoaded(i),this.props.eventEmitter.emit("fillEditAddress",c),u=this.state.currentRegionTab,Object(f.a)(document.getElementById("region-selector-list-".concat(u))),this.showRegionSelectorPanel(),e.abrupt("return");case 16:e.next=23;break;case 18:return l=r?"api/origenes/address/business/query":"api/origenes/address/"+n,e.next=21,this.$axiosHttp.get(l,{timeout:1200,params:a()({address_id:n},o)});case 21:c=e.sent,this.onAddressInfoLoaded(c);case 23:this.props.eventEmitter.emit("fillEditAddress",c.result||c),e.next=31;break;case 26:e.prev=26,e.t0=e.catch(2),Object(p.c)(e.t0),Object(H.a)(Object(q.b)(e.t0.errorCode)||"网络异常，请刷新页面后重试"),this.props.eventEmitter.emit("fillEditAddress",e.t0);case 31:case"end":return e.stop()}}),e,this,[[2,26]])}))),function(){return t.apply(this,arguments)})},{key:"componentWillReceiveProps",value:function(e){var t=e.addressInfo||{},n=this.props.addressInfo||{};t.province_id+""==n.province_id+""&&t.city_id+""==n.city_id+""&&t.district_id+""==n.district_id+""||this.onAddressInfoLoaded(t)}},{key:"componentDidUpdate",value:function(e,t){var n=e.isShow;if(!n&&this.props.isShow!==n){var r=this.state.currentRegionTab;Object(f.a)(document.getElementById("region-selector-list-".concat(r))),this.showRegionSelectorPanel()}}},{key:"generateHeader",value:function(){var e=this,t=e.state,n=t.currentRegionTab,r=t.provinceID,a=t.provinceName,o=t.cityID,i=t.cityName,c=t.districtID,s=t.districtName;return v.a.createElement("div",{className:"mars-panel-header"},v.a.createElement("div",{role:"menu",className:"mars-ph-province ".concat(1===n?"mars-ph-active":""),onClick:function(t){return e.selectRegionTab(Q,t)}},r+""=="0"?v.a.createElement("span",null,"请选择"):v.a.createElement("span",null,a)),r+""!="0"&&!Y(r)&&v.a.createElement("div",{role:"menu",className:"mars-ph-city ".concat(2===n?"mars-ph-active":""),onClick:function(t){return e.selectRegionTab(G,t)}},o+""=="0"?v.a.createElement("span",null,"请选择"):v.a.createElement("span",null,i)),o+""!="0"&&v.a.createElement("div",{role:"menu",className:"mars-ph-district ".concat(3===n?"mars-ph-active":""),onClick:function(t){return e.selectRegionTab(J,t)}},c+""=="0"?v.a.createElement("span",null,"请选择"):v.a.createElement("span",null,s)),v.a.createElement("div",{className:"mars-ph-cancel",onClick:function(t){return e.hideRegionSelectorPanel(t)},role:"button"},"取消"))}},{key:"generateRegions",value:function(){var e=this,t=e.state,n=t.currentRegionTab,r=t.provinces,a=t.provinceID,o=t.cities,i=t.cityID,c=t.districts,s=t.districtID,u=1===n&&r&&r.map((function(t,n){var r=t.region_id+""==a+""?"region-active":"";return v.a.createElement("li",{key:"province-".concat(n),onClick:function(t){return e.selectProvince(t,n)}},v.a.createElement("span",{className:r},t.region_name))})),l=2===n&&o&&o.map((function(t,n){var r=t.region_id+""==i+""?"region-active":"";return v.a.createElement("li",{key:"city-".concat(n),onClick:function(t){return e.selectCity(t,n)}},v.a.createElement("span",{className:r},t.region_name))})),d=3===n&&c&&c.map((function(t,n){var r=t.region_id+""==s+""?"region-active":"";return v.a.createElement("li",{role:"button",key:"city-".concat(n),onClick:function(t){return e.selectDistrict(t,n)}},v.a.createElement("span",{className:r},t.region_name))}));return v.a.createElement("div",{className:"mars-regions"},1===n&&v.a.createElement("ul",{id:"region-selector-list-1",className:"mars-regions-p"},u),!Y(a)&&2===n&&v.a.createElement("ul",{id:"region-selector-list-2",className:"mars-regions-c"},l),3===n&&v.a.createElement("ul",{id:"region-selector-list-3",className:"mars-regions-d"},d))}},{key:"selectDistrict",value:function(e,t){e&&e.stopPropagation();var n=this.state.districts[t];n&&this.onDistrictEdited(n)}},{key:"onDistrictEdited",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.region_id,r=t.region_name,a={districtID:n,districtName:r};this.setState((function(e){return a}),(function(t){e.hideRegionSelectorPanel(),e.setRegionUnionName()}))}},{key:"selectCity",value:function(e,t){e&&e.stopPropagation();var n=this.state.cities[t];n&&this.onCityEdited(n)}},{key:"onCityEdited",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;if(!t.citiesLoaded)return!1;var n=e.region_id,r=e.region_name;if(n+""!="0"){var a={cityID:n,cityName:r};t.districtsLoaded=!1,t.onDistrictsLoaded("0",[]).then((function(){t.setState((function(e){return a}),(function(e){t.loadRegions(J,n).then((function(e){var n=t.state.districtID;t.onDistrictsLoaded(n,e),t.selectRegionTab(J)}))}))}))}}},{key:"onDistrictsLoaded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;t=t.regions||[];var r=this.isRegionIDContainInRegions(e,t),a={districts:t||[],districtID:r&&e||"0",districtName:r&&r.region_name||""};return new Promise((function(e,t){n.setState((function(e){return a}),(function(t){n.districtsLoaded=!0,e()}))}))}},{key:"setRegionUnionName",value:function(){var e=this.state,t=e.provinceID,n=e.cityID,r=e.districtID,a=e.provinceName,o=e.cityName,i=e.districtName,c={};t+""!="0"&&n+""!="0"&&r+""!="0"&&(c=Object.assign({},c,{currentProvinceID:t,currentCityID:n,currentDistrictID:r,currentProvinceName:a,currentCityName:o,currentDistrictName:i})),c=Object.assign({},c,{regionUnionName:a===o?"".concat(o," ").concat(i):"".concat(a,"  ").concat(o,"  ").concat(i)}),this.props.eventEmitter.emit("setRegionUnionName",c)}},{key:"selectProvince",value:function(e,t){e&&e.stopPropagation();var n=this.state.provinces[t];n&&this.onProvinceEdited(n)}},{key:"onProvinceEdited",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;if(t.provincesLoaded){var n=e.region_id,r=e.region_name;n+""!="0"&&(t.citiesLoaded=!1,t.districtsLoaded=!1,t.onCitiesLoaded("0",[]).then((function(){t.onDistrictsLoaded("0",[]).then((function(){var e={provinceID:n,provinceName:r};t.setState((function(t){return e}),(function(e){t.loadRegions(G,n).then((function(e){var r=t.state.cityID;t.onCitiesLoaded(r,e),t.selectRegionTab(G),Y(n)&&t.selectCity(null,0)}))}))}))})))}}},{key:"onCitiesLoaded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=t.self_city_id,a=n.state,o=a.provinceID,i=a.cityID;t=t.regions||[],n.removeToFirst(t,r);var c=n.isRegionIDContainInRegions(e,t),s={cities:t,cityID:c&&e||(Y(o)?i:0),cityName:c&&c.region_name||""};return new Promise((function(e,t){n.setState((function(e){return s}),(function(t){n.citiesLoaded=!0,e()}))}))}},{key:"loadRegions",value:function(e,t){var n=this;return new Promise((function(e,r){if(n.regions[t])return e(n.regions[t]);n.$axiosHttp.get("api/galen/v2/regions/"+t).then((function(r){n.regions[t]=r,e(r)}))}))}},{key:"onAddressInfoLoaded",value:function(e){if(e){var t=this,n=e.region_id||1,r=e.province_id,a=e.city_id,o=e.district_id;t.loadRegions(Q,n).then((function(e){t.onProvincesLoaded(r,e).then((function(){r+""==t.state.provinceID+""&&t.loadRegions(G,r).then((function(e){t.onCitiesLoaded(a,e).then((function(){a+""==t.state.cityID+""?t.loadRegions(J,a).then((function(e){t.onDistrictsLoaded(o,e)})):Object(H.a)("请重新选择地区")}))}))}))}))}}},{key:"isRegionIDContainInRegions",value:function(e,t){if(!t)return null;for(var n=0;n<t.length;++n){var r=t[n];if(r.region_id+""==e+"")return r}return null}},{key:"removeToFirst",value:function(e,t){var n=this.isRegionIDContainInRegions(t,e),r=e.indexOf(n);r<0||(e.splice(r,1),e.unshift(n))}},{key:"onProvincesLoaded",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.self_province_id;n=n.regions||[],this.removeToFirst(n,r);var a=this.isRegionIDContainInRegions(e,n),o={provinces:n,provinceID:e||"0",provinceName:a&&a.region_name||""};return new Promise((function(e,n){t.setState((function(e){return o}),(function(n){t.provincesLoaded=!0,e()}))}))}},{key:"selectRegionTab",value:function(e,t){t&&t.stopPropagation();this.setState((function(t){return{currentRegionTab:e}}),(function(t){Object(f.a)(document.getElementById("region-selector-list-".concat(e)))}))}},{key:"hideRegionSelectorPanel",value:function(e){e&&e.stopPropagation();var t=this,n=t.refs.regionSelectorPanel;M.a.gradualChange(n,386,{wrapValueFn:function(e){return"translateY(".concat(e/100,"rem)")},getValueFn:function(e){return e||0},inStyle:!0,attr:"transform",during:25,stopAdvance:6},(function(){t.props.onClose&&t.props.onClose()}))}},{key:"showRegionSelectorPanel",value:function(e){e&&e.stopPropagation()&&e.preventDefault();var t=this.refs.regionSelectorPanel;M.a.gradualChange(t,0,{wrapValueFn:function(e,t){return"translateY(".concat(e/100,"rem)")},getValueFn:function(e){return e||386},inStyle:!0,attr:"transform",during:25})}}]),o}(h.Component);Z.defaultProps={addressId:"",isShow:!1};var $=Z,ee=n("9AtE"),te=n("eHaf"),ne=n("gseV"),re=n("QILm"),ae=n.n(re),oe=n("9dGU"),ie=n.n(oe),ce=v.a.memo((function(e){var t=e.list,n=void 0===t?[]:t,r=e.onClickHandler,a=Object(h.useRef)();return Object(h.useEffect)((function(){return Object(f.a)(a.current),function(){}}),[]),v.a.createElement("div",{className:ie.a.wrapper},v.a.createElement("div",{className:ie.a.triangle}),v.a.createElement("div",{className:ie.a.cover}),v.a.createElement("div",{className:ie.a.shadown}),v.a.createElement("div",{className:ie.a.list,ref:a},n.map((function(e,t){return v.a.createElement("div",{className:ie.a.item,key:t,onClick:function(){return r(e,t)}},e.text.filter((function(e){return e})).join("，"))}))))})),se=n("sEfC"),ue=n.n(se),le=function(){},de=Object(h.forwardRef)((function(e,t){var n=e.onDebounceChange,r=e.onChange,o=void 0===r?le:r,i=e.onCompositionStart,c=void 0===i?le:i,s=e.onCompositionEnd,u=void 0===s?le:s,l=e.isTextarea,d=void 0!==l&&l,p=ae()(e,["onDebounceChange","onChange","onCompositionStart","onCompositionEnd","isTextarea"]),f=Object(h.useRef)({inputing:!1}),m=Object(h.useCallback)(ue()(n,400),[]),g=a()({onChange:function(e){!f.current.inputing&&m(e.target.value),o(e)},onCompositionStart:function(e){f.current.inputing=!0,c(e)},onCompositionEnd:function(e){f.current.inputing=!1,m(e.target.value),u(e)},ref:t},p);return v.a.createElement(v.a.Fragment,null,d?v.a.createElement("textarea",g):v.a.createElement("input",g))})),pe=function(){},fe=Object(h.forwardRef)((function(e,t){var n=e.value,r=e.onBlur,o=void 0===r?pe:r,c=e.onFocus,u=void 0===c?pe:c,d=e.onSuggestClick,p=e.fetchSuggestData,f=ae()(e,["value","onBlur","onFocus","onSuggestClick","fetchSuggestData"]),m=Object(h.useState)(!1),g=i()(m,2),y=g[0],_=g[1],b=function(){var e=l()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return e.prev=1,e.next=4,p(t);case 4:n=e.sent,_(n.filter((function(e){return null==e?void 0:e.poi_info})).map((function(e){return{text:[e.poi_info.title,e.poi_info.thumb_address],value:e.poi_info}}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),_(null);case 11:e.next=14;break;case 13:_(null);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),k=a()({onFocus:function(e){b(e.target.value),u(e)},onBlur:function(e){setTimeout((function(){_(null)}),100),o(e)},onDebounceChange:b,ref:t,value:n},f);return v.a.createElement(v.a.Fragment,null,v.a.createElement(de,k),!!(null==y?void 0:y.length)&&v.a.createElement(ce,{list:y,onClickHandler:function(e){_(null),d(e)}}))}));n("3EMY");var me,he,ve,ge,ye="undefined"!=typeof window,_e={ContainerProps:{style:{zIndex:12e3,maxWidth:"3rem"}}};function be(e){Object(L.a)(e,_e)}ye&&(me=Object(g.a)(),he=me.system===y.b.IOS&&Object(y.c)(me.systemVersion,"11.0.0")>=0,ve=me.system===y.b.IOS,ge=me.version&&Object(y.c)(me.version,"4.69.0")>=0);var ke=function(e){O()(r,e);var t,n=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=j()(e);if(t()){var a=j()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return D()(this,n)}}(r);function r(e){var t;return S()(this,r),(t=n.call(this,e)).nameOnChange=function(e){e&&e.stopPropagation();var n=P()(t),r=e.target.value;n.setState((function(e){return{title:r}}),(function(){!!r&&t.validName()}))},t.onSuggestClick=function(e){var n=e.value,r=n.title,a=n.thumb_address,o=n.poi_ticket;t.setState({title:r,address:a,poi_ticket:o})},t.fetchSuggestData=function(){var e=l()(s.a.mark((function e(n){var r,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={mix_word:n,size:20,payload:{scene:"community_suggest"},province_id:t.state.currentProvinceID,city_id:t.state.currentCityID,district_id:t.state.currentDistrictID},!t.antiCrawler){e.next=5;break}return e.next=4,t.antiCrawler.messagePackSync();case 4:a.anti_content=e.sent;case 5:return e.next=7,t.$axiosHttp.post("api/ptolemeaus/poi_location/nearby/poi_location_list",a,{defaultErrorHandler:function(){},useNativeAntiToken:!0});case 7:if(!(null==(o=e.sent)||null===(r=o.result)||void 0===r?void 0:r.data)){e.next=10;break}return e.abrupt("return",o.result.data);case 10:throw new Error("poi_location_list res not correct");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.clearAddress=function(e){e&&e.stopPropagation(),t.setState({address:""})},t.saveAddress=Object(M.g)((function(){if(!t.validAddressInfo())return!1;var e=t.state,n=e.currentProvinceID,r=e.currentCityID,a=e.currentDistrictID,o=e.address,i=e.title,c=e.poi_ticket,s=void 0===c?"":c,u=e.post_comment,l=void 0===u?"":u;return t.props.onConfirm({province_id:n,city_id:r,district_id:a,title:i,address:o,refer_poi_ticket:s,post_comment:l,verify:!0})})),t.addrClose=function(e){e&&e.stopPropagation(),t.props.onClose&&t.props.onClose()},t.addrBack=function(e){e&&e.stopPropagation(),t.state.isShowPositionList&&t.setState({isShowPositionList:!1},(function(){Object(f.a)(document.getElementById("address"))}))},t.addressOnChange=function(e){e&&e.stopPropagation();var n=P()(t),r=e.target.value;n.setState((function(e){return{address:r}}))},t.showDialogRegionSelector=function(e){e&&e.stopPropagation()&&e.preventDefault(),P()(t).setState((function(e){return{showRegionSelector:!0}}))},t.hideDialogRegionSelector=function(e){e&&e.stopPropagation()&&e.preventDefault(),P()(t).setState((function(e){return{showRegionSelector:!1}}))},t.state={loaded:!1,title:"",nameInputFocused:!1,address:"",showRegionSelector:!0,currentProvinceID:"0",currentCityID:"0",currentDistrictID:"0",currentProvinceName:"",currentCityName:"",currentDistrictName:"",isNameError:!1,isAddressError:!1,focused:!1,addressInputFocused:!1,addressInfo:t.props.addressInfo},t.regionSelectorRef=v.a.createRef(),t.dialogContainerRef=v.a.createRef(),t.eventEmitter=new W.EventEmitter,t.$axiosHttp=t.createAxios(),t.antiCrawler=t.props.antiCrawler,t.addressNameBlurTimeout=null,t.addressMobileBlurTimeout=null,t}return C()(r,[{key:"createAxios",value:function(){var e=U.a.getInstance().getPageID();return Object(B.a)({pageInfo:{pageId:e}})}},{key:"componentWillMount",value:function(){var e=this,t=this;t.eventEmitter.on("setRegionUnionName",(function(e){t.setState((function(t){return e}))})),t.eventEmitter.on("fillEditAddress",(function(n){if(n instanceof Error)t.props.onClose&&t.props.onClose();else if(Object(F.a)(),e.setState({loaded:!0}),n){var r=n.address,a=n.province_id,o=n.city_id,i=n.district_id,c=n.province,s=n.city,u=n.district,l={address:r,currentProvinceID:a,currentCityID:o,currentDistrictID:i,currentProvinceName:c,currentCityName:s,currentDistrictName:u,regionUnionName:c===s?"".concat(s," ").concat(u):"".concat(c,"  ").concat(s,"  ").concat(u)};t.setState((function(e){return l}))}}))}},{key:"render",value:function(){var e=this.state.loaded,t=v.a.createElement(m.a,{BaseDialogProps:{id:"editCommunityRef"},ControllerProps:{PortalComponent:null,shouldDisableBodyScroll:!1},className:"m-addr-main m-addr-main-new ".concat(ve?"":"android")},v.a.createElement(m.a.CloseButton,{role:"button","aria-label":"关闭提交小区地址弹框",onClick:this.addrClose}),this.generateAddrTitle(),this.generateAddrRegionNew(),this.generatePoi(),this.generateAddrAddressNew(),this.generateAddrReason(),this.generateAddrBottom());return v.a.createElement(ne.a,null,v.a.createElement("div",{ref:this.dialogContainerRef,style:{display:e?"":"none"}},t,this.generateRegionSelector()))}},{key:"componentDidMount",value:(t=l()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.onShowTrackingBase&&Object(te.d)(Object.assign({},this.props.onShowTrackingBase,this.props.trackingContext)),he&&(this.bodyPositionStyle=document.body.style.position,this.bodyScrollTop=Object(M.e)(),document.body.style.position="fixed"),this.antiCrawler||ge){e.next=6;break}return e.next=5,Object(V.a)(this.$axiosHttp);case 5:this.antiCrawler=e.sent;case 6:this.cleanupFixer=Object(ee.a)(document.body),this.unSetAriaActiveDialog=Object(M.h)(document.getElementById("editCommunityRef"));case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e;null===(e=this.unSetAriaActiveDialog)||void 0===e||e.call(this),this.geoHandler&&clearTimeout(this.geoHandler),this.addressNameBlurTimeout&&clearTimeout(this.addressNameBlurTimeout),this.addressMobileBlurTimeout&&clearTimeout(this.addressMobileBlurTimeout),he&&(document.body.style.position=this.bodyPositionStyle,Object(M.i)(this.bodyScrollTop)),this.cleanupFixer&&this.cleanupFixer()}},{key:"generateRegionSelector",value:function(){var e=this.state,t=e.showRegionSelector,n=e.addressInfo,r={onClose:this.hideDialogRegionSelector,eventEmitter:this.eventEmitter,isShow:t,addressInfo:n};return v.a.createElement($,k()({},r,{ref:this.regionSelectorRef}))}},{key:"generateAddrTitle",value:function(){return v.a.createElement("div",{className:"title-wrap-new",role:"heading"},v.a.createElement("div",{className:"m-addr-title"},"请登记小区"),this.props.contentUnderTitle)}},{key:"generateAddrRegionNew",value:function(){var e=this.state,t=e.currentProvinceName,n=e.currentCityName,r=e.currentDistrictName,a=e.regionUnionName,o=t&&n&&r,i=!!this.props.communityId?{className:"m-addr-bar disabled",onClick:this.disbaleToast}:{className:"m-addr-bar",onClick:this.showDialogRegionSelector};return v.a.createElement("div",i,v.a.createElement("div",{className:"m-addr-text"},"地区"),o?v.a.createElement("span",{className:"m-addr-select",role:"button"},a):v.a.createElement("span",{className:"m-addr-select m-addr-placeholder",role:"button"},"点击选择"),v.a.createElement("div",{className:"m-addr-more","aria-hidden":!0}))}},{key:"removeNameError",value:function(e){this.setState((function(e){return{isNameError:!1,focused:!0}}))}},{key:"validName",value:function(){var e=this.state.title;return""===e.trim()?(be("请填写小区"),!1):Object(M.f)(e)>40?(be("小区不能超过20个字"),this.setState((function(e){return{isNameError:!0}})),!1):(this.setState((function(e){return{isNameError:!1}})),!0)}},{key:"clearName",value:function(e){e&&e.stopPropagation(),this.setState({title:""})}},{key:"generatePoi",value:function(){var e=this,t=this.state,n=t.title,r=t.isNameError,a=t.nameInputFocused,o={className:"m-addr-input ".concat(r?"input-error":""),id:"title",placeholder:"小区的全称",value:n,type:"text",onChange:this.nameOnChange,onFocus:function(t){e.setState({nameInputFocused:!0}),e.removeNameError(t)},onBlur:function(){e.addressNameBlurTimeout=setTimeout((function(){e.setState({nameInputFocused:!1})}),0)},fetchSuggestData:this.fetchSuggestData,onSuggestClick:this.onSuggestClick};return v.a.createElement("div",{className:"m-addr-bar"},v.a.createElement("div",{className:"m-addr-text"},"小区"),v.a.createElement(fe,o),n&&v.a.createElement("div",{className:"m-addr-input-clear-wrapper",style:{display:a?"":"none"},onMouseDown:function(t){return e.clearName(t)},onTouchStart:function(t){return e.clearName(t)}},v.a.createElement("div",{className:"m-addr-input-clear"})))}},{key:"generateAddrAddressNew",value:function(){var e=this,t=this.state,n=t.address,r=t.isAddressError,a=t.addressInputFocused,o={id:"address",value:n,placeholder:"请勿填写门牌号，例：虹桥路28弄/号即可",onChange:this.addressOnChange,onFocus:function(t){e.setState({addressInputFocused:!0}),e.removeAddressError(t)},onBlur:function(){e.setState({addressInputFocused:!1})},isTextarea:!0,className:"m-addr-textarea  ".concat(r?"input-error":""),fetchSuggestData:this.fetchSuggestData,onSuggestClick:this.onSuggestClick};return v.a.createElement("div",{className:n?"m-addr-bar":"m-addr-address-none m-addr-bar"},v.a.createElement("div",{className:"m-addr-text"},"小区地址"),v.a.createElement(fe,o),n&&v.a.createElement("div",{className:"m-addr-input-clear-wrapper",onMouseDown:this.clearAddress,onTouchStart:this.clearAddress,style:{opacity:a?1:0}},v.a.createElement("div",{className:"m-addr-input-clear"})))}},{key:"generateAddrReason",value:function(){var e=this,t=this.state,n=t.post_comment,r=t.isAddressError,a={value:n,placeholder:"填写线上错误小区，备注错误原因",onChange:function(t){return e.setState({post_comment:t.target.value})},className:"m-addr-textarea  ".concat(r?"input-error":"")};return v.a.createElement("div",{className:n?"m-addr-bar":"m-addr-address-none m-addr-bar"},v.a.createElement("div",{className:"m-addr-text"},"地址报错(非必填)"),v.a.createElement("textarea",a))}},{key:"generateAddrBottom",value:function(){var e,t=this.state,n=t.addressSuggestionList;return t.isShowPositionList&&(null==n?void 0:n.length)||(e=v.a.createElement("div",{role:"button",className:"m-addr-save-new active",onClick:this.saveAddress},v.a.createElement("span",null,"确定"))),this.startTime=Date.now(),e}},{key:"validAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"address",t=this,n=Object(M.d)(t.state,e)||"";if(!1!==this.shouldIgnoreClearBtnClick){if(""===n.trim())return be("请填写详细地址"),!1;if(Object(M.f)(n)>100)return be("地址不能超过100个字，请删除部分内容"),t.setState((function(e){return{isAddressError:!0}})),!1;var r=/^[0-9]*$/;return r.test(n)?(be("请参考标准格式完整填写，例如：虹桥路11"),t.setState((function(e){return{isAddressError:!0}})),!1):(t.setState((function(e){return{isAddressError:!1}})),!0)}}},{key:"validRegion",value:function(){var e=this.state,t=e.currentProvinceID,n=e.currentCityID,r=e.currentDistrictID;return t+""!="0"&&n+""!="0"&&r+""!="0"||(be("请选择地区"),this.setState((function(){return{showRegionSelector:!0}})),!1)}},{key:"validComment",value:function(){var e;return!((null===(e=this.state.post_comment)||void 0===e?void 0:e.length)>200)||(be("地址报错原因不得超过200字"),!1)}},{key:"validAddressInfo",value:function(){return this.validRegion()&&this.validName()&&this.validAddress()&&this.validComment()}},{key:"removeAddressError",value:function(e){this.setState((function(e){return{isAddressError:!1,focused:!0}}))}}]),r}(h.Component);ke.defaultProps={title:"请提交小区地址",addressInfo:{province_id:"25",city_id:"321",district_id:"0"}};var we=ke,Se=n("SXY3");var Ie=function(e){O()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=j()(e);if(t()){var a=j()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return D()(this,n)}}(n);function n(e){var r;return S()(this,n),(r=t.call(this,e)).state={retryTimes:r.props.retryTimes||0,error:null},r}return C()(n,[{key:"componentDidCatch",value:function(e,t){this.props.catchCallback&&this.props.catchCallback(),Object(p.c)(e,{payload:{event:"component_error_boundary_error",componentStack:(null==t?void 0:t.componentStack)||""}}),+this.state.retryTimes>0&&this.setState({retryTimes:this.state.retryTimes-1,error:null})}},{key:"render",value:function(){return this.state.error?this.props.fallback||v.a.createElement("div",{className:"error-boundary2"}):this.props.children||null}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(v.a.Component);Ie.propsTypes={retryTimes:R.a.number,fallback:R.a.element},Ie.defaultProps={retryTimes:0,fallback:v.a.createElement("div",{className:"error-boundary"})};var Ce,xe,Pe=n("g5zU"),Ee=n.n(Pe),Oe=n("wZrs"),Ne=n.n(Oe),De=n("etlO"),Te=n("ii9O"),je=n("MpJ2"),Ae=function(){var e=l()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ce||(Ce=Object(B.a)({pageInfo:{pageId:null}})),t&&!t.defaultErrorHandler&&(t.defaultErrorHandler=function(){}),t.encodeNativeResponse=!1,e.next=5,Ce(t);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re={serverTime:null,startTime:null,nowTime:function(){return Re.serverTime&&Re.startTime?Re.serverTime+Date.now()-Re.startTime:Date.now()},initServerTime:(xe=l()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae({method:"GET",url:"api/server/_stm"}).then((function(e){return null==e?void 0:e.server_time})).catch((function(){return Date.now()}));case 2:t=e.sent,Re.serverTime=t,Re.startTime=Date.now();case 5:case"end":return e.stop()}}),e)}))),function(){return xe.apply(this,arguments)})};function We(){try{return"undefined"==typeof window?Date.now():Object(g.a)().isNativePlatform?Object(je.f)("JSNetwork","getTimeInfo").then((function(e){return(null==e?void 0:e.server_time)||Date.now()}),(function(){return Date.now()})):Re.nowTime()||Date.now()}catch(e){return Date.now()}}"undefined"!=typeof window&&Re.initServerTime();var Le={isSpinnerShown:!1,timer:null,showWithoutBg:function(){Le.timer=setTimeout((function(){Object(F.c)(),Le.isSpinnerShown=!0}),500)},hide:function(){Le.isSpinnerShown?Object(F.a)():Le.timer&&clearTimeout(Le.timer),Le.isSpinnerShown=!1,Le.timer=null}},Me=function(e,t){try{var n,r=document.querySelectorAll("[role=dialog]");return null==r||r.forEach((function(e){e.getAttribute("aria-hidden")||(n=e),null==e||e.setAttribute("aria-hidden",!0)})),null==e||e.setAttribute("role","dialog"),null==e||e.removeAttribute("aria-hidden"),null==e||e.setAttribute("aria-modal",!0),null==e||e.setAttribute("tabindex",-1),(null==t?void 0:t["aria-label"])&&(null==e||e.setAttribute("aria-label",null==t?void 0:t["aria-label"])),e.focus(),function(){var t;null==e||e.setAttribute("aria-hidden",!0),null===(t=n)||void 0===t||t.removeAttribute("aria-hidden")}}catch(e){Object(p.c)(e)}return function(){}},Fe=function(e){var t=e.dialogId,n=e.ariaLabel;return Object(h.useEffect)((function(){var e;return setTimeout((function(){var r=document.getElementById(t);e=r&&Me(r,{"aria-label":n})}),1),function(){e&&e()}}),[t,n]),null},Be=n("ichq"),Ue=n.n(Be),Ve=function(e){var t=e.className;return v.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:t||Ue.a.openIcon},v.a.createElement("path",{d:"M292.7001 1023.997654c-14.55529 0-29.11058-5.555875-40.222331-16.666452-22.222327-22.222327-22.222327-58.241099 0-80.444661l414.646321-414.64632-415.145962-415.128369c-22.222327-22.203561-22.222327-58.222333 0-80.444661s58.222333-22.222327 80.44466 0l428.554188 428.535422c36.944165 36.981696 36.944165 97.111113 0.037532 134.074043L332.92243 1007.331202c-11.11175 11.11175-25.66704 16.666452-40.22233 16.666452z"}))},He=function(e){var t=e.refreshScroll,n=e.txt,r=e.cls,a=Object(h.useRef)(),o=Object(h.useRef)(),c=Object(h.useState)(!1),s=i()(c,2),u=s[0],l=s[1],d=Object(h.useState)(!1),p=i()(d,2),f=p[0],m=p[1];return Object(h.useEffect)((function(){a.current.offsetHeight>o.current.offsetHeight+5&&l(!0)}),[]),v.a.createElement("div",{className:"".concat(r," ").concat(f&&Ue.a.open),ref:o,onClick:function(){u&&(m(!0),setTimeout((function(){t&&t()}),10))}},v.a.createElement("div",{ref:a,className:"".concat(Ue.a.innerTxt," ").concat(!f&&u&&Ue.a.needOpen," ").concat(f&&Ue.a.opened)},n),u&&!f&&v.a.createElement(Ve,null))},qe=function(e){var t=e.deadline_time,n=e.timeOutHandler,r=Object(h.useState)(),a=i()(r,2),o=a[0],c=a[1];Object(h.useEffect)((function(){(function(){var e=l()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var u=Object(De.a)({leftTime:1e3*t-o,accuracy:100,timeOutHandler:n}),d=u.totalHours,p=u.minutes,f=u.seconds,m=u.milliSeconds;return v.a.createElement("div",{className:Ue.a.countTime},v.a.createElement("span",null,d,":",p,":",f,".",m),"后结束")},ze="undefined"!=typeof window?h.useLayoutEffect:h.useEffect,Qe=function(e){var t=e.onClick,n=e.item,r=e.refreshScroll;Ee()(Ue.a);var a=Object(h.useRef)({timeOut:!1,queryRecing:!1}),o=null;n.deadline_time&&(o=v.a.createElement(qe,{timeOutHandler:function(){a.current.timeOut=!0},deadline_time:n.deadline_time}));var c=Object(h.useState)(!1),u=i()(c,2),d=u[0],f=u[1];ze((function(){var e=Object(g.a)();n.community_id&&e.isNativePlatform&&Object(y.c)(e.version,"5.70.0")>=0&&f(!0)}),[]);var m=n.member_count<n.customer_num,_=Object(h.useCallback)(l()(s.a.mark((function e(){var t,r,o,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current.queryRecing){e.next=2;break}return e.abrupt("return");case 2:return a.current.queryRecing=!0,Object(F.c)(),e.prev=4,r=function(){Te.a.uniformForward("message_box_menu_alert.html?activity_style_=0&pr_navigation_type=0&pr_hidden_navigation_bar=1&pr_animated=1&pr_pop_animatiion=1&lego_template_name=cicle-group-community-group-buy-goods-list-page&lego_param=".concat(encodeURIComponent(JSON.stringify({community_id:n.community_id}))))},e.next=8,Ae({method:"GET",url:"/api/mensa/community_group/more_goods_group",params:{community_id:n.community_id}}).catch((function(){}));case 8:if(!(null==(o=e.sent)||null===(t=o.community_group_goods_list)||void 0===t?void 0:t.length)){e.next=13;break}r(),e.next=17;break;case 13:return e.next=15,Ae({method:"GET",url:"/api/mensa/community_group/goods_list?offset=0&limit=10&community_id=".concat(encodeURIComponent(n.community_id))}).catch((function(){}));case 15:(null==(c=e.sent)||null===(i=c.community_group_goods_list)||void 0===i?void 0:i.length)?r():Object(H.a)("当前没有热拼中的商品");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),Object(p.c)(e.t0);case 22:Object(F.a)(),a.current.queryRecing=!1;case 24:case"end":return e.stop()}}),e,null,[[4,19]])}))),[n.community_id]);return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:Ue.a.item},v.a.createElement("div",{className:Ue.a.left},v.a.createElement(He,{txt:n.community_name,cls:Ue.a.name,refreshScroll:r}),v.a.createElement(He,{txt:"".concat(n.location_distance?"".concat(n.location_distance," "):"").concat(n.community_address),cls:Ue.a.address,refreshScroll:r})),!1===(null==n?void 0:n.is_valid_transport)?v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{style:{opacity:1},className:Ue.a.middle}),v.a.createElement("div",{className:Ue.a.noSend},v.a.createElement("div",{className:Ue.a.noSendTxt},"暂不可配送"),d&&v.a.createElement("div",{className:Ue.a.showRec,onClick:function(){_()}},"查看该小区可配送商品",v.a.createElement(Ve,{className:Ue.a.showRecIcon})))):v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:Ue.a.middle,"aria-label":"已拼".concat(n.member_count,"件,").concat(n.customer_num,"件成团"),role:"img"},v.a.createElement("div",{className:Ue.a.sales,"aria-hidden":!0},m?v.a.createElement(v.a.Fragment,null,"已拼",n.member_count,m&&v.a.createElement(v.a.Fragment,null,"/",n.customer_num),"件"):v.a.createElement(v.a.Fragment,null,"已成团")),!o&&v.a.createElement("div",{className:Ue.a.progress,"aria-hidden":!0},v.a.createElement("div",{className:Ue.a.progressRed,style:{width:"".concat(n.member_count/n.customer_num*100,"%")}})),o),v.a.createElement("div",{className:Ue.a.btn,role:"button",onClick:function(e){a.current.timeOut?Object(H.a)("当前小区拼团暂时无法参与"):t()}},n.deadline_time?"继续参团":"参与拼团"))))},Ge=function(e){var t=e.onConfirm,n=e.onClose,r=e.params,a=e.axiosHttp,o=e.onClickItem,c=e.getAntiContentAsync,u=e.refreshScroll;Ee()(Ne.a);var y,_,b,k=Object(h.useState)([]),w=i()(k,2),S=w[0],I=w[1],C=Object(h.useState)(!0),x=i()(C,2),P=x[0],E=x[1],O=Object(h.useRef)(),N=function(){var e=l()(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(g.a)().isNativePlatform){e.next=4;break}return e.next=3,c();case 3:r.anti_content=e.sent;case 4:return e.next=6,a.post("api/community/case/upload",r,{useNativeAntiToken:!0,defaultErrorHandler:function(){}});case 6:if(!(null==(n=e.sent)||null===(t=n.result)||void 0===t?void 0:t.success)){e.next=9;break}return e.abrupt("return",n.result.success);case 9:throw new Error("upload response error");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=Object(h.useRef)({onSubmit:(y=l()(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Le.showWithoutBg(),e.prev=1,Object(te.b)({page_el_sn:6872897}),e.next=5,N();case 5:Le.hide(),t(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),Le.hide(),Object(H.a)((null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error_msg)||"网络不稳定，请稍侯重试"),Object(te.c)({page_el_sn:6872895});case 14:case"end":return e.stop()}}),e,null,[[1,9]])}))),b=!1,function(){return b||(_=y.apply(this,arguments),b=!0,_ instanceof Promise?_.then((function(e){return b=!1,e})).catch((function(e){throw b=!1,e})):b=!1),_}),dialogId:"SimilarCommunityList_".concat(Object(d.a)(5))});return Object(h.useEffect)((function(){(function(){var e=l()(s.a.mark((function e(){var o,i,u,l,d,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Le.showWithoutBg(),e.prev=1,Object(g.a)().isNativePlatform){e.next=6;break}return e.next=5,c();case 5:r.anti_content=e.sent;case 6:return e.next=8,a.post("api/community/case/similar/group",r,{useNativeAntiToken:!0,defaultErrorHandler:function(){}});case 8:if(!(null==(u=e.sent)||null===(o=u.result)||void 0===o||null===(i=o.community_groups)||void 0===i?void 0:i.length)){e.next=17;break}l=Date.now(),u.result.community_groups.forEach((function(e,t){e.key="".concat(t,"_").concat(l)})),Le.hide(),I(u.result.community_groups),E(!u.result.reject),e.next=18;break;case 17:throw new Error("no similar community info");case 18:e.next=36;break;case 20:return e.prev=20,e.t0=e.catch(1),e.prev=22,e.next=25,N();case 25:Le.hide(),t(),e.next=36;break;case 29:e.prev=29,e.t1=e.catch(22),Le.hide(),Object(H.a)((null===e.t1||void 0===e.t1||null===(d=e.t1.response)||void 0===d||null===(f=d.data)||void 0===f?void 0:f.error_msg)||"网络不稳定，请稍侯重试"),Object(te.c)({page_el_sn:6872895}),n(),Object(p.c)(e.t1);case 36:case"end":return e.stop()}}),e,null,[[1,20],[22,29]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(h.useEffect)((function(){O.current&&Object(f.a)(O.current)}),[S]),S.length?v.a.createElement(Se.a,{trackingInfo:{page_el_sn:6872896}},v.a.createElement(m.a,{ControllerProps:{shouldDisableBodyScroll:!1,PortalComponent:null},BaseDialogProps:{id:D.current.dialogId},style:{width:"3.2rem"}},v.a.createElement(Fe,{dialogId:D.current.dialogId}),v.a.createElement("div",{className:Ne.a.list},v.a.createElement("div",{className:Ne.a.title},P?"该地址已存在相同/相似小区，可直接参团":"该地址已存在相同/相似小区，无需重复登记，可直接参团"),v.a.createElement("div",{id:"similarCommunityList",ref:O,className:Ne.a.groupList},S.map((function(e,t){return v.a.createElement(Qe,{onClick:function(){o(e)},key:(null==e?void 0:e.key)||t,item:e,refreshScroll:u})})),P&&v.a.createElement(Se.a,{trackingInfo:{page_el_sn:6872897}},v.a.createElement("div",{className:Ne.a.btn,role:"button",onClick:D.current.onSubmit},"以上不是我的小区，继续登记小区")))),v.a.createElement(m.a.CloseButton,{role:"button","aria-label":"关闭相似小区推荐弹框",onClick:n}))):null},Je=n("7DxL"),Ke=n.n(Je),Ye=function(e){var t=e.onConfirm,n=Object(h.useState)("CommunityConfirm_".concat(Object(d.a)(5))),r=i()(n,1)[0];return v.a.createElement(m.a,{BaseDialogProps:{id:r},ControllerProps:{PortalComponent:null,shouldDisableBodyScroll:!1},className:"m-addr-main m-addr-main-new"},v.a.createElement(m.a.CloseButton,{role:"button","aria-label":"关闭对话框",onClick:t}),v.a.createElement(Fe,{dialogId:r}),v.a.createElement("div",{className:Ke.a.container},v.a.createElement("div",{className:Ke.a.title},v.a.createElement("span",null,"小区信息提交成功")),v.a.createElement("div",{className:Ke.a.content},"如信息核实无误，预计将在1~3个工作日内完成小区信息更新"),v.a.createElement("div",{className:Ke.a.btn,onClick:t},"知道了")))},Xe=n("iuD5");function Ze(){return new Promise((function(e,t){setTimeout(e,1e3)})).then((function(e){throw Error("wx query location timeout")}))}function $e(){return new Promise((function(e,t){navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var n=t.coords||{},r=n.latitude,a=void 0===r?0:r,o=n.longitude;e({latitude:a,longitude:void 0===o?0:o})}),(function(t){e({latitude:0,longitude:0})}),{enableHighAccuracy:!1,timeout:6e4,maximumAge:6e4}):e({latitude:0,longitude:0})}))}var et=null;function tt(){return new Promise((function(e,t){window.wx.ready((function(){!function(e){et&&e(et),window.wx.getLocation({success:function(t){var n=t.latitude,r=t.longitude;e(et={latitude:n,longitude:r})},cancel:function(){e(et={latitude:0,longitude:0})}})}(e)}))}))}function nt(){return rt.apply(this,arguments)}function rt(){return(rt=l()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={latitude:0,longitude:0},e.prev=1,e.next=4,Promise.race([tt(),Ze()]);case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t,n){window.mqq.ready((function(){window.mqq&&window.mqq.sensor||t({latitude:0,longitude:0}),window.mqq.sensor.getLocation({allowCacheTime:60},(function(n,r,a,o){t(0!==n?null:{latitude:r,longitude:a,coord_type:5},e)}))}))}))}var ot=n("3INx");n("vBQ9");function it(){var e=Object(g.a)();return!!e.isNativePlatform&&e.statisfy("5.21.0","5.12.0",ot.a.greaterThanEqual)}function ct(){return st.apply(this,arguments)}function st(){return(st=l()(s.a.mark((function e(){var t,n,r,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(je.f)("AMLocation","check");case 3:return t=e.sent,n=(t||{}).is_determined,a=(r=t||{}).is_enabled,o=r.need_reconfirm,Object(g.a)().platform===y.a.PddAndroid&&localStorage.getItem("AMLOCATION_HAS_SET_KEY")&&(n=1),e.abrupt("return",{isDetermined:n,isEnabled:a,needReconfirm:o});case 11:return e.prev=11,e.t0=e.catch(0),Object(p.c)(e.t0),e.abrupt("return",{});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function ut(){return lt.apply(this,arguments)}function lt(){return(lt=l()(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(g.a)().isNativePlatform){e.next=8;break}return e.next=4,ct();case 4:return t=e.sent,n=t.isEnabled,r=t.isDetermined,e.abrupt("return",!(!n||!r));case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e){return pt.apply(this,arguments)}function pt(){return(pt=l()(s.a.mark((function e(t){var n,r,a,o,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.locationScene,r=t.autoRequestAuth,a=void 0===r?1:r,e.prev=1,o={scene:n,auto_request_auth:a},e.next=5,Object(je.f)("AMLocation","getLocationId",o);case 5:return i=e.sent,c=(i||{}).location_id,e.abrupt("return",{locationId:c});case 10:return e.prev=10,e.t0=e.catch(1),Object(p.c)(e.t0),e.abrupt("return",{latitude:0,longitude:0});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var ft=null;function mt(e){return ht.apply(this,arguments)}function ht(){return(ht=l()(s.a.mark((function e(t){var n,r,o,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.locationScene,r=t.autoRequestAuth,!ft){e.next=3;break}return e.abrupt("return",ft);case 3:if(o={latitude:0,longitude:0},i=Object(g.a)(),!i.isNativePlatform||!it()){e.next=12;break}return e.next=9,dt({locationScene:n,autoRequestAuth:r});case 9:o=e.sent,e.next=27;break;case 12:if(!i.isWeChatMiniProgram&&!i.isWeChatPlatform||!window.wx||!window.wx.getLocation){e.next=18;break}return e.next=15,nt();case 15:o=e.sent,e.next=27;break;case 18:if(!i.isQQPlatform){e.next=24;break}return e.next=21,at();case 21:o=e.sent,e.next=27;break;case 24:return e.next=26,$e();case 26:o=e.sent;case 27:return e.next=29,ut();case 29:return c=e.sent,(o=a()(a()({},o),{},{hasLocAuth:c}))&&o.latitude&&(ft=o),e.abrupt("return",o);case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e){return new Promise((function(t,n){setTimeout(t,e)})).then((function(e){throw Error("query location timeout")}))}var gt,yt,_t=function(){var e=l()(s.a.mark((function e(t){var n,r,o,i,c,u,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.locationScene,r=t.autoRequestAuth,o=Object(g.a)(),i=o.isNativePlatform,c={latitude:0,longitude:0},u=o.platform===y.a.PddAndroid&&Object(y.c)(o.version,"5.10.0")>=0||o.platform===y.a.PddIOS&&Object(y.c)(o.version,"5.6.0")>=0,e.prev=5,!u){e.next=12;break}return e.next=9,Promise.race([mt({locationScene:n,autoRequestAuth:r}),vt(1e4)]);case 9:c=e.sent,e.next=15;break;case 12:return e.next=14,Promise.race([mt({locationScene:n,autoRequestAuth:r}),vt(3e3)]);case 14:c=e.sent;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),l=!u,c=a()(a()({},c),{},{hasLocAuth:l});case 21:return e.abrupt("return",a()(a()({enabled:!0},c),{},{isNativePlatform:i}));case 22:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=l()(s.a.mark((function e(t){var n,r,a,o,i,c,u,l,d,p,f,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getAntiContentAsync,r=t.axiosHttp,a=t.locationScene,o=t.autoRequestAuth,e.next=3,_t({locationScene:a,autoRequestAuth:o});case 3:if(i=e.sent,Object(Xe.a)({page:"getCurrentLocationId",error_code:"getCurrentLocationId",payload:{res:i}}),u=(c=i||{}).longitude,l=c.latitude,c.hasLocAuth,!(d=c.locationId)){e.next=8;break}return e.abrupt("return",d);case 8:if(!u||!l){e.next=17;break}if(Object(g.a)().isNativePlatform){e.next=13;break}return e.next=12,n();case 12:f=e.sent;case 13:return e.next=15,r.post("/api/ptolemeaus/location/report",{payload:{scene:a},location:{lng:u,coordinate_type:1,lat:l},anti_content:f},{defaultErrorHandler:function(){},useNativeAntiToken:!0});case 15:return m=e.sent,e.abrupt("return",null==m||null===(p=m.result)||void 0===p?void 0:p.location_id);case 17:return e.abrupt("return",void 0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=n("7yJJ");function wt(){"function"==typeof window.scrollTo&&(clearTimeout(yt),yt=setTimeout((function(){var e=Object(kt.a)();(!document.activeElement||!["INPUT","TEXTAREA"].includes(document.activeElement.tagName))&&window.scrollTo(0,e+1)}),10))}function St(e){return gt||(gt=Object(g.a)()),gt.system===y.b.IOS&&Object(y.c)(gt.systemVersion,"12.0")>=0?(e.addEventListener("focusout",wt),function(){e.removeEventListener("focusout",wt)}):function(){}}var It=n("H3Rn"),Ct=n.n(It),xt=n("uNt9"),Pt=n.n(xt),Et=function(e){var t=e.cls,n=void 0===t?"":t,r=e.style,a=void 0===r?{}:r;return v.a.createElement("svg",{className:"".concat(n||Pt.a.searchIcon),style:a,viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v.a.createElement("path",{d:"M1011.061 963.072L841.394 793.406a34.062 34.062 0 0 0-4.603-3.86c72.472-83.395 116.343-192.31 116.343-311.479C953.133 215.681 740.453 3 478.067 3 215.681 3 3 215.681 3 478.067c0 262.386 212.681 475.067 475.067 475.067 119.168 0 228.084-43.87 311.479-116.343a34.132 34.132 0 0 0 3.86 4.604l169.667 169.667c13.252 13.252 34.737 13.252 47.989 0 13.251-13.253 13.251-34.738-0.001-47.99z m-532.994-77.805c-224.904 0-407.2-182.296-407.2-407.2s182.296-407.2 407.2-407.2 407.2 182.296 407.2 407.2-182.296 407.2-407.2 407.2z",fill:"#9c9c9c"}))},Ot=function(e){var t=e.onClick;return v.a.createElement("svg",{role:"img","aria-label":"退出搜索",onClick:t,className:Pt.a.backIcon,viewBox:"0 0 512 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},v.a.createElement("path",{d:"M525.89 1021.75a24.63 24.63 0 0 1-17.21-7L8.51 529.45a24.72 24.72 0 0 1 0-35.48L508.68 8.64a24.72 24.72 0 0 1 34.42 35.49L61.21 511.71l481.9 467.59a24.72 24.72 0 0 1-17.21 42.46z m0 0"}))},Nt=function(e){var t=e.cls;return v.a.createElement("svg",{className:t,viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},v.a.createElement("path",{d:"M624.10827 511.996481l375.931278-373.359185c31.939451-31.720125 31.939451-83.127957 0-114.848082-31.940624-31.720125-83.705006-31.720125-115.64563 0l-372.396264 369.828863L139.600218 23.789214c-31.939451-31.720125-83.705006-31.720125-115.644457 0s-31.939451 83.127957 0 114.848082l375.931277 373.359185L23.955761 885.355667c-31.939451 31.720125-31.939451 83.127957 0 114.848082 15.969725 15.859476 36.895977 23.790387 57.822229 23.790387s41.852503-7.929738 57.822228-23.790387l372.397436-369.828863 372.397436 369.828863c15.969725 15.859476 36.895977 23.790387 57.822229 23.790387s41.852503-7.929738 57.822229-23.790387c31.939451-31.720125 31.939451-83.127957 0-114.848082L624.10827 511.996481z",fill:"#fff"}))},Dt=function(e){var t=e.onClick;return v.a.createElement("div",{onClick:t,className:Pt.a.clearIcon},v.a.createElement(Nt,{cls:Pt.a.clearIconSvg}))};var Tt=function(e){var t=e.setIsSearching,n=e.isSearching,r=e.onSearch,a=e.onChangeSearchValue,o=Object(h.useRef)(),c=Object(h.useRef)({});c.current.onChangeSearchValue=a;var s,u,l,d=Object(h.useCallback)((s=function(e){c.current.onChangeSearchValue(e)},u=500,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l&&clearTimeout(l);var r=this;l=setTimeout((function(){l=null,s.apply(r,t)}),u)}),[]),p=Object(h.useState)(""),f=i()(p,2),m=f[0],g=f[1],y=function(){var e,t;null===(e=o.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e),setTimeout((function(){var e,t;null===(e=o.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e)}),10)},_=function(){g(""),S(!1),y()};Object(h.useEffect)((function(){n&&y()}),[n]),Object(h.useEffect)((function(){c.current.inputing||d(m)}),[m,d]);var b=Object(h.useState)(!1),k=i()(b,2),w=k[0],S=k[1],I=n&&w,C=function(){m.trim()?(S(!0),r({value:m})):Object(H.a)("请输入小区名")};return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:n?Pt.a.searching:Pt.a.search,onClick:function(){n?(S(!1),y()):(t(!0),y()),Object(te.b)({page_el_sn:6872890})}},n&&v.a.createElement(Ot,{onClick:function(e){var n;null===(n=o.current)||void 0===n||n.blur(),t(!1),S(!1),g(""),e.stopPropagation()}}),v.a.createElement(Et,{style:{zIndex:1},cls:n&&Pt.a.noInitSearchIcon}),v.a.createElement("div",{className:"".concat(Pt.a.searchingPlaceholder," ").concat(!n&&Pt.a.init," ").concat(w&&Pt.a.sended),onClick:function(){}}),v.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),C()}},v.a.createElement("input",{ref:o,style:{opacity:I&&"0"},"aria-hidden":!n,maxLength:30,onChange:function(e){g(e.target.value)},value:m,className:"".concat(Pt.a.searchInput," ").concat(!n&&Pt.a.init),placeholder:"输入小区名或小区地址搜索",onCompositionStart:function(){c.current.inputing=!0},onCompositionEnd:function(){c.current.inputing=!1}})),!n&&v.a.createElement("div",{className:Pt.a.initPlacehilder},"输入小区名搜索"),n&&w&&!!m&&v.a.createElement("div",{className:Pt.a.tagSearch,onClick:function(){}},v.a.createElement("span",null,m),v.a.createElement(Nt,{cls:Pt.a.valueClear}),v.a.createElement("div",{className:Pt.a.clearArea,onClick:function(e){_(),e.stopPropagation()}})),n&&!w&&!!m&&v.a.createElement(Dt,{onClick:function(){var e,t;_(),null===(e=o.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e)}}),n&&!w&&v.a.createElement("div",{className:Pt.a.btn,role:"button",onClick:function(e){e.stopPropagation(),C()}},"搜索")))},jt=function(){var e=l()(s.a.mark((function e(t){var n,r,a,o,i,c,u,l,d,p,f,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.axiosHttp,a=t.goodsId,o=t.detailId,i=t.activityGroupNumLimit,c=t.searchValue,u=void 0===c?void 0:c,l=t.locationId,d=void 0===l?void 0:l,p=t.communityId,f=void 0===p?void 0:p,e.next=3,r.post("/api/neighbor/community/list",{goods_id:a,detail_id:o,activity_group_num_limit:i,community_name:u||"",limit:30,location_id:d,community_id:f},{defaultErrorHandler:function(){}});case 3:return m=e.sent,h=Date.now(),(null==m||null===(n=m.community_group_vo_list)||void 0===n?void 0:n.length)&&m.community_group_vo_list.forEach((function(e,t){e.key="".concat(t,"_").concat(u,"_").concat(h)})),e.abrupt("return",m);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=l()(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.axiosHttp,r=t.communityId,e.next=3,n.post("/api/origenes/address/business/check",{community_address_request:{community_id:r},scene_id:1000097},{defaultErrorHandler:function(){}}).catch((function(){}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt=n("7tfo"),Wt=n.n(Rt);function Lt(){return v.a.createElement("img",{src:"https://funimg.pddpic.com/core-ui/spinner.png",className:Wt.a.root})}var Mt,Ft="undefined"==typeof window?h.useEffect:h.useLayoutEffect,Bt="init",Ut="none",Vt="success",Ht=function(){var e=l()(s.a.mark((function e(t){var n,r,a,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.axiosHttp,r=t.getAntiContentAsync,a=t.autoRequestAuth,o=void 0===a?0:a,e.next=3,bt({axiosHttp:n,getAntiContentAsync:r,locationScene:"community_group",autoRequestAuth:o});case 3:i=e.sent,Mt=i;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qt=Object(h.forwardRef)((function(e,t){var n=e.isShowDialog,r=e.isShowSearching,o=e.onCloseDialog,c=e.onShowDialog,u=e.axiosHttp,b=e.renderView,k=e.getAntiContentAsync,w=e.onConfirm,S=e.goodsId,I=e.communityInitData,C=e.userCommunityId,x=e.activityGroupNumLimit,P=e.detailId,E=null==I?void 0:I.community_group_vo_list,O=null==I?void 0:I.community_group_list_title,N=Object(h.useState)(!1),D=i()(N,2),T=D[0],j=D[1],A=Object(h.useState)(!1),R=i()(A,2),W=R[0],L=R[1],M=Object(h.useState)(),F=i()(M,2),B=F[0],U=F[1],V=Object(h.useState)(!1),H=i()(V,2),q=H[0],z=H[1],Q=Object(h.useState)(Bt),G=i()(Q,2),J=G[0],K=G[1],Y=Object(h.useState)(!!(null==E?void 0:E.length)),X=i()(Y,2),Z=X[0],$=X[1],ee=Object(h.useState)(E||[]),ne=i()(ee,2),re=ne[0],ae=ne[1],oe=Object(h.useState)(O),ie=i()(oe,2),ce=ie[0],se=ie[1],ue=Object(h.useState)(!1),le=i()(ue,2),de=le[0],pe=le[1],fe=Object(h.useState)([]),me=i()(fe,2),he=me[0],ve=me[1];Ft((function(){j(r)}),[r,n]);var ge=Object(h.useRef)({searchingValue:"",getAntiContentAsync:k,axiosHttp:u,communityListId:"communityListRef_".concat(Object(d.a)(5))});ge.current.onShowDialog=c,Object(h.useEffect)((function(){n&&ge.current.onShowDialog&&ge.current.onShowDialog()}),[n]),ge.current.getAntiContentAsync=k,ge.current.axiosHttp=u,ge.current.queryGroupList=function(){var e=l()(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t||{}).searchValue,e.next=3,jt({axiosHttp:u,detailId:P,activityGroupNumLimit:x,goodsId:S,searchValue:n,locationId:Mt,communityId:C}).catch((function(e){Object(p.c)(e)}));case 3:return(null==(r=e.sent)?void 0:r.community_group_list_title)&&se(null==r?void 0:r.community_group_list_title),(null==r?void 0:r.is_community_group_limit)&&pe(!0),e.abrupt("return",(null==r?void 0:r.community_group_vo_list)||[]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge.current.querySearchGroupList=function(){var e=l()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null==t?void 0:t.searchValue)!==ge.current.searchingValue){e.next=2;break}return e.abrupt("return");case 2:return ge.current.searchingValue=t.searchValue,e.next=5,ge.current.queryGroupList(t);case 5:if(n=e.sent,t.searchValue===ge.current.searchingValue){e.next=8;break}return e.abrupt("return");case 8:n.length?K(Vt):K(Ut),ve(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge.current.onClickItem=function(){var e=l()(s.a.mark((function e(n){var r,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ge.current.isonConfirming){e.next=2;break}return e.abrupt("return");case 2:return ge.current.isonConfirming=!0,e.prev=3,e.next=6,At({axiosHttp:u,communityId:n.community_id});case 6:return a=e.sent,o=!!(null==a||null===(r=a.result)||void 0===r?void 0:r.address_id),e.next=10,w({groupItem:n,checkAddressResult:null==a?void 0:a.result,success:o,groupListScrollRef:t,isCommunityGroupLimit:de});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),Object(p.c)(e.t0);case 15:ge.current.isonConfirming=!1;case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),Object(h.useEffect)((function(){if(n)return Object(f.a)(null==t?void 0:t.current),function(){Object(f.c)(),ge.current.bScrollInstance=null}}),[n,t]),Object(h.useEffect)((function(){if(n)return St(document.body)}),[n]),Object(h.useEffect)((function(){var e=function(){var e=l()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mt){e.next=3;break}return e.next=3,Ht({axiosHttp:ge.current.axiosHttp,getAntiContentAsync:ge.current.getAntiContentAsync,autoRequestAuth:1});case 3:return e.next=5,ge.current.queryGroupList();case 5:(t=e.sent)&&ae(t),$(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(null==re?void 0:re.length)||e()}),[re.length]),Object(h.useEffect)((function(){T||(ge.current.searchingValue="",ve([]),K(Bt))}),[T]);var ye=T?he:re,_e=function(){return(null==ye?void 0:ye.length)?v.a.createElement("div",{className:Ct.a.groupList},ye.map((function(e,t){return v.a.createElement(Qe,{onClick:function(){ge.current.onClickItem(e),Object(te.b)({page_el_sn:T?6872891:6872880})},key:(null==e?void 0:e.key)||t,item:e,refreshScroll:function(){var e;ge.current.bScrollInstance&&(null===(e=ge.current.bScrollInstance)||void 0===e||e.refresh())}})})),T?v.a.createElement(Se.a,{trackingInfo:{page_el_sn:6872892}},v.a.createElement("div",{className:Ct.a.bottomTips,role:"button",onClick:function(){L(!0),Object(te.b)({page_el_sn:6872892})}},"小区没有找到或有错误， 立即登记小区",v.a.createElement("i",null))):v.a.createElement("div",{className:Ct.a.bottomTips,onClick:function(){j(!0)}},"找更多小区试试",v.a.createElement("span",{role:"button"},"搜索小区"))):!(null==ye?void 0:ye.length)&&T?J===Ut?v.a.createElement("div",{className:Ct.a.emptyList},v.a.createElement("div",null,"暂无搜索结果"),v.a.createElement(Se.a,{trackingInfo:{page_el_sn:6872892}},v.a.createElement("div",{className:Ct.a.bottomTips,role:"button",onClick:function(){L(!0),Object(te.b)({page_el_sn:6872892})}},"小区没有找到或有错误， 立即登记小区",v.a.createElement("i",null)))):null:!Z||(null==ye?void 0:ye.length)||T?v.a.createElement(Lt,null):v.a.createElement("div",{className:Ct.a.emptyList},v.a.createElement("span",{onClick:function(){j(!0)}},"输入小区名或小区地址",v.a.createElement("span",{className:Ct.a.blue},"搜索小区")))},be=T||!ce,ke=Object(h.useState)(!1),Ce=i()(ke,2),xe=Ce[0],Pe=Ce[1];Object(h.useEffect)((function(){Object(g.a)().system===y.b.Android&&Pe(!0)}),[]);var Ee=Object(h.useRef)();Object(h.useEffect)((function(){if(xe&&Ee.current){var e;if(ge.current.bScrollInstance)return void(null===(e=ge.current.bScrollInstance)||void 0===e||e.refresh());ge.current.bScrollInstance=new _.a(Ee.current,{probeType:3,preventDefault:!1})}}),[xe,be,ye.length,T,J,Z,n]);var Oe=v.a.createElement(m.a,{ControllerProps:{shouldDisableBodyScroll:!1,PortalComponent:null},BaseDialogProps:{id:ge.current.communityListId},style:{width:"3.2rem"}},v.a.createElement(Fe,{dialogId:ge.current.communityListId,ariaLabel:"参与小区拼团"}),v.a.createElement("div",{className:Ct.a.main},v.a.createElement(Se.a,{key:T,trackingInfo:{page_el_sn:T?6872882:6872878}},v.a.createElement("div",{className:Ct.a.title,tabIndex:0},T?"请搜索你要参与的小区拼团":"请选择你要参与的小区拼团")),v.a.createElement(Tt,{setIsSearching:j,isSearching:T,onSearch:function(){var e=l()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.value,e.next=3,ge.current.querySearchGroupList({searchValue:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onChangeSearchValue:function(e){e&&ge.current.querySearchGroupList({searchValue:e})}}),!T&&ce&&v.a.createElement("div",{className:Ct.a.desc},v.a.createElement("div",{className:Ct.a.line}),v.a.createElement("span",null,ce),v.a.createElement("div",{className:Ct.a.line})),v.a.createElement("div",{className:Ct.a.list},xe?v.a.createElement("div",{key:"2",ref:Ee,className:Ct.a.listScrollAndroid,style:{height:be?"3.5rem":"3.2rem"}},v.a.createElement("div",null,_e())):v.a.createElement("div",{key:"1",ref:t,className:Ct.a.listScrollIos,style:{height:be?"3.5rem":"3.2rem"}},_e()))),v.a.createElement(m.a.CloseButton,{role:"button","aria-label":"关闭对话框",onClick:function(){o()}}));return v.a.createElement(v.a.Fragment,null,b&&b({isSearching:T,groupInitList:re,groupSearchedList:he,onClickItem:ge.current.onClickItem,hasInit:Z}),n&&Oe,W&&v.a.createElement(Ie,null,v.a.createElement(Se.a,{trackingInfo:{page_el_sn:6872893}},v.a.createElement(we,{addressInfo:{province_id:"0",city_id:"0",district_id:"0"},onClose:function(){L(!1)},onConfirm:function(e){U(e),Object(te.b)({page_el_sn:6872894})}}))),B&&v.a.createElement(Ie,null,v.a.createElement(Ge,{onClose:function(){U(null)},onConfirm:function(){U(null),z(!0)},onClickItem:function(e){ge.current.onClickItem(e),Object(te.b)({page_el_sn:6872898})},axiosHttp:u,params:a()(a()({},B),{},{goods_id:S,size:20}),getAntiContentAsync:k,refreshScroll:function(){var e;ge.current.bScrollInstance&&(null===(e=ge.current.bScrollInstance)||void 0===e||e.refresh())}})),q&&v.a.createElement(Ye,{onConfirm:function(){z(!1),L(!1),o()}}))}));t.a=qt},"5z97":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={iconName:"arrowsRight",path:"M292.7001 1023.997654c-14.55529 0-29.11058-5.555875-40.222331-16.666452-22.222327-22.222327-22.222327-58.241099 0-80.444661l414.646321-414.64632-415.145962-415.128369c-22.222327-22.203561-22.222327-58.222333 0-80.444661s58.222333-22.222327 80.44466 0l428.554188 428.535422c36.944165 36.981696 36.944165 97.111113 0.037532 134.074043L332.92243 1007.331202c-11.11175 11.11175-25.66704 16.666452-40.22233 16.666452z"}},"6uy4":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),s=n.n(c),u=n("a1gu"),l=n.n(u),d=n("Nsbk"),p=n.n(d),f=n("q1tI"),m=(n("17x9"),n("2xwX"));var h=function(e){s()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=p()(e);if(t()){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.msg,n=e.hideBg;Object(m.b)(t,{hideBg:n})}},{key:"componentWillUnmount",value:function(){Object(m.a)()}},{key:"render",value:function(){return null}}]),n}(f.PureComponent);h.defaultProps={hideBg:!1,msg:""}},"7+eN":function(e,t,n){"use strict";function r(e){var t=document.createElement("a");return t.href=e,t}n.d(t,"a",(function(){return r}))},"77Gi":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2vFepLDg{line-height:.25rem;font-size:.17rem;color:#151516;text-align:center}",""]),t.locals={root:"_2vFepLDg"}},"79DA":function(e,t,n){var r=n("7Fyt"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},"79ez":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2T3MNPwg,._14Av0e22{width:.99rem;height:.4rem;border-radius:.04rem;background-color:#f8f8f8;position:relative;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-flex-direction:column}._1ZwXP2oj._14Av0e22,._2T3MNPwg._1ZwXP2oj{height:.58rem}._14Av0e22{background-color:#fdf3f2}._14Av0e22._1ZwXP2oj{height:.58rem}._14Av0e22 ._298vxvdk{color:#fff;background-color:#e02e24}._298vxvdk{position:absolute;top:0;left:0;padding-left:.03rem;padding-right:.03rem;font-size:.1rem;background-color:#ebebeb;border-top-left-radius:.04rem;border-bottom-right-radius:.04rem}._3I5ESJjt,._298vxvdk,.mn2qKN_8,.Njggb0W3{color:#58595b;height:.12rem;line-height:.12rem}._3I5ESJjt,.mn2qKN_8,.Njggb0W3{font-size:.12rem;text-align:center;overflow:visible}.Njggb0W3{color:#e02e24}.mn2qKN_8{color:#9c9c9c}._2fIkar-1,._2imH6L-E,._3JvB3rx_{height:.12rem;line-height:.12rem;color:#58595b;margin-top:.04rem;font-size:.12rem;text-align:center}._2fIkar-1{color:#e02e24}._3JvB3rx_{color:#9c9c9c}.pdd_payment_list_elder_mode ._2T3MNPwg,.pdd_payment_list_elder_mode ._14Av0e22{width:1.54rem;height:.58rem}.pdd_payment_list_elder_mode ._3I5ESJjt,.pdd_payment_list_elder_mode .mn2qKN_8,.pdd_payment_list_elder_mode .Njggb0W3{height:.16rem;font-size:.16rem;line-height:.16rem}.pdd_payment_list_elder_mode ._2fIkar-1,.pdd_payment_list_elder_mode ._2imH6L-E,.pdd_payment_list_elder_mode ._3JvB3rx_{height:.16rem;margin-top:.06rem;line-height:.16rem;font-size:.16rem}",""]),t.locals={installment:"_2T3MNPwg",selectedInstallment:"_14Av0e22",hasPromotionContent:"_1ZwXP2oj",promotionContent:"_298vxvdk",number:"_3I5ESJjt",selectedNumber:"Njggb0W3",disableNumber:"mn2qKN_8",money:"_2imH6L-E",selectedMoney:"_2fIkar-1",disableMoney:"_3JvB3rx_"}},"7Aih":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n("J4zp"),a=n.n(r),o=n("qnV/"),i=n("fkZF"),c=n("AGSb"),s=n("gNBk"),u=n("LJxE");function l(e){if(!e)return 0;var t=e.split("."),n=a()(t,3),r=n[0],o=n[1],i=n[2],c=[o,i].map((function(e){return"string"!=typeof e?"00":e.padStart(2,"0")})),s=a()(c,2);return+[r,o=s[0],i=s[1]].join("")}var d=Object(o.a)((function(e){var t=window.__MONITOR_INFOS__;return t&&t.reqId?"monitor_".concat(e,"_").concat(t.reqId):"monitor_".concat(e,"_").concat(Object(i.a)())})),p=0;function f(){return new Promise((function(e){if(p)return e(p);if(s.a.isNativePlatform&&window.pinbridge){return window.pinbridge.callNative("AMUser","info",null,(function(t){p=t.user_id||0,e(p)}),(function(){p=Object(c.a)(u.d),e(p)}))}p=Object(c.a)(u.d),e(p)}))}},"7BTs":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3sOFMl4c{position:fixed;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.8);z-index:11000}",""]),t.locals={root:"_3sOFMl4c"}},"7DxL":function(e,t,n){e.exports={container:"_3TsZ57jT",title:"_12cQeSoX",content:"_17RHojB6",btn:"JXFpPaM_"}},"7Fyt":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._1gleTZu3,.YzrsYunx,.Z_PzP4Uo{position:absolute;height:.4rem;top:.48rem;left:.44rem;right:0;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start;-webkit-box-align:start;align-items:flex-start;-webkit-align-items:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap}.pdd_payment_list_v2_mode ._1gleTZu3,.pdd_payment_list_v2_mode .YzrsYunx,.pdd_payment_list_v2_mode .Z_PzP4Uo{top:.5rem}.Z_PzP4Uo{height:1.38rem}._1gleTZu3,.Z_PzP4Uo{top:.56rem;padding-bottom:.02rem}._1gleTZu3{height:.7rem}.urc_w4Av{margin-right:.1rem}",""]),t.locals={hbInstallmentList:"YzrsYunx",hbInstallmentList4Elder:"Z_PzP4Uo",hbInstallmentList2Elder:"_1gleTZu3",installmentContainer:"urc_w4Av"}},"7MjH":function(e,t,n){e.exports={contact:"h6mab8Em"}},"7ftN":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,a,o=n("o0o1"),i=n.n(o),c=n("yXPU"),s=n.n(c),u=n("rIj9"),l=n("uf4C"),d=n("3sKm"),p=n("x9rp");!function(e){e.POST="POST",e.GET="GET"}(a||(a={})),t.b=function(){var e=s()(i.a.mark((function e(t){var n,a,o,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{isAuth:!1,isFormat:!1},r||(a=Object(l.c)(),r=Object(u.a)({pageInfo:{pageId:a}})),!(null==n?void 0:n.isAuth)){e.next=9;break}return e.next=5,Object(d.a)();case 5:if(e.sent){e.next=9;break}return e.next=9,Object(d.f)();case 9:return t&&!t.defaultErrorHandler&&(t.defaultErrorHandler=function(){}),t.encodeNativeResponse=!1,e.next=13,r(t);case 13:if(o=e.sent,!n||!n.isFormat){e.next=16;break}return e.abrupt("return",Object(p.d)(o));case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"7tfo":function(e,t,n){e.exports={root:"_16Fz1kV9",cuiSpinner:"sv8V_cdL"}},"7wPb":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var r,a,o=n("MVZn"),i=n.n(o),c=n("QILm"),s=n.n(c),u=n("xJ31"),l=n("AGSb"),d=n("Dqx9"),p=n("M0wS"),f=n("h3qu");function m(e,t){var n,r=Object(d.i)(null==e||null===(n=e.datas[0])||void 0===n?void 0:n.type,t);if(Object(p.b)().isNativePlatform&&window.pinbridge)window.pinbridge.callNative("JSNetwork","request",{method:"POST",url:r,headers:{"Content-Type":"text/plain;charset=UTF-8"},data:JSON.stringify(e)});else{var a=new XMLHttpRequest;a.open("POST",r,!0),a.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),a.withCredentials=!0,a.send(JSON.stringify(e))}}function h(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.bizSide,o=r.appId,c=r.testAppId,u=n.app_version,l=n.log_version,p=n.network,f=n.page,m=n.page_id,h=n.page_name,b=n.page_sn,k=n.page_url,w=n.payload,S=n.platform,I=n.refer_page_id,C=n.refer_page_name,x=n.refer_page_sn,P=n.user_agent,E=n.user_id,O=n.error_msg,N=n.error_message,D=n.serverIp,T=void 0===D?"":D,j=n.httpCode,A=void 0===j?"":j,R=n.http_code,W=n.httpMethod,L=void 0===W?"":W,M=n.errorCode,F=void 0===M?"555555":M,B=n.error_code,U=n.module,V=void 0===U?"":U,H=n.pageId,q=void 0===H?"":H,z=n.referPageId,Q=void 0===z?"":z,G=n.type,J=n.url,K=n.lvalues,Y=n.fvalues,X=s()(n,["app_version","log_version","network","page","page_id","page_name","page_sn","page_url","payload","platform","refer_page_id","refer_page_name","refer_page_sn","user_agent","user_id","error_msg","error_message","serverIp","httpCode","http_code","httpMethod","errorCode","error_code","module","pageId","referPageId","type","url","lvalues","fvalues"]),Z=Object(d.e)();((null==O?void 0:O.indexOf("lazy_image_error"))>-1||(null==O?void 0:O.indexOf("cui_image_error"))>-1)&&(e=!0,t=null==w?void 0:w.src);var $=G===d.b.NORMAL_LOG,ee=y(i()(i()({},Z),w)),te=ee||{},ne=te.sub_op,re="api_error"===ne,ae=G||e&&d.b.RESOURCE_ERROR||$&&d.b.NORMAL_LOG||d.b.CUSTOM_ERROR,oe=v({bizSide:a,appId:o,testAppId:c,app_version:u}),ie=g(S,E),ce=_({app_version:u,log_version:l,network:p,page:f,page_id:m,page_name:h,page_sn:b,page_url:k,refer_page_id:I,refer_page_name:C,refer_page_sn:x,user_agent:P,error_msg:O,error_message:N||ee.error_message,serverIp:T,httpCode:A||R,httpMethod:L,errorCode:F,error_code:B,module:V,pageId:q,referPageId:Q,url:J||t},r,re);if($){var se=y(X);ce=i()(i()({},ce),se)}return oe.common_tags=ie,oe.datas=[i()({category:G===d.b.NORMAL_LOG?d.a.LOG:d.a.ERROR,type:ae,timestamp:Date.now(),tags:ce,extras:ee},G===d.b.NORMAL_LOG?{lvalues:K,fvalues:Y}:{})],oe}function v(e){var t,n=e||{},a=n.bizSide,o=n.appId,i=n.testAppId,c=n.app_version,s=Object(d.d)({bizSide:a,appId:o,testAppId:i}),l=Date.now(),p=Math.pow(10,5)+Math.floor(Math.random()*(Math.pow(10,6)-Math.pow(10,5)));return r=void 0!==r?r:Number(null===(t=c||"")||void 0===t?void 0:t.split(".").reduce((function(e,t,n){return 0===n?e+t:"".concat(e).concat(t.length<2?"0".concat(t):t)}),"")),{biz_side:s.bizSide,app:s.appId,level:2,version:r,report_time_ms:l,rand_num:p,crc32:Object(u.a)("".concat(l,"-").concat(p))}}function g(e,t){var n=Object(d.j)(e);a=void 0!==a?a:Object(l.a)("ETag");var r=Object(f.h)(navigator.userAgent),o=Object(f.g)(navigator.userAgent);return{p:e,runningPlatform:e,runningAppId:n,b:"",did:"",mid:"",osV:"".concat(o,"_").concat(r),pid:a,uid:t?t+"":""}}function y(e){if(!Object(d.k)(e))return{};var t=Object.keys(e),n={};return t.forEach((function(t){var r=e[t];n[t]=String(r)})),n}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.universalPaths,a=t.universalQueryKeys,o=t.reportPath,c=e.app_version,s=e.log_version,u=void 0===s?"0.0.1":s,l=e.network,p=e.page,f=void 0===p?"":p,m=e.page_id,h=e.page_name,v=e.page_sn,g=e.page_url,y=e.refer_page_id,_=e.refer_page_name,b=e.refer_page_sn,k=e.user_agent,w=e.error_msg,S=e.error_message,I=e.serverIp,C=void 0===I?"":I,x=e.httpCode,P=void 0===x?"":x,E=e.httpMethod,O=void 0===E?"":E,N=e.errorCode,D=void 0===N?"555555":N,T=e.error_code,j=e.module,A=void 0===j?"":j,R=e.pageId,W=void 0===R?"":R,L=e.referPageId,M=void 0===L?"":L,F=e.url,B=Object(d.h)(r,a,o);return i()({network:(l||"0")+"",serverIp:C,url:F,errorCode:String(T||D),errorMsg:(w||S||"").substr(0,150),module:A,pageId:W,pagePath:B,pageSn:v?v+"":"",pageUrl:g||window.location.href,referPageId:M,page_id:m?m+"":"",refer_page_id:y?y+"":"",referPageName:_||"",referPageSn:b?b+"":"",pageName:h||"",page:f,log_version:u,user_agent:k||window.navigator.userAgent,app_version:c||""},n?{httpCode:String(P),httpMethod:O}:{})}},"7wT/":function(e,t,n){e.exports={listTitle:"_2YyJcg_B",noBorder:"SJt1nAY0"}},"7yJJ":function(e,t,n){"use strict";function r(e){document.body.scrollTop=e,document.documentElement&&(document.documentElement.scrollTop=e)}function a(){return document.body.scrollTop||document.documentElement.scrollTop||0}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}))},"8FLX":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("lwsE"),s=n.n(c),u=n("W8MJ"),l=n.n(u),d=n("7W2i"),p=n.n(d),f=n("a1gu"),m=n.n(f),h=n("Nsbk"),v=n.n(h),g=n("U+yc"),y=n.n(g),_=n("mwIZ"),b=n.n(_),k=n("q1tI"),w=n.n(k),S=(n("17x9"),n("gKdT")),I=n.n(S),C=(n("wgWF"),function(e){var t=e.goods,n=e.activity,r=e.skuInfos,a=e.selectedSkuID,o=e.specDesc,i=t.minOnSaleGroupPrice,c=t.goodsExpansionPrice,s=n.activitySkuExplain,u=null;if(a){var l=r[a];i=l.groupPrice,c=l.skuExpansionPrice,s=l.skuExplain,u=w.a.createElement("span",{className:"sku-quantity-tip"},l.quantityTip)}var d=b()(t,"ui.sku_section.price_prefix")||"定金";return w.a.createElement("div",{className:"dj-sku-desc"},w.a.createElement("div",{className:"djs-line-1"},w.a.createElement("span",{className:"djsp-1"},d),w.a.createElement("span",{className:"djsp-2"},"￥"),w.a.createElement("span",{className:"djsp-3"},i),i!==c&&w.a.createElement("span",null,w.a.createElement("span",{className:"djsp-4"},"抵"),w.a.createElement("span",{className:"djsp-5"},c)),u),w.a.createElement("div",{className:"djs-line-2"},s),w.a.createElement("div",{className:"djs-line-3 sku-selector-desc"},o))}),x=n("TSYQ"),P=n.n(x),E=n("9yT/"),O=n("/++w"),N=n.n(O),D=n("J4zp"),T=n.n(D),j=n("qd0Q"),A=n("GftL"),R=n("Wr5u"),W=n.n(R),L=n("x9rp");var M,F=function(e){var t,n,r=e.specDesc,a=e.skuDirectOrder,o=e.skuPreSaleIcon,c=e.selectedSkuID,s=e.group,u=Object(k.useRef)(),l=Object(k.useState)(!1),d=T()(l,2),p=d[0],f=d[1],m=Object(k.useState)(r),h=T()(m,2),v=h[0],g=h[1],y=Object(k.useState)(!1),_=T()(y,2),S=_[0],I=_[1],C=o||{},x=C.pictureUrl,E=C.clickUrl,O=C.width,N=C.height,D=C.clickNotice;return Object(k.useEffect)((function(){f((b()(u,"current.offsetTop",0)||0)>Object(L.i)(.35)),x&&g(function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...",r=0,a="",o=0;o<e.length;o++)if(a+=e.charAt(o),e.charCodeAt(o)>=128||e.charCodeAt(o)<=90&&e.charCodeAt(o)>=64||e.charCodeAt(o)<=38&&e.charCodeAt(o)>=35){if((r+=2)>=t)return a.substring(0,a.length-1)+n}else if((r+=1.17)>=t)return a.substring(0,a.length-2)+n;return a}(r,28)),I(!1)}),[c,s.requireNum]),x?w.a.createElement("div",{ref:u,className:P()(W.a.skuSelectorDescWithIcon,(n={},i()(n,W.a.oneLineStyle,p),i()(n,W.a.skuSelectorDescOC,a),n))},v,w.a.createElement(A.a,{className:W.a.skuPreSaleIcon,src:S&&E?E:x,style:{width:"".concat(O/100,"rem"),height:"".concat(N/100,"rem")},onTouchStart:function(){return I(!0)},onTouchEnd:function(){return I(!1)},onClick:function(){D&&Object(j.a)({title:D,confirmButtonLabel:"知道了"})}})):w.a.createElement("div",{ref:u,className:P()(W.a.skuSelectorDesc,(t={},i()(t,W.a.oneLineStyle,p||a),i()(t,W.a.skuSelectorDescOC,a),t))},r)},B=n("SXY3"),U=n("eHaf"),V=n("f+ex"),H=n("pbmx"),q=n.n(H),z=function(e){var t=e.onClick,n=e.tip;return w.a.createElement(B.a,{trackingInfo:{page_el_sn:6663725,op:"impr"}},w.a.createElement("div",{className:q.a.multiChoose,onClick:function(){Object(U.b)({page_el_sn:6663725,op:"click"}),t()}},n,w.a.createElement(V.a,null)))},Q=n("lcYG"),G=n("BDyI"),J=n("NTpl"),K=n("o0o1"),Y=n.n(K),X=n("yXPU"),Z=n.n(X),$=n("RIqP"),ee=n.n($),te=n("GqNx");var ne=function(e){return e<10?"0"+e:e},re=function(e,t,n){var r=Math.max(t-e,0),a=Math.floor(r/60),o=Math.floor(a/60),i=Math.floor(o/24);i%=365,o=ne("hour"!==n?o%24:o);var c="";0!==i&&(c=i+"天"+o+"小时");var s=!1;return e>=t&&(s=!0),{over:s,days:i,hours:o,minutes:a=ne(a%60),seconds:r=ne(Math.floor(r%60)),formattedStr:c}},ae=(M=function(e){p()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=v()(e);if(t()){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={nowTime:e.props.goods.nowTime},e}return l()(n,[{key:"componentDidMount",value:function(){var e=this,t=b()(this.props.goods,"ui.sku_section.yellow_label")||b()(this.props.goods,"ui.price_section.data.yellow_label");if(b()(t,"end_time"))var n=setInterval((function(){e.setState({nowTime:e.state.nowTime+1}),t.end_time<e.state.nowTime&&clearInterval(n)}),1e3)}},{key:"genPrice",value:function(){var e,t,n,r=+b()(this.props.goods,"ui.sku_section.car_shop.action_type"),a=this.props,o=a.selectedSkuID,c=a.skuInfos,s=a.goods,u=a.group,l=a.selectedHomeIns,d=a.selectedSendWays,p=a.skuDirectOrder,f=a.styleStatus,m=a.ocData,h=a.useNormalSkuData,v=a.renderPromotionDescContent,g=a.isMutliSku,y=b()(m,"promotionInfo");if(o){var _=c[o];if(n=u.requireNum>1?_.groupPrice:_.normalPrice,b()(s,"ui.sku_section.view_style_v2")===E.b.HOME_INSTALL)if(b()(l,"srv_type")>0){var k=+Object(G.c)(b()(l,"fee")||0);+k>0&&(n=Object(G.b)(+n+k))}var S=+b()(d,"fee")||0;b()(s,"ui.sku_section.view_style_v2")===E.b.CAR_SHOP&&1===r&&S>0&&(n=Object(G.b)(+n+S))}else{var I=s.minOnSaleGroupPrice,C=s.maxOnSaleGroupPrice,x=[s.minOnSaleNormalPrice,s.maxOnSaleNormalPrice];if(+u.requireNum>1&&(x=[I,C]),b()(s,"ui.sku_section.view_style_v2")===E.b.HOME_INSTALL){var O=+Object(G.c)(b()(l,"fee")||0);O>0&&(x=x.map((function(e){return Object(G.b)(+e+O)})))}var D=+b()(d,"fee")||0;b()(s,"ui.sku_section.view_style_v2")===E.b.CAR_SHOP&&1===r&&D>0&&(x=x.map((function(e){return Object(G.b)(+e+D)}))),n=x[0],x[0]!==x[1]&&(n=x.join("-"))}var T="";+u.requireNum>1&&3===s.priceStyle&&s.pricePrefix&&(T=s.pricePrefix);var j="".concat(T,"¥").concat(n),A=(null===(e=j)||void 0===e||e.length,this.props.priceInfo.newPriceDisplay);if(+u.requireNum>1&&(null==A?void 0:A.price)&&!g){var R=A.prefix,W=void 0===R?"":R,L=A.price,M=A.rmb,F=void 0===M?"":M,B=A.suffix,U=void 0===B?"":B,V="".concat(W).concat(F).concat(L).concat(U).length>16?.02:0;j=w.a.createElement("span",{role:"img","aria-label":"".concat(W).concat(F).concat(L).concat(U)},w.a.createElement("span",{"aria-hidden":!0,style:{fontSize:"".concat(.17-V,"rem")}},W),w.a.createElement("span",{"aria-hidden":!0,style:{fontSize:"".concat(.19-V,"rem")}},F,L),w.a.createElement("span",{"aria-hidden":!0,style:{fontSize:"0.13rem"}},U))}var H=b()(this.props.ocData,"goodsInfo.unitPrice"),q=(null==m?void 0:m.goodsInfo)||{},z=q.unitPriceDisplay,J=q.totalPriceDisplay,K=y||{},Y=K.isNewPriceArea,X=K.totalDiscountDisplay,Z=K.afterCouponUnitPriceDisplay,$=!(!Z&&!z),ee="¥".concat(H);if(Y&&X||J){var te=(X||J).reduce((function(e,t){return e+t.text}),"");ee=w.a.createElement("span",{"aria-label":te,role:"img",tabIndex:-1},(X||J).map((function(e,t){var n={color:e.font_color,fontSize:e.font_size&&e.font_size/100+"rem"};return w.a.createElement("span",{key:t,style:n,"aria-hidden":!0},e.text)})))}var ne=$&&w.a.createElement(w.a.Fragment,null,(Z||z).map((function(e,t){var n={color:e.font_color,fontSize:e.font_size&&e.font_size/100+"rem"};return w.a.createElement("span",{key:t,style:n},e.text)})));return w.a.createElement("div",{className:P()((t={},i()(t,N.a.skuSelectorPrice,!p||p&&h),i()(t,N.a.skuSelectorPriceOC,p&&!h),i()(t,N.a.startHide,1===f),i()(t,N.a.startDisplay,2===f),t))},w.a.createElement("div",{className:P()(N.a.skuQuantityPriceDesc,i()({},N.a.isNewPriceArea,Y))},p&&o&&H&&!h?ee:j),ne,w.a.createElement(Q.a,null,!$&&v&&v(this.props.priceInfo)))}},{key:"getSpecDesc",value:function(){var e=[],t=[],n=this.props,r=n.currentSelect,a=n.selectedSkuID,o=n.skuInfos,i=n.selectedHomeIns,c=n.selectedSendWays;for(var s in r){var u=r[s];u?t.push(u):e.push(s)}if(b()(this.props.goods,"ui.sku_section.view_style_v2")===E.b.HOME_INSTALL){var l=b()(i,"desc"),d=b()(i,"srv_type");if(!l){var p=b()(this.props.goods,"ui.sku_section.home_install.title")||"服务";e.push(p)}if(l&&a){var f=o[a],m=b()(f,"srvItem",[]).find((function(e){return e&&e.srv_type===d})),h=b()(m,"desc")||"";t.push(h)}}if(b()(this.props.goods,"ui.sku_section.view_style_v2")===E.b.CAR_SHOP){var v=+b()(this.props.goods,"ui.sku_section.car_shop.action_type"),g=b()(c,"type")||"",y=b()(c,"fee"),_=1===v&&y>=0?"".concat(g," ¥").concat(y):g;if(!g){var k=b()(this.props.goods,"ui.sku_section.car_shop.title")||"送货方式";e.push(k)}g&&t.push(_)}return e.length>0?"请选择 "+e.join(" "):t.length>0?"已选："+t.join(" "):""}},{key:"renderDiscountItem",value:function(e,t){var n=this.props.skuDirectOrder,r=e.labelText,a=e.endTime;if(!r)return null;var o,c=r,s=w.a.createElement(w.a.Fragment,null,c);if(a&&c.search(/#time#/g)>=0){var u=re(this.state.nowTime,a),l=u.formattedStr,d=u.over,p=u.days,f=u.hours,m=u.minutes,h=u.seconds;d||(s=0===p?c.split(/(#time#)/g).map((function(e,t){return"#time#"===e?w.a.createElement("div",{className:N.a.countDown,key:t},f,":",m,":",h):w.a.createElement(k.Fragment,{key:t},e)})):w.a.createElement(k.Fragment,null,c.replace(/#time#/g,l))),d&&(c="",s=null)}return c&&s?w.a.createElement("div",{className:P()(N.a.yellowLabelWrap,N.a.listItem),key:t},w.a.createElement("span",{className:P()((o={},i()(o,N.a.yellowLabel,!n),i()(o,N.a.yellowLabelOC,n),o))},s)):void 0}},{key:"renderDiscountElement",value:function(){var e=this,t=this.props,n=t.goods,r=t.skuInfos,a=t.group,o=t.selectedSkuID,c=t.skuDirectOrder,s=t.priceInfo;if(t.isMutliSku)return null;if(+a.requireNum>1){var u=s.newYellowLabelList;if(null==u?void 0:u.length)return w.a.createElement("div",{className:N.a.yellowLabelListWrap},u.map((function(t,n){return e.renderDiscountItem(t,n)})));var l=b()(n,"ui.sku_section.yellow_label")||b()(n,"ui.price_section.data.yellow_label"),d=b()(l,"sku_unselect_label")||"";o&&(d=r[o].yellowLabel||"");var p,f=w.a.createElement(w.a.Fragment,null,d);if(b()(l,"end_time")&&d&&d.search(/#time#/g)>=0){var m=re(this.state.nowTime,l.end_time),h=m.formattedStr,v=m.over,g=m.days,y=m.hours,_=m.minutes,S=m.seconds;v||(f=0===g?d.split(/(#time#)/g).map((function(e,t){return"#time#"===e?w.a.createElement("div",{className:N.a.countDown,key:t},y,":",_,":",S):w.a.createElement(k.Fragment,{key:t},e)})):w.a.createElement(k.Fragment,null,d.replace(/#time#/g,h))),v&&(d="",f=null)}if(d&&f)return w.a.createElement("div",{className:N.a.yellowLabelWrap},w.a.createElement("span",{className:P()((p={},i()(p,N.a.yellowLabel,!c),i()(p,N.a.yellowLabelOC,c),p))},f))}return null}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.goods,a=n.skuInfos,o=n.group,c=n.selectedSkuID,s=n.skuDirectOrder,u=n.style,l=r.activity;if(l&&25===l.activityType)return w.a.createElement(C,{specDesc:this.getSpecDesc(),selectedSkuID:c,skuInfos:a,goods:r,activity:l});var d=s&&2==+o.requireNum&&b()(r,"ui.sku_section.new_multi_choose.tip"),p=null;return c&&(p=a[c].skuPreSaleIcon),w.a.createElement("div",{className:P()((e={},i()(e,N.a.skuSelectorHeadContent,!s),i()(e,N.a.skuSelectorHeadContentOC,s),e)),style:u},this.genPrice(),this.renderDiscountElement(),w.a.createElement(Q.a,null,w.a.createElement(F,{specDesc:this.getSpecDesc(),skuDirectOrder:s,skuPreSaleIcon:p,selectedSkuID:c,group:o})),!!d&&w.a.createElement(z,{tip:d,onClick:function(){t.props.handleShowCart&&t.props.handleShowCart(!0)}}),s&&w.a.createElement(Q.a,null,w.a.createElement(J.a,{selectedSkuID:c,skuInfos:a,skuDirectOrder:s})))}}]),n}(w.a.Component),y()(M.prototype,"getSpecDesc",[I.a],Object.getOwnPropertyDescriptor(M.prototype,"getSpecDesc"),M.prototype),y()(M.prototype,"renderDiscountItem",[I.a],Object.getOwnPropertyDescriptor(M.prototype,"renderDiscountItem"),M.prototype),y()(M.prototype,"renderDiscountElement",[I.a],Object.getOwnPropertyDescriptor(M.prototype,"renderDiscountElement"),M.prototype),M);t.a=w.a.forwardRef((function(e,t){var n=Object(k.useRef)();Object(k.useImperativeHandle)(t,(function(){return n.current}));var r=function(e){var t=Object(k.useState)({}),n=T()(t,2),r=n[0],a=n[1],o=e.goodsNumber,i=e.selectedSkuID,c=e.goods,s=e.group,u=e.skuInfos,l=e.consultPromotionPriceParams,d=e.ocData,p=e.isMutliSku,f=b()(d,"promotionInfo"),m=b()(d,"promotionExtendMap"),h=b()(m,"replace_goods_detail_promotion_label_list"),v=h&&JSON.parse(h),g=f||{},y=g.isNewPriceArea,_=g.discountTagDisplayVos,w=function(e){if(!i)return e;var t=e&&e.length?ee()(e):[];return y&&v&&v.length>0&&v.map((function(e,n){var r=_&&!!_.length&&_.reduce((function(t,n){if(n.labelType===e&&n.tagDisplayVo){var r=n.tagDisplayVo;if(r.length)return r[0].text+t}}),""),a=t.findIndex((function(t){return t.labelType===e}));if(!r&&a>=0&&t.splice(a,1),r){var o={labelText:r,labelType:e,morganLable:!0};a>=0&&(t[a]=o),a<0&&t.unshift(o)}})),t};return Object(k.useEffect)((function(){(function(){var e=Z()(Y.a.mark((function e(){var t,n,r,d,f,m,h,v,g,y,_,b,k,S,I,C,x,P,E,O;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=Object(L.d)(null===(t=c.ui)||void 0===t?void 0:t.sku_section)||{},f=i&&u[i],m=(i?null==f?void 0:f.yellowLabelList:null==d?void 0:d.yellowLabelList)||[],h=i?null==f?void 0:f.priceDisplay:null==d?void 0:d.priceDisplay,v=i?p?null==f?void 0:f.newMultiChooseTip:null==f?void 0:f.groupTip:p?"":null==d?void 0:d.skuUnselectTip,g=i?null==f?void 0:f.groupTipColor:null==d?void 0:d.skuUnselectTipColor,y=i?null==f?void 0:f.groupTipFont:null==d?void 0:d.skuUnselectTipFont,1==+s.requireNum&&(v=i?null==f?void 0:f.quantityTip:"",g="",y=""),1===d.consultPromotionPrice&&s.requireNum>1&&i&&o>1&&!p){e.next=12;break}return a({newPriceDisplay:h,newYellowLabelList:w(m),promotionPriceDesc:v,tipColor:g,tipFontSize:y}),e.abrupt("return");case 12:if(_=(null===(n=u[i])||void 0===n?void 0:n.groupPrice)||null,b=(null===(r=u[i])||void 0===r?void 0:r.normalPrice)||null,_){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,Object(te.a)(c,o,i,_,b,l);case 18:(k=e.sent)&&(S=k["".concat(o,"-").concat(i)]||{},I=S.promotionPriceDesc,C=S.priceDisplay,x=S.yellowLabelList,P=m.slice(),E=(x||[]).find((function(e){return"usable_full_back"===e.labelType}))||{},(O=(P||[]).findIndex((function(e){return"usable_full_back"===e.labelType})))>=0&&!P[O].morganLable&&(P[O]=E),O<0&&(null==E?void 0:E.labelText)&&(P||[]).unshift(E),(null==C?void 0:C.price)&&(v="".concat(c.skuNewPricePrefix||"拼单价").concat(_),g="#58595B",y=14),a({newPriceDisplay:C,newYellowLabelList:w(P),promotionPriceDesc:(null==C?void 0:C.price)?v:I,tipColor:g,tipFontSize:y}));case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o,i,c,u,s,d]),r}(e);return w.a.createElement(ae,a()({},e,{ref:n,priceInfo:r}))}))},"8Pq9":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,".wAJ12ZbP{position:relative;width:100%;background-color:#fff}",""]),t.locals={payment:"wAJ12ZbP"}},"8vY7":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("MVZn"),a=n.n(r),o=n("MVQ+"),i=function(){};function c(e){return Object(o.a)(a()(a()({},e),{},{onCancel:e.onCancel||i}))}},"8wto":function(e,t,n){"use strict";function r(e){return e.replace(/[^A-Za-z0-9+/]/g,"")}function a(e){return window.atob(r(e))}function o(e){return window.btoa(e)}function i(e){return window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function c(e){return decodeURIComponent(window.atob(r(e)).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!t&&/[^\x00-\x7F]/.test(e)?i(e):o(e)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?a(e):c(e)}n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}))},"9/CJ":function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),s=n.n(c),u=n("a1gu"),l=n.n(u),d=n("Nsbk"),p=n.n(d),f=n("MVZn"),m=n.n(f),h=n("q1tI"),v=n.n(h),g=n("ii9O"),y=n("mj+i"),_=n("jtE3"),b=n("eHaf"),k=n("KoDT"),w=n("h3qu"),S=n("NVvc");function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"index.html",t=document.createElement("a");t.href=e;var n=Object(y.g)(t.search);return n._p_launch_id||""}function C(e,t){var n=Object(S.a)(e,t);return{launchUrl:n,launchId:I(n)}}var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"index.html",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return C(e,{disableExtendTransferParameters:!t})},P=n("zawQ"),E=n("9Kti");var O=function(e){var t=e||{};return t=Object.assign({},t,{activationType:P.a.LAUNCH_ACTIVATION}),Object(E.a)(t)},N=n("0P1e"),D=n("qnV/");n("/vAr");n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return W}));var T={},j=!1;T=Object(k.a)(),j=navigator.userAgent.indexOf(" hap/")>-1;var A=null;function R(e){var t,n,r,a,o=e.marketDownloadParams,i=e.appUrl,c=e.trackingParams,s=void 0===c?{}:c,u=function(){var e="/comm_order_snapshot.html?"+Object(y.b)(m()({src:T.isWeChatPlatform?"weixin":T.platform,add_download_task:1,android_browser_download:1,ios_fast_download:1,task_apk_tag:3,redirect:1},o||{}));g.a.uniformForward(e)};s=Object.assign({},{op:"click",page_el_sn:426522},s),Object(b.b)(s),t=x(i),n=t.launchId,r=t.launchUrl,a=function(){Object(_.a)(r).catch((function(e){var t=e instanceof Error?e:new Error(JSON.stringify(e));if(t&&!t.message.includes('"installed":false'))return function(e,t,n){Object(N.a)().then((function(r){Object(D.c)(e,m()({network:r},t)),n&&n()}))}(t,{error_msg:"goto-app: launch_pdd_app_fail"},u);u()}))},O({downloadParams:Object.assign({},o,{launch_id:n})}).then(a).catch(a)}var W=function(e){s()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=p()(e);if(t()){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={hide:!0},e.topGotoApp=function(){e.props.appUrl&&R({appUrl:e.props.appUrl,trackingParams:e.props.trackingParams,marketDownloadParams:e.props.marketDownloadParams})},e.handleClick=function(){A||(e.props.onClick&&e.props.onClick(),e.topGotoApp()),A&&clearTimeout(A),A=setTimeout((function(){A=null}),e.props.throttleTime)},e}return i()(n,[{key:"componentDidMount",value:function(){var e=!!window.sessionStorage.getItem("__HIDE_GOTO_APP__");this.setState({hide:e||!this.isSupport()})}},{key:"isSupport",value:function(){return!j&&(T.isPureWeChatPlatform||T.isWeiboPlatform||T.platform===w.a.Unknown)}},{key:"render",value:function(){return this.state.hide?null:v.a.createElement("div",{className:"pdd-go-to-app",onClick:this.handleClick,style:this.props.style},"在App打开",v.a.createElement("span",{className:"icon pdd-go-to-app-icon"}))}}]),n}(v.a.Component);W.defaultProps={throttleTime:400}},"9AtE":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,a,o=n("KoDT"),i=n("h3qu");function c(e){"function"==typeof window.scrollTo&&(clearTimeout(a),a=setTimeout((function(){(!document.activeElement||!["INPUT","TEXTAREA"].includes(document.activeElement.tagName))&&window.scrollTo(0,0)}),10))}function s(e){return r||(r=Object(o.a)()),r.system===i.b.IOS&&Object(i.c)(r.systemVersion,"12.0")>=0?(e.addEventListener("focusout",c),function(){e.removeEventListener("focusout",c)}):function(){}}},"9K/W":function(e,t,n){e.exports={bgFill:"aXuJ-1SC",bgFillShow:"_3FlpEG1j",container:"_2u4RC_Sy",visibleContainer:"_1GcQ_LEN"}},"9Kti":function(e,t,n){"use strict";(function(e){var r=n("1WeI");t.a=function(t){return Object(r.a)(t).then((function(t){return e(t,{mode:"no-cors"}).then((function(){})).catch((function(){}))})).catch((function(){}))}}).call(this,n("BlQd"))},"9U6K":function(e,t,n){e.exports={container:"_3Z3rM0BJ",arrow:"_1xTpHLJk"}},"9ZFI":function(e,t,n){},"9dGU":function(e,t,n){e.exports={wrapper:"_3SCquV9u",triangle:"_3FOtErP-",cover:"OGUyqHz2",shadow:"_3dxkoqSw",list:"vFo5jDNM",item:"_3j16iyQD"}},"9qmp":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("q1tI"),s=n.n(c),u=(n("17x9"),n("PlGL")),l=n("QILm"),d=n.n(l),p=n("TSYQ"),f=n.n(p),m=n("KaGD"),h=n("fUNr"),v=n.n(h);var g=Object(m.a)(v.a)((function(e){var t=e.className,n=d()(e,["className"]);return s.a.createElement("div",a()({},n,{className:f()(t,v.a.root)}))})),y=n("/f7M"),_=n.n(y);var b=Object(m.a)(_.a)((function(e){var t=e.className,n=d()(e,["className"]);return s.a.createElement("div",a()({},n,{className:f()(t,_.a.root)}))})),k=n("dXXU"),w=n.n(k);var S=Object(m.a)(w.a)((function(e){var t=e.className,n=d()(e,["className"]);return s.a.createElement("div",a()({},n,{className:f()(t,w.a.root)}))})),I=n("XoXN"),C=n("TWHF"),x=n.n(C);function P(e){var t=e.className,n=d()(e,["className"]);return s.a.createElement(I.a,a()({},n,{className:f()(t,x.a.root)}))}P.defaultProps={type:"top",borderColor:"#D2D2D2"};var E=Object(m.a)(x.a)(P),O=n("kcBU"),N=n.n(O);function D(e){var t=e.className,n=d()(e,["className"]);return s.a.createElement("div",a()({"data-active":"cell-white"},n,{className:f()(t,N.a.root)}))}D.defaultProps={children:"确定"};var T=Object(m.a)(N.a)(D),j=n("jGYx"),A=n.n(j);function R(e){var t=e.className,n=d()(e,["className"]);return s.a.createElement(I.a,a()({"data-active":"cell-white"},n,{className:f()(t,A.a.root)}))}R.defaultProps={type:"right",borderColor:"#D2D2D2",children:"取消"};var W=Object(m.a)(A.a)(R);function L(e){var t=e.text,n=e.TitleProps,r=void 0===n?{}:n,a=t?{fontWeight:700}:{};return i()(i()({},a),r.style)}function M(e){var t=e.title,n=e.text,r=e.cancelButtonLabel,o=e.confirmButtonLabel,i=e.onCancel,c=e.onConfirm,l=e.onClose,d=e.slots,p=void 0===d?{}:d,f=e.DialogProps,m=e.ContentProps,h=e.TitleProps,v=e.TextProps,y=e.ActionSectionProps,_=e.CancelButtonProps,k=e.ConfirmButtonProps,w=e.CloseButtonProps;return s.a.createElement(u.a,f,s.a.createElement(u.a.CloseButton,a()({onClick:l},w)),p.beforeContent,s.a.createElement(g,m,t&&s.a.createElement(b,a()({},h,{style:L(e)}),t),n&&s.a.createElement(S,v,n)),p.afterContent,s.a.createElement(E,y,i&&s.a.createElement(W,a()({onClick:i},_),r),s.a.createElement(T,a()({onClick:c},k),o)))}n.d(t,"a",(function(){return M})),M.Dialog=u.a,M.Content=g,M.Title=b,M.Text=S,M.ActionSection=E,M.ConfirmButton=T,M.CancelButton=W},"9yT/":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r={SkuSelectorClick:{op:"click",event:"sku_btn_clk",page_name:"goods_detail",page_section:"sku_btn",is_new:"1"},SkuImgImpr:{op:"impr",page_el_sn:398684},SkuImgClick:{op:"click",page_el_sn:398684}},a={IPHONE:2,CAR_SHOP:3,HOME_INSTALL:4},o=["front_promo_price","sku_selector_toast"]},A8tI:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,".A9DIVMHH{line-height:.21rem;font-size:.14rem;color:#58595b;text-align:center;margin-top:.04rem}",""]),t.locals={root:"A9DIVMHH"}},AGSb:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n("J4zp"),a=n.n(r);function o(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(e){var t=document.cookie?document.cookie.split("; "):[],n={};return t.some((function(t){var r=t.split("="),a=r.slice(1).join("="),i=o(r[0]);return a=o(a),n[i]=a,e===i})),e?n[e]||"":n}function c(e,t,n){if(void 0===t)return"";"number"==typeof(n=Object.assign({path:"/"},n)).maxAge&&(n["max-age"]=String(n.maxAge),n.maxAge=!1),t=encodeURIComponent(t),e=encodeURIComponent(e);var r=Object.entries(n).reduce((function(e,t){var n=a()(t,2),r=n[0],o=n[1];return o?(e+="; "+r,!0===o?e:e+="="+o.split(";")[0]):e}),"");return document.cookie=e+"="+t+r}function s(e){c(e,"",{maxAge:-1})}},AV9X:function(e,t,n){"use strict";n.d(t,"b",(function(){return W})),n.d(t,"c",(function(){return R})),n.d(t,"a",(function(){return M})),n.d(t,"e",(function(){return B})),n.d(t,"d",(function(){return U})),n.d(t,"f",(function(){return V}));var r=n("cDf5"),a=n.n(r),o=n("o0o1"),i=n.n(o),c=n("MVZn"),s=n.n(c),u=n("yXPU"),l=n.n(u),d=n("lSNA"),p=n.n(d),f=n("vN+2"),m=n.n(f),h=n("PtqM"),v=n.n(h),g=n("lSCD"),y=n.n(g),_=n("LUTn"),b=n("gNBk"),k=n("xJ31"),w=n("AGSb"),S=n("SxTj"),I=n("mj+i"),C=n("qnV/"),x=n("uf4C"),P=n("KoDT"),E=(n("q1tI"),n("m7/H")),O=n.n(E);n("eHaf");function N(){var e={};return(window._plt||[]).forEach((function(t){var n=t[1];e[n]&&(n+=2),e[n]=Math.round(t[2])})),e}var D=function(){var e,t=(e=[["script",function(e){return e.src||""}],["link",function(e){return"stylesheet"===e.rel&&e.href||""}]].map((function(e){return Array.from(document.getElementsByTagName(e[0])).map(e[1]).join("")})),Object(k.a)(e.join(""))),n=location.pathname,r={};try{r=JSON.parse(function(e){try{return localStorage.getItem(e)}catch(e){return null}}("pdd_build_version")||"")||{}}catch(e){}return t===r[n]};function T(){var e=(window._plt||[]).map((function(e){return e[1]})).reduce((function(e,t){return Object.assign(e,p()({},t,1))}),{});return["ps","fp","fs","dr","ld","fsn","fraf","tti"].every((function(t){return e[t]}))}function j(){if(T())return Promise.resolve(N());var e=null,t=new Promise((function(t){e=t})),n=window._plt||[],r=n.push;return n.push=function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];var i=r.apply(n,a);return T()&&e&&e(N()),i},t}var A=function(){var e=l()(i.a.mark((function e(t){var n,r,a,o,c,u,l,d,p,f,m,h,v,g,y,k,S,I,C;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.groupId,r=void 0===n?"":n,a=t.customFields,o=void 0===a?{}:a,c=t.customLongFields,u=void 0===c?{}:c,l=t.customTags,d=void 0===l?{}:l,p=t.groupConfig,f=void 0===p?{}:p,m=t.useBothReport,h=void 0===m||m,r){e.next=7;break}e.next=6;break;case 6:return e.abrupt("return");case 7:if(Object.keys(d).length,v=Object(b.c)(),g=v.sampleRate,y=v.amplifyRate,!(Math.random()>g)){e.next=13;break}return e.abrupt("return");case 13:k=location.href,S=Object(w.a)(),I=Object(x.e)(),"cmt_log",C=s()({groupId:r,pageName:I,type:"cmt_log"},d),Object(_.a)({mutipleKvList:[{tags:C,fields:s()({url:k,uid:+S.pdd_user_id||0,userAgent:navigator.userAgent},o),longFields:s()(s()({},u),{},{amplifyRate:y})}]},{reportCmtcByH5:!0,groupConfig:f,useBothReport:h});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){document.readyState,A(e).catch((function(e){}))},W=function(){var e=l()(i.a.mark((function e(t){var n=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>1&&void 0!==n[1]&&n[1])){e.next=4;break}return R(t),e.abrupt("return");case 4:if(e.prev=4,"function"!=typeof window.requestIdleCallback){e.next=8;break}return e.next=8,new Promise((function(e){return window.requestIdleCallback(e,{timeout:1e3})}));case 8:return e.next=10,A(t);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=l()(i.a.mark((function e(t){var n,r,a,o,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.withSystemParam,r=t.withPlatformParam,a=Object(P.a)(),o=a.system,c={},s={},n?c.system=o:s.system=o,r?c.platform=a.platform:s.platform=a.platform,e.abrupt("return",{tags:c,fields:s});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=l()(i.a.mark((function e(t){var n,r,a,o,c,u,l,d,p,f,m,h,v,g,y,_,b,k;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.groupId,r=t.customTags,a=void 0===r?{}:r,o=t.customFields,c=void 0===o?{}:o,u=t.customLongFields,l=void 0===u?{}:u,d=t.withSystemParam,p=void 0!==d&&d,f=t.withPlatformParam,m=void 0===f||f,h=t.isSync,v=void 0!==h&&h,e.prev=1,e.next=4,L({withSystemParam:p,withPlatformParam:m});case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:g=e.t0,y=g.tags,_=void 0===y?{}:y,b=g.fields,k=void 0===b?{}:b,W({groupId:n,customTags:s()(s()({},_),a),customFields:s()(s()({},k),c),customLongFields:l},v),e.next=18;break;case 15:e.prev=15,e.t1=e.catch(1);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=l()(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(P.a)(),r=n.isNativePlatform&&(null===(t=window.__PDDPreRender)||void 0===t?void 0:t.isPreRenderEnv)?window.__PDDPreRender.onReferPageContextUpdated().then(S.d):Object(S.c)(),e.abrupt("return",r.then((function(e){var t=Object(I.h)(location.search),n=(null==e?void 0:e.refer_page_sn)||t.refer_page_sn,r="unknown";return t._p_kouling?r="kouling":t.refer_share_channel?r="share":t.pr_page_from?r=["scheme","widget","3d_touch","universal_link","spotlight","ios_pxq_widget","ios_express_widget","ios_spike_widget"].includes(t.pr_page_from)?"launch":["push","status_bar_notification"].includes(t.pr_page_from)?"push":"unknown":(t._ex_campaign||t._x_campaign)&&(r="campaign"),"unknown"===r&&/^\d{5,6}$/.test("".concat(n))?n:r})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=l()(i.a.mark((function e(t){var n,r,a,o,c,u,l,d,p,f,m,h,v,g,y,_,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.groupId,r=t.event,a=void 0===r?"".concat(Object(x.e)()||"unknown","_refer_info"):r,o=t.customReferPageSn,c=t.withSystemParam,u=void 0!==c&&c,l=t.withPlatformParam,d=void 0!==l&&l,p=t.isSync,f=void 0!==p&&p,e.prev=1,e.next=4,L({withSystemParam:u,withPlatformParam:d});case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:if(m=e.t0,h=m.tags,v=void 0===h?{}:h,g=m.fields,y=void 0===g?{}:g,_=location.href,b=o){e.next=18;break}return e.next=17,F();case 17:b=e.sent;case 18:W({groupId:n,customTags:s()({event:a,referPageSn:b},v),customFields:s()({url:_},y)},f),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(1);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=l()(i.a.mark((function e(t){var n,r,a,o,c,u,l,d,p,f,m,h,v,g,y,_,b,k,w,S,I,C,x,P,E,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.groupId,r=t.customTags,a=void 0===r?{}:r,o=t.customFields,c=void 0===o?{}:o,u=t.customLongFields,l=void 0===u?{}:u,d=t.withSystemParam,p=void 0!==d&&d,f=t.withPlatformParam,m=void 0===f||f,h=t.onlyKPI,v=void 0!==h&&h,g=t.isSync,y=void 0!==g&&g,e.prev=1,e.next=4,L({withSystemParam:p,withPlatformParam:m});case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:if(_=e.t0,b=_.tags,k=void 0===b?{}:b,w=_.fields,(S=void 0===w?{}:w).hit=D(),I=window.performance||{},C={},x=I.timing,P=window.__pre_render_performance_timing,!x&&!P){e.next=26;break}return e.next=20,j();case 20:if(e.t1=e.sent,e.t1){e.next=23;break}e.t1={};case 23:E=e.t1,O=(null==P?void 0:P.onPreRenderShow)||(null==x?void 0:x.navigationStart),Object.assign(C,{fs:E.fs-O,tti:E.tti-O},!v&&{firstScreen:E.fsn-O,firstRafCallback:E.fraf-O,mainDOMCost:E.fsn-E.fp,responseEnd:x.responseEnd-O,pageStart:E.ps-O,inlineCSSParseCost:E.fp-E.ps});case 26:W({groupId:n,customTags:s()(s()({},k),a),customFields:s()(s()({},S),c),customLongFields:s()(s()({},C),l)},y),e.next=32;break;case 29:e.prev=29,e.t2=e.catch(1);case 32:case"end":return e.stop()}}),e,null,[[1,29]])})));return function(t){return e.apply(this,arguments)}}();function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.find((function(e){return y()(e)}))||m.a;var o=t.some((function(e){return!(v()(e)||!e||!["object","number"].includes(a()(e.errorCode)))}));if(!o){var i=t.find((function(e){return v()(e)})),c="";i?(c=t.reduce((function(e,t){return t&&!v()(t)&&(e+=" ".concat(JSON.stringify(t))),e}),""),i.message+=c):(c=t.reduce((function(e,t){return t&&(e+=" ".concat(JSON.stringify(t))),e}),""),i=new Error(c));var s=O.a.computeStackTrace(i);Object(C.c)(i,s),r()}}},AVTV:function(e,t,n){"use strict";n.d(t,"b",(function(){return h}));var r=n("J4zp"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),u=n("7W2i"),l=n.n(u),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),m=n.n(f);function h(){window._plt.push(["ctm","boot",Date.now()])}var v=function(e){l()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=m()(e);if(t()){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).name="Client",e}return s()(n,[{key:"request",value:function(){this.datasource=window._plt.reduce((function(e,t){var n=a()(t,3),r=n[0],o=n[1],i=n[2];return"ctm"===r&&(e.ctm[o]=parseInt(i,10)||0),"cf"===r&&(e.cf[o]=i),e}),{ctm:{},cf:{}})}},{key:"recordCustomFields",value:function(){var e=this;Object.keys(this.value.cf).forEach((function(t){e.fields[t]=e.value.cf[t]}))}},{key:"buildData",value:function(e){var t=e.Performance.navigationStart;if(t){var n=this.buildRanges(this.value.ctm);this.batchReviseValue({source:n,start:t}),this.recordCustomFields()}}}]),n}(n("fPZm").a);t.a=v},AmiU:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),s=n.n(c),u=n("a1gu"),l=n.n(u),d=n("Nsbk"),p=n.n(d),f=n("q1tI"),m=n("i8i4"),h=n.n(m);n("17x9");var v=function(e){s()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=p()(e);if(t()){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).el=document.createElement("div"),r}return i()(n,[{key:"componentDidMount",value:function(){this.container.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.container.removeChild(this.el)}},{key:"render",value:function(){return h.a.createPortal(this.props.children,this.el)}},{key:"container",get:function(){return this.props.getContainer&&this.props.getContainer()||document.body}}]),n}(f.PureComponent)},BA2M:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("TSYQ"),s=n.n(c),u=n("H5w1"),l=n("MVZn"),d=n.n(l),p=n("zCF7"),f=n("0XX3"),m=n.n(f),h=Object(o.memo)((function(e){var t=e.text,n=e.style,r=e.className,a=void 0===r?"":r,c=e.transformOrigin,s=void 0===c?"left bottom":c,u=e.minScale,l=Object(o.useRef)(),f=Object(o.useRef)(),h=Object(p.a)({outerContainerRef:l,contentRef:f,minScale:u},[t]),v=h.visible,g=h.scale,y=h.containerWidth,_=h.useMinScale;return i.a.createElement("div",{className:"".concat(m.a.salesTip," ").concat(a),style:n,ref:l},i.a.createElement("div",{style:d()({WebkitTransformOrigin:s,transformOrigin:s,WebkitTransform:"scale(".concat(g,")"),transform:"scale(".concat(g,")"),width:y/g,overflow:"hidden"},_?{textOverflow:"ellipsis"}:{})},i.a.createElement("span",{ref:f,style:{visibility:v?"visible":"hidden"}},t||null)))})),v=n("qc2I"),g=n.n(v);function y(e){var t=e.price,n=e.pricePrefix,r=e.sale,o=e.deliveryAddress,c=e.avatars,l=e.saleAlignRight,d=e.style,p=e.className,f=e.lazy,m=e.webpEnable,v=e.stylesheet||g.a;return i.a.createElement("div",{style:d,className:s()(v.container,p,a()({},v.saleAlignRight,l))},!!n&&i.a.createElement("div",{className:v.prefix},n),i.a.createElement("div",{className:v.price},t),i.a.createElement("div",{className:v.sale},i.a.createElement(h,{text:r,className:v.saleTip,minScale:0})),n||l?null:o?i.a.createElement("div",{className:v.address},o):c?i.a.createElement("div",{className:v.avatarContainer},i.a.createElement(u.a,{className:v.avatars,srcList:c,size:".2rem",offset:.4,AvatarProps:{lazy:f,processParam:{webpEnable:m}}})):null)}y.defaultProps={price:"",pricePrefix:"",saleAlignRight:!1,lazy:!1,webpEnable:!1};t.a=y},BDyI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return u}));function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";if("number"!=typeof e&&"string"!=typeof e||(e=new Date(e)),"Invalid Date"===e.toString())return"Invalid Date";var n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),o=e.getHours(),i=e.getMinutes(),c=e.getSeconds(),s={YYYY:String(n),YY:String(n).slice(-2),M:String(r+1),MM:String(r+1).padStart(2,"0"),D:String(a),DD:String(a).padStart(2,"0"),H:String(o),HH:String(o).padStart(2,"0"),m:String(i),mm:String(i).padStart(2,"0"),s:String(c),ss:String(c).padStart(2,"0"),SSS:String(e.getMilliseconds()).padStart(3,"0"),h:String(o%12),hh:String(o%12).padStart(2,"0"),a:o<12?"am":"pm",A:o<12?"AM":"PM"};return t.replace(/\[([^\]]+)]|(YY){1,2}|M{1,2}|D{1,2}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|SSS/g,(function(e,t){return t||s[e]}))}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return JSON.parse(e)}catch(e){return console.error("safeParseJson: 参数解析失败",e),t}}function o(e,t){return e=Number(e),isNaN(e)?"0":("cent"!==t&&(e=+"".concat(e,"e2")),(Math.floor(e)/100).toString())}function i(e){return o(e,"cent")}function c(e){return o(e)}function s(e){if((e=parseInt(e,10)||0)<9999)return e.toString();if(e<=99999){var t=parseInt(e/1e3,10);return"".concat(parseInt(t/10,10),".").concat(t%10,"万")}return"".concat(parseInt(e/1e4,10),"万")}function u(e,t){if(void 0===t||0==+t)return Math.round(e);if(e=+e,t=+t,isNaN(e)||t%1!=0)return NaN;var n=Math.pow(10,t);return Math.round(+"".concat(e,"e").concat(t))/n}},BXy8:function(e,t,n){e.exports={"go-top":"_9wRQEN3q","top-button-hide":"_29NPvHYU","top-button-show":"_1mzWEyiw",container:"i3tFT5xs",mainContainer:"_1Pgx6eWp",title:"_1IwZeZUn",catalogTitle:"_ac67ckl",close:"_1G98piv9",highlight:"_3IJSwl5-",shield:"_2sz-EN1t",blockContainer:"_2PtXU0i7",block:"_1d56Yt92",blockMargin:"_2sqDMntk",slot:"PJa-xW5P",slotActive:"_15sflkmk",symptomSlot:"_1bsFLgbX",key:"_3ihTE7be",input:"bH4OaA1G",clearBtn:"_3k50PVrt",temperaturePlaceholder:"_3QGyvOxv",arrow:"adepBZB-",symptomOption:"_2i4pj9-I",selected:"VjZUTqhW",boolSlot:"_3cAT4pab",options:"_21R9m8_k",bottomBtn:"_1tCjXyKe",bottomBtnPadding:"_4Ismrpqv",bottomBtnContainer:"_3TvAbGYu",mask:"_18-xIezQ",selectIcon:"_2uzs2quH",confirm:"_2W0ddzSH",confirmUnselectedBtn:"_3tMYb5DW",confirmSelectedBtn:"_3jdRipwt",occupationTextContainer:"_3567K4BF",occupationText:"xFTeMrwe",catalog:"_1OvPTSAe",catalogText:"_1ZFOi09h",catalogContent:"M0G_eVMZ",catalogPaddingBottom:"_1F89q9Ly",catalogTable:"_12I0IW7C",catalogHeader:"_2_W1hy6Z",catalogRow:"_3UE8EyGQ",catalogItem:"hzB9k6wB",headerItem1:"_28HBqSS7",headerItem2:"wv2CtA2_",headerItem3:"_25GTTWhN",catalogItem1:"_4na2uvH4",catalogItem2:"_2PbDz-Iv",catalogItem3:"_3fYTxS9f"}},BZqf:function(e,t,n){"use strict";var r=n("037P"),a=n("lSNA"),o=n.n(a),i=n("MVZn"),c=n.n(i),s=n("lwsE"),u=n.n(s),l=n("W8MJ"),d=n.n(l),p=n("mj+i");function f(e,t){var n=e?Object(p.g)(e):{};return"?".concat(Object(p.b)(c()(c()({},n),t)))}var m=n("RpJY");var h,v=function(){function e(t){u()(this,e),this._config=t}return d()(e,[{key:"_getBackupIp",value:function(e){if(!this._config.useIpFallback())return e;var t=this._config.getBgpIps().filter((function(t){return t!==e}));return t[Math.floor(Math.random()*t.length)]}},{key:"_isBgpIp",value:function(e){return this._config.getBgpIps().includes(e)}},{key:"_getBackupDomain",value:function(e,t){var n,r,a=this._config.getBackupDomainConfig(e);return n=c()(c()({},a),{},o()({},t,0)),r=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),Object(m.a)(n,r)}},{key:"_getOriginHost",value:function(e){var t=e.host,n=this._isBgpIp(t),r=Object(p.h)(e.search);return n&&r.host||this._config.getOriginHost(t)||t}},{key:"_getNewHost",value:function(e,t,n){var r;return n<2&&(r=this._getBackupDomain(e,t)),r||this._getBackupIp(t)}},{key:"getFallbackUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.createElement("a");n.href=e;var r=this._getOriginHost(n),a=this._getNewHost(r,n.host,t);return this._isBgpIp(a)&&(n.search=f(n.search,{host:r}),n.protocol="http:"),n.host=a,n.href}}]),e}();function g(e,t){return h||(h=new v(Object(r.a)())),h.getFallbackUrl(e,t)}n.d(t,"a",(function(){return g}))},Bogp:function(e,t,n){e.exports={promotionInfo:"_3pIv2nch",high:"_2MZwnMp0",titleDisplayName:"_2aH3Qrcl",timeDisplayName:"_37wENJkl",ruleDisplayName:"HoXaR_VH",countDown:"_3RK8WCys",gray:"Ml-9CzBA"}},CSCl:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"funimg.pddpic.com";return"".concat("https://").concat(t).concat(e)}},CTPE:function(e,t,n){"use strict";var r,a=n("lwsE"),o=n.n(a),i=n("W8MJ"),c=n.n(i),s=n("7W2i"),u=n.n(s),l=n("a1gu"),d=n.n(l),p=n("Nsbk"),f=n.n(p),m=n("q1tI"),h=n.n(m),v=(n("17x9"),n("TSYQ")),g=n.n(v),y=(n("h3V6"),n("x9rp")),_=n("U+yc"),b=n.n(_),k=n("mwIZ"),w=n.n(k),S=n("sEfC"),I=n.n(S),C=n("DzJC"),x=n.n(C),P=(n("XkPr"),n("2xwX")),E=n("7ftN"),O=n("gi5g"),N=n("gKdT"),D=n.n(N);var T=[],j=(r=function(e){u()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=f()(e);if(t()){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={data:T,currentIndex:0,isSearchBoxFocus:!1,keywords:""},r.containerRef=h.a.createRef(),r.searchBoxRef=h.a.createRef(),r._handleScroll=function(){var e=Math.round(Object(y.e)(r.containerRef.current)),t=Array.from(document.getElementsByClassName("sku-item-address"));t.forEach((function(n,a){(a+1<t.length&&n.offsetTop<e&&t[a+1].offsetTop>e||a+1===t.length&&n.offsetTop<e)&&r.setState({currentIndex:a})}))},r.forwardContent=function(e,t,n){r.setState({currentIndex:n}),document.getElementById(t).scrollIntoView()},r.handleScroll=x()(r._handleScroll,300),r.handleSearchBoxChange=I()(r._handleSearchBoxChange,300),r}return c()(n,[{key:"componentDidMount",value:function(){var e=this;Object(O.a)(this.containerRef.current),w()(this.state,"data.length")||(Object(P.c)(),Object(E.b)({method:"POST",url:"api/virginia/sim_mobile/query_dictionary",data:{goods_id:this.props.goodsID}}).then((function(t){Object(P.a)(),t&&t.result&&t.result.areas&&(T=t.result.areas,e.setState({data:t.result.areas}))})).catch((function(){Object(P.a)()})))}},{key:"handleSearchBoxFocus",value:function(){this.setState({isSearchBoxFocus:!0})}},{key:"handleSearchBoxBlur",value:function(){this.setState({isSearchBoxFocus:!1})}},{key:"_handleSearchBoxChange",value:function(){this.setState({keywords:this.searchBoxRef.current.value,currentIndex:0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,r=t.keywords,a=t.currentIndex,o=t.isSearchBoxFocus,i=r?n.reduce((function(e,t){var n,a=null==t||null===(n=t.citys)||void 0===n?void 0:n.filter((function(e){var t;return null==e||null===(t=e.name)||void 0===t?void 0:t.includes(r)}));return a&&a.length>0&&e.push({citys:a,first_word:t.first_word}),e}),[]):n;return h.a.createElement("div",{className:"comm-address-selector-container",onClick:function(t){t.stopPropagation(),e.props.onClose()}},h.a.createElement("div",{className:"comm-add",onClick:function(e){e.stopPropagation()}},h.a.createElement("div",{className:"comm-add-header"},h.a.createElement("div",{className:"comm-add-header-back",onClick:function(t){t.stopPropagation(),e.props.onClose()}}),h.a.createElement("div",{className:"comm-add-header-title"},"号码归属地")),h.a.createElement("div",{className:g()("address-searchbox",{"address-searchbox-focus":o||!!r})},h.a.createElement("div",{className:"search-icon"}),h.a.createElement("input",{ref:this.searchBoxRef,className:"search-input",type:"text",placeholder:"请输入城市名",onFocus:this.handleSearchBoxFocus,onBlur:this.handleSearchBoxBlur,onChange:this.handleSearchBoxChange})),h.a.createElement("div",{className:"address-list",onScroll:this.handleScroll,ref:this.containerRef},i.map((function(t,n){var r=g()("item-title",{"item-title-current":a===n});return h.a.createElement("div",{className:"sku-item-address",key:n},h.a.createElement("div",{className:r,id:t.first_word},t.first_word),h.a.createElement("ul",{className:"item-name"},t.citys.map((function(t,n){return h.a.createElement("li",{onClick:function(){e.props.onClose(),e.props.onClickAddress(t)},key:n},t.name)}))))}))),h.a.createElement("ul",{className:"address-short-name"},i.map((function(t,n){return h.a.createElement("li",{id:t.first_word,key:n,className:a===n?"current":"",onClick:function(r){return e.forwardContent(r,t.first_word,n)}},t.first_word)})))))}}]),n}(m.Component),b()(r.prototype,"handleSearchBoxFocus",[D.a],Object.getOwnPropertyDescriptor(r.prototype,"handleSearchBoxFocus"),r.prototype),b()(r.prototype,"handleSearchBoxBlur",[D.a],Object.getOwnPropertyDescriptor(r.prototype,"handleSearchBoxBlur"),r.prototype),b()(r.prototype,"_handleSearchBoxChange",[D.a],Object.getOwnPropertyDescriptor(r.prototype,"_handleSearchBoxChange"),r.prototype),r),A=n("KoDT"),R=n("h3qu");n("OIse");var W=function(e){u()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=f()(e);if(t()){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={data:null,serachKeyValue:"",loading:!0},e.getServiceData=function(){e.setState({loading:!0}),Object(P.c)();var t={goods_id:e.props.goodsID,num:10,mobile:e.state.serachKeyValue||"",city_id:e.props.cityID,province_id:e.props.provinceID};Object(E.b)({method:"POST",url:"api/virginia/sim_mobile/query_mobiles",data:t}).then((function(t){Object(P.a)(),e.setState({loading:!1,data:t.result})})).then((function(){Object(P.a)()}))},e.forwardGoods=function(t){Object(E.b)({method:"POST",url:"api/virginia/sim_mobile/edit_status",data:{goods_id:e.props.goodsID,mobile_id:t.mobile_id}}).then((function(n){w()(n,"result")?(e.props.onClose(),e.props.onClickNumber(t)):Object(y.g)("下手晚了，靓号被别人抢走了")}))},e}return c()(n,[{key:"componentDidMount",value:function(){this.getServiceData()}},{key:"loadMoreData",value:function(e){e.preventDefault(),this.getServiceData()}},{key:"fixInputBug",value:function(){var e=Object(A.a)();e.system===R.b.IOS&&Object(R.c)(e.systemVersion,"12.0")>=0&&"function"==typeof window.scrollTo&&window.scrollTo(0,0)}},{key:"renderNumList",value:function(){var e=this,t=this.state.data;return w()(t,"length")?h.a.createElement(m.Fragment,null,h.a.createElement("ul",{className:"item-mobile-container"},t.map((function(t,n){return h.a.createElement("li",{className:"item-mobile",key:n,onClick:function(){return e.forwardGoods(t)}},t.mobile)}))),h.a.createElement("div",{className:"load-more-data",onClick:function(t){return e.loadMoreData(t)}},"换一批")):h.a.createElement("div",{className:"no-num-container"},h.a.createElement("div",{className:"no-num-image"}),h.a.createElement("div",{className:"no-num-text"},"没有找到匹配的号码"))}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:"comm-num-selector-container",onClick:function(t){t.stopPropagation(),e.props.onClose()}},h.a.createElement("div",{className:"sku-mobile-num",onClick:function(e){e.stopPropagation()}},h.a.createElement("div",{className:"sku-mobile-num-header"},h.a.createElement("div",{className:"sku-mobile-num-header-back",onClick:function(t){t.stopPropagation(),e.props.onClose()}}),h.a.createElement("div",{className:"sku-mobile-num-header-title"},"手机号码")),h.a.createElement("form",{action:"",onSubmit:function(t){return e.loadMoreData(t)}},h.a.createElement("div",{id:"search-content",className:"search-content"},h.a.createElement("div",{className:"search-icon"}),h.a.createElement("input",{type:"search",placeholder:"输入喜欢的数字",className:"search-input",value:this.state.serachKeyValue,onBlur:function(){e.fixInputBug()},onChange:function(t){e.setState({serachKeyValue:t.target.value})}}))),!this.state.loading&&this.renderNumList()))}}]),n}(m.Component);n.d(t,"a",(function(){return L}));var L=function(e){u()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=f()(e);if(t()){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}(n);function n(){var e;o()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={cityName:null,cityID:null,provinceID:null,provinceNname:null,mobileID:null,mobile:null},e.getState=function(){return e.state},e.cityClick=function(){e.props.selectedSkuID?Object(y.j)(h.a.createElement(j,{goodsID:e.props.goodsID,onClickAddress:function(t){t.id!==e.state.cityID&&e.setState({cityID:t.id,cityName:t.name,provinceName:t.province_name,provinceID:t.province_id,mobileID:null,mobile:null})},getSkuRef:e.props.getSkuRef})):e.props.toastSpec()},e.mobileClick=function(){var t=e.props,n=t.selectedSkuID,r=t.goodsID;if(n){var a=e.state,o=a.cityID,i=a.provinceID;o&&i?Object(y.j)(h.a.createElement(W,{goodsID:r,cityID:o,provinceID:i,onClickNumber:function(t){e.setState({mobileID:t.mobile_id,mobile:t.mobile})}})):Object(y.g)("请先选择号码归属地")}else e.props.toastSpec()},e}return c()(n,[{key:"render",value:function(){var e=this.state,t=e.cityName,n=e.mobile;return h.a.createElement("div",{className:"sku-specs"},h.a.createElement("span",{className:"sku-specs-key"},"入网信息"),h.a.createElement("div",{className:"sku-spec-value-list"},h.a.createElement("div",{className:"iphone-mark"},h.a.createElement("div",{className:"areas",onClick:this.cityClick},h.a.createElement("span",{className:"are-key"},"号码归属地"),h.a.createElement("span",{className:g()("are-value",{enable:t})},t||"请选择",h.a.createElement("span",{className:"enter-icon"}))),h.a.createElement("div",{className:"iphone-num",onClick:this.mobileClick},h.a.createElement("span",{className:"are-key"},"手机号码"),h.a.createElement("span",{className:g()("are-value",{enable:n})},n||"请选择",h.a.createElement("span",{className:"enter-icon"}))))))}}]),n}(h.a.Component)},CzHs:function(e,t,n){e.exports={ocRefresh:"_2Kk6J62f",netIcon:"_3WnRquCq",note:"XwtomzCr",refreshBtn:"_25FLs9De"}},"D+Ft":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("MVZn"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("RgOI");function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onClose,r=i()(t,["onClose"]);e&&Object(c.a)(a()({onTimeout:n,children:e},r))}},D3vx:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2c09EThh{-webkit-animation:_2gSfzSZh .3s;animation:_2gSfzSZh .3s;background:rgba(0,0,0,.8);border-radius:.08rem;padding:.15rem .16rem;max-width:2.29rem;text-align:center;overflow:hidden;line-height:.18rem;font-size:.15rem;color:#fff}@-webkit-keyframes _2gSfzSZh{0%{opacity:0}to{opacity:1}}@keyframes _2gSfzSZh{0%{opacity:0}to{opacity:1}}",""]),t.locals={root:"_2c09EThh",fadeIn:"_2gSfzSZh"}},DOSG:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'._3s5fmV9c{height:.36rem;line-height:2.72;text-align:center;font-size:0;border-bottom:0;display:block;position:relative;border:none!important}._3s5fmV9c:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;-webkit-transform-origin:0 0;transform-origin:0 0;pointer-events:none;-webkit-transform:scale(.5);transform:scale(.5);box-sizing:border-box;border-top:1px solid #ededed}._3s5fmV9c span{font-size:.13rem}._3s5fmV9c .HPDn3v3G{padding:0 .03rem}._3s5fmV9c ._1p9-IUem{display:inline-block;height:.14rem;margin:0 .05rem 0 0;width:.14rem;background:url(https://funimg.pddpic.com//order_checkout/pay_icon_v6.png) no-repeat;background-size:1.62rem .14rem;position:relative;top:.02rem;right:-.005rem}._3s5fmV9c ._1p9-IUem._3W830_qi,._3s5fmV9c ._1p9-IUem._34s21a2y{background-position:-.18rem 0}._3s5fmV9c ._3pVk5QL2{display:inline-block;font-size:0}._3s5fmV9c ._143cvGH-{font-size:0}._3s5fmV9c .OQTfixv1{display:inline-block;font-size:.13rem;color:#58595b}._3s5fmV9c ._1iXZpmdh{font-size:0}._3s5fmV9c ._1iXZpmdh:not(:last-of-type):after{content:"\\3001";font-size:.13rem}._3s5fmV9c ._1iXZpmdh span{font-size:.13rem}._3gKyS-Db{display:inline-block;width:.1rem;height:.1rem;margin-right:.06rem;margin-left:.06rem;fill:#666}.pdd_payment_list_elder_mode ._3s5fmV9c{height:.4rem;line-height:.4rem}.pdd_payment_list_elder_mode ._3s5fmV9c .OQTfixv1{font-size:.16rem}.pdd_payment_list_elder_mode ._3s5fmV9c ._3gKyS-Db{width:.1rem;height:.1rem}',""]),t.locals={more:"_3s5fmV9c",space:"HPDn3v3G",moreIcon:"_1p9-IUem",icon1:"_34s21a2y",icon5:"_3W830_qi",payment:"_3pVk5QL2",wrapper:"_143cvGH-",hint:"OQTfixv1",item:"_1iXZpmdh",arrowsDownSvg:"_3gKyS-Db"}},DdEg:function(e,t,n){e.exports={payHint:"_1sASCkar",payText:"_3K83fiA_",bottom:"_3cXEe2-_",startHide:"XkonakPy",toHide:"_2dzzl3nE",startDisplay:"_2i6LRdfq",toDisplay:"G9AHJOfM"}},Dqx9:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"j",(function(){return g})),n.d(t,"h",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"c",(function(){return b})),n.d(t,"m",(function(){return I})),n.d(t,"l",(function(){return C})),n.d(t,"g",(function(){return x})),n.d(t,"f",(function(){return P})),n.d(t,"e",(function(){return E}));var r=n("lSNA"),a=n.n(r),o=n("h3qu"),i=n("mj+i"),c=n("M0wS"),s="https://pmmtk.hutaojie.com",u="https://pmmtk-a.pinduoduo.com",l="/api/pmm/front_log",d="/api/pmm/front_err",p={ERROR:5,LOG:6},f={API_ERROR:500,RESOURCE_ERROR:501,CUSTOM_ERROR:502,NORMAL_LOG:600},m="undefined"==typeof window||(window.location.href.includes("hutaojie")||window.location.hostname.includes("panduoduo.yangkeduo.com")),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.pmmHost,r=n||u;return e===f.NORMAL_LOG?m?"".concat(s).concat(l):"".concat(r).concat(l):m?"".concat(s).concat(d):"".concat(r).concat(d)},v=function(e){var t=e.bizSide,n=e.appId,r=e.testAppId;if("undefined"!=typeof window){var a={bizSide:"consumer-platform-fe"};return t&&(a.bizSide=t),m&&!r?(console.error("缺少 testAppId 测试环境应用 id"),a):n?(a.appId=m?r:n,a):(console.error("缺少 appId 正式环境环境应用 id"),a)}return{}},g=function(e){var t,n;return(m?(t={},a()(t,o.a.PddAndroid,"1"),a()(t,o.a.PddIOS,"3"),a()(t,o.a.PDDTinyAndorid,"0"),t):(n={},a()(n,o.a.PddAndroid,"3"),a()(n,o.a.PddIOS,"5"),a()(n,o.a.PDDTinyAndorid,"59"),n))[e]||"-1"},y=Object(c.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(n)return n;var r=window.location.pathname;if(e.indexOf(r)<0||t.length<=0)return r;var a,o=window.location.search,c=t.find((function(e){return o.indexOf(e)>-1}));if(c){var s=Object(i.g)(o);a=s[c]}return a?"/"===a[0]?"".concat(a,".html"):"/".concat(a,".html"):r}));function _(e){return"[object Object]"===Object.prototype.toString.call(e)}function b(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}var k={},w={},S={};function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k=e}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w=e}function x(){return k}function P(){return w}function E(){return S}},EUmn:function(e,t,n){e.exports={header:"_1r1kMk4c",countDownHeader:"h1OZfQac",countDown:"LuBgfnUV",closeWrap:"_1b4piM5b",close:"_2D4Linth",retainBar:"_1kB02k7U",retainBarIcon:"_3lZQMLif",retainBarIconBody:"DuhElTN-",retainBarIconBordered:"yc6HJ7to",retainBarLabel:"_2_INH_0a",retainBarText:"_286Id7Bs"}},Ea59:function(e,t,n){e.exports={root:"JLaGLgFW",content:"KJuitCGG",isNotTransform:"_1Txst9pP",item:"_3FHLM9yz",innerItem:"_2R-S5Xhl"}},EnXR:function(e,t,n){e.exports={fixAndroid:"_1FoYw1-W",wrap:"_3onhfW_G",cursor:"e6lnzjb-"}},F19C:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("qnV/");function a(e,t){if(!e)throw new Error(t||"leoAssertError")}function o(e,t,n){n instanceof Error?Object(r.c)(n,{error_msg:"6011Error_"+t,page_url:location.href}):Object(r.c)(new Error("6011Error_"+t),{error_msg:String(n),page_url:location.href})}},FIFS:function(e,t,n){},FNY7:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n("MVZn"),a=n.n(r),o=n("mj+i"),i=n("LJxE"),c=n("7Aih"),s=n("gNBk");function u(){var e=window.location,t=e.protocol,n=e.hostname;return{"m.pinduoduo.net":"m.pinduoduo.net","mobile.yangkeduo.com":"mobile.yangkeduo.com","csr.pddpic.com":"csr.pddpic.com","amcomponent:":"amcomponent://com.xunmeng.pinduoduo"}["amcomponent:"===t?t:n]||"other"}var l={Ios:/iphone|ipad|ipod/i,IosVersion:/os (\d+)_(\d+)_?(\d+)?/i,Android:/Android/i,AndroidNative:/phh_android_version/i,IosNative:/phh_ios_version/i,IosApiRequest:/BundleID\/com.xunmeng.pinduoduo/i},d="android",p="ios",f="out_android",m="out_ios",h="out_other";function v(){var e=window.navigator.userAgent;return l.AndroidNative.test(e)?e.includes("app_type/tiny")?f:d:l.IosNative.test(e)||l.IosApiRequest.test(e)?p:l.Android.test(e)?f:l.Ios.test(e)?m:h}function g(){return s.a.isTinyNativePlatform?"tiny":s.a.isLiteNativePlatform?"lite":s.a.isMecoCore?"meco":s.a.isNativePlatform&&window.navigator.userAgent.match(/Android/)?window.navigator.userAgent.match(/MQQBrowser/)?"x5":"system":"other"}function y(e){var t,n=e.pn,r=void 0===n?0:n,l=e.groupId,d=window.location,p=d.protocol,f=d.hostname,m=d.href,h=Object(o.h)(m);return{tags:{isDirty:0,connectZero:0,isPreRender:Object(s.b)().onPreRenderShow?1:0,hostname:u(),platform:v(),nativePackType:g(),pn:r,firstInit:0},fields:a()(a()(a()({perf:(t=[],window.performance&&window.performance.timing?(t.push(1),t.push(window.performance.getEntriesByName&&window.performance.getEntriesByType?1:0),t.push(window.performance.mark?1:0)):t.push(0),t.join("")),href:m,protocol:p,hostname:f,system:s.a.system},s.a.systemVersion?{systemVersion:s.a.systemVersion}:{}),s.a.version?{version:s.a.version}:{}),{},{platform:s.a.platform,logVersion:i.c,env:"production",traceId:Object(c.a)(l),referPageName:h.refer_page_name||"",referPageSN:h.refer_page_sn||"",userAgent:window.navigator.userAgent}),longFields:a()(a()({},s.a.systemVersion?{systemVersionLong:Object(c.c)(s.a.systemVersion)}:{}),s.a.version?{appLongVersion:Object(c.c)(s.a.version)}:{})}}},FQjB:function(e,t,n){},FhbG:function(e,t,n){"use strict";var r=n("cDf5"),a=n.n(r);t.a=function(e){return e&&"object"===a()(e)}},G7xb:function(e,t,n){e.exports={skuSelectorCloseBtn:"ca4h-IAJ",skuSelectorBody:"_283aPR7a",safeDistance:"Fd9_BrZ5",skuSelectorContainer:"_3nm09z2v",skuSelectorTitleBar:"PY1t6RpZ",skuSelectorHeadContainer:"_2XiHO-fb",skuSelectorHead:"_3oYb1eF3",skuSelectorHeadRight:"_1KJfUbC-",skuSpecs:"_2VFFf5do",selectorNumber:"_3hptWyO7",sizeDesc:"_3jcgzD1i",skuSizeChartRed:"_3QmlGVyu",skuSpecsKey:"_2XbTuPaT",skuSpecValueList:"FkBrLB0v",hotSale:"_4tBXN2sQ",skuSpecValue:"_3dLL_oHX",hotSaleIcon:"_6XG3isQq",skuSpecValueSelected:"_1MhWfqip",skuSpecValueDisable:"_2BgYfOy2",skuSelectorInput:"_1nDpcwrJ",numberStepper:"_2bZCOrbb",skuSelectorReduce:"xxfw656X",skuSelectorReduceEnable:"_3zDXEDTd",skuSelectorReduceDisable:"_114gds5J",skuSelectorIncrease:"_3t4NDMyO",skuSelectorIncreaseEnable:"NYYDeLbf",skuSelectorIncreaseDisable:"_1BrJIVXX"}},GANf:function(e,t,n){e.exports={agreement:"G2lU7b_3"}},GVES:function(e,t,n){"use strict";var r,a=n("MVZn"),o=n.n(a),i=n("QILm"),c=n.n(i),s=n("q1tI"),u=n.n(s),l=n("i8i4"),d=n.n(l),p=n("kMSe"),f=n("2vnA"),m=n("3OsT"),h=n.n(m),v=n("KoDT"),g=n("h3qu"),y=n("lTLX"),_=n("J4zp"),b=n.n(_),k=n("o0o1"),w=n.n(k),S=n("yXPU"),I=n.n(S),C=n("ii9O"),x=n("3sKm"),P=n("eHaf"),E=n("f3rD"),O=n("mj+i"),N=n("SxTj"),D=n("qnV/"),T=n("uf4C"),j=(n("17x9"),n("DzJC")),A=n.n(j);function R(e){e.stopPropagation(),e.preventDefault()}var W;function L(e){var t=Object(s.useState)(!1),n=b()(t,2),a=n[0],o=n[1],i=Object(s.useRef)();Object(s.useEffect)((function(){if(r||(r=Object(v.a)()),r&&r.system===g.b.Android){var t=e.interval||200,n=t/2,a=A()((function(){o(!0),clearTimeout(i.current),i.current=setTimeout((function(){o(!1)}),t)}),n);return window.addEventListener("scroll",a),function(){window.removeEventListener("scroll",a)}}}),[e.interval]);return u.a.createElement("div",{style:a?{}:{display:"none"}},u.a.createElement("div",{style:{opacity:0,height:"100%",width:"100%",position:"fixed",top:0,left:0,zIndex:999},onClick:R}))}L.initGlobal=function(){if(!W){var e=document.createElement("div");return document.body.appendChild(e),W=function(){e&&(d.a.unmountComponentAtNode(e),document.body.removeChild(e),e=null,W=null)},d.a.render(u.a.createElement(L,null),e)}},L.cleanup=function(){W&&W()};var M=L,F=n("rIj9"),B=n("Zoyk"),U=n("MpJ2"),V=T.a.getInstance(),H=Object(v.a)(),q=H.isNativePlatform,z=H.isWeChatPlatform,Q=H.isQQPlatform,G=H.isTinyNativePlatform,J=function(){var e=arguments;return I()(w.a.mark((function t(){var n,r,a,o,i,c,s,u,l,d,p,f,m,h,v,g,y;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:{},r=e.length>1&&void 0!==e[1]?e[1]:function(){},a=n.hybridPackName,o=n.pageProperty,i=o.pageSN,c=o.pageName,s=void 0===c?oe():c,u=o.extraPvParams,l=o.noReportPv,d=n.initNativeBehavior,p=void 0===d?Z:d,f=n.pmmAppInfo,m=void 0===f?{}:f,h=n.pageId||Object(O.g)(location.search).page_id||Object(N.a)(i),Y(v={pageSN:i,pageId:h,pageName:s},a,m).then((function(){return X({pageInfo:v,extraPvParams:u,noReportPv:l})})),C.a.setNextPageQuery({refer_page_name:s,refer_page_id:h,refer_page_sn:i}),g=Object(F.a)({pageInfo:{pageId:h}}),t.next=10,$(g,n);case 10:if(y=K(te(g,v,n),"initShareAndMenu 调用超时").catch(D.c),q&&p(n.disablePullReload),!z){t.next=15;break}return t.next=15,y;case 15:r(v),M.initGlobal();case 17:case"end":return t.stop()}}),t)})))()};function K(e,t){var n=new Promise((function(e,n){setTimeout((function(){return n(new Error(t))}),1e3)}));return Promise.race([e,n])}function Y(e,t,n){var r=Object(B.b)(t).then((function(t){var n=e.pageSN,r=e.pageId,a=t?{page_sn:n,page_id:r,component_version:t}:{page_sn:n,page_id:r};Object(P.f)(a),Object(P.a)()}));return Object(N.d)().then((function(t){var r=t.refer_page_sn,a=t.refer_page_id,i=t.refer_page_name;return Object(E.a)(o()(o()({},e),{},{referPageSN:r,referPageId:a,referPageName:i}),n)})),r}function X(e){var t=e.pageInfo,n=e.extraPvParams,r=e.noReportPv;V.init(null,{pageProperty:t,callback:function(){return I()(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.a.replaceQuery({page_id:t.pageId}),!r){e.next=3;break}return e.abrupt("return");case 3:if(a=!1,!q){e.next=8;break}return e.next=7,Object(U.b)().then((function(e){return 1==+e.shown_type})).catch((function(){return!1}));case 7:a=e.sent;case 8:!a&&Object(P.e)(n);case 9:case"end":return e.stop()}}),e)})))()}})}function Z(e){Object(U.g)(),Object(U.o)({enable:!e}),Object(U.n)({title:document.title})}function $(e,t){return ee.apply(this,arguments)}function ee(){return(ee=I()(w.a.mark((function e(t,n){var r,a,o,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.requireLogin,a=n.skipLogin,o=n.loginParams,i=void 0===o?{}:o,e.prev=1,e.next=4,Object(x.e)(t);case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),r=r||z||Q,302!==e.t0.errorCode&&r&&!a){e.next=12;break}return e.abrupt("return");case 12:return e.abrupt("return",Object(x.f)(i).catch((function(e){throw C.a.back(),e})));case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function te(e,t,n){return ne.apply(this,arguments)}function ne(){return(ne=I()(w.a.mark((function e(t,r,a){var i,c,s,u,l,d,p,f,m,h,v,g,y,_,k;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.shareInfo,c=void 0===i?{}:i,s=a.noDefaultShare,u=c.onlyWeChat,l=c.disableCopyUrl,d=c.disableShare,p=c.enableBrowserOpen,f={shareInfo:c,noDefaultShare:s,pageInfo:r},m=c.disableShare?null:n.e(2).then(n.bind(null,"zRS3")),!q&&!G){e.next=6;break}return e.abrupt("return",re(m,f));case 6:if(!z){e.next=17;break}return e.next=9,Promise.all([Object(B.a)(t,r.pageSN),n.e(19).then(n.bind(null,"PVRb"))]);case 9:return h=e.sent,v=b()(h,2),g=v[0],y=v[1].initWxConfig,_=o()(o()({},c),g),e.next=16,y(_,{onlyWeChat:u,disableCopyUrl:l,disableShare:d,enableBrowserOpen:p});case 16:return e.abrupt("return",re(m,f));case 17:if(!Q){e.next=23;break}return e.next=20,n.e(18).then(n.bind(null,"3uWq"));case 20:k=e.sent,(0,k.initQQConfig)(t).then((function(){return re(m,f)}));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t){return ae.apply(this,arguments)}function ae(){return(ae=I()(w.a.mark((function e(t,n){var r,a,o,i,c,s,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.shareInfo,a=void 0===r?{}:r,o=n.noDefaultShare,i=n.pageInfo,!a.disableShare){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t;case 5:c=e.sent,s=c.default,(0,c.setPageContext)(i),a.isSDKPrepare=!0,(u=s.getInstance({shareManagerConfig:{noDefaultShare:o}})).setup(),u.prepareShare(a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return location.pathname.split("/").pop().split(".")[0]||"index"}n.d(t,"a",(function(){return ue}));var ie=!0,ce=!1,se=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return e._insertCss()}));return function(){return r.forEach((function(e){return e()}))}};function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useStrict,r=void 0===n?ce:n,a=t.forceWKWebviewBackRefresh,i=void 0===a?ie:a,s=c()(t,["useStrict","forceWKWebviewBackRefresh"]);r&&Object(f.g)({enforceActions:!0}),J(o()({requireLogin:e.appConfig.requireLogin,shareInfo:{disableShare:!0}},s),(function(t){return le(e,t.pageId)})),Object(y.a)(),window.__wxjs_is_wkwebview&&i&&window.addEventListener("pageshow",(function(e){e.persisted&&location.reload()})),Object(v.a)().system===g.b.IOS&&document.addEventListener("touchstart",(function(){}))}function le(e,t){var n=e.createStores();Object.keys(n).forEach((function(e){return n[e].fromJS((window.rawData||{})[e],{pageId:t})})),d.a.hydrate(u.a.createElement(h.a.Provider,{value:{insertCss:se}},u.a.createElement(p.b,n,u.a.createElement(e,{stores:Object.values(n),pageInfo:{pageId:t}}))),document.getElementById("main"))}},GVaU:function(e,t,n){e.exports={"go-top":"_1G2_IeV4","top-button-hide":"_1vqLa692","top-button-show":"eLodQW3L",container:"_4U6Ksd6f",deliveryStripe:"_3GrTA9SZ",deliverySvg:"_3aldBFXJ",shippingContent:"_2aViHER0",mainTitle:"Yxj_VCJh",subTitle:"_2vjKRIZO",arrow:"_3s2Wm0sl",AdditionalShippingStrip:"_7VL-gefn",deliveryCells:"_3675bqv0",title:"_2jDg6Uz1",closeBtn:"_177Ea894",deliveryItem:"f-6RO1y7",mainTitleDeliveryItem:"tOeFAHz0",subTitleDeliveryItem:"Mf5rY-y8",serviceProviderInDeliveryItem:"_1G7HEeft",selectedServiceProvider:"_2VaRzDOY",selectedSvg:"Ok7hVQOr",notSelectedSvg:"hOJqHfye",questionSvg:"omyTeLLs",servicePrividerCell:"z97izSgL",left:"JEHJ0NIZ",right:"_3APQNwbE",servicePrividerCellArrow:"_3rl4Ckcr",seperate:"_1u8ZQ2Vc",freightRuleContainer:"VtC5fXt0",freightRulePanel:"VwJLpDaf",freightRulePanelTitle:"_2y5tISHA",ruleTable:"gbqTwauP",row:"_2Oplk5np",col1:"_2k_yaact",col2:"_3z6lXbNC",ruleImg:"_1iIsFPMw",selectPanel:"_2Ey902UD",selectCell:"_2xsMO_87",providerName:"_2jC6PukJ",bgFillClassName:"PX5YsZRN",tutorial:"_3sQP_mmy",tutorialRightArrow:"_2P4JKgSk"}},GZt0:function(e,t,n){e.exports={loading:"_3IeqEHo7",icon:"_1OaxJQl2",text:"w28W4VAN"}},GftL:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),s=n.n(c),u=(n("17x9"),n("037P")),l=n("lwsE"),d=n.n(l),p=n("W8MJ"),f=n.n(p),m=n("o0o1"),h=n.n(m),v=n("yXPU"),g=n.n(v);function y(e,t){e.dataset.cuiRetryCount=t}function _(e){return parseInt(e.dataset.cuiRetryCount)||0}var b=n("sFJH"),k=n("7+eN");function w(e,t){var n,r,a=e.getAttribute("src");if(a){var o=_(e);n=o?"cui_image_error_retry_".concat(o):"cui_image_error",r=Object(k.a)(a).host}else n="cui_image_error_empty_src";Object(b.a)({errorMsg:n,payload:{src:a,host:r,useImageSdk:t}})}var S,I=n("hjca"),C=n("nvQ/"),x=function(e){return e.complete&&0===e.naturalHeight},P=function(e){return y(e,0)},E=function(){var e=g()(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){function e(t){var n=t.config,r=t.getFallbackUrl,a=t.retryDurationUnit;d()(this,e),this._config=n,this._getFallbackUrl=r,this._retryDurationUnit=a||400}var t;return f()(e,[{key:"handleLoadError",value:function(e){var t=this;return this._handleError=g()(h.a.mark((function n(){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(C.a)();case 2:if(r=n.sent,w(e,r),r){n.next=10;break}if(!e.getAttribute("src")){n.next=10;break}if(Object(I.a)(e.src)){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,t._retry(e);case 10:case"end":return n.stop()}}),n)}))),this._handleLoad=function(){P(e)},e.addEventListener("error",this._handleError),e.addEventListener("load",this._handleLoad),x(e)&&this._handleError(e),function(){e.removeEventListener("error",t._handleError),e.removeEventListener("load",t._handleLoad)}}},{key:"_loadFallbackUrl",value:function(e){if(x(e)){var t=_(e);e.src=this._getFallbackUrl(e.src,t),y(e,t+1)}}},{key:"_retry",value:(t=g()(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=_(t))>=this._config.getRetryLimit())){e.next=4;break}return P(t),e.abrupt("return");case 4:return e.next=6,E(n*this._retryDurationUnit);case 6:this._loadFallbackUrl(t);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),N=n("BZqf");n("b8gg"),n("vxzG");var D=s.a.createContext({});function T(e){var t=e.src,n=i()(e,["src"]);Object(c.useEffect)((function(){var e,t=(e=r.current,S||(S=new O({config:Object(u.a)(),getFallbackUrl:N.a})),S.handleLoadError(e));return function(){return t()}}),[]);var r=Object(c.useRef)(null),o=Object(c.useContext)(D).getInitialUrl,l=o?function(e,t){var n;try{n=t(e)}catch(t){Object(b.a)({errorMsg:"cui-image: 替换备用域名失败",payload:{src:e},error:t}),n=e}return n}(t,o):t;return s.a.createElement("img",a()({ref:r,src:l},n))}n.d(t,"a",(function(){return T}))},GqNx:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n("o0o1"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("yXPU"),s=n.n(c),u=n("mj+i"),l=n("7ftN"),d=n("x9rp"),p=n("9yT/"),f={},m=0,h=function(){var e=s()(a.a.mark((function e(t,n,r,o,c){var s,h,v,g,y,_,b,k,w,S=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=S.length>5&&void 0!==S[5]?S[5]:{},v="".concat(n,"-").concat(r),!(null===(s=f[v])||void 0===s?void 0:s.promotionPriceDesc)){e.next=4;break}return e.abrupt("return",f);case 4:return g=Object(u.h)(window.location.href),y=t.activity,_=void 0===y?[]:y,b=i()({goods_id:t.goodsID,mall_id:t.mallID,cat_id:t.catID,cat_id1:t.catID1,cat_id2:t.catID2,cat_id3:t.catID3,cat_id4:t.catID4,goods_type:t.goodsType,event_type:t.eventType,options:t.options,oversea_type:t.overseaType,min_on_sale_group_price:t.minOnSaleGroupPriceInCent,max_on_sale_group_price:t.maxOnSaleGroupPriceInCent,activity_type:_.activityType,sub_activity_type:_.subActivityType,activity_id:_.activityID,cost_type:_.costType,activity_options:_.activityOptions,activity_play_type:_.playType,from_page:g.page_from,from_merchant_tag:g._oak_merchant_tag,mkt_domain:g._oc_mkt_domain,sku_id:r,sku_group_price:Math.round(100*+o),goods_number:n,_oc_award_type:g._oc_award_type,normal_price:Math.round(100*+c),vas_template_id:t.vasTemplateId,front_supports:p.a},h),Object.keys(g).forEach((function(e){var t=g[e];/(^_oc_*)/.test(e)&&t&&(b[e]=t)})),e.prev=8,m++,k=m,e.t0=d.d,e.next=14,Object(l.b)({method:"POST",data:b,url:"api/lisbon/consult_promotion_price"});case 14:if(e.t1=e.sent,w=(0,e.t0)(e.t1),k!==m){e.next=19;break}return f[v]=w,e.abrupt("return",f);case 19:if(k===m){e.next=21;break}return e.abrupt("return",null);case 21:e.next=26;break;case 23:return e.prev=23,e.t2=e.catch(8),e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[8,23]])})));return function(t,n,r,a,o){return e.apply(this,arguments)}}()},H3Rn:function(e,t,n){e.exports={main:"_1O4yLV_u",title:"_2Jl2hLeo",desc:"_3npPksgw",line:"_3km59aZu",list:"_2mc3UHj0",listScrollIos:"_1ymnel19",listScrollAndroid:"_3I56nYTh",groupList:"_2LPeNX99",emptyList:"_3jQI7dOP",blue:"_1NqKp2hS",bottomTips:"rpnqvmmB",addCommunity:"eqeALHF1"}},H5w1:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("QILm"),s=n.n(c),u=n("q1tI"),l=n.n(u),d=n("TSYQ"),p=n.n(d),f=(n("17x9"),n("fho7")),m=n("4xEa"),h=n("+j3k"),v=n.n(h);var g=Object(u.memo)((function(e){var t=e.srcList,n=e.size,r=e.offset,o=e.AvatarProps,c=void 0===o?{}:o,u=s()(e,["srcList","size","offset","AvatarProps"]);Object(f.a)(v.a);var d=function(e,t){var n=e.replace(/[\d-.]/g,""),r=Number(e.replace(/[^\d-.]/g,""));return"-".concat(r*t).concat(n)}(n,r),h=(t||[]).map((function(e,t){var r=0===t?void 0:d,o=-t,s=i()(i()({},c.style),{},{zIndex:o,marginLeft:r}),u=c.borderColor||"#FFFFFF";return l.a.createElement(m.a,a()({key:e||t},c,{src:e,size:n,style:s,className:p()(v.a.avatar,c.className),borderColor:u}))}));return l.a.createElement("div",a()({},u,{className:p()(u.className,v.a.root)}),h)}));g.Offset={DEFAULT:.15,CLOSER:.5},g.defaultProps={offset:g.Offset.DEFAULT},t.a=g},HJnB:function(e,t,n){"use strict";n.d(t,"b",(function(){return y}));var r=n("o0o1"),a=n.n(r),o=n("yXPU"),i=n.n(o),c=n("2xwX"),s=n("eLuU"),u=n("qd0Q"),l=n("KoDT"),d=n("h3qu"),p=n("MpJ2"),f=n("jtE3"),m=n("mj+i"),h=n("ii9O"),v=n("b6XL"),g=n("4+4F"),y=function(){return s.a.getInstance().post("api/qogir/payment/agreement/pay_score_query")},_=function(e){var t,n=0;return Object(c.b)(),Object(g.a)({payload:{event:"before_polling"}}),new Promise((function(r,a){var o=function(){return n+=1,y().then((function(e){e.success&&e.wx_signed&&(clearInterval(t),Object(c.a)(),r())})).catch((function(n){clearInterval(t),Object(c.a)(),n.scoreSignSdkSuccess=e,a(n)}))};o(),t=setInterval((function(){if(Object(g.a)({payload:{event:"default_polling",time:n}}),n<=4)o();else{clearInterval(t);var r=new Error("pay_score_query_timeout");r.errorCode=1005,r.scoreSignSdkSuccess=e,Object(c.a)(),a(r)}}),800)}))},b=function(){var e=i()(a.a.mark((function e(){var t,n,r,o,i,c,u,d,p=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:{},n=t.signScene,r=t.orderSn,o=t.antiContent,i=t.payTicket,!(c=Object(l.a)()).isNativePlatform){e.next=6;break}u="m.hutaojie.com"===location.hostname?"115":"122",e.next=12;break;case 6:if(!c.isPureWeChatPlatform){e.next=10;break}u="m.hutaojie.com"===location.hostname?"118":"130",e.next=12;break;case 10:throw Object(f.a)("sub_pay_later.html?".concat(Object(m.b)(Object(m.h)(location.href)))).then((function(){}),(function(){h.a.uniformForward("download.html")})),new Error("not_support_platform");case 12:return d={sign_app_id:u,sign_scene:n||1,anti_content:o,order_sn:r,ext_data:{pay_ticket:i}},e.abrupt("return",s.a.getInstance().post("api/qogir/payment/agreement/pay_score_sign",d));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryString;return new Promise((function(e,n){Object(g.a)({payload:{event:"before_wx_score"}}),wx.checkJsApi({jsApiList:["openBusinessView"],success:function(r){r&&r.checkResult&&r.checkResult.openBusinessView&&wx.invoke("openBusinessView",{businessType:"wxpayScoreEnable",queryString:t},(function(t){0===parseInt(t.err_code)?(Object(g.a)({payload:{event:"wx_score_success"}}),e()):(Object(g.a)({payload:{event:"wx_score_fail",payload:{event:t&&JSON.stringify(t)}}}),n(t))}))}})}))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queryString,n=navigator.userAgent.match(/MicroMessenger\/([\d\.]+)/i),r=n[1];return Object(d.c)(r,"7.0.5")>=0?k({queryString:t}):(Object(v.a)("请将微信更新至最新版后再次尝试"),Promise.reject({errorHandling:{isErrorAlerted:!0}}))},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.response;return Object(g.a)({payload:{event:"before_app_sign_score"}}),Object(p.f)("AMAgreement","sign",{type:3,params:t})},I=function(){var e=i()(a.a.mark((function e(){var t,n,r,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.response,!(r=Object(l.a)()).isNativePlatform){e.next=6;break}return e.abrupt("return",S({response:n}));case 6:if(!r.isPureWeChatPlatform){e.next=8;break}return e.abrupt("return",w({queryString:n.query}));case 8:return e.abrupt("return",Promise.reject("Error_Platform"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=i()(a.a.mark((function e(){var t,n,r,o,c,s,d,p,f,m,h,v=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]?v[0]:{},n=t.signScene,r=t.antiContent,o=t.orderSn,c=t.pollingFun,s=t.payTicket,(d=Object(l.a)()).isNativePlatform||d.isPureWeChatPlatform){e.next=4;break}return e.abrupt("return",Promise.reject("Error_Platform"));case 4:return e.prev=4,e.next=7,b({signScene:n,antiContent:r,orderSn:o,payTicket:s});case 7:p=e.sent,e.next=19;break;case 10:if(e.prev=10,e.t0=e.catch(4),f=e.t0||{},410011!=+(m=f.errorCode)){e.next=18;break}return Object(u.a)({title:"先用后付功能逐步开放中\n敬请期待"}),e.abrupt("return",Promise.reject({errorCode:m,errorHandling:{isErrorAlerted:!0}}));case 18:return e.abrupt("return",Promise.reject(e.t0));case 19:if(p&&p.success){e.next=21;break}throw new Error("pay_score_sign_error");case 21:return h=c||_,e.abrupt("return",I({response:p}).then(i()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.isPollingError=!0,e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).catch((function(e){if((e||{}).isPollingError)throw e;return h(!1)})));case 23:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}();t.a=C},HNyE:function(e,t,n){e.exports={container:"_2Ny6Bvgd",icon:"_2uzDwPP4",title:"caBUfFXg",dot:"_2NOQtQGO",dot1:"R9za4ygw",dot2:"vWabkAUi",dot3:"_2M_gZteX","loading-template-v2-dot1":"_1Vn2jmNY","loading-template-v2-dot3":"_rYxdl4y","loading-template-v2-dot2":"_75vPQyHx"}},IGKT:function(e,t,n){"use strict";function r(e,t){return new Promise((function(n,r){var a=document.createElement("script");a.onload=function(e){document.body.removeChild(a),n(e)},a.onerror=function(e){document.body.removeChild(a),r(e)},t&&Object.keys(t).forEach((function(e){return a.setAttribute(e,t[e])})),a.src=e,document.body.appendChild(a)}))}n.d(t,"a",(function(){return r}))},"JHv/":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("QILm"),s=n.n(c),u=n("q1tI"),l=n.n(u),d=(n("17x9"),n("TSYQ")),p=n.n(d),f=n("taQT"),m=n.n(f);function h(e){var t=e.className,n=e.style;return l.a.createElement("div",{className:p()(m.a.ad,t),style:i()({},n||{})})}t.a=function(e){var t=e.style,n=s()(e,["style"]);return l.a.createElement(h,a()({},n,{style:i()({position:"absolute",bottom:0,right:0},t)}))}},JUuB:function(e,t,n){"use strict";var r,a=n("pVnL"),o=n.n(a),i=n("QILm"),c=n.n(i),s=n("o0o1"),u=n.n(s),l=n("lwsE"),d=n.n(l),p=n("W8MJ"),f=n.n(p),m=n("7W2i"),h=n.n(m),v=n("a1gu"),g=n.n(v),y=n("Nsbk"),_=n.n(y),b=n("yXPU"),k=n.n(b),w=n("q1tI"),S=n.n(w),I=(n("17x9"),n("037P")),C=n("vxzG");function x(e,t){return r||(r=new C.a(Object(I.a)())),r.getInitialUrl(e,t)}var P=n("3sKm"),E=n("qnV/"),O="pdd-lazy-image",N={thresholds:"100px"},D=n("MVZn"),T=n.n(D),j=n("nvQ/"),A=n("hjca"),R=n("BZqf");function W(e){return parseInt(e.dataset.retryCount,10)||0}n("Wr5T");var L=/\/\/([\w+.-]+)\//;function M(e,t){var n=e.src,r=function(e){var t=W(e);return t?"lazy_image_error_retry_".concat(t):"lazy_image_error"}(e),a=(n.match(L)||[])[1]||"",o=new Error(r);Object(E.c)(o,{payload:{src:n,host:a,useImageSdk:t},error_msg:r})}var F,B=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d()(this,e);var a,o=n("HToz"),i=T()(T()({},N),{},{thresholds:r.thresholds||N.thresholds,callback_error:(a=k()(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)();case 2:r=e.sent,M(n,r),r||t._retry(n);case 5:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})});r.container&&(i.container=r.container),this._lazyLoad=new o(i,[])}return f()(e,[{key:"start",value:function(e){var t=e.el,n=e.src;this._start({el:t,src:n,retryCount:0})}},{key:"destroy",value:function(){var e;this._lazyLoad&&((e=this._lazyLoad)._observer&&(e._elements.forEach((function(t){e._observer.unobserve(t)})),e._observer=null))}},{key:"_start",value:function(e){var t=e.el,n=e.src,r=e.retryCount;!function(e){e.classList.remove("error"),e.removeAttribute("data-was-processed")}(t),t.dataset.src=n,t.dataset.retryCount=r,this._lazyLoad&&this._lazyLoad.update([t])}},{key:"_retry",value:function(e){var t=this;if(Object(A.a)(e.src)){var n=W(e);n>=Object(I.a)().getRetryLimit()||setTimeout((function(){t._start({el:e,src:Object(R.a)(e.src,n),retryCount:n+1})}),400*n)}}}]),e}(),U=S.a.createContext({get lazyLoader(){return F||(F=new B),F}});n("38mt");function V(e){return H.apply(this,arguments)}function H(){return(H=k()(u.a.mark((function e(t){var n,r,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.prev=1,e.next=4,Object(P.b)();case 4:r=e.sent,n=x(t,r),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),a="lazy_image_error: 兜底域名替换失败",o=new Error(a),Object(E.c)(o,{payload:{src:t,uid:r},error_msg:a});case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}n.d(t,"a",(function(){return q}));var q=function(e){h()(r,e);var t,n=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=_()(e);if(t()){var a=_()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}(r);function r(){var e;d()(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).myRef=S.a.createRef(),e}return f()(r,[{key:"componentDidMount",value:function(){this._startLazyLoad()}},{key:"componentDidUpdate",value:function(){this._startLazyLoad()}},{key:"_startLazyLoad",value:(t=k()(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.src,this._lastSrc!==t){e.next=3;break}return e.abrupt("return");case 3:if(!this.context||!this.context.lazyLoader){e.next=12;break}return this._lastSrc=t,e.next=7,V(t);case 7:if(n=e.sent,r=this.myRef.current){e.next=11;break}return e.abrupt("return");case 11:this.context.lazyLoader.start({el:r,src:n});case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=(e.src,e.className),n=void 0===t?"":t,r=c()(e,["src","className"]);return S.a.createElement("img",o()({ref:this.myRef},r,{className:"".concat(O," ").concat(n)}))}}]),r}(S.a.Component);q.contextType=U},JWkn:function(e,t,n){e.exports={msCountDown:"_1GcyqSWZ"}},JiL4:function(e,t,n){e.exports={promotionCell:"_ts7NNxg",promotionCellActive:"_3CQUG7Zj",stripe:"t5y6S3ui",desc:"qSsXm1rW",hasArrow:"_3X6xzQPn",red:"_1S0Qqpcc",displayItem:"tUFs3O2Q",bubble:"g07iV4XU",promotion3:"_37lfnv2E"}},KF8E:function(e,t,n){var r=n("evXq"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},KSBw:function(e,t,n){"use strict";var r=n("MVZn"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("lwsE"),s=n.n(c),u=n("W8MJ"),l=n.n(u),d=(n("RIqP"),n("qnV/")),p=n("AGSb"),f=n("NYpQ"),m=n("FNY7"),h=n("xJ31"),v=n("gNBk");function g(){var e=[["script",function(e){return e.src||""}],["link",function(e){return"stylesheet"===e.rel&&e.href||""}]].map((function(e){return Array.from(document.getElementsByTagName(e[0])).map(e[1]).join("")}));return Object(h.a)(e.join(""))}var y=Object(d.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.skipNewVersionCheck)return!1;if("undefined"==typeof localStorage||!localStorage)return!0;var t=g(),n="pdd_monitor_build_version";if(t){var r=window.location.pathname,a=localStorage.getItem(n);try{a=JSON.parse(a)||{}}catch(e){a={}}var o=t===a[r];return o||(a[r]=t,localStorage.setItem(n,JSON.stringify(a))),!o}return!1}),100,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!e.skipNewVersionCheck})),_=n("7Aih"),b=n("LJxE"),k=n("cDf5"),w=n.n(k),S=n("o0o1"),I=n.n(S),C=n("yXPU"),x=n.n(C),P=n("7W2i"),E=n.n(P),O=n("a1gu"),N=n.n(O),D=n("Nsbk"),T=n.n(D),j=n("MpJ2"),A=n("fPZm");var R=["nativeStartRoute","nativeInit","nativeLoadURL","nativeStartLoad","nativeFetchStart","nativeDnsStart","nativeDnsEnd","nativeConnectStart","nativeSecureConnectStart","nativeSecureConnectEnd","nativeConnectEnd","nativeRequestStart","nativeRequestEnd","nativeResponseStart","nativeResponseEnd","nativeCompeleteLoad"],W=["webViewInit","webViewSetUrl","webViewLoadStart"];var L=function(e){E()(o,e);var t,n,r=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=T()(e);if(t()){var a=T()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N()(this,n)}}(o);function o(){var e;s()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).name="Native",e.nativeStart=0,e.unoContext={},e}return l()(o,[{key:"getTiming",value:(n=x()(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.f)("WebScene","getTiming",null,"4.29.0","4.29.0").catch((function(){return null}));case 2:this.datasource=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getUnoContext",value:(t=x()(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.f)("WebScene","getUnoContext",null,"4.78.0","4.78.0").catch((function(){return{}}));case 2:this.unoContext=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"request",value:function(){if(v.a.isNativePlatform)return Promise.all([this.getTiming(),this.getUnoContext()])}},{key:"recordUnoContext",value:function(){var e,t,n,r=this;this.tags={isCold:(e=this.unoContext,t=e.webview_count,n=e.process_lifetime,(void 0===n?0:n)<10||t&&t<=1?1:0),isInset:this.unoContext.is_inset?1:0},Object.entries(this.unoContext).forEach((function(e){var t=i()(e,2),n=t[0],a=t[1];if("object"!==w()(a)){var o="Native_".concat(n);["process_lifetime","webview_count","webview_load_count"].includes(n)||0===n.indexOf("long_")?r.longFields[o]=parseInt(a,10)||0:r.fields[o]=a}}))}},{key:"getBoundValue",value:function(e){return["nativeCompeleteLoad"].includes(e)?2e4:5e3}},{key:"buildData",value:function(){var e=this;if(v.a.isNativePlatform)if(this.value)if(this.unoContext.webview_load_count>1)this.addUnHealthyField("webview_load_count",this.unoContext.webview_load_count);else{var t=this.value,n=t.webViewRefresh,r=t.webViewSetUrl,o=t.webViewLoadStart,i=t.webViewInit,c=void 0===i?0:i,s=t.nativeStartRoute,u=void 0===s?0:s,l=t.nativeContainerResume;if(n)this.addUnHealthyField("webViewRefresh",n);else{if(u&&-1!==u)this.nativeStart=u,l&&-1!==l&&1===Number(this.unoContext.string_is_container_resume)&&(this.nativeStart=l),R.forEach((function(t){e.reviseValue({key:t,start:e.nativeStart,end:e.value[t]})}));else{if(this.addUnHealthyField("nativeStartRoute",u),!c||-1===c)return void this.addUnHealthyField("webViewInit",c);this.nativeStart=c}W.forEach((function(t){e.reviseValue({key:t,start:e.nativeStart,end:e.value[t]})})),this.reviseValue({key:"webViewSetUrl_low",start:c,end:r}),this.reviseValue({key:"webViewLoadStart_low",start:r,end:o}),this.longFields["".concat(this.name,"_nativeStart")]=this.nativeStart,this.fields=a()(a()({},this.fields),this.value),this.recordUnoContext()}}else this.addUnHealthyField("webviewRts",null)}}]),o}(A.a),M=n("QILm"),F=n.n(M),B=n("iWIM"),U=n.n(B);var V=["navigationStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","unloadEventStart","unloadEventEnd","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],H=function(e){E()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=T()(e);if(t()){var a=T()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N()(this,n)}}(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).name="Performance",e.navigationStart=0,e}return l()(n,[{key:"request",value:function(){window.performance&&window.performance.timing&&(this.datasource=window.performance.timing)}},{key:"getBoundValue",value:function(e){return["loadEventEnd","loadEventStart","domComplete"].includes(e)?2e4:U()(T()(n.prototype),"getBoundValue",this).call(this,e)}},{key:"buildData",value:function(e){this.tags.connectZero=this.value.connectStart===this.value.connectEnd?1:0;var t=this.value,n=t.navigationStart,r=void 0===n?0:n,a=F()(t,["navigationStart"]),o=e.Native;r||this.addUnHealthyField("navigationStart",0),this.longFields.Performance_base_navigationStart=r,this.navigationStart=r||o.value&&o.value.webViewLoadStart||0,this.navigationStart&&(o.nativeStart&&this.reviseValue({key:"navigationStart",start:o.nativeStart,end:this.navigationStart}),this.batchReviseValue({source:a,start:this.navigationStart}))}},{key:"value",get:function(){var e=this;return this.datasource?V.reduce((function(t,n){return t[n]=e.datasource[n],t}),{}):{}}}]),n}(A.a);var q=function(e){E()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=T()(e);if(t()){var a=T()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N()(this,n)}}(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).name="Custom",e.checkFields=["ps","fp","fs","dr","ld","fsn","fraf","tti"],e}return l()(n,[{key:"checkReady",value:function(){var e=this;return this.datasource={},window._plt.forEach((function(t){var n=i()(t,3),r=n[0],a=n[1],o=n[2];"tm"===r&&(e.datasource[a]=o)})),this.checkFields.every((function(t){return void 0!==e.datasource[t]}))}},{key:"request",value:function(){var e=this;return new Promise((function(t){var n=window._plt||[],r=n.push,a=function(){return e.checkReady()&&t()};n.push=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=r.apply(n,t);return a(),i},window._plt=n,a()}))}},{key:"getBoundValue",value:function(e){return["ld","fs"].includes(e)?2e4:U()(T()(n.prototype),"getBoundValue",this).call(this,e)}},{key:"buildData",value:function(e){var t=e.Performance.navigationStart;if(t){var n=this.value,r=n.fs,a=n.fsn,o=n.tti,i=F()(n,["fs","fsn","tti"]),c=Object(v.b)(),s=c.onPreRenderShow,u=c.requestStart,l=c.requestEnd,d=c.onPreRenderFinish,p=s||t;this.batchReviseValue({source:i,start:t}),this.batchReviseValue({source:{fs:r,fsn:a,tti:o},start:p}),this.batchReviseValue({source:{preRequestStart:u,preRequestEnd:l},start:s}),this.batchReviseValue({source:{onPreRenderFinish:d},start:t})}}},{key:"value",get:function(){var e=window.performance,t=this.datasource,n=0,r=0,a={};if(e&&e.timing&&e.getEntriesByName&&e.getEntriesByType){var o=e.timing.navigationStart,i=e.getEntriesByName("first-paint")[0],c=e.getEntriesByName("first-contentful-paint")[0];i&&(n=i.startTime+o),c&&(r=c.startTime+o);var s=Array.from(document.querySelectorAll("script")).filter((function(e){return e.src&&!e.async})).map((function(e){return e.src})),u=Array.from(document.querySelectorAll('link[rel="stylesheet"]')).map((function(e){return e.href})),l=e.getEntriesByType("resource"),d=l.filter((function(e){return u.includes(e.name)})),p=l.filter((function(e){return s.includes(e.name)})),f=function(e,t,n){return(e.length&&e.reduce((function(e,r){return Math[t](e,r[n])}),e[0][n])||0)+o},m=function(e,t){return f(e,"min",t)},h=function(e,t){return f(e,"max",t)};a={scriptStart:m(p,"fetchStart"),scriptEnd:h(p,"responseEnd"),styleStart:m(d,"fetchStart"),styleEnd:h(d,"responseEnd")}}var v={ps:t.ps,fp:t.fp,fs:t.fs,dr:t.dr,ld:t.ld,fsn:t.fsn,fpc:n,fcp:r,styleStart:a.styleStart,styleEnd:a.styleEnd,scriptStart:a.scriptStart,scriptEnd:a.scriptEnd,fraf:t.fraf,tti:t.tti};return Object.keys(v).reduce((function(e,t){return e[t]=parseInt(v[t],10)||0,e}),{})}}]),n}(A.a),z=n("h3qu"),Q=n("0P1e");function G(e,t){var n=v.a.isNativePlatform&&Object(z.c)(v.a.version,"5.51.0")>=0,r={memory:"getMemoryInfo",device:"deviceInfo",battery:"getBatteryInfo"}[e];return n&&r?Object(j.f)("AMDevice",r).then((function(n){var r=(t?t(n):n)||{};return{fields:Object.keys(r).reduce((function(t,n){return t["Native_".concat(e,"_").concat(n)]=r[n],t}),{})}}),(function(){return{}})):Promise.resolve({})}var J=function(e){E()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=T()(e);if(t()){var a=T()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N()(this,n)}}(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).name="DeviceInfo",e}return l()(n,[{key:"request",value:function(){var e,t=this;return Promise.all([(e={0:"未知",1:"wifi",2:"2G",3:"3G",4:"4G"},new Promise((function(t){if(v.a.isNativePlatform)return Object(j.f)("JSNetwork","info").then((function(n){var r=n.reachable,a=n.network_type,o=n.speed;t({fields:{reachable:r,networkType:e[a]},longFields:{speed:parseInt(o||0,10)}})}),(function(){return t({})}));Object(Q.a)().then((function(n){t({fields:{networkType:e[n]}})}),(function(){return t({})}))}))),G("memory"),G("battery"),G("device",(function(e){var t=e.phoneModel,n=void 0===t?"unknown":t,r=e.deviceName;return{phoneModel:n,deviceName:void 0===r?"unknown":r}}))]).then((function(e){e.forEach((function(e){t.fields=a()(a()({},t.fields),e.fields),t.longFields=a()(a()({},t.longFields),e.longFields)}))}))}}]),n}(A.a);var K=function(e){return"number"==typeof e&&!Number.isNaN(e)},Y=function(e){return[e.transferSize,e.decodedBodySize,e.encodedBodySize].every((function(e){return K(e)}))},X=function(e){return Math.round(e/1024)},Z=function(e){return Math.max(Math.min(Math.round(e),2e4),0)},$=function(e){E()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=T()(e);if(t()){var a=T()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N()(this,n)}}(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).name="Resource",e}return l()(n,[{key:"recordWithPrefix",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object.keys(e).forEach((function(r){t[n?"longFields":"fields"]["".concat(t.name,"_").concat(r)]=e[r]}))}},{key:"getJSResourceInfo",value:function(){try{for(var e=0,t=0,n=0,r=0,a=0,o=0,i=performance.getEntriesByType("resource"),c=Array.from(document.querySelectorAll("script")).filter((function(e){return e.src})),s=i.filter((function(e){if(["script","link"].includes(e.initiatorType)&&(e.name.endsWith(".js")||e.name.endsWith(".css"))){var t=c.find((function(t){return t.src===e.name}));return t&&!t.async}return!1})),u=0;u<s.length;u++){var l=s[u],d=l.transferSize,p=l.decodedBodySize,f=l.encodedBodySize;if(!Y(s[u]))return{};n+=1,e+=f,t+=p,d>0?o+=1:a+=1,r+=d}this.recordWithPrefix({totalEncodedBodySize:X(e),totalDecodedBodySize:X(t),totalTransferSize:X(r),resourceNum:n,cacheResourceNum:a,transferResourceNum:o})}catch(e){}}},{key:"getHtmlResourceInfo",value:function(){try{var e=performance.getEntriesByType("navigation")[0];Y(e)&&this.recordWithPrefix({htmlEncodedBodySize:X(e.encodedBodySize),htmlDecodedBodySize:X(e.decodedBodySize),htmlTransferSize:X(e.transferSize)})}catch(e){}}},{key:"getFsImgsResourceInfo",value:function(){try{var e=window.__fsImgSrcs||[],t=performance.timing.navigationStart;if(0!==e.length){var n=Object(v.b)().onPreRenderShow,r=n?n-t:0,a=performance.getEntriesByType("resource").filter((function(t){var n=t.name;return e.includes(n)})),o=a.map((function(e){return e.fetchStart})).reduce((function(e,t){return Math.min(e,t)}),2e4),i=function(e){return e.reduce((function(e,t){return Math.max(e,t)}),0)}(a.map((function(e){return e.responseEnd})));if([o,i].every((function(e){return K(e)})))return this.recordWithPrefix({fsImgsFetchStart:Z(o),fsImgsResponseEnd:Z(i-r)})}else{var c=function(e){return window._plt.find((function(t){return t[1]===e}))[2]-t};this.recordWithPrefix({fsImgsFetchStart:Z(c("fp")),fsImgsResponseEnd:Z(c("fsn"))})}}catch(e){}}},{key:"getServerTimingInfo",value:function(){var e=this;try{performance.getEntriesByType("navigation")[0].serverTiming.forEach((function(t){t.name&&("string"==typeof t.description&&t.description?e.fields["ServerTiming_".concat(t.name)]=t.description:"number"==typeof t.duration&&(e.longFields["ServerTiming_".concat(t.name)]=Math.round(t.duration)))}))}catch(e){}}},{key:"request",value:function(){this.getJSResourceInfo(),this.getHtmlResourceInfo(),this.getFsImgsResourceInfo(),this.getServerTimingInfo()}}]),n}(A.a);var ee=function(e){E()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=T()(e);if(t()){var a=T()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N()(this,n)}}(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).name="Node",e}return l()(n,[{key:"request",value:function(){var e=window.__MONITOR_INFOS__;e&&(this.datasource=e.serverData)}},{key:"record",value:function(e){var t=this;Object.entries(this.value[e]).forEach((function(n){var r=i()(n,2),a=r[0],o=r[1];t[e][a]=o}))}},{key:"buildData",value:function(e){if(this.value){var t=e.Performance.value.requestStart,n=this.value.marks,r=n.nodeInit,a=F()(n,["nodeInit"]);if(t){var o=r-t;r=t,a=Object.entries(a).reduce((function(e,t){var n=i()(t,2),r=n[0],a=n[1];return e[r]=a-o,e}),{})}a=this.buildRanges(a),this.batchReviseValue({source:a,start:r}),this.record("tags"),this.record("fields"),this.record("longFields")}}}]),n}(A.a),te=n("AVTV"),ne=n("aec/");function re(e){return e.reduce((function(e,t){var n=t.rts.sort((function(e,t){return e.start-t.start})).map((function(e){return{name:e.key,start:Math.round(e.start),end:Math.round(e.start+e.value)}}));return n.length&&e.push({title:t.name,spans:n}),e}),[])}function ae(){return(ae=x()(I.a.mark((function e(t,r){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(12).then(n.bind(null,"i4AV"));case 2:(0,e.sent.default)(t,r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=n("vQ/j").default;n.d(t,"a",(function(){return ue}));var ie=[L,H,q,J,$,ee,te.a],ce=[].concat(ie);function se(e){Object(d.c)(new Error("@pdd/monitor:"+e))}var ue=function(){function e(t){if(s()(this,e),"undefined"!=typeof window){var n=Object(v.c)(),r=n.amplifyRate,a=n.sampleRate;this.amplifyRate=r,this.sampleRate=a,this.firstInit=String(+y()),this.report(t)}else se("服务端禁止调用 Pmm.init")}return l()(e,[{key:"reportCustom",value:function(e){var t=this,n=String(e.groupId),r=e.customTraceSpanFormatter||re,o=ce,c=[Object(_.b)(),Object(ne.a)(o,{})];Promise.all(c).then((function(o){var c=i()(o,2),s=c[0],u=c[1],l=Object.values(u),d=l.reduce((function(e,t){return e.tags=a()(a()({},e.tags),t.tags),e.longFields=a()(a()({},e.longFields),t.longFields),e.fields=a()(a()({},e.fields),t.fields),e.fields["is".concat(t.name,"UnHealthy")]&&(e.tags.isDirty=1),e}),Object(m.a)({pn:e.pn,groupId:n}));d.fields.uid=s||"0",d.fields.pddEtag=Object(p.a)("ETag")||"0",d.tags.firstInit=t.firstInit,d.longFields.amplifyRate=t.amplifyRate,e.grayTag&&(d.tags.gray=e.grayTag);var h=r(l);window.__MONITOR_INFOS__&&window.__MONITOR_INFOS__.usePanel&&function(e,t){ae.apply(this,arguments)}(n,h),Math.random()>t.sampleRate||!n||(window.__FRONTEND_PERF_DATA__={tags:a()({},d.tags),longFields:a()({},d.longFields)},Object(f.a)(a()({groupId:n,amplifyRate:t.amplifyRate},d),{appId:b.a,bizSide:b.b}),e.useTrace&&function(e){var t=e.timelines,n=e.pn,r=e.groupId,a=e.userId,o=Object(v.e)("/api/cmt/trace"),i=v.a.system,c=v.a.systemVersion,s=v.a.version,u=v.a.platform,l={traceId:Object(_.a)(r),tags:{system:i,version:s,systemVersion:c,platform:u,href:window.location.href,userID:a||"0",pageName:n||"none"},span:t};Object(v.f)(o,l)}({timelines:h,pn:e.pn,groupId:n,userId:s}),function(e,t,n){var r=e.pagePath,a=n.tags,o=n.longFields;Object(f.a)([{groupId:"90246",amplifyRate:t,tags:{pagePath:String(r)}},{groupId:"90341",amplifyRate:t,tags:{pn:a.pn,hostname:a.hostname,platform:a.platform},longFields:o,fields:a}],{appId:b.a,bizSide:b.b},!0)}(e,t.amplifyRate,d))}))}},{key:"report",value:function(e){this.reportCustom(e),oe(e,this.amplifyRate,this.sampleRate)}}],[{key:"init",value:function(t){try{var n=["pn","pagePath","groupId"].filter((function(e){return!t[e]}));if(n.length)return void se("Pmm.init 上报，必须传入: ".concat(n.map((function(e){return"options.".concat(e)})).join(", ")));t.logTTISelf||window._plt.push(["tm","tti",+new Date]),Object(v.d)((function(){return new e(a()({},t))}))}catch(e){Object(d.c)(e)}}}]),e}()},KZJt:function(e,t,n){e.exports={displayItem:"_11VJ2k3s",bubble:"YodO_ZM0",promotion3:"_2mxSl1aQ"}},KaGD:function(e,t,n){"use strict";var r=function(e){return function(e){return e}};r=n("KFxo"),t.a=r},KidB:function(e,t,n){var r=n("x2pu"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},KoDT:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),s=n.n(c),u=n("a1gu"),l=n.n(u),d=n("Nsbk"),p=n.n(d),f=n("h3qu"),m=n("1/kQ");var h=/micromessenger\/([^\s]+)\s*/i,v="wechat_android",g="wechat_ios",y="wechat_unknown";var _=function(e){s()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=p()(e);if(t()){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"wechatVersion",get:function(){return Object(f.d)(this.cache,"wechatVersion",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(h);return t&&t[1]||""}(this.ua))}},{key:"wechatPlatform",get:function(){return Object(f.d)(this.cache,"wechatPlatform",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==(e=e.toUpperCase()).indexOf("ANDROID")?v:-1!==e.indexOf("IPHONE")||-1!==e.indexOf("IPAD")||-1!==e.indexOf("ITOUCH")?g:y}(this.ua))}},{key:"isSupportHistoryAPI",get:function(){return Object(f.d)(this.cache,"isSupportHistoryAPI",Object(f.c)(this.wechatVersion,"6.5.1")>0)}},{key:"isPureWeChatPlatform",get:function(){return this.platform===f.a.WeChat}},{key:"isWeChatMiniProgram",get:function(){return this.platform===f.a.WxApp}},{key:"isWeChatPlatform",get:function(){return this.platform===f.a.WeChat||this.platform===f.a.WxApp}},{key:"isAndroidWeChatPlatform",get:function(){return this.isWeChatPlatform&&this.wechatPlatform===v}},{key:"isIOSWeChatPlatform",get:function(){return this.isWeChatPlatform&&this.wechatPlatform===g}},{key:"isEmbeddedBrowser",get:function(){return this.isWeChatPlatform}},{key:"isWeChatPayAvailable",get:function(){return this.isWeChatPlatform}},{key:"isSupportWechatFloatingWindow",get:function(){return Object(f.d)(this.cache,"isSupportWechatFloatingWindow",Object(f.c)(this.wechatVersion,"6.6.7")>0)}},{key:"isShowSMAlertPlatform",get:function(){var e=this;return Object(f.d)(this.cache,"isShowSMAlertPlatform",!!e.isIOSWeChatPlatform||!!(e.isAndroidWeChatPlatform&&Object(f.c)(e.wechatVersion,"6.5.6")>=0))}}]),n}(m.a),b=n("3INx");var k=function(e){s()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=p()(e);if(t()){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"isQQPlatform",get:function(){return this.platform===f.a.QQ||this.platform===f.a.QQApp}},{key:"isPureQQPlatform",get:function(){return this.platform===f.a.QQ}},{key:"isQQMiniProgram",get:function(){return this.platform===f.a.QQApp}},{key:"isEmbeddedBrowser",get:function(){return this.isQQPlatform}},{key:"isQQPayAvailable",get:function(){return this.isQQPlatform}},{key:"isWeChatPayAvailable",get:function(){return this.isQQPlatform}}]),n}(m.a);var w=function(e){s()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=p()(e);if(t()){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"isWeiboPlatform",get:function(){return this.platform===f.a.Weibo}},{key:"isEmbeddedBrowser",get:function(){return this.isWeiboPlatform}},{key:"isAliPayAvailable",get:function(){return!0}}]),n}(m.a);var S=function(e){s()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=p()(e);if(t()){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"isWeChatPayAvailable",get:function(){return Object(f.d)(this.cache,"isWeChatPayAvailable",Object(f.j)(this.ua))}},{key:"isAliPayAvailable",get:function(){return!0}}]),n}(m.a);var I=function(e){s()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=p()(e);if(t()){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"isTinyNativePlatform",get:function(){return this.platform===f.a.PDDTinyAndorid}},{key:"version",get:function(){return Object(f.d)(this.cache,"version",Object(f.e)(this.ua,f.a.PddAndroid))}}]),n}(S);n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return O}));var C=[],x=new Map;function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(x.has(e))return x.get(e);var t,n=Object(f.f)(e);switch(n){case f.a.PddAndroid:case f.a.PddIOS:t=new b.b(e);break;case f.a.QQ:case f.a.QQApp:t=new k(e);break;case f.a.Weibo:t=new w(e);break;case f.a.WxApp:case f.a.WeChat:t=new _(e);break;case f.a.PDDTinyAndorid:t=new I(e);break;default:t=new S(e)}return E(e,t),t}function E(e,t){if(C.push(e),x.set(e,t),C.length>10){var n=C.shift();x.delete(n)}}function O(){return P(window.navigator.userAgent)}},"L/R6":function(e,t,n){e.exports={container:"_3-rSWiHc",icon:"raHIMvRi",title:"eIbWbqkK"}},L6UK:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),u=function(){function e(){i()(this,e),this.definitions={}}return s()(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.from(t);this.definitions=r.reduce(this.pullDefinitions,{})}},{key:"reset",value:function(){this.definitions={}}},{key:"pullDefinitions",value:function(e,t){var n=t.iconName&&t.path?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],a=r.iconName,o=r.path;a&&o&&(e[a]=o)})),e}}]),e}(),l={instance:null,getInstance:function(){return this.instance||(this.instance=new u),this.instance}},d=n("cDf5"),p=n.n(d),f=l.getInstance();n.d(t,"a",(function(){return m}));l.getInstance();function m(e){var t=e.className,n=e.icon,r=e.style,o=e.onClick,i=e.a11yText,c=e.role,s=function e(t){if(null===t)return null;if("object"===p()(t)&&t.path)return t.path;if("string"==typeof t){var n=null==f?void 0:f.definitions;return n[t]&&n[t].match(/^[Mm]/)?n[t]:t.match(/^[Mm]/)?t:null}return Array.isArray(t)?t.reduce((function(t,n){return t.concat(e(n))}),[]).filter((function(e){return e})):void 0}(n);if(!s||!s.length)return console.log("Could not find icon",n),null;var u=Array.isArray(s)?s:[s];return a.a.createElement("svg",{className:t,viewBox:"0 0 1024 1024",style:r,onClick:o,"aria-hidden":"string"!=typeof i,"aria-label":i,role:c||"img"},u.map((function(e,t){return a.a.createElement("path",{key:"svg-".concat(t),d:e,fill:"currentColor"})})))}},LJxE:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d}));var r,a=n("lSNA"),o=n.n(a),i=n("h3qu"),c=(r={},o()(r,i.a.PddAndroid,"3"),o()(r,i.a.PddIOS,"5"),o()(r,i.a.PDDTinyAndorid,"59"),o()(r,"LITE","33"),r),s="138",u="pinduoduo",l="pdd_user_id",d="0.1.0"},LUTn:function(e,t,n){"use strict";var r=n("QILm"),a=n.n(r),o=n("NYpQ");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.groupConfig,r=function(){var t=[];e.mutipleKvList.forEach((function(e){var n=e.tags,r=n.groupId,o=a()(n,["groupId"]);t.push({groupId:r,tags:o,fields:e.fields,longFields:e.longFields})})),Object(o.a)(t,n)};r()}},LuAP:function(e,t,n){},LzYn:function(e,t,n){var r=n("8Pq9"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},M0wS:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n("cDf5"),a=n.n(r),o=n("h3qu");function i(e){if(!e||!e.stack)return"";var t=e.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,5).join("@").replace(/\?[^:]+/gi,""),n=e.toString();return t.indexOf(n)<0?n+"@"+t:t}function c(e){return{error_msg:e&&e.message,error_stack:i(e),Error:e}}function s(e){return e&&e.replace(/(PDDAccessToken=|AccessToken=|"AccessToken":)\s*"?([^;,"]+)"?([;,]?\s*)/gi,(function(e,t,n,r){return"".concat(t).concat(n.length).concat(r)}))}function u(){var e=[];return function(t,n){if(null!==n&&"object"===a()(n)){if(e.indexOf(n)>=0)return;e.push(n)}return n}}function l(e){var t=null;return function(){if(!t){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];t=e.apply(null,r)}return t}}var d=l((function(){var e=Object(o.f)(navigator.userAgent),t=e===o.a.PddAndroid||e===o.a.PddIOS;return{isNativePlatform:t,isTinyNativePlatform:e===o.a.PDDTinyAndorid,platform:e,version:t&&Object(o.e)(navigator.userAgent,e)}}))},M2CY:function(e,t,n){"use strict";var r=n("cDf5"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("KoDT"),s={},u=Object(c.a)(),l="undefined"!=typeof location&&location.hostname.includes("yangkeduo.com"),d=!u.isNativePlatform&&l;var p={loggingURL:function(e){return"undefined"!=typeof window&&window.__LogingUrl__?window.__LogingUrl__:e?"https://th.yangkeduo.com/t.gif":"https://th.pinduoduo.com/t.gif"}(d),logRoutes:{perf:"https://tp.pinduoduo.com/p.gif",error:"https://te.pinduoduo.com/e.gif",chat_error:"https://te.pinduoduo.com/e.gif",real_error:"https://tne.pinduoduo.com/tne.gif",ad:function(e){return"undefined"!=typeof window&&window.__AdLogingUrl__?window.__AdLogingUrl__:e?"https://ta.yangkeduo.com/t.gif":"https://ta.pinduoduo.com/t.gif"}(d),tracking:"https://tldas.pinduoduo.com/e.gif"}},f={shop:{shopID:2,name:"拼多多",logo:"https://pinduoduoimg.yangkeduo.com/base/logo.jpg",weChatTimelineShareDisabled:!1,qqTimelineShareDisabled:!0},loggingURL:p.loggingURL,httpsLoggingURL:p.loggingURL,wxAppLoggingURL:"https://xcxapp.pinduoduo.com/t.gif",qqAppLoggingURL:"https://xcxapp.pinduoduo.com/qqt.gif",logRoutes:i()({download:"https://at.pinduoduo.com/p"},p.logRoutes),httpsLogRoutes:i()({},p.logRoutes),cmtURL:"http://cmtw.pinduoduo.com/api/ajax",httpsCmtURL:"https://cmtw.pinduoduo.com/api/ajax",pushDomain:"ws://ws.pinduoduo.com/",chatDomain:"ws://ws.pinduoduo.com/",wssDomain:"wss://ws.pinduoduo.com/",fileDomain:"http://file.pinduoduo.com/",httpsFileDomain:"https://file.pinduoduo.com/",qqFollowTip:"感谢关注拼多多",AppID:{FriendPay:-1,WeChat:2,WeChatWAPPay:20,SMS:5,AliPay:6,QQ:12,Weibo:11,AliPayWeb:9,QQConnect:13,QQPublicOld:27,QQPublic:30,ApplePay:31,AliPayDirectDebit:35,WeChatH5Pay:38,HBInstallmentPay:52,UnionPay:78,UnionPayWeb:79},ApiKey:{WeChat:"wx839691cce7c102bb",Weibo:"3907421985",QQConnect:"101273489",QQPublicOld:"200633114",QQPublic:"200675334",QQUIN:"1419183687",QQPublicTrack:"10000096",QQPublicMid:"1316857601",BaiduStatistics:"865a6952adbb55a10d86810cdcc6864a"},RedirectURI:{AliPayDirectDebit:"pinduoduoalipays://",Weibo:"http://mobile.yangkeduo.com/wboauth_callback.html",QQConnect:"http://mobile.yangkeduo.com/qqoauth_callback.html"},imgShareDomain:"http://m.pin3pin.com/",ContactUrl:"http://mp.weixin.qq.com/s?__biz=MzIxNzA1NDEyNQ==&mid=649170962&idx=1&sn=8763710a673d7b76f418a7ae76cff86c#rd",ForceContactUrl:"http://mp.weixin.qq.com/s?__biz=MzIxNzA1NDEyNQ==&mid=649170998&idx=1&sn=684606e474788e7f191f6f6c68d0dfe4#rd",QQContactUrl:"http://post.mp.qq.com/material/show/31343139313833363837-1472733830-1464276288782813-0.html?_wv=2281701505&v=3&sig=73182fcdc7ed1c0b6aeb3ce78501d00b&_bid=2321",thirdLevelLoginPath:"jkr_report.html"},m={AppID:{WeChat:24},ApiKey:{WeChat:"wx20392b0342c8af91"}},h={hutaojie:1,mobile:2,weipin:3,app:4,huabei:17,xibei:18,dongbei:19,huazhong:21,huadong:22,dongnan:23,xinan:24,panduoduo:25,sc:26,hybrid:"hybrid",hybridTest:"hybridTest",huanan:40,hzsc:41,dnsc:42,dbsc:43,xbsc:44,xnsc:45,hnsc:46,hbsc:47,pddpt:48,m:49,mm:66,myqxgs:68,mobpinduoduo:72,mmpinduoduo:73,mobilepinduoduo:74,mobileddlequ:75,nvude3:82,mobnvude3:83,mpinduoduo:63,mddlequ:85,hhngpinduoduo:129};s[h.hutaojie]={},s[h.mobile]={domain:"https://mobile.yangkeduo.com/",BeiTaiShareDomains:["http://mobile.pinduoduo.net/"]},s[h.weipin]={domain:"https://weipin.yangkeduo.com/",AppID:{WeChat:h.weipin},ApiKey:{WeChat:"wx51e5fe8c95f71b20"}},s[h.huabei]={domain:"https://huabei.yangkeduo.com/",AppID:{WeChat:h.huabei},ApiKey:{WeChat:"wx4044e9709b7188ea"}},s[h.xibei]={domain:"https://xibei.yangkeduo.com/",AppID:{WeChat:h.xibei},ApiKey:{WeChat:"wxbc80866520cc300d"}},s[h.dongbei]={domain:"https://dongbei.yangkeduo.com/",AppID:{WeChat:h.dongbei},ApiKey:{WeChat:"wx27901e8ab752ed35"}},s[h.huazhong]={domain:"https://huazhong.yangkeduo.com/",AppID:{WeChat:h.huazhong},ApiKey:{WeChat:"wx95c952f67a727090"}},s[h.huadong]={domain:"https://huadong.yangkeduo.com/",AppID:{WeChat:h.huadong},ApiKey:{WeChat:"wx03908118b84f285a"}},s[h.dongnan]={domain:"https://dongnan.yangkeduo.com/",AppID:{WeChat:h.dongnan},ApiKey:{WeChat:"wxff2e8dc2762c5b92"}},s[h.xinan]=i()({domain:"https://xinan.yangkeduo.com/"},m),s[h.panduoduo]={},s[h.sc]={domain:"https://sc.yangkeduo.com/",AppID:{WeChat:h.sc},ApiKey:{WeChat:"wx32b0d9cdd390ebf0"}},s[h.app]={domain:"https://app.yangkeduo.com/",AppID:{WeChat:4},ApiKey:{WeChat:"wx77d53b84434b9d9a"}},s[h.hybrid]={shareDomain:"https://mobile.yangkeduo.com/",AppID:{WeChat:4},ApiKey:{WeChat:"wx77d53b84434b9d9a"}},s[h.hybridTest]={};var v,g="http://mp.weixin.qq.com/s?__biz=MzAxMjcyMTkwOA==&mid=401487202&idx=1&sn=37de9db39432edc32e1eb90d885d7a23#rd";function y(e,t,n){n&&(t.apiDomain=t.apiDomain?t.apiDomain:n,t.apiDomainNew=t.apiDomain,t.apiDomainV3=t.apiDomain);var r=t.domain||t.shareDomain||"https://mobile.yangkeduo.com/";for(var o in t.shareDomain||(t.shareDomain=r),t.shareDomains={},e)if(e.hasOwnProperty(o)){var i=e[o];[e.QQChatSession,e.QQZone].indexOf(i)>=0?t.domain&&t.domain.indexOf("m.hutaojie.com")>=0?t.shareDomains[i]=t.shareDomain:t.shareDomains[i]="https://mobile.yangkeduo.com/":t.shareDomains[i]=t.shareDomain}return function(){for(var e={},t=0;t<arguments.length;t++)"object"===a()(arguments[t])&&_(e,arguments[t]);return e}(f,t)}function _(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],o=a()(r);"number"===o||"string"===o||"boolean"===o?e[n]=r:"object"===o?(e[n]=e[n]||{},_(e[n],r)):(i=r,"[object Array]"===Object.prototype.toString.call(i)&&(e[n]=e[n]||[],_(e[n],r)))}var i}s[h.huanan]={shareDomain:"https://huanan.yangkeduo.com/",AppID:{WeChat:40},ApiKey:{WeChat:"wxaffd94b821032481"},ContactUrl:g},s[h.hzsc]={shareDomain:"https://hzsc.yangkeduo.com/",AppID:{WeChat:41},ApiKey:{WeChat:"wx7bca1a27af0a31ed"},ContactUrl:g},s[h.dnsc]={shareDomain:"https://dnsc.yangkeduo.com/",AppID:{WeChat:42},ApiKey:{WeChat:"wxb79645ae502205d9"},ContactUrl:g},s[h.dbsc]={shareDomain:"https://dbsc.yangkeduo.com/",AppID:{WeChat:43},ApiKey:{WeChat:"wx01e7a1f91b8c43d3"},ContactUrl:g},s[h.xbsc]={shareDomain:"https://xbsc.yangkeduo.com",AppID:{WeChat:44},ApiKey:{WeChat:"wxc50a66d9b6d566ed"},ContactUrl:g},s[h.xnsc]={shareDomain:"https://xnsc.yangkeduo.com",AppID:{WeChat:45},ApiKey:{WeChat:"wx52457b6561fcd804"},ContactUrl:g},s[h.hnsc]={shareDomain:"https://hnsc.yangkeduo.com",AppID:{WeChat:46},ApiKey:{WeChat:"wx8e75952076e03567"},ContactUrl:g},s[h.hbsc]={shareDomain:"https://hbsc.yangkeduo.com",AppID:{WeChat:47},ApiKey:{WeChat:"wx7388833e69aafd89"},ContactUrl:g},s[h.pddpt]={shareDomain:"https://pddpt.yangkeduo.com",AppID:{WeChat:48},ApiKey:{WeChat:"wxe1b0f22089fadce1"},ContactUrl:g},s[h.m]={domain:"https://m.ishangtong.com",shareDomain:"https://m.ishangtong.com",AppID:{WeChat:48},ApiKey:{WeChat:"wxe1b0f22089fadce1"},ContactUrl:g},s[h.mm]={shareDomain:"https://mm.ishangtong.com",AppID:{WeChat:66},ApiKey:{WeChat:"wxf05b577296a1b6ec"},ContactUrl:g},s[h.myqxgs]={domain:"https://m.yiqixiegushi.com",shareDomain:"https://m.yiqixiegushi.com",AppID:{WeChat:66},ApiKey:{WeChat:"wxf05b577296a1b6ec"},ContactUrl:g},s[h.mobpinduoduo]={shareDomain:"https://mob.pinduoduo.com",AppID:{WeChat:56},ApiKey:{WeChat:"wx1e2715638762a51b"},ContactUrl:g},s[h.mmpinduoduo]={shareDomain:"https://mm.pinduoduo.com",AppID:{WeChat:57},ApiKey:{WeChat:"wxa19650a24138625a"},ContactUrl:g},s[h.mobileddlequ]=i()({shareDomain:"https://mobile.ddlequ.com/"},m),s[h.mddlequ]=i()({shareDomain:"https://m.ddlequ.com/"},m),s[h.mobilepinduoduo]={domain:"https://mobile.pinduoduo.com",shareDomain:"https://mobile.pinduoduo.com"},s[h.nvude3]={useProxyDomain:1,domain:v="https://m.nvude3.com",shareDomain:v,AppID:{WeChat:67},ApiKey:{WeChat:"wx15ee6b92001c5295"},ContactUrl:g,loggingURL:v+"/proxy/th/t.gif",httpsLoggingURL:v+"/proxy/th/t.gif",logRoutes:{error:v+"/proxy/te/e.gif",chat_error:v+"/proxy/te/e.gif",real_error:v+"/proxy/tne/tne.gif"},httpsLogRoutes:{error:v+"/proxy/te/e.gif",chat_error:v+"/proxy/te/e.gif",real_error:v+"/proxy/tne/tne.gif"}},s[h.mobnvude3]={shareDomain:"https://mob.nvude3.com",AppID:{WeChat:65},ApiKey:{WeChat:"wx86161385b94a2ed7"},ContactUrl:g},s[h.mpinduoduo]={shareDomain:"https://mobile.yangkeduo.com/",AppID:{WeChat:h.mpinduoduo},ApiKey:{WeChat:"wx2993126642818cea"}},s[h.hhngpinduoduo]={shareDomain:"https://hhng.pinduoduo.com/",AppID:{WeChat:20331},ApiKey:{WeChat:"wx8aeafb2c4c5252fa"}};var b={hutaojie:{m:"hutaojie",app:"apptest"},yangkeduo:{mobile:"mobile",app:"app",huabei:"huabei",xibei:"xibei",dongbei:"dongbei",xinan:"xinan",huazhong:"huazhong",dongnan:"dongnan",huadong:"huadong",panduoduo:"panduoduo",sc:"sc",huanan:"huanan",hzsc:"hzsc",dnsc:"dnsc",dbsc:"dbsc",xbsc:"xbsc",xnsc:"xnsc",hnsc:"hnsc",hbsc:"hbsc",pddpt:"pddpt",weipin:"weipin"},ishangtong:{m:"m",mm:"mm"},yiqixiegushi:{m:"myqxgs"},pinduoduo:{mob:"mobpinduoduo",mm:"mmpinduoduo",mobile:"mobilepinduoduo",m:"mpinduoduo",hhng:"hhngpinduoduo"},nvude3:{m:"nvude3",mob:"mobnvude3"},ddlequ:{mobile:"mobileddlequ",m:"mddlequ"}};t.a={get:function(e){var t,n=function(e){var t={hostName:e||"",hasThirdLevelDomain:!1};if(!e)return t.hostName=".",t;var n=["m.ishangtong.com","m.yiqixiegushi.com","m.hutaojie.com"],r=e.split("."),a=r.length;if(a<=3)return t;for(var o=r[a-2],i=0;i<n.length;i++){var c=n[i];if(c.indexOf(o)>0)return t.hostName=c,t.hasThirdLevelDomain=!0,t}return t}((e=e||{}).hostName),r=n.hostName||".",a=r.split(".");if(e.isModuleVersion){var o="undefined"!=typeof window?location.href.indexOf("hutaojie")>=0:r.indexOf("hutaojie")>=0;t=s[o?h.hybridTest:h.hybrid]}else a.length>=2&&b[a[1]]&&(t=s[h[b[a[1]][a[0]]]]);return t||(t=s[h.mobile]),t.hasThirdLevelDomain=n.hasThirdLevelDomain||!1,y(e.shareType,t,e.defaultApiDomain)}}},"MVQ+":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,a=n("pVnL"),o=n.n(a),i=n("QILm"),c=n.n(i),s=n("q1tI"),u=n.n(s),l=n("ZKQX"),d=n("9qmp");function p(e){e&&e(),r&&r(),r=null}function f(e){var t=e.onConfirm,n=e.onCancel,a=e.onClose,i=c()(e,["onConfirm","onCancel","onClose"]);return r&&r(),r=Object(l.a)(u.a.createElement(d.a,o()({DialogProps:{ControllerProps:{PortalComponent:null}},onConfirm:p.bind(this,t),onCancel:n&&p.bind(this,n),onClose:p.bind(this,a)},i)))}},MpJ2:function(e,t,n){"use strict";n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return k})),n.d(t,"l",(function(){return w})),n.d(t,"n",(function(){return S})),n.d(t,"i",(function(){return I})),n.d(t,"m",(function(){return C})),n.d(t,"o",(function(){return x})),n.d(t,"j",(function(){return P})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return O})),n.d(t,"k",(function(){return N})),n.d(t,"h",(function(){return D})),n.d(t,"g",(function(){return T})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return A})),n.d(t,"p",(function(){return R})),n.d(t,"q",(function(){return W}));var r,a,o,i,c,s,u,l=n("RIqP"),d=n.n(l),p=(n("MVZn"),n("KoDT")),f=n("h3qu"),m=n("SJUw"),h=n.n(m),v={fullfilled:!1},g=new Promise((function(e,t){v.resolve=e,v.reject=t}));r=Object(p.b)(window.navigator.userAgent),a=r.version,o=f.a.PddIOS===r.platform,i=f.a.PddAndroid===r.platform||f.a.PDDTinyAndorid===r.platform,c=Object(f.c)(a,"4.80.0")>=0?"JSNavigation":"AMNavigator",Object(f.c)(a,"4.53.0"),s=Object(f.c)(a,"4.14.0")>=0?"PDDContacts":"AMContacts";var y=function(e,t){return"请检查当前环境，".concat(e," ").concat(t,"接口需要在原生App环境中使用。")};var _={ignoreApi:[],simpleRate:.1};function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(o||i){var u=i&&r?r:o&&c?c:"";if(u&&Object(f.c)(a,u)<0){var l="请检查App版本号，".concat(e," ").concat(t,"接口最小支持版本号：").concat(u,"。"),p=new Error(l);return p.errorType="version_error",Promise.reject(p)}var m=function(n){if(!["JSNetwork:request","JSShare:queryShareTypes","JSShare:performShare","JSNotification:register","JSNavigation:forward","AMAnalytics:send","PDDHighLayerManager:getPageInitData","WebScene:getPageShownType","JSPhoto:getV2","AMAlert:showAlert","JSAlert:showAlert","JSPay:pay"].concat(d()(_.ignoreApi||[])).includes("".concat(e,":").concat(t))&&!["JSReporter"].includes(e))return setTimeout((function(){throw new Error("call native ".concat(e,":").concat(t," cost over ").concat(n,"ms"))}),n)},v=(s=s?Math.random()<_.simpleRate:s)&&m(1e3);return new Promise((function(r,a){h.a.callNative(e,t,n,(function(e){v&&clearTimeout(v),r(e)}),(function(r,o){v&&clearTimeout(v);var i=new Error("callNative ".concat(e," ").concat(t," error: ").concat(o));i.errorCode=o,i.params=n,i.data=r,i.toJSON=function(){return{errorCode:this.errorCode,params:this.params,data:this.data}},a(i)}))}))}var g=y(e,t);return Promise.reject(new Error(g))}function k(){return b("AMStorage","getPasteboard")}function w(e){return b("AMStorage","setPasteboard",e)}function S(e){return b("JSUIControl","setTitle",e)}function I(e){return b("JSUIControl","setBackButton",e)}function C(e){return b("JSUIControl","setRightBarButtons",e)}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enable:!0};return b("JSUIControl",e.enable?"enablePullReload":"disablePullReload",null,"4.1.0","4.1.0").catch((function(e){if("version_error"!==e.errorType)throw e}))}function P(e){return b("JSUIControl","setHeaderRefresh",e,"4.64.0","4.56.0")}function E(e){return b("PDDGoodsDetailConfig","getDDJBParams",e,"4.47.0","4.48.0")}function O(){return b(c,"referPageContext")}function N(e){var t=b(c,"setPageContext",e);return v.fullfilled?g=t:(v.fullfilled=!0,v.resolve(t),g)}function D(){var e=Object(f.c)(a,"4.14.0")>=0;return b(s,"selectContact",null,e?"4.14.0":"3.17.0",e?"4.14.0":"3.17.0")}function T(){return b("WebScene","onWebMounted",null,"4.27.0","4.27.0").catch((function(e){if("version_error"!==e.errorType)throw e}))}function j(){return b("WebScene","getPageShownType",null,"4.20.0","4.20.0")}function A(){return b("AMUser","info")}function R(e){return b("WebScene","showRetryPage",e,"4.18.0","4.18.0")}function W(e){return u||(u=b("WebScene","getPageVisibility",e,"4.27.0","4.27.0")),u}},NTpl:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("mwIZ"),i=n.n(o),c=n("q1tI"),s=n.n(c),u=n("gze+"),l=n.n(u),d=(n("17x9"),n("TSYQ")),p=n.n(d);t.a=function(e){var t,n=e.selectedSkuID,r=e.skuInfos,o=e.skuDirectOrder,c=n&&(i()(r,[[n],"skuPreSaleTip"],"")||"");return c?s.a.createElement("div",{className:p()((t={},a()(t,l.a.skuPreSaleTip,!o),a()(t,l.a.skuPreSaleTipOC,o),t))},c):null}},NVvc:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("MVZn"),a=n.n(r),o=n("SxTj"),i=n("fkZF"),c=n("mj+i"),s=n("uf4C");function u(e,t){if(e.indexOf("_p_launch_id")>=0)return e;var n=e||"index.html",r=(t||{}).disableExtendTransferParameters,u=t.transferParams||{},l={};r||(l=Object(o.b)(!0));var d=[Object(s.f)()||"",Date.now(),Object(i.a)(10)].join("_"),p=document.createElement("a");p.href=n;var f=Object(c.g)(p.search),m=u;Object.keys(u).forEach((function(e){f[e]&&(m={})}));var h=Object(c.b)(a()(a()(a()({},m),l),f));return h=h?"_p_launch_id=".concat(d,"&").concat(h):"_p_launch_id=".concat(d),(p.pathname+"?"+h+p.hash).slice(1)}},NYpQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("xJ31"),a=n("AGSb"),o=n("qnV/"),i=n("LJxE"),c=n("7Aih"),s=n("gNBk");function u(){return s.a.isNativePlatform?s.a.isLiteNativePlatform?i.e.LITE:i.e[s.a.platform]||"-1":"-1"}var l={appId:"",bizSide:""};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=Math.pow(10,5)+Math.floor(Math.random()*(Math.pow(10,6)-Math.pow(10,5))),d=Date.now();return{version:n?0:Object(c.c)(s.a.version),report_time_ms:d,rand_num:o,crc32:Object(r.a)(d+"-"+o),biz_side:t.bizSide||l.bizSide||i.b,app:String(t.appId||l.appId||i.a),common_tags:{uid:Object(a.a)(i.d)||"0",runningAppId:u()},datas:e}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(e.length){var a=d(e,n,r);0,Object(s.f)(t,a)}}var f=Object(o.a)((function(e){var t=window.location.protocol,n="amcomponent:"===t?"https:":t,r=window.__PMM_HOST__||"pmmtk.pinduoduo.com";return"".concat(n,"//").concat(r,"/").concat(e)}));function m(e,t){return Object.keys(e).reduce((function(n,r){return t(n,r,e[r]),n}),{})}function h(e){return void 0===e?e:String(e)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Array.isArray(e)||(e=[e]);var r=[];e.forEach((function(e){var t=e.groupId,n=e.amplifyRate,a=void 0===n?1:n,o=e.tags,i=void 0===o?{}:o,c=e.fields,s=void 0===c?{}:c,u=e.longFields,l=void 0===u?{}:u;if(t){var d=m(i,(function(e,t,n){return e["custom_".concat(t)]=h(n)})),p=m(l,(function(e,t,n){return e[t]={values:[parseInt(n,10)||0]}})),f=m(s,(function(e,t,n){return e[t]=h(n)})),v={category:4,type:400,id_raw_value:String(t),timestamp:Date.now(),tags:d,lvalues:p,extras:f,api_ratio:a};r.push(v)}})),p(r,f("api/pmm/defined"),t,n)}},OIse:function(e,t,n){},OUj1:function(e,t,n){var r=n("79ez"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},OWl0:function(e,t,n){e.exports={foldItem:"_2u9Ujxcm",fold:"_3ukV7mxK",promotionItem:"_3DbV7e5p"}},OyxV:function(e,t,n){e.exports={container:"_1Tk_m28N",name:"J9WPy2Wu"}},P58h:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r,a=n("MVZn"),o=n.n(a),i=n("lwsE"),c=n.n(i),s=n("W8MJ"),u=n.n(s),l=n("7W2i"),d=n.n(l),p=n("a1gu"),f=n.n(p),m=n("Nsbk"),h=n.n(m),v=n("U+yc"),g=n.n(v),y=n("mwIZ"),_=n.n(y),b=n("q1tI"),k=n.n(b),w=(n("17x9"),n("gKdT")),S=n.n(w),I=n("W1oA"),C=n("eHaf"),x=n("mj+i"),P=n("ez7s"),E=n("SXY3"),O=n("KoDT"),N=n("h3qu"),D=n("MpJ2"),T=n("1Irm"),j=n("9yT/"),A=n("x9rp");var R=(r=function(e){d()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=h()(e);if(t()){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}(n);function n(e){var r;return c()(this,n),(r=t.call(this,e)).state={thumb:r.processImage(e.src)},r.imgUrl=e.src,r}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectSkuId,n=e.resetSkuId,r=e.usePddNativePhoto,a=Object(O.a)();if(r&&Object(N.c)(a.version,"5.49.0")>=0)try{Object(T.a)("video_container_goods_sku_index_change_notification",(function(e){var r=(null==e?void 0:e.sku_id)||"";r?t&&t({skuId:r}):n&&n()}))}catch(e){}}},{key:"getNativeViewImgList",value:function(){var e=this.props,t=e.skuInfos,n=e.group,r=Object.values(t);r.sort((function(e,t){return _()(e,"previewPriority")-_()(t,"previewPriority")}));var a=[];return r.forEach((function(e){if(!(e.quantity<=0)){var t="",r=!0,o=!1,i=void 0;try{for(var c,s=e.specs[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var u=c.value;u.spec_value&&(t+=u.spec_value+" ")}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}var l=n.requireNum>1?e.groupPrice:e.normalPrice;a.push({image_url:e.thumbUrl,sku_name:t,price:l,sku_id:e.skuId})}})),a}},{key:"viewImg",value:function(){var e=this,t=this.props,n=t.selectedSkuID,r=t.goods,a=t.usePddNativePhoto,i=Object(O.a)();if(a&&Object(N.c)(i.version,"5.50.0")>=0){var c=Object(x.h)(window.location.href),s=this.getNativeViewImgList(),u=s.findIndex((function(e){return e.sku_id===n}));if(!n&&u<0){var l=r.hdThumbUrl||r.thumbUrl;s.unshift({image_url:l,sku_mode:1}),u=0}var d={props:{url:"pdd_photo_goods_sku.html?pr_animated=0",index:u,scene_id:"goods_detail_sku",data_list:s,loop:!0,is_h5:!0,activity_style_:1},transient_refer_page_context:{page_id:c.page_id,page_name:c.page_name,page_sn:c.page_sn}};Object(D.f)("JSNavigation","modal",d).catch((function(t){Object(I.a)(e.imgUrl,e.props.imgList)}))}else Object(I.a)(this.imgUrl,this.props.imgList),Object(C.b)(o()(o()({},j.c.SkuImgClick),{},{goods_id:r.goodsID,event_type:r.eventType}))}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.src,r=this.processImage(n);if(n!==this.imgUrl){var a=new Image;a.onload=function(){t.setState({thumb:r}),t.imgUrl=n},a.src=r}}},{key:"processImage",value:function(e){return Object(P.b)(e,{resizeWidth:300,quality:70,webpEnable:Object(A.f)(),sharpen:1})}},{key:"render",value:function(){var e=this.props.goods,t=o()(o()({},j.c.SkuImgImpr),{},{goods_id:e.goodsID,event_type:e.eventType}),n=this.state.thumb;return k.a.createElement(E.a,{trackingInfo:t},k.a.createElement("img",{src:n,onClick:this.viewImg,role:"img","aria-label":"点击查看大图"}))}}]),n}(k.a.PureComponent),g()(r.prototype,"getNativeViewImgList",[S.a],Object.getOwnPropertyDescriptor(r.prototype,"getNativeViewImgList"),r.prototype),g()(r.prototype,"viewImg",[S.a],Object.getOwnPropertyDescriptor(r.prototype,"viewImg"),r.prototype),r)},"P6Z/":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3jf2bFhY{position:relative;border:none!important}",""]),t.locals={root:"_3jf2bFhY"}},P8qb:function(e,t,n){},"PB+Z":function(e,t,n){var r=n("DOSG"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},PlGL:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=(n("17x9"),n("QILm")),s=n.n(c),u=n("TSYQ"),l=n.n(u),d=n("KaGD"),p=n("eskz"),f=n.n(p);var m=Object(d.a)(f.a)((function(e){var t=e.className,n=s()(e,["className"]);return i.a.createElement("div",a()({},n,{className:l()(t,f.a.root)}))})),h=n("+wjZ"),v=n.n(h);var g=Object(d.a)(v.a)((function(e){var t=e.className,n=s()(e,["className"]);return i.a.createElement("div",a()({},n,{className:l()(v.a.root,t)}))})),y=n("xZuf"),_=n.n(y);var b=Object(d.a)(_.a)((function(e){var t=e.className,n=s()(e,["className"]);return i.a.createElement("div",a()({},n,{className:l()(_.a.root,t)}))})),k=n("lSNA"),w=n.n(k),S=n("fI1f"),I=n.n(S);function C(e){var t=e.className,n=e.type,r=s()(e,["className","type"]);return i.a.createElement("div",a()({},r,{className:l()(t,I.a.root,w()({},I.a.hollow,"hollow"===n),"icon"),role:"button","aria-label":"关闭按钮"}))}C.defaultProps={type:"solid"};var x=Object(d.a)(I.a)(C),P=n("AmiU"),E=n("gi5g");function O(e){Object(o.useEffect)((function(){return e.shouldDisableBodyScroll&&Object(E.a)(),function(){e.shouldDisableBodyScroll&&Object(E.c)()}}),[e.shouldDisableBodyScroll]);var t=e.children,n=e.PortalComponent,r=e.PortalComponentProps;return n?i.a.createElement(n,r,t):t}function N(e){var t=e.ControllerProps,n=e.ContainerProps,r=e.BackdropProps,o=e.BaseDialogProps,c=e.style,s=e.className;return i.a.createElement(O,t,i.a.createElement(b,n,i.a.createElement(m,r),i.a.createElement(g,a()({style:c,className:s},o),e.children)))}O.defaultProps={PortalComponent:P.a,shouldDisableBodyScroll:!0},n.d(t,"a",(function(){return N})),N.Controller=O,N.Container=b,N.Backdrop=m,N.BaseDialog=g,N.CloseButton=x},Pqdx:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("MVZn"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("zCF7"),s=n("l6CY"),u=n("5OuH"),l=n.n(u),d=i.a.memo((function(e){var t=e.data,n=e.style,r=void 0===n?null:n,u=e.boxWidth,d=Object(o.useRef)(),p=Object(o.useRef)(),f=Object(c.a)({outerContainerRef:d,contentRef:p,boxWidth:u},[t.img_text]),m=f.visible,h=f.scale,v=f.containerWidth,g=f.useMinScale;return i.a.createElement("div",{className:l.a.wrapper,style:a()({color:Object(s.a)(t.text_color),background:Object(s.a)(t.bg_color)},r)},i.a.createElement("div",{className:l.a.container,ref:d},i.a.createElement("div",{style:a()({WebkitTransformOrigin:"left center",transformOrigin:"left center",WebkitTransform:"scale(".concat(h,")"),transform:"scale(".concat(h,")"),width:v/h,overflow:"hidden"},g?{textOverflow:"ellipsis"}:{})},i.a.createElement("span",{ref:p,style:{visibility:m?"visible":"hidden"}},t.img_text||null))))})),p=i.a.memo((function(e){var t=e.data,n=e.boxWidth;return t&&t.img_text?i.a.createElement(d,{data:t,boxWidth:n}):null}))},Q8Kf:function(e,t,n){"use strict";var r=n("QILm"),a=n.n(r),o=n("pVnL"),i=n.n(o),c=n("lSNA"),s=n.n(c),u=n("q1tI"),l=n.n(u),d=n("TSYQ"),p=n.n(d),f=n("/jjR"),m=n("adHa"),h=n("JHv/"),v=n("yb+b"),g=n("Pqdx"),y=function(e){return e&&e.length>0},_={Normal:0,Text:1,Coupon:2},b=n("gJ0l"),k=n("gvkz"),w=n("BA2M"),S=n("p1+K"),I=n.n(S);n.d(t,"a",(function(){return O}));var C=l.a.createContext({webpEnable:!1,lazy:!1,iconRatio:3,tagIconRatio:3}),x=function(e){return y(e.tag_list)},P=function(e){return!x(e)&&!!e.multi_line_goods_name},E=Object(u.memo)((function(e){var t=e.data,n=e.visited,r=void 0!==n&&n,a=e.webpEnable,o=void 0!==a&&a,c=e.lazy,u=void 0!==c&&c,d=e.onClick,m=e.specialRules,S=void 0===m?{}:m,x=e.iconRatio,E=void 0===x?3:x,O=e.tagIconRatio,N=void 0===O?3:O,D=e.componentProps,T=void 0===D?{}:D,j=t.avatars||(t.near_group?t.near_group.list&&t.near_group.list.map((function(e){return e.avatar})):null),A=P(t),R=t.group&&t.group.price||t.price,W=[_.Text,_.Coupon].includes(t.price_type)?t.price_info:R/100,L=t.price_type===_.Coupon?"券后":"";return l.a.createElement(C.Provider,{value:{webpEnable:o,lazy:u,iconRatio:E,tagIconRatio:N}},l.a.createElement("div",{className:I.a.wrapper,onClick:d},l.a.createElement("div",{className:I.a.container},l.a.createElement("div",{className:I.a.imgArea},l.a.createElement("div",{className:p()(I.a.imgWrapper,s()({},I.a.longImgWrapper,t.long_thumb_url))},l.a.createElement(f.a,{src:t.long_thumb_url||t.hd_url||t.hd_thumb_url||t.thumb_url,lazy:u,className:I.a.goodsImg,processParam:{webpEnable:o,resizeWidth:400,plainWatermark:t.long_thumb_wm||t.hd_thumb_wm||t.thumb_wm,prefitWidth:400}})),t.need_ad_logo&&l.a.createElement(h.a,null),t.special_text&&t.special_text.img_text?l.a.createElement(g.a,{data:t.special_text}):t.mall_name?l.a.createElement(v.a,{mallName:t.mall_name,mallStyle:t.mall_style}):null),l.a.createElement("div",{className:I.a.infoArea},l.a.createElement(b.a,i()({icons:t.icon_list,name:t.goods_name,row:A?2:1,style:r?{color:"#9C9C9C"}:{},lazy:u,webpEnable:o},T.goodsName)),!A&&(!S.compressTagGap||y(t.tag_list))&&l.a.createElement(k.a,i()({tags:t.tag_list,tagStyle:t.tag_style,row:1,lazy:u,webpEnable:o},T.goodsTags)),l.a.createElement(w.a,i()({pricePrefix:L,price:W,sale:t.sales_tip,address:t.delivery_address_tip,avatars:j,lazy:u,webpEnable:o},T.goodsPriceSaleAvatar))))))}));function O(e){var t=e.specialRules,n=void 0===t?{}:t,r=e.webpEnable,o=a()(e,["specialRules","webpEnable"]),c=Object(u.useContext)(m.a).webpEnable,s=void 0===r?c:r,d=Object(u.useMemo)((function(){return{compressTagGap:n.compressTagGap}}),[n.compressTagGap]);return l.a.createElement(E,i()({specialRules:d,webpEnable:s},o))}},QLMx:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),s=n.n(c),u=n("a1gu"),l=n.n(u),d=n("Nsbk"),p=n.n(d),f=n("mwIZ"),m=n.n(f),h=n("q1tI"),v=n.n(h),g=n("TSYQ"),y=n.n(g);n("17x9");var _=function(e){s()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=p()(e);if(t()){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this,t=this.srvItem;if(t.length<1)return null;var n=m()(this.props.goods,"ui.sku_section.home_install.title")||"服务",r=m()(this.props.goods,"ui.sku_section.home_install.tip")||"服务费用根据实际收货地址浮动";return v.a.createElement("div",{className:"sku-on-site-area"},v.a.createElement("div",{className:"sku-on-site-title"},n),v.a.createElement("div",{className:"sku-on-site-content"},(t||[]).map((function(t,n){var r=m()(e.props.selectedHomeIns,"srv_type")===t.srv_type;return v.a.createElement("div",{key:n,className:y()("sku-on-site-way",{selected:r}),onClick:function(){e.props.handleHomeInsClick&&e.props.handleHomeInsClick(r?{}:t)}},t.desc)}))),v.a.createElement("div",{className:"sku-on-site-desc"},r))}},{key:"srvItem",get:function(){var e=this.props,t=e.selectedSkuID,n=e.skuInfos,r=e.goods;return t?(n[t]||{}).srvItem||[]:m()(r,"ui.sku_section.home_install.srv_item")||[]}}]),n}(v.a.Component)},QROL:function(e,t,n){},RLzq:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,".jPB1u7d8{z-index:11000;position:fixed;top:0;bottom:0;left:0;right:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}",""]),t.locals={root:"jPB1u7d8"}},RUUx:function(e,t,n){e.exports={cartBg:"j8DQFC9U",cartManagerModal:"u7LZBXUv"}},RXTx:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._37_UbZj_{position:absolute;top:0;left:0;right:-100%;bottom:-100%;-webkit-transform-origin:0 0;transform-origin:0 0;pointer-events:none;-webkit-transform:scale(.5);transform:scale(.5);box-sizing:border-box;border-style:solid}._99XRt57i{border-left-width:1px}._2S4HkkSK{border-right-width:1px}._1rZc487o{border-bottom-width:1px}._1E12010v{border-top-width:1px}._22c1GZNM{border-width:1px}",""]),t.locals={root:"_37_UbZj_",left:"_99XRt57i",right:"_2S4HkkSK",bottom:"_1rZc487o",top:"_1E12010v",all:"_22c1GZNM"}},Rc36:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,a=n("mj+i"),o=n("AGSb"),i=n("KoDT"),c=n("3sKm"),s=n("lTLX");function u(){return{get pathname(){return location.pathname},get query(){return Object(a.g)(location.search)},get userAgent(){return navigator.userAgent},get hostname(){return location.hostname},get cookies(){return Object(o.a)()},get platform(){return Object(i.b)(navigator.userAgent)},get isSupportWebp(){return void 0===r&&(r=Object(s.b)(this.cookies)),r},get userInfo(){var e=Object(c.d)();return e.accessToken?e:null}}}},RgGm:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("lSNA"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("q1tI"),s=n.n(c),u=n("V00b"),l=n.n(u),d=n("TSYQ"),p=n.n(d),f=s.a.createContext({glide:function(){}}),m=f.Provider;t.b=Object(c.forwardRef)((function(e,t){var n=e.initialVisible,r=void 0===n||n,o=e.onShowStart,u=void 0===o?function(){}:o,d=e.onHideStart,f=void 0===d?function(){}:d,h=e.onShow,v=void 0===h?function(){}:h,g=e.onHide,y=void 0===g?function(){}:g,_=e.children,b=e.bgFillClassName,k=void 0===b?"":b,w=e.containerClassName,S=void 0===w?"":w,I=Object(c.useState)(!1),C=i()(I,2),x=C[0],P=C[1],E=Object(c.useState)(r),O=i()(E,2),N=O[0],D=O[1];function T(e){null==e||e.stopPropagation(),u(e),D(!0)}function j(e){null==e||e.stopPropagation(),f(e),P(!1)}function A(e){null==e||e.stopPropagation(),N?j(e):T(e)}return Object(c.useEffect)((function(){if(N){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){setTimeout(e,17)};e((function(){e((function(){P(!0)}))}))}}),[N]),Object(c.useImperativeHandle)(t,(function(){return{show:T,hide:j,toggle:A,visible:N}})),N?s.a.createElement("div",{className:p()(l.a.bgFill,k,a()({},l.a.bgFillShow,x)),onClick:j},s.a.createElement("div",{className:p()(l.a.container,S,a()({},l.a.visibleContainer,x)),onClick:function(e){return e.stopPropagation()},onTransitionEnd:function(e){null==e||e.stopPropagation(),x?v(e):(y(e),D(!1))}},s.a.createElement(m,{value:{glide:j}},_))):null}))},RgOI:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),s=n.n(c),u=n("2b+V"),l=(n("17x9"),n("TSYQ")),d=n.n(l),p=n("KaGD"),f=n("hTJN"),m=n.n(f);var h=Object(p.a)(m.a)((function(e){var t=e.className,n=i()(e,["className"]);return s.a.createElement("div",a()({},n,{className:d()(m.a.root,t),role:"alert"}))})),v=n("XDVv"),g=n.n(v);var y=Object(p.a)(g.a)((function(e){var t=e.className,n=i()(e,["className"]);return s.a.createElement("div",a()({},n,{className:d()(g.a.root,t)}))})),_=n("lwsE"),b=n.n(_),k=n("W8MJ"),w=n.n(k),S=n("7W2i"),I=n.n(S),C=n("a1gu"),x=n.n(C),P=n("Nsbk"),E=n.n(P),O=n("AmiU");var N,D=function(e){I()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=E()(e);if(t()){var a=E()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return x()(this,n)}}(n);function n(){return b()(this,n),t.apply(this,arguments)}return w()(n,[{key:"componentDidMount",value:function(){var e=this;this.timeoutId=setTimeout((function(){e.props.onTimeout&&e.props.onTimeout(),e.timeoutId=0}),1e3*this.props.duration)}},{key:"componentWillUnmount",value:function(){this.timeoutId&&clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.PortalComponent,r=e.PortalComponentProps;return n?s.a.createElement(n,r,t):t}}]),n}(c.PureComponent);function T(e){var t=e.style,n=e.className,r=e.children,o=e.duration,i=e.onTimeout,c=e.ControllerProps,u=e.ContainerProps,l=e.BaseToastProps;return s.a.createElement(D,a()({duration:o,onTimeout:i},c),s.a.createElement(y,u,s.a.createElement(h,a()({style:t,className:n},l),r)))}D.defaultProps={duration:2,PortalComponent:O.a},T.Controller=D,T.Container=y,T.BaseToast=h,n.d(t,"a",(function(){return R}));var j=null;function A(){Object(u.a)(j,N||(N=document.createElement("div"),document.body.appendChild(N),N))}function R(e){var t=e.onTimeout,n=i()(e,["onTimeout"]);j=s.a.createElement(T,a()({},n,{key:"".concat(Math.ceil(Math.random()*Date.now())),onTimeout:function(){return e=t,j=null,A(),void(e&&e());var e},ControllerProps:{PortalComponent:null}})),A()}},RpJY:function(e,t,n){"use strict";function r(e,t){t%=Object.keys(e).reduce((function(t,n){return t+e[n]}),0);var n=0;for(var r in e)if(t<(n+=e[r]))return r;return""}n.d(t,"a",(function(){return r}))},SBhu:function(e,t,n){e.exports={container:"WzbOQ_5N",title:"_3zCvrI9W",item:"_2p8s5dPq",selected:"_2RrNyi4R"}},SOyx:function(e,t,n){e.exports={modalCartSku:"_3OiG9sSU",titleCartSku:"_2uBzkCV1"}},SXY3:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),u=n("7W2i"),l=n.n(u),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),m=n.n(f),h=n("q1tI"),v=n.n(h),g=n("i8i4"),y=n("o0o1"),_=n.n(y),b=n("yXPU"),k=n.n(b),w=n("eHaf"),S=n("KoDT"),I=n("MpJ2"),C=(n("Wr5T"),Object(S.a)()),x={rootMargin:"0px",threshold:[.75]},P=new function e(){var t=this;a()(this,e),this.init=k()(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(C.isNativePlatform&&C.statisfy&&C.statisfy("4.20.0","4.26.0","greaterThanEqual")){e.next=6;break}return t.createOberver(),e.abrupt("return");case 6:return e.prev=6,e.next=9,Object(I.f)("WebScene","getPageShownType",null);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:n=e.t0,parseInt(n.shown_type,10)?(r=function(){t.createOberver()},Object(I.q)().then(r)):t.createOberver(),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(6),t.createOberver();case 20:case"end":return e.stop()}var r}),e,null,[[6,17]])}))),this.createOberver=function(){t.oberver=new IntersectionObserver(t.observerCallBack,x),Array.isArray(t.stashQuene)&&t.stashQuene.forEach((function(e){e&&e()})),t.stashQuene=null},this.observerCallBack=function(e){e.forEach((function(e){var n=parseInt(e.target.dataset.uniqid,10);if(n){if(e.isIntersecting&&e.intersectionRatio>=.75){if((t.elStore[n]||{}).immediate)return void t.log(n);t.entryQuene[n]=e}else t.entryQuene[n]&&(e.time-t.entryQuene[n].time>=300&&t.log(n),delete t.entryQuene[n]);t.lastTimer&&clearTimeout(t.lastTimer),t.lastTimer=setTimeout((function(){Object.keys(t.entryQuene).forEach((function(e){t.log(e),delete t.entryQuene[e]}))}),300)}}))},this.log=function(e){if(t.elStore[e]){var n=t.elStore[e]||{},r=n.info,a=n.once,o=n.el,i=n.handleCustomTracking;a&&t.unRegister(o,e),i?i():Object(w.c)(r)}},this.register=function(e){var n=e.el,r=e.info,a=e.handleCustomTracking,o=e.once,i=void 0===o||o,c=e.immediate,s=void 0!==c&&c;if(n&&r){var u=t._uniqid;t._uniqid++,n.dataset.uniqid=u,t.elStore[u]=a?{el:n,info:r,once:i,immediate:s,handleCustomTracking:a}:{el:n,info:r,once:i,immediate:s},t.oberver?t.oberver.observe(n):t.stashQuene.push((function(){t.oberver.observe(n)}))}},this.unRegister=function(e,n){t.oberver&&t.oberver.unobserve(e),delete t.elStore[n],delete t.entryQuene[n]},this._uniqid=1,this.oberver=null,this.entryQuene={},this.elStore={},this.stashQuene=[],this.init()};n("17x9");var E=function(e){l()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=m()(e);if(t()){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).componentDidMount=function(){var t=e.props,n=t.id,r=t.doImpr;e.el=Object(g.findDOMNode)(s()(e))||document.getElementById(n),r&&e.registerImpr()},e.componentDidUpdate=function(t){e.lock||!t.doImpr&&e.props.doImpr&&(e.registerImpr(),e.lock=!0)},e.componentWillUnmount=function(){if(e.el&&e.isRegistered){var t=parseInt(e.el.dataset.uniqid,10)||0;P.unRegister(e.el,t)}},e.registerImpr=function(){var t=e.props,n=t.trackingInfo,r=t.once,a=t.handleCustomTracking,o=t.immediate;P.register({el:e.el,info:n,once:r,handleCustomTracking:a,immediate:o}),e.isRegistered=!0},e}return i()(n,[{key:"render",value:function(){return v.a.Children.only(this.props.children)}}]),n}(h.Component);E.defaultProps={doImpr:!0,id:"",once:!0,trackingInfo:{},immediate:!1};var O=E;t.a=O},SeBp:function(e,t,n){e.exports={selectIcon:"_19uMAlci",disable:"_1kUzOaLf",selected:"tEKvOe46"}},SryH:function(e,t,n){e.exports={listEnd:"_33sghFtY"}},SxTj:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("J4zp"),a=n.n(r),o=n("MpJ2"),i=n("KoDT"),c=n("mj+i"),s=n("fkZF");function u(){var e=Object(c.g)(location.search),t=Object.entries(e).reduce((function(e,t){var n=a()(t,2),r=n[0],o=n[1];return(r.startsWith("refer_")||r.startsWith("_ex_"))&&o&&(e[r=r.startsWith("_ex_")?"refer_".concat(r.slice(4)):r]=o),e}),{});return Object(i.a)().isNativePlatform?Object(o.d)().catch((function(){return{}})).then((function(e){return Object.assign(t,e)})):Promise.resolve(t)}function l(){return u().then((function(e){return{refer_page_sn:e.refer_page_sn,refer_page_id:e.refer_page_id,refer_page_name:e.refer_page_name}}))}function d(e){var t=Object(c.g)(location.search),n={};for(var r in t)if(!n[r])if(r.startsWith("_x_")||"xcx_trace_id"===r||"xcx_version"===r)n[r]=t[r];else if(e&&r.startsWith("_ex_")){n[r.replace("_ex_","_x_")]=t[r]}else e&&"msgid"===r?n._x_msgid=t[r]:e&&"refer_share_id"===r&&(n._x_share_id=t[r]);return n}function p(e){return"".concat(e,"_").concat(Date.now(),"_").concat(Object(s.a)(10))}},SzcP:function(e,t,n){e.exports={"go-top":"_23sjf2-g","top-button-hide":"_1Gy_mjzz","top-button-show":"_2hYAwwGF",container:"_3R-1_eSn",picker:"_2CHHBQpW",showPicker:"_1b6vzgEQ",mask:"_2HeJzU-8",panel:"_3lv7iolB",close:"_3vCfpVTD",closeIcon:"_pDK5P8S",content:"_2QDfZ3Gd",maskBottom:"_2WdZbFoo",maskTop:"_19vTsRkW",wrapper:"_1Paw4lTJ",scrollWrap:"_2ZGlyve6",bottomBtn:"_1ZftFGyL"}},TWHF:function(e,t,n){var r=n("lmWj"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},UWjt:function(e,t,n){"use strict";var r=n("MVZn"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("q1tI"),s=n.n(c),u=n("VERM"),l=n.n(u),d=n("TSYQ"),p=n.n(d),f=n("f+ex"),m={enter:"translateX(0)",exit:"translateX(-100%)",exitToInit:"translateX(100%)"},h={enter:"translateY(0)",exit:"translateY(100%)",exitToInit:"translateY(100%)"};t.a=s.a.forwardRef((function(e,t){var n=e.modalStyle,r=e.modalClassName,o=e.titleClassName,u=e.renderTitle,d=e.renderBack,v=e.renderContent,g=e.onClose,y=e.onBack,_=e.direction,b=void 0===_?"x":_,k=e.afterShow,w=e.initShow,S=e.onClick,I=Object(c.useRef)(),C=Object(c.useState)(w),x=i()(C,2),P=x[0],E=x[1],O="x"===b?m:h;Object(c.useEffect)((function(){k&&k(P)}),[P]);var N=function(){I.current.classList.add(l.a.noShow)},D=function(){I.current.classList.remove(l.a.noShow)},T=function(e){var t=I.current.style;t.transform&&(t.transform=e),t.webkitTransform&&(t.webkitTransform=e)};Object(c.useImperativeHandle)(t,(function(){return{show:function(){N(),T(O.enter),E(!1),setTimeout((function(){D(),E(!0)}),0)},enter:function(){D(),E(!1),setTimeout((function(){E(!0),T(O.enter)}),16)},enterFromRight:function(){N(),T(O.exitToInit),E(!1),setTimeout((function(){D(),setTimeout((function(){E(!0),T(O.enter)}),16)}),0)},exit:function(){T(O.exit),E(!1)},exitToRight:function(){T(O.exitToInit),E(!1)},hide:function(){N(),E(!1)},isShow:function(){return P}}}));var j=s.a.createElement(f.b,{onClick:y}),A=w?O.enter:O.exitToInit,R={transform:A,WebkitTransform:A};return s.a.createElement("div",{ref:I,onTransitionEnd:function(){P||N()},style:a()(a()({},R),n),className:p()(l.a.modal,r,{}),onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.stopPropagation(),S&&S()}))},u&&s.a.createElement("div",{className:p()(l.a.title,o)},!!y&&(d?d(j):j),u(),s.a.createElement(f.c,{onClick:g})),v())}))},V00b:function(e,t,n){e.exports={bgFill:"_3j1eCmw1",bgFillShow:"_2jUnI3MZ",container:"_1jhs4MN9",visibleContainer:"_3h5sA_T5"}},VERM:function(e,t,n){e.exports={modal:"_2i8YYhhK",noShow:"_2WyLr0L_",title:"_1xwgckgQ"}},Vkgz:function(e,t,n){"use strict";function r(e,t,n){if((t=parseInt(t||0,10)||0)<=0)return e;if("string"!=typeof e||e.length<=0)return"";var r=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;return function e(t){if(t.length<=0)return[];var n=t.match(r);if(!n)return t.split("");var a=t.slice(0,n.index),o=n[0],i=t.slice(n.index).replace(r,"");return a.split("").concat([o],e(i))}(e).slice(0,t).join("")}var a=100,o=1;function i(e,t){for(var n=(t=t||2)-(e=(e||"").toString()).length,r=0;r<n;r++)e="0"+e;return e}var c={price:function(e,t){e=parseFloat(e,10)||0,(t=t||o)===a&&(e/=100);var n=(e=e.toString()).indexOf(".");if(n>=0){for(var r=(e=e.slice(0,n+3)).length-1;"0"===e.charAt(r)&&r>0;)r--;"."===(e=e.slice(0,r+1)).charAt(e.length-1)&&(e=e.slice(0,e.length-1))}return e},sales:function(e){if((e=parseInt(e,10)||0)<9999)return e.toString();if(e<=99999){var t=parseInt(e/1e3,10);return parseInt(t/10,10)+"."+t%10+"万"}return parseInt(e/1e4,10).toString()+"万"},discount:function(e){return"0.0"===(e=(e=parseFloat(e,10)||0).toFixed(1))&&(e="0.1"),e},timeParams:function(e){e=parseInt(e,10)||0;var t=new Date(1e3*e);return{year:t.getFullYear().toString(),month:(t.getMonth()+1).toString(),date:t.getDate().toString(),hours:t.getHours().toString(),minutes:t.getMinutes().toString(),seconds:t.getSeconds().toString(),day:t.getDay().toString()}},formatTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-dd hh:mm:ss";e=parseInt(e,10);var n=parseInt(Date.now()/1e3,10);e||(e=n),e.toString().length-n.toString().length==3&&(e=parseInt(e/1e3,10));var r=this.timeParams(e),a={"Y+":r.year,"M+":r.month,"d+":r.date,"h+":r.hours,"m+":r.minutes,"s+":r.seconds};for(var o in a)if(new RegExp("("+o+")").test(t)){var i=""+a[o];RegExp.$1&&("Y+"===o?i=i.substr(i.length-RegExp.$1.length):RegExp.$1.length>1&&1===i.length&&(i="0"+i),t=t.replace(RegExp.$1,i))}return t},time:function(e,t){e||(e=parseInt(Date.now()/1e3,10)),t=t||"YYYY-M-d h:m";var n=this.timeParams(e);return"YYYY-MM-dd"===t?[n.year,i(n.month),i(n.date)].join("-"):"YYYY.M.d"===t?[n.year,n.month,n.date].join("."):"YYYY.MM.dd"===t?[n.year,i(n.month),i(n.date)].join("."):"hh:mm"===t?[i(n.hours),i(n.minutes)].join(":"):"hh"===t?i(n.hours):"MM-dd hh:mm"===t?[[i(n.month),i(n.date)].join("-"),[i(n.hours),i(n.minutes)].join(":")].join(" "):"M.d hh:mm"===t?[[n.month,n.date].join("."),[i(n.hours),i(n.minutes)].join(":")].join(" "):"M月d日"===t?n.month+"月"+n.date+"日":"M月d日 hh:mm"===t?[i(n.month)+"月"+i(n.date)+"日",[i(n.hours),i(n.minutes)].join(":")].join(" "):"Y年M月d日 hh:mm"===t?[n.year+"年"+i(n.month)+"月"+i(n.date)+"日",[i(n.hours),i(n.minutes)].join(":")].join(" "):"YYYY-MM-dd hh:mm"===t?[[n.year,i(n.month),i(n.date)].join("-"),[i(n.hours),i(n.minutes)].join(":")].join(" "):"YYYY-MM-dd hh:mm:ss"===t?[[n.year,i(n.month),i(n.date)].join("-"),[i(n.hours),i(n.minutes),i(n.seconds)].join(":")].join(" "):"YYYY-M-d"===t?[n.year,i(n.month),i(n.date)].join("-"):"hh:mm:ss"===t?[i(n.hours),i(n.minutes),i(n.seconds)].join(":"):"YYYY/M/d"===t?[n.year,i(n.month),i(n.date)].join("/"):"MM.dd"===t?[i(n.month),i(n.date)].join("."):"Y年M月d日"===t?[n.year+"年"+n.month+"月"+n.date+"日"].join(""):"MM月dd日"===t?i(n.month)+"月"+i(n.date)+"日":"YYYY年MM月dd日"===t?n.year+"年"+i(n.month)+"月"+i(n.date)+"日":"MM月dd日hh:mm:ss"===t?i(n.month)+"月"+i(n.date)+"日"+[i(n.hours),i(n.minutes),i(n.seconds)].join(":"):[[n.year,n.month,n.date].join("-"),[n.hours,i(n.minutes)].join(":")].join(" ")},timeSpan:function(e,t){var n=Math.max(parseInt(t,10)-parseInt(e,10),0);return n>=86400?Math.floor(n/86400)+"天":n>=3600?Math.floor(n/3600)+"小时":n>=60?Math.floor(n/60)+"分钟":n+"秒"},goodsNameWithPrice:function(e,t,n){return n?e:t+"元 "+e},toCamel:function(e,t,n){e=e||{},t=t||Object.keys(e);var r="function"==typeof n;return(t||[]).forEach((function(t){if(e.hasOwnProperty(t)){var a=e[t],o=t.replace(/\_./g,(function(e){return e.replace(/\_/g,"").toUpperCase()}));o!==t&&(e[o]=r?n(a):a,delete e[t])}})),e},roundToFixed:function(e,t){return this.round(e,t).toFixed(t)},stringWithEmoji:r,round:function(e,t){return void 0===t||0==+t?Math.round(e):(e=+e,t=+t,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]-t:-t))))},leftPadZero:i};t.a=c},W1oA:function(e,t,n){"use strict";var r=n("KoDT"),a=n("MpJ2"),o=n("mj+i"),i=n("lSNA"),c=n.n(i),s=n("J4zp"),u=n.n(s),l=n("q1tI"),d=n.n(l),p=n("7VIw"),f=n.n(p),m=n("gi5g"),h=n("i8i4"),v=n.n(h),g=function(e){var t,n=e.index,r=e.height,a=e.width,i=e.imageList,s=e.onClose,p=Object(l.useState)(+n||0),h=u()(p,2),v=h[0],g=h[1];Object(l.useEffect)((function(){return Object(m.a)(),function(){Object(m.c)()}}),[i,n]);var y=i.map((function(e,t){return d.a.createElement("div",{key:t,style:{background:'center no-repeat url("'.concat(Object(o.c)(e),'")'),backgroundSize:"contain",height:r,width:a}})}));return d.a.createElement("div",{style:(t={position:"fixed",top:0,bottom:0,left:0,right:0,zIndex:9999999,background:"#000",display:"flex"},c()(t,"display","-webkit-flex"),c()(t,"justifyContent","center"),c()(t,"WebkitJustifyContent","center"),c()(t,"WebkitAlignItems","center"),c()(t,"alignItems","center"),t),onClick:s},d.a.createElement(f.a,{enableMouseEvents:!0,index:v,onChangeIndex:function(e){g(e)}},y))};function y(e,t,n){if(n=n||{},e=Object(o.c)(e),t&&(t=t.map((function(e){return Object(o.c)(e)}))),Object(r.a)().isNativePlatform){var i=n,c=i.viewAttri,s=i.showIndexBar,u=void 0===s||s,l=i.comeInAnim,p=i.exitOutAnim,f=i.hybridPhotoBrowser,m=i.longImageOptimizeInIphonex;null==t&&(t=[e]);var h=t.indexOf(e);h<0&&(h=0);var y=t.map((function(e){return{url:e}}));Object(a.f)("JSNavigation","modal",{type:"photo_browse",props:{browse_items:y,view_attri:c,show_index_bar:u,current_index:h,come_in_anim:l,exit_out_anim:p,hybrid_photo_browser:f,long_image_optimize_in_iphonex:m},navigation_bar:{hidden:!0}})}else{var _,b=n.ViewNotWechatInteraface||!1;if(t=t||[e],_=!(!window.wx||!window.wx.previewImage),Object(r.a)().isWeChatPlatform&&_&&!b)window.wx.previewImage({urls:t,current:e});else!function(e,t){var n=document.createElement("div");document.body.appendChild(n),v.a.render(d.a.createElement(g,{height:window.innerHeight+"px",width:window.innerWidth+"px",imageList:t,index:t.indexOf(e),onClose:function(){setTimeout((function(){v.a.unmountComponentAtNode(n),document.body.removeChild(n),n=null}),0)}}),n)}(e,t)}}n.d(t,"a",(function(){return y}))},WRcS:function(e,t,n){e.exports={tags:"_3Mo0s_EO",tag:"_3MPsXVk5"}},"Wgq/":function(e,t,n){e.exports={discountInfo:"_27MZO91g",discount:"_3wQ6ZDfo",gray:"_2w62lplT",discountIcon:"_3p8fGD4W",percentIcon:"_3RyZUrcl",small:"ccWKI06_",promotionName:"_2oaHBazH"}},Wr5u:function(e,t,n){e.exports={skuSelectorDesc:"_2HvLhENT",oneLineStyle:"_2dRWBKFY",skuSelectorDescOC:"_39U91H6w",skuSelectorDescWithIcon:"_3BrHKXok",transparent:"_3O6E7nkD",skuPreSaleIcon:"_2lxyP0wq"}},X0J6:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),u=n("7W2i"),l=n.n(u),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),m=n.n(f),h=n("q1tI"),v=n.n(h),g=n("i8i4"),y=n("eHaf");var _=function(e){l()(r,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=m()(e);if(t()){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}(r);function r(e){var n;return a()(this,r),(n=t.call(this,e)).provideOptions=function(){n.DomNode=Object(g.findDOMNode)(s()(n)),n.DomNode&&n.registerImprToComponent()},n.registerImprToComponent=function(){var e=n.props,t={threshold:e.threshold,rootMargin:e.rootMargin,root:e.root};n.observer=new IntersectionObserver(n.observerCallBack,t),n.observer.observe(n.DomNode)},n.observerCallBack=function(e,t){e.forEach((function(e){n.singleTracking(e)}))},n.singleTracking=function(e){var t=n.props,r=t.onEnter,a=t.onLeave,o=t.doImpr;n.isItemIn(e)?(o&&n.trackingAction(),r(e)):a(e)},n.trackingAction=function(){n.timer&&clearTimeout(n.timer),n.timer=setTimeout((function(){var e=n.DomNode.getBoundingClientRect().top;if(!(e<-200||e>800)){var t=n.props,r=t.once,a=t.trackingInfo,o=void 0===a?{}:a;Object(y.c)(o),n.observer&&n.DomNode&&r&&n.observer.unobserve(n.DomNode)}}),300)},n.isItemIn=function(e){var t=n.props.threshold;return e.isIntersecting&&e.intersectionRatio>=t},n.observer=null,n.DomNode=null,n.timer=null,n}return i()(r,[{key:"componentDidMount",value:function(){n("Wr5T"),this.provideOptions()}},{key:"componentWillUnmount",value:function(){this.observer&&this.DomNode&&this.observer.unobserve(this.DomNode)}},{key:"render",value:function(){return v.a.Children.only(this.props.children)}}]),r}(h.Component);_.defaultProps={root:null,doImpr:!0,isCombined:!1,threshold:1,rootMargin:"0px",gap:300,imprItem:{},once:!0,onEnter:function(){},onLeave:function(){}},t.a=_},X9Ge:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m}));var r=n("o0o1"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("yXPU"),s=n.n(c),u=n("7ftN"),l=n("mfKk"),d=n("mj+i"),p=function(e){return new Promise(function(){var t=s()(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(d.h)(window.location.href),setTimeout(n,300),t.t0=u.b,t.t1=u.a.POST,t.t2=i.a,t.next=7,Object(l.a)();case 7:t.t3=t.sent,t.t4=+r.page_from||0,t.t5={anti_content:t.t3,merchant_tag:4003,page_from:t.t4},t.t6=e,t.t7=(0,t.t2)(t.t5,t.t6),t.t8=function(){},t.t9={method:t.t1,url:"api/promotion/auto_take_merchant_coupon",data:t.t7,defaultErrorHandler:t.t8},t.t10={isAuth:!0},(0,t.t0)(t.t9,t.t10).then(n).catch((function(){}));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},f=function(e){return new Promise(function(){var t=s()(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(d.h)(window.location.href),setTimeout(n,300),t.t0=u.b,t.t1=u.a.POST,t.t2=i.a,t.next=7,Object(l.a)();case 7:t.t3=t.sent,t.t4=+r.page_from||0,t.t5={anti_content:t.t3,merchant_tag:4003,page_from:t.t4},t.t6=e,t.t7=(0,t.t2)(t.t5,t.t6),t.t8=function(){},t.t9={method:t.t1,url:"api/promotion/batch_auto_take_merchant_coupon",data:t.t7,defaultErrorHandler:t.t8},t.t10={isAuth:!0},(0,t.t0)(t.t9,t.t10).then(n).catch((function(){}));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},m=function(){var e=s()(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.filter((function(e){return!!e})),!((o=r.length)>0)){e.next=10;break}if(1!==o){e.next=7;break}return e.next=6,p(i()({batch_sn:r[0]},n));case 6:return e.abrupt("return");case 7:if(!(o>1)){e.next=10;break}return e.next=10,f(i()({batch_sn_list:r},n));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},XDVv:function(e,t,n){var r=n("j2AF"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},XEGP:function(e,t,n){e.exports={deliveryStripe:"_3Lu5zWI4",shippingContent:"_1e3OviBJ",mainTitle:"_3G1LZKm9",subTitle:"_3kee_7lX",deliverySvg:"_3x5EVMK4",arrow:"_3DDAx0Ee",AdditionalShippingStrip:"_39T3oEvF",title:"_3bhF_DMD",closeBtn:"_3mXZPB3T",deliveryItem:"_3XsDhB5u",mainTitleFloat:"_1f74n2A5",subTitleFloat:"_3v6hXyKn",selectedSvg:"_339ExKII",notSelectedSvg:"ZKKf3N_O"}},XScy:function(e,t,n){"use strict";var r,a=n("pVnL"),o=n.n(a),i=n("o0o1"),c=n.n(i),s=n("yXPU"),u=n.n(s),l=n("lwsE"),d=n.n(l),p=n("W8MJ"),f=n.n(p),m=n("7W2i"),h=n.n(m),v=n("a1gu"),g=n.n(v),y=n("Nsbk"),_=n.n(y),b=n("U+yc"),k=n.n(b),w=n("q1tI"),S=n.n(w),I=n("MVZn"),C=n.n(I),x=n("KoDT"),P=n("h3qu"),E=n("gKdT"),O=n.n(E);n("17x9");var N,D,T,j=(r=function(e){h()(r,e);var t,n=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=_()(e);if(t()){var a=_()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}(r);function r(){var e;d()(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).state={videoAttr:{"x5-video-player-type":""}},e.videoDOMRef=S.a.createRef(),e}return f()(r,[{key:"play",value:function(){this.props.options.isFullScreen?this._fullScreenPlay():this._noFullScreenPlay()}},{key:"_noFullScreenPlay",value:function(){var e=this,t={},n=Object(x.a)();n.system===P.b.Android&&n.isNativePlatform&&(t["x5-video-player-type"]="h5"),this.setState({videoAttr:t},(function(){e.videoDOM.play()}))}},{key:"_fullScreenPlay",value:function(){var e=this;this.videoDOM.play(),setTimeout((function(){e.videoDOM.requestFullScreen?e.videoDOM.requestFullScreen():e.videoDOM.webkitRequestFullScreen?e.videoDOM.webkitRequestFullScreen():e.videoDOM.mozRequestFullScreen&&e.videoDOM.mozRequestFullScreen()}),100)}},{key:"pause",value:function(){this.videoDOM.pause()}},{key:"getPaused",value:(t=u()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.videoDOM.paused);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_fullScreenChange",value:function(e){this.props.options.onFullScreenChange&&this.props.options.onFullScreenChange(e)}},{key:"componentDidMount",value:function(){this.videoDOM.addEventListener("fullscreenchange",this._fullScreenChange),this.videoDOM.addEventListener("webkitfullscreenchange",this._fullScreenChange)}},{key:"render",value:function(){var e={"x5-playsinline":"",playsInline:"","webkit-playsinline":""};this.props.options.isFullScreen&&(e={"x5-video-player-fullscreen":"true","x5-video-orientation":"portraint"});var t=C()(C()({},this.props),{},{options:void 0});return S.a.createElement("video",o()({ref:this.videoDOMRef,loop:"loop",controls:"",preload:"auto","x-webkit-airplay":"true"},e,this.state.videoAttr,t),"您的浏览器可能不支持视频播放")}},{key:"videoDOM",get:function(){return this.videoDOMRef.current}}]),r}(S.a.PureComponent),k()(r.prototype,"play",[O.a],Object.getOwnPropertyDescriptor(r.prototype,"play"),r.prototype),k()(r.prototype,"pause",[O.a],Object.getOwnPropertyDescriptor(r.prototype,"pause"),r.prototype),k()(r.prototype,"_fullScreenChange",[O.a],Object.getOwnPropertyDescriptor(r.prototype,"_fullScreenChange"),r.prototype),r);n.d(t,"a",(function(){return A}));var A=(T=D=function(e){h()(r,e);var t,n=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=_()(e);if(t()){var a=_()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}(r);function r(){var e;d()(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).videoImplRef=S.a.createRef(),e}return f()(r,[{key:"play",value:function(e){this.videoImplRef.current.play(e)}},{key:"pause",value:function(){this.videoImplRef.current.pause()}},{key:"getPaused",value:(t=u()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.videoImplRef.current.getPaused());case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return S.a.createElement(j,o()({},this.props,{ref:this.videoImplRef}))}}]),r}(S.a.Component),D.defaultProps={options:{enableAppVideo:!1,isFullScreen:!1}},N=T,k()(N.prototype,"play",[O.a],Object.getOwnPropertyDescriptor(N.prototype,"play"),N.prototype),k()(N.prototype,"pause",[O.a],Object.getOwnPropertyDescriptor(N.prototype,"pause"),N.prototype),N)},XkPr:function(e,t,n){},XoXN:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("QILm"),s=n.n(c),u=n("q1tI"),l=n.n(u),d=(n("17x9"),n("TSYQ")),p=n.n(d),f=n("KaGD"),m=n("nVtV"),h=n.n(m);function v(e){var t=e.style,n=e.radius,r=void 0===n?"":n,a=r.split(" ").map((function(e){return parseInt(e)>0?"calc(".concat(e," * 2)"):e})).join(" ");return r?i()({borderRadius:a},t):t}var g=Object(f.a)(h.a)((function(e){var t=e.className,n=e.style,r=e.type,o=e.radius,i=s()(e,["className","style","type","radius"]);return l.a.createElement("div",a()({},i,{style:v({style:n,radius:o}),className:p()(t,h.a.root,h.a[r])}))})),y=n("1dsc"),_=n.n(y);function b(e){var t=e.className,n=e.style,r=e.type,o=e.borderRadius,c=e.borderColor,u=e.borderStyle,d=e.children,f=s()(e,["className","style","type","borderRadius","borderColor","borderStyle","children"]);return l.a.createElement("div",a()({},f,{style:i()({borderRadius:o},n),className:p()(t,_.a.root)}),l.a.createElement(g,{type:r,radius:o,style:{borderStyle:u,borderColor:c}}),d)}b.defaultProps={type:"all"};t.a=Object(f.a)(_.a)(b)},YU58:function(e,t,n){e.exports={deviceInfo:"_13fhqxBC",deviceImg:"_3oSwltb8",info:"Oe3L5wCG",name:"_1Z6mhfm8",changeText:"_3auFT0Zy",tag:"_3d7o5fl4",bottomTag:"_2bbfX2qF",specsInfo:"TthbJIka",spec:"pOFmSAUi",arrow:"_3yb3MT2G",subTitle:"IkpdgxuC",deduce:"_1TrGdl9T",note:"_304Co_ln"}},YVoc:function(e,t,n){e.exports={skuSelectorBg:"lSznZClW",cartManagerBg:"_5jJkKh69"}},YZai:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'video::-webkit-media-controls,video::-webkit-media-controls-enclosure{display:none!important}._9xGRl6R3{position:relative;width:100%;height:100%;overflow:hidden}._9xGRl6R3 video{-webkit-transform:translateZ(0);transform:translateZ(0);position:relative}._9xGRl6R3 video:fullscreen{object-fit:contain}._9xGRl6R3 video:fullscreen::-webkit-media-controls{display:block!important}._1poEMbPH{position:absolute;top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%);z-index:1;width:100%}.unmzHa5Y{width:100%;z-index:2}._3UzgWFRr,.unmzHa5Y{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}._3UzgWFRr{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;width:.72rem;height:.72rem;z-index:1;background-image:url("https://funimg.pddpic.com//commodity/goods_video_player.png");background-repeat:no-repeat;background-size:contain}._1JcuJpUf{display:block}._1ZOhZMKG{display:none}',""]),t.locals={mallVideoContainer:"_9xGRl6R3",mallVideoPosterImg:"_1poEMbPH",mallVideoLoading:"unmzHa5Y",videoPlayIcon:"_3UzgWFRr",show:"_1JcuJpUf",hide:"_1ZOhZMKG"}},YlAs:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3W0iZ9uG{position:relative;-webkit-animation:_2-3BqKpw .2s;animation:_2-3BqKpw .2s;-webkit-animation-fill-mode:both;animation-fill-mode:both;border-radius:.08rem;width:2.9rem;background-color:#fff;z-index:11000}@-webkit-keyframes _2-3BqKpw{0%{-webkit-transform:scale(.6);transform:scale(.6);opacity:.5}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes _2-3BqKpw{0%{-webkit-transform:scale(.6);transform:scale(.6);opacity:.5}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}",""]),t.locals={root:"_3W0iZ9uG",zoomIn:"_2-3BqKpw"}},YmZu:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),s=n.n(c),u=n("a1gu"),l=n.n(u),d=n("Nsbk"),p=n.n(d),f=n("q1tI"),m=n.n(f);n.d(t,"a",(function(){return h}));var h=function(e){s()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=p()(e);if(t()){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"componentDidMount",value:function(){window._plt.fs||function(e,t){var n=e._plt=e._plt||[];n.fs=n.fs||!0;var r=+new Date;n.push(["tm","fsn",r]);var a=t.getElementsByTagName("img"),o=t.documentElement.clientHeight,i=[],c="complete"===t.readyState,s=function(){for(var e=0;e<i.length;e++){var t=i[e],a=t.img.getBoundingClientRect().top||0;a+t.img.height>0&&o>a&&(r=Math.max(t.time,r))}n.push(["tm","fs",r])};function u(){for(var e=!0,t=0;t<i.length;t++)if(!(e=e&&i[t].time))return;s()}for(var l=0;l<a.length;l++){var d=a[l];!d.complete&&d.src&&function(){var e={img:d},t=function t(){this.removeEventListener("load",t,!1),this.removeEventListener("error",t,!1),e.time=+new Date,c&&u()};d.addEventListener("load",t,!1),d.addEventListener("error",t,!1),i.push(e)}()}c?u():e.addEventListener("load",s),e.__fsImgItems=i,e.__fsImgSrcs=i.map((function(e){return e.img.src}))}(window,document)}},{key:"render",value:function(){return m.a.createElement("script",{dangerouslySetInnerHTML:{__html:'!function(e,t){var n=e._plt=e._plt||[];n.fs=n.fs||!0;var r=+new Date;n.push(["tm","fsn",r]);var i=t.getElementsByTagName("img"),a=t.documentElement.clientHeight,m=[],o="complete"===t.readyState,s=function(){for(var e=0;e<m.length;e++){var t=m[e],i=t.img.getBoundingClientRect().top||0;i+t.img.height>0&&a>i&&(r=Math.max(t.time,r))}n.push(["tm","fs",r])};function f(){for(var e=!0,t=0;t<m.length;t++)if(!(e=e&&m[t].time))return;s()}for(var g=0;g<i.length;g++){var v=i[g];!v.complete&&v.src&&function(){var e={img:v},t=function t(){this.removeEventListener("load",t,!1),this.removeEventListener("error",t,!1),e.time=+new Date,o&&f()};v.addEventListener("load",t,!1),v.addEventListener("error",t,!1),m.push(e)}()}o?f():e.addEventListener("load",s),e.__fsImgItems=m,e.__fsImgSrcs=m.map(function(e){return e.img.src})}(window,document);'}})}}]),n}(f.PureComponent)},Z4L4:function(e,t,n){e.exports={selectIcon:"_2empebN8"}},Z5Jv:function(e,t,n){e.exports={container:"_33WUFKX4",content:"_2Fc7-FXx",spec:"_35HYDrTV",specItem:"_1zK3AMSr",button:"_12_7YmXo"}},ZK0Z:function(e,t,n){e.exports={container:"U8gvTD0e",content:"_1PmgDBdY"}},ZKQX:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("i8i4"),a=n.n(r),o=n("2b+V");function i(e){var t,n=document.createElement("div");return document.body.appendChild(n),Object(o.a)(e,n),function(){t||(t=setTimeout((function(){a.a.unmountComponentAtNode(n),document.body.removeChild(n)}),0))}}},ZL4E:function(e,t,n){e.exports={skuPreSaleTip:"_2Jgdp4Dm",skuGroupBuyContainer:"LCYzdatu",startHide:"_3z21bZmw",skuGroupBuyTipHide:"_7RteKTw",skuGroupBuyAvatars:"_3kdNKhVk",skuGroupBuyHint:"y1SmezJx",skuGroupBuyHintBtn:"_3qjr7l3Z"}},ZU3N:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("yXPU"),s=n.n(c),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),p=n.n(d),f=n("7W2i"),m=n.n(f),h=n("a1gu"),v=n.n(h),g=n("Nsbk"),y=n.n(g),_=n("BkRI"),b=n.n(_),k=n("mwIZ"),w=n.n(k),S=n("q1tI"),I=n.n(S),C=n("mj+i"),x=n("qnV/"),P=n("wXUz"),E=n("pBDj"),O=n("pVnL"),N=n.n(O),D=(n("17x9"),n("J4zp")),T=n.n(D),j=n("fho7"),A=n("TSYQ"),R=n.n(A),W=n("LzYn"),L=n.n(W),M={WEIXIN:"WEIXIN",ALIPAY:"ALIPAY",QQ:"QQ",WEIXIN_FRIEND:"WEIXIN_FRIEND",LIANLIANPAY:"LIANLIANPAY",UNIONPAY:"UNIONPAY",DUODUOPAY_ACS:"DUODUOPAY_ACS",HBFQ_ALI_PAY:"HBFQ_ALI_PAY",HB_ALI_PAY:"HB_ALI_PAY",DUODUOPAY:"DUODUOPAY",WEIXIN_CREDIT:"WEIXIN_CREDIT",CREDIT_CARD:"DUODUOPAY_INSTAL"},F=new Set([M.WEIXIN,M.WEIXIN_FRIEND,M.ALIPAY,M.QQ,M.DUODUOPAY,M.HBFQ_ALI_PAY,M.HB_ALI_PAY,M.LIANLIANPAY,M.DUODUOPAY_ACS,M.WEIXIN_CREDIT,M.UNIONPAY,M.CREDIT_CARD]),B=0,U=n("lSNA"),V=n.n(U),H=n("E+oP"),q=n.n(H),z=n("GftL"),Q=n("BDyI"),G=n("whv1"),J=n("b6XL"),K=n("OUj1"),Y=n.n(K);function X(e){var t=e.promotionContent,n=e.hasPromotionContent,r=e.installmentNum,a=e.serviceAmountContent,o=e.payAmountPerInstallment,i=e.onClick,c=R()(Y.a.installment,V()({},Y.a.hasPromotionContent,n));return I.a.createElement("div",{className:c,onClick:i},t&&I.a.createElement("span",{className:Y.a.promotionContent},t),I.a.createElement("div",{className:Y.a.number},"".concat(r,"期 ").concat(a)),I.a.createElement("div",{className:Y.a.money},"¥ ".concat(o,"/期")))}function Z(e){var t=e.promotionContent,n=e.hasPromotionContent,r=e.installmentNum,a=e.serviceAmountContent,o=e.payAmountPerInstallment,i=e.onClick,c=R()(Y.a.selectedInstallment,V()({},Y.a.hasPromotionContent,n));return I.a.createElement("div",{className:c,onClick:i},t&&I.a.createElement("span",{className:Y.a.promotionContent},t),I.a.createElement("div",{className:Y.a.selectedNumber},"".concat(r,"期 ").concat(a)),I.a.createElement("div",{className:Y.a.selectedMoney},"¥ ".concat(o,"/期")))}function $(e){var t=e.promotionContent,n=e.hasPromotionContent,r=e.installmentNum,a=e.serviceAmountContent,o=e.payAmountPerInstallment,i=e.onClick;return I.a.createElement(X,{promotionContent:t,hasPromotionContent:n,installmentNum:r,serviceAmountContent:a,payAmountPerInstallment:o,onClick:i})}function ee(e){var t=e.promotionContent,n=e.hasPromotionContent,r=e.installmentNum,a=e.serviceAmountContent,o=e.payAmountPerInstallment,i=e.onClick,c=R()(Y.a.installment,V()({},Y.a.hasPromotionContent,n));return I.a.createElement("div",{className:c,onClick:i},t&&I.a.createElement("span",{className:Y.a.promotionContent},t),I.a.createElement("div",{className:Y.a.disableNumber},"".concat(r,"期 ").concat(a)),I.a.createElement("div",{className:Y.a.disableMoney},"¥ ".concat(o,"/期")))}function te(e){Object(j.a)(Y.a);var t=e.termIndex,n=e.promotionContent,r=e.hasPromotionContent,a=e.selectInstallmentTerm,o=e.installmentNum,i=e.serviceAmountContent,c=e.payAmountPerInstallment,s=e.selected,u=e.isChannelSelected,l=e.isDisable,d=function(e){e.stopPropagation(),l?Object(J.a)("分期信息已选择，如需修改可重新下单"):a&&a(t)};return l?I.a.createElement(ee,{promotionContent:n,hasPromotionContent:r,installmentNum:o,serviceAmountContent:i,payAmountPerInstallment:c,onClick:d}):s?u?I.a.createElement(Z,{promotionContent:n,hasPromotionContent:r,installmentNum:o,serviceAmountContent:i,payAmountPerInstallment:c,onClick:d}):I.a.createElement($,{promotionContent:n,hasPromotionContent:r,installmentNum:o,serviceAmountContent:i,payAmountPerInstallment:c,onClick:d}):I.a.createElement(X,{promotionContent:n,hasPromotionContent:r,installmentNum:o,serviceAmountContent:i,payAmountPerInstallment:c,onClick:d})}var ne=n("79DA"),re=n.n(ne);function ae(e){var t=e.installmentList,n=e.selectedTermIndex,r=e.lockInstallmentTerm,a=e.selectInstallmentTerm,o=e.selected,i=e.isElderMode;Object(j.a)(re.a);var c=r?n:-1,s=null;return s=i?(null==t?void 0:t.length)>2?re.a.hbInstallmentList4Elder:re.a.hbInstallmentList2Elder:re.a.hbInstallmentList,I.a.createElement("div",{className:s},t.map((function(e,t){return I.a.createElement("div",{className:re.a.installmentContainer,key:e.term},I.a.createElement(te,{termIndex:t,isDisable:c!==t&&r,installmentNum:e.term,serviceAmountContent:e.commissionType===B?"含手续费":"0手续费",payAmountPerInstallment:Object(Q.c)(e.termPrice),selectInstallmentTerm:a,paymentType:G.a.HBInstallmentPay,selected:n===t,isChannelSelected:o}))})))}var oe=n("MpJ2"),ie=n("eHaf"),ce=n("iYsC"),se=n.n(ce),ue=function(){Object(J.a)("分期信息已选择，如需修改可重新下单")};function le(e){var t=e.creditCardVo,n=e.orderAmount,r=e.changeBindId,o=e.selectInstallmentTerm,i=e.selectedTermIndex,c=e.isChannelSelected,u=e.lockTerm,l=e.isElderMode;Object(j.a)(se.a);var d=t.recommendCardVo,p=void 0===d?{}:d,f=t.extra,m=void 0===f?{}:f,h=p.creditInstallments,v=void 0===h?[]:h,g=p.virtualCard,y=p.virtualCardTitle,_=p.bankShort,b=p.icon,k=p.cardEnc,w=p.bindId;function C(){return x.apply(this,arguments)}function x(){return(x=s()(a.a.mark((function e(){var t,i,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(void 0,{expandAfterSelection:!0}),!u){e.next=4;break}return ue(),e.abrupt("return");case 4:return g?Object(ie.b)({page_el_sn:5882150}):Object(ie.b)({page_el_sn:5882151}),e.prev=5,e.next=8,Object(oe.f)("JSDuoduoWallet","selectCreditCard",{amount:n,selected_bind_id:w,extra:m});case 8:i=e.sent,c=null==i||null===(t=i.selected_card)||void 0===t?void 0:t.bind_id,s=1==+i.result_type,c&&c!==w&&r&&r({selectedBindId:w,newBindId:c,isNewlyAdded:s}),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(5);case 16:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}Object(S.useEffect)((function(){g?Object(ie.c)({page_el_sn:5882150}):Object(ie.c)({page_el_sn:5882151})}),[g]);var P=!l&&v&&v.length>0&&v.some((function(e,t){return!!e.promotionContent})),E=null;E=l?v.length>4?se.a.installment6ContainerElder:v.length>2?se.a.installment4ContainerElder:se.a.installment2ContainerElder:v.length>3?se.a.installment6Container:se.a.installment3Container,E=R()(E,V()({},se.a.hasPromotionContent,P));var O=null;return O=l?v.length>4?se.a.installment6Elder:v.length>2?se.a.installment4Elder:se.a.installment2Elder:v.length>3?se.a.installments6:se.a.installments3,O=R()(O,V()({},se.a.hasPromotionContent,P)),I.a.createElement("div",{className:E},!!g&&I.a.createElement("div",{className:se.a.mask,onClick:C}),!!g&&I.a.createElement("div",{className:se.a.title,onClick:C},y,I.a.createElement("div",{className:se.a.action},"添加"),I.a.createElement(z.a,{className:se.a.actionBtn,src:"https://funimg.pddpic.com/transaction/a04ef1f3-565b-4b8e-9caf-be6e606972b0.png.slim.png"})),!g&&I.a.createElement("div",{className:se.a.title,onClick:C},I.a.createElement(z.a,{className:se.a.bankIcon,src:b}),"".concat(_," (").concat(k,")"),I.a.createElement("div",{className:se.a.action},"更换"),I.a.createElement(z.a,{className:se.a.actionBtn,src:"https://funimg.pddpic.com/transaction/a04ef1f3-565b-4b8e-9caf-be6e606972b0.png.slim.png"})),I.a.createElement("div",{className:O},v.map((function(e,t){var n=i!==t&&u;return I.a.createElement("div",{className:se.a.installmentContainer,key:e.installmentNum},I.a.createElement(te,{promotionContent:n||l?null:e.promotionContent,hasPromotionContent:P,termIndex:t,isDisable:n,installmentNum:e.installmentNum,serviceAmountContent:e.serviceAmountContent,payAmountPerInstallment:e.payAmountPerInstallment,selectInstallmentTerm:g?C:o,selected:!g&&i===t,isChannelSelected:c}))}))))}var de=n("5Pt6"),pe=n.n(de),fe=I.a.createElement("svg",{t:"1629126595213",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4064"},I.a.createElement("path",{d:"M361.396862 939.865243L0 578.298315l123.274648-123.274648 231.140111 231.31135 539.668623-602.20026 129.915445 116.379336-662.601965 739.35115z","p-id":"4065"})),me=function(e,t){return parseInt(e,10)||t},he=function(e,t){return(e||"").match(/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/)?e:t};function ve(e){var t,n,r=e.installmentList,a=void 0===r?[]:r,o=e.lockInstallmentTerm,i=e.lockCreditCardTerm,c=e.selectPayMethod,s=e.channel,u=e.customStyle,l=void 0===u?{}:u,d=e.orderAmount,p=e.changeBindId,f=e.isElderMode;Object(j.a)(pe.a);var m=s.disabled,h=s.disableContent,v=s.selected,g=s.neverBeenSelected,y=s.hint,_=s.hintIcon,b=s.hintStyle,k=s.preHint,S=s.preHintIcon,C=s.preHintStyle,x=s.channelName,P=s.name,E=s.icon,O=s.termIndex,N=s.creditCardTermIndex,D=s.expanding,T=s.creditCardVo,A=s.payIconContent,W=x===M.HBFQ_ALI_PAY&&(!m&&v||!!D),L=x===M.CREDIT_CARD&&(T&&!m&&v||D),F=a.findIndex((function(e){return e.defaultSelected})),B=F>=0?F:0,U=((null==T||null===(t=T.recommendCardVo)||void 0===t?void 0:t.creditInstallments)||[]).findIndex((function(e){return!!e.selected}));U<0&&(U=0);var H=R()(pe.a.padding,V()({},pe.a.disable,m)),Q=R()(pe.a.item,(n={},V()(n,pe.a.itemDisable,m),V()(n,pe.a.installmentFlag,[M.HBFQ_ALI_PAY,M.CREDIT_CARD].includes(x)),V()(n,pe.a.itemInstallment,!!W),n)),G=l.selectedIconPadding,J=I.a.createElement(I.a.Fragment,null,!E&&I.a.createElement("span",{className:"".concat(pe.a["p"+x])}),E&&I.a.createElement("span",{style:{backgroundImage:"url(".concat(E,")")},className:pe.a.pfuji})),K=I.a.createElement("span",{className:pe.a.method},P),Y=b?{fontSize:f?"".concat(.16,"rem"):me(b.fontSize,13)/100+"rem",color:he(b.fontColor,"#58595b")}:{},X=C?{fontSize:f?"".concat(.16,"rem"):me(C.fontSize,13)/100+"rem",color:he(C.fontColor,"#58595b")}:{},Z=function(){return m?null:k&&g?I.a.createElement("span",{className:pe.a.hints},S?I.a.createElement("span",{className:pe.a.icon},I.a.createElement("img",{src:S})):null,I.a.createElement("span",{style:X},k),I.a.createElement("span",{className:pe.a.space})):q()(A)?y?I.a.createElement("span",{className:pe.a.hints},_?I.a.createElement("span",{className:pe.a.icon},I.a.createElement("img",{src:_})):null,I.a.createElement("span",{style:Y},y),I.a.createElement("span",{className:pe.a.space})):null:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(e||[]).map((function(e,n){var r=t?.16:me(e.css_vo.font_size,13)/100;return"text"===e.type?I.a.createElement("span",{key:"item_".concat(n),style:{fontSize:"".concat(r,"rem"),color:he(e.css_vo.font_color,"#58595b")}},e.content):"icon"===e.type?I.a.createElement(z.a,{src:e.icon_url,className:pe.a.richTextImg,key:"item_".concat(n),style:{height:"".concat(+w()(e,"css_vo",{icon_height:17}).icon_height/100,"rem"),width:"".concat(+w()(e,"css_vo",{icon_width:17}).icon_width/100,"rem")}}):null}))}(A,f)},$=I.a.createElement("div",{className:pe.a.itemDisableText,style:{marginRight:G}},h||"该支付方式当前服务不可用");if(s.channelName===M.CREDIT_CARD){var ee=N;return(null==ee||ee<0)&&(ee=U),I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:H,"data-active":"before-white",style:l},I.a.createElement("div",{className:Q,onClick:function(){v||(s.creditCardTermIndex=null==N?U:N>=0?N:U,c&&c(s,{expandAfterSelection:!D}))}},v&&!m&&I.a.createElement("div",{className:pe.a.selectedSvg,style:{marginRight:G}},fe),m&&$,I.a.createElement("div",{className:pe.a.text},J,K,Z()))),T&&L&&I.a.createElement(le,{creditCardVo:T,selectInstallmentTerm:function(e,t){e>=0&&(s.creditCardTermIndex=e),c&&c(s,t)},selectedTermIndex:ee,isChannelSelected:v,changeBindId:p,orderAmount:d,lockTerm:i,isElderMode:f}))}if(s.channelName===M.HBFQ_ALI_PAY){var te,ne=R()(pe.a.padding,(te={},V()(te,pe.a.disable,m),V()(te,pe.a.paddingInstallment,!f&&W),V()(te,pe.a.paddingInstallment4Elder,f&&W&&(null==a?void 0:a.length)>2),V()(te,pe.a.paddingInstallment2Elder,f&&W&&(null==a?void 0:a.length)<=2),te));return I.a.createElement("div",{className:ne,style:l},I.a.createElement("div",{className:pe.a.hbMask,"data-active":"before-white"},I.a.createElement("div",{className:Q,onClick:function(){if(!v){var e={};s.channelName===M.HBFQ_ALI_PAY&&(s.termIndex=0===O?O:O||B,e.expandAfterSelection=!D),c&&c(s,e)}}},v&&!m&&I.a.createElement("div",{className:pe.a.selectedSvg,style:{marginRight:G}},fe),m&&$,I.a.createElement("div",{className:pe.a.text},J,K,Z()))),x===M.HBFQ_ALI_PAY&&W&&I.a.createElement(ae,{lockInstallmentTerm:o,selectedTermIndex:0===O?O:O||B,installmentList:a,selected:v,selectInstallmentTerm:function(e){s.termIndex=e,c&&c(s)},isElderMode:f}))}return I.a.createElement("div",{className:H,"data-active":"before-white",style:l},I.a.createElement("div",{className:Q,onClick:function(){c&&c(s)}},v&&!m&&I.a.createElement("div",{className:pe.a.selectedSvg,style:{marginRight:G}},fe),m&&$,I.a.createElement("div",{className:pe.a.text},J,K,Z())))}var ge=n("PB+Z"),ye=n.n(ge),_e=I.a.createElement("svg",{t:"1629364484227",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2148"},I.a.createElement("path",{d:"M0 350.06106c0-14.555334 5.555892-29.110668 16.666502-40.222451 22.222394-22.222394 58.241275-22.222394 80.444904 0L511.760148 724.487351l415.129619-415.148385c22.203628-22.222394 58.222509-22.222394 80.444903 0 22.222394 22.222394 22.222394 58.222509 0 80.444903l-428.536712 428.555478c-36.981808 36.944276-97.111406 36.944276-134.074448 0.037532L16.667675 390.283512c-11.111784-11.110611-16.667675-25.667118-16.667675-40.222452z","p-id":"2149"}));function be(e){var t=e.showFoldAlipayHint,n=e.onClickExpandAll;return Object(j.a)(ye.a),I.a.createElement("div",{className:ye.a.more,"data-active":"cell-white",onClick:n},I.a.createElement("div",{className:ye.a.hint},"更多支付方式",t&&I.a.createElement("div",{className:ye.a.payment},I.a.createElement("span",{className:ye.a.space},"("),I.a.createElement("span",null,"如 "),I.a.createElement("span",{className:ye.a.wrapper},I.a.createElement("span",{className:ye.a.item},I.a.createElement("span",{className:"".concat(ye.a.moreIcon," ").concat(ye.a.icon1)}),I.a.createElement("span",null,"支付宝"))),I.a.createElement("span",{className:ye.a.space},")"))),I.a.createElement("div",{className:ye.a.arrowsDownSvg},_e))}function ke(e){var t=e.payChannels,n=e.installmentList,r=e.lockInstallmentTerm,a=e.lockCreditCardTerm,o=e.onChannelSelected,i=e.onClickExpandAll,c=e.disableFolding,s=e.customStyle,u=e.orderAmount,l=e.changeBindId,d=e.isElderMode;function p(e,t){o&&o(e,t)}Object(j.a)(L.a);var f=!1;t.forEach((function(e){e.channelName===M.ALIPAY&&(f=!e.display)}));var m=t.filter((function(e){return e.display||c})).map((function(e){return I.a.createElement(ve,{installmentList:n,lockInstallmentTerm:r,lockCreditCardTerm:a,customStyle:s,key:e.channelName,channel:e,selectPayMethod:p,orderAmount:u,changeBindId:l,isElderMode:d})})),h=t.length>m.length&&!c,v=R()(L.a.payment,{pdd_payment_list_elder_mode:d});return I.a.createElement("div",{className:v},m,h&&I.a.createElement(be,{onClickExpandAll:i,showFoldAlipayHint:f}))}var we=n("KoDT"),Se=n("h3qu"),Ie=function(){},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie;var n=Object(we.a)();n.system===Se.b.IOS&&n.isNativePlatform?window.__isMagic__?e():Object(Se.c)(n.version,"3.43.0")>=0?Object(oe.f)("PDDPayment","getAvailableTypes",{}).then((function(n){(n&&n.types||[]).indexOf(G.a.ApplePay)>=0?e():t()})).catch(t):Object(oe.f)("AMPay","canSupportApplePay",{}).then((function(n){0===n.status?e():t()})).catch(t):t()};function xe(){return Pe.apply(this,arguments)}function Pe(){return(Pe=s()(a.a.mark((function e(){var t,n,r,o,i,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(!(t=Object(we.a)()).isTinyNativePlatform){e.next=17;break}if(!(Object(Se.c)(t.version,"6.5.0")<0)){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,Object(oe.f)("JSPackageManager","checkIfAlipayInstalled");case 9:return n=e.sent,r=(n||{}).isAlipayInstalled,e.abrupt("return",!!r);case 14:return e.prev=14,e.t0=e.catch(6),e.abrupt("return",!1);case 17:if(!t.isNativePlatform){e.next=36;break}if(t.statisfy&&t.statisfy("3.2.0","3.2.0","greaterThanEqual")){e.next=21;break}return e.abrupt("return",!1);case 21:return o="",(i=t.system)===Se.b.IOS?o="alipays":i===Se.b.Android&&(o="com.eg.android.AlipayGphone"),e.prev=24,e.next=27,Object(oe.f)("AMApplication","check",{app:o});case 27:if(!(c=e.sent)||!c.has_installed){e.next=31;break}return s=parseInt(c.has_installed,10)||0,e.abrupt("return",s);case 31:e.next=36;break;case 33:return e.prev=33,e.t1=e.catch(24),e.abrupt("return",!1);case 36:return e.abrupt("return",t.isAliPayAvailable);case 37:case"end":return e.stop()}}),e,null,[[6,14],[24,33]])})))).apply(this,arguments)}function Ee(){var e=Object(we.b)(navigator.userAgent);if(!e.isNativePlatform||Object(Se.c)(e.version,"4.85.0")<0)return!1;var t=e.system===Se.b.Android?"com.tencent.mobileqq":"mqqwallet";return Object(oe.f)("AMApplication","check",{app:t}).then((function(e){var t=e.has_installed;return Object(oe.f)("AMStorage","set",{key:"qqUninstall",value:t+""}),0===t})).catch((function(){return!1}))}function Oe(){var e=Object(we.a)();if(!e.isNativePlatform||Object(Se.c)(e.version,"4.85.0")<0)return!1;var t=e.system===Se.b.Android?"com.unionpay":"uppaywallet";return Object(oe.f)("AMApplication","check",{app:t}).then((function(e){var t=e.has_installed;return Object(oe.f)("AMStorage","set",{key:"unionpayUninstall",value:t+""}),0===t})).catch((function(){return!1}))}function Ne(e){var t,n=e.alipayInstalled,r=e.isQQUninstall,a=e.isUnionpayUninstall,o=e.isEmbeddedBrowser,i=e.appVersion,c=e.applePayInstalled,s=i&&Object(Se.c)(i,"3.65.0")>=0;return{disableFolding:o,installMap:(t={},V()(t,M.LIANLIANPAY,!!c),V()(t,M.QQ,!r),V()(t,M.HBFQ_ALI_PAY,s),V()(t,M.ALIPAY,!!n),V()(t,M.UNIONPAY,!a),t)}}function De(){return Promise.all([xe(),(e=new Promise((function(e){Ce((function(){e({result:!0})}),(function(){e({result:!1})}))})),t=new Promise((function(e){setTimeout((function(){e({result:!1,timeout:!0})}),2e3)})),Promise.race([e,t]).then((function(e){var t=e.result;return e.timeout,t}))),Ee(),Oe()]).then((function(e){var t=T()(e,4),n=t[0],r=t[1],a=t[2],o=t[3],i=Object(we.a)();return Ne({alipayInstalled:n,applePayInstalled:r,isQQUninstall:a,isUnionpayUninstall:o,appVersion:i.version,isEmbeddedBrowser:i.isEmbeddedBrowser})}));var e,t}var Te=0;var je=[M.LIANLIANPAY,M.QQ,M.HBFQ_ALI_PAY,M.UNIONPAY];function Ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=t||{},a=r.installMap,o=void 0===a?{}:a,i={},c=je;return n&&(c=[].concat(je,[M.ALIPAY])),c.forEach((function(e){i[e]=o&&!o[e]})),e.filter((function(e){return e&&!i[e.channelName]}))}function Re(e){var t=null,n=null;return e.forEach((function(e){!t&&!e.disabled&&(t=e),e.defaultSelected&&!e.disabled&&(n=e)})),n||t}function We(e){var t=e.channelName,n=e.existedChannels,r=e.installmentList,a=e.expandAll,o=e.channel,i=n.slice(),c=null,s=[],u=[];return i.forEach((function(e){if(e.channelName!==t||e.disabled)e.selected=!1;else{if(e.channelName===M.HBFQ_ALI_PAY){var n=r.findIndex((function(e){return e.defaultSelected})),i=n>=0?n:0;e.termIndex>=0||(e.termIndex=(null==o?void 0:o.termIndex)||i)}if(e.channelName===M.CREDIT_CARD){var l,d,p=((null==o||null===(l=o.creditCardVo)||void 0===l||null===(d=l.recommendCardVo)||void 0===d?void 0:d.creditInstallments)||[]).findIndex((function(e){return!!e.selected}));p<0&&(p=0),e.creditCardTermIndex>=0||(e.creditCardTermIndex=(null==o?void 0:o.creditCardTermIndex)||p)}e.display=!0,e.selected=!0,e.neverBeenSelected=!1,c=e}a&&(e.display=!0),e.display?s.push(e):u.push(e)})),{newChannels:s.concat(u),selectedChannel:c}}function Le(e){var t=e.payChannels,n=e.installmentList,r=void 0===n?[]:n,a=e.lockInstallmentTerm,o=e.lockCreditCardTerm,i=e.isRefreshPayChannels,c=e.ignoreChannels,s=void 0===c?[]:c,u=e.ssrOptimizationParams,l=e.onChannelSelected,d=e.onPayChannelsChanged,p=e.selectedChannelName,f=e.termIndex,m=e.creditCardTermIndex,h=e.disableFolding,v=void 0!==h&&h,g=e.orderAmount,y=e.changeBindId,_=e.customStyle,b=e.isElderMode,k=void 0!==b&&b,w=e.isTinyNativePlatform,C=void 0!==w&&w;function P(e){var n=function(e){var t=e||{},n=t.pdd_native_preload2,r=t.appVersion,a=t.isEmbeddedBrowser;if(n)try{var o=JSON.parse(n)||{},i=o.am_app_che_alipays,c=o.am_app_che_applepay,s=o.qqUninstall,u=o.unionpayUninstall,l=!0,d=!1;return i&&(l=1===parseInt(JSON.parse(i).has_installed)),c&&(d=1===parseInt(JSON.parse(c).has_installed)),Ne({alipayInstalled:l,applePayInstalled:d,isQQUninstall:"0"===s,isUnionpayUninstall:"0"===u,appVersion:r,isEmbeddedBrowser:a})}catch(e){Object(x.c)(new Error("nativeExtra parsing error"),{installInfo:n})}return null}(e),a=Ae(t.filter((function(e){return!s.includes(e.channelName)})),n,C);return We({channelName:(Re(a)||{}).channelName,existedChannels:a,installmentList:r,expandAll:!!n&&n.disableFolding}).newChannels}var E=Object(S.useState)((function(){return P(u)})),O=T()(E,2),N=O[0],D=O[1],j=function(e){d&&d(e),D(e)};function A(e){var t=e.channelName,n=e.channel,a=e.existedChannels,o=e.opts,i=(o||{}).expandAll,c=We({channel:n,channelName:t,existedChannels:a,installmentList:r,expandAll:v||i}),s=c.newChannels,u=c.selectedChannel;j(s),l&&l({selectedChannel:u,channelName:t,opts:o})}return Object(S.useEffect)((function(){De().then((function(e){var n=Ae(t.filter((function(e){return!s.includes(e.channelName)})),e,C);A({channelName:Re(n).channelName,existedChannels:n,opts:{expandAll:!!e&&e.disableFolding}}),n.length<1&&!Te&&(Te=!0,Object(x.c)(new Error("empty_paymentlist")))}))}),[]),Object(S.useEffect)((function(){if(i)De().then((function(e){var n=Ae(t.filter((function(e){return!s.includes(e.channelName)})),e,C);j(n)}));else{var e=N.slice(),n=e.find((function(e){return e.channelName===M.CREDIT_CARD})),r=t.find((function(e){return e.channelName===M.CREDIT_CARD}));n&&!r&&(n.creditCardVo=null);var a=t.map((function(e){return e.channelName}));e.forEach((function(e){a.includes(e.channelName)||Object.assign(e,{hint:null,hintStyle:null,hintIcon:null,preHint:null,preHintStyle:null,preHintIcon:null,payIconContent:null})}));var o={};e.forEach((function(e){o[e.channelName]=e})),t.forEach((function(e){var t=o[e.channelName];t&&Object.assign(t,{name:e.name,nameStyle:e.nameStyle,hint:e.hint,hintStyle:e.hintStyle,hintIcon:e.hintIcon,preHint:e.preHint,preHintStyle:e.preHintStyle,preHintIcon:e.preHintIcon,payIconContent:e.payIconContent,creditCardVo:e.creditCardVo})})),j(e)}}),[t]),Object(S.useEffect)((function(){if(p&&N.filter((function(e){return e.selected}))[0]){var e=N.filter((function(e){return e.channelName===M.HBFQ_ALI_PAY}))[0];e&&f>=0&&(e.termIndex=f);var t=N.filter((function(e){return e.channelName===M.CREDIT_CARD}))[0];t&&m>=0&&(t.creditCardTermIndex=m);var n=N.slice(),a=We({channelName:p,existedChannels:n,installmentList:r}).newChannels;j(a)}}),[p,f,m]),I.a.createElement(ke,{payChannels:N,installmentList:r,lockInstallmentTerm:a,lockCreditCardTerm:o,onChannelSelected:function(e,t){A({channel:e,channelName:e.channelName,existedChannels:N,opts:t})},onClickExpandAll:function(){var e=(N||[]).slice();e.forEach((function(e){e.display=!0})),j(e)},disableFolding:v,customStyle:_,orderAmount:g,changeBindId:y,isElderMode:k})}var Me=n("cDf5"),Fe=n.n(Me),Be=n("u6S6"),Ue=n.n(Be);var Ve;function He(){return qe.apply(this,arguments)}function qe(){return(qe=s()(a.a.mark((function e(){var t,n,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(we.a)(),t.statisfy&&t.statisfy("3.2.0","3.2.0","greaterThanEqual")){e.next=4;break}return e.abrupt("return",!1);case 4:return n="",(r=t.system)===Se.b.IOS?n="alipays":r===Se.b.Android&&(n="com.eg.android.AlipayGphone"),e.prev=7,e.next=10,Object(oe.f)("AMApplication","check",{app:n});case 10:if(!(o=e.sent)||!o.has_installed){e.next=14;break}return i=parseInt(o.has_installed,10)||0,e.abrupt("return",i);case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(7),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[7,16]])})))).apply(this,arguments)}var ze=(Ve={},V()(Ve,M.WEIXIN,G.a.WeChat),V()(Ve,M.WEIXIN_FRIEND,G.a.FriendPay),V()(Ve,M.ALIPAY,G.a.AliPay),V()(Ve,M.QQ,G.a.QQPay),V()(Ve,M.DUODUOPAY,G.a.DuoDuoPay),V()(Ve,M.HB_ALI_PAY,G.a.HBPay),V()(Ve,M.HBFQ_ALI_PAY,G.a.HBInstallmentPay),V()(Ve,M.WEIXIN_CREDIT,G.a.XianYongHouFu),V()(Ve,M.LIANLIANPAY,G.a.ApplePay),V()(Ve,M.DUODUOPAY_ACS,G.a.DuoDuoPayACS),V()(Ve,M.UNIONPAY,G.a.UnionPay),V()(Ve,M.CREDIT_CARD,G.a.CreditCardInstallmentPay),Ve);function Qe(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=s()(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==M.ALIPAY){e.next=5;break}return e.next=3,He();case 3:return n=e.sent,e.abrupt("return",n?G.a.AliPayDirectDebit:G.a.AliPay);case 5:if(!(r=ze[t])){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n("50WD");var Je=n("nvxi"),Ke=n.n(Je);function Ye(e){var t=e.orderAmount,n=e.onRepay,r=e.selectedChannel;return I.a.createElement("div",{id:"rmp-confirm",className:Ke.a.confirm},I.a.createElement("div",{className:Ke.a.button,"data-active":"red",onClick:n},function(){var e,n=null==r?void 0:r.creditCardTermIndex,a=null==r?void 0:r.payButtonContent;if((null==r?void 0:r.channelName)===M.CREDIT_CARD&&n>=0){var o,i,c,s=null==r||null===(o=r.creditCardVo)||void 0===o||null===(i=o.recommendCardVo)||void 0===i?void 0:i.creditInstallments,u=null==s||null===(c=s[n])||void 0===c?void 0:c.payButtonContent;(null==u?void 0:u.length)>0&&(a=u)}return(null===(e=a)||void 0===e?void 0:e.length)>0?I.a.createElement(I.a.Fragment,null,a.map((function(e,t){return I.a.createElement("span",{key:t},e.text)}))):I.a.createElement(I.a.Fragment,null,"立即支付",I.a.createElement("span",{className:Ke.a.price},I.a.createElement("i",null,"¥"),Object(Q.c)(t)))}()))}var Xe=n("etlO"),Ze=n("JWkn"),$e=n.n(Ze);function et(e){var t=e.countDown,n=Object(Xe.a)({leftTime:t,accuracy:100,fixTime:!0}),r=n.totalHours,a=n.hours,o=n.minutes,i=n.seconds,c=n.milliSeconds,s="".concat(r>0?a+":":"").concat(o,":").concat(i,".").concat(c);return I.a.createElement("span",{className:$e.a.msCountDown},s)}var tt=n("EUmn"),nt=n.n(tt);function rt(e){var t=e.countDown,n=e.doHide,r=I.a.createElement("div",{className:nt.a.countDown},"订单待支付，请在",I.a.createElement(et,{countDown:t}),"内支付");return I.a.createElement("div",{className:nt.a.header},I.a.createElement("div",{className:nt.a.countDownHeader},r,I.a.createElement("div",{className:nt.a.closeWrap},I.a.createElement("div",{className:nt.a.close,onClick:n}))))}var at=n("U+yc"),ot=n.n(at),it=n("Rc36"),ct=n("x9rp"),st=n("gzrZ"),ut=n("ii9O"),lt={1101:"当前访问人数较多，请稍后重试",4000004:"当前访问人数较多，请稍后重试",45059:"系统繁忙，请您稍后再试！",50000001:"不支持的手机号",46022:"未满16周岁用户暂时不可购买此商品",45037:"系统繁忙，即将跳转到充值中心充值",46023:"购买该商品需要更新至最新客户端版本",45009:"当前支付方式服务不稳定，建议使用其他支付方式",512:"当前访问人数较多，请稍后重试",409:"当前访问人数较多，请稍后重试",511:"当前访问人数较多，请稍后重试",41003:"当前商品已抢完，建议购买其他商品",44093:"当前商品已抢完，建议购买其他商品",40000061:"您已购买过同类补贴商品，建议购买其他相似商品",40000062:"该商品同一用户仅能以补贴价格购买一件，你已购买过该商品，可邀请好友购买"},dt=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]={code:n,message:e[n]}})),t}({1101:"手机网络繁忙，请稍后再试",30400:"没有安装QQ客户端",4e4:"错误的请求地址或方法",40001:"登录已过期，请重新登录",40002:"手机网络繁忙，请稍后再试",40003:"错误的请求参数",40004:"微信登录失败",40005:"请求还在处理中",40006:"手机登录验证码错误",40100:"暂未开通该开放平台",40015:"验证码重复请求",40016:"验证码超出当天限制",40017:"今日可发送次数已达上限",40018:"验证码填写错误",40019:"验证码填写超时",40020:"登录失败",40031:"微信登录失败!",40032:"QQ登录失败!",40033:"登录重试失败，请稍后再试",43058:"",41001:"商品不存在",41002:"商品已下架",41003:"商品已售罄",41004:"商品不在同一商店",41005:"该商品当前不在抽奖活动时间",41006:"商品不在可售区域",41101:"抽奖活动暂不支持单独购买",41102:"卡券可使用的时间已过期，请选购其他商品",42001:"拼单已满",42002:"该拼单不存在",42003:"拼单已过期",42004:"您购买此商品次数达到上限，去看看其他商品吧~",42005:"该商品开团数已达上限",42006:"拼单已满",42007:"此拼单已满，正在发起新拼单...",42501:"订单已成团，暂不支持修改收货地址，请与商家客服联系",42502:"该订单已拼单成功，请刷新页面",43001:"用户不存在",43002:"地址错误",43004:"身份证号不存在",43005:"姓名和身份证号不一致",43006:"对不起，您无法获取或更新身份证号",43007:"对不起，您已用完当前最大验证次数，请24小时后再试",43008:"姓名和身份证不匹配，请重新认证",43009:"您今日认证过于频繁，请明天再试",43010:"该地址已存在",43011:"该地址无法导入",43013:"一小时内不能重复提交",43015:"只允许微信用户够买",43016:"创建地址失败",43017:"最多只能添加100个收货地址哦~",43098:"您在店铺没有拼单成功记录，请勿发红包！拼多多不支持通过发红包购买商品！",43099:"该商品仅限新用户购买一件哦~",44001:"优惠券不存在",44002:"优惠券已使用",44003:"优惠券没有达到最小使用金额",44004:"优惠券已过期",44005:"优惠券不属于用户",44006:"优惠券已废弃",44007:"优惠券暂未到使用时间",44008:"优惠券不能在该分类使用",44010:"优惠券已经抢完了，下次早点来哦",44011:"您已经领过该优惠券",44012:"优惠券领取失败",44015:"不是团长不能使用团长免单优惠券",44016:"优惠券批次不存在",44020:"正在处理中，请稍后再试！",44026:"该券太火爆，全部已被领完",44027:"活动已结束！",44033:"优惠券使用失败",44035:"批次类型错误",44036:"团免券已被领完",44037:"用户已达团免券日领取上限",44038:"您已领取该券",44039:"未找到符合条件的团免券批次",44041:"领取失败",44042:"领取链接已失效，下次早点哦",44043:"不符合领取条件哦",44044:"该优惠券活动不存在",44045:"不在活动时间",44046:"只有无订单的新用户可领取哦",44047:"红包券数量不够",44061:"多件优惠活动结束",44063:"多件优惠已经享受过了",44064:"多件优惠活动暂未开始",44065:"多件优惠活动暂未开始",44066:"多件优惠活动结束",44067:"商家券和多件优惠活动不能同时使用",44072:"分享码已过期",44073:"免拼卡不足",44076:"不符合免拼卡的使用条件",44090:"商品活动未开始",44091:"商品活动已结束",44092:"商品活动不存在",44093:"活动商品已售罄",44095:"商品活动已结束",44096:"商品活动不存在",44097:"您购买的该活动商品数量已达上限",44098:"商品订单已创建",44099:"商品活动有误",44100:"您未获取抢购资格，不可购买该商品",44200:"已达红包使用数量上限",44201:"每满{0}元可用{1}个红包",45001:"订单不存在",45002:"订单不属于该用户",45003:"订单不能取消",45004:"订单商品不一致",45005:"订单已经收货",45006:"订单还未发货",45007:"海淘订单没有提交身份证",45008:"订单已支付",45009:"支付繁忙，请重试",45010:"订单正在支付中",45012:"手机充值号码为空",45013:"手机充值号码不支持",45014:"手机充值商品不存在",45015:"确认收货失败",45023:"正在处理您的退款/售后申诉，无法主动确认收货",45026:"超过购买商品限制",45030:"订单正在处理中，请刷新页面",45031:"单次购买金额不得高于9.5万元",45033:"超过每个手机号码购买次数限制",45034:"抱歉，秒杀尚未开始，请稍候",45035:"该商品为App新人专享秒杀，非首次下载App24小时内的用户无法发起拼单",45036:"每名用户只能购买一次哦",45037:"你的当前登录帐号有些风险哦，建议先直接去充值吧",45038:"包月套餐订单购买免密校验失败",45039:"包月套餐功能升级中，当前只支持微信帐号登录的用户哦",45040:"限购商品暂时无法购买哦～",45041:"本次活动期间已抢到过一张神券，不能再抢了~",45042:"手机网络繁忙，请稍后再试",45043:"该类型商品本次活动期间您已抢过，不能再抢了~",45044:"您好，该商品仅可购买一次哦~",45045:"该商品仅能在拼多多App中购买！",45046:"该商品仅允许微信登录用户购买！",45047:"超过该商品每次购买件数限制",45050:"您已经在本场下过单了，去看看其他商品吧~",45051:"已购买过此类优惠商品，看看其他商品吧",45052:"您最近购买此商品次数达到上限，去看看其他商品吧~",45053:"手机网络繁忙，请稍后再试",45054:"需验证码校验！",45055:"手机网络繁忙，请稍后再试",45104:"不是定金类型订单",45105:"订单已取消",45106:"订单已确认",45107:"定金未成团",45206:"创建订单存在风险",45207:"创建订单验证码非法",45208:"价格有变动，请返回上一页查看",45209:"请更换支付方式，花呗分期暂不可用",45210:"手机网络繁忙，请稍后再试",45301:"店铺补差价金额达到上限！",45320:"未获取活动资格！",45321:"该活动必须是微信APP用户参加！",45322:"该活动同一用户不可重复参加！",45323:"该活动同一设备不可重复参加！",45324:"该活动用户微信置信度较低！",45325:"非APP新用户",45326:"手机网络繁忙，请稍后再试",45327:"账户存在风险，无法下单",45402:"该商品秒杀活动已结束",45403:"该商品免单活动已结束",45404:"该商品买二送一活动已结束",45405:"该商品秒杀活动已结束",45406:"该活动已结束",45407:"该活动已结束",45110:"未到尾款支付时间",45111:"超过尾款支付时间",45112:"未到定金支付时间",45113:"超过定金支付时间",45412:"该商品多件优惠活动已结束",45413:"该商品限时免单活动已结",45416:"该商品优惠活动已结束",45417:"该活动已结束",45418:"该优惠商品已被抢空",45420:"该活动已结束",45422:"该活动已结束",45423:"该活动已结束",45424:"该包月活动已结束",45425:"您向商家补的差价已经超过上限",45428:"该商品属于活动商品，无法正常购买",45429:"该地区暂时无货",45450:"此海淘商品仅支持微信支付",45500:"商品信息和充值号码不匹配",45501:"新地址暂不支持，请重新选择",45511:"您不是专属用户，不能以特惠价开团哦~",45514:"库存不足",45515:"低于最低起售件数",45516:"该商品有更低价的优惠活动，请刷新购买",46001:"团订单不存在",46002:"无法重复参团",46012:"商品售罄，免拼失败，拼单到期后将退款",46013:"秒杀活动结束，免拼失败，拼单到期后将退款",46014:"插队拼单已满",47003:"限量件数已被抢光，请重新选购",47101:"支付失败，限时折扣活动已结束",47102:"支付失败，限量折扣活动已结束，请重新购买",47010:"折扣活动检查失败",47011:"限时折扣活动已经使用",47012:"限时折扣活动未开启",47013:"限时折扣活动未到开始时间",47014:"限时折扣活动已经结束",47015:"商家券和限时折扣活动不能同时使用",47030:"已经催过了，正在尽快发货",47031:"催发货请求异常，请稍后重试",48001:"图片格式错误",48002:"图片大小超过限制",49001:"商品不存在",5e4:"当前访问人数较多，请稍后再试",50001:"今天票数已用完，明天再来吧",50002:"当前有未完成的团",80001:"投票活动已结束",6e4:"",60001:"该团已经结束",60002:"确认收货失败",60003:"参数错误",60004:"您已退款成功，无须确认收货",60005:"用户拒绝",60006:"用户取消",60007:"确认收货失败，请稍后重试",60100:"未安装微信客户端",60110:"未安装微博客户端",60120:"未安装手机QQ",60200:"录制失败",60201:"录音没有权限",60205:"录音时间过短",60210:"上传失败",60220:"播放失败",71001:"获取售后列表失败",71002:"申请售后失败",71003:"获取售后单详情失败",71004:"售后单添加售后信息失败",71005:"售后单修改失败",71006:"撤销售后失败",71007:"售后单用户确认发货失败",71008:"售后单重新申请失败",71009:"售后单申请平台介入失败",71010:"钱款去向查询失败",71011:"留言标记失败",71012:"售后用户待处理未读数量获取失败",71013:"售后未读留言数目获取失败",71014:"获取付款类型失败",71015:"获取售后原因失败",71016:"获取我要发货列表失败",71017:"获取是否使用平台优惠券失败",71018:"售后单用户确认完成失败",71019:"获取小额打款详情失败",71020:"填写账户信息失败",450130:"商品信息和充值号码不匹配",450131:"该商品每个号码每月限充一次",530001:"团不存在",530002:"团已失效",530003:"团已满",530004:"助力单不存在",530005:"不支持该支付方式",530006:"助力单已支付",530007:"助力单已退款",530008:"不在活动时间",530009:"您已经拿过该商品了，不要贪心哦",530010:"已达到今日帮忙付款次数上限，明日再来吧",530011:"已达到今日帮助该好友次数上限，明日再来吧~",530012:"已经达到帮助该好友支付次数上限，赶紧去帮助其他人吧~",530013:"不符合免费帮忙条件",530014:"您不是拼多多App新人，不能开团哦",144073:"您没有免拼卡，请返回重新下单",144076:"不符合免拼卡的使用条件",144078:"请求失败，请重新发起支付",152001:"限量折扣活动已经使用",152002:"限量折扣活动未开启",152003:"限量折扣活动未到开始时间",152004:"限量折扣活动已经结束",152005:"商家券和限量折扣活动不能同时使用",152006:"限量件数已被抢光，请重新选购",152010:"已达到该商品活动期内的最多购买件数，不能再抢了～",3000001:"充值失败，请稍后重试",3000002:"话费充值失败，请稍后重试",3000003:"话费充值下单失败，请稍后重试",400001:"微信零钱不足，且未绑定银行卡，请绑定银行卡再试，或邀请好友代付",400002:"银行卡余额不足，请绑定其他银行卡再试，或邀请好友代付",400003:"银行卡预留手机号不符，请核对后再试，或邀请好友代付",400004:"银行卡已失效，请核对后再试，或邀请好友代付",400005:"银行拒绝交易，请核对后再试，或邀请好友代付",400099:"支付未完成，请更换支付方式",4000004:"手机网络繁忙，请稍后再试",4000005:"手机网络繁忙，请稍后再试",4000006:"",20504101:"团订单不存在",20504005:"手机网络繁忙，请稍后再试",12960005:"商品不存在",12960006:"活动未开始",12960007:"商品已售罄",12960008:"拼单人数已满",12960009:"只有App新人才能参团哦",12960010:"帐号信息异常",12960012:"该商品一次只能购买1件哦",12960014:"请使用微信登录再下单",12960016:"你已经开过团了，请勿重复开团",12960017:"今日开团次数已用完，明天再来吧",12960018:"今日参团次数已用完，明天再来吧",12960019:"该商品你今日已经参过团了"}),pt={AuthenticationFailed:dt[40001],APIServiceBusy:dt[40002],GraphicalCodeForPhoneCode:dt[40017],LoginFailed:dt[40020],NeedAuthenticationLogin:dt[43058],ItemRemoved:dt[41002],OutOfStock:dt[41003],NotInLuckyTime:dt[41005],AddressUnreachable:dt[41006],NoCouponLeft:dt[44010],CouponTaken:dt[44011],CouponTakeFailed:dt[44012],CouponTakenOut:dt[44026],PersonalInfoNoID:dt[45007],OrderPayed:dt[45008],NeedVerfication:dt[45054],GroupInvalid:dt[46001],GroupFailed:dt[42003],OverBuyLimit:dt[42004],GroupOverflow:dt[42005],GroupAutoOpenFailed:dt[42006],GroupAutoOpenSuccess:dt[42007],IDCardEmpty:dt[43004],NoNameIDBefore:dt[43006],IDCardFake:dt[43008],IDCardFailTooMuch:dt[43009],InsufficientCoupon:dt[44047],AvailableCouponsPerUnit:dt[44201],NoSuchOrder:dt[45001],PrepayBusy:dt[45009],OrderPaying:dt[45010],PaymentDisabled:dt[45210],SpikeComing:dt[45034],OrderPayRisk:dt[45206],OrderPayVerificationInvalid:dt[45207],OrderAlreadyUrged:dt[47030],OrderUrgeError:dt[47031],NativeNormalError:dt[6e4],NativeParamsError:dt[60003],NativeUserRefuse:dt[60005],NativeUserCancel:dt[60006],NativeAudioRecordFailed:dt[60200],NativeAudioRecordUndetermined:dt[60201],NativeAudioTooShort:dt[60205],NativeAudioUploadFailed:dt[60210],NativeAudioPlayFailed:dt[60220],SuccessiveMobileFeeOnlyOnce:dt[45036],SuccessiveMobileFeeRisk:dt[45037],SuccessiveMobileFeeUnsigned:dt[45038],SuccessiveMobileFeeOnlyWechat:dt[45039],OverBuyVirtualGoodsLimit:dt[45033],AvailableActivityChanged:dt[45516],GroupCompleted:dt[42001],InvalidAddress:dt[43002],CouponDailyLimit:dt[44037],CouponBatchLimit:dt[44038],CouponTokenInvalid:dt[44041],CouponTokenExpired:dt[44042],CouponPushNotIn:dt[44043],CouponActivityAbsent:dt[44044],MultiplyDiscountPause:dt[44064],MultiplyDiscountEnd:dt[44066],CouponMaxNumReached:dt[44200],HistoryGroupOpenFailed:dt[46014],GoodsNotExist:dt[49001],NativePaymentCancel:dt[60006],WithoutWeChatClient:dt[60100],QQPayFailed:dt[60120],OrderLimitedSalesEnd:dt[152004],OrderLimitedSalesOut:dt[152006],PayLimitedSalesEnd:dt[47102],PayLimitedSalesOut:dt[47003],ServerBusy:dt[4000004],OrderSpikeMsgError:dt[4000006],WxDirectPayWxBalanceError:dt[400001],WxDirectPayCardBalanceError:dt[400002],WxDirectPayTelephoneError:dt[400003],WxDirectPayCardInvalidError:dt[400004],WxDirectPayRefusedError:dt[400005],WxDirectPayUnknownError:dt[400099],ACT_GROUP_NOT_EXISTS:dt[530001],ACT_GROUP_FAILED:dt[530002],ACT_GROUP_SUCCESS:dt[530003],ACT_RECORD_NOT_EXISTS:dt[530004],PAY_CHANNEL_NOT_SUPPORT:dt[530005],ACT_RECORD_PAID:dt[530006],ACT_RECORD_REFUND:dt[530007],ASSIST_FOR_ONE_DAILY_LIMIT:dt[530011],ASSIST_FOR_ONE_LIMIT:dt[530012],getMsgFromCode:function(e){var t=dt[e];return lt[e+""]?lt[e+""]:t?t.message:""}},ft=n("iuD5"),mt=n("2xwX"),ht=n("mfKk"),vt=Object(we.b)(window.navigator.userAgent);ut.a.home=function(){vt.statisfy&&vt.statisfy("1.2.2","2.0.8","greaterThan")||vt.isTinyNativePlatform?Object(oe.f)("JSNavigation","selectTab",{tab_index:0}):ut.a.uniformForward("index.html")},ut.a.GroupUrl=vt.isNativePlatform||["app.yangkeduo.com","panduoduo.yangkeduo.com"].indexOf(location.hostname)>=0?"group7.html":"group8.html";var gt={SpecGroupDomain:"m.ishangtong.com",GoodsEventTypeWhiteList:[1,7]};ut.a.genGroupPageUrl=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=vt.isNativePlatform,r=vt.isWeChatPlatform,a=gt,o=a.SpecGroupDomain,i=a.GoodsEventTypeWhiteList,c=parseInt(t.goodsEventType,10),s=i.indexOf(c)>=0,u=t.urlParams,l=t.useSpecDomain,d=void 0===l||l,p=t.addRandomSuffix;p&&654===(e=Math.floor(9e3*Math.random())+1)&&(e=Math.floor(653*Math.random())+1);var f=n?"group7.html":"group".concat(e||8,".html");if(s&&(f=n?"vns_group.html":"vns_group".concat(e||"",".html")),u&&u.biz_type){var m=parseInt(u.biz_type,10);2012===m&&(f="mhf_free_group.html")}if(u&&(f="".concat(f,"?").concat(Object(C.b)(u))),r){var h=["m.hutaojie.com","panduoduo.yangkeduo.com"].indexOf(location.hostname)>=0;!h&&d&&o&&(f="//".concat(o,"/").concat(f))}return f};var yt=ut.a,_t=n("1Irm"),bt=1,kt=3,wt=31,St=33,It=34,Ct=36,xt="1",Pt="支付未完成，请重新支付",Et={DEFAULT:0,LUCKY_DRAW:1,SPIKE:2,TZMD:3,GET_EXTRA_FOR_FREE:4,SUPER_SPIKE:5,NEW_USER_GROUP:6,FREE_TRIAL:7,CAPITAL_GIFT:8,CAPITAL_GIFT_LOTTERY:9,TZYY:10,DEPOSITE_GROUP:11,MULTIPLY_GOODS_DISCOUNT:12,LIMITED_TIME_FREE:13,THOUSAND_PEOPLE_GROUP:14,DUODUO_JINBAO:15,LIMITED_TIME_DISCOUNT:16,APP_NEWER_JOIN_GROUP:17,LIMITED_QUANTITY_DISCOUNT:18,WELFARE:19,LUCKY_DRAW_MUST_WIN:20,ACT_FREE_GROUP:21,SIGN_IN:23,MONTHLY_MOBILE_FARE:24},Ot={DEFAULT:1,IMPORTS:2,OVERSEAS_TRANSSHIP:3,OVERSEAS_DM:4,MOBILE_DATA:5,MOBILE_FARE:6,TRADE_COUPON:7,QQ:8,GAS_CARD:9,COMPENSATION:10,WECHAT_RED_ENVELOPE:11,SIGN_IN_BONUS:12,AUDIO_VISUAL_MEMBER:16,PRESCRIPTION_MEDICION:20},Nt="0",Dt="2";function Tt(e){var t=e.page_url||"",n=e.page_type||"",r=t.split("/"),a=r[r.length-1].split("?")[0],o=Object(C.h)(t);return{pageUrl:t,pageType:n,pathName:a,pageTimestamp:o._t_timestamp,forceSkip:"1"===o.__fast_return_skip}}function jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(Array.isArray(e)){var t;try{t=e.reverse().find((function(e,t){if(0===t)return!1;var n=Tt(e),r=n.pathName,a=n.pageType,o=n.pageTimestamp,i=n.forceSkip,c=/^\/?(vns_)?(goods|group|order_checkout|comm_goods_shoes)\d*\.html/.test(r),s=["pdd_order_confirm","pdd_goods_detail","pdd_goods_detail_photo_video_browser","pdd_comment_list_picture_browser","pdd_comment_list_picture_preview","pdd_goods_detail_photo_video_browser","pdd_comment_browse","pdd_comment_picture_list","pdd_chat_combined_payment"].includes(a),u=["comm_goods_trip"].includes(o);return!(c||s||u||i)}))}catch(e){}return t}}function At(e){Object(oe.f)("PDDNavigator","backToGoodsList",e)}function Rt(){return Wt.apply(this,arguments)}function Wt(){return(Wt=s()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Object(we.a)()).isNativePlatform&&!(Object(Se.c)(t.version,"3.61.0")<0)){e.next=3;break}return e.abrupt("return",null);case 3:return e.abrupt("return",Object(oe.f)("PDDNavigator","pageSourceStack",{}).then((function(e){return e&&e.pageSourceStack?jt(e.pageSourceStack):null})).catch((function(){return null})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e){var t=e.url,n=e.name;if(Object(we.a)().statisfy("5.95.0","5.90.0","greaterThanEqual")){var r=(Object(C.h)(t)||{}).new_window,a={url:Object(C.a)({launch_type:"highlayer"},t),new_window:"0"==="".concat(r)?0:1,display_type:0,block_loading:1,delay_loading_ui_time:500,name:n};Object(oe.f)("JSUniPopup","showHighLayer",{model:a,global:1}).catch((function(){return null}))}else Object(oe.f)("PDDPopupManager","showWebLayerAndForward",{model:{url:t,data:"{}"}}).catch((function(){return null}))}var Mt=n("7ftN");function Ft(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(we.a)(),r=n.statisfy&&n.statisfy("2.6.0","2.14.0","greaterThanEqual");function o(e){return i.apply(this,arguments)}function i(){return(i=s()(a.a.mark((function t(n){var o,i,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null,i=null,null!=n&&(o=n.group_order_id,i=n.pay_status),+i!=+Dt||null==o){t.next=15;break}if(n.orderStatus=1,n.groupOrderID=o,!r){t.next=15;break}return c={order_sn:e,order_status:n.order_status,pay_status:n.pay_status,shipping_status:n.shipping_status,rate_status:n.rate_status,has_extended:0},t.prev=8,t.next=11,Object(_t.e)("OrderStatusChangedNotification",c);case 11:t.next=15;break;case 13:t.prev=13,t.t0=t.catch(8);case 15:return t.abrupt("return",n);case 16:case"end":return t.stop()}}),t,null,[[8,13]])})))).apply(this,arguments)}return function(){var n=s()(a.a.mark((function n(r){var i,c,s,u,l,d,p,f,m;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=r.maySuccess,c=function(t){var n=t.count,r="api/aristotle/pay_check?order_sn=".concat(e,"&times=").concat(n,"&success=").concat(i?1:0);return Object(Mt.b)({method:"GET",url:r}).catch((function(e){throw e={errorCode:e.errorCode,data:(e.response||{}).data}}))},s="timeout",u=function(e){return new Promise((function(t){setTimeout(t,1e3*e)}))},l=1;case 5:if(!(l<=5)){n.next=35;break}return d=new Promise((function(e,t){setTimeout((function(){t({errorCode:s})}),9500)})),Object(ft.a)({error_message:"before_paycheck_".concat(i?"maysuccess":"mayfail","_").concat(l),payload:{event:"paycheck",order_sn:e}}),n.prev=8,location.href.includes("hutaojie.com")&&Object(ct.h)("[hutaojie]: 第"+l+"次查单"),n.next=12,Promise.race([c({count:l}),d]);case 12:if(n.t0=n.sent,n.t0){n.next=15;break}n.t0={};case 15:if((p=n.t0).order_goods=[{event_type:p.event_type}],!(+p.pay_status==+Nt&&p.wait_time>0)){n.next=22;break}return n.next=20,u(p.wait_time);case 20:n.next=24;break;case 22:return Object(ie.d)({op:"event",event:"pay_order",sub_op:"pay_order",goods_id:t.goodsID,order_sn:e,group_order_id:p.groupOrderID,order_amount:t.orderAmount,pay_app_id:t.appID}),n.abrupt("return",o(p));case 24:n.next=32;break;case 26:throw n.prev=26,n.t1=n.catch(8),f=n.t1.errorCode,m=n.t1.data,Object(x.c)(new Error("paycheck_fail"),{error_message:"paycheck_fail_".concat(f),order_sn:e,payload:JSON.stringify(m)}),new Error({errorCode:f,data:m});case 32:l++,n.next=5;break;case 35:case"end":return n.stop()}}),n,null,[[8,26]])})));return function(e){return n.apply(this,arguments)}}()}var Bt=function(e,t){var n=Object(C.h)(location.href),r=w()(n,"last_host")||"",a=Object(C.a)({group_order_id:e.groupOrderID,order_sn:e.order_sn},yt.GroupUrl);r&&r!==location.hostname&&(a="//"+r+"/"+a);var o=t.sourceChannel,i=w()(n,"refer_page_el_sn"),c=e.eventType,s=e.bizType,u=e.groupOrderID,l=yt.genGroupPageUrl({goodsEventType:c,urlParams:{group_order_id:u,biz_type:s,source_channel:o,refer_page_el_sn:i,source_redirect:e.prepayType,order_sn:e.order_sn},addRandomSuffix:!0,useSpecDomain:!1});r&&r!==location.hostname&&(l="//"+r+"/"+l),l.length>0&&(a=l),t.forwardHideSkuSelect&&t.forwardHideSkuSelect(),yt.uniformForward(a)},Ut=function(e){e=e||{};var t="/order.html?"+Object(C.b)(e),n=w()(Object(C.h)(location.href),"last_host")||"";n&&location.hostname!==n&&(t="//"+n+t),yt.uniformForward(t)};function Vt(){return Ht.apply(this,arguments)}function Ht(){return(Ht=s()(a.a.mark((function e(){var t,n,r,o,i,c,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,o=Object(we.a)(),1!==w()(t,"orderStatus")){e.next=24;break}if(!(n.fastReturn&&Object(Se.c)(o.version,"4.48.0")>=0)){e.next=20;break}return i=Object(C.a)({group_order_id:t.groupOrderID,order_sn:t.order_sn},n.fastReturn),e.next=9,Rt();case 9:if(c=e.sent,!r.paySuccessCb){e.next=15;break}return Lt({url:i,name:"grp_lite_group_web"}),r.forwardHideSkuSelect&&r.forwardHideSkuSelect(),r.paySuccessCb({url:i}),e.abrupt("return");case 15:if(!c){e.next=20;break}return Lt({url:i,name:"grp_lite_group_web"}),r.forwardHideSkuSelect&&r.forwardHideSkuSelect(),At(c),e.abrupt("return");case 20:t.prepayType=n.prepayType,Bt(t,r),e.next=26;break;case 24:r.forwardHideSkuSelect&&r.forwardHideSkuSelect(),Ut({order_sn:t.order_sn,check_order_payed:0});case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e){var t=Object(we.a)();if(!t.isWeChatMiniProgram){var n,r=1==+(null===(n=Object(C.h)(location.href))||void 0===n?void 0:n.__force_repay_modify);(t.isNativePlatform||r)&&e.showRepayModifyPanel?e.showRepayModifyPanel():Object(ct.h)("支付未完成，请重新支付")}}function zt(e){var t=e.orderSn,n=e.error,r=e.defaultOnFailed,a=e.ocManager,o=n.errorCode,i=n.extraErrorInfo,c=(i=void 0===i?{}:i).isCheckOrderFail,s=n.errorHandling;if(!(s=void 0===s?{}:s).isErrorAlerted)return c?(a.forwardHideSkuSelect&&a.forwardHideSkuSelect(),void Ut({order_sn:t,check_order_payed:0})):void r(o);r(-1)}var Qt=n("qd0Q"),Gt=n("vBQ9"),Jt=1,Kt=2,Yt=3,Xt=4,Zt=7;function $t(e,t){var n=function(){};if(!e)return n;var r=w()(e,"type",0),a=w()(e,"param.url"),o=Object(we.a)().isWeChatMiniProgram;switch(r){case Jt:return function(){return!o&&yt.uniformForward(a)};case Kt:return function(){o?window.wx.miniProgram.navigateBack():yt.back(a)};case Yt:return function(){return!o&&yt.home()};case Xt:return function(){return!o&&yt.reload(a)};case Zt:return function(){return location.reload()};default:return n}}var en="toast",tn="nothing",nn="alert",rn="confirm";function an(e){if(e){var t=w()(e,"view_style",en),n=w()(e,"view_object.message")||"",r=w()(e,"view_object.title")||"";n||(r=r||"系统繁忙，请稍后再试");var a=function(e,t){var n=e||{},r=n.on_show,a=n.on_ok,o=n.on_cancel,i={};return i.onShow=$t(r),i.onCancel=$t(o),i.onOk=$t(a),i}(w()(e,"view_object"))||{},o=a.onOk,i=a.onCancel,c=a.onShow,s=w()(e,"view_object.ok_label")||"确定",u=w()(e,"view_object.cancel_label")||"取消",l=+w()(e,"view_object.on_close.type"),d=Object(we.a)().isWeChatMiniProgram;switch(t){case tn:break;case nn:Object(Qt.a)({title:r,text:n,onConfirm:d?void 0:o,onClose:d?void 0:o,confirmButtonLabel:d?"知道了":s});break;case rn:d?Object(Qt.a)({title:r,text:n,confirmButtonLabel:"知道了"}):Object(Gt.a)({title:r,text:n,onConfirm:o,onCancel:i,onClose:2==+l?o:i,cancelButtonLabel:u,confirmButtonLabel:s});break;default:Object(ct.h)(r,{onClose:function(){c&&c()}})}}}var on=function(e){var t=e||{},n=t.onConfirm,r=t.onClose;Object(Qt.a)(i()(i()({},e),{},{onClose:r||n}))},cn=function(e){return[pt.MultiplyDiscountEnd.code,pt.MultiplyDiscountPause.code].indexOf(e)>=0},sn=function(e){return[pt.NotInLuckyTime.code].indexOf(e)>=0},un=function(e){return[pt.NeedVerfication.code].indexOf(e)>=0},ln=function(e,t){return[pt.OutOfStock.code,pt.GroupOverflow.code].indexOf(e)>=0&&[Et.SPIKE,Et.SUPER_SPIKE].indexOf(parseInt(t,10))>=0},dn=function(e){return[pt.OutOfStock.code].indexOf(e)>=0},pn=function(e){return[pt.ItemRemoved.code,pt.GroupInvalid.code,pt.OverBuyLimit.code,pt.OrderPayed.code,pt.OverBuyVirtualGoodsLimit.code,pt.GroupOverflow.code].indexOf(e)>=0},fn=function(e){return[pt.PersonalInfoNoID.code].indexOf(e)>=0},mn=function(e){return[pt.OrderSpikeMsgError.code].indexOf(e)>=0},hn=function(e){return[pt.SpikeComing.code].indexOf(e)>=0},vn=function(e){return[+pt.WxDirectPayWxBalanceError.code,+pt.WxDirectPayCardBalanceError.code,+pt.WxDirectPayTelephoneError.code,+pt.WxDirectPayCardInvalidError.code,+pt.WxDirectPayRefusedError.code,+pt.WxDirectPayUnknownError.code].indexOf(+e)>=0},gn=function(e){return[pt.IDCardEmpty.code,pt.IDCardFake.code,pt.IDCardFailTooMuch.code].indexOf(e)>=0},yn=function(e){return[pt.GroupAutoOpenSuccess.code].indexOf(e)>=0},_n=function(e){return[1101,4000004,409,512,511].includes(+e)},bn=function(){var e=s()(a.a.mark((function e(t){var n,r,o,i,c,s,u,l,d,p,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.errorCode,r=t.data,o=t.handleUnclassifiedErrors,i=t.store,n+="",c=r&&r.error_msg||pt.getMsgFromCode(n),s=i.goodsId,u=i.goodsInfo,l=Object(we.a)(),d=l.isWeChatMiniProgram,!ln(n,u.eventType)){e.next=10;break}on({title:c,onConfirm:function(){!d&&yt.reload("spike.html")}}),e.next=76;break;case 10:if(!dn(n)){e.next=14;break}on({title:c,onConfirm:function(){!d&&yt.reload("per_similar_rec.html?goods_id=".concat(s,"&source=3"))}}),e.next=76;break;case 14:if(!pn(n)){e.next=18;break}on({title:c,onConfirm:function(){!d&&yt.home()}}),e.next=76;break;case 18:if(!cn(n)){e.next=22;break}on({title:c,onConfirm:function(){location.reload()}}),e.next=76;break;case 22:if(!sn(n)){e.next=26;break}on({title:c,onConfirm:function(){!d&&yt.reload("vns_goods_list.html?cid=checkout_expire_choujiang&_ex_src=order_checkout&_ex_sid=checkout_expire_choujiang")}}),e.next=76;break;case 26:if(!fn(n)){e.next=30;break}on({title:c,onConfirm:function(){}}),e.next=76;break;case 30:if(!yn(n)){e.next=34;break}Object(ct.h)("拼单已满"),e.next=76;break;case 34:if(!hn(n)){e.next=38;break}on({title:c,onConfirm:function(){}}),e.next=76;break;case 38:if(!vn(n)){e.next=42;break}on({title:"微信免密支付不成功",text:c,confirmButtonLabel:"知道了",onConfirm:function(){Object(ct.h)(Pt)}}),e.next=76;break;case 42:if(!un(n)){e.next=46;break}!d&&yt.uniformForward("verification.html?scene_type=25"),e.next=76;break;case 46:if(!mn(n)){e.next=50;break}r&&r.error_msg&&on({title:r.error_msg,onConfirm:function(){!d&&yt.home()}}),e.next=76;break;case 50:if(!gn(n)){e.next=54;break}Object(ct.h)(c),e.next=76;break;case 54:if(n!==pt.AvailableActivityChanged.code){e.next=58;break}on({title:c,onConfirm:function(){!d&&yt.reload()}}),e.next=76;break;case 58:if("0"!==n&&"54001"!==n){e.next=61;break}e.next=76;break;case 61:if(!o){e.next=76;break}if(!c&&parseInt(n,10)>0&&(c="系统繁忙，请稍后再试 (".concat(n,")"),Object(x.c)(new Error("order_err_unknown"),{error_message:"err_unknown_".concat(n)})),!_n(n)){e.next=75;break}if(!((p=i.cureNCov>0?i.cureNCov:200)>0)){e.next=71;break}return e.next=68,new Promise((function(e){return setTimeout(e,Math.min(p,3e3))}));case 68:return Object(mt.a)(),e.next=71,new Promise((function(e){return setTimeout(e,100)}));case 71:(f=w()(r,"error_payload"))?an(f):on({title:c}),e.next=76;break;case 75:Object(ct.h)(c);case 76:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function kn(e){var t=e.errorCode,n=e.data,r=e.handleUnclassifiedErrors,a=e.ocData;t=parseInt(t,10);var o=w()(n,"error_payload");if(!o)return bn({errorCode:t,data:n,handleUnclassifiedErrors:r,store:a});var i=w()(o,"cure_ncov"),c=w()(o,"order_path");if(i>=0&&(a.cureNCov=i),c&&(a.orderServicePath=c),4000004===t)return bn({errorCode:t,data:n,handleUnclassifiedErrors:r,store:a});an(o)}var wn=n("uf4C"),Sn=n("AV9X"),In=function(e){var t=String(e).split(".").reverse().reduce((function(e,t,n){return+e+ +t*Math.pow(100,n)}),0);return t>=48700?"after487":t>=45300?"453to486":t>=42600?"426to452":t>=4e4?"400to425":t>=35100?"351to399":t>0?"below350":0};function Cn(){var e=location.hostname;return["mobile.yangkeduo.com","m.pinduoduo.net","sc.yangkeduo.com"].includes(e)?e:"other"}var xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.groupId,n=void 0===t?"10242":t,r=e.customTags,a=e.customFields,o=void 0===a?{}:a,c=e.customLongFields,s=void 0===c?{}:c,u=wn.a.getInstance(),l=u.getPageName(),d=Object(we.a)(),p=d.version;Object(Sn.b)({groupId:n,customTags:i()({pageName:l,verNo:In(p),host:Cn(),platform:d.platform},r),customFields:o,customLongFields:s})},Pn=function(){var e=Object(we.a)();return e.statisfy&&e.statisfy("6.3.0","6.3.0","greaterThanEqual")},En=function(){var e=s()(a.a.mark((function e(t){var n,r,o,i,c,s,u,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.snapshotId,r=t.extMap,o=t.antiContent,e.next=3,Object(Mt.b)({method:Mt.a.POST,url:"api/kali/certification/living/sdk/create_process_and_validate",data:{snapshot_id:n,ext_map:r,anti_content:o}});case 3:return i=e.sent,c=i.result||{},s=c.process_id,u=c.verify_auth_token,e.prev=5,e.next=8,Object(oe.f)("JSFaceDetect","detectFaceLive",{face_app_id:"cpdd_risk_common_toxic_order",extra_info:i.result,is_auth_prompt:!0});case 8:l=e.sent,e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),e.t0.noErrorHandle=!0,e.t0;case 15:return d=l.ticket,e.next=18,Object(Mt.b)({method:Mt.a.POST,url:"api/elmar/certification/living/query",data:{process_id:s,ticket:d,verify_auth_token:u,risk_params:{anti_content:o}}});case 18:e.sent;case 19:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),On=null,Nn=null,Dn=new Promise((function(e){return Nn=e})),Tn=!1,jn=!1,An={init:function(e){return On=e},active:function(){var e,t;(null===(e=On)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.style)&&(On.current.style.visibility="hidden"),Nn(),setTimeout((function(){jn||An.stop()}),8e3),setTimeout((function(){return An.stop()}),3e4)},oneTimeTrigger:function(e){Tn||(Tn=!0,Dn.then((function(){return null==e?void 0:e()})))},stop:function(){var e,t;(null===(e=On)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.style)&&(On.current.style.visibility="")},markOrderCreated:function(){jn=!0}},Rn=An,Wn=n("M2CY"),Ln=function(e){var t,n,r,a,o=e.paymentType,i=e.hostName,c=e.userAgent;i=location.hostname,c||(c="undefined"!=typeof window&&(window.navigator.userAgent||window.navigator.vendor||window.opera)||"");var s=Object(we.a)();t=s.isNativePlatform,n=s.isWeChatPlatform,a=s.isWeChatMiniProgram,r=s.isTinyNativePlatform;var u=!!c&&!(!c.match(/phh_ios_version/i)&&!c.match(/phh_android_version/i)),l=Wn.a.get({isModuleVersion:u,hostName:i});if(o===G.a.WeChat)return t||n||r?l.AppID.WeChat:l.AppID.WeChatH5Pay;if(o===G.a.AliPay)return t||r?l.AppID.AliPay:l.AppID.AliPayWeb;if(o===G.a.QQPay)return t?l.AppID.QQ:l.AppID.QQPublicPayment||l.AppID.QQPublic;if(o===G.a.ApplePay)return l.AppID.ApplePay;if(o===G.a.AliPayDirectDebit)return l.AppID.AliPayDirectDebit;if(o===G.a.HBInstallmentPay)return l.AppID.HBInstallmentPay;if(o===G.a.UnionPay){if(t)return 42001}else{if(o===G.a.FriendPay)return l.AppID.FriendPay;if(o===G.a.HBPay)return 322;if(o===G.a.DuoDuoPay)return 97;if(o===G.a.XianYongHouFu)return"m.hutaojie.com"===i?a?119:n?118:115:a?131:n?130:122;if(o===G.a.DuoDuoPayACS)return 135;if(o===G.a.CreditCardInstallmentPay)return 45001}return l.AppID.WeChat},Mn=1,Fn=4,Bn=5,Un=6,Vn=7,Hn=10,qn=9,zn=12,Qn=13,Gn=1,Jn=2,Kn=3,Yn="_oc_",Xn="_oc_goi",Zn="force_share",$n="duoduo_type",er="award_type",tr="biz_type",nr="pid",rr="cps_sign",ar="out_group_order_id",or="original_front_env",ir="biz_tag",cr="phone_card_id",sr=1001,ur=1002,lr=1003,dr=1004,pr=1005,fr=1006,mr=1008,hr=1009,vr=1012,gr=1013,yr=1016,_r=1017,br=1019,kr=1020,wr=function(e){var t=e.userAgent,n=e.queries;return Object(we.b)(t).isWeChatPlatform&&n&&"miniprogram"===n._x_sid},Sr=function(e){var t=e.userAgent,n=e.queries,r=Object(we.b)(t).platform,a=wr({userAgent:t,queries:n}),o="qq_wallet"===w()(n,"_x_sid");if(a)return+w()(n,"front_env")||Qn;switch(r){case Se.a.WeChat:case Se.a.WxApp:return Un;case Se.a.PddAndroid:return Bn;case Se.a.PddIOS:return Fn;case Se.a.QQ:return o?qn:Vn;case Se.a.Weibo:return Hn;case Se.a.PDDTinyAndorid:return zn}return Mn};function Ir(e){return{1:"/api/morgan/confirm/render/spike",2:"/api/morgan/confirm/render/pr_spike"}[e]}function Cr(e,t){return e[t]||e[Yn+t]}var xr=function(e,t){var n=Object(we.b)(t),r=Object(Se.c)(n.version,"4.2.0")>=0,a=e[Xn],o=e.group_order_id,i=Cr(e,Zn)||0,c=a?0:e[Yn+er],s=e[Yn+tr]||0,u=e[Yn+nr]||"",l=e[Yn+rr]||"",d=e[Yn+ar]||"",p=e[Yn+or],f=e[Yn+ir],m=parseInt(Cr(e,$n)||0,10),h=!n.isNativePlatform||r?!!o&&o===a:!!o,v={};switch(m){case Gn:o||(m=0);break;case Jn:case Kn:break;default:m=0}return h&&(v[Zn]=i),v[$n]=m,v[er]=c,v[tr]=s,v[nr]=u,v[rr]=l,v[ar]=d,v[or]=p,f&&(v[ir]=f),v},Pr=function(e){var t={};if(!e)return t;var n=new RegExp(Yn);for(var r in e){if(r.startsWith(Yn))t[r.replace(n,"")]=e[r]}var a=e[cr];return a&&(t[cr]=a),t},Er=function(e){var t=e.userAgent,n=e.hostname,r=e.queries,a=[],o={},i=wr({userAgent:t,queries:r});for(var c in G.a)if(!["AliPayV2","UnionPay"].includes(c)){var s=G.a[c],u=Ln({paymentType:s,userAgent:t,hostName:n});"WeChat"===c&&i&&(u=+w()(r,"pay_app_id")||317),a.includes(u)||(a.push(u),o[u]=s)}return o};function Or(e){if(e&&e.pdd_native_preload2)try{var t,n=JSON.parse(e.pdd_native_preload2)||{},r=n.am_app_che_alipays,a=n.am_app_che_applepay,o=n.last_payment_type2,i=n.qqUninstall,c=!0,s=!1,u=null;return r&&(t={is_install_alipay:(c=1===parseInt(JSON.parse(r).has_installed))?"1":"0"}),a&&(s=1===parseInt(JSON.parse(a).has_installed)),o&&(u=parseInt(JSON.parse(o))),{lastPaymentType:u,applePayInstalled:s,alipayInstalled:c,payExtendMap:t,qqUninstall:i}}catch(e){Object(x.c)(new Error("nativeExtra parsing error"))}return null}var Nr=function(e,t){var n={},r=e[nr],a=e[rr],o=e[ar],i=e[ir];return r&&(n.DUO_DUO_PID=r),a&&(n.cps_sign=a),o&&(n.out_group_order_id=o),i&&(n.biz_tag=i),t&&Object.assign(n,t),0===Object.keys(n||{}).length?null:n};function Dr(){var e=Object(we.a)(),t=e.isNativePlatform,n=e.isPureWeChatPlatform,r={prom:["gp","rpchs","brandvip","jsfdpd","agbc","rlc","mpp","gbc","uupc"],fulf:["ct"]};return xa.getInstance().usePayPromotion&&r.prom.push("mpl"),(t||n)&&(r.pay=["wxc","ci","cicn"]),r}function Tr(){for(var e=[],t=0;t<arguments.length;t++){var n=parseInt(arguments[t],10)||0;n>0&&e.push(n)}return e.length?Math.min.apply(Math,e):1}var jr=function(e){return e?{styleType:e.style_type,fontColor:e.font_color,fontSize:e.font_size,bgColor:e.bg_color,dropdownType:e.dropdown_type}:null},Ar=function(e){if(!e)return{platformPromotion:null,tradeInInfo:null};var t=e.platform_promotion_consult_vos&&e.platform_promotion_consult_vos.find((function(e){return!w()(e,"extra_display_map.trade_in_info")})),n=e.platform_promotion_consult_vos&&e.platform_promotion_consult_vos.find((function(e){return w()(e,"extra_display_map.trade_in_info")})),r=null;return t?r={promotionUniqueNo:t.promotion_unique_no,promotionIdentityVo:t.promotion_identity_vo,discount:t.discount,notUse:e.not_use,category:e.category_name,displayName:e.display_name,promotionStatus:parseInt(t.promotion_status||0,10)}:e.not_use&&(r={notUse:e.not_use,category:e.category_name,displayName:e.display_name,promotionStatus:bt}),{platformPromotion:r,tradeInInfo:n?Wr(w()(n,"extra_display_map.trade_in_info")):null,tradeInInfoPromotion:n}},Rr=function(e){if(e)return e.map((function(e){if(e)return{labelType:w()(e,"extension_map.label_type"),tagType:e.tag_type,tagDisplayVo:w()(e,"tag_display_vo.display_items")}}))};function Wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e;if("object"===Fe()(e)&&null!==e)if(e instanceof Array)for(var r in n=[],e)n[r]=Wr(e[r],t);else for(var a in n={},e){var o=a.includes("_")?Ue()(a):a;t.includes(a)?n[o]=e[a]:n[o]=Wr(e[a],t)}return n}var Lr=function(e){return e?{orderPrice:e.order_price||null,payPrice:e.pay_price||0,payTitle:e.pay_title||"实付款",payContent:e.pay_content||"",couponPrice:e.coupon_price||0}:{orderPrice:0,payPrice:0,payTitle:"实付款",payContent:"",couponPrice:0}};var Mr={processCellStyle:jr,processGoodsInfo:function(e,t,n,r,a){var o,i,c,s=e.goods_type,u=e.event_type,l=e.need_account,d=function(e){if(!e)return null;var t=w()(e,"css_vo.font_color");return{text:e.title,font_size:e.font_size,font_color:t}};return{name:e.goods_name,goodsId:e.goods_id,beforeNameIcon:e.goods_before_name_icon,beforeNameIconHeight:e.goods_before_name_icon_height,beforeNameIconWidth:e.goods_before_name_icon_width,allowedRegion:(e.allowed_region||[]).join(","),costProvinceCodes:e.cost_province_codes,isCustoms:e.is_customs,goodsType:s,communityGroupBuying:e.community_group_buying,eventType:u,mallId:e.mall_id,costTemplateId:e.cost_template_id,catId:e.cat_id,catId1:e.cat_id1,catId2:e.cat_id2,catId3:e.cat_id3,catId4:e.cat_id4,stockContent:e.stock_content,stockColor:e.stock_color,stockBackground:e.stock_background,goodsNumber:e.goods_number,isInstallment:e.huabei_status||0,goodsLabels:(c=e.labels||[],c.map((function(e){var t=e.css_vo||{};return{type:e.type,title:e.title,content:e.content,clickType:e.click_type||0,fontColor:t.font_color,fontSize:t.font_size}}))),groupId:t.group_id,customerNum:t.customer_num,buyLimit:t.buy_limit,startTime:t.start_time,thumbUrl:n.thumb_url||"",specs:Array.isArray(n.spec)?n.spec:[],specifications:Array.isArray(n.specifications)?n.specifications:[],skuId:n.sku_id,normalPrice:Object(Q.c)(n.normal_price),normalPriceForCent:n.normal_price,groupPrice:Object(Q.c)(n.group_price),groupPriceForCent:n.group_price,weight:n.weight,wareId:parseInt(n.ware_id,10)?n.ware_id:"",activityId:e.activity_id,activityType:e.activity_type,unitPriceForCent:e.unit_price,unitPrice:Object(Q.c)(e.unit_price),unitPriceDisplay:e.goods_unit_labels&&[d(e.goods_unit_labels)],totalPrice:Object(Q.c)(e.goods_number*e.unit_price),totalPriceDisplay:null===(o=e.goods_amount_labels)||void 0===o?void 0:o.map(d),needId:!!a,quantity:n.quantity,limitStatus:e.limit_status,limitQuantity:Tr(t.order_limit,e.limit_number,n.quantity),limitMessage:e.limit_message,limitNumber:e.limit_number,leastNumber:t.least_number||1,leastQuantity:t.least_number||1,isDepositInflateGoods:e.step_status,isDepositOfHouse:e.deposit_of_house,isSpikeGoods:u===Et.SPIKE,isCompensationGoods:s===Ot.COMPENSATION,isDepositeGoods:u===Et.DEPOSITE_GROUP,isMultiplyGoodsDiscount:u===Et.MULTIPLY_GOODS_DISCOUNT,isThreeForTwo:u===Et.GET_EXTRA_FOR_FREE,isVirtualGoods:function(e,t,n){return!!n||(t||[Ot.MOBILE_DATA,Ot.MOBILE_FARE,Ot.QQ,Ot.GAS_CARD].indexOf(parseInt(e,10))>=0)}(s,l,r),isVirtualReceiveGoods:!!r,isMobile:(i=s,[Ot.MOBILE_DATA,Ot.MOBILE_FARE].indexOf(parseInt(i,10))>=0),isGasNumber:s===Ot.GAS_CARD,isQQNumber:s===Ot.QQ,isPhoneNumCard:e.is_phone_num_card,needAccount:l,accountBits:e.account_types,overseaType:e.oversea_type||0}},processStepInfo:function(e){return e?{depositPrice:parseInt(e.deposit_price,10)||0,depositLeftTitle:e.deposit_left_title,depositMiddleDesc:e.deposit_middle_desc,depositRightTitle:e.deposit_right_title,inflatePrice:parseInt(e.inflate_price,10)||0,stepPrice:parseInt(e.step_price,10)||0,stepLeftTitle:e.step_left_title,stepMiddleDesc:e.step_middle_desc,stepRightTitle:e.step_right_title,stepPayStartTime:e.step_pay_start_time}:null},processAddressInfo:function(e){if(!e)return{addressId:0,addressSnapshotId:0,name:"",province:"",city:"",district:"",address:"",mobile:"",provinceId:"",isGoodsSoldHere:!1,addressLabels:[],addressGiftStatus:0};var t=function(e){return(e||[]).map((function(e){if(e&&e.title){var t=e.css_vo||{};return{title:e.title,fontColor:t.font_color,fontSize:t.font_size}}}))};return{addressId:e.address_id||0,addressSnapshotId:e.address_snapshot_id_str||0,name:e.name||"",province:e.province||"",city:e.city||"",cityId:e.city_id||"",district:e.district||"",districtId:e.district_id||"",address:e.address||"",mobile:e.mobile||"",provinceId:e.province_id||"",isGoodsSoldHere:e.is_goods_sold_here||!1,addressLabels:t(e.labels)||[],unpayAddressLabels:t(e.unpay_labels)||[],addressGiftStatus:parseInt(e.address_gift_status,10)||0}},processVirtualReceiveMethodVO:function(e){return e?{type:e.type,isMobile:["USER_CONTACT_MOBILE","USER_CHARGE_MOBILE"].includes(e.auto_complete_type),label:e.label,autoCompleteType:e.auto_complete_type,placeholder:e.placeholder,value:e.value,orderKey:e.order_key,icon:e.icon,validateRules:e.validate_rules,validateFailedText:e.validate_failed_text,verifyAccountTypes:e.verify_account_types}:null},processMallInfo:function(e){if(!e)return null;var t=(e.labels||[]).filter((function(e){return!!e})).map((function(e){return{height:e.label_height,width:e.label_width,url:e.label_url}}));return{id:e.id,name:e.name||"",logo:e.logo||"",mallOrderPrice:e.mall_order_price||null,canCompensate:e.can_compensate||!1,labels:t}},processInstallmentList:function(e){var t=[];return e&&e[0]&&e[0].term_list&&e[0].term_list.map((function(e){t.push({term:e.term,commissionType:e.commission_type,rate:e.rate,termPrice:e.term_price,defaultSelected:e.default_selected})})),t},processPriceInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{orderPrice:e,mallPromotionPrice:t,platformPromotionPrice:n}},processIdCardInfo:function(e){return e?{idCardName:e.id_card_name,idCardNo:e.id_card_no,idCardType:e.id_card_type,snapshotId:e.card_snapshot_id,drugInfoSnapshotId:e.epidemic_drug_info_snapshot_id,isDrugInfo:1==+e.id_card_type,authTitle:e.auth_title,authTip:e.auth_tip,authMainTitleTip:e.auth_main_title_tip,authTipColor:e.auth_tip_color,authTitleTip:e.auth_title_tip,authNameTip:e.auth_name_tip,authIdTip:e.auth_id_tip,extendMap:e.extend_map,sceneCode:e.scene_code,hideEditBtn:e.hide_edit_btn,hideEditBtnAfterOrder:e.hide_edit_btn_after_order,skipVerify:e.skip_verify,isFaceCert:e.is_face_cert,isFaceGoods:e.is_face_goods}:null},processPromotionInfo:function(e){var t,n,r,a=null,o=null;if(!e)return{shopPromotion:o,platformPromotion:a};var i,c,s=e.deposit_coupon_vo,u=e.platform_promotions_consult_vo,l=e.platform_promotion_vo,d=w()(e,"total_discount_display_vo.display_items"),p=w()(e,"total_discount_extra_display_vo.display_items"),f=(i=w()(e,"total_promotions_consult_vo"))?{clickable:w()(i,"clickable"),categoryName:w()(i,"category_name"),categoryDisplay:w()(i,"category_display_vo.display_items"),discountPayChannel:w()(i,"discount_pay_channel"),discountPayCategoryDisplay:w()(i,"discount_pay_category_display_vo.display_items"),floatTitleDisplay:w()(i,"float_title_display_vo.display_items"),floatCategoryDisplay:w()(i,"float_category_display_vo.display_items"),defaultCategoryDisplay:w()(i,"default_category_display_vo.display_items"),retrievePromotion:w()(i,"retrieve_promotion_vo"),switchPaymentMethodToast:w()(i,"switch_payment_method_toast_display_vo.display_items[0].text"),purchase_method_items:null==i?void 0:i.purchase_method_items,platformRetrievePromotion:w()(i,"platform_retrieve_promotion_vo")}:null,m=!!w()(e,"discount_tag_display_vos"),h=Rr(w()(e,"discount_tag_display_vos")),v=w()(e,"total_promotions_consult_vo.optional_shop_promotion_consult_vo"),g=w()(v,"enable_merchant_promotion_option"),y=w()(v,"merchant_optional_promotion_price"),_=w()(v,"optional_shops_promotions_vos.0"),b=w()(v,"optional_clickable"),k=w()(e,"total_promotions_consult_vo.clickable"),S=null==e?void 0:e.disable_morgan_promotion_list,I=_?{mallId:w()(_,"mall_id"),promotionStatus:w()(_,"promotion_status"),displayName:w()(_,"display_name.display_items"),category_name:w()(_,"category_name"),batchSn:w()(_,"shop_promotion_consult_vos.0.promotion_identity_vo.extension.batch_sn")}:null;a=((c=l)?{promotionUniqueNo:c.promotion_unique_no,promotionIdentityVo:c.promotion_identity_vo,discount:c.discount,notUse:c.not_use,category:c.category_name,displayName:c.display_name,cellStyle:jr(c.cell_style),promotionStatus:parseInt(c.promotion_status||0,10),extension:c.extension}:null)||Ar(u).platformPromotion,o=w()(e,"shop_promotion_vos.0")?{mallId:w()(e,"shop_promotion_vos.0.mall_id"),notUse:w()(e,"shop_promotion_vos.0.not_use"),promotionStatus:w()(e,"shop_promotion_vos.0.promotion_status"),displayName:w()(e,"shop_promotion_vos.0.display_name.display_items"),categoryName:w()(e,"shop_promotion_vos.0.category_name"),dropdownType:w()(e,"shop_promotion_vos.0.dropdown_type"),promotionUniqueNo:w()(e,"shop_promotion_vos.0.shop_promotion_consult_vos.0.promotion_unique_no"),promotionIdentityVo:w()(e,"shop_promotion_vos.0.shop_promotion_consult_vos.0.promotion_identity_vo")}:null,n=w()(f,"retrievePromotion")?{promotionUniqueNo:w()(f,"retrievePromotion.promotion_unique_no"),promotionIdentityVo:w()(f,"retrievePromotion.promotion_identity_vo"),mallId:w()(f,"retrievePromotion.mall_id"),discount:w()(f,"retrievePromotion.discount"),promotionStatus:w()(f,"retrievePromotion.promotion_status")}:null,r=w()(f,"platformRetrievePromotion")?{promotionUniqueNo:w()(f,"platformRetrievePromotion.promotion_unique_no"),promotionIdentityVo:w()(f,"platformRetrievePromotion.promotion_identity_vo"),mallId:w()(f,"platformRetrievePromotion.mall_id"),promotionStatus:w()(f,"platformRetrievePromotion.promotion_status")}:null,t=s?{eventId:s.event_id}:null;var C=e.goods_promotions_vos,x=!q()(C)&&C.reduce((function(e,t){var n=!q()(t.goods_promotion_consult_vos)&&t.goods_promotion_consult_vos.reduce((function(e,t){return e.concat(t.promotion_identity_vo)}),[]);if(n)return e.concat(n)}),[]),P=Wr(w()(e,"platform_promotion_vo.extra_display_map.trade_in_info"))||Ar(u).tradeInInfo;return{platformPromotion:a,platformPromotionVoList:u,tradeInInfoPromotion:Ar(u).tradeInInfoPromotion,shopPromotion:o,retrievePromotion:n,platformRetrievePromotion:r,totalDiscountDisplay:d,afterCouponUnitPriceDisplay:p,depositCoupon:t,totalPromotionClickable:k,totalPromotionsConsult:f,enablePromotionOption:g,optionalPromotionPrice:y,optionalClickable:b,optionalShopsPromotion:I,goodsPromotionList:x,tradeInInfo:P,isNewPriceArea:m,disableMorganPromotionList:S,discountTagDisplayVos:h}},processShippingInfo:function(e){return e?{title:e.title||"",cost:e.shipping_price||0,shippingPrice:Object(Q.c)(e.shipping_price)}:{title:"",cost:0,shippingPrice:"0"}},processAdditionalShipping:function(e){return e?{additionalSrvItems:e.additional_srv_items||[]}:{additionalSrvItems:[]}},processPayInfo:function(e){if(!e||!e.pay_channel_list)return[];var t={},n=[];return e.pay_channel_list.filter((function(e){return F.has(e.channel)})).forEach((function(e){var r,a,o,i,c=e.sub_pay_content_vo||{},s=c.css_vo||{},u=e.pay_content_vo||{},l=u.css_vo||{},d=Wr(e.credit_installment_extra_data_vo,["extra","sku_pay_description"]);t[e.channel]?t[e.channel].appIds.push(e.app_id):(t[e.channel]={channelName:e.channel,allPay:e.all_pay,rank:e.rank,name:e.pay_content||u.content,icon:w()(e,"pay_content_vo.icon"),nameStyle:{fontColor:l.font_color,fontSize:l.font_size},hint:c.content||e.pay_sub_content,hintIcon:c.icon,hintStyle:{fontColor:s.font_color,fontSize:s.font_size},payIconContent:Object(Q.e)(null==e?void 0:e.pay_icon_content),appIds:[e.app_id],display:e.display,disabled:!e.enable,disableContent:null==e||null===(r=e.disable_content_vo)||void 0===r?void 0:r.content,navToApp:e.nav_to_app,signed:e.signed,payscoreSignStatus:null==e||null===(a=e.ext_info)||void 0===a?void 0:a.payscore_sign_status,toastStressOnFreePay:null==e||null===(o=e.ext_info)||void 0===o?void 0:o.toast_stress_on_free_pay,duoduoPromotionId:null==e||null===(i=e.ext_info)||void 0===i?void 0:i.duoduo_promotion_id,selected:!1,expanding:e.expanding,defaultSelected:e.default_selected,payButtonContent:e.pay_button_content,skuPayDescription:e.sku_pay_description,extInfo:e.ext_info,orderVo:e.order_vo&&Lr(e.order_vo),creditCardVo:d},n.push(t[e.channel]))})),n},processPayChannelGroups:function(e){return(null==e?void 0:e.length)>0?Wr(e):null},processOrderInfo:Lr,processDeliveryInfo:function(e){if(!e)return null;var t={clickType:e.click_type,displayContent:e.display_content,displayTitle:e.display_title,srvShortTag:e.srv_short_tag};return t.templateList=(e.template_result_list||[]).map((function(e){return(e=e||[]).selected&&(t.selectedServiceTransparentField=e.service_transparent_field),{srvCopyWrite:e.srv_copy_write,selected:e.selected,srvShortTag:e.srv_short_tag,serviceTransparentField:e.service_transparent_field}})),t},processCellBarVo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=w()(e,"protocol_title")||"",n=w()(e,"protocol_url")||"",r=w()(e,"protocol_v2")||null;return!r&&t&&n&&(r=[{color:"#9C9C9C",title:"同意",url:null},{color:"#58595B",title:"《".concat(t,"》"),url:n}]),{title:w()(e,"title")||"",content:w()(e,"content")||"",richContents:w()(e,"rich_contents")||null,unSelectedText:w()(e,"un_selected_text")||"",protocolTitle:t,protocolUrl:n,protocolV2:r}},processFastReturn:function(e){if(1==+w()(e,"fast_return"))return w()(e,"fast_return_url")||"grp_lite_group.html"},processShipAdditionalVo:function(e){return e?{hasShipmentStripe:!(!e.content||!e.title),content:e.content,title:e.title,switchStatus:e.switch_status}:{hasShipmentStripe:!1}},processRetainWindowExtend:function(e){if(e)return{displayType:(e=e||{}).display_type,extendType:e.retain_window_extend_type,contents:e.contents,pictures:w()(e,"pictures.picture_url")||[],picWidth:w()(e,"pictures.width")||0,picHeight:w()(e,"pictures.height")||0}},processShopFavCouponPop:function(e){if(e)return{optimalPpayText:w()(e,"optimal_pay_text"),subOptimalPayText:w()(e,"sub_optimal_pay_text")}},processConcentratedTransportationVo:function(e){var t;if(!e)return null;var n=e.conso_service_provider_info,r=e.conso_service_provider_info_list,a=void 0===r?[]:r,o=n||{},i=o.conso_shipping_type,c=o.conso_model,s=o.conso_provider_code,u=o.conso_warehouse_code;return{consoShippingType:i,consoModel:c,consoProviderCode:s,consoProviderName:o.conso_provider_name,transportCellInfo:null==n||null===(t=n.extension)||void 0===t?void 0:t.confirm_page_order_describe_info,consoServiceProviderInfoList:a,concentratedTransportationSelectedRequest:{conso_shipping_type:i,conso_model:c,conso_provider_code:s,conso_warehouse_code:u}}},processAddressTipVo:function(e){return Wr(e)}},Fr=function(){var e=s()(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.a)();case 2:return r=e.sent,t.anti_content=r,e.abrupt("return",Object(Mt.b)({method:Mt.a.POST,url:n||"api/morgan-quick/confirm/render",data:t}).then((function(e){var t,n,r,a;e=e||{};var o=Object(Q.c)(w()(e,"option_map.mass_subsidy"));return{serverTime:e.server_time,addressInfo:Mr.processAddressInfo(e.address_vo),addressTipVo:Mr.processAddressTipVo(e.address_tip_vo),goodsInfo:Object.assign(Mr.processGoodsInfo(e.goods_vo,e.group_vo,e.sku_vo,e.virtual_receive_method_vo,e.id_card_vo),{massSubsidy:o}),stepInfo:Mr.processStepInfo(e.step_vo),idCardInfo:Mr.processIdCardInfo(e.id_card_vo),mallInfo:Mr.processMallInfo(e.mall_vo),installmentList:Mr.processInstallmentList(e.installment_list),promotionInfo:Mr.processPromotionInfo(e.promotion_vo),shippingInfo:Mr.processShippingInfo(e.shipping_vo),additionalShippingInfo:Mr.processAdditionalShipping(e.additional_display_vo),priceInfo:Mr.processPriceInfo(e.order_price,e.merchant_promotion_price,e.platform_promotion_price),payChannelList:Mr.processPayInfo(e.pay_vo),payChannelGroups:Mr.processPayChannelGroups(e.pay_vo.group_status_list),payTicket:w()(e,"pay_vo.pay_ticket"),piccImageUrl:e.pay_vo&&e.pay_vo.picc_image_url,repayModifyCountdown:1e3*+e.payment_effective_time,orderInfo:Mr.processOrderInfo(e.order_vo),orderVo:Mr.processOrderInfo(e.order_vo),deliveryInfo:Mr.processDeliveryInfo(e.service_vo),returnDialogVo:e.return_dialog_vo||null,finalPayVo:e.credit_score_final_pay_dialog_vo||null,morganDisableBackEvent:+w()(e,"option_map.disable_back_popup")||0,attrMap:(e.pay_vo||{}).attr_map,orderAmount:e.pay_price,orderServicePath:e.order_service_path||"",confirmMessage:e.confirm_message,extendMap:e.extend_map,promotionExtendMap:e.promotion_extend_map,addressRenderExtendMap:e.address_render_extend_map,fastReturn:Mr.processFastReturn(w()(e,"option_map")),noAddressDialogTitle:w()(e,"option_map.render_no_address_dialog_title",null),noAddressAutoPopup:w()(e,"option_map.render_no_address",null),orderRefresh:1===parseInt(w()(e,"option_map.order_refresh"),10),cureNCov:parseInt(w()(e,"option_map.cure_ncov"),10),addrGiftEntryStatus:parseInt(w()(e,"option_map.addr_list_show_gift_entry_status"),10),receiveMethodNone:w()(e,"option_map.receive_method_none"),comparePromotionRequest:1==+(null===(t=e)||void 0===t||null===(n=t.option_map)||void 0===n?void 0:n.compare_promotion_request),mpuQuickOrderCheck:null===(r=e)||void 0===r||null===(a=r.option_map)||void 0===a?void 0:a.mpu_quick_order_check,cellBarVo:Mr.processCellBarVo(e.cell_bar_vo),shipAdditionalVo:Mr.processShipAdditionalVo(e.ship_additional_vo),qiongqiVo:e.qiongqi_vo,retainWindowVo:Mr.processRetainWindowExtend(e.retain_window_extend_vo),virtualReceiveMethodInfo:Mr.processVirtualReceiveMethodVO(e.virtual_receive_method_vo),shopFavCouponPop:Mr.processShopFavCouponPop(e.shop_fav_coupon_pop_window),concentratedTransportationInfo:Mr.processConcentratedTransportationVo(e.concentrated_transportation_vo),skuPanelStatus:w()(e,"sku_panel_status"),transferMap:w()(e,"transfer_map")}})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Br=function(){var e=s()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Mt.b)({method:Mt.a.POST,url:"api/morgan/order/refresh",data:t,useNativeAntiToken:!0}).then((function(e){return{payChannelList:Mr.processPayInfo(e.pay_vo),confirmMessage:e.confirm_message}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ur=n("ZKQX"),Vr=null;function Hr(){return(Hr=s()(a.a.mark((function e(t){var r,o,i,c,s,u,l,d,p,f,m,h,v,g,y,_,b,k;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.mallId,o=t.goodsId,i=t.skuId,c=t.sourceType,s=t.discount,u=t.onClose,l=t.onSuccess,d=t.onNormalPay,p=t.orderAmount,f=t.isMassSubsidy,m=t.isOldForNew,h=t.showBeforePay,v=t.currentPaymentType,e.prev=1,g=null,e.next=5,n.e(9).then(n.bind(null,"p1wd")).then((function(e){return e.default}));case 5:y=e.sent,_=function(){var e;null===(e=g)||void 0===e||e(),null==u||u()},b=function(e){var t,n=e.liteContractCode;Vr=n,null===(t=g)||void 0===t||t(),null==l||l(),xn({customTags:{event:"take_coupon_quick_lite_contract"},groupId:"10584"});var r=null;h?m?r="手机号验证成功":f||(r="验证成功，已减".concat(s,"元")):r="验证并领取成功",r&&Object(J.a)(r)},k=function(){var e;null===(e=g)||void 0===e||e(),null==d||d()},g=Object(Ur.a)(I.a.createElement(y,{mallId:r,goodsId:o,skuId:i,sourceType:c,discount:s,onClose:_,onSuccess:b,onNormalPay:k,orderAmount:p,isMassSubsidy:f,isOldForNew:m,showBeforePay:h,currentPaymentType:v})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),null==u||u();case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var qr,zr=!0,Qr={showPopup:function(e){return Hr.apply(this,arguments)},get liteContractCode(){return Vr},get blockPay(){return!this.liteContractCode&&zr},disableBlockPay:function(){zr=!1},resetBlockPay:function(){zr=!0},reset:function(){zr=!0,Vr=null}},Gr=n("gKdT"),Jr=n.n(Gr),Kr=(qr=function(){function e(){return l()(this,e),this.$mobileNumberInput=void 0,this.mobileNumber="",this.mobileOwner="",e.instance||(e.instance=this),e.instance}return p()(e,[{key:"doInputBlur",value:function(){this.$mobileNumberInput&&this.$mobileNumberInput.blur()}},{key:"doInputFocus",value:function(){this.$mobileNumberInput&&this.$mobileNumberInput.focus()}},{key:"updateMobileInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.mobileNumber=("".concat(e)||"").trim(),this.mobileOwner=t}}],[{key:"getInstance",value:function(){return this.instance?this.instance:this.instance=new e}}]),e}(),ot()(qr.prototype,"doInputBlur",[Jr.a],Object.getOwnPropertyDescriptor(qr.prototype,"doInputBlur"),qr.prototype),ot()(qr.prototype,"doInputFocus",[Jr.a],Object.getOwnPropertyDescriptor(qr.prototype,"doInputFocus"),qr.prototype),ot()(qr.prototype,"updateMobileInfo",[Jr.a],Object.getOwnPropertyDescriptor(qr.prototype,"updateMobileInfo"),qr.prototype),qr),Yr=Kr.getInstance(),Xr=wn.a.getInstance(),Zr=function(e){var t=e.ocData.selectedChannel;if((t&&t.paymentType)===G.a.CreditCardInstallmentPay&&!w()(t,"creditCardVo.recommendCardVo.bindId"))return{success:!1,errMsg:"请添加分期信用卡",shouldShowPaymentList:!0};return{success:!0}},$r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ocData,n=void 0===t?{}:t,r=e.ocManager,a=n.selectedChannel,o=a&&a.paymentType,i=n.goodsInfo,c=n.addressInfo,s=n.idCardInfo,u=n.virtualReceiveMethodInfo,l=n.receiveMethodNone,d=n.cellBarVo,p=d||{},f=p.protocolV2,m=p.unSelectedText;if(f&&!r.isSelectedAgreement)return{errMsg:m||"请先同意协议"};if(!l&&!i.isVirtualGoods&&parseInt(c.addressId||0)<=0&&!c.addressGiftStatus)return r.showEditAddress&&r.showEditAddress(),!1;if(!o)return{errMsg:"操作太快，请重试"};var h="";if(u){if(!(h=Yr.mobileNumber))return{errMsg:"请输入账号"};var v=u.validateRules,g=u.validateFailedText;if(v&&v.length>0){var y=function(){return v.some((function(e){return new RegExp(e).test(h)}))};if(!y()&&g)return{errMsg:g}}}var _=i.needId&&s&&!s.isDrugInfo&&(!s||!s.idCardNo||!s.idCardName)&&!s.skipVerify&&(![3,4].includes(+i.goodsType)||o!==G.a.FriendPay),b=s&&s.isDrugInfo&&!s.drugInfoSnapshotId;return _?(r.showIdcardForm&&r.showIdcardForm(),!1):b?(r.showPurchaseInfo&&r.showPurchaseInfo(),!1):s&&s.isDrugInfo&&!s.isTemperatureSaved?(r.showTemperaturePicker&&r.showTemperaturePicker(),!1):{success:!0}},ea=function(){var e=s()(a.a.mark((function e(t){var n,r,o,c,s,u,l,d,p,f,m,h,v,g,y,_,b,k,S,I,C,x,P,E,O,N,D,T,j,A,R,W,L,M,F,B,U,V,H,z,K,Y,X,Z,$,ee,te,ne,re,ae,ie,ce,se,ue,le,de,pe,fe,me,he,ve,ge,ye,_e,be,ke,Se;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.ocData,u=void 0===s?{}:s,l=t.groupType,d=t.orderExtraType,p=t.groupOrderId,f=void 0===p?null:p,m=t.activityParams,h=void 0===m?{}:m,v=t.ocManager,g=u.selectedChannel,y=g&&g.paymentType,_=u.goodsInfo,b=u.addressInfo,k=u.idCardInfo,S=u.promotionInfo,I=u.extendMap,C=u.installmentList,x=u.virtualReceiveMethodInfo,P=_.goodsId,E=function(e,t){kn({errorCode:e,data:t||{},handleUnclassifiedErrors:!0,ocData:u})},O=null,N="",D="",x&&(D=Yr.mobileNumber,N=Yr.mobileOwner||""),T=_.goodsNumber,j=Object(we.a)(),A=(null==u||null===(n=u.promotionInfo)||void 0===n||null===(r=n.totalPromotionsConsult)||void 0===r?void 0:r.purchase_method_items)||[],R=A.find((function(e){return 1===e.purchase_type&&e.is_selected})),W=null==u||null===(o=u.promotionInfo)||void 0===o?void 0:o.retrievePromotion,L=(null==W||null===(c=W.promotionIdentityVo)||void 0===c?void 0:c.extension)||{},M=L.source_type,!(+(F=L.is_mass_subsidy)&&R&&(null==W?void 0:W.promotionStatus)===Ct&&Qr.blockPay)){e.next=19;break}return Qr.showPopup(i()(i()({onClose:function(){return null},onSuccess:function(){+(F||0)?v.pay():v.refresh({front_action:pr})},onNormalPay:function(){Qr.disableBlockPay(),v.pay()},sourceType:M},null==u?void 0:u.goodsInfo),{},{discount:Object(Q.c)(null==W?void 0:W.discount),showBeforePay:!0,currentPaymentType:y,isMassSubsidy:+(F||0),orderAmount:Object(Q.c)(v.activeOrderAmount({ignoreXyhf:!0}))})),e.abrupt("return");case 19:return e.next=21,Object(ht.a)();case 21:if(B=e.sent,U={address_id:b.addressId,address_snapshot_id:b.addressSnapshotId,goods:[{sku_id:_.skuId,sku_number:T,goods_id:P}],group_id:_.groupId.toString(),anti_content:B,pay_app_id:Ln({paymentType:y}),is_app:j.isNativePlatform||j.isTinyNativePlatform?"1":"0",version:1,page_id:Xr.getPageID()},v.pageFrom&&(U.page_from=v.pageFrom),y===G.a.HBInstallmentPay&&(V=C.findIndex((function(e){return e.defaultSelected})),H=V>=0?V:0,z=g.termIndex||H,O=C[z].term,U.term=O),y!==G.a.CreditCardInstallmentPay){e.next=56;break}if(g.creditCardVo){e.next=29;break}return Object(J.a)("当前支付方式暂不可用，请更换其他支付方式"),e.abrupt("return");case 29:if(K=w()(g,"creditCardVo.recommendCardVo.bindId")){e.next=44;break}return Y=w()(g,"creditCardVo.extra"),e.prev=32,e.next=35,Object(oe.f)("JSDuoduoWallet","selectCreditCard",{amount:u.orderAmount,selected_bind_id:null,extra:Y});case 35:X=e.sent,Z=w()(X,"selected_card.bind_id",null),$=1==+X.result_type,v.changeBindId({selectedBindId:null,newBindId:Z,isNewlyAdded:$}),e.next=43;break;case 41:e.prev=41,e.t0=e.catch(32);case 43:return e.abrupt("return");case 44:if(ee=g.creditCardTermIndex,te=w()(g,"creditCardVo.recommendCardVo.creditInstallments")||[],ne=te.findIndex((function(e){return!!e.selected})),ee>=0||(ee=ne),ee>=0||(ee=0),re=te[ee],!((ae=re?re.installmentNum:-1)<0)){e.next=54;break}return Object(Qt.a)({title:"请选择信用卡分期期数",confirmButtonLabel:"我知道了"}),e.abrupt("return");case 54:U.term=ae,U.bindId=K;case 56:return f&&(U.group_order_id=f),ie=S.platformPromotion,ce=S.platformPromotionVoList,se=w()(S,"tradeInInfoPromotion"),ue=S.shopPromotion,le=S.goodsPromotionList,U.promotion_union_vo={},(ue&&ue.promotionStatus===bt&&!ue.notUse||ue&&ue.promotionStatus===Ct&&Qr.liteContractCode)&&(ue.promotionIdentityVo.mall_id=ue.mallId,U.promotion_union_vo.single_promotion_list=[ue.promotionIdentityVo]),ce?(ie&&ie.promotionStatus===bt&&!ie.notUse&&(U.promotion_union_vo.use_platform_promotion_list=[ie.promotionIdentityVo]),se&&se.promotion_status===bt&&(de=se.promotion_identity_vo,U.promotion_union_vo.use_platform_promotion_list?U.promotion_union_vo.use_platform_promotion_list.push(de):U.promotion_union_vo.use_platform_promotion_list=[de])):ie&&ie.promotionStatus===bt&&!ie.notUse&&(U.promotion_union_vo.use_platform_promotion_vo=ie.promotionIdentityVo),q()(le)||(U.promotion_union_vo.goods_promotion_list=le),x&&((pe=x.orderKey)&&(U[pe]=D),U.mobile_owner=N,U.address_id=0),_.activityId&&(U.activity_id=_.activityId),(fe=w()(u,"deliveryInfo.selectedServiceTransparentField"))&&(U.service_transparent_field=fe),Object.assign(U,h),U[$n]&&(U.type=U[$n],delete U[$n]),me=Nr(h,I),_.needId&&k.isDrugInfo&&(me.epidemic_drug_info_snapshot_id=k.drugInfoSnapshotId),k&&!k.isFaceCert&&k.isFaceGoods&&Pn()&&(me.id_card_snapshot_id=k.snapshotId),!me.lite_contract_code&&Qr.liteContractCode&&(me.lite_contract_code=Qr.liteContractCode),v.recordId&&(ce?(he=w()(se,"promotion_identity_vo.extension")||{},me.trade_in_evaluation_id=he.trade_in_evaluation_id):(ve=w()(u,"promotionInfo.platformPromotion.promotionIdentityVo.extension")||{},me.trade_in_evaluation_id=ve.trade_in_evaluation_id)),ge=(null==u?void 0:u.concentratedTransportationInfo)||{},ye=ge.transportCellInfo,_e=ge.concentratedTransportationSelectedRequest,ye&&(be=_e.conso_model,ke=_e.conso_provider_code,Se=_e.conso_warehouse_code,Object.assign(me,{conso_model:be,conso_provider_code:ke,conso_warehouse_code:Se})),delete U[nr],delete U[rr],delete U[ar],delete U[ir],U.attribute_fields=me,U.source_channel=v.sourceChannel,U.source_type=0,1===l?U.source_type=5:2===l?U.source_type=6:3===l&&(U.source_type=2),1==+d&&(U.source_type=7),v.sourceType&&(U.source_type=v.sourceType),e.abrupt("return",{postParams:U,ocHandleError:E});case 90:case"end":return e.stop()}}),e,null,[[32,41]])})));return function(t){return e.apply(this,arguments)}}(),ta=function(e){var t=new Promise((function(e,t){setTimeout((function(){!Object(we.a)().isNativePlatform&&t({isTimeout:!0})}),8e3)}));return Promise.race([t,e])};function na(e){return ra.apply(this,arguments)}function ra(){return(ra=s()(a.a.mark((function e(t){var n,r,o,i,c,s,u,l,d,p,f,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.params,e.prev=1,e.next=4,ta(Object(Mt.b)({method:"POST",url:n,data:r}));case 4:return o=e.sent,i=o.order_sn,c=o.fp_id,s=void 0===c?null:c,u=o.order_amount,l=o.discount_amount,d=o.prepay_url,e.abrupt("return",{order_sn:i,fp_id:s,order_amount:u,discount_amount:l,prepay_url:d});case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.isTimeout){e.next=15;break}throw e.t0;case 15:return!(p=e.t0.errorCode)&&e.t0.response&&(p=e.t0.response.status),f=e.t0.response||{},m=f.data,e.abrupt("return",Promise.reject({errorCode:p,data:m}));case 19:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var aa=wn.a.getInstance(),oa=function(){var e=s()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Mt.b)({method:"POST",url:"api/hermione/order/pay/later/status",data:{evaluation_id:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ia=function(){var e=s()(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=0,e.abrupt("return",new Promise((function(e,a){var o=function(){return r+=1,oa(t).then((function(t){t&&t.success&&t.result&&2===t.result.pay_later_order_status&&(clearInterval(n),e()),t&&t.success&&t.result&&3===t.result.pay_later_order_status&&(clearInterval(n),a())})).catch((function(e){clearInterval(n),a(e)}))};o(),n=setInterval((function(){r<=6?o():(clearInterval(n),a())}),800)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ca(e){return sa.apply(this,arguments)}function sa(){return(sa=s()(a.a.mark((function e(t){var n,r,o,i,c,s,u,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ocData,r=w()(n,"goodsInfo.skuId"),o=w()(n,"goodsInfo.mallId"),c=w()(n,"promotionInfo.platformPromotionVoList"),s=w()(n,"promotionInfo.tradeInInfoPromotion"),i=c?w()(s,"promotion_identity_vo.extension")||{}:w()(n,"promotionInfo.platformPromotion.promotionIdentityVo.extension")||{},u={page_sn:aa.getPageSN()+"",relate_goods_sku_id:r,relate_mall_id:o,evaluation_id:i.trade_in_evaluation_id,evaluation_sign:i.trade_in_evaluation_sign},e.next=9,Object(Mt.b)({method:"POST",url:"api/hermione/order/pay/later/create",data:u});case 9:return l=e.sent,d=w()(l,"result.evaluation_id"),e.next=13,ia(d);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ua,la,da,pa,fa,ma="hmt_conso_tip_count",ha="hmt_conso_tip_not_use",va=(la=s()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.getItem(t));case 1:case"end":return e.stop()}}),e)}))),ua=s()(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.setItem(t,"".concat(n)));case 1:case"end":return e.stop()}}),e)}))),{get:function(e){return s()(a.a.mark((function t(){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(oe.f)("AMStorage","get",{key:e});case 3:return n=t.sent,r=n.value,t.abrupt("return",r);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},set:function(e,t){return s()(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(oe.f)("AMStorage","set",{key:e,value:"".concat(t)});case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:case"end":return n.stop()}}),n,null,[[0,5]])})))()}}),ga=null,ya={get:(pa=s()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(e){return pa.apply(this,arguments)}),set:(da=s()(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(e,t){return da.apply(this,arguments)})},_a=!1,ba=function(){var e=s()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_a){e.next=2;break}return e.abrupt("return");case 2:return _a=!0,e.next=5,ya.get(ma);case 5:if(t=e.sent,!isNaN(+t)){e.next=9;break}return ya.set(ma,1),e.abrupt("return");case 9:+t<3&&ya.set(ma,+t+1),+t+1>=3&&ya.set(ha,1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ka=function(){var e;return ga||(Object(we.a)().isNativePlatform&&(ya=va),ga={increaseCount:ba,get:(e=s()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya.get(ha);case 2:return t=e.sent,e.abrupt("return",null!=t?t:null);case 4:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}),ga},wa=0,Sa=function(){return null},Ia={reset:function(){return wa=0},markShown:function(){wa||Object(Mt.b)({method:Mt.a.POST,url:"api/qogir/payment/client_event",data:{scene_type:"SKU_PANEL",event_type:"SHOW_DUODUO_TIPS"}}).catch((function(){return null})),wa=1},clickRecord:function(){return Object(Mt.b)({method:Mt.a.POST,url:"api/qogir/payment/client_event",data:{scene_type:"SKU_PANEL",event_type:"CLICK_DUODUO_TIPS"}}).catch((function(){return null}))},canShow:function(){return 0===wa},initForceHide:function(e){return Sa=e},forceHide:function(){var e;wa&&(null===(e=Sa)||void 0===e||e())}},Ca=wn.a.getInstance(),xa=(fa=function(){function e(){return l()(this,e),this.needReload=!1,this.frontEnv=1,this.frontVersion=9,this.activityParams=void 0,this.goodsId=void 0,this.groupType=void 0,this.orderExtraType=void 0,this.groupOrderId=void 0,this.groupId=void 0,this.isApp=void 0,this.extendMap=void 0,this.promotionExtendMap=void 0,this.appIdSet=void 0,this.appPaymentEnv=void 0,this.promotionVo=void 0,this.sourceType=void 0,this.pageFrom=void 0,this.updateOCDataFun=null,this.ocData={},this.isSelectedAgreement=!0,this.customMorganUrl=null,this.prepayUrl=null,this.autoErrSamping=null,this.morganType=null,this.morganRequestId=0,this.recordId=void 0,this.addressId=void 0,this.selectServiceItemIdList=void 0,this.isInstallInfoInit=!1,this.installInfoInPayExtendMap=void 0,e.instance||(e.instance=this),e.instance}var t,n,r,o,c,u,d,f,m,h,v;return p()(e,[{key:"activeOrderAmount",value:function(){var e,t,n,r,a,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=i.ignoreXyhf,s=this.ocData,u=s.orderVo,l=null==s||null===(e=s.selectedChannel)||void 0===e?void 0:e.orderVo;l&&(u=l);var d=null==s||null===(t=s.selectedChannel)||void 0===t||null===(n=t.creditCardVo)||void 0===n||null===(r=n.recommendCardVo)||void 0===r?void 0:r.creditInstallments;if(d&&this.creditCardTermIndex>=0){var p,f=null===(p=d[this.creditCardTermIndex])||void 0===p?void 0:p.orderVo;f&&(u=f)}return(null==s||null===(a=s.selectedChannel)||void 0===a?void 0:a.channelName)===M.WEIXIN_CREDIT&&c?s.orderVo.payPrice:null===(o=u)||void 0===o?void 0:o.payPrice}},{key:"initShowEditAddress",value:function(e){this.showEditAddress=e}},{key:"initShowIdcardForm",value:function(e){this.showIdcardForm=e}},{key:"initShowPurchaseInfo",value:function(e){this.showPurchaseInfo=e}},{key:"initShowTemperaturePicker",value:function(e){this.showTemperaturePicker=e}},{key:"initShowRepayModifyPanel",value:function(e){this.showRepayModifyPanel=e}},{key:"initCloseOcSkuSelector",value:function(e){this.closeOcSkuSelector=e}},{key:"initInstallInfo",value:(v=s()(a.a.mark((function e(){var t,n,r,o,c=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isInstallInfoInit){e.next=2;break}return e.abrupt("return");case 2:return this.isInstallInfoInit=!0,t=Object(we.a)(),n=function(){var e=s()(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isNativePlatform&&t.system===Se.b.IOS){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(oe.f)("JSPay","canSupportApplePay",{});case 5:n=e.sent,[0,1,2,3].includes(null==n?void 0:n.status)&&(c.installInfoInPayExtendMap=i()(i()({},c.installInfoInPayExtendMap),{},{apple_pay_status:null==n?void 0:n.status})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=s()(a.a.mark((function e(){var n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isNativePlatform&&!t.isLiteNativePlatform&&Object(Se.c)(t.version,"4.85.0")>=0){e.next=2;break}return e.abrupt("return");case 2:return n=t.system===Se.b.Android?"com.tencent.mobileqq":"mqqwallet",e.prev=3,e.next=6,Object(oe.f)("AMApplication","check",{app:n});case 6:r=e.sent,o=r.has_installed,[0,1].includes(+o)&&(c.installInfoInPayExtendMap=i()(i()({},c.installInfoInPayExtendMap),{},{is_install_qq:"".concat(o)})),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=s()(a.a.mark((function e(){var n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isNativePlatform&&!t.isLiteNativePlatform&&Object(Se.c)(t.version,"4.85.0")>=0){e.next=2;break}return e.abrupt("return");case 2:return n=t.system===Se.b.Android?"com.unionpay":"uppaywallet",e.prev=3,e.next=6,Object(oe.f)("AMApplication","check",{app:n});case 6:r=e.sent,o=r.has_installed,[0,1].includes(+o)&&(c.installInfoInPayExtendMap=i()(i()({},c.installInfoInPayExtendMap),{},{is_install_unionpay:"".concat(o)})),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),e.next=9,Promise.all([n(),r(),o()]);case 9:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"init",value:(h=s()(a.a.mark((function e(){var t,n,r,o,c,s,u,l,d,p,f,m,h,v,g,y,_,b,k,S,I,P,E,O,N,D,T,j,A,R,W,L=this,M=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=M.length>0&&void 0!==M[0]?M[0]:{},r=n.updateOCDataFun,o=n.setMorganFetching,c=n.setMorganError,s=n.getSelectedSkuId,u=n.groupType,l=n.orderExtraType,d=n.goods,p=n.groupId,f=n.groupOrderId,m=n.communityId,h=n.ignoreGroupOrderIdInUrl,v=n.sourceType,g=n.ocExtend,y=n.hideSkuSelect,_=n.paySuccessCb,b=n.sourceChannel,k=n.frontEnv,S=n.pageFrom,Qr.reset(),this.updateOCDataFun=r,this.getSelectedSkuId=s,this.setMorganFetching=o,this.setMorganError=c,I=Object(it.a)(),P=I.query,E=I.userAgent,O=Object(we.b)(E),N=O.isNativePlatform,D=O.isTinyNativePlatform,this.forwardHideSkuSelect=function(){L.needReload=!1,y({hideAction:"beforeForward"})},this.paySuccessCb=_,this.isApp=N||D?1:0,this.frontEnv=k||Sr(I),this.activityParams=xr(m||h?i()(i()({},P),{},{group_order_id:null}):P,E),this.goodsId=w()(d,"goodsID"),this.switchToWechatIfSignXyhfFailed=w()(d,"isAbSwitchToWechatIfSignXyhfFailed"),this.enablePaymentListV2=N,this.groupType=u,this.orderExtraType=l,this.groupOrderId=f,this.communityId=m,this.sourceType=v,this.pageFrom=S||parseInt(P.page_from,10)||0,this.groupId=p||d.groupTypes[1].groupID,this.extendMap=Pr(P),m&&(this.extendMap.community_id=m),this.appIdSet=Er(I),this.appPaymentEnv=Or(P),this.sourceChannel=b>=0?b:13,this.recordId=void 0,this.hasAddressLine=d.hasAddressLine,this.usePayPromotion=null==d?void 0:d.usePayPromotion,(null===(t=Object(C.h)(location.href))||void 0===t?void 0:t.__disable_pay_promotion)&&(this.usePayPromotion=!1),e.next=37,this.initInstallInfo();case 37:return e.next=39,ka().get();case 39:this.hmtConsoTipNotUse=e.sent,(T=d.destinationUrl)&&(j=Object(C.h)(T),A=(j||{}).morgan_type,this.customMorganUrl=A?Ir(A):null,this.morganType=A,R=Pr(j),this.extendMap=Object.assign(this.extendMap,R)),g&&(W=Pr(g||{}),this.extendMap=Object.assign(this.extendMap,W)),null==b&&Object(x.c)(new Error("empty_source_channel"));case 44:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"updateOCData",value:(m=s()(a.a.mark((function e(t){var n,r,o,i,c,s,u,l,d,p,f,m,h,v,g,y,_=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(this.setMorganError(!1),!this.ocData.selectedChannel){e.next=23;break}if(!(null==(n=(t.payChannelList||[]).find((function(e){return e.channelName===_.ocData.selectedChannel.channelName})))?void 0:n.disabled)){e.next=14;break}if(r=t.payChannelList.some((function(e){return e.defaultSelected})),t.payChannelList.forEach((function(e,n){r&&e.defaultSelected?(e.selected=!0,t.selectedChannel=e):r||0!==n?e.selected=!1:(e.selected=!0,t.selectedChannel=e)})),!t.selectedChannel){e.next=12;break}return e.next=11,Qe(t.selectedChannel.channelName);case 11:t.selectedChannel.paymentType=e.sent;case 12:e.next=23;break;case 14:if(t.selectedChannel||!this.ocData.selectedChannel){e.next=23;break}if(o=this.ocData.selectedChannel,i=t.payChannelList.some((function(e){return e.channelName===o.channelName})),c=t.payChannelList.some((function(e){return e.defaultSelected})),t.payChannelList.forEach((function(e,n){i&&e.channelName===o.channelName?(e.selected=!0,t.selectedChannel=e):i?e.selected=!1:c&&e.defaultSelected?(e.selected=!0,t.selectedChannel=e):c||0!==n||(e.selected=!0,t.selectedChannel=e)})),!t.selectedChannel){e.next=23;break}return e.next=22,Qe(t.selectedChannel.channelName);case 22:t.selectedChannel.paymentType=e.sent;case 23:s=this.ocData.payChannelList&&this.ocData.payChannelList.find((function(e){return e.channelName===M.CREDIT_CARD})),u=w()(s,"creditCardVo.recommendCardVo.bindId"),l=t.payChannelList&&t.payChannelList.find((function(e){return e.channelName===M.CREDIT_CARD})),d=w()(l,"creditCardVo.recommendCardVo.bindId"),s&&l&&d!==u&&(p=w()(s,"creditCardVo.recommendCardVo.creditInstallments")||[],f=w()(l,"creditCardVo.recommendCardVo.creditInstallments")||[],(m=p[s.creditCardTermIndex])&&(h=m.installmentNum,v=f.findIndex((function(e){return+e.installmentNum===h})),l.creditCardTermIndex=v)),g=this.ocData.idCardInfo||{},y=g.isTemperatureSaved,t.idCardInfo&&(t.idCardInfo.isTemperatureSaved=y),w()(t,"addressInfo.addressId")&&(this.addressId=w()(t,"addressInfo.addressId")),this.ocData=t,this.updateOCDataFun&&this.updateOCDataFun(t);case 33:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"clearTradeInfo",value:function(){var e=this.ocData;w()(e,"promotionInfo.tradeInInfo")&&(e.promotionInfo.tradeInInfo=null,this.updateOCData(e))}},{key:"updateAddressInfo",value:function(e){this.refresh({address_id:e.addressId})}},{key:"selectDeliveryItem",value:function(e){var t=e.serviceTransparentField,n=this.getSelectedSkuId&&this.getSelectedSkuId();return this.refresh({service_transparent_field:t,front_action:n?vr:gr})}},{key:"selectShippingItem",value:function(e){var t=e.item_id,n=this.getSelectedSkuId&&this.getSelectedSkuId();return this.selectServiceItemIdList=[t],this.refresh({select_service_item_id_list:[t],front_action:n?vr:gr})}},{key:"getWxscoreSignScene",value:function(){var e=Object(C.g)(location.search),t="210"===e.page_from,n=e.wxscore_sign_scene;return t?n?+n:16:this.enablePaymentListV2?33:19}},{key:"render",value:(f=s()(a.a.mark((function e(t,n){var r,o,c,s,u,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i()(i()(i()({},this.originParams),t),{},{pay_extend_map:i()(i()({},this.originParams.pay_extend_map),null==t?void 0:t.pay_extend_map)}),this.hmtConsoTipNotUse&&(r.additional_map={hmt_conso_tip_not_use:this.hmtConsoTipNotUse}),n&&(this.recordId=n,this.sourceChannel=41,r.source_channel=41,r.extend_map?r.extend_map.trade_in_record_id=n:r.extend_map={trade_in_record_id:n}),e.prev=3,o=new Promise((function(e,t){setTimeout((function(){t({errorCode:"timeout"})}),2e3)})),e.next=7,Promise.race([Fr(r,this.customMorganUrl),o]);case 7:if(!(c=e.sent)){e.next=16;break}return Ia.reset(),this.extendMap=c.extendMap,this.promotionExtendMap=c.promotionExtendMap,this.transferMap=c.transferMap,this.updateOCData(c),s=c.confirmMessage,e.abrupt("return",s);case 16:e.next=25;break;case 18:e.prev=18,e.t0=e.catch(3),u=e.t0.errorCode,l=e.t0.response,d=w()(l,"data.error_msg"),n&&this.clearTradeInfo(),Object(x.c)(new Error("sku_order_render"),{error_message:d,error_code:u}),this.communityId&&(this.updateOCDataFun&&this.updateOCDataFun(null),this.ocData={});case 25:case"end":return e.stop()}}),e,this,[[3,18]])}))),function(e,t){return f.apply(this,arguments)})},{key:"refresh",value:(d=s()(a.a.mark((function e(t,n){var r,o,c,s,u,l,d,p,f,m,h,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=i()(i()(i()({},this.originParams),t),{},{promotion_vo:i()(i()({},null===(r=this.originParams)||void 0===r?void 0:r.promotion_vo),null==t?void 0:t.promotion_vo),pay_extend_map:i()(i()({},null===(o=this.originParams)||void 0===o?void 0:o.pay_extend_map),null==t?void 0:t.pay_extend_map)})).refresh=!0,t.front_action===fr&&delete c.concentrated_transportation_selected_request,this.hmtConsoTipNotUse&&(c.additional_map={hmt_conso_tip_not_use:this.hmtConsoTipNotUse}),n&&this.setMorganFetching(!0),e.prev=5,this.morganRequestId++,s=this.morganRequestId,e.next=10,Fr(c,this.customMorganUrl);case 10:if(u=e.sent,s!==this.morganRequestId||!u){e.next=21;break}return Ia.reset(),this.extendMap=u.extendMap,this.promotionExtendMap=u.promotionExtendMap,this.transferMap=u.transferMap,1==+u.skuPanelStatus&&(null===(l=this.closeOcSkuSelector)||void 0===l||l.call(this)),(d=u.confirmMessage)&&Object(ct.h)(d),this.updateOCData(u),e.abrupt("return",{success:!0});case 21:e.next=35;break;case 23:if(e.prev=23,e.t0=e.catch(5),p=e.t0.errorCode,f=e.t0.response,m=(f||{}).data,h=w()(m,"error_payload"),w()(h,"not_degrade_sku")||this.setMorganError(!0),!h||!h.view_style){e.next=33;break}return an(h),e.abrupt("return");case 33:v=w()(f,"data.error_msg"),Object(x.c)(new Error("sku_order_refresh"),{error_message:v,error_code:p});case 35:return e.prev=35,n&&this.setMorganFetching(!1),e.finish(35);case 38:case"end":return e.stop()}}),e,this,[[5,23,35,38]])}))),function(e,t){return d.apply(this,arguments)})},{key:"refreshPayVoAfterOrder",value:(u=s()(a.a.mark((function e(t){var n,r,o,i,c,s,u,l,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={confirm_display_type:1,order_sn:this.ocData.orderSn,front_version:this.frontVersion,front_env:this.frontEnv,refresh_pay_vo:!0,extend_map:this.extendMap,pay_extend_map:t.pay_extend_map,front_supports:Dr(),service_transparent_field:w()(this.ocData,"deliveryInfo.selectedServiceTransparentField"),source_channel:this.sourceChannel,transfer_map:this.transferMap},e.prev=1,e.next=4,Br(n);case 4:r=e.sent,o=b()(this.ocData),i=o.payChannelList.find((function(e){return e.channelName===M.CREDIT_CARD})),c=r.payChannelList.find((function(e){return e.channelName===M.CREDIT_CARD})),i.creditCardVo=c?c.creditCardVo:null,(s=r.confirmMessage)&&Object(ct.h)(s),this.updateOCData(o),e.next=22;break;case 14:e.prev=14,e.t0=e.catch(1),u=e.t0.errorCode,l=e.t0.response,d=w()(l,"data.error_msg"),p=d,u&&(d=d||pt.getMsgFromCode(u)),d?Object(ct.h)(d):Object(ct.h)("网络不稳定，请稍后再试"),Object(x.c)(new Error("sku_refresh_after_order"),{error_message:p,error_code:u});case 22:case"end":return e.stop()}}),e,this,[[1,14]])}))),function(e){return u.apply(this,arguments)})},{key:"changeBindId",value:(c=s()(a.a.mark((function e(t){var n,r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.selectedBindId,r=t.newBindId,o=t.isNewlyAdded,c=i()({},w()(this.appPaymentEnv,"payExtendMap")),o?(c.selected_bind_id=n,c.new_card_bind_id=r):c.selected_bind_id=r,this.ocData.orderSn?this.refreshPayVoAfterOrder({pay_extend_map:c}):this.refresh({pay_extend_map:c});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"repay",value:(o=s()(a.a.mark((function e(){var t,n,r,o,i,c,s,u,l,d,p,f,m,h,v,g,y,_,b,k,S,I,x,P,E,O,N,D,T,j,A,R,W,L,M=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.ocData,n=t.orderSn,r=t.chaosOrderSn,o=t.orderAmount,i=t.attrMap,c=t.installmentList,s=t.fastReturn,u=this.ocData.goodsInfo.goodsId,l=this.ocData.selectedChannel,d=l&&l.paymentType,p=l&&l.allPay,f=function(e,t){kn({errorCode:e,data:t||{},handleUnclassifiedErrors:!0,ocData:M.ocData})},d!==G.a.FriendPay){e.next=10;break}return this.forwardHideSkuSelect&&this.forwardHideSkuSelect(),ut.a.uniformForward(Object(C.a)({fp_id:r},"friend_pay.html")),e.abrupt("return");case 10:return m={goodsID:u,orderAmount:o,attrMap:i,fastReturn:s},h=function(e){f(e,null),e===pt.PrepayBusy.code&&(M.forwardHideSkuSelect&&M.forwardHideSkuSelect(),ut.a.uniformForward(Object(C.a)({order_sn:n},"order.html")))},v={order_sn:n},d===G.a.HBInstallmentPay&&(g=c.findIndex((function(e){return e.defaultSelected})),y=g>=0?g:0,_=l.termIndex||y||0,v.term=c[_].term),d===G.a.CreditCardInstallmentPay&&(v.bind_id=w()(l,"creditCardVo.recommendCardVo.bindId"),b=l.creditCardTermIndex,k=w()(l,"creditCardVo.recommendCardVo.creditInstallments")||[],S=k.findIndex((function(e){return!!e.selected})),b>=0||(b=S),b>=0||(b=0),I=k[b],v.term=I?I.installmentNum:-1),x=Object(C.g)(location.search),P="210"===x.page_from,E=d===G.a.XianYongHouFu&&(P||1!=+l.payscoreSignStatus),O=this.getWxscoreSignScene(),e.next=21,Object(ht.a)();case 21:return N=e.sent,D=[1,2].includes(+l.toastStressOnFreePay),T=1==+l.toastStressOnFreePay,Object(mt.b)(),e.prev=25,e.next=28,st.a.pay({url:this.prepayUrl,orderSn:n,paymentType:d,attrMap:i,params:v,attributeFields:{pay_ticket:this.ocData.payTicket,promotion_info:(null===(j=this.ocData)||void 0===j||null===(A=j.selectedChannel)||void 0===A?void 0:A.duoduoPromotionId)||null},optionalParams:{isSignXianYongHouFu:E,signScene:O,orderAmount:o,antiContent:N,mianmiAutoSwitch:p,mianmiV3:D,mianmiV3SafeHint:T,switchToWechatIfSignXyhfFailed:this.switchToWechatIfSignXyhfFailed},checkOrderStatus:Ft(n,m),checkOrderTimeout:1e4});case 28:Vt(R=e.sent,m,this),xn({groupId:"10242",customTags:{event:"order_payed_judge_"+(w()(R,"orderStatus")||999)}}),e.next=41;break;case 33:if(e.prev=33,e.t0=e.catch(25),W=e.t0||{},L=W.cancelled,d!==G.a.XianYongHouFu){e.next=40;break}return this.forwardHideSkuSelect&&this.forwardHideSkuSelect(),Ut({order_sn:n}),e.abrupt("return");case 40:L?qt(this):zt({orderSn:n,error:e.t0,defaultOnFailed:h,ocManager:this});case 41:return e.prev=41,Object(mt.a)(),d===G.a.HBInstallmentPay&&(this.ocData.lockInstallmentTerm=!0,this.updateOCData(this.ocData)),d===G.a.CreditCardInstallmentPay&&(w()(l,"creditCardVo.recommendCardVo.removeLock")||(this.ocData.lockCreditCardTerm=!0,this.updateOCData(this.ocData))),e.finish(41);case 46:case"end":return e.stop()}}),e,this,[[25,33,41,46]])}))),function(){return o.apply(this,arguments)})},{key:"pay",value:(r=s()(a.a.mark((function e(){var t,n,r,o,c,s,u,l,d,p,f,m,h,v,g,y,_,b,k,S,I,P,E,O,N,D,T,j,A,R,W,L,M,F,B,U,V,H,q,z,Q,J,K,Y,X;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ocData.orderSn||!this.ocData.chaosOrderSn){e.next=2;break}return e.abrupt("return",this.repay());case 2:return e.next=4,ea({ocData:this.ocData,groupType:this.groupType,orderExtraType:this.orderExtraType,groupOrderId:this.groupOrderId,activityParams:this.activityParams,ocManager:this});case 4:if(!(t=e.sent)){e.next=126;break}if(!t.errMsg){e.next=11;break}Rn.stop(),Object(ct.h)(t.errMsg),e.next=126;break;case 11:if(n=this.ocData.selectedChannel,r=n&&n.paymentType,o=n&&n.allPay,!this.recordId){e.next=31;break}return e.prev=15,Object(mt.b)("正在生成旧机回收订单"),e.next=19,ca({ocData:this.ocData});case 19:Object(mt.a)(),e.next=31;break;case 22:return e.prev=22,e.t0=e.catch(15),Object(mt.a)(),c=e.t0||{},s=c.response,u=(s||{}).data,l=u&&u.error_msg,Rn.stop(),l&&Object(ct.h)(l),e.abrupt("return");case 31:if(this.recordId?Object(mt.b)("即将生成新机订单"):Object(mt.b)(),d=this.ocData.goodsInfo.goodsId,p=this.ocData.goodsInfo.skuId,f=this.ocData,m=f.orderAmount,h=f.attrMap,v=f.orderServicePath,g=void 0===v?"order":v,y=f.fastReturn,_=f.idCardInfo,b=t.postParams,k=t.ocHandleError,S=b.anti_content,I=null,P=null,e.prev=39,!(this.ocData.goodsInfo.needId&&_&&!_.isFaceCert&&_.isFaceGoods&&Pn())){e.next=43;break}return e.next=43,En({snapshotId:_.snapshotId,extMap:_.extendMap,antiContent:S});case 43:return e.next=45,na({url:g,params:b});case 45:E=e.sent,O=E.order_sn,N=E.fp_id,D=E.order_amount,T=E.discount_amount,j=E.prepay_url,Rn.markOrderCreated(),Qr.reset(),I=O,P=N,this.needReload=!0,A=w()(this.ocData,"orderInfo.payPrice"),D!==A&&Object(x.c)(new Error("different_price"),{error_message:"order_amount_".concat(D,"_different_with_pay_price_").concat(A)}),this.prepayUrl=j,this.ocData.orderSn=I,this.ocData.chaosOrderSn=P,this.ocData.discountAmount=T,this.updateOCData(this.ocData),Object(mt.a)(),e.next=81;break;case 66:if(e.prev=66,e.t1=e.catch(39),Rn.stop(),!e.t1.noErrorHandle){e.next=72;break}return Object(mt.a)(),e.abrupt("return");case 72:if(!e.t1.isTimeout&&!e.t1.isOrderSnEmpty){e.next=76;break}Object(ct.h)("网络连接不稳定，请刷新后重试"),e.next=79;break;case 76:return R=e.t1.errorCode,W=e.t1.data,e.next=79,k(R,W);case 79:return _n(e.t1.errorCode)||Object(mt.a)(),e.abrupt("return");case 81:if(L={op:"event",event:"create_order",goods_id:d,sku_id:p,order_amount:m,pay_app_id:b.app_id,page_name:"order_checkout",auto_group:"0",sub_op:"create_order",refer_page_name:Ca.getReferPageName(),refer_page_element:Ca.getReferPageElement(),order_sn:I,location:location.href},Object(ie.d)(L),Object(ft.a)({payload:i()({event:"paycheck"},L)}),xn({groupId:"10242",customTags:{event:"create_order"}}),r!==G.a.FriendPay){e.next=90;break}this.forwardHideSkuSelect&&this.forwardHideSkuSelect(),ut.a.uniformForward(Object(C.a)({fp_id:P},"friend_pay.html")),e.next=126;break;case 90:return M={goodsID:d,orderAmount:m,attrMap:h,fastReturn:y},F=function(e){k(e,null),e===pt.PrepayBusy.code&&ut.a.reload(Object(C.a)({order_sn:I},"order.html"))},B=Object(C.g)(location.search),U="210"===B.page_from,V=r===G.a.XianYongHouFu&&(U||1!=+n.payscoreSignStatus),H=this.getWxscoreSignScene(),q=[1,2].includes(+n.toastStressOnFreePay),z=1==+n.toastStressOnFreePay,Object(mt.b)(),e.prev=99,e.next=102,st.a.pay({url:this.prepayUrl,orderSn:I,paymentType:r,attrMap:h,params:{order_sn:I,term:b.term,bind_id:b.bindId},attributeFields:{pay_ticket:this.ocData.payTicket,promotion_info:(null===(Q=this.ocData)||void 0===Q||null===(J=Q.selectedChannel)||void 0===J?void 0:J.duoduoPromotionId)||null},additionalParams:{order_amount:m,goods_id:d},optionalParams:{isSignXianYongHouFu:V,signScene:H,orderAmount:m,antiContent:S,mianmiAutoSwitch:o,mianmiV3:q,mianmiV3SafeHint:z,switchToWechatIfSignXyhfFailed:this.switchToWechatIfSignXyhfFailed},checkOrderStatus:Ft(I,M),checkOrderTimeout:1e4});case 102:Vt(K=e.sent,M,this),xn({groupId:"10242",customTags:{event:"order_payed_judge_"+(w()(K,"orderStatus")||999)}}),e.next=121;break;case 107:if(e.prev=107,e.t2=e.catch(99),Rn.stop(),w()(this.ocData,"promotionInfo.retrievePromotion.promotionStatus")!==St){e.next=115;break}return this.forwardHideSkuSelect&&this.forwardHideSkuSelect(),Ut({order_sn:I}),e.abrupt("return");case 115:if(Y=e.t2||{},X=Y.cancelled,r!==G.a.XianYongHouFu){e.next=120;break}return this.forwardHideSkuSelect&&this.forwardHideSkuSelect(),Ut({order_sn:I}),e.abrupt("return");case 120:X?qt(this):zt({orderSn:I,error:e.t2,defaultOnFailed:F,ocManager:this});case 121:return e.prev=121,Object(mt.a)(),r===G.a.HBInstallmentPay&&(this.ocData.lockInstallmentTerm=!0,this.updateOCData(this.ocData)),r===G.a.CreditCardInstallmentPay&&(w()(n,"creditCardVo.recommendCardVo.removeLock")||(this.ocData.lockCreditCardTerm=!0,this.updateOCData(this.ocData))),e.finish(121);case 126:case"end":return e.stop()}}),e,this,[[15,22],[39,66],[99,107,121,126]])}))),function(){return r.apply(this,arguments)})},{key:"selectedChannel",value:(n=s()(a.a.mark((function e(t){var n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.channelName)){e.next=14;break}return r=this.ocData,this.ocData&&this.ocData.orderSn&&(r.orderSn=this.ocData.orderSn),this.ocData&&this.ocData.chaosOrderSn&&(r.chaosOrderSn=this.ocData.chaosOrderSn),this.ocData&&this.ocData.lockInstallmentTerm&&(r.lockInstallmentTerm=this.ocData.lockInstallmentTerm),this.ocData&&this.ocData.lockCreditCardTerm&&(r.lockCreditCardTerm=this.ocData.lockCreditCardTerm),(o=w()(r,"payChannelList")||[]).forEach((function(e){e.selected=e.channelName===n})),r.selectedChannel=o.find((function(e){return e.channelName===n})),e.next=12,Qe(n);case 12:r.selectedChannel.paymentType=e.sent,this.updateOCData(r);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"refreshAfterSelectedChannel",value:(t=s()(a.a.mark((function e(){var t,n,r,o,c,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n={use_platform_promotion_request:{not_use:!1,promotion_identity_vo:null},use_shop_promotion_requests:[]},r=w()(this.ocData,"promotionInfo"),o=r.platformPromotion,c=r.shopPromotion,n.use_platform_promotion_request=o&&(o.promotionStatus===bt||o.notUse)?{not_use:o.notUse,promotion_identity_vo:o.promotionIdentityVo}:null,n.use_shop_promotion_requests=c&&(c.promotionStatus===bt||c.notUse)?[{promotion_identity_vos:c.promotionIdentityVo?[c.promotionIdentityVo]:null,mall_id:c.mallId,not_use:c.notUse}]:null,e.next=9,this.refresh(i()({front_action:pr,promotion_vo:n},t));case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"creditCardTermIndex",get:function(){return w()(this.ocData,"selectedChannel.creditCardTermIndex")}},{key:"originParams",get:function(){var e,t,n,r,a,o=Object(C.g)(location.search),c=w()(this.ocData,"selectedChannel.creditCardVo.recommendCardVo.bindId"),s=this.getSelectedSkuId&&this.getSelectedSkuId(),u=w()(this.ocData,"selectedChannel.creditCardTermIndex"),l=w()(this.ocData,"selectedChannel.creditCardVo.recommendCardVo.creditInstallments"),d=l&&l[u]&&l[u].installmentNum,p=i()(i()(i()({},this.extendMap),this.promotionExtendMap),{},{lite_contract_code:Qr.liteContractCode}),f=null,m=((null===(e=this.ocData)||void 0===e||null===(t=e.promotionInfo)||void 0===t||null===(n=t.totalPromotionsConsult)||void 0===n?void 0:n.purchase_method_items)||[]).find((function(e){return!!(null==e?void 0:e.is_selected)}));return m&&(f={promotion_purchase_type:null==m?void 0:m.purchase_type}),{front_env:this.frontEnv,front_version:this.frontVersion,confirm_display_type:1,front_supports:Dr(),original_front_env:parseInt(this.activityParams[or],10)||0,selected_pay_channel:w()(this.ocData,"selectedChannel.channelName"),selected_install_num:d,goods_id:this.goodsId,group_id:this.groupId,group_order_id:this.groupOrderId,sku_id:s||w()(this.ocData,"goodsInfo.skuId"),goods_number:w()(this.ocData,"goodsInfo.goodsNumber"),address_id:this.addressId||o.sel_address_id,is_app:this.isApp,page_from:this.pageFrom,type:this.activityParams[$n]||0,award_type:this.activityParams[er]||0,biz_type:this.activityParams[tr]||0,service_transparent_field:w()(this.ocData,"deliveryInfo.selectedServiceTransparentField"),pay_channel_list:Object.keys(this.appIdSet)||[],biz_tag:this.activityParams[ir],extend_map:p,origin_hostname:location.hostname,pay_extend_map:i()(i()(i()({},this.installInfoInPayExtendMap),w()(this.appPaymentEnv,"payExtendMap")),{},{selected_bind_id:c}),source_channel:this.sourceChannel,transfer_map:this.transferMap,select_service_item_id_list:this.selectServiceItemIdList,concentrated_transportation_selected_request:null===(r=this.ocData)||void 0===r||null===(a=r.concentratedTransportationInfo)||void 0===a?void 0:a.concentratedTransportationSelectedRequest,promotion_vo:f}}}],[{key:"getInstance",value:function(){return this.instance?this.instance:this.instance=new e}}]),e}(),ot()(fa.prototype,"updateAddressInfo",[Jr.a],Object.getOwnPropertyDescriptor(fa.prototype,"updateAddressInfo"),fa.prototype),ot()(fa.prototype,"selectDeliveryItem",[Jr.a],Object.getOwnPropertyDescriptor(fa.prototype,"selectDeliveryItem"),fa.prototype),ot()(fa.prototype,"selectShippingItem",[Jr.a],Object.getOwnPropertyDescriptor(fa.prototype,"selectShippingItem"),fa.prototype),ot()(fa.prototype,"getWxscoreSignScene",[Jr.a],Object.getOwnPropertyDescriptor(fa.prototype,"getWxscoreSignScene"),fa.prototype),ot()(fa.prototype,"refreshPayVoAfterOrder",[Jr.a],Object.getOwnPropertyDescriptor(fa.prototype,"refreshPayVoAfterOrder"),fa.prototype),ot()(fa.prototype,"changeBindId",[Jr.a],Object.getOwnPropertyDescriptor(fa.prototype,"changeBindId"),fa.prototype),fa),Pa=n("tV1M"),Ea=n.n(Pa),Oa=n("gi5g"),Na=n("RgGm"),Da=xa.getInstance();function Ta(e){var t=e.ocData,n=Object(S.useContext)(Na.a).glide,r=function(){var e=s()(a.a.mark((function e(n){var r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.channelName,o=n.selectedChannel,!r||!o){e.next=20;break}if(Object(ie.b)({page_el_sn:"4912874",op:"click"}),Da.ocData&&Da.ocData.orderSn&&(t.orderSn=Da.ocData.orderSn),Da.ocData&&Da.ocData.chaosOrderSn&&(t.chaosOrderSn=Da.ocData.chaosOrderSn),Da.ocData&&Da.ocData.lockInstallmentTerm&&(t.lockInstallmentTerm=Da.ocData.lockInstallmentTerm),Da.ocData&&Da.ocData.lockCreditCardTerm&&(t.lockCreditCardTerm=Da.ocData.lockCreditCardTerm),Da.ocData&&Da.ocData.discountAmount&&(t.discountAmount=Da.ocData.discountAmount),(i=w()(t,"payChannelList")||[]).forEach((function(e){e.selected=e.channelName===r})),t.selectedChannel=i.find((function(e){return e.channelName===r})),!t.selectedChannel){e.next=19;break}return t.selectedChannel.termIndex=o.termIndex,t.selectedChannel.creditCardTermIndex=o.creditCardTermIndex,o.creditCardTermIndex>=0&&(t.creditCardTermIndex=o.creditCardTermIndex),o.termIndex>=0&&(t.termIndex=o.termIndex),e.next=18,Qe(r);case 18:t.selectedChannel.paymentType=e.sent;case 19:Da.updateOCData(t);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(S.useEffect)((function(){Object(Oa.a)(document.querySelectorAll("#rmp-payments"))}),[]);var o=null==t?void 0:t.selectedChannel,i=t.repayModifyCountdown||18e5,c=t.orderAmount;return I.a.createElement("div",{className:Ea.a.content},I.a.createElement(rt,{countDown:i,doHide:n}),I.a.createElement("div",{className:Ea.a.paymentList,id:"rmp-payments"},t.payChannelList.map((function(e,n){return I.a.createElement(ve,N()({key:n},e,{channel:e,installmentList:t.installmentList,termIndex:t.termIndex,lockInstallmentTerm:t.lockInstallmentTerm,lockCreditCardTerm:t.lockCreditCardTerm,creditCardTermIndex:t.creditCardTermIndex,selectPayMethod:function(e){return r({selectedChannel:e,channelName:e.channelName})},orderAmount:t.orderAmount,changeBindId:Da.changeBindId}))}))),I.a.createElement(Ye,{onRepay:function(){Object(ie.b)({page_el_sn:"4912853",op:"click"}),Da.pay()},orderAmount:c,selectedChannel:o}))}function ja(e){var t=e.toggle;return e.visible?I.a.createElement(Na.b,{onHide:function(){Da.refresh({front_action:mr}),t()}},I.a.createElement(Ta,e)):null}var Aa=n("3oyJ"),Ra=n.n(Aa),Wa=1,La=2,Ma=3;function Fa(e){var t=e.tips,n=e.tipsEvent,r=e.selectChannelName,a=Object(S.useRef)(),o=Object(S.useRef)(),i=Object(S.useRef)(),c=Object(S.useRef)(),s=(Object(S.useRef)(0),Object(S.useState)(Ra.a.tipsContainer)),u=T()(s,2),l=u[0],d=u[1],p=Object(S.useState)("hidden"),f=T()(p,2),m=f[0],h=f[1];Object(S.useEffect)((function(){if("hidden"===m&&o.current&&i.current&&c.current&&a.current){var e=o.current.getBoundingClientRect().left,t=i.current.getBoundingClientRect().right,n=c.current.getBoundingClientRect().left,r=a.current.getBoundingClientRect(),s=(r.left+r.right)/2;if(e&&t&&n&&s){var u=e-n;Math.abs(u)>5&&(c.current.style.transform="translateX(".concat(u,"px)")),Math.abs(t-s)<Math.abs(s-e)&&d(Ra.a.tipsContainerFlexEnd),Ia.canShow()&&(setTimeout((function(){return h("")}),300),Ia.markShown(),Ia.initForceHide((function(){return h("hidden")})))}}}));return I.a.createElement("div",{style:{visibility:m}},I.a.createElement("div",{className:Ra.a.tipArrow,ref:a}),I.a.createElement("div",{className:Ra.a.tipLeftAnchor,ref:o}),I.a.createElement("div",{className:Ra.a.tipRightAnchor,ref:i}),I.a.createElement("div",{className:l,ref:c},I.a.createElement("div",{className:Ra.a.tips},t.map((function(e,t){var n=e.displayType,r=e.url,a=e.text;return 0===n?I.a.createElement("span",{key:t},a):1===n&&r?I.a.createElement(z.a,{key:t,className:Ra.a.tipImage,src:r,"aria-hidden":!0}):null})),I.a.createElement("div",{className:Ra.a.tipAction,onClick:function(e){null==e||e.stopPropagation();var t=n||{},a=t.type,o=t.channel;"SWITCH_PAYMENT_CHANNEL"===a&&(r(o),Ia.clickRecord())}},"更换"))))}function Ba(e){var t=e.items,n=e.isCombine,r=e.selectChannelName;return I.a.createElement(I.a.Fragment,null,t&&t.map((function(e,t){if(-1===e.displayType)return I.a.createElement("div",{style:{width:"100%"},key:t});if(0===e.displayType){if(!e.text)return null;var a=e.fontColor,o=e.fontSize;return I.a.createElement("span",{key:t,style:{fontSize:o?"".concat(o/100,"rem"):n?"0.13rem":"0.14rem",color:a},"aria-hidden":!0},e.text)}if(1===e.displayType){var i=e.height,c=e.width,s=e.url,u=e.marginLeft,l=e.marginRight,d=e.tips,p=e.tipsEvent;return s?I.a.createElement("div",{style:{height:i,width:c,marginLeft:u,marginRight:l,marginTop:n?"0.02rem":0},key:t,className:Ra.a.groupSubtitleIcon},I.a.createElement(z.a,{src:s,"aria-hidden":!0}),(null==d?void 0:d.length)>0&&I.a.createElement(Fa,{tips:d,tipsEvent:p,selectChannelName:r})):null}if(2===e.displayType){var f=e.combineItems;return I.a.createElement("span",{className:Ra.a.combineItems,key:t},I.a.createElement(Ba,{items:f,isCombine:!0}))}return null})))}var Ua=I.a.createElement("svg",{t:"1629126595213",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4064",fill:"#E02E24"},I.a.createElement("path",{d:"M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0z m219.648 307.2l-287.118222 320.398222-122.936889-123.050666L256 570.026667l192.284444 192.398222 352.483556-393.386667L731.648 307.2z","p-id":"35481"})),Va=I.a.createElement("svg",{t:"1629126595213",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4064",fill:"#9C9C9C"},I.a.createElement("path",{d:"M512 2c281.666 0 510 228.334 510 510s-228.334 510-510 510S2 793.666 2 512 230.334 2 512 2z m0 25.5C244.418 27.5 27.5 244.418 27.5 512S244.418 996.5 512 996.5 996.5 779.582 996.5 512 779.582 27.5 512 27.5z","p-id":"35612"}));function Ha(e){var t=Object(S.useRef)(),n=Object(S.useState)(e.subcontent),r=T()(n,2),a=r[0],o=r[1];Object(S.useEffect)((function(){o(e.subcontent)}),[e.subcontent]),Object(S.useEffect)((function(){if(t.current&&t.current.getBoundingClientRect().height>30){var e=a.findIndex((function(e){return 0===e.displayType&&"更换"===e.text}));e>-1&&!a.find((function(e){return-1===e.displayType}))&&(a.splice(e,0,{displayType:-1}),o(a))}}));return I.a.createElement("div",{className:Ra.a.groupSubtitle,onClick:e.onSpread,ref:t,"aria-label":function e(t){return t.reduce((function(t,n){return 0===(null==n?void 0:n.displayType)?t+((null==n?void 0:n.text)||""):2===(null==n?void 0:n.displayType)?t+e((null==n?void 0:n.combineItems)||[]):t}),"")}(e.subcontent),role:"button"},I.a.createElement(Ba,{items:e.subcontent,selectChannelName:e.selectChannelName}))}var qa=Object(S.forwardRef)((function(e,t){var n,r,a=e.payChannelGroup,o=e.payChannels,i=e.selectedChannel,c=e.isSelected,s=e.onChannelSelected,u=e.onGroupSelected,l=e.installmentList,d=e.lockInstallmentTerm,p=e.lockCreditCardTerm,f=e.isNormalOnlyGroup,m=Object(S.useState)(!1),h=T()(m,2),v=h[0],g=h[1];if(Object(S.useImperativeHandle)(t,(function(){return{unspread:function(){a&&(a.channelGroupType===Ma&&c||g(!1))}}})),!a)return null;var y,_=null===(n=a.groupContent)||void 0===n?void 0:n.content,b=null==a?void 0:a.groupExtensionContent,k=a.enable,w=null===(r=a.channels.find((function(e){return e.channel===(null==i?void 0:i.channelName)})))||void 0===r?void 0:r.channel;w||(w=null===(y=a.channels.find((function(e){return e.defaultSelected})))||void 0===y?void 0:y.channel);var C=a.channels.find((function(e){return e.channel===w})),x=o.find((function(e){return e.channelName===w})),P=(null==C?void 0:C.groupSubContent)||[],E=a.channels.map((function(e){return e.channel})),O=function(){if(a.channelGroupType===Ma){if(x.channelName===M.CREDIT_CARD&&!(x.creditCardTermIndex>=0)){var e,t,n=((null==x||null===(e=x.creditCardVo)||void 0===e||null===(t=e.recommendCardVo)||void 0===t?void 0:t.creditInstallments)||[]).findIndex((function(e){return!!e.selected}));n<0&&(n=0),x.creditCardTermIndex=n}g(!0),j(x,{expandAfterSelection:!0}),Ia.forceHide()}else u(a)},D=function(){Object(J.a)("由于服务方繁忙，该支付方式暂不可用")},j=function(e,t){a.channelGroupType===Ma&&(t?t.supressUnspread=!0:t={supressUnspread:!0}),e.selected=!0,s({channelName:e.channelName,selectedChannel:e,opts:t})},A=b||{},R=A.content,W=A.fontSize,L=void 0===W?14:W,F=A.fontColor,B=void 0===F?"#9c9c9c":F,U=R?I.a.createElement("span",{className:Ra.a.groupExtensionContent,style:{fontSize:"".concat(L/100,"rem"),color:B}},R):null;return v||f?I.a.createElement("div",{className:Ra.a.group},I.a.createElement("div",{className:Ra.a.groupSpreadTitle},_,U),k?I.a.createElement("div",{className:Ra.a.groupSelected},c?Ua:Va):I.a.createElement("span",{className:Ra.a.unableText},"暂不可用"),I.a.createElement("div",{className:"pdd_payment_list_v2_mode"},o.filter((function(e){return E.includes(e.channelName)})).map((function(t,n){return I.a.createElement(ve,N()({key:n},e,{channel:t,selectPayMethod:j,installmentList:l,lockInstallmentTerm:d,lockCreditCardTerm:p}))}))),I.a.createElement("div",{className:Ra.a.groupBorder})):I.a.createElement("div",{className:Ra.a.groupUnspreadContainer},I.a.createElement("div",{className:Ra.a.groupUnspread,onClick:k?O:D},I.a.createElement("div",{className:Ra.a.groupTitle},_,U),k?I.a.createElement("div",{className:Ra.a.groupSelected},c?Ua:Va):I.a.createElement("span",{className:Ra.a.unableText},"暂不可用"),I.a.createElement(Ha,{subcontent:P,onSpread:k?function(e){var t;return a.channelGroupType===Wa||a.channelGroupType===Ma&&1===(null===(t=a.channels)||void 0===t?void 0:t.length)?O():(e.stopPropagation(),void g(!0))}:D,selectChannelName:function(e){var t=o.find((function(t){return t.channelName===e}));t&&s({channelName:t.channelName,selectedChannel:t})}})),I.a.createElement("div",{className:Ra.a.groupBorder}))})),za=Object(S.forwardRef)((function(e,t){var n=e.onChannelSelected,r=e.payChannels,a=e.payChannelGroups,o=e.selectedChannel,i=e.installmentList,c=e.lockInstallmentTerm,s=e.lockCreditCardTerm;Object(S.useEffect)((function(){Object(Oa.a)(document.querySelector("#commodity_paymentlist_v2"))}),[]),Object(S.useEffect)((function(){var e=a.find((function(e){return e.defaultSelected}));if(e){var t=e.channels.find((function(e){return e.defaultSelected}));if(t){var o=r.find((function(e){return e.channelName===t.channel}));o.selected=!0,n({channelName:o.channelName,selectedChannel:o})}}}),[]);var u=Object(S.useRef)(),l=Object(S.useRef)(),d=function(){var e,t,n,r;null===(e=u.current)||void 0===e||null===(t=e.unspread)||void 0===t||t.call(e),null===(n=l.current)||void 0===n||null===(r=n.unspread)||void 0===r||r.call(n)};Object(S.useImperativeHandle)(t,(function(){return{unspread:d}}));var p=function(e){e.channelName;var t=e.selectedChannel,r=e.opts;Ia.forceHide(),n({channelName:t.channelName,selectedChannel:t,opts:r}),(null==r?void 0:r.expandAfterSelection)||(null==r?void 0:r.supressUnspread)||d()},f=function(e){return e&&e.channels.map((function(e){return e.channel})).includes(null==o?void 0:o.channelName)},m=function(e){var t;if(!f(e)){Ia.forceHide();var a=null===(t=e.channels.find((function(e){return e.defaultSelected})))||void 0===t?void 0:t.channel,o=r.find((function(e){return e.channelName===a}));o.selected=!0,n({channelName:o.channelName,selectedChannel:o}),d()}},h=null;a.forEach((function(e){if(f(e)){var t,n,r=e.channels.find((function(e){return e.defaultSelected}));h=null==r||null===(t=r.groupBottomContent)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.text}}));var v=1===(null==a?void 0:a.length)&&a[0].channelGroupType===La;return I.a.createElement("div",{className:Ra.a.container},I.a.createElement("div",{className:Ra.a.paymentlistv2,id:"commodity_paymentlist_v2"},(a||[]).map((function(t){return t.channelGroupType===Wa?I.a.createElement(qa,N()({},e,{key:"xyhfGroup",payChannelGroup:t,onChannelSelected:p,isSelected:f(t),onGroupSelected:m})):t.channelGroupType===La?I.a.createElement(qa,N()({},e,{key:"normalGroup",ref:u,payChannelGroup:t,onChannelSelected:p,isSelected:f(t),onGroupSelected:m,isNormalOnlyGroup:v})):t.channelGroupType===Ma?I.a.createElement(qa,N()({},e,{key:"installmentGroup",installmentList:i,lockInstallmentTerm:c,lockCreditCardTerm:s,ref:l,payChannelGroup:t,onChannelSelected:p,isSelected:f(t),onGroupSelected:m})):void 0})),I.a.createElement("div",{className:Ra.a.placeholder})),h&&I.a.createElement("div",{className:Ra.a.channelBottomContent},h))})),Qa=n("losq"),Ga=n.n(Qa),Ja=n("9K/W"),Ka=n.n(Ja),Ya=I.a.createContext({glide:function(){}}),Xa=Ya.Provider;function Za(e){var t=e.visible,n=e.onHide,r=void 0===n?function(){}:n,a=e.children,o=e.bgFillClassName,i=void 0===o?"":o,c=e.containerClassName,s=void 0===c?"":c,u=Object(S.useState)(!1),l=T()(u,2),d=l[0],p=l[1];function f(e){e&&e.stopPropagation(),p(!1)}return Object(S.useEffect)((function(){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){setTimeout(e,17)};t&&e((function(){e((function(){p(!0)}))}))}),[t]),I.a.createElement("div",{style:{display:t?"":"none"}},I.a.createElement("div",{className:R()(Ka.a.bgFill,i,V()({},Ka.a.bgFillShow,d)),onClick:f}),I.a.createElement("div",{className:R()(Ka.a.container,s,V()({},Ka.a.visibleContainer,d)),onClick:function(e){return e.stopPropagation()},onTransitionEnd:function(e){d||r(e)}},I.a.createElement(Xa,{value:{glide:f}},a)))}var $a=xa.getInstance();function eo(e){return to.apply(this,arguments)}function to(){return(to=s()(a.a.mark((function e(t){var n,r,o,i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.batchSn,r=t.merchantTag,o=void 0===r?52:r,i=t.mallId,c=Object(C.h)(window.location.href),e.t0=Mt.b,e.t1=Mt.a.POST,e.next=6,Object(ht.a)();case 6:return e.t2=e.sent,e.t3=n,e.t4=o,e.t5=c._oc_source,e.t6=$a.pageFrom,e.t7=i+"",e.t8={anti_content:e.t2,batch_sn:e.t3,merchant_tag:e.t4,oc_source:e.t5,page_from:e.t6,mall_id:e.t7},e.t9={method:e.t1,url:"api/promotion/take_merchant_coupon",data:e.t8},e.abrupt("return",(0,e.t0)(e.t9));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e){return ro.apply(this,arguments)}function ro(){return(ro=s()(a.a.mark((function e(t){var n,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.batchSn,r=t.merchantTag,o=void 0===r?50:r,i=Object(C.h)(window.location.href),e.t0=Mt.b,e.t1=Mt.a.POST,e.next=6,Object(ht.a)();case 6:return e.t2=e.sent,e.t3=n,e.t4=o,e.t5=i._oc_source,e.t6=$a.pageFrom,e.t7={anti_content:e.t2,batch_sn:e.t3,merchant_tag:e.t4,oc_source:e.t5,page_from:e.t6},e.t8={method:e.t1,url:"api/promotion/auto_take_merchant_coupon",data:e.t7},e.abrupt("return",(0,e.t0)(e.t8));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ao(e){return oo.apply(this,arguments)}function oo(){return(oo=s()(a.a.mark((function e(t){var n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.batchSnList,r=t.merchantTag,o=void 0===r?50:r,Object(C.h)(window.location.href),e.t0=Mt.b,e.t1=Mt.a.POST,e.next=6,Object(ht.a)();case 6:return e.t2=e.sent,e.t3=n,e.t4=o,e.t5={anti_content:e.t2,batch_sn_list:e.t3,merchant_tag:e.t4},e.t6={method:e.t1,url:"api/promotion/batch_auto_take_merchant_coupon",data:e.t5},e.abrupt("return",(0,e.t0)(e.t6));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(e){return co.apply(this,arguments)}function co(){return(co=s()(a.a.mark((function e(t){var n,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.mallId,r=t.batchSn,o=t.merchantTag,i=t.likeFrom,e.t0=Mt.b,e.t1=Mt.a.POST,e.t2=n,e.t3=i,e.t4=r,e.t5=o,e.next=9,Object(ht.a)();case 9:return e.t6=e.sent,e.t7={mall_id:e.t2,like_from:e.t3,batch_sn:e.t4,merchant_tag:e.t5,anti_content:e.t6},e.t8={method:e.t1,url:"api/promotion/follow_and_take_mall_favorite_coupon",data:e.t7},e.abrupt("return",(0,e.t0)(e.t8));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function so(e){return uo.apply(this,arguments)}function uo(){return(uo=s()(a.a.mark((function e(t){var n,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=void 0===n?2:n,o=t.batchSn,i=t.merchantTag,e.t0=Mt.b,e.t1=Mt.a.POST,e.t2=r,e.t3=o,e.t4=i,e.next=8,Object(ht.a)();case 8:return e.t5=e.sent,e.t6={type:e.t2,batch_sn:e.t3,merchant_tag:e.t4,anti_content:e.t5},e.t7={method:e.t1,url:"api/promotion/take_coupon_from_promotion_bar",data:e.t6},e.abrupt("return",(0,e.t0)(e.t7));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lo,po=29,fo=36,mo="请稍后再试～",ho=(lo={},V()(lo,po,"mallCommodityCoupon"),V()(lo,fo,"likeMallCoupon"),lo),vo={DISPLAY_AMOUNT:10001,DISPLAY_AMOUNT_UNUSABLE:10002,DISPLAY_AMOUNT_UNUSABLE_INEFFICIENCY:10003,DISPLAY_AMOUNT_UNUSABLE_RULE_REASON:10004,DISPLAY_AMOUNT_APP:10005,DISPLAY_DISCOUNT:20001,DISPLAY_DISCOUNT_UNUSABLE:20002,DISPLAY_DISCOUNT_UNUSABLE_INEFFICIENCY:20003,DISPLAY_DISCOUNT_UNUSABLE_RULE_REASON:20004,SUPERPOSITION_AMOUNT:30001,SUPERPOSITION_AMOUNT_UNUSABLE:30002,SUPERPOSITION_AMOUNT_UNUSABLE_RULE_REASON:30003},go={44025:["不能领取更多了","去看看别的券吧"],44026:["该券太火爆","全部已被领完"],44027:["好可惜，领券失败","领券活动刚刚结束哦"]};var yo=function(e){if(e)return e.filter((function(e){return!!e})).map((function(e,t){if(e)return{batchSn:e.batch_sn,discount:Object(Q.c)(e.discount),canTakenCount:e.can_taken_count,subRulesDesc:e.sub_rules_desc,displayType:e.display_type,tagDesc:e.tag_desc,promotionName:e.tag_desc,rulesDesc:e.rules_desc,titleDisplayName:e.rules_desc,richRulesDesc:e.rich_rules_desc,buttonDesc:e.button_desc,buttonSubDesc:e.button_sub_desc,timeDisplayName:e.time_display_name,takeStatus:e.take_status,isFavCoupon:parseInt(e.display_type,10)===fo,goodsId:w()(e,"goods_display.goods_id"),goodsName:w()(e,"goods_display.goods_name"),thumbUrl:w()(e,"goods_display.thumb_url")}}))},_o=function(e){if(e)return e.filter((function(e){return!!e})).map((function(e){var t,n,r=e.discount||e.discount_amount;return{discount:Object(Q.c)(r),percent:Object(Q.c)(e.percent),scope:e.usable_desc,discountType:e.discount_type,displayType:e.display_type,endTime:e.end_time,promotionUniqueNo:e.promotion_unique_no,promotionIdentityVo:e.shop_promotion_detail_result||e.promotion_identity_vo,promotionName:e.promotion_name,startTime:e.start_time,titleDisplayName:e.title_display_name,timeDisplayName:e.time_display_name,promotionDetailDesc:null===(t=e.promotion_detail_desc)||void 0===t?void 0:t.display_items,usableDesc:e.usable_desc,canClick:e.can_click,checkStatus:e.check_status,extraDisplayMap:e.extra_display_map,topDisplayName:e.top_display_name,unusablePromotionDetail:e.unusable_promotion_display_detail_vos,ruleDisplayName:e.rule_display_name,batchSn:w()(e,"shop_promotion_detail_result.extension.batch_sn")||w()(e,"promotion_identity_vo.extension.batch_sn"),buttonDesc:w()(e,"extra_display_map.button_desc"),isFavCoupon:w()(e,"extra_display_map.is_fav_coupon"),isBrandVipCoupon:w()(e,"extra_display_map.is_brand_vip_coupon"),needJoinBrandVip:w()(e,"extra_display_map.need_join_brand_vip"),isPercentCoupon:(n=e.display_type,[vo.DISPLAY_DISCOUNT,vo.DISPLAY_DISCOUNT_UNUSABLE,vo.DISPLAY_DISCOUNT_UNUSABLE_INEFFICIENCY,vo.DISPLAY_DISCOUNT_UNUSABLE_RULE_REASON].includes(parseInt(n,10))),isRetrieve:e.is_retrieve,isBestJusableOrRetrieve:e.is_best_jusable_or_retrieve}}))},bo=function(e){return e?e.map((function(e){return{fullBackName:w()(e,"full_back_name"),rewardStatus:w()(e,"reward_status"),processStatusDesc:w()(e,"process_status_desc.display_items"),processPercentStr:w()(e,"process_percent_str"),currentConsumeAmount:+Object(Q.c)(w()(e,"current_consume_amount")),needAmount:+Object(Q.c)(w()(e,"need_amount")),rewardAmount:Object(Q.c)(w()(e,"reward_amount")),rewardImgUrl:w()(e,"reward_img_url"),rewardName:w()(e,"reward_name")}})):[]},ko=xa.getInstance(),wo=function(){function e(){return l()(this,e),this.isFetching=!1,this.couponTaking=!1,e.instance||(e.instance=this),e.instance}var t,n,r,o,c,u,d,f,m,h;return p()(e,[{key:"initPromotionFunc",value:function(e){var t=e.togglePromotionPopupVisibleFunc,n=e.setPromotionListsFunc;this.togglePromotionPopupVisible=t,this.setPromotionLists=n}},{key:"processParams",value:(h=s()(a.a.mark((function e(){var t,n,r,o,c,s,u,l,d,p,f,m,h,v,g,y,_,b,k,S,I,C,x=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=x.length>0&&void 0!==x[0]?x[0]:{},o=r.selectedShopPromotion,c=r.selectPlatformPromotion,s=r.selectedPayPromotion,u=r.refreshAfterReceive,l=w()(ko,"ocData"),e.next=4,Object(ht.a)();case 4:return d=e.sent,p=w()(l,"promotionInfo")||{},f=p.shopPromotion,m=p.platformPromotion,h=[],v=[],u||(!o&&f&&f.promotionStatus===bt&&(f.notUse?h.push(this.notUsePromotion.shop.promotionIdentityVo):h.push(f.promotionIdentityVo)),o&&h.push(o.promotionIdentityVo),!c&&m&&m.promotionStatus===bt&&(m.notUse?h.push(this.notUsePromotion.platform.promotionIdentityVo):h.push(m.promotionIdentityVo)),c&&h.push(c.promotionIdentityVo),s||(b=null===(y=ko.ocData)||void 0===y||null===(_=y.selectedChannel)||void 0===_?void 0:_.duoduoPromotionId)&&v.push({promotion_id:b}),(null==s||null===(g=s.promotionIdentityVo)||void 0===g?void 0:g.promotion_id)&&v.push({promotion_id:s.promotionIdentityVo.promotion_id})),k=i()(i()(i()({},w()(l,"extendMap")),w()(l,"promotionExtendMap")),{},{lite_contract_code:Qr.liteContractCode}),S={total_price:w()(l,"priceInfo.orderPrice"),source_channel:ko.sourceChannel,merchant_tag:52,page_from:ko.pageFrom,front_supports:Dr(),address_id:l.addressInfo.addressId,shop_discount_consult_requests:[{mall_id:w()(l,"goodsInfo.mallId"),shop_order_price:w()(l,"priceInfo.orderPrice"),goods_discount_requests:[{goods_id:w()(l,"goodsInfo.goodsId"),sku_id:w()(l,"goodsInfo.skuId"),price:w()(l,"goodsInfo.unitPriceForCent"),group_price:w()(l,"goodsInfo.groupPriceForCent"),group_id:w()(l,"goodsInfo.groupId"),normal_price:w()(l,"goodsInfo.normalPriceForCent"),goods_number:w()(l,"goodsInfo.goodsNumber"),cat_id:w()(l,"goodsInfo.catId"),cat_id1:w()(l,"goodsInfo.catId1"),cat_id2:w()(l,"goodsInfo.catId2"),cat_id3:w()(l,"goodsInfo.catId3"),goods_type:w()(l,"goodsInfo.goodsType"),event_type:w()(l,"goodsInfo.eventType"),activity_type:w()(l,"goodsInfo.activityType"),activity_id:w()(l,"goodsInfo.activityId"),oversea_type:w()(l,"goodsInfo.overseaType"),cost_template_id:w()(l,"goodsInfo.costTemplateId")}]}],extend_map:k,promotion_identity_vos:h,address_vo:{province_id:w()(l,"addressInfo.provinceId"),city_id:w()(l,"addressInfo.cityId"),district_id:w()(l,"addressInfo.districtId"),address_id:w()(l,"addressInfo.addressId")},anti_content:d},ko.usePayPromotion&&!(null===(t=ko.ocData)||void 0===t||null===(n=t.promotionInfo)||void 0===n?void 0:n.disableMorganPromotionList)&&(C=S,S=i()(i()({},ko.originParams),{},{promotion_identity_vos:h,pay_promotion_identity_vos:v,front_display_channels:null==l||null===(I=l.payChannelList)||void 0===I?void 0:I.map((function(e){return e.channelName})),merchant_tag:52,front_action:kr}),(null==l?void 0:l.comparePromotionRequest)&&(S.promotion_request=C)),e.abrupt("return",S);case 14:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"fetchPromotionList",value:(m=s()(a.a.mark((function e(){var t,n,r,o,i,c,s,u,l,d=this,p=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>0&&void 0!==p[0]?p[0]:{},o=r.selectedShopPromotion,i=r.selectPlatformPromotion,c=r.selectedPayPromotion,s=r.refreshAfterReceive,!this.isFetching){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.processParams({selectedShopPromotion:o,selectPlatformPromotion:i,selectedPayPromotion:c,refreshAfterReceive:s});case 5:return u=e.sent,Object(mt.c)(),this.isFetching=!0,l=ko.usePayPromotion&&!(null===(t=ko.ocData)||void 0===t||null===(n=t.promotionInfo)||void 0===n?void 0:n.disableMorganPromotionList),e.abrupt("return",Object(Mt.b)({method:"POST",url:l?"/api/morgan-quick/promotion_list/render":"api/promotion/query_candidate_promotion",data:u}).then((function(e){var t,n,r,a,o,i,c,s,u,d,p,f,m,h,v,g,y,_;l&&(e=null===(_=e)||void 0===_?void 0:_.candidate_promotion_result);var b=_o(null===(t=e)||void 0===t?void 0:t.usable_pay_promotion_display_vos)||[],k=_o(null===(n=e)||void 0===n?void 0:n.unusable_pay_promotion_display_vos)||[],S=(null===(r=_o([null===(a=e)||void 0===a?void 0:a.not_use_outer_promotion_display_vo]))||void 0===r?void 0:r[0])||null,I=_o(w()(e,"shop_candidate_promotion_results.0.usable_shop_promotions"))||[],C=_o(null===(o=e)||void 0===o?void 0:o.usable_platform_promotions)||[],x=!q()(I)&&I.find((function(e){return!!e.checkStatus})),P=!q()(C)&&C.find((function(e){return!!e.checkStatus})),E=(null==b?void 0:b.length)>0&&b.find((function(e){return!!e.checkStatus}))||S,O=w()(e,"shop_candidate_promotion_results.0.extra_display_map.not_has_selectable_promotion");return{shopPromotionTitle:w()(e,"shop_candidate_promotion_results.0.shop_promotion_title_vo.display_items"),commonShopPromotions:_o(w()(e,"shop_candidate_promotion_results.0.shop_promotion_display_results"))||[],retrievableShopPromotions:yo(w()(e,"shop_candidate_promotion_results.0.retrievable_shop_promotions"))||[],payPromotionTitle:(null===(i=e)||void 0===i||null===(c=i.pay_promotion_title_vo)||void 0===c?void 0:c.display_items)||null,usablePayPromotions:b,unusablePayPromotions:k,usableShopPromotions:I,unusableShopPromotions:_o(w()(e,"shop_candidate_promotion_results.0.unusable_shop_promotions"))||[],platformPromotionTitle:null===(s=e)||void 0===s||null===(u=s.platform_promotion_title_vo)||void 0===u?void 0:u.display_items,platformPromotionExtraDisplay:null===(d=e)||void 0===d||null===(p=d.platform_promotion_extra_display_vo)||void 0===p?void 0:p.display_items,usablePlatformPromotions:C,unusablePlatformPromotions:_o(null===(f=e)||void 0===f?void 0:f.unusable_platform_promotions)||[],otherUnusablePlatformPromotions:_o(null===(m=e)||void 0===m?void 0:m.other_unusable_platform_promotions)||[],promotionDisplay:(null===(h=e)||void 0===h||null===(v=h.total_discount_display_vo)||void 0===v?void 0:v.display_items)||null,mallFullBackDetails:bo(null===(g=e)||void 0===g?void 0:g.mall_full_back_details),crossFullBackDetails:bo(null===(y=e)||void 0===y?void 0:y.cross_full_back_details),selectedShopPromotion:x,selectedPlatformPromotion:P,selectedPayPromotion:E,donotUsePayPromotion:S,notHasSelectablePromotion:O,postagePromotion:w()(e,"shop_candidate_promotion_results.0.extra_display_map.postage_promotion_rich_text.display_items")}})).catch((function(){return null})).finally((function(){Object(mt.a)(),d.isFetching=!1})));case 10:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"autoTakeMerchantCoupon",value:(f=s()(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w()(ko,"ocData"),w()(t,"promotionInfo.shopPromotion.promotionStatus")!==kt){e.next=11;break}if(!(n=w()(t,"promotionInfo.shopPromotion.promotionIdentityVo.extension.batch_sn"))){e.next=11;break}return e.next=7,no({batchSn:n});case 7:r=e.sent,xn({groupId:"20203",customTags:{event:"autoReceivePromotion"}}),ko.needReload=!0,t.promotionInfo.shopPromotion={mallId:r.source_mall_id,promotionStatus:bt,promotionIdentityVo:r.promotion_identity_vo};case 11:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"batchAutoTakeCoupon",value:(d=s()(a.a.mark((function e(t){var n,r,o,i,c,s,u,l,d,p,f,m,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.shopPromotion,r=t.platformPromotion,o=w()(ko,"ocData"),i=[],c=w()(n,"promotionStatus"),s=w()(n,"promotionIdentityVo.extension.batch_sn"),u=w()(r,"promotionStatus"),l=w()(r,"promotionIdentityVo.extension.batch_sn"),c===kt&&s&&i.push(s),u===kt&&l&&i.push(l),!(i.length>0)){e.next=23;break}return e.next=12,ao({batchSnList:i});case 12:if(d=e.sent,xn({groupId:"20203",customTags:{event:"autoReceivePromotion"}}),ko.needReload=!0,p=w()(o,"goodsInfo.mallId"),f=(d||{}).coupon_list,(m=f&&f.find((function(e){return 8===w()(e,"promotion_identity_vo.promotion_type")})))&&(o.promotionInfo.shopPromotion={mallId:p,promotionStatus:bt,promotionIdentityVo:m.promotion_identity_vo}),(h=f.find((function(e){return 8!==w()(e,"promotion_identity_vo.promotion_type")})))&&(o.promotionInfo.platformPromotion={mallId:p,promotionStatus:bt,promotionIdentityVo:h.promotion_identity_vo}),f&&i.length===f.length){e.next=23;break}return e.abrupt("return",{notAllSuccess:!0});case 23:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"ddpPromotionClick",value:(u=s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Mt.b)({method:"POST",url:"api/buffon/kayle/promotion/click/notify",data:{sceneInfoMap:{fromScene:"DOWN_ORDER_PAGE_CLICK_NOTIFY",subScene:"DOWN_ORDER_PAGE_UPSIDE_CELL_CLICK_NOTIFY"}}});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])}))),function(){return u.apply(this,arguments)})},{key:"likeAndReceive",value:(c=s()(a.a.mark((function e(t,n,r){var o,i=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=w()(ko,"ocData"),Object(ie.b)({page_el_sn:"4503302",op:"click",goods_id:w()(o,"goodsInfo.goodsId")}),e.t0=Mt.b,e.t1=w()(o,"promotionInfo.shopPromotion.mallId"),e.t2=t,e.next=7,Object(ht.a)();case 7:return e.t3=e.sent,e.t4={anti_content:e.t3},e.t5={mall_id:e.t1,like_from:101003,batch_sn:e.t2,merchant_tag:50,base_risk_info:e.t4},e.t6={method:"POST",url:"api/zenon/mall/like_and_receive_coupon",data:e.t5},e.abrupt("return",(0,e.t0)(e.t6).then((function(){ko.needReload=!0,!n&&i.receiveLikeCouponInfo(),xn({groupId:"20203",customTags:{event:"receivePromotion"}}),!r&&ko.refresh({front_action:pr})})).catch((function(e){var t=e.response,n=(t&&t.data||{}).error_msg||"领取失败~";Object(ct.h)(n)})));case 12:case"end":return e.stop()}}),e)}))),function(e,t,n){return c.apply(this,arguments)})},{key:"autoTakeCouponBeforeOldForNew",value:(o=s()(a.a.mark((function e(){var t,n,r,o,i,c,s,u,l,d,p,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w()(ko,"ocData"),n=w()(t,"promotionInfo.retrievePromotion")||{},r=w()(n,"promotionStatus"),o=w()(n,"promotionIdentityVo.extension.batch_sn"),i=w()(t,"promotionInfo.platformRetrievePromotion"),c=w()(i,"promotionStatus"),s=w()(t,"promotionInfo.shopPromotion"),u=w()(s,"promotionStatus"),e.prev=8,r!==wt){e.next=13;break}return e.next=12,this.likeAndReceive(o,!0);case 12:return e.abrupt("return");case 13:if(r!==Ct){e.next=16;break}return ko.refresh({front_action:pr}),e.abrupt("return");case 16:if(c!==kt){e.next=21;break}return e.next=19,this.batchAutoTakeCoupon({shopPromotion:s,platformPromotion:i});case 19:e.next=24;break;case 21:if(u!==kt){e.next=24;break}return e.next=24,this.autoTakeMerchantCoupon();case 24:e.next=32;break;case 26:e.prev=26,e.t0=e.catch(8),l=e.t0||{},d=l.response,p=(d||{}).data,f=w()(p,"error_toast")||"领取优惠失败",Object(ct.h)(f);case 32:case"end":return e.stop()}}),e,this,[[8,26]])}))),function(){return o.apply(this,arguments)})},{key:"autoTakeCouponOnPromotionCellClickV2",value:(r=s()(a.a.mark((function e(){var t,n,r,o,i,c,s,u,l,d,p,f,m,h,v,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w()(ko,"ocData"),n=w()(t,"promotionInfo.retrievePromotion")||{},r=w()(n,"promotionStatus"),o=w()(t,"promotionInfo.platformRetrievePromotion"),i=w()(o,"promotionStatus"),c=w()(n,"promotionIdentityVo.extension.batch_sn"),s=w()(n,"promotionIdentityVo.extension.retrievable_promotion_jump_url"),r!==It||!s){e.next=26;break}if(e.prev=8,i!==kt){e.next=12;break}return e.next=12,this.batchAutoTakeCoupon({shopPromotion:n,platformPromotion:o});case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:return e.prev=16,u=w()(t,"goodsInfo.skuId"),l=w()(t,"goodsInfo.goodsId"),d=w()(t,"goodsInfo.goodsNumber"),p=w()(ko,"groupOrderId"),f=Object(C.a)({group_order_id:p,goods_id:l,sku_id:u,goods_number:d},s),ko.forwardHideSkuSelect&&ko.forwardHideSkuSelect(),ut.a.uniformForward(f),e.finish(16);case 25:return e.abrupt("return",{blockPopup:!0});case 26:if(r!==wt){e.next=39;break}return e.next=29,this.likeAndReceive(c,!1,!0);case 29:if(i!==kt){e.next=37;break}return e.prev=30,e.next=33,this.batchAutoTakeCoupon({shopPromotion:n,platformPromotion:o});case 33:e.next=37;break;case 35:e.prev=35,e.t1=e.catch(30);case 37:return ko.refresh({front_action:pr}),e.abrupt("return",{blockPopup:!0});case 39:if(r!==kt&&i!==kt){e.next=53;break}return e.prev=40,e.next=43,this.batchAutoTakeCoupon({shopPromotion:n,platformPromotion:o});case 43:e.next=52;break;case 45:return e.prev=45,e.t2=e.catch(40),m=e.t2||{},h=m.response,v=(h||{}).data,g=w()(v,"error_toast")||"领取优惠失败，请重试",Object(ct.h)(g),e.abrupt("return");case 52:ko.refresh({front_action:pr});case 53:case"end":return e.stop()}}),e,this,[[8,14,16,25],[30,35],[40,45]])}))),function(){return r.apply(this,arguments)})},{key:"autoTakeCouponOnPromotionCellClick",value:(n=s()(a.a.mark((function e(){var t,n,r,o,i,c,s,u,l,d,p,f,m,h,v,g,y,_,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w()(ko,"ocData"),n=w()(t,"promotionInfo.retrievePromotion")||{},r=w()(n,"promotionStatus"),o=w()(t,"promotionInfo.platformRetrievePromotion"),i=w()(o,"promotionStatus"),c=w()(n,"promotionIdentityVo.extension.batch_sn"),s=w()(n,"promotionIdentityVo.extension.retrievable_promotion_jump_url"),r!==It||!s){e.next=15;break}return u=w()(t,"goodsInfo.skuId"),l=w()(t,"goodsInfo.goodsNumber"),d=w()(ko,"groupOrderId"),p=Object(C.a)({group_order_id:d,sku_id:u,goods_number:l},s),ko.forwardHideSkuSelect&&ko.forwardHideSkuSelect(),ut.a.uniformForward(p),e.abrupt("return",{blockPopup:!0});case 15:if(r!==wt){e.next=19;break}return e.next=18,this.likeAndReceive(c);case 18:return e.abrupt("return",{blockPopup:!0});case 19:if(i!==kt){e.next=33;break}return e.prev=20,e.next=23,this.batchAutoTakeCoupon({shopPromotion:n,platformPromotion:o});case 23:e.next=31;break;case 25:e.prev=25,e.t0=e.catch(20),f=e.t0||{},m=f.response,h=(m||{}).data,v=w()(h,"error_toast")||"领取优惠失败，请重试",Object(ct.h)(v);case 31:e.next=45;break;case 33:if(r!==kt){e.next=45;break}return e.prev=34,e.next=37,this.autoTakeMerchantCoupon();case 37:e.next=45;break;case 39:e.prev=39,e.t1=e.catch(34),g=e.t1||{},y=g.response,_=(y||{}).data,b=w()(_,"error_toast")||"领取优惠失败，请重试",Object(ct.h)(b);case 45:case"end":return e.stop()}}),e,this,[[20,25],[34,39]])}))),function(){return n.apply(this,arguments)})},{key:"receiveLikeCouponInfo",value:function(){var e=w()(ko,"ocData"),t=w()(e,"mallInfo.name");Object(ct.h)(I.a.createElement(I.a.Fragment,null,"领券成功，已关注",t&&I.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"2.56rem",marginTop:".04rem"}},t)),{duration:3})}},{key:"batchAutoTakeCouponAndReloadToDaCu",value:(t=s()(a.a.mark((function e(){var t,n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w()(ko,"ocData"),n=w()(t,"promotionInfo.retrievePromotion")||{},r=w()(n,"promotionStatus"),o=w()(t,"promotionInfo.platformRetrievePromotion"),e.prev=4,r!==kt){e.next=8;break}return e.next=8,this.batchAutoTakeCoupon({shopPromotion:n,platformPromotion:o});case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:return e.prev=12,this.reloadToDaCu(),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[4,10,12,15]])}))),function(){return t.apply(this,arguments)})},{key:"reloadToDaCu",value:function(){var e=w()(ko,"ocData"),t=w()(e,"promotionInfo.platformRetrievePromotion"),n=t.promotionStatus,r=w()(t,"promotionIdentityVo.extension.retrievable_promotion_jump_url");if(n===It&&r){var a=w()(e,"goodsInfo.skuId"),o=w()(e,"goodsInfo.goodsId"),i=w()(e,"goodsInfo.goodsNumber"),c=w()(ko,"groupOrderId"),s=Object(C.a)({group_order_id:c,sku_id:a,goods_id:o,goods_number:i},r);ut.a.reload(s)}}},{key:"notUsePromotion",get:function(){var e=w()(ko,"ocData");return{shop:{promotionIdentityVo:{promotion_type:8,promotion_id:"-100",extension:{mall_id:w()(e,"goodsInfo.mallId")}}},platform:{promotionIdentityVo:{promotion_type:15,promotion_id:"-100"}}}}}],[{key:"getInstance",value:function(){return this.instance?this.instance:this.instance=new e}}]),e}(),So=xa.getInstance(),Io=wo.getInstance(),Co=Object(S.forwardRef)((function(e,t){var n=Object(S.useContext)(Ya).glide,r=function(){n(),Ia.forceHide()},o=function(){var t=s()(a.a.mark((function t(n){var r,o,i,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.channelName,o=w()(e,"ocData.promotionInfo.retrievePromotion.promotionStatus"),i=w()(e,"ocData.promotionInfo.totalPromotionsConsult")||{},!(c=i.discountPayChannel)||r!==c||o!==St){t.next=8;break}return t.next=7,Io.ddpPromotionClick();case 7:So.refreshAfterSelectedChannel();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=s()(a.a.mark((function t(n){var i,c,s,u,l,d,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.channelName,c=n.selectedChannel,(s=n.opts)&&s.expandAfterSelection||r(),!i||!c){t.next=21;break}return u=e.ocData,So.ocData&&So.ocData.orderSn&&(u.orderSn=So.ocData.orderSn),So.ocData&&So.ocData.chaosOrderSn&&(u.chaosOrderSn=So.ocData.chaosOrderSn),So.ocData&&So.ocData.lockInstallmentTerm&&(u.lockInstallmentTerm=So.ocData.lockInstallmentTerm),So.ocData&&So.ocData.lockCreditCardTerm&&(u.lockCreditCardTerm=So.ocData.lockCreditCardTerm),(l=w()(u,"payChannelList")||[]).forEach((function(e){e.selected=e.channelName===i})),u.selectedChannel=l.find((function(e){return e.channelName===i})),u.selectedChannel.termIndex=c.termIndex,u.selectedChannel.creditCardTermIndex=c.creditCardTermIndex,c.creditCardTermIndex>=0&&(u.creditCardTermIndex=c.creditCardTermIndex),c.termIndex>=0&&(u.termIndex=c.termIndex),t.next=17,Qe(i);case 17:u.selectedChannel.paymentType=t.sent,u.payChannelGroups&&(null==(d=u.payChannelGroups.find((function(e){return e.channels.map((function(e){return e.channel})).includes(i)})))?void 0:d.channels)&&(d.channels.forEach((function(e){return e.defaultSelected=!1})),(p=d.channels.find((function(e){return e.channel===i})))&&(p.defaultSelected=!0)),So.updateOCData(u),o({channelName:i});case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=So.enablePaymentListV2&&!!e.ocData.payChannelGroups,u={payChannels:e.ocData.payChannelList,payChannelGroups:e.ocData.payChannelGroups,installmentList:e.ocData.installmentList,lockInstallmentTerm:So.ocData.lockInstallmentTerm,lockCreditCardTerm:So.ocData.lockCreditCardTerm,selectedChannelName:e.ocData.selectedChannel&&e.ocData.selectedChannel.channelName,selectedChannel:e.ocData.selectedChannel,onChannelSelected:i,orderAmount:e.ocData.orderAmount,changeBindId:So.changeBindId,ref:t};return I.a.createElement("div",{className:Ga.a.payment,onClick:function(e){return e.stopPropagation()}},I.a.createElement("div",{className:Ga.a.title},"选择支付方式",I.a.createElement("span",{className:Ga.a.closeIcon,onClick:r,"aria-label":"关闭支付列表浮层",role:"button"})),!c&&I.a.createElement("div",{className:Ga.a.paymentlist},I.a.createElement(Le,{disableFolding:!0,isRefreshPayChannels:!0,payChannels:e.ocData.payChannelList,installmentList:e.ocData.installmentList,lockInstallmentTerm:So.ocData.lockInstallmentTerm,lockCreditCardTerm:So.ocData.lockCreditCardTerm,creditCardTermIndex:e.ocData.creditCardTermIndex,termIndex:e.ocData.termIndex,selectedChannelName:e.ocData.selectedChannel&&e.ocData.selectedChannel.channelName,onChannelSelected:i,orderAmount:e.ocData.orderAmount,changeBindId:So.changeBindId}),I.a.createElement("div",{className:Ga.a.border})),c&&I.a.createElement(za,u))})),xo=function(e){var t=Object(S.useRef)();return I.a.createElement(Za,{visible:e.visible,onHide:function(n){var r;n&&n.stopPropagation(),Ia.forceHide(),e.toggleShowPaymentList(!1),null===(r=t.current)||void 0===r||r.unspread()}},I.a.createElement(Co,N()({},e,{ref:t})))},Po=n("g4LU"),Eo=n.n(Po),Oo=I.a.createContext(!1),No=Oo.Provider;function Do(e,t){var n=e.children,r=e.onCloseIconClicked,a=e.additionalClass,o=Object(S.useState)(!1),i=T()(o,2),c=i[0],s=i[1],u=Object(S.useState)(!0),l=T()(u,2),d=l[0],p=l[1];Object(S.useEffect)((function(){s(!0)}),[]);var f=function(){s(!1)};Object(S.useImperativeHandle)(t,(function(){return{onSlideDowm:f}}));var m=R()("".concat(Eo.a.popover," ").concat(a||"")),h=R()(Eo.a.bg,V()({},Eo.a.bgShown,c));return d?I.a.createElement("div",{className:m,ref:t,onClick:function(e){f()}},I.a.createElement("div",{className:h,onClick:function(e){e.stopPropagation(),f()}}),I.a.createElement("div",{className:"".concat(Eo.a.main," ").concat(c?Eo.a.mainShown:""),onTransitionEnd:function(e){c||(r&&r(e),p(!1))},onClick:function(e){e.stopPropagation()}},I.a.createElement(No,{value:{glide:f}},n))):null}var To=Object(S.forwardRef)(Do),jo=n("ez7s"),Ao=n("TYy9"),Ro=n.n(Ao),Wo=n("f+ex"),Lo=n("OWl0"),Mo=n.n(Lo);function Fo(e){var t=e.text,n=e.children,r=Object(S.useState)(!0),a=T()(r,2),o=a[0],i=a[1],c=Ro()(n.filter((function(e){return!!e})));if(!(null==c?void 0:c.length))return null;var s=(null==c?void 0:c.length)>2;return I.a.createElement(I.a.Fragment,null,o?c.slice(0,2):c,s&&I.a.createElement("div",{className:R()(Mo.a.foldItem,Mo.a.promotionItem,V()({},Mo.a.fold,o)),onClick:function(){return i(!o)}},I.a.createElement("span",null,I.a.createElement("i",null,o?t:"收起"),I.a.createElement(Wo.a,null))))}var Bo=n("7wT/"),Uo=n.n(Bo);var Vo=function(e){var t=e.title,n=e.titleVo,r=e.noBorder;return t||n?I.a.createElement("div",{className:"".concat(Uo.a.listTitle," ").concat(r?Uo.a.noBorder:"")},q()(n)?t:n.map((function(e,t){var n={color:e.font_color,fontSize:e.font_size/100+"rem"};return I.a.createElement("span",{key:t,style:n},e.text)}))):null},Ho=n("Wgq/"),qo=n.n(Ho);var zo=function(e){var t,n=e.discount,r=e.percent,a=e.promotionName,o=e.isPercentCoupon,i=e.isRuleDisable,c=e.displayType,s=R()(qo.a.discount,(t={},V()(t,qo.a.gray,!!i),V()(t,qo.a.small,(n+"").replace(".","").length>4),t)),u=R()(qo.a.promotionName,V()({},qo.a.small,a.length>7)),l="",d=null;return o?(l="".concat(r||n," 折").concat(a||""),d=I.a.createElement(I.a.Fragment,null,I.a.createElement("span",null,r||n),I.a.createElement("i",{className:qo.a.percentIcon},"折"))):[40001,40002].includes(c)?(l="".concat(n," 元起").concat(a||""),d=I.a.createElement(I.a.Fragment,null,I.a.createElement("i",{className:qo.a.discountIcon},"¥"),I.a.createElement("span",null,n),I.a.createElement("i",{className:qo.a.percentIcon},"起"))):(l="".concat(n," 元").concat(a||""),d=I.a.createElement(I.a.Fragment,null,I.a.createElement("i",{className:qo.a.discountIcon},"¥"),I.a.createElement("span",null,n))),I.a.createElement("div",{className:qo.a.discountInfo,"aria-label":l,role:"img"},I.a.createElement("div",{className:s,"aria-hidden":!0},d),I.a.createElement("div",{className:u,"aria-hidden":!0},a))},Qo=n("L6UK"),Go=n("5z97"),Jo=n("kjC5"),Ko=n.n(Jo);function Yo(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=y()(e);if(t()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}var Xo=Object(S.forwardRef)((function(e,t){var n=e.promotionDetailDesc,r=e.showExpandArrow,a=e.onExpand,o=Object(S.useRef)();Object(S.useImperativeHandle)(t,(function(){return o.current}));return I.a.createElement("div",{className:Ko.a.promotionDetailDesc,ref:o},n.map((function(e,t){var n=e.font_color,r=e.text,a=e.url,o=e.width;return a?I.a.createElement(z.a,{key:t,className:Ko.a.img,style:{width:"".concat((o||20)/100,"rem")},src:a}):I.a.createElement("span",{key:t,style:{color:n}},r)})),r&&I.a.createElement(Qo.a,{icon:Go.a,className:Ko.a.expand,onClick:function(e){e.stopPropagation(),null==a||a()}}))}));function Zo(e){var t=e.promotionDetailDesc;return I.a.createElement("div",{className:Ko.a.defaultPromotionDetailDescContainer},I.a.createElement(Xo,{promotionDetailDesc:t}))}var $o=function(e){m()(n,e);var t=Yo(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).containerRef=Object(S.createRef)(),r.impRef=Object(S.createRef)(),r.adjustCount=0,r.state={promotionDetailDesc:e.promotionDetailDesc?e.promotionDetailDesc.map((function(e){return i()({},e)})):null,showExpandArrow:!1,renderDefault:!1},r}return p()(n,[{key:"isDuoDuoPromotionDetail",value:function(e){if(!((null==e?void 0:e.length)>=4))return!1;var t=e[e.length-1];return"多多支付付款"===t.text&&0===t.display_type&&(!(!(t=e[e.length-2]).url||100!==t.display_type)&&("选中后使用"===(t=e[e.length-3]).text&&0===t.display_type))}},{key:"shouldAdjust",value:function(){var e=this.state.promotionDetailDesc;if(!(null==e?void 0:e.length))return!1;if(!this.isDuoDuoPromotionDetail(e))return!1;if(!this.containerRef.current||!this.impRef.current)return!1;if(this.adjustCount>=100)return!1;this.adjustCount++;var t=this.containerRef.current.clientHeight;return this.impRef.current.clientHeight>t}},{key:"adjust",value:function(){var e=this,t=this.state.promotionDetailDesc;if(t.length>=5){var n=t.length-5,r=t[n];if(r.url)t.splice(n,1);else{var a=r.text;(null==a?void 0:a.length)>=2?r.text=a.substring(0,r.text.length-1):t.splice(n,1)}this.setState({promotionDetailDesc:t}),setTimeout((function(){e.shouldAdjust()&&e.adjust()}),0)}}},{key:"componentDidMount",value:function(){var e=this;if(this.shouldAdjust()){var t=this.state.promotionDetailDesc;t.splice(-3,0,{font_color:"#9c9c9c",text:"...，"}),this.setState({promotionDetailDesc:t,showExpandArrow:!0}),setTimeout((function(){return e.adjust()}),0)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.promotionDetailDesc,r=t.showExpandArrow,a=t.renderDefault,o=this.props,i=o.onExpandCallback,c=o.promotionDetailDesc;return a?I.a.createElement(Zo,{promotionDetailDesc:c}):this.isDuoDuoPromotionDetail(c)?I.a.createElement("div",{className:Ko.a.promotionDetailDescContainer,ref:this.containerRef},I.a.createElement(Xo,{promotionDetailDesc:n,showExpandArrow:r,onExpand:function(){e.setState({renderDefault:!0}),null==i||i()},ref:this.impRef})):I.a.createElement(Zo,{promotionDetailDesc:c})}}]),n}(I.a.Component),ei=function(e){m()(n,e);var t=Yo(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={Component:$o},e}return p()(n,[{key:"componentDidCatch",value:function(e){var t=e.message,n=e.stack;Object(x.c)(new Error("EnhancePromotionDetailDesc_fallback"),{payload:{message:t,stack:n}}),this.setState({Component:Zo})}},{key:"render",value:function(){var e=this.props,t=e.onExpandCallback,n=e.promotionDetailDesc;if(!(null==n?void 0:n.length))return null;var r=this.state.Component;return I.a.createElement(r,{promotionDetailDesc:n,onExpandCallback:t})}}]),n}(I.a.Component),ti=n("Bogp"),ni=n.n(ti);function ri(e){var t=e.leftTime,n=Object(Xe.a)({leftTime:t,fixTime:!0}),r=n.hours,a=n.minutes,o=n.seconds,i="仅剩".concat(r,":").concat(a,":").concat(o);return I.a.createElement("span",{className:ni.a.countDown},i)}var ai=function(e){var t=e.titleDisplayName,n=e.timeDisplayName,r=e.endTime,a=void 0===r?0:r,o=e.ruleDisplayName,i=e.promotionDetailDesc,c=e.richRulesDesc,s=e.isDisable,u=e.onExpandCallback,l=R()(ni.a.titleDisplayName,V()({},ni.a.gray,s)),d=Object(S.useState)(a-Date.now()),p=T()(d,2),f=p[0],m=p[1];return Object(S.useEffect)((function(){a>0&&f<0&&m(a-Date.now())}),[a]),I.a.createElement("div",{className:ni.a.promotionInfo},I.a.createElement("div",{className:l},(null==c?void 0:c.length)>0?c.map((function(e){return I.a.createElement("span",{key:e.txt,style:{color:e.color||null}},e.txt)})):t),f>=0&&I.a.createElement(ri,{leftTime:f}),!(f>=0)&&I.a.createElement("div",{className:ni.a.timeDisplayName},n),o&&I.a.createElement("div",{className:ni.a.ruleDisplayName},o),I.a.createElement(ei,{promotionDetailDesc:i,onExpandCallback:function(){return null==u?void 0:u()}}))},oi=n("SeBp"),ii=n.n(oi);function ci(e){return e.selected?I.a.createElement("svg",{t:"1614064061193",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"35869"},I.a.createElement("path",{d:"M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0z m219.648 307.2l-287.118222 320.398222-122.936889-123.050666L256 570.026667l192.284444 192.398222 352.483556-393.386667L731.648 307.2z","p-id":"35870"})):e.disable?I.a.createElement("svg",{t:"1614064112414",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"37940"},I.a.createElement("path",{d:"M511.941358 511.941358m-508.657427 0a508.657428 508.657428 0 1 0 1017.314855 0 508.657428 508.657428 0 1 0-1017.314855 0Z","p-id":"37941"})):I.a.createElement("svg",{t:"1614063231082",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"35744"},I.a.createElement("path",{d:"M512 2c281.666 0 510 228.334 510 510s-228.334 510-510 510S2 793.666 2 512 230.334 2 512 2z m0 25.5C244.418 27.5 27.5 244.418 27.5 512S244.418 996.5 512 996.5 996.5 779.582 996.5 512 779.582 27.5 512 27.5z","p-id":"35745"}))}var si=function(e){var t,n=R()(ii.a.selectIcon,(t={},V()(t,ii.a.selected,e.selected),V()(t,ii.a.disable,e.disable),t)),r="";return r=e.disable?"当前优惠未达门槛":e.selected?"当前优惠已选中":"当前优惠未选中",I.a.createElement("div",{className:n,style:e.style,"aria-label":r,role:"button"},I.a.createElement(ci,e))},ui=n("dtTa"),li=n.n(ui);var di=function(e){var t=R()(li.a.usablePromotionItem,e.exClass);return I.a.createElement("div",{className:t,onClick:e.onSelect},I.a.createElement(zo,e),I.a.createElement(ai,N()({},e,{onExpandCallback:function(){var t;return!e.selected&&(null===(t=e.onSelect)||void 0===t?void 0:t.call(e))}})),I.a.createElement(si,e))},pi=n("0mK9"),fi=n("ukgu");function mi(e){var t=e.mallId,n=e.batchSn,r=e.onSuccess,a=Object(S.useRef)(null);return Object(S.useEffect)((function(){var e;null===(e=a.current)||void 0===e||e.show()})),I.a.createElement(fi.a,{ref:a,data:{mallId:+t,couponId:n,sceneId:1006,merchantTag:3},onShowFail:null,onSuccess:r})}var hi={showPopup:function(e){var t=e.mallId,n=e.batchSn,r=e.onSuccess,a=null;a=Object(Ur.a)(I.a.createElement(mi,{mallId:t,batchSn:n,onSuccess:function(){var e;r(),null===(e=a)||void 0===e||e()}}))}},vi=n("0y1f"),gi=n.n(vi),yi=wo.getInstance();function _i(e){var t=e.promotionButtonDesc,n=w()(t,"display_items.0")||{},r=n.font_color,a=n.text,o={color:r};return I.a.createElement("span",{style:o},a)}var bi=function(e){var t=R()(gi.a.commonPromotionItem,e.exClass),n=e.isRetrieve,r=e.isBestJusableOrRetrieve,o=e.displayType,i=e.extraDisplayMap,c=e.receiveCallback,u=e.goodsInfo,l=e.discount,d=e.onSelect,p=i||{},f=p.batch_sn,m=p.is_brand_vip_coupon,h=p.is_fav_coupon,v=p.need_join_brand_vip,g=p.is_lite_contract,y=p.promotion_button_desc,_=p.mall_id,b=p.source_type,k=p.is_mass_subsidy,S=!1,C=function(){var e=s()(a.a.mark((function e(){var t,r,o,i,s,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:if(S=!0,e.prev=3,!n||!g){e.next=7;break}return Qr.showPopup({onClose:function(){return null},onSuccess:c,goodsId:u.goodsId,mallId:_,skuId:u.skuId,sourceType:b,discount:l,isMassSubsidy:k}),e.abrupt("return");case 7:if(!m||!v){e.next=10;break}return hi.showPopup({mallId:_,batchSn:f,onSuccess:function(){xn({customTags:{event:"take_coupon_quick_vip"},groupId:"10584"}),null==c||c()}}),e.abrupt("return");case 10:if(!h){e.next=17;break}return e.next=13,io({batchSn:f,likeFrom:101003,merchantTag:52,mallId:_});case 13:xn({customTags:{event:"take_coupon_quick_like"},groupId:"10584"}),yi.receiveLikeCouponInfo(),e.next=23;break;case 17:return e.next=19,eo({batchSn:f,merchantTag:52,mallId:_});case 19:t=e.sent,xn({customTags:{event:"take_coupon_quick_mall"},groupId:"10584"}),(r=w()(t,"higher_priority_take_toast"))?Object(pi.a)(r,{style:{whiteSpace:"pre-line"},ContainerProps:{style:{height:"85%",top:"auto"}}}):Object(ct.h)("领取成功");case 23:c(),xn({groupId:"20203",customTags:{event:"receivePromotion"}}),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(3),(o=e.t0.errorCode)&&((i=go[o])?(Object(ct.h)(i[0]),c()):(s=e.t0.response||{},d=s.data,p=d&&d.error_toast||mo,Object(ct.h)(p)));case 31:return e.prev=31,S=!1,e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,27,31,34]])})));return function(){return e.apply(this,arguments)}}(),x=null;if(n){var P=R()(gi.a.btn,gi.a[ho[o]]);x=I.a.createElement("div",{className:gi.a.buttonWrap,onClick:C},I.a.createElement("div",{className:P},I.a.createElement(_i,{promotionButtonDesc:y})))}return I.a.createElement("div",{className:t,onClick:function(){return null==d?void 0:d()}},I.a.createElement(zo,e),I.a.createElement(ai,N()({},e,{isDisable:!r,ruleDisplayName:null})),!n&&y&&I.a.createElement("div",{className:gi.a.promotionButtonDesc},I.a.createElement(_i,{promotionButtonDesc:y})),x)},ki=n("cIxk"),wi=n.n(ki);var Si=function(e){var t=R()(wi.a.dontUseItem,e.exClass);return I.a.createElement("div",{className:t,onClick:e.onSelect,"aria-label":"暂不使用优惠",role:"button"},I.a.createElement("div",{className:wi.a.label},"暂不使用优惠"),I.a.createElement(si,N()({style:{height:".37rem"}},e)))},Ii=n("ooc8"),Ci=n.n(Ii),xi=function(e){var t=e.fullBackName,n=e.rewardStatus,r=e.processStatusDesc,a=e.processPercentStr,o=e.currentConsumeAmount,i=e.needAmount,c=e.rewardAmount,s=e.rewardImgUrl,u=e.rewardName,l=e.exClass,d=R()(Ci.a.redPacketItem,l,V()({},Ci.a.reward,n));return I.a.createElement("div",{className:d},I.a.createElement("div",{className:Ci.a.redPacket,style:{backgroundImage:s&&"url(".concat(s,")")||"none"},"aria-label":"¥".concat(c).concat(u),role:"img"},I.a.createElement("div",{className:Ci.a.couponAmount,"aria-hidden":!0},I.a.createElement("span",{className:Ci.a.priceIcon},"¥"),I.a.createElement("span",{className:Ci.a.num},c)),I.a.createElement("div",{className:Ci.a.couponTag,"aria-hidden":!0},I.a.createElement("div",{className:Ci.a.couponTagTxt},u))),I.a.createElement("div",{className:Ci.a.redPacketInfo},I.a.createElement("div",{className:Ci.a.fullBackName},t),I.a.createElement("div",{className:Ci.a.processStatusDesc,"aria-label":r.map((function(e){return e.text})).join(""),role:"img"},r.map((function(e,t){return I.a.createElement("span",{key:t,"aria-hidden":!0,style:{color:e.font_color,fontSize:e.font_size/100+"rem"}},e.text)}))),!n&&I.a.createElement("div",{className:Ci.a.progress},I.a.createElement("div",{className:Ci.a.progressBarOuter},I.a.createElement("div",{className:Ci.a.progressBarInner,style:{width:o/i*100+"%"}})),a)))},Pi=n("KZJt"),Ei=n.n(Pi),Oi=function(e){var t=e.list;return I.a.createElement(I.a.Fragment,null,t&&t.length>0&&t.map((function(e,t){var n={color:e.font_color,background:e.bg_color},r=R()(Ei.a.displayItem,Ei.a["promotion".concat(e.display_type)]);return 100===e.display_type?I.a.createElement("img",{style:{height:e.height/100+"rem",width:e.width/100+"rem"},src:Object(jo.b)(e.url)}):I.a.createElement("span",{key:t,className:r,style:n},e.text)})))},Ni=n("xFQA"),Di=n.n(Ni),Ti=xa.getInstance(),ji=wo.getInstance(),Ai=function(e){var t=e.promotionLists,n=e.usePayPromotion,r=Object(S.useState)(!0),o=T()(r,2),i=(o[0],o[1],t||{}),c=i.shopPromotionTitle,u=i.retrievableShopPromotions,l=i.commonShopPromotions,d=i.usablePayPromotions,p=i.unusablePayPromotions,f=i.payPromotionTitle,m=i.selectedPayPromotion,h=i.donotUsePayPromotion,v=i.usableShopPromotions,g=i.unusableShopPromotions,y=i.platformPromotionTitle,_=i.platformPromotionExtraDisplay,b=i.usablePlatformPromotions,k=i.unusablePlatformPromotions,C=i.otherUnusablePlatformPromotions,x=i.selectedShopPromotion,P=i.mallFullBackDetails,E=i.crossFullBackDetails,O=i.selectedPlatformPromotion,D=i.postagePromotion,j=!q()(v)||!q()(g),A=!q()(b)||!q()(k),W=w()(e,"ocData"),L=w()(W,"goodsInfo.mallId"),M=w()(W,"goodsInfo.goodsId"),F=w()(W,"goodsInfo.skuId"),B=w()(e,"ocData.promotionInfo.totalPromotionsConsult")||{},U=w()(B,"floatTitleDisplay"),V=w()(B,"floatCategoryDisplay"),H=function(){var e=s()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ti.needReload=!0,e.next=3,ji.fetchPromotionList({refreshAfterReceive:!0});case 3:(t=e.sent)&&!q()(t.retrievableShopPromotions)&&(t.retrievableShopPromotions=u),t&&ji.setPromotionLists(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=s()(a.a.mark((function e(){var t,n,r,o,i,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.selectedShopPromotion,r=t.selectPlatformPromotion,o=t.selectedPayPromotion,e.next=3,ji.fetchPromotionList({selectedShopPromotion:n,selectPlatformPromotion:r,selectedPayPromotion:o});case 3:(i=e.sent)&&ji.setPromotionLists(i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:Di.a.promotionList},I.a.createElement(Vo,{titleVo:c,noBorder:!j}),(null==D?void 0:D.length)>0&&I.a.createElement("div",{className:Di.a.postagePromotion},I.a.createElement(Oi,{list:D})),(null==l?void 0:l.length)>0&&I.a.createElement(Fo,{text:"展开更多店铺优惠"},l.map((function(e,t){return I.a.createElement(bi,N()({exClass:Di.a.promotionItem,key:t,receiveCallback:H,goodsInfo:{goodsId:M,skuId:F,mallId:L}},e))})))),(A||y)&&I.a.createElement("div",{className:Di.a.promotionList},I.a.createElement(Vo,{titleVo:y,noBorder:!A&&!_}),_&&I.a.createElement(Vo,{titleVo:_,noBorder:!A}),I.a.createElement(Fo,{text:"展开更多平台优惠"},(null==b?void 0:b.length)>0&&b.map((function(t,n){return I.a.createElement(di,N()({exClass:Di.a.promotionItem,key:"usable-".concat(n)},t,e,{selected:!!t.checkStatus,onSelect:s()(a.a.mark((function e(){var n,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.batchSn){e.next=17;break}return e.prev=1,e.next=4,so({batchSn:t.batchSn,merchantTag:52});case 4:n=e.sent,xn({groupId:"20203",customTags:{event:"receivePromotion"}}),n.promotion_identity_vo&&(Ti.needReload=!0,xn({groupId:"20203",customTags:{event:"selectPlatformPromotion"}}),z({selectedShopPromotion:x||ji.notUsePromotion.shop,selectPlatformPromotion:{promotionIdentityVo:n.promotion_identity_vo},selectedPayPromotion:m})),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(1),r=e.t0.response,o=(r||{}).data,i=w()(o,"error_toast")||"领取优惠失败，请重试",Object(J.a)(i);case 15:e.next=18;break;case 17:t.checkStatus?z({selectedShopPromotion:x||ji.notUsePromotion.shop,selectPlatformPromotion:ji.notUsePromotion.platform,selectedPayPromotion:m}):(xn({groupId:"20203",customTags:{event:"selectPlatformPromotion"}}),z({selectedShopPromotion:x||ji.notUsePromotion.shop,selectPlatformPromotion:t,selectedPayPromotion:m}));case 18:case"end":return e.stop()}}),e,null,[[1,9]])})))}))})),(null==k?void 0:k.length)>0&&k.map((function(e,t){return I.a.createElement(bi,N()({onSelect:function(){Object(J.a)("此优惠暂不满足使用条件")},exClass:Di.a.promotionItem,key:"unusable-".concat(t),unUsableDisplayDetail:e.unusablePromotionDetail},e))}))),(null==b?void 0:b.length)>0&&I.a.createElement(Si,{exClass:Di.a.promotionItem,selected:!O,onSelect:function(){O&&z({selectedShopPromotion:x||ji.notUsePromotion.shop,selectPlatformPromotion:ji.notUsePromotion.platform,selectedPayPromotion:m})}})),!q()(C)&&C.map((function(e,t){return I.a.createElement(bi,N()({onSelect:function(){Object(J.a)("此优惠暂不满足使用条件")},isRuleDisable:1,exClass:Di.a.promotionItem,key:t,unUsableDisplayDetail:e.unusablePromotionDetail},e))})),!(null==d?void 0:d.length)&&!(null==p?void 0:p.length)&&!q()(V)&&I.a.createElement("div",{className:Di.a.promotionList},I.a.createElement(Vo,{titleVo:U,title:"支付优惠"}),I.a.createElement("div",{className:Di.a.float,"aria-label":V&&V.reduce((function(e,t){return 100===t.display_type?e:e+t.text}),""),role:"button"},V&&V.map((function(e,t){var n={color:e.font_color,background:e.bg_color},r=R()(Di.a.displayItem,Di.a["promotion".concat(e.display_type)]);return 100===e.display_type?I.a.createElement("img",{style:{height:e.height/100+"rem",width:e.width/100+"rem"},src:Object(jo.b)(e.url)}):I.a.createElement("span",{key:t,className:r,style:n},e.text)})))),n&&((null==d?void 0:d.length)>0||(null==p?void 0:p.length)>0)&&I.a.createElement("div",{className:Di.a.promotionList},I.a.createElement(Vo,{titleVo:f}),I.a.createElement(Fo,{text:"展开更多支付优惠"},d.map((function(e){return I.a.createElement(di,N()({exClass:Di.a.promotionItem,key:e.promotionUniqueNo,selected:!!e.checkStatus},e,{onSelect:function(){e.checkStatus?z({selectedShopPromotion:x||ji.notUsePromotion.shop,selectPlatformPromotion:O||ji.notUsePromotion.platform,selectedPayPromotion:h}):z({selectedShopPromotion:x||ji.notUsePromotion.shop,selectPlatformPromotion:O||ji.notUsePromotion.platform,selectedPayPromotion:e})}}))})),p.map((function(e,t){return I.a.createElement(bi,N()({exClass:Di.a.promotionItem,key:t,goodsInfo:{goodsId:M,skuId:F,mallId:L}},e,{onSelect:function(){return Object(J.a)("此优惠暂不满足使用条件")}}))}))),(null==d?void 0:d.length)>0&&I.a.createElement(Si,{exClass:Di.a.promotionItem,selected:m===h,onSelect:function(){m&&z({selectedShopPromotion:x||ji.notUsePromotion.shop,selectPlatformPromotion:O||ji.notUsePromotion.platform,selectedPayPromotion:h})}})),(!q()(P)||!q()(E))&&I.a.createElement("div",{className:Di.a.promotionList},I.a.createElement(Vo,{title:"拼单返现"}),!q()(P)&&P.map((function(e,t){return I.a.createElement(xi,N()({key:t,exClass:Di.a.promotionItem},e))})),!q()(E)&&E.map((function(e,t){return I.a.createElement(xi,N()({key:t,exClass:Di.a.promotionItem},e))}))))},Ri=xa.getInstance(),Wi=wo.getInstance();function Li(e){var t=e.promotionLists,n=Object(S.useContext)(Oo).glide,r=(t||{}).promotionDisplay,o=Object(S.useRef)();Object(S.useEffect)((function(){var e=o&&o.current;return Object(Oa.a)(e),function(){Object(Oa.c)()}}),[]);var i=t||{},c=i.usableShopPromotions,u=i.usablePlatformPromotions,l=i.selectedShopPromotion,d=i.selectedPlatformPromotion,p=i.selectedPayPromotion,f=i.notHasSelectablePromotion,m=function(){var t=s()(a.a.mark((function t(){var r,o,i,s,m,h,v;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Wi.isFetching){t.next=2;break}return t.abrupt("return");case 2:return o=w()(e,"ocData"),i=w()(o,"goodsInfo.mallId"),s={use_platform_promotion_request:{not_use:!1,promotion_identity_vo:null},use_shop_promotion_requests:[]},m={promotion_identity_vos:[],mall_id:i,not_use:!1},q()(c)||f||(l?m.promotion_identity_vos=[l.promotionIdentityVo]:m.not_use=!0,s.use_shop_promotion_requests=[m]),q()(u)||(d?s.use_platform_promotion_request.promotion_identity_vo=d.promotionIdentityVo:s.use_platform_promotion_request.not_use=!0),h={},(v=null==p||null===(r=p.promotionIdentityVo)||void 0===r?void 0:r.promotion_id)&&(h={duoduo_promotion_id:v},Ri.selectedChannel({channelName:M.DUODUOPAY})),t.next=13,Ri.refresh({promotion_vo:s,pay_extend_map:h});case 13:n();case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=R()(Di.a.titleContainer,V()({},Di.a.hasBorder,q()(r)));return I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:h},I.a.createElement("div",{className:Di.a.title},I.a.createElement("span",{className:Di.a.text},"优惠详情"),I.a.createElement("div",{className:Di.a.close,onClick:m},I.a.createElement("div",{className:Di.a.closeIcon,role:"button","aria-label":"关闭优惠浮层"})))),!q()(r)&&I.a.createElement("div",{className:Di.a.promotionDisplay},r.map((function(e,t){var n={color:e.font_color,fontSize:e.font_size};return I.a.createElement("span",{key:t,style:n},e.text)}))),I.a.createElement("div",{className:"".concat(Di.a.content," ").concat(q()(r)?"":Di.a.hasPromotionDisplay),ref:o},I.a.createElement(Ai,e)),I.a.createElement("div",{className:Di.a.bottom,"aria-label":"确认",role:"button"},I.a.createElement("div",{className:Di.a.btn,onClick:m,"aria-hidden":!0},"确认")))}var Mi=function(e){return I.a.createElement(To,{title:"优惠详情",onCloseIconClicked:e.hidePromotionPopup,contentId:"promotion-popup"},I.a.createElement(Li,e))},Fi=n("imwC"),Bi=n("SXY3"),Ui=n("W1oA"),Vi=n("GqNx"),Hi=n("8FLX"),qi=n("JiL4"),zi=n.n(qi),Qi=wo.getInstance(),Gi=xa.getInstance();function Ji(e){var t=e.displayItems,n=void 0===t?[]:t,r=e.hasDdpayPromotion,a=e.goodsId;return q()(n)?null:n.map((function(e,t){var n={color:e.font_color,background:e.bg_color},o=R()(zi.a.displayItem,zi.a["promotion".concat(e.display_type)]),i=r&&3===e.display_type?{page_el_sn:6127854,goods_id:a}:{};return I.a.createElement(Bi.a,{key:t,trackingInfo:i},I.a.createElement("span",{className:o,style:n},e.text))}))}var Ki=function(e){var t,n=e.selectedSkuID,r=e.isMorganFetching,o=w()(e,"ocData.goodsInfo.goodsId"),c=w()(e,"ocData.promotionInfo.totalPromotionsConsult")||{},u=w()(e,"ocData.promotionInfo.retrievePromotion")||{},l=n&&!r&&c.clickable,d=c.categoryName,p=c.categoryDisplay,f=c.discountPayChannel,m=c.discountPayCategoryDisplay,h=c.defaultCategoryDisplay,v=c.switchPaymentMethodToast,g=(w()(e,"ocData.promotionInfo.platformRetrievePromotion")||{}).promotionStatus,y=w()(e,"ocData.selectedChannel"),_=u.promotionStatus,b=_===St&&f&&y&&y.channelName!==f;if(n&&q()(p)||!n&&q()(h))return null;t=n&&!r?f&&y&&y.channelName===f&&m?m:p:h;var k,S,C=function(){var t=s()(a.a.mark((function t(){var n,r,c,d,p,m,h,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l){t.next=2;break}return t.abrupt("return");case 2:if(n=function(){var e=s()(a.a.mark((function e(){var t,n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qi.fetchPromotionList();case 2:t=e.sent,r=(n=Qi||{}).togglePromotionPopupVisible,o=n.setPromotionLists,t&&(xn({groupId:"20203",customTags:{event:"showPromotionPopup"}}),o&&o(t),setTimeout((function(){r&&r(!0)}),0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_!==Ct){t.next=7;break}return m=null==u||null===(r=u.promotionIdentityVo)||void 0===r||null===(c=r.extension)||void 0===c?void 0:c.is_mass_subsidy,Qr.showPopup(i()(i()({onClose:n,onSuccess:function(){Gi.refresh({front_action:pr})},sourceType:null==u||null===(d=u.promotionIdentityVo)||void 0===d||null===(p=d.extension)||void 0===p?void 0:p.source_type},w()(e,"ocData.goodsInfo")),{},{discount:Object(Q.c)(null==u?void 0:u.discount),isMassSubsidy:+(m||0)})),t.abrupt("return");case 7:if(h=_===St&&f&&y&&y.channelName!==f,g!==It||!h){t.next=11;break}return Qi.reloadToDaCu(),t.abrupt("return");case 11:if(g!==It){t.next=14;break}return Qi.batchAutoTakeCouponAndReloadToDaCu(),t.abrupt("return");case 14:if(!h){t.next=23;break}return t.next=17,Qi.ddpPromotionClick();case 17:return t.next=19,Gi.selectedChannel({channelName:f});case 19:return Gi.refreshAfterSelectedChannel(),Object(ct.h)(v||"已切换为多多支付付款",{duration:3}),Object(ie.b)({page_el_sn:"6127854",op:"click",goods_id:o}),t.abrupt("return");case 23:return t.next=25,Qi.autoTakeCouponOnPromotionCellClickV2();case 25:if(!(b=t.sent)||!b.blockPopup){t.next=28;break}return t.abrupt("return");case 28:n();case 29:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=R()(zi.a.stripe,V()({},zi.a.hasArrow,l||!1)),P=R()(zi.a.desc,V()({},zi.a.hasArrow,l||!1));return I.a.createElement("div",{className:R()(zi.a.promotionCell,V()({},zi.a.promotionCellActive,l)),"aria-label":(S=d,(null===(k=t)||void 0===k?void 0:k.length)>0&&t.forEach((function(e){return S+=e.text})),S),role:"img"},I.a.createElement("div",{className:x,onClick:C,"aria-hidden":!0},I.a.createElement("span",null,d),I.a.createElement("span",{className:P},I.a.createElement(Ji,{displayItems:t,hasDdpayPromotion:b,goodsId:o}),l&&I.a.createElement(Wo.a,null))))},Yi=n("YU58"),Xi=n.n(Yi),Zi=function(e){var t=e.tag,n=e.name,r=e.goodsImg,a=e.deviceType,o=e.specs,i=e.onDescClick,c=e.recycleOrderSubTitle,s=e.bottomTag,u="old"===a;return I.a.createElement("div",{className:Xi.a.deviceInfo},I.a.createElement("div",{className:Xi.a.deviceImg},r&&I.a.createElement(z.a,{src:Object(jo.b)(r)}),I.a.createElement("span",{className:Xi.a.tag},t),u&&s&&I.a.createElement("span",{className:Xi.a.bottomTag},s)),I.a.createElement("div",{className:Xi.a.info},I.a.createElement("div",{className:Xi.a.name},n),u&&c&&c.length>0&&I.a.createElement("div",{className:Xi.a.subTitle},c.map((function(e,t){var n={fontSize:e.fontSize/100+"rem",color:e.fontColor};return I.a.createElement("span",{key:t,style:n},e.text)}))),I.a.createElement("div",{className:Xi.a.specsInfo,onClick:i},I.a.createElement("span",{className:Xi.a.spec},o),I.a.createElement("span",{className:Xi.a.changeText},"修改"),I.a.createElement("span",{className:Xi.a.arrow},I.a.createElement(Wo.a,null)))))},$i=n("muwb"),ec=n.n($i),tc=xa.getInstance(),nc=wo.getInstance(),rc=function(e){var t,n=e.currentSelect,r=e.ocData,o=(r||{}).goodsInfo;o.specs&&o.specs.length>0?t=o.specs.reduce((function(e,t){return e+t.spec_value}),""):n&&(t=Object.keys(n).reduce((function(e,t){return e+n[t]}),""));var c=w()(r,"promotionInfo.totalDiscountDisplay"),u=w()(r,"goodsInfo.unitPrice"),l=(w()(e,"ocData.promotionInfo.totalPromotionsConsult")||{}).clickable,d=function(){var t=s()(a.a.mark((function t(){var n,o,c,u,d,p,f,m;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l){t.next=2;break}return t.abrupt("return");case 2:if(n=function(){var e=s()(a.a.mark((function e(){var t,n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nc.fetchPromotionList();case 2:t=e.sent,r=(n=nc||{}).togglePromotionPopupVisible,o=n.setPromotionLists,t&&(xn({groupId:"20203",customTags:{event:"showPromotionPopup"}}),o&&o(t),setTimeout((function(){r&&r(!0)}),0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=w()(r,"promotionInfo.retrievePromotion")||{},o.promotionStatus!==Ct){t.next=9;break}return f=null==o||null===(c=o.promotionIdentityVo)||void 0===c||null===(u=c.extension)||void 0===u?void 0:u.is_mass_subsidy,Qr.showPopup(i()(i()({onClose:n,onSuccess:function(){tc.refresh({front_action:pr})},sourceType:null==o||null===(d=o.promotionIdentityVo)||void 0===d||null===(p=d.extension)||void 0===p?void 0:p.source_type},w()(e,"ocData.goodsInfo")),{},{discount:Object(Q.c)(null==o?void 0:o.discount),isMassSubsidy:+(f||0)})),t.abrupt("return");case 9:return t.next=11,nc.autoTakeCouponOnPromotionCellClick();case 11:if(!(m=t.sent)||!m.blockPopup){t.next=14;break}return t.abrupt("return");case 14:n();case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=I.a.createElement(I.a.Fragment,null,c&&c.length>0&&c.map((function(e,t){var n=R()(ec.a.promotion,ec.a["promotion".concat(e.display_type)]);return I.a.createElement("span",{key:t,className:n,style:{height:e.height?e.height/100+"rem":null,lineHeight:e.height?e.height/100+"rem":null,fontSize:e.font_size?e.font_size/100+"rem":null,color:e.font_color,backgroundColor:e.bg_color}},e.text)}))),f=I.a.createElement("div",{className:ec.a.nameArea},I.a.createElement("span",{className:ec.a.name},o.name),I.a.createElement("span",{className:ec.a.price,onClick:d},c&&c.length>0?I.a.createElement(I.a.Fragment,null,p):I.a.createElement("span",{className:ec.a.ocPrice},"¥",u),l&&I.a.createElement(Wo.a,null)));return I.a.createElement(Zi,{goodsImg:o.thumbUrl,tag:"新机",name:f,goodsNumber:o.goodsNumber,specs:t,deviceType:"new",onDescClick:e.onDescClick})},ac=n("4fGO"),oc=n("2Pqc"),ic=n.n(oc),cc=function(e){var t=w()(e.ocData,"promotionInfo.tradeInInfo"),n=w()(t,"evaluationTotalAmount"),r=w()(t,"tips"),a=w()(t,"tipsTitle"),o=w()(t,"tags.0.text"),i=w()(t,"tradeInOrderInfo.recycleOrderSubTitle.displayItems"),c=r,s=function(){Object(ac.a)({title:a,confirmButtonLabel:"知道了",ContentProps:{className:ic.a.questionDialog},text:I.a.createElement("div",{className:ic.a.alertList},c.map((function(e,t){return I.a.createElement("div",{className:ic.a.question,key:t},e)})))})},u=I.a.createElement("div",{className:ic.a.nameArea},I.a.createElement("span",{className:ic.a.name},t.recycleProductName),I.a.createElement("span",{className:ic.a.text},"可换"),I.a.createElement("span",{className:ic.a.price},"¥",n&&Object(Q.c)(n)),I.a.createElement("span",{className:ic.a.questionIcon,onClick:s},I.a.createElement(Wo.f,null)));return I.a.createElement(Bi.a,{trackingInfo:{page_el_sn:5960463,op:"impr",goods_id:e.goods.goodsID}},I.a.createElement(Zi,{goodsImg:t.recycleProductUrl,tag:"旧机",name:u,specs:t.recycleSkuSpec,evaluationAmount:t.evaluationAmount,deductAmount:t.deductAmount,estimateSubsidy:t.estimateSubsidy,evaluationRemainingBalance:t.evaluationRemainingBalance,deviceType:"old",onDescClick:e.onDescClick,onQuestionClick:s,bottomTag:o,recycleOrderSubTitle:i}))},sc=n("P58h"),uc=n("CTPE"),lc=n("mapP"),dc=n("QLMx"),pc=n("9yT/"),fc=n("nANs"),mc=n("lcYG"),hc=n("tCpK"),vc=n("DdEg"),gc=n.n(vc),yc=0,_c=1,bc=function(e){var t=w()(e,"ocData.selectedChannel",{}),n=w()(t,"payButtonContent"),r=w()(e,"ocData.payChannelList"),a=w()(t,"skuPayDescription"),o=w()(e,"selectedSkuID"),c=w()(e,"goodsNumber"),s=w()(e,"styleStatus"),u=w()(e,"changeToGroupBuy"),l=w()(e,"setSkuStyleStatus"),d=w()(e,"group"),p=w()(e,"goods"),f=w()(e,"skuInfos"),m=w()(e,"useNormalSkuData"),h=w()(e,"oldForNewSelected"),v=w()(e,"ocData.promotionInfo.tradeInInfo"),g=w()(e,"hidePayHint"),y=w()(t,"creditCardTermIndex"),_=n,b=a;if((null==t?void 0:t.channelName)===M.CREDIT_CARD&&y>=0){var k=w()(t,"creditCardVo.recommendCardVo.creditInstallments"),C=w()(k,"".concat(y,".payButtonContent")),x=w()(k,"".concat(y,".skuPayDescription"));C&&C.length>0&&(_=C),x&&x.length>0&&(b=x)}var P={page_el_sn:4259117,op:"impr",goods_id:e.goods.goodsID};Object(S.useEffect)((function(){t.paymentType&&Rn.oneTimeTrigger(null==e?void 0:e.onClick)}),[t.paymentType]);var E,O=b&&b.length>0&&b.reduce((function(e,t){return e+(t.display_type===yc&&t.text&&t.text.length?t.text.length:0)}),0);E=O<24?"0.14rem":O<26?"0.13rem":"0.12rem";var N,D,T,j,A,W;return I.a.createElement(I.a.Fragment,null,!g&&I.a.createElement("div",{className:gc.a.payHint,"aria-label":(null===(W=b)||void 0===W?void 0:W.length)>0?b.reduce((function(e,t){return t.display_type===yc?e+t.text:e}),""):"当前使用".concat(t.name,"，切换支付方式"),role:"button",onClick:function(){Object(ct.k)({page_el_sn:4259116,op:"click",goods_id:e.goods.goodsID},(function(){!r||r.length<1||(e.onClickPreCheck?e.onClickPreCheck()&&e.showPaymentList&&e.showPaymentList():e.showPaymentList&&e.showPaymentList())}))}},t&&(b?(null===(A=b)||void 0===A?void 0:A.length)>0?I.a.createElement("div",{className:gc.a.payText,"aria-hidden":!0},b.map((function(e,t){var n;switch(e.display_type){case yc:return n={fontSize:E,color:e.font_color},e.text&&I.a.createElement("span",{key:t,style:n},e.text);case _c:return n={height:e.height/100+"rem",width:e.width/100+"rem",marginLeft:"0.04rem",marginRight:"0.04rem"},I.a.createElement("img",{src:e.url,key:t,style:n})}}))):null:I.a.createElement(I.a.Fragment,null,"当前使用",t.name,"，切换支付方式")),r&&r.length>1&&I.a.createElement(Wo.a,null)),I.a.createElement(hc.a,{skuDirectOrder:!0,changeToGroupBuy:u,setSkuStyleStatus:l,styleStatus:s,group:d,goods:p,selectedSkuID:o,skuInfos:f,goodsNumber:c}),t&&o&&!m&&_&&_.length>0?h&&2===h.type&&!v?I.a.createElement(Bi.a,{trackingInfo:i()(i()({},P),{},{type:2})},I.a.createElement("div",{className:R()(gc.a.bottom,(j={},V()(j,gc.a.startHide,1===s),V()(j,gc.a.startDisplay,2===s),j)),"data-active":"red","aria-label":h.pay_button_desc||"通过“以旧换新”购买新机",role:"button",onClick:function(){Object(ct.k)({page_el_sn:4259117,op:"click",goods_id:e.goods.goodsID,type:2},(function(){e.onClick&&e.onClick()}))}},h.pay_button_desc||"通过“以旧换新”购买新机")):I.a.createElement(Bi.a,{trackingInfo:i()(i()({},P),{},{op:"impr",type:v?5:1})},I.a.createElement("div",{className:R()(gc.a.bottom,(D={},V()(D,gc.a.startHide,1===s),V()(D,gc.a.startDisplay,2===s),D)),"data-active":"red","aria-label":null===(T=_)||void 0===T?void 0:T.reduce((function(e,t){return e+t.text}),""),role:"button",onClick:function(){Object(ct.k)({page_el_sn:4259117,op:"click",goods_id:e.goods.goodsID,type:v?5:1},(function(){e.onClick&&e.onClick()}))}},_.map((function(e,t){return I.a.createElement("span",{key:t},e.text)})))):I.a.createElement(Bi.a,{trackingInfo:i()(i()({},P),{},{op:"impr",type:1})},I.a.createElement("div",{className:R()(gc.a.bottom,(N={},V()(N,gc.a.startHide,1===s),V()(N,gc.a.startDisplay,2===s),N)),"data-active":"red",onClick:function(){Object(ct.k)({page_el_sn:4259117,op:"click",goods_id:e.goods.goodsID,type:1},(function(){e.onClick&&e.onClick()}))}},"立即支付")))},kc=n("Z4L4"),wc=n.n(kc);function Sc(e){return e.selected?I.a.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},I.a.createElement("path",{d:"M436.517 725.285 256 545.06l61.586-61.44 115.42 115.273 269.531-300.179 64.878 58.003z",fill:"#9c9c9c"}),I.a.createElement("path",{d:"M511.707 1024C229.742 1024 .366 794.331.366 512S229.669 0 511.707 0c281.966 0 511.415 229.669 511.415 512s-229.449 512-511.415 512zm.147-960C265.07 64.073 64.366 264.997 64.366 512S265.07 960 511.854 960s447.488-200.923 447.488-448S758.638 64 511.854 64z",fill:"#9c9c9c"})):I.a.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"#9c9c9c"},I.a.createElement("path",{d:"M512 2c281.666 0 510 228.334 510 510s-228.334 510-510 510S2 793.666 2 512 230.334 2 512 2zm0 25.5C244.418 27.5 27.5 244.418 27.5 512S244.418 996.5 512 996.5 996.5 779.582 996.5 512 779.582 27.5 512 27.5z"}))}var Ic=function(e){var t=R()(wc.a.selectIcon,V()({},wc.a.selected,e.selected));return I.a.createElement("div",{className:t,style:e.style},I.a.createElement(Sc,e))},Cc=n("GANf"),xc=n.n(Cc),Pc=xa.getInstance(),Ec=function(e){var t,n,r,a=Object(S.useState)(!0),o=T()(a,2),i=o[0],c=o[1],s=w()(e.ocData,"cellBarVo.protocolV2"),u=w()(e.ocData,"goodsInfo.skuId"),l=w()(e.ocData,"goodsInfo.groupId"),d=w()(e.ocData,"goodsInfo.goodsNumber"),p=null===(t=e.goods)||void 0===t||null===(n=t.ui)||void 0===n||null===(r=n.sku_section)||void 0===r?void 0:r.hai_tao_antiepidemic;return I.a.createElement("div",{className:xc.a.agreement,onClick:function(){c(!i),Pc.isSelectedAgreement=!i},style:p?{marginTop:"-0.04rem"}:{}},I.a.createElement(Ic,{selected:i}),s&&!!s.length&&s.map((function(e,t){return I.a.createElement("span",{style:{color:e.color},key:t,onClick:function(t){var n,r,a,o;t.stopPropagation(),t.preventDefault(),e.url&&(n=e.url,r=Object(we.a)(),a=r.isNativePlatform,o=r.isTinyNativePlatform,ut.a.replaceQuery({sku_id:u,goods_number:d,show_sku_selector:a||o?void 0:1,goodsList:JSON.stringify([{group_id:l,group_order_id:Pc.groupOrderId,group_type:Pc.groupType}])},(function(){ut.a.uniformForward(n)})))}},e.title)})))},Oc=n("sZZj"),Nc=n.n(Oc);function Dc(e){var t,n,r=e.goods,a=null==r||null===(t=r.ui)||void 0===t||null===(n=t.sku_section)||void 0===n?void 0:n.hai_tao_antiepidemic;if(!a)return null;var o=a.txt,i=a.color;return I.a.createElement("div",{style:{color:i},className:Nc.a.haiTaoAntiepidemic},o)}var Tc=n("CzHs"),jc=n.n(Tc),Ac=function(e){var t=e.onRefresh;return I.a.createElement("div",{className:jc.a.ocRefresh},I.a.createElement("div",{className:jc.a.netIcon},I.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},I.a.createElement("path",{d:"M791.253 598.23c76.374 0 138.283 61.589 138.283 137.6 0 74.325-59.243 134.89-133.333 137.493l-4.95.085c-76.373 0-138.24-61.59-138.24-137.6 0-74.325 59.222-134.89 133.291-137.493l4.95-.086zM519.531 716.202a74.859 74.859 0 0 1 75.029 74.666 74.837 74.837 0 0 1-70.912 74.56l-4.117.107a74.859 74.859 0 0 1-75.03-74.667 74.837 74.837 0 0 1 70.912-74.56l4.118-.106zm271.722-96.64c-64.597 0-116.906 52.053-116.906 116.266 0 64.171 52.309 116.267 116.906 116.267 64.619 0 116.95-52.096 116.95-116.267 0-64.213-52.331-116.266-116.95-116.266zM519.531 737.536a53.525 53.525 0 0 0-53.696 53.333c0 29.44 24.021 53.334 53.696 53.334a53.525 53.525 0 0 0 53.696-53.334c0-29.44-24.022-53.333-53.696-53.333zm278.613 58.667c8.277 0 15.04 7.168 15.04 16.021s-6.763 16-15.061 16c-8.278 0-15.04-7.147-15.04-16s6.762-16 15.04-16zm-.064-133.611c7.808 0 14.443 6.144 14.976 13.973v2.176l-7.253 93.803c-.32 3.883-3.755 6.699-7.723 6.699a7.68 7.68 0 0 1-7.403-5.12l-.32-1.579-7.253-93.824a15.659 15.659 0 0 1 12.075-15.83l2.005-.277.896-.021zM520.448 527.424c48.576.128 97.28 13.504 140.267 40.533l10.304 6.763-4.246 3.307a201.707 201.707 0 0 0-54.72 65.834l-3.477 7.04-1.835 3.926-3.733-2.24a162.005 162.005 0 0 0-79.445-22.955l-5.888-.043a162.347 162.347 0 0 0-112.747 47.254 51.243 51.243 0 0 1-32.704 14.826l-3.584.128a51.285 51.285 0 0 1-36.288-14.954 50.901 50.901 0 0 1 0-72.256 265.067 265.067 0 0 1 181.483-77.099l6.613-.064zm-173.056 92.288a29.568 29.568 0 0 0 0 42.005c11.733 11.648 30.763 11.648 42.496 0a184.107 184.107 0 0 1 202.496-38.485l5.333 2.41 3.222-5.44a222.873 222.873 0 0 1 29.077-37.631l4.885-4.928-3.072-1.664a244.544 244.544 0 0 0-284.437 43.733zm176-273.152a446.165 446.165 0 0 1 311.85 130.133c20.054 19.947 20.054 52.267 0 72.235a51.243 51.243 0 0 1-32.703 14.827l-3.584.128a51.285 51.285 0 0 1-36.288-14.955 343.51 343.51 0 0 0-235.798-100.16l-7.338-.064c-88 0-176 33.408-243.136 100.224a51.243 51.243 0 0 1-32.704 14.827l-3.584.128a51.285 51.285 0 0 1-36.31-14.955 50.901 50.901 0 0 1 0-72.235A446.165 446.165 0 0 1 515.691 346.56h7.68zM218.859 491.797a29.568 29.568 0 0 0 0 42.006c11.733 11.669 30.762 11.669 42.496 0 142.592-141.91 373.76-141.91 516.352 0 11.733 11.669 30.784 11.669 42.496 0a29.568 29.568 0 0 0 0-42.006c-166.038-165.226-435.307-165.226-601.344 0zM519.53 165.653c160.789 0 321.578 61.035 444.266 183.126 20.054 19.946 20.054 52.266 0 72.234a51.243 51.243 0 0 1-32.725 14.827l-3.584.128a51.285 51.285 0 0 1-36.288-14.955C790.656 320.96 659.52 269.91 527.765 267.861l-8.234-.064c-134.528 0-269.035 51.072-371.67 153.216a51.243 51.243 0 0 1-32.725 14.827l-3.563.128a51.285 51.285 0 0 1-36.309-14.955 50.901 50.901 0 0 1 0-72.234C195.499 229.12 352.32 168.107 509.888 165.739l9.643-.086zM90.304 363.883a29.568 29.568 0 0 0 0 42.005c11.733 11.67 30.784 11.67 42.496 0 213.61-212.544 559.85-212.544 773.44 0 11.733 11.67 30.784 11.67 42.496 0a29.568 29.568 0 0 0 0-41.984C711.723 128 327.36 128 90.326 363.904z",fill:"#CCC"}))),I.a.createElement("div",{className:jc.a.note},"网络不太顺畅"),I.a.createElement("div",{className:jc.a.refreshBtn,onClick:t},"刷新"))},Rc=n("ZeWQ"),Wc=xa.getInstance(),Lc=function(e,t){return parseInt(e,10)||t},Mc=function(e,t){return(e||"").match(/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/)?e:t},Fc=function(e,t){if(Array.isArray(e)){var n=-1,r=-1,a=null;if(e.length<=0)Wc.refresh({front_action:fr,address_id:-1});else{for(var o,i=0;i<e.length;i++){if(((o=e[i]).address_id||"").toString()===t){r=i,a=o,Wc.refresh({front_action:fr,address_id:a.address_id});break}(o.is_default||"").toString()===xt&&(n=i)}r<0&&n>=0&&(a=e[n],Wc.refresh({front_action:fr,address_id:a.address_id}))}}},Bc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fc;if(!(e.addressInfo.addressId<=0)||e.addressInfo.addressGiftStatus){var n=function(e,n){var r=(n=n||{}).selected_address_id||"",a=n.addresses||[];!e&&n&&t(a,r)},r=Object(we.a)(),a=r.isNativePlatform,o=r.isTinyNativePlatform,c={select:1,saleRegions:e.goodsInfo.allowedRegion.split(",")||[],addressID:e.addressInfo.addressId,unreachableRec:1,costTemplateId:e.goodsInfo&&e.goodsInfo.costTemplateId+""||"",mallId:e.goodsInfo&&e.goodsInfo.mallId||"",goodsId:e.goodsInfo.goodsId||"",addressRenderExtendMap:e.addressRenderExtendMap?JSON.stringify(e.addressRenderExtendMap):void 0,goodsList:JSON.stringify([{goods_number:e.goodsInfo.goodsNumber,goods_id:e.goodsInfo.goodsId,sku_id:e.goodsInfo.skuId,group_id:e.goodsInfo.groupId,group_order_id:Wc.groupOrderId,group_type:Wc.groupType,order_extra_type:Wc.orderExtraType}])},s={sel_address_id:c.addressID,allowed_regions:c.saleRegions,allow_shipping_provinces:c.allowShippingRegions,unreachable_rec:c.unreachableRec,cost_template_id:c.costTemplateId,mall_id:c.mallId,goods_id:c.goodsId,goods_number:e.goodsInfo.goodsNumber,sku_id:e.goodsInfo.skuId,address_render_extend_map:c.addressRenderExtendMap,goods_list:c.goodsList,show_sku_selector:1,is_single_buy:+!!e.isSingleBuy,scene:"1",thumb_url:void 0},u={props:{select:c.select||0,sale_provinces:c.saleRegions||[],allow_shipping_provinces:c.allowShippingRegions||[],address_id:c.addressID||"",unreachable_rec:c.unreachableRec,cost_template_id:c.costTemplateId,mall_id:c.mallId,goods_id:c.goodsId,address_render_extend_map:c.addressRenderExtendMap,goods_list:c.goodsList,complete:n}},l=/\/(\S*)\.html/,d=location.pathname,p=d.match(l)[1].split("/"),f=p[p.length-1],m="/addresses.html";a||(m="/addresses.html?"+Object(C.b)(i()(i()({back_page:f},Object(C.h)(location.href)),s))),ut.a.replaceQuery({sku_id:e.goodsInfo.skuId,goods_number:e.goodsInfo.goodsNumber,show_sku_selector:a||o?void 0:1,is_single_buy:+!!e.isSingleBuy},(function(){ut.a.uniformForward(m,null,u)}))}},Uc=n("i8i4"),Vc=n.n(Uc),Hc=n("i7vn"),qc=n.n(Hc);function zc(e){var t=e.labels;if(!(t&&t.length>0))return null;var n=t.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return I.a.createElement("div",{key:t,style:{fontSize:Lc(e.fontSize,12)/100+"rem",color:Mc(e.fontColor,"#fa323c")}},e.title)}));return I.a.createElement("div",{className:qc.a.instruction},n)}var Qc=function(e){var t=Object(S.useState)(!1),n=T()(t,2),r=n[0],a=n[1],o=Object(S.useRef)();Object(S.useEffect)((function(){return o.current=document.createElement("div"),document.body.appendChild(o.current),function(){document.body.removeChild(o.current),o.current=null}}),[]);var i=e.addressInfo,c=void 0===i?{}:i,s=e.goodsInfo,u=void 0===s?{}:s,l=e.editAddress,d=e.communityId,p=e.groupOrderId;if(!c.addressId)return null;var f=c.name,m=c.mobile,h=c.province,v=c.city,g=c.district,y=c.address,_=c.addressLabels,b="".concat(f," ").concat(m," 当前收货地址为").concat(h," ").concat(v).concat(g).concat(y);return(null==_?void 0:_.length)>0&&_.forEach((function(e){b+=(null==e?void 0:e.title)||""})),b+="点击可更换",I.a.createElement("div",{className:"oc-address-info ".concat(qc.a.addressInfo),"data-active":"cell-white",onClick:function(){u.communityGroupBuying&&d?a(!0):l()},"aria-label":b,role:"button"},I.a.createElement("div",{className:qc.a.location,"aria-hidden":!0},I.a.createElement("svg",{className:qc.a.icon,fill:"#9c9c9c",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"33987"},I.a.createElement("path",{d:"M512 581.632c-64 0-116.224-52.224-116.224-116.224S448 349.184 512 349.184s116.224 52.224 116.224 116.224-52.224 116.224-116.224 116.224z m0-185.856c-38.4 0-69.632 31.232-69.632 69.632s31.232 69.632 69.632 69.632 69.632-31.232 69.632-69.632-31.232-69.632-69.632-69.632z","p-id":"33988"}),I.a.createElement("path",{d:"M884.224 465.408c0-205.824-166.912-372.224-372.224-372.224S139.776 259.584 139.776 465.408c0 130.048 122.368 283.648 372.224 455.68 249.856-172.032 372.224-325.632 372.224-455.68z m-372.224 512c-279.04-186.88-418.816-357.888-418.816-512 0-231.424 187.392-418.816 418.816-418.816s418.816 187.392 418.816 418.816c0 154.112-139.776 325.12-418.816 512z","p-id":"33989"}))),I.a.createElement("div",{className:qc.a.info,"aria-hidden":!0},I.a.createElement("div",{className:qc.a.receiver},I.a.createElement("span",{className:qc.a.name},f),I.a.createElement("span",{className:qc.a.mobile},"，",m),I.a.createElement("span",{className:qc.a.city},"，",h," ",v)),I.a.createElement("div",{className:qc.a.detail},g," ",y),I.a.createElement(zc,{labels:_})),I.a.createElement("div",{className:qc.a.arrow,"aria-hidden":!0},I.a.createElement(Wo.a,null)),r&&Vc.a.createPortal(I.a.createElement(Rc.a,{title:"请确认收货地址",onConfirm:function(t){a(!1),e.updateAddressInfo({addressId:t.address_id})},onClose:function(){a(!1)},trackingContext:{},analyzeClipBoard:!0,useNewUI:!0,checkRegion:!0,communityId:d,groupOrderId:p,addressId:c.addressId}),o.current))},Gc=n("r5oO"),Jc=n.n(Gc),Kc=xa.getInstance();var Yc,Xc=function(e){var t=Object(S.useState)(!1),n=T()(t,2),r=n[0],a=n[1],o=Object(S.useRef)();Object(S.useEffect)((function(){return Kc.initShowEditAddress((function(){return a(!0)})),o.current=document.createElement("div"),document.body.appendChild(o.current),function(){document.body.removeChild(o.current),o.current=null}}),[]);var i=e.addressInfo,c=void 0===i?{}:i,s=e.communityId,u=e.groupOrderId,l=c.addressId,d=c.addressGiftStatus;return parseInt(l||0)<=0&&!d?I.a.createElement("div",{className:Jc.a.container,"aria-label":"手动添加收货地址",role:"button"},I.a.createElement("div",{className:Jc.a.cell,"data-active":"cell-white","aria-hidden":!0},I.a.createElement("div",{className:"".concat(Jc.a.addAddress," ").concat(Jc.a.indicator),onClick:function(t){t.stopPropagation(),e.onClickPreCheck?e.onClickPreCheck()&&a(!0):a(!0)}},I.a.createElement("svg",{className:Jc.a.addIcon,viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"33736",width:"20",height:"20",fill:"#E02E24"},I.a.createElement("path",{d:"M336.83 402.19zM622.69 406.86h0.01-0.01zM901.72 2H122.85A120.75 120.75 0 0 0 2.09 122.73v778.88a120.75 120.75 0 0 0 120.76 120.75h778.87a120.76 120.76 0 0 0 120.76-120.75V122.73A120.76 120.76 0 0 0 901.72 2z m-186 561H563.14v152.58a50.86 50.86 0 1 1-101.71 0V563H308.87a50.85 50.85 0 1 1 0-101.7h152.56V308.75a50.86 50.86 0 0 1 101.71 0v152.57H715.7a50.85 50.85 0 0 1 0 101.7z","p-id":"33737"})),I.a.createElement("span",null,"手动添加收货地址"))),r&&Vc.a.createPortal(I.a.createElement(Rc.a,{title:s?"添加新收货地址":"请填写收货地址",onConfirm:function(t){e.updateAddressInfo&&e.updateAddressInfo({addressId:t.address_id,name:t.name,province:t.province,city:t.city,district:t.district,address:t.address,mobile:t.mobile,provinceId:t.province_id,cityId:t.city_id,districtId:t.district_id})},onClose:function(){a(!1)},trackingContext:{},communityId:s,groupOrderId:u,analyzeClipBoard:!0,useNewUI:!0,checkRegion:!0}),o.current)):null},Zc=n("9U6K"),$c=n.n(Zc);function es(e){var t=e.addressTipVo,n=e.onClick;if(Object(S.useEffect)((function(){(null==t?void 0:t.type)===Yc.HMT_CONSO_TIP&&ka().increaseCount()})),!t)return null;var r=t.bgColor,a=void 0===r?"#ebfce9":r,o=t.leftTips,i=void 0===o?[]:o,c=t.rightTips,s=void 0===c?[]:c;return I.a.createElement("div",{className:$c.a.container,style:{background:a}},I.a.createElement("span",null,i.map((function(e){var t=e.content,n=e.cssVo,r=n.fontSize,a=n.fontColor;return I.a.createElement("span",{key:t,style:{fontSize:r,color:a}},t)}))),I.a.createElement("span",{style:{color:"#0076FF"},onClick:n},s.map((function(e){var t=e.content,n=e.cssVo,r=n.fontSize,a=n.fontColor;return I.a.createElement("span",{key:t,style:{fontSize:r,color:a}},t)})),I.a.createElement(Qo.a,{className:$c.a.arrow,icon:Go.a})))}!function(e){e.HMT_CONSO_TIP="hmt_conso_tip"}(Yc||(Yc={}));var ts,ns=n("PJYZ"),rs=n.n(ns),as="请填写真实姓名",os="请填写身份证号",is="请填写正确的身份证号",cs="姓名和身份证不匹配，请重新认证，已保留上次认证信息",ss="带*信息无法提交，请重新认证，已保留上次认证信息",us="提交身份认证失败，请稍后重试",ls="身份认证失败，请稍后重试",ds=[40003,11e4],ps=n("rIj9"),fs=function(){var e=s()(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ts||(r=wn.a.getInstance().getPageID(),ts=Object(ps.a)({pageInfo:{pageId:r}})),e.abrupt("return",ts(i()(i()({},t),{},{defaultErrorHandler:function(){}})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ms=Object(we.b)(window.navigator.userAgent);function hs(e,t){return function(n){if(n&&n.target&&/\*/.test(n.target.value)){var r={};r[t]="",e.setState(r)}e.isFocus=!0,e.scrollYWhenFocus=window.scrollY}}function vs(e,t){return function(n){var r={snapshotId:""};/\*/.test(e.state.realName)||/\*/.test(e.state.idCardNo)?(r.realName="",r.idCardNo=""):r[t]=n.target.value,e.setState(r)}}function gs(e){return ys.apply(this,arguments)}function ys(){return(ys=s()(a.a.mark((function e(t){var n,r,o,i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.baseParams,r=t.queryUrl,o=t.extraParams,i=t.getAntiContent,Object(mt.b)(),o&&(c=Object.assign(n,o)),!i){e.next=8;break}return e.next=6,i();case 6:e.t0=e.sent,c.risk_request={anti_content:e.t0};case 8:return e.abrupt("return",fs({method:"POST",url:r,data:c}).then((function(e){return Object(mt.a)(),{success:!0,result:e}})).catch((function(e){Object(mt.a)();var t,n=(e=e||{}).errorCode,r=e.response;return r&&r.data&&(t=r.data.error_msg),!n&&r&&(n=r.status),{success:!1,errorCode:n,message:t,response:r}})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n("gvmc");function _s(e){var t=e.visible,n=e.extraParams,r=e.onRecIdcardClick,a=Object(S.useState)([]),o=T()(a,2),i=o[0],c=o[1];return Object(S.useEffect)((function(){var e;(e=n,fs({method:"POST",url:"api/origenes/recommend/user/cards/order",data:e}).then((function(e){return e})).catch((function(e){}))).then((function(e){var t=e&&e.result||[];t&&t.length&&c(t)}))}),[]),I.a.createElement(I.a.Fragment,null,t&&i&&i.length>0&&I.a.createElement("div",{className:"bubbleContainer"},I.a.createElement("span",{className:"recCardTriangle"}),I.a.createElement("div",{className:"idCardList"},i.slice(0,3).map((function(e,t){return I.a.createElement("div",{className:"recCardItem",key:t,onClick:function(t){r(e)}},e.id_card_name)})))))}n("v9rC");var bs=function(e){m()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=y()(e);if(t()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).state={idFocus:!1},r.idcardFormRef=I.a.createRef(),r.nameInputRef=I.a.createRef(),r.onIdFocus=r.onIdFocus.bind(rs()(r)),r.onIdBlur=r.onIdBlur.bind(rs()(r)),r}return p()(n,[{key:"componentDidMount",value:function(){this.props.onShow&&this.props.onShow();var e=this.idcardFormRef.current,t=this.nameInputRef.current;Object(Oa.a)(e),t&&t.focus()}},{key:"componentWillUnmount",value:function(){Object(Oa.c)()}},{key:"onIdFocus",value:function(){this.props.onIdFocus(),this.setState({idFocus:!0})}},{key:"onIdBlur",value:function(){this.props.onBlur(),this.setState({idFocus:!1})}},{key:"render",value:function(){var e=this.props,t=e.onClickClose,n=e.onClickSubmit,r=e.realName,a=e.idCardNo,o=e.onNameFocus,i=e.onNameChange,c=e.onIdChange,s=e.labels,u=e.onBlur,l=e.submitText,d=e.onRecIdcardClick,p=e.disableRec;return I.a.createElement("div",{className:"new-idcard-form",id:"new-id-card",ref:this.idcardFormRef},I.a.createElement("div",{className:"new-idcard-form-container"},I.a.createElement("div",{className:"new-idcard-form-title"},s&&s.title||"实名认证",I.a.createElement("div",{className:"new-idcard-form-close",onClick:t})),s&&s.formHint&&I.a.createElement("div",{className:"new-idcard-form-hint"},s.formHint),I.a.createElement("div",{className:"new-idcard-form-row"},I.a.createElement("div",{className:"new-idcard-form-label"},"真实姓名"),I.a.createElement("div",{className:"new-idcard-form-input"},p?null:I.a.createElement(_s,{visible:!this.state.idFocus&&!r,extraParams:this.props.extraParams,onRecIdcardClick:d}),I.a.createElement("input",{onFocus:o,onChange:i,type:"text",value:r,placeholder:s&&s.nameHint||"请填写姓名",onBlur:u,ref:this.nameInputRef}))),I.a.createElement("div",{className:"new-idcard-form-row"},I.a.createElement("div",{className:"new-idcard-form-label"},"身份证号"),I.a.createElement("div",{className:"new-idcard-form-input"},I.a.createElement("input",{onFocus:this.onIdFocus,onChange:c,type:"text",value:a,placeholder:s&&s.idHint||"请填写身份证号码",onBlur:this.onIdBlur}))),I.a.createElement("div",{className:"new-idcard-form-action","data-active":"red"},I.a.createElement("div",{className:"new-idcard-form-btn",onClick:n},l||"保存"))))}}]),n}(I.a.Component);var ks=function(e){m()(r,e);var t,n=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=y()(e);if(t()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}(r);function r(e){var t,a;return l()(this,r),(t=n.call(this,e)).hasAuthenticId=!1,t.isSubmitting=!1,t.state={realName:"",idCardNo:"",snapshotId:"",inHystrixAlert:!1},t.focusRealName=hs(rs()(t),"realName"),t.focusIdCardNo=hs(rs()(t),"idCardNo"),t.changeRealName=vs(rs()(t),"realName"),t.changeIdCardNo=vs(rs()(t),"idCardNo"),t.onBlur=(a=rs()(t),function(){a.isFocus=!1,ms.systemVersion&&Object(Se.c)(ms.systemVersion,"12.0")>=0&&"function"==typeof window.scrollTo&&setTimeout((function(){a.isFocus||window.scrollTo(0,a.scrollYWhenFocus)}),0)}),t.validateInfo=(rs()(t),function(e,t){var n=null,r=!0;return function(e){return/^[\u2f00-\u9fff]{1,10}([.·]{0,1}[\u2f00-\u9fff]+)*$/gi.test(e)}(e)?t?/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)||(n=is,r=!1):(n=os,r=!1):(n=as,r=!1),{valid:r,errorHint:n}}),t.onShow=t.onShow.bind(rs()(t)),t.onClickClose=t.onClickClose.bind(rs()(t)),t.submit=t.submit.bind(rs()(t)),t.onRecIdcardClick=t.onRecIdcardClick.bind(rs()(t)),t}return p()(r,[{key:"componentDidMount",value:function(){var e=this.props||{},t=e.idCardName,n=e.idCardNo;this.setState({realName:t||"",idCardNo:n||""})}},{key:"onRecIdcardClick",value:function(e){e&&e.card_snapshot_id&&this.setState({realName:e.id_card_name,idCardNo:e.mask_id_card_no,snapshotId:e.card_snapshot_id})}},{key:"onShow",value:function(){var e=this.props.trackingConstant;e&&e.IDCardPopupShow&&Object(ie.c)(e.IDCardPopupShow)}},{key:"onClickClose",value:function(e){this.props.onClickClose&&this.props.onClickClose()}},{key:"submit",value:(t=s()(a.a.mark((function e(){var t,n,r,o,i,c,s,u,l,d,p,f,m,h,v,g,y,_=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.trackingConstant,r=t.extraParams,o=t.submitSuccessCallback,i=t.getAntiContent,c=(this.state.realName||"").trim(),s=(this.state.idCardNo||"").trim(),u=this.state.snapshotId,l={id_card_name:c,id_card_no:s},d="api/origenes/strong/update/user/card",!this.isSubmitting){e.next=8;break}return e.abrupt("return");case 8:if(u){e.next=20;break}if(!/\*/.test(c)&&!/\*/.test(s)){e.next=13;break}return Object(J.a)(ss),this.onClickClose(),e.abrupt("return");case 13:if((p=this.validateInfo(c,s)).valid){e.next=17;break}return Object(J.a)(p.errorHint,{duration:3}),e.abrupt("return");case 17:18===s.length&&"x"===s.charAt(17)&&(s=s.toUpperCase()),e.next=22;break;case 20:l={snapshot_id:u},d="api/origenes/update/user/card/snapshotid";case 22:return this.isSubmitting=!0,e.next=25,gs({baseParams:l,queryUrl:d,extraParams:r,getAntiContent:i});case 25:if(e.t0=e.sent,e.t0){e.next=28;break}e.t0={};case 28:if(!(f=e.t0).success){e.next=37;break}this.hasAuthenticId=!0,(m=n&&n.IDCardPopupSaveClick)&&Object(ie.b)(m),o&&o({success:!0,result:f.result,realName:c,idCardNo:s}),this.onClickClose(),e.next=47;break;case 37:if(h=f.errorCode,v=f.message,g=f.response,![1101,409,512,511,11e4,500,5e4].includes(+h)){e.next=45;break}return Object(Qt.a)({title:"当前实名信息提交人数较多，请稍后再试",confirmButtonLabel:"知道了",onConfirm:function(){_.setState({inHystrixAlert:!1})}}),this.setState({inHystrixAlert:!0}),e.next=43,new Promise((function(e){return setTimeout(e,200)}));case 43:e.next=47;break;case 45:y=ds.includes(h)?us:43008===h&&this.hasAuthenticId?cs:h&&g?v||us:ls,Object(J.a)(y);case 47:this.isSubmitting=!1;case 48:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=this.props.labels;return this.props.idCardFormVisible&&!this.state.inHystrixAlert?I.a.createElement(bs,{onClickClose:this.onClickClose,onShow:this.onShow,onIdFocus:this.focusIdCardNo,onNameChange:this.changeRealName,onNameFocus:this.focusRealName,onIdChange:this.changeIdCardNo,realName:e.realName,idCardNo:e.idCardNo,onClickSubmit:this.submit,onBlur:this.onBlur,labels:t,submitText:this.props.submitText,extraParams:this.props.extraParams,onRecIdcardClick:this.onRecIdcardClick,disableRec:this.props.disableRec}):null}}]),r}(S.Component),ws={MOBILE:"mobile",MOBILE_ID:"mobile_id",NAME:"id_card_name",ID:"id_card_no",ID_SNAPSHOT:"id_card_snapshot_id",TEMPERATURE:"temperature",SYMPTOM:"symptom_type",RISK_TRAVEL:"risk_travel",CONFIRM:"confirm",OCCUPATION:"occupation_type",CATALOG:"catalog",SELF_USE:"self_use"},Ss=n("JZM8"),Is=n.n(Ss),Cs=n("rx36"),xs="undefined"!=typeof window,Ps={DEFAULT:0,LOADING:1,LOADED:2,LOAD_FAILED:3},Es=null,Os=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,e),this.debug=!1,this.serverTime=t.serverTime||0,this.riskControlCrawler=null}var t;return p()(e,[{key:"getStatus",value:function(){return Ps.LOADED}},{key:"loadScript",value:function(){return Promise.resolve()}},{key:"initRiskController",value:function(){!this.riskControlCrawler&&xs&&(this.riskControlCrawler=new Cs.default({serverTime:this.serverTime,_2827c887a48a351a:!1}),this.riskControlCrawler.init(null))}},{key:"getRiskControlInfoSync",value:(t=s()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.riskControlCrawler){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.riskControlCrawler.messagePackSync({touchEventData:!0,clickEventData:!0,focusblurEventData:!0,changeEventData:!0,locationInfo:!0,referrer:!0,browserSize:!0,browserInfo:!0,token:!0,fingerprint:!0});case 4:return t=e.sent,this.riskControlCrawler.clearCache(),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getRiskControlInfoAsync",value:function(){var e=this;return new Promise((function(t,n){e.initRiskController(),t(e.getRiskControlInfoSync())}))}}]),e}();Os.RiskControllerStatus=Ps,Os.RISK_SCRIPT_DEV="//cdn.hutaojie.com/hanzo/react-1343CE9FC918BA68DC77A314370FF50B-759d07b714.js",Os.RISK_SCRIPT_PROD="//static.pddpic.com/hanzo/react-1343CE9FC918BA68DC77A314370FF50B-58d69cbc63.js",Os.getInstance=function(e){return xs?(Es||(Es=new Os(e)),Es):null};var Ns,Ds=Os,Ts=function(e){if(!Ns){var t=wn.a.getInstance().getPageID();Ns=Object(ps.a)({pageInfo:{pageId:t}})}return Ns(i()(i()({},e),{},{encodeNativeResponse:!1,defaultErrorHandler:function(){}}))},js=function(){var e=s()(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Ds({serverTime:Date.now()})).initRiskController(),e.next=4,t.getRiskControlInfoSync();case 4:return n=e.sent,e.prev=5,e.next=8,Ts({method:"POST",url:"/api/kali/query/masked/idcard/by/scene",data:{scene:"ANTI_VIRUS",anti_content:n}});case 8:if(!(r=e.sent).success){e.next=11;break}return e.abrupt("return",(r.result||[]).map((function(e){return{snapshotId:e.snapshot_id,idNo:e.id_card_no,name:e.id_card_name}})));case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",[]);case 16:return e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}(),As=function(){var e=s()(a.a.mark((function e(t){var n,r,o,i,c,s,u,l,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Ds({serverTime:Date.now()})).initRiskController(),e.next=4,n.getRiskControlInfoSync();case 4:return r=e.sent,o=t.snapshotId,i=t.provinceId,c=t.cityId,e.next=8,Ts({method:"POST",url:"/api/barbera/biz/info/epidemic/drug/latest",data:{snapshot_id:o,province_id:i,city_id:c,anti_content:r}});case 8:if(null==(s=e.sent)?void 0:s.success){e.next=11;break}throw new Error;case 11:return u=s.result,l=u.epidemic_drug_info_page_template,d=u.epidemic_drug_info,p=u.epidemic_drug_info_page_instruction,d[ws.CONFIRM]=!0,e.abrupt("return",{template:l,info:d,instruction:p});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rs=function(){var e=s()(a.a.mark((function e(t){var n,r,o,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Ds({serverTime:Date.now()})).initRiskController(),e.next=4,n.getRiskControlInfoSync();case 4:return r=e.sent,e.next=7,Ts({method:"POST",url:"/api/barbera/biz/info/epidemic/drug/save",data:i()(i()({},Is()(t,Object.values(ws))),{},{province_id:t.provinceId,city_id:t.cityId,anti_content:r})});case 7:if(o=e.sent,c=o.success,s=o.result,!c){e.next=12;break}return e.abrupt("return",null==s?void 0:s.snapshot_id);case 12:throw new Error;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ws=function(){var e=s()(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ts({method:"POST",url:"api/barbera/biz/info/epidemic/drug/index"});case 2:if(t=e.sent,n=t.success,r=t.result,n){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",r.epidemic_drug_index_list);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ls=I.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},I.a.createElement("path",{d:"m624.108 511.996 375.932-373.359c31.939-31.72 31.939-83.128 0-114.848-31.941-31.72-83.705-31.72-115.646 0L511.998 393.62 139.6 23.788c-31.94-31.72-83.705-31.72-115.644 0s-31.94 83.128 0 114.848l375.931 373.36L23.956 885.355c-31.94 31.72-31.94 83.128 0 114.848 15.97 15.86 36.896 23.79 57.822 23.79s41.852-7.93 57.822-23.79l372.398-369.83 372.397 369.83c15.97 15.86 36.896 23.79 57.822 23.79s41.853-7.93 57.823-23.79c31.939-31.72 31.939-83.128 0-114.848l-375.932-373.36z"})),Ms=I.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},I.a.createElement("path",{d:"M899.197 147.163C770.636 141.475 647.65 97.161 533.593 15.53L511.976 0l-21.503 15.416c-114.17 81.745-237.1 126.23-364.808 131.747H85.333v346.434c0 253.938 171.738 471.242 417.485 528.526l10.694 1.82 7.737-1.82c245.746-57.284 417.37-274.588 417.37-528.469V147.22h-39.422zM483.25 687.293l-187.21-192.728 50.23-51.766 136.98 141.02 240.058-247.17 50.287 51.71-290.345 298.934z"})),Fs=I.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},I.a.createElement("path",{d:"m512 0 11.123.106C800.768 6.038 1024 232.942 1024 512c0 282.765-229.235 512-512 512S0 794.765 0 512 229.235 0 512 0zM383.576 343.64a28.319 28.319 0 0 0-39.9 0 27.895 27.895 0 0 0 0 39.618L473.336 512 343.71 640.742a27.895 27.895 0 0 0 0 39.618 28.213 28.213 0 0 0 39.9 0L512 552.783 640.424 680.36l3.495 2.93a28.248 28.248 0 0 0 36.37-2.93 27.895 27.895 0 0 0 0-39.618L550.665 512l129.624-128.742 2.719-3.177a27.895 27.895 0 0 0-2.719-36.44l-3.178-2.684a28.354 28.354 0 0 0-36.723 2.683L512 471.181z"})),Bs=I.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},I.a.createElement("path",{d:"M292.7 1023.998c-14.555 0-29.11-5.556-40.222-16.667-22.223-22.222-22.223-58.24 0-80.444L667.124 512.24 251.978 97.112c-22.222-22.204-22.222-58.222 0-80.445s58.222-22.222 80.445 0l428.554 428.536c36.944 36.981 36.944 97.11.038 134.074L332.922 1007.33c-11.111 11.112-25.667 16.667-40.222 16.667z"})),Us=I.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"#E02E24"},I.a.createElement("path",{d:"M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0zm219.648 307.2L444.53 627.598l-122.937-123.05L256 570.027l192.284 192.398 352.484-393.387-69.12-61.838z"})),Vs=I.a.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"#9c9c9c"},I.a.createElement("path",{d:"M512 2c281.666 0 510 228.334 510 510s-228.334 510-510 510S2 793.666 2 512 230.334 2 512 2zm0 25.5C244.418 27.5 27.5 244.418 27.5 512S244.418 996.5 512 996.5 996.5 779.582 996.5 512 779.582 27.5 512 27.5z"})),Hs=I.a.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"#e02e24"},I.a.createElement("path",{d:"M512.28 120.22c-216.15 0-392 175.85-392 392s175.85 392 392 392 392-175.85 392-392-175.84-392-392-392z m0 840c-247 0-448-201-448-448s201-448 448-448 448 201 448 448-200.97 448-448 448z m-66.41-261.94L287.76 540.54l53.93-53.78 101.13 100.91 236.1-262.72 56.84 50.77z"})),qs=n("xIpx"),zs=n.n(qs);var Qs=function(e){m()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=y()(e);if(t()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).scrollerRef=I.a.createRef(),e.setTranslateY=function(t){e.srollerDom.style.transform="translate3d(0,".concat(t,"px,0)"),e.srollerDom.style.webkitTransform="translate3d(0,".concat(t,"px,0)")},e.setRotateX=function(t){var n=e.srollerDom.children||[];Array.prototype.slice.call(n).forEach((function(e,n){e.style.transform="rotateX(".concat(25*(n+t),"deg)"),e.style.webkitTransform="rotateX(".concat(25*(n+t),"deg)")}))},e.setTransitionDuration=function(e,t){e.style.transitionDuration=t;var n=function t(){e.style.transitionDuration="0ms",e.removeEventListener("transitionEnd",t),e.removeEventListener("webkitTransitionEnd",t)};e.addEventListener("transitionEnd",n),e.addEventListener("webkitTransitionEnd",n)},e.bindEvent=function(){var t=0,n=1,r=0,a=0,o=null;e.srollerDom.addEventListener("touchstart",(function(e){e.preventDefault(),e.stopPropagation(),clearInterval(o),t=e.changedTouches[0].clientY,r=t}),!1),e.srollerDom.addEventListener("touchmove",(function(o){o.preventDefault(),o.stopPropagation();var i=o.changedTouches[0].pageY-t;a=o.changedTouches[0].pageY-r,r=o.changedTouches[0].pageY,(0===e.index&&i>0||e.index===-e.maxIndex&&i<0)&&(n=1-Math.abs(i)/e.srollerDom.clientWidth,n=Math.max(n,0),i=parseInt(i*n)),e.setTranslateY(e.index*e.distance+i),e.setRotateX(e.index+i/e.distance)}),!1),e.srollerDom.addEventListener("touchend",(function(n){n.preventDefault(),n.stopPropagation();var r=n.changedTouches[0].pageY-t;0===r?(e.index=-n.target.getAttribute("data-index"),e.setTransitionDuration(e.srollerDom,"200ms"),e.setTranslateY(e.index*e.distance),e.setRotateX(e.index),e.props.setIndex(Math.abs(e.index))):function(t){var n=!1;Math.abs(a)<=1&&(n=!0),o=setInterval((function(){Math.abs(a)<=1?(clearInterval(o),n&&(e.index+=Math.round(t/e.distance)),e.index=e.index>0?0:Math.max(e.index,-e.maxIndex),e.setTransitionDuration(e.srollerDom,"400ms"),Array.prototype.slice.call(e.srollerDom.children).forEach((function(t){e.setTransitionDuration(t,"200ms")})),e.setTranslateY(e.index*e.distance),e.setRotateX(e.index),e.props.setIndex(Math.abs(e.index))):(t+=a*=.3,e.index+=Math.round(t/e.distance))}),10)}(r)}),!1)},e.ready=function(){e.calculateDistance(),e.setTranslateY(e.index*e.distance),e.setRotateX(e.index),e.props.setIndex(Math.abs(e.index))},e.calculateDistance=function(){var t=e.srollerDom.offsetHeight,n=(e.props.data||[]).length||1;e.distance=(t/n).toFixed(2)},e}return p()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=void 0===t?[]:t,r=e.activeIndex;this.index=-r||0,this.maxIndex=n.length-1,this.ready(),this.bindEvent()}},{key:"componentDidUpdate",value:function(){var e=this,t=(this.props.data||[]).length-1;t!==this.maxIndex&&(this.index=-this.props.activeIndex,this.maxIndex=t,this.srollerDom.style.transitionDuration="200ms",setTimeout((function(){e.ready()}),0))}},{key:"shouldComponentUpdate",value:function(e){return(e.data.length!==this.props.data.length||e.data[0]!==this.props.data[0]||e.activeIndex!==this.props.activeIndex)&&(this.index=-e.activeIndex,this.ready(),!0)}},{key:"render",value:function(){var e=this.props,t=e.data,n=void 0===t?[]:t,r=e.label,a=e.type;return I.a.createElement("div",{className:zs.a.wheel},I.a.createElement("ul",{ref:this.scrollerRef,className:zs.a.wheelScroll},n.map((function(e,t){return I.a.createElement("div",{key:"date-".concat(a,"-").concat(e),"data-index":t,className:zs.a.wheelItem},"".concat(e).concat(r||""))}))))}},{key:"srollerDom",get:function(){return this.scrollerRef.current}}]),n}(I.a.Component),Gs=n("SzcP"),Js=n.n(Gs),Ks=function(e){var t=e.title,n=e.showPicker,r=e.pickerList,a=e.onSelect,o=e.toggleShowPicker,i=e.selectedItem,c=Object(S.useState)(0),s=T()(c,2),u=s[0],l=s[1],d=function(e){e&&e.stopPropagation(),o&&o()};return r?I.a.createElement("div",{className:R()(Js.a.picker,V()({},Js.a.showPicker,n))},I.a.createElement("div",{className:Js.a.mask,onClick:d}),I.a.createElement("div",{className:Js.a.container},I.a.createElement("div",{className:Js.a.panel},t,I.a.createElement("div",{className:Js.a.close,onClick:d},I.a.createElement("div",{className:Js.a.closeIcon}))),I.a.createElement("div",{className:Js.a.scrollWrap},n&&I.a.createElement("div",{className:Js.a.content},I.a.createElement("div",{className:Js.a.maskTop}),I.a.createElement("div",{className:Js.a.maskBottom}),I.a.createElement("div",{className:Js.a.wrapper},I.a.createElement(Qs,{data:r,activeIndex:i&&r&&r.findIndex((function(e){return e===i})),setIndex:function(e){l(e)}})))),I.a.createElement("div",{className:Js.a.bottomBtn,onClick:function(e){e&&e.stopPropagation();var t=r[u];a(t),o&&o()},"data-active":"red"},"确认"))):null};var Ys=function(e){var t=e.title,n=e.showPicker,r=e.pickerList,a=e.onSelect,o=e.toggleShowPicker,i=e.selectedItem,c=Object(S.useCallback)((function(e,t){var n=t.closeType,r=t.content;if(1==+n&&r&&r.length){if(!r||!r.length)return;var i=r[0];a(i)}else o()}),[o,a]),s=Object(S.useRef)();return Object(S.useEffect)((function(){s.current=function(){if(r&&r.length){var e=t,n=Object(we.a)();n.isNativePlatform&&n.system===Se.b.Android&&Object(Se.c)(n.version,"5.77.0")<0&&(e=""),Object(oe.f)("JSCommonPicker","show",{columnCount:1,defaultValue:[i],listData:[r],titleText:e,maskClosable:!0,closeCallback:c},"5.66.0","5.66.0").catch((function(e){o()}))}}}),[c,r,i,o,t]),Object(S.useEffect)((function(){n&&s.current()}),[n]),null},Xs=function(e){var t=e.title,n=e.showPicker,r=e.pickerList,a=e.onSelect,o=e.toggleShowPicker,i=e.selectedItem,c=Object(S.useState)(""),s=T()(c,2),u=s[0],l=s[1],d=Object(S.useRef)();return Object(S.useEffect)((function(){var e="h5",t=Object(we.a)();d.current=Ks,t.isNativePlatform&&Object(Se.c)(t.version,"5.66.0")>=0&&(e="native",d.current=Ys),l(e)}),[]),u?I.a.createElement(d.current,{title:t,showPicker:n,pickerList:r,onSelect:a,toggleShowPicker:o,selectedItem:i}):null},Zs=n("a96g"),$s=n.n(Zs);function eu(e){var t=e.onSelect,n=e.visible,r=e.idRecList,a=void 0===r?[]:r;return I.a.createElement("div",{className:$s.a.list,style:{visibility:n?"":"hidden"}},I.a.createElement("div",{className:$s.a.arrow}),I.a.createElement("div",{id:"id_rec_list"},a.slice(0,3).map((function(e){var n=e.snapshotId,r=e.idNo,a=e.name;return I.a.createElement("div",{className:$s.a.item,onClick:function(){t({snapshotId:n,idNo:r,name:a})},key:r},I.a.createElement("div",{className:$s.a.name},a),I.a.createElement("div",{className:$s.a.idCard},r),I.a.createElement("div",{className:$s.a.border}))}))),I.a.createElement("div",{className:$s.a.footer},"近期实名信息（已加密保护）"))}var tu=n("BXy8"),nu=n.n(tu);var ru=function(){var e=Object(we.a)();e.system===Se.b.IOS&&Object(Se.c)(e.systemVersion,"12.0")>=0&&Object(Se.c)(e.systemVersion,"14.0")<0&&"function"==typeof window.scrollTo&&window.scrollTo(0,0)},au=null,ou=function(){clearTimeout(au),au=null},iu=function(){au=setTimeout(ru,200)},cu=1,su=2,uu=3,lu=4,du=5,pu=6,fu=7;function mu(e,t){var n=b()(e),r=t.key,a=t.value,o=t.name,i=void 0===o?"":o,c=t.idNo,s=void 0===c?"":c,u=t.snapshotId,l=void 0===u?null:u;switch(t.type){case cu:return t.value;case su:n.info[r]=a;break;case uu:n.info[r]=a,n.info[ws.ID_SNAPSHOT]=null;break;case lu:n.info[ws.NAME]=i,n.info[ws.ID]=s,n.info[ws.ID_SNAPSHOT]=l;break;case du:n.info[ws.MOBILE]="",n.info[ws.MOBILE_ID]=null;break;case pu:n.catalogData=a;break;case fu:n.showCatalog=a;break;default:throw new Error}return n}function hu(e,t,n){if(e&&t&&n){for(var r=10*e,a=["".concat(e.toFixed(1),"°C")];r<10*t;)r+=10*n,a.push("".concat((r/10).toFixed(1),"°C"));return a}}var vu=function(e){m()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=y()(e);if(t()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).el=document.createElement("div"),r.el.setAttribute("id","pickerContainer"),r}return p()(n,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){var e=this.props,t=e.showPicker,n=e.toggleShowPicker,r=e.onSelect,a=e.pickerList,o=e.selectedItem,i=e.title;return Vc.a.createPortal(I.a.createElement(Xs,{title:i,showPicker:t,pickerList:a,onSelect:r,toggleShowPicker:n,selectedItem:o}),this.el)}}]),n}(I.a.Component);function gu(e,t){var n=e.text,r=e.value,a=e.placeholder,o=e.setValue,i=e.mobileId,c=e.clearMobile,s=Object(S.useState)(!1),u=T()(s,2),l=u[0],d=u[1],p=Object(S.useRef)();Object(S.useImperativeHandle)(t,(function(){return p.current}));var f=function(){o(""),setTimeout((function(){var e;return null==p||null===(e=p.current)||void 0===e?void 0:e.focus()}),0)};return I.a.createElement("div",{className:nu.a.slot},I.a.createElement("div",{className:nu.a.key},n),I.a.createElement("input",{className:nu.a.input,type:"tel",value:r||"",onChange:function(e){var t=e.target.value;t&&!/^1\d{0,10}$/.test(t)||o(t)},onFocus:function(){iu(),d(!0),i&&c()},onBlur:function(){Object(we.a)().system===Se.b.Android?d(!1):setTimeout((function(){return d(!1)}),0),iu()},placeholder:a,ref:p}),l&&r&&I.a.createElement("div",{className:nu.a.clearBtn,onTouchStart:function(){Object(we.a)().system===Se.b.Android&&f()},onClick:function(){Object(we.a)().system!==Se.b.Android&&f()}},Fs))}var yu=Object(S.forwardRef)(gu);function _u(e,t){var n=e.text,r=e.value,a=e.setValue,o=e.setIdInfo,i=e.placeholder,c=e.snapshotId,s=Object(S.useState)(!1),u=T()(s,2),l=u[0],d=u[1],p=Object(S.useState)([]),f=T()(p,2),m=f[0],h=f[1],v=Object(S.useState)(!1),g=T()(v,2),y=g[0],_=g[1],b=Object(S.useRef)();Object(S.useImperativeHandle)(t,(function(){return b.current})),Object(S.useEffect)((function(){js().then((function(e){return h(e)}))}),[]);var k=function(){a(""),setTimeout((function(){var e;return null==b||null===(e=b.current)||void 0===e?void 0:e.focus()}),0)};return I.a.createElement("div",{className:nu.a.slot},I.a.createElement("div",{className:nu.a.key},n),I.a.createElement("input",{maxLength:15,className:nu.a.input,value:r||"",onChange:function(e){var t=e.target.value;a(t),t||_(!0)},onFocus:function(){ou(),d(!0),c?(o(),setTimeout((function(){return _(!0)}),0)):r||setTimeout((function(){return _(!0)}),0)},onBlur:function(){Object(we.a)().system===Se.b.Android?d(!1):setTimeout((function(){return d(!1)}),0),setTimeout((function(){return _(!1)}),0),iu()},placeholder:i,ref:b}),l&&r&&I.a.createElement("div",{className:nu.a.clearBtn,onTouchStart:function(){Object(we.a)().system===Se.b.Android&&k()},onClick:function(){Object(we.a)().system!==Se.b.Android&&k()}},Fs),I.a.createElement(eu,{visible:!r&&y&&(null==m?void 0:m.length)>0,idRecList:m,onSelect:o}))}var bu=Object(S.forwardRef)(_u);function ku(e,t){var n=e.text,r=e.value,a=e.setValue,o=e.placeholder,i=e.snapshotId,c=e.setIdInfo,s=Object(S.useState)(!1),u=T()(s,2),l=u[0],d=u[1],p=Object(S.useRef)();Object(S.useImperativeHandle)(t,(function(){return p.current}));var f=function(){a(""),setTimeout((function(){var e;return null==p||null===(e=p.current)||void 0===e?void 0:e.focus()}),0)};return I.a.createElement("div",{className:nu.a.slot},I.a.createElement("div",{className:nu.a.key},n),I.a.createElement("input",{maxLength:18,className:nu.a.input,value:r||"",onChange:function(e){var t=e.target.value;t&&!/^[0-9Xx]{0,18}$/.test(t)||a(t)},onFocus:function(){ou(),d(!0),i&&c()},onBlur:function(){Object(we.a)().system===Se.b.Android?d(!1):setTimeout((function(){return d(!1)}),0),iu()},placeholder:o,ref:p}),l&&r&&I.a.createElement("div",{className:nu.a.clearBtn,onTouchStart:function(){Object(we.a)().system===Se.b.Android&&f()},onClick:function(){Object(we.a)().system!==Se.b.Android&&f()}},Fs))}var wu=Object(S.forwardRef)(ku);function Su(e){var t=e.text,n=e.value,r=e.setValue,a=e.placeholder,o=e.min,i=e.max,c=e.interval,s=e.defaultTemperature,u=Object(S.useState)(!1),l=T()(u,2),d=l[0],p=l[1],f=hu(o,i,c);return I.a.createElement("div",{className:"".concat(nu.a.slot," ").concat(nu.a.slotActive),onClick:function(){return p(!0)}},I.a.createElement("div",{className:nu.a.key},t),!!n&&"".concat(n,"°C"),!n&&I.a.createElement("span",{className:nu.a.temperaturePlaceholder},a),I.a.createElement("div",{className:nu.a.arrow},Bs),I.a.createElement(vu,{title:"请选择体温",showPicker:d,toggleShowPicker:function(){return p(!1)},onSelect:function(e){p(!1);var t=e&&e.replace("°C","");r(+t)},selectedItem:s?"".concat((+s).toFixed(1),"°C"):"37.0°C",pickerList:f}))}function Iu(e){var t=e.text,n=e.value,r=e.setValue,a=e.options,o=void 0===a?[]:a,i=e.placeholder,c=Object(S.useState)(!1),s=T()(c,2),u=s[0],l=s[1],d=o.find((function(e){return+e.type==+n})),p=null==d?void 0:d.text,f=o.map((function(e){return e.text}));return I.a.createElement("div",{className:"".concat(nu.a.slot," ").concat(nu.a.slotActive),onClick:function(){return l(!0)}},I.a.createElement("div",{className:nu.a.key},t),!!p&&I.a.createElement("div",{className:nu.a.occupationTextContainer},I.a.createElement("span",{className:nu.a.occupationText},p)),!p&&I.a.createElement("span",{className:nu.a.temperaturePlaceholder},i),I.a.createElement("div",{className:nu.a.arrow},Bs),I.a.createElement(vu,{title:"请选择从事行业",showPicker:u,toggleShowPicker:function(){return l(!1)},onSelect:function(e){l(!1);var t=o.find((function(t){return t.text===e}));r(null==t?void 0:t.type)},selectedItem:p,pickerList:f}))}function Cu(e){var t=e.text,n=e.value,r=e.setValue,a=e.options,o=void 0===a?[]:a,i=R()(nu.a.slot,nu.a.symptomSlot);return I.a.createElement("div",{className:i},I.a.createElement("div",{className:nu.a.key},t),o.map((function(e,t){var a=R()(nu.a.symptomOption,V()({},nu.a.selected,e.type===n));return I.a.createElement("div",{className:a,key:t,onClick:function(){return r(e.type)}},e.text)})))}function xu(e){var t=e.text,n=e.value,r=e.setValue,a=e.options,o=R()(nu.a.slot,nu.a.boolSlot);return I.a.createElement("div",{className:o},I.a.createElement("div",{className:nu.a.key},t),I.a.createElement("div",{className:nu.a.options},a&&!!a.length&&a.map((function(e,t){return I.a.createElement("span",{key:t,className:nu.a.selectIcon,onClick:function(){return r(e.type)}},n===e.type?Us:Vs,e.text)}))))}function Pu(e){var t=e.text,n=e.value,r=e.setValue;return I.a.createElement("div",{className:nu.a.confirm},n&&I.a.createElement("div",{className:nu.a.confirmSelectedBtn,onClick:function(){return r(!n)}},Hs),!n&&I.a.createElement("div",{className:nu.a.confirmUnselectedBtn,onClick:function(){return r(!n)}},Vs),t)}function Eu(e){var t=e.text,n=e.onClick;return I.a.createElement("div",{className:nu.a.catalog},I.a.createElement("span",{className:nu.a.catalogText,onClick:n},t))}function Ou(e){var t=e.text,n=e.value,r=e.options,a=e.setValue,o=R()(nu.a.slot,nu.a.boolSlot),i=Object(S.useCallback)((function(e){n!==e&&Object(Qt.a)({title:"目前疫情相关药品仅限本人购买",confirmButtonLabel:"知道了",onConfirm:function(){a(n)},onClose:function(){a(n)}}),a(e)}),[a,n]);return I.a.createElement("div",{className:o},I.a.createElement("div",{className:nu.a.key},t),I.a.createElement("div",{className:nu.a.options},r&&!!r.length&&r.map((function(e,t){return I.a.createElement("span",{key:t,className:nu.a.selectIcon,onClick:function(){return i(e.type)}},n===e.type?Us:Vs,e.text)}))))}function Nu(e){var t=e.purchaseData,n=e.updateDrugInfo,r=e.provinceId,o=e.cityId,c=Object(S.useReducer)(mu,t),u=T()(c,2),l=u[0],d=u[1],p=Object(S.useState)(!1),f=T()(p,2),m=f[0],h=f[1],v=Object(S.useRef)(),g=Object(S.useRef)(),y=Object(S.useRef)(),_=Object(S.useContext)(Na.a).glide,b=l.catalogData,k=l.showCatalog,w=function(){var e,t=Ro()(l.template).map((function(e){return e.key})),n=l.info[ws.NAME],r=l.info[ws.ID],a=l.info[ws.ID_SNAPSHOT],o=l.info[ws.MOBILE],i=l.info[ws.MOBILE_ID],c=l.info[ws.OCCUPATION],s=l.info[ws.TEMPERATURE],u=l.info[ws.SYMPTOM],d=l.info[ws.RISK_TRAVEL],p=l.info[ws.CONFIRM];if(!a){var f,m;if(!n)return Object(J.a)("请填写用药人"),null==v||null===(f=v.current)||void 0===f||f.focus(),!1;if(!r)return Object(J.a)("请填写身份证号"),null==g||null===(m=g.current)||void 0===m||m.focus(),!1}return i||o?t.includes(ws.OCCUPATION)&&!c?(Object(J.a)("请选择从事行业"),!1):s?u?null==d?(Object(J.a)("请选择近期是否去过风险地区"),!1):!(t.includes(ws.CONFIRM)&&!p)||(Object(J.a)("请勾选承诺"),!1):(Object(J.a)("请选择症状"),!1):(Object(J.a)("请选择体温"),!1):(Object(J.a)("请填写联系电话"),null==y||null===(e=y.current)||void 0===e||e.focus(),!1)};Object(S.useEffect)((function(){var e=Object(we.a)().isNativePlatform;return Object(Oa.a)(document.querySelectorAll(".scrollable")),e&&Object(oe.o)({enable:!1}),function(){Object(Oa.c)(),e&&Object(oe.o)({enable:!0})}}),[]),Object(S.useEffect)((function(){Object(Oa.c)(),Object(Oa.a)(document.querySelectorAll(".scrollable"))}),[k]);var C=function(e,t){d({type:su,value:t,key:e})},x=function(e,t){d({type:uu,value:t,key:e})},P=function(e){d(i()({type:lu},e))},E=function(){d({type:du})},O=function(){var e=s()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=b){e.next=11;break}return Object(mt.b)(),e.prev=3,e.next=6,Ws();case 6:t=e.sent,d({type:pu,value:t});case 8:return e.prev=8,Object(mt.a)(),e.finish(8);case 11:t&&d({type:fu,value:!0});case 12:case"end":return e.stop()}}),e,null,[[3,,8,11]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=s()(a.a.mark((function e(){var t,c,s,u,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=2;break}return e.abrupt("return");case 2:if(w()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,h(!0),e.next=8,Rs(i()(i()({},l.info),{},{provinceId:r,cityId:o}));case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0={};case 11:t=e.t0,c=l.info[ws.NAME],s=l.info[ws.ID],n({name:c,id:s,snapshotId:t}),_(),e.next=22;break;case 18:e.prev=18,e.t1=e.catch(4),p=null===e.t1||void 0===e.t1||null===(u=e.t1.response)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.error_msg,Object(J.a)(p||"网络不稳定，请稍后重试");case 22:return e.prev=22,h(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[4,18,22,25]])})));return function(){return e.apply(this,arguments)}}();return I.a.createElement(I.a.Fragment,null,b&&I.a.createElement("div",{className:nu.a.mainContainer,style:{display:k?"":"none"}},I.a.createElement("div",{className:nu.a.catalogTitle},"退烧止咳药目录",I.a.createElement("div",{className:nu.a.close,onClick:function(){d({type:fu,value:!1})}},Ls)),I.a.createElement("div",{className:"".concat(nu.a.catalogContent," scrollable")},I.a.createElement("div",{className:nu.a.catalogHeader},I.a.createElement("div",{className:nu.a.headerItem1},"序号"),I.a.createElement("div",{className:nu.a.headerItem2},"通用名称"),I.a.createElement("div",{className:nu.a.headerItem3},"属性")),b.map((function(e,t){return I.a.createElement("div",{className:nu.a.catalogRow,key:t},I.a.createElement("div",{className:nu.a.catalogItem1},t+1),I.a.createElement("div",{className:nu.a.catalogItem2},e.name),I.a.createElement("div",{className:nu.a.catalogItem3},e.property))}))),I.a.createElement("div",{className:nu.a.catalogPaddingBottom})),I.a.createElement("div",{className:nu.a.mainContainer,style:{display:k?"none":""}},I.a.createElement("div",{className:nu.a.title},"疫情购药登记",I.a.createElement("div",{className:nu.a.close,onClick:_},Ls)),I.a.createElement("div",{className:nu.a.highlight},I.a.createElement("div",{className:nu.a.shield},Ms),l.instruction||"根据疫情防控政策要求，需登记信息才能购买该药品。信息将被严格保密，请放心填写"),I.a.createElement("div",{className:"".concat(nu.a.blockContainer," scrollable")},l.template.map((function(e,t){return I.a.createElement("div",{className:nu.a.block,key:t},e.map((function(e){var t=e.key,n=e.title,r=e.placeholder,a=e.options,o=e.ext,i=l.info[t],c=l.info[ws.ID_SNAPSHOT],s=l.info[ws.MOBILE_ID],u=l.defaultTemperature;switch(t){case ws.MOBILE:return I.a.createElement(yu,{key:t,text:n,value:i,mobileId:s,placeholder:r,setValue:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(t,e)})),clearMobile:E,ref:y});case ws.NAME:return I.a.createElement(bu,{key:t,text:n,value:i,placeholder:r,setValue:function(e){return x(t,e)},setIdInfo:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return P(e)})),snapshotId:c,ref:v});case ws.ID:return I.a.createElement(wu,{key:t,text:n,value:i,placeholder:r,setValue:function(e){return x(t,e)},setIdInfo:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return P(e)})),snapshotId:c,ref:g});case ws.TEMPERATURE:return I.a.createElement(Su,{key:t,text:n,value:i,defaultTemperature:i||u,min:+o.min,max:+o.max,interval:+o.interval,placeholder:r,setValue:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(t,e)}))});case ws.OCCUPATION:return I.a.createElement(Iu,{key:t,text:n,value:i,options:a,placeholder:r,setValue:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(t,e)}))});case ws.SYMPTOM:return I.a.createElement(Cu,{key:t,text:n,value:i,options:a,setValue:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(t,e)}))});case ws.RISK_TRAVEL:return I.a.createElement(xu,{key:t,text:n,value:i,options:a,setValue:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(t,e)}))});case ws.CONFIRM:return I.a.createElement(Pu,{key:t,value:i,text:n,setValue:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(t,e)}))});case ws.CATALOG:return I.a.createElement(Eu,{key:t,text:n,onClick:O});case ws.SELF_USE:return I.a.createElement(Ou,{key:t,text:n,value:i,options:a,setValue:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(t,e)}))});default:return null}})),I.a.createElement("div",{className:nu.a.blockMargin}))}))),I.a.createElement("div",{className:nu.a.bottomBtnContainer},I.a.createElement("div",{className:nu.a.bottomBtn,onClick:N},"完成"),I.a.createElement("div",{className:nu.a.bottomBtnPadding})),m&&I.a.createElement("div",{className:nu.a.mask})))}function Du(e){var t=e.onHide,n=e.onTemperatureOnlySaved,r=e.updateDrugInfo,o=e.snapshotId,c=e.provinceId,u=e.cityId,l=e.defaultMobile,d=void 0===l?"":l,p=e.temperatureOnly,f=void 0!==p&&p,m=e.isTemperatureSaved,h=Object(S.useState)(null),v=T()(h,2),g=v[0],y=v[1];Object(S.useEffect)((function(){(function(){var e=s()(a.a.mark((function e(){var n,r,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(mt.b)(),e.prev=1,e.next=4,As({snapshotId:o,provinceId:c,cityId:u});case 4:(n=e.sent).info[ws.MOBILE]||(n.info[ws.MOBILE]=d),m||(n.defaultTemperature=n.info[ws.TEMPERATURE],n.info[ws.TEMPERATURE]=null),y(n),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),s=null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error_msg,Object(J.a)(s||"网络不稳定，请稍后重试"),t();case 15:return e.prev=15,Object(mt.a)(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,10,15,18]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var _=function(){var e=s()(a.a.mark((function e(r){var o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r&&r.replace("°C",""),e.prev=1,e.next=4,Rs(i()(i()({},g.info),{},{temperature:+o}));case 4:c=e.sent,n({snapshotId:c}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),Object(J.a)("保存体温不成功，请稍后重试"),t();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();if(!g)return null;if(f){var b=(Ro()(g.template).find((function(e){return e.key===ws.TEMPERATURE}))||{}).ext||{},k=b.min,w=b.max,C=b.interval,x=g.info[ws.TEMPERATURE]||(null==g?void 0:g.defaultTemperature),P=hu(k,w,C);return I.a.createElement(vu,{title:"根据疫情防控政策要求，需更新体温",showPicker:!0,toggleShowPicker:t,onSelect:_,selectedItem:x?"".concat((+x).toFixed(1),"°C"):"37.0°C",pickerList:P})}return I.a.createElement(Na.b,{onHide:t},I.a.createElement(Nu,{purchaseData:g,updateDrugInfo:r,provinceId:c,cityId:u}))}var Tu=n("v796"),ju=n.n(Tu),Au=function(e){var t,n=!(!e.idCardName||!e.idCardNo),r=n?"修改":"填写",a=e.overrideStyles,o=e.authTipColor,i=!n||a,c=R()((t={},V()(t,ju.a.btn,i),V()(t,ju.a.grayBtn,!i),t));return I.a.createElement("div",{className:ju.a.idModifyHint,"data-active":n?"cell-white":null},I.a.createElement("div",{className:ju.a.border},I.a.createElement("div",{className:ju.a.line})),I.a.createElement("div",{className:ju.a.icon},I.a.createElement("svg",{t:"1607326009875",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3768"},I.a.createElement("path",{d:"M909.4 114.8c31.2 0 56.6 25.4 56.6 56.6v681.3c0 31.2-25.4 56.6-56.6 56.6H114.6c-31.2 0-56.6-25.4-56.6-56.6V171.3c0-31.2 25.4-56.6 56.6-56.6h794.8m0-56.9H114.6C51.8 57.8 1 108.6 1 171.3v681.3c0 62.7 50.8 113.6 113.6 113.6h794.9c62.7 0 113.6-50.8 113.6-113.6V171.3c-0.1-62.7-50.9-113.5-113.7-113.5z","p-id":"3769"}),I.a.createElement("path",{d:"M858.3 398.6H688c-15.7 0-28.5-12.8-28.5-28.5s12.8-28.5 28.5-28.5h170.3c15.7 0 28.5 12.8 28.5 28.5s-12.7 28.5-28.5 28.5zM858.3 568.9H744.8c-15.7 0-28.5-12.8-28.5-28.5s12.8-28.5 28.5-28.5h113.6c15.7 0 28.5 12.8 28.5 28.5s-12.8 28.5-28.6 28.5z","p-id":"3770"}),I.a.createElement("path",{d:"M160.8 798.5c-11.9 0-23.1-4.4-31.7-12.6-11.1-10.6-16.4-26.6-14.1-42.8l3.6-25.9c4.2-30 27.8-62.5 54.9-75.5l158.3-76c3.8-1.8 6.2-4.2 6.7-6.5 0.5-2.4-0.8-5.7-3.7-9l-13.3-15.4c-27.4-31.7-48.1-87.4-48.1-129.4v-50.7c0-85.5 68.8-155 153.4-155s153.4 69.6 153.4 155v50.7c0 42.1-20.7 97.7-48.1 129.4l-13.3 15.5c-2.8 3.3-4.2 6.6-3.7 9 0.5 2.3 2.9 4.7 6.7 6.5L680 641.7c27.1 13 50.8 45.5 55 75.5l3.6 25.9c2.3 16.2-3 32.2-14.1 42.8-10 9.6-23.6 14-37.7 12.3h-520c-2 0.2-4 0.3-6 0.3z m12-57.3h508l-2.3-16c-1.6-11.3-13.1-27.2-23.3-32.1L497 617.2c-19.9-9.6-33.7-26.4-37.9-46.3-4.2-19.9 1.8-41 16.4-57.9l13.3-15.5c18.2-21.1 34.2-64.2 34.2-92.2v-50.7c0-54.1-43.2-98-96.4-98s-96.4 44-96.4 98v50.7c0 28 16 71.1 34.2 92.2L378 513c14.5 16.8 20.5 37.9 16.4 57.8-4.1 19.8-17.9 36.7-37.9 46.3l-158.3 76c-10.1 4.8-21.6 20.7-23.2 32.1l-2.2 16z","p-id":"3771"}))),I.a.createElement("div",{className:ju.a.text},I.a.createElement("div",{className:ju.a.title},n?I.a.createElement("div",null,I.a.createElement("span",{className:ju.a.name},e.idCardName),"，",I.a.createElement("span",{className:ju.a.number},e.idCardNo)):e.authTitle),I.a.createElement("div",{className:ju.a.desc,style:{color:o||void 0}},e.desc)),!e.disableEdit&&I.a.createElement("div",{className:ju.a.action},I.a.createElement("div",{className:c,"data-active":i?"ghost-red":null,onClick:e.onClick},r)))},Ru=xa.getInstance();function Wu(e){var t=Object(S.useRef)();return t.current=document.createElement("div"),t.current.setAttribute("id","purchaseInfoPopup"),t.current.style.position="fixed",t.current.style.top=0,t.current.style.right=0,t.current.style.bottom=0,t.current.style.left=0,t.current.style.zIndex=11001,Object(S.useEffect)((function(){return document.body.appendChild(t.current),function(){document.body.removeChild(t.current)}}),[]),Vc.a.createPortal(I.a.createElement(Du,{updateDrugInfo:e.updateDrugInfo,snapshotId:e.snapshotId,provinceId:e.provinceId,cityId:e.cityId,defaultMobile:e.defaultMobile,onHide:e.onHide,temperatureOnly:e.temperatureOnly,onTemperatureOnlySaved:e.onTemperatureOnlySaved,isTemperatureSaved:e.isTemperatureSaved}),t.current)}var Lu=function(e){var t=e.ocData||{},n=t.goodsInfo||{},r=t.idCardInfo||{},a=t.selectedChannel||{},o=t.addressInfo,i=Object(S.useState)(!1),c=T()(i,2),s=c[0],u=c[1],l=Object(S.useState)(!1),d=T()(l,2),p=d[0],f=d[1],m=Object(S.useState)(r),h=T()(m,2),v=h[0],g=h[1],y=Object(S.useState)(!1),_=T()(y,2),b=_[0],k=_[1];if(Object(S.useEffect)((function(){Ru.initShowIdcardForm((function(){return u(!0)})),Ru.initShowPurchaseInfo((function(){return f(!0)})),Ru.initShowTemperaturePicker((function(){k(!0),f(!0)}))}),[]),!n.needId)return null;var w=function(){f(!1),k(!1)},C={scene:r.sceneCode||"ORDER",ext_map:r.extendMap},x={title:r.authMainTitleTip||"填写实名信息",formHint:r.authTitleTip,idHint:r.authIdTip,nameHint:r.authNameTip};return I.a.createElement(I.a.Fragment,null,!([3,4].includes(+n.goodsType)&&a.paymentType===G.a.FriendPay)&&I.a.createElement(Au,{onClick:r.isDrugInfo?function(){return f(!0)}:function(){return u(!0)},authTitle:r.authTitle,authTipColor:r.authTipColor,idCardName:v.idCardName||r.idCardName,idCardNo:v.idCardNo||r.idCardNo,desc:r.authTip,disableEdit:r.hideEditBtn||(r.isDrugInfo||r.hideEditBtnAfterOrder)&&t.orderSn}),s&&!r.isDrugInfo&&I.a.createElement(ks,{extraParams:C,strongAuth:!0,idCardFormVisible:s,onClickClose:function(){return u(!1)},labels:x,submitSuccessCallback:function(e){e.success;var t=e.result,n=e.realName,r=e.idCardNo,a=t||{},o=a.card_snapshot_id,i=a.is_face_cert;Ru.ocData.idCardInfo.idCardName=n,Ru.ocData.idCardInfo.idCardNo=r,Ru.ocData.idCardInfo.snapshotId=o,Ru.ocData.idCardInfo.isFaceCert=i,g({idCardName:n,idCardNo:r})},getAntiContent:ht.a,disableRec:!0}),r.isDrugInfo&&p&&I.a.createElement(Wu,{updateDrugInfo:function(e){var t=e.name,n=e.id,r=e.snapshotId;setTimeout((function(){Ru.ocData.idCardInfo.idCardName=t,Ru.ocData.idCardInfo.idCardNo=n,Ru.ocData.idCardInfo.drugInfoSnapshotId=r,Ru.ocData.idCardInfo.isTemperatureSaved=!0,g({idCardName:t,idCardNo:n})}),400)},snapshotId:Ru.ocData.drugInfoSnapshotId,provinceId:o.provinceId,cityId:o.cityId,defaultMobile:o&&o.mobile,onHide:function(){b?w():f(!1)},temperatureOnly:b,onTemperatureOnlySaved:function(e){var t=e.snapshotId;w(),Ru.ocData.idCardInfo.drugInfoSnapshotId=t,Ru.ocData.idCardInfo.isTemperatureSaved=!0,Ru.pay()},isTemperatureSaved:Ru.ocData.idCardInfo.isTemperatureSaved}))},Mu=n("DzJC"),Fu=n.n(Mu),Bu=n("v5F4"),Uu=n.n(Bu);function Vu(e){var t=e.templateList,n=e.selectDeliveryItem,r=Object(S.useContext)(Na.a).glide,o=Fu()(function(){var e=s()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.selected){e.next=5;break}return Object(mt.b)(),e.next=4,n(t);case 4:Object(mt.a)();case 5:r();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),300,{leading:!0,trailing:!1});return I.a.createElement("div",{className:Uu.a.deliveryList},I.a.createElement("div",{className:Uu.a.title},"选择送装服务",I.a.createElement("div",{className:Uu.a.closeBtn,onClick:r})),(t||[]).map((function(e,t){return I.a.createElement("div",{key:t,className:"".concat(Uu.a.deliveryItem," ").concat(e.selected?Uu.a.selected:""),onClick:function(){return o(e)}},e.srvCopyWrite)})))}var Hu=null;function qu(e){var t=e.onHide,n=e.templateList,r=e.selectDeliveryItem,a=Object(S.useRef)();return a.current=function(){if(!Hu){var e=document.createElement("div");e.setAttribute("id","DeliveryList"),e.style.position="fixed",e.style.top=0,e.style.right=0,e.style.bottom=0,e.style.left=0,e.style.zIndex=99999,Hu=e}return Hu}(),Object(S.useEffect)((function(){return document.body.appendChild(a.current),function(){document.body.removeChild(a.current)}}),[]),Vc.a.createPortal(I.a.createElement(Na.b,{onHide:t},I.a.createElement(Vu,{templateList:n,selectDeliveryItem:r})),a.current)}var zu=function(e){var t=Object(S.useState)(!1),n=T()(t,2),r=n[0],a=n[1],o=(e.ocData||{}).deliveryInfo;if(!o)return null;if(2==+o.clickType)return null;var i=o.displayContent,c=o.displayTitle,s=o.templateList;return i&&c?I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{"data-active":"cell-white",onClick:function(){return a(!0)}},I.a.createElement("div",{className:Uu.a.deliveryStripe},I.a.createElement("div",{className:Uu.a.deliverySvg},I.a.createElement(Wo.d,null)),I.a.createElement("span",{className:Uu.a.deliveryContent},i),I.a.createElement("div",{className:Uu.a.arrow},I.a.createElement(Wo.a,null)))),r&&I.a.createElement(qu,{onHide:function(){return a(!1)},templateList:s,selectDeliveryItem:e.selectDeliveryItem})):null},Qu=n("XEGP"),Gu=n.n(Qu);function Ju(e){var t=e.templateList,n=e.selectShippingItem,r=Object(S.useContext)(Na.a).glide,o=Fu()(function(){var e=s()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.selected){e.next=5;break}return Object(mt.b)(),e.next=4,n(t);case 4:Object(mt.a)();case 5:r();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),300,{leading:!0,trailing:!1});return I.a.createElement("div",{className:Gu.a.AdditionalShippingStrip},I.a.createElement("div",{className:Gu.a.title},"选择配送服务",I.a.createElement("div",{className:Gu.a.closeBtn,onClick:r})),(t||[]).map((function(e,t){var n=e.float_title_desc,r=e.float_sub_title_desc,a=n||{},i=a.text,c=a.text_format,s=r||{},u=s.text,l=s.text_format,d=c||{},p=d.color,f=d.font_size,m=l||{},h=m.color,v=m.font_size;return I.a.createElement("div",{key:t,className:Gu.a.deliveryItem,onClick:function(){return o(e)}},i&&I.a.createElement("div",{style:{color:p,fontSize:f},className:Gu.a.mainTitleFloat},i),u&&I.a.createElement("div",{style:{color:h,fontSize:v},className:Gu.a.subTitleFloat},u),e.selected?I.a.createElement("div",{className:Gu.a.selectedSvg},I.a.createElement(Wo.g,null)):I.a.createElement("div",{className:Gu.a.notSelectedSvg},I.a.createElement(Wo.e,null)))})))}var Ku=null;function Yu(e){var t=e.onHide,n=e.templateList,r=e.selectShippingItem,a=Object(S.useRef)();return a.current=function(){if(!Ku){var e=document.createElement("div");e.setAttribute("id","AdditionalShippingStrip"),e.style.position="fixed",e.style.top=0,e.style.right=0,e.style.bottom=0,e.style.left=0,e.style.zIndex=99999,Ku=e}return Ku}(),Object(S.useEffect)((function(){return document.body.appendChild(a.current),function(){document.body.removeChild(a.current)}}),[]),Vc.a.createPortal(I.a.createElement(Na.b,{onHide:t},I.a.createElement(Ju,{templateList:n,selectShippingItem:r})),a.current)}var Xu=function(e){var t=Object(S.useState)(!1),n=T()(t,2),r=n[0],a=n[1],o=(e.ocData||{}).additionalShippingInfo;if(!o)return null;var i=o.additionalSrvItems;if(!i||i.length<=0)return null;var c=(i[0].cell_display_item_list||[]).find((function(e){return e.selected}));if(!c)return null;var s=c.main_title_desc,u=c.main_sub_title_desc,l=s||{},d=l.text,p=l.text_format,f=u||{},m=f.text,h=f.text_format,v=p||{},g=v.color,y=v.font_size,_=h||{},b=_.color,k=_.font_size,w=d&&I.a.createElement("div",{style:{color:g,fontSize:y},className:Gu.a.mainTitle},d),C=m&&I.a.createElement("div",{style:{color:b,fontSize:k},className:Gu.a.subTitle},m);return I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{"data-active":"cell-white",onClick:function(){return a(!0)}},I.a.createElement("div",{className:Gu.a.deliveryStripe},I.a.createElement("div",{className:Gu.a.deliverySvg},I.a.createElement(Wo.d,null)),I.a.createElement("div",{className:Gu.a.shippingContent},w,C),I.a.createElement("div",{className:Gu.a.arrow},I.a.createElement(Wo.a,null)))),r&&I.a.createElement(Yu,{onHide:function(){return a(!1)},templateList:i[0].cell_display_item_list,selectShippingItem:e.selectShippingItem}))},Zu=n("gWL1"),$u=n.n(Zu);function el(e){var t=e.recordList,n=e.selectRecord;return I.a.createElement(I.a.Fragment,null,t&&t.length>0&&I.a.createElement("div",{className:$u.a.bubbleContainer},I.a.createElement("span",{className:$u.a.recCardTriangle}),I.a.createElement("div",{className:$u.a.recList},t.slice(0,3).map((function(e,t){return I.a.createElement("div",{className:$u.a.recCardItem,key:t,onTouchEnd:function(){return n(t)}},e.separatedMobile?I.a.createElement(I.a.Fragment,null,e.separatedMobile.map((function(e,t){return I.a.createElement("span",{key:e+"_"+t},e)}))):I.a.createElement(I.a.Fragment,null,e.name))})))))}var tl=Kr.getInstance();var nl=function(e){var t=e.isFocused,n=e.recordList,r=e.setFocused,a=e.updateMobileInputNumber;return t?I.a.createElement(el,{selectRecord:function(e){var t=n[e];tl.doInputBlur(),tl.updateMobileInfo(t.mobile,t.name||""),a(t.mobile),r(!1)},recordList:n}):null};function rl(e){return e=(e=(e=(e||"").toString()).replace(/(\+86)/g,"")).replace(/[^\d]*/g,"")}var al=n("7MjH"),ol=n.n(al);var il=function(e){var t=e.mobileInputNumber,n=e.isFocused,r=e.isMobile,o=e.updateRecordByContact,i=Object(S.useState)(!1),c=T()(i,2),u=c[0],l=c[1];Object(S.useEffect)((function(){var e=Object(we.a)();Object(Se.c)(e.version,"3.17.0")>=0&&l(!0)}),[]);var d=function(){var e=s()(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),e.prev=2,e.next=5,Object(oe.h)();case 5:(n=e.sent)&&o(n),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return t&&n||!u||!r?null:I.a.createElement("div",{className:ol.a.contact,onClick:d})},cl=n("c3b3"),sl=n.n(cl),ul=Kr.getInstance(),ll={maxLength:30};var dl=function(e){var t=e.ocData,n=e.setFocused,r=e.isFocused,a=e.mobileInputNumber,o=e.updateMobileInputNumber,i=t.virtualReceiveMethodInfo;if(!i)return null;var c=!!t.orderSn,s=i&&i.isMobile,u=i.label,l=i.placeholder,d=i.icon,p=s?null:ll;return I.a.createElement("div",{className:sl.a.mainArea},d&&I.a.createElement(z.a,{className:sl.a.icon,src:d}),I.a.createElement("span",null,u,"："),I.a.createElement("input",N()({type:s?"tel":"text",ref:function(e){ul.$mobileNumberInput=e},placeholder:l,value:a,onChange:function(){var e=(ul.$mobileNumberInput.value||"").replace(/ +/g,"");o(e)},onFocus:function(){c?ul.doInputBlur():n(!0)},onBlur:function(){ul.updateMobileInfo(a,""),n(!1)}},p)),a&&r&&I.a.createElement("div",{className:sl.a.mobileClear,onTouchEnd:function(e){e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),ul.doInputFocus(),o("")}}),I.a.createElement(il,{mobileInputNumber:a,isFocused:r,isMobile:s,updateRecordByContact:function(e){var t=e.mobile,r=e.name;(t=rl(t))&&(ul.updateMobileInfo(t,r||""),n(!1),o(t))}}))},pl={Mobile:/(^1)\d{10}$/,GasSinopec:/^\d{16}(\d{3})?$/,QQ:/^[1-9][0-9]{4,9}$/,Mail:/^([a-zA-Z0-9]+[_|_|.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|_|.]?)*[a-zA-Z0-9]+.[a-zA-Z]{2,4}$/,Phone:/((^1)\d{10}$)|(^(886|852|853)\d{7,11}$)/};function fl(e){e=rl(e);var t=/^(1\d{2})(\d{4})(\d{4})$/.exec(e);return t&&t[1]&&t[2]&&t[3]?[t[1],t[2],t[3]]:null}var ml=n("xq+1"),hl=n.n(ml),vl=xa.getInstance(),gl=Kr.getInstance();var yl=function(e){var t=e.ocData,n=t.virtualReceiveMethodInfo,r=Object(S.useState)([]),o=T()(r,2),i=o[0],c=o[1],u=Object(S.useState)(!1),l=T()(u,2),d=l[0],p=l[1],f=Object(S.useState)(""),m=T()(f,2),h=m[0],v=m[1];return Object(S.useEffect)((function(){var e=n.value,t=n.validateRules;e&&t&&t.length>0&&t.some((function(t){return new RegExp(t).test(e)}))&&(gl.updateMobileInfo(e,""),v(e));var r=function(e){return{1:!1,2:!0}[e]||!1}(w()(vl.ocData,"morganType"));if(r||"USER_CONTACT_MOBILE"!==n.autoCompleteType){if(!r&&"USER_CHARGE_MOBILE"===n.autoCompleteType){(function(){var e=s()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Mt.b)({method:Mt.a.GET,url:"api/virginia/get_charge_history"}).then((function(e){return(e.records||[]).map((function(e){return{separatedMobile:fl(e.mobile),mobile:rl(e.mobile),name:e.name||""}})).slice(0,3)})).catch((function(){}));case 2:(t=e.sent)&&c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}}else(function(){var e=s()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Mt.b)({method:Mt.a.POST,url:"/api/origenes/mobile_distinct_list"}).then((function(e){return(e||[]).filter((function(e){return pl.Phone.test(e)})).map((function(e){return{separatedMobile:fl(e),mobile:rl(e),name:""}})).slice(0,3)})).catch((function(){}));case 2:(t=e.sent)&&c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),n?I.a.createElement("div",{className:hl.a.virtualAddress},I.a.createElement(dl,{recordList:i,mobileInputNumber:h,ocData:t,isFocused:d,setFocused:p,updateMobileInputNumber:v}),I.a.createElement(nl,{isFocused:d,recordList:i,setFocused:p,updateMobileInputNumber:v})):null},_l=n("j5ga"),bl=n("JUuB"),kl=n("GVaU"),wl=n.n(kl),Sl={SZ:{forbidDeclare:"https://commimg.pddpic.com/upload/mobile-popular/eac7eea6-42c6-4ab9-808d-8b220dafea43.png.slim.png",remoteArea:"https://commimg.pddpic.com/upload/mobile-popular/48c40f45-ab31-4762-be40-293a31f4c5fb.png.slim.png",more:"https://funimg.pddpic.com/transaction/5b376413-68d5-4b45-9e61-71dc00dc461d.png.slim.png"},SF:{forbidDeclare:"https://commimg.pddpic.com/upload/mobile-popular/eac7eea6-42c6-4ab9-808d-8b220dafea43.png.slim.png",remoteArea:"https://funimg.pddpic.com/transaction/8177c83c-3503-489c-aad6-b46a74a9a483.png.slim.png",more:"https://funimg.pddpic.com/transaction/0886078a-0564-4694-8f6c-057b44a9bd8f.png.slim.png"}},Il="M512 2c281.666 0 510 228.334 510 510s-228.334 510-510 510S2 793.666 2 512 230.334 2 512 2z m0 25.5C244.418 27.5 27.5 244.418 27.5 512S244.418 996.5 512 996.5 996.5 779.582 996.5 512 779.582 27.5 512 27.5z",Cl="M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0z m219.648 307.2l-287.118222 320.398222-122.936889-123.050666L256 570.026667l192.284444 192.398222 352.483556-393.386667L731.648 307.2z";function xl(e){var t=Object(S.useContext)(Na.a).glide,n=e.serviceProviderList,r=e.curServiceProvider,a=e.selectServiceProvider,o=e.consoName;return(null==n?void 0:n.length)?I.a.createElement("div",null,I.a.createElement("div",{className:wl.a.title},"选择".concat(o,"服务商"),I.a.createElement("div",{className:wl.a.closeBtn,onClick:t})),I.a.createElement("div",{className:wl.a.selectPanel},n.map((function(e,n){var o=e.conso_provider_name;return I.a.createElement("div",{key:n,className:wl.a.selectCell,onClick:function(){a({item:e,successCallback:function(){Object(J.a)("集运服务商切换成功"),t(null)}})}},I.a.createElement("div",{className:wl.a.providerName},o),o===r.conso_provider_name?I.a.createElement("div",{className:wl.a.selectedSvg},I.a.createElement(Qo.a,{icon:Cl})):I.a.createElement("div",{className:wl.a.notSelectedSvg},I.a.createElement(Qo.a,{icon:Il})))})))):null}function Pl(e){var t,n,r,o=Object(S.useContext)(Na.a).glide,i=Object(S.useRef)(),c=Object(S.useState)(null),u=T()(c,2),l=u[0],d=u[1],p=e.curServiceProvider,f=e.serviceProviderList,m=e.addressInfo,h=e.updatePage,v=e.consoName;Object(S.useEffect)((function(){Object(ct.c)(),Object(ct.b)(null==i?void 0:i.current)}),[]),Object(S.useEffect)((function(){(function(){var e=s()(a.a.mark((function e(){var t,n,r,o,i,c,s,u,l,f,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=p||{}).conso_provider_code,r=t.conso_model,o=t.conso_warehouse_code,i=m.provinceId,c=m.cityId,s=m.districtId,u=Object(Mt.b)({method:Mt.a.POST,url:"/api/logistics_sven_api/freight_rule",data:{conso_provider_code:n,conso_model:r,conso_warehouse_code:o,province_id:i,city_id:c,district_id:s}}),e.next=5,Promise.race([u,new Promise((function(e,t){setTimeout(t,2e3)}))]).catch((function(){return{success:!1}}));case 5:l=e.sent,f=l.success,h=l.result,d(f?Object(_l.a)(h):null);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[p,m]);var g=l||{},y=g.title,_=void 0===y?"标准集运计费规则":y,b=g.subTitle,k=g.freightRuleTableList,w=void 0===k?[]:k,C=null===(t=Sl[null==p?void 0:p.conso_provider_code])||void 0===t?void 0:t.more,x=null===(n=Sl[null==p?void 0:p.conso_provider_code])||void 0===n?void 0:n.remoteArea,P=null===(r=Sl[p.conso_provider_code])||void 0===r?void 0:r.forbidDeclare;return I.a.createElement("div",{className:wl.a.freightRuleContainer},I.a.createElement("div",{className:wl.a.title},_,I.a.createElement("div",{className:wl.a.closeBtn,onClick:o})),(null==p?void 0:p.conso_provider_name)&&I.a.createElement("div",{className:wl.a.servicePrividerCell,"data-active":"cell-white",onClick:function(){var e=null;e=Object(Ur.a)(I.a.createElement(Na.b,{onHide:function(){var t;return null===(t=e)||void 0===t?void 0:t()},bgFillClassName:wl.a.bgFillClassName},I.a.createElement(xl,{serviceProviderList:f,curServiceProvider:p,selectServiceProvider:function(e){var t=e.item,n=e.successCallback,r=t.conso_model,a=t.conso_warehouse_code,o=t.conso_provider_code,i=t.conso_shipping_type;h({params:{concentratedTransportationSelectedRequest:{conso_model:r,conso_warehouse_code:a,conso_provider_code:o,conso_shipping_type:i}},successFn:function(){return null==n?void 0:n()}})},consoName:v})))}},I.a.createElement("div",{className:wl.a.left},"集运服务商"),I.a.createElement("div",{className:wl.a.right},p.conso_provider_name,I.a.createElement("div",{className:wl.a.servicePrividerCellArrow},I.a.createElement(Qo.a,{icon:Go.a})))),I.a.createElement("div",{className:wl.a.seperate}),I.a.createElement("div",{className:wl.a.freightRulePanel,ref:i},I.a.createElement("div",{className:wl.a.freightRulePanelTitle},b),I.a.createElement(mc.a,null,w.map((function(e,t){return I.a.createElement("div",{className:wl.a.ruleTable,key:t},(e.tableItemList||[]).map((function(e,t){return I.a.createElement("div",{key:t,className:wl.a.row},I.a.createElement("div",{className:wl.a.col1},e.rowName),I.a.createElement("div",{className:wl.a.col2},(e.rowContentList||[]).map((function(e,t){return I.a.createElement("div",{key:t},e)}))))})))}))),I.a.createElement("div",{className:wl.a.seperate}),I.a.createElement("div",{className:wl.a.freightRulePanelTitle},"备注说明"),I.a.createElement(bl.a,{className:wl.a.ruleImg,src:C,onClick:function(){return Object(Ui.a)(C)}}),I.a.createElement("div",{className:wl.a.seperate}),I.a.createElement("div",{className:wl.a.freightRulePanelTitle},"偏远地区说明"),I.a.createElement(bl.a,{className:wl.a.ruleImg,src:x,onClick:function(){return Object(Ui.a)(x)}}),I.a.createElement("div",{className:wl.a.seperate}),I.a.createElement("div",{className:wl.a.freightRulePanelTitle},"禁运品说明"),I.a.createElement(bl.a,{className:wl.a.ruleImg,src:P,onClick:function(){return Object(Ui.a)(P)}})))}function El(e){var t,n,r,a,o=Object(S.useContext)(Na.a).glide,i=Object(S.useRef)();Object(S.useEffect)((function(){var e=document.createElement("div");return e.setAttribute("id","transportRulePopup"),i.current=e,document.body.appendChild(i.current),function(){document.body.removeChild(i.current),i.current=null}}),[]);var c=Object(S.useState)(!1),s=T()(c,2),u=s[0],l=s[1],d=e.item,p=e.consoShippingType,f=e.consoModel,m=e.addressInfo,h=e.updatePage,v=(null==d?void 0:d.select_delivery_type_page_describe_info).cost_fee_detail,g=((null==d||null===(t=d.extension)||void 0===t?void 0:t.select_delivery_type_page_describe_info)||{}).title||{},y=g.text,_=g.font_color,b=v||{},k=b.text,w=b.font_color,C=d.conso_shipping_type===p&&d.conso_model===f,x=null==d||null===(n=d.conso_service_provider_info_list)||void 0===n?void 0:n.find((function(e){return e.conso_provider_code===d.conso_provider_code&&e.conso_provider_name===d.conso_provider_name}));return I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:wl.a.deliveryItem,onClick:function(){if(!C){var e=d.conso_model,t=d.conso_warehouse_code,n=d.conso_provider_code,r=d.conso_shipping_type;h({params:{concentratedTransportationSelectedRequest:{conso_model:e,conso_warehouse_code:t,conso_provider_code:n,conso_shipping_type:r}},successFn:function(){return o(null)}})}}},y&&I.a.createElement("div",{style:{color:_},className:wl.a.mainTitleDeliveryItem},y,1===(null==d?void 0:d.conso_shipping_type)&&I.a.createElement(Qo.a,{icon:"M512 1c282.2 0 511 228.7 511 511s-228.8 511-511 511S1 794.2 1 512 229.8 1 512 1z m0 63.9C265.1 64.9 64.9 265.1 64.9 512c0 246.9 200.2 447.1 447.1 447.1 246.9 0 447.1-200.1 447.1-447.1 0-246.9-200.2-447.1-447.1-447.1z M548.1 764.4c-11.3 10.1-26.1 15.6-41.3 15.4-15.7 0-28.9-5.4-39.7-16.2-11.3-9.8-16.9-23-16.9-39.7 0-16.7 5.6-29.9 16.9-39.7 10.3-10.3 23.6-15.5 39.7-15.5 16.7 0 30.4 5.2 41.2 15.5 10.8 10.8 16.2 24 16.2 39.7 0 16.2-5.4 29.7-16.1 40.5zM653.3 479.6c-7.8 8.8-28.9 28.2-63.3 58.1-12.3 9.8-22.3 22.1-29.4 36-7.4 15.1-11.2 31.7-11 48.6v10.3H465v-10.3c0-28.9 4.9-53 14.7-72.1 9.3-19.6 38-50.8 86.1-93.4l8.8-10.3c13.2-16.2 19.9-33.6 19.9-52.2 0-23.6-6.9-42.7-20.6-57.4-13.7-13.7-33.3-20.6-58.8-20.6-31.4 0-54.4 9.8-69.2 29.4-12.3 16.7-18.4 41-18.4 72.8h-83.9c0-54.9 15.9-97.6 47.8-128 31.9-30.9 74.8-46.4 128.7-46.3 48.6 0 87.3 13 116.2 39 29.4 25.5 44.1 60.8 44.1 105.9 0.1 36.4-9 66.5-27.1 90.5z",className:wl.a.questionSvg,onClick:function(e){return function(e){null==e||e.stopPropagation(),l(!0)}(e)}})),k&&I.a.createElement("div",{style:{color:w},className:wl.a.subTitleDeliveryItem},k),((null==d?void 0:d.conso_service_provider_info_list)||[]).map((function(e){var t,n,r=(null==e||null===(t=e.extension)||void 0===t||null===(n=t.select_delivery_type_page_describe_info)||void 0===n?void 0:n.cost_fee_detail_v2)||[];return I.a.createElement("div",{className:wl.a.serviceProviderInDeliveryItem,onClick:function(t){null==t||t.stopPropagation();var n=e.conso_model,r=e.conso_warehouse_code,a=e.conso_provider_code,i=e.conso_shipping_type;h({params:{concentratedTransportationSelectedRequest:{conso_model:n,conso_warehouse_code:r,conso_provider_code:a,conso_shipping_type:i}},successFn:function(){return o(null)}})}},r.map((function(e,t){var n=e.text,r=e.font_color;return I.a.createElement("span",{style:{color:r},key:t},n)})),C&&x===e&&I.a.createElement("div",{className:wl.a.selectedServiceProvider},I.a.createElement(Qo.a,{icon:"M361.396862 939.865243L0 578.298315l123.274648-123.274648 231.140111 231.31135 539.668623-602.20026 129.915445 116.379336-662.601965 739.35115z"})))})),C?I.a.createElement("div",{className:wl.a.selectedSvg},I.a.createElement(Qo.a,{icon:Cl})):I.a.createElement("div",{className:wl.a.notSelectedSvg},I.a.createElement(Qo.a,{icon:Il}))),u&&Vc.a.createPortal(I.a.createElement(Na.b,{onHide:function(){return l(!1)},bgFillClassName:wl.a.bgFillClassName},I.a.createElement(Pl,{curServiceProvider:x,serviceProviderList:(null==d?void 0:d.conso_service_provider_info_list)||[],updatePage:h,addressInfo:m,consoName:null==d||null===(r=d.confirm_page_order_describe_info)||void 0===r||null===(a=r.title)||void 0===a?void 0:a.text})),i.current))}function Ol(e){var t=e.consoShippingType,n=e.consoModel,r=e.consoServiceProviderInfoList,a=e.addressInfo,o=e.updatePage,i=Object(S.useContext)(Na.a).glide;return Object(S.useEffect)((function(){return Object(ct.b)(),ct.c}),[]),I.a.createElement("div",{className:wl.a.AdditionalShippingStrip},I.a.createElement("div",{className:wl.a.title},"选择配送方式",I.a.createElement("div",{className:wl.a.closeBtn,onClick:i})),I.a.createElement("div",{className:wl.a.deliveryCells},(r||[]).map((function(e,r){return I.a.createElement(El,{item:e,consoShippingType:t,consoModel:n,key:r,addressInfo:a,updatePage:o})}))),I.a.createElement("div",{className:wl.a.tutorial,onClick:function(){return ut.a.uniformForward("/transac_prescription_detail.html?_t_timestamp=aff_samples&sp=shipment_consolidated")}},"查看集运教程",I.a.createElement(Qo.a,{className:wl.a.tutorialRightArrow,icon:Go.a})))}function Nl(e){var t=e.concentratedTransportationInfo,n=e.addressInfo,r=e.updatePage,a=e.preOnClick,o=Object(S.useState)(!1),i=T()(o,2),c=i[0],s=i[1],u=Object(S.useRef)(),l=(t||{}).transportCellInfo;if(Object(S.useEffect)((function(){var e=document.createElement("div");return e.setAttribute("id","centralizedTransportPopDom"),u.current=e,document.body.appendChild(u.current),function(){document.body.removeChild(u.current),u.current=null}}),[]),!l)return null;var d=l||{},p=d.title,f=d.freight_describe_v2,m=p||{},h=m.text,v=m.font_color,g=m.font_size;return I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{"data-active":"cell-white",onClick:function(){a&&!a()||s(!0)}},I.a.createElement("div",{className:wl.a.deliveryStripe},I.a.createElement("div",{className:wl.a.deliverySvg},I.a.createElement(Qo.a,{icon:"M349.184 279.04v-46.592H230.912c-28.16 0-54.784 12.8-72.704 34.816L67.072 393.216c-13.312 16.384-20.48 36.864-20.48 58.368v269.824c0 42.496 28.672 78.848 68.096 89.6l12.8-45.056c-19.968-5.632-33.792-24.064-33.792-45.056V451.584c0-10.752 3.584-20.992 10.24-29.184l92.672-127.488c7.68-9.216 20.992-15.872 34.816-15.872h117.76z M93.184 512h186.368c51.2 0 93.184-41.472 93.184-93.184V186.368c0-25.6 20.992-46.592 46.592-46.592h465.408c25.6 0 46.592 20.992 46.592 46.592v535.04c0 20.48-13.312 38.4-32.256 44.544l14.336 44.544c37.376-11.776 65.024-47.104 65.024-88.576V186.368c0-51.2-41.472-93.184-93.184-93.184H418.816c-51.2 0-93.184 41.472-93.184 93.184v232.96c0 25.6-20.992 46.592-46.592 46.592H93.184v46.08zM442.368 768h139.776v46.592H442.368zM279.04 884.224c38.4 0 69.632-31.232 69.632-69.632s-31.232-69.632-69.632-69.632-69.632 31.232-69.632 69.632 31.232 69.632 69.632 69.632z m0 46.592c-64.512 0-116.224-52.224-116.224-116.224 0-64.512 52.224-116.224 116.224-116.224s116.224 52.224 116.224 116.224c0.512 64-51.712 116.224-116.224 116.224z M744.96 884.224c38.4 0 69.632-31.232 69.632-69.632s-31.232-69.632-69.632-69.632-69.632 31.232-69.632 69.632c-0.512 38.4 30.72 69.632 69.632 69.632z m0 46.592c-64.512 0-116.224-52.224-116.224-116.224 0-64.512 52.224-116.224 116.224-116.224s116.224 52.224 116.224 116.224-52.224 116.224-116.224 116.224z"})),I.a.createElement("div",{className:wl.a.shippingContent},I.a.createElement("div",{style:{color:v,fontSize:"".concat((+g||15)/100,"rem")},className:wl.a.mainTitle},h),I.a.createElement("div",{className:wl.a.subTitle},(f||[]).map((function(e,t){var n=e.text,r=e.font_color;return I.a.createElement("span",{style:{color:r},key:t},n)})))),I.a.createElement("div",{className:wl.a.arrow},I.a.createElement(Qo.a,{icon:Go.a})))),c&&Vc.a.createPortal(I.a.createElement(Na.b,{onHide:function(){return s(!1)},bgFillClassName:wl.a.bgFillClassName},I.a.createElement(Ol,N()({},t,{addressInfo:n,updatePage:r}))),u.current))}var Dl=n("0yKJ"),Tl=n.n(Dl),jl=xa.getInstance();var Al,Rl=function(e){var t=e.addressInfo,n=e.communityId,r=e.groupOrderId,o=e.ocData||{},i={page_el_sn:4259115,op:"impr",goods_id:e.goods.goodsID};if(o.receiveMethodNone)return null;var c=!!w()(o,"virtualReceiveMethodInfo");return I.a.createElement(Bi.a,{trackingInfo:i},I.a.createElement("div",{className:"oc-address ".concat(Tl.a.address),onClick:function(e){e.stopPropagation()}},c&&I.a.createElement(yl,{ocData:o}),!c&&I.a.createElement(I.a.Fragment,null,I.a.createElement(Xc,{addressInfo:t,updateAddressInfo:e.updateAddressInfo,onClickPreCheck:e.onClickPreCheck,communityId:n}),I.a.createElement(Qc,{editAddress:function(){Object(ct.k)({page_el_sn:4259115,op:"click",goods_id:e.goods.goodsID},(function(){e.onClickPreCheck?e.onClickPreCheck()&&Bc(e.ocData):Bc(e.ocData)}))},addressInfo:t,communityId:n,groupOrderId:r,goodsInfo:e.goodsInfo,updateAddressInfo:e.updateAddressInfo}),I.a.createElement(es,{addressTipVo:o.addressTipVo,onClick:function(){return t=e.updateAddressInfo,n=null,void(n=Object(Ur.a)(I.a.createElement(Rc.a,{title:"添加收货地址",onConfirm:function(e){var r;null===(r=n)||void 0===r||r(),null==t||t({addressId:e.address_id,name:e.name,province:e.province,city:e.city,district:e.district,address:e.address,mobile:e.mobile,provinceId:e.province_id,cityId:e.city_id,districtId:e.district_id})},onClose:function(){var e;return null===(e=n)||void 0===e?void 0:e()},analyzeClipBoard:!0,useNewUI:!0,checkRegion:!0})));var t,n}})),I.a.createElement(zu,{ocData:o,selectDeliveryItem:e.selectDeliveryItem}),I.a.createElement(Xu,{ocData:o,selectShippingItem:e.selectShippingItem}),I.a.createElement(Nl,{concentratedTransportationInfo:o.concentratedTransportationInfo,addressInfo:t,updatePage:function(){var e=s()(a.a.mark((function e(t){var n,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,o=t.successFn,i=null===(n=jl.getSelectedSkuId)||void 0===n?void 0:n.call(jl),e.next=4,jl.refresh({concentrated_transportation_selected_request:null==r?void 0:r.concentratedTransportationSelectedRequest,front_action:i?vr:gr});case 4:null==o||o();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),I.a.createElement(Lu,{ocData:o}),!c&&e.hasAddressLine&&I.a.createElement("div",{className:Tl.a.addressLine}),I.a.createElement("div",{className:Tl.a.bottomline})))},Wl=n("x7Ie"),Ll=n.n(Wl);var Ml=xa.getInstance(),Fl=(Al=function(e){m()(o,e);var t,n,r=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=y()(e);if(t()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}(o);function o(){var e;l()(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).normalSkuRef=I.a.createRef(),e.skuBgRef=I.a.createRef(),e.isShow=!1,e.confirmSkuCallBack=function(){var t=s()(a.a.mark((function t(n){var r,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getGoodsNumber(),o=e.getSelectedSkuId(),t.next=4,Ml.refresh({goods_number:r,sku_id:o,front_action:hr});case 4:(i=t.sent)&&i.success&&e.props.setSkuInfo({selectedSkuID:+o,goodsNumber:r}),e.hide();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return p()(o,[{key:"show",value:(n=s()(a.a.mark((function e(t){var n=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"function"==typeof t.setStateCallback&&this.normalSkuRef.current.skuRef.current.setCustomState(t.setStateCallback),!this.normalSkuRef.current.prepare(t).needShow){e.next=7;break}if(!this.isShow){e.next=5;break}return e.abrupt("return");case 5:this.skuBgRef.current.style.display="block",setTimeout((function(){n.skuBgRef.current.style["background-color"]="rgba(0, 0, 0, 0.8)",n.normalSkuRef.current.enter(),Object(ct.b)(),setTimeout((function(){n.isShow=!0}),200)}),1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"hide",value:(t=s()(a.a.mark((function e(t){var n=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isShow){e.next=2;break}return e.abrupt("return");case 2:if(Object(ct.c)(),!this.props.onHide){e.next=6;break}return e.next=6,this.props.onHide(t);case 6:this.skuBgRef.current.style["background-color"]="rgba(0, 0, 0, 0)",this.normalSkuRef.current.exit(),setTimeout((function(){n.isShow=!1,n.skuBgRef.current.style.display="none"}),+this.props.delay||200);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getSelectedSkuId",value:function(){return this.normalSkuRef.current.skuRef.current.state.selectedSkuID}},{key:"getGoodsNumber",value:function(){return this.normalSkuRef.current.skuRef.current.state.goodsNumber||1}},{key:"selectSkuId",value:function(e){var t=e.skuId,n=e.goodsNumber,r=void 0===n?1:n;return this.normalSkuRef.current.skuRef.current.selectSkuId({skuId:t,goodsNumber:r})}},{key:"setGoodsNumber",value:function(e){return this.normalSkuRef.current.skuRef.current.setGoodsNumber(e)}},{key:"render",value:function(){var e=this,t=this.props.goods,n=this.props,r=n.groupOrderId,o=n.usePddNativePhoto,i=n.isOptSoldOut;return I.a.createElement("div",{ref:this.skuBgRef,className:R()(Ll.a.ocSkuSelectorBg,"sku-plus1"),onClick:s()(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.hide();case 1:case"end":return t.stop()}}),t)})))},I.a.createElement(E.a,{groupOrderId:r,ref:this.normalSkuRef,goods:t,group:this.props.group,confirmSkuCallBack:this.confirmSkuCallBack,selectOneValueCb:this.props.selectOneValueCb,renderFooter:this.props.renderFooter,buttonText:this.props.buttonText,skuDirectOrder:!1,usePddNativePhoto:o,isOptSoldOut:i,onClose:this.hide,hideSkuBottomTip:!0},I.a.createElement(Fi.a,null)))}}]),o}(I.a.Component),ot()(Al.prototype,"show",[Jr.a],Object.getOwnPropertyDescriptor(Al.prototype,"show"),Al.prototype),ot()(Al.prototype,"hide",[Jr.a],Object.getOwnPropertyDescriptor(Al.prototype,"hide"),Al.prototype),ot()(Al.prototype,"getSelectedSkuId",[Jr.a],Object.getOwnPropertyDescriptor(Al.prototype,"getSelectedSkuId"),Al.prototype),ot()(Al.prototype,"getGoodsNumber",[Jr.a],Object.getOwnPropertyDescriptor(Al.prototype,"getGoodsNumber"),Al.prototype),ot()(Al.prototype,"selectSkuId",[Jr.a],Object.getOwnPropertyDescriptor(Al.prototype,"selectSkuId"),Al.prototype),ot()(Al.prototype,"setGoodsNumber",[Jr.a],Object.getOwnPropertyDescriptor(Al.prototype,"setGoodsNumber"),Al.prototype),Al),Bl=n("nWhu"),Ul=n("cBUB"),Vl=n.n(Ul),Hl=xa.getInstance(),ql=wo.getInstance(),zl=function(e){var t=e.ocData;if(!t)return null;var n=e.goods&&e.goods.skuNewPricePrefix,r=w()(t,"goodsInfo.totalPrice"),o=w()(t,"promotionInfo")||{},i=o.isNewPriceArea,c=o.totalDiscountDisplay;if(i)return c?I.a.createElement("span",{className:Vl.a.prefixPrice},"".concat(n,"¥").concat(r)):null;var u=(w()(e,"ocData.promotionInfo.totalPromotionsConsult")||{}).categoryDisplay,l=w()(e,"ocData.promotionInfo.shopPromotion.promotionStatus"),d=Hl.ocData.goodsId,p=w()(e,"ocData.promotionInfo.totalPromotionClickable")&&q()(u),f=function(){var t=s()(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(ie.b)({page_el_sn:"4503302",op:"click",goods_id:d}),n=w()(e,"ocData.promotionInfo.shopPromotion.promotionIdentityVo.extension.batch_sn")||w()(e,"ocData.promotionInfo.optionalShopsPromotion.batchSn"),t.t0=Mt.b,t.t1=w()(e,"ocData.promotionInfo.shopPromotion.mallId"),t.t2=n,t.next=7,Object(ht.a)();case 7:t.t3=t.sent,t.t4={anti_content:t.t3},t.t5={mall_id:t.t1,like_from:101003,batch_sn:t.t2,merchant_tag:50,base_risk_info:t.t4},t.t6={method:"POST",url:"api/zenon/mall/like_and_receive_coupon",data:t.t5},(0,t.t0)(t.t6).then((function(){Hl.needReload=!0,Object(ct.h)("领券成功，已关注店铺"),xn({groupId:"20203",customTags:{event:"receivePromotion"}}),Hl.refresh({front_action:pr})})).catch((function(e){var t=e.response,n=(t&&t.data||{}).error_msg||"领取失败~";Object(ct.h)(n)}));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var e=s()(a.a.mark((function e(){var t,n,r,o,i,c,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,ql.autoTakeMerchantCoupon();case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(2),t=e.t0||{},n=t.response,r=(n||{}).data,o=w()(r,"error_toast")||"领取优惠失败，请重试",Object(ct.h)(o);case 13:return e.next=15,ql.fetchPromotionList();case 15:i=e.sent,s=(c=ql||{}).togglePromotionPopupVisible,u=c.setPromotionLists,i&&(xn({groupId:"20203",customTags:{event:"showPromotionPopup"}}),u&&u(i),setTimeout((function(){s&&s(!0)}),0));case 18:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),h=!!w()(e,"ocData.promotionInfo.optionalShopsPromotion.batchSn"),v=l===wt||h;return I.a.createElement(I.a.Fragment,null,c&&c.length>0&&c.map((function(e,t){var n=R()(Vl.a.promotion,Vl.a["promotion".concat(e.display_type)]),r=v?{page_el_sn:"4503302",op:"impr",goods_id:d}:{};return I.a.createElement(Bi.a,{trackingInfo:r,key:t},I.a.createElement("div",{className:n,"data-active":v?"red":"",onClick:v?f:m,style:{height:e.height?e.height/100+"rem":null,lineHeight:e.height?e.height/100+"rem":null,color:e.font_color,backgroundColor:e.bg_color}},e.text,p&&I.a.createElement(Wo.a,null)))})))},Ql=n("SBhu"),Gl=n.n(Ql),Jl=xa.getInstance();function Kl(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.ocData,a=null==r||null===(e=r.promotionInfo)||void 0===e||null===(t=e.totalPromotionsConsult)||void 0===t?void 0:t.purchase_method_items;return(null==a?void 0:a.length)>0?I.a.createElement("div",{className:Gl.a.container},I.a.createElement("div",{className:Gl.a.title},"优惠购机方式"),a.map((function(e,t){var n=e.is_selected,r=e.purchase_text,a=e.purchase_type;return I.a.createElement("div",{key:t,className:R()(Gl.a.item,V()({},Gl.a.selected,n)),onClick:function(){n||Jl.refresh({promotion_vo:{promotion_purchase_type:a},frontAction:br})}},r)}))):null}n("9ZFI");var Yl,Xl=n("G7xb"),Zl=n.n(Xl);var $l=xa.getInstance(),ed=wo.getInstance(),td=!1;"undefined"!=typeof window&&(td=Object(we.a)().isWeChatMiniProgram);var nd,rd={free:Zl.a.skuSpecValue,selected:R()(Zl.a.skuSpecValue,Zl.a.skuSpecValueSelected),disable:R()(Zl.a.skuSpecValue,Zl.a.skuSpecValueDisable)},ad=(Yl=function(e){m()(f,e);var t,n,r,o,c,u,d=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=y()(e);if(t()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}(f);function f(e){var t;l()(this,f),(t=d.call(this,e)).deliverRef=I.a.createRef(),t.skuIphoneRef=I.a.createRef(),t.skuRef=I.a.createRef(),t.ocSkuRef=I.a.createRef(),t.isPaying=!1,t.isShowingRecycleHighlayer=void 0,t.getSkuRef=function(){return t.skuSelectorBodyRef};var n=t.buildSkuData(e.goods.skus),r=n.skuTypeValues,a=n.typeHashToSkuID,o=n.currentSelect,i=n.skuInfos,c=n.originButtonStatus;return t.state={originButtonStatus:c,selectedSkuID:null,goodsNumber:1,skuInfos:i,currentSelect:o,skuTypeValues:r,typeHashToSkuID:a,selectedHomeIns:{},selectedSendWays:{},oldForNewSelected:{},promotionDesc:"",showSkuSelectorPopup:!1,styleStatus:0},t}return p()(f,[{key:"componentDidMount",value:(u=s()(a.a.mark((function e(){var t,n,r,o,i,c,s,u,l=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==(t=Object.keys(this.state.skuInfos).filter((function(e){return l.state.skuInfos[e].quantity>0}))).length){e.next=5;break}this.selectSkuId({skuId:t[0]}),e.next=33;break;case 5:n=!0,r=!1,o=void 0,e.prev=8,i=this.state.skuTypeValues[Symbol.iterator]();case 10:if(n=(c=i.next()).done){e.next=19;break}if(1!==(s=c.value).values.length){e.next=16;break}return u=s.type,e.next=16,this.selectOneValue(u,s.values[0]);case 16:n=!0,e.next=10;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(8),r=!0,o=e.t0;case 25:e.prev=25,e.prev=26,n||null==i.return||i.return();case 28:if(e.prev=28,!r){e.next=31;break}throw o;case 31:return e.finish(28);case 32:return e.finish(25);case 33:case"end":return e.stop()}}),e,this,[[8,21,25,33],[26,,28,32]])}))),function(){return u.apply(this,arguments)})},{key:"buildSkuData",value:function(e){var t=[],n={},r={},a={};return e.forEach((function(e){var o=e.specs,i=e.skuID;a[i]=e;var c={};o.forEach((function(e){var n=e.spec_key,a=e.spec_value;c[n]=a;var o=t.filter((function(e){return e.type===n}));if(o&&o[0]){var i=o[0].values;!i.includes(a)&&i.push(a)}else r[n]=null,t.push({type:n,values:[a]})})),n[JSON.stringify(c)]=i})),{originButtonStatus:this.getButtonStatus(r),skuTypeValues:t,typeHashToSkuID:n,currentSelect:r,skuInfos:a}}},{key:"checkHas",value:function(e){var t=this.props.goods.skus,n=!0,r=!1,a=void 0;try{for(var o,i=function(){var t=o.value;if(t.quantity<=0)return"continue";var n={};t.specs.forEach((function(e){var t=e.spec_key,r=e.spec_value;n[t]=r}));var r=!0;for(var a in e)e[a]&&n[a]!==e[a]&&(r=!1);return r?{v:t.skuID}:void 0},c=t[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var s=i();switch(s){case"continue":continue;default:if("object"===Fe()(s))return s.v}}}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return!1}},{key:"getButtonStatus",value:function(e){var t=this,n=e||this.state.currentSelect,r=this.props.goods.skus,a={};return r.forEach((function(e){e.specs.forEach((function(e){var r=e.spec_key,o=e.spec_value,c=i()(i()({},n),{},V()({},r,o)),s=t.checkHas(c);a[r]=i()(i()({},a[r]),{},V()({},o,s))}))})),a}},{key:"selectSkuId",value:(c=s()(a.a.mark((function e(t){var n,r,o,i,c,s,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.skuId,r=t.goodsNumber,o=void 0===r?1:r,1!==((i=this.props.goods).skus||[]).length||w()(i,"skus[0].specs.length")||!n){e.next=6;break}return this.setState({selectedSkuID:+n,goodsNumber:o}),e.abrupt("return");case 6:c=this.state.typeHashToSkuID,e.t0=a.a.keys(c);case 8:if((e.t1=e.t0()).done){e.next=22;break}if(s=e.t1.value,c[s]!==+n){e.next=20;break}u=JSON.parse(s),e.t2=a.a.keys(u);case 13:if((e.t3=e.t2()).done){e.next=19;break}return l=e.t3.value,e.next=17,this.selectOneValue(l,u[l],!0);case 17:e.next=13;break;case 19:+o>0&&this.setState({goodsNumber:o});case 20:e.next=8;break;case 22:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"setGoodsNumber",value:function(e){this.setState({goodsNumber:e})}},{key:"resetSkuId",value:function(){var e={};(this.props.goods.skus||[]).forEach((function(t){t.specs.forEach((function(t){var n=t.spec_key;e[n]=null}))})),this.setState({currentSelect:e,selectedSkuID:null})}},{key:"checkQuantityAsync",value:function(e){var t=this;this.isCheckQuantityAsync||(this.isCheckQuantityAsync=!0,Object(Mt.b)({method:"POST",url:"api/oak/quantity/check",data:i()({goods_id:this.props.goods.goodsID,sku_id:e,mall_id:this.props.goods.mallID,detail_id:w()(this.props.goods,"activity.detailID"),select_quantity:+this.state.goodsNumber,hostname:location.hostname,community_id:this.props.communityId},w()(this.props.goods,"control.quantity_check_request_params")||{})}).then((function(n){if(n){var r=n.next_quantity,a=t.state.skuInfos[e];a.isQualityCheckEnd=0===n.has_quantity,a.defaultQuantity=r,t.setState({skuInfos:t.state.skuInfos},t.amendLimitQuantity)}t.isCheckQuantityAsync=!1})).catch((function(){t.isCheckQuantityAsync=!1})))}},{key:"getLimitGoodsNumber",value:function(){var e=this.state.selectedSkuID,t=1e5;if(e){var n=this.state.skuInfos[e],r=n.quantity,a=n.staticLimitQuantity,o=n.defaultQuantity;if(this.props.goods.checkQuantity&&o){var i=+a||1;if(n.isQualityCheckEnd)t=Math.min(i,o);else{var c=this.state.goodsNumber;i>o&&c>=o&&this.checkQuantityAsync(e),t=Math.min(i,o)}}else t=Math.min(+a,+r)||1}else t=1e5;return+t<1&&(t=1),t}},{key:"amendLimitQuantity",value:function(){var e=this.getLimitGoodsNumber(),t=this.state,n=t.goodsNumber,r=t.selectedSkuID;if(n>e)if(r&&this.props.goods.checkQuantity){var a=this.state.skuInfos[r],o=a.staticLimitQuantity,i=a.defaultQuantity;(a.isQualityCheckEnd||o<i)&&this.updateAmendLimitQuantityGoodsNumber(e,!0),+n>1e3&&1e3==+e&&this.updateAmendLimitQuantityGoodsNumber(e)}else this.updateAmendLimitQuantityGoodsNumber(e,!0);else n<1&&this.updateAmendLimitQuantityGoodsNumber(1)}},{key:"updateAmendLimitQuantityGoodsNumber",value:function(e,t){var n=this,r=this.state.selectedSkuID;r||this.setState({goodsNumber:e},(function(){t&&Object(ct.h)("当前".concat(r?"款式":"商品","最多可拼").concat(e,"件")),n.state.selectedSkuID&&$l.refresh({goods_number:e,front_action:dr})}))}},{key:"handleHomeInsClick",value:function(e){this.setState({selectedHomeIns:e})}},{key:"getSelectedSkuID",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,a=this.props.isOptSoldOut,o=b()(this.state.currentSelect);if(o[e]!==t||n?o[e]=t:o[e]=null,!a||0!==r||this.checkHas(o)){var i=this.state.typeHashToSkuID[JSON.stringify(o)];return i}for(var c in o)c!==e&&(o[c]=null)}},{key:"selectOneValue",value:(o=s()(a.a.mark((function e(t,n){var r,o,i,c,s,u,l=this,d=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>2&&void 0!==d[2]&&d[2],o=d.length>3&&void 0!==d[3]?d[3]:-1,i=this.props.isOptSoldOut,(c=b()(this.state.currentSelect))[t]!==n||r?c[t]=n:c[t]=null,i&&0===o&&!this.checkHas(c))for(s in c)s!==t&&(c[s]=null);if(u=this.state.typeHashToSkuID[JSON.stringify(c)],!this.props.selectOneValueCb){e.next=13;break}return e.next=10,this.props.selectOneValueCb({selectedSkuID:u,type:t,value:n,force:r});case 10:if(e.sent){e.next=13;break}return e.abrupt("return",!1);case 13:return this.setState({currentSelect:c,selectedSkuID:u,selectedHomeIns:{}},(function(){l.amendLimitQuantity()})),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"fixInputBug",value:function(){var e=Object(we.a)();e.system===Se.b.IOS&&Object(Se.c)(e.systemVersion,"12.0")>=0&&"function"==typeof window.scrollTo&&window.scrollTo(0,0)}},{key:"setCustomState",value:function(e){this.setState(e)}},{key:"show",value:function(e){var t=this,n=this.props.goods,r=e.preventAutoConfirm;if(1===n.skus.length&&!w()(n,"skus[0].specs.length")){var a=n.skus[0].skuID;if(this.setState({selectedSkuID:a,selectedHomeIns:{}},(function(){r||(ct.a.hide(),t.confirmSku())})),!r)return}if(w()(e,"skuID")){var o=e.goodsNumber;this.setState({goodsNumber:Number(o)||1},(function(){t.selectSkuId({skuId:e.skuID,goodsNumber:Number(o)||1})}))}}},{key:"setScroll",value:function(){Object(Oa.a)(this.skuSelectorBodyRef)}},{key:"goodsNumberBlur",value:function(){this.fixInputBug();var e=Number(this.state.goodsNumber)||1;this.setState({goodsNumber:e},this.amendLimitQuantity),this.state.selectedSkuID&&$l.refresh({goods_number:e,front_action:dr})}},{key:"goodsNumberChangeClick",value:function(e){Object(ie.b)({page_el_sn:4259118,op:"click",goods_id:this.props.goods.goodsID,goods_number:e})}},{key:"goodsNumberChange",value:function(e){var t=parseInt(e.target.value,10)||1;this.setState({goodsNumber:t},this.amendLimitQuantity),this.state.selectedSkuID&&$l.refresh({goods_number:t,front_action:dr}),this.goodsNumberChangeClick()}},{key:"updateGoodsNumber",value:function(e){var t=(parseInt(this.state.goodsNumber,10)||1)+e;this.setState({goodsNumber:t}),this.state.selectedSkuID&&$l.refresh({goods_number:t,front_action:dr}),this.goodsNumberChangeClick()}},{key:"reduceGoodsNumber",value:function(e){if(e&&e.stopPropagation(),this.isEnableReduce())this.updateGoodsNumber(-1);else if(this.state.selectedSkuID&&this.props.ocData){var t=this.props.ocData.goodsInfo.leastNumber;t&&t>1&&Object(ct.h)("该商品至少购买".concat(t,"件"))}}},{key:"increaseGoodsNumber",value:function(e){if(e&&e.stopPropagation(),this.isEnableIncrease())this.updateGoodsNumber(1);else{var t=this.state,n=t.selectedSkuID,r=t.goodsNumber,a=this.props.ocData.goodsInfo||{},o=a.limitMessage,i=a.limitNumber,c=a.limitStatus;if(n&&this.props.ocData)return void(o?Object(ct.h)(o):c&&r>1e3?Object(ct.h)("拼单件数超出范围"):c?Object(ct.h)("当前款式最多可拼".concat(r,"件")):Object(ct.h)("当前款式最多可拼".concat(i,"件")));var s=this.getLimitGoodsNumber();Object(ct.h)("当前".concat(n?"款式":"商品","最多可拼").concat(s,"件"))}}},{key:"confirmSku",value:(r=s()(a.a.mark((function e(t){var n,r,o,i,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.stopPropagation(),this.checkSpecDesc()){e.next=3;break}return e.abrupt("return");case 3:if(w()(this.props.goods,"ui.sku_section.view_style_v2")!==pc.b.HOME_INSTALL){e.next=8;break}if(+w()(this.state.selectedHomeIns,"srv_type")>=0){e.next=8;break}return Object(ct.h)("请选择服务"),e.abrupt("return");case 8:if(w()(this.props.goods,"ui.sku_section.view_style_v2")!==pc.b.CAR_SHOP){e.next=13;break}if(!this.deliverRef.current){e.next=13;break}if(n=this.deliverRef.current.getDeliveryData()){e.next=13;break}return e.abrupt("return");case 13:if(w()(this.props.goods,"ui.sku_section.view_style_v2")!==pc.b.IPHONE){e.next=20;break}if(!this.skuIphoneRef.current){e.next=20;break}if(r=this.skuIphoneRef.current.getState()||{},i=(o=r).mobileID,o.cityID&&i){e.next=20;break}return Object(ct.h)("请先选择入网信息"),e.abrupt("return");case 20:c=this.props.confirmSkuCallBack,s=this.state.selectedSkuID,c&&c({selectedSkuID:s,goodsNumber:this.state.goodsNumber,skuInfo:this.state.skuInfos[s],skuInfos:this.state.skuInfos,iphoneInfo:r,deliveryData:n,homeInsData:this.state.selectedHomeIns,state:this.state,props:this.props,skuDirectOrder:!0});case 23:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"checkSpecDesc",value:function(){var e,t;if(!this.state.selectedSkuID)return Object(ct.h)(this.priceAreaRef.getSpecDesc()),!1;var n=null===(e=this.props.ocData)||void 0===e?void 0:e.concentratedTransportationInfo,r=w()(this.props.goods,"ui.sku_section.old_for_new");return!(r&&r.title&&!n&&!(null===(t=this.oldForNewSelected)||void 0===t?void 0:t.type))||(Object(ct.h)("请选择".concat(r.title)),!1)}},{key:"showRecycleHighlayer",value:(n=s()(a.a.mark((function e(){var t,n,r,o,i,c,u,l,d,p=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$l.ocData,n=w()(t,"goodsInfo.mallId"),r=w()(t,"goodsInfo.skuId"),o=w()(t,"goodsInfo.goodsId"),i=this.props.recordId,c=this.ocSkuRef&&this.ocSkuRef.current.offsetHeight,u=this.state,l=u.selectedSkuID,d=u.goodsNumber,!Object(we.a)().isNativePlatform){e.next=21;break}if(e.prev=8,!this.isShowingRecycleHighlayer){e.next=11;break}return e.abrupt("return");case 11:return this.isShowingRecycleHighlayer=!0,this.isPaying=!0,e.next=15,Object(oe.f)("JSUniPopup","showHighLayer",{model:{url:"/recy_old_device_evaluate_popup.html",data:JSON.stringify({mall_id:n,goods_id:o,sku_id:r,record_id:i,height:c}),name:"old_device_evaluate_popup",stat_data:JSON.stringify({page_sn:999999}),block_loading:1,occasion:1,load_timeout:5e3},complete:function(){var e=s()(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.record_id){e.next=5;break}return r=n.record_id,e.next=4,$l.render({sku_id:l,goods_number:d,front_action:ur},r);case 4:p.props.setRecordId&&p.props.setRecordId(r);case 5:p.isPaying=!1;case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),on_load_error:function(e,t){p.isShowingRecycleHighlayer=!1,p.isPaying=!1},on_state_change:function(e,t){3===t.current_state&&(p.isShowingRecycleHighlayer=!1,p.isPaying=!1)}},"5.6.0","5.6.0");case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),this.isShowingRecycleHighlayer=!1,this.isPaying=!1;case 21:case"end":return e.stop()}}),e,this,[[8,17]])}))),function(){return n.apply(this,arguments)})},{key:"pay",value:(t=s()(a.a.mark((function e(){var t,n,r,o,c,u,l,d,p,f,m,h,v,g,y,_,b,k,S,I,C,P,E,O,N=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkSpecDesc()){e.next=3;break}return Rn.stop(),e.abrupt("return");case 3:if((n=$l.ocData).orderSn){e.next=13;break}if(!(r=$r({ocData:n,ocManager:$l})).errMsg){e.next=10;break}return Rn.stop(),Object(ct.h)(r.errMsg),e.abrupt("return");case 10:if(r.success){e.next=13;break}return Rn.stop(),e.abrupt("return");case 13:if(!this.isPaying){e.next=15;break}return e.abrupt("return");case 15:if((o=Zr({ocData:n})).success){e.next=20;break}return Rn.stop(),o.shouldShowPaymentList&&(this.props.showPaymentList(),setTimeout((function(){Object(ct.h)(o.errMsg)}),200)),e.abrupt("return");case 20:if(2!==(null===(t=this.oldForNewSelected)||void 0===t?void 0:t.type)||this.props.recordId){e.next=37;break}if(p=(null==n||null===(c=n.promotionInfo)||void 0===c||null===(u=c.totalPromotionsConsult)||void 0===u?void 0:u.purchase_method_items)||[],f=p.find((function(e){return 1===e.purchase_type&&e.is_selected})),m=null==n||null===(l=n.promotionInfo)||void 0===l?void 0:l.retrievePromotion,h=(null==m||null===(d=m.promotionIdentityVo)||void 0===d?void 0:d.extension)||{},v=h.source_type,!(+(g=h.is_mass_subsidy)&&f&&(null==m?void 0:m.promotionStatus)===Ct&&Qr.blockPay)){e.next=28;break}return Qr.showPopup(i()(i()({onClose:function(){return null},onSuccess:function(){var e=s()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ed.autoTakeCouponBeforeOldForNew();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:N.showRecycleHighlayer();case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),onNormalPay:function(){Qr.disableBlockPay(),N.showRecycleHighlayer()},sourceType:v},null==n?void 0:n.goodsInfo),{},{discount:Object(Q.c)(null==m?void 0:m.discount),isOldForNew:!0,isMassSubsidy:+(g||0),showBeforePay:!0})),e.abrupt("return");case 28:return e.prev=28,e.next=31,ed.autoTakeCouponBeforeOldForNew();case 31:e.next=35;break;case 33:e.prev=33,e.t0=e.catch(28);case 35:return this.showRecycleHighlayer(),e.abrupt("return");case 37:if(this.isPaying=!0,!n.orderSn){e.next=43;break}return e.next=41,$l.pay();case 41:return this.isPaying=!1,e.abrupt("return");case 43:if(y=w()(n,"promotionInfo.shopPromotion"),_=w()(n,"promotionInfo.platformPromotion"),b=w()(n,"promotionInfo.platformPromotion.promotionStatus"),k=this.state,S=k.selectedSkuID,I=k.goodsNumber,C=k.skuInfos,e.prev=47,S===n.goodsInfo.skuId&&I===n.goodsInfo.goodsNumber){e.next=50;break}throw new Error("面板显示skuId=".concat(S,"或goodsNumber=").concat(I,"和摩根支付skuId=").concat(n.goodsInfo.skuId,"或goodsNumber=").concat(n.goodsInfo.goodsNumber,"不一致!"));case 50:if(b!==kt){e.next=58;break}return e.next=53,ed.batchAutoTakeCoupon({shopPromotion:y,platformPromotion:_});case 53:if(!(P=e.sent)||!P.notAllSuccess){e.next=56;break}throw new Error("批量领券未全部成功");case 56:e.next=71;break;case 58:if(!y){e.next=63;break}return e.next=61,ed.autoTakeMerchantCoupon();case 61:e.next=71;break;case 63:if(E=C[S],!(O=Vi.b["".concat(I,"-").concat(S)]&&Vi.b["".concat(I,"-").concat(S)].batchSn||E&&E.batchSn)){e.next=71;break}return e.next=68,no({batchSn:O});case 68:return $l.needReload=!0,e.next=71,$l.refresh({front_action:pr});case 71:e.next=79;break;case 73:return e.prev=73,e.t1=e.catch(47),Object(x.c)(new Error("payConfirmSku"),{error_message:(e.t1||{}).message}),this.isPaying=!1,this.confirmSku(),e.abrupt("return");case 79:return e.next=81,$l.pay();case 81:this.isPaying=!1;case 82:case"end":return e.stop()}}),e,this,[[28,33],[47,73]])}))),function(){return t.apply(this,arguments)})},{key:"isEnableIncrease",value:function(){var e=this.state,t=e.selectedSkuID,n=e.goodsNumber;if(t&&this.props.ocData){var r=this.props.ocData.goodsInfo||{},a=r.limitStatus,o=r.limitNumber;return!a&&n<o}var i=+this.getLimitGoodsNumber();if(t&&this.props.goods.checkQuantity){var c=this.state.skuInfos[t],s=c.staticLimitQuantity,u=c.defaultQuantity;return+n>1e3&&!c.isQualityCheckEnd||!((c.isQualityCheckEnd||s<u)&&n>=i)}return n<i}},{key:"isEnableReduce",value:function(){var e=this.state,t=e.selectedSkuID,n=e.goodsNumber;return t&&this.props.ocData?n>this.props.ocData.goodsInfo.leastNumber:n>1}},{key:"onOldForNewClick",value:function(e){Qr.resetBlockPay(),this.state.oldForNewSelected.type===e.type?(this.setState({oldForNewSelected:{}}),Object(ie.b)({page_el_sn:5881525,op:"click",goods_id:this.props.goods.goodsID})):this.setState({oldForNewSelected:e})}},{key:"renderSkusElement",value:function(){var e,t=this,n=this.getButtonStatus(),r=this.state.originButtonStatus,a=this.props.goods.skus.find((function(e){return e.hotSale}))||{},o=((null==a?void 0:a.specs)||[]).map((function(e){return e.spec_value})),i=-1,c=this.state.skuTypeValues.map((function(e,a){var c=e.type,s=e.values,u=(Object.values(r[c])||[]).reduce((function(e,t){return e+(t?1:0)}),0),l=s.map((function(e,s){var l=rd.disable,d=function(){};(n[c]&&n[c][e]||t.props.isOptSoldOut&&0===a&&r[c]&&r[c][e])&&(l=rd.free,d=function(){t.selectOneValue(c,e,!1,a);var n=t.getSelectedSkuID(c,e,!1,a);if(n){var r=!t.state.selectedSkuID;$l.ocData&&$l.ocData.orderSn&&Object(ie.b)({page_el_sn:4358286,op:"click",goods_id:t.props.goods.goodsID,goods_number:t.state.goodsNumber}),$l.refresh({sku_id:n,goods_number:t.state.goodsNumber,front_action:lr},r)}}),t.state.currentSelect[c]===e&&(l=rd.selected);var p=e;if(1===t.state.skuTypeValues.length){var f=JSON.stringify(V()({},c,e)),m=t.state.typeHashToSkuID[f],h=t.state.skuInfos[m],v=h.groupSkuUnitPrice,g=h.normalSkuUnitPrice,y=+t.props.group.requireNum>1?v:g;y&&(p="".concat(e,"｜").concat(y))}return i<0&&u>1&&e===o[a]&&(i=a),I.a.createElement("div",{role:"button","aria-label":p,key:s,className:l,onClick:d},i===a&&e===o[a]&&I.a.createElement("div",{"aria-hidden":!0,className:R()(Zl.a.hotSale,Zl.a.hotSaleIcon)}),p)})),d=null,p=w()(t.props.goods,"ui.sku_section.size_chart"),f=+w()(t.props.goods,"ui.sku_section.size_chart_entry_type");if(1===a&&p){var m={page_el_sn:"648235",op:"impr",goods_id:t.props.goods.goodsID};d=I.a.createElement(Bi.a,{trackingInfo:m},I.a.createElement("span",{className:2===f?Zl.a.skuSizeChartRed:"sku-size-chart",onClick:function(){Object(Ui.a)(p),Object(ie.b)({page_el_sn:"648235",op:"click",goods_id:t.props.goods.goodsID})}},2===f?"尺码详情":"详情"))}var h=w()(t.props.goods,"ui.sku_section.size_refer_fit_desc"),v=null;return 1===a&&h&&(v=I.a.createElement("span",{className:Zl.a.sizeDesc},h)),I.a.createElement("div",{className:Zl.a.skuSpecs,key:a},I.a.createElement("span",{className:Zl.a.skuSpecsKey},c,v,d),I.a.createElement("div",{className:Zl.a.skuSpecValueList},l))}));if(w()(this.props.goods,"ui.sku_section.view_style_v2")===pc.b.IPHONE){var s=this.state.selectedSkuID;return I.a.createElement(I.a.Fragment,null,c,I.a.createElement(uc.a,{ref:this.skuIphoneRef,selectedSkuID:s,goodsID:this.props.goods.goodsID,toastSpec:function(){Object(ct.h)(t.priceAreaRef.getSpecDesc())},getSkuRef:this.getSkuRef}))}if(w()(this.props.goods,"ui.sku_section.view_style_v2")===pc.b.CAR_SHOP){var u=+w()(this.props.goods,"ui.sku_section.car_shop.action_type");return I.a.createElement(I.a.Fragment,null,c,I.a.createElement(lc.a,{ref:this.deliverRef,goods:this.props.goods,updateSelectedSendWays:function(e){t.setState({selectedSendWays:e})},selectedSendWays:this.state.selectedSendWays,actionType:u}))}var l=this.props.goods.activity;if(!(w()(this.props.goods,"ui.sku_section.view_style_v2")!==pc.b.HOME_INSTALL||td||l&&25===l.activityType)){var d=this.state,p=d.selectedSkuID,f=d.skuInfos;return I.a.createElement(I.a.Fragment,null,c,I.a.createElement(dc.a,{selectedSkuID:p,skuInfos:f,selectedHomeIns:this.state.selectedHomeIns,ref:this.homeRef,goods:this.props.goods,handleHomeInsClick:this.handleHomeInsClick}))}var m=I.a.createElement(mc.a,null,I.a.createElement(Kl,{ocData:this.props.ocData})),h=null===(e=this.props.ocData)||void 0===e?void 0:e.concentratedTransportationInfo,v=w()(this.props.goods,"ui.sku_section.old_for_new");if(v&&v.title&&!h){var g=v.title,y=v.trade_item;return I.a.createElement(I.a.Fragment,null,m,I.a.createElement("div",{className:Zl.a.skuSpecs},I.a.createElement("span",{className:Zl.a.skuSpecsKey},g),I.a.createElement("div",{className:Zl.a.skuSpecValueList},y.map((function(e,n){var r=e.type===t.state.oldForNewSelected.type;return I.a.createElement(Bi.a,{key:n,trackingInfo:r?{page_el_sn:"5881525",op:"impr",goods_id:t.props.goods.goodsID}:{}},I.a.createElement("div",{className:R()(Zl.a.skuSpecValue,V()({},Zl.a.skuSpecValueSelected,r)),onClick:function(){return t.onOldForNewClick(e)}},e.desc))})))),c)}return I.a.createElement(I.a.Fragment,null,m,c)}},{key:"renderGoodsNumberElement",value:function(){var e,t,n=this.isEnableIncrease(),r=this.isEnableReduce(),a=(this.state.goodsNumber||0).toString().length,o=a>3?36+9*(a-3):36;return I.a.createElement("div",{className:Zl.a.selectorNumber},I.a.createElement("div",{className:Zl.a.numberStepper},I.a.createElement("div",{className:R()(Zl.a.skuSelectorReduce,(e={},V()(e,Zl.a.skuSelectorReduceEnable,r),V()(e,Zl.a.skuSelectorReduceDisable,!r),e)),onClick:this.reduceGoodsNumber,"aria-label":"减少数量",role:"button"}),I.a.createElement("input",{className:Zl.a.skuSelectorInput,type:"number",maxLength:"5",value:this.state.goodsNumber+"","aria-label":"当前数量为".concat(this.state.goodsNumber,"件"),onBlur:this.goodsNumberBlur,onChange:this.goodsNumberChange,style:{width:"".concat(o/100,"rem")}}),I.a.createElement("div",{className:R()(Zl.a.skuSelectorIncrease,(t={},V()(t,Zl.a.skuSelectorIncreaseEnable,n),V()(t,Zl.a.skuSelectorIncreaseDisable,!n),t)),onClick:this.increaseGoodsNumber,"aria-label":"增加数量",role:"button"})))}},{key:"getViewImgList",value:function(e){var t=(Object.values(this.state.skuInfos)||[]).filter((function(e){return e.quantity>0}));t.sort((function(e,t){return w()(e,"previewPriority")-w()(t,"previewPriority")}));var n=t.map((function(e){return e.thumbUrl}));return n.unshift(e),n}},{key:"setSkuStyleStatus",value:function(e){this.setState({styleStatus:e})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.goods,a=n.group,o=n.changeToGroupBuy,i=n.usePddNativePhoto,c=n.isMorganFetching,s=n.useNormalSkuData,u=n.consultPromotionPriceParams,l=this.state,d=l.skuInfos,p=l.selectedSkuID,f=l.currentSelect,m=l.styleStatus,h=r.hdThumbUrl||r.thumbUrl,v=this.getViewImgList(h);if(p)h=this.state.skuInfos[p].thumbUrl;else if(Object.keys(f).some((function(e){return f[e]}))){var g=this.checkHas(f);g&&(h=this.state.skuInfos[g].thumbUrl)}var y=w()(this.props.ocData,"promotionInfo.tradeInInfo"),_=this.props.recordId&&!y;return I.a.createElement("div",{className:R()(Zl.a.skuSelectorContainer,this.props.isMutliSku&&Zl.a.cartSkuUi),role:"dialog",tabIndex:-1,ref:this.ocSkuRef},I.a.createElement("div",{className:Zl.a.skuSelectorTitleBar},I.a.createElement("span",null,this.props.recordId?"确认以旧换新订单":"确认订单"),I.a.createElement(Wo.c,{className:Zl.a.skuSelectorCloseBtn,role:"button","aria-label":"关闭",onClick:function(){t.props.onClose&&t.props.onClose()}})),_?I.a.createElement(Ac,{onRefresh:function(){var e=t.state,n=e.selectedSkuID,r=e.goodsNumber;$l.render({sku_id:n,goods_number:r,front_action:ur},t.props.recordId)}}):I.a.createElement(I.a.Fragment,null,this.props.ocData&&I.a.createElement(Rl,{communityId:$l.communityId,groupOrderId:$l.groupOrderId,ocData:this.props.ocData,hasAddressLine:$l.hasAddressLine,goodsInfo:this.props.ocData.goodsInfo,addressInfo:this.props.ocData.addressInfo,updateAddressInfo:$l.updateAddressInfo,selectDeliveryItem:$l.selectDeliveryItem,selectShippingItem:$l.selectShippingItem,goods:r,onClickPreCheck:this.checkSpecDesc}),y&&I.a.createElement(rc,{ocData:this.props.ocData,currentSelect:this.state.currentSelect,onDescClick:function(){t.skuRef.current.show({skuID:w()(t.props.ocData,"goodsInfo.skuId"),goodsNumber:w()(t.props.ocData,"goodsInfo.goodsNumber")})}}),!y&&I.a.createElement("div",{className:Zl.a.skuSelectorHeadContainer},I.a.createElement("div",{className:Zl.a.skuSelectorHead},I.a.createElement(sc.a,{usePddNativePhoto:i,group:a,src:h,goods:r,imgList:v,skuInfos:d,selectedSkuID:p,selectSkuId:this.selectSkuId,resetSkuId:this.resetSkuId,goodsNumber:this.state.goodsNumber}),I.a.createElement("div",{className:Zl.a.skuSelectorHeadRight},I.a.createElement(Hi.a,{ref:function(e){t.priceAreaRef=e},goods:r,group:a,selectedSkuID:p,currentSelect:f,skuInfos:this.state.skuInfos,selectedHomeIns:this.state.selectedHomeIns,selectedSendWays:this.state.selectedSendWays,handleShowCart:function(){t.props.handleShowCart({selectedSkuID:p,goodsNumber:t.state.goodsNumber})},isMutliSku:this.props.isMutliSku,goodsNumber:this.state.goodsNumber,skuDirectOrder:this.props.skuDirectOrder,ocData:this.props.ocData,styleStatus:m,useNormalSkuData:s,consultPromotionPriceParams:u,renderPromotionDescContent:function(e){return c?null:p?I.a.createElement(zl,{ocData:t.props.ocData,goods:t.props.goods,isMutliSku:t.props.isMutliSku}):I.a.createElement(Bl.a,{priceInfo:e})}}),this.renderGoodsNumberElement()))),this.props.ocData&&!y&&I.a.createElement(Ki,{isMorganFetching:c,useNormalSkuData:s,selectedSkuID:this.state.selectedSkuID,ocData:this.props.ocData}),y&&I.a.createElement(cc,{onDescClick:this.showRecycleHighlayer,ocData:this.props.ocData,goods:r}),!y&&this.props.renderSkuBlackCard&&this.props.renderSkuBlackCard({skuSelector:this.state}),I.a.createElement("div",{ref:function(e){t.skuSelectorBodyRef=e},className:Zl.a.skuSelectorBody},!y&&this.renderSkusElement(),I.a.createElement(Dc,{goods:this.props.goods}),this.props.ocData&&w()(this.props.ocData,"cellBarVo.protocolV2")&&I.a.createElement(Ec,{goods:this.props.goods,ocData:this.props.ocData}),I.a.createElement("div",{className:Zl.a.safeDistance})),this.props.renderFooter&&this.props.renderFooter({selectedSkuID:this.state.selectedSkuID,skuInfos:this.state.skuInfos,goodsNumber:this.state.goodsNumber}),I.a.createElement(mc.a,null,I.a.createElement(fc.a,{goods:this.props.goods,selectedSkuID:p,skuInfos:d})),I.a.createElement(bc,{changeToGroupBuy:o,setSkuStyleStatus:this.setSkuStyleStatus,styleStatus:m,goods:r,group:a,skuInfos:d,showPaymentList:this.props.showPaymentList,ocData:this.props.ocData,onClick:this.pay,goodsNumber:this.state.goodsNumber,promotionDesc:this.state.promotionDesc,onClickPreCheck:this.checkSpecDesc,selectedSkuID:p,useNormalSkuData:s,oldForNewSelected:this.oldForNewSelected,hidePayHint:2===(null===(e=this.oldForNewSelected)||void 0===e?void 0:e.type)&&!this.props.recordId}),I.a.createElement(Fl,N()({ref:this.skuRef},this.props,{setSkuInfo:function(e){e&&t.setState(e)}}))))}},{key:"oldForNewSelected",get:function(){var e;return(null===(e=this.props.ocData)||void 0===e?void 0:e.concentratedTransportationInfo)?{}:this.state.oldForNewSelected}}]),f}(I.a.PureComponent),ot()(Yl.prototype,"buildSkuData",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"buildSkuData"),Yl.prototype),ot()(Yl.prototype,"checkHas",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"checkHas"),Yl.prototype),ot()(Yl.prototype,"getButtonStatus",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"getButtonStatus"),Yl.prototype),ot()(Yl.prototype,"selectSkuId",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"selectSkuId"),Yl.prototype),ot()(Yl.prototype,"setGoodsNumber",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"setGoodsNumber"),Yl.prototype),ot()(Yl.prototype,"resetSkuId",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"resetSkuId"),Yl.prototype),ot()(Yl.prototype,"checkQuantityAsync",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"checkQuantityAsync"),Yl.prototype),ot()(Yl.prototype,"getLimitGoodsNumber",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"getLimitGoodsNumber"),Yl.prototype),ot()(Yl.prototype,"amendLimitQuantity",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"amendLimitQuantity"),Yl.prototype),ot()(Yl.prototype,"updateAmendLimitQuantityGoodsNumber",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"updateAmendLimitQuantityGoodsNumber"),Yl.prototype),ot()(Yl.prototype,"handleHomeInsClick",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"handleHomeInsClick"),Yl.prototype),ot()(Yl.prototype,"getSelectedSkuID",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"getSelectedSkuID"),Yl.prototype),ot()(Yl.prototype,"selectOneValue",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"selectOneValue"),Yl.prototype),ot()(Yl.prototype,"setCustomState",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"setCustomState"),Yl.prototype),ot()(Yl.prototype,"show",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"show"),Yl.prototype),ot()(Yl.prototype,"setScroll",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"setScroll"),Yl.prototype),ot()(Yl.prototype,"goodsNumberBlur",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"goodsNumberBlur"),Yl.prototype),ot()(Yl.prototype,"goodsNumberChangeClick",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"goodsNumberChangeClick"),Yl.prototype),ot()(Yl.prototype,"goodsNumberChange",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"goodsNumberChange"),Yl.prototype),ot()(Yl.prototype,"updateGoodsNumber",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"updateGoodsNumber"),Yl.prototype),ot()(Yl.prototype,"reduceGoodsNumber",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"reduceGoodsNumber"),Yl.prototype),ot()(Yl.prototype,"increaseGoodsNumber",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"increaseGoodsNumber"),Yl.prototype),ot()(Yl.prototype,"confirmSku",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"confirmSku"),Yl.prototype),ot()(Yl.prototype,"checkSpecDesc",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"checkSpecDesc"),Yl.prototype),ot()(Yl.prototype,"showRecycleHighlayer",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"showRecycleHighlayer"),Yl.prototype),ot()(Yl.prototype,"pay",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"pay"),Yl.prototype),ot()(Yl.prototype,"isEnableIncrease",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"isEnableIncrease"),Yl.prototype),ot()(Yl.prototype,"isEnableReduce",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"isEnableReduce"),Yl.prototype),ot()(Yl.prototype,"onOldForNewClick",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"onOldForNewClick"),Yl.prototype),ot()(Yl.prototype,"getViewImgList",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"getViewImgList"),Yl.prototype),ot()(Yl.prototype,"setSkuStyleStatus",[Jr.a],Object.getOwnPropertyDescriptor(Yl.prototype,"setSkuStyleStatus"),Yl.prototype),Yl),od=n("RIqP"),id=n.n(od),cd=n("XoXN"),sd=n("tehB"),ud=n.n(sd),ld=0,dd={},pd=function(e){var t,n=e.checkQuantity,r=e.defaultQuantity,o=e.quantity,c=e.staticLimitQuantity,u=void 0===c?1:c,l=e.goodsNumber,d=e.onChangeGoodsNumber,p=e.detailId,f=e.mallId,m=e.goodsId,h=e.skuId,v=e.isMutliSku,g=e.communityId,y=e.goods,_=Object(S.useState)(!1),b=T()(_,2),k=b[0],w=b[1],C=l>(v?0:1),x=l<1e5;if(h){var P=dd[h];t=n?P&&+P.nextQuantity||r:o,x=l<u&&l<t}var E=function(e){d(e)},O=function(e){e=+e||1,Object(ct.g)("当前".concat(h?"款式":"商品","最多可拼").concat(e,"件")),d(e)},N=function(){var e=s()(a.a.mark((function e(){var o,c,s,d,v,_,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=++ld,!x){e.next=3;break}return e.abrupt("return");case 3:if(!(u<t)){e.next=6;break}return O(u),e.abrupt("return");case 6:if(n&&r){e.next=9;break}return O(t),e.abrupt("return");case 9:if(!n||!r){e.next=27;break}if(!(c=dd[h])||0!==c.hasQuantity){e.next=14;break}return O(t),e.abrupt("return");case 14:return e.prev=14,e.next=17,Object(Mt.b)({method:Mt.a.POST,url:"api/oak/quantity/check",data:i()({goods_id:m,sku_id:h,mall_id:f,detail_id:p,select_quantity:l,hostname:location.hostname,community_id:g},(null==y||null===(s=y.control)||void 0===s?void 0:s.quantity_check_request_params)||{})});case 17:if(d=e.sent,o===ld){e.next=20;break}return e.abrupt("return");case 20:d&&d.next_quantity&&(v=d.next_quantity,_=d.has_quantity,dd[h]&&dd[h].nextQuantity>v||(dd[h]={nextQuantity:v,hasQuantity:_}),b=dd[h].nextQuantity,l>b?O(b):w(!k)),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(14),console.error(e.t0),O(t);case 27:case"end":return e.stop()}}),e,null,[[14,23]])})));return function(){return e.apply(this,arguments)}}();return Object(S.useEffect)((function(){h&&N()}),[l]),I.a.createElement("div",{className:ud.a.skuNumber},I.a.createElement("div",{className:R()(ud.a.numberBtn,V()({},ud.a.disable,!C)),onClick:function(){E(--l)}},I.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},I.a.createElement("path",{d:"M1.496584 419.38597h1020.674909V605.567575H1.496584z"}))),I.a.createElement("input",{className:ud.a.input,type:"number",maxLength:5,value:l,onBlur:function(){var e=Object(we.a)();if(e.system===Se.b.IOS&&Object(Se.c)(e.systemVersion,"12.0")>=0&&"function"==typeof window.scrollTo){var t=document.body.scrollTop+((document.documentElement||{}).scrollTop||0);window.scrollTo(0,t)}},onChange:function(e){var t=+e.target.value||1;E(t)}}),I.a.createElement("div",{className:R()(ud.a.numberBtn,V()({},ud.a.disable,!x)),onClick:function(){x?E(++l):Object(ct.g)("当前".concat(h?"款式":"商品","最多可拼").concat(l,"件"))}},I.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},I.a.createElement("path",{d:"M1022.592554 419.397698H605.345902V2.151046h-186.181605V419.397698H1.917645v186.181605h417.246652v417.246653h186.181605V605.579303H1022.592554z"}))))},fd=I.a.memo(pd),md=n("UWjt"),hd=n("ZK0Z"),vd=n.n(hd),gd=function(e){var t=e.bottomDisplayItems;return(null==t?void 0:t.length)?I.a.createElement(Bi.a,{trackingInfo:{page_el_sn:6664147,op:"impr"}},I.a.createElement("div",{className:vd.a.container},I.a.createElement("span",{className:vd.a.content},t.map((function(e){var t=e.txt,n=e.color,r=e.font;return I.a.createElement("span",{style:{color:n,fontSize:r},key:t},t)}))))):null},yd=I.a.memo(gd),_d=function(e){var t={};if(!e)return t;var n=new RegExp(Yn);for(var r in e){if(r.startsWith(Yn))t[r.replace(n,"")]=e[r]}return t},bd=function(e){var t,n=e.allowOcHosts,r=e.goodsList,a=e.groupType,o=e.groupOrderId,c=e.forwardUrl,s=e.ocParams,u=Object(C.h)(window.location.href),l={source_channel:11};if(1===(null==r?void 0:r.length)){var d=r[0],p=d.goodsId,f=d.goodsNumber,m=d.groupId,h=d.skuId;l=i()(i()({},l),{},{sku_id:h,goods_number:f,goods_id:p,group_id:m,group_type:a,group_order_id:o,page_from:+u.page_from||0})}else c="transac_batch_checkout.html",l=i()(i()({},l),{},{goods_list:JSON.stringify(r.map((function(e,t){var n=e.goodsId,r=e.goodsNumber,a=e.groupId,o=e.likeFrom,i=e.price;return{goods_id:n,sku_id:e.skuId,group_id:a,like_from:o||+u.like_from||0,goods_number:r,price:i}}))),page_from:+u.page_from||0});l=i()(i()({},l),s),Object(we.a)().isWeChatPlatform&&["mobile.yangkeduo.com","m.hutaojie.com","panduoduo.yangkeduo.com"].concat(id()(n||[])).indexOf(location.hostname)<0?(l.last_host=location.hostname,t="//mobile.yangkeduo.com/"+Object(C.a)(l,c)):t=Object(C.a)(l,c),ut.a.uniformForward(t)},kd=n("X9Ge"),wd=n("32Nq"),Sd=n.n(wd),Id=0,Cd=[{txt:"具体优惠见下单页"}],xd=I.a.forwardRef((function(e,t){var n=e.groupType,r=e.groupOrderId,o=e.groupId,i=e.goodsId,c=e.checkQuantity,u=e.detailId,l=e.mallId,d=e.forwardUrl,p=e.selectedSkuList,f=e.addSku,m=e.deleteSku,h=e.onClose,v=e.changeGoodsNumber,g=e.updateBottomDisplayItems,y=e.communityId,_=e.goods,b=e.ocParams,k=Object(S.useRef)({selectedSkuListLen:0}),w=I.a.createRef(),x=Object(S.useState)({orderAmount:0,bottomDisplayItems:[],promotionTakeInfoList:[],skuList:[]}),P=T()(x,2),E=P[0],O=P[1],N=function(){var e=s()(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(C.h)(window.location.href),e.next=3,Promise.race([Object(Mt.b)({url:"api/oak/integration/multi_choose",method:Mt.a.POST,data:{goods_id:i,group_id:o,front_env:1,page_from:t.page_form,_oc_biz_type:t._oc_biz_type,extend_map:_d(b),cart_sku_list:p.map((function(e){var t=e.skuInfo,n=e.goodsNumber;return{sku_id:t.skuId,select_number:n}}))}}),new Promise((function(e,t){setTimeout((function(){t()}),3e3)}))]);case 3:return n=e.sent,e.abrupt("return",Object(ct.d)(n,["promotion_take_info_list"]));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(S.useEffect)((function(){var e=function(){var e=s()(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Id++,t=Id,e.prev=2,e.next=5,N();case 5:if(n=e.sent,t===Id){e.next=8;break}return e.abrupt("return");case 8:if(!n||!n.orderAmount){e.next=13;break}O(n),n.bottomDisplayItems&&g(n.bottomDisplayItems),e.next=14;break;case 13:throw new Error(JSON.stringify(n));case 14:e.next=22;break;case 16:e.prev=16,e.t0=e.catch(2),console.error(e.t0),r=p.reduce((function(e,t){return e+100*t.skuInfo.groupPrice*t.goodsNumber}),0),O({orderAmount:r,bottomDisplayItems:Cd,promotionTakeInfoList:[],skuList:[]}),g(Cd);case 22:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}();p.length&&e()}),[p.length,p]),Object(S.useEffect)((function(){setTimeout((function(){k.current.selectedSkuListLen<p.length&&w.current.scrollTo(0,w.current.scrollHeight),k.current.selectedSkuListLen=p.length}),0)}),[p.length]);return I.a.createElement(Bi.a,{trackingInfo:{page_el_sn:6664150,op:"impr"}},I.a.createElement(md.a,{modalClassName:Sd.a.modalCartList,ref:t,afterShow:function(e){e&&Object(Oa.a)(w.current)},titleClassName:Sd.a.titleCartSku,renderTitle:function(){return(null==p?void 0:p.length)?"已选".concat(null==p?void 0:p.length,"款商品"):"已选择款式"},onClose:h,renderContent:function(){return I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:Sd.a.cartContent,ref:w},!p.length&&I.a.createElement("div",{className:Sd.a.empty},I.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},I.a.createElement("path",{d:"M842 152H182L2 452v375c0 24.853 20.145 45 45 45h930c24.851 0 45-20.147 45-45V452L842 152zm162.506 300H834.5V168.655L1004.506 452zM819.5 167v285H646.176C638.713 519.499 581.489 572 512 572s-126.716-52.501-134.176-120H204.5V167h615zm-630 1.654V452H19.494L189.5 168.654zM1007 827c0 16.568-13.433 30-30 30H47c-16.571 0-30-13.432-30-30V467h347.999C378.974 535.938 439.937 587 512 587c72.059 0 133.022-51.062 146.997-120H1007v360z"})),"还没有选择款式，快去选择吧"),I.a.createElement("div",{className:Sd.a.skuList},p.map((function(e){var t=e.skuInfo,n=e.goodsNumber,r=t.specs,a=t.thumbUrl,o=t.skuId,s=r.map((function(e){return e.spec_value})).join(", ");return I.a.createElement("div",{className:Sd.a.cartSkuItem,key:o},I.a.createElement("img",{src:Object(jo.b)(a,{resizeWidth:300,quality:70,webpEnable:Object(ct.f)(),sharpen:1})}),I.a.createElement("div",{className:Sd.a.skuSelectedRightDesc},I.a.createElement("div",{className:Sd.a.skuSelectedName},s),function(e){var t=e.skuId,n=e.groupPrice,r=(E.skuList||[]).find((function(e){return e.skuId===t}))||{},a=r.goodsAmount,o=r.goodsAmountPrefix,i=r.promotionDisplayItems;return a?i?I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:Sd.a.skuSelectedPricePrefix},i.map((function(e){var t=e.color,n=e.font,r=e.txt;return I.a.createElement("span",{style:{color:t,fontSize:n}},r)}))),I.a.createElement("div",{className:Sd.a.skuSelectedPrice},o,"¥",Object(Q.c)(a))):I.a.createElement("div",{className:Sd.a.skuSelectedSinglePrice},I.a.createElement("span",{className:Sd.a.yen},"¥"),Object(Q.c)(a)):I.a.createElement("div",{className:Sd.a.skuSelectedSinglePrice},I.a.createElement("span",{className:Sd.a.yen},"¥"),n)}(t),I.a.createElement("div",{className:Sd.a.skuSelectedNum},I.a.createElement(fd,{checkQuantity:c,defaultQuantity:t.defaultQuantity,quantity:t.quantity,staticLimitQuantity:t.staticLimitQuantity,goodsNumber:n,onChangeGoodsNumber:function(e){if(0===e)return m(o),void Object(ct.g)("该款式已删除");v({skuId:o,goodsNumber:e})},detailId:u,mallId:l,goodsId:i,skuId:o,isMutliSku:!0,communityId:y,goods:_}))))}))),I.a.createElement(Bi.a,{trackingInfo:{page_el_sn:6664215,op:"impr"}},I.a.createElement(cd.a,{className:R()(Sd.a.buyMoreBtn),borderRadius:".08rem",borderColor:"#e02e24",style:{marginTop:p.length?".3rem":".2rem"},onClick:function(){Object(ct.k)({page_el_sn:6664215,op:"click"}),f()}},I.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},I.a.createElement("path",{d:"M451.7 458.2V2h120.5v456.2H1022v120.6H572.3V1022H451.7V578.8H2V458.2h449.7z"})),p.length?"再选一款":"添加款式"))),!!p.length&&I.a.createElement(I.a.Fragment,null,I.a.createElement(yd,{bottomDisplayItems:E.bottomDisplayItems}),I.a.createElement(Bi.a,{trackingInfo:{page_el_sn:6664151,op:"impr"}},I.a.createElement("div",{"data-active":"red",className:Sd.a.cartBottomBtn,onClick:function(){var e=p.map((function(e){return{goodsId:i,skuId:e.skuInfo.skuId,groupId:o,goodsNumber:e.goodsNumber,price:Math.round(100*e.skuInfo.groupPrice)}}));xn({groupId:"20203",customTags:{event:"goToCartBatchCheckOut"}}),Object(ct.k)({page_el_sn:6664151,op:"click"},s()(a.a.mark((function t(){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==E||null===(o=E.promotionTakeInfoList)||void 0===o?void 0:o.length)){t.next=3;break}return t.next=3,Object(kd.b)({coupon_take_info_list:E.promotionTakeInfoList,mall_id:l,merchant_tag:71,like_from:101008});case 3:bd({forwardUrl:d,goodsList:e,groupType:n,groupOrderId:r,ocParams:b});case 4:case"end":return t.stop()}}),t)}))))}},(null==E?void 0:E.orderAmount)?"合计¥".concat(Object(Q.c)(E.orderAmount),"，去结算"):"价格计算中..."))))}}))})),Pd=n("Z5Jv"),Ed=n.n(Pd),Od=function(e){var t=e.selectedSkuList,n=e.goToCartList,r=t.length;return I.a.createElement(Bi.a,{trackingInfo:{page_el_sn:6664149,op:"impr"}},I.a.createElement("div",{className:Ed.a.container},I.a.createElement("div",{className:Ed.a.content,onClick:function(e){Object(ct.k)({page_el_sn:6664149,op:"click"},(function(){n&&n(e)}))}},I.a.createElement("div",{className:Ed.a.spec},I.a.createElement("span",{className:Ed.a.specDesc},"已选择",r,"款："),t.map((function(e,t){var n=e.skuInfo,a=n.specs,o=n.thumbUrl,i=a.map((function(e){return e.spec_value})).join(" "),c=t===r-1;return I.a.createElement(I.a.Fragment,null,I.a.createElement("img",{src:Object(jo.b)(o,{resizeWidth:300,quality:70,webpEnable:Object(ct.f)(),sharpen:1})}),I.a.createElement("span",null,i),!c&&I.a.createElement("span",null,"，"))}))),I.a.createElement("div",{className:Ed.a.button},"去结算",I.a.createElement(Wo.a,null)))))},Nd=I.a.memo(Od),Dd=n("SOyx"),Td=n.n(Dd),jd=I.a.forwardRef((function(e,t){var n=e.goods,r=e.group,a=e.onClose,o=e.confirmSkuCallBack,i=e.addIndex,c=e.selectOneValueCb,s=e.initShow,u=void 0!==s&&s,l=e.initSkuParams,d=e.selectedSkuList,p=e.goToCartList,f=e.bottomDisplayItems,m=Object(S.useRef)(),h=Object(S.useRef)();Object(S.useImperativeHandle)(t,(function(){return{modalRef:m,skuRef:h}})),Object(S.useEffect)((function(){l&&h.current.selectSkuId(l)}),[]);var v=Object(S.useCallback)((function(e){Object(ie.b)({page_el_sn:6664145,op:"click",number:i}),o(e)}),[o]);return I.a.createElement(md.a,{modalClassName:Td.a.modalCartSku,ref:m,afterShow:function(e){e&&h.current.setScroll()},initShow:u,onClose:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){(null==d?void 0:d.length)>1?p():a(e)})),titleClassName:Td.a.titleCartSku,renderTitle:function(){return I.a.createElement(Bi.a,{trackingInfo:{page_el_sn:6664143,op:"impr"}},I.a.createElement("span",null,"请添加第",i,"款"))},renderContent:function(){return I.a.createElement(I.a.Fragment,null,!!(null==d?void 0:d.length)&&I.a.createElement(Nd,{selectedSkuList:d,goToCartList:p}),I.a.createElement(Bi.a,{trackingInfo:{page_el_sn:6664145,op:"impr"}},I.a.createElement(Fi.a,{isMutliSku:!0,goods:n,group:r,confirmSkuCallBack:v,ref:h,selectOneValueCb:c,buttonText:"确定选择第".concat(i,"款"),renderSkuBottomTip:function(){return I.a.createElement(yd,{bottomDisplayItems:f})}})))}})})),Ad=I.a.memo(jd),Rd=n("RUUx"),Wd=n.n(Rd);!function(e){e[e.FromCart=0]="FromCart",e[e.FromSku=1]="FromSku"}(nd||(nd={}));var Ld=I.a.forwardRef((function(e,t){var n=e.groupType,r=e.groupOrderId,a=e.groupId,o=e.goodsId,i=e.mallId,c=e.detailId,s=e.checkQuantity,u=e.forwardUrl,l=e.goods,d=e.group,p=e.skuLen,f=e.limitQuantity,m=e.onClose,h=e.communityId,v=e.ocParams,g=Object(S.useRef)(),y=Object(S.useRef)([]),_=Object(S.useRef)(),b=Object(S.useState)([]),k=T()(b,2),C=k[0],x=k[1],P=Object(S.useState)(w()(l,"ui.sku_section.new_multi_choose.default_bottom_display_items")),E=T()(P,2),O=E[0],N=E[1];Object(S.useImperativeHandle)(t,(function(){return{enter:function(e){var t=e.skuId,n=e.goodsNumber,r=e.bottomDisplayItems;C.length>1?(y.current[R.length-1].modalRef.current.hide(),_.current.show(),g.current.enter()):(D({addFrom:nd.FromSku,initSkuParams:{skuId:t,goodsNumber:n},initShow:!0,addIndex:C.length+1,bottomDisplayItems:r}),g.current.enter(),_.current.hide())},exit:function(){g.current.exit()}}}));var D=function(e){if(C.length>=f)Object(ct.g)("最多可选择".concat(f,"款，已达上限"));else if(C.length>=p)Object(ct.g)("所有可售款式已选完");else{var t=R.concat([e]);W(t)}},j=Object(S.useState)([]),A=T()(j,2),R=A[0],W=A[1];Object(S.useEffect)((function(){setTimeout((function(){if(R.length>0){if(R[R.length-1].addFrom===nd.FromCart)_.current.exit();else{var e=y.current[R.length-2];e&&e.modalRef.current.exit()}y.current[R.length-1].modalRef.current.enter()}}),0)}),[R.length]);var L=Object(S.useCallback)((function(e){var t,n=e.goodsNumber,r=e.skuInfo,a=C.find((function(e){return e.skuInfo.skuId===r.skuId}));if(C.find((function(e){return e.skuInfo.skuId===r.skuId}))){var o=+a.goodsNumber||0;a.goodsNumber=o+n,t="你已选择过该款式，数量已更新为".concat(a.goodsNumber,"件")}var i=C.concat([{skuInfo:r,goodsNumber:n}]);(x(a?id()(C):i),i.length<2&&p>=2)?D({addFrom:nd.FromSku,addIndex:i.length+1}):(y.current[R.length-1].modalRef.current.exit(),_.current.enterFromRight());t=t||"第".concat(i.length,"款选择成功"),Object(ct.g)(t)}),[C,D,y]),M=Object(S.useCallback)((function(e){var t=e.skuId,n=e.goodsNumber;C.find((function(e){return e.skuInfo.skuId===t})).goodsNumber=n,x(id()(C))}),[C]),F=Object(S.useCallback)((function(){var e,t,n=null===(e=y.current[R.length-1])||void 0===e||null===(t=e.modalRef)||void 0===t?void 0:t.current;null==n||n.exit(),_.current.enterFromRight()}),[]),B=Object(S.useCallback)((function(e){e&&N(e)}),[]);return I.a.createElement(md.a,{ref:g,modalStyle:{height:"75%"},modalClassName:Wd.a.cartManagerModal,direction:"y",renderContent:function(){return I.a.createElement(I.a.Fragment,null,R.map((function(e,t){if(R.length-t>2)return null;var n=e.initSkuParams,r=e.initShow,a=e.addIndex,o=e.addFrom;return I.a.createElement(Ad,{initShow:r,initSkuParams:n,key:t,ref:function(e){y.current[t]=e},goods:l,group:d,addIndex:a,confirmSkuCallBack:L,onClose:m,onBack:o===nd.FromCart&&function(){y.current[R.length-1].modalRef.current.exitToRight(),_.current.enter()},selectedSkuList:C,goToCartList:F,bottomDisplayItems:O})})),I.a.createElement(xd,{groupType:n,groupOrderId:r,limitQuantity:f,forwardUrl:u,goodsId:o,groupId:a,mallId:i,detailId:c,checkQuantity:s,ref:_,selectedSkuList:C,addSku:function(){D({addFrom:nd.FromCart,addIndex:C.length+1})},deleteSku:function(e){var t=C.filter((function(t){return t.skuInfo.skuId!==e}));x(t)},changeGoodsNumber:M,onClose:m,updateBottomDisplayItems:B,communityId:h,goods:l,ocParams:v}))}})})),Md=n("YVoc"),Fd=n.n(Md);n.d(t,"a",(function(){return Vd}));var Bd=xa.getInstance(),Ud=wo.getInstance(),Vd=function(e){m()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=y()(e);if(t()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).cartManagerBgRef=I.a.createRef(),r.cartManagerRef=I.a.createRef(),r.initOCManager=function(){var e=s()(a.a.mark((function e(t){var n,o,c,s,u,l,d,p,f,m,h,v,g,y,_,k,S,I;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props,o=n.isSingleBuy,c=n.groupType,s=n.groupOrderId,u=n.defaultSkuId,l=n.communityId,d=n.ignoreGroupOrderIdInUrl,p=n.defaultGoodsNumber,f=r.checkDefaultSkuInfo(u,p),m=f&&u||r.initSelectedSkuId(),h=f&&p||r.getGoodsNumber(),v=r.props.goods||r.state.goods,g=function(e){r.setState({isMorganFetching:e})},y=function(e){r.setState({isMorganError:e})},_=function(e){if(e){var t=b()(e);(t||{}).isSingleBuy=o,r.setState({ocData:t},(function(){var e=w()(t,"goodsInfo.goodsNumber");e&&r.setGoodsNumber(e),f&&r.recoverSkuInfo(u,p),f=!1}))}else r.setState({ocData:null})},k=v.groupTypes[1],o&&(k=v.groupTypes[0]),Bd.initShowRepayModifyPanel(v.isAbDirectOrderRepayModifyPanel?function(){return r.toggleRepayModifyPanel(!0)}:null),Bd.initCloseOcSkuSelector((function(){return r.onCloseNormalSku()})),Ud.initPromotionFunc({togglePromotionPopupVisibleFunc:function(e){return r.setState({showPromotionPopup:e})},setPromotionListsFunc:function(e){return r.setState({promotionLists:e})}}),e.next=15,Bd.init({updateOCDataFun:_,setMorganFetching:g,setMorganError:y,getSelectedSkuId:r.getSelectedSkuId,goods:v,groupType:c||t.groupType,orderExtraType:r.props.orderExtraType||t.orderExtraType||0,groupId:k.groupID,groupOrderId:s||t.groupOrderId,communityId:l,ignoreGroupOrderIdInUrl:d,sourceType:r.props.sourceType,ocExtend:r.props.ocExtend,hideSkuSelect:r.hide,paySuccessCb:r.props.paySuccessCb,pageFrom:r.props.pageFrom,sourceChannel:r.props.sourceChannel,frontEnv:r.props.frontEnv});case 15:return S=1===w()(v,"skus.length")||!(!f||!u),e.next=18,Bd.render(i()(i()({},r.nonMpuParams),{},{sku_id:m,goods_number:h,front_action:t.front_action||(S?ur:sr)}),t.record_id);case 18:return I=e.sent,e.abrupt("return",I);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.initSelectedSkuId=function(){var e=r.props.goods||r.state.goods,t=r.getSelectedSkuID();if(!t){var n=w()(e,"skus").find((function(e){return e.quantity>0&&e.isOnsale}))||[];t=n.skuID||n.skuId}return t},r._nonMpuParams=null,r.initNonMpuParams=function(e){r._nonMpuParams=e},r.show=function(){var e=s()(a.a.mark((function e(t){var n,o,c,s,u,l,d,p,f,m,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(C.h)(window.location.href),o={},!(t||{}).isChangeToGroupBuy&&r.skuDirectOrder&&r.setState({recordId:null}),r.skuDirectOrder&&(null==t?void 0:t.nonMpuParams)&&r.initNonMpuParams(t.nonMpuParams),r.props.communityId||r.props.ignoreGroupOrderIdInUrl||!n.group_order_id||(o={groupOrderId:n.group_order_id});try{c=n.goods_list&&JSON.parse(n.goods_list),(s=c&&c[0])&&(o={groupOrderId:s.group_order_id,groupType:s.group_type,orderExtraType:s.order_extra_type})}catch(e){Object(x.c)(new Error("illegal_goods_list"))}if(ct.a.show(),!r.props.isRemote||r.state.isFetch){e.next=14;break}return e.next=10,r.loadGoods();case 10:if(e.sent){e.next=14;break}return ct.a.hide(),e.abrupt("return",!1);case 14:if(t&&"function"==typeof t.setStateCallback&&r.normalSkuRef.current.skuRef.current.setCustomState(t.setStateCallback),l=r.normalSkuRef.current.prepare(t),!l.needShow){e.next=36;break}if(!(t||{}).isChangeToGroupBuy||!r.skuDirectOrder){e.next=22;break}return p=Bd.recordId,e.next=21,r.initOCManager(i()(i()({},o),{},{record_id:p,front_action:r.getSelectedSkuID()?yr:_r}));case 21:u=e.sent;case 22:if(!r.isShow){e.next=25;break}return ct.a.hide(),e.abrupt("return");case 25:if((t||{}).isChangeToGroupBuy||!r.skuDirectOrder){e.next=30;break}return e.next=28,r.initOCManager(o);case 28:u=e.sent,Bd.needReload&&(Bd.needReload=!1);case 30:ct.a.hide(),f=r.props,m=f.defaultSkuId,h=f.defaultGoodsNumber,r.checkDefaultSkuInfo(m,h)&&!r.skuDirectOrder&&r.recoverSkuInfo(m,h),r.skuBgRef.current.style.display="block",r.skuDirectOrder&&(null===(d=r.state.ocData)||void 0===d?void 0:d.mpuQuickOrderCheck)&&(Rn.init(r.skuBgRef),Rn.active()),setTimeout((function(){r.skuBgRef.current.style["background-color"]="rgba(0, 0, 0, 0.8)",r.normalSkuRef.current.enter(),Object(ct.b)(),setTimeout((function(){ct.a.hide(),r.isShow=!0,u&&Object(ct.h)(u)}),200)}),1);case 36:return e.abrupt("return",!0);case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.hide=function(){var e=s()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isShow){e.next=2;break}return e.abrupt("return");case 2:if(Object(ct.c)(),!r.props.onHide){e.next=6;break}return e.next=6,r.props.onHide(t);case 6:r.skuBgRef.current.style["background-color"]="rgba(0, 0, 0, 0)",r.normalSkuRef.current.exit(),r.cartManagerRef.current&&r.cartManagerRef.current.exit(),setTimeout((function(){var e;r.isShow=!1,r.skuBgRef.current.style.display="none",Bd.needReload&&r.props.canReload&&((e=Object(we.a)()).isNativePlatform&&Object(Se.c)(e.version,"4.0.0")>0?Object(oe.f)("WebScene","reload"):ut.a.reload(window.location.href))}),+r.props.delay||200);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleShowCart=function(e){var t=e.selectedSkuID,n=e.goodsNumber;r.cartManagerBgRef.current.style.display="block",setTimeout((function(){r.cartManagerBgRef.current.style["background-color"]="rgba(0, 0, 0, 0.8)",r.cartManagerRef.current.enter({skuId:t,goodsNumber:n}),xn({groupId:"20203",customTags:{event:"showCart"}})}),200)},r.handleHideCart=function(e){e.stopPropagation(),r.cartManagerBgRef.current.style["background-color"]="rgba(0, 0, 0, 0)",r.cartManagerRef.current.exit(),setTimeout((function(){r.cartManagerBgRef.current.style.display="none"}),200)},r.toggleShowPaymentList=function(e){r.setState({showPaymentList:e})},r.toggleRepayModifyPanel=function(e){null==e?r.setState({showRepayModifyPanel:!r.state.showRepayModifyPanel}):r.setState({showRepayModifyPanel:e})},r.state={isFetch:!1,goods:null,showRepayModifyPanel:!1,ocData:null,recordId:"",isMorganFetching:!1,showPaymentList:!1,isMorganError:!1,showPromotionPopup:!1,promotionLists:{},agreeMentInfo:null},r}return p()(n,[{key:"render",value:function(){var e=this;if(this.props.isRemote&&!this.state.goods)return null;var t=this.props.goods;this.props.isRemote&&(t=this.state.goods);var n=this.props,r=n.isSingleBuy,o=n.renderSkuBlackCard,i=n.groupOrderId,c=n.usePddNativePhoto,u=n.isOptSoldOut,l=n.groupType,d=t.groupTypes[1];r&&(d=t.groupTypes[0]);var p=this.state.isMorganFetching||this.state.isMorganError,f=this.skuDirectOrder&&(this.state.ocData||this.state.recordId),m=!!w()(t,"ui.sku_section.new_multi_choose.tip");return I.a.createElement("div",{ref:this.skuBgRef,className:R()(Fd.a.skuSelectorBg,"sku-plus1"),onClick:function(){var t=s()(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&n.stopPropagation(),e.hide();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I.a.createElement(E.a,{changeToGroupBuy:this.props.changeToGroupBuy,groupOrderId:i,ref:this.normalSkuRef,goods:t,ocData:this.state.ocData,group:d,handleShowCart:this.handleShowCart,onClose:this.onCloseNormalSku,renderSkuBlackCard:o,confirmSkuCallBack:this.confirmSkuCallBack,selectOneValueCb:this.props.selectOneValueCb,renderFooter:this.props.renderFooter,buttonText:this.props.buttonText,showPaymentList:function(){e.toggleShowPaymentList(!0)},skuDirectOrder:this.skuDirectOrder,usePddNativePhoto:c,isOptSoldOut:u,useNormalSkuData:p,isMorganFetching:this.state.isMorganFetching,recordId:this.state.recordId,setRecordId:function(t){e.setState({recordId:t})},consultPromotionPriceParams:this.props.consultPromotionPriceParams,showOCSkuSelector:f,communityId:this.props.communityId},f?I.a.createElement(ad,null):I.a.createElement(Fi.a,null)),this.skuDirectOrder&&this.state.ocData&&I.a.createElement(xo,{ocData:this.state.ocData,visible:this.state.showPaymentList,toggleShowPaymentList:this.toggleShowPaymentList}),this.skuDirectOrder&&this.state.ocData&&this.state.showPromotionPopup&&I.a.createElement(Mi,{ocData:this.state.ocData,usePayPromotion:Bd.usePayPromotion,promotionLists:this.state.promotionLists,hidePromotionPopup:function(){return e.setState({showPromotionPopup:!1})}}),m&&this.state.ocData&&I.a.createElement("div",{ref:this.cartManagerBgRef,className:Fd.a.cartManagerBg,onClick:this.handleHideCart},I.a.createElement(Ld,{goodsId:t.goodsID,groupId:t.groupTypes[1].groupID,forwardUrl:w()(t,"destinationUrl"),limitQuantity:w()(t,"ui.sku_section.new_multi_choose.limit_quantity"),detailId:w()(t,"activity.detailID"),mallId:t.mallID,checkQuantity:t.checkQuantity,ref:this.cartManagerRef,skuLen:t.skus.filter((function(e){return+e.quantity>0})).length,groupType:l,groupOrderId:i,goods:t,group:t.groupTypes[1],onClose:this.handleHideCart,communityId:this.props.communityId,ocParams:this.ocParamsOnlyCsr})),this.skuDirectOrder&&this.state.ocData&&t.isAbDirectOrderRepayModifyPanel&&I.a.createElement(ja,{ocData:this.state.ocData,visible:this.state.showRepayModifyPanel,toggle:this.toggleRepayModifyPanel}))}},{key:"nonMpuParams",get:function(){var e=this._nonMpuParams;return this._nonMpuParams=null,e}},{key:"skuDirectOrder",get:function(){return this.props.isRemote?this.props.skuDirectOrder&&w()(this.state,"goods.skuDirectOrder"):this.props.skuDirectOrder&&w()(this.props,"goods.skuDirectOrder")}},{key:"ocParamsOnlyCsr",get:function(){var e={},t=Object(C.h)(window.location.href);Object.keys(t).forEach((function(n){var r=t[n];/^_oc_*/.test(n)&&r&&(e[n]=r)}));var n=this.props.goods||this.state.goods,r=Object(C.h)(n.destinationUrl);Object.keys(r).forEach((function(t){var n=r[t];/^_oc_*/.test(t)&&n&&(e[t]=n)}));var a=this.props.ocExtend;return i()(i()({},e),a)}}]),n}(P.a)},ZeWQ:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("pVnL"),i=n.n(o),c=n("o0o1"),s=n.n(c),u=n("yXPU"),l=n.n(u),d=n("MVZn"),p=n.n(d),f=n("lwsE"),m=n.n(f),h=n("W8MJ"),v=n.n(h),g=n("PJYZ"),y=n.n(g),_=n("7W2i"),b=n.n(_),k=n("a1gu"),w=n.n(k),S=n("Nsbk"),I=n.n(S),C=n("q1tI"),x=n.n(C),P=(n("17x9"),n("+qE3")),E=n("PlGL"),O=n("9qmp"),N=n("D+Ft"),D=n("0dFz"),T=n("2xwX"),j=n("MpJ2"),A=n("fkZF"),R=n("gi5g"),W=n("qnV/"),L=n("rIj9"),M=n("uf4C"),F=n("KoDT"),B=n("h3qu"),U=n("mG/U"),V=n("+bH0"),H=n("b6XL");var q="undefined"!=typeof window,z=1,Q=2,G=3,J=["2","27","25"];function K(e){return e=e||"",J.includes(e.toString())}var Y=function(e){b()(a,e);var t,r=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=I()(e);if(t()){var a=I()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w()(this,n)}}(a);function a(e){var t;return m()(this,a),(t=r.call(this,e)).state={currentRegionTab:z,panelStyle:{transform:"translateY(3.86rem)"},provinceID:"0",provinceName:"",provinces:null,cityID:"0",cityName:"",cities:null,districtID:"0",districtName:"",districts:null},t.provincesLoaded=!1,t.citiesLoaded=!1,t.districtsLoaded=!1,t.regions={},t.$axiosHttp=t.createAxios(),t.selectCity=t.selectCity.bind(y()(t)),t.loadRegions=t.loadRegions.bind(y()(t)),t.onCityEdited=t.onCityEdited.bind(y()(t)),t.selectDistrict=t.selectDistrict.bind(y()(t)),t.generateHeader=t.generateHeader.bind(y()(t)),t.onCitiesLoaded=t.onCitiesLoaded.bind(y()(t)),t.selectProvince=t.selectProvince.bind(y()(t)),t.selectRegionTab=t.selectRegionTab.bind(y()(t)),t.onDistrictEdited=t.onDistrictEdited.bind(y()(t)),t.onProvinceEdited=t.onProvinceEdited.bind(y()(t)),t.onDistrictsLoaded=t.onDistrictsLoaded.bind(y()(t)),t.onProvincesLoaded=t.onProvincesLoaded.bind(y()(t)),t.setRegionUnionName=t.setRegionUnionName.bind(y()(t)),t.onAddressInfoLoaded=t.onAddressInfoLoaded.bind(y()(t)),t.hideRegionSelectorPanel=t.hideRegionSelectorPanel.bind(y()(t)),t.showRegionSelectorPanel=t.showRegionSelectorPanel.bind(y()(t)),t}return v()(a,[{key:"createAxios",value:function(){var e=M.a.getInstance().getPageID();return Object(L.a)({pageInfo:{pageId:e}})}},{key:"componentWillMount",value:function(){q&&n("QROL")}},{key:"render",value:function(){var e=this,t=e.state.panelStyle,n=e.props.isShow;return x.a.createElement("div",{id:"region-selector",className:"edit-addr-region-selector",style:{display:n?"":"none"}},x.a.createElement("div",{className:"mars-panel-mask",onClick:function(t){return e.hideRegionSelectorPanel(t)}}),x.a.createElement("div",{id:"region-selector-panel",ref:"regionSelectorPanel",className:"mars-panel",style:t},n&&x.a.createElement(D.b,{ariaLabel:"选择地址的省市区"}),e.generateHeader(),e.generateRegions()))}},{key:"componentDidMount",value:(t=l()(s.a.mark((function e(){var t,n,r,a,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(R.a)(),t=this.props,n=t.addressId,r=t.isCommunityMode,a=t.extraRequestParams,e.prev=2,n){e.next=15;break}if(!r){e.next=10;break}return e.next=7,this.$axiosHttp.post("api/origenes/address/business/recommend",a,{timeout:1200});case 7:o=e.sent,e.next=13;break;case 10:return this.onAddressInfoLoaded({}),this.props.eventEmitter.emit("fillEditAddress",o),e.abrupt("return");case 13:e.next=20;break;case 15:return i=r?"api/origenes/address/business/query":"api/origenes/address/"+n,e.next=18,this.$axiosHttp.get(i,{timeout:1200,params:p()({address_id:n},a)});case 18:o=e.sent,this.onAddressInfoLoaded(o);case 20:this.props.eventEmitter.emit("fillEditAddress",o.result||o),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(2),Object(W.c)(e.t0),Object(H.a)(Object(U.b)(e.t0.errorCode)||"网络异常，请刷新页面后重试"),this.props.eventEmitter.emit("fillEditAddress",e.t0);case 28:case"end":return e.stop()}}),e,this,[[2,23]])}))),function(){return t.apply(this,arguments)})},{key:"componentWillReceiveProps",value:function(e){var t=e.addressInfo||{},n=this.props.addressInfo||{};t.province_id+""==n.province_id+""&&t.city_id+""==n.city_id+""&&t.district_id+""==n.district_id+""||this.onAddressInfoLoaded(t)}},{key:"componentDidUpdate",value:function(e,t){var n=e.isShow;if(!n&&this.props.isShow!==n){var r=this.state.currentRegionTab;Object(R.a)(document.getElementById("region-selector-list-".concat(r))),this.showRegionSelectorPanel()}}},{key:"generateHeader",value:function(){var e=this,t=e.state,n=t.currentRegionTab,r=t.provinceID,a=t.provinceName,o=t.cityID,i=t.cityName,c=t.districtID,s=t.districtName;return x.a.createElement("div",{className:"mars-panel-header"},x.a.createElement("div",{className:"mars-ph-province ".concat(1===n?"mars-ph-active":""),onClick:function(t){return e.selectRegionTab(z,t)}},r+""=="0"?x.a.createElement("span",null,"请选择"):x.a.createElement("span",null,a)),r+""!="0"&&!K(r)&&x.a.createElement("div",{className:"mars-ph-city ".concat(2===n?"mars-ph-active":""),onClick:function(t){return e.selectRegionTab(Q,t)}},o+""=="0"?x.a.createElement("span",null,"请选择"):x.a.createElement("span",null,i)),o+""!="0"&&x.a.createElement("div",{className:"mars-ph-district ".concat(3===n?"mars-ph-active":""),onClick:function(t){return e.selectRegionTab(G,t)}},c+""=="0"?x.a.createElement("span",null,"请选择"):x.a.createElement("span",null,s)),x.a.createElement("div",{className:"mars-ph-cancel",onClick:function(t){return e.hideRegionSelectorPanel(t)},role:"button"},"取消"))}},{key:"generateRegions",value:function(){var e=this,t=e.state,n=t.currentRegionTab,r=t.provinces,a=t.provinceID,o=t.cities,i=t.cityID,c=t.districts,s=t.districtID,u=1===n&&r&&r.map((function(t,n){var r=t.region_id+""==a+""?"region-active":"";return x.a.createElement("li",{key:"province-".concat(n),onClick:function(t){return e.selectProvince(t,n)}},x.a.createElement("span",{className:r},t.region_name))})),l=2===n&&o&&o.map((function(t,n){var r=t.region_id+""==i+""?"region-active":"";return x.a.createElement("li",{key:"city-".concat(n),onClick:function(t){return e.selectCity(t,n)}},x.a.createElement("span",{className:r},t.region_name))})),d=3===n&&c&&c.map((function(t,n){var r=t.region_id+""==s+""?"region-active":"";return x.a.createElement("li",{key:"city-".concat(n),onClick:function(t){return e.selectDistrict(t,n)}},x.a.createElement("span",{className:r},t.region_name))}));return x.a.createElement("div",{className:"mars-regions"},1===n&&x.a.createElement("ul",{id:"region-selector-list-1",className:"mars-regions-p"},u),!K(a)&&2===n&&x.a.createElement("ul",{id:"region-selector-list-2",className:"mars-regions-c"},l),3===n&&x.a.createElement("ul",{id:"region-selector-list-3",className:"mars-regions-d"},d))}},{key:"selectDistrict",value:function(e,t){e&&e.stopPropagation();var n=this.state.districts[t];n&&this.onDistrictEdited(n)}},{key:"onDistrictEdited",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.region_id,r=t.region_name,a={districtID:n,districtName:r};this.setState((function(e){return a}),(function(t){e.hideRegionSelectorPanel(),e.setRegionUnionName()}))}},{key:"selectCity",value:function(e,t){e&&e.stopPropagation();var n=this.state.cities[t];n&&this.onCityEdited(n)}},{key:"onCityEdited",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;if(!t.citiesLoaded)return!1;var n=e.region_id,r=e.region_name;if(n+""!="0"){var a={cityID:n,cityName:r};t.districtsLoaded=!1,t.onDistrictsLoaded("0",[]).then((function(){t.setState((function(e){return a}),(function(e){t.loadRegions(G,n).then((function(e){var n=t.state.districtID;t.onDistrictsLoaded(n,e),t.selectRegionTab(G)}))}))}))}}},{key:"onDistrictsLoaded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;t=t.regions||[];var r=this.isRegionIDContainInRegions(e,t),a={districts:t||[],districtID:r&&e||"0",districtName:r&&r.region_name||""};return new Promise((function(e,t){n.setState((function(e){return a}),(function(t){n.districtsLoaded=!0,e()}))}))}},{key:"setRegionUnionName",value:function(){var e=this.state,t=e.provinceID,n=e.cityID,r=e.districtID,a=e.provinceName,o=e.cityName,i=e.districtName,c={};t+""!="0"&&n+""!="0"&&r+""!="0"&&(c=Object.assign({},c,{currentProvinceID:t,currentCityID:n,currentDistrictID:r,currentProvinceName:a,currentCityName:o,currentDistrictName:i})),c=Object.assign({},c,{regionUnionName:a===o?"".concat(o," ").concat(i):"".concat(a,"  ").concat(o,"  ").concat(i)}),this.props.eventEmitter.emit("setRegionUnionName",c)}},{key:"selectProvince",value:function(e,t){e&&e.stopPropagation();var n=this.state.provinces[t];n&&this.onProvinceEdited(n)}},{key:"onProvinceEdited",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;if(t.provincesLoaded){var n=e.region_id,r=e.region_name;n+""!="0"&&(t.citiesLoaded=!1,t.districtsLoaded=!1,t.onCitiesLoaded("0",[]).then((function(){t.onDistrictsLoaded("0",[]).then((function(){var e={provinceID:n,provinceName:r};t.setState((function(t){return e}),(function(e){t.loadRegions(Q,n).then((function(e){var r=t.state.cityID;t.onCitiesLoaded(r,e),t.selectRegionTab(Q),K(n)&&t.selectCity(null,0)}))}))}))})))}}},{key:"onCitiesLoaded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=t.self_city_id,a=n.state,o=a.provinceID,i=a.cityID;t=t.regions||[],n.removeToFirst(t,r);var c=n.isRegionIDContainInRegions(e,t),s={cities:t,cityID:c&&e||(K(o)?i:0),cityName:c&&c.region_name||""};return new Promise((function(e,t){n.setState((function(e){return s}),(function(t){n.citiesLoaded=!0,e()}))}))}},{key:"loadRegions",value:function(e,t){var n=this;return new Promise((function(e,r){if(n.regions[t])return e(n.regions[t]);n.$axiosHttp.get("api/galen/v2/regions/"+t).then((function(r){n.regions[t]=r,e(r)}))}))}},{key:"onAddressInfoLoaded",value:function(e){if(e){var t=this,n=e.region_id||1,r=e.province_id,a=e.city_id,o=e.district_id;t.loadRegions(z,n).then((function(e){t.onProvincesLoaded(r,e).then((function(){r+""==t.state.provinceID+""&&t.loadRegions(Q,r).then((function(e){t.onCitiesLoaded(a,e).then((function(){a+""==t.state.cityID+""?t.loadRegions(G,a).then((function(e){t.onDistrictsLoaded(o,e),t.isRegionIDContainInRegions(o,e.regions)||Object(H.a)("请重新选择地区")})):Object(H.a)("请重新选择地区")}))}))}))}))}}},{key:"isRegionIDContainInRegions",value:function(e,t){if(!t)return null;for(var n=0;n<t.length;++n){var r=t[n];if(r.region_id+""==e+"")return r}return null}},{key:"removeToFirst",value:function(e,t){var n=this.isRegionIDContainInRegions(t,e),r=e.indexOf(n);r<0||(e.splice(r,1),e.unshift(n))}},{key:"onProvincesLoaded",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.self_province_id;n=n.regions||[],this.removeToFirst(n,r);var a=this.isRegionIDContainInRegions(e,n),o={provinces:n,provinceID:e||"0",provinceName:a&&a.region_name||""};return new Promise((function(e,n){t.setState((function(e){return o}),(function(n){t.provincesLoaded=!0,e()}))}))}},{key:"selectRegionTab",value:function(e,t){t&&t.stopPropagation();this.setState((function(t){return{currentRegionTab:e}}),(function(t){Object(R.a)(document.getElementById("region-selector-list-".concat(e)))}))}},{key:"hideRegionSelectorPanel",value:function(e){e&&e.stopPropagation();var t=this,n=t.refs.regionSelectorPanel;D.a.gradualChange(n,386,{wrapValueFn:function(e){return"translateY(".concat(e/100,"rem)")},getValueFn:function(e){return e||0},inStyle:!0,attr:"transform",during:25,stopAdvance:6},(function(){t.props.onClose&&t.props.onClose()}))}},{key:"showRegionSelectorPanel",value:function(e){e&&e.stopPropagation()&&e.preventDefault();var t=this.refs.regionSelectorPanel;D.a.gradualChange(t,0,{wrapValueFn:function(e,t){return"translateY(".concat(e/100,"rem)")},getValueFn:function(e){return e||386},inStyle:!0,attr:"transform",during:25})}}]),a}(C.Component);Y.defaultProps={addressId:"",isShow:!1};var X,Z=Y,$=n("9AtE"),ee=!0,te={43014:"请填写正确的手机号码",43016:"地址保存不成功，建议稍后重试",43017:"已达到地址上限，请先删除不常用地址",43871:"内容中含有不合适的字，无法保存",5e4:"地址保存不成功，建议稍后重试"},ne=1,re=2,ae=n("X0J6"),oe=function(e){var t=e.tackingParams,n=e.triangleTop,r=e.triangleTopShadow,a=e.recStyle,o=e.renderedElems;return x.a.createElement(ae.a,{trackingInfo:t},x.a.createElement(x.a.Fragment,null,x.a.createElement("div",{className:"m-addr-rec-triangle",style:n}),x.a.createElement("div",{className:"m-addr-rec-circle-cover"}),x.a.createElement("div",{className:"m-addr-rec-triangle m-addr-rec-triangle-shadow",style:r}),x.a.createElement("div",{className:"m-addr-rec",style:a},x.a.createElement("div",{className:"m-addr-rec-wrap"},o))))},ie=x.a.memo((function(e){var t,n=e.type,r=e.recMobiles,a=void 0===r?[]:r,o=e.recCombined,i=void 0===o?[]:o,c=e.onClickHandler,s={op:"impr",page_el_sn:2584388};if(n===ne&&i&&i.length>0){t=3,s.tips_id=t;var u=i.map((function(e,n){for(var r=e.name,a=0,o=0;o<r.length;o++)/^%u/.test(escape(r[o]))?a+=.14:a+=.07;a+=1.04;var i="".concat(e.name,"，").concat(e.mobile);return a>1.99&&(i="".concat(r.slice(0,4),"...").concat(r.slice(-2),"，").concat(e.mobile)),x.a.createElement("div",{className:"m-addr-rec-text",key:n,onClick:c(n,ne,t)},i)}));return x.a.createElement(oe,{tackingParams:s,triangleTop:{top:".84rem"},triangleTopShadow:{top:".82rem",zIndex:13e3},recStyle:{height:"".concat(.46*i.length+.01*(i.length-1),"rem"),top:".89rem"},renderedElems:u})}if(n===re&&a&&a.length>0){i&&i.length>0&&(t=4,s.tips_id=t);var l=a.map((function(e,n){return x.a.createElement("div",{className:"m-addr-rec-text",key:n,onClick:c(n,re,t)},e)}));return x.a.createElement(oe,{tackingParams:s,triangleTop:{top:"1.32rem"},triangleTopShadow:{top:"1.3rem",zIndex:13e3},recStyle:{height:"".concat(.46*a.length+.01*(a.length-1),"rem"),top:"1.37rem"},renderedElems:l})}return null})),ce=n("QILm"),se=n.n(ce),ue=n("ZKQX"),le=n("TSYQ"),de=n.n(le),pe=(n("lEbS"),Object(F.a)());function fe(e){var t=e.suggestAddress,n=e.onConfirm,r=e.onCancel,a=[t.provinceName,t.cityName,t.districtName].join(" ");return x.a.createElement(E.a.Container,null,x.a.createElement(E.a.Backdrop,null),x.a.createElement(E.a.BaseDialog,{className:de()("fix-addr-dialog",X&&"fix-addr-dialog-ios")},x.a.createElement("div",{className:"fix-addr-dialog-desc"},"自动识别到您所在地区为",x.a.createElement("span",{className:"fix-addr-dialog-red-text"},a),"，是否修改?"),x.a.createElement("div",{className:"fix-addr-dialog-confirm",onClick:n},"修改并保存"),x.a.createElement("div",{className:"fix-addr-dialog-cancel",onClick:r},"不修改，直接保存")))}X=pe.system===B.b.IOS;var me=n("eHaf");var he=n("gseV");Object(U.c)({43010:"该地址已存在",43011:"该地址无法导入",43002:"地址错误",43017:"最多只能添加100个收货地址哦~"});var ve,ge,ye,_e,be,ke,we="undefined"!=typeof window,Se={ContainerProps:{style:{zIndex:12e3}}};function Ie(e){var t;Object(N.a)(e,Se),t=e,Object(me.c)({page_el_sn:1449048,address_alert_errorinfo:t})}we&&(ve=Object(F.a)(),ge=ve.system===B.b.IOS&&Object(B.c)(ve.systemVersion,"11.0.0")>=0,be=ve.system===B.b.IOS,ye=ve.version&&Object(B.c)(ve.version,"4.70.0")>=0,_e=ve.version&&Object(B.c)(ve.version,"5.96.0")>=0,ke=ve.version&&Object(B.c)(ve.version,"4.69.0")>=0);var Ce=function(e){b()(u,e);var t,r,o,c=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=I()(e);if(t()){var a=I()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w()(this,n)}}(u);function u(e){var t;return m()(this,u),(t=c.call(this,e)).dialogId="editAddress_".concat(Object(A.a)(5)),t.cancelAnalyzeAddressDialog=function(){t.setState({showAnalyzeAddressDialog:!1})},t.confirmAnalyzeAddressDialog=function(){var e=t.state.clipBoardResult||{};t.setState({showAnalyzeAddressDialog:!1,name:e.name,mobile:e.mobile,address:e.address,currentProvinceID:e.province_id,currentCityID:e.city_id,currentDistrictID:e.district_id,currentProvinceName:e.province,currentCityName:e.city,currentDistrictName:e.district,regionUnionName:"".concat(e.province,"  ").concat(e.city,"  ").concat(e.district)}),t.regionSelectorRef.current&&t.regionSelectorRef.current.onAddressInfoLoaded&&t.regionSelectorRef.current.onAddressInfoLoaded(e)},t.onRecItemSelected=function(e,n,r){return function(a){var o=t.state,i=o.recMobiles,c=void 0===i?[]:i,s=o.recCombined,u=void 0===s?[]:s;!function(e){Object(me.b)({page_el_sn:2584388,tips_id:e})}(r);var l=null;switch(n){case ne:l=u[e],t.setState({name:l.name,mobile:l.mobile,isShowNameRec:!1});break;case re:l=c[e],t.setState({mobile:l,isShowMobileRec:!1})}}},t.disbaleToast=function(){var e=(t.state.communityAddressResponse||{}).community_title;Object(N.a)("你已选择".concat(e,"小区团，不能修改地区、小区"))},t.clearAddress=function(e){e&&e.stopPropagation(),t.setState({address:""})},t.clearShortAddress=function(e){e&&e.stopPropagation(),t.setState({communityAddressResponse:p()(p()({},t.state.communityAddressResponse),{},{short_address:""})})},t.dealRecheck=function(e){var n=e.name,r=e.address;Ie(e.recheck_msg),n&&n.length&&n.some((function(e){return e.sensitive&&t.setState({isNameError:!0}),e.sensitive})),r&&r.length&&r.some((function(e){return e.sensitive&&t.setState({isAddressError:!0}),e.sensitive}))},t.dealCheckRegionError=function(e){var n,r,a=e.params,o=e.response;Object(me.c)({page_el_sn:3812488}),function(e){var t=e.onConfirm,n=e.onCancel,r=se()(e,["onConfirm","onCancel"]),a=Object(ue.a)(x.a.createElement(fe,i()({},r,{onConfirm:function(){t&&t(),a()},onCancel:function(){n&&n(),a()}})))}({suggestAddress:{provinceName:o.suggest_province_name,cityName:o.suggest_city_name,districtName:o.suggest_district_name},onConfirm:(r=l()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(T.b)(),n=o.transaction_id,Object(me.b)({page_el_sn:3813443,request_id:n}),e.next=4,t._saveAddress(p()(p()({},a),{},{province_id:o.suggest_province_id,city_id:o.suggest_city_id,district_id:o.suggest_district_id,check_region:!1}));case 4:Object(T.a)();case 5:case"end":return e.stop()}var n}),e)}))),function(){return r.apply(this,arguments)}),onCancel:(n=l()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(T.b)(),n=o.transaction_id,Object(me.b)({page_el_sn:3813444,request_id:n}),e.next=4,t._saveAddress(p()(p()({},a),{},{check_region:!1}));case 4:Object(T.a)();case 5:case"end":return e.stop()}var n}),e)}))),function(){return n.apply(this,arguments)})})},t.saveAddress=l()(s.a.mark((function e(){var n,r,a,o,i,c,u,l,d,f,m,h,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isSaveBtnClicked){e.next=2;break}return e.abrupt("return");case 2:if(s=Date.now()-t.startTime,Object(me.b)({page_el_sn:99897,save_time:s}),t.isSaveBtnClicked=!0,t.validAddressInfo()){e.next=7;break}return setTimeout((function(e){t.isSaveBtnClicked=!1}),2600),e.abrupt("return",!1);case 7:if(n=t.state,r=n.name,a=n.mobile,o=n.currentProvinceID,i=n.currentCityID,c=n.currentDistrictID,u=n.address,l=n.isDefault,d=n.communityAddressResponse,f=void 0===d?{}:d,m=n.useRoom,h=m?{building_number:f.building_number,room_number:f.room_number}:{short_address:f.short_address},v=Object(D.c)(p()(p()({name:r,mobile:t.reduceMobile(a),province_id:o,city_id:i,district_id:c,address:u,community_address_request:h},h),{},{is_default:l,order_sn:t.props.orderSn,check_region:t.props.checkRegion}),t.extraRequestParams),Object(T.b)(),!t.antiCrawler){e.next=15;break}return e.next=14,t.antiCrawler.messagePackSync();case 14:v.anti_content=e.sent;case 15:return e.next=17,t._saveAddress(v);case 17:t.isSaveBtnClicked=!1,Object(T.a)();case 19:case"end":return e.stop()}var s}),e)}))),t._saveAddress=function(){var e=l()(s.a.mark((function e(n){var r,a,o,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(){},a=function(e){var r,a=e.response&&e.response.data&&e.response.data.result;if(a&&a.need_recheck===ee)t.dealRecheck(a);else if(43080===e.errorCode){if(!a)return r={error:e},void Object(W.c)(new Error("edit-address: 返回的地址校验数据为空"),{payload:r});t.dealCheckRegionError({params:n,response:a})}else te[e.errorCode]?Ie(te[e.errorCode]):Ie(Object(U.b)(e.errorCode)||"网络异常，请刷新页面后重试")},!(o=t.props.addressId)){e.next=9;break}return i=t.isCommunityMode?"api/origenes/address/business/update":"api/origenes/address_info/".concat(o),n.address_id=o,e.abrupt("return",t.$axiosHttp.post(i,n,{defaultErrorHandler:r,useNativeAntiToken:!0}).then((function(){t.dealSaveResult(o)}),a));case 9:return c=t.isCommunityMode?"api/origenes/address/business/create":"api/origenes/address",e.abrupt("return",t.$axiosHttp.post(c,n,{defaultErrorHandler:r,useNativeAntiToken:!0}).then((function(e){var n=e.address_id||e.result.address_id;n&&t.dealSaveResult(n)}),a));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.addrClose=function(e){var n;e&&e.stopPropagation(),n=Date.now()-t.startTime,Object(me.b)({page_el_sn:2586340,close_time:n}),t.props.onClose&&t.props.onClose()},t.addrBack=function(e){e&&e.stopPropagation(),t.state.isShowPositionList&&t.setState({isShowPositionList:!1,title:"编辑地址"},(function(){Object(R.a)(document.getElementById("address"))}))},t.nameOnChange=function(e){e&&e.stopPropagation();var n=y()(t),r=e.target.value;n.setState((function(e){return{name:r}}),(function(){!!r&&t.validName()}))},t.mobileOnChange=function(e){var n=e.target.value;t.setState((function(e){return{mobile:n}}))},t.addressOnChange=function(e){e&&e.stopPropagation();var n=y()(t),r=e.target.value;n.setState((function(e){return{address:r}}))},t.shortAddressOnChange=function(e){e&&e.stopPropagation();var n=e.target.value;t.setShortAddress(n)},t.setShortAddress=function(e){t.setState((function(n){return{communityAddressResponse:p()(p()({},t.state.communityAddressResponse),{},{short_address:e})}}))},t.showDialogRegionSelector=function(e){e&&e.stopPropagation()&&e.preventDefault(),y()(t).setState((function(e){return{showRegionSelector:!0}}))},t.hideDialogRegionSelector=function(e){e&&e.stopPropagation()&&e.preventDefault(),y()(t).setState((function(e){return{showRegionSelector:!1}}))},t.state={loaded:!1,title:t.props.title,saveAndUse:t.props.saveAndUse,communityAddressResponse:{},isDefault:"0",name:"",nameInputFocused:!1,mobile:"",mobileInputFocused:!1,address:"",showRegionSelector:!1,currentProvinceID:"0",currentCityID:"0",currentDistrictID:"0",currentProvinceName:"",currentCityName:"",currentDistrictName:"",isNameError:!1,isMobileError:!1,isAddressError:!1,focused:!1,addressInputFocused:!1,addressInfo:null,addressSuggestionList:[],isPositionBtnActived:!1,isShowPositionList:!1,isShowNameRec:!1,isShowMobileRec:!1,showAnalyzeAddressDialog:!1,clipBoardResult:{},clipBoardFullAddress:"",analyzeRequestId:""},t.regionSelectorRef=x.a.createRef(),t.dialogContainerRef=x.a.createRef(),t.shortAddressRef=x.a.createRef(),t.eventEmitter=new P.EventEmitter,t.locateOvertimeCount=0,t.$axiosHttp=t.createAxios(),t.reduceMobile=t.reduceMobile.bind(y()(t)),t.getUserCoords=t.getUserCoords.bind(y()(t)),t.getGeolocation=t.getGeolocation.bind(y()(t)),t.dealSaveResult=t.dealSaveResult.bind(y()(t)),t.generateAddrTitle=t.generateAddrTitle.bind(y()(t)),t.generateAddrBottom=t.generateAddrBottom.bind(y()(t)),t.generateRegionSelector=t.generateRegionSelector.bind(y()(t)),t.setAddressInputFocused=t.setAddressInputFocused.bind(y()(t)),t.antiCrawler=t.props.antiCrawler,t.getEncryptClipBoardData=t.getEncryptClipBoardData.bind(y()(t)),t.analyzeClipBoard=t.analyzeClipBoard.bind(y()(t)),t.genetateAnalyzeAddressDialog=t.genetateAnalyzeAddressDialog.bind(y()(t)),t.addressNameBlurTimeout=null,t.addressMobileBlurTimeout=null,t}return v()(u,[{key:"createAxios",value:function(){var e=M.a.getInstance().getPageID();return Object(L.a)({pageInfo:{pageId:e}})}},{key:"componentWillMount",value:function(){var e=this,t=this;we&&n("3EMY"),t.eventEmitter.on("setRegionUnionName",(function(e){t.setState((function(t){return e}))})),t.eventEmitter.on("fillEditAddress",(function(n){if(n instanceof Error)t.props.onClose&&t.props.onClose();else if(Object(T.a)(),e.setState({loaded:!0},(function(){var t;return!be&&(null===(t=e.shortAddressRef.current)||void 0===t?void 0:t.focus())})),n){var r=n.is_default,a=n.name,o=void 0===a?"":a,i=n.mobile,c=void 0===i?"":i,s=n.address,u=n.province_id,l=n.city_id,d=n.district_id,p=n.province,f=n.city,m=n.district,h=n.community_address_response,v=void 0===h?{}:h;v.short_address&&v.building_number&&v.room_number&&(v.short_address="");var g={isDefault:r,name:o,mobile:c,address:s,currentProvinceID:u,currentCityID:l,currentDistrictID:d,currentProvinceName:p,currentCityName:f,currentDistrictName:m,regionUnionName:p===f?"".concat(f," ").concat(m):"".concat(p,"  ").concat(f,"  ").concat(m),communityAddressResponse:v,useRoom:!!v.room_number};t.setState((function(e){return g}))}}))}},{key:"getRecommendType",value:function(e,t){return e?ne:t?re:null}},{key:"render",value:function(){var e=this.state,t=e.loaded,n=e.isShowPositionList,r=e.isShowNameRec,a=e.isShowMobileRec,o=e.recMobiles,i=e.recCombined,c=(e.addressInputFocused,e.nameInputFocused,e.mobileInputFocused,e.title,this.getRecommendType(r,a)),s=n?x.a.createElement("div",{className:"m-addr-mask",onClick:this.addrBack},x.a.createElement("div",{className:"m-addr-main m-addr-main-list"},x.a.createElement(D.b,{ariaLabel:"根据定位获取附近地址"}),this.generateAddrTitle(),this.generatePositionList())):x.a.createElement(E.a,{ControllerProps:{PortalComponent:null},BaseDialogProps:{id:this.dialogId},className:"m-addr-main m-addr-main-new ".concat(be?"":"android")},x.a.createElement(E.a.CloseButton,{role:"button","aria-label":"关闭地址弹框",onClick:this.addrClose}),x.a.createElement(D.b,{dialogId:this.dialogId}),this.generateAddrTitle(),this.generateAddrName(),this.generateAddrMobile(),this.generateAddrRegionNew(),this.isCommunityMode&&this.generatePoi(),this.isCommunityMode?this.generateShortAddrAddress():this.generateAddrAddressNew(),this.generateAddrBottom(),c&&x.a.createElement(ie,{type:c,recMobiles:o,recCombined:i,onClickHandler:this.onRecItemSelected}));return x.a.createElement(he.a,null,x.a.createElement("div",{ref:this.dialogContainerRef,style:{display:t?"":"none"}},s,this.generateRegionSelector()),this.genetateAnalyzeAddressDialog())}},{key:"componentDidMount",value:(o=l()(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$axiosHttp.get("api/origenes/rec/mobile_name/list/create_addr").then((function(e){t.setState({recMobiles:e.mobiles,recCombined:e.mobile_names})})),ve.isNativePlatform&&this.props.componentDisablePullReload&&Object(j.o)({enable:!1}).catch((function(e){if(e&&e.errorCode)throw e})),this.props.onShowTrackingBase&&Object(me.d)(Object.assign({},this.props.onShowTrackingBase,this.props.trackingContext)),ge&&(this.bodyPositionStyle=document.body.style.position,this.bodyScrollTop=Object(D.e)(),document.body.style.position="fixed"),!this.props.addressId&&this.props.analyzeClipBoard&&this.analyzeClipBoard(),Object(R.a)(document.getElementById("address")),this.antiCrawler||ke){e.next=10;break}return e.next=9,Object(V.a)(this.$axiosHttp);case 9:this.antiCrawler=e.sent;case 10:this.cleanupFixer=Object($.a)(document.body);case 11:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){ve.isNativePlatform&&this.props.componentDisablePullReload&&Object(j.o)({enable:!0}).catch((function(e){if(e&&e.errorCode)throw e})),Object(R.c)(),this.geoHandler&&clearTimeout(this.geoHandler),this.addressNameBlurTimeout&&clearTimeout(this.addressNameBlurTimeout),this.addressMobileBlurTimeout&&clearTimeout(this.addressMobileBlurTimeout),ge&&(document.body.style.position=this.bodyPositionStyle,Object(D.i)(this.bodyScrollTop)),this.cleanupFixer&&this.cleanupFixer()}},{key:"getEncryptClipBoardData",value:(r=l()(s.a.mark((function e(){var t,n,r,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ve.isNativePlatform){e.next=20;break}if(!_e){e.next=8;break}return e.next=4,Object(j.f)("AMStorage","getEncryptedPasteboard");case 4:return t=e.sent,e.abrupt("return",t.result);case 8:return e.next=10,Object(j.c)();case 10:if(n=e.sent,!((r=n.text)&&r.length>5&&r.length<200)){e.next=20;break}if(!ye){e.next=19;break}return e.next=16,Object(j.f)("JSSecure","aesEncrypt",{text:r});case 16:return a=e.sent,o=a.value,e.abrupt("return",o);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"analyzeClipBoard",value:(t=l()(s.a.mark((function e(){var t,n,r,a,o=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new Promise((function(e){setTimeout((function(){return e(null)}),100)})),e.next=4,Promise.race([t,this.getEncryptClipBoardData()]);case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return");case 7:r=Object(A.a)(),this.setState({analyzeRequestId:r}),a={address_info:n,request_id:r},ye&&(a={eai:n,request_id:r}),_e&&(a={encrypt_data:n,request_id:r}),this.$axiosHttp.post("api/origenes/analyze_address",a).then((function(e){e&&o.setState({showAnalyzeAddressDialog:!0,clipBoardResult:e,clipBoardFullAddress:"".concat(e.name||""," ").concat(e.mobile||""," ").concat(e.province||""," ").concat(e.city||""," ").concat(e.district||""," ").concat(e.address||"")})})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),e.t0.message="剪贴板内容解析失败"+e.t0.message,Object(W.c)(e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,15]])}))),function(){return t.apply(this,arguments)})},{key:"genetateAnalyzeAddressDialog",value:function(){var e=this.state,t=e.isShowPositionList,n=e.showAnalyzeAddressDialog;return!this.props.addressId&&!t&&n&&x.a.createElement(O.a,{title:"识别到收货信息，是否填入？",text:this.state.clipBoardFullAddress,TextProps:{className:"analyze-address-text"},onConfirm:this.confirmAnalyzeAddressDialog,onCancel:this.cancelAnalyzeAddressDialog,onClose:this.cancelAnalyzeAddressDialog})}},{key:"generateRegionSelector",value:function(){var e=this.state,t=e.showRegionSelector,n=e.addressInfo,r={onClose:this.hideDialogRegionSelector,eventEmitter:this.eventEmitter,isShow:t,addressId:this.props.addressId,addressInfo:n,isCommunityMode:this.isCommunityMode,extraRequestParams:this.extraRequestParams};return x.a.createElement(Z,i()({},r,{ref:this.regionSelectorRef}))}},{key:"generateAddrTitle",value:function(){var e=this.state,t=e.title,n=e.isShowPositionList;return x.a.createElement("div",{className:"title-wrap-new",role:"heading"},x.a.createElement("div",{className:n?"m-addr-title  m-addr-back":"m-addr-title",onClick:this.addrBack},t),!n&&this.props.contentUnderTitle)}},{key:"clearName",value:function(e){e&&e.stopPropagation(),this.setState({name:""})}},{key:"generateAddrName",value:function(){var e=this,t=this.state,n=t.name,r=t.isNameError,a=t.nameInputFocused,o={className:"m-addr-input ".concat(r?"input-error":""),id:"name",placeholder:"收货人姓名",value:n,type:"text",onChange:this.nameOnChange,onFocus:function(t){e.setState({nameInputFocused:!0,isShowNameRec:!n}),e.removeNameError(t)},onBlur:function(){e.addressNameBlurTimeout=setTimeout((function(){e.setState({nameInputFocused:!1,isShowNameRec:!1})}),0)}};return x.a.createElement("div",{className:"m-addr-bar"},x.a.createElement("div",{className:"m-addr-text"},"收货人"),x.a.createElement("input",o),n&&x.a.createElement("div",{className:"m-addr-input-clear-wrapper",style:{display:a?"":"none"},onMouseDown:function(t){return e.clearName(t)},onTouchStart:function(t){return e.clearName(t)}},x.a.createElement("div",{className:"m-addr-input-clear"})))}},{key:"clearMobile",value:function(e){e&&e.stopPropagation(),this.setState({mobile:""})}},{key:"generateAddrMobile",value:function(){var e=this,t=this.state,n=t.mobile,r=t.isMobileError,a=t.mobileInputFocused,o={className:"m-addr-input ".concat(r?"input-error":""),id:"mobile",placeholder:"收货人手机号",value:n,type:"tel",onChange:this.mobileOnChange,onFocus:function(t){e.setState({mobileInputFocused:!0,isShowMobileRec:!n}),e.removeMobileError(t)},onBlur:function(){e.addressMobileBlurTimeout=setTimeout((function(){e.setState({mobileInputFocused:!1,isShowMobileRec:!1})}),0)}};return x.a.createElement("div",{className:"m-addr-bar"},x.a.createElement("div",{className:"m-addr-text"},"手机号"),x.a.createElement("input",o),n&&x.a.createElement("div",{className:"m-addr-input-clear-wrapper",onMouseDown:function(t){return e.clearMobile(t)},onTouchStart:function(t){return e.clearMobile(t)},style:{display:a?"":"none"}},x.a.createElement("div",{className:"m-addr-input-clear"})))}},{key:"generateAddrRegionNew",value:function(){var e=this.state,t=e.currentProvinceName,n=e.currentCityName,r=e.currentDistrictName,a=e.regionUnionName,o=t&&n&&r,i=this.isCommunityMode?{className:"m-addr-bar disabled",onClick:this.disbaleToast}:{className:"m-addr-bar",onClick:this.showDialogRegionSelector};return x.a.createElement("div",i,x.a.createElement("div",{className:"m-addr-text"},"地区"),o?x.a.createElement("span",{className:"m-addr-select",role:"button"},a):x.a.createElement("span",{className:"m-addr-select m-addr-placeholder",role:"button"},"点击选择"),x.a.createElement("div",{className:"m-addr-more","aria-hidden":!0}))}},{key:"generatePoi",value:function(){var e=this.state.communityAddressResponse||{},t=e.community_title,n=e.community_thumb_address,r=void 0===n?"":n,a=t?r?"".concat(t,"(").concat(r,")"):t:"";return x.a.createElement("div",{className:"m-addr-bar disabled"},x.a.createElement("div",{className:"m-addr-text"},"小区"),x.a.createElement("span",{className:"m-addr-select",onClick:this.disbaleToast},a))}},{key:"setCommunityAddress",value:function(e,t){this.setState({communityAddressResponse:p()(p()({},this.state.communityAddressResponse),{},a()({},e,t))})}},{key:"generateShortAddrAddress",value:function(){var e=this,t=this.state,n=t.communityAddressResponse,r=t.isAddressError,a=(t.addressInputFocused,t.useRoom),o=n||{},i=o.short_address,c=o.building_number,s=o.room_number;return x.a.createElement(x.a.Fragment,null,x.a.createElement("div",{className:i?"m-addr-bar":"m-addr-address-none m-addr-bar"},x.a.createElement("div",{className:"m-addr-text"},"门牌号"),x.a.createElement("input",{value:a?c:"",className:"m-addr-input m-addr-input-short",onChange:function(t){return e.setCommunityAddress("building_number",t.target.value.replace(/\D+/g,""))},onFocus:function(){return e.setState({useRoom:!0})},"aria-label":"请填写是多少号楼"}),x.a.createElement("div",{className:"m-addr-div","aria-hidden":!0},"号楼"),x.a.createElement("input",{value:a?s:"",onChange:function(t){return e.setCommunityAddress("room_number",t.target.value.replace(/\D+/g,""))},onFocus:function(){return e.setState({useRoom:!0})},className:"m-addr-input m-addr-input-short","aria-label":"请填写是多少室"}),x.a.createElement("div",{className:"m-addr-div","aria-hidden":!0},"室")),x.a.createElement("div",{className:"m-addr-bar"},x.a.createElement("input",{value:a?"":i,className:"m-addr-input m-addr-input-new ".concat(r?"input-error":""),placeholder:"小区门牌号不符合以上格式，点此填写",onChange:this.shortAddressOnChange,onFocus:function(){e.setState({addressInputFocused:!0,useRoom:!1}),e.removeAddressError()},onBlur:function(){setTimeout((function(){e.setState({addressInputFocused:!1})}))}})))}},{key:"generateAddrAddressNew",value:function(){var e=this,t=this.state,n=t.address,r=t.isAddressError,a=t.isPositionBtnActived,o=t.addressSuggestionList,i=t.addressInputFocused,c=(!!o.length&&n.length,ve&&!ve.isNativePlatform),s={id:"address",value:n,placeholder:"如街道、门牌号、小区、乡镇、村等",onChange:this.addressOnChange,onFocus:function(t){e.setState({addressInputFocused:!0}),e.removeAddressError(t)},onBlur:function(){e.setState({addressInputFocused:!1})},className:"m-addr-textarea  ".concat(r?"input-error":""," ").concat(c?"":"without-pos-icon")},u={className:"position-icon ".concat(a?"active":"inactive"),onClick:function(t){return e.requestPosition(t)},"aria-label":"定位",role:"button"};return x.a.createElement("div",{className:n?"m-addr-bar":"m-addr-address-none m-addr-bar"},x.a.createElement("div",{className:"m-addr-text"},"详细地址"),x.a.createElement("textarea",s),n&&x.a.createElement("div",{className:"m-addr-input-clear-wrapper",onMouseDown:this.clearAddress,onTouchStart:this.clearAddress,style:{opacity:i?1:0}},x.a.createElement("div",{className:"m-addr-input-clear"})),c&&x.a.createElement("div",u))}},{key:"generateAddrBottom",value:function(){var e,t=this.state,n=t.saveAndUse,r=t.addressSuggestionList;return t.isShowPositionList&&r.length||(e=x.a.createElement("div",{className:"m-addr-save-new active",onClick:this.saveAddress,role:"button"},x.a.createElement("span",null,n?"保存并使用":"保存"))),this.startTime=Date.now(),e}},{key:"generatePositionList",value:function(){var e,t=this,n=t.state,r=n.addressSuggestionList;return n.isShowPositionList&&r.length&&(e=x.a.createElement("div",{className:"m-addr-address-suggestion"},x.a.createElement("ul",{id:"m-addr-address-suggestion-ul",onClick:t.addrBack},r&&r.map((function(e,n){return x.a.createElement("li",{key:"suggestion-".concat(n),onClick:function(n){return t.selectSuggestionAddress.bind(t,n,e)()}},x.a.createElement("div",{className:"m-addr-suggestion-title"},e.title),x.a.createElement("div",{className:"m-addr-suggestion-address"},e.address))}))))),e}},{key:"selectSuggestionAddress",value:function(e,t){var n=this;e&&e.stopPropagation(),this.props.locationAddrClickTracking&&Object(me.d)(Object.assign({},this.props.locationAddrClickTracking,this.props.trackingContext));var r=this.state,a=r.currentProvinceID,o=r.currentCityID,i=r.currentDistrictID;a+""==t.province_id+""&&o+""==t.city_id+""&&i+""==t.district_id+""||Object(N.a)("省市区的信息已修改",Se);var c=t.province_id,s=t.city_id,u=t.district_id,l=t.title,d=t.thumb_address,p=t.province,f=t.city,m=t.district,h=(t.address,{currentProvinceID:c,currentCityID:s,currentDistrictID:u,currentProvinceName:p,currentCityName:f,currentDistrictName:m,regionUnionName:p===f?"".concat(f," ").concat(m):"".concat(p,"  ").concat(f,"  ").concat(m),address:d+" "+l,addressSuggestionList:[],addressInfo:t,isShowPositionList:!1,title:"编辑地址"});this.setState((function(e){return h}),(function(){Object(R.a)(document.getElementById("address")),n.setAddressInputFocused()}))}},{key:"setAddressInputFocused",value:function(){var e=document.getElementById("address"),t=e.value.length,n=t,r=t;if(e.setSelectionRange)e.focus&&e.focus(),e.setSelectionRange(n,r);else if(e.createTextRange){var a=e.createTextRange();a.collapse(!0),a.moveEnd("character",r),a.moveStart("character",n),a.select()}else e.focus&&e.focus()}},{key:"requestPosition",value:function(e){e&&e.stopPropagation();var t=this;t.state.isPositionBtnActived||(t.props.locationBtnClickTracking&&Object(me.d)(Object.assign({},t.props.locationBtnClickTracking,t.props.trackingContext)),t.setState((function(e){return{isPositionBtnActived:!0}}),(function(e){t.getUserCoords((function(e,n){t.setState((function(e){return{isPositionBtnActived:!1}})),n===t.locateOvertimeCount&&(0!==(e=t.addressListFilter(e)).length?t.setState((function(t){return{addressSuggestionList:e||[],isShowPositionList:!0,title:"根据定位获取附近地址"}}),(function(e){Object(R.a)(document.getElementById("m-addr-address-suggestion-ul"))})):Ie("无法获取你的位置，请手动选择"))}),t.locateOvertimeCount),t.geoHandler&&clearTimeout(t.geoHandler),t.geoHandler=setTimeout((function(){t.state.isPositionBtnActived&&(Ie("无法获取你的位置"),t.locateOvertimeCount+=1,t.setState((function(e){return{isPositionBtnActived:!1}})))}),15e3)})))}},{key:"getUserCoords",value:function(e,t){var n=this;ve.isWeChatPlatform?window.wx&&window.wx.getLocation({type:"wgs84",success:function(r){var a=r.latitude,o=r.longitude;n.geolocationDecoder(e,{lat:a,lng:o},t)},cancel:function(){e(null,t)}}):ve.isQQPlatform?window.mqq&&window.mqq.sensor&&window.mqq.sensor.getLocation({allowCacheTime:60},(function(r,a,o,i){0!==r?e(null,t):n.geolocationDecoder(e,{lat:a,lng:o,coord_type:5},t)})):n.getGeolocation((function(r){var a=r.coords,o=a.latitude,i=a.longitude;n.geolocationDecoder(e,{lat:o,lng:i},t)}),(function(){e(null,t)}),null)}},{key:"geolocationDecoder",value:function(e,t,n){var r=this;t&&t.lat&&t.lng?(t.coord_type||(t.coord_type=1),(this.antiCrawler?this.antiCrawler.messagePackSync():Promise.resolve("")).then((function(e){var n={payload:{},anti_content:e,location:{lng:t.lng,lat:t.lat,coordinate_type:t.coord_type}};return r.props.scene&&(n.payload.scene=r.props.scene),r.$axiosHttp.post("api/ptolemeaus/poi/nearby/poi_list",n)})).then((function(t){var r;(null==t||null===(r=t.result)||void 0===r?void 0:r.data)?e(t.result.data,n):e(null,n)})).catch((function(){e(null,n)}))):e(null)}},{key:"getGeolocation",value:function(e,t,n){t||(t=function(e){switch(e.code){case e.TIMEOUT:Ie("定位失败，请稍后重试");break;case e.PERMISSION_DENIED:Ie("定位失败，请先同意定位请求");break;case e.POSITION_UNAVAILABLE:case e.UNKNOWN_ERROR:Ie("无法获取你的位置")}}),n||(n={enableHighAccuracy:!1,timeout:6e4,maximumAge:6e4}),navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t,n):Ie("定位失败，请手动输入地址")}},{key:"addressListFilter",value:function(e){return e&&e.length>0?e.filter((function(e){return-1!==parseInt(e.city_id,10)&&-1!==parseInt(e.district_id,10)&&-1!==parseInt(e.province_id,10)})):[]}},{key:"reduceMobile",value:function(e){for(var t="",n=e.length,r=0;r<n;r++)e.charCodeAt(r)<255&&(t+=e.substr(r,1));return t.replace(/\s|\-/g,"").replace(/^\+86/,"")}},{key:"dealSaveResult",value:function(e){var t=this;t.props.onSaveClickTrackingBase&&Object(me.d)(Object.assign({},t.props.onSaveClickTrackingBase,t.props.trackingContext));var n=this.isCommunityMode?"/api/origenes/address/business/query":"api/origenes/address/".concat(e);this.$axiosHttp.get(n,{params:p()({address_id:e},this.extraRequestParams)}).then((function(e){t.props.onConfirm&&t.props.onConfirm(e.result||e)}))}},{key:"validName",value:function(){var e=this.state.name;return""===e.trim()?(Ie("请填写收货姓名"),!1):Object(D.f)(e)>16?(Ie("姓名不能超过8个字"),this.setState((function(e){return{isNameError:!0}})),!1):(this.setState((function(e){return{isNameError:!1}})),!0)}},{key:"validMobile",value:function(){var e=this.state.mobile;return""===e?(Ie("请填写手机号码"),!1):!!e.match(/^\d{11}$/)||(this.setState({isMobileError:!0}),Ie("请填写正确的手机号码"),!1)}},{key:"validCommunityAddress",value:function(){var e=this.state,t=e.communityAddressResponse,n=void 0===t?{}:t,r=e.useRoom,a=n.short_address,o=n.building_number,i=n.room_number;return r?a="":(o="",i=""),a?this.validAddress("communityAddressResponse.short_address",{empty:"请填写门牌号",uncorrect:"请填写正确的门牌号，例如：x弄x号x室；至少需要填写3个字"}):!(!o||!i)||(Ie("请填写门牌号"),!1)}},{key:"validAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"address",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=Object(D.d)(n.state,e)||"";if(!1!==this.shouldIgnoreClearBtnClick){if(""===r.trim())return Ie(t.empty||"请填写详细地址"),!1;if(r.length<3)return Ie(t.uncorrect||"最少3个字"),n.setState({isAddressError:!0}),!1;if(Object(D.f)(r)>100)return Ie(t.tooLong||"地址不能超过100个字，请删除部分内容"),n.setState((function(e){return{isAddressError:!0}})),!1;var a=/^[0-9]*$/;return a.test(r)?(Ie(t.uncorrect||"请填写正确的地址"),n.setState((function(e){return{isAddressError:!0}})),!1):(n.setState((function(e){return{isAddressError:!1}})),!0)}}},{key:"validRegion",value:function(){var e=this.state,t=e.currentProvinceID,n=e.currentCityID,r=e.currentDistrictID;return t+""!="0"&&n+""!="0"&&r+""!="0"||(Ie("请选择地区"),this.setState((function(){return{showRegionSelector:!0}})),!1)}},{key:"validDetail",value:function(){return this.isCommunityMode?this.validCommunityAddress():this.validAddress()}},{key:"validAddressInfo",value:function(){return this.validName()&&this.validDetail()&&this.validRegion()&&this.validMobile()}},{key:"removeNameError",value:function(e){this.setState((function(e){return{isNameError:!1,focused:!0}}))}},{key:"removeMobileError",value:function(e){this.setState((function(e){return{isMobileError:!1,focused:!0}}))}},{key:"removeAddressError",value:function(e){this.setState((function(e){return{isAddressError:!1,focused:!0}}))}},{key:"extraRequestParams",get:function(){return this.isCommunityMode?{scene_id:"1000097",community_address_request:{community_id:this.props.communityId,group_order_id:this.props.groupOrderId}}:{}}},{key:"isCommunityMode",get:function(){return this.props.isCommunityMode||!!this.props.communityId}}]),u}(C.Component);Ce.defaultProps={title:"编辑地址",addressId:"",trackingContext:{},groupOrderId:"",isCommunityMode:!1};var xe={};xe=Ce;t.a=xe},Zoyk:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v}));var r=n("o0o1"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("yXPU"),s=n.n(c),u=n("3OdE"),l=n("KoDT"),d=n("h3qu"),p=n("qnV/"),f=n("MpJ2"),m=Object(l.a)().system===d.b.IOS?location.href.split("#")[0]:null;function h(e,t){var n=Math.random().toString().substring(2),r=Date.now().toString(),a=u.a.get(location.host).ApiKey.WeChat,o={page_sn:t,timestamp:r,noncestr:n,open_app_id:a,url:m||location.href.split("#")[0]};return e.get("weixin/jsapi/signature",{params:o}).then((function(e){return{timestamp:r,nonceStr:n,signature:e.signature,wechatAppID:e.mirror?e.open_app_id:a,shareTypeEnable:e.share_type_enable,shareDomain:e.share_domain,mirror:e.mirror,magicTrace:e.magic_trace}})).catch((function(e){return Object(p.c)(e),{timestamp:r,nonceStr:n,wechatAppID:a}}))}function v(e){return g.apply(this,arguments)}function g(){return(g=s()(a.a.mark((function e(t){var n,r,o,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&Object(d.k)()){e.next=2;break}return e.abrupt("return");case 2:return n="com.xunmeng.pinduoduo.".concat(t),e.prev=3,e.next=6,Object(f.f)("AMComponent","info",{name:n},"4.0.0","4.0.0");case 6:if(r=e.sent,o=void 0===(o=r.bundles)?[]:o,c=i()(o,1),!(s=c[0])){e.next=12;break}return e.abrupt("return",Object(l.a)().platform===d.a.PddIOS?s.version:s);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}},"a/1V":function(e,t,n){"use strict";t.a={DEFAULT:0,WECHAT_SESSION:1,WECHAT_TIMELINE:2,WEIBO:3,QQ_CHAT_SESSION:4,QQ_ZONE:5,TENCENT_WEIBO:6,WECHAT_SESSION_APP:7,WECHAT_TIMELINE_IMAGE:8,WECHAT_TIMELINE_IMAGE_WITH_NO_SDK:9,WECHAT_SESSION_IMAGE:10,QQ_CHAT_SESSION_IMAGE:11,QQ_ZONE_IMAGE:12,WEIBO_IMAGE:13,WECHAT_TIMELINE_IMAGES:15,WECHAT_SESSION_TEXT_WITH_NO_SDK:16,WECHAT_SESSION_TEXT:17,IOS_SYSTEM_SHARE_CARD:18,WECHAT_SESSION_IMAGE_WITH_NO_SDK:19,WECHAT_SESSION_IMAGES_WITH_NO_SDK:20,WECHAT_TIMELINE_TEXT:21,SHARE_IMAGE_PASSIVELY:22,COPY_LINK:23,WECHAT_SESSION_MUSIC:24,WECHAT_SESSION_VIDEO:25,COPY_CIPHER:9995,WECHAT_SESSION_CARD_WITH_NO_SDK:9996,WECHAT_TIMELINE_CARD_WITH_NO_SDK:9997,FRIENDS:9998,WECHAT_BIG_IMAGE:9999,PIN_TIMELINE:1e4}},a96g:function(e,t,n){e.exports={list:"_1V5O_jZv",arrow:"_1kKAxnq3",item:"_2OEkHxgO",name:"_2I1dD-vI",idCard:"_3gsCZm8_",border:"_28wV6BKW",footer:"_84qUEXe1"}},adHa:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n("pVnL"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),u=n("7W2i"),l=n.n(u),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),m=n.n(f),h=n("q1tI"),v=n.n(h);n("17x9");var g=v.a.createContext({webpEnable:!1});function y(e){return v.a.forwardRef((function(t,n){return v.a.createElement(g.Consumer,null,(function(r){return v.a.createElement(e,a()({},t,{ref:n,buiCtx:r}))}))}))}(function(e){l()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=m()(e);if(t()){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e={webpEnable:this.props.webpEnable};return v.a.createElement(g.Provider,{value:e},this.props.children)}}]),n}(v.a.PureComponent)).defaultProps={webpEnable:!1}},"aec/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("fPZm");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.reduce((function(e,t){var n=new t;if(!(n instanceof r.a))throw new Error("[monitor]: exist collecter don‘t extends BaseCollecter");if(!n.name)throw new Error("[monitor]: collecter’s name miss");if(e[n.name])throw new Error("[monitor]: repeat collecter name ".concat(n.name));return e[n.name]=n,e}),{}),a=Object.values(n);return Promise.all(a.map((function(e){return e.request(t[e.name])}))).then((function(){return a.forEach((function(e){e.buildData(n)})),n}))}},b6XL:function(e,t,n){"use strict";var r=n("MVZn"),a=n.n(r),o=n("KoDT"),i=n("h3qu");var c=n("D+Ft"),s=n("MpJ2");function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n="number"==typeof t.type?t.type:1;Object(s.f)("JSAlert","toast",{message:e,type:n}).then((function(){setTimeout((function(){t.onClose&&t.onClose()}),2e3)})).catch((function(){Object(c.a)(e,t)}))}}n.d(t,"a",(function(){return d}));function l(e){return 2===e&&((t=Object(o.a)()).platform===i.a.PddIOS?Object(i.c)(t.version,"5.52.0")>=0:t.platform===i.a.PddAndroid&&Object(i.c)(t.version,"4.75.0")>=0);var t}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a()(a()({},t),{},{duration:t.duration||2});l(n.duration)?u(e,n):Object(c.a)(e,n)}},b8gg:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("sFJH"),s=n("FhbG"),u=["49.234.253.21","212.129.222.108"],l={"dl.pddpic.com":{"dl-1.pddpic.com":50,"dl-2.pddpic.com":50},"t00img.yangkeduo.com":{"img-1.pddpic.com":30,"img-2.pddpic.com":30,"img-3.pddpic.com":20,"img-4.pddpic.com":20},"t13img.yangkeduo.com":{"promotion-1.pddpic.com":50,"promotion-2.pddpic.com":30,"promotion-3.pddpic.com":20},"t20img.yangkeduo.com":{"avatar2-1.pddpic.com":50,"avatar2-2.pddpic.com":50},"t22img.yangkeduo.com":{"review-1.pddpic.com":50,"review-2.pddpic.com":50,"review-3.pddpic.com":0},"images.pinduoduo.com":{"images-1.pinduoduo.com":60,"images-2.pinduoduo.com":40},"img.pddpic.com":{"img-1.pddpic.com":30,"img-2.pddpic.com":30,"img-3.pddpic.com":20,"img-4.pddpic.com":20},"t04img.yangkeduo.com":{"t04img-b.yangkeduo.com":100},"commimg.pddpic.com":{"commimg-1.pddpic.com":50,"commimg-2.pddpic.com":50},"promotion.pddpic.com":{"promotion-1.pddpic.com":50,"promotion-2.pddpic.com":30,"promotion-3.pddpic.com":20},"funimg.pddpic.com":{"funimg-1.pddpic.com":50,"funimg-2.pddpic.com":50},"avatar.pddpic.com":{"avatar-b.pddpic.com":100},"avatar2.pddpic.com":{"avatar2-1.pddpic.com":50,"avatar2-2.pddpic.com":50},"review.pddpic.com":{"review-1.pddpic.com":50,"review-2.pddpic.com":50,"review-3.pddpic.com":0}};n.d(t,"a",(function(){return h}));function d(e,t){void 0!==e&&Object(c.a)({errorMsg:t,payload:{value:JSON.stringify(e)}})}function p(e){if(!Object(s.a)(e))return d(e,"cui-image: 配置错误，backupDomainConfigMap需为object对象"),l;var t={};for(var n in e)Object(s.a)(e[n])?t[n]=e[n]:(d(e,"cui-image: 配置错误，backupDomainConfigMap的".concat(n,"需为object对象")),t[n]={});return t}function f(e){return t=e,"[object Number]"!==Object.prototype.toString.call(t)||isNaN(t)||e<0?(d(e,"cui-image: 配置错误，retryLimit需为大于等于0的数字"),3):e;var t}function m(e){return t=e,"[object Boolean]"!==Object.prototype.toString.call(t)?(d(e,"cui-image: 配置错误，useIpFallback需为boolean"),!0):e;var t}var h=function(){function e(t){a()(this,e);var n=function(e){return Object(s.a)(e)?{backupDomainConfigMap:p(e.backupDomainConfigMap),useIpFallback:m(e.useIpFallback),retryLimit:f(e.retryLimit)}:(d(e,"cui-image: 配置错误，自定义配置需为object对象"),{backupDomainConfigMap:l,useIpFallback:!0,retryLimit:3})}(t);this._backupDomainConfigMap=n.backupDomainConfigMap,this._useIpFallback=n.useIpFallback,this._retryLimit=n.retryLimit}return i()(e,[{key:"getBackupDomainConfigMap",value:function(){return this._backupDomainConfigMap}},{key:"useIpFallback",value:function(){return this._useIpFallback}},{key:"getRetryLimit",value:function(){return this._retryLimit}},{key:"getBgpIps",value:function(){return u}},{key:"getBackupDomainConfig",value:function(e){var t=this._backupDomainConfigMap[e];return Object(s.a)(t)?t:{}}},{key:"getOriginHost",value:function(e){var t=this._backupDomainConfigMap;for(var n in t){if(e in t[n])return n}return""}}]),e}()},bfoz:function(e,t,n){var r=n("YZai"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},c3b3:function(e,t,n){e.exports={mainArea:"_2gfjGJi_",icon:"_1w7IKZX7",mobileClear:"_2-ahLH-f"}},cBUB:function(e,t,n){e.exports={promotion:"NGUPfMa-",promotion3:"yPVq05d_",prefixPrice:"_3aTaNLaa"}},cIxk:function(e,t,n){e.exports={dontUseItem:"_2qt2WU6J",label:"_3eLfDcZQ"}},dDoh:function(e,t,n){"use strict";new Set(["DECIDE_FALLBACK"]);var r=n("F19C"),a=n("+aNZ"),o=n("AGSb");function i(e){return function(t){if(t.__$leo_keys)throw new Error("".concat(t.name," duplicate declare"));if(!Array.isArray(e))throw new Error("needs an array for its 1st param");return t.__$leo_keys=e||[],function(e){if(e=e||[],window.leo=window.leo||{},window.leo.data=window.leo.data||{},window.leo.csrFallback&&window.leo.fallbackData&&e.length){var t=Object(o.a)("pdd_user_id");e.map((function(e){var n=window.leo.fallbackData[e.leoKey];if(n){var o=Object(a.b)(e);try{window.leo.data[e.leoKey]=o(n,{identity:{uid:parseInt(t)||0,originalUrl:location.pathname+location.search}})}catch(e){Object(r.b)(null,"csrFormatLeoFailed",e)}}else Object(r.b)(null,"csrLeoFallbackDataNotFound")}))}}(e),t}}function c(e,t){var n,a=(t=t||{}).__req;try{n=window.leo.data[e]}catch(t){Object(r.b)(a,"BusinessOrFrameworkError_".concat(e),t)}return void 0===n&&Object(r.b)(a,"leoDataNotFoundForKey_".concat(e)),n}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}))},dXXU:function(e,t,n){var r=n("A8tI"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},dtTa:function(e,t,n){e.exports={usablePromotionItem:"TMkGqD8f"}},eHaf:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=(n("RIqP"),n("yXPU")),s=n.n(c),u=n("3OdE"),l=n("KoDT"),d=n("J4zp"),p=n.n(d),f=n("3sKm"),m=n("h3qu"),h=n("AGSb"),v=n("fkZF"),g=n("qnV/"),y=n("SxTj"),_=n("mj+i"),b=n("xJ31"),k=null,w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!k){var n=Object(h.a)(),r=n.pdd_vds,a=void 0===r?"":r,o=n._nano_fp;k={pdd_vds:a,_nano_fp:o}}var i={cookie_fp:k._nano_fp,storage_fp:localStorage.getItem("_nano_fp")||""},c=Object(l.a)(),s=c.isNativePlatform,u=c.isTinyNativePlatform;return s||u||(i.dcf=A(e,k.pdd_vds,t)),i},S=function(){var e=s()(a.a.mark((function e(t){var n,r,o,i,c,s,u,d,h,g,y;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),r=Object(l.a)(),o=r.version,i=r.isTinyNativePlatform,c=r.platform,s={time:n,log_id:n+Object(v.a)(16),user_id:"",uin:"",app_id:T(t),screen_width:window.screen.width,screen_height:window.screen.height,dpr:window.devicePixelRatio,app_version:o,platform:i?m.a.PddAndroid:c},e.next=5,Promise.all([Object(f.b)(),Object(f.c)()]);case 5:return u=e.sent,d=p()(u,2),h=d[0],g=d[1],s.user_id=h,s.uin=g,null!==(y=localStorage.getItem("WxCheckPdd"))&&(s.wx_check_pdd=parseInt(y,10)||0),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=Object(g.a)(y.c),C=Object(g.a)(y.b),x=function(){var e=s()(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return t=e.sent,n=C(),e.abrupt("return",i()(i()({},t),n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=["src","from","campaign","cid"],E=["refer_share_id","refer_share_uid","refer_share_channel","refer_share_form"],O={_sid:"refer_share_id",_suid:"refer_share_uid",_sc:"refer_share_channel",_sf:"refer_share_form"},N=function(){var e=Object(_.g)(location.search),t=P.reduce((function(t,n){return e[n]&&(t["refer_channel_"+n]=e[n]),t}),{});for(var n in t=E.reduce((function(t,n){var r=e[n]||e[n.slice(0,6)];return r&&(t[n]=r),t}),t),O){var r=e[n];if(r)t[O[n]]=r}return t},D=function(e){var t=Object(_.g)(location.search),n="1"===t.is_back?{is_back:"1"}:{},r=t.refer_channel_msgid||t.msgid;return r&&(n.refer_channel_msgid=r),e&&Object.entries(t).forEach((function(e){var t=p()(e,2),r=t[0],a=t[1];0===r.indexOf("_p_")&&(n[r]=a)})),n};function T(e){switch(Object(l.a)().platform){case m.a.WeChat:return e.AppID.WeChat;case m.a.QQ:return e.AppID.QQConnect}return""}var j={};function A(e,t,n){var r=t.substr(0,28),a=t.substr(28);j[n]||(j[n]=1);var o=Object(b.a)("".concat(e).concat(n).concat(a).concat(j[n])),i="".concat(r,".").concat(j[n],".").concat(o);return j[n]++,i}var R=n("cDf5"),W=n.n(R),L=n("MpJ2"),M=function(){var e=Object(l.a)(),t=e.isNativePlatform,n=e.isTinyNativePlatform;return t||n?B:F},F=function(e,t){try{if("function"==typeof window.navigator.sendBeacon&&(t.support_beacon=1,window.navigator.sendBeacon(e,Object(_.b)(t))))return;var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.withCredentials=!0,n.send(Object(_.b)(t))}catch(e){U(e)}},B=function(e,t){var n=Object(l.a)();return n.isTinyNativePlatform||n.statisfy("4.45.0","4.33.0","greaterThanEqual")?((t=function(e){return Object.entries(e).reduce((function(e,t){var n=p()(t,2),r=n[0],a=n[1];return null!==a&&(e[r]="object"===W()(a)?JSON.stringify(a):a),e}),{})}(t)).use_AMAnalytics=1,Object(L.f)("AMAnalytics","send",{url:e,value:t}).catch(U)):Object(L.f)("JSNetwork","request",{method:"POST",url:e,headers:{"Content-Type":"text/plain;charset=UTF-8"},data:Object(_.b)(t)}).catch(U)};function U(e){console.error("@pdd/metrics#onReporterError",e)}n.d(t,"f",(function(){return q})),n.d(t,"d",(function(){return z})),n.d(t,"e",(function(){return Q})),n.d(t,"c",(function(){return G})),n.d(t,"b",(function(){return J})),n.d(t,"a",(function(){return Z}));var V=u.a.get(location.host),H={},q=function(e){Object.assign(H,e)},z=function(){var e=s()(a.a.mark((function e(t){var n,r,o,c,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:M(),r=(t=t||{}).op,e.next=5,K(t,"pv"===r);case 5:return t=e.sent,e.next=8,S(V);case 8:return o=e.sent,c=w(o.time,r||""),t=i()(i()(i()(i()({},H),t),o),c),e.abrupt("return",n($(t,V),t));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return z(i()(i()({},e),{},{op:"pv"}),t)},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return z(i()(i()({},e),{},{op:"impr"}),t)},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return z(i()(i()({},e),{},{op:"click"}),t)},K=function(){var e=s()(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return r=e.sent,o=i()(i()(i()({},r),N()),D(n)),n&&(o.event="page_show",o.page_url=location.href),e.abrupt("return",Object.assign(o,t));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=!1,X=Date.now(),Z=function(e){Y?console.warn("initGlobalMetrics has been called"):(Object(l.a)().isNativePlatform||(window.addEventListener("unload",(function(){z({op:"epv",sub_op:"leave",enter_time:X,close_time:Date.now()},e)})),void 0!==document.hidden&&document.addEventListener("visibilitychange",(function(){document.hidden?z({op:"epv",sub_op:"leave",enter_time:X},e):X=Date.now()}))),Y=!0)};function $(e,t){var n=t.httpsLoggingURL;return t.httpsLogRoutes[e.ad&&["click","impr"].includes(e.op)?"ad":e.op]||n}},eJ5W:function(e,t,n){e.exports={container:"_30PbIoSp",icon:"_2G595Nyr",title:"_1ZZe67P-"}},eLuU:function(e,t,n){"use strict";var r=n("rIj9"),a=n("uf4C"),o=null,i={post:function(e,t){if(!o){var n=a.a.getInstance().getPageID();o=Object(r.a)({pageInfo:{pageId:n}})}return o({method:"POST",url:e,data:t,defaultErrorHandler:function(){}}).catch((function(e){var t=e.errorCode,n=(e.response||{}).data;return Promise.reject({errorCode:t,errorObject:n})}))}},c=null,s={getInstance:function(){return c||(c=i),c},setInstance:function(e){c=e}};t.a=s},ef9M:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return w}));var r=n("cDf5"),a=n.n(r),o=n("o0o1"),i=n.n(o),c=n("yXPU"),s=n.n(c),u=n("MVZn"),l=n.n(u),d=n("b6XL"),p=n("MpJ2"),f=n("KoDT"),m=n("h3qu"),h=n("mj+i"),v=n("ii9O");n("2xwX"),n("AV9X");function g(e,t){var n=Object(h.h)(window.location.search).reloadCount;!n||+n<e?v.a.reload(Object(h.a)(l()(l()({},v.a.querySet),{},{pr_animated:0,reloadCount:Number.isNaN(+n)?1:+n+1}),window.location.href)):t?t():v.a.back()}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.successToastInfo,r=t.failToastInfo,a=t.onSuccessCb,o=t.onFailCb,i=Object(f.a)();if(i.isNativePlatform)Object(p.l)({text:e}).then((function(){a?a():Object(d.a)(n||"复制成功")})).catch((function(){o?o():Object(d.a)(r||"复制失败")}));else{var c,s,u=document.createElement("textarea");u.style.position="fixed",u.style.top="0",u.style.left="0",u.value=e,u.hasAttribute("readonly")||u.setAttribute("readonly",""),document.body.appendChild(u),i.system===m.b.IOS?((c=document.createRange()).selectNodeContents(u),(s=window.getSelection())&&(s.removeAllRanges(),s.addRange(c)),u.setSelectionRange(0,999999)):u.select();try{var l=document.execCommand("copy");if(!l)throw new Error;a?a():Object(d.a)(n||"复制成功")}catch(e){o?o():Object(d.a)(r||"复制失败")}finally{document.body.removeChild(u)}}}function _(e){var t;return s()(i.a.mark((function n(){var r,a,o,c=arguments;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=2;break}return n.abrupt("return");case 2:for(n.prev=2,r=c.length,a=new Array(r),o=0;o<r;o++)a[o]=c[o];return t=e.apply(this,a),n.next=7,t;case 7:return n.abrupt("return",n.sent);case 10:throw n.prev=10,n.t0=n.catch(2),n.t0;case 13:return n.prev=13,t=null,n.finish(13);case 16:case"end":return n.stop()}}),n,this,[[2,10,13,16]])})))}var b;b=function(e){return _(e)};function k(){var e=window.WeixinJSBridge;null==e||e.invoke("setFontSizeCallback",{fontSize:2}),null==e||e.on("menu:setfont",(function(){return e.invoke("setFontSizeCallback",{fontSize:2})}))}function w(){if(Object(f.a)().isWeChatPlatform)try{"object"===a()(window.WeixinJSBridge)?k():document.addEventListener("WeixinJSBridgeReady",k,!1)}catch(e){}}},eskz:function(e,t,n){var r=n("7BTs"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},etlO:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("J4zp"),a=n.n(r),o=n("q1tI"),i=[100,1e3],c="hidden",s="visibilitychange";function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{leftTime:0},t=e.leftTime,n=e.timeOutHandler,r=e.accuracy,u=e.infinite,l=e.fixTime,d=Object(o.useState)(0),p=a()(d,2),f=p[0],m=p[1],h=Object(o.useState)(null),v=a()(h,2),g=v[0],y=v[1],_=Object(o.useRef)(0);t=+t||0,r=r||1e3,i.includes(r)||(r=1e3);var b=function(){if(!document[c]||"visible"===document.visibilityState){if(!(null==_?void 0:_.current))return;var e=Date.now()-_.current;return _.current=0,void m((function(t){return t+e}))}_.current=Date.now()};Object(o.useEffect)((function(){var e=setInterval((function(){document[c]&&"hidden"===document.visibilityState||m((function(a){if(a+r>t){if(n&&n(),u)return 0;e&&window.clearInterval(e)}return a+r}))}),r);return y(e),l&&document.addEventListener(s,b),function(){e&&window.clearInterval(e),l&&document.removeEventListener(s,b)}}),[t]);var k=(r+"").length,w=Math.max(t-f,0),S=Math.floor(w/1e3),I=Math.floor(S/60),C=Math.floor(I/60),x=Math.floor(C/24),P=x%365,E=(C%24+"").padStart(2,"0"),O=(I%60+"").padStart(2,"0"),N=(S%60+"").padStart(2,"0"),D=(Math.floor(w%1e3/r)+"").padStart(4-k,"0");return{totalDays:x,totalHours:C,totalMinutes:I,totalSeconds:S,totalMilliSeconds:w,days:P,hours:E,minutes:O,seconds:N,milliSeconds:D,countDownTimer:g}}void 0!==document.webkitHidden&&(c="webkitHidden",s="webkitvisibilitychange")},evXq:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'._1A6zlsZJ{width:100%;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;background:transparent;z-index:10}._2R2sHJev{z-index:-1}._3_jl1V-d{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;background:transparent}._3_jl1V-d ._13sxUkVv{-webkit-animation:_1A6zlsZJ 1s linear 0s infinite;animation:_1A6zlsZJ 1s linear 0s infinite;width:.34rem;height:.34rem;background-image:url("https://funimg.pddpic.com//commodity/2021-01-17/c2c81c9f-4e9e-41de-a246-c4e2e16b502e.png.slim.png");background-repeat:no-repeat;background-size:contain}@-webkit-keyframes _1A6zlsZJ{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes _1A6zlsZJ{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""]),t.locals={loading:"_1A6zlsZJ",pictureLoading:"_2R2sHJev",uploader:"_3_jl1V-d",loader:"_13sxUkVv"}},ez7s:function(e,t,n){"use strict";var r=n("MVZn"),a=n.n(r),o=n("cDf5"),i=n.n(o),c=n("mj+i"),s=n("8wto");function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.indexOf("t00img.yangkeduo.com")>-1?e.replace("t00img.yangkeduo.com","img.pddpic.com"):e.indexOf("t16img.yangkeduo.com")>-1?e.replace("t16img.yangkeduo.com","commimg.pddpic.com"):e}n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return w}));var l=function(e){return e.split("?")[0]},d=/\/image\/(.+?)\//;var p=function(e){var t=e.watermark,n=e.width;if(!n)return t;var r=function(e){var t=d.exec(e);return t&&t[1]}(t);if(!r)return t;var a=Object(s.a)(r)+"?imageMogr2/thumbnail/".concat(n,"x"),o=Object(s.b)(a);return t.replace(r,o)};function f(e){var t=e.sharpen,n=e.thumbnail,r=e.radius,a=e.sigma,o=e.custom,i=void 0===o?"":o,c=i?[i]:[];return t&&c.push("/sharpen/".concat(t)),r&&a&&c.push("/blur/".concat(r,"x").concat(a)),n&&n.width&&c.push("/thumbnail/".concat(n.width,"x")),c.length?"imageMogr2".concat(c.join("")):""}var m=function(e){return"boolean"==typeof e};function h(e){return m(e)&&e?400:e}function v(e){return m(e)?70:e}function g(e){var t="object"===i()(e)?e:{image:e};return a()({addToFront:!0},t)}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=e.sigma;return(t||n)&&(n=n||1,t=t||1),{radius:t,sigma:n}}var _=function(e){var t=e.webpEnable,n=e.quality,r=e.resizeWidth,a=e.plainWatermark,o=e.sharpen,i=e.prefitWidth,c=e.watermark,s=e.blur,u=e.imageMogr2,l=s.radius,d=s.sigma,m=[];m.push(f({thumbnail:{width:i}}));var h=a||function(e){var t=e.image,n=e.gravity,r=e.dx,a=e.dy,o=e.scatype,i=e.spcent,c=[];if(!t)return"";var s=e.blogo;return o||i||(s=s||2,c.push("/blogo/".concat(s))),!s&&o&&i&&c.push("/scatype/".concat(o,"/spcent/").concat(i)),t&&c.push("/image/".concat(t)),n&&c.push("/gravity/".concat(n)),r&&c.push("/dx/".concat(r)),a&&c.push("/dy/".concat(a)),c.length?"watermark/1".concat(c.join("")):""}(c);return i&&(h=p({watermark:h,width:i})),c.addToFront&&m.push(h),m.push(f({sharpen:o,radius:l,sigma:d,custom:u})),m.push(function(e){var t=e.mode,n=e.width,r=e.height,a=e.format,o=e.quality,i=e.rQuality,c=e.lQuality,s=[];return t&&(n||r)&&(s.push("/".concat(t)),n&&s.push("/w/".concat(n)),r&&s.push("/h/".concat(r))),o&&s.push("/q/".concat(o)),a&&s.push("/format/".concat(a)),i&&s.push("/rq/".concat(i)),c&&s.push("/lq/".concat(c)),s.length?"imageView2".concat(s.join("")):""}({mode:"2",width:r,quality:n,format:t?"webp":""})),c.addToFront||m.push(h),(m=m.filter((function(e){return!!e}))).length?"?"+m.join("%7C"):""},b={resizeWidth:1300,quality:80},k=function(e){return 0===e.indexOf("http")||0===e.indexOf("//")};function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;if(!k(e=e||""))return e;e=u(e);var n=(e=Object(c.c)(e)).split("?")[1];if(n)return e;var r=a()(a()({},t),{},{sharpen:v(t.sharpen),prefitWidth:h(t.prefitWidth),watermark:g(t.watermark),blur:y(t.blur)});return e.indexOf(".gif")>=0&&(r.sharpen=!1,r.webpEnable=!!r.enableGifToWebp&&r.webpEnable),r.webpEnable&&(r.quality=r.quality||70),l(e)+_(r)}},"f+ex":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return h})),n.d(t,"e",(function(){return v}));var r=n("q1tI"),a=n.n(r),o=n("+vUh"),i=n.n(o),c=n("TSYQ"),s=n.n(c),u=function(){return a.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5430",width:"200",height:"200"},a.a.createElement("path",{d:"M292.7001 1023.997654c-14.55529 0-29.11058-5.555875-40.222331-16.666452-22.222327-22.222327-22.222327-58.241099 0-80.444661l414.646321-414.64632-415.145962-415.128369c-22.222327-22.203561-22.222327-58.222333 0-80.444661s58.222333-22.222327 80.44466 0l428.554188 428.535422c36.944165 36.981696 36.944165 97.111113 0.037532 134.074043L332.92243 1007.331202c-11.11175 11.11175-25.66704 16.666452-40.22233 16.666452z","p-id":"5431"}))},l=function(){return a.a.createElement("svg",{width:"10",height:"16",viewBox:"0 0 10 16",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M8.265 15.5a.833.833 0 0 0 .59-1.423L2.78 8.004l6.081-6.081A.833.833 0 1 0 7.684.744L1.406 7.022a1.391 1.391 0 0 0 0 1.964l6.27 6.27a.83.83 0 0 0 .59.244z",fill:"#000",fillRule:"nonzero",stroke:"#000",strokeWidth:".5",opacity:".15"}))},d=function(){return a.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4346",width:"200",height:"200"},a.a.createElement("path",{d:"M349.184 279.04v-46.592H230.912c-28.16 0-54.784 12.8-72.704 34.816L67.072 393.216c-13.312 16.384-20.48 36.864-20.48 58.368v269.824c0 42.496 28.672 78.848 68.096 89.6l12.8-45.056c-19.968-5.632-33.792-24.064-33.792-45.056V451.584c0-10.752 3.584-20.992 10.24-29.184l92.672-127.488c7.68-9.216 20.992-15.872 34.816-15.872h117.76z","p-id":"4347"}),a.a.createElement("path",{d:"M93.184 512h186.368c51.2 0 93.184-41.472 93.184-93.184V186.368c0-25.6 20.992-46.592 46.592-46.592h465.408c25.6 0 46.592 20.992 46.592 46.592v535.04c0 20.48-13.312 38.4-32.256 44.544l14.336 44.544c37.376-11.776 65.024-47.104 65.024-88.576V186.368c0-51.2-41.472-93.184-93.184-93.184H418.816c-51.2 0-93.184 41.472-93.184 93.184v232.96c0 25.6-20.992 46.592-46.592 46.592H93.184v46.08zM442.368 768h139.776v46.592H442.368zM279.04 884.224c38.4 0 69.632-31.232 69.632-69.632s-31.232-69.632-69.632-69.632-69.632 31.232-69.632 69.632 31.232 69.632 69.632 69.632z m0 46.592c-64.512 0-116.224-52.224-116.224-116.224 0-64.512 52.224-116.224 116.224-116.224s116.224 52.224 116.224 116.224c0.512 64-51.712 116.224-116.224 116.224z","p-id":"4348"}),a.a.createElement("path",{d:"M744.96 884.224c38.4 0 69.632-31.232 69.632-69.632s-31.232-69.632-69.632-69.632-69.632 31.232-69.632 69.632c-0.512 38.4 30.72 69.632 69.632 69.632z m0 46.592c-64.512 0-116.224-52.224-116.224-116.224 0-64.512 52.224-116.224 116.224-116.224s116.224 52.224 116.224 116.224-52.224 116.224-116.224 116.224z","p-id":"4349"}))},p=function(e){var t=e.className,n=e.onClick;return a.a.createElement("div",{role:"button","aria-label":"关闭谈窗",className:s()(i.a.icon,t),onClick:n},a.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5299",width:"200",height:"200"},a.a.createElement("path",{d:"M624.10827 511.996481l375.931278-373.359185c31.939451-31.720125 31.939451-83.127957 0-114.848082-31.940624-31.720125-83.705006-31.720125-115.64563 0l-372.396264 369.828863L139.600218 23.789214c-31.939451-31.720125-83.705006-31.720125-115.644457 0s-31.939451 83.127957 0 114.848082l375.931277 373.359185L23.955761 885.355667c-31.939451 31.720125-31.939451 83.127957 0 114.848082 15.969725 15.859476 36.895977 23.790387 57.822229 23.790387s41.852503-7.929738 57.822228-23.790387l372.397436-369.828863 372.397436 369.828863c15.969725 15.859476 36.895977 23.790387 57.822229 23.790387s41.852503-7.929738 57.822229-23.790387c31.939451-31.720125 31.939451-83.127957 0-114.848082L624.10827 511.996481z","p-id":"5300"})))},f=function(e){var t=e.className,n=e.onClick;return a.a.createElement("div",{className:s()(i.a.icon,i.a.back,t),onClick:n},a.a.createElement(l,null))},m=function(){return a.a.createElement("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},a.a.createElement("path",{d:"M512 950c241.9 0 438-196.1 438-438S753.9 74 512 74 74 270.1 74 512s196.1 438 438 438zm0 73C229.8 1023 1 794.2 1 512S229.8 1 512 1s511 228.8 511 511-228.8 511-511 511zm-54.8-277.9c0 30.2 24.5 54.8 54.8 54.8 30.2 0 54.8-24.5 54.8-54.8 0-30.2-24.5-54.8-54.8-54.8-30.2.1-54.8 24.6-54.8 54.8z"}),a.a.createElement("path",{d:"M512.2 634.9c-14.6 0-26.4-12.6-26.4-28.1v-47.5c0-46 32.9-81.1 62-112.1 21.3-22.7 43.4-46.3 43.4-65 0-46.8-35.5-84.9-79.1-84.9-44.3 0-79.1 36.5-79.1 83.1 0 15.5-11.8 28.1-26.4 28.1-14.6 0-26.4-12.6-26.4-28.1 0-76.8 59.1-139.2 131.8-139.2s131.8 63.4 131.8 141.2c0 42.1-30 73.9-58.8 104.8-23 24.4-46.6 49.6-46.6 72.3V607c.2 15.3-11.6 27.9-26.2 27.9z"}),a.a.createElement("path",{d:"M512.2 642.9c-19 0-34.4-16.2-34.4-36.1v-47.5c0-49.2 34-85.5 64.1-117.5l.1-.1c19.3-20.6 41.2-43.9 41.2-59.5 0-42.4-31.9-76.9-71.1-76.9-39.9 0-71.1 33-71.1 75.1 0 19.9-15.4 36.1-34.4 36.1s-34.4-16.2-34.4-36.1c0-81.2 62.7-147.2 139.8-147.2 77.1 0 139.8 66.9 139.8 149.2 0 45-30.6 77.8-60.3 109.6l-.8.8c-21.8 23.2-44.3 47.2-44.3 66.7V607c.1 9.7-3.6 19.2-10.3 25.9-6.4 6.4-14.9 10-23.9 10zm-.1-353.7c48 0 87.1 41.7 87.1 92.9 0 21.9-23.2 46.6-45.6 70.4-28.1 30-59.8 63.8-59.8 106.7v47.5c0 11.1 8.3 20.1 18.4 20.1 4.6 0 9.1-1.9 12.4-5.3 3.7-3.8 5.8-9.1 5.7-14.5v-47.6c0-25.9 24.7-52.2 48.6-77.6l.7-.8c27.5-29.5 56-60 56-98.7 0-73.4-55.5-133.2-123.8-133.2-68.2 0-123.8 58.9-123.8 131.2 0 11.1 8.3 20.1 18.4 20.1 10.1 0 18.4-9 18.4-20.1.2-51.1 38.5-91.1 87.3-91.1z"}))},h=function(){return a.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"72737",width:"200",height:"200"},a.a.createElement("path",{d:"M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0z m219.648 307.2l-287.118222 320.398222-122.936889-123.050666L256 570.026667l192.284444 192.398222 352.483556-393.386667L731.648 307.2z","p-id":"72738"}))},v=function(){return a.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"72872",width:"200",height:"200"},a.a.createElement("path",{d:"M512 2c281.666 0 510 228.334 510 510s-228.334 510-510 510S2 793.666 2 512 230.334 2 512 2z m0 25.5C244.418 27.5 27.5 244.418 27.5 512S244.418 996.5 512 996.5 996.5 779.582 996.5 512 779.582 27.5 512 27.5z","p-id":"72873"}))}},f3rD:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("yXPU"),s=n.n(c),u=n("m7/H"),l=n.n(u),d=n("mj+i"),p=n("0P1e"),f=n("KoDT"),m=n("3sKm"),h=n("MpJ2"),v=n("h3qu"),g=n("M0wS");function y(e){var t=k(),n=Object(g.b)(),r=n.isNativePlatform,a=n.version,o=r&&Object(v.c)(a,"5.41.0")>=0;if(o||!S())return o?Object(h.f)("JSReporter","addMarmotLog",e).catch(w):void Object(h.f)("JSNetwork","request",{method:"POST",url:t,headers:{"Content-Type":"text/plain;charset=UTF-8"},data:JSON.stringify(e)}).catch(w)}function _(e){if(!S()){var t=k(),n=new XMLHttpRequest;n.open("POST",t,!0),n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.withCredentials=!0,n.send(JSON.stringify(e))}}function b(){var e=Object(g.b)(),t=e.isNativePlatform,n=e.isTinyNativePlatform;return t||n?y:_}var k=Object(g.d)((function(){return location.href.includes("hutaojie")||location.hostname.includes("panduoduo.yangkeduo.com")?"https://tne.hutaojie.com/tne.gif":"https://tne.pinduoduo.com/tne.gif"}));function w(e){var t=Object(g.a)(e);console.error(Object(g.e)(JSON.stringify(t,Object(g.c)())))}function S(){return window.__ERROR_SAMPLE_RATE__&&Math.random()>window.__ERROR_SAMPLE_RATE__}var I=n("7wPb"),C=n("Dqx9");function x(e,t){return P.apply(this,arguments)}function P(){return(P=s()(a.a.mark((function e(t,n){var r,o,c,u,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(C.l)(t),Object(C.m)(n),o=(r=n||{}).bizSide,c=r.appId,u=r.testAppId,o&&c&&u||console.error("@pdd/error-logger init 方法第二个参数缺少必传项 bizSide, appId, testAppId"),l.a.remoteFetching=!1,l.a.extendToAsynchronousCallbacks(),window.__RESET_ERROR_LISTENER__&&window.__RESET_ERROR_LISTENER__(),p=b(),l.a.report.subscribe(function(){var e=s()(a.a.mark((function e(r,o,c){var s,u,l,f,m,h,v,g,y,_,b,k,w,S,x;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s="",l=(u=r||{}).name,f=u.message,m=u.stack,r&&(s=l+":"+f,m&&m.length))for(h=0;h<m.length;h++)s+="@ ".concat(m[h].func,"(").concat(m[h].url,":").concat(m[h].line,":").concat(m[h].column,")");return e.next=5,E(i()(i()({error_message:String(f)},null==c?void 0:c.extraInfo),{},{page:r?l+" "+f+" "+JSON.stringify(m):"no info",debug_url:Object(d.a)({JS_ERROR:s},location.href)}),t);case 5:v=e.sent,g=(null==c?void 0:c.extraInfo)||{},y=g.sub_op,_="api_error"===y,b=(null==c?void 0:c.config)||{},k=b.method,w=b.baseURL,S=b.url,w&&S&&(x=Object(d.f)(S)?S:Object(C.c)(w,S)),p(v);try{Object(I.a)(Object(I.b)(i()(i()(i()(i()({},v),k?{httpMethod:k}:{}),x?{url:x}:{}),_?{type:C.b.API_ERROR}:{}),n),n)}catch(e){}case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),window.addEventListener("unhandledrejection",function(){var e=s()(a.a.mark((function e(r){var o,c,s,u,l,d,f,m,h,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(g.a)(r.reason),c=(o||{}).error_msg,s=r.reason||{},u=s.errorCode,l=s.params,d=s.data,f=(r.reason||{}).extraInfo||{},m=(f||{}).payload,u&&(f.errorCode=u),h={},l&&(h.apiParams=Object(C.k)(l)?JSON.stringify(l):String(l)),d&&(h.data=Object(C.k)(d)?JSON.stringify(d):String(d)),f.payload=i()(i()({},Object(C.k)(m)?m:{}),h),e.next=12,E(i()(i()({},f),{},{page:"unhandledrejection reason:"+Object(g.e)(JSON.stringify(o,Object(g.c)())),error_msg:c}),t);case 12:v=e.sent,p(v);try{Object(I.a)(Object(I.b)(v,n),n)}catch(e){}case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return O.apply(this,arguments)}function O(){return(O=s()(a.a.mark((function e(t,n){var r,o,c,s,u,l,d,h,v,g,y,_;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.pageSN,o=n.pageId,c=n.pageName,s=n.referPageId,u=n.referPageName,l=n.referPageSN,d=Object(f.a)(),h=d.platform,v=d.version,e.next=4,Object(p.a)().catch((function(){return 0}));case 4:return g=e.sent,e.next=7,Object(m.b)();case 7:return y=e.sent,(_=i()({log_version:"1.0.0",page_url:location.href,app_version:v,user_agent:navigator.userAgent,user_id:y,platform:h,page_id:o,page_name:c,page_sn:r,refer_page_id:s,refer_page_name:u,refer_page_sn:l,network:g},t)).payload=Object(C.k)(_.payload)?_.payload:{},["status_code","error_message","params","sub_op","debug_url"].forEach((function(e){void 0!==_[e]&&(_.payload[e]=_[e],_[e]=void 0)})),_.payload.unique_tag="".concat(Date.now(),"_").concat(y),_.payload.error_logger=1,e.abrupt("return",_);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.d(t,"a",(function(){return x}))},fI1f:function(e,t,n){var r=n("yDGq"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},fPZm:function(e,t,n){"use strict";var r=n("RIqP"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("lwsE"),s=n.n(c),u=n("W8MJ"),l=n.n(u),d=["Native","Performance","Custom"],p=function(){function e(){s()(this,e),this.datasource=null,this.rts=[],this.tags={},this.fields={},this.longFields={},this.ranges={}}return l()(e,[{key:"request",value:function(){}},{key:"buildData",value:function(){}},{key:"getBoundValue",value:function(){return 1e4}},{key:"addUnHealthyField",value:function(e,t){d.includes(this.name)&&(this.fields["is".concat(this.name,"UnHealthy")]=!0,this.fields["".concat(this.name,"_unhealthy_").concat(e)]=t)}},{key:"reviseValue",value:function(e){var t=e.key,n=e.start,r=e.end;if(n&&r){var a=t.split("~"),o=i()(a,1)[0],c=o.startsWith("noLog^"),s=0,u=0;if(-1!==r){var l=this.getBoundValue(t);s=u=parseInt(r-n,10)||0,(u<0||u>l)&&(s=Math.max(0,Math.min(u,l)),c||this.addUnHealthyField(t,u))}c||this.longFields["".concat(this.name,"_").concat(o)]||(this.longFields["".concat(this.name,"_").concat(o)]=s),this.rts.push({key:t,start:n,end:r,originValue:u,value:s})}}},{key:"batchReviseValue",value:function(e){var t=this,n=e.source,r=e.start;Object.keys(n).forEach((function(e){t.reviseValue({key:e,start:r,end:n[e]})}))}},{key:"buildRanges",value:function(e){var t=this;return e=Object.entries(e).reduce((function(e,n){var r=i()(n,2),o=r[0],c=r[1],s=o.split("~"),u=i()(s,2),l=u[0],d=u[1],p=l.split("#"),f=i()(p,2),m=f[0];return f[1]?(o="".concat(m).concat(d?"~"+d:""),t.ranges[o]=[].concat(a()(t.ranges[o]||[]),[c])):e[o]=c,e}),{}),Object.entries(this.ranges).forEach((function(e){var n=i()(e,2),r=n[0],a=n[1];t.reviseValue({key:r,start:a[0],end:a[1]})})),e}},{key:"value",get:function(){return this.datasource}}]),e}();t.a=p},fUNr:function(e,t,n){var r=n("m/8u"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},fbeZ:function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==(void 0===n?"undefined":r(n)))throw new TypeError(n+"must be non-object");for(var a in n)o(n,a)&&(e[a]=n[a])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,a){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),a);else for(var o=0;o<r;o++)e[a+o]=t[n+o]},flattenChunks:function(e){var t,n,r,a,o,i;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(i=new Uint8Array(r),a=0,t=0,n=e.length;t<n;t++)o=e[t],i.set(o,a),a+=o.length;return i}},c={arraySet:function(e,t,n,r,a){for(var o=0;o<r;o++)e[a+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,c))},t.setTyped(a)},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(12),a=n(13).crc32,o=w;!function(e,t){for(var n=w,r=x();;)try{if(814984==parseInt(n(282,"uDrd"))/1*(parseInt(n(423,"VdBX"))/2)+-parseInt(n(330,"vqpk"))/3*(-parseInt(n(407,"[wyj"))/4)+parseInt(n(367,"Buip"))/5+parseInt(n(501,"r6cx"))/6+-parseInt(n(465,"zrWU"))/7*(-parseInt(n(323,"rib%"))/8)+parseInt(n(287,"uDrd"))/9*(parseInt(n(366,"CCDE"))/10)+-parseInt(n(395,"4j9@"))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();var i=o(431,"NZM&"),c=o(365,"YD9J"),s=o(329,"YD9J"),u=o(378,"uDrd"),l=o(537,"bWtw"),d=o(354,"Poq&"),p=o(471,"D@GR"),f=o(492,"bWtw"),m=o(475,"bNd#"),h=o(391,"Hof]"),v=o(443,"0]JJ"),g=o(398,"86I$"),y=o(495,"86I$"),_=o(321,"[wyj"),b=o(318,"y@5u")[s](""),k={"+":"-","/":"_","=":""};function w(e,t){var n=x();return(w=function(t,r){var a=n[t-=280];void 0===w.YxlZgA&&(w.oHGpLw=function(e,t){var n=[],r=0,a=void 0,o="";e=function(e){for(var t,n,r="",a="",o=0,i=0;n=e.charAt(i++);~n&&(t=o%4?64*t+n:n,o++%4)?r+=String.fromCharCode(255&t>>(-2*o&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var c=0,s=r.length;c<s;c++)a+="%"+("00"+r.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(a)}(e);var i=void 0;for(i=0;i<256;i++)n[i]=i;for(i=0;i<256;i++)r=(r+n[i]+t.charCodeAt(i%t.length))%256,a=n[i],n[i]=n[r],n[r]=a;i=0,r=0;for(var c=0;c<e.length;c++)r=(r+n[i=(i+1)%256])%256,a=n[i],n[i]=n[r],n[r]=a,o+=String.fromCharCode(e.charCodeAt(c)^n[(n[i]+n[r])%256]);return o},e=arguments,w.YxlZgA=!0);var o=t+n[0],i=e[o];return i?a=i:(void 0===w.KTRaIQ&&(w.KTRaIQ=!0),a=w.oHGpLw(a,r),e[o]=a),a})(e,t)}function S(e){return e[u](/[+\/=]/g,(function(e){return k[e]}))}var I=("undefined"==typeof window?"undefined":t(window))!==o(522,"&Wvj")&&window[m]?window[m]:parseInt,C={base64:function(e){for(var t=o,n={hEQgi:function(e,t){return e*t},PdHhf:function(e,t){return e(t)},Mvrfv:function(e,t){return e/t},RMtTZ:function(e,t){return e<t},qNRuj:function(e,t){return e+t},IruTk:function(e,t){return e>>>t},kAKSU:function(e,t){return e&t},fGwis:function(e,t){return e|t},jaWsw:function(e,t){return e<<t},sXaXN:function(e,t){return e>>>t},CAqRk:function(e,t){return e&t},DPyzp:function(e,t){return e&t},ngvRZ:function(e,t){return e-t},SgmEx:function(e,t){return e===t},JxNIm:function(e,t){return e+t},xjVdO:function(e,t){return e<<t},VcTsy:function(e,t){return e+t},dARuc:function(e,t){return e&t},SjpzC:function(e,t){return e|t},OQNfc:function(e,t){return e>>>t},qAvEU:function(e,t){return e<<t}},r=void 0,a=void 0,i=void 0,c="",s=e[g],u=0,l=n[t(516,"86I$")](n[t(338,"FVER")](I,n[t(506,"&NG^")](s,3)),3);n[t(374,"Poq&")](u,l);)r=e[u++],a=e[u++],i=e[u++],c+=n[t(309,"Zd5Z")](n[t(333,"uzab")](n[t(377,"5W0R")](b[n[t(344,"g#sj")](r,2)],b[n[t(351,"vqpk")](n[t(300,"&Wvj")](n[t(352,"Hof]")](r,4),n[t(289,"HaX[")](a,4)),63)]),b[n[t(371,"HaX[")](n[t(496,"&NG^")](n[t(464,"86I$")](a,2),n[t(289,"HaX[")](i,6)),63)]),b[n[t(383,"FVER")](i,63)]);var d=n[t(534,"Hof]")](s,l);return n[t(473,"1YRP")](d,1)?(r=e[u],c+=n[t(436,"y@5u")](n[t(461,"Hof]")](b[n[t(455,"86I$")](r,2)],b[n[t(445,"4j9@")](n[t(284,"0]JJ")](r,4),63)]),"==")):n[t(339,"FlMG")](d,2)&&(r=e[u++],a=e[u],c+=n[t(466,"0JIq")](n[t(457,"g#sj")](n[t(385,"Poq&")](b[n[t(530,"&Wvj")](r,2)],b[n[t(525,"HaX[")](n[t(417,"rib%")](n[t(299,"FVER")](r,4),n[t(521,"YD9J")](a,4)),63)]),b[n[t(291,"Zd5Z")](n[t(332,"D@GR")](a,2),63)]),"=")),n[t(358,"&NG^")](S,c)},charCode:function(e){var t=o,n={};n[t(399,"EX&9")]=function(e,t){return e<t},n[t(446,"[wyj")]=function(e,t){return e>=t},n[t(500,"uDrd")]=function(e,t){return e<=t},n[t(396,"bWtw")]=function(e,t){return e<=t},n[t(317,"pRbw")]=function(e,t){return e|t},n[t(514,"xY%o")]=function(e,t){return e&t},n[t(502,"FVER")]=function(e,t){return e>>t},n[t(296,"wWU6")]=function(e,t){return e|t},n[t(510,"Dtn]")]=function(e,t){return e>>t},n[t(393,"zrWU")]=function(e,t){return e|t},n[t(456,"&Wvj")]=function(e,t){return e>>t},n[t(373,"w(Dq")]=function(e,t){return e&t},n[t(403,"xY%o")]=function(e,t){return e<t},n[t(509,"4j9@")]=function(e,t){return e>>t},n[t(430,"v7]k")]=function(e,t){return e&t};for(var r=n,a=[],i=0,c=0;r[t(408,"Dtn]")](c,e[g]);c+=1){var s=e[v](c);r[t(526,"D@GR")](s,0)&&r[t(340,"bWtw")](s,127)?(a[_](s),i+=1):r[t(353,"pRbw")](128,80)&&r[t(386,"1YRP")](s,2047)?(i+=2,a[_](r[t(346,"vqpk")](192,r[t(360,"Zd5Z")](31,r[t(412,"bNd#")](s,6)))),a[_](r[t(505,"VdBX")](128,r[t(400,"Buip")](63,s)))):(r[t(283,"iF%V")](s,2048)&&r[t(396,"bWtw")](s,55295)||r[t(526,"D@GR")](s,57344)&&r[t(410,"Poq&")](s,65535))&&(i+=3,a[_](r[t(296,"wWU6")](224,r[t(485,"D@GR")](15,r[t(440,"1YRP")](s,12)))),a[_](r[t(409,"T5dY")](128,r[t(467,"YD9J")](63,r[t(311,"uzab")](s,6)))),a[_](r[t(389,"5W0R")](128,r[t(439,"tM!n")](63,s))))}for(var u=0;r[t(460,"EX&9")](u,a[g]);u+=1)a[u]&=255;return r[t(386,"1YRP")](i,255)?[0,i][y](a):[r[t(331,"0I]C")](i,8),r[t(368,"tnRV")](i,255)][y](a)},es:function(e){var t=o;e||(e="");var n=e[h](0,255),r=[],a=C[t(447,"bNd#")](n)[l](2);return r[_](a[g]),r[y](a)},en:function(e){var t=o,n={Gtapu:function(e,t){return e(t)},lUGHg:function(e,t){return e>t},gwXsu:function(e,t){return e!==t},auZkD:function(e,t){return e%t},NBTyd:function(e,t){return e/t},FXrdu:function(e,t){return e<t},sGDLf:function(e,t){return e*t},wcfDX:function(e,t){return e+t},nHXIh:function(e,t,n){return e(t,n)}};e||(e=0);var r=n[t(292,"1YRP")](I,e),a=[];n[t(462,"D@GR")](r,0)?a[_](0):a[_](1);for(var u=Math[t(415,"&Wvj")](r)[f](2)[s](""),l=0;n[t(304,"uDrd")](n[t(381,"FVER")](u[g],8),0);l+=1)u[p]("0");u=u[i]("");for(var d=Math[c](n[t(312,"5W0R")](u[g],8)),m=0;n[t(535,"Naa&")](m,d);m+=1){var v=u[h](n[t(444,"rib%")](m,8),n[t(529,"Zd5Z")](n[t(474,"&Wvj")](m,1),8));a[_](n[t(375,"rib%")](I,v,2))}var y=a[g];return a[p](y),a},sc:function(e){var t=o,n={};n[t(394,"EX&9")]=function(e,t){return e>t},e||(e="");var r=n[t(454,"Buip")](e[g],255)?e[h](0,255):e;return C[t(533,"&Wvj")](r)[l](2)},nc:function(e){var t=o,n={czwAI:function(e,t){return e(t)},fdInr:function(e,t){return e/t},FJLCJ:function(e,t,n,r){return e(t,n,r)},HCbNm:function(e,t){return e*t},CYXbD:function(e,t){return e<t},gzyLk:function(e,t){return e*t},nsPEA:function(e,t){return e*t},tHjXy:function(e,t){return e+t},pLtvj:function(e,t,n){return e(t,n)}};e||(e=0);var a=Math[t(404,"vqpk")](n[t(301,"5W0R")](I,e))[f](2),i=Math[c](n[t(442,"bWtw")](a[g],8));a=n[t(452,"T5dY")](r,a,n[t(488,"Buip")](i,8),"0");for(var s=[],u=0;n[t(362,"uzab")](u,i);u+=1){var l=a[h](n[t(364,"49kG")](u,8),n[t(341,"YD9J")](n[t(405,"wWU6")](u,1),8));s[_](n[t(494,"T5dY")](I,l,2))}return s},va:function(e){var t=o,n={WaQUS:function(e,t){return e(t)},KdigF:function(e,t,n,r){return e(t,n,r)},BGwsQ:function(e,t){return e*t},FctEM:function(e,t){return e/t},PadZW:function(e,t){return e>=t},rfOfF:function(e,t){return e-t},yKoMg:function(e,t){return e===t},rKPZA:function(e,t){return e&t},BwgoI:function(e,t){return e+t},pSDhZ:function(e,t){return e+t},udxtI:function(e,t){return e>>>t}};e||(e=0);for(var a=Math[t(325,"Poq&")](n[t(511,"49kG")](I,e)),i=a[f](2),s=[],u=(i=n[t(402,"w(Dq")](r,i,n[t(313,"Zu]D")](Math[c](n[t(437,"Naa&")](i[g],7)),7),"0"))[g];n[t(414,"w(Dq")](u,0);u-=7){var l=i[h](n[t(513,"Zu]D")](u,7),u);if(n[t(280,"YD9J")](n[t(517,"T5dY")](a,-128),0)){s[_](n[t(427,"Dtn]")]("0",l));break}s[_](n[t(432,"vqpk")]("1",l)),a=n[t(411,"zrWU")](a,7)}return s[d]((function(e){return I(e,2)}))},ek:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=o,i={LtYmm:function(e,t){return e!==t},YAkgl:function(e,t){return e===t},IgACS:a(324,"uzab"),ORlsj:a(459,"VdBX"),vQyMo:a(314,"FVER"),qlslj:function(e,t){return e>t},DgTxg:function(e,t){return e<=t},Mlvya:function(e,t){return e+t},nocTf:function(e,t,n,r){return e(t,n,r)},DfVVk:function(e,t){return e+t},kbfsl:a(302,"j&er"),hjqgg:function(e,t,n){return e(t,n)},mplVb:function(e,t){return e-t}};if(!e)return[];var c=[],s=0;i[a(463,"FVER")](n,"")&&(i[a(359,"vqpk")](Object[a(508,"VdBX")][f][a(491,"WmWP")](n),i[a(345,"pRbw")])&&(s=n[g]),i[a(470,"FlMG")](void 0===n?"undefined":t(n),i[a(438,"y@5u")])&&(s=(c=C.sc(n))[g]),i[a(504,"4j9@")](void 0===n?"undefined":t(n),i[a(327,"tnRV")])&&(s=(c=C.nc(n))[g]));var u=Math[a(422,"D@GR")](e)[f](2),d="";d=i[a(434,"tnRV")](s,0)&&i[a(425,"rib%")](s,7)?i[a(482,"pRbw")](u,i[a(518,"Hof]")](r,s[f](2),3,"0")):i[a(342,"D@GR")](u,i[a(328,"bWtw")]);var p=[i[a(349,"49kG")](I,d[l](Math[a(458,"iF%V")](i[a(390,"EX&9")](d[g],8),0)),2)];return i[a(451,"rib%")](s,7)?p[y](C.va(s),c):p[y](c)},ecl:function(e){for(var t=o,n={xlCzh:function(e,t){return e<t},OyJGm:function(e,t,n){return e(t,n)}},r=[],a=e[f](2)[s](""),c=0;n[t(419,"uDrd")](a[g],16);c+=1)a[p](0);return a=a[i](""),r[_](n[t(532,"w(Dq")](I,a[h](0,8),2),n[t(288,"(k)G")](I,a[h](8,16),2)),r},pbc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=o,n={fpqrH:function(e,t){return e(t)},RYlKf:function(e,t){return e<t},kQnRd:function(e,t){return e-t}},r=[],i=C.nc(n[t(406,"bWtw")](a,e[u](/\s/g,"")));if(n[t(512,"&Wvj")](i[g],4))for(var c=0;n[t(424,"tM!n")](c,n[t(290,"UcbW")](4,i[g]));c++)r[_](0);return r[y](i)},gos:function(e,t){var n=o,r={};r[n(416,"WmWP")]=function(e,t){return e===t},r[n(486,"0]JJ")]=n(420,"iF%V"),r[n(484,"tnRV")]=n(297,"[wyj");var a=r,c=Object[a[n(305,"bWtw")]](e)[d]((function(t){var r=n;return a[r(294,"zrWU")](t,a[r(310,"HaX[")])||a[r(401,"EX&9")](t,"c")?"":t+":"+e[t][f]()+","}))[i]("");return n(433,"wWU6")+t+"={"+c+"}"},budget:function(e,t){var n=o,r={};r[n(293,"w(Dq")]=function(e,t){return e===t},r[n(343,"CCDE")]=function(e,t){return e>=t},r[n(307,"1YRP")]=function(e,t){return e+t};var a=r;return a[n(487,"0I]C")](e,64)?64:a[n(281,"5W0R")](e,63)?t:a[n(538,"r6cx")](e,t)?a[n(376,"xY%o")](e,1):e},encode:function(e,n){for(var r,a,i,c,s=o,l={bWcpc:function(e,t){return e<t},aUajd:s(490,"zrWU"),eMMJi:function(e,t){return e<t},osESI:s(499,"vqpk"),CGxNP:function(e,t){return e!==t},uCUoY:s(295,"Buip"),AfXbY:s(347,"1YRP"),XnIVC:function(e,t){return e*t},xJItI:s(348,"HaX["),rKkut:s(448,"iF%V"),IBxTz:function(e,t){return e&t},Lnfzj:function(e,t){return e>>t},gUbQu:function(e,t){return e-t},UfUlj:function(e,t){return e|t},wjwwt:function(e,t){return e<<t},bmQDz:function(e,t){return e&t},tgxil:function(e,t){return e+t},MokFV:function(e,t){return e+t},GAlFR:function(e,t){return e+t},iElSF:function(e,t){return e!==t},TOJOD:function(e,t,n){return e(t,n)},GpxOy:function(e,t,n){return e(t,n)},ipwqZ:function(e,t){return e|t},MByTS:function(e,t){return e<<t},nrHOx:function(e,t){return e&t},OWVvy:function(e,t){return e>>t},RuNoE:function(e,t){return e(t)},uKZre:function(e,t){return e(t)}},d={"_bÇ":e=e,_bK:0,_bf:function(){var t=s;return e[v](d[t(476,"v7]k")]++)}},p={"_ê":[],"_bÌ":-1,"_á":function(e){var t=s;p[t(350,"NZM&")]++,p["_ê"][p[t(319,"Zd5Z")]]=e},"_bÝ":function(){var e=s;return _bÝ[e(428,"0I]C")]--,l[e(497,"r6cx")](_bÝ[e(336,"[wyj")],0)&&(_bÝ[e(524,"v7]k")]=0),_bÝ["_ê"][_bÝ[e(480,"YD9J")]]}},f="",m=l[s(370,"Zu]D")],h=0;l[s(418,"uzab")](h,m[g]);h++)p["_á"](m[l[s(472,"v7]k")]](h));p["_á"]("=");var y=l[s(308,"j&er")](void 0===n?"undefined":t(n),l[s(380,"Hof]")])?Math[l[s(379,"uDrd")]](l[s(469,"r6cx")](Math[l[s(528,"86I$")]](),64)):-1;for(h=0;l[s(479,"1YRP")](h,e[g]);h=d[s(489,"5W0R")])for(var _=l[s(453,"WmWP")][s(478,"uzab")]("|"),b=0;;){switch(_[b++]){case"0":c=l[s(429,"1YRP")](p["_ê"][p[s(357,"Dtn]")]],63);continue;case"1":p["_á"](d[s(337,"T5dY")]());continue;case"2":r=l[s(320,"[wyj")](p["_ê"][l[s(413,"Naa&")](p[s(520,"Hof]")],2)],2);continue;case"3":p["_á"](d[s(536,"FVER")]());continue;case"4":p["_á"](d[s(450,"pRbw")]());continue;case"5":i=l[s(507,"w(Dq")](l[s(527,"Buip")](l[s(326,"0I]C")](p["_ê"][l[s(334,"iF%V")](p[s(355,"w(Dq")],1)],15),2),l[s(303,"YD9J")](p["_ê"][p[s(387,"vqpk")]],6));continue;case"6":f=l[s(388,"wWU6")](l[s(361,"bNd#")](l[s(306,"T5dY")](l[s(384,"vqpk")](f,p["_ê"][r]),p["_ê"][a]),p["_ê"][i]),p["_ê"][c]);continue;case"7":p[s(335,"WmWP")]-=3;continue;case"8":l[s(285,"w(Dq")](void 0===n?"undefined":t(n),l[s(493,"Naa&")])&&(r=l[s(363,"tnRV")](n,r,y),a=l[s(372,"bNd#")](n,a,y),i=l[s(322,"v7]k")](n,i,y),c=l[s(315,"NZM&")](n,c,y));continue;case"9":a=l[s(369,"Hof]")](l[s(286,"WmWP")](l[s(449,"86I$")](p["_ê"][l[s(523,"YD9J")](p[s(392,"Buip")],2)],3),4),l[s(483,"tM!n")](p["_ê"][l[s(298,"Hof]")](p[s(540,"&NG^")],1)],4));continue;case"10":l[s(531,"r6cx")](isNaN,p["_ê"][l[s(477,"D@GR")](p[s(382,"EX&9")],1)])?i=c=64:l[s(539,"VdBX")](isNaN,p["_ê"][p[s(350,"NZM&")]])&&(c=64);continue}break}return l[s(441,"4j9@")](f[u](/=/g,""),m[y]||"")}};function x(){var e=["WRmBWRfWW73dTmkzAa","fXNdUSoHFG","jWtcONBcJa","pH3dQ8kWDa","fCkemCo9W58","WQZcLCod","ugZcLW","W77dUCki","W7mQpmkYWQe","W5y+axSZ","gCk1W6VdPmoY","zSk6WOqLW5y","eIpcGMxcSG","W517vmoOxq","WP7cL3KGyq","WPFcN8oxc3W","W41cWPLFW4u","lMZdNSkIWQu","ehKHWPvYCG","avRdJCooeG","W6/dHCk0","W61UWPflW5S","pxK0W4tcJW","WRNcQmoSg1y","aSkCnG","W7BdNL4","WPpcICofWOmQv8kmWOGT","W40MWOK","B0n0WPldVa","W59UWRf/W6i","wCk6oHno","uMbzWRBcOa","daRdOCkNwG","W7BdTmk3WQ0i","dKRdHCoLhG","A8kSWR0m","WQueimoUsSoXmHPd","lmkbgXBdLYVcU8ojW4mkWRLZ","W4hdKmkLWRyy","pMGuW4BcOG","W4FdP0SCaq","ivK+WQn2","wh9kWR/cJW","W4pdK8ovWQLd","pCkWmSoxsW","WPZdRCoxpmkV","gmobWOhdICk6","W5RdK8kRWQXd","W5enW7qqWO7cGSkZ","W6ioW5WEWRy","iLS2W5JcOq","W4i7lSkXWOm","W5uBWPe","W6CEdCkGWRC","W4fUWRzEW5W","oCkEeSoWAa","ouNdMSk/WQe","W5LnfG","lGyMs3u","W5pdSSklWOnD","W6CjmCoPW68","jg0bW4tcJelcHmk5WQy","rSouW6i","E05Bhwm","W5aBk8ozW5G","wSkbWONdJwSqW7D9W69DWQRcRw/cGW","d8kSW7RdHCo9","WOGcgK8Nkt/cLmoEW6XBWOa","hLpcKCksqXe","W5a2emopW5S","v8obywxcOW","W5WygCo9W54","W6ldMmo7WR5Y","dSoyWOhdUSkS","W6DnWQK","lIK0EMa","gmkvW6ddHCod","ptDVhCkNWQ7cSu9FWOGBfW","W4GlcmoEna","W5NdTmkCWO5f","hSk0lCoXzW","DKvrm14","w2z6WQdcOW","DmoJq0VcVW","W7NdNCo2WOnJ","s3VcVa","WQxcLKSPWRC","WQhdJ8o/d8ke","kH7dTmkpDW","W5SeW4CgWOC","fSkWj8on","E8oSv8kFlSo/ua","nYFcPW","W5tcGh1euv4g","W6HIqJX4","WRBdGSoBdCkG","WRfQxGH5C2RdK8oEqG1z","W5aZiSobkW","hGTN","auldICkzWQ0","ENqCW4RcUG","W5RdIbhcQW","W7z8WP5WW5q","oq4Wuw3dUG","W5pdL8koWO4M","r8oLomoeW5K8wmoe","WP5vW7NcSmkg","vCovvv/cHW","WPT/W5VcISkb","W5buAqDP","iKRdMCk7WPG","kCo5W5tcUaS","gmkbW5JdMCo5","vmoTW4ylywC0cSkxW5C","WOhdOSoloCkH","kSoOW4hcHcK","y2a5AmoS","FgDtWOlcTuCSyW","rSkTySoqWPKLaCoBnbhdQCovnIbiW5ldSSoiuJDcW4S","hetcT8k6tW","WOhcMSoW","WOpdICo8gCkT","W6FdKCkIWPD7","WOhcVgqEWPa","q8ouwedcTq","aw7cNSkTEq","wNxcQMhdPq","WOhcHLGhCW","h8kWkW","WPpcLKHEDxu","W78ZdCopW7K","hwaTW77cLq","oHdcK3VcVG","W686lCk3WQO","gfFcQmkgqa","nHuDFIldQmonWRBdKCoYoSkg","WR7cVSo8W50y","rSk+WPSJW5q","B1vQgYZdQJZcLXpcTe/cMq","f8oGwCk6jW","W5Wyb1KN","iYVcP1VcSmkZqW","DMWbW43cPW","g2FdNmkiWQ8","xxRcQxZdRq","B25aWOpcK2eMCG","rN0p","mrdcTMlcRa","pcpdLCkSAG","lu3dVmkhWR4","v8kRga","W4FdT8kcW70ahmkYmmoe","WPpcLmoGmu4","W7vSEafN","W7tdJCk0WQGh","gdlcM3dcMG","CmocW4m+EG","eaVdNCodxq","uCo1tgJcJq","W7tdV8kY","oHmDD3dcQ8oAW4/dSmoFa8kscCo1ECotqh4fDSkoiuzMWOXFWOb2WROYmSoaltK3cL7dGxnBvLRcNfOfW6TfdLtdJmoQwLJcVmk4sqxdJ0TfWObkAX8","WPdcLMmh","cSkkW4ldG8o5s8keWRi","zSo1DhxcKW","W5hdL8kAWQjB","evNcKCkwvG0","wwblWPpdQq","lCozC8kCbW","pmoWW6vtWQxcG8oMvbzDWR4EWP19","W6vhWRTQW4/dPq","W4q4W74VWPy","D8k3jSozvSkah8ktiSkqWOZcRHe","W6CNpmkkWPi","WP3cPCojW6eCWPtcMLRcP8oRBa","n8o5W5pcMtu","WQVcJ3LWua","CLfoWPZdRa","W7ZdMSohWRvE","WPdcKfvdDgygq8kj","omoiW6NcSd0","W7GolCoylq","pLhdRCo8jG","EedcO3pdKW","W5tdLguqiW","nCoLWP7dICkB","W4tdO8kEWRTdW44u","gNpcRSksxG","W5pdKmk+WO5W","oxCaW6pcNG","eIddUq3cH8oyv8oHW4VdQCkMaCkO","chRcRW","r8kyWPOgW7q","x3FcQ13dK8kcd8oUW4q","B8kCWRyXW6i","rN3cIa","bLKDWOr+","oIVcTN7cQW","BSoCwvhcLa","cNZcTSkbFG","zmkkmrXR","wuhcRMddUW","hCo7xSkdiq","W6BdHCoyWP5z","sxhcRKRdTSkebCoU","ox8vW6xcOG","vCoUu37cVW","W7WSeG","dCkjW7JdLmoU","bmoavmkdbG","WPxcQwbfFG","yexdSa","CCkcWRSTW7a","W7RdV8kpWRvU","WPDBWRzkW53dK8kMdSk9bCoVW5O","hSk/mCoHW5G","t8oVW7eDBq","W4ddUCo+WOPY","WR7cTxy/WRC","WPvqWRreW5RcI8kDbCkggmol","ymo6zCoYWP0","euaUWQLt","pCo9vSkKaW","C8kmjYvU","d3tdKmk9WQi","W7JdNSoKWRvZ","vubTbuq","BmoysKpcHNlcLSohW54","laGkAgG","zgSIvG","me0bW6BcJq","W5SKiSk+WOG","tf7cUfhdHG","W4JdP8koWPHG","xCoKEW","rmkNWRiAW70","W4qFW5WpWPO","kmktW5JdVCoa","W6BdMSkcWPjJ","k1pdOCkoWRu","lSktmWXl","zSkdjYvN","jv8RWRzf","pZ/dNmkCtG","W6xdN8kTWQbn","W6tdTv0fna","W407gCk4WQldKa","W7FdLWdcISk/","WPFcJmoiW5j7iCkJWO4MW6G+qq","WPxcLCovd2q","WPvVW7tcVCkUW77dNSoeW5FcMYjlWP3cKSkcW5xcUCoOfCkbWQhcPmkXW6xcTJGYxhRcHSoXWP4VzLNdLmkbxeBdVxNcLSk1smonrxlcVCk/eM3cTSkKWP1YW6q0WOLND8klFMtdSG","smkVWRK","q2a9x8o0","F3SOtq","xM88W5hcLW","W4pcL8k3fmkHwmokj3K","fdZdM8kVEZqMW47dOwxcQCkcnmo5","dSkFnq","iWtdUSoRya","W5tdQSkeWQ8J","fCkhW7FdHmoN","E8k5WRGjW6m"];return(x=function(){return e})()}e[o(515,"T5dY")]=C}).call(this,n(1)(e))},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(5),a=n(3),o=n(14),i=ue;!function(e,t){for(var n=ue,r=X();;)try{if(163596==parseInt(n(678,"xHmA"))/1+parseInt(n(799,"YD8i"))/2+parseInt(n(519,"[!Dd"))/3*(-parseInt(n(631,"Alf^"))/4)+-parseInt(n(820,"0H^l"))/5+-parseInt(n(622,"C0uu"))/6*(parseInt(n(749,"#3WF"))/7)+-parseInt(n(504,"EDuN"))/8*(parseInt(n(847,"(6vQ"))/9)+parseInt(n(874,"w6G&"))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();var c=i(496,"uxYt"),s=i(635,"woqw"),u=i(501,"Ogoj"),l=i(814,"[!Dd"),d=i(702,"4!79"),p=i(577,"c(fu"),f=i(641,"hPDr"),m=i(765,"I0YQ"),h=i(840,"ShEE"),v=i(730,"uxYt"),g=i(613,"kZ5N"),y=i(546,"YD8i"),_=i(885,"2vHR"),b=i(658,"0H^l"),k=i(561,"o#sx"),w=i(587,"$c1g"),S=i(868,"i5yU"),I=i(782,"uxYt"),C=i(614,"ShEE"),x=i(623,"se47"),P=i(835,"p#%i"),E=i(500,"UN7B"),O=i(565,"oBiV"),N=i(801,"4!79"),D=i(867,"hklU"),T=i(739,"I0YQ"),j=i(647,"hPDr"),A=i(784,"(6vQ"),R=i(597,"hklU"),W=i(552,"[!Dd"),L=i(615,"etL#"),M=i(754,"(6vQ"),F=i(775,"#3WF"),B=i(619,"C5x@"),U=i(663,"#PU@"),V=i(679,"y&M]"),H=i(560,"UN7B"),q=i(813,"w6G&"),z=0,Q=void 0,G=void 0,J=0,K=[],Y=function(){};function X(){var e=["xSkpW4FdHCk8","W4BdRgjzW4a","wMKfafRcHhi","W6uJW7BcVMmuhSoDW6u","WOZdHh5IWQq","d8kfySkoW7JcK8kTWOJdM8kKuMe","W7nxW6Wxzq","otNdSf0TW4xcPCkSW5pcQW","wCkqW7ddMSkS","sWFdICkcW6LUDa","WRP5W4JdKGS","W6xcJvRcSSk7","pSkNW4hdPYi","WQnMW4FdHblcRWi8o1/dUNm","w1TxW5GpsSoiWP0E","WQpdSmkOgmo/xdNcVYm","B8kDomkduqCSW7RdKW","zfbNW5Wo","W67cHWehrG","W6yXCCof","zmkEFCkGW40","rCkpWOJdGSko","W7vkW6uGsa","ywXoW60U","W6lcHaqalW","m8kBW4VdSrS","jLO1DmkVu8k3k8ouW7pdSmoEiW","W4hcGrGGzq","pZVdLvyM","wCk3h8kAsq","W6pcHCo1W59gWPXWsSk/WPbTW47dS8kguu4bWOKSjGyQtSkKW7eulfpdQSoGWQxcI8k3","ECkXq8k1W5O","W7ZcJ8oHW5XaWPPjbCkyWPHKW4hdHmkzzKuy","W7GUW6a","W6tcJxlcO04","W5hcKLhcS1xcG0pcVfO","WQtcICkUbN4","u0jFW7SyumoC","WOlcOCkInfK","CrXfW5RcV3LyWO5EWP0pnG","W6XPr8opm8kCWP1Zq0KJ","EtaQCSomW6BcOXLnvhVdI0xdNhGY","eSkpFqpcLW","uK0/W7ej","n8oXpstcQenDxSoX","mCorkXNcGW","Cbjw","lG8sW4FdVMWhWPWLWO9y","rMKBewBcGMRcKCkD","FWzcW5ZcRMq","WPz8gCoAW6m","W7/cNZSJzG","WODQemofW44","WQxdPmomW4fsWQ/cHmojyGxcQ8kpWRK","qbKKFmo7","W7RcKZmsca","WOz+bmoLW5e","W47cJKRcQe/cLflcV0SjCKK","W4LvuSoLja","eCkNEslcTG","W7L3W7q","W5DUa1hcTmkFjSoL","s8owmmoNWR/dGCk1","ycXTamoU","BCkmW4xdJmkyWOLEWOhdTYu","WPCQWQidWPm2WQ5vW4O","AGtdSmkdW4W","W4PSb1FcV8ksbSoVW5O","W5f0W5q4Ba","qNufhhVcMx/cLCklWQRcLbSanr7cNq","Dtu2E8oFW63cQHLP","BmkPhmkgDG","uhfDW40t","W7SVW7hcQgmx","WPK9WOa","srSmxSoD","nSkZCmkSWOe","W6OJW6FcTa","W5xdNg5JW6VcS8obdCo1W5u7W5hcJG","wavhW78JEgWIWRS","WRvOpCkrhWuAW6VdMZddKuJcLG","W7i0yCo7wezpW4ddIHVdMW","W7n2CSoMhq","WRhcRSkaax8CW7ONkq","FJ5ckCo4","WPjfbCoLW48","WQS+W68SW5BdMWyHW7ZdVCo8eSoCWRe","WQFcVCoKd1m","tmk9WQvzW6Ck","WOLzW4JdNZm","WQfwW5xdVbq","W7r4W6WvCf3cRCo4jLFcOa","wXrAW6qGyee9WQ4","WPtcImkVduS","sH3dISkt","W7C+yCobs1XeW5FdSq","AqvxW4en","WQ46W7GW","DtBcICk4WRpcS8kM","WR/dSmofW7G8","WRRdOhXGWRS","wSo+WO3dKCksySkFWPK","W5tdNwLR","EZW8wmoxW6y","lrjx","WQ/cH0hcPmkMWQlcLW","lSk2vbNcOa","W6lcRmkFWPyvW7RdPSo1EcBcPSkWWOJcJvZdSG","WRpcKSk4EKddKmkjomkjW4NcQ8klW65c","W6RcTfhcIw4","WOpdUmkpkSos","W7VcQWWhfG","W61wldmIW6lcVmkxyXFcVCkcbW","F8kyWQ/cQv8RW7G","WR8Rwv5o","W4xcM8k2WPqZ","xCkXWR5k","rCkeW7xdLCkj","l8oHkYxcQgjouSoKh8kO","zwKV","jSooxCkvW5CHmdq","W7VcLCkyWOCJ","WQldRmkDd8oY","W6X7W6e","DmkEzSkPW5qq","Cfi5i2BcS1K","WRagWOxdKJm","u8oFm8oBWQu","xH3dLa","AX3dS8koW5K","W5SCBmorzG","aCk0q3VdRG","WQdcKSkKFKldU8km","a8k4t8knWRm","mmoMmdtcTv5ss8oM","WOdcKSkCc3W","kIRdV1aKW6dcQCk6","AduTxmo0","DK49df4","fSkrrhVdTq","vCk5WQrnW6mzfYJcO8ksW5P2W50vkG","C8kpWRRdMCk2","nSk5W4hdMJRdUa","gSkCuSkMWOBdPvhdKa","tcCDxmoo","WRtdSCo6W5KX","WOODWRiMWRK","vCoDiW","W4qbF8oRAW","tSocmmozWR3dGmkvWQpdJmklE1FcGszhW5O","WRLsmSolW7y","xCoWWO3dJmkAwa","pCk7x2BdVa","DmkAFCkJW5Cbhq","WRSUsNH6","WOBdPmk0kSoU","yXFdTmkLW4W","bSkyCCksWPm","WQn4W5FdTXlcRbq","WPCBB2XH","zLviW7W8","v8o/WOFdKa","W5lcLvZcTe7cHvpcOLG","WPRcSIBdPMu","W5tcOCoaW7Le","WRtdMgruWOG","sHbuW7KJxf0KWQZcUs8","WReWW7qGW6hdQX0VW6xdOmoCo8oFWQ9Owmknh1O","WPRcG8oPnei","W47cLuRcOKJcV1/cPvGaDa","tbZdG8ktW6zQF8kTtG","tmkVWOVcLxG","DSowmCoWWO4","dCoVW6anWRS/fb7cSmkZW74","tmogWQFdVCkj","W7j4W7yyAL3dImoTlf3cSq","WR4nWQe8WO4","dCkfW6hdRXm","BCkyWQRcN14","hCkZvCkYWPm","WP3cKCk1FfNdU8kwj8kv","yJNcMCk7","v8kCWO/dN8koW7/dQ8kc","WR97w8kAWQu","tmkZWQjDW6Othq7cPW","WRy8W7mSW6xdLa","WRXqimoBW789ExyF","WQDXW6JdLGi","nCoNoJlcM01ovCo3","W7JcV0JcRmk1","W7JcRfFcSNe","W4y2sCoayq","WRZcN8k/FL7dTmkyomku","uSocn8oQWQZdI8kIWQpdJmkyBa","W5a6tCoSsq","WQddLxPHWRm","WQ/dV8oZW4el","W6ZdKvrCW4m","W7WLW67cQhunemogW7a","WP3cM8kIEaVdMSkzo8k0W57cNCkpW79n","W7FdV8oAuH9yWQOtmsuqc8kl","ECoHhSoHWQ8","wCotn8ot","wvy/o20","WR8qWQyFWQy","W4OFW4NcLga","WQJcPSkvkeKgW7W+mq","W4lcOI0NzrCZz8krhmoBbHZdGv4","q8kWWQJdUmkJ","W6dcO3/cLvS","WPdcSHpdKM0","naRdTgqV","WPtcOqpdI3myW4ZdOmk1WQu","Fmk9WQnB","WQn1W5ddOX7cIWKB","BHzuW43cRMjJWOL6WPy","WQBcQ8keauiCW4m","d8k2ybNcVCkrW7ZdMSky","o8kWW53dMGJdRIddQXGXoaOhC8kI","DmoKWQddKmku","ywKYW7KGbG","xsy8wmoi","Cmkso8k9Eq","aaXaW4ajBmoaWR8","F8krjCkhva4","W4/cJHCXzq","AmoEgmokWPW","hZJdNhCh","WR7dNXOCjg0lWPe","W5/cImk2WRSKW7pdKmo9BZ7cTW","W7DEW6qGuq","iCobdZRcVW","WONdN8kMWOytW4TclmkgWOvhW6O","rmkUWQdcHga","W6P8W6WvC0O","WPCgsxj0","c8k5FddcOmkWW70","WO40CeL0","W7hcPtqryq","W5pcQLVcT8k3WO3cLCoenK7dU2dcIYpdSCoIWPiBW6vxW6K0","W6FcMhVcTmkF","A8oLWPZdLCkN","W7nPrmoqm8kyWP0","shmsW64Q","b8kededdRW","Aha0o3C","wGntbmoQ","W794W64DtfdcICoGn1BcUq","W6L+uCoA","vmo/WP3dQmkl","WR/cGa3dU0K","g8kjwCkHWPK","WPKKWRSC","EZWVwCoDW6BcQtLUsgVdL0xdGq","s8o3pSolWRO","ttdcRSkxWR8","W7OPW6xcQhqlfmoz","vCkxWONdICkCW7NdT8kcoG","WPZcGSovm17cGCk7W6PxW43cTX4","CrXQimozd8oJkCogW7JdL8oC","bSo1jJJcQG","WQJdNmoG","WOKMWQuFWPO3WPvmW58","imkIFJpcVCkn","vg8emvtcLwm","W6tcS8kwWPi","BYFdOSkBW5q","C8kiWRHWW5y","WOZdK8kMmSor","wGfWpSo/i8oTlmoRW5ldHCoCbK7cHqyDuq","WOGhWQFdQJm","f8knxLBdUmoZvSoumW","E1D5W50A","CNjzW5Gs","vxqYfLi","WQ8OW5CLW4q","yWT2oq","WOC8W6msW4S","WRrrnSohW748","nghdJmoMW6pcP8khW5FdP8kYzG","W5BcUd06","W7hcIvhcLLu","xfDEW5Wc","kSoJcsBcLW","WP51W5BdUa","rCkGEmkfW5O","iCoAhclcIa","WRhcQmkyb0qBW68RkWq","kSkqvuFdPCoPrSoEja","WO0Rzh9s","vfmzW7Cv","mZnTWQLXrHddNSk2W4FcTmon","WQrhmCosW6S","yKSvh30","fmkGW7FdOs4","m8kqk2ddSSoxW6tcUSkP","jCkJW5ZdGtJdQs3dTa8","p8kEW53dOc4","jCk8ASkzWQe","WRZdKen+FLCXWQGOWQm7","W7nBW7ldGLq","W69nzmoqgW","W4JcJb4+qq","mIddUfO","WO/cNmozbfW","W60GDW","WRVcGmoGehe","xmoximo9WQxdGmkRWQpdKmkjxfZcNcS","x8kZWQq","W71Sj1NcLW","WRhcJ8kQif8","jSkWW5xdLcxdTa","WRFcHCkAcem","nmkhjNddR8okW6VcR8k+","WOnqaCoqW4m","mCk+W5ddGdRdUdRdScC/oWO","WOLZrKtdOSkcymo8WP4","W7RcNCoZW4rL","EmkJWRtcR1m","t8kEWR9ZW7y","mSkEW7xdKJK","A8kWWPTmW5C","WQ8sCgnJ","WPuWWQmvWOqmWQHhW5VdGq","WPxcVCkvm1S","kCo6oaVcIG","BJNcJmk5WR3cTmkMW5FdSq","WPmkW4qUW50","wZtdR8kEW64","W7hcTCkxWOmeW60","WQWqC354WQldSmkxvW","WReWW5i3W7VdKqCP","WRGnCuTIWQldPSkkuWFcL8kkiGJcS8oYtSoDW4/cGYjDja","WRxcTCkimeufW74zlrevnG","W77cUquNCa","WOFcJe5CW6hcUmofnG","W4TDxmo0fW","wuCqjxG","W47cTfNcRxW","WRPxW7VdSXy","WPZcN8oceW","W694W6qqBLe","W4LgE8oPha","umoKWOpdHSkADq","W7nSW7yuBM/cGCoQn1e","r8k6WRpcH0q","W7/cLmkdWPeq","nSk9W5RdLJW","W4xcJraaaa","WO0zW6u7W4a","W6xdJCoMkHldLmkzo8kvW7/cOa","WR/cV8kaq2a","BmkXW6ldL8kt","vmkMW4BdN8kG","WPiKWQq/WOe1WPfrW4ddMvJcJmktWOm","W7lcSmkEWPOeW7hdGCozBG","rGLaW6mQCfC6WQu","quXyW4Wi","qbJdOmkCW5O","u1rz","tZGSwCot","rM8df13cHx/cNCkFWRC","xmkNW4JdTCkj","WQJcK8oIbNm","WQiiWR07WRC","smocomorWR0","WP/cNmozbfi","hmkslhxdS8oxW7lcPW","W5FdNxrfW5K","W7zwW6WKzq","WQGtWRSZWPu","WRRdU0b3WOmRW6baWOa","xr3dISk3W7v3FSkLs0vtx8kI","W7VcKdaHmG","atRdI8kmW7jjxa","W7HbW7m3Aq","WRZcM8k/FL/dVq","W7lcLeFcQ1/cUL/cQfyj","ru1oW7Ggs8oy","xCkpdSk4ra","nt5KWQ9ZqMBdGCksW7hcLSorW6G","qSkOWQ/dLSkd","DSkSWQJdGCkU","WRC+W68NW6BdLq","WRDXW4tdVbRcTGi","W7VcS8kyWPyvW7BdMSo+","AmoeWQVdICkR","kd3dVKaUW6BcTCk4W4i","W6pcOfJcVCk8WOxcTCoaoG","s8kskmkcva","ySkLW4xdVCke","EsfZW5mn","yYzccCoP","nmkcxtJcJa","WQWaFW"];return(X=function(){return e})()}var Z=void 0,$=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ae=("undefined"==typeof process?"undefined":t(process))===i(494,"w6G&")?null:process;if(("undefined"==typeof window?"undefined":t(window))!==i(656,"*M%P"))for(var oe=i(841,"ShEE")[i(721,"[k*i")]("|"),ie=0;;){switch(oe[ie++]){case"0":te=Z[i(683,"kZ5N")];continue;case"1":re=i(851,"o#sx")in Z[E];continue;case"2":ne=Z[i(796,"#PU@")];continue;case"3":Z=window;continue;case"4":$=Z[i(725,"xHmA")];continue;case"5":ee=Z[i(612,"lc@H")];continue}break}var ce=function(){var e=i,r={WhzCi:function(e,t){return e!==t},jmqHh:e(742,"UN7B"),uxdzq:function(e,t){return e!==t},lKWLg:function(e,t){return e<t},ZpBOB:function(e,t){return e<t},FQzOF:function(e,t){return e!==t},VUEmT:e(809,"G&]N"),gOFgn:function(e,t){return e!==t},AqDTy:function(e,t){return e===t},KMThd:function(e,t){return e===t},fJxDL:function(e,t){return e===t},RVlCc:function(e,t){return e===t},JuNtk:function(e,t){return e!==t},gtDbg:e(620,"p#%i"),ingKP:function(e,t){return e===t},bFHhn:function(e,t){return e===t},itbus:e(611,"Y&bP"),wvwXb:function(e,t){return e===t},hHxfq:e(598,"#3WF"),GCLry:function(e,t){return e===t},DfLdL:function(e,t){return e in t},nGWsc:e(838,"$c1g"),UtrqX:e(753,"&Tx!"),BVSpt:function(e,t){return e>t},EIUvt:e(592,"YD8i"),imjBp:function(e,t){return e(t)},lOyQl:e(872,"Ogoj"),ACARa:function(e,t){return e>t},YTrBe:e(574,"2vHR")},a=[];r[e(637,"y&M]")](t(Z[e(517,"$c1g")]),r[e(818,"(5Wi")])||r[e(691,"RZR%")](t(Z[e(743,"2vHR")]),r[e(681,"C0uu")])?a[0]=1:a[0]=r[e(563,"Alf^")](Z[e(568,"o#sx")],1)||r[e(644,"#PU@")](Z[e(722,"&Tx!")],1)?1:0,a[1]=r[e(547,"w6G&")](t(Z[e(646,"2vHR")]),r[e(665,"OVKt")])||r[e(719,"lD!i")](t(Z[e(766,"6cGR")]),r[e(781,"*M%P")])?1:0,a[2]=r[e(693,"lD!i")](t(Z[e(662,"woqw")]),r[e(689,"C5x@")])?0:1,a[3]=r[e(778,"se47")](t(Z[e(515,"lc@H")]),r[e(726,"uxYt")])?0:1,a[4]=r[e(881,"I0YQ")](t(Z[e(853,"woqw")]),r[e(846,"RZR%")])?0:1,a[5]=r[e(819,"lD!i")]($[e(712,"6cGR")],!0)?1:0,a[6]=r[e(636,"[k*i")](t(Z[e(771,"OVKt")]),r[e(785,"UN7B")])&&r[e(769,"&Tx!")](t(Z[e(731,"[k*i")]),r[e(792,"woqw")])?0:1;try{r[e(684,"[!Dd")](t(Function[e(829,"o#sx")][u]),r[e(689,"C5x@")])&&(a[7]=1),r[e(642,"C5x@")](Function[e(533,"$c1g")][u][v]()[f](/bind/g,r[e(673,"#PU@")]),Error[v]())&&(a[7]=1),r[e(618,"UN7B")](Function[e(786,"4!79")][v][v]()[f](/toString/g,r[e(822,"4!79")]),Error[v]())&&(a[7]=1)}catch(e){a[7]=0}a[8]=$[e(531,"#3WF")]&&r[e(582,"ENn6")]($[e(557,"kZ5N")][F],0)?1:0,a[9]=r[e(724,"$c1g")]($[e(591,"#3WF")],"")?1:0,a[10]=r[e(727,"OVKt")](Z[e(633,"2vHR")],r[e(650,"j%hR")])&&r[e(756,"C0uu")](Z[e(535,"4!79")],r[e(745,"(6vQ")])?1:0,a[11]=Z[e(687,"URIU")]&&!Z[e(579,"#3WF")][e(542,"j%hR")]?1:0,a[12]=r[e(844,"RZR%")](Z[e(502,"p#%i")],void 0)?1:0,a[13]=r[e(590,"w6G&")](r[e(825,"[!Dd")],$)?1:0,a[14]=$[r[e(640,"UN7B")]](r[e(594,"&HQD")])?1:0,a[15]=ne[e(580,"xHmA")]&&r[e(798,"&HQD")](ne[e(601,"YD8i")][v]()[s](r[e(823,"se47")]),-1)?1:0;try{a[16]=r[e(804,"kZ5N")](n(17),r[e(544,"Sr7r")])?1:0}catch(e){a[16]=0}try{a[17]=r[e(608,"o#sx")](Z[E][e(706,"YD8i")][v]()[s](r[e(525,"i5yU")]),-1)?0:1}catch(e){a[17]=0}return a};function se(e,n,r){var a=i,o={};o[a(884,"kZ5N")]=function(e,t){return e>t},o[a(649,"Y&bP")]=function(e,t){return e<t},o[a(645,"0H^l")]=function(e,t){return e-t},o[a(555,"OVKt")]=a(882,"lc@H"),o[a(685,"$c1g")]=function(e,t){return e!==t},o[a(516,"Xy6W")]=a(569,"OVKt"),o[a(701,"y&M]")]=function(e,t){return e>t};var c=o,s=n||Z[a(815,"*M%P")];if(c[a(711,"etL#")](s[a(877,"etL#")],0)){if(e[a(807,"kZ5N")]&&c[a(816,"2vHR")](c[a(862,"2vHR")](s[a(770,"&HQD")],e[a(732,"etL#")]),15))return;e[a(657,"I0YQ")]=s[a(842,"#PU@")]}var u={};u[M]=s[c[a(596,"Ogoj")]].id||"",u[R]=c[a(671,"C0uu")](ee[y](),z);var d=s[a(652,"p#%i")];d&&d[F]?(u[L]=d[0][L],u[W]=d[0][W]):(u[L]=s[L],u[W]=s[W]),c[a(830,"etL#")](void 0===r?"undefined":t(r),c[a(634,"[k*i")])?(e[q][r][V](u),c[a(805,"EDuN")](e[q][r][F],e[a(808,"C0uu")])&&e[q][r][l]()):(e[q][V](u),c[a(700,"hPDr")](e[q][F],e[a(864,"p#%i")])&&e[q][l]())}function ue(e,t){var n=X();return(ue=function(t,r){var a=n[t-=492];void 0===ue.syLAdu&&(ue.euDtgT=function(e,t){var n=[],r=0,a=void 0,o="";e=function(e){for(var t,n,r="",a="",o=0,i=0;n=e.charAt(i++);~n&&(t=o%4?64*t+n:n,o++%4)?r+=String.fromCharCode(255&t>>(-2*o&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var c=0,s=r.length;c<s;c++)a+="%"+("00"+r.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(a)}(e);var i=void 0;for(i=0;i<256;i++)n[i]=i;for(i=0;i<256;i++)r=(r+n[i]+t.charCodeAt(i%t.length))%256,a=n[i],n[i]=n[r],n[r]=a;i=0,r=0;for(var c=0;c<e.length;c++)r=(r+n[i=(i+1)%256])%256,a=n[i],n[i]=n[r],n[r]=a,o+=String.fromCharCode(e.charCodeAt(c)^n[(n[i]+n[r])%256]);return o},e=arguments,ue.syLAdu=!0);var o=t+n[0],i=e[o];return i?a=i:(void 0===ue.CJVDDv&&(ue.CJVDDv=!0),a=ue.euDtgT(a,r),e[o]=a),a})(e,t)}function le(e){var t=i,n={};n[t(554,"G&]N")]=function(e,t){return e===t};var r=n,a={};return(Z[E][x]?Z[E][x][p]("; "):[])[t(493,"OVKt")]((function(n){var o=t,i=n[p]("="),c=i[m](1)[d]("="),s=i[0][f](/(%[0-9A-Z]{2})+/g,decodeURIComponent);return c=c[f](/(%[0-9A-Z]{2})+/g,decodeURIComponent),a[s]=c,r[o(723,"etL#")](e,s)})),e?a[e]||"":a}function de(e){if(!e||!e[F])return[];var t=[];return e[U]((function(e){var n=a.sc(e[M]);t=t[B](a.va(e[L]),a.va(e[W]),a.va(e[R]),a.va(n[F]),n)})),t}var pe={data:[],maxLength:1,init:function(){var e=i,t={};t[e(738,"kZ5N")]=e(507,"#3WF"),t[e(492,"etL#")]=e(566,"uxYt"),t[e(625,"YD8i")]=e(668,"0H^l"),t[e(709,"etL#")]=function(e,t){return e+t};var n=t,r=a[e(518,"C5x@")](this,n[e(624,"y&M]")]),o=a[e(527,"OVKt")](fe,re?n[e(869,"p#%i")]:n[e(720,"lc@H")]);this.c=a[e(660,"Sr7r")](n[e(791,"0H^l")](r,o))},handleEvent:function(e){({dXqFu:function(e,t,n){return e(t,n)}})[i(774,"2vHR")](se,this,e)},packN:function(){var e=i,t={zJIFX:function(e,t){return e===t},yjGjZ:function(e,t){return e(t)}};if(t[e(564,"&HQD")](this[q][F],0))return[];var n=[][B](a.ek(4,this[q]),t[e(757,"OVKt")](de,this[q]));return n[B](this.c)}},fe={data:[],maxLength:1,handleEvent:function(e){J++,{lIcpB:function(e,t,n){return e(t,n)}}[i(520,"(6vQ")](se,this,e)},packN:function(){var e=i,t={wApIV:function(e,t){return e===t},PioQo:function(e,t){return e(t)}};return t[e(595,"Sr7r")](this[q][F],0)?[]:[][B](a.ek(re?1:2,this[q]),t[e(680,"o#sx")](de,this[q]))}},me={data:[],maxLength:30,handleEvent:function(e){var t=i,n={kVIOX:function(e,t,n,r){return e(t,n,r)},GfOPu:function(e,t,n){return e(t,n)}};re?(!this[q][J]&&(this[q][J]=[]),n[t(602,"#PU@")](se,this,e,J)):n[t(832,"etL#")](se,this,e)},packN:function(){var e=i,t={rzFZO:function(e,t){return e(t)},sByOQ:function(e,t){return e-t},PKckH:function(e,t){return e>=t},qnuYb:function(e,t){return e-t},HFdxI:function(e,t){return e>t},jnsLt:function(e,t){return e===t}},n=[];if(re){n=this[q][e(728,"(6vQ")]((function(e){return e&&e[F]>0}));for(var r=0,o=t[e(510,"(5Wi")](n[F],1);t[e(692,"#PU@")](o,0);o--){r+=n[o][F];var c=t[e(538,"URIU")](r,this[e(605,"etL#")]);if(t[e(748,"uxYt")](c,0)&&(n[o]=n[o][m](c)),t[e(837,"C5x@")](c,0)){n=n[m](o);break}}}else n=this[q];if(t[e(648,"UN7B")](n[F],0))return[];var s=[][B](a.ek(re?24:25,n));return re?n[U]((function(n){var r=e;s=(s=s[B](a.va(n[F])))[B](t[r(849,"(5Wi")](de,n))})):s=s[B](t[e(876,"hPDr")](de,this[q])),s}},he={data:[],maxLength:3,handleEvent:function(){var e=i,t={};t[e(752,"Xy6W")]=function(e,t){return e>t},t[e(659,"$c1g")]=function(e,t){return e-t},t[e(802,"Xy6W")]=function(e,t){return e>t};var n=t,r={},a=Z[E][e(606,"y&M]")][e(873,"oBiV")]||Z[E][e(871,"hklU")][e(810,"se47")];n[e(632,"c(fu")](a,0)&&(r[e(661,"&Tx!")]=a,r[R]=n[e(609,"Y&bP")](ee[y](),z),this[q][V](r),n[e(705,"I0YQ")](this[q][F],this[e(616,"woqw")])&&this[q][l]())},packN:function(){if(re&&this[_](),!this[q][F])return[];var e=[][B](a.ek(3,this[q]));return this[q][U]((function(t){var n=ue;e=e[B](a.va(t[n(861,"BQs^")]),a.va(t[R]))})),e}},ve={init:function(){var e=i,t={};t[e(768,"2vHR")]=e(833,"ShEE");var n=t;this[q]={},this[q][j]=Z[A][j],this[q][T]=Z[A][T],this.c=a[e(827,"hklU")](a[e(707,"lc@H")](this,n[e(696,"lD!i")]))},packN:function(){var e=i,t={};t[e(562,"Y&bP")]=function(e,t){return e&&t},t[e(857,"0H^l")]=function(e,t){return e>t},t[e(604,"hklU")]=function(e,t){return e===t};var n=t,r=a.ek(7),o=this[q],c=o.href,s=void 0===c?"":c,u=o.port,l=void 0===u?"":u;if(n[e(505,"woqw")](!s,!l))return[][B](r,this.c);var d=n[e(718,"lc@H")](s[F],128)?s[m](0,128):s,p=a.sc(d);return[][B](r,a.va(p[F]),p,a.va(l[F]),n[e(600,"YD8i")](l[F],0)?[]:a.sc(this[q][T]),this.c)}},ge={init:function(){this[q]={},this[q][N]=Z[D][N],this[q][O]=Z[D][O]},packN:function(){return[][B](a.ek(8),a.va(this[q][N]),a.va(this[q][O]))}},ye={init:function(){var e=i,t={};t[e(530,"URIU")]=function(e,t){return e+t},t[e(795,"Ogoj")]=function(e,t){return e*t},t[e(821,"y&M]")]=function(e,t){return e+t};var n=t;this[q]=n[e(866,"C0uu")](Z[g](n[e(545,"&Tx!")](te[I](),n[e(717,"c(fu")](te[S](2,52),1)[v]()),10),Z[g](n[e(836,"woqw")](te[I](),n[e(553,"[k*i")](te[S](2,30),1)[v]()),10))+"-"+Q},packN:function(){return this[H](),[][B](a.ek(9,this[q]))}},_e={data:[],init:function(){var e=i;this[q]={kvrRu:function(e){return e()}}[e(806,"lD!i")](ce)},packN:function(){var e=i,t={};t[e(549,"RZR%")]=function(e,t){return e<t},t[e(860,"OVKt")]=function(e,t){return e<<t};var n=t;this[q][18]=Object[c](Z[E])[e(664,"(6vQ")]((function(t){return Z[E][t]&&Z[E][t][e(550,"UN7B")]}))?1:0;for(var r=0,o=0;n[e(526,"YD8i")](o,this[q][F]);o++)r+=n[e(540,"*M%P")](this[q][o],o);return[][B](a.ek(10),a.va(r))}},be={init:function(){var e=i;this[q]=a[e(522,"2vHR")](Z[A][j]?Z[A][j]:"")},packN:function(){return this[q][v]()[F]?[][B](a.ek(11),this[q]):[]}},ke={init:function(){var e=i,t={};t[e(578,"j%hR")]=e(638,"EDuN");var n=t;this[q]=Z[n[e(800,"2vHR")]]?"y":"n"},packN:function(){return[][B](a.ek(12,this[q]))}},we={init:function(){var e=i,t={};t[e(763,"&Tx!")]=e(826,"Alf^");var n=t;this[q]=Z[n[e(848,"p#%i")]]?"y":"n"},packN:function(){return[][B](a.ek(13,this[q]))}},Se={init:function(){var e=i,t={};t[e(713,"RZR%")]=function(e,t){return e-t};var n=t;this[q]=n[e(528,"OVKt")](ee[y](),G)},packN:function(){return this[H](),[][B](a.ek(14,this[q]))}},Ie={init:function(){this[q]=$[w]},packN:function(){return this[q][F]?[][B](a.ek(15,this[q])):[]}},Ce={init:function(){var e=i;this[q]={oTgjF:function(e){return e()}}[e(737,"o#sx")](o)},packN:function(){var e=this,t=i,n={};n[t(607,"*M%P")]=t(880,"uxYt"),n[t(674,"uxYt")]=t(617,"lD!i");var r=n,o=[],s={};return s[r[t(513,"[k*i")]]=16,s[r[t(682,"$c1g")]]=17,Object[c](this[q])[U]((function(t){var n=[][B](e[q][t]?a.ek(s[t],e[q][t]):[]);o[V](n)})),o}},xe={init:function(){var e=i,t={};t[e(839,"$c1g")]=function(e,t){return e>t};var n=t,r=Z[E][e(655,"hklU")]||"",a=r[s]("?");this[q]=r[m](0,n[e(532,"j%hR")](a,-1)?a:r[F])},packN:function(){return this[q][F]?[][B](a.ek(18,this[q])):[]}},Pe={init:function(){var e=i,t={CzPMU:function(e,t){return e(t)},RGFCB:e(875,"w6G&")};this[q]=t[e(879,"RZR%")](le,t[e(790,"oBiV")])},packN:function(){return this[q][F]?[][B](a.ek(19,this[q])):[]}},Ee={init:function(){var e=i,t={WVayD:function(e,t){return e(t)},XtKux:e(512,"c(fu")};this[q]=t[e(817,"C0uu")](le,t[e(733,"y&M]")])},packN:function(){return this[q][F]?[][B](a.ek(20,this[q])):[]}},Oe={data:0,packN:function(){return[][B](a.ek(21,this[q]))}},Ne={init:function(e){this[q]=e},packN:function(){return[][B](a.ek(22,this[q]))}},De={init:function(){var e=i,t={GwMCF:function(e,t){return e(t)},ZDnDk:e(856,"YD8i")};this[q]=t[e(626,"4!79")](le,t[e(551,"URIU")])},packN:function(){return this[q][F]?[][B](a.ek(23,this[q])):[]}},Te={init:function(){var e=i,n={};n[e(495,"oBiV")]=function(e,t){return e>t},n[e(865,"se47")]=e(699,"kZ5N"),n[e(629,"2vHR")]=function(e,t){return e!==t},n[e(499,"&HQD")]=e(569,"OVKt"),n[e(812,"y&M]")]=function(e,t){return e===t},n[e(751,"Xy6W")]=e(824,"Alf^"),n[e(669,"i5yU")]=function(e,t){return e<t},n[e(794,"Xy6W")]=function(e,t){return e<<t};for(var r=n,a=[Z[e(704,"w6G&")]||Z[e(588,"EDuN")]||$[w]&&r[e(676,"uxYt")]($[w][s](r[e(639,"EDuN")]),-1)?1:0,r[e(736,"#PU@")]("undefined"==typeof InstallTrigger?"undefined":t(InstallTrigger),r[e(521,"G&]N")])?1:0,/constructor/i[e(675,"0H^l")](Z[e(628,"(6vQ")])||r[e(741,"hPDr")]((Z[e(710,"lD!i")]&&Z[e(740,"2vHR")][e(863,"#PU@")]||"")[v](),r[e(780,"*M%P")])?1:0,Z[E]&&Z[E][e(714,"lD!i")]||Z[e(776,"o#sx")]||Z[e(855,"BQs^")]?1:0,Z[e(523,"[!Dd")]&&(Z[e(541,"lD!i")][e(581,"*M%P")]||Z[e(541,"lD!i")][e(803,"OVKt")])?1:0],o=0,c=0;r[e(630,"$c1g")](c,a[F]);c++)o+=r[e(559,"C0uu")](a[c],c);this[q]=o},packN:function(){return[][B](a.ek(26),a.va(this[q]))}};function je(e){[ge,_e,be,ke,we,Ie,Ce,xe,Pe,Ee,Ne,De,ve,Te,pe][U]((function(t){t[H](e)}))}function Ae(){var e=i,t={};t[e(845,"y&M]")]=e(585,"RZR%"),t[e(610,"4!79")]=e(859,"&Tx!"),t[e(762,"I0YQ")]=e(686,"etL#"),t[e(759,"p#%i")]=e(583,"lc@H"),t[e(593,"w6G&")]=e(746,"lD!i"),t[e(666,"lc@H")]=e(584,"uxYt");var n=t,r=n[e(744,"c(fu")],a=n[e(789,"Xy6W")];re&&(r=n[e(708,"BQs^")],a=n[e(788,"se47")]),Z[E][P](r,fe,!0),Z[E][P](a,me,!0),Z[E][P](n[e(811,"C0uu")],pe,!0),!re&&Z[E][P](n[e(508,"o#sx")],he,!0)}function Re(){J=0,[fe,me,pe,he][U]((function(e){e[q]=[]}))}function We(){var e=i,t={};t[e(603,"&Tx!")]=function(e,t){return e+t};var n=t,r=a[e(793,"[k*i")](n[e(534,"etL#")](ce[v](),Le[v]()));K=r[h]((function(e){return String[b](e)}))}function Le(){var e,t=i,n={JQhHE:function(e){return e()},rWIYv:t(536,"p#%i"),oAQZK:function(e,t,n){return e(t,n)},HYfYv:function(e,t){return e<t},UfCWK:t(497,"xHmA"),gNFpa:function(e,t){return e===t},DHvLx:function(e,t){return e>t},llqQD:function(e,t){return e<=t},ZMjOH:function(e,t){return e-t},syEiu:function(e,t){return e<<t},BwdqF:function(e,t){return e<<t},QIxuE:t(783,"kZ5N"),WAQMK:function(e,t){return e+t},MhTGe:t(503,"ShEE"),TsSkt:t(677,"RZR%")};if(!Z)return"";var o=n[t(573,"UN7B")],c=(e=[])[B].apply(e,[fe[o](),me[o](),pe[o](),he[o](),ve[o](),ge[o](),ye[o](),_e[o](),be[o](),ke[o](),we[o](),Se[o](),Ie[o]()].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Ce[o]()),[xe[o](),Pe[o](),Ee[o](),Oe[o](),Ne[o](),De[o](),Te[o]()]));n[t(750,"#3WF")](setTimeout,(function(){n[t(735,"hPDr")](Re)}),0);for(var s=c[F][v](2)[p](""),u=0;n[t(852,"hPDr")](s[F],16);u+=1)s[n[t(509,"G&]N")]]("0");s=s[d]("");var l=[];n[t(498,"Sr7r")](c[F],0)?l[V](0,0):n[t(672,"C0uu")](c[F],0)&&n[t(621,"se47")](c[F],n[t(667,"G&]N")](n[t(772,"(5Wi")](1,8),1))?l[V](0,c[F]):n[t(575,"&Tx!")](c[F],n[t(883,"kZ5N")](n[t(716,"Alf^")](1,8),1))&&l[V](Z[g](s[k](0,8),2),Z[g](s[k](8,16),2)),c=[][B]([3],[1,0,0],l,c);var f=r[n[t(688,"[k*i")]](c),m=[][h][t(651,"&Tx!")](f,(function(e){return String[b](e)}));return n[t(697,"j%hR")](n[t(654,"xHmA")],a[n[t(543,"p#%i")]](n[t(850,"RZR%")](m[d](""),K[d]("")),a[t(843,"ShEE")]))}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i,r={vsYSu:function(e,t){return e!==t},iPGdb:n(656,"*M%P"),DfHTr:n(715,"BQs^"),EmLdt:function(e,t,n){return e(t,n)},aisJV:function(e){return e()},pEjss:function(e){return e()}};if(r[n(567,"I0YQ")](void 0===Z?"undefined":t(Z),r[n(878,"0H^l")]))for(var a=r[n(643,"6cGR")][n(764,"YD8i")]("|"),o=0;;){switch(a[o++]){case"0":this[n(506,"(6vQ")](e[C]||879609302220);continue;case"1":r[n(828,"o#sx")](je,z,Z);continue;case"2":r[n(767,"Ogoj")](Ae);continue;case"3":z=ee[y]();continue;case"4":r[n(653,"YD8i")](We);continue}break}}Me[i(670,"URIU")][i(548,"YD8i")]=function(e){G=ee[y](),Q=e},Me[i(694,"6cGR")][H]=Y,Me[i(886,"oBiV")][i(858,"Xy6W")]=Y,Me[i(670,"URIU")][i(834,"hPDr")]=function(){var e=i;return Oe[q]++,{RGhXc:function(e){return e()}}[e(761,"Xy6W")](Le)},Me[i(695,"lD!i")][i(539,"lc@H")]=function(){var e={XTRZD:function(e,t){return e(t)},Kysfv:function(e){return e()}};return new Promise((function(t){var n=ue;Oe[q]++,e[n(576,"lD!i")](t,e[n(558,"[k*i")](Le))}))},ae&&ae[i(758,"C0uu")]&&ae[i(854,"2vHR")][i(524,"#PU@")]&&(Me[i(729,"[k*i")][i(777,"C0uu")]=function(e){var t=i,n={};n[t(514,"(6vQ")]=t(703,"I0YQ"),n[t(586,"kZ5N")]=t(760,"#PU@"),n[t(589,"o#sx")]=t(755,"oBiV"),n[t(870,"j%hR")]=t(787,"EDuN"),n[t(747,"(5Wi")]=t(797,"hklU");var r=n;switch(e.type){case r[t(570,"c(fu")]:pe[_](e);break;case r[t(556,"j%hR")]:case r[t(529,"w6G&")]:fe[_](e);break;case r[t(537,"#PU@")]:case r[t(571,"YD8i")]:me[_](e)}});var Fe=new Me;e[i(831,"C0uu")]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i;return e[C]&&Z&&Fe[t(548,"YD8i")](e[C]),Fe}}).call(this,n(1)(e))},function(e,t,n){"use strict";var r=n(6),a=n(0),o=n(10),i=n(2),c=n(11),s=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=a.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(i[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var l;if(l="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===s.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,l)))throw new Error(i[n]);this._dict_set=!0}}function l(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||i[n.err];return n.result}u.prototype.push=function(e,t){var n,i,c=this.strm,u=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?c.input=o.string2buf(e):"[object ArrayBuffer]"===s.call(e)?c.input=new Uint8Array(e):c.input=e,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new a.Buf8(u),c.next_out=0,c.avail_out=u),1!==(n=r.deflate(c,i))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==c.avail_out&&(0!==c.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(o.buf2binstring(a.shrinkBuf(c.output,c.next_out))):this.onData(a.shrinkBuf(c.output,c.next_out)))}while((c.avail_in>0||0===c.avail_out)&&1!==n);return 4===i?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==i||(this.onEnd(0),c.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=u,t.deflate=l,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,l(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,l(e,t)}},function(e,t,n){"use strict";var r,a=n(0),o=n(7),i=n(8),c=n(9),s=n(2),u=-2,l=258,d=262,p=103,f=113,m=666;function h(e,t){return e.msg=s[t],t}function v(e){return(e<<1)-(e>4?9:0)}function g(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(a.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function _(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function b(e,t){e.pending_buf[e.pending++]=t}function k(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function w(e,t){var n,r,a=e.max_chain_length,o=e.strstart,i=e.prev_length,c=e.nice_match,s=e.strstart>e.w_size-d?e.strstart-(e.w_size-d):0,u=e.window,p=e.w_mask,f=e.prev,m=e.strstart+l,h=u[o+i-1],v=u[o+i];e.prev_length>=e.good_match&&(a>>=2),c>e.lookahead&&(c=e.lookahead);do{if(u[(n=t)+i]===v&&u[n+i-1]===h&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<m);if(r=l-(m-o),o=m-l,r>i){if(e.match_start=t,i=r,r>=c)break;h=u[o+i-1],v=u[o+i]}}}while((t=f[t&p])>s&&0!=--a);return i<=e.lookahead?i:e.lookahead}function S(e){var t,n,r,o,s,u,l,p,f,m,h=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-d)){a.arraySet(e.window,e.window,h,h,0),e.match_start-=h,e.strstart-=h,e.block_start-=h,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=h?r-h:0}while(--n);t=n=h;do{r=e.prev[--t],e.prev[t]=r>=h?r-h:0}while(--n);o+=h}if(0===e.strm.avail_in)break;if(u=e.strm,l=e.window,p=e.strstart+e.lookahead,f=o,m=void 0,(m=u.avail_in)>f&&(m=f),n=0===m?0:(u.avail_in-=m,a.arraySet(l,u.input,u.next_in,m,p),1===u.state.wrap?u.adler=i(u.adler,l,m,p):2===u.state.wrap&&(u.adler=c(u.adler,l,m,p)),u.next_in+=m,u.total_in+=m,m),e.lookahead+=n,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+3-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<d&&0!==e.strm.avail_in)}function I(e,t){for(var n,r;;){if(e.lookahead<d){if(S(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-d&&(e.match_length=w(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(_(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(_(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_(e,!1),0===e.strm.avail_out)?1:2}function C(e,t){for(var n,r,a;;){if(e.lookahead<d){if(S(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-d&&(e.match_length=w(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(_(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&_(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(_(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_(e,!1),0===e.strm.avail_out)?1:2}function x(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}function P(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):h(e,u)}function E(e){var t,n=P(e);return 0===n&&((t=e.state).window_size=2*t.w_size,g(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function O(e,t,n,r,o,i){if(!e)return u;var c=1;if(-1===t&&(t=6),r<0?(c=0,r=-r):r>15&&(c=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||i<0||i>4)return h(e,u);8===r&&(r=9);var s=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(1146),this.dyn_dtree=new a.Buf16(122),this.bl_tree=new a.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(16),this.heap=new a.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=s,s.strm=e,s.wrap=c,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new a.Buf8(2*s.w_size),s.head=new a.Buf16(s.hash_size),s.prev=new a.Buf16(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new a.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=i,s.method=n,E(e)}r=[new x(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(S(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,_(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-d&&(_(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(_(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(_(e,!1),e.strm.avail_out),1)})),new x(4,4,8,4,I),new x(4,5,16,8,I),new x(4,6,32,32,I),new x(4,4,16,16,C),new x(8,16,32,32,C),new x(8,16,128,128,C),new x(8,32,128,256,C),new x(32,128,258,1024,C),new x(32,258,258,4096,C)],t.deflateInit=function(e,t){return O(e,t,8,15,8,0)},t.deflateInit2=O,t.deflateReset=E,t.deflateResetKeep=P,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},t.deflate=function(e,t){var n,a,i,s;if(!e||!e.state||t>5||t<0)return e?h(e,u):u;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===m&&4!==t)return h(e,0===e.avail_out?-5:u);if(a.strm=e,n=a.last_flush,a.last_flush=t,42===a.status)if(2===a.wrap)e.adler=0,b(a,31),b(a,139),b(a,8),a.gzhead?(b(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),b(a,255&a.gzhead.time),b(a,a.gzhead.time>>8&255),b(a,a.gzhead.time>>16&255),b(a,a.gzhead.time>>24&255),b(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),b(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(b(a,255&a.gzhead.extra.length),b(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=c(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(b(a,0),b(a,0),b(a,0),b(a,0),b(a,0),b(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),b(a,3),a.status=f);else{var d=8+(a.w_bits-8<<4)<<8;d|=(a.strategy>=2||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(d|=32),d+=31-d%31,a.status=f,k(a,d),0!==a.strstart&&(k(a,e.adler>>>16),k(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(i=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>i&&(e.adler=c(e.adler,a.pending_buf,a.pending-i,i)),y(e),i=a.pending,a.pending!==a.pending_buf_size));)b(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>i&&(e.adler=c(e.adler,a.pending_buf,a.pending-i,i)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){i=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>i&&(e.adler=c(e.adler,a.pending_buf,a.pending-i,i)),y(e),i=a.pending,a.pending===a.pending_buf_size)){s=1;break}s=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,b(a,s)}while(0!==s);a.gzhead.hcrc&&a.pending>i&&(e.adler=c(e.adler,a.pending_buf,a.pending-i,i)),0===s&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){i=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>i&&(e.adler=c(e.adler,a.pending_buf,a.pending-i,i)),y(e),i=a.pending,a.pending===a.pending_buf_size)){s=1;break}s=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,b(a,s)}while(0!==s);a.gzhead.hcrc&&a.pending>i&&(e.adler=c(e.adler,a.pending_buf,a.pending-i,i)),0===s&&(a.status=p)}else a.status=p;if(a.status===p&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&y(e),a.pending+2<=a.pending_buf_size&&(b(a,255&e.adler),b(a,e.adler>>8&255),e.adler=0,a.status=f)):a.status=f),0!==a.pending){if(y(e),0===e.avail_out)return a.last_flush=-1,0}else if(0===e.avail_in&&v(t)<=v(n)&&4!==t)return h(e,-5);if(a.status===m&&0!==e.avail_in)return h(e,-5);if(0!==e.avail_in||0!==a.lookahead||0!==t&&a.status!==m){var w=2===a.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(S(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(_(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(_(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_(e,!1),0===e.strm.avail_out)?1:2}(a,t):3===a.strategy?function(e,t){for(var n,r,a,i,c=e.window;;){if(e.lookahead<=l){if(S(e),e.lookahead<=l&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=c[a=e.strstart-1])===c[++a]&&r===c[++a]&&r===c[++a]){i=e.strstart+l;do{}while(r===c[++a]&&r===c[++a]&&r===c[++a]&&r===c[++a]&&r===c[++a]&&r===c[++a]&&r===c[++a]&&r===c[++a]&&a<i);e.match_length=l-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(_(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(_(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_(e,!1),0===e.strm.avail_out)?1:2}(a,t):r[a.level].func(a,t);if(3!==w&&4!==w||(a.status=m),1===w||3===w)return 0===e.avail_out&&(a.last_flush=-1),0;if(2===w&&(1===t?o._tr_align(a):5!==t&&(o._tr_stored_block(a,0,0,!1),3===t&&(g(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),y(e),0===e.avail_out))return a.last_flush=-1,0}return 4!==t?0:a.wrap<=0?1:(2===a.wrap?(b(a,255&e.adler),b(a,e.adler>>8&255),b(a,e.adler>>16&255),b(a,e.adler>>24&255),b(a,255&e.total_in),b(a,e.total_in>>8&255),b(a,e.total_in>>16&255),b(a,e.total_in>>24&255)):(k(a,e.adler>>>16),k(a,65535&e.adler)),y(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==p&&t!==f&&t!==m?h(e,u):(e.state=null,t===f?h(e,-3):0):u},t.deflateSetDictionary=function(e,t){var n,r,o,c,s,l,d,p,f=t.length;if(!e||!e.state)return u;if(2===(c=(n=e.state).wrap)||1===c&&42!==n.status||n.lookahead)return u;for(1===c&&(e.adler=i(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===c&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new a.Buf8(n.w_size),a.arraySet(p,t,f-n.w_size,n.w_size,0),t=p,f=n.w_size),s=e.avail_in,l=e.next_in,d=e.input,e.avail_in=f,e.next_in=0,e.input=t,S(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,S(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=d,e.avail_in=s,n.wrap=c,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(0);function a(e){for(var t=e.length;--t>=0;)e[t]=0}var o=256,i=286,c=30,s=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],l=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],p=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);a(f);var m=new Array(60);a(m);var h=new Array(512);a(h);var v=new Array(256);a(v);var g=new Array(29);a(g);var y,_,b,k=new Array(c);function w(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function I(e){return e<256?h[e]:h[256+(e>>>7)]}function C(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function x(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,C(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function P(e,t,n){x(e,n[2*t],n[2*t+1])}function E(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function O(e,t,n){var r,a,o=new Array(16),i=0;for(r=1;r<=s;r++)o[r]=i=i+n[r-1]<<1;for(a=0;a<=t;a++){var c=e[2*a+1];0!==c&&(e[2*a]=E(o[c]++,c))}}function N(e){var t;for(t=0;t<i;t++)e.dyn_ltree[2*t]=0;for(t=0;t<c;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function D(e){e.bi_valid>8?C(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function T(e,t,n,r){var a=2*t,o=2*n;return e[a]<e[o]||e[a]===e[o]&&r[t]<=r[n]}function j(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&T(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!T(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r}function A(e,t,n){var r,a,i,c,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],a=e.pending_buf[e.l_buf+s],s++,0===r?P(e,a,t):(P(e,(i=v[a])+o+1,t),0!==(c=u[i])&&x(e,a-=g[i],c),P(e,i=I(--r),n),0!==(c=l[i])&&x(e,r-=k[i],c))}while(s<e.last_lit);P(e,256,t)}function R(e,t){var n,r,a,o=t.dyn_tree,i=t.stat_desc.static_tree,c=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(a=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[a]=0,e.opt_len--,c&&(e.static_len-=i[2*a+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)j(e,o,n);a=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],j(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*a]=o[2*n]+o[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=a,e.heap[1]=a++,j(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,a,o,i,c,u=t.dyn_tree,l=t.max_code,d=t.stat_desc.static_tree,p=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,h=t.stat_desc.max_length,v=0;for(o=0;o<=s;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)>h&&(o=h,v++),u[2*r+1]=o,r>l||(e.bl_count[o]++,i=0,r>=m&&(i=f[r-m]),c=u[2*r],e.opt_len+=c*(o+i),p&&(e.static_len+=c*(d[2*r+1]+i)));if(0!==v){do{for(o=h-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[h]--,v-=2}while(v>0);for(o=h;0!==o;o--)for(r=e.bl_count[o];0!==r;)(a=e.heap[--n])>l||(u[2*a+1]!==o&&(e.opt_len+=(o-u[2*a+1])*u[2*a],u[2*a+1]=o),r--)}}(e,t),O(o,l,e.bl_count)}function W(e,t,n){var r,a,o=-1,i=t[1],c=0,s=7,u=4;for(0===i&&(s=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=i,i=t[2*(r+1)+1],++c<s&&a===i||(c<u?e.bl_tree[2*a]+=c:0!==a?(a!==o&&e.bl_tree[2*a]++,e.bl_tree[32]++):c<=10?e.bl_tree[34]++:e.bl_tree[36]++,c=0,o=a,0===i?(s=138,u=3):a===i?(s=6,u=3):(s=7,u=4))}function L(e,t,n){var r,a,o=-1,i=t[1],c=0,s=7,u=4;for(0===i&&(s=138,u=3),r=0;r<=n;r++)if(a=i,i=t[2*(r+1)+1],!(++c<s&&a===i)){if(c<u)do{P(e,a,e.bl_tree)}while(0!=--c);else 0!==a?(a!==o&&(P(e,a,e.bl_tree),c--),P(e,16,e.bl_tree),x(e,c-3,2)):c<=10?(P(e,17,e.bl_tree),x(e,c-3,3)):(P(e,18,e.bl_tree),x(e,c-11,7));c=0,o=a,0===i?(s=138,u=3):a===i?(s=6,u=3):(s=7,u=4)}}a(k);var M=!1;function F(e,t,n,a){x(e,0+(a?1:0),3),function(e,t,n,a){D(e),C(e,n),C(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}t._tr_init=function(e){M||(function(){var e,t,n,r,a,o=new Array(16);for(n=0,r=0;r<28;r++)for(g[r]=n,e=0;e<1<<u[r];e++)v[n++]=r;for(v[n-1]=r,a=0,r=0;r<16;r++)for(k[r]=a,e=0;e<1<<l[r];e++)h[a++]=r;for(a>>=7;r<c;r++)for(k[r]=a<<7,e=0;e<1<<l[r]-7;e++)h[256+a++]=r;for(t=0;t<=s;t++)o[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,o[8]++;for(;e<=255;)f[2*e+1]=9,e++,o[9]++;for(;e<=279;)f[2*e+1]=7,e++,o[7]++;for(;e<=287;)f[2*e+1]=8,e++,o[8]++;for(O(f,287,o),e=0;e<c;e++)m[2*e+1]=5,m[2*e]=E(e,5);y=new w(f,u,257,i,s),_=new w(m,l,0,c,s),b=new w(new Array(0),d,0,19,7)}(),M=!0),e.l_desc=new S(e.dyn_ltree,y),e.d_desc=new S(e.dyn_dtree,_),e.bl_desc=new S(e.bl_tree,b),e.bi_buf=0,e.bi_valid=0,N(e)},t._tr_stored_block=F,t._tr_flush_block=function(e,t,n,r){var a,i,c=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),R(e,e.l_desc),R(e,e.d_desc),c=function(e){var t;for(W(e,e.dyn_ltree,e.l_desc.max_code),W(e,e.dyn_dtree,e.d_desc.max_code),R(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*p[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?F(e,t,n,r):4===e.strategy||i===a?(x(e,2+(r?1:0),3),A(e,f,m)):(x(e,4+(r?1:0),3),function(e,t,n,r){var a;for(x(e,t-257,5),x(e,n-1,5),x(e,r-4,4),a=0;a<r;a++)x(e,e.bl_tree[2*p[a]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),A(e,e.dyn_ltree,e.dyn_dtree)),N(e),r&&D(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(v[n]+o+1)]++,e.dyn_dtree[2*I(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){x(e,2,3),P(e,256,f),function(e){16===e.bi_valid?(C(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var a=65535&e|0,o=e>>>16&65535|0,i=0;0!==n;){n-=i=n>2e3?2e3:n;do{o=o+(a=a+t[r++]|0)|0}while(--i);a%=65521,o%=65521}return a|o<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,a){var o=r,i=a+n;e^=-1;for(var c=a;c<i;c++)e=e>>>8^o[255&(e^t[c])];return-1^e}},function(e,t,n){"use strict";var r=n(0),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var i=new r.Buf8(256),c=0;c<256;c++)i[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;function s(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}i[254]=i[254]=1,t.string2buf=function(e){var t,n,a,o,i,c=e.length,s=0;for(o=0;o<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<c&&56320==(64512&(a=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(a-56320),o++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(s),i=0,o=0;i<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<c&&56320==(64512&(a=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(a-56320),o++),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},t.buf2binstring=function(e){return s(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,a=t.length;n<a;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,a,o,c=t||e.length,u=new Array(2*c);for(r=0,n=0;n<c;)if((a=e[n++])<128)u[r++]=a;else if((o=i[a])>4)u[r++]=65533,n+=o-1;else{for(a&=2===o?31:3===o?15:7;o>1&&n<c;)a=a<<6|63&e[n++],o--;o>1?u[r++]=65533:a<65536?u[r++]=a:(a-=65536,u[r++]=55296|a>>10&1023,u[r++]=56320|1023&a)}return s(u,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+i[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports=function(e,t,n){if((t-=(e+="").length)<=0)return e;if(n||0===n||(n=" ")," "==(n+="")&&t<10)return r[t]+e;for(var a="";1&t&&(a+=n),t>>=1;)n+=n;return a+e};var r=[""," ","  ","   ","    ","     ","      ","       ","        ","         "]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crc32=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r<2048?t+=String.fromCharCode(192|r>>6)+String.fromCharCode(128|63&r):r<55296||r>=57344?t+=String.fromCharCode(224|r>>12)+String.fromCharCode(128|r>>6&63)+String.fromCharCode(128|63&r):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++n)),t+=String.fromCharCode(240|r>>18)+String.fromCharCode(128|r>>12&63)+String.fromCharCode(128|r>>6&63)+String.fromCharCode(128|63&r))}return t}(e),t^=-1;for(var n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0};var r=function(){for(var e=[],t=void 0,n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}()},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(3),a=n(15),o=n(16),i=v;!function(e,t){for(var n=v,r=y();;)try{if(596782==parseInt(n(394,"ny]r"))/1+-parseInt(n(357,"x]@s"))/2*(parseInt(n(347,"oJ@J"))/3)+-parseInt(n(337,"KtS*"))/4*(-parseInt(n(375,"jbVU"))/5)+parseInt(n(382,"x]@s"))/6*(-parseInt(n(330,"]nGP"))/7)+-parseInt(n(372,"fVDB"))/8+parseInt(n(397,"1IMn"))/9+-parseInt(n(393,"iJ0r"))/10*(-parseInt(n(400,"6NX^"))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();var c=i(363,"1IMn"),s=i(381,"Zg$y"),u=i(313,"upP9"),l=i(322,"KtS*"),d=i(318,"JHVq"),p=i(335,"p8sD"),f=i(340,"jbVU"),m=i(403,"2Z1D"),h=void 0;function v(e,t){var n=y();return(v=function(t,r){var a=n[t-=310];void 0===v.NqsvKE&&(v.LgOAtZ=function(e,t){var n=[],r=0,a=void 0,o="";e=function(e){for(var t,n,r="",a="",o=0,i=0;n=e.charAt(i++);~n&&(t=o%4?64*t+n:n,o++%4)?r+=String.fromCharCode(255&t>>(-2*o&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var c=0,s=r.length;c<s;c++)a+="%"+("00"+r.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(a)}(e);var i=void 0;for(i=0;i<256;i++)n[i]=i;for(i=0;i<256;i++)r=(r+n[i]+t.charCodeAt(i%t.length))%256,a=n[i],n[i]=n[r],n[r]=a;i=0,r=0;for(var c=0;c<e.length;c++)r=(r+n[i=(i+1)%256])%256,a=n[i],n[i]=n[r],n[r]=a,o+=String.fromCharCode(e.charCodeAt(c)^n[(n[i]+n[r])%256]);return o},e=arguments,v.NqsvKE=!0);var o=t+n[0],i=e[o];return i?a=i:(void 0===v.zSKpcY&&(v.zSKpcY=!0),a=v.LgOAtZ(a,r),e[o]=a),a})(e,t)}("undefined"==typeof window?"undefined":t(window))!==i(374,"JHVq")&&(h=window);var g={setCookie:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9999,r=i,a={};a[r(346,"1V&b")]=function(e,t){return e+t},a[r(328,"x^aA")]=r(317,"QHJK"),a[r(323,"]nGP")]=function(e,t){return e*t},a[r(342,"R[Qg")]=function(e,t){return e*t},a[r(408,"oWqr")]=function(e,t){return e+t},a[r(373,"woOD")]=r(364,"@]iD"),a[r(406,"Fq&Z")]=function(e,t){return e||t},a[r(407,"R[Qg")]=r(416,"1V&b");var o=a;e=o[r(395,"w&#4")]("_",e);var c="";if(n){var s=new Date;s[r(399,"*KkM")](o[r(367,"Ky!n")](s[o[r(383,"#koT")]](),o[r(321,"Ky!n")](o[r(390,"J3d$")](o[r(326,"JOHM")](o[r(409,"ny]r")](n,24),60),60),1e3))),c=o[r(398,"]nGP")](o[r(373,"woOD")],s[r(316,"iJ0r")]())}h[f][p]=o[r(385,"^R*1")](o[r(338,"HG2n")](o[r(359,"I(B^")](o[r(311,"KtS*")](e,"="),o[r(354,"fVDB")](t,"")),c),o[r(356,"vAE3")])},getCookie:function(e){var t=i,n={};n[t(361,"1V&b")]=function(e,t){return e+t},n[t(360,"6NX^")]=function(e,t){return e<t},n[t(334,"xXnT")]=function(e,t){return e===t},n[t(341,"FnT9")]=t(401,"Ky!n");var r=n;e=r[t(332,"vAE3")]("_",e);for(var a=r[t(396,"#koT")](e,"="),o=h[f][p][s](";"),u=0;r[t(348,"vAE3")](u,o[m]);u++){for(var d=o[u];r[t(386,"$a49")](d[c](0)," ");)d=d[l](1,d[m]);if(r[t(353,"iJ0r")](d[r[t(325,"JOHM")]](a),0))return d[l](a[m],d[m])}return null},setStorage:function(e,t){var n=i,r={};r[n(333,"x]@s")]=function(e,t){return e+t},e=r[n(329,"iJ0r")]("_",e),h[d][n(331,"JHVq")](e,t)},getStorage:function(e){var t=i,n={};return n[t(344,"HY]&")]=function(e,t){return e+t},e=n[t(320,"oWqr")]("_",e),h[d][t(310,"Zg$y")](e)}};function y(){var e=["oCoBgaldQ3dcGq","xSkjWRpcR0ZcSfe","lZtcU396","WQBdNSkPFCoq","WQrUhSkUW7y","WRXpc8kUW6S","WOVcT8kgBaJdTW","eZZcON1YcmkQx8kBuW","g1JdUYSFbapcTmoGWOjc","W5eky8khh8o/","WQjoW4ddGmo9","WOzZWROruW","t8ovWONdRSklW6hcImoEW4tdUq","BKfYWPVcOa","W5BcGmoWW6VdMq","W7dcHGmXW5ddPWOWcmoyo8o3pW","W7flW7xdRHe","WRddOgWjW5lcN38AW4e","Amo/W4yJdCoWaSo1W7n6","WPjSWOuDAa","DmoDxq","txpcOSo+rSoPWPuWrmou","WPS9WO8QWQfWW5ivFa1xWOHF","W6xcPSojW4NdGJRcOq","WPPWk1fM","pSkImtpdKuxcSCou","W5BcRCkRegS","A8olsmkFhG","Bc3cHeX6","wSkexX/dRW","W5m8cZGq","ECk4uXZdTCkcWPtdJW3cKfa","q8owEfxdGW","mCopWOTfWQu","WOzbWQZcSrtcICoe","l8kOp8oeqa","WQpdT8kaWPxdLshcHGJdLIG","n8oUdCobcq1ZWRVdNZddQx4","mSoIBWGn","W73cJ8kAh0O","W53dPSosl37cS8ogmSowWPypW5S","v8o7y8kSjq","lY4lseFdM3u","W4pcJ8o6kSkfW6yzW4hdICogaW","WOLlW7xdQCoVWPLJ","WOddVCk7vCoI","sxr+WO7cSmkM","rCozWOFdQmo5WOdcTSoeW7FdVCkJvG","gmkeWRzydq","gGuqWQyu","W4jRr8ocWQS","WQD6WPBcJZC","u8kDE8kfwW","WRKnW5bqdW","xCkkW7rkW5FcTaPibSoMCwG","WO7cSmkvwYJdOmom","mSoEWPebW7zKW5hcSa","fmkPgr5l","W6lcImo4","W5y6fmkcW63cO2DU","WRW3W5NdSgq","WO5Lm3fMW63cHq","lCkqj8kJWOi","uCovASkQeq","E8oQC0tdGG","ENDG","FCozr8kskW","W6pcRmoSW7hdOaRcSbZdPqpdHW","bgPvde7cRmoc","WQNdOwSnW5JcPwuqW5CcWPhcLa","ASkdWQddRvm","WRLsWPJcVWi","WQP/W4FdP8op","gSkMd8kbWQDff8k9yq","wCoIF8kwla","z8oddaJdKq","W5qzjX8W","W4Okgaa7","WQyHW6/dK0tcTMa","WO7dQe/cN8kB","W5xcTSotW4NdKW","jSkbh8onqCkdW5ddR104WRJdIG","WRBdQ3WLW4dcK3W","j8ooWRWWWOe","tCoViZZdRG","WPOmWRnNWQ4","WO0VWRZdLcpcJa","yCo7jZ/dGxpcTG","wSoQw8ogWPjLe8kFy8oK","q8oJW4rfnq","gCkkhtLnla","pCkOWPXJgSo2p8oi","kmkLW5BcRSkz","W5zCECo3WOC","WOamWRJdSYu","WOK3W5fOeG","iSkaemoidSoxW5tdQfyv","WQ9XnCkVW7m","W6ZdIYTKWOCdomoHC8kGWRtcMW","omoDWQaCWO8","dSkjW5VcR8kPW5y","fYJdRa","WP0WWOGOWQv+WRC0wrToWPa","WRa0W7r7nCkQb1tcPeS","W4dcKmoGW5BdIq","WPtdP3vZWOS","hvFdUYWCtsxcI8oGWQ9xWQa","lCooWRW7WQK"];return(y=function(){return e})()}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date[i(350,"7y%^")](),t=i,n={QUoMr:function(e,t){return e(t)},xsabj:function(e){return e()},pDtIS:function(e,t){return e%t},jQEYy:function(e,t,n,r){return e(t,n,r)},elqzY:t(366,"S!Ft"),EJPAI:t(380,"iJ0r")},c=n[t(362,"1V&b")](String,e)[u](0,10),l=n[t(384,"]nGP")](a),d=n[t(402,"6NX^")]((c+"_"+l)[s]("")[t(349,"FnT9")]((function(e,n){return e+n[t(352,"HY]&")](0)}),0),1e3),p=n[t(410,"HY]&")](o,n[t(376,")vJB")](String,d),3,"0");return r[n[t(319,"c#3e")]](""+c+p)[n[t(368,")vJB")]](/=/g,"")+"_"+l}function b(e){var t=i,n={};n[t(371,"iJ0r")]=function(e,t){return e+t},n[t(414,"u&H)")]=t(388,"$a49");var r=n;return r[t(405,"jbVU")](e[c](0)[r[t(343,"p8sD")]](),e[u](1))}e[i(391,"oWqr")]=function(){var e=i,t={KPbrd:function(e,t){return e(t)},GaPbt:e(336,"x]@s"),SlESs:function(e){return e()},ibYQA:e(339,"u&H)"),BmCWe:e(327,"^XGH"),hYEXO:e(412,"1IMn")},n=t[e(392,"ve3x")],r={},a=t[e(387,"JOHM")](_);return[t[e(417,"^XGH")],t[e(312,"]nGP")]][t[e(324,"x]@s")]]((function(o){var i=e;try{var c=i(315,"]nGP")+o+i(314,"2Z1D");r[c]=g[i(377,"]nGP")+t[i(370,"2Z1D")](b,o)](n),!r[c]&&(g[i(415,"kD*R")+t[i(389,"upP9")](b,o)](n,a),r[c]=a)}catch(e){}})),r}}).call(this,n(1)(e))},function(e,t,n){"use strict";e.exports=function(e){e=e||21;for(var t="";0<e--;)t+="_~varfunctio0125634789bdegjhklmpqswxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[64*Math.random()|0];return t}},function(e,t,n){"use strict";e.exports=function(e,t,n){if("string"!=typeof e)throw new Error("The string parameter must be a string.");if(e.length<1)throw new Error("The string parameter must be 1 character or longer.");if("number"!=typeof t)throw new Error("The length parameter must be a number.");if("string"!=typeof n&&n)throw new Error("The character parameter must be a string.");var r=-1;for(t-=e.length,n||0===n||(n=" ");++r<t;)e+=n;return e}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=17}])},fho7:function(e,t,n){"use strict";var r=function(e){};r=n("g5zU"),t.a=r},fkZF:function(e,t,n){"use strict";function r(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="";t.length<e;)t+=Math.random().toString(36).slice(2);return t.slice(0,e)}n.d(t,"a",(function(){return r}))},g4LU:function(e,t,n){e.exports={popover:"_2sFbuBdZ",bg:"MfG-3mB1",bgShown:"V_7xRf2B",main:"_2aePaY0-",mainShown:"_2FXzOBOm"}},gJ0l:function(e,t,n){"use strict";var r=n("MVZn"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("TSYQ"),s=n.n(c),u=n("/jjR"),l=n("OyxV"),d=n.n(l);function p(e){var t=e.name,n=e.prepend,r=e.icons,o=e.row,c=e.style,l=e.className,p=e.webpEnable,f=e.lazy,m=e.nameLineHeight,h=void 0===m?18:m,v=e.stylesheet||d.a;return t?i.a.createElement("div",{style:a()(a()({},c),{},{maxHeight:"".concat(Math.round(o)*h/100,"rem")}),className:s()(v.container,l)},n,r?r.map((function(e){var t=(e="string"==typeof e?{url:e}:e)||{},n=t.url,r=t.height,a=t.width,o={width:a&&r?"".concat(a/r*.14,"rem"):"auto"};return n?i.a.createElement(u.a,{key:n,src:n,className:v.icon,processParam:{webpEnable:p},lazy:f,style:o}):null})):null,i.a.createElement("span",{className:v.name},t)):null}p.defaultProps={name:"",row:1,webpEnable:!1,lazy:!1},t.a=p},gNBk:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d}));var r=n("KoDT"),a=n("h3qu"),o=n("MpJ2");function i(){var e={1:1,2:.5,4:.25,5:.2,10:.1},t=1,n=1;if(window.__CMT_AMPLIFY_RATE__){var r=window.__CMT_AMPLIFY_RATE__;e[r]?(t=+r,n=e[r]):console.warn("monitor放大倍数${rate}不合法支持1,2,4,5,10")}return{amplifyRate:t,sampleRate:n}}function c(){return window.__pre_render_performance_timing||{}}var s=Object(r.a)();function u(e){var t=function(){return setTimeout(e,0)};"complete"===document.readyState?t():window.addEventListener("load",t)}function l(e,t){if(s.isNativePlatform&&Object(a.c)(s.systemVersion,"4.3.0")>=0)Object(o.f)("JSNetwork","request",{url:e,method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}}).catch((function(e){console.error(e)}));else{var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.withCredentials=!0,n.send(JSON.stringify(t))}}function d(e){var t=window.location,n=t.protocol,r=(t.hostname,"".concat("amcomponent:"===n?"https:":n,"//").concat(window.__CMT_HOST__||"cmtw.pinduoduo.com"));return"".concat(r).concat(e)}},"gNl/":function(e,t,n){e.exports={container:"_1ltHEpcD",left:"_1eVdZs4J",right:"_126CHW8J",mall:"_1WeLnxty",tags:"_3umkSvgS",epsa:"_2GvveaxW",bottomHr:"_3stGOTFm"}},gWL1:function(e,t,n){e.exports={bubbleContainer:"_3_Hv0n-A",recCardTriangle:"_3l7sd2NN",recList:"_3cGAdVdi",recCardItem:"_4rnWftx7"}},gYYV:function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return a})),function(e){e[e.Hide=0]="Hide",e[e.Show=1]="Show"}(r||(r={})),function(e){e[e.Create=0]="Create",e[e.History=1]="History",e[e.Vistor=2]="Vistor",e[e.Local=3]="Local"}(a||(a={}))},gi5g:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return r=!0}});window.addEventListener("passivesupport",null,a)}catch(e){}var o=-1,i=-1;function c(e,t){var n=function(e){var t=e.targetTouches[0];return Math.abs(t.clientY-i)>Math.abs(t.clientX-o)}(t);!n||n&&function(e){return e.targetTouches[0].clientY>i}(t)&&!function(e){return e.scrollTop<=0}(e)||n&&function(e){return e.targetTouches[0].clientY<i}(t)&&!function(e){return e.scrollHeight<=e.scrollTop+e.clientHeight+1}(e)?t.stopPropagation():t.cancelable&&t.preventDefault()}var s=[];function u(e){e.cancelable&&e.preventDefault()}var l=!1;function d(){l||(document.body.removeEventListener("touchmove",u),document.documentElement.removeEventListener("touchmove",u),s.forEach((function(e){return e()})),s=[])}function p(e){var t=!!r&&{passive:!1};document.body.addEventListener("touchmove",u,t),document.documentElement.addEventListener("touchmove",u,t),e&&(e=e.nodeType?[e]:Array.prototype.slice.call(e)).forEach((function(e){e.nodeType?function(e){function t(e){o=e.targetTouches[0].clientX,i=e.targetTouches[0].clientY}var n=c.bind(null,e),a=!!r&&{passive:!1};e.addEventListener("touchstart",t,a),e.addEventListener("touchmove",n,a),s.push((function(){e.removeEventListener("touchstart",t),e.removeEventListener("touchmove",n)}))}(e):console.error("disableEventNew: 参数错误，需传dom对象")}))}function f(e){return p(e),l?function(){}:(l=!0,function(){l=!1,d()})}},gseV:function(e,t,n){"use strict";var r=n("q1tI"),a=n("MpJ2"),o=n("KoDT"),i=0;t.a=function(e){var t=e.children;return Object(r.useEffect)((function(){if(Object(o.a)().isNativePlatform){var e=0;return Object(a.f)("WebScene","getUnoContext").then((function(t){var n=t.immerse;(e=n)&&!i&&Object(a.f)("JSUIControl","hideNavigationBar"),i++})),function(){i--,e&&!i&&Object(a.f)("JSUIControl","showNavigationBar")}}}),[]),t}},gvkz:function(e,t,n){"use strict";var r=n("MVZn"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("TSYQ"),s=n.n(c),u=n("/jjR"),l=n("l6CY"),d=n("WRcS"),p=n.n(d);function f(e){var t=e.tags,n=e.tagStyle,r=e.row,o=e.style,c=e.className,d=e.webpEnable,f=e.lazy,m=e.tagHeight,h=void 0===m?14:m,v=e.stylesheet||p.a,g=a()(a()({},o),{},{height:"".concat(r*h/100,"rem")});return i.a.createElement("div",{style:g,className:s()(v.tags,c)},t?t.map((function(e,t){var r=e.url,a=void 0===r?"":r,o=e.text,c=void 0===o?"":o,s=e.text_color,p=void 0===s?"":s,m=e.textColor,h=void 0===m?"#9C9C9C":m,g=e.bg_color,y=p||h,_=1===n?{color:y,background:"transparent",padding:"0",marginLeft:0===t?"0":".06rem"}:{color:y,backgroundColor:(void 0===g?"":g)||Object(l.b)(y,.08)};return i.a.createElement("div",{className:v.tag,style:_,key:c},a&&i.a.createElement(u.a,{src:a,lazy:f,processParam:{webpEnable:d}}),i.a.createElement("span",{className:v.text},c))})):null)}f.defaultProps={tagStyle:0,row:1,webpEnable:!1,lazy:!1},t.a=f},gvmc:function(e,t,n){},"gze+":function(e,t,n){e.exports={skuPreSaleTip:"ceMJmCmA",skuPreSaleTipOC:"whL73SdO"}},gzrZ:function(e,t,n){"use strict";var r=n("MVZn"),a=n.n(r),o=n("o0o1"),i=n.n(o),c=n("yXPU"),s=n.n(c),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),p=n.n(d),f=n("mwIZ"),m=n.n(f),h=n("KoDT"),v=n("MpJ2"),g=n("7W2i"),y=n.n(g),_=n("a1gu"),b=n.n(_),k=n("Nsbk"),w=n.n(k),S=n("q1tI"),I=n.n(S),C=n("i8i4"),x=n.n(C),P=n("2xwX"),E=n("J4zp"),O=n.n(E);n("1R20");var N=n("HNyE"),D=n.n(N),T=I.a.createElement("svg",{t:"1631178532091",viewBox:"0 0 1024 1024"},I.a.createElement("path",{d:"M943.3 147.7C811.4 142 685 97.8 567.9 16.3L545.7 0.8l-22.1 15.4C406.4 97.8 280.1 142.1 149 147.7h-41.4v345.8c0 253.4 176.4 470.3 428.7 527.5l11 1.8 7.9-1.8c252.4-57.2 428.6-274.1 428.6-527.5V147.7h-40.5zM516.2 686.8L323.9 494.4l51.6-51.6 140.6 140.7 246.6-246.7 51.6 51.6-298.1 298.4z"}));var j=function(e){var t=e.title,n=e.callbacks,r=void 0===n?{}:n,a=Object(S.useState)(!0),o=O()(a,2),i=o[0],c=o[1];r.hideLoading=function(){return c(!1)},r.showLoading=function(){return c(!0)};var s={display:i?"block":"none",opacity:i?1:0};return I.a.createElement("div",{className:D.a.container,style:s},I.a.createElement("div",{className:D.a.icon},T),I.a.createElement("div",{className:D.a.title},t),I.a.createElement("div",{className:D.a.dot1}),I.a.createElement("div",{className:D.a.dot2}),I.a.createElement("div",{className:D.a.dot3}))},A=n("L/R6"),R=n.n(A),W=I.a.createElement("svg",{viewBox:"0 0 1024 1024"},I.a.createElement("path",{d:"M512.000586 0c-282.768737 0-511.999414 229.229504-511.999413 511.999414s229.231849 511.999414 511.999413 511.999413c282.76991 0 511.999414-229.229504 511.999414-511.999413S794.770496 0 512.000586 0z m277.41458 419.425847L486.618477 722.222536a46.106747 46.106747 0 0 1-15.420913 10.194598c-16.82484 6.812037-36.904398 3.430649-50.49446-10.158239L265.355115 566.910906c-18.100924-18.102097-18.100924-47.722964 0-65.825061h0.001173c18.100924-18.102097 47.722964-18.102097 65.823889 0L453.642025 623.547693l269.946906-269.946907c18.100924-18.100924 47.722964-18.100924 65.825062 0 18.102097 18.102097 18.102097 47.724137 0.001173 65.825061z","p-id":"101653"}));var L=function(e){var t=e.title,n=e.callbacks,r=void 0===n?{}:n,a=Object(S.useState)(!0),o=O()(a,2),i=o[0],c=o[1];r.hideLoading=function(){return c(!1)};var s={display:i?"block":"none",opacity:i?1:0};return I.a.createElement("div",{className:R.a.container,style:s},I.a.createElement("div",{className:R.a.icon},W),I.a.createElement("div",{className:R.a.title},t))},M=n("eJ5W"),F=n.n(M),B=I.a.createElement("svg",{viewBox:"0 0 1024 1024"},I.a.createElement("path",{d:"M512.000586 0c-282.768737 0-511.999414 229.229504-511.999413 511.999414s229.231849 511.999414 511.999413 511.999413c282.76991 0 511.999414-229.229504 511.999414-511.999413S794.770496 0 512.000586 0z m277.41458 419.425847L486.618477 722.222536a46.106747 46.106747 0 0 1-15.420913 10.194598c-16.82484 6.812037-36.904398 3.430649-50.49446-10.158239L265.355115 566.910906c-18.100924-18.102097-18.100924-47.722964 0-65.825061h0.001173c18.100924-18.102097 47.722964-18.102097 65.823889 0L453.642025 623.547693l269.946906-269.946907c18.100924-18.100924 47.722964-18.100924 65.825062 0 18.102097 18.102097 18.102097 47.724137 0.001173 65.825061z","p-id":"101653"}));var U=function(e){var t=e.title,n=e.payInfoTitle,r=e.callbacks,a=void 0===r?{}:r,o=Object(S.useState)(!0),i=O()(o,2),c=i[0],s=i[1];a.hideLoading=function(){return s(!1)};var u={display:c?"block":"none",opacity:c?1:0};return I.a.createElement("div",{className:F.a.container,style:u},I.a.createElement("div",{className:F.a.icon},B),I.a.createElement("div",{className:F.a.title},n),I.a.createElement("div",{className:F.a.title},t))},V=n("h3qu"),H=(n("p+lt"),{fadeIn:function(e,t){t=t||{};var n=0;this.animate_({duration:t.duration,step:function(t){n+=t,e.style.opacity=n},complete:t.complete})},fadeOut:function(e,t){void 0!==t&&null!=t||(t={});var n=1;this.animate_({duration:t.duration,step:function(t){n-=t,e.style.opacity=n},complete:t.complete})},animate_:function(e){var t=this;(e=e||{}).duration=e.duration||300,null==e.easing&&(e.easing=function(e){return t.easing_.linear(e)}),e.lastProgress=e.easing(0);var n=Date.now(),r=setInterval((function(){var t=Date.now()-n,a=e.easing(Math.min(1,t/e.duration)),o=a-e.lastProgress;null!=e.step&&e.step(o),a>=1&&(clearInterval(r),null!=e.complete&&e.complete()),e.lastProgress=a}),1e3/24)},easing_:{linear:function(e){return e}}}),q=document.createElement("div");q.innerHTML='<div class="icon-toast-container">\n    <div class="icon-toast">\n        <div class="icon-toast-background"></div>\n        <div class="icon-toast-box">\n            <i id="icon-toast-icon" class="icon icon-toast-icon"></i>\n        </div>\n        <div id="icon-toast-msg" class="icon-toast-msg"></div>\n    </div>\n</div>';var z=q.firstChild;document.body.appendChild(z);var Q=n("whv1");function G(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var J=function(){function e(t){l()(this,e),this.dom=t}return p()(e,[{key:"showSpinner",value:function(){Object(P.b)()}},{key:"hideSpinner",value:function(){Object(P.a)()}},{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"markSwitched",value:function(){}},{key:"markDuringMianmi",value:function(){}},{key:"markSignXianYongHouFu",value:function(){}},{key:"showSuccess",value:function(){}}]),e}(),K=function(e){y()(n,e);var t=G(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).callbacks={},e.switched=!1,e}return p()(n,[{key:"markSwitched",value:function(){this.switched=!0}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,n=void 0===t?"免密支付中":t;Object(P.a)(),x.a.render(I.a.createElement(j,{title:n,callbacks:this.callbacks}),this.dom),this.callbacks.showLoading&&this.callbacks.showLoading()}},{key:"showSuccess",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.title,r=void 0===n?"支付成功":n,a=t.payInfoTitle;return this.switched?x.a.render(I.a.createElement(U,{payInfoTitle:a,title:r,callbacks:this.callbacks}),this.dom):x.a.render(I.a.createElement(L,{title:r,callbacks:this.callbacks}),this.dom),new Promise((function(t){setTimeout((function(){e.hide(),t()}),1500)}))}},{key:"hide",value:function(){this.callbacks.hideLoading&&this.callbacks.hideLoading()}}]),n}(J),Y=function(e){y()(o,e);var t,n,r,a=G(o);function o(e,t){var n;return l()(this,o),(n=a.call(this,e)).callbacks={},n.switched=!1,n.duringMianmi=!1,n.signXyhf=!1,n.renderProcess=Promise.resolve(),n.showSafeHint=t,n}return p()(o,[{key:"markSwitched",value:function(){this.switched=!0}},{key:"markDuringMianmi",value:function(){this.duringMianmi=!0}},{key:"markSignXianYongHouFu",value:function(){this.signXyhf=!0}},{key:"getMianmiText",value:function(e){return e===Q.a.WeChat?"微信支付":e===Q.a.DuoDuoPay?"多多支付":e===Q.a.AliPayDirectDebit?"支付宝":void 0}},{key:"show",value:(r=s()(i.a.mark((function e(){var t,n,r,a,o=this,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.title,r=void 0===n?"免密支付中":n,a=t.paymentType,Object(P.a)(),this.duringMianmi){e.next=6;break}this.realShow(r),e.next=10;break;case 6:if(!this.switched||this.signXyhf&&a===Q.a.XianYongHouFu){e.next=8;break}return e.abrupt("return");case 8:this.showSafeHint&&(this.showSafeHint=!1,this.renderProcess=this.renderProcess.then((function(){return o.realShow("安全检测通过"),new Promise((function(e){return setTimeout(e,600)}))}))),this.renderProcess=this.renderProcess.then((function(){return o.realShow(o.signXyhf&&a===Q.a.XianYongHouFu?r:o.getMianmiText(a)),new Promise((function(e){return setTimeout(e,600)}))}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"realShow",value:function(e){x.a.render(I.a.createElement(j,{title:e,callbacks:this.callbacks}),this.dom),this.callbacks.showLoading&&this.callbacks.showLoading()}},{key:"showSuccess",value:(n=s()(i.a.mark((function e(){var t,n,r,a,o=this,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.title,r=void 0===n?"支付成功":n,a=t.payInfoTitle,e.next=3,this.renderProcess;case 3:return this.switched?x.a.render(I.a.createElement(U,{payInfoTitle:a,title:r,callbacks:this.callbacks}),this.dom):x.a.render(I.a.createElement(L,{title:r,callbacks:this.callbacks}),this.dom),e.abrupt("return",new Promise((function(e){setTimeout((function(){o.realHide(),e()}),1500)})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"hide",value:(t=s()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.renderProcess;case 2:this.realHide();case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"realHide",value:function(){this.callbacks.hideLoading&&this.callbacks.hideLoading()}}]),o}(J),X=new(function(){function e(){l()(this,e),this.el=null,this.renderer=null,this.currentPaymentType=null,this.startChannel=null,this.mianmiChannels=[]}return p()(e,[{key:"getDom",value:function(){return this.el||(this.el=document.createElement("div"),this.el.setAttribute("id","pdd-pay-loading-manager"),document.body.appendChild(this.el)),this.el}},{key:"dispose",value:function(){this.el&&document.body.removeChild(this.el),this.el=null}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.paymentType,n=e.mianmiV3,r=e.mianmiV3SafeHint;this.currentPaymentType=t;var a=this.getDom();this.renderer=n?new Y(a,r):new K(a)}},{key:"showSpinner",value:function(){this.renderer.showSpinner()}},{key:"hideSpinner",value:function(){this.renderer.hideSpinner()}},{key:"markDuringMianmi",value:function(){this.renderer.markDuringMianmi()}},{key:"markSignXianYongHouFu",value:function(){this.renderer.markSignXianYongHouFu()}},{key:"show",value:function(e){this.renderer.show(a()(a()({},e),{},{paymentType:this.currentPaymentType}))}},{key:"hide",value:function(){return this.renderer.hide()}},{key:"isMianmiChannelUsed",value:function(e){return this.startChannel===e||this.mianmiChannels.includes(e)}},{key:"recordMianmiChannel",value:function(e){this.mianmiChannels.push(e),this.renderer.markSwitched()}},{key:"showSuccess",value:function(e){return this.renderer.showSuccess(e)}},{key:"isSwitched",get:function(){return this.mianmiChannels.length>0}}]),e}()),Z={Success:10001,Paying:10002,Failed:10003,NotFound:10004},$={AliPayDirectDebit:{Rollback:1e4,Unsign:10001,Paying:10002,Success:10003,Failed:10004,Unknown:16666},WechatDirectPayQuery:Z,Universal:Z,UniversalException:{CHANCE_EXCEEEDED:-999999,QOGIR_EXCEPTION:-999998,QOGIR_PREMATURE_END:-999997},PayStatus:{Unpayed:0,Payed:2,RefundApplied:3,Refunded:4},ParentOrderStatus:{Unpayed:0,Payed:1,Canceled:2}},ee={Normal:"",Tail:"tail",Combine:"combine"},te=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]={code:n,message:e[n]}})),t}({1101:"手机网络繁忙，请稍后再试",30400:"没有安装QQ客户端",4e4:"错误的请求地址或方法",40001:"登录已过期，请重新登录",40002:"手机网络繁忙，请稍后再试",40003:"错误的请求参数",40004:"微信登录失败",40005:"请求还在处理中",40006:"手机登录验证码错误",40100:"暂未开通该开放平台",40015:"验证码重复请求",40016:"验证码超出当天限制",40017:"今日可发送次数已达上限",40018:"验证码填写错误",40019:"验证码填写超时",40020:"登录失败",40031:"微信登录失败!",40032:"QQ登录失败!",40033:"登录重试失败，请稍后再试",43058:"",41001:"商品不存在",41002:"商品已下架",41003:"商品已售罄",41004:"商品不在同一商店",41005:"该商品当前不在抽奖活动时间",41006:"商品不在可售区域",41101:"抽奖活动暂不支持单独购买",41102:"卡券可使用的时间已过期，请选购其他商品",42001:"拼单已满",42002:"该拼单不存在",42003:"拼单已过期",42004:"您购买此商品次数达到上限，去看看其他商品吧~",42005:"该商品开团数已达上限",42006:"拼单已满",42007:"此拼单已满，正在发起新拼单...",42501:"订单已成团，暂不支持修改收货地址，请与商家客服联系",42502:"该订单已拼单成功，请刷新页面",43001:"用户不存在",43002:"地址错误",43004:"身份证号不存在",43005:"姓名和身份证号不一致",43006:"对不起，您无法获取或更新身份证号",43007:"对不起，您已用完当前最大验证次数，请24小时后再试",43008:"姓名和身份证不匹配，请重新认证",43009:"您今日认证过于频繁，请明天再试",43010:"该地址已存在",43011:"该地址无法导入",43013:"一小时内不能重复提交",43015:"只允许微信用户够买",43016:"创建地址失败",43017:"最多只能添加100个收货地址哦~",43098:"您在店铺没有拼单成功记录，请勿发红包！拼多多不支持通过发红包购买商品！",43099:"该商品仅限新用户购买一件哦~",44001:"优惠券不存在",44002:"优惠券已使用",44003:"优惠券没有达到最小使用金额",44004:"优惠券已过期",44005:"优惠券不属于用户",44006:"优惠券已废弃",44007:"优惠券暂未到使用时间",44008:"优惠券不能在该分类使用",44010:"优惠券已经抢完了，下次早点来哦",44011:"您已经领过该优惠券",44012:"优惠券领取失败",44015:"不是团长不能使用团长免单优惠券",44016:"优惠券批次不存在",44020:"正在处理中，请稍后再试！",44026:"该券太火爆，全部已被领完",44027:"活动已结束！",44033:"优惠券使用失败",44035:"批次类型错误",44036:"团免券已被领完",44037:"用户已达团免券日领取上限",44038:"您已领取该券",44039:"未找到符合条件的团免券批次",44041:"领取失败",44042:"领取链接已失效，下次早点哦",44043:"不符合领取条件哦",44044:"该优惠券活动不存在",44045:"不在活动时间",44046:"只有无订单的新用户可领取哦",44047:"红包券数量不够",44061:"多件优惠活动结束",44063:"多件优惠已经享受过了",44064:"多件优惠活动暂未开始",44065:"多件优惠活动暂未开始",44066:"多件优惠活动结束",44067:"商家券和多件优惠活动不能同时使用",44072:"分享码已过期",44073:"免拼卡不足",44076:"不符合免拼卡的使用条件",44090:"商品活动未开始",44091:"商品活动已结束",44092:"商品活动不存在",44093:"活动商品已售罄",44095:"商品活动已结束",44096:"商品活动不存在",44097:"您购买的该活动商品数量已达上限",44098:"商品订单已创建",44099:"商品活动有误",44100:"您未获取抢购资格，不可购买该商品",44200:"已达红包使用数量上限",44201:"每满{0}元可用{1}个红包",45001:"订单不存在",45002:"订单不属于该用户",45003:"订单不能取消",45004:"订单商品不一致",45005:"订单已经收货",45006:"订单还未发货",45007:"海淘订单没有提交身份证",45008:"订单已支付",45009:"支付繁忙，请重试",45010:"订单正在支付中",45012:"手机充值号码为空",45013:"手机充值号码不支持",45014:"手机充值商品不存在",45015:"确认收货失败",45023:"正在处理您的退款/售后申诉，无法主动确认收货",45026:"超过购买商品限制",45030:"订单正在处理中，请刷新页面",45031:"单次购买金额不得高于9.5万元",45033:"超过每个手机号码购买次数限制",45034:"抱歉，秒杀尚未开始，请稍候",45035:"该商品为App新人专享秒杀，非首次下载App24小时内的用户无法发起拼单",45036:"每名用户只能购买一次哦",45037:"你的当前登录帐号有些风险哦，建议先直接去充值吧",45038:"包月套餐订单购买免密校验失败",45039:"包月套餐功能升级中，当前只支持微信帐号登录的用户哦",45040:"限购商品暂时无法购买哦～",45041:"本次活动期间已抢到过一张神券，不能再抢了~",45042:"手机网络繁忙，请稍后再试",45043:"该类型商品本次活动期间您已抢过，不能再抢了~",45044:"您好，该商品仅可购买一次哦~",45045:"该商品仅能在拼多多App中购买！",45046:"该商品仅允许微信登录用户购买！",45047:"超过该商品每次购买件数限制",45050:"您已经在本场下过单了，去看看其他商品吧~",45051:"已购买过此类优惠商品，看看其他商品吧",45052:"您最近购买此商品次数达到上限，去看看其他商品吧~",45053:"手机网络繁忙，请稍后再试",45054:"需验证码校验！",45055:"手机网络繁忙，请稍后再试",45104:"不是定金类型订单",45105:"订单已取消",45106:"订单已确认",45107:"定金未成团",45206:"创建订单存在风险",45207:"创建订单验证码非法",45208:"价格有变动，请返回上一页查看",45209:"请更换支付方式，花呗分期暂不可用",45210:"手机网络繁忙，请稍后再试",45301:"店铺补差价金额达到上限！",45320:"未获取活动资格！",45321:"该活动必须是微信APP用户参加！",45322:"该活动同一用户不可重复参加！",45323:"该活动同一设备不可重复参加！",45324:"该活动用户微信置信度较低！",45325:"非APP新用户",45326:"手机网络繁忙，请稍后再试",45327:"账户存在风险，无法下单",45402:"该商品秒杀活动已结束",45403:"该商品免单活动已结束",45404:"该商品买二送一活动已结束",45405:"该商品秒杀活动已结束",45406:"该活动已结束",45407:"该活动已结束",45110:"未到尾款支付时间",45111:"超过尾款支付时间",45112:"未到定金支付时间",45113:"超过定金支付时间",45412:"该商品多件优惠活动已结束",45413:"该商品限时免单活动已结",45416:"该商品优惠活动已结束",45417:"该活动已结束",45418:"该优惠商品已被抢空",45420:"该活动已结束",45422:"该活动已结束",45423:"该活动已结束",45424:"该包月活动已结束",45425:"您向商家补的差价已经超过上限",45428:"该商品属于活动商品，无法正常购买",45429:"该地区暂时无货",45450:"此海淘商品仅支持微信支付",45500:"商品信息和充值号码不匹配",45501:"新地址暂不支持，请重新选择",45511:"您不是专属用户，不能以特惠价开团哦~",45514:"库存不足",45515:"低于最低起售件数",45516:"该商品有更低价的优惠活动，请刷新购买",46001:"团订单不存在",46002:"无法重复参团",46012:"商品售罄，免拼失败，拼单到期后将退款",46013:"秒杀活动结束，免拼失败，拼单到期后将退款",46014:"插队拼单已满",47003:"限量件数已被抢光，请重新选购",47101:"支付失败，限时折扣活动已结束",47102:"支付失败，限量折扣活动已结束，请重新购买",47010:"折扣活动检查失败",47011:"限时折扣活动已经使用",47012:"限时折扣活动未开启",47013:"限时折扣活动未到开始时间",47014:"限时折扣活动已经结束",47015:"商家券和限时折扣活动不能同时使用",47030:"已经催过了，正在尽快发货",47031:"催发货请求异常，请稍后重试",48001:"图片格式错误",48002:"图片大小超过限制",49001:"商品不存在",5e4:"当前访问人数较多，请稍后再试",50001:"今天票数已用完，明天再来吧",50002:"当前有未完成的团",80001:"投票活动已结束",6e4:"",60001:"该团已经结束",60002:"确认收货失败",60003:"参数错误",60004:"您已退款成功，无须确认收货",60005:"用户拒绝",60006:"用户取消",60007:"确认收货失败，请稍后重试",60100:"未安装微信客户端",60110:"未安装微博客户端",60120:"未安装手机QQ",60200:"录制失败",60201:"录音没有权限",60205:"录音时间过短",60210:"上传失败",60220:"播放失败",71001:"获取售后列表失败",71002:"申请售后失败",71003:"获取售后单详情失败",71004:"售后单添加售后信息失败",71005:"售后单修改失败",71006:"撤销售后失败",71007:"售后单用户确认发货失败",71008:"售后单重新申请失败",71009:"售后单申请平台介入失败",71010:"钱款去向查询失败",71011:"留言标记失败",71012:"售后用户待处理未读数量获取失败",71013:"售后未读留言数目获取失败",71014:"获取付款类型失败",71015:"获取售后原因失败",71016:"获取我要发货列表失败",71017:"获取是否使用平台优惠券失败",71018:"售后单用户确认完成失败",71019:"获取小额打款详情失败",71020:"填写账户信息失败",450130:"商品信息和充值号码不匹配",450131:"该商品每个号码每月限充一次",530001:"团不存在",530002:"团已失效",530003:"团已满",530004:"助力单不存在",530005:"不支持该支付方式",530006:"助力单已支付",530007:"助力单已退款",530008:"不在活动时间",530009:"您已经拿过该商品了，不要贪心哦",530010:"已达到今日帮忙付款次数上限，明日再来吧",530011:"已达到今日帮助该好友次数上限，明日再来吧~",530012:"已经达到帮助该好友支付次数上限，赶紧去帮助其他人吧~",530013:"不符合免费帮忙条件",530014:"您不是拼多多App新人，不能开团哦",144073:"您没有免拼卡，请返回重新下单",144076:"不符合免拼卡的使用条件",144078:"请求失败，请重新发起支付",152001:"限量折扣活动已经使用",152002:"限量折扣活动未开启",152003:"限量折扣活动未到开始时间",152004:"限量折扣活动已经结束",152005:"商家券和限量折扣活动不能同时使用",152006:"限量件数已被抢光，请重新选购",152010:"已达到该商品活动期内的最多购买件数，不能再抢了～",3000001:"充值失败，请稍后重试",3000002:"话费充值失败，请稍后重试",3000003:"话费充值下单失败，请稍后重试",400001:"微信零钱不足，且未绑定银行卡，请绑定银行卡再试，或邀请好友代付",400002:"银行卡余额不足，请绑定其他银行卡再试，或邀请好友代付",400003:"银行卡预留手机号不符，请核对后再试，或邀请好友代付",400004:"银行卡已失效，请核对后再试，或邀请好友代付",400005:"银行拒绝交易，请核对后再试，或邀请好友代付",400099:"支付未完成，请更换支付方式",4000004:"手机网络繁忙，请稍后再试",4000005:"手机网络繁忙，请稍后再试",4000006:"",20504101:"团订单不存在",20504005:"手机网络繁忙，请稍后再试",12960005:"商品不存在",12960006:"活动未开始",12960007:"商品已售罄",12960008:"拼单人数已满",12960009:"只有App新人才能参团哦",12960010:"帐号信息异常",12960012:"该商品一次只能购买1件哦",12960014:"请使用微信登录再下单",12960016:"你已经开过团了，请勿重复开团",12960017:"今日开团次数已用完，明天再来吧",12960018:"今日参团次数已用完，明天再来吧",12960019:"该商品你今日已经参过团了"}),ne={AuthenticationFailed:te[40001],APIServiceBusy:te[40002],GraphicalCodeForPhoneCode:te[40017],LoginFailed:te[40020],NeedAuthenticationLogin:te[43058],ItemRemoved:te[41002],OutOfStock:te[41003],NotInLuckyTime:te[41005],AddressUnreachable:te[41006],NoCouponLeft:te[44010],CouponTaken:te[44011],CouponTakeFailed:te[44012],CouponTakenOut:te[44026],PersonalInfoNoID:te[45007],OrderPayed:te[45008],NeedVerfication:te[45054],GroupInvalid:te[46001],GroupFailed:te[42003],OverBuyLimit:te[42004],GroupOverflow:te[42005],GroupAutoOpenFailed:te[42006],GroupAutoOpenSuccess:te[42007],IDCardEmpty:te[43004],NoNameIDBefore:te[43006],IDCardFake:te[43008],IDCardFailTooMuch:te[43009],InsufficientCoupon:te[44047],AvailableCouponsPerUnit:te[44201],NoSuchOrder:te[45001],PrepayBusy:te[45009],OrderPaying:te[45010],PaymentDisabled:te[45210],SpikeComing:te[45034],OrderPayRisk:te[45206],OrderPayVerificationInvalid:te[45207],OrderAlreadyUrged:te[47030],OrderUrgeError:te[47031],NativeNormalError:te[6e4],NativeParamsError:te[60003],NativeUserRefuse:te[60005],NativeUserCancel:te[60006],NativeAudioRecordFailed:te[60200],NativeAudioRecordUndetermined:te[60201],NativeAudioTooShort:te[60205],NativeAudioUploadFailed:te[60210],NativeAudioPlayFailed:te[60220],SuccessiveMobileFeeOnlyOnce:te[45036],SuccessiveMobileFeeRisk:te[45037],SuccessiveMobileFeeUnsigned:te[45038],SuccessiveMobileFeeOnlyWechat:te[45039],OverBuyVirtualGoodsLimit:te[45033],AvailableActivityChanged:te[45516],GroupCompleted:te[42001],InvalidAddress:te[43002],CouponDailyLimit:te[44037],CouponBatchLimit:te[44038],CouponTokenInvalid:te[44041],CouponTokenExpired:te[44042],CouponPushNotIn:te[44043],CouponActivityAbsent:te[44044],MultiplyDiscountPause:te[44064],MultiplyDiscountEnd:te[44066],CouponMaxNumReached:te[44200],HistoryGroupOpenFailed:te[46014],GoodsNotExist:te[49001],NativePaymentCancel:te[60006],WithoutWeChatClient:te[60100],QQPayFailed:te[60120],OrderLimitedSalesEnd:te[152004],OrderLimitedSalesOut:te[152006],PayLimitedSalesEnd:te[47102],PayLimitedSalesOut:te[47003],ServerBusy:te[4000004],OrderSpikeMsgError:te[4000006],WxDirectPayWxBalanceError:te[400001],WxDirectPayCardBalanceError:te[400002],WxDirectPayTelephoneError:te[400003],WxDirectPayCardInvalidError:te[400004],WxDirectPayRefusedError:te[400005],WxDirectPayUnknownError:te[400099],ACT_GROUP_NOT_EXISTS:te[530001],ACT_GROUP_FAILED:te[530002],ACT_GROUP_SUCCESS:te[530003],ACT_RECORD_NOT_EXISTS:te[530004],PAY_CHANNEL_NOT_SUPPORT:te[530005],ACT_RECORD_PAID:te[530006],ACT_RECORD_REFUND:te[530007],ASSIST_FOR_ONE_DAILY_LIMIT:te[530011],ASSIST_FOR_ONE_LIMIT:te[530012],getMsgFromCode:function(e){var t=te[e];return t?t.message:""}},re=n("4+4F"),ae=function(){function e(){l()(this,e)}return p()(e,[{key:"pay",value:function(){return Promise.reject({errorCode:0})}}]),e}(),oe=n("cDf5"),ie=n.n(oe),ce=n("qd0Q"),se=n("M2CY"),ue={BASIC:0,GROUP_FULL_AUTO_OPEN:1,ALIPAY_PASS_PARAMS:2,OVERSEAS_ID_CARD_VERTIFICATION:3};ue.currentMaxVersion=ue.OVERSEAS_ID_CARD_VERTIFICATION;var le=!1;ue.getSupportVersion=function(){var e=Object(h.a)();return e.isNativePlatform?Object(V.c)(e.version,"3.51.0")>=0?ue.OVERSEAS_ID_CARD_VERTIFICATION:(le||(Object(re.a)({error_msg:"app版本".concat(e.version,"使用paymentVersion1"),payload:{event:"预支付paymentVersion为1",app_version:e.version}}),le=!0),ue.GROUP_FULL_AUTO_OPEN):ue.OVERSEAS_ID_CARD_VERTIFICATION};var de=ue,pe=n("eLuU"),fe=function(){function e(t){var n=t.attributeFields,r=t.params,a=t.orderSn,o=t.url,i=t.prepayType;l()(this,e),this.attributeFields=n,this.paymentVersion=de.getSupportVersion(),this.params=r,this.url=o,this.orderSn=a,this.prepayType=i;var c=window.navigator.userAgent,s=!!c&&!(!c.match(/phh_ios_version/i)&&!c.match(/phh_android_version/i));this.config=se.a.get({isModuleVersion:s,hostName:location.hostname})}return p()(e,[{key:"realPay",value:function(e){}},{key:"prepayParams",value:function(){return a()({pay_app_id:this.appId,version:this.paymentVersion,attribute_fields:this.attributeFields},this.params)}},{key:"prepay",value:function(e){var t=this.prepayParams(),n=e&&"object"===ie()(e)?a()(a()({},e),t):t;return pe.a.getInstance().post(this.prepayUrl,n).catch((function(e){var t=e.errorCode,n=e.errorObject;return Promise.reject({errorCode:t,errorObject:n})}))}},{key:"pay",value:function(){var e=this;return this.prepay().then((function(t){return e.realPay(t)}))}},{key:"appId",get:function(){return null}},{key:"prepayUrl",get:function(){if(this.url)return this.url;switch(this.prepayType){case ee.Combine:return"api/vancouver/cart/prepay";case ee.Tail:return"api/vancouver/final_pay_prepay";default:return"order/prepay"}}}]),e}(),me=n("qnV/");var he=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).prepayType=e.prepayType,r.additionalParams=e.additionalParams,r}return p()(n,[{key:"realPay",value:function(e){}},{key:"pay",value:function(){var e=this;return new Promise((function(t,n){try{var r="/package_c/pay/pay?order_sn="+encodeURIComponent(e.orderSn);e.prepayType&&(r+="&prepay_type=".concat(e.prepayType)),e.additionalParams&&"object"===ie()(e.additionalParams)&&Object.keys(e.additionalParams).forEach((function(t){r+="&".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e.additionalParams[t]))})),window.wx.miniProgram.navigateTo({url:r,success:function(e){n({cancelled:!0,err_msg:-200})},fail:function(e){Object(ce.a)({title:"系统繁忙, 请稍后再试(".concat(-400,")")}),Object(me.c)(new Error("调起小程序支付失败_无法唤起")),n({cancelled:!0,err_msg:-400})}})}catch(e){Object(ce.a)({title:"系统繁忙, 请稍后再试(".concat(-500,")")});var a=e&&e.errMsg||(e instanceof Error?e.message:JSON.stringify(e));Object(me.c)(new Error("调起小程序支付失败_内部错误"),{payload:{error_msg:a}}),n({cancelled:!0,err_msg:-500})}}))}}]),n}(fe),ve=n("iWIM"),ge=n.n(ve),ye=n("ii9O");function _e(e){Object(re.a)({error_msg:e.errorMsg||"",payload:{event:"pay_code",payment_type:e.paymentType||0,code:e.errorCode||"",url:e.url||"",order_sn:e.orderSn||"",wait_time:e.waitTime||0,pay_source:e.paySource||0,error_msg:e.errorMsg||""}})}function be(e){!e.errorCode&&e.stack&&Object(re.a)({error_msg:"@pdd/pay stack error",page:e.message+" "+JSON.stringify(e.stack)})}var ke=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"prepayParams",value:function(){return a()(a()({},ge()(w()(n.prototype),"prepayParams",this).call(this)),{},{pap_pay:1,attribute_fields:a()({forbid_contractcode:"1",forbid_pappay:"1"},this.attributeFields)})}},{key:"realPay",value:function(e){var t=this;return e.timestamp=e.timestamp.toString(),Object(v.f)("JSPay","pay",{type:Q.a.WeChat,params:e}).then((function(e){return _e({paymentType:Q.a.WeChat,errorCode:"0",orderSn:t.orderSn}),e})).catch((function(e){be(e);var n=e.errorCode;return Object(re.a)({payload:{event:"app_wechat_pay",order_sn:t.orderSn,error_code:n+""}}),Promise.reject({errorCode:n})}))}},{key:"appId",get:function(){return this.config.AppID.WeChat}}]),n}(fe),we=n("mj+i");var Se=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"prepayParams",value:function(){return a()(a()({},ge()(w()(n.prototype),"prepayParams",this).call(this)),{},{pap_pay:1,attribute_fields:a()({forbid_contractcode:"1",forbid_pappay:"1"},this.attributeFields)})}},{key:"realPay",value:function(e){var t=this;return new Promise((function(n,r){var a=function(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:e.timeStamp.toString(),nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign},(function(e){if(e&&"object"===ie()(e)){if(_e({paymentType:Q.a.WeChat,errorCode:e.err_msg+"",orderSn:t.orderSn}),"get_brand_wcpay_request:cancel"===e.err_msg)return e.cancelled=!0,void r(e);if("get_brand_wcpay_request:ok"===e.err_msg)return void n(e)}Object(me.c)(new Error("WeixinJSBridge支付失败")),r(e)}))};"undefined"==typeof WeixinJSBridge?Promise.race([new Promise((function(e){document.addEventListener("WeixinJSBridgeReady",e)})),new Promise((function(e,t){setTimeout((function(){"undefined"==typeof WeixinJSBridge?t():e()}),2e3)}))]).then(a).catch((function(){Object(me.c)(new Error("WeixinJSBridge未定义")),r({errorCode:0})})):a()}))}},{key:"appId",get:function(){return+Object(we.h)(location.href).pay_app_id||this.config.AppID.WeChat}}]),n}(fe);var Ie,Ce=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).additionalParams=e.additionalParams,r}return p()(n,[{key:"realPay",value:function(e){var t=this;return new Promise((function(n,r){var a=e.mweb_url;_e({paymentType:Q.a.WeChat,url:a,orderSn:t.orderSn}),function(e){if((window.navigator.userAgent||"").toLowerCase().indexOf("oppo")>=0){var t=document.createElement("a")||{};t.href=e,t.click&&t.click()}else ye.a.reload(e)}(a)}))}},{key:"pay",value:function(){if(localStorage&&-1===location.pathname.indexOf("transac_wechat_wapcallback")){var e={time:Date.now()};localStorage.setItem("WeChatH5Pay",JSON.stringify(e));var t=Object(we.i)("transac_wechat_wapcallback.html",a()({option_json:JSON.stringify({url:this.prepayUrl,orderSn:this.orderSn,params:this.params}),prepay_type:this.prepayType,order_sn:this.orderSn},this.additionalParams));return new Promise((function(e,n){ye.a.reload(t)}))}return ge()(w()(n.prototype),"pay",this).call(this)}},{key:"appId",get:function(){return this.config.AppID.WeChatH5Pay}}]),n}(fe),xe=function(){function e(t){l()(this,e);var n=Object(h.a)(),r=n.isWeChatPlatform,a=n.isNativePlatform,o=n.isTinyNativePlatform;this.innerPay=null,this.innerPay=r?new Se(t):a||o?new ke(t):new Ce(t)}return p()(e,[{key:"pay",value:function(){return this.innerPay.pay()}}]),e}(),Pe={WechatDirect:3,UniversalPay:10050},Ee=n("b6XL"),Oe=n("0mK9"),Ne=n("1KKG"),De=n("HJnB"),Te=n("ZKQX"),je=function(e){return Object(De.b)().then((function(t){return Object(re.a)({payload:{event:"pay_score_query"+(t&&t.wx_signed),order_sn:e}}),t&&t.wx_signed})).catch((function(t){var n=t.errorCode;return Object(re.a)({payload:{event:"@pdd/pay/pay_score_query_err",order_sn:e,error_code:n+""}}),!1}))},Ae=function(e){var t=e.signScene,n=e.orderAmount,r=e.orderSn,a=e.scoreSignSdkSuccess,o=e.payTicket,i=e.switchToWechatIfSignXyhfFailed,c=function(){i?Ie&&Ie():Object(P.a)()};return i?(Object(P.a)(),Ie&&Ie(),Ie=Object(Te.a)(I.a.createElement(Ne.a,{style:{height:"1.2rem",width:"1.2rem"}},I.a.createElement("span",null,"订单已生成"),I.a.createElement("br",null),I.a.createElement("span",null,"正前往支付")))):Object(P.b)(),new Promise((function(e,i){var s,u=!1,l=0;s=setInterval((function(){if(l<=4)p={pay_ticket:o,sign_scene:t,order_sn:r,order_amount:n,pull_scene:"after_sign",pull_times:l+=1},pe.a.getInstance().post("api/qogir/payment/agreement/query_allow_sign_or_create",p).then((function(t){var n=t.signed,o=t.allow_create,d=t.forbid_create_code,p=t.forbid_create_reason;Object(re.a)({payload:{event:"query_allow_sign_or_create_time_"+l,result:t&&JSON.stringify(t),order_sn:r}}),!u&&n&&(u=!0,clearInterval(s),c(),o?e():i({scoreSignSdkSuccess:a,errorCode:d,data:{errorCode:d,errorMsg:p}}))})).catch((function(e){var t=e.errorCode;Object(re.a)({payload:{event:"@pdd/pay/query_allow_sign_or_create_err",order_sn:r,error_code:t+""}}),clearInterval(s),u||(u=!0,c(),e.scoreSignSdkSuccess=a,i(e))}));else{clearInterval(s);var d=new Error("query_allow_sign_or_create_timeout");d.errorCode=1005,d.scoreSignSdkSuccess=a,Object(re.a)({payload:{event:"@pdd/pay/query_allow_sign_or_create_timeout",order_sn:r}}),c(),i(d)}var p}),800)}))},Re=function(){var e=s()(i.a.mark((function e(t){var n,r,a,o,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signScene,r=t.orderAmount,a=t.orderSn,o=t.antiContent,c=t.payTicket,s=t.switchToWechatIfSignXyhfFailed,u=function(e){return Ae({signScene:n,orderAmount:r,orderSn:a,scoreSignSdkSuccess:e,payTicket:c,switchToWechatIfSignXyhfFailed:s})},e.abrupt("return",Object(De.a)({signScene:n,antiContent:o,orderSn:a,pollingFun:u,payTicket:c}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){function e(t){l()(this,e),this.orderSn=t.orderSn,this.prepayType=t.prepayType,this.additionalParams=t.additionalParams,this.optionalParams=t.optionalParams,this.orderAmount=m()(this.optionalParams,"orderAmount")}return p()(e,[{key:"pay",value:function(){var e=this;return new Promise((function(t,n){try{var r="/package_c/pay_score_sign/pay_score_sign?order_sn=".concat(encodeURIComponent(e.orderSn),"&order_amount=").concat(encodeURIComponent(e.orderAmount));e.prepayType&&(r+="&prepay_type=".concat(e.prepayType)),e.additionalParams&&"object"===ie()(e.additionalParams)&&Object.keys(e.additionalParams).forEach((function(t){r+="&".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e.additionalParams[t]))})),window.wx.miniProgram.navigateTo({url:r,success:function(e){n({cancelled:!0,err_msg:-200})},fail:function(e){Object(ce.a)({title:"系统繁忙, 请稍后再试(".concat(-400,")")}),Object(me.c)(new Error("调起小程序支付失败_无法唤起")),n({cancelled:!0,err_msg:-400})}})}catch(e){Object(ce.a)({title:"系统繁忙, 请稍后再试(".concat(-500,")")});var a=e&&e.errMsg||(e instanceof Error?e.message:JSON.stringify(e));Object(me.c)(new Error("调起小程序支付失败_内部错误"),{payload:{error_msg:a}}),n({cancelled:!0,err_msg:-500})}}))}}]),e}();var Le=function(e){y()(o,e);var t,n,r=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(o);function o(e){var t;l()(this,o),t=r.call(this,e);var n=Object(h.a)(),a=Object(we.h)(window.location.href);return t.isNative=n.isNativePlatform,t.isPureWeChatPlatform=n.isPureWeChatPlatform,t.isDdjbWeChatMiniProgram=n.isWeChatMiniProgram&&a._x_cmp_v&&/[0-9]+-ddjb_super_packet/.test(a._x_cmp_v),t.isSupportSignXYHFVersion=Object(V.c)(n.version,"5.12.0")>=0,t.optionalParams=e.optionalParams,t.payTicket=m()(e,"attributeFields.pay_ticket"),t.options=e,t}return p()(o,[{key:"realPay",value:(n=s()(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.wait_time,r=+(r=void 0===n?2:n),Number.isInteger(r)||(r=1),Object(P.a)(),X.show({title:"0元下单中",icon:"xyhf"}),e.next=7,new Promise((function(e){return setTimeout(e,1e3*r)}));case 7:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"signXianYongHouFu",value:function(){var e=m()(this.optionalParams,"signScene"),t=m()(this.optionalParams,"orderAmount"),n=m()(this.optionalParams,"antiContent"),r=m()(this.optionalParams,"switchToWechatIfSignXyhfFailed"),a=this.orderSn,o=this.payTicket;return Re({signScene:e,orderAmount:t,orderSn:a,antiContent:n,payTicket:o,switchToWechatIfSignXyhfFailed:r})}},{key:"pay",value:(t=s()(i.a.mark((function e(){var t,n,r=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m()(this.optionalParams,"isSignXianYongHouFu"),n=m()(this.optionalParams,"switchToWechatIfSignXyhfFailed"),!t||!(this.isNative&&this.isSupportSignXYHFVersion||this.isPureWeChatPlatform||this.isDdjbWeChatMiniProgram)){e.next=14;break}return e.next=5,je(this.orderSn);case 5:if(!e.sent){e.next=8;break}return e.abrupt("return",this.prepay().then((function(e){return r.realPay(e)})));case 8:if(!this.isDdjbWeChatMiniProgram){e.next=10;break}return e.abrupt("return",new We(this.options).pay());case 10:return X.markSignXianYongHouFu(),e.abrupt("return",this.signXianYongHouFu().then((function(){return Object(P.b)(),r.prepay.bind(r,{prepay_front_supports:["credit_repay_idempotence"]})().then((function(e){return r.realPay(e)}))})).catch(function(){var e=s()(i.a.mark((function e(t){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Object(h.a)(),c=o.isWeChatPlatform,!n||!c){e.next=9;break}return e.next=5,new Promise((function(e){Object(Oe.a)("先用后付不成功，正在切换微信支付...",{style:{maxWidth:"3rem"},onClose:e})}));case 5:return Object(P.b)(),e.abrupt("return",new it(r.options).pay().then((function(e){return a()(a()({},e),{},{xyhfSwitchedToWechat:!0})})));case 9:throw t;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:return e.abrupt("return",this.prepay().then((function(e){return r.realPay(e)})));case 15:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"appId",get:function(){var e=Object(h.a)(),t=e.isWeChatPlatform,n=e.isWeChatMiniProgram;return"m.hutaojie.com"===location.hostname?n?119:t?118:115:n?131:t?130:122}}]),o}(fe),Me=n("lSNA"),Fe=n.n(Me),Be="CHANCE_EXCEEDED";function Ue(e){var t=e.orderSn,n=e.attrMap,r=e.payChannel,a=e.transactionId,o=e.waitTimeBeforeQuery,c=void 0===o?null:o,u={allowNextPoll:!0,forceStop:function(){u.allowNextPoll=!1},run:function(){return s()(i.a.mark((function e(){var o,s,l,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c&&+c>0)){e.next=3;break}return e.next=3,new Promise((function(e){return setTimeout(e,1e3*+c)}));case 3:o=1;case 4:if(!(o<=4)){e.next=21;break}if(u.allowNextPoll){e.next=7;break}return e.abrupt("return",{status:$.UniversalException.QOGIR_PREMATURE_END});case 7:return e.prev=7,e.delegateYield(i.a.mark((function e(){var c,s,u,l,d,p,f,m,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.a.getInstance().post("api/qogir/payment/query/pappay",{order_sn:t,times:o,attr_map:n,channel:r,transaction_id:a});case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:if(c=e.t0,s=c.status,u=c.wait_time,l=c.error_info,p=(d=l||{}).error_code,f=d.error_msg,m=d.change_card_pay,h=d.pap_pay_fail_map,Object(re.a)({error_msg:"qogir-pulling-"+s,payload:{order_sn:t,times:o,qogir_err:l?"".concat(p," | ").concat(f):void 0}}),+s===$.Universal.Paying){e.next=15;break}return e.abrupt("return",{v:{status:+s||0,errorInfo:{errorCode:p,errorMsg:f,changeCardPay:m,papPayFailMap:h,papPayFailCode:p},paySource:0}});case 15:return e.next=17,new Promise((function(e){return setTimeout(e,1e3*+u)}));case 17:case"end":return e.stop()}}),e)}))(),"t0",9);case 9:if(s=e.t0,"object"!==ie()(s)){e.next=12;break}return e.abrupt("return",s.v);case 12:e.next=18;break;case 14:return e.prev=14,e.t1=e.catch(7),l=e.t1||{},d=l.errorCode,p=l.message,e.abrupt("return",{status:$.UniversalException.QOGIR_EXCEPTION,errorInfo:{errorCode:d,errorMsg:p},paySource:0});case 18:o++,e.next=4;break;case 21:return e.abrupt("return",{status:Be,errorInfo:null,paySource:0});case 22:case"end":return e.stop()}}),e,null,[[7,14]])})))()}};return u}function Ve(e){var t=e.orderSn,n=e.listenType,r=e.payChannel,o=Object(h.a)(),c=!1,u={},l=null,d=null;n===Pe.WechatDirect?(u.type=n,l="PDDInbox",c=o.isNativePlatform&&Object(V.c)(o.version,"4.14.0")>=0,d="receiver"):(u.biz_type=n,l="PDDTitanPush",c=o.isNativePlatform&&Object(V.c)(o.version,"4.76.0")>=0,d="push_receiver");var p={receiverId:null,forceStop:function(){var e=a()({},u);c&&n!==Pe.WechatDirect&&Object.assign(e,{receiver_id:p.receiverId}),Object(v.f)(l,"unregister",e)},run:function(){return s()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=2;break}return e.abrupt("return",new Promise((function(e){Object(v.f)(l,"register",a()(a()({},u),{},Fe()({},d,(function(n,a){var o=null,i=!1;try{o=JSON.parse(a.result[0].payload)}catch(e){i=!0}var c=o||{},s=c.status,u=c.error_info,l=c.order_sn,d=c.channel;if(n||!o)Object(re.a)({error_msg:"push时查qogir失败",payload:{pinbridge_err:n?"Inbox监听异常":void 0,result_err:o?"Inbox回调数据异常":void 0,data_format_err:i?"Inbox回调数据格式不是JSON":void 0}});else{if(l!==t||d!==r)return void Object(re.a)({error_msg:"错误的push数据",payload:{pushedOrderSn:l,pushedChannel:d}});var f=u||{},m=f.error_code,h=f.error_msg,v=f.change_card_pay,g=f.pap_pay_fail_map;Object(re.a)({error_msg:"qogir-push-"+s,payload:{order_sn:t,qogir_err:u?"".concat(m," | ").concat(h):void 0}}),e({status:+s||0,errorInfo:{errorCode:m,errorMsg:h,changeCardPay:v,papPayFailMap:g,papPayFailCode:m},paySource:1})}p.forceStop()})))).then((function(e){p.receiverId=(e||{}).receiver_id}))})));case 2:return e.abrupt("return",new Promise((function(e,t){})));case 3:case"end":return e.stop()}}),e)})))()}};return p}var He,qe,ze=function(e){var t=Object(h.a)();return!!t.isNativePlatform&&Object(V.c)(t.version,e)>=0},Qe=n("vBQ9"),Ge=function(e){var t=e.errorMsg,n=e.cancelled,r=e.errorCode;return function(){var e=s()(i.a.mark((function e(a){var o,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.originTime,c=a.paySource,s=a.orderSn,_e({paymentType:Q.a.DuoDuoPay,errorCode:r,orderSn:s,waitTime:Date.now()-o,errorMsg:t,paySource:c}),e.next=4,X.hide();case 4:return e.abrupt("return",Promise.reject({cancelled:n,errorCode:r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Je=Ge({errorMsg:"其它异常",errorCode:-1,cancelled:!1}),Ke=(He={},Fe()(He,$.Universal.Success,(function(e){var t=e.originTime,n=e.paySource,r=e.orderSn;return new Promise(function(){var e=s()(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _e({paymentType:Q.a.DuoDuoPay,errorCode:0,orderSn:r,waitTime:Date.now()-t,paySource:n}),e.next=3,X.showSuccess({payInfoTitle:"多多支付",title:"支付成功"});case 3:a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),Fe()(He,$.UniversalException.CHANCE_EXCEEEDED,Ge({errorMsg:"qogir轮询持续Paying，超过最大次数",errorCode:-1,cancelled:!1})),Fe()(He,$.UniversalException.QOGIR_EXCEPTION,Ge({errorMsg:"qogir轮询出现异常",errorCode:-1,cancelled:!1})),Fe()(He,$.Universal.NotFound,Ge({errorMsg:"订单号错误，无法找到",errorCode:-1,cancelled:!1})),Fe()(He,$.Universal.Failed,(qe=s()(i.a.mark((function e(t){var n,r,a,o,c,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.originTime,r=t.paySource,a=t.orderSn,o=t.errorMsg,c=t.changeCardPay,u=t.changeCardCallback,l=t.getAutoSwitchPay,!(d=l()).isAutoSwitchEnabled){e.next=4;break}return e.abrupt("return",d.performAutoSwitchPay());case 4:return e.abrupt("return",new Promise(function(){var e=s()(i.a.mark((function e(t,l){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _e({paymentType:Q.a.DuoDuoPay,errorCode:0,orderSn:a,waitTime:Date.now()-n,paySource:r}),e.next=3,X.hide();case 3:1==+c&&ze("5.45.0")?Object(Qe.a)({title:o||"免密支付失败，请重试",onCancel:function(){l({cancelled:!0})},onClose:function(){l({cancelled:!0})},onConfirm:function(){var e=s()(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:n=e.sent,t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),cancelButtonLabel:"取消",confirmButtonLabel:"换卡支付"}):Object(ce.a)({title:o||"免密支付失败，请重试",onConfirm:function(){l({cancelled:!1,errorCode:-1})},onClose:function(){l({cancelled:!1,errorCode:-1})}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e)}))),function(e){return qe.apply(this,arguments)})),He);var Ye,Xe=function(e){y()(r,e);var t,n=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(r);function r(e){var t;return l()(this,r),t=n.call(this,e),e=e||{},t.attrMap=e.attrMap,t.isSupportDirectPay=e.isSupportDirectPay,t.isSupportChangeCard=ze("5.45.0"),t.autoSwitchPay=new at(e,t.appId),t}return p()(r,[{key:"prepayParams",value:function(){return a()(a()({},ge()(w()(r.prototype),"prepayParams",this).call(this)),{},{pap_pay:1,attribute_fields:a()({forbid_contractcode:this.isSupportDirectPay?void 0:"1",forbid_pappay:this.isSupportDirectPay?void 0:"1"},this.attributeFields)})}},{key:"realPay",value:function(e,t){return 1==+e.is_pap_pay?this.handleDirectPay():this.handleNormalPay(e,t)}},{key:"handleNormalPay",value:function(e,t){var n=this,r=a()({},e);if(t){var o=t.changeCardPay,i=t.papPayFailMap,c=t.papPayFailCode;o&&(r.change_card_pay=o),i&&Object.assign(r,i),c&&(r.pap_pay_fail_code=c)}return Object(v.f)("JSPay","pay",{type:Q.a.DuoDuoPay,params:r}).then((function(e){return _e({paymentType:Q.a.DuoDuoPay,errorCode:"0",orderSn:n.orderSn}),e})).catch((function(e){be(e);var t=e.data,r=e.errorCode;return _e({paymentType:Q.a.DuoDuoPay,errorCode:r+"",orderSn:n.orderSn,errorMsg:e.toJSON&&JSON.stringify(e.toJSON())}),Promise.reject({errorCode:r,data:t})}))}},{key:"handleDirectPay",value:(t=s()(i.a.mark((function e(){var t,n,r,a,o,c,s,u,l,d,p,f,m,h,v,g,y=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Date.now(),n=Ue({orderSn:this.orderSn,payChannel:"DUODUOPAY",attrMap:this.attrMap}),r=Ve({orderSn:this.orderSn,listenType:Pe.UniversalPay,payChannel:"DUODUOPAY"}),e.prev=3,X.hideSpinner(),X.markDuringMianmi(),X.show({title:"免密支付中",icon:"ddpay"}),e.next=9,Promise.race([n.run(),r.run()]);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:return a=e.t0,o=a.status,c=a.errorInfo,s=a.paySource,l=(u=c||{}).errorMsg,d=u.changeCardPay,p=u.papPayFailMap,f=u.papPayFailCode,e.abrupt("return",(Ke[o]||Je)({originTime:t,paySource:s,orderSn:this.orderSn,errorMsg:l,changeCardPay:d,changeCardCallback:this.pay.bind(this,{changeCardPay:d,papPayFailMap:p,papPayFailCode:f}),getAutoSwitchPay:function(){return y.autoSwitchPay}}));case 20:e.prev=20,e.t1=e.catch(3),m=e.t1||{},h=m.message,v=m.stack,g=m.errorCode,Object(re.a)({error_msg:"poller与listener内部错误",payload:{message:g||v||h}});case 24:return e.prev=24,n.forceStop(),r.forceStop(),e.finish(24);case 28:case"end":return e.stop()}}),e,this,[[3,20,24,28]])}))),function(){return t.apply(this,arguments)})},{key:"pay",value:function(e){var t=this;return this.prepay().then((function(n){return Object(P.a)(),t.realPay(n,e)}))}},{key:"appId",get:function(){return 97}}]),r}(fe),Ze=function(e){var t=e.errorMsg,n=e.cancelled,r=e.errorCode;return function(){var e=s()(i.a.mark((function e(a){var o,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.originTime,c=a.paySource,s=a.orderSn,_e({paymentType:Q.a.AliPayDirectDebit,errorCode:r,orderSn:s,waitTime:Date.now()-o,errorMsg:t,paySource:c}),e.next=4,X.hide();case 4:return e.abrupt("return",Promise.reject({cancelled:n,errorCode:r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$e=Ze({errorMsg:"其它异常",errorCode:-1,cancelled:!1}),et=(Ye={},Fe()(Ye,$.Universal.Success,(function(e){var t=e.originTime,n=e.paySource,r=e.orderSn;return new Promise(function(){var e=s()(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _e({paymentType:Q.a.AliPayDirectDebit,errorCode:0,orderSn:r,waitTime:Date.now()-t,paySource:n}),e.next=3,X.showSuccess({payInfoTitle:"支付宝",title:"支付成功"});case 3:a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),Fe()(Ye,$.UniversalException.CHANCE_EXCEEEDED,Ze({errorMsg:"qogir轮询持续Paying，超过最大次数",errorCode:-1,cancelled:!1})),Fe()(Ye,$.UniversalException.QOGIR_EXCEPTION,Ze({errorMsg:"qogir轮询出现异常",errorCode:-1,cancelled:!1})),Fe()(Ye,$.Universal.NotFound,Ze({errorMsg:"订单号错误，无法找到",errorCode:-1,cancelled:!1})),Fe()(Ye,$.Universal.Failed,function(){var e=s()(i.a.mark((function e(t){var n,r,a,o,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.originTime,r=t.paySource,a=t.orderSn,o=t.errorMsg,c=t.getAutoSwitchPay,!(u=c()).isAutoSwitchEnabled){e.next=4;break}return e.abrupt("return",u.performAutoSwitchPay());case 4:return e.abrupt("return",new Promise(function(){var e=s()(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _e({paymentType:Q.a.AliPayDirectDebit,errorCode:0,orderSn:a,waitTime:Date.now()-n,paySource:r}),e.next=3,X.hide();case 3:Object(ce.a)({title:o||"免密支付失败，请重试",onConfirm:function(){c({cancelled:!1,errorCode:-1})},onClose:function(){c({cancelled:!1,errorCode:-1})}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ye);var tt=$.AliPayDirectDebit,nt=function(e){y()(r,e);var t,n=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(r);function r(e){var t;return l()(this,r),t=n.call(this,e),e=e||{},t.attrMap=e.attrMap,t.isSupportDirectPay=e.isSupportDirectPay,t.autoSwitchPay=new at(e,t.appId),t}return p()(r,[{key:"prepayParams",value:function(){var e=this.config.RedirectURI.AliPayDirectDebit;return a()(a()({},ge()(w()(r.prototype),"prepayParams",this).call(this)),{},{pap_pay:1,attribute_fields:a()({forbid_contractcode:this.isSupportDirectPay?void 0:"1",forbid_pappay:this.isSupportDirectPay?void 0:"1"},this.attributeFields),return_url:e,request_from_url:e})}},{key:"handleAsyncDirectPay",value:(t=s()(i.a.mark((function e(t){var n,r,a,o,c,s,u,l,d,p,f,m,h,v,g=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transactionId,r=t.waitTime,a=Date.now(),o=Ue({orderSn:this.orderSn,payChannel:"ALIPAY",attrMap:this.attrMap,transactionId:n,waitTimeBeforeQuery:r}),c=Ve({orderSn:this.orderSn,listenType:Pe.UniversalPay,payChannel:"ALIPAY"}),e.prev=4,X.hideSpinner(),X.markDuringMianmi(),X.show({title:"免密支付中"}),e.next=10,Promise.race([o.run(),c.run()]);case 10:if(e.t0=e.sent,e.t0){e.next=13;break}e.t0={};case 13:return s=e.t0,u=s.status,l=s.errorInfo,d=s.paySource,p=(l||{}).errorMsg,e.abrupt("return",(et[u]||$e)({originTime:a,paySource:d,orderSn:this.orderSn,errorMsg:p,getAutoSwitchPay:function(){return g.autoSwitchPay}}));case 21:e.prev=21,e.t1=e.catch(4),f=e.t1||{},m=f.message,h=f.stack,v=f.errorCode,Object(re.a)({error_msg:"poller与listener内部错误",payload:{message:v||h||m}});case 25:return e.prev=25,o.forceStop(),c.forceStop(),e.finish(25);case 29:case"end":return e.stop()}}),e,this,[[4,21,25,29]])}))),function(e){return t.apply(this,arguments)})},{key:"realPay",value:function(e){var t=this;return 1==+e.is_pap_pay?this.handleAsyncDirectPay({transactionId:e.transaction_id,waitTime:e.wait_time}):new Promise(function(){var n=s()(i.a.mark((function n(r,a){var o,c,u,l,d,p;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=Q.a.AliPayV2,c=!1,u=!1,(l=parseInt(e.status,10))===tt.Unsign?d=e.data:l!==tt.Rollback&&l?l!==tt.Failed&&l!==tt.Unknown||(u=!0):(delete(d=e).status,c=!0),d){n.next=25;break}if(!u){n.next=20;break}if(_e({paymentType:o,errorCode:l,orderSn:t.orderSn}),l!==tt.Success){n.next=15;break}if(X.isSwitched){n.next=12;break}return n.next=12,X.hide();case 12:r(),n.next=18;break;case 15:return n.next=17,X.hide();case 17:a({errorCode:l});case 18:n.next=24;break;case 20:Object(P.a)(),X.markDuringMianmi(),X.show(),setTimeout(s()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_e({paymentType:o,errorCode:l,orderSn:t.orderSn}),![tt.Success,tt.Paying].includes(l)){e.next=8;break}if(X.isSwitched){e.next=5;break}return e.next=5,X.hide();case 5:r(),e.next=11;break;case 8:return e.next=10,X.hide();case 10:a({errorCode:l});case 11:case"end":return e.stop()}}),e)}))),l===tt.Paying?4e3:2e3);case 24:return n.abrupt("return");case 25:p=c?o:Q.a.AliPayDirectDebit,Object(v.f)("JSPay","pay",{type:p,params:d}).then((function(e){_e({paymentType:p,errorCode:"0",orderSn:t.orderSn}),r()})).catch((function(e){be(e);var n=e.errorCode;function r(){a({errorCode:n})}_e({paymentType:p,errorCode:n+"",orderSn:t.orderSn}),n!==parseInt(ne.NativePaymentCancel.code,10)||p!==Q.a.AliPayDirectDebit?r():pe.a.getInstance().post("payment/agreement/reset",{app_id:t.appId}).then(r,r)}));case 27:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"appId",get:function(){return this.config.AppID.AliPayDirectDebit}}]),r}(fe);function rt(e){switch(e){case Q.a.WeChat:return"WEIXIN";case Q.a.AliDirectDebitPay:return"ALIPAY";case Q.a.DuoDuoPay:return"DUODUOPAY";default:return""}}var at=function(){function e(t,n){l()(this,e),this.options=a()(a()({},t),{},{attributeFields:a()(a()({},t.attributeFields),{},{pappay_poll_mode:"T"})}),this.lastPayAppId=n}var t,n;return p()(e,[{key:"getAutoSwitchChannel",value:(n=s()(i.a.mark((function e(){var t,n,r,a,o,c,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAutoSwitchEnabled){e.next=2;break}return e.abrupt("return",{});case 2:return t=m()(this.options,"attributeFields.pay_ticket"),n=m()(this.options,"optionalParams.signScene"),r=m()(this.options,"optionalParams.orderAmount"),a=this.options.orderSn,e.prev=6,e.next=9,pe.a.getInstance().post("api/qogir/payment/agreement/query_allow_sign_or_create",{pay_ticket:t,last_pay_app_id:this.lastPayAppId,sign_scene:n,order_amount:r,order_sn:a});case 9:if(o=e.sent,s=(c=o||{}).allow_all_pay,u=c.next_channel,l=c.all_pay_type,Object(re.a)({error_msg:"查询下个免密支付方式结果",payload:{allow_all_pay:s,next_channel:u}}),s){e.next=14;break}return e.abrupt("return",{});case 14:if(!X.isMianmiChannelUsed(u)){e.next=16;break}return e.abrupt("return",{});case 16:return e.abrupt("return",{nextChannel:u,allPayType:l});case 19:return e.prev=19,e.t0=e.catch(6),Object(re.a)({error_msg:"查询下个免密支付方式异常"}),e.abrupt("return",{});case 23:case"end":return e.stop()}}),e,this,[[6,19]])}))),function(){return n.apply(this,arguments)})},{key:"performAutoSwitchPay",value:(t=s()(i.a.mark((function e(){var t,n,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X.isSwitched||(t=this.options.paymentType,X.startChannel=rt(t)),e.next=3,this.getAutoSwitchChannel();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:if(n=e.t0,r=n.nextChannel,o=n.allPayType,r){e.next=15;break}return e.next=12,X.hide();case 12:return e.next=14,new Promise((function(e){Object(Ee.a)("免密支付失败，请更换支付方式",{onClose:e})}));case 14:return e.abrupt("return",Promise.reject({errorCode:-1}));case 15:X.recordMianmiChannel(r),e.t1=r,e.next="WEIXIN_CREDIT"===e.t1?19:"WEIXIN"===e.t1?30:"DUODUOPAY"===e.t1?32:"ALIPAY"===e.t1?34:36;break;case 19:if(X.currentPaymentType=Q.a.XianYongHouFu,1!=+o){e.next=29;break}return e.next=23,X.hide();case 23:return e.next=25,new Promise((function(e){Object(Oe.a)("免密支付失败，可使用先用后付<br>0元下单",{style:{maxWidth:"2.6rem"},onClose:e})}));case 25:return(c=a()({optionalParams:{}},this.options)).optionalParams.isSignXianYongHouFu=!0,c.optionalParams.signScene=27,e.abrupt("return",new Le(c).pay().catch((function(){return Promise.reject({errorCode:-1})})));case 29:return e.abrupt("return",new Le(this.options).pay());case 30:return X.currentPaymentType=Q.a.WeChat,e.abrupt("return",new it(this.options).pay());case 32:return X.currentPaymentType=Q.a.DuoDuoPay,e.abrupt("return",new Xe(this.options).pay());case 34:return X.currentPaymentType=Q.a.AliPayDirectDebit,e.abrupt("return",new nt(this.options).pay());case 36:return e.abrupt("return",Promise.reject({errorCode:-1}));case 37:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isAutoSwitchEnabled",get:function(){return m()(this.options,"optionalParams.mianmiAutoSwitch")}}]),e}();var ot=$.WechatDirectPayQuery,it=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(e){var r;l()(this,n),(r=t.call(this,e)).attrMap=e.attrMap;var a=Object(h.a)();return r.isNative=a.isNativePlatform,r.isPayWechatDirectStatusVersion=Object(V.c)(a.version,"4.14.0")>=0,r.additionalParams=e.additionalParams,r.innerPay=new xe(e).innerPay,r.autoSwitchPay=new at(e,r.appId),r}return p()(n,[{key:"prepayParams",value:function(){return a()(a()({},ge()(w()(n.prototype),"prepayParams",this).call(this)),{},{pap_pay:1})}},{key:"isWechatDirectPayError",value:function(e){return[parseInt(ne.WxDirectPayWxBalanceError.code,10),parseInt(ne.WxDirectPayCardBalanceError.code,10),parseInt(ne.WxDirectPayTelephoneError.code,10),parseInt(ne.WxDirectPayCardInvalidError.code,10),parseInt(ne.WxDirectPayRefusedError.code,10),parseInt(ne.WxDirectPayUnknownError.code,10)].includes(e)}},{key:"unregisterStatusMailBox",value:function(){!this.unregistered&&this.isNative&&this.isPayWechatDirectStatusVersion&&(this.unregistered=!0,Object(v.f)("PDDInbox","unregister",{type:Pe.WechatDirect}))}},{key:"realPay",value:function(e){var t=this;return 1===e.is_pap_pay?new Promise((function(n,r){var a=Date.now(),o=1,c=null,u=function(e){_e({paymentType:Q.a.WeChat,errorCode:0,orderSn:t.orderSn,waitTime:Date.now()-a,paySource:e||0}),n()},l=function(e){var n=e.errorCode,o=e.paySource,i=e.cancelled,c=e.errorMsg;_e({paymentType:Q.a.WeChat,errorCode:n||-1,orderSn:t.orderSn,waitTime:Date.now()-a,errorMsg:c,paySource:o||0}),r({errorCode:n,cancelled:i})},d=null,p=function(){var e=s()(i.a.mark((function e(n){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=-1,e.t0=n.status,e.next=e.t0===ot.Success?4:e.t0===ot.Paying?11:e.t0===ot.Failed?13:e.t0===ot.NotFound?19:21;break;case 4:return t.unregisterStatusMailBox(),e.next=7,X.hide();case 7:return e.next=9,X.showSuccess({payInfoTitle:"微信支付",title:"支付成功"});case 9:return u(0),e.abrupt("break",23);case 11:return n.wait_time>=0?c=setTimeout((function(){d(++o)}),1e3*Math.min(n.wait_time||0,15)):l({errorCode:-1,paySource:0,errorMsg:'前端免密支付状态轮询为"Paying"但并未返回等待时间'}),e.abrupt("break",23);case 13:return t.unregisterStatusMailBox(),s=n.error_info&&n.error_info.error_code?parseInt(n.error_info.error_code,10):parseInt(ne.WxDirectPayUnknownError.code,10),t.isWechatDirectPayError(s)||(s=parseInt(ne.WxDirectPayUnknownError.code,10)),_e({paymentType:Q.a.WeChat,orderSn:t.orderSn,errorCode:s||-1,waitTime:Date.now()-a,paySource:0,errorMsg:'前端免密支付状态轮询为"Failed"'}),r({errorCode:s,cancelled:!0,extraErrorInfo:{isWechatDirectPayFail:!0}}),e.abrupt("break",23);case 19:return l({errorCode:-1,paySource:0,cancelled:!0,errorMsg:'前端免密支付状态轮询为"NotFound"'}),e.abrupt("break",23);case 21:return l({errorCode:s,paySource:0,errorMsg:"未知的前端免密轮询状态：".concat(n.status)}),e.abrupt("break",23);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();d=function(e){e>4?l({errorCode:-1,paySource:0,errorMsg:"前端免密状态轮询超过4次"}):pe.a.getInstance().post("api/qogir/payment/query/wechat/pappay",{order_sn:t.orderSn,times:e,attr_map:t.attrMap}).then(p).catch((function(e){var t=e.errorCode,n=e.errorObject;l({errorCode:-1,errorObject:n,errorMsg:"调用前端免密状态轮询接口失败errorCode：".concat(t)})}))};var f;Object(P.a)(),X.markDuringMianmi(),X.show(),t.isNative&&t.isPayWechatDirectStatusVersion&&Object(v.f)("PDDInbox","register",{type:Pe.WechatDirect,receiver:(f=s()(i.a.mark((function e(n,o){var s,l,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=o.result||[],d=(d=l[0]||{}).content,!n&&d&&d.order_sn===t.orderSn){e.next=6;break}return t.unregisterStatusMailBox(),e.abrupt("return");case 6:p=parseInt(d.status||0,10),e.t0=p,e.next=e.t0===ot.Success?10:e.t0===ot.Failed?17:23;break;case 10:return c&&clearTimeout(c),e.next=13,X.hide();case 13:return e.next=15,X.showSuccess({payInfoTitle:"微信支付",title:"支付成功"});case 15:return u(1),e.abrupt("break",24);case 17:return c&&clearTimeout(c),s=d.error_info&&d.error_info.error_code?parseInt(d.error_info.error_code,10):ne.WxDirectPayUnknownError.code,t.isWechatDirectPayError(s)||(s=ne.WxDirectPayUnknownError.code),_e({paymentType:Q.a.WeChat,orderSn:t.orderSn,errorCode:s||-1,waitTime:(new Date).getTime()-a,paySource:0}),r({errorCode:s,cancelled:!0,extraErrorInfo:{isWechatDirectPayFail:!0}}),e.abrupt("break",24);case 23:return e.abrupt("break",24);case 24:t.unregisterStatusMailBox();case 25:case"end":return e.stop()}}),e)}))),function(e,t){return f.apply(this,arguments)})}),c=setTimeout((function(){d(o)}),1e3*Math.min(e.wait_time||0,15))})).catch(function(){var e=s()(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m()(n,"extraErrorInfo.isWechatDirectPayFail")||!t.autoSwitchPay.isAutoSwitchEnabled){e.next=3;break}return e.abrupt("return",t.autoSwitchPay.performAutoSwitchPay());case 3:return e.next=5,X.hide();case 5:throw n;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):this.innerPay.realPay(e)}},{key:"pay",value:function(){if(this.appId===this.config.AppID.WeChatH5Pay&&localStorage&&-1===location.pathname.indexOf("transac_wechat_wapcallback")){var e={time:Date.now()};localStorage.setItem("WeChatH5Pay",JSON.stringify(e));var t="transac_wechat_wapcallback.html?"+Object(we.b)(a()({option_json:JSON.stringify({url:this.prepayUrl,orderSn:this.orderSn,params:this.params}),prepay_type:this.prepayType,order_sn:this.orderSn},this.additionalParams));return new Promise((function(e,n){ye.a.reload(t)}))}return ge()(w()(n.prototype),"pay",this).call(this)}},{key:"appId",get:function(){return this.innerPay.appId}}]),n}(fe);var ct=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"prepayParams",value:function(){return a()({pap_pay:1,pay_app_id:this.appId,version:this.paymentVersion,attribute_fields:a()(a()({},this.attributeFields),{},{forbid_contractcode:"1",forbid_pappay:"1"}),return_url:""},this.params)}},{key:"realPay",value:function(e){var t=this,n=Q.a.AliPayV2;return Object(v.f)("JSPay","pay",{type:n,params:e}).then((function(e){return _e({paymentType:n,errorCode:"0",orderSn:t.orderSn}),e})).catch((function(e){be(e);var r=e.errorCode;return _e({paymentType:n,errorCode:r+"",orderSn:t.orderSn}),Promise.reject({errorCode:r})}))}},{key:"appId",get:function(){return this.config.AppID.AliPay}}]),n}(fe);var st=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).prepayType=e.prepayType,r.additionalParams=e.additionalParams,r}return p()(n,[{key:"prepayParams",value:function(){var e=Object(we.i)("transac_wappay_callback.html",a()({order_sn:this.orderSn,prepay_type:this.prepayType},this.additionalParams));return a()({pay_app_id:this.appId,pap_pay:1,version:this.paymentVersion,attribute_fields:a()(a()({},this.attributeFields),{},{forbid_contractcode:"1",forbid_pappay:"1"}),return_url:e},this.params)}},{key:"realPay",value:function(e){return new Promise((function(t,n){location.href=e.gateway_url+"?"+Object(we.b)(e.query)}))}},{key:"appId",get:function(){return this.config.AppID.AliPayWeb}}]),n}(fe),ut=function(){function e(t){l()(this,e),this.innerPay=null,Object(h.a)().isNativePlatform?this.innerPay=new ct(t):this.innerPay=new st(t)}return p()(e,[{key:"pay",value:function(){return this.innerPay.pay()}}]),e}();var lt=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"realPay",value:function(e){var t=this;return Object(v.f)("JSPay","pay",{type:Q.a.QQPay,params:e}).then((function(e){return _e({paymentType:Q.a.QQPay,errorCode:"0",orderSn:t.orderSn}),e})).catch((function(e){be(e);var n=e.errorCode;return _e({paymentType:Q.a.QQPay,errorCode:n+"",orderSn:t.orderSn}),Promise.reject({errorCode:n})}))}},{key:"appId",get:function(){return this.config.AppID.QQ}}]),n}(fe);var dt=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"realPay",value:function(e){var t=this;return new Promise((function(n,r){var a=function(){void 0===window.mqq.tenpay?(Object(me.c)(new Error("window.mqq.tenpay未定义")),r({errorCode:0})):"function"!=typeof window.mqq.tenpay.pay&&(Object(me.c)(new Error("window.mqq.tenpay.pay不是一个函数")),r({errorCode:0}));var a="appid#"+t.config.ApiKey.QQPublicTrack+"|bargainor_id#"+t.config.ApiKey.QQPublicMid+"|channel#wallet";window.mqq.tenpay.pay({tokenId:e.token_id,pubAcc:t.config.ApiKey.QQUIN,pubAccHint:t.config.qqFollowTip,appInfo:a},(function(e){_e({paymentType:Q.a.QQPay,errorCode:e.resultCode+""||"",orderSn:t.orderSn});var a="object"===ie()(e)&&0===parseInt(e.resultCode,10),o=e&&-11001==+e.resultCode,i=e&&-1==+e.resultCode&&"用户主动放弃支付"===e.retmsg,c=o||i,s=i?-11001:e.resultCode;a?n(e):c?r({errorCode:s,cancelled:!0}):(Object(me.c)(new Error("window.mqq支付失败"),{payload:{data:JSON.stringify(e)}}),r({errorCode:s}))}))};"undefined"==typeof mqq?setTimeout((function(){"undefined"==typeof mqq?(Object(me.c)(new Error("window.mqq未定义")),r({errorCode:0})):a()}),2e3):a()}))}},{key:"appId",get:function(){return this.config.AppID.QQPublicPayment||this.config.AppID.QQPublic}}]),n}(fe),pt=function(){function e(t){l()(this,e);var n=Object(h.a)().isQQPlatform;this.innerPay=n?new dt(t):new lt(t)}return p()(e,[{key:"pay",value:function(){return this.innerPay.pay()}}]),e}();var ft=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).orderSn=e.orderSn,r}return p()(n,[{key:"realPay",value:function(e){var t=this;return e.money_order=e.money_order+"",e.server_time=e.server_time+"",Object(v.f)("JSPay","pay",{type:Q.a.ApplePay,params:e}).then((function(e){return _e({paymentType:Q.a.ApplePay,errorCode:"0",orderSn:t.orderSn}),e})).catch((function(e){be(e);var n=e.errorCode,r=e.data;return _e({paymentType:Q.a.ApplePay,errorCode:n+"",orderSn:t.orderSn}),Promise.reject({errorCode:n,errorObject:r})}))}},{key:"appId",get:function(){return this.config.AppID.ApplePay}}]),n}(fe);var mt=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"realPay",value:function(e){var t=this;return Object(v.f)("JSPay","pay",{type:Q.a.HBInstallmentPay,params:e}).then((function(e){return _e({paymentType:Q.a.HBInstallmentPay,errorCode:"0",orderSn:t.orderSn}),e})).catch((function(e){be(e);var n=e.errorCode;return _e({paymentType:Q.a.HBInstallmentPay,errorCode:n+"",orderSn:t.orderSn}),Promise.reject({errorCode:n})}))}},{key:"appId",get:function(){return this.config.AppID.HBInstallmentPay}}]),n}(fe),ht=function(){var e=Object(h.a)();return!!e.isNativePlatform&&Object(V.c)(e.version,"3.51.0")>=0};var vt=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"realPay",value:function(e){var t=this;return ht()?Object(v.f)("JSPay","pay",{type:Q.a.AliPayV2,params:e}).then((function(e){return _e({paymentType:Q.a.HBPay,errorCode:"0",orderSn:t.orderSn}),e})).catch((function(e){be(e);var n=e.errorCode;return _e({paymentType:Q.a.HBPay,errorCode:n+"",orderSn:t.orderSn}),Promise.reject({errorCode:n})})):(Object(me.c)(new Error("当前APP版本不支持花呗支付")),Promise.reject({errorCode:0}))}},{key:"appId",get:function(){return 322}}]),n}(fe);var gt=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"realPay",value:function(e){var t=this,n=e.prepay_id;return new Promise((function(){Object(P.a)(),X.show({title:"转账支付中"}),setTimeout(s()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.hide();case 2:ye.a.reload("transac_return_compensation.html?_t_timestamp=sub_bank_transfer_guide&prepay_id=".concat(n,"&order_sn=").concat(t.orderSn));case 3:case"end":return e.stop()}}),e)}))),1e3)}))}},{key:"appId",get:function(){return 135}}]),n}(fe);var yt=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"realPay",value:function(e){var t=this;return Object(v.f)("JSPay","pay",{type:Q.a.UnionPay,params:e}).then((function(e){return _e({paymentType:Q.a.UnionPay,errorCode:"0",orderSn:t.orderSn}),e})).catch((function(e){be(e);var n=e.errorCode;return Object(re.a)({payload:{event:"app_unionpay_pay",order_sn:t.orderSn,error_code:n+""}}),Promise.reject({errorCode:n})}))}},{key:"appId",get:function(){return 42001}}]),n}(fe);var _t=function(e){y()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"realPay",value:function(e){var t=this;return Object(v.f)("JSPay","pay",{type:Q.a.DuoDuoPay,params:e}).then((function(e){return _e({paymentType:Q.a.CreditCardInstallmentPay,errorCode:"0",orderSn:t.orderSn}),e})).catch((function(e){be(e);var n=e.errorCode;return _e({paymentType:Q.a.CreditCardInstallmentPay,errorCode:n+"",orderSn:t.orderSn}),Promise.reject({errorCode:n})}))}},{key:"appId",get:function(){return 45001}}]),n}(fe),bt={pay:function(e){var t=e.paymentType;void 0===e.isSupportDirectPay&&(e.isSupportDirectPay=!0);var n=Object(h.a)(),r=n.isWeChatPlatform,a=n.isWeChatMiniProgram,o=n.isNativePlatform,i=ae;switch(t){case Q.a.WeChat:i=a?he:e.isSupportDirectPay?it:xe;break;case Q.a.AliPay:r||(i=ut);break;case Q.a.AliPayDirectDebit:r||(i=nt);break;case Q.a.QQPay:r||(i=pt);break;case Q.a.ApplePay:o&&n.system===V.b.IOS&&(i=ft);break;case Q.a.HBInstallmentPay:r||(i=mt);break;case Q.a.HBPay:i=vt;break;case Q.a.DuoDuoPay:i=Xe;break;case Q.a.XianYongHouFu:i=Le;break;case Q.a.DuoDuoPayACS:i=gt;break;case Q.a.UnionPay:i=yt;break;case Q.a.CreditCardInstallmentPay:i=_t}var c=m()(e,"optionalParams.mianmiV3"),s=m()(e,"optionalParams.mianmiV3SafeHint");return X.init({paymentType:t,mianmiV3:c,mianmiV3SafeHint:s}),new i(e).pay()}};function kt(){var e=Object(h.a)();if(e.statisfy&&e.statisfy("1.2.2","2.0.8","greaterThan")||e.isTinyNativePlatform)Object(v.f)("JSNavigation","selectTab",{tab_index:0});else{var t="index.html";e.isNativePlatform||e.isTinyNativePlatform?Object(v.f)("JSNavigation","reset",{url:Object(we.i)(t)}).then((function(){return ye.a.reload(t)}),(function(){return ye.a.reload(t)})):ye.a.uniformForward(t)}}var wt=1,St=2,It=3,Ct=4,xt=7;function Pt(e){var t=m()(e,"type",0),n=m()(e,"param.url");switch(t){case wt:return function(){return ye.a.uniformForward(n)};case St:return function(){return ye.a.back(n)};case It:return kt;case Ct:return function(){return ye.a.reload(n)};case xt:return function(){return location.reload()}}}var Et="toast",Ot="nothing",Nt="alert",Dt="confirm";function Tt(e){var t=e.errorCode,n=e.errorObject,r=m()(n,"error_payload");if(!r)return null;var a=m()(r,"view_style",Et);if(a===Ot)return Promise.reject({errorCode:t,errorHandling:{isErrorAlerted:!0}});var o=m()(r,"view_object.message")||"",i=m()(r,"view_object.title")||"";o||(i=i||"系统繁忙，请稍后再试 (".concat(t,")"));var c,s,u,l,d,p=(c=m()(r,"view_object"),u=(s=c||{}).on_show,l=s.on_ok,d=s.on_cancel,{onShow:Pt(u),onCancel:Pt(d),onOk:Pt(l)}||{}),f=p.onOk,h=p.onCancel,v=p.onShow,g=m()(r,"view_object.ok_label")||"确定",y=m()(r,"view_object.cancel_label")||"取消",_=+m()(r,"view_object.on_close.type");return new Promise((function(e,n){var r=function(e){return function(){e?e():n({errorCode:t,errorHandling:{isErrorAlerted:!0}})}};switch(a){case Nt:Object(ce.a)({title:i,text:o,onConfirm:r(f),onClose:r(f),confirmButtonLabel:g});break;case Dt:Object(Qe.a)({title:i,text:o,onConfirm:r(f),onCancel:r(h),onClose:r(2===_?f:h),cancelButtonLabel:y,confirmButtonLabel:g});break;default:Object(Ee.a)(i,{onClose:r(v)})}}))}var jt,At={60131:"设备暂不支持Apple Pay，请更换其他支付方式",60132:"Apple Pay系统版本过低，请升级系统或更换其他支付方式",60133:"Apple Pay未绑中国银联银行卡，无法支付。请先绑卡或尝试其他支付方式"},Rt={"0010":"交易金额超限，建议更换其他支付方式或稍后重试","0014":"银行阻止了该银行卡交易，建议更换支付方式付款或咨询银行如何解决","0116":"银行卡密码错误次数超限，建议更换其他支付方式或稍后重试","0119":"您的银行卡暂不支持在线支付业务，建议更换其他支付方式或联系银行客服","0124":"您的银行卡余额不足，建议更换其他支付方式"};var Wt=(jt={},Fe()(jt,ne.WithoutWeChatClient.code,"您未安装微信或微信版本过低，建议安装新版微信后重试或使用其他支付方式"),Fe()(jt,60137,"您未安装微信，请安装后再支付或选择其他支付方式重新支付"),Fe()(jt,60138,"您使用的微信非官方版本，建议到官方渠道下载再重新支付"),Fe()(jt,60139,"当前支付方式不可用，请选择其他支付方式再重新支付"),Fe()(jt,60170,"您未安装云闪付或云闪付版本过低，建议安装新版云闪付后重试或使用其他支付方式"),Fe()(jt,60171,"支付失败，请重试或更换其他支付方式"),Fe()(jt,60126,"支付失败，请重试或更换其他支付方式"),Fe()(jt,60106,"支付失败，请重试或更换其他支付方式"),Fe()(jt,60140,"您未安装支付宝或支付宝版本过低，建议安装新版支付宝后重试或使用其他支付方式"),Fe()(jt,60145,"当前支付方式不稳定，请更换其他支付方式"),Fe()(jt,60146,"当前支付方式不稳定，请更换其他支付方式"),Fe()(jt,60105,"当前支付方式不稳定，请更换其他支付方式"),jt);function Lt(e){var t=e.errorCode,n=Tt(e);if(n)return Object(P.a)(),n;var r=function(e){var t=e.errorCode,n=e.errorObject,r=void 0===n?{}:n;if(Object.keys(At).some((function(e){return+e==+t})))return new Promise((function(e,n){var r=function(){n({errorCode:t,errorHandling:{isErrorAlerted:!0}})};Object(ce.a)({title:At[t],onConfirm:r,onClose:r})}));if(60136!=+t)return null;var a=r.sdk_return_code,o=Rt[a]||"交易失败，建议更换其他支付方式或稍后重试";return new Promise((function(e,n){var r=function(){n({errorCode:t,errorHandling:{isErrorAlerted:!0}})};Object(ce.a)({title:o,onConfirm:r,onClose:r})}))}(e);return r?(Object(P.a)(),r):t===parseInt(ne.NativePaymentCancel.code,10)?Promise.reject({errorCode:t,cancelled:!0}):t===parseInt(ne.QQPayFailed.code,10)?(Object(P.a)(),new Promise((function(e,n){var r=function(){n({errorCode:t,errorHandling:{isErrorAlerted:!0}})};Object(ce.a)({title:"由于QQ版本问题或未安装QQ\n暂时无法使用QQ钱包\n\n请安装新版QQ或选择其他支付方式",onConfirm:r,onClose:r})}))):Wt[t]?(Object(P.a)(),new Promise((function(e,n){var r=function(){n({errorCode:t,errorHandling:{isErrorAlerted:!0}})};Object(ce.a)({title:Wt[t],onConfirm:r,onClose:r})}))):function(e){return[parseInt(ne.ItemRemoved.code,10),parseInt(ne.OutOfStock.code,10),parseInt(ne.GroupInvalid.code,10),parseInt(ne.OverBuyLimit.code,10),parseInt(ne.OrderPayed.code,10),parseInt(ne.PrepayBusy.code,10),parseInt(ne.PaymentDisabled.code,10),parseInt(ne.OverBuyVirtualGoodsLimit.code,10)].includes(e)}(t)?(Object(P.a)(),new Promise((function(e,n){var r=function(){n({errorCode:t,errorHandling:{isErrorAlerted:!0}})};Object(ce.a)({title:ne.getMsgFromCode(t),onConfirm:r,onClose:r})}))):Promise.reject(e)}var Mt,Ft=$.PayStatus,Bt=$.ParentOrderStatus;Mt=Object(h.a)().isNativePlatform;var Ut={};Ut=new(function(){function e(){var t=this;l()(this,e),this.orderPaidTimes=0,this.attributeFields=null,Mt?Object(v.f)("AMStorage","get",{key:"order_paid_times"}).then((function(e){t.orderPaidTimes=parseInt(e.value||0,10),t.attributeFields={paid_times:t.orderPaidTimes}})):(this.orderPaidTimes=+localStorage.getItem("order_paid_times"),isNaN(this.orderPaidTimes)&&(this.orderPaidTimes=0),this.attributeFields={paid_times:this.orderPaidTimes})}var t;return p()(e,[{key:"defaultCheckOrderStatus",value:(t=s()(i.a.mark((function e(t){var n,r,a,o,c,s,u,l,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.maySuccess,r=t.orderSn,a=t.prepayType,o=function(e){return new Promise((function(t){setTimeout(t,e)}))},c=function(e){var t,o,i=e.retryTime;return a===ee.Combine?(t="api/aristotle/pay_check_parent_order",o={times:i,success:n?1:0,parent_order_sn:r}):(t="api/aristotle/pay_check",o={times:i,success:n?1:0,order_sn:r}),pe.a.getInstance().post(t,o)},s=1;case 4:if(!(s<6)){e.next=41;break}return Object(re.a)({error_msg:"paycheck_".concat(n?"maysuccess":"mayfail","_").concat(s),payload:{event:"paycheck",order_sn:r}}),e.prev=6,e.next=9,c({retryTime:s});case 9:if(u=e.sent,l=u.wait_time,d=u.parent_order_status,p=u.pay_status,+d!=+Bt.Unpayed&&+p!=+Ft.Unpayed||!(l>0)){e.next=18;break}return e.next=16,o(1e3*l);case 16:e.next=31;break;case 18:if(a!==ee.Combine){e.next=26;break}if(+d!=+Bt.Payed){e.next=23;break}return e.abrupt("return",{parentOrderStatus:d});case 23:return e.abrupt("return",Promise.reject({errorCode:"defaultCheckOrderStatusFail"}));case 24:e.next=31;break;case 26:if(+p!=+Ft.Payed){e.next=30;break}return e.abrupt("return",{orderStatus:1});case 30:return e.abrupt("return",Promise.reject({errorCode:"defaultCheckOrderStatusFail"}));case 31:e.next=38;break;case 33:throw e.prev=33,e.t0=e.catch(6),e.t0=e.t0||{},e.t0.errorCode||(e.t0.errorCode="unknown"),e.t0;case 38:s++,e.next=4;break;case 41:return e.abrupt("return",Promise.reject({errorCode:"defaultCheckOrderStatusFail"}));case 42:case"end":return e.stop()}}),e,null,[[6,33]])}))),function(e){return t.apply(this,arguments)})},{key:"checkOrderStatus",value:function(e){var t=this,n=e.service,r=e.timeout,a=e.success,o=e.orderSn,i=e.prepayType,c=!0;return Promise.race([new Promise((function(e,t){setTimeout((function(){c?t():e()}),r||1e4)})),n({maySuccess:a,orderSn:o,prepayType:i}).then((function(e){return c=!1,e}))]).then((function(e){return e&&1===e.orderStatus&&(Mt?Object(v.f)("AMStorage","set",{key:"order_paid_times",value:t.orderPaidTimes+1+""}):localStorage.setItem("order_paid_times",t.orderPaidTimes+1)),e})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={errorCode:e.errorCode||-1,extraErrorInfo:{isCheckOrderFail:!0}};throw t}))}},{key:"pay",value:function(e){var t=this,n=e.paymentType,r=e.orderSn;if(n&&n!==Q.a.FriendPay&&(Mt&&Object(v.f)("AMStorage","set",{key:"last_payment_type2",value:n.toString()}),localStorage.setItem("LastPaymentType",n.toString())),Object(re.a)({payload:{event:"before_prepay",payment_type:n,order_sn:r}}),n===Q.a.FriendPay)return Promise.resolve({redirectToFriendPay:!0});var o=e.checkOrderStatus&&"function"==typeof e.checkOrderStatus?e.checkOrderStatus:this.defaultCheckOrderStatus,c=null;return e.attributeFields=a()(a()({},e.attributeFields),this.attributeFields),bt.pay(e).then((function(n){return c=n,null!==e.checkOrderStatus?t.checkOrderStatus({service:o,timeout:e.checkOrderTimeout,success:!0,orderSn:r,prepayType:e.prepayType}):n})).then(function(){var e=s()(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(r=c)||void 0===r?void 0:r.xyhfSwitchedToWechat,![n,X.currentPaymentType].includes(Q.a.XianYongHouFu)||a){e.next=4;break}return e.next=4,X.showSuccess({title:"下单成功",payInfoTitle:"先用后付"});case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e!==c?a()(a()({},e),c):c})).catch(s()(i.a.mark((function a(){var c,s,u=arguments;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=u.length>0&&void 0!==u[0]?u[0]:{},![n,X.currentPaymentType].includes(Q.a.XianYongHouFu)){a.next=6;break}return a.next=4,X.hide();case 4:a.next=9;break;case 6:if(!X.isSwitched||X.currentPaymentType!==Q.a.AliPayDirectDebit){a.next=9;break}return a.next=9,X.hide();case 9:if(0!=+(s=c.errorCode)&&-1!=+s&&+s!=+ne.NativeNormalError.code&&60160!=+s){a.next=13;break}if(null===e.checkOrderStatus){a.next=13;break}return a.abrupt("return",t.checkOrderStatus({service:o,timeout:e.checkOrderTimeout,success:!1,orderSn:r}));case 13:throw c;case 14:case"end":return a.stop()}}),a)})))).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=m()(e,"optionalParams.errorCodeBlackList")||[],r=t.errorCode;if(Array.isArray(n)&&n.map((function(e){return+e})).includes(+r)||"defaultCheckOrderStatusFail"===r)throw t;if(m()(e,"optionalParams.skipDefaultErrorHandler"))throw t;return Lt(t)}))}},{key:"setHttpService",value:function(e){if(!e||!("post"in e)||"function"!=typeof e.post)throw new window.Error("pay.setHttpService的参数必须包含post方法");pe.a.setInstance(e)}}]),e}());t.a=Ut},h3V6:function(e,t,n){},h3qu:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"k",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return h}));var r={MiniProgram:/miniprogram/i,WeChat:/MicroMessenger/i,QQ:/QQ\/[\d\.]+\s+/i,QQAndQzone:/(QQ\/[\d\.]+\s+)|Qzone/i,QQApp:/QQ\//i,Weibo:/Weibo/i,Ios:/iphone|ipad|ipod/i,IosVersion:/os (\d+)_(\d+)_?(\d+)?/i,Android:/Android/i,AndroidVersion:/Android (\d+).?(\d+)?.?(\d+)?/i,AndroidNative:/phh_android_version/i,IosNative:/phh_ios_version/i,IosApiRequest:/BundleID\/com.xunmeng.pinduoduo/i,Mobile:/Android|webOS|iPhone|iPad|iPod/i,AndroidNativeVersion:/(phh_android_version)\/([^\s]+)\s*/i,IosNativeVersion:/(phh_ios_version|AppVersion)\/([^\s]+)\s*/i,MecoWebViewCore:/MecoCore\/(\d)/i,MecoWebViewSdk:/MecoSDK\/(\d)/i},a={Unknown:"unknown",PddIOS:"ios",PddAndroid:"android",PDDTinyAndorid:"tinyAndroid",WeChat:"wechat",Weibo:"weibo",QQ:"qq",QQApp:"qqapp",WxApp:"wxapp"},o={Android:"android",IOS:"ios",Unknown:"unknown"};function i(e,t){var n=t===a.PddAndroid?r.AndroidNativeVersion:r.IosNativeVersion,o=e.match(n);return o&&o[2]||""}function c(e){return r.MecoWebViewCore.test(e)&&r.MecoWebViewSdk.test(e)}function s(e,t){[e,t].forEach((function(e){if("string"!=typeof e)throw new TypeError("Invalid argument expected string")}));for(var n=function(e){return e.split(".").map((function(e){return parseInt(e,10)||0}))},r=n(e),a=n(t),o=Math.max(r.length,a.length),i=0;i<o;++i){var c=r[i]||0,s=a[i]||0;if(c!==s)return c-s}return 0}function u(){return"amcomponent:"===window.location.protocol}function l(e,t,n){return void 0===e[t]&&(e[t]=n),e[t]}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.MiniProgram.test(e)||"undefined"!=typeof window&&"miniprogram"===window.__wxjs_environment}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.AndroidNative.test(e)?e.includes("app_type/tiny")?a.PDDTinyAndorid:a.PddAndroid:r.IosNative.test(e)||r.IosApiRequest.test(e)?a.PddIOS:r.WeChat.test(e)?d(e)?a.WxApp:a.WeChat:r.Weibo.test(e)?a.Weibo:r.QQApp.test(e)&&d(e)?a.QQApp:r.QQAndQzone.test(e)?a.QQ:a.Unknown}function f(e){return r.Ios.test(e)?o.IOS:r.Android.test(e)?o.Android:o.Unknown}function m(e){var t=f(e),n="";if(t===o.IOS&&(n=r.IosVersion),t===o.Android&&(n=r.AndroidVersion),n){var a=e.match(n);return(a?[a[1],a[2],a[3]].map((function(e){return e?parseInt(e,10):0})):[]).join(".")}return""}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.Mobile.test(e)}},h5Ql:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'._1trLT2gR{height:.89rem;padding-left:.44rem;position:relative;background:#fff}._1trLT2gR._1XMNcSkC{height:1.07rem}.cYaX87HR{height:1.39rem;padding-left:.44rem;position:relative;background:#fff}.cYaX87HR._1XMNcSkC{height:1.75rem}._3z_wOnyG{height:1.16rem}._3z_wOnyG,._37gvz7E5{padding-left:.44rem;position:relative}._37gvz7E5{height:1.84rem}.px9-vsV6{height:2.52rem;padding-left:.44rem;position:relative}._3hwcg-FO{height:.37rem;line-height:.37rem;color:#151516;font-size:.13rem;position:relative;border:none!important}._3hwcg-FO:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;-webkit-transform-origin:0 0;transform-origin:0 0;pointer-events:none;-webkit-transform:scale(.5);transform:scale(.5);box-sizing:border-box;border-top:1px solid rgba(0,0,0,.05)}._12T-bV0o{font-size:.13rem;height:.37rem;line-height:.37rem;position:absolute;right:.23rem;top:0;color:#9c9c9c}._12T-bV0o:active{color:#58595b}._12T-bV0o:active:before{color:rgba(0,0,0,.35)}._281ckJtn{position:absolute;height:.12rem;width:.06rem;right:.13rem;top:.12rem}._1WlyLvbS{height:.52rem;padding-bottom:.02rem;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start;-webkit-box-align:start;align-items:flex-start;-webkit-align-items:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap}._1WlyLvbS._1XMNcSkC{height:.7rem}._3FxNqAFV{height:1.02rem;padding-bottom:.02rem;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start;-webkit-box-align:start;align-items:flex-start;-webkit-align-items:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap}._3FxNqAFV._1XMNcSkC{height:1.38rem}._1e4zHMkd,._1kY24ooh{width:.99rem;height:.4rem;border-radius:.04rem;background-color:#f8f8f8;margin-right:.1rem;margin-bottom:.1rem}._1e4zHMkd{background-color:#fdf3f2}._2l0Vd4nR,._3gVdWtVT,.xAtxWEkF{height:.12rem;line-height:.12rem;color:#58595b;margin-top:.06rem;font-size:.12rem;text-align:center}._3gVdWtVT{color:#e02e24}.xAtxWEkF{color:#9c9c9c}._1rGQmS2F,._2IgIVOHE,.gh4-MQFk{height:.12rem;line-height:.12rem;color:#58595b;margin-top:.04rem;font-size:.12rem;text-align:center}.gh4-MQFk{color:#e02e24}._2IgIVOHE{color:#9c9c9c}._3OZkTf6Z{height:.7rem}._3DiwxQrV,._3OZkTf6Z{padding-bottom:.02rem;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start;-webkit-box-align:start;align-items:flex-start;-webkit-align-items:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap}._3DiwxQrV{height:1.38rem}.R6V7Pv0r{height:2.06rem;padding-bottom:.02rem;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:start;justify-content:flex-start;-webkit-justify-content:flex-start;-webkit-box-align:start;align-items:flex-start;-webkit-align-items:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap}.BxoqmZys{width:.13rem;height:.13rem;margin-right:.04rem;margin-top:.12rem}.sLK1W7j6{position:absolute;top:0;left:0;bottom:0;width:.32rem;z-index:1}.H-GJ_YnZ{margin-right:.1rem}.pdd_payment_list_elder_mode ._3hwcg-FO{height:.46rem;line-height:.44rem;padding-top:.02rem;font-size:.16rem}.pdd_payment_list_elder_mode ._12T-bV0o{height:.44rem;line-height:.44rem;font-size:.16rem}.pdd_payment_list_elder_mode ._12T-bV0o:before{font-size:.13rem;top:.16rem}.pdd_payment_list_elder_mode ._3FxNqAFV{height:2.06rem}.pdd_payment_list_elder_mode .BxoqmZys{width:.16rem;height:.16rem;margin-right:.04rem;margin-top:.14rem}.pdd_payment_list_elder_mode ._281ckJtn{position:absolute;height:.13rem;width:.07rem;right:.12rem;top:.16rem}',""]),t.locals={installment3Container:"_1trLT2gR",hasPromotionContent:"_1XMNcSkC",installment6Container:"cYaX87HR",installment2ContainerElder:"_3z_wOnyG",installment4ContainerElder:"_37gvz7E5",installment6ContainerElder:"px9-vsV6",title:"_3hwcg-FO",action:"_12T-bV0o",actionBtn:"_281ckJtn",installments3:"_1WlyLvbS",installments6:"_3FxNqAFV",installment:"_1kY24ooh",selectedInstallment:"_1e4zHMkd",number:"_2l0Vd4nR",selectedNumber:"_3gVdWtVT",disableNumber:"xAtxWEkF",money:"_1rGQmS2F",selectedMoney:"gh4-MQFk",disableMoney:"_2IgIVOHE",installment2Elder:"_3OZkTf6Z",installment4Elder:"_3DiwxQrV",installment6Elder:"R6V7Pv0r",bankIcon:"BxoqmZys",mask:"sLK1W7j6",installmentContainer:"H-GJ_YnZ"}},hQH6:function(e,t,n){"use strict";var r=n("J4zp"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),u=n("cDf5"),l=n.n(u),d=n("uSI5");var p=new(function(){function e(){i()(this,e),this.data={}}return s()(e,[{key:"register",value:function(e,t){this.data[e]?Object.assign(this.data[e],t):this.data[e]=t}},{key:"matchModel",value:function(e){var t=e.code,n=e.uid,r=e.model,o=r.whiteList,i=void 0===o?[]:o,c=r.blackList,s=void 0===c?[]:c,u=(r.key,r.range);if(i.indexOf(n)>=0)return!0;if(s.indexOf(n)>=0)return!1;if("number"==typeof u)return t<u;var l=a()(u,2),d=l[0],p=l[1];return t>=d&&t<p}},{key:"enabled",value:function(e){(this.data[e]||(this.data[e]={})).enabled=!0}},{key:"disabled",value:function(e){(this.data[e]||(this.data[e]={})).enabled=!1}},{key:"isGrey",value:function(e){var t=e.name,n=e.key,r=e.uid,a=this.data[t];if(!a)return!1;if(a.enabled)return!0;r=r||function(){var e=0;if("undefined"==typeof window)return e;var t=localStorage.getItem("0e4f9612e0fbe579")||"";if(String(t).match(/[0-9]{10}/)?e=t:t&&(e=parseInt(t,36)),!e){var n=document.cookie.split(";").reduce((function(e,t){var n=t.split("=");return e[String(n[0]).trim()]=n[1],e}),{}).pdd_user_id;n&&(e=parseInt(n,10))}return e}();var o,i=a.salt,c=void 0===i?"":i,s=a.bucketCount,u=void 0===s?100:s,p=a.defaultModel,f=a.mode,m=void 0===f?"hash":f,h=a.models,v=void 0===h?[]:h;if(function(e){if("object"!==l()(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(v)&&(v=[v]),!r)return!(!p||n!==p);o="num"===m?function(e,t){return parseInt(e)%t}(r,u):function(e,t,n){return Object(d.b)(e,t,n)}(u,c,r);for(var g=0;g<v.length;g++){var y=v[g],_=y.key,b=this.matchModel({code:o,uid:r,model:y});if(n&&b&&_===n)return!0;if(!n&&b)return!0;if(b&&_!==n)return!1}return!(!p||n!==p)}}]),e}());t.a=p},hTJN:function(e,t,n){var r=n("D3vx"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},hVdf:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n("KoDT"),a=n("h3qu"),o=n("MpJ2"),i=Object(r.b)(window.navigator.userAgent);function c(){return i.isNativePlatform}function s(e){var t=e.title,n=void 0===t?"":t,r=e.text,c=void 0===r?"":r,s=e.onConfirm,u=e.onCancel,l=e.onClose,d=e.confirmButtonLabel,p=e.cancelButtonLabel,f={title:n,text:c,ok_label:d||"确定",canceled_on_touch_outside:!1,show_close_button:!0};u&&(f.cancel_label=p||"取消");var m=i.system===a.b.IOS?"AMAlert":"JSAlert";Object(o.f)(m,"showAlert",f).then((function(e){2!==e.click_type?0===e.index?s&&s(e):u&&u(e):l&&l(e)}))}},hjca:function(e,t,n){"use strict";function r(e){return"string"==typeof e&&["http://","https://","//"].some((function(t){return e.startsWith(t)}))}n.d(t,"a",(function(){return r}))},i4d4:function(e,t,n){e.exports={skuQuantityTip:"_2Icr8_BZ",skuQuantityTipTxt:"_3Y4I8_Gq"}},i7vn:function(e,t,n){e.exports={addressInfo:"_35_YyHlO",location:"_20Aew5Dn",icon:"_337DifRr",info:"_lytPIiU",receiver:"_2XUxNfYs",name:"_2Ca-NXhN",mobile:"_2KH3N__4",city:"_1e1he_ng",detail:"Y7f6W3f-",instruction:"_2ZvGIBQh",arrow:"anVcJFoP"}},iYsC:function(e,t,n){var r=n("h5Ql"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},ichq:function(e,t,n){var r=n("0U4v"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},ii9O:function(e,t,n){"use strict";var r=n("cDf5"),a=n.n(r),o=n("MpJ2"),i=n("KoDT"),c=n("mj+i"),s=n("jtE3"),u=n("fkZF"),l=n("IGKT"),d=n("qnV/"),p=n("J4zp"),f=n.n(p),m=n("MVZn"),h=n.n(m),v=n("SxTj");function g(e){return Object(c.d)(e).split("?")[0]}var y=function(e){if(e){var t=Object(c.h)(e),n={},r=t.page_el_sn;r&&(n.refer_page_el_sn=r);var a=Object(v.b)(!0);return Object(c.a)(h()(h()(h()({},a),t),n),e)}},_=function(e){return e?Object.entries(Object(c.h)(e)).reduce((function(e,t){var n=f()(t,2),r=n[0],a=n[1];if(r.startsWith("refer_")||r.startsWith("_ex_")){var o=r.replace(/^refer_/,"").replace(/^_ex_/,"");o&&a&&((e=e||{})[o]=a)}return e}),null):null};n.d(t,"b",(function(){return W}));var b={"sc.yangkeduo.com":1,"csr.pinduoduo.net":1},k=Object(i.b)(window.navigator.userAgent),w=["/goods.html","/subject.html","/subjects.html","/spike.html","/order.html","/order_checkout.html","/orders.html","/personal.html","chat_detail.html","chat_detail_logistics","commercial_bargain_list.html","mkt_bargain_list.html","coupons.html","mall_page.html","/comm_brand_page.html","group7.html","/index.html"],S={},I=300,C=Object(c.g)(window.location.search);S=window.Navigation={nextPageQuery:{},setNextPageQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(e&&"object"===a()(e))for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"page_el_sn"===n?window.Navigation.nextPageQuery.refer_page_el_sn=r:window.Navigation.nextPageQuery[n]=r}t&&"function"==typeof t&&t()},getNextPageQuery:function(){return window.Navigation.nextPageQuery},reload:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e;e?(e=y(e),e=T(window.Navigation.nextPageQuery,e)):a=e=T(Object.assign({},C,window.Navigation.querySet));var i=A(e);e=i.url,0===a.indexOf("//")&&(a=e);try{history.replaceState(n,"",e)}catch(e){}var s=function(){try{history.replaceState(n,"",e)}catch(e){}setTimeout((function(){window&&window.location?window.location=e:location.href=e,"function"==typeof t&&t()}),0)};if(k.isNativePlatform||k.isTinyNativePlatform){var u=Object(c.h)(e),l="1"===u.use_urm_navigation||!Object(c.f)(a);l&&(e=Object(c.d)(e));var d={url:e,type:"web",props:Object.assign({},u,{url:e},r.props)};k.statisfy&&k.statisfy("4.26.0","4.40.0","greaterThanEqual")&&l&&(d.type="");var p=_(e);p&&(d.transient_refer_page_context=p),Object(o.f)("JSNavigation","replace",d).then(t)}else s()},back:function(e,t,n,r){r=r||{},k.isNativePlatform||k.isTinyNativePlatform?null==e?Object(o.f)("JSNavigation","back",{props:r.props||{}}).then(t):Object(o.f)("JSNavigation","back",{url:Object(c.i)(e),props:r.props||{}}).then(t):setTimeout((function(){null==e||n?history.back():location.href=e,"function"==typeof t&&t()}),0)},initWxAppNavigateWait:function(e){I=e||I,S.throttleForwardWxAppPage=N(I)},throttleForwardWxAppPage:N(),webForward:function(e,t){setTimeout((function(){O&&O(e)?S.throttleForwardWxAppPage(e):location.href=e,"function"==typeof t&&t()}),0)},prepareForwardUrl:function(e){return window.Navigation.querySet=Object.assign({},C,window.Navigation.querySet,{is_back:k.isNativePlatform?null:"1"}),k.isWeChatMiniProgram||k.isQQMiniProgram||window.Navigation.replaceURL(T(window.Navigation.querySet),(function(){}),window.history.state),e=y(e),A(e=T(window.Navigation.nextPageQuery,e))},uniformForward:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e,a=S.prepareForwardUrl(e),i=a.launchApp,u=a.url;e=u;var l=i?Object(s.a)(e):Promise.reject();l.catch((function(){if(0===r.indexOf("//")&&(r=e),k.isNativePlatform||k.isTinyNativePlatform){Object(c.f)(r)||(e=Object(c.d)(e));var a=n.props,i=n.transient_refer_page_context,s=Object.assign({url:e,type:"web",props:Object.assign({url:e},Object(c.h)(e),a)},{transient_refer_page_context:i});k.statisfy&&k.statisfy("4.26.0","4.40.0","greaterThanEqual")&&(s.type=""),null!=n.tab_index&&(s.tab_index=n.tab_index);var u=_(e);u&&(s.transient_refer_page_context=Object.assign({},s.transient_refer_page_context,u)),Object(o.f)("JSNavigation","forward",s).then(t)}else S.webForward(e,t)}))},maskAppPage:function(e,t){Object(o.f)("JSNavigation","mask",{type:e,props:t})},replaceURL:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;C=Object(c.h)(e);var r=function(){try{history.replaceState(n,"",e)}catch(e){}"function"==typeof t&&t()};k.statisfy&&k.statisfy("1.2.5","2.1.0","greaterThan")?Object(o.f)("WebScene","replaceURL",{url:e}).then(r,r):r()},querySet:null,replaceQuery:function(e,t){window.Navigation.querySet=Object.assign({},window.Navigation.querySet,e),"function"==typeof t&&t()},nativeAppPage:function(e,t,n,r){"reload"===(e=e||"forward")&&(e="replace"),"backAndReload"===e&&(e="back");var a=n.props,i=void 0===a?n:a,c=n.transient_refer_page_context,s={type:t,props:i,transient_refer_page_context:Object.assign({},c,_(i.url))};n.url&&(s.url=n.url),Object(o.f)("JSNavigation",e,s).then(r)}};var x,P;function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return new Promise((function(t,n){setTimeout((function(){n(new Error("timeout after ".concat(e,"ms")))}),e)}))}function O(e){var t=!1;if(Object(c.g)(window.location.search)._x_minpgm_webnav_)return t;if(!e||"string"!=typeof e||!k.isWeChatMiniProgram&&!k.isQQMiniProgram||!window.wx||!window.wx.miniProgram)return!1;if(x)try{return Object.keys(x).some((function(t){return new RegExp(t).test(e)}))}catch(e){Object(d.c)(e)}return w.forEach((function(n){-1!==e.indexOf(n)&&(t=!0)})),t}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return Object(d.b)(D,e)}function D(e,t){var n=function(e,t){if(e)try{var n=Object.keys(e).find((function(e){return new RegExp(e).test(t)}));if(!n)return{};var r=e[n],a=r.path,o=r.params,i=r.query,s=t.split("#")[0].split("?")[1];if(s){if(o){var u=Object(c.g)(s),l={};Object.keys(u).forEach((function(e){e in o?l[o[e]]=u[e]:l[e]=u[e]})),a=a+"?"+Object(c.b)(l)}else a=a+"?"+s;i&&(a=a+"&"+i)}else i&&(a=a+"?"+i);return{routeType:r.routeType||"navigateTo",miniProgramUrl:a}}catch(e){Object(d.c)(e)}return w.some((function(e){return-1!==t.indexOf(e)}))?{routeType:"navigateTo",miniProgramUrl:"/pages/web_bridge/web_bridge?targetpage="+t.replace("?","&")}:{}}(x,e),r=window.wx.miniProgram[n.routeType];r&&r({url:n.miniProgramUrl,success:t})}function T(e,t){return t=Object(c.a)(e,Object(c.i)(t||location.href))}function j(e){return window.__NAVIGATION_MAP__[e]?window.__NAVIGATION_MAP__[e]:window.__NAVIGATION_MAP__[e.slice(1)]}function A(e){var t=g(e),n=function(e){if(window.__NAVIGATION_MAP__&&k.isWeChatPlatform){for(var t=g(e),n={},r=t,a=null;void 0!==j(r);){if(void 0!==n[r]){console.error("circular navigation route ".concat(t));break}var o=j(r);if("APP"===o.toUpperCase())return{finalPathName:r,finalUrlQuery:a,launchApp:!0};-1!==o.indexOf("?")&&(a=Object.assign({},a,Object(c.h)(o))),r=n[r]=g(o)}return{finalPathName:r,finalUrlQuery:a,launchApp:!1}}return{finalPathName:null,finalUrlQuery:null,launchApp:!1}}(e);if(n.finalPathName&&n.finalPathName!==t){var r=new RegExp("(.*)".concat(t));e=e.replace(r,"$1".concat(n.finalPathName)),n.finalUrlQuery&&(e=Object(c.a)(n.finalUrlQuery,e))}if(k.isNativePlatform&&b[location.hostname]){var a="".concat(location.protocol,"//").concat(location.hostname);e=Object(c.d)(e),e=Object(c.a)({pr_domain:a},e)}return{url:e,launchApp:n.launchApp}}(k.isWeChatMiniProgram||k.isQQMiniProgram)&&(window.__minPgmUrlMap__&&(x=window.__minPgmUrlMap__),!x&&Promise.race([new Promise((function(e,t){var n,r=new Date;r.setMinutes(0,0,0);var a,o=r.getTime(),i=localStorage.getItem("wxaPageMap");if(i&&(a=JSON.parse(i))&&(n=a[o]),n)e(n);else{var c="https://xcxcdn.yangkeduo.com/mini_program/sdk/v2/pddminiprogram.js?"+Object(u.a)();Object(l.a)(c,{async:!0,crossOrigin:"anonymous"}).then((function(){n=window.pddMiniProgram.routeConfig;var t={};t[o]=n,localStorage.setItem("wxaPageMap",JSON.stringify(t)),e(n)})).catch((function(e){t(e)}))}})),E(P)]).catch((function(e){Object(d.c)(e)})).then((function(e){x=e})));var R=S,W=(R.setNextPageQuery,R.getNextPageQuery,R.reload,R.back,R.initWxAppNavigateWait,R.uniformForward);R.maskAppPage,R.replaceURL,R.replaceQuery,t.a=S},imwC:function(e,t,n){"use strict";n.d(t,"a",(function(){return oe}));var r,a=n("lSNA"),o=n.n(a),i=n("MVZn"),c=n.n(i),s=n("cDf5"),u=n.n(s),l=n("o0o1"),d=n.n(l),p=n("yXPU"),f=n.n(p),m=n("lwsE"),h=n.n(m),v=n("W8MJ"),g=n.n(v),y=n("7W2i"),_=n.n(y),b=n("a1gu"),k=n.n(b),w=n("Nsbk"),S=n.n(w),I=n("U+yc"),C=n.n(I),x=n("BkRI"),P=n.n(x),E=n("mwIZ"),O=n.n(E),N=n("q1tI"),D=n.n(N),T=(n("17x9"),n("gKdT")),j=n.n(T),A=n("TSYQ"),R=n.n(A),W=n("KoDT"),L=n("h3qu"),M=n("W1oA"),F=n("SXY3"),B=n("eHaf"),U=n("gi5g"),V=n("8FLX"),H=n("P58h"),q=n("CTPE"),z=n("mapP"),Q=n("QLMx"),G=n("nANs"),J=n("NTpl"),K=n("tCpK"),Y=n("lcYG"),X=n("nWhu"),Z=n("x9rp"),$=n("7ftN"),ee=n("9yT/"),te=n("f+ex"),ne=(n("LuAP"),n("uorM")),re=n.n(ne);var ae={free:re.a.skuSpecValue,selected:R()(re.a.skuSpecValue,re.a.skuSpecValueSelected),disable:R()(re.a.skuSpecValue,re.a.skuSpecValueDisable)},oe=(r=function(e){_()(s,e);var t,n,r,a,i=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=S()(e);if(t()){var a=S()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k()(this,n)}}(s);function s(e){var t;h()(this,s),(t=i.call(this,e)).deliverRef=D.a.createRef(),t.skuIphoneRef=D.a.createRef(),t.getSkuRef=function(){return t.skuSelectorBodyRef};var n=t.buildSkuData(e.goods.skus),r=n.skuTypeValues,a=n.typeHashToSkuID,o=n.currentSelect,c=n.skuInfos;return t.state={selectedSkuID:null,goodsNumber:1,skuInfos:c,currentSelect:o,skuTypeValues:r,typeHashToSkuID:a,selectedHomeIns:{},selectedSendWays:{},styleStatus:0},t}return g()(s,[{key:"componentDidMount",value:(a=f()(d.a.mark((function e(){var t,n,r,a,o,i,c,s,u,l=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object.keys(this.state.skuInfos).filter((function(e){return l.state.skuInfos[e].quantity>0})),!(n=1===t.length?t[0]:this.props.goods&&this.props.goods.selectSkuId)){e.next=6;break}this.selectSkuId({skuId:n}),e.next=34;break;case 6:r=!0,a=!1,o=void 0,e.prev=9,i=this.state.skuTypeValues[Symbol.iterator]();case 11:if(r=(c=i.next()).done){e.next=20;break}if(1!==(s=c.value).values.length){e.next=17;break}return u=s.type,e.next=17,this.selectOneValue(u,s.values[0]);case 17:r=!0,e.next=11;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(9),a=!0,o=e.t0;case 26:e.prev=26,e.prev=27,r||null==i.return||i.return();case 29:if(e.prev=29,!a){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(26);case 34:case"end":return e.stop()}}),e,this,[[9,22,26,34],[27,,29,33]])}))),function(){return a.apply(this,arguments)})},{key:"buildSkuData",value:function(e){var t=[],n={},r={},a={};return e.forEach((function(e){var o=e.specs,i=e.skuID;a[i]=e;var c={};o.forEach((function(e){var n=e.spec_key,a=e.spec_value;c[n]=a;var o=t.filter((function(e){return e.type===n}));if(o&&o[0]){var i=o[0].values;!i.includes(a)&&i.push(a)}else r[n]=null,t.push({type:n,values:[a]})})),n[JSON.stringify(c)]=i})),{skuTypeValues:t,typeHashToSkuID:n,currentSelect:r,skuInfos:a}}},{key:"checkHas",value:function(e){var t=this.props.goods.skus,n=!0,r=!1,a=void 0;try{for(var o,i=function(){var t=o.value;if(t.quantity<=0)return"continue";var n={};t.specs.forEach((function(e){var t=e.spec_key,r=e.spec_value;n[t]=r}));var r=!0;for(var a in e)e[a]&&n[a]!==e[a]&&(r=!1);return r?{v:t.skuID}:void 0},c=t[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var s=i();switch(s){case"continue":continue;default:if("object"===u()(s))return s.v}}}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return!1}},{key:"getButtonStatus",value:function(e){var t=this,n=e||this.state.currentSelect,r=this.props.goods.skus,a={};return r.forEach((function(e){e.specs.forEach((function(e){var r=e.spec_key,i=e.spec_value,s=c()(c()({},n),{},o()({},r,i)),u=t.checkHas(s);a[r]=c()(c()({},a[r]),{},o()({},i,u))}))})),a}},{key:"selectSkuId",value:(r=f()(d.a.mark((function e(t){var n,r,a,o,i,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.skuId,r=t.goodsNumber,a=void 0===r?1:r,o=this.state.typeHashToSkuID,e.t0=d.a.keys(o);case 3:if((e.t1=e.t0()).done){e.next=17;break}if(i=e.t1.value,o[i]!==+n){e.next=15;break}c=JSON.parse(i),e.t2=d.a.keys(c);case 8:if((e.t3=e.t2()).done){e.next=14;break}return s=e.t3.value,e.next=12,this.selectOneValue(s,c[s],!0);case 12:e.next=8;break;case 14:+a>0&&this.setState({goodsNumber:a});case 15:e.next=3;break;case 17:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"resetSkuId",value:function(){var e={};(this.props.goods.skus||[]).forEach((function(t){t.specs.forEach((function(t){var n=t.spec_key;e[n]=null}))})),this.setState({currentSelect:e,selectedSkuID:null})}},{key:"checkQuantityAsync",value:function(e){var t=this;this.isCheckQuantityAsync||(this.isCheckQuantityAsync=!0,Object($.b)({method:"POST",url:"api/oak/quantity/check",data:c()({goods_id:this.props.goods.goodsID,sku_id:e,mall_id:this.props.goods.mallID,detail_id:O()(this.props.goods,"activity.detailID"),select_quantity:+this.state.goodsNumber,hostname:location.hostname,community_id:this.props.communityId},O()(this.props.goods,"control.quantity_check_request_params")||{})}).then((function(n){if(n){var r=n.next_quantity,a=t.state.skuInfos[e];a.isQualityCheckEnd=0===n.has_quantity,a.defaultQuantity=r,t.setState({skuInfos:t.state.skuInfos,isQualityCheckEnd:"".concat(e,"+").concat(a.isQualityCheckEnd)},t.amendLimitQuantity)}t.isCheckQuantityAsync=!1})).catch((function(){t.isCheckQuantityAsync=!1})))}},{key:"getLimitGoodsNumber",value:function(){var e=this.state.selectedSkuID,t=1e5;if(e){var n=this.state.skuInfos[e],r=n.quantity,a=n.staticLimitQuantity,o=n.defaultQuantity;if(this.props.goods.checkQuantity&&o){var i=+a||1;if(n.isQualityCheckEnd)t=Math.min(i,o);else{var c=this.state.goodsNumber;i>o&&c>=o&&this.checkQuantityAsync(e),t=Math.min(i,o)}}else t=Math.min(+a,+r)||1}else t=1e5;return+t<1&&(t=1),t}},{key:"amendLimitQuantity",value:function(){var e=this.getLimitGoodsNumber(),t=this.state,n=t.goodsNumber,r=t.selectedSkuID;if(n>e)if(r&&this.props.goods.checkQuantity){var a=this.state.skuInfos[r],o=a.staticLimitQuantity,i=a.defaultQuantity;(a.isQualityCheckEnd||o<i)&&this.setState({goodsNumber:e},(function(){Object(Z.g)("当前款式最多可拼".concat(e,"件"))})),+n>1e3&&1e3==+e&&this.setState({goodsNumber:e})}else this.setState({goodsNumber:e},(function(){Object(Z.g)("当前".concat(r?"款式":"商品","最多可拼").concat(e,"件"))}));else n<1&&this.setState({goodsNumber:1})}},{key:"handleHomeInsClick",value:function(e){this.setState({selectedHomeIns:e})}},{key:"selectOneValue",value:(n=f()(d.a.mark((function e(t,n,r){var a,o,i=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=P()(this.state.currentSelect))[t]!==n||r?a[t]=n:a[t]=null,o=this.state.typeHashToSkuID[JSON.stringify(a)],!this.props.selectOneValueCb){e.next=9;break}return e.next=6,this.props.selectOneValueCb({selectedSkuID:o,type:t,value:n,force:r});case 6:if(e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:return this.setState({currentSelect:a,selectedSkuID:o,selectedHomeIns:{}},(function(){i.amendLimitQuantity()})),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"fixInputBug",value:function(){var e=Object(W.a)();e.system===L.b.IOS&&Object(L.c)(e.systemVersion,"12.0")>=0&&"function"==typeof window.scrollTo&&window.scrollTo(0,0)}},{key:"setCustomState",value:function(e){this.setState(e)}},{key:"show",value:function(e){var t=this,n=this.props.goods,r=e.preventAutoConfirm;if(1===n.skus.length&&!O()(n,"skus[0].specs.length")){var a=n.skus[0].skuID;if(this.setState({selectedSkuID:a,selectedHomeIns:{}},(function(){r||(Z.a.hide(),t.confirmSku())})),!r)return}if(O()(e,"skuID")){var o=e.goodsNumber;this.setState({goodsNumber:Number(o)||1},(function(){t.selectSkuId({skuId:e.skuID,goodsNumber:Number(o)||1})}))}}},{key:"setScroll",value:function(){Object(U.a)(this.skuSelectorBodyRef)}},{key:"goodsNumberBlur",value:function(){this.fixInputBug(),this.setState({goodsNumber:Number(this.state.goodsNumber)||1},this.amendLimitQuantity)}},{key:"goodsNumberChange",value:function(e){var t=parseInt(e.target.value,10)||0;this.setState({goodsNumber:t},this.amendLimitQuantity)}},{key:"updateGoodsNumber",value:function(e){var t=parseInt(this.state.goodsNumber,10)||0;this.setState({goodsNumber:t+e})}},{key:"reduceGoodsNumber",value:function(e){e&&e.stopPropagation(),this.isEnableReduce()&&this.updateGoodsNumber(-1)}},{key:"increaseGoodsNumber",value:function(e){if(e&&e.stopPropagation(),this.isEnableIncrease())this.updateGoodsNumber(1);else{var t=this.getLimitGoodsNumber(),n=this.state.selectedSkuID;Object(Z.g)("当前".concat(n?"款式":"商品","最多可拼").concat(t,"件"))}}},{key:"confirmSku",value:(t=f()(d.a.mark((function e(t){var n,r,a,o,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.stopPropagation(),n=this.state.selectedSkuID){e.next=5;break}return Object(Z.g)(this.priceAreaRef.getSpecDesc()),e.abrupt("return");case 5:if(O()(this.props.goods,"ui.sku_section.view_style_v2")!==ee.b.HOME_INSTALL){e.next=10;break}if(+O()(this.state.selectedHomeIns,"srv_type")>=0){e.next=10;break}return Object(Z.g)("请选择服务"),e.abrupt("return");case 10:if(O()(this.props.goods,"ui.sku_section.view_style_v2")!==ee.b.CAR_SHOP){e.next=15;break}if(!this.deliverRef.current){e.next=15;break}if(r=this.deliverRef.current.getDeliveryData()){e.next=15;break}return e.abrupt("return");case 15:if(O()(this.props.goods,"ui.sku_section.view_style_v2")!==ee.b.IPHONE){e.next=22;break}if(!this.skuIphoneRef.current){e.next=22;break}if(a=this.skuIphoneRef.current.getState()||{},i=(o=a).mobileID,o.cityID&&i){e.next=22;break}return Object(Z.g)("请先选择入网信息"),e.abrupt("return");case 22:(c=this.props.confirmSkuCallBack)&&c({selectedSkuID:n,goodsNumber:this.state.goodsNumber,skuInfo:this.state.skuInfos[n],skuInfos:this.state.skuInfos,iphoneInfo:a,deliveryData:r,homeInsData:this.state.selectedHomeIns,state:this.state,props:this.props});case 24:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"isEnableIncrease",value:function(){var e=+this.getLimitGoodsNumber(),t=this.state,n=t.selectedSkuID,r=t.goodsNumber;if(n&&this.props.goods.checkQuantity){var a=this.state.skuInfos[n],o=a.staticLimitQuantity,i=a.defaultQuantity;if(+r>1e3)return!a.isQualityCheckEnd;if(a.isQualityCheckEnd)return r<e;var c=Math.min(o,i);return!(c<=r&&c===o)}return r<e}},{key:"isEnableReduce",value:function(){return!(this.state.goodsNumber<=1)}},{key:"renderSkusElement",value:function(){var e=this,t=this.getButtonStatus(),n={};(Object.keys(this.state.currentSelect)||[]).forEach((function(e){n[e]=null}));var r=this.getButtonStatus(n),a=this.props.goods.skus.find((function(e){return e.hotSale}))||{},i=((null==a?void 0:a.specs)||[]).map((function(e){return e.spec_value})),c=-1,s=this.state.skuTypeValues.map((function(n,a){var s=n.type,u=n.values,l=(Object.values(r[s])||[]).reduce((function(e,t){return e+(t?1:0)}),0),d=u.map((function(n,r){var u=ae.disable,d=function(){};t[s]&&t[s][n]&&(u=ae.free,d=function(){return e.selectOneValue(s,n)}),e.state.currentSelect[s]===n&&(u=ae.selected);var p=n;if(1===e.state.skuTypeValues.length){var f=JSON.stringify(o()({},s,n)),m=e.state.typeHashToSkuID[f],h=e.state.skuInfos[m],v=h.groupSkuUnitPrice,g=h.normalSkuUnitPrice,y=+e.props.group.requireNum>1?v:g;y&&(p="".concat(n,"｜").concat(y))}return c<0&&l>1&&n===i[a]&&(c=a),D.a.createElement("div",{role:"button","aria-label":p,key:r,className:u,onClick:d},c===a&&n===i[a]&&D.a.createElement("div",{"aria-hidden":!0,className:R()(re.a.hotSale,re.a.hotSaleIcon)}),p)})),p=null,f=O()(e.props.goods,"ui.sku_section.size_chart"),m=+O()(e.props.goods,"ui.sku_section.size_chart_entry_type");if(1===a&&f){var h={page_el_sn:"648235",op:"impr",goods_id:e.props.goods.goodsID};p=D.a.createElement(F.a,{trackingInfo:h},D.a.createElement("span",{className:2===m?re.a.skuSizeChartRed:"sku-size-chart",onClick:function(){Object(M.a)(f),Object(B.b)({page_el_sn:"648235",op:"click",goods_id:e.props.goods.goodsID})}},2===m?"尺码详情":"详情"))}var v=O()(e.props.goods,"ui.sku_section.size_refer_fit_desc"),g=null;return 1===a&&v&&(g=D.a.createElement("span",{className:re.a.sizeDesc},v)),D.a.createElement("div",{className:re.a.skuSpecs,key:a},D.a.createElement("span",{className:"sku-specs-key"},s,g,p),D.a.createElement("div",{className:re.a.skuSpecValueList},d))}));if(O()(this.props.goods,"ui.sku_section.view_style_v2")===ee.b.IPHONE){var u=this.state.selectedSkuID;return D.a.createElement(D.a.Fragment,null,s,D.a.createElement(q.a,{ref:this.skuIphoneRef,selectedSkuID:u,goodsID:this.props.goods.goodsID,toastSpec:function(){Object(Z.g)(e.priceAreaRef.getSpecDesc())},getSkuRef:this.getSkuRef}))}if(O()(this.props.goods,"ui.sku_section.view_style_v2")===ee.b.CAR_SHOP){var l=+O()(this.props.goods,"ui.sku_section.car_shop.action_type");return D.a.createElement(D.a.Fragment,null,s,D.a.createElement(z.a,{ref:this.deliverRef,goods:this.props.goods,updateSelectedSendWays:function(t){e.setState({selectedSendWays:t})},selectedSendWays:this.state.selectedSendWays,actionType:l,selectedSkuID:this.state.selectedSkuID,skuInfos:this.state.skuInfos}))}var d=this.props.goods.activity;if(O()(this.props.goods,"ui.sku_section.view_style_v2")===ee.b.HOME_INSTALL&&(!d||25!==d.activityType)){var p=this.state,f=p.selectedSkuID,m=p.skuInfos;return D.a.createElement(D.a.Fragment,null,s,D.a.createElement(Q.a,{selectedSkuID:f,skuInfos:m,selectedHomeIns:this.state.selectedHomeIns,ref:this.homeRef,goods:this.props.goods,handleHomeInsClick:this.handleHomeInsClick}))}return s}},{key:"renderGoodsNumberElement",value:function(){var e,t,n=this.isEnableIncrease(),r=this.isEnableReduce(),a=(this.state.goodsNumber||0).toString().length,i=a>3?36+9*(a-3):36;return D.a.createElement("div",{className:re.a.selectorNumber},D.a.createElement("span",null,"数量"),D.a.createElement("div",{className:re.a.numberStepper},D.a.createElement("div",{role:"button","aria-label":"减少数量",className:R()(re.a.skuSelectorReduce,(e={},o()(e,re.a.skuSelectorReduceEnable,r),o()(e,re.a.skuSelectorReduceDisable,!r),e)),onClick:this.reduceGoodsNumber}),D.a.createElement("input",{"aria-label":"当前数量为".concat(this.state.goodsNumber,"件"),className:re.a.skuSelectorInput,type:"number",maxLength:"5",value:this.state.goodsNumber+"",onBlur:this.goodsNumberBlur,onChange:this.goodsNumberChange,style:{width:"".concat(i/100,"rem")}}),D.a.createElement("div",{role:"button","aria-label":"增加数量",className:R()(re.a.skuSelectorIncrease,(t={},o()(t,re.a.skuSelectorIncreaseEnable,n),o()(t,re.a.skuSelectorIncreaseDisable,!n),t)),onClick:this.increaseGoodsNumber})))}},{key:"getViewImgList",value:function(e){var t=(Object.values(this.state.skuInfos)||[]).filter((function(e){return e.quantity>0}));t.sort((function(e,t){return O()(e,"previewPriority")-O()(t,"previewPriority")}));var n=t.map((function(e){return e.thumbUrl}));return n.unshift(e),n}},{key:"setSkuStyleStatus",value:function(e){this.setState({styleStatus:e})}},{key:"getSkuButtonText",value:function(){var e=this.props,t=e.goods,n=e.group,r=e.buttonText,a=this.state,o=a.skuInfos,i=a.selectedSkuID;return+((i?o[i].normalSavePrice:t.unselectNormalSavePrice)||"")>0&&1==+n.requireNum?"单独购买":r||"确定"}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.goods,a=n.group,i=n.usePddNativePhoto,c=n.changeToGroupBuy,s=n.hideSkuBottomTip,u=n.consultPromotionPriceParams,l=this.state,p=l.skuInfos,m=l.selectedSkuID,h=l.currentSelect,v=l.styleStatus,g=l.goodsNumber,y=r.hdThumbUrl||r.thumbUrl,_=this.getViewImgList(y);if(m)y=this.state.skuInfos[m].thumbUrl;else if(Object.keys(h).some((function(e){return h[e]}))){var b=this.checkHas(h);b&&(y=this.state.skuInfos[b].thumbUrl)}return D.a.createElement("div",{role:"dialog","aria-modal":"true",tabIndex:-1,className:R()(re.a.skuSelectorContainer,this.props.isMutliSku&&re.a.cartSkuUi)},D.a.createElement("div",{className:re.a.skuSelectorHead},D.a.createElement(V.a,{ref:function(e){t.priceAreaRef=e},goods:r,group:a,selectedSkuID:m,currentSelect:h,skuInfos:this.state.skuInfos,selectedHomeIns:this.state.selectedHomeIns,selectedSendWays:this.state.selectedSendWays,goodsNumber:this.state.goodsNumber,styleStatus:v,consultPromotionPriceParams:u,renderPromotionDescContent:function(e){return D.a.createElement(X.a,{priceInfo:e})},style:{paddingLeft:this.props.isMutliSku?"1.1rem":"1.21rem"},isMutliSku:this.props.isMutliSku}),D.a.createElement(H.a,{usePddNativePhoto:i,group:a,src:y,goods:r,imgList:_,skuInfos:p,selectedSkuID:m,selectSkuId:this.selectSkuId,resetSkuId:this.resetSkuId,goodsNumber:this.state.goodsNumber}),D.a.createElement(te.c,{className:re.a.skuSelectorCloseBtn,onClick:f()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.onClose&&t.props.onClose();case 1:case"end":return e.stop()}}),e)})))})),this.props.renderSkuBlackCard&&this.props.renderSkuBlackCard({skuSelector:this.state}),D.a.createElement("div",{ref:function(e){t.skuSelectorBodyRef=e},className:re.a.skuSelectorBody},this.renderSkusElement(),this.renderGoodsNumberElement(),D.a.createElement("div",{className:re.a.safeDistance})),this.props.renderFooter&&this.props.renderFooter({selectedSkuID:this.state.selectedSkuID,skuInfos:this.state.skuInfos,goodsNumber:this.state.goodsNumber}),D.a.createElement(Y.a,null,D.a.createElement(G.a,{goods:this.props.goods,selectedSkuID:m,skuInfos:p})),D.a.createElement(Y.a,null,D.a.createElement(J.a,{selectedSkuID:m,skuInfos:p})),!s&&D.a.createElement(Y.a,null,D.a.createElement(K.a,{changeToGroupBuy:c,setSkuStyleStatus:this.setSkuStyleStatus,styleStatus:v,group:a,goods:r,selectedSkuID:m,skuInfos:p,goodsNumber:g})),this.props.renderSkuBottomTip&&this.props.renderSkuBottomTip(),D.a.createElement("div",{"aria-label":this.getSkuButtonText(),role:"button","data-active":"red",className:R()(re.a.skuSelectorBottom,(e={},o()(e,re.a.startHide,1===v),o()(e,re.a.startDisplay,2===v),e)),onClick:this.confirmSku},this.getSkuButtonText()))}}]),s}(D.a.PureComponent),C()(r.prototype,"buildSkuData",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"buildSkuData"),r.prototype),C()(r.prototype,"checkHas",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"checkHas"),r.prototype),C()(r.prototype,"getButtonStatus",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"getButtonStatus"),r.prototype),C()(r.prototype,"selectSkuId",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"selectSkuId"),r.prototype),C()(r.prototype,"resetSkuId",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"resetSkuId"),r.prototype),C()(r.prototype,"checkQuantityAsync",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"checkQuantityAsync"),r.prototype),C()(r.prototype,"getLimitGoodsNumber",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"getLimitGoodsNumber"),r.prototype),C()(r.prototype,"amendLimitQuantity",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"amendLimitQuantity"),r.prototype),C()(r.prototype,"handleHomeInsClick",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"handleHomeInsClick"),r.prototype),C()(r.prototype,"selectOneValue",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"selectOneValue"),r.prototype),C()(r.prototype,"setCustomState",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"setCustomState"),r.prototype),C()(r.prototype,"show",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"show"),r.prototype),C()(r.prototype,"setScroll",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"setScroll"),r.prototype),C()(r.prototype,"goodsNumberBlur",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"goodsNumberBlur"),r.prototype),C()(r.prototype,"goodsNumberChange",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"goodsNumberChange"),r.prototype),C()(r.prototype,"updateGoodsNumber",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"updateGoodsNumber"),r.prototype),C()(r.prototype,"reduceGoodsNumber",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"reduceGoodsNumber"),r.prototype),C()(r.prototype,"increaseGoodsNumber",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"increaseGoodsNumber"),r.prototype),C()(r.prototype,"confirmSku",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"confirmSku"),r.prototype),C()(r.prototype,"isEnableIncrease",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"isEnableIncrease"),r.prototype),C()(r.prototype,"isEnableReduce",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"isEnableReduce"),r.prototype),C()(r.prototype,"getViewImgList",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"getViewImgList"),r.prototype),C()(r.prototype,"setSkuStyleStatus",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"setSkuStyleStatus"),r.prototype),C()(r.prototype,"getSkuButtonText",[j.a],Object.getOwnPropertyDescriptor(r.prototype,"getSkuButtonText"),r.prototype),r)},iuD5:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r,a,o,i=n("o0o1"),c=n.n(i),s=n("MVZn"),u=n.n(s),l=n("yXPU"),d=n.n(l),p=n("KoDT"),f=n("0P1e"),m=n("3sKm"),h=n("7wPb"),v=n("Dqx9");function g(e,t){return y.apply(this,arguments)}function y(){return(y=d()(c.a.mark((function e(t,n){var i,s,l,d,g,y,_,b,k,w,S,I,C;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(v.g)(),s=Object(v.f)(),l=s.pageSN,d=s.pageId,g=s.pageName,y=s.referPageId,_=s.referPageName,b=s.referPageSN,r=r||Object(p.a)(),a){e.next=13;break}return e.prev=5,e.next=8,Object(f.a)().catch((function(){return 0}));case 8:a=e.sent,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:if(o){e.next=22;break}return e.prev=14,e.next=17,Object(m.b)();case 17:o=e.sent,e.next=22;break;case 20:e.prev=20,e.t1=e.catch(14);case 22:w=(k=r||{}).platform,S=k.version,I=u()(u()({},t),{},{page_sn:l,page_id:d,page_name:g,refer_page_id:y,refer_page_name:_,refer_page_sn:b,network:a,platform:w,user_id:o,page_url:window.location.href,app_version:S}),C=Object(h.b)(I,n||i),Object(h.a)(C,n||i);case 26:case"end":return e.stop()}}),e,null,[[5,11],[14,20]])})))).apply(this,arguments)}function _(e,t){return b.apply(this,arguments)}function b(){return(b=d()(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(u()(u()({},t),{},{type:v.b.NORMAL_LOG}),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},j2AF:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3tX2o67p{z-index:11001;position:fixed;top:0;bottom:0;left:0;right:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}",""]),t.locals={root:"_3tX2o67p"}},j5ga:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("cDf5"),a=n.n(r),o=n("79/T"),i=n.n(o),c=n("u6S6"),s=n.n(c),u=n("mUg4"),l=n.n(u);function d(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{t=JSON.parse(e)}catch(e){t=n}return t}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e;if("object"===a()(e)&&null!==e)if(e instanceof Array)for(var o in r=[],e)r[o]=p(e[o],t,n);else r={},l()(e,(function(e,a){var o=n?i()(a):a.includes("_")?s()(a):a;t.includes(a)?r[o]=e:r[o]=p(e,t,n)}));return r}},jGYx:function(e,t,n){var r=n("/Dp6"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},jtE3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n("KoDT"),a=n("h3qu"),o=n("mj+i"),i=n("zwPS"),c=Object(r.a)();function s(e,t){if(c.isNativePlatform||c.isWeChatMiniProgram){return Promise.reject(new Error("Native环境,node环境,微信小程序环境无法唤起"))}var n="".concat("pinduoduo:","//").concat("com.xunmeng.pinduoduo");return e=Object(o.d)(e),c.isWeChatPlatform?window.wx?new Promise((function(t){window.wx.ready((function(){t(c.isIOSWeChatPlatform?l("".concat(n).concat(e)):u().then((function(t){var n=t.installed,r=t.version;if(n&&Object(a.c)(r,"3.13.0")>0)return l(e.slice(1));throw new Error("".concat("唤起App失败","，安装状态：").concat(JSON.stringify({installed:n,version:r})))})))}))})):Promise.reject(new Error("微信sdk还没有初始化")):Object(i.a)("".concat(n).concat(e),t)}function u(){return c.isAndroidWeChatPlatform?window.wx?new Promise((function(e,t){window.wx.ready((function(){if(!window.WeixinJSBridge||!window.WeixinJSBridge.invoke)return t(new Error("微信sdk还没有初始化"));window.WeixinJSBridge.invoke("getInstallState",{packageName:"com.xunmeng.pinduoduo",packageUrl:"pinduoduo://"},(function(n){var r=n.err_msg,a=void 0===r?"":r,o=n.versionName,i=void 0===o?"":o;return/get_install_state:yes/.test(a)?e({installed:!0,version:i}):/get_install_state:no/.test(a)?e({installed:!1,version:i}):void t(new Error(a))}))}))})):Promise.reject("微信sdk还没有初始化"):Promise.reject(new Error("不支持iOS"))}function l(e){var t="from=wx_webview&forward_url="+encodeURIComponent(e);return window.wx&&window.wx.invoke?new Promise((function(n,r){window.wx.invoke("launchApplication",{appID:"wx77d53b84434b9d9a",extInfo:t,messageExt:e},(function(e){return"launchApplication:ok"===e.err_msg?n():r(new Error("".concat("唤起App失败",":").concat(e.err_msg)))}))})):Promise.reject("微信sdk还没有初始化")}},kI5u:function(e,t,n){e.exports={root:"_2DJJQDam",official:"_13ApAxaO"}},kcBU:function(e,t,n){var r=n("2/+j"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},kjC5:function(e,t,n){e.exports={defaultPromotionDetailDescContainer:"_2qsBZSNO",promotionDetailDescContainer:"_1sTWa8yz",promotionDetailDesc:"_3MYZQqYs",img:"_28ZsucGT",expand:"_3oHWSzdI"}},kpCq:function(e,t,n){var r=n("vblb"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},"l5Q+":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'._3RGuGzVp{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;font-size:.17rem;line-height:.24rem;color:#151516;text-align:center;margin:.13rem 0;font-weight:700;padding:0 .3rem}._2rWF3OYe{width:100%;background-color:#fff;padding:0 .16rem;max-height:3rem;overflow-y:scroll;border-radius:.08rem}._3OA7bLX-{font-size:.14rem;text-align:center;color:#9c9c9c;line-height:.53rem;border-radius:.04rem}._3OA7bLX-:after{content:"";-webkit-transform:rotate(-45deg);transform:rotate(-45deg);border-right:1px solid rgba(0,0,0,.15);border-bottom:1px solid rgba(0,0,0,.15);width:.07rem;height:.07rem;display:inline-block;top:-.02rem;left:.01rem;position:relative}',""]),t.locals={title:"_3RGuGzVp",groupList:"_2rWF3OYe",btn:"_3OA7bLX-"}},l6CY:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return"transparent";for(var n=[],r=1;r<7;r+=2)n.push(parseInt("0x"+e.substring(r,r+2),16));return"rgba(".concat(n.join(","),", ").concat(t,")")};function a(e,t){e=e||"",t=t||0;for(var n="",r=0,a=0;a<e.length;a++)r<t&&(n=e.substr(0,a)),e.charCodeAt(a)>127||94==e.charCodeAt(a)?r+=2:r++;return{len:r,preSubStr:n}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;if(!e)return"";var r=a(e,t);return r.len>n&&(e=r.preSubStr+"..."+e.substr(-3,3)),e}var i=/^#[a-fA-F0-9]{6}$/,c=/^#[a-fA-F0-9]{8}$/;function s(e){if("string"!=typeof e)return"";if(e.match(i))return e;if(e.match(c)){var t=parseFloat((parseInt("".concat(e[1]).concat(e[2]),16)/255).toFixed(2)),n=parseInt("".concat(e[3]).concat(e[4]),16),r=parseInt("".concat(e[5]).concat(e[6]),16),a=parseInt("".concat(e[7]).concat(e[8]),16);return"rgba(".concat(n,", ").concat(r,", ").concat(a,", ").concat(t,")")}return e}},lCeF:function(e,t,n){},lEbS:function(e,t,n){},lTLX:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("v9S7"),a=n("AGSb"),o={maxAge:2592e3};function i(){return Object(r.a)().then((function(e){return e&&Object(a.c)("webp","1",o)}))}function c(e){return"1"===e.webp}},lcYG:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),s=n.n(c),u=n("a1gu"),l=n.n(u),d=n("Nsbk"),p=n.n(d),f=n("q1tI"),m=n.n(f),h=(n("17x9"),n("qnV/"));var v=function(e){s()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=p()(e);if(t()){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={retryTimes:e.props.retryTimes||0,error:null,errorInfo:null},e}return i()(n,[{key:"componentDidCatch",value:function(e,t){this.props.catchCallback&&this.props.catchCallback(),Object(h.c)(e),+this.state.retryTimes>0&&this.setState({retryTimes:this.state.retryTimes-1,error:null,errorInfo:null})}},{key:"render",value:function(){return this.state.error?this.props.fallback||m.a.createElement("div",{className:"error-boundary2"}):this.props.children||null}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(m.a.Component);v.defaultProps={retryTimes:0,fallback:m.a.createElement("div",{className:"error-boundary"})}},lmWj:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3kJOHato{font-size:.17rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}._3kJOHato>*{-webkit-box-flex:1;-webkit-flex:1;flex:1}",""]),t.locals={root:"_3kJOHato"}},losq:function(e,t,n){e.exports={payment:"ZuLf7LIZ",paymentlist:"_35gWhmMg",border:"AIEuNy_D",title:"_1nRWcrCG",closeIcon:"_3NT450Jv",pmBg:"_13CS1S_Z"}},lxZM:function(e,t,n){n.p=window.__webpack_public_path__},"m/8u":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2_R9cyxl{padding:.24rem .2rem}",""]),t.locals={root:"_2_R9cyxl"}},"mG/U":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n("qnV/"),a={AUTHENTICATION_FAILED:40001,API_SERVICE_BUSY:40002,GRAPHICAL_CODE_FOR_PHONE_CODE:40017,LOGIN_FAILED:40020,ITEM_REMOVED:41002,OUT_OF_STOCK:41003,NOT_IN_LUCKY_TIME:41005,ADDRESS_UNREACHABLE:41006,UPDATE_USER_PROFILE_FORBIDDEN:43035,NO_COUPON_LEFT:44010,COUPON_TAKEN:44011,COUPON_TAKE_FAILED:44012,COUPON_TAKEN_OUT:44026,PERSONAL_INFO_NO_ID:45007,ORDER_PAYED:45008,NEED_VERFICATION:45054,GROUP_INVALID:46001,GROUP_FAILED:42003,OVER_BUY_LIMIT:42004,GROUP_OVERFLOW:42005,GROUP_AUTO_OPEN_FAILED:42006,GROUP_AUTO_OPEN_SUCCESS:42007,ID_CARD_EMPTY:43004,NO_NAME_ID_BEFORE:43006,ID_CARD_FAKE:43008,ID_CARD_FAIL_TOO_MUCH:43009,INSUFFICIENT_COUPON:44047,AVAILABLE_COUPONS_PER_UNIT:44201,NO_SUCH_ORDER:45001,PREPAY_BUSY:45009,ORDER_PAYING:45010,PAYMENT_DISABLED:45210,SPIKE_COMING:45034,ORDER_PAY_RISK:45206,ORDER_PAY_VERIFICATION_INVALID:45207,ORDER_ALREADY_URGED:47030,ORDER_URGE_ERROR:47031,NATIVE_NORMAL_ERROR:6e4,NATIVE_PARAMS_ERROR:60003,NATIVE_USER_REFUSE:60005,NATIVE_USER_CANCEL:60006,NATIVE_AUDIO_RECORD_FAILED:60200,NATIVE_AUDIO_RECORD_UNDETERMINED:60201,NATIVE_AUDIO_TOO_SHORT:60205,NATIVE_AUDIO_UPLOAD_FAILED:60210,NATIVE_AUDIO_PLAY_FAILED:60220,SUCCESSIVE_MOBILE_FEE_ONLY_ONCE:45036,SUCCESSIVE_MOBILE_FEE_RISK:45037,SUCCESSIVE_MOBILE_FEE_UNSIGNED:45038,SUCCESSIVE_MOBILE_FEE_ONLY_WECHAT:45039,OVER_BUY_VIRTUAL_GOODS_LIMIT:45033,AVAILABLE_ACTIVITY_CHANGED:45516,GROUP_COMPLETED:42001,INVALID_ADDRESS:43002,COUPON_DAILY_LIMIT:44037,COUPON_BATCH_LIMIT:44038,COUPON_TOKEN_INVALID:44041,COUPON_TOKEN_EXPIRED:44042,COUPON_PUSH_NOT_IN:44043,COUPON_ACTIVITY_ABSENT:44044,MULTIPLY_DISCOUNT_PAUSE:44064,MULTIPLY_DISCOUNT_END:44066,COUPON_MAX_NUM_REACHED:44200,HISTORY_GROUP_OPEN_FAILED:46014,GOODS_NOT_EXIST:49001,RISK_CONTROL:54001,RISK_CONTROL_FORBIDDEN:54003,NATIVE_PAYMENT_CANCEL:60006,WITHOUT_WE_CHAT_CLIENT:60100,QQ_PAY_FAILED:60120,ORDER_LIMITED_SALES_END:152004,ORDER_LIMITED_SALES_OUT:152006,PAY_LIMITED_SALES_END:47102,PAY_LIMITED_SALES_OUT:47003,SERVER_BUSY:4000004,ORDER_SPIKE_MSG_ERROR:4000006,WX_DIRECT_PAY_WX_BALANCE_ERROR:400001,WX_DIRECT_PAY_CARD_BALANCE_ERROR:400002,WX_DIRECT_PAY_TELEPHONE_ERROR:400003,WX_DIRECT_PAY_CARD_INVALID_ERROR:400004,WX_DIRECT_PAY_REFUSED_ERROR:400005,WX_DIRECT_PAY_UNKNOWN_ERROR:400099,ACT_GROUP_NOT_EXISTS:530001,ACT_GROUP_FAILED:530002,ACT_GROUP_SUCCESS:530003,ACT_RECORD_NOT_EXISTS:530004,PAY_CHANNEL_NOT_SUPPORT:530005,ACT_RECORD_PAID:530006,ACT_RECORD_REFUND:530007,ASSIST_FOR_ONE_DAILY_LIMIT:530011,ASSIST_FOR_ONE_LIMIT:530012},o={1101:"手机网络繁忙，请稍后再试",30400:"没有安装QQ客户端",4e4:"错误的请求地址或方法",40001:"登录已过期，请重新登录",40002:"手机网络繁忙，请稍后再试",40003:"错误的请求参数",40004:"微信登录失败",40005:"请求还在处理中",40006:"手机登录验证码错误",40015:"验证码重复请求",40016:"验证码超出当天限制",40017:"今日可发送次数已达上限",40018:"验证码填写错误",40019:"验证码填写超时",40020:"登录失败",40031:"微信登录失败!",40032:"QQ登录失败!",40033:"登录重试失败，请稍后再试",48001:"图片格式错误",48002:"图片大小超过限制",5e4:"当前访问人数较多，请稍后再试",54001:"该账户需要安全验证",54003:"该账户安全验证未通过，暂时无法登录"},i={40100:"暂未开通该开放平台",41001:"商品不存在",41002:"商品已下架",41003:"商品已售罄",41004:"商品不在同一商店",41005:"该商品当前不在抽奖活动时间",41006:"商品不在可售区域",41101:"抽奖活动暂不支持单独购买",41102:"卡券可使用的时间已过期，请选购其他商品",42001:"拼单已满",42002:"该拼单不存在",42003:"拼单已过期",42004:"您购买此商品次数达到上限，去看看其他商品吧~",42005:"该商品开团数已达上限",42006:"拼单已满",42007:"此拼单已满，正在发起新拼单...",42501:"订单已成团，暂不支持修改收货地址，请与商家客服联系",42502:"该订单已拼单成功，请刷新页面",43001:"用户不存在",43002:"地址错误",43004:"身份证号不存在",43005:"姓名和身份证号不一致",43006:"对不起，您无法获取或更新身份证号",43007:"对不起，您已用完当前最大验证次数，请24小时后再试",43008:"姓名和身份证不匹配，请重新认证",43009:"您今日认证过于频繁，请明天再试",43010:"该地址已存在",43011:"该地址无法导入",43013:"一小时内不能重复提交",43015:"只允许微信用户够买",43016:"创建地址失败",43017:"最多只能添加100个收货地址哦~",43035:"系统维护中，暂时无法修改",43098:"您在店铺没有拼单成功记录，请勿发红包！拼多多不支持通过发红包购买商品！",43099:"该商品仅限新用户购买一件哦~",44001:"优惠券不存在",44002:"优惠券已使用",44003:"优惠券没有达到最小使用金额",44004:"优惠券已过期",44005:"优惠券不属于用户",44006:"优惠券已废弃",44007:"优惠券暂未到使用时间",44008:"优惠券不能在该分类使用",44010:"优惠券已经抢完了，下次早点来哦",44011:"您已经领过该优惠券",44012:"优惠券领取失败",44015:"不是团长不能使用团长免单优惠券",44016:"优惠券批次不存在",44020:"正在处理中，请稍后再试！",44026:"该券太火爆，全部已被领完",44027:"活动已结束！",44033:"优惠券使用失败",44035:"批次类型错误",44036:"团免券已被领完",44037:"用户已达团免券日领取上限",44038:"您已领取该券",44039:"未找到符合条件的团免券批次",44041:"领取失败",44042:"领取链接已失效，下次早点哦",44043:"不符合领取条件哦",44044:"该优惠券活动不存在",44045:"不在活动时间",44046:"只有无订单的新用户可领取哦",44047:"红包券数量不够",44061:"多件优惠活动结束",44063:"多件优惠已经享受过了",44064:"多件优惠活动暂未开始",44065:"多件优惠活动暂未开始",44066:"多件优惠活动结束",44067:"商家券和多件优惠活动不能同时使用",44072:"分享码已过期",44073:"免拼卡不足",44076:"不符合免拼卡的使用条件",44090:"商品活动未开始",44091:"商品活动已结束",44092:"商品活动不存在",44093:"活动商品已售罄",44095:"商品活动已结束",44096:"商品活动不存在",44097:"您购买的该活动商品数量已达上限",44098:"商品订单已创建",44099:"商品活动有误",44100:"您未获取抢购资格，不可购买该商品",44200:"已达红包使用数量上限",44201:"每满{0}元可用{1}个红包",45001:"订单不存在",45002:"订单不属于该用户",45003:"订单不能取消",45004:"订单商品不一致",45005:"订单已经收货",45006:"订单还未发货",45007:"海淘订单没有提交身份证",45008:"订单已支付",45009:"支付繁忙，请重试",45010:"订单正在支付中",45012:"手机充值号码为空",45013:"手机充值号码不支持",45014:"手机充值商品不存在",45015:"确认收货失败",45023:"正在处理您的退款/售后申诉，无法主动确认收货",45026:"超过购买商品限制",45030:"订单正在处理中，请刷新页面",45031:"单次购买金额不得高于9.5万元",45033:"超过每个手机号码购买次数限制",45034:"抱歉，秒杀尚未开始，请稍候",45035:"该商品为App新人专享秒杀，非首次下载App24小时内的用户无法发起拼单",45036:"每名用户只能购买一次哦",45037:"你的当前登录帐号有些风险哦，建议先直接去充值吧",45038:"包月套餐订单购买免密校验失败",45039:"包月套餐功能升级中，当前只支持微信帐号登录的用户哦",45040:"限购商品暂时无法购买哦～",45041:"本次活动期间已抢到过一张神券，不能再抢了~",45042:"手机网络繁忙，请稍后再试",45043:"该类型商品本次活动期间您已抢过，不能再抢了~",45044:"您好，该商品仅可购买一次哦~",45045:"该商品仅能在拼多多App中购买！",45046:"该商品仅允许微信登录用户购买！",45047:"超过该商品每次购买件数限制",45050:"您已经在本场下过单了，去看看其他商品吧~",45051:"已购买过此类优惠商品，看看其他商品吧",45052:"您最近购买此商品次数达到上限，去看看其他商品吧~",45053:"手机网络繁忙，请稍后再试",45054:"需验证码校验！",45055:"手机网络繁忙，请稍后再试",45104:"不是定金类型订单",45105:"订单已取消",45106:"订单已确认",45107:"定金未成团",45110:"未到尾款支付时间",45111:"超过尾款支付时间",45112:"未到定金支付时间",45113:"超过定金支付时间",45206:"创建订单存在风险",45207:"创建订单验证码非法",45208:"价格有变动，请返回上一页查看",45209:"请更换支付方式，花呗分期暂不可用",45210:"手机网络繁忙，请稍后再试",45301:"店铺补差价金额达到上限！",45320:"未获取活动资格！",45321:"该活动必须是微信APP用户参加！",45322:"该活动同一用户不可重复参加！",45323:"该活动同一设备不可重复参加！",45324:"该活动用户微信置信度较低！",45325:"非APP新用户",45326:"手机网络繁忙，请稍后再试",45327:"账户存在风险，无法下单",45402:"该商品秒杀活动已结束",45403:"该商品免单活动已结束",45404:"该商品买二送一活动已结束",45405:"该商品秒杀活动已结束",45406:"该活动已结束",45407:"该活动已结束",45412:"该商品多件优惠活动已结束",45413:"该商品限时免单活动已结",45416:"该商品优惠活动已结束",45417:"该活动已结束",45418:"该优惠商品已被抢空",45420:"该活动已结束",45422:"该活动已结束",45423:"该活动已结束",45424:"该包月活动已结束",45425:"您向商家补的差价已经超过上限",45428:"该商品属于活动商品，无法正常购买",45429:"该地区暂时无货",45450:"此海淘商品仅支持微信支付",45500:"商品信息和充值号码不匹配",45501:"新地址暂不支持，请重新选择",45511:"您不是专属用户，不能以特惠价开团哦~",45514:"库存不足",45515:"低于最低起售件数",45516:"该商品有更低价的优惠活动，请刷新购买",46001:"团订单不存在",46002:"无法重复参团",46012:"商品售罄，免拼失败，拼单到期后将退款",46013:"秒杀活动结束，免拼失败，拼单到期后将退款",46014:"插队拼单已满",47003:"限量件数已被抢光，请重新选购",47010:"折扣活动检查失败",47011:"限时折扣活动已经使用",47012:"限时折扣活动未开启",47013:"限时折扣活动未到开始时间",47014:"限时折扣活动已经结束",47015:"商家券和限时折扣活动不能同时使用",47030:"已经催过了，正在尽快发货",47031:"催发货请求异常，请稍后重试",47101:"支付失败，限时折扣活动已结束",47102:"支付失败，限量折扣活动已结束，请重新购买",49001:"商品不存在",50001:"今天票数已用完，明天再来吧",50002:"当前有未完成的团",60001:"该团已经结束",60002:"确认收货失败",60003:"参数错误",60004:"您已退款成功，无须确认收货",60005:"用户拒绝",60006:"用户取消",60007:"确认收货失败，请稍后重试",60100:"未安装微信客户端",60110:"未安装微博客户端",60120:"未安装手机QQ",60200:"录制失败",60201:"录音没有权限",60205:"录音时间过短",60210:"上传失败",60220:"播放失败",71001:"获取售后列表失败",71002:"申请售后失败",71003:"获取售后单详情失败",71004:"售后单添加售后信息失败",71005:"售后单修改失败",71006:"撤销售后失败",71007:"售后单用户确认发货失败",71008:"售后单重新申请失败",71009:"售后单申请平台介入失败",71010:"钱款去向查询失败",71011:"留言标记失败",71012:"售后用户待处理未读数量获取失败",71013:"售后未读留言数目获取失败",71014:"获取付款类型失败",71015:"获取售后原因失败",71016:"获取我要发货列表失败",71017:"获取是否使用平台优惠券失败",71018:"售后单用户确认完成失败",71019:"获取小额打款详情失败",71020:"填写账户信息失败",80001:"投票活动已结束",144073:"您没有免拼卡，请返回重新下单",144076:"不符合免拼卡的使用条件",144078:"请求失败，请重新发起支付",152001:"限量折扣活动已经使用",152002:"限量折扣活动未开启",152003:"限量折扣活动未到开始时间",152004:"限量折扣活动已经结束",152005:"商家券和限量折扣活动不能同时使用",152006:"限量件数已被抢光，请重新选购",152010:"已达到该商品活动期内的最多购买件数，不能再抢了～",400001:"微信零钱不足，且未绑定银行卡，请绑定银行卡再试，或邀请好友代付",400002:"银行卡余额不足，请绑定其他银行卡再试，或邀请好友代付",400003:"银行卡预留手机号不符，请核对后再试，或邀请好友代付",400004:"银行卡已失效，请核对后再试，或邀请好友代付",400005:"银行拒绝交易，请核对后再试，或邀请好友代付",400099:"支付未完成，请更换支付方式",450130:"商品信息和充值号码不匹配",450131:"该商品每个号码每月限充一次",530001:"团不存在",530002:"团已失效",530003:"团已满",530004:"助力单不存在",530005:"不支持该支付方式",530006:"助力单已支付",530007:"助力单已退款",530008:"不在活动时间",530009:"您已经拿过该商品了，不要贪心哦",530010:"已达到今日帮忙付款次数上限，明日再来吧",530011:"已达到今日帮助该好友次数上限，明日再来吧~",530012:"已经达到帮助该好友支付次数上限，赶紧去帮助其他人吧~",530013:"不符合免费帮忙条件",530014:"您不是拼多多App新人，不能开团哦",3000001:"充值失败，请稍后重试",3000002:"话费充值失败，请稍后重试",3000003:"话费充值下单失败，请稍后重试",4000004:"手机网络繁忙，请稍后再试",4000005:"手机网络繁忙，请稍后再试",12960005:"商品不存在",12960006:"活动未开始",12960007:"商品已售罄",12960008:"拼单人数已满",12960009:"只有App新人才能参团哦",12960010:"帐号信息异常",12960012:"该商品一次只能购买1件哦",12960014:"请使用微信登录再下单",12960016:"你已经开过团了，请勿重复开团",12960017:"今日开团次数已用完，明天再来吧",12960018:"今日参团次数已用完，明天再来吧",12960019:"该商品你今日已经参过团了",20504005:"手机网络繁忙，请稍后再试",20504101:"团订单不存在"},c=function(e){Object.assign(o,e)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!o.hasOwnProperty(e)&&i.hasOwnProperty(e)){var n=new Error("@pdd/error-status: errorCode ".concat(e," 对应的 message 已废弃删除，需用 setCodeToMsgMap 设置项目自定义的映射"));Object(r.c)(n)}return o[e]||i[e]||t}},mapP:function(e,t,n){"use strict";var r=n("MVZn"),a=n.n(r),o=n("o0o1"),i=n.n(o),c=n("yXPU"),s=n.n(c),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),p=n.n(d),f=n("7W2i"),m=n.n(f),h=n("a1gu"),v=n.n(h),g=n("Nsbk"),y=n.n(g),_=n("U+yc"),b=n.n(_),k=n("mwIZ"),w=n.n(k),S=n("q1tI"),I=n.n(S),C=n("gKdT"),x=n.n(C),P=n("TSYQ"),E=n.n(P),O=(n("17x9"),n("2xwX")),N=n("KoDT"),D=n("h3qu"),T=n("BDyI"),j=n("x9rp"),A=n("7ftN");function R(){return new Promise((function(e,t){setTimeout(e,1e3)})).then((function(e){throw Error("wx query location timeout")}))}function W(){return new Promise((function(e,t){navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var n=t.coords||{},r=n.latitude,a=void 0===r?0:r,o=n.longitude;e({latitude:a,longitude:void 0===o?0:o})}),(function(t){e({latitude:0,longitude:0})}),{enableHighAccuracy:!1,timeout:6e4,maximumAge:6e4}):e({latitude:0,longitude:0})}))}var L=null;function M(){return new Promise((function(e,t){window.wx.ready((function(){!function(e){L&&e(L),window.wx.getLocation({success:function(t){var n=t.latitude,r=t.longitude;e(L={latitude:n,longitude:r})},cancel:function(){e(L={latitude:0,longitude:0})}})}(e)}))}))}function F(){return B.apply(this,arguments)}function B(){return(B=s()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={latitude:0,longitude:0},e.prev=1,e.next=4,Promise.race([M(),R()]);case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t,n){window.mqq.ready((function(){window.mqq&&window.mqq.sensor||t({latitude:0,longitude:0}),window.mqq.sensor.getLocation({allowCacheTime:60},(function(n,r,a,o){t(0!==n?null:{latitude:r,longitude:a,coord_type:5},e)}))}))}))}var V=n("3INx"),H=n("MpJ2");n("vBQ9");function q(){var e=Object(N.a)();return!!e.isNativePlatform&&e.statisfy("5.21.0","5.12.0",V.a.greaterThanEqual)}function z(){return Q.apply(this,arguments)}function Q(){return(Q=s()(i.a.mark((function e(){var t,n,r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(H.f)("AMLocation","check");case 3:return t=e.sent,r=(n=t||{}).is_determined,a=n.is_enabled,o=n.need_reconfirm,Object(N.a)().platform===D.a.PddAndroid&&localStorage.getItem("AMLOCATION_HAS_SET_KEY")&&(r=1),e.abrupt("return",{isDetermined:r,isEnabled:a,needReconfirm:o});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function G(){return J.apply(this,arguments)}function J(){return(J=s()(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(N.a)().isNativePlatform){e.next=8;break}return e.next=4,z();case 4:return t=e.sent,n=t.isEnabled,r=t.isDetermined,e.abrupt("return",!(!n||!r));case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return Y.apply(this,arguments)}function Y(){return(Y=s()(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={scene:"install_store"},e.next=4,Object(H.f)("AMLocation","getLocationId",t);case 4:return n=e.sent,r=(n||{}).location_id,e.abrupt("return",{locationId:r});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{latitude:0,longitude:0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var X=null;function Z(){return $.apply(this,arguments)}function $(){return($=s()(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=2;break}return e.abrupt("return",X);case 2:if(t={latitude:0,longitude:0},n=Object(N.a)(),!n.isNativePlatform||!q()){e.next=11;break}return e.next=8,K();case 8:t=e.sent,e.next=26;break;case 11:if(!n.isWeChatMiniProgram&&!n.isWeChatPlatform||!window.wx||!window.wx.getLocation){e.next=17;break}return e.next=14,F();case 14:t=e.sent,e.next=26;break;case 17:if(!n.isQQPlatform){e.next=23;break}return e.next=20,U();case 20:t=e.sent,e.next=26;break;case 23:return e.next=25,W();case 25:t=e.sent;case 26:return e.next=28,G();case 28:return r=e.sent,(t=a()(a()({},t),{},{hasLocAuth:r}))&&t.latitude&&(X=t),e.abrupt("return",t);case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return new Promise((function(t,n){setTimeout(t,e)})).then((function(e){throw Error("query location timeout")}))}var te=s()(i.a.mark((function e(){var t,n,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(N.a)(),n=t.isNativePlatform,r={latitude:0,longitude:0},o=t.platform===D.a.PddAndroid&&Object(D.c)(t.version,"5.10.0")>=0||t.platform===D.a.PddIOS&&Object(D.c)(t.version,"5.6.0")>=0,e.prev=4,!o){e.next=11;break}return e.next=8,Promise.race([Z(),ee(1e4)]);case 8:r=e.sent,e.next=14;break;case 11:return e.next=13,Promise.race([Z(),ee(3e3)]);case 13:r=e.sent;case 14:e.next=21;break;case 16:e.prev=16,e.t0=e.catch(4),c=!o,r=a()(a()({},r),{},{hasLocAuth:c});case 21:return e.abrupt("return",a()(a()({enabled:!0},r),{},{isNativePlatform:n}));case 22:case"end":return e.stop()}}),e,null,[[4,16]])}))),ne=n("DzJC"),re=n.n(ne),ae=n("gi5g");var oe=function(e){m()(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=y()(e);if(t()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).listWrapperRef=I.a.createRef(),e.listRef=I.a.createRef(),e.state={isLoading:!1},e._handleScroll=function(){e.checkNeedLoadDown()&&!e.state.isLoading&&(e.setState({isLoading:!0}),e.props.loadMoreShops((function(){e.setState({isLoading:!1})})))},e.checkNeedLoadDown=function(){if(e.listRef.current){var t=e.props.hasMore;if(e.listRef.current.getBoundingClientRect().bottom<window.innerHeight+20&&t)return!0}return!1},e}return p()(n,[{key:"componentDidMount",value:function(){this.handleScroll=re()(this._handleScroll,300),this.listWrapperRef&&this.listWrapperRef.current&&(Object(ae.a)(this.listWrapperRef.current),this.listWrapperRef.current.addEventListener("scroll",this.handleScroll))}},{key:"renderList",value:function(){var e=this,t=this.props.list;return t&&t.length?I.a.createElement("div",{className:"list-wrapper",ref:this.listRef},t.map((function(t,n){return I.a.createElement("div",{className:"shop-item",key:n,onClick:function(t){e.props.onSelectShop(t,n)}},I.a.createElement("div",{className:"shop-name"},I.a.createElement("div",{className:E()("select-icon",{active:t.selected})}),t.nearestTag?I.a.createElement("div",{className:"shop-name-container"},I.a.createElement("div",{className:"shop-name-text-tag"},t.name),I.a.createElement("span",{className:"shop-nearst-tag"},t.nearestTag)):I.a.createElement("div",{className:"shop-name-text"},t.name)),I.a.createElement("div",{className:"location"},I.a.createElement("div",{className:"address"},t.address),I.a.createElement("div",{className:t.distance?"distance":""},t.distance)))})),this.state.isLoading&&I.a.createElement("div",{className:"downloader-container"},I.a.createElement("div",{className:"loader-spinner "}))):I.a.createElement("div",{className:"no-shop-hint"},"抱歉，该区域暂无可用门店")}},{key:"render",value:function(){return I.a.createElement("div",{className:"shop-list-container",ref:this.listWrapperRef},this.renderList())}}]),n}(S.Component);var ie="undefined"!=typeof window,ce=1,se=2,ue=3,le=4,de=function(e){m()(c,e);var t,r,o=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=y()(e);if(t()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}(c);function c(e){var t;return l()(this,c),(t=o.call(this,e)).loadShops=function(){var e=s()(i.a.mark((function e(n){var r,o,c,s,u,l,d,p,f,m,h,v,g,y,_,b,k,S,I;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=(r=n||{}).provinceID,c=r.cityID,s=r.districtID,e.next=4,te();case 4:return u=e.sent,l=u.longitude,d=u.latitude,p=u.hasLocAuth,f=u.locationId,m={longitude:l,latitude:d,province_id:o,city_id:c,page:t.page,size:10,goods_id:t.props.goods.goodsID,has_loc_auth:p,location_id:f},s&&1e6!==s&&(m.district_id=s),h="api/turing/mall/query_neighbor_mall_list_v2",1===t.props.actionType&&(h="api/osaka/additional/store_install/query_store_list",g=Object(N.a)(),y="WGS84",g.platform===D.a.PddIOS&&(y="BD09"),_=t.props,b=_.selectedSkuID,k=_.skuInfos,m=a()(a()({},m),{},{coord_type:y,cat_id_3:t.props.goods.catID3,cat_id_4:t.props.goods.catID4,template_sn_list:w()(t.props.goods,"ui.sku_section.car_shop.vas_template_id"),mall_id:t.props.goods.mallID,sku_id:Number(b),sku_attribute:b&&(null===(v=k[b])||void 0===v?void 0:v.attribute)||""})),e.next=16,Object(A.b)({method:"POST",url:h,data:m});case 16:if(!(S=e.sent)){e.next=20;break}return I=(S.mall_store_info_list||[]).map((function(e){var t=w()(e,"fee")>=0?Object(T.c)(e.fee):-1;return{mallID:e.mall_id,shopID:e.store_id,distance:e.distance,name:e.store_name,address:e.store_address,nearestTag:e.nearest_tag,fee:t,srvType:e.srv_type}})),e.abrupt("return",I);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.error(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}(),t.loadMoreShops=function(){var e=s()(i.a.mark((function e(n){var r,a,o,c,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.state,a=r.provinceID,o=r.cityID,c=r.districtID,s=r.shopList,e.next=4,t.loadShops({provinceID:a,cityID:o,districtID:c});case 4:u=e.sent,t.page++,l=!!u.length,t.setState({shopList:s.concat(u),hasMore:l}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:return e.prev=13,n(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),t.onShopLoaded=function(e,n){t.page++;var r=e.length,a=e.find((function(e){return e.shopID===n}));a&&(a.selected=!0),t.setState({shopList:e,shopID:a?a.shopID:"0",shopName:a?a.name:"",shopAddress:a?a.address:"",hasMore:r,nearestTag:a?a.nearestTag:"",fee:a?a.fee:-1,srvType:a?a.srvType:""},(function(){t.selectRegionTab(le)}))},t.onSelectShop=function(e,n){e&&e.stopPropagation&&e.stopPropagation();var r=t.state.shopList.map((function(e,t){return e.selected=n===t,e})),a=r[n];t.setState({shopList:r,shopID:a.shopID,shopName:a.name,shopAddress:a.address,nearestTag:a.nearestTag,fee:a.fee,srvType:a.srvType},(function(){t.selectRegionTab(le)}))},t.confirmShop=function(e){e&&e.stopPropagation&&e.stopPropagation();var n=t.state,r=n.provinceID,a=n.cityID,o=n.districtID,i=n.shopID,c=n.shopName,s=n.shopAddress,u=n.nearestTag,l=n.fee,d=n.srvType;if("0"!==i){var p={provinceID:r,cityID:a,districtID:o,shopID:i,shopName:c,shopAddress:s,nearestTag:u,fee:l,srvType:d};t.hideRegionSelectorPanel(e,p)}else Object(j.g)("请选择门店")},t.state={currentRegionTab:ce,panelStyle:{transform:"translateY(100%)"},provinceID:"0",provinceName:"",provinces:null,cityID:"0",cityName:"",cities:null,districtID:"0",districtName:"",districts:null,shopID:"0",shopList:[],hasMore:!0,nearestTag:""},t.page=1,t.provincesLoaded=!1,t.citiesLoaded=!1,t.districtsLoaded=!1,t.regionSelectorHeader=I.a.createRef(),t}return p()(c,[{key:"componentWillMount",value:function(){ie&&n("FIFS")}},{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("region-selector-list-".concat(this.state.currentRegionTab));Object(ae.a)(t);var n=this.props.addressInfo;n&&n.shopID?this.onAddressInfoLoaded(this.props.addressInfo):this.loadRegions(ce,1).then((function(t){e.onProvincesLoaded(e.state.provinceID,t),e.showRegionSelectorPanel()})).catch((function(){Object(j.g)("请重新选择地区")}))}},{key:"componentWillReceiveProps",value:function(e){var t=e.addressInfo||{},n=this.props.addressInfo||{};t.province_id+""==n.province_id+""&&t.city_id+""==n.city_id+""&&t.district_id+""==n.district_id+""||this.onAddressInfoLoaded(t)}},{key:"onAddressInfoLoaded",value:(r=s()(i.a.mark((function e(t){var n,r,a,o,c,s,u=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:n=t.regionId||1,r=t.provinceID,a=t.cityID,o=t.districtID,c=t.shopID,s=setTimeout((function(){Object(O.c)()}),500),Promise.all([this.loadRegions(ce,n),this.loadRegions(se,r),this.loadRegions(ue,a),this.loadShops({provinceID:r,cityID:a,districtID:o})]).then((function(e){u.onProvincesLoaded(r,e[0]),u.onCitiesLoaded(a,e[1]),u.onDistrictsLoaded(o,e[2]),u.onShopLoaded(e[3],c),u.showRegionSelectorPanel(),clearTimeout(s),Object(O.a)()})).catch((function(){Object(j.g)("请重新选择地区"),clearTimeout(s),Object(O.a)()}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"generateHeader",value:function(){var e=this,t=this.state,n=t.currentRegionTab,r=t.provinceID,a=t.provinceName,o=t.cityID,i=t.cityName,c=t.districtID,s=t.districtName,u=t.shopID,l=t.shopName;return I.a.createElement("div",{className:"mars-panel-header",ref:this.regionSelectorHeader},I.a.createElement("div",{className:"panel-header-tag-wrapper"},I.a.createElement("div",{className:"mars-ph-province ".concat(1===n?"mars-ph-active":""),onClick:function(t){return e.selectRegionTab(ce,t)}},r+""=="0"?I.a.createElement("span",null,"请选择"):I.a.createElement("span",null,a)),r+""!="0"&&I.a.createElement("div",{className:"mars-ph-city ".concat(2===n?"mars-ph-active":""),onClick:function(t){return e.selectRegionTab(se,t)}},o+""=="0"?I.a.createElement("span",null,"请选择"):I.a.createElement("span",null,i)),o+""!="0"&&I.a.createElement("div",{className:"mars-ph-district ".concat(3===n?"mars-ph-active":""),onClick:function(t){return e.selectRegionTab(ue,t)}},c+""=="0"?I.a.createElement("span",null,"请选择"):I.a.createElement("span",null,s)),c+""!="0"&&I.a.createElement("div",{className:"mars-ph-shop ".concat(4===n?"mars-ph-active":""),onClick:function(t){return e.selectRegionTab(le,t)}},u+""=="0"?I.a.createElement("span",null,"请选择"):I.a.createElement("span",null,l))))}},{key:"generateRegions",value:function(){var e=this,t=this.state,n=t.currentRegionTab,r=t.provinces,a=t.provinceID,o=t.cities,i=t.cityID,c=t.districts,s=t.districtID,u=1===n&&r&&r.map((function(t,n){var r=t.region_id+""==a+""?"region-active":"";return I.a.createElement("li",{key:"province-".concat(n),onClick:function(t){return e.selectProvince(t,n)},className:r},I.a.createElement("span",null,t.region_name))})),l=2===n&&o&&o.map((function(t,n){var r=t.region_id+""==i+""?"region-active":"";return I.a.createElement("li",{key:"city-".concat(n),onClick:function(t){return e.selectCity(t,n)},className:r},I.a.createElement("span",null,t.region_name))})),d=3===n&&c&&c.map((function(t,n){var r=t.region_id+""==s+""?"region-active":"";return I.a.createElement("li",{key:"city-".concat(n),onClick:function(t){return e.selectDistrict(t,n)},className:r},I.a.createElement("span",null,t.region_name))}));return I.a.createElement("div",{className:"mars-regions"},1===n&&I.a.createElement("ul",{id:"region-selector-list-1",className:"mars-regions-p"},u),2===n&&I.a.createElement("ul",{id:"region-selector-list-2",className:"mars-regions-c"},l),3===n&&I.a.createElement("ul",{id:"region-selector-list-3",className:"mars-regions-d"},d),4===n&&I.a.createElement("ul",{id:"region-selector-list-4",className:"shop-list-wrapper"},I.a.createElement(oe,{list:this.state.shopList,loadMoreShops:this.loadMoreShops,hasMore:this.state.hasMore,onSelectShop:this.onSelectShop,confirmShop:this.confirmShop})))}},{key:"selectDistrict",value:function(e,t){e&&e.stopPropagation();var n=this.state.districts[t];n&&this.onDistrictEdited(n)}},{key:"onDistrictEdited",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.region_id,r=t.region_name,a={districtID:n,districtName:r,shopID:"0"};this.page=1,this.setState((function(e){return a}),s()(i.a.mark((function t(){var n,r,a,o,c,s,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=n.provinceID,a=n.cityID,o=n.districtID,c=setTimeout((function(){Object(O.c)()}),500),t.prev=2,t.next=5,e.loadShops({provinceID:r,cityID:a,districtID:o});case 5:s=t.sent,clearTimeout(c),Object(O.a)(),e.page++,u=!!s.length,e.setState({shopList:s,hasMore:u}),e.selectRegionTab(le),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),Object(j.g)("请重新选择地区");case 17:case"end":return t.stop()}}),t,null,[[2,14]])}))))}},{key:"selectCity",value:function(e,t){e&&e.stopPropagation();var n=this.state.cities[t];n&&this.onCityEdited(n)}},{key:"onCityEdited",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.citiesLoaded)return!1;var n=t.region_id,r=t.region_name;if(n+""!="0"){var a={cityID:n,cityName:r};this.districtsLoaded=!1,this.onDistrictsLoaded("0",[]).then((function(){e.setState((function(e){return a}),(function(t){e.loadRegions(ue,n).then((function(t){var n=e.state.districtID;e.onDistrictsLoaded(n,t),e.selectRegionTab(ue)}))}))}))}}},{key:"onDistrictsLoaded",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(n=n.regions||[]).length&&n.unshift({region_id:1e6,region_name:"全部区域"});var r=this.isRegionIDContainInRegions(e,n),a={districts:n||[],districtID:r&&e||"0",districtName:r&&r.region_name||""};return new Promise((function(e,n){t.setState((function(e){return a}),(function(n){t.districtsLoaded=!0,e()}))}))}},{key:"selectProvince",value:function(e,t){e&&e.stopPropagation();var n=this.state.provinces[t];n&&this.onProvinceEdited(n)}},{key:"onProvinceEdited",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.provincesLoaded){var n=t.region_id,r=t.region_name;n+""!="0"&&(this.citiesLoaded=!1,this.districtsLoaded=!1,this.onCitiesLoaded("0",[]).then((function(){e.onDistrictsLoaded("0",[]).then((function(){var t={provinceID:n,provinceName:r};e.setState((function(e){return t}),(function(t){e.loadRegions(se,n).then((function(t){var n=e.state.cityID;e.onCitiesLoaded(n,t),e.selectRegionTab(se)}))}))}))})))}}},{key:"onCitiesLoaded",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.self_city_id;n=n.regions||[],this.removeToFirst(n,r);var a=this.isRegionIDContainInRegions(e,n),o={cities:n,cityID:a&&e||0,cityName:a&&a.region_name||""};return new Promise((function(e,n){t.setState((function(e){return o}),(function(n){t.citiesLoaded=!0,e()}))}))}},{key:"loadRegions",value:(t=s()(i.a.mark((function e(t,n){var r,o,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.actionType,o=1===r?"api/osaka/additional/store_install/query_store_regions":"api/turing/mall/query_store_region",c=1===r?{cat_id_3:this.props.goods.catID3,cat_id_4:this.props.goods.catID4,mall_id:this.props.goods.mallID,template_sn_list:w()(this.props.goods,"ui.sku_section.car_shop.vas_template_id")||""}:{},e.prev=3,e.next=6,Object(A.b)({method:"POST",url:o,data:a()({region_type:t,goods_id:this.props.goods.goodsID,region_id:n},c)});case 6:return s=e.sent,e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}}),e,this,[[3,10,13,15]])}))),function(e,n){return t.apply(this,arguments)})},{key:"isRegionIDContainInRegions",value:function(e,t){if(!t)return null;for(var n=0;n<t.length;++n){var r=t[n];if(r.region_id+""==e+"")return r}return null}},{key:"removeToFirst",value:function(e,t){var n=this.isRegionIDContainInRegions(t,e),r=e.indexOf(n);r<0||(e.splice(r,1),e.unshift(n))}},{key:"onProvincesLoaded",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.self_province_id;n=n.regions||[],this.removeToFirst(n,r);var a=this.isRegionIDContainInRegions(e,n),o={provinces:n,provinceID:e||"0",provinceName:a&&a.region_name||""};return new Promise((function(e,n){t.setState((function(e){return o}),(function(n){t.provincesLoaded=!0,e()}))}))}},{key:"hideRegionSelectorPanel",value:function(e,t){e&&e.stopPropagation(),this.setState({panelStyle:{transform:"translateY(100%)"}}),this.props.hideAddressSelector&&this.props.hideAddressSelector(t),this.props.onClose&&this.props.onClose()}},{key:"selectRegionTab",value:function(e,t){var n=this;t&&t.stopPropagation(),this.setState((function(t){return{currentRegionTab:e}}),(function(t){if(Object(ae.a)(document.getElementById("region-selector-list-".concat(e))),n.regionSelectorHeader&&n.regionSelectorHeader.current){var r=n.regionSelectorHeader.current;if(r.scrollWidth>r.offsetWidth){var a=r.scrollWidth-r.offsetWidth;r.scrollLeft=e>2?a:0,r.style.transition="all .1s"}}}))}},{key:"showRegionSelectorPanel",value:function(e){e&&e.stopPropagation()&&e.preventDefault(),this.setState({panelStyle:{transform:"translateY(0)"}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.panelStyle,r=t.currentRegionTab;return I.a.createElement("div",{id:"region-selector",className:"m-addr-region-selector"},I.a.createElement("div",{className:"bg",onClick:function(t){return e.hideRegionSelectorPanel(t)}}),I.a.createElement("div",{id:"region-selector-panel",className:"mars-panel",style:n},I.a.createElement("div",{className:"region-selector-title"},I.a.createElement("div",{className:"back-warp",onClick:function(t){return e.hideRegionSelectorPanel(t)}},I.a.createElement("div",{className:"back-icon"})),I.a.createElement("div",{className:"region-selector-title-txt"},"根据区域选择门店")),this.generateHeader(),this.generateRegions(),4===r&&I.a.createElement("div",{className:"confirm-shop-btn",onClick:this.confirmShop},"确认门店")))}}]),c}(S.Component);de.defaultProps={};var pe,fe=de;n.d(t,"a",(function(){return me}));var me=(pe=function(e){m()(c,e);var t,n,r,o=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=y()(e);if(t()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}(c);function c(){var e;l()(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={addressSelected:!1,storeName:"根据区域选择门店",storeAddress:"",showShop:!1,showRegionSelector:!1,nearestTag:"",fee:-1,hasLocAuth:!1,longitude:-1,latitude:-1,locationId:0},e.onClickDeliver=function(t){return s()(i.a.mark((function n(){var r,a,o,c,s,u,l,d,p,f,m,h,v,g,y,_,b,k,S,I;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props,a=r.actionType,o=r.goods,c=r.updateSelectedSendWays,s=e.state.fee,u=w()(o,"ui.sku_section.car_shop.send_type")||[],l=u[t]||{},d=l.show_shop,p=l.type,f=l.store_delivery_id,m=1===d&&s>=0?s:0,h=1===a&&s>=0?{fee:m,type:p,storeDeliveryId:f}:{type:p,storeDeliveryId:f},n.next=9,c(h);case 9:if(1!==d&&e.setState({showShop:!1}),!e.state.showShop&&1===d){n.next=12;break}return n.abrupt("return");case 12:if(n.prev=12,g=null,e.state.addressInfo){n.next=28;break}return v=setTimeout((function(){Object(O.c)()}),500),n.next=18,te();case 18:return y=n.sent,_=y.longitude,b=y.latitude,k=y.hasLocAuth,S=y.locationId,e.setState({longitude:_,latitude:b,hasLocAuth:k,locationId:S}),n.next=26,e.requestMall(_,b,k,S);case 26:(g=n.sent)&&e.setMallInfo(g);case 28:if(I=w()(g,"fee")||e.state.fee,!(1===a&&I>=0)){n.next=32;break}return n.next=32,c({type:p,storeDeliveryId:f,fee:I});case 32:n.next=37;break;case 34:n.prev=34,n.t0=n.catch(12),console.error(n.t0);case 37:return n.prev=37,e.setState({showShop:!0}),clearTimeout(v),Object(O.a)(),n.finish(37);case 42:case"end":return n.stop()}}),n,null,[[12,34,37,42]])})))},e.getDeliveryData=function(){var t=e.state,n=t.addressInfo,r=t.addressSelected,a=(w()(e.props.goods,"ui.sku_section.car_shop.send_type")||[]).find((function(t){return t.type===w()(e.props.selectedSendWays,"type")}));if(a)return 1===a.show_shop?r&&n?{shopID:n.shopID,deliveryId:a.store_delivery_id,srvType:n.srvType}:(Object(j.g)("请选择门店"),!1):a.electronic_voucher?{electronicVoucher:a.electronic_voucher}:{deliveryId:a.store_delivery_id};var o=w()(e.props.goods,"ui.sku_section.car_shop.title")||"送货方式";return Object(j.g)("请选择"+o),!1},e}return p()(c,[{key:"requestMall",value:(r=s()(i.a.mark((function e(t,n,r,o){var c,s,u,l,d,p,f,m,h,v,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="api/turing/mall/query_neighbor_mall_info_v2",s={},1===this.props.actionType&&(d=Object(N.a)(),p="WGS84",d.platform===D.a.PddIOS&&(p="BD09"),c="api/osaka/additional/store_install/query_neighbor_store",f=w()(this.props.goods,"ui.sku_section.car_shop.vas_template_id"),m=this.props,h=m.selectedSkuID,v=m.skuInfos,s={coord_type:p,cat_id_3:this.props.goods.catID3,cat_id_4:this.props.goods.catID4,template_sn_list:f,mall_id:this.props.goods.mallID,sku_id:Number(h),store_id:null===(u=this.state.addressInfo)||void 0===u?void 0:u.shopID,sku_attribute:h&&(null===(l=v[h])||void 0===l?void 0:l.attribute)||""}),e.next=6,Object(A.b)({method:"POST",url:c,data:a()({goods_id:this.props.goods.goodsID,longitude:t||0,latitude:n||0,has_loc_auth:r||!1,location_id:o},s)});case 6:return g=e.sent,w()(g,"fee")>=0&&(g.fee=+Object(T.c)(g.fee)),e.abrupt("return",g);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,n,a){return r.apply(this,arguments)})},{key:"setMallInfo",value:function(e){if(e.store_id){var t={provinceID:e.province_id,cityID:e.city_id,districtID:e.district_id,shopID:e.store_id,srvType:e.srv_type};this.setState({storeName:e.store_name,storeAddress:e.store_address,addressInfo:t,addressSelected:!0,nearestTag:w()(e,"nearest_tag"),fee:w()(e,"fee")})}}},{key:"componentDidMount",value:(n=s()(i.a.mark((function e(){var t,n,r,a,o,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(N.a)(),n=t.isNativePlatform,e.next=4,G();case 4:if(r=e.sent,!n||!r){e.next=16;break}return e.next=8,te();case 8:return a=e.sent,o=a.longitude,c=a.latitude,s=a.locationId,e.next=14,this.requestMall(o,c,r,s);case 14:(u=e.sent)&&this.setMallInfo(u);case 16:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentDidUpdate",value:(t=s()(i.a.mark((function e(t,n){var r,a,o,c,s,u,l,d,p,f,m,h,v,g,y,_,b,k,S,I;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,a=r.actionType,o=r.goods,c=r.updateSelectedSendWays,s=r.selectedSkuID,!this.state.showShop||1!==a||s===(null==t?void 0:t.selectedSkuID)&&(null==n?void 0:n.showShop)===this.state.showShop){e.next=30;break}if(u=this.state,l=u.hasLocAuth,d=u.longitude,p=u.latitude,f=u.locationId,m=Object(N.a)(),h=m.isNativePlatform,e.prev=5,!(d<0||p<0||!(null===(v=this.state.addressInfo)||void 0===v?void 0:v.shopID)||l&&0===d&&0===p||h&&!f)){e.next=14;break}return e.next=9,te();case 9:g=e.sent,d=g.longitude,p=g.latitude,l=g.hasLocAuth,f=g.locationId;case 14:return e.next=16,this.requestMall(d,p,l,f);case 16:if((y=e.sent)&&this.setMallInfo(y),_=w()(y,"fee")||this.state.fee,b=w()(o,"ui.sku_section.car_shop.send_type")||[],k=b.find((function(e){return 1===e.show_shop}))||{},S=k.type,I=k.store_delivery_id,!(1===a&&_>=0)){e.next=25;break}return e.next=25,c({type:S,storeDeliveryId:I,fee:_});case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(5),console.error(e.t0);case 30:case"end":return e.stop()}}),e,this,[[5,27]])}))),function(e,n){return t.apply(this,arguments)})},{key:"showRegionSelector",value:function(){Object(j.j)(I.a.createElement(fe,{hideAddressSelector:this.hideAddressSelector,addressInfo:this.state.addressInfo,goods:this.props.goods,actionType:this.props.actionType,selectedSkuID:this.props.selectedSkuID,skuInfos:this.props.skuInfos}))}},{key:"hideAddressSelector",value:function(e){var t=this.props,n=t.actionType,r=t.updateSelectedSendWays,o=t.selectedSendWays;if(e){var i=e||{},c=i.shopID,s=i.shopName,u=i.shopAddress,l=i.nearestTag,d=i.fee,p=this.state.addressSelected||c;this.setState({storeName:s||this.state.storeName,storeAddress:u||this.state.storeAddress,addressInfo:e||this.state.addressInfo,nearestTag:l,fee:d,addressSelected:p},(function(){1===n&&d>=0&&r(a()(a()({},o),{},{fee:d}))}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.storeName,r=t.nearestTag,a=t.fee,o=w()(this.props.goods,"ui.sku_section.car_shop.send_type")||[],i=w()(this.props.goods,"ui.sku_section.car_shop.title")||"送货方式",c=this.props.actionType;return I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:"sku-deliver-area"},I.a.createElement("div",{className:"sku-deliver-title"},i),I.a.createElement("div",{className:"sku-deliver-content"},(o||[]).map((function(t,n){var r=w()(e.props.selectedSendWays,"type")===t.type,o=1===w()(t,"show_shop")&&a>=0?a:0;return I.a.createElement("div",{key:n,className:E()("sku-deliver-way",{selected:r}),onClick:e.onClickDeliver(n),index:n},1===c&&a>=0?"".concat(t.type," ¥").concat(o):t.type)})))),this.state.showShop&&I.a.createElement("div",{className:"sku-shop-area"},I.a.createElement("div",{className:"title"},w()(this.props.goods,"ui.sku_section.car_shop.store_title")),I.a.createElement("div",{className:"content",onClick:this.showRegionSelector},I.a.createElement("div",{className:"sku-shop-info"},I.a.createElement("div",{className:"sku-store"},I.a.createElement("div",{className:"sku-store-name"},n),!!r&&I.a.createElement("span",{className:"sku-nearst-tag"},r)),I.a.createElement("div",{className:"sku-address"},this.state.storeAddress)),I.a.createElement("div",{className:"sku-address-select"},"根据区域选择门店"!==this.state.storeName?"修改":"去选择",I.a.createElement("span",{className:"enter"})))))}}]),c}(S.Component),b()(pe.prototype,"requestMall",[x.a],Object.getOwnPropertyDescriptor(pe.prototype,"requestMall"),pe.prototype),b()(pe.prototype,"setMallInfo",[x.a],Object.getOwnPropertyDescriptor(pe.prototype,"setMallInfo"),pe.prototype),b()(pe.prototype,"showRegionSelector",[x.a],Object.getOwnPropertyDescriptor(pe.prototype,"showRegionSelector"),pe.prototype),b()(pe.prototype,"hideAddressSelector",[x.a],Object.getOwnPropertyDescriptor(pe.prototype,"hideAddressSelector"),pe.prototype),pe)},mfKk:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r,a=n("o0o1"),o=n.n(a),i=n("yXPU"),c=n.n(i),s=n("rx36"),u=n("7ftN"),l=n("x9rp"),d=!1,p=[],f=function(){var e=c()(o.a.mark((function e(){var t,n,a,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:void 0,!d){e.next=3;break}return e.abrupt("return",new Promise((function(e){p.push(e)})));case 3:if(d=!0,t){e.next=17;break}return e.prev=5,e.t0=l.d,e.next=9,Object(u.b)({method:u.a.GET,url:"api/server/_stm"});case 9:e.t1=e.sent,n=(0,e.t0)(e.t1),t=n.serverTime||+Date.now(),e.next=17;break;case 14:e.prev=14,e.t2=e.catch(5),t=+Date.now();case 17:a={serverTime:t},r=new s.default(a),p.forEach((function(e){return e()})),d=!1;case 21:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=c()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return e.next=3,f();case 3:return t=r.messagePack(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},"mj+i":function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return g}));var r=n("MVZn"),a=n.n(r),o=n("J4zp"),i=n.n(o),c=n("qnV/");function s(e){return/^[a-z][a-z\d+.-]*:/.test(e)}function u(e){return Object.entries(e).reduce((function(e,t){var n=i()(t,2),r=n[0],a=n[1];return null==a?e:e+"&"+encodeURIComponent(r)+"="+encodeURIComponent(String(a))}),"").slice(1)}var l=Object(c.a)((function(e){return(e="?"===e[0]?e.slice(1):e).split("&").reduce((function(e,t){if(t){var n=function(e,t){if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}(t,"="),r=i()(n,2),a=r[0],o=r[1],s=void 0===o?"":o;try{e[decodeURIComponent(a)]=decodeURIComponent(s)}catch(e){Object(c.c)(e)}}return e}),{})}));function d(e){return a()({},l(e))}function p(e){if(0===e.indexOf("amcomponent://")){var t=e.indexOf("/","amcomponent://".length);return-1===t?"/":e.slice(t)}if(s(e)){var n=function(e){0;var t=document.createElement("a");return t.href=e,t}(e);return n.pathname+n.search+n.hash}return"/"===e.charAt(0)?e:"/"+e}function f(e,t){var n=(t=t||"").split("#")[1]||"",r=m(t),a=u(Object.assign({},r,e)),o=t.split("?")[0],i=a?[o,a].join("?"):o;return i=n?[i,n].join("#"):i}function m(e){return d((e.split("#")[0]||"").split("?")[1]||"")}function h(e,t){var n=function(e){if(0===window.location.href.indexOf("amcomponent://"))return p(e);var t=document.createElement("a");return t.href=e,t.href}(e);return t?f(t,n):n}function v(e){return e.replace(/^(http:\/\/|\/\/)/,"https://")}function g(e){return v(e)}},muwb:function(e,t,n){e.exports={nameArea:"_2dmuG1LA",name:"_2VFBW8vk",price:"_1i_A_hcB",ocPrice:"_2aIxC03A",promotion:"_1XHpKxDC",promotion3:"_1_HbSoTk"}},nANs:function(e,t,n){"use strict";var r=n("mwIZ"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("oobu"),s=n.n(c);n("17x9");t.a=function(e){var t=e.goods,n=e.selectedSkuID,r=e.skuInfos,o=n?a()(r,[[n],"bottomTip"])||"":a()(t,"ui.sku_section.unselect_bottom_tip")||"";return o?i.a.createElement("div",{className:s.a.bottomTip},i.a.createElement("img",{className:s.a.icon,src:"https://promotion.pddpic.com/upload/commodity/2020-10-16/a67c3cb8-5452-4269-bc6b-65c6e94a1002.png.slim.png"}),i.a.createElement("span",{className:s.a.tip},o)):null}},nGR4:function(e,t,n){"use strict";var r=n("MVZn"),a=n.n(r),o=n("o0o1"),i=n.n(o),c=n("yXPU"),s=n.n(c),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),p=n.n(d),f=n("7W2i"),m=n.n(f),h=n("a1gu"),v=n.n(h),g=n("Nsbk"),y=n.n(g),_=n("q1tI"),b=n.n(_),k=n("KoDT"),w=n("MpJ2"),S=n("6uy4");function I(){return Object(_.useEffect)((function(){if(Object(k.a)().isNativePlatform){var e={errorType:"networkError",params:{title:"手机网络有问题",message:"请检查网络",iconType:"e779"}},t=setTimeout((function(){return Object(w.p)(e).catch((function(){return Object(w.p)(e)}))}),1e4);return function(){return clearTimeout(t)}}}),[]),b.a.createElement(S.a,{hideBg:!0})}var C=n("mG/U"),x=(n("17x9"),n("kMSe"));n.d(t,"a",(function(){return E}));var P={redirectUrl:"/",requireLogin:!0,fallbackCSR:!1,beforeRender:function(e,t,n){return!0},renderSpinner:function(){return b.a.createElement(I,null)}};function E(e,t){return function(n){var r=function(t){m()(o,t);var r,a=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=y()(e);if(t()){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}(o);function o(){return l()(this,o),a.apply(this,arguments)}return p()(o,[{key:"componentDidMount",value:(r=s()(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.stores.some((function(e){return!e.isServerRendered}))){e.next=6;break}return e.next=4,Promise.all(this.props.stores.map((function(e){return e.initClientData(t.props.pageInfo)})));case 4:e.next=7;break;case 6:this.props.stores.forEach((function(e){return e.prepareClientData()}));case 7:this.props.stores.forEach((function(e){return e.finishInitLoading()}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"componentDidCatch",value:function(e,t){e.message+="_"+JSON.stringify(t),setTimeout((function(){throw e}))}},{key:"render",value:function(){return this.props.stores.every((function(e){return e.isFinishInitLoading}))?b.a.createElement(n,null):o.appConfig.renderSpinner()}}],[{key:"createStores",value:function(){return Object.keys(e).reduce((function(t,n){return t[n]=new e[n],t}),{})}}]),o}(b.a.Component);return r.displayName="appProvider(".concat(n.displayName||n.name,")"),r.appConfig=a()(a()({dealServerError:function(e){return e.errorCode===C.a.AUTHENTICATION_FAILED||t.fallbackCSR?null:e},errorTemplateName:t.serverTemplateName},P),t),Object(x.d)(r)}}},nVtV:function(e,t,n){var r=n("RXTx"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},nWhu:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=(n("17x9"),n("i4d4")),i=n.n(o);t.a=function(e){var t=e.priceInfo,n=t.promotionPriceDesc,r=t.tipColor,o=t.tipFontSize;return n?a.a.createElement("div",{className:i.a.skuQuantityTip},a.a.createElement("div",{className:i.a.skuQuantityTipTxt,style:{color:r,fontSize:"".concat(o/100,"rem")}},n)):null}},"nvQ/":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,a=n("o0o1"),o=n.n(a),i=n("yXPU"),c=n.n(i),s=n("MpJ2"),u=n("KoDT"),l=n("h3qu"),d=n("sFJH");function p(){return f.apply(this,arguments)}function f(){return(f=c()(o.a.mark((function e(){var t,n,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r){e.next=2;break}return e.abrupt("return",r);case 2:if(t=Object(u.a)(),n=t.platform,a=t.version,!(n!==l.a.PddIOS||Object(l.c)(a,"5.87.0")<0)){e.next=6;break}return r=!1,e.abrupt("return",r);case 6:return e.prev=6,e.next=9,Object(s.f)("WebScene","checkImageProtocol");case 9:return i=e.sent,r=i.use_image_sdk,e.abrupt("return",r);case 14:e.prev=14,e.t0=e.catch(6),Object(d.a)({error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}},nvxi:function(e,t,n){e.exports={"go-top":"_1zQYd1o7","top-button-hide":"y7ee4wbr","top-button-show":"_2rU2IKTe",container:"_21Ez64RH",confirm:"_3WULDPya",button:"_2CGcJfmU",price:"_2hdDlqRA"}},oLZc:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),o=n("yXPU"),i=n.n(o),c=n("q1tI"),s=n.n(c),u=n("i8i4"),l=n.n(u),d=n("MVZn"),p=n.n(d),f=n("lwsE"),m=n.n(f),h=n("W8MJ"),v=n.n(h),g=n("7W2i"),y=n.n(g),_=n("a1gu"),b=n.n(_),k=n("Nsbk"),w=n.n(k),S=(n("17x9"),n("gi5g")),I=n("CSCl");function C(e,t,n,r){var a=0;e.length||(e=[e]);for(var o=function(e,t,n,r,a,o,i){if("undefined"!=typeof window){var c=n.x,s=n.y,u=r.x,l=r.y,d=Date.now(),p=d+a;i=i||function(e){return e*(2-e)};var f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},m=function(n,r){t.call(e,n,r)};!function e(){var t,n=Date.now();if(n>=p)return m(u,l),void o();t=i(n=(n-d)/a),m((u-c)*t+c,(l-s)*t+s),f(e)}()}},i=function(){++a>=e.length&&function(e){if(e){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);e.apply(this,t)}}(r)},c=0;c<e.length;++c)o(e[c],t.transFunc,t.start,t.dest,n,i,t.easingFn)}var x=n("b6XL"),P=n("eHaf"),E=n("mG/U");n("lCeF");var O=function(e){var t={};return e&&(t=window.getComputedStyle(e)||t),t},N=function(e){y()(o,e);var t,r=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=w()(e);if(t()){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}(o);function o(){var e;m()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).state={visible:!1,animating:!1},e}return v()(o,[{key:"share",value:(t=i()(a.a.mark((function e(t){var r,o,i,c,s,u,l=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props,o=r.needTk,i=r.extraTkParams,c=void 0===i?{}:i,o&&(s=["","message","timeline","weibo","qq","qzone","qq_weibo","message","timeline"],u=p()({useExistsParams:!0,op:"click",event:"share_btn_clk",page_section:"icon_list",page_element:s[t]},c),Object(P.b)(u)),e.next=4,n.e(2).then(n.bind(null,"zRS3"));case 4:e.sent.default.getInstance().share(t).then((function(e){l.props.autoHide&&l.hide(!0)})).catch((function(e){l.props.autoHide&&l.hide(!0);var t=e&&e.nativeShareErrorCode;if(t&&t!==E.a.NATIVE_USER_CANCEL){var n=Object(E.b)(t);n&&"string"==typeof n&&Object(x.a)(n)}}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"show",value:function(){var e=this;if(!this.state.animating){var t=document.getElementById("share-mask"),n=document.getElementById("share-content-new"),r=this.state.visible;this.setState({visible:!0,animating:!0});var a=function(){e.setState({animating:!1})};t&&C(t,{start:{x:t.style.opacity||0},dest:{x:1},transFunc:function(e){this.style.opacity=e}},300,a),n&&C(n,{start:{x:r?0:n.offsetHeight},dest:{x:0},transFunc:function(e){this.style.webkitTransform="translateY("+Math.round(e)+"px)"}},300,a),S.a&&Object(S.a)()}}},{key:"componentDidMount",value:function(){this.show()}},{key:"hide",value:function(e){var t=this;if(!this.state.animating){var n=e?300:0,r=document.getElementById("share-mask"),a=document.getElementById("share-content-new");this.setState({animating:!0});var o=function(){t.setState({animating:!1,visible:!1})};r&&C(r,{start:{x:1},dest:{x:0},transFunc:function(e){this.style.opacity=e}},n,o),a&&C(a,{start:{x:parseInt(O(a).bottom,10)||0},dest:{x:a.offsetHeight},transFunc:function(e){this.style.webkitTransform="translateY("+Math.round(e)+"px)"}},n,o),Object(S.c)()}}},{key:"render",value:function(){var e=this,t={backgroundImage:"url(".concat(Object(I.a)("/base/share_icons/share_popup_icons.png"),")")},n=this.props.onlyWechat;return s.a.createElement("div",{style:{display:this.state.visible?"":"none"}},s.a.createElement("div",{id:"share-mask",onClick:function(t){return e.hide(!0,!0)}},this.props.extraContent),s.a.createElement("div",{id:"share-content-new"},s.a.createElement("ul",null,s.a.createElement("li",{className:"wechat-share",onClick:function(t){return e.share(1)}},s.a.createElement("i",{className:"share-icon-base share-icon-wechat",style:t}),s.a.createElement("span",null,"微信")),!n&&s.a.createElement("li",{className:"qq-share",onClick:function(t){return e.share(4)}},s.a.createElement("i",{className:"share-icon-base share-icon-qq",style:t}),s.a.createElement("span",null,"QQ好友")),!n&&s.a.createElement("li",{className:"qqzone-share",onClick:function(t){return e.share(5)}},s.a.createElement("i",{className:"share-icon-base share-icon-qqzone",style:t}),s.a.createElement("span",null,"QQ空间"))),s.a.createElement("p",{className:"share-btn",onClick:function(t){return e.hide(!0)}},"取消")))}}]),o}(s.a.Component);N.defaultProps={onlyWechat:!1,extraContent:null,needTk:!1,extraTkParams:null,autoHide:!1},n.d(t,"a",(function(){return T}));var D=null,T=function(){var e=i()(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(2).then(n.bind(null,"zRS3"));case 2:r=e.sent,r.default.getInstance().setupNativeShareButton({},(function(){var e=document.createElement("div");document.body.appendChild(e),D?D.show():D=l.a.render(s.a.createElement(N,t),e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ojQf:function(e,t,n){e.exports={root:"_2fLVGROX"}},oobu:function(e,t,n){e.exports={bottomTip:"_3OF9G0I3",tip:"U-_e98m4",icon:"_17GE0h5R"}},ooc8:function(e,t,n){e.exports={redPacketItem:"_1KcwvgOe",reward:"_2u2Yw3OP",redPacket:"_2P0Eyai_",couponAmount:"_2HAMUW9q",priceIcon:"_2POxf0tc",num:"_376wIwoy",couponTag:"bBKTlu8-",couponTagTxt:"KzVgr315",redPacketInfo:"_3zHxzdtT",fullBackName:"_3GiDgZ99",processStatusDesc:"_2ASfzxT5",progress:"_3xsuSb75",progressBarOuter:"KqC_PZil",progressBarInner:"-OcuSPZl"}},"p+lt":function(e,t,n){},"p1+K":function(e,t,n){e.exports={wrapper:"_2dGvHV-x",container:"_3I8yiQcG",imgArea:"_224fu82e",imgWrapper:"_2dsfNe16",goodsImg:"c8u6Ko8D",longImgWrapper:"_3Crm_3PF",infoArea:"_35zdgscP"}},pBDj:function(e,t,n){"use strict";var r=n("QILm"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("mwIZ"),s=n.n(c),u=n("q1tI"),l=n.n(u),d=n("UWjt"),p=n("v/Ss"),f=n.n(p),m=n("9yT/"),h=function(e,t){var n=Object(u.useRef)(),r=Object(u.useRef)();Object(u.useImperativeHandle)(t,(function(){return{modalRef:r,skuRef:n,exit:function(){r.current.exit()},enter:function(){r.current.enter()},prepare:function(t){var r=e.goods,a=s()(r,"ui.sku_section.view_style_v2")===m.b.IPHONE,o=s()(r,"ui.sku_section.view_style_v2")===m.b.CAR_SHOP,c=s()(r,"ui.sku_section.view_style_v2")===m.b.HOME_INSTALL,u=a||o||c||s()(t,"preventAutoConfirm"),l=1===r.skus.length&&!s()(r,"skus[0].specs.length")&&!u;return n.current.show(i()(i()({},t),{},{needNotShow:l,preventAutoConfirm:u})),{needShow:!l}}}}));var o=e.children,c=e.showOCSkuSelector,p=a()(e,["children","showOCSkuSelector"]);return l.a.createElement(d.a,{modalStyle:{height:c?"85%":"5.1rem"},modalClassName:c?f.a.normalSkuModalSkuDirectOrder:f.a.normalSkuModal,direction:"y",ref:r,afterShow:function(e){e&&n.current.setScroll()},renderContent:function(){return o?Object(u.cloneElement)(o,i()({ref:n},p)):null}})};t.a=l.a.forwardRef(h)},pbmx:function(e,t,n){e.exports={multiChoose:"_1ER3SWR8"}},qc2I:function(e,t,n){e.exports={container:"_2GOOBXAw",saleAlignRight:"_2qXKJ889",saleTip:"jZcDDPSZ",prefix:"_2HdK2ouT",price:"_4d_D9-je",sale:"_1OpMZyXy",address:"_3QddP20H",avatarContainer:"_2Z36sHfC"}},qd0Q:function(e,t,n){"use strict";var r=n("4fGO"),a=n("MVZn"),o=n.n(a),i=n("hVdf");function c(e){Object(i.b)()?function(e){Object(i.a)(o()(o()({},e),{},{onCancel:void 0}))}(e):Object(r.a)(e)}n.d(t,"a",(function(){return c}))},"qnV/":function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2?arguments[2]:void 0;if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var r=[],a=[];return function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];var s=n?n.apply(this,i):i[0],u=a.indexOf(s);if(u>-1)return r[u];var l=e.apply(this,i);return r.push(l),a.push(s),r.length>t&&(a.shift(),r.shift()),l}}function a(e,t){setTimeout((function(){throw e.extraInfo=t,e}))}function o(e,t){var n,r=0;return function(){var a=Date.now();return a-r>=t&&(r=a,n=e.apply(this,arguments)),n}}n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o}))},qxQD:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n("KoDT"),a=n("h3qu"),o=n("a/1V"),i=function(e){return Object(r.a)().version},c={USER_REFUSE:60005,USER_CANCEL:60006},s=function(e){var t=!1;if("number"!=typeof e)return!1;switch(e){case o.a.WECHAT_SESSION:case o.a.WECHAT_TIMELINE:case o.a.WECHAT_SESSION_APP:case o.a.QQ_CHAT_SESSION:case o.a.QQ_ZONE:case o.a.WECHAT_TIMELINE_IMAGE:case o.a.WECHAT_TIMELINE_IMAGE_WITH_NO_SDK:case o.a.WECHAT_SESSION_IMAGE:case o.a.QQ_CHAT_SESSION_IMAGE:case o.a.QQ_ZONE_IMAGE:case o.a.WECHAT_SESSION_TEXT_WITH_NO_SDK:case o.a.WECHAT_SESSION_TEXT:t=!0;break;case o.a.WEIBO:case o.a.WEIBO_IMAGE:t=u("4.81.0","4.81.0");break;case o.a.WECHAT_SESSION_IMAGE_WITH_NO_SDK:case o.a.WECHAT_SESSION_IMAGES_WITH_NO_SDK:t=u("4.37.0","4.36.0");break;case o.a.WECHAT_TIMELINE_TEXT:t=u("4.39.0","4.39.0");break;case o.a.IOS_SYSTEM_SHARE_CARD:case o.a.WECHAT_SESSION_CARD_WITH_NO_SDK:case o.a.WECHAT_TIMELINE_CARD_WITH_NO_SDK:t=l();break;case o.a.SHARE_IMAGE_PASSIVELY:t=u("4.49.0","4.49.0");break;case o.a.COPY_LINK:case o.a.COPY_CIPHER:t=!0;break;case o.a.WECHAT_SESSION_MUSIC:case o.a.WECHAT_SESSION_VIDEO:t=u("4.86.0","4.86.0");break;case o.a.FRIENDS:case o.a.WECHAT_BIG_IMAGE:t=!0;break;case o.a.PIN_TIMELINE:t=u("5.6.0","5.6.0")}return t};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=i();return Object(r.a)().platform===a.a.PddIOS&&Object(a.c)(n,e)>=0||Object(r.a)().platform===a.a.PddAndroid&&Object(a.c)(n,t)>=0||Object(r.a)().platform===a.a.PDDTinyAndorid}var l=function(){var e=i();return Object(r.a)().platform===a.a.PddIOS&&Object(a.c)(e,"5.80.0")>=0},d=function(){return u("4.74.0","4.74.0","4.80.0")},p=function(){return u("4.51.0","4.51.0")},f=function(){return u("4.85.0","4.85.0")},m=function(){return Object(r.a)().platform!==a.a.PDDTinyAndorid&&u("4.88.0","4.88.0")},h=function(){return u("5.41.0","5.41.0")},v=function(){return"JSShare"},g=22,y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAMAAADUivDaAAAAM1BMVEUAAABmZmZmZmZlZWVmZmZmZmZlZWVlZWVoaGhlZWVkZGRmZmZlZWVlZWVlZWVmZmZmZmauFdI/AAAAEHRSTlMAhnjzbtHHEBrfJrGXRzZXUNTSwgAAAPRJREFUWMPt1+sKgzAMBWC71NbLLuf9n3a6sxFYN2vq/gxyEBSFz9pGaLpdOYucuyPJCUtSbheGHo/0Q6swjXhmnNqEqwCYHwfk2iJcFkEuJyDwyi7c+O6V4HhuViFyBkhwVqJNCFwHEq+1CTaB1UCCFWI0BJiXkxJLZkAso2BVK8FaD509SjB/QcQkWBO2iYA1kuLHn5KRbQKvFL8vhT2jUKOs55j3z0WORcUnvVEj9EF6/8JsIzKAd8K6qE444cTviNNBYhrHqZnQOOGEE0444USdyDYhA1Lsfs1dRqrtwTXVPTjTw5y+6EfMwvCtK6pHu6I7B+8m1re+k3UAAAAASUVORK5CYII="},r5oO:function(e,t,n){e.exports={container:"_2tMDCcio",cell:"_3wowRIPX",indicator:"_3DqJ9iWK",addAddress:"C5MWyQF5",addIcon:"DDKLQpWM"}},rHs3:function(e,t,n){e.exports={bg:"_2_YqjJhJ"}},rIj9:function(e,t,n){"use strict";var r=n("MVZn"),a=n.n(r),o=n("vDqi"),i=n.n(o),c=function(e,t){return t.map((function(t){return{request:e.interceptors.request.use(t.request,t.requestError),response:e.interceptors.response.use(t.response,t.responseError)}}))},s=n("KoDT"),u=n("h3qu"),l=n("Rn+g"),d=n.n(l),p=n("MLWZ"),f=n.n(p),m=n("g7np"),h=n.n(m),v=n("SJUw"),g=n.n(v),y=Object(s.b)(window.navigator.userAgent).version,_=Object(u.c)(y,"4.69.0")>=0,b=Object(u.c)(y,"5.24.0")>=0;function k(e){return new Promise((function(t,n){var r="post"===e.method&&e.data?e.data:"",o=h()(e.baseURL,e.url),i={method:e.method.toUpperCase(),url:f()(o,e.params,e.paramsSerializer),headers:a()(a()({},e.headers),{},{Referer:location.href,"p-mode":"1"}),data:r};_&&(i.force_anti_token=!!e.useNativeAntiToken);var c=e.clientTimeout;b&&c&&(i.timeout=c),i.encode_resp=!!e.encodeNativeResponse;var s={nativeParams:i,config:e};function l(e){return e.headers&&e.headers.AccessToken&&(e.headers.AccessToken=e.headers.AccessToken.length),e}g.a.callNative("JSNetwork","request",i,(function(r){var a=r.status,o=r.response,i=r.response_encoded,c=void 0===i||i,u={data:null,status:a,statusText:""+a,config:e,headers:{},request:s};try{u.data=JSON.parse(c?decodeURIComponent(o):o)}catch(e){0,u.data={error_msg:e.message,error_code:0}}d()(t,n,u)}),(function(t,r){var a=new Error("native request error: ".concat(r));a.errorCode=r,a.nativeErrorCode=r,a.request=s,a.errorType="api_error_app",a.config=e,a.toJSON=function(){return{message:this.message,nativeParams:l(this.request.nativeParams),config:l(this.config),errorCode:this.errorCode,nativeErrorCode:this.nativeErrorCode}},Object(u.c)(y,"4.0.0")>0&&g.a.callNative("JSLogger","log",{module:"h5-isomorphic-request",message:e.url+" failed, "+JSON.stringify(l(i)),level:4});n(a)}))}))}var w=n("tQ2B"),S=n.n(w);function I(e){var t=e.clientTimeout,n=e.timeout;return e.timeout="number"==typeof t?t:n,S()(e).catch((function(t){throw t.config=t.config||e,t}))}var C,x=function(e){return e.includes("hutaojie")},P=n("o0o1"),E=n.n(P),O=n("yXPU"),N=n.n(O),D=n("AGSb"),T=n("mj+i"),j=n("qnV/"),A=n("mG/U"),R=n("3sKm"),W=n("ii9O"),L=n("b6XL"),M=n("MpJ2"),F=n("xJ31"),B=n("0P1e"),U=n("lSNA"),V=n.n(U),H=x(location.href),q=(C={},V()(C,u.a.PddAndroid,"6"),V()(C,u.a.PddIOS,"5"),V()(C,u.a.PDDTinyAndorid,"10"),V()(C,u.a.WeChat,"11"),V()(C,u.a.Weibo,"12"),V()(C,u.a.WxApp,"15"),V()(C,u.a.QQ,"13"),V()(C,u.a.QQApp,"14"),V()(C,"LITE","9"),C),z=H?"49":"138";function Q(e){return e?+e.split(".").map((function(e){return e.padStart(2,"0")})).join(""):0}function G(e,t){if(Object(s.a)().isNativePlatform)Object(M.f)("JSNetwork","request",{url:e,method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"application/json;charset=UTF-8"}});else{var n=new XMLHttpRequest;n.open("POST",e,!0),n.withCredentials=!0,n.send(JSON.stringify(t))}}function J(){return Object(s.a)().isLiteNativePlatform?q.LITE:q[Object(s.a)().platform]||"-1"}function K(e){return Y.apply(this,arguments)}function Y(){return(Y=N()(E.a.mark((function e(t){var n,r,a,o,i=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=Math.pow(10,5)+Math.floor(Math.random()*(Math.pow(10,6)-Math.pow(10,5))),a=Date.now(),o=String(n.appId||z),e.t0=Q(Object(s.a)().version),e.t1=a,e.t2=r,e.t3=Object(F.a)(a+"-"+r),e.t4=n.bizSide||"pinduoduo",e.t5=o,e.next=12,Object(R.b)();case 12:if(e.t6=e.sent,e.t6){e.next=15;break}e.t6="0";case 15:return e.t7=e.t6,e.t8=o,e.t9=J(),e.t10=J(),e.t11=n.reportPath||location.pathname,e.t12={uid:e.t7,runningAppId:e.t8,runningPlatform:e.t9,p:e.t10,pagePath:e.t11},e.t13=t,e.abrupt("return",{version:e.t0,report_time_ms:e.t1,rand_num:e.t2,crc32:e.t3,biz_side:e.t4,app:e.t5,common_tags:e.t12,datas:e.t13});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=N()(E.a.mark((function e(){var t,n,r,a,o=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:[],n=o.length>1?o[1]:void 0,r=o.length>2?o[2]:void 0,e.next=5,K(t,r);case 5:return a=e.sent,e.abrupt("return",G(n,a));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){var n=e.method,r=e.requestTime,a=e.resTimeConsume,o=e.reqData,i=e.resData,c=e.apiUrl,s=e.statusCode,u=e.pageId,l=o?JSON.stringify(o).length:0,d=i?JSON.stringify(i).length:0;return Object(B.a)().then((function(e){var o,i;return function(){return X.apply(this,arguments)}([{category:1,type:100,id_raw_value:c.split("?")[0],timestamp:r,tags:{network:String(e),code:String(s),method:n?n.toUpperCase():"POST"},lvalues:{rspT:{values:[a]},reqP:{values:[l]},rspP:{values:[d]}},extras:{srcPageId:u},api_ratio:1}],(o="api/pmm/api",i=H?"pmmtk.hutaojie.com":window.__PMM_HOST__||"pmmtk-a.pinduoduo.com","https://".concat(i,"/").concat(o)),t)}))}var $,ee,te,ne,re,ae=($=Object(s.a)(),ee=$.platform,te=$.version,ne=ee===u.a.PddIOS&&Object(u.c)(te,"4.45.0")>=0,re=ee===u.a.PddAndroid&&Object(u.c)(te,"4.40.0")>=0,ne||re),oe=function(e){var t=Object(s.a)().isNativePlatform,n=function(n){var r=n.response,o=n.config;var i={sub_op:"api_error",url:o.method+":"+o.url,error_code:n.errorCode,error_message:n.message,error_type:n.errorType,params:JSON.stringify({params:o.params,data:o.data})};if(!r)throw i.errorCode=i.errorCode||0,Object(j.c)(n,i),n;var c=r.status,s=r.statusText,u=r.data||{error_code:0};if(n.errorCode=n.errorCode||u.error_code,i.http_code=c,i.statusText=s,i.resData=r.data,Object(j.c)(n,i),!t){var l={requestTime:o.requestTime,resTimeConsume:Date.now()-o.requestTime,reqData:{params:o.params,data:o.data},resData:r.data,apiUrl:f()(h()(o.baseURL,o.url),o.params,o.paramsSerializer),statusCode:parseInt(u.error_code,10)||c,errorCode:u.error_code,pageId:e.pageId};Z(a()(a()({},l),{},{method:o.method}))}throw n};return t?{responseError:n}:{request:function(e){return e.requestTime=Date.now(),e},response:function(t){var n=t.data,r=t.config;r.resTimeConsume=Date.now()-t.config.requestTime;var o={requestTime:r.requestTime,resTimeConsume:r.resTimeConsume,reqData:{params:r.params,data:r.data},resData:n,apiUrl:f()(h()(r.baseURL,r.url),r.params,r.paramsSerializer),statusCode:200,pageId:e.pageId};return Z(a()(a()({},o),{},{method:r.method})),t},responseError:n}},ie=!1,ce=function(){return{responseError:function(e){var t=parseInt(e.errorCode,10),n=Object(s.a)().isNativePlatform;switch(t){case A.a.AUTHENTICATION_FAILED:ie||(ie=!0,Object(R.f)({silent:!1}).then((function(){n&&W.a.reload()})).catch((function(e){throw ie=!1,n&&W.a.back(),e})));break;case 54001:!function(e){if(ae)return;var t=e.verify_auth_token;localStorage.setItem("VerifyAuthToken",t),W.a.uniformForward("/psnl_verification.html?".concat(Object(T.b)({VerifyAuthToken:t,from:location.href})))}(e.response.data||{});break;default:e.config&&e.config.defaultErrorHandler?e.config.defaultErrorHandler(e):Object(L.a)(Object(A.b)(t))}throw e}}};function se(e){e=e||"csr.pddpic.com"===location.hostname;var t=Object(u.k)()?"https:":location.protocol,n=x(location.href)?t+"//apiv2.hutaojie.com/":"https://api.pinduoduo.com/",r=location.protocol+"//"+location.host+"/proxy/api/";return e?n:r}n.d(t,"a",(function(){return ue}));var ue=function(e,t){var n,r=e.pageInfo,o=e.useGlbDomain,l=Object(s.a)(),d=l.isNativePlatform,p=l.isTinyNativePlatform,f=d||p,m=function(e){var t=i.a.create(e);return{http:t,usePlugins:function(e){return c(t,e)}}}(a()({baseURL:se(o||f),withCredentials:!0,adapter:f?k:I,headers:{}},t)),h=m.http;return(0,m.usePlugins)([{response:function(e){var t=e.data,n=e.config,r=e.request;if(t&&t.error_code&&!0!==t.success){var a=t.error_msg||"unknown biz error",o=new Error(a);throw o.errorType="api_biz_error",o.errorCode=t.error_code,o.config=n,o.request=r,o.response=e,o}return e},responseError:function(e){if(!e.response)throw e.errorType="api_http_error",e;var t=e.response.data;throw t&&t.error_code&&(e.message=t.error_msg||e.message,e.errorCode=t.error_code,e.errorType="api_biz_error"),e}},oe(r),{request:(n=N()(E.a.mark((function e(t){var n,r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers,"post"===t.method&&(n["Content-Type"]="application/json;charset=UTF-8"),e.next=4,Object(R.a)();case 4:return(r=e.sent)&&(n.AccessToken=r),(a=ae?null:localStorage.getItem("VerifyAuthToken"))&&(n.VerifyAuthToken=a),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{request:function(e){return(Object(u.k)()?Object(M.e)().then((function(e){return e.user_id})).catch((function(){return 0})):Promise.resolve(0)).then((function(t){return e.params=a()({pdduid:t||parseInt(Object(D.a)("pdd_user_id"),10)||0,is_back:"1"===Object(T.g)(window.location.search).is_back?"1":null},e.params),e}))}},ce(),{response:function(e){return e.config.useRawResponse?e:e.data}}]),h}},rx36:function(e,t,n){"use strict";n.r(t);var r=n("fbeZ");t.default=r},sFJH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("qnV/");function a(e){var t=e.errorMsg,n=e.payload;var a=e.error||new Error(t);Object(r.c)(a,{payload:n,error_msg:t})}},sZZj:function(e,t,n){e.exports={haiTaoAntiepidemic:"gMzcRXnn"}},sxqM:function(e,t,n){var r=n("tYvx"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},tCpK:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),o=n("mwIZ"),i=n.n(o),c=n("q1tI"),s=n.n(c),u=n("ZL4E"),l=n.n(u),d=(n("17x9"),n("TSYQ")),p=n.n(d),f=n("4xEa"),m=n("H5w1"),h=n("SXY3"),v=n("eHaf"),g=n("BDyI"),y=n("x9rp");t.a=function(e){var t=e.setSkuStyleStatus,n=e.styleStatus,r=e.changeToGroupBuy,o=e.group,c=e.goods,u=e.selectedSkuID,d=e.skuInfos,_=e.goodsNumber,b=void 0===_?1:_,k=e.skuDirectOrder,w=void 0!==k&&k;if(u&&(i()(d,[[u],"skuPreSaleTip"],"")||""))return null;var S=u?i()(d,[[u],"normalSavePrice"]):c.unselectNormalSavePrice||"";if(1==+o.requireNum&&+S>0){var I=i()(c,"combineGroups.recommendGroup.memberInfoList")||[],C=I.length>0?"拼单购买无需等待":"拼单购买更优惠",x=i()(c,"combineGroups.recommendGroup.buttonDesc")||"去拼单",P=(I||[]).map((function(e){return e.avatar}));return s.a.createElement(h.a,{trackingInfo:{op:"impr",page_el_sn:4842358,goods_id:c.goodsID}},s.a.createElement("div",{className:p()(l.a.skuGroupBuyContainer,a()({},l.a.startHide,1===n)),onClick:function(){Object(v.b)({op:"click",page_el_sn:4842358,goods_id:c.goodsID}),t(1),setTimeout((function(){r(),t(2)}),200),setTimeout((function(){w?Object(y.h)("已切换为拼单"):Object(y.g)("已切换为拼单")}),500)}},s.a.createElement("div",{className:l.a.skuGroupBuyAvatars},1===P.length&&s.a.createElement(f.a,{src:P[0],size:".24rem"}),P.length>1&&s.a.createElement(m.a,{srcList:P.slice(0,3),size:".24rem",offset:.5})),s.a.createElement("div",{className:l.a.skuGroupBuyHint},C,"，立省",s.a.createElement("span",null,Object(g.b)(S*b)),"元"),s.a.createElement("div",{className:l.a.skuGroupBuyHintBtn,"data-active":"red"},x)))}return null}},tV1M:function(e,t,n){e.exports={content:"EIe6g4uD",paymentList:"_2Mzvz1Zh",listWrap:"_1b6JbsTD",picc:"_35eqY3fb"}},tYvx:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,".QkGS9nId{position:fixed;width:.68rem;height:.68rem;border-radius:.09rem;top:50%;left:50%;text-align:center;color:#fff;font-size:.15rem;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:-.66rem;background-color:rgba(0,0,0,.7);z-index:999999999}._2h3oObbv{width:1rem;height:auto;min-height:1rem;padding-top:.68rem;margin-top:-.82rem}",""]),t.locals={root:"QkGS9nId",bigger:"_2h3oObbv"}},taQT:function(e,t,n){e.exports={ad:"_2nq84R9l"}},tehB:function(e,t,n){e.exports={skuNumber:"_2uDvVQTM",numberBtn:"_1kq3Rc3U",disable:"_2aqnGQ2B",input:"_3kc_u9om"}},uNt9:function(e,t,n){e.exports={search:"_3sy1Dvll",searching:"_2BdG3JHs",searchIcon:"_1EXR71gN",noInitSearchIcon:"_2RsINZwX",backIcon:"_2lIZIZCq",initPlacehilder:"_3IZYkJ_t",searchingPlaceholder:"_27hPZnui",init:"_1GUfU5Ap",sended:"_1sCgMeTb",searchInput:"_1jDivpc8",tagSearch:"_3SdGWJsY",clearArea:"CjQ6rk89",btn:"_1riaTE1J",clearIcon:"_21ZicXDR",clearIconSvg:"_1cX2vlwH",valueClear:"_3X2Q2mgJ"}},uSI5:function(e,t,n){"use strict";function r(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t,n,a,o,i){return r((c=r(r(t,e),r(a,i)))<<(s=o)|c>>>32-s,n);var c,s}function o(e,t,n,r,o,i,c){return a(t&n|~t&r,e,t,o,i,c)}function i(e,t,n,r,o,i,c){return a(t&r|n&~r,e,t,o,i,c)}function c(e,t,n,r,o,i,c){return a(t^n^r,e,t,o,i,c)}function s(e,t,n,r,o,i,c){return a(n^(t|~r),e,t,o,i,c)}function u(e,t){var n,a,u,l,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var p=1732584193,f=-271733879,m=-1732584194,h=271733878;for(n=0;n<e.length;n+=16)a=p,u=f,l=m,d=h,p=o(p,f,m,h,e[n],7,-680876936),h=o(h,p,f,m,e[n+1],12,-389564586),m=o(m,h,p,f,e[n+2],17,606105819),f=o(f,m,h,p,e[n+3],22,-1044525330),p=o(p,f,m,h,e[n+4],7,-176418897),h=o(h,p,f,m,e[n+5],12,1200080426),m=o(m,h,p,f,e[n+6],17,-1473231341),f=o(f,m,h,p,e[n+7],22,-45705983),p=o(p,f,m,h,e[n+8],7,1770035416),h=o(h,p,f,m,e[n+9],12,-1958414417),m=o(m,h,p,f,e[n+10],17,-42063),f=o(f,m,h,p,e[n+11],22,-1990404162),p=o(p,f,m,h,e[n+12],7,1804603682),h=o(h,p,f,m,e[n+13],12,-40341101),m=o(m,h,p,f,e[n+14],17,-1502002290),p=i(p,f=o(f,m,h,p,e[n+15],22,1236535329),m,h,e[n+1],5,-165796510),h=i(h,p,f,m,e[n+6],9,-1069501632),m=i(m,h,p,f,e[n+11],14,643717713),f=i(f,m,h,p,e[n],20,-373897302),p=i(p,f,m,h,e[n+5],5,-701558691),h=i(h,p,f,m,e[n+10],9,38016083),m=i(m,h,p,f,e[n+15],14,-660478335),f=i(f,m,h,p,e[n+4],20,-405537848),p=i(p,f,m,h,e[n+9],5,568446438),h=i(h,p,f,m,e[n+14],9,-1019803690),m=i(m,h,p,f,e[n+3],14,-187363961),f=i(f,m,h,p,e[n+8],20,1163531501),p=i(p,f,m,h,e[n+13],5,-1444681467),h=i(h,p,f,m,e[n+2],9,-51403784),m=i(m,h,p,f,e[n+7],14,1735328473),p=c(p,f=i(f,m,h,p,e[n+12],20,-1926607734),m,h,e[n+5],4,-378558),h=c(h,p,f,m,e[n+8],11,-2022574463),m=c(m,h,p,f,e[n+11],16,1839030562),f=c(f,m,h,p,e[n+14],23,-35309556),p=c(p,f,m,h,e[n+1],4,-1530992060),h=c(h,p,f,m,e[n+4],11,1272893353),m=c(m,h,p,f,e[n+7],16,-155497632),f=c(f,m,h,p,e[n+10],23,-1094730640),p=c(p,f,m,h,e[n+13],4,681279174),h=c(h,p,f,m,e[n],11,-358537222),m=c(m,h,p,f,e[n+3],16,-722521979),f=c(f,m,h,p,e[n+6],23,76029189),p=c(p,f,m,h,e[n+9],4,-640364487),h=c(h,p,f,m,e[n+12],11,-421815835),m=c(m,h,p,f,e[n+15],16,530742520),p=s(p,f=c(f,m,h,p,e[n+2],23,-995338651),m,h,e[n],6,-198630844),h=s(h,p,f,m,e[n+7],10,1126891415),m=s(m,h,p,f,e[n+14],15,-1416354905),f=s(f,m,h,p,e[n+5],21,-57434055),p=s(p,f,m,h,e[n+12],6,1700485571),h=s(h,p,f,m,e[n+3],10,-1894986606),m=s(m,h,p,f,e[n+10],15,-1051523),f=s(f,m,h,p,e[n+1],21,-2054922799),p=s(p,f,m,h,e[n+8],6,1873313359),h=s(h,p,f,m,e[n+15],10,-30611744),m=s(m,h,p,f,e[n+6],15,-1560198380),f=s(f,m,h,p,e[n+13],21,1309151649),p=s(p,f,m,h,e[n+4],6,-145523070),h=s(h,p,f,m,e[n+11],10,-1120210379),m=s(m,h,p,f,e[n+2],15,718787259),f=s(f,m,h,p,e[n+9],21,-343485551),p=r(p,a),f=r(f,u),m=r(m,l),h=r(h,d);return[p,f,m,h]}function l(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function d(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function p(e){var t,n,r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}function f(e){return unescape(encodeURIComponent(e))}function m(e){return function(e){return l(u(d(e),8*e.length))}(f(e))}function h(e,t){return function(e,t){var n,r=d(e),a=[],o=[];for(a[15]=o[15]=void 0,r.length>16&&(r=u(r,8*e.length)),n=0;n<16;n+=1)a[n]=909522486^r[n],o[n]=1549556828^r[n];var i=u(a.concat(d(t)),512+8*t.length);return l(u(o.concat(i),640))}(f(e),f(t))}var v=function(e,t,n){return t?n?h(t,e):p(h(t,e)):n?m(e):p(m(e))};var g=function(e){var t=0;e=e.toString();for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)&4294967295;return t};var y=function(e,t){var n=v(e+t).toUpperCase();return g(n)};var _=function(e,t,n){n=parseInt(n,10)||0,e=e||100;var r=y(t=t||0,n)%e;return r<0&&(r+=e),r};var b=function(e,t,n){if(e=e||{},n=n||!1,0===(t=parseInt(t,10)||0)||n)return e.defaultModel;var r=_(e.bucketCount,e.salt,t),a=e.models||{},o=[];o=e.modelKeyArr&&e.modelKeyArr.length>0?e.modelKeyArr:Object.keys(a);var i=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.keys(e),r=0;r<n.length;r++){var a=n[r],o=e[a],i=o.whiteList||[];if(i.includes(t))return a}return null}(a,t);if(i)return i;for(var c=0;c<o.length;c++){var s=o[c],u=a[s];if(!u)break;if(!(u.blackList.indexOf(t)>=0))if(r<(u.buckets||0))return s}return e.defaultModel};n.d(t,"b",(function(){return _}));t.a={getHashCode:y,getTriggerResult:_,getTestStrategy:b,hashCode:g}},uf4C:function(e,t,n){"use strict";var r=n("RIqP"),a=n.n(r),o=n("o0o1"),i=n.n(o),c=n("yXPU"),s=n.n(c),u=n("cDf5"),l=n.n(u),d=n("KoDT"),p=n("h3qu"),f=n("mj+i"),m=n("fkZF");function h(e,t){"object"===l()(t)&&(this.pageProperty=t),this.initByUrl(e)}h.prototype.initByUrl=function(e){var t=(e=e||window.location.href).split("#")[0].split("?")[1]||"",n=Object(f.g)(t);this.pageELSN=n.page_el_sn||null,this.query=n;var r=function(e){var t=e.split("?")[0].split("/");return"/"+t[t.length-1]}(e).slice(1).split(".")[0];this.initWithPageKey(r)},h.prototype.initWithPageKey=function(e){this.pageKey=e||"";var t=Object.assign({},this.pageProperty||{});if(this.info=t,this.pageName=t.pageName||e,this.pageSN=t.pageSN||null,this.tkShareClick=t.tkShareClick||!1,this.keyParams=t.keyParams||{},this.query=this.query||{},this.native=t.native||{},"undefined"!=typeof window&&window.rawData&&window.rawData.pageID)this.pageID=window.rawData.pageID;else if(this.query&&this.query.page_id)this.pageID=this.query.page_id;else{var n=this.pageName,r=this.pageSN;n.match(/app_\w+_popup/)&&(n="index"),this.pageID=t.pageId||function(e,t,n){return[t||e||n||"",Date.now(),Object(m.a)(10)].join("_")}(n,r,e)}this.pvInfo=t.pv||{},e.match(/^app_\w+/)&&(this.pvInfo.isAppModal=!0)},h.prototype.getPageName=function(){return this.pageName},h.prototype.getPageSN=function(){return this.pageSN},h.prototype.getPageID=function(){return this.pageID},h.prototype.getQuery=function(){return this.query},h.prototype.getNativePageContext=function(){if(Object(d.a)().isNativePlatform){var e={};for(var t in this.query)t.startsWith("refer")||(e[t]=this.query[t]);return Object.assign(e,{page_name:this.pageName,page_id:this.pageID,page_sn:this.pageSN})}},h.prototype.getAdQuery=function(){return{cid:this.query.cid,src:this.query.src,campaign:this.query.campaign}},h.prototype.getNativeQuery=function(e){var t=this.getNativeInfo(e);if(!t)return this.query;var n=Object.assign({},this.query);if(t.queryMap)for(var r in t.queryMap)if(t.queryMap.hasOwnProperty(r)){var a=t.queryMap[r];n[r]&&(n[a]=n[r])}return n},h.prototype.setKeyParams=function(e){for(var t in e)e.hasOwnProperty(t)&&null==e[t]&&delete e[t];this.keyParams=Object.assign({},this.keyParams,e)},h.prototype.getKeyParams=function(){return this.keyParams},h.prototype.getNativeInfo=function(e){return this.native[e.toLowerCase()]},h.prototype.checkNativePageVersion=function(e,t){var n=this.getNativeInfo(e);return!(!n||!n.version)&&Object(p.c)(t,n.version)>=0},h.prototype.getNativePageName=function(e){var t=this.getNativeInfo(e);if(t)return t.name},h.prototype.getKeyParamsFromQuery=function(){var e=this.pvInfo.keys||[],t={},n=this.getQuery();return e.forEach((function(e){var r,a;"string"==typeof e?a=n[r=e]:"object"===l()(e)&&(r=e.key,a=n[r],e.mapping&&e.mapping.forEach((function(e){null!=n[e]&&(a=n[e])})),null==a&&null!=e.default&&(a=e.default)),null!=r&&null!=a&&(t[r]=a)})),this.setKeyParams(t),this.getKeyParams()},h.prototype.hasIndividualPV=function(){return this.pvInfo.indiv},h.prototype.isAppModal=function(){return this.pvInfo.isAppModal};var v=h,g=n("MpJ2");function y(){}function _(e){e=e||{};var t={},n=!1;for(var r in e)if(r.startsWith("refer_")||r.startsWith("_ex_")){var a=e[r];a&&(t[r]=a,n=!0)}return n?t:null}n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return I})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return x})),n.d(t,"d",(function(){return P})),y.prototype.initPageInfo=function(e){if(e=e||{},this.pageInfo)return this.pageInfo;this.pageInfo=new v(window.location.href,e.pageProperty);var t=_(this.pageInfo.getQuery());return t&&this.updateReferInfo(t),this.pageInfo},y.prototype.init=function(){var e=s()(i.a.mark((function e(t,n){var r,a,o,c,s,u=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=n||{},r=this.initPageInfo(n),a="function"==typeof n.callback?n.callback:function(){},o=Object(d.a)(),c=o.isNativePlatform,s=o.version,c){e.next=7;break}return a(),e.abrupt("return");case 7:if(Object(g.d)().then((function(e){u.updateReferPageContextFromNative(e),a()}),a),!(Object(p.c)(s,"5.73.0")<0)){e.next=12;break}return Object(g.b)().then((function(e){return 1==+e.shown_type})).catch((function(){return!1})).then((function(e){return!e&&Object(g.k)(r.getNativePageContext())})),e.abrupt("return");case 12:Object(g.k)(r.getNativePageContext()).catch((function(e){if(e&&60100!==e.errorCode)throw e}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),y.prototype.getPageInfo=function(){return this.pageInfo||this.init(),this.pageInfo},y.prototype.getQuery=function(){return this.pageInfo||this.init(),this.pageInfo.getQuery()},y.prototype.getParameters=function(){return this.getQuery()},y.prototype.getParameter=function(e){return(this.getQuery()||{})[e]},y.prototype.getPageName=function(){return this.pageInfo?this.pageInfo.getPageName():""},y.prototype.getPageSN=function(){return this.pageInfo?this.pageInfo.getPageSN():""},y.prototype.getPageID=function(){return this.pageInfo?this.pageInfo.getPageID():""},y.prototype.setKeyParams=function(e){this.pageInfo&&this.pageInfo.setKeyParams(e)},y.prototype.getKeyParams=function(){return this.pageInfo?this.pageInfo.getKeyParams():null},y.prototype.getKeyParamsFromQuery=function(){if(this.pageInfo)return this.pageInfo.getKeyParamsFromQuery()},y.prototype.updateReferInfo=function(e){for(var t in e=e||{},this.referInfo||(this.referInfo={}),e){var n=e[t];n&&(t.startsWith("refer_")||t.startsWith("_ex_")?t.startsWith("_ex_")&&(t="refer_".concat(t.slice(4))):t=["refer",t].join("_"),this.referInfo[t]=n)}},y.prototype.getReferPageQuery=function(){return this.referInfo?Object.assign({},this.referInfo):null},y.prototype.getReferPageID=function(){return this.referInfo?this.referInfo.refer_page_id:null},y.prototype.getReferPageName=function(){return this.referInfo?this.referInfo.refer_page_name:null},y.prototype.getReferPageSection=function(){return this.referInfo?this.referInfo.refer_page_section:null},y.prototype.getReferPageElement=function(){return this.referInfo?this.referInfo.refer_page_element:null},y.prototype.getReferPageQueryString=function(){var e=this.getReferPageQuery();return Object(f.b)(e)},y.prototype.addReferPageQueryString=function(e){var t=new v(e),n=Object.assign({},t.getQuery(),this.getReferPageQuery());return[e.split("?")[0],Object(f.b)(n)].join("?")},y.prototype.addPageNameAsRefer=function(e){var t=new v(e),n=Object.assign({},t.getQuery(),{refer_page_name:this.getPageName()});return[e.split("?")[0],Object(f.b)(n)].join("?")},y.prototype.addPageAsRefer=function(e){if(e){var t=new v(e),n={refer_page_name:this.getPageName(),refer_page_id:this.getPageID()},r=this.getPageSN();r&&(n.refer_page_sn=r);var a=t.pageELSN||"";a&&(n.refer_page_el_sn=a);var o=Object.assign({},t.getQuery(),n);return[e.split("?")[0],Object(f.b)(o)].join("?")}},y.prototype.addPageTransferParameters=function(e){if(e){var t=new v(e),n={refer_page_name:this.getPageName(),refer_page_id:this.getPageID()},r=this.getPageSN();r&&(n.refer_page_sn=r);var a=t.pageELSN||"";a&&(n.refer_page_el_sn=a);var o=this.getExtendTransferParameters(!0),i=Object.assign({},o,t.getQuery(),n);return[e.split("?")[0],Object(f.b)(i)].join("?")}},y.prototype.getExtendTransferParameters=function(e){var t=this.getQuery()||{},n={};for(var r in t)if(t.hasOwnProperty(r)&&!n[r]){r.startsWith("_x_")||"xcx_trace_id"===r||"xcx_version"===r?n[r]=t[r]:e&&r.startsWith("_ex_")?n[r.replace("_ex_","_x_")]=t[r]:e&&"msgid"===r?n["_x_msgid"]=t[r]:e&&"refer_share_id"===r&&(n["_x_share_id"]=t[r])}return n},y.prototype.hasIndividualPV=function(){return this.pageInfo?this.pageInfo.hasIndividualPV():null},y.prototype.isAppModal=function(){return!!this.pageInfo&&this.pageInfo.isAppModal()},y.prototype.getAdQuery=function(){return this.pageInfo?this.pageInfo.getAdQuery():""},y.prototype.getPageInfoByUrl=function(e){return e?new v(e):null},y.prototype.updateReferPageContextFromNative=function(e){this.setKeyParams(e),this.updateReferInfo(e)},y.prototype.getTransientReferPageParams=function(e){var t,n;("string"==typeof e?n=e:e.url&&(n=e.url),n)?t=_(new v(n).getQuery()):t=_(e);if(!t)return null;var r={},a=!1;for(var o in t)if(t.hasOwnProperty(o)){var i=t[o],c=o.startsWith("refer_")?o.slice(6):o.startsWith("_ex_")?o.slice(4):"";if(!i||!c)continue;r[c]=i,a=!0}return a?r:null},y.prototype.getNativeInfo=function(e){if(this.pageInfo)return this.pageInfo.getNativeInfo(e)},y.prototype.checkNativePageVersion=function(e,t){if(this.pageInfo)return this.pageInfo.checkNativePageVersion(t)},y.prototype.getNativePageName=function(e){if(this.pageInfo)return this.pageInfo.getNativePageName(e)};var b={instance:null,getInstance:function(){return this.instance||(this.instance=new y),this.instance}};function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var n=b.getInstance();return n[e].apply(n,a()(t))}function w(){return k("getPageID")}function S(){return k("getKeyParams")}function I(){return k("getPageName")}function C(){return k("getPageSN")}function x(){return k("getReferPageQuery")}function P(){return k("getPageInfo")}t.a=b},ukgu:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),o=n("yXPU"),i=n.n(o),c=n("J4zp"),s=n.n(c),u=n("lSCD"),l=n.n(u),d=n("q1tI"),p=n.n(d),f=n("qd0Q"),m=n("PlGL"),h=n("b6XL"),v=n("eHaf"),g=n("DzJC"),y=n.n(g),_=n("TSYQ"),b=n.n(_),k=n("BDyI"),w=n("GftL"),S=n("SXY3"),I=n("lSNA"),C=n.n(I),x=n("ef9M"),P=n("2xwX"),E={isSpinnerShown:!1,index:0,timers:[],show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=E.index;return E.timers[E.index]=setTimeout((function(){E.isSpinnerShown||(Object(P.b)(),E.isSpinnerShown=!0)}),e),E.index++,function(){return E.hide(t)}},showWithoutBg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=E.index;return E.timers[E.index]=setTimeout((function(){E.isSpinnerShown||(Object(P.c)(),E.isSpinnerShown=!0)}),e),E.index++,function(){return E.hide(t)}},hide:function(e){var t=E.timers[e];t&&(clearTimeout(t),E.timers[e]=-1),E.isSpinnerShown&&!E.timers.some((function(e){return e>-1}))&&(Object(P.a)(),E.isSpinnerShown=!1,E.timers=[],E.index=0)}},O={mutiDelaySpinner:E},N=n("MVZn"),D=n.n(N),T=n("MpJ2"),j=n("KoDT"),A=n("h3qu");function R(e){var t=e.elementType,n=e.onFocus,r=void 0===n?function(){}:n,a=e.onBlur,o=void 0===a?function(){}:a,i=e.autoFocus,c=void 0!==i&&i,s=e.autoFocusTime,u=void 0===s?0:s,l=e.className,f=e.placeholder,m=e.maxLength,h=e.type,v=void 0===h?"text":h,g=e.onChange,y=void 0===g?function(){}:g,_=e.defaultValue,b=e.value,k=e.id,w=e.extraParams,S=Object(d.useRef)(null);Object(d.useEffect)((function(){c&&setTimeout((function(){var e;null==S||null===(e=S.current)||void 0===e||e.focus(),Object(j.a)().system===A.b.Android&&Object(T.f)("JSKeyboard","showKeyboard")}),u)}),[]);var I,C=(I=Object(j.a)()).system===A.b.IOS&&Object(A.c)(I.systemVersion,"12.0")>=0&&"function"==typeof window.scrollTo,x=D()({type:v,onFocus:function(){window.__currentInput.focusId=k,C&&(window.__currentInput.scrollYWhenFocus=window.scrollY),r()},onBlur:function(){var e;C&&function(e,t){setTimeout((function(){var n;(null===(n=window.__currentInput)||void 0===n?void 0:n.focusId)===t&&(window.scrollTo(0,e),window.__currentInput.focusId=null)}),0)}(null===(e=window.__currentInput)||void 0===e?void 0:e.scrollYWhenFocus,k),o()},ref:S,className:l,placeholder:f,maxLength:m,onChange:y,defaultValue:_,value:b,id:k},w);return"textarea"===t?p.a.createElement("textarea",x):p.a.createElement("input",x)}window.__currentInput={scrollYWhenFocus:0,focusId:null};var W=n("ii9O"),L={memberRuleClick:{page_el_sn:5556244},memberProtoClick:{page_el_sn:5556242},sendCodeClick:{page_el_sn:5556240},changeClick:{page_el_sn:5556239},joinAndTakeCouponClick:{page_el_sn:5556088},mobileImpr:{op:"impr",page_el_sn:5556031},couponImpr:{op:"impr",page_el_sn:5556030}},M=n("vVBQ"),F=n.n(M),B=function(e){var t=e.memberRuleUrl,n=e.memberProtocolUrl;return p.a.createElement("div",{className:F.a.rule},p.a.createElement("p",null,"确认加入即表示同意"),p.a.createElement("p",null,p.a.createElement("span",{className:F.a.ruleText,onClick:function(){Object(v.b)(null==L?void 0:L.memberRuleClick),t&&W.a.uniformForward(t)}},"《会员规则》"),"及",p.a.createElement("span",{className:F.a.ruleText,onClick:function(){Object(v.b)(null==L?void 0:L.memberProtoClick),n&&W.a.uniformForward(n)}},"《会员授权协议》")))};n("cDf5"),n("mUg4"),n("u6S6");function U(e){return/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e)}var V,H,q,z=n("rIj9"),Q=n("uf4C"),G=n("3sKm"),J=n("j5ga"),K=n("rx36"),Y=!1,X=[],Z=function(){var e=i()(a.a.mark((function e(){var t,n,r,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:void 0,!Y){e.next=3;break}return e.abrupt("return",new Promise((function(e){X.push(e)})));case 3:if(Y=!0,t){e.next=11;break}return e.t0=J.a,e.next=8,ee({method:q.GET,url:"api/server/_stm"});case 8:e.t1=e.sent,n=(0,e.t0)(e.t1),t=n.serverTime;case 11:t=t||+Date.now(),r={serverTime:t},V=new K.default(r),X.forEach((function(e){return e()})),Y=!1;case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=i()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=3;break}return e.next=3,Z();case 3:return t=V.messagePack(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!function(e){e.POST="POST",e.GET="GET"}(q||(q={}));var ee=function(e){return te.apply(this,arguments)};function te(){return(te=i()(a.a.mark((function e(t){var n,r,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{isAuth:!1,isFormat:!1,isAnti:!1},H||(r=Q.a.getInstance().getPageID(),H=Object(z.a)({pageInfo:{pageId:r}})),!(null==n?void 0:n.isAuth)){e.next=9;break}return e.next=5,Object(G.a)();case 5:if(e.sent){e.next=9;break}return e.next=9,Object(G.f)();case 9:if(t&&!t.defaultErrorHandler&&(t.defaultErrorHandler=function(){}),!(null==n?void 0:n.isAnti)){e.next=22;break}return e.t0=Object,e.t1={},e.t2=D.a,e.t3=D()({},t.data||{}),e.t4={},e.next=18,$();case 18:e.t5=e.sent,e.t6={anti_content:e.t5},e.t7=(0,e.t2)(e.t3,e.t4,e.t6),t.data=e.t0.assign.call(e.t0,e.t1,e.t7);case 22:return t.encodeNativeResponse=!1,e.next=25,H(t);case 25:if(o=e.sent,!(null==n?void 0:n.isFormat)){e.next=28;break}return e.abrupt("return",Object(J.a)(o));case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=function(e){return ee({method:q.POST,url:"api/rimini/mall_member/query_join_member_popup",data:e},{isAuth:!0,isFormat:!0,isAnti:!0}).then((function(e){return(null==e?void 0:e.result)||{}}))},re=function(e){return ee({method:q.POST,url:"api/rimini/mall_member/mobile/code/auth/query",data:e},{isFormat:!0,isAnti:!0}).then((function(e){return(null==e?void 0:e.result)||{}})).catch((function(){return{}}))},ae=function(e){var t=e.mallId,n=e.buttonText,r=(e.autoFocus,e.joinMemberCallback),o=e.memberRuleUrl,c=e.memberProtocolUrl,u=Object(d.useRef)(null),l=Object(d.useRef)(null),f=Object(d.useState)(""),m=s()(f,2),g=m[0],y=m[1],_=Object(d.useState)(!1),k=s()(_,2),w=k[0],S=k[1],I=Object(d.useState)(""),P=s()(I,2),E=P[0],N=P[1],D=Object(d.useRef)(""),T=Object(d.useRef)(!1),j=Object(d.useState)(""),A=s()(j,2),W=A[0],M=A[1],V=Object(d.useRef)(),H=Object(d.useState)("发送验证码"),z=s()(H,2),Q=z[0],G=z[1];Object(d.useEffect)((function(){return function(){clearInterval(V.current)}}),[]);var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,t=e--;T.current=!0,M(g),S(!1),G("重新发送(".concat(t,")")),V.current&&clearInterval(V.current),V.current=setInterval((function(){--t>0?G("重新发送(".concat(t,")")):(T.current=!1,G("发送验证码"),M(""),S(!0),clearInterval(V.current))}),1e3)},K=function(){var e=i()(a.a.mark((function e(){var n,r,o,i,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(v.b)(null==L?void 0:L.sendCodeClick),U(g)){e.next=4;break}return Object(h.a)("请输入正确的手机号"),e.abrupt("return");case 4:if(g!==W||!T.current){e.next=6;break}return e.abrupt("return");case 6:return n={mobile:g,mobile_type:1,digits:6,scene:"1000038",mall_id:+t},e.next=9,re(n);case 9:r=e.sent,i=(o=r||{}).result,c=o.mobileId,i?(J(),D.current=c,null==l||null===(s=l.current)||void 0===s||s.focus()):Object(h.a)("验证码发送失败");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=Object(x.a)(i()(a.a.mark((function e(){var n,o,i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(v.b)(null==L?void 0:L.joinAndTakeCouponClick),U(g)){e.next=4;break}return Object(h.a)("请输入正确的手机号"),e.abrupt("return");case 4:if(E){e.next=7;break}return Object(h.a)("请输入验证码"),e.abrupt("return");case 7:if(/^[0-9]{6}$/.test(E)){e.next=10;break}return Object(h.a)("验证码不正确，请重新输入"),e.abrupt("return");case 10:return o={mobile_id:D.current,code:E,scene:"1000038",mall_id:+t},i=(null==O||null===(n=O.mutiDelaySpinner)||void 0===n?void 0:n.showWithoutBg)&&O.mutiDelaySpinner.showWithoutBg(),e.next=14,a=o,ee({method:q.POST,url:"api/rimini/mall_member/mobile/code/auth/verify",data:a},{isFormat:!0,isAnti:!0}).then((function(e){return(null==e?void 0:e.result)||{}})).catch((function(){return{}}));case 14:(null==(c=e.sent)?void 0:c.sessionId)?r&&r(null==c?void 0:c.sessionId):Object(h.a)("验证码不正确，请重新输入"),i&&i();case 17:case"end":return e.stop()}var a}),e)}))));return p.a.createElement("div",{className:F.a.joinContent},p.a.createElement("div",{className:F.a.phoneContent},p.a.createElement(R,{onChange:function(e){var t,n=(null==e||null===(t=e.target)||void 0===t?void 0:t.value)||"",r=U(n)&&(!T.current||n!==W);E&&w&&!r&&N(""),S(r),y(n)},value:g,className:F.a.inputBox,placeholder:"请输入手机号",maxLength:11,elementType:"input",type:"tel",id:"phone",extraParams:{ref:u}}),!!g&&p.a.createElement("i",{className:F.a.clearButton,onClick:function(){var e;y(""),N(""),S(!1),null==u||null===(e=u.current)||void 0===e||e.focus()}})),p.a.createElement("div",{className:F.a.phoneContent},p.a.createElement(R,{onChange:function(e){var t,n=(null==e||null===(t=e.target)||void 0===t?void 0:t.value)||"";N(n)},value:E,className:b()(F.a.inputBox,F.a.codeInputBox),placeholder:"请输入验证码",maxLength:6,elementType:"input",type:"tel",id:"code",extraParams:{ref:l}}),p.a.createElement("span",{className:b()(F.a.verifyCode,C()({},F.a.verifyCodeActive,w)),onClick:K},g!==W?"发送验证码":Q)),p.a.createElement("div",{className:F.a.joinBtn,onClick:Y},n||"加入会员并领取"),p.a.createElement(B,{memberRuleUrl:o,memberProtocolUrl:c}))},oe=function(e){var t=e.content,n=e.modifyNumber,r=e.joinMemberCallback,a=e.mallId,o=t||{},i=o.userMobile,c=o.brandLogoUrl,s=o.buttonText,u=o.coupon,l=o.popupTitle,d=o.memberRuleUrl,f=o.memberProtocolUrl,m=(i||{}).fuzzyMobile,h=u||{},g=h.discount,_=h.richRulesDesc,I=h.tagDesc,C=h.timeDisplayName,x=h.colorType,P=y()((function(){Object(v.b)(null==L?void 0:L.joinAndTakeCouponClick),r()}),300);return p.a.createElement("div",null,!!c&&p.a.createElement("div",{className:F.a.logoWrap},p.a.createElement(w.a,{className:F.a.logo,src:c})),p.a.createElement("div",{className:F.a.container},p.a.createElement("div",{className:F.a.titleWrap},p.a.createElement("div",{className:F.a.title},l)),p.a.createElement(S.a,{trackingInfo:null==L?void 0:L.couponImpr},p.a.createElement("div",{className:F.a.couponContent},p.a.createElement("div",{className:F.a.couponItem},p.a.createElement("div",{className:b()(F.a.couponPrice,2==+x&&F.a.memberCouponPrice)},p.a.createElement("i",null,"¥"),Object(k.c)(g||0)),p.a.createElement("div",{className:F.a.couponInfo},p.a.createElement("p",null,(_||[]).map((function(e){return e.txt}))),p.a.createElement("p",null,C)),!!I&&p.a.createElement("div",{className:F.a.couponTag},I)))),p.a.createElement("div",{className:F.a.joinContent},m?p.a.createElement(p.a.Fragment,null,p.a.createElement(S.a,{trackingInfo:null==L?void 0:L.mobileImpr},p.a.createElement("div",{className:F.a.phoneContent,onClick:n},p.a.createElement("p",null,"手机号：",m),p.a.createElement("p",null,"修改"))),p.a.createElement("div",{className:F.a.joinBtn,onClick:P},s||"加入会员并领取"),p.a.createElement(B,{memberRuleUrl:d,memberProtocolUrl:f})):p.a.createElement(ae,{joinMemberCallback:r,mallId:a,buttonText:s,memberRuleUrl:d,memberProtocolUrl:f}))))},ie=function(e){var t=e.data,n=e.content,r=e.showBack,a=e.joinMemberCallback,o=e.goBack,i=void 0===o?function(){}:o;return p.a.createElement("div",{className:F.a.phoneContainer},p.a.createElement("div",{className:F.a.phoneTitleWrap},r&&p.a.createElement("div",{className:F.a.backBtnWrap,onClick:i},p.a.createElement("div",{className:F.a.backBtn})),p.a.createElement("div",{className:F.a.title},"修改授权手机号")),p.a.createElement(ae,{joinMemberCallback:a,mallId:null==t?void 0:t.mallId,buttonText:null==n?void 0:n.buttonText,memberRuleUrl:null==n?void 0:n.memberRuleUrl,memberProtocolUrl:null==n?void 0:n.memberProtocolUrl}))},ce=Object(d.forwardRef)((function(e,t){var n=e.data,r=void 0===n?{}:n,o=e.onShowFail,c=void 0===o?function(){}:o,u=e.onSuccess,g=void 0===u?function(){}:u,y=e.onClose,_=e.spinnerTime,b=Object(d.useState)(!1),k=s()(b,2),w=k[0],S=k[1],I=Object(d.useState)(0),C=s()(I,2),x=C[0],P=C[1],E=Object(d.useState)({}),N=s()(E,2),D=N[0],T=N[1],j=r.mallId,A=r.couponId,R=r.sceneId,W=r.merchantTag;Object(d.useImperativeHandle)(t,(function(){return{show:(e=i()(a.a.mark((function e(){var t,n,r,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.length>0&&void 0!==i[0]?i[0]:0,e.next=4;break;case 4:return r=(null==O||null===(t=O.mutiDelaySpinner)||void 0===t?void 0:t.show)&&O.mutiDelaySpinner.show(_||300),e.prev=5,e.next=8,ne({mall_id:+j,coupon_batch_sn:A,scene_id:R});case 8:if(o=e.sent){e.next=12;break}return Object(h.a)("请稍后再试～"),e.abrupt("return");case 12:T(o),S(!0),P(n),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),Object(h.a)((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"请稍后再试～"),c&&c(e.t0);case 21:return e.prev=21,r&&r(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[5,17,21,24]])}))),function(){return e.apply(this,arguments)}),hide:function(){S(!1)}};var e}));var M=function(e){var t,n=null==D||null===(t=D.userMobile)||void 0===t?void 0:t.mobileId,r={mall_id:+j||0,scene_id:R,batch_sn:A,merchant_tag:W};e?Object.assign(r,{mobile_session_id:e}):Object.assign(r,{mobile_id:n}),function(e){return ee({method:q.POST,url:"api/promotion/join_and_take_mall_member_coupon",data:e},{isAuth:!0,isFormat:!0,isAnti:!0}).then((function(e){return e||{}}))}(r).then((function(e){(null==e?void 0:e.couponId)?(Object(h.a)((null==e?void 0:e.toast)||"已加入会员并成功领券"),g&&g(e),S(!1)):Object(h.a)("请稍后再试～")})).catch((function(e){var t,n,r,a,o,i;2000004===(null==e?void 0:e.errorCode)&&(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error_toast)?(S(!1),Object(f.a)({title:null==e||null===(r=e.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.error_toast,confirmButtonLabel:"知道了",onConfirm:function(){S(!0)},onClose:function(){S(!0)}})):Object(h.a)((null==e||null===(o=e.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.error_toast)||"请稍后再试～")}))};return w?p.a.createElement(m.a,null,1===x||2===x?p.a.createElement(ie,{data:r,content:D,showBack:2===x,joinMemberCallback:M,goBack:function(){P(0)}}):p.a.createElement(oe,{content:D,modifyNumber:function(){Object(v.b)(null==L?void 0:L.changeClick),P(2)},joinMemberCallback:M,mallId:j}),p.a.createElement(m.a.CloseButton,{onClick:function(){l()(y)&&y(),S(!1)}})):null}));t.a=ce},uorM:function(e,t,n){e.exports={skuSelectorCloseBtn:"_1ifQun1H",skuSelectorBody:"_3NXAWOJU",safeDistance:"_3hcWlBV3",skuSelectorBottom:"_2w4vNs31",startHide:"_3c9_AR-L",toHide:"H5vllzzb",startDisplay:"_3O5dZJUh",toDisplay:"_2MEr7QUP",skuSelectorContainer:"_2Aq-Ugkh",skuSelectorHead:"nxbx3dAD",skuSpecs:"_1XqP0nf5",selectorNumber:"_3Lu0pvej",numberStepper:"N2qkjyDl",skuSelectorReduce:"_35TEciAA",skuSelectorReduceEnable:"_2BM66E_I",skuSelectorReduceDisable:"_6YH6EkH8",skuSelectorInput:"_2Dfevmvi",skuSelectorIncrease:"_3sjUUFAM",skuSelectorIncreaseEnable:"fFnfVnqP",skuSelectorIncreaseDisable:"_1nfoL_XT",sizeDesc:"_1fhWBb8Y",skuSizeChartRed:"aaeM-47L",skuSpecValueList:"_3P3M8kC-",hotSale:"_1aQaErYF",skuSpecValue:"_1WyUf92E",hotSaleIcon:"_1JOBwSlu",skuSpecValueSelected:"_2bBCR7qt",skuSpecValueDisable:"PphFt0vU",cartSkuUi:"_18xWYKbd",skuSelectorMain:"_1sJVEcS6"}},"v/Ss":function(e,t,n){e.exports={normalSkuModal:"_1y1aeNA3",normalSkuModalSkuDirectOrder:"_3zIg1i_3"}},v5F4:function(e,t,n){e.exports={deliveryStripe:"_3vO3WpIa",deliveryContent:"_2X1hV6Jv",deliverySvg:"_1cEkez0v",arrow:"_16aZoG9o",deliveryList:"_3htAJlnB",title:"_3P_nZd5j",closeBtn:"_27fcHtOA",deliveryItem:"_3dwidqQm",selected:"_2kGgPlxg"}},v796:function(e,t,n){e.exports={idModifyHint:"kVjIVSxQ",border:"_1KAw0rZw",line:"_2DdaMJny",icon:"B-Jz_LzB",text:"_27OMwNt3",title:"_23-PbjYD",desc:"_1PsHcgrY",action:"_3tN1jEXk",btn:"_2xnh3bvX",grayBtn:"_1raY2VeX"}},v9S7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r;var a=function(){return r=new Promise((function(e){var t=document.createElement("img");t.onload=t.onerror=function(){return e(!(!t.height||!t.width))},t.src="data:image/webp;base64,UklGRlAAAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSBIAAAABBxAR/Q8ABOH/3EFE/1MDAABWUDggGAAAADABAJ0BKhAAEAACACYlpAADcAD+/PQAAA=="}))};function o(){return r||a()}},v9rC:function(e,t,n){},vBQ9:function(e,t,n){"use strict";var r=n("8vY7"),a=n("MVZn"),o=n.n(a),i=n("hVdf"),c=function(){};function s(e){e.onClose=e.onClose||e.onCancel,Object(i.b)()?function(e){Object(i.a)(o()(o()({},e),{},{onCancel:e.onCancel||c}))}(e):Object(r.a)(e)}n.d(t,"a",(function(){return s}))},vHpM:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r,a,o,i=n("J4zp"),c=n.n(i),s=n("o0o1"),u=n.n(s),l=n("yXPU"),d=n.n(l),p=n("yG8O"),f=n.n(p),m=n("lwsE"),h=n.n(m),v=n("W8MJ"),g=n.n(v),y=n("U+yc"),_=n.n(y),b=(n("1ABj"),n("2vnA")),k=n("mG/U"),w=n("Rc36"),S=n("rIj9"),I=(r=function(){function e(){h()(this,e),this.$axiosHttp=null,this.errorRedirectUrl="/",f()(this,"isServerRendered",a,this),f()(this,"isFinishInitLoading",o,this)}var t,n,r;return g()(e,[{key:"finishServerRender",value:function(){this.finishInitLoading(),this.isServerRendered=!0}},{key:"finishInitLoading",value:function(){this.isFinishInitLoading=!0}},{key:"prepareClientData",value:function(){}},{key:"dealError",value:function(e){return e.handled?(console.warn("该异常已经被dealError处理过了"),Promise.reject(e)):(e.errorCode=e.errorCode||"unknown",e.redirectUrl=this.errorRedirectUrl,e.alertText=Object(k.b)(e.errorCode),e.handled=!0,Promise.reject(e))}},{key:"initDataCallback",value:function(e){this.initServices(this.$axiosHttp);var t=this.getDatasource();return this.loadDatasource(t,e)}},{key:"initClientData",value:(r=d()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.initAxiosHttp({pageInfo:t}),e.next=4,this.initDataCallback(Object(w.a)());case 4:this.prepareClientData(),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",this.dealError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return r.apply(this,arguments)})},{key:"initServerData",value:(n=d()(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.initAxiosHttp({req:t.__req,res:t.__res,accessToken:n}),e.next=4,this.initDataCallback(t);case 4:this.finishServerRender(),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",this.dealError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,t){return n.apply(this,arguments)})},{key:"fromJS",value:function(e,t){e&&e.isServerRendered&&(Object.assign(this,e),this.initAxiosHttp({pageInfo:t}),this.initServices(this.$axiosHttp))}},{key:"loadDatasource",value:(t=d()(u.a.mark((function e(t,n){var r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=2;break}return e.abrupt("return",t.reduce((function(e,t){return e.then((function(){return C(t,n,r)}))}),Promise.resolve()));case 2:return e.abrupt("return",C(t,n,this));case 3:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"getDatasource",value:function(){return[]}},{key:"initServices",value:function(e){}},{key:"initAxiosHttp",value:function(e){e.req,e.res,e.accessToken;var t={pageInfo:e.pageInfo};this.$axiosHttp=Object(S.a)(t)}},{key:"toJSON",value:function(){return Object(b.s)(this)}}]),e}(),a=_()(r.prototype,"isServerRendered",[b.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=_()(r.prototype,"isFinishInitLoading",[b.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_()(r.prototype,"finishServerRender",[b.d],Object.getOwnPropertyDescriptor(r.prototype,"finishServerRender"),r.prototype),_()(r.prototype,"finishInitLoading",[b.d],Object.getOwnPropertyDescriptor(r.prototype,"finishInitLoading"),r.prototype),_()(r.prototype,"prepareClientData",[b.d],Object.getOwnPropertyDescriptor(r.prototype,"prepareClientData"),r.prototype),_()(r.prototype,"initDataCallback",[b.d],Object.getOwnPropertyDescriptor(r.prototype,"initDataCallback"),r.prototype),_()(r.prototype,"initClientData",[b.d],Object.getOwnPropertyDescriptor(r.prototype,"initClientData"),r.prototype),_()(r.prototype,"initServerData",[b.d],Object.getOwnPropertyDescriptor(r.prototype,"initServerData"),r.prototype),_()(r.prototype,"fromJS",[b.d],Object.getOwnPropertyDescriptor(r.prototype,"fromJS"),r.prototype),_()(r.prototype,"loadDatasource",[b.d],Object.getOwnPropertyDescriptor(r.prototype,"loadDatasource"),r.prototype),r);function C(e,t,n){return x.apply(this,arguments)}function x(){return(x=d()(u.a.mark((function e(t,n,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t){e.next=6;break}return e.next=3,t(n,r);case 3:return a=e.sent,Object(b.p)((function(){return Object.assign(r,a)})),e.abrupt("return");case 6:return e.abrupt("return",Promise.all(Object.entries(t).map(function(){var e=d()(u.a.mark((function e(t){var a,o,i,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c()(t,2),o=a[0],"function"==typeof(i=a[1])&&(i={dump:!1,loader:i}),s=i.loader,e.next=5,Promise.resolve(s(n,r));case 5:l=e.sent,Object(b.p)((function(){i.dump?Object.assign(r,l):r[o]=l}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"vQ/j":function(e,t,n){"use strict";n.r(t);var r=n("RIqP"),a=n.n(r),o=n("MVZn"),i=n.n(o),c=n("UfIE"),s=n("JgE6"),u=n.n(s),l=n("qnV/"),d=n("NYpQ"),p=n("FNY7"),f=n("LJxE"),m={LCP:{sr:1,ul:1e4},TTID:{sr:1,ul:2e4},FID:{sr:10,ul:1e3},CLS:{sr:1e4,ul:1}},h=function(e){return"number"==typeof e&&!Number.isNaN(e)},v=function(e,t){if(!h(e))return-1;var n=m[t],r=n.sr,a=n.ul;return Math.min(Math.max(Math.round(e*r),0),a*r)};function g(e,t,n){var r=e.map((function(e){var r=e.name,a=e.value;return{groupId:90213,amplifyRate:n,tags:i()({logType:r},t),fields:{},longFields:{indexValue:v(a,r)}}}));Object(d.a)(r,{appId:f.a,bizSide:f.b},!0)}t.default=function(e,t,n){var r=e.pn,o=e.grayTag;try{if(Math.random()>n)return;var i={pn:r,platform:Object(p.c)(),nativePackType:Object(p.b)(),grayTag:o};u.a.getFirstConsistentlyInteractive({}).then((function(e){h(e)&&g([{name:"TTID",value:e}],i,t)}));var s=[],d=function(e){s&&s.push(e)};Object(c.b)(d),Object(c.a)(d),Object(c.c)(d);window.addEventListener("visibilitychange",(function e(){if("hidden"===document.visibilityState)try{s.length>0&&(g(a()(s),i,t),s=null,window.removeEventListener("visibilitychange",e))}catch(e){Object(l.c)(e)}}))}catch(e){Object(l.c)(e)}}},vVBQ:function(e,t,n){e.exports={logoWrap:"_2fyYanh2",logo:"JwB7pONe",container:"_1ZOUDxNT",titleWrap:"_1Z5-NKbM",title:"_2N3eqqnQ",backBtnWrap:"_1zJsR3Ak",backBtn:"VverBJBN",couponItem:"_1KE5Ff4X",couponTag:"_1HWJRLGb",couponPrice:"_3p55_8W2",memberCouponPrice:"zUXjVYDV",couponInfo:"oZGtSc2O",phoneContent:"_3GbNmVDx",clearButton:"_2g_U8jus",verifyCode:"_3aBIMQ0U",verifyCodeActive:"QaofrByL",inputBox:"_3Ij3ZKeN",codeInputBox:"_3X88btx8",joinBtn:"t_hnfMIz",rule:"_1YVeAvo0",ruleText:"_2faMvETa",phoneContainer:"_3DN_lbhf",phoneTitleWrap:"_3PJqQ-xU"}},vblb:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._1H5swRYL{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;position:fixed;left:0;background-color:#000;-webkit-transition:opacity .2s;transition:opacity .2s;z-index:10021;box-shadow:0 0 0 .1rem #000}._1H5swRYL,.DHbF0iL8{top:0;width:100%;height:100%}.DHbF0iL8{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%;max-width:768px;pointer-events:none;z-index:1}.DHbF0iL8 *{pointer-events:auto}._12J22hUK{position:absolute;object-position:50%}._2w8Pa0np,._12J22hUK{-webkit-transition:-webkit-transform .2s;transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s;width:100%;height:100%}._2w8Pa0np{overflow:hidden;position:relative;margin:auto;max-width:768px}._2KL7xRdf,.omOIKYis{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-flex-direction:row;overflow:hidden;height:100%}._2KL7xRdf{position:relative;max-width:768px;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden;object-position:50%}._2puFKnxm{opacity:0}._1K5Rx8JK{width:100%}",""]),t.locals={projector:"_1H5swRYL",projectCover:"DHbF0iL8",curtainWrapper:"_12J22hUK",swipeArea:"_2w8Pa0np",swipeableViews:"omOIKYis",swipeViewPic:"_2KL7xRdf",hidePicture:"_2puFKnxm",swipePicture:"_1K5Rx8JK"}},vxzG:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7+eN"),s=n("RpJY"),u=n("hjca"),l=function(){function e(t){a()(this,e),this._config=t}return i()(e,[{key:"_getBackupDomain",value:function(e,t){var n=this._config.getBackupDomainConfig(e),r=Object.keys(n),a=parseInt(+t.slice(-4),10);return r.length>1&&a>=0&&Object(s.a)(n,a)||e}},{key:"getInitialUrl",value:function(e,t){if(!e)return"";if(!Object(u.a)(e))return e;if(!(t=""+t))return e;var n=Object(c.a)(e);return n.host=this._getBackupDomain(n.host,t),n.toString()}}]),e}()},wXUz:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),o=n("yXPU"),i=n.n(o),c=n("lwsE"),s=n.n(c),u=n("W8MJ"),l=n.n(u),d=n("7W2i"),p=n.n(d),f=n("a1gu"),m=n.n(f),h=n("Nsbk"),v=n.n(h),g=n("mwIZ"),y=n.n(g),_=n("q1tI"),b=n.n(_),k=(n("17x9"),n("eHaf")),w=n("pBDj"),S=n("MVZn"),I=n.n(S),C=n("b6XL"),x=n("7ftN"),P=n("BDyI"),E=n("mj+i"),O=n("x9rp"),N=function(e){var t,n,r,a=(e=e||{}).server_time||Date.now()/1e3,o=function(e){e=e||[];for(var t=[],n={},r=0;r<e.length;r++){var a=e[r];0===(parseInt(a.is_open,10)||0)||n[a.customer_num]||(t.push({requireNum:a.customer_num.toString(),price:Object(P.c)(a.price),groupID:a.group_id,startTime:parseInt(a.start_time,10),endTime:parseInt(a.end_time,10),orderLimit:parseInt(a.order_limit,10)||1}),n[a.customer_num]=!0)}return t.sort((function(e,t){return e.requireNum-t.requireNum})),{list:t}}(e.group).list,i=Object(P.c)(e.max_on_sale_group_price||0),c=Object(P.c)(e.min_on_sale_group_price||0),s=Object(P.c)(e.max_on_sale_normal_price||0),u=Object(P.c)(e.min_on_sale_normal_price||0);return{serverTime:a,nowTime:a,goodsID:e.goods_id,mallID:e.mall_id,groupTypes:o,skus:(n=e.sku,r=e.hd_thumb_url||e.thumb_url,(n=n||[]).map((function(e){return I()(I()({},Object(O.d)(e)),{},{skuID:e.sku_id,specs:e.specs,thumbUrl:Object(E.c)(e.thumb_url||r||""),limitQuantity:parseInt(e.limit_quantity,10)||0,normalPrice:Object(P.c)(e.normal_price),groupPrice:Object(P.c)(e.group_price),skuExpansionPrice:Object(P.c)(e.sku_expansion_price)})}))),thumbUrl:Object(E.c)(e.thumb_url||""),hdThumbUrl:Object(E.c)(e.hd_thumb_url||""),eventType:parseInt(e.event_type,10)||0,activity:(t=e.activity,t&&{activityID:t.activity_id,activityType:t.activity_type,startTime:t.activity_start_time,endTime:t.activity_end_time,activityExplain:t.activity_explain,activitySkuExplain:t.activity_sku_explain,expansion:t.expansion,detailID:t.detail_id,subActivityType:t.sub_activity_type,costType:t.cost_type,activityOptions:t.activity_options,playType:t.play_type}),maxOnSaleGroupPrice:i,minOnSaleGroupPrice:c,maxOnSaleNormalPrice:s,minOnSaleNormalPrice:u,priceStyle:e.price_style||0,pricePrefix:e.price_prefix,goodsExpansionPrice:Object(P.c)(e.goods_expansion_price),checkQuantity:e.check_quantity,destinationUrl:e.destination_url,vasTemplateId:e.vas_template_id,skuDirectOrder:e.sku_direct_order,skuNewPricePrefix:e.new_price_prefix,goodsType:+e.goods_type||1,catID:e.cat_id,catID1:e.cat_id_1,catID2:e.cat_id_2,catID3:e.cat_id_3,catID4:e.cat_id_4,options:e.options,overseaType:e.oversea_type||0,minOnSaleGroupPriceInCent:e.min_on_sale_group_price,maxOnSaleGroupPriceInCent:e.max_on_sale_group_price}},D=n("9yT/");function T(e,t,n){var r=n||"api/oak/integration/render/sku";return Object(x.b)({method:"POST",url:r,data:I()({page_version:7,_component_version:1,hostname:location.hostname,front_supports:D.a},e)}).then((function(e){var n,r;if(null===(n=e)||void 0===n?void 0:n.toast)return Object(C.a)(null===(r=e)||void 0===r?void 0:r.toast),!1;if(t&&!(e=t(e)))return!1;var a=function(e){return I()(I()(I()({},e.goods),e.price),{},{server_time:e.server_time,sku:e.sku,activity:(e.activity_collection||{}).activity,destination_url:e.destination_url})}(e),o=N(a);return o.ui=e.ui||{},o.control=e.control||{},{goodsInfo:o}}))}var j=n("YVoc"),A=n.n(j),R=n("TSYQ"),W=n.n(R),L=n("imwC"),M=n("GqNx"),F=n("X9Ge");n.d(t,"a",(function(){return B}));var B=function(e){p()(r,e);var t,n=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=v()(e);if(t()){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}(r);function r(e){var t;return s()(this,r),(t=n.call(this,e)).normalSkuRef=b.a.createRef(),t.skuBgRef=b.a.createRef(),t.isShow=!1,t.initRecoverSkuInfo=0,t.checkDefaultSkuInfo=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=1;if(t.initRecoverSkuInfo>=r||!e)return!1;t.initRecoverSkuInfo+=1;var a=t.props.goods||t.state.goods,o=y()(a,"skus"),i=o.find((function(t){return t.skuId===e&&t.quantity>=n&&t.isOnsale}));return!!i},t.recoverSkuInfo=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.selectSkuId({skuId:e,goodsNumber:n})},t.show=function(){var e=i()(a.a.mark((function e(n){var r,o,i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.props.isRemote||t.state.isFetch){e.next=6;break}return e.next=3,t.loadGoods();case 3:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:if(n&&"function"==typeof n.setStateCallback&&t.normalSkuRef.current.skuRef.current.setCustomState(n.setStateCallback),r=t.normalSkuRef.current.prepare(n),!r.needShow){e.next=15;break}if(!t.isShow){e.next=11;break}return e.abrupt("return");case 11:o=t.props,i=o.defaultSkuId,c=o.defaultGoodsNumber,t.checkDefaultSkuInfo(i,c)&&t.recoverSkuInfo(i,c),t.skuBgRef.current.style.display="block",setTimeout((function(){t.skuBgRef.current.style["background-color"]="rgba(0, 0, 0, 0.8)",t.normalSkuRef.current.enter(),Object(O.b)(),setTimeout((function(){t.isShow=!0}),200)}),1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.hide=i()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isShow){e.next=2;break}return e.abrupt("return");case 2:if(Object(O.c)(),!t.props.onHide){e.next=6;break}return e.next=6,t.props.onHide();case 6:t.skuBgRef.current.style["background-color"]="rgba(0, 0, 0, 0)",t.normalSkuRef.current.exit(),setTimeout((function(){t.isShow=!1,t.skuBgRef.current.style.display="none"}),+t.props.delay||200);case 9:case"end":return e.stop()}}),e)}))),t.getSelectedSkuID=function(){return t.getSelectedSkuId()},t.getSelectedSkuId=function(){return t.normalSkuRef.current.skuRef.current.state.selectedSkuID},t.getGoodsNumber=function(){return t.normalSkuRef.current.skuRef.current.state.goodsNumber||1},t.selectSkuID=function(e){return t.selectSkuId({skuId:e})},t.selectSkuId=function(e){var n=e.skuId,r=e.goodsNumber,a=void 0===r?1:r;return t.normalSkuRef.current.skuRef.current.selectSkuId({skuId:n,goodsNumber:a})},t.setGoodsNumber=function(e){return t.normalSkuRef.current.skuRef.current.setGoodsNumber(e)},t.onCloseNormalSku=i()(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hide(),n=y()(t.props,"goods.goodsID")||y()(t.state,"goods.goodsID")||0,Object(k.b)({page_element:"close_btn",goods_id:n,page_el_sn:98835,op:"click"});case 3:case"end":return e.stop()}}),e)}))),t.takeCouponBeforeForward=function(){var e=i()(a.a.mark((function e(n){var r,o,i,c,s,u,l,d,p,f,m,h,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.props,o=r.isSingleBuy,i=r.autoTakeCouponParams,!o){e.next=4;break}return e.abrupt("return");case 4:if(c=n.selectedSkuID,s=n.goodsNumber,u=void 0===s?1:s,l=n.skuInfo,d=y()(M.b,["".concat(u,"-").concat(c),"batchSn"])||"",p=y()(M.b,["".concat(u,"-").concat(c),"platformBatchSn"])||"",f=(null==l?void 0:l.batchSn)||"",m=(null==l?void 0:l.platformBatchSn)||"",!d&&!p){e.next=16;break}return h=[],d&&h.push(d),p&&h.push(p),e.next=15,Object(F.a)(h,i);case 15:return e.abrupt("return");case 16:if(!f&&!m){e.next=22;break}return v=[],f&&v.push(f),m&&v.push(m),e.next=22,Object(F.a)(v,i);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.error(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t){return e.apply(this,arguments)}}(),t.confirmSkuCallBack=function(e){var n=y()(t.props,"goods.goodsID")||y()(t.state,"goods.goodsID")||0;Object(O.k)({page_element:"confirm_btn",goods_id:n,page_el_sn:98834,op:"click"},i()(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=!e.skuDirectOrder,!n.t0){n.next=4;break}return n.next=4,t.takeCouponBeforeForward(e);case 4:t.props.confirmOrder&&t.props.confirmOrder(e);case 5:case"end":return n.stop()}}),n)}))))},t.state={isFetch:!1,goods:null},t}return l()(r,[{key:"loadGoods",value:(t=i()(a.a.mark((function e(){var t,n,r,o,i=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props,n=t.params,r=t.responseProcessor,e.next=4,T(n,r,this.props.apiUrl);case 4:return o=e.sent,e.abrupt("return",new Promise((function(e){o?i.setState({goods:y()(o,"goodsInfo"),isFetch:!0},(function(){e(!0)})):i.setState({isFetch:!1},(function(){e(!1)}))})));case 8:e.prev=8,e.t0=e.catch(0),this.props.loadGoodsFail&&this.props.loadGoodsFail(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;if(this.props.isRemote&&!this.state.goods)return null;var t=this.props.goods;this.props.isRemote&&(t=this.state.goods);var n=this.props,r=n.isSingleBuy,o=n.renderSkuBlackCard,c=n.usePddNativePhoto,s=t.groupTypes[1];return r&&(s=t.groupTypes[0]),b.a.createElement("div",{ref:this.skuBgRef,className:W()(A.a.skuSelectorBg,"sku-plus1"),onClick:function(){var t=i()(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&n.stopPropagation(),e.hide();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b.a.createElement(w.a,{changeToGroupBuy:this.props.changeToGroupBuy,ref:this.normalSkuRef,goods:t,group:s,onClose:this.onCloseNormalSku,renderSkuBlackCard:o,confirmSkuCallBack:this.confirmSkuCallBack,selectOneValueCb:this.props.selectOneValueCb,renderFooter:this.props.renderFooter,buttonText:this.props.buttonText,usePddNativePhoto:c},b.a.createElement(L.a,null)))}}]),r}(b.a.Component)},wZrs:function(e,t,n){var r=n("l5Q+"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},wekK:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'._3f1JMFzp{position:relative;padding-left:.12rem;height:.46rem;line-height:.46rem;background-color:#fff}._3f1JMFzp._1frDSkty{pointer-events:none}._3f1JMFzp._14ZLILa-,.pdd_payment_list_elder_mode ._3f1JMFzp._1G7UZoab,.pdd_payment_list_elder_mode ._3f1JMFzp._27Hsd-bC{height:1rem}._3f1JMFzp:not(._14ZLILa-):active:not(:first-child) ._3t3V2co2:after{content:none}._3f1JMFzp:not(._14ZLILa-):active:not(._14ZLILa-)+._3f1JMFzp ._3t3V2co2{border-top:1px solid #fff}div._3f1JMFzp:first-of-type ._3t3V2co2:after{content:none}._3f1JMFzp[data-active=before-white]:active:before{opacity:.08}._3t3V2co2{width:100%;font-size:0;position:relative;border:none!important}._3t3V2co2:after{content:"";display:block;position:absolute;top:0;right:-100%;bottom:-100%;left:0;-webkit-transform-origin:0 0;transform-origin:0 0;pointer-events:none;-webkit-transform:scale(.5);transform:scale(.5);box-sizing:border-box;border-top:1px solid #ededed}._3t3V2co2 ._2injgcfL{margin-left:.04rem}._3t3V2co2 ._2injgcfL ._2QBPsFuu{display:inline-block;width:.22rem;height:.45rem;margin-right:.04rem;position:relative;vertical-align:top}._3t3V2co2 ._2injgcfL ._2QBPsFuu img{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:.22rem}._3t3V2co2 ._1Z5TdEwR{position:relative;height:.46rem;text-align:left}._1PFsuIUL{background:url(https://funimg.pddpic.com/pay_icon/alipay_v1.png) no-repeat;background-size:.22rem .22rem;background-repeat:no-repeat}._1CnXvRsx,._1PFsuIUL{content:"";position:absolute;display:inline-block;width:.22rem;height:.22rem;left:-.01rem;top:.12rem}._1CnXvRsx{background:url(https://funimg.pddpic.com/pay_icon/wechat_pay_v1.png) no-repeat;background-size:.22rem .22rem;background-repeat:no-repeat}._3XygMUK5{background:url(https://funimg.pddpic.com/pay_icon/qq_v1.png) no-repeat;background-size:.22rem .22rem;background-repeat:no-repeat}._3vucH7ff,._3XygMUK5{content:"";position:absolute;display:inline-block;width:.22rem;height:.22rem;left:-.01rem;top:.12rem}._3vucH7ff{background:url(https://funimg.pddpic.com/pay_icon/friend_pay_v1.png) no-repeat;background-size:.22rem .22rem;background-repeat:no-repeat}._3McrIaJK{background:url(https://funimg.pddpic.com/pay_icon/duoduo_pay_v1.png) no-repeat;background-size:.22rem .22rem;background-repeat:no-repeat}._2mAKK6dA,._3McrIaJK{content:"";position:absolute;display:inline-block;width:.22rem;height:.22rem;left:-.01rem;top:.12rem}._2mAKK6dA{background:url(https://funimg.pddpic.com/pay_icon/hb_installment_v1.png) no-repeat;background-size:.22rem .22rem;background-repeat:no-repeat}._3HinBJLb{background:url(https://funimg.pddpic.com/pay_icon/hb_v1.png) no-repeat;background-size:.22rem .22rem;background-repeat:no-repeat}._1QMjdH6n,._3HinBJLb{content:"";position:absolute;display:inline-block;width:.22rem;height:.22rem;left:-.01rem;top:.12rem}._1QMjdH6n{background:url(https://funimg.pddpic.com/pay_icon/xyhf_v3.png) no-repeat;background-size:.22rem .22rem;background-repeat:no-repeat}.bP1-sBd2{background:url(https://funimg.pddpic.com/pay_icon/apple_pay_v1.png) no-repeat;background-size:.22rem .22rem;background-repeat:no-repeat}._19olO3U_,.bP1-sBd2{content:"";position:absolute;display:inline-block;width:.22rem;height:.22rem;left:-.01rem;top:.12rem}._19olO3U_{background:url(https://funimg.pddpic.com/zhuhai_png/2020-12-06/1aecea68-ed03-41a2-89ef-37b7986a4635.png) no-repeat;background-size:.22rem .22rem;background-repeat:no-repeat}._3EumGWhj{background:url(https://funimg.pddpic.com/zhuhai_png/2020-08-19/e6fb26b4-24bc-43a2-9fd0-a1344e7ea48f.png) no-repeat;background-size:.22rem .22rem;background-repeat:no-repeat}._3EumGWhj,._21GMqN4P{content:"";position:absolute;display:inline-block;width:.22rem;height:.22rem;left:-.01rem;top:.12rem}._21GMqN4P{background-size:.22rem .22rem;background-repeat:no-repeat}._3DLN0C5d{margin-left:.32rem;font-size:.15rem;color:#151516}._30P7ub84{position:absolute;top:.15rem;right:0;width:.16rem;height:.16rem;margin-right:.12rem;line-height:.16rem;fill:#58595b}._1yOWzRTS{height:1rem}._287rdYha[data-active=before-white]:active:before{opacity:.08}._2injgcfL{position:relative;font-size:.13rem;color:#58595b}._2injgcfL ._2qBOBZaq{padding:.01rem}.mtfrtIKR ._3DLN0C5d{color:rgba(21,21,22,.2)}.mtfrtIKR ._3DLN0C5d:before{opacity:.4}.mtfrtIKR ._2injgcfL{color:#9c9c9c}._1cj95KqM{float:right;font-size:.14rem;color:#151516;opacity:.2;margin-right:.12rem}._2HSzi9Mi{position:relative;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);vertical-align:top}.pdd_payment_list_v2_mode ._3f1JMFzp{line-height:.5rem;height:.5rem}.pdd_payment_list_elder_mode .pdd_payment_list_v2_mode ._3f1JMFzp._1G7UZoab,.pdd_payment_list_elder_mode .pdd_payment_list_v2_mode ._3f1JMFzp._27Hsd-bC,.pdd_payment_list_v2_mode ._3f1JMFzp._14ZLILa-,.pdd_payment_list_v2_mode .pdd_payment_list_elder_mode ._3f1JMFzp._1G7UZoab,.pdd_payment_list_v2_mode .pdd_payment_list_elder_mode ._3f1JMFzp._27Hsd-bC{height:1.02rem}.pdd_payment_list_v2_mode ._3t3V2co2{height:.5rem;line-height:.5rem}.pdd_payment_list_v2_mode ._3t3V2co2 ._1Z5TdEwR{height:.5rem}.pdd_payment_list_v2_mode ._3t3V2co2:after{left:.3rem;right:calc(-100% + .3rem)}.pdd_payment_list_v2_mode ._3t3V2co2._3Pn2PnvI:after{margin-left:0}.pdd_payment_list_v2_mode ._1yOWzRTS{height:1.02rem}.pdd_payment_list_v2_mode ._30P7ub84{top:.17rem}.pdd_payment_list_v2_mode ._1CnXvRsx,.pdd_payment_list_v2_mode ._1PFsuIUL,.pdd_payment_list_v2_mode ._1QMjdH6n,.pdd_payment_list_v2_mode ._2mAKK6dA,.pdd_payment_list_v2_mode ._3EumGWhj,.pdd_payment_list_v2_mode ._3HinBJLb,.pdd_payment_list_v2_mode ._3McrIaJK,.pdd_payment_list_v2_mode ._3vucH7ff,.pdd_payment_list_v2_mode ._3XygMUK5,.pdd_payment_list_v2_mode ._19olO3U_,.pdd_payment_list_v2_mode ._21GMqN4P,.pdd_payment_list_v2_mode .bP1-sBd2{width:.2rem;height:.2rem;background-size:.2rem .2rem;top:.15rem;margin-left:.01rem}.pdd_payment_list_v2_mode ._3DLN0C5d{font-size:.14rem}.pdd_payment_list_elder_mode ._3f1JMFzp{line-height:.56rem;height:.56rem}.pdd_payment_list_elder_mode ._3f1JMFzp._27Hsd-bC{height:1.94rem}.pdd_payment_list_elder_mode ._3f1JMFzp._1G7UZoab{height:1.26rem}.pdd_payment_list_elder_mode ._30P7ub84{top:.2rem}.pdd_payment_list_elder_mode ._1cj95KqM{font-size:.18rem;line-height:.56rem}.pdd_payment_list_elder_mode ._3t3V2co2{height:.56rem;line-height:.56rem}.pdd_payment_list_elder_mode ._3t3V2co2 ._1Z5TdEwR{height:.56rem}.pdd_payment_list_elder_mode ._3t3V2co2 ._2injgcfL ._2QBPsFuu{width:.22rem;height:.56rem}.pdd_payment_list_elder_mode ._1CnXvRsx,.pdd_payment_list_elder_mode ._1PFsuIUL,.pdd_payment_list_elder_mode ._1QMjdH6n,.pdd_payment_list_elder_mode ._2mAKK6dA,.pdd_payment_list_elder_mode ._3EumGWhj,.pdd_payment_list_elder_mode ._3HinBJLb,.pdd_payment_list_elder_mode ._3McrIaJK,.pdd_payment_list_elder_mode ._3vucH7ff,.pdd_payment_list_elder_mode ._3XygMUK5,.pdd_payment_list_elder_mode ._19olO3U_,.pdd_payment_list_elder_mode ._21GMqN4P,.pdd_payment_list_elder_mode .bP1-sBd2{top:.17rem}.pdd_payment_list_elder_mode ._3DLN0C5d{font-size:.18rem}',""]),t.locals={padding:"_3f1JMFzp",disable:"_1frDSkty",paddingInstallment:"_14ZLILa-",paddingInstallment4Elder:"_27Hsd-bC",paddingInstallment2Elder:"_1G7UZoab",item:"_3t3V2co2",hints:"_2injgcfL",icon:"_2QBPsFuu",text:"_1Z5TdEwR",pALIPAY:"_1PFsuIUL",pWEIXIN:"_1CnXvRsx",pQQ:"_3XygMUK5",pWEIXIN_FRIEND:"_3vucH7ff",pDUODUOPAY:"_3McrIaJK",pHBFQ_ALI_PAY:"_2mAKK6dA",pHB_ALI_PAY:"_3HinBJLb",pWEIXIN_CREDIT:"_1QMjdH6n",pLIANLIANPAY:"bP1-sBd2",pUNIONPAY:"_19olO3U_",pDUODUOPAY_ACS:"_3EumGWhj",pfuji:"_21GMqN4P",method:"_3DLN0C5d",selectedSvg:"_30P7ub84",itemInstallment:"_1yOWzRTS",hbMask:"_287rdYha",space:"_2qBOBZaq",itemDisable:"mtfrtIKR",itemDisableText:"_1cj95KqM",richTextImg:"_2HSzi9Mi",installmentFlag:"_3Pn2PnvI"}},wgWF:function(e,t,n){},whv1:function(e,t,n){"use strict";t.a={AliPay:1,WeChat:2,QQPay:3,ApplePay:4,AliPayDirectDebit:5,FriendPay:6,HBInstallmentPay:7,AliPayV2:8,UnionPay:9,DuoDuoPay:10,HBPay:11,XianYongHouFu:12,DuoDuoPayACS:13,CreditCardInstallmentPay:14}},x2pu:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'._1et1XRkd{position:relative;background-color:#fcfcfc;border-radius:50%;box-sizing:content-box}._1et1XRkd._1RVvo_G6{border:1px solid transparent}._2_aTccLU{display:inline-block;vertical-align:top;width:100%;height:100%;border-radius:50%}._2_aTccLU:not([src]),._2_aTccLU:not([src])~._3hsjrlFQ,._2_aTccLU[src=""],._2_aTccLU[src=""]~._3hsjrlFQ{visibility:hidden}._3hsjrlFQ{position:absolute;top:0;left:0;right:-100%;bottom:-100%;-webkit-transform-origin:0 0;transform-origin:0 0;pointer-events:none;-webkit-transform:scale(.5);transform:scale(.5);box-sizing:border-box;border-radius:50%;border:1px solid rgba(0,0,0,.06)}',""]),t.locals={root:"_1et1XRkd",hasBorder:"_1RVvo_G6",image:"_2_aTccLU",border:"_3hsjrlFQ"}},x7Ie:function(e,t,n){e.exports={ocSkuSelectorBg:"_2zIk0pvb"}},x7kv:function(e,t,n){var r=n("yYVe"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},x9rp:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return I})),n.d(t,"c",(function(){return C})),n.d(t,"j",(function(){return x})),n.d(t,"i",(function(){return P})),n.d(t,"d",(function(){return E})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return N})),n.d(t,"f",(function(){return T})),n.d(t,"a",(function(){return j})),n.d(t,"k",(function(){return A}));var r=n("MVZn"),a=n.n(r),o=n("cDf5"),i=n.n(o),c=n("u6S6"),s=n.n(c),u=n("mUg4"),l=n.n(u),d=n("q1tI"),p=n.n(d),f=n("i8i4"),m=n.n(f),h=n("KoDT"),v=n("MpJ2"),g=n("D+Ft"),y=n("2xwX"),_=n("gi5g"),b=n("v9S7"),k=n("eHaf"),w=!0;function S(e){if(!1===window.p_bodyPositionStyle){var t=Object(h.a)();w&&t.isNativePlatform&&Object(v.o)({enable:!1}),window.p_bodyPositionStyle=document.body.style.position,window.p_topStyle=document.body.style.top,window.p_bodyScrollTop=I(),document.body.style.position="fixed",document.body.style.top="-".concat(window.p_bodyScrollTop,"px"),window.p_leftStyle=document.body.style.left,document.body.style.left="calc(50vw - 1.875rem)",Object(_.a)(e)}}function I(e){return e&&e!==document.body?e.scrollTop:document.body.scrollTop+((document.documentElement||{}).scrollTop||0)}function C(){if(!1!==window.p_bodyPositionStyle){var e,t=Object(h.a)();w&&t.isNativePlatform&&Object(v.o)({enable:!0}),document.body.style.position=window.p_bodyPositionStyle,window.p_bodyPositionStyle=!1,document.body.style.top=window.p_topStyle,e=window.p_bodyScrollTop,document.body.scrollTop=e,0!==document.body.scrollTop?document.body:((document.documentElement||{}).scrollTop=e,document.documentElement&&0!==document.documentElement.scrollTop&&document.documentElement),document.body.left=window.p_leftStyle,Object(_.c)()}}function x(e){var t=e,n=(t.type,t.props);var r=document.createElement("div"),a=null;return document.body.appendChild(r),e=p.a.cloneElement(e,{onClose:function(){n.onClose&&n.onClose(),a||(a=setTimeout((function(){m.a.unmountComponentAtNode(r),document.body.removeChild(r),r=null}),0))}}),{componentReference:m.a.render(e,r)}}function P(e){var t=375;return window?t=window.innerWidth:document&&document.body&&(t=document.body.offsetWidth),Math.min(t,768)/375*e*100}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e;return"object"===i()(e)&&null!==e&&(e instanceof Array?(n=[],e.forEach((function(e,r){n[r]=E(e,t)}))):(n={},l()(e,(function(e,r){var a=s()(r);t.includes(r)?n[a]=e:n[a]=E(e,t)})))),n}"undefined"!=typeof window&&(window.p_bodyPositionStyle=!1);var O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"5.1rem";Object(g.a)(e,a()(a()({},t),{},{ContainerProps:{style:{pointerEvents:"none",height:n,top:"auto"}},className:"sku-toast-center"}))},N=function(e,t){O(e,t,"85%")},D=!1;Object(b.a)().then((function(e){D=e}));var T=function(){return D},j={isSpinnerShown:!1,timer:null,showWithoutBg:function(){j.timer=setTimeout((function(){Object(y.c)(),j.isSpinnerShown=!0}),500)},show:function(){j.timer=setTimeout((function(){Object(y.b)(),j.isSpinnerShown=!0}),500)},hide:function(){j.isSpinnerShown?Object(y.a)():j.timer&&clearTimeout(j.timer),j.isSpinnerShown=!1,j.timer=null}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(Object(k.b)(e),t){var n=Object(h.a)();n.isNativePlatform||n.isTinyNativePlatform?Promise.resolve().then((function(){t()})):setTimeout((function(){t()}),100)}}},xFQA:function(e,t,n){e.exports={promotionList:"_34w2SEkY",postagePromotion:"_2BRDyh8T",promotionItem:"f5srGtiA",titleContainer:"_3myZ3nAP",hasBorder:"_3RxMK8c3",title:"_2qm3tn7H",foldItem:"_3vPh1KJr",foled:"_1CML21tK",close:"eN1J2JTG",closeIcon:"_2aIztqT_",text:"_2DdF0uhN",content:"_2W-zM6Fw",hasPromotionDisplay:"_2R27AZYW",bottom:"cpxcg3RL",promotionDisplay:"_32iTRTrP",btn:"_1W9ox0zY",float:"_3HMTET3t"}},xIpx:function(e,t,n){e.exports={picker:"Dk8H2PTC",container:"_3ZgfStr5",mask:"SlyH6u_T",panel:"_2cFRKvef",cancel:"_1DxmVUUL",title:"BVFeRMMV",content:"_1THGTrSy",maskBottom:"_26d1VyH_",maskTop:"_38AjMIyV",wrapper:"_1HQzK_aj",wheel:"EmJ244Xm",wheelScroll:"_33sHPv9I",wheelItem:"MEJzOuhS"}},xJ31:function(e,t,n){"use strict";function r(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r<2048?t+=String.fromCharCode(192|r>>6)+String.fromCharCode(128|63&r):r<55296||r>=57344?t+=String.fromCharCode(224|r>>12)+String.fromCharCode(128|r>>6&63)+String.fromCharCode(128|63&r):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++n)),t+=String.fromCharCode(240|r>>18)+String.fromCharCode(128|r>>12&63)+String.fromCharCode(128|r>>6&63)+String.fromCharCode(128|63&r))}return t}n.d(t,"a",(function(){return o}));var a=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=r(e),t^=-1;for(var n=0;n<e.length;n++)t=t>>>8^a[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}},xZuf:function(e,t,n){var r=n("RLzq"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}},"xq+1":function(e,t,n){e.exports={virtualAddress:"_25PtC6FA"}},yDGq:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'.m5ozkA7a{position:absolute;width:.29rem;height:.29rem;right:-.145rem;background-size:100%;top:-.14rem;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAABXCAMAAABGFileAAAAZlBMVEVHcEzn5+fg4ODk5OTh4eHj4+Ph4eHh4eHg4ODp6enk5OTg4OD////w8PDi4uLh4eHh4eHg4ODg4ODg4ODg4ODg4ODg4ODg4OBmZmbV1dXa2tqDg4N5eXmwsLB/f39xcXHFxcVra2sMBscFAAAAF3RSTlMAH/wXzUuJ6vYPHJUDCGCRvcLc2aewO1l+nbIAAAH/SURBVHjatZnrboMwDEZDmquglK6XD9jo1vd/yVVoWrS1gEvzHfVfpSMrcoxjq2XiuXYnc/BBB38wJ1efo3qVrXVGY0SPvxFtnN2ul1b2GDBFONpqlXXjPObxbvO0tSgDlgll8ZQ1lhoydBnl2tpDjq+lR7DHc+xFh2E9nsXb5YTdYQ27hXSODdbRxNmcNViLmcnl4g3reSsmo03aVeKJiKPBa5j4MBMavErzKCt2eJ3dvdYiB/YuFTxy4P8nxR552P+rYMhF/SfFPHLho0qUyEeZtIVGPnRBCRcp4E1ATsLmx+uQF6dGKo+8+GrpBnfD0OMR/TB0S7f5OK39bNtL9+iPS9t+TouPY30MmGJob3x099qP9saAKcI2HcOkN4mRtPNe2Pls6C9JfKe99PMZYSAUy7UwSkUNoViuhY7qDAjFci1wXqy8/fuvOGnf+8Uq7ABhxPJoAadOgDRicbTASRmIxV9iLYw6QCxuxVoclIdYLNdqrwKkYrkWCEpDRHcdtdcOIjQrXtb5svKBlb+s+8aqD6x6xqq/rO8F6fvG+h6z+gdWv0Pqz1j9JKv/JfXrrPcF6T3Eer+R3pus9zHpPc+cP/DnJRVhvkOYRxHmZ4x5H2k+SZqnkua/tHk1f77O3wckKsL+grBvIeyHCPsswv6Nti+U7zcT4v0max/7DaMoFZeb5NVRAAAAAElFTkSuQmCC")}.m5ozkA7a:active{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAABXCAMAAABGFileAAAAZlBMVEVHcEzAwMDAwMDBwcHAwMDBwcHGxsbJycnBwcHAwMDAwMDDw8Pj4+PBwcHAwMDAwMDBwcHAwMDAwMDAwMDCwsLAwMAzMzO6urpVVVVQUFBISEiysrJLS0uIiIi0tLS2trY9PT2hoaGwqx6HAAAAFXRSTlMA9vzAzYkfDpTo2xcESPBRX6ewYjvU6eoOAAACHklEQVR42rWZ646CMBBGe4NSFLzxgaig+/4vucYlMauUDtA5/zlpmo92OiPC2OqUHE3uSlW63ByTU2XFWmyRGIVPlEmKFe5tcZDwIQ/FdpF1kzhM45LNbGuaSYSRWTpvWzMFGiqzdO3egY7bU7dAYx6atBm7EnMpd+FsZVhCFsic1ViGtpOZNViKmchymmM5eepdbY415J4VW4N1GDuaBI2VKD2WigzryUZ+B8Rg9xWFEjEoP0OhEQf9cYIhFvt/EXOIhbOeLETMRKoQD5V6lhttwRuJmMjN4E0Ql2Q4GBzi4rYvbwEvfdc1GKPpuh5eipf3AB/3R123Y9/3bV0//OKDeGIlfHT1k1v/rb3VTzr4kHbYBq93EH9pp70optPQnAfxmLZtphNh4Ofe/omveHMdtHf4MUJYhbD4cn1rL2EtlBUVQBTTtUAlTiCL6Vqcwj9xcx7Eb+25Cf/KR5DFdC2OwoAs/iFrYUQOsrgma5ELB7KYroUTEmQxXQspFEj0j5f20YOEEiXLekuu/eXKA1d+uf43rvOB7TyrAqsdP3/PAXFFuy9us+8L2v3W401Pud8C93G79D7mqh+46p3p+qxfWp9x1ZNc9S9Tvc71vmB6D3G935jem1zvY6b3PFP/gatfwtTfYepHsfTPoLdM/T6m/iRTP5Wp/8vUr2bqr/PMA5jmFzzzFqb5EM88i3P+xj8v5J9v0uexUkn6PPYXTJHpYOFmuFUAAAAASUVORK5CYII=")}.L5kWDKZ-{top:-.425rem;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAABXCAMAAABGFileAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABjUExURUdwTP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////zQsxRwAAAAgdFJOUwBM54kLzpQBnfwYIb8QYAT3299I8TVUe68+pmmGxyuNnJ7zzAAAArNJREFUeNq1mdmO4jAQRW8SOx5nJWwBejv//5WjVoTUQzd0AVPnCRHn6rrixK4q/U5/HKpDnMpt3pZTPFTDsdezhE0VM5fkWG2CHmbcnFZcY3XajHqEpirP7k7zftc2YQxNu9vPp/MMyqrRvbT1YjV+FEFSUkpJSp9IofiIi+m61T30dV4Mvesa78t0ct3LShpKgLci3R5WvAGUQzKGoAPojgYDx2WoKRj7LbAuZHGRVKyB7f7XgWMN5NcgK+E1A/X4y6gOWO90D7s10N100kTg0Os++gMQG12lnYBZ9zMDU3vV7QR50CMMGaYrjkOEVaHHKFYQw48roYNc6FGKDN2o79TAoMcZgFrf2AOznmEG9rqg3cJBz3GAbXsR3Q7WvZ6jX0OXLoOTd3qWXb54RH0Jr3qeVyj7f9fCOuh5wvqfNdFmKPQfSAXk9qvdTv+H7ovhZgVHXZCa+iXdNvdSN993EFid/63g7cf370+6Jfvnx/frDarl11j+GN0XFuEbsrzoGwWUoz7ZQJmu3HgWtl9NJWz0yQkqw63WaxWcJCms4N1ws1FW77AKSxiiYbLmEKUIm8X3hwzC1sjrY4lrhEIGYausCohSn8lBBmGrrEIm9zpClAzCVlkpwlEDnGQQtsvqBIMqmGURNstqhkoH2MskbJXVHg6KsJNN2CirHURN0MombJRVC5NKaGQTnmyyqYFSWwiyCdtkpQBbZRhlIE3AlGRghOzl1yG+aqD0Wg8O6zftIHq9bw7fhzRD5fU98/r+eu0XTvub137sdX7wOu84nc+8zpNe51+n87pXfnEzH0oP50Ne+ZtTvumVHzvl8171B6d6iW99x78eJYf6mUO9z6E+6VRP9a//+terJYf6+kU/wMS5H+DUv3Dst/j3h+z9rAsM/SyH/ptHv9C/v+nVj/0LAPh9AiWQeMwAAAAASUVORK5CYII=")}.L5kWDKZ-:active{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAABXCAMAAABGFileAAAAV1BMVEX///////////////////////////9HcEz///////////////////////////////////////////////////////////////////////////////////8pF4XJAAAAHXRSTlN/RRJ8TwcnAIABSjFuDGBocxxlAnhUIj1XU7+nhdFnlMwAAALNSURBVHjatdnnjtswEIXRj+KSV1Qvblve/zkDREkWGxeOC+8vwbIOZNoWyRmUTZhbd1q6acdu6paTa+egbMiYB7dwnsUdwuPuGveea/H7uD7k9m5iy/h+jHPVhzX01RyP7yNbJtff7VaN30wXg6SUtpe3oxDdZvumussNDdsNVbqSVLlpk4PZTe0EsMSklK7CSnEBmNpkc6sBYDgon8P21srixh3QRdkSO2AXs+7aAN4FWROcB5r1thsGoJt1T+YOGMIttx+BU9B9CSdg7K+7VQccdX+OQFddc/sOaPVIWqDrL7thBB/1WKKHMVxy1wGIejQRGNYLbpMZBMtQNOduzHxlti8v/u9WOzjpuZxgV/100wBdeNINHQzph9uCn/VsZg+tvt0UJnB6Pg6m8O2qyY6CfSSab7cCol6RCL765zYw6DUZoPnr9h7OZofUN226Saxt05/PIOD7P66DRWdp6vrtFpze6rrRWRZwm7tOEC9MnvUG32Dr9uIIT6vEdnTh+vXtFpyunU3bXSLtwWUvtZ9zsJdQ8FDlLrazqsAHoQOM2Q9rZ1Ma4SDkwCkD21lpA9ECUVnYzirCIgIQlIXtrH6LzDBKWdjOSiPMtPAuA2xn9Q4tDo6ywGZWR3CcIMoEW1lFOLHALBtsZNMMCx1UssE2VqqgY4JeNvjLxqqHCQ9BJvjz49PEKoAHWGWBvz4+Pr4srFaAXZH73ZUa31K/hwK/X82wFPu/OeoXPx/WI7gSz7M9tKWev6Xmi0LzW6n5+PXrB2mEQ6n1zuvXZ8nB/tZ6Mj2xniy1/i20Xi+1v8jsh7ITemY/VGD/Vna/qb7A/rjAfr5I/aFQvaRQfadQPapU/axQva9QfbJQPbVQ/bdQvbpQfb1MP6Bs/8Leb7mRu/stUrL3h2jCI/2seutn/czPflYq0X97sl9Y18D3YaZfWLS/ae/Hery9H/sLYLTL7nTCK5EAAAAASUVORK5CYII=")}',""]),t.locals={root:"m5ozkA7a",hollow:"L5kWDKZ-"}},yRwX:function(e,t,n){},yYVe:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3vblRuQJ{position:absolute;width:.26rem;height:.26rem;margin:auto;left:0;right:0;top:0;bottom:0;-webkit-animation:_2VSYZIBr .9s linear infinite;animation:_2VSYZIBr .9s linear infinite}._3z8HdYNn{width:.36rem;height:.36rem;margin-top:.18rem}@-webkit-keyframes _2VSYZIBr{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes _2VSYZIBr{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""]),t.locals={root:"_3vblRuQJ",cuiSpinner:"_2VSYZIBr",bigger:"_3z8HdYNn"}},"yb+b":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),o=n("QILm"),i=n.n(o),c=n("q1tI"),s=n.n(c),u=(n("17x9"),n("1wry")),l=n("l6CY"),d=function(e){var t=e.mallName,n=e.mallStyle,r=i()(e,["mallName","mallStyle"]);return s.a.createElement(u.a,a()({name:Object(l.c)(t),isOfficial:!!n,background:n?"":"#FFF",style:{position:"absolute",bottom:0,left:".08rem",borderBottomLeftRadius:0,borderBottomRightRadius:0,maxWidth:"1.6rem"}},r))};d.defaultProps={mallStyle:0},t.a=d},zCF7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("J4zp"),a=n.n(r),o=n("q1tI"),i=function(e){var t=e.outerContainerRef,n=e.contentRef,r=e.minScale,i=void 0===r?.5:r,c=e.boxWidth,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=Object(o.useState)(!1),l=a()(u,2),d=l[0],p=l[1],f=Object(o.useState)(1),m=a()(f,2),h=m[0],v=m[1],g=Object(o.useState)(0),y=a()(g,2),_=y[0],b=y[1],k=Object(o.useState)(!1),w=a()(k,2),S=w[0],I=w[1];function C(){if(c){var e=parseFloat(window.getComputedStyle(document.documentElement).fontSize);return parseFloat(c)*e}return t.current.offsetWidth}function x(){var e=n.current.offsetWidth;if(0===e){var t=n.current.cloneNode(!0),r=window.getComputedStyle(n.current);r&&Object.keys(r).forEach((function(e){isNaN(e)&&(t.style[e]=r[e])})),t.style.display="",t.style.position="absolute",t.style.visibility="hidden",document.body.appendChild(t);var a=t.offsetWidth;return setTimeout((function(){return t.remove()})),a}return e}return Object(o.useEffect)((function(){var e,t=C();try{e=x()}catch(t){e=0}var n=t/e;n<1&&(v(Math.max(i,n)),I(n<i)),b(t),p(!0)}),s),{visible:d,scale:h,containerWidth:_,useMinScale:S}}},zawQ:function(e,t,n){"use strict";t.a={LINK_ACTIVATION:"/p",APK_ACTIVATION:"/p/app",LAUNCH_ACTIVATION:"/p/pre",UNIVERSAL_LINK_ACTIVATION:"/p/pre/ul"}},zwPS:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("fkZF"),o=n("KoDT"),i=n("h3qu"),c=(n("MpJ2"),1),s=2,u=3;function l(e,t){var n,a;void 0!==document.hidden?(n="hidden",a="visibilitychange"):void 0!==document.webkitHidden&&(n="webkitHidden",a="webkitvisibilitychange");var l=Date.now(),f=function(){return new Promise((function(e,t){function o(i){if(document.removeEventListener(a,o),clearTimeout(r),document[n]||i.hidden||"hidden"===document.visibilityState)return e();t(new Error("唤起App失败"))}document.addEventListener(a,o,!1),r=setTimeout((function(){return document.removeEventListener(a,o),document[n]||"hidden"===document.visibilityState||Date.now()-l>2500?e():void t(new Error("唤起App失败"))}),2e3)}))};if(t){switch(t){case u:p(e);break;case s:m(e);break;case c:d(e)}return f()}var h=navigator.userAgent.toLowerCase(),v={isIOS:Object(o.a)().system===i.b.IOS,isAndroid:/android|adr/.test(h)&&!/windows phone/.test(h),isChrome:/(?:chrome|crios)\/([\d\.]+)/.test(h),isQQ:/qq\/|mqqbrowser\/[\d\.]+/.test(h)};return v.isOriginalChrome=v.isAndroid&&v.isChrome,v.isIOS||v.isQQ?m(e):v.isOriginalChrome?d(e):p(e),f()}function d(e){window.location.href=e}function p(e){var t=document.createElement("iframe");t.src=e,t.style.display="none",document.body.appendChild(t),setTimeout((function(){document.body.removeChild(t)}),200)}var f="pdd-launch-node-".concat(Object(a.a)());function m(e){var t=document.getElementById(f);t||((t=document.createElement("a")).id=f,t.style.display="none",document.body.appendChild(t)),t.href=e,t.click()}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/pdd-web-commodity/js/react_pdd_06e123e6253c5f0d5ed3_1026.js.map