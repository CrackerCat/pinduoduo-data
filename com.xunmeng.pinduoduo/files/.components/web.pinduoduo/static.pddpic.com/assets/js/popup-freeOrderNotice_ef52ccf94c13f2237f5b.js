(self.webpackChunkmobile_fun_cashback=self.webpackChunkmobile_fun_cashback||[]).push([[87],{40356:function(e){e.exports={title:"Hi42Dc",commonFadeOut:"ASR0eY",subTitle:"_1fcdGp",amountText:"_2TjJBZ",goods:"_3VSymy",goodsLight:"_3pDuGV",goodsLightScale:"_3_hEvB",goodsContent:"_20RZhb",goodsImg:"_1Jmugz",tag:"_3pRo6U",price:"pwfunE",endTitle:"_2XXxoc",commonFadeIn:"_2u0lf8",mid:"_3J5zQ_",top:"_27Id_V",bottom:"_1Mmz6M",content:"_11_y24",btn:"_1QQMq0",desc:"_2qvOe1",left:"_11o4kv",leftGoods:"_2DXGYn",leftPrice:"_2k-vzL",right:"_1CN39C",addScale:"JX_xHG",add:"_3VAD0n",rightDesc:"btzyH5",endContainer:"_2i3ASi",initContainer:"_1rjaQW",zoomIn:"_2h1ya2",popupZoomIn:"xPY7_f",bannerLightCls:"_1dxJP_",smGoodsImg:"_3juYaZ",multiHeader:"_1O6jVa",multiTitle:"_2DKKsj",list:"_3p0Vh1",smGoods:"_1UVb4Z",smPrice:"_3caxAg",topBg:"KARpEq",bottomBg3:"_3vIb7-",underBg3:"_27C54y",pack3:"_1LOYDf",pack5:"_2zRoPn",status:"M6votb",emptyAdd:"_1GChIU",emptyBg:"_1u4C6L",underBg5:"_1w1yEa",pack:"hJe55a",rotate360:"aQwI7W",commonScaleOut:"_2Q_djy",commonScaleIn:"_12Vsgk"}},33503:function(e){e.exports={container:"P5R64q",hint:"_28kSWQ",subtitle:"_2Qj4cq",img:"_3pGSYO",amount:"_1o67hc",desc:"_7-fZYw",commonFadeIn:"_36jvXT",commonFadeOut:"_2av5gJ",rotate360:"_3LXuIv",commonScaleOut:"bO8n_T",commonScaleIn:"_3O3lmn"}},3979:function(e,t,n){"use strict";n.r(t);var r=n(75004),a=n(47750),o=n(80217),c=n(897),l=n.n(c),s=n(40356),i=n.n(s),m=n(67996),u=n(738),d=n(54669),_=n(31894),E=n(28064),g=n(69017),p=n(16374),f=n(15001),v=n(50806),h=n(80373),b=n(60565),y=n(98534),N=n(72377),S=n(58303),C=n(68648);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],c=!0,l=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(){return(0,v.oy)(!0)},k=(0,h.Z5)((0,a.Pi)((function(){var e,t,n,a=O((0,r.useState)({moveX:0,moveY:0,scaleX:0,scaleY:0,showMove:!1}),2),c=a[0],s=a[1],v=O((0,r.useState)("light"),2),h=v[0],Z=v[1],k=O((0,r.useState)(!1),2),w=k[0],D=k[1],F=O((0,r.useState)(!1),2),I=F[0],x=F[1],P=(0,u.AG)(),T=P.popupQueueStore,G=P.freeOrderStore,B=P.globalStore,j=G.freeOrderInfo,M=G.freeOrderProgress,U=(null==j?void 0:j.targetAmount)||(null==M?void 0:M.length)+1,L=(null==j?void 0:j.currentAmount)||(null==M?void 0:M.length),Y=3===U,X=5===U;(0,y.KS)((function(){(0,p.um)("#cashbackFreeOrderNoticeStart","#cashbackFreeOrderNoticeEnd").then((function(e){var t=e||{},n=t.moveX,r=t.moveY,a=t.head,o=t.end,c=a||{},l=c.width,i=c.height,m=o||{},u=m.width,d=m.height;s({moveX:n,moveY:r,scaleX:u/l,scaleY:d/i,showMove:!0})}))}),1330),(0,y.KS)((function(){Z("none")}),1625),(0,y.KS)((function(){D(!0)}),1792),(0,y.KS)((function(){x(!0)}),2810),(0,r.useEffect)((function(){var e,t;null!==(e=B.popups)&&void 0!==e&&e.find((function(e){return e.id===N.$Z.FREE_ORDER_GUIDE_FROM_GROUP}))&&(0,S.TA)({tipsIds:[N.$Z.FREE_ORDER_GUIDE_FROM_GROUP],businessType:C._f.POPUP}),null!==(t=B.popups)&&void 0!==t&&t.find((function(e){return e.id===N.$Z.FREE_ORDER_GUIDE_AFTER_HOME_ORDER}))&&(0,S.TA)({tipsIds:[N.$Z.FREE_ORDER_GUIDE_AFTER_HOME_ORDER],businessType:C._f.POPUP})}),[]);var $,z=function(){T.close("showFreeOrderNotice")},Q=function(){z(),(0,f.C3)(R)},V=(null==j||null===(e=j.extMap)||void 0===e||null===(t=e.orderList)||void 0===t?void 0:t[0])||{},H=V.thumbUrl,J=void 0===H?"":H,K=V.orderAmount,q=null!==(n=1e3*(null==j?void 0:j.expireTime))&&void 0!==n?n:Date.now()+432e6,W=O((0,b.Z)({targetDate:q,onEnd:R}),2)[1].timeDayStr,ee=c.showMove,te=c.moveX,ne=c.moveY,re=c.scaleX,ae=c.scaleY;return r.createElement(o.Z,{onClose:z,bgLight:h,wrapperCls:i().zoomIn,bannerLightCls:i().bannerLightCls,showBannerLight:w,closeIconStyle:{top:(0,g.S)(-174)}},Y||X?r.createElement(r.Fragment,null,r.createElement("div",{className:i().multiHeader},r.createElement(m.Z,{text:"拼".concat(U,"单, 免1单")})),r.createElement("div",{className:l()(i().pack,($={},A($,i().pack3,Y),A($,i().pack5,X),$))},Y&&r.createElement(r.Fragment,null,r.createElement("img",{className:i().bottomBg3,src:(0,_.RZ)("redpacket_bottom_bg_3")}),r.createElement("img",{className:i().underBg3,src:(0,_.RZ)("redpacket_under_bg_3")})),X&&r.createElement(r.Fragment,null,r.createElement("img",{className:i().bottomBg3,src:(0,_.RZ)("redpacket_bottom_bg_3")}),r.createElement("img",{className:i().underBg5,src:(0,_.RZ)("redpacket_under_bg_5")})),r.createElement("div",{className:i().multiTitle},r.createElement(E.DD,{text:"再拼".concat(U-L,"单，以下商品<#E02E24#必免1单>")})),r.createElement("div",{className:i().list},null==M?void 0:M.map((function(e){var t=e.goodsAmount,n=e.thumbUrl;return r.createElement("div",{className:i().smGoods},r.createElement("img",{src:n,className:i().smGoodsImg}),r.createElement("div",{className:i().smPrice},"¥",(0,d.Ct)(t)))})),r.createElement("div",{className:i().smGoods},r.createElement("img",{className:i().emptyBg,src:(0,_.RZ)("multi_order_empty_goods")}),r.createElement("img",{src:(0,_.RZ)("free_order_empty_add"),className:i().emptyAdd}),r.createElement("div",{className:i().status},"待拼1单"))),Y||X?r.createElement("img",{className:i().topBg,src:(0,_.E$)("cashback_order_free_notice_top")}):null,r.createElement(E.un,{onClick:Q,showFinger:!0,customCls:i().btn,width:250,color:"gradient",text:"去拼单，享免单"}))):r.createElement(r.Fragment,null,r.createElement("div",{className:i().initContainer},r.createElement("div",{className:l()(i().title)},r.createElement(m.Z,{textArr:[["恭喜获得"],["拼2单免1单"],["特权"]]})),r.createElement("div",{className:l()(i().subTitle)},r.createElement(m.Z,{text:"你近期已有"}),r.createElement("span",{className:i().amountText},r.createElement(m.Z,{text:"1",start:"#FFEBA6",end:"#FFDB3C"})),r.createElement(m.Z,{text:"单",start:"#FFEBA6",end:"#FFDB3C"}),r.createElement(m.Z,{text:"订单被计为有效订单"})),r.createElement("div",{className:i().goods},r.createElement("img",{src:(0,_.E$)("cashback_order_free_notice_goods_light_v2"),className:i().goodsLight}),r.createElement("div",{className:i().goodsContent,id:"cashbackFreeOrderNoticeStart",style:ee?{transform:"translate3d(".concat(te,"px, ").concat(ne,"px, 0) scale(").concat(re,", ").concat(ae,")")}:{}},r.createElement("img",{src:J,className:i().goodsImg}),r.createElement("div",{className:i().tag},"有效订单"),r.createElement("div",{className:i().price},r.createElement("span",{className:i().unit},"¥"),(0,d.Ct)(K))))),r.createElement("div",{className:i().endContainer},r.createElement("div",{className:i().endTitle},r.createElement(m.Z,{textArr:[["再拼1单，以下商品"],["必免1单"]]})),r.createElement("div",{className:i().content},r.createElement("div",{className:i().desc},r.createElement(E.DD,{text:"距活动结束仅剩<#E02E24#".concat(W,">")})),r.createElement("img",{src:(0,_.E$)("cashback_order_free_notice_bottom"),className:i().bottom}),r.createElement("img",{src:(0,_.E$)("cashback_order_free_notice_mid"),className:i().mid}),r.createElement("img",{src:(0,_.E$)("cashback_order_free_notice_top"),className:i().top}),r.createElement("div",{className:i().left,id:"cashbackFreeOrderNoticeEnd"},r.createElement("img",{className:i().leftGoods,src:J}),r.createElement("div",{className:i().leftPrice},"¥",(0,d.Ct)(K))),r.createElement("div",{className:i().right},r.createElement("img",{src:(0,_.E$)("cashback_order_free_notice_add"),className:i().add}),r.createElement("div",{className:i().rightDesc},"待拼1单")),r.createElement(E.un,{text:"去拼单，享免单",size:"md",customCls:i().btn,showFinger:I,onClick:Q})))))})));t.default=k},36478:function(e,t,n){"use strict";n.r(t);var r=n(75004),a=n(738),o=n(80217),c=n(33503),l=n.n(c),s=n(47750),i=n(80373),m=n(67996),u=n(38091),d=n(31894),_=n(35287),E=n(69804),g=n(69017),p=n(77356),f=n(54669),v=n(60565),h=n(50806);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],c=!0,l=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e,t,n,a){var o=b((0,v.Z)({targetDate:1e3*t,serverTime:n,onEnd:h.oy}),2)[1].timeStr,c=a?[["太幸运了，恭喜获得"],["".concat((0,f.Ct)(e),"元优惠券")]]:[["领取成功，获得"],["".concat((0,f.Ct)(e),"元优惠券")]];return r.createElement("div",{className:l().hint},r.createElement(m.Z,{textArr:c}),r.createElement("div",{className:l().subtitle},r.createElement(m.Z,{textArr:[["距过期仅剩"],["".concat(o)]]})))},S={top:(0,g.Z)(-132)};t.default=(0,i.Z5)((0,s.Pi)((function PersonalCouponPopup_BIMD(){var e=(0,a.AG)(),t=e.popupQueueStore,n=e.globalStore,c=e.grayStore.autoGainPersonalCoupon,s=(t.getPopupData("showPersonalCouponPopup")||{}).coupon,i=void 0===s?{}:s,m=i.minAmount,g=i.discount,h=i.endTime,y=function(){t.close("showPersonalCouponPopup"),(0,p.a)()},C=b((0,v.Z)({targetDate:Date.now()+3100,onEnd:y}),2)[1].seconds;return r.createElement(o.Z,{onClose:y,hint:N(g,h,n.serverTime,c),closeIconStyle:S,bgLight:"light"},r.createElement("div",{className:l().container},r.createElement(u.Z,{src:(0,d.p2)("personal_coupon_gain"),className:l().img}),r.createElement("div",{className:l().amount},r.createElement(_.Z,{textArr:[[(0,f.Ct)(g),48,35],["元",24]]})),r.createElement("div",{className:l().desc},"满",(0,f.Ct)(m),"可用")),r.createElement(E.Z,{showFinger:!0,width:290,size:"md",color:"red",text:"立即收下, 去使用（".concat(C,"秒）"),top:32,onClick:y}))})))}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-fun-cashback/js/popup-freeOrderNotice_ef52ccf94c13f2237f5b.js.map