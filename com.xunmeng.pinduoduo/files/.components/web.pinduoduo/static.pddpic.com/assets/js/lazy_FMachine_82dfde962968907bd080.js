(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"qjpg":function(e,t,a){"use strict";a.r(t);var n,o,c,l,i,r,u=a("V6Hk"),d=a("brQG"),s=a("p5LO"),m=a("a3ss"),h=a("1OyB"),f=a("vuIU"),b=a("JX7q"),p=a("Ji7U"),v=a("LK+K"),O=a("rePB"),E=a("Y65e"),g=(a("+JCI"),a("q1tI")),F=a.n(g),w=a("TyAF"),j=a("TSYQ"),C=a.n(j),N=a("q0O3"),k=a("TRXh"),A=a("AOm3"),y=a("tSAD"),x=a("PS6B"),D=a("SLG6"),T=a("Rn0b"),I=a("bmJN"),M=a("ce6H"),S=a("SATD"),_=(a("wV39"),Object(w.observer)(n=function(e){Object(p.default)(FoodBagIcon,e);var t=Object(v.default)(FoodBagIcon);function FoodBagIcon(){var e;Object(h.default)(this,FoodBagIcon);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),Object(O.default)(Object(b.default)(e),"onClick",(function(e){e.stopPropagation(),e.preventDefault(),M.a.collectFoodBag()})),e}return Object(f.default)(FoodBagIcon,[{"key":"render","value":function render(){var e=(M.a.foodCollectionInfo||{}).canCollect;return void 0!==e&&e&&F.a.createElement(s.a,{"onClick":this.onClick,"className":C()("foodBag w-130 h-130 absolute left-140 top-0 bg-init",{"no-ani":S.a.isLowEndDevice})})}}]),FoodBagIcon}(g.Component))||n),G=a("ODXe"),B=Object(w.observer)(o=function(e){Object(p.default)(FoodMachineJumpNum,e);var t=Object(v.default)(FoodMachineJumpNum);function FoodMachineJumpNum(){var e;Object(h.default)(this,FoodMachineJumpNum);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),Object(O.default)(Object(b.default)(e),"parseFoodAmount",(function(e){for(var t=e.toFixed(2).split("."),a=Object(G.default)(t,2),n=a[0],o=void 0===n?"":n,c=a[1],l=void 0===c?"":c,i=o.length;i<3;i++)o="0"+o;return[o.slice(0,3).split(""),l.slice(0,2).split("")]})),e}return Object(f.default)(FoodMachineJumpNum,[{"key":"render","value":function render(){var e=M.a.foodAmount,t=this.parseFoodAmount(e),a=Object(G.default)(t,2),n=a[0],o=void 0===n?[]:n,c=a[1],l=void 0===c?[]:c;return F.a.createElement(F.a.Fragment,null,F.a.createElement(s.a,{"className":"absolute bottom-14 text-30 text-white text-center right-108 w-90 leading-42 fl-xy ff-s"},F.a.createElement(s.a,{"className":"w-28 h-38","key":"l1"},o[0]),F.a.createElement(s.a,{"className":"w-28 h-38","key":"l2"},o[1]),F.a.createElement(s.a,{"className":"w-28 h-38","key":"l3"},o[2])),F.a.createElement(s.a,{"className":"absolute bottom-14 right-44 text-30 text-white text-center leading-42 fl-xy ff-s"},F.a.createElement(s.a,{"className":"w-28 h-38","key":"r1"},l[0]),F.a.createElement(s.a,{"className":"w-28 h-38","key":"r2"},l[1])))}}]),FoodMachineJumpNum}(g.Component))||o,R=a("B21c"),U=a("V9A7"),J=a("4bvG"),L=a("/1Zt"),P=a("fCYF"),H=a("CmQz"),K=a("1oWy"),W=(a("xhca"),c=Object(J.b)(800),Object(w.observer)((i=function(e){Object(p.default)(FoodMachine,e);var t=Object(v.default)(FoodMachine);function FoodMachine(){var e;Object(h.default)(this,FoodMachine);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),Object(O.default)(Object(b.default)(e),"state",{"showGuideFinger":!1}),Object(m.a)(Object(b.default)(e),"handleClick",r,Object(b.default)(e)),Object(O.default)(Object(b.default)(e),"handleEventClick",(function(){var t=M.a.currentEventStatus,a=M.a.machineData,n=M.a.lastEventTime,o=a.minStayTime,c=void 0===o?0:o;if(!((Date.now()-n)/1e3<c)){if(M.a.updateLastEventTime(),t===A.a.ADD_FOOD){M.a.setTimeFlip(!1),M.a.hideEventCard();var l=(M.a.randomFoodEvent||{}).toast,i=void 0===l?"":l;return M.a.updateFixAnimationStatus(),void e.addFoodMachineAmount().then((function(e){var t=(e||{}).rewardAmount;setTimeout((function(){M.a.startFastTimer(t)}),600),k.a.showToast(i)}))}t!==A.a.GO_FEED?t!==A.a.ADD_SPEED&&t!==A.a.SHORT_SPEED&&t!==A.a.BROWSE_GAIN_OIL||(M.a.setTimeFlip(!1),M.a.showEventPop()):D.a.setWeakGuide(T.b.GUIDE_FOOD_ICON)}})),Object(O.default)(Object(b.default)(e),"handleMachineStart",(function(){N.default.foodMachineStart().then((function(){M.a.showEventPop()}))})),Object(O.default)(Object(b.default)(e),"handleFullTipClick",(function(){D.a.setWeakGuide(T.b.FOOD_MACHINE),e.setState({"showGuideFinger":!0})})),Object(O.default)(Object(b.default)(e),"handleRepair",(function(){M.a.toggleFMRepairPop.open({"source":H.e.CLICK})})),Object(O.default)(Object(b.default)(e),"getRandomEventIcon",(function(){var e=M.a.currentEventStatus,t=M.a.randomFoodEvent;return e===A.a.ADD_FOOD?t.eventIcon||"":(A.b[e]||{}).eventIcon})),Object(O.default)(Object(b.default)(e),"renderRandomAnimation",(function(){var e=M.a.randomFoodEvent||{},t=e.animationType,a=void 0===t?"":t,n=e.eventIcon,o=void 0===n?"":n,c="Animation"+a,l=Object(x.g)(o);return o&&F.a.createElement(s.a,{"className":C()("w-72 h-60 absolute bg-init",c),"style":{"backgroundImage":"url(".concat(l,")")}})})),e}return Object(f.default)(FoodMachine,[{"key":"componentWillUnmount","value":function componentWillUnmount(){M.a.stopRegularTimer(),M.a.stopFastTimer()}},{"key":"addFoodMachineAmount","value":function addFoodMachineAmount(){return M.a.setStaticAmount(),N.default.addFoodMachineAmount().then((function(e){var t=(e||{}).rewards,a=void 0===t?[]:t;return M.a.setTimeFlip(),a[0]||{}}))}},{"key":"render","value":function render(){var e=this.state.showGuideFinger,t=M.a.needFeedCount,a=M.a.currentEvent,n=M.a.machineData,o=M.a.currentEventStatus,c=M.a.showFixAnimation,l=M.a.machineSpeedUp,i=M.a.canShowEventCard,r=M.a.foodPercent,m=n||{},h=m.status,f=void 0===h?L.g.UNLOCK:h,b=m.isHighSpeed,p=void 0!==b&&b,v=m.needUserTrigger,O=void 0!==v&&v,E=D.a.weakGuide,g=K.a.pageIsVisible,w=t<=0&&f===L.g.UNLOCK,j=this.getRandomEventIcon(),N=i&&a&&j,k=e&&E===T.b.FOOD_MACHINE,S=l&&r<1;return F.a.createElement(s.a,{"className":"foodMachineWrapper absolute text-30"},F.a.createElement(s.a,{"className":"machine w-220 h-190 relative bg-init","onClick":this.handleClick},F.a.createElement(s.a,{"className":"w-76 h-44 absolute right-22 bottom-54 overflow-hidden"},w&&F.a.createElement(y.a,{"className":C()("foodStack w-full h-338",{"p1":r>=.25,"p2":r>=.5,"p3":r>=.75}),"src":Object(x.g)("food_stack_v2")})),F.a.createElement(s.a,{"className":C()("machineBody w-126 h-128 absolute bottom-54 left-16 z-0 bg-init",{"maxSpeed":(p||S)&&g,"normalSpeed":w&&g})},F.a.createElement(s.a,{"className":"spinner w-92 h-92 absolute left-0 bottom-10 bg-init animate-stop"}),g&&F.a.createElement(s.a,{"className":"foodDrop w-97 h-103 absolute left-106 bottom-0 bg-init"})),F.a.createElement(s.a,null,F.a.createElement(B,null)),c&&this.renderRandomAnimation()),F.a.createElement(_,null),f!==L.g.UNLOCK?F.a.createElement(P.a,{"bg":Object(x.g)("machine_toptip_v1"),"className":"w-84 h-98 absolute -top-100 left-20 py-12 px-6","onClick":this.handleRepair},F.a.createElement(y.a,{"className":"w-72 h-60","src":Object(x.g)("fm_event_repair")})):F.a.createElement(F.a.Fragment,null,O&&F.a.createElement(s.a,{"className":"bubbleTip w-128 h-98 absolute -top-100 p-8 text-24 text-center ff-m bg-init","onClick":this.handleFullTipClick},F.a.createElement(s.a,null,"点击启动"),F.a.createElement(s.a,null,"生产饲料")),!O&&t>0&&F.a.createElement(s.a,{"className":"bubbleTip w-154 h-98 absolute -top-100 p-8 text-24 text-center ff-m bg-init"},F.a.createElement(s.a,null,"再喂",F.a.createElement(d.a,{"className":"text-fb7"},t),"次"),F.a.createElement(s.a,null,"启动饲料机")),N&&(o===A.a.GO_FEED?F.a.createElement(s.a,{"className":"bubbleTip w-128 h-98 absolute -top-100 p-8 text-24 text-center ff-m bg-init","onClick":this.handleEventClick},F.a.createElement(s.a,null,"喂食",F.a.createElement(d.a,{"className":"text-fb7"}," ",a.needFeedCount," "),"次"),F.a.createElement(s.a,null,"加速生产")):F.a.createElement(s.a,{"className":"eventBubble w-84 h-98 absolute -top-100 left-20 py-12 px-6 bg-init","onClick":this.handleEventClick},F.a.createElement(y.a,{"className":"w-72 h-60","src":Object(x.g)(j)}))),r>=1&&F.a.createElement(s.a,{"className":"canGain w-140 h-110 absolute -top-110 left-10 p-8 pt-15 text-24 text-center ff-m bg-init","onClick":this.handleFullTipClick},F.a.createElement(s.a,null,"饲料爆满"),F.a.createElement(s.a,null,"尽快收取"))),k&&F.a.createElement(u.a,{"style":{"left":Object(I.a)(100),"top":Object(I.a)(70),"zIndex":10}}))}}]),FoodMachine}(g.Component),r=Object(E.a)(i.prototype,"handleClick",[c],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){var e=this;return function(){Object(R.a)(U.a.foodMachineClick),e.setState({"showGuideFinger":!1}),D.a.resetWeakGuide();var t=M.a.machineData,a=M.a.currentEventStatus,n=t||{},o=n.needUserTrigger,c=n.canRewardAmount,l=n.status;(void 0===l?L.g.UNLOCK:l)===L.g.UNLOCK?a===A.a.MACHINE_OFF&&o?e.handleMachineStart():a!==A.a.MACHINE_OFF||o?M.a.machineCanDraw?M.a.machineCanDraw&&N.default.gainFoodMachineAmount().then((function(){M.a.stopFastTimer(),M.a.startRegularTimer()})):k.a.showToast("还不能领取哦，满".concat(c,"g可领取")):M.a.showEventPop():e.handleRepair()}}}),l=i))||l);t.default=W},"wV39":function(e,t,a){},"xhca":function(e,t,a){}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-ranch/js/lazy_FMachine_82dfde962968907bd080.js.map