(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[9],{gouW:function(e,a,t){"use strict";t.r(a);var r=t("dKgK"),s=t("a/1V"),h=t("chhR"),i=t("EECB"),n=t("YSLc"),_=t("W9H9"),S=t("gfNA"),E=t("Upw4"),l=t("Ne86");class o extends S.a{normalize(e){return e===s.a.COPY_CIPHER?this.processCipher():new Promise(((a,t)=>{const r=Object.assign({},this);Object(E.a)(e)?(this.targetShareURL=Object(l.b)(e,r.shareURL),this.realShareURL=this.targetShareURL,a({title:r.title,desc:r.message,share_url:this.realShareURL,image_url:r.thumbnailURL,back:!0})):a({title:r.title,desc:r.message,share_url:r.shareURL,image_url:r.thumbnailURL,back:!0})}))}getShareForm(e){return e===s.a.COPY_LINK?_.a.COPY_LINK:e===s.a.COPY_CIPHER?_.a.COMMAND:_.a.CARD}getShareMethod(e){return e===s.a.COPY_LINK||e===s.a.COPY_CIPHER?n.a.MANUAL:n.a.SDK}}var u=o,T=t("/bZk");const{ShareErrorCode:m}=T.b,C=[s.a.QQ_CHAT_SESSION,s.a.QQ_ZONE,s.a.WECHAT_SESSION,s.a.WECHAT_TIMELINE,s.a.COPY_LINK,s.a.COPY_CIPHER],O={[s.a.QQ_CHAT_SESSION]:0,[s.a.QQ_ZONE]:1,[s.a.WECHAT_SESSION]:2,[s.a.WECHAT_TIMELINE]:3},p={[s.a.QQ_CHAT_SESSION]:"menuItem:share:qq",[s.a.QQ_ZONE]:"menuItem:share:QZone",[s.a.WECHAT_SESSION]:"menuItem:share:appMessage",[s.a.WECHAT_TIMELINE]:"menuItem:share:timeline"};class c extends r.a{constructor(e){super(e),this.ShareEntityClass=u,this._enableShareTypes=C.concat()}share(e){if(this._enableShareTypes.indexOf(e)<0)return m.SHARE_TYPE_DISABLED;if(s.a.COPY_CIPHER===e)return this.copyCipher();if("undefined"==typeof mqq||void 0===window.mqq.ui)return m.SHARE_NOT_SUPPORTED;const a=this.getShareEntityByShareType(e);return this.emit(h.a.ON_SHARE_TRIGGER,{shareType:e}),a.normalize(e).then(((a={})=>{a.share_type=O[e],window.mqq.ui.shareMessage(a,this.createShareCallback(e))}),this.getNormalizeErrorHandler(e)),0}_adjustMenu(){const e=C.filter((e=>this._enableShareTypes.indexOf(e)<0)).map((e=>p[e]));window.mqq&&window.mqq.hideMenuItems({menuList:e})}createShareCallback(e){return(a={})=>{switch(parseInt(a.retCode,10)){case 0:this.emit(h.a.ON_SHARE_COMPLETED,{shareType:e,shareResultType:i.a.SUCCESS});break;case 1:case-2:this.emit(h.a.ON_SHARE_COMPLETED,{shareType:e,shareResultType:i.a.CANCEL});break;default:this.emit(h.a.ON_SHARE_COMPLETED,{shareType:e,shareResultType:i.a.FAIL})}}}_setupShareTypes(){const e=this._enableShareTypes.length;return this._enableShareTypes=C.filter((e=>(this.disableShareTypes||[]).indexOf(e)<0)),e===this._enableShareTypes.length}_setupPlatformShareSDK(){return"undefined"==typeof mqq||void 0===window.mqq.ui?(this.emit(h.a.SDK_INIT_FAILED),Promise.resolve()):(window.mqq.ui.setOnShareHandler((e=>{const a=C[parseInt(e,10)],t=this.getShareEntityByShareType(a);t&&p[a]&&(this.emit(h.a.ON_SHARE_TRIGGER,{shareType:a}),t.normalize(a).then(((t={})=>{t.share_type=e,window.mqq.ui.shareMessage(t,this.createShareCallback(a))}),this.getNormalizeErrorHandler(a)))})),Promise.resolve())}checkShareTypeEnable(e){return this._enableShareTypes.indexOf(e)<0?m.SHARE_TYPE_DISABLED:0}}c.SUPPORTED_SHARE_TYPE=C;a.default=c}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-best-goods/js/ms_qq_c_55b322be6d117b913b3a.module.js.map