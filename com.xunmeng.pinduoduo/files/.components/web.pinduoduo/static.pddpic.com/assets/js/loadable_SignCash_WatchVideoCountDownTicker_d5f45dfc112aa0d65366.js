(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[63],{P5Hm:function(e,t,r){"use strict";r.r(t);var n=r("lSNA"),o=r.n(n),c=r("J4zp"),i=r.n(c),u=r("FdF9"),a=r("qg0D"),s=r("6xTs"),d=r("9H8l"),f=r("Zujm"),O=r("LyAW"),b=r("IkW8"),h=r("wWv4"),l=r("zjbs"),p=r("1j0d");function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){o()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y=function(e){var t=e.watchedRecords,r=e.setWatchVideoRecords,n=a.c.useAtom(),c=i()(n,2),b=c[0],h=b.missionExt,j=b.totalWatchVideoCount,y=c[1].setWatchedCount,W=Object(u.useRef)(!1),A=Object(s.d)(),C=Object(f.a)(A),D=O.c.useActions().showBubble,_=l.c.useActions().getPendantElByType,m=h.needWatchVideoCount;return Object(u.useEffect)(function(){if(j!==m){var e=A.playId,n=A.currentVideoWatchTime,c=A.duration;if(!t[e]&&(n>3e3||n>c))return r(w(w({},t),{},o()({},e,!0))),void y(j+1);var i=C.current||{},u=i.playId,a=i.duration,s=i.currentVideoWatchTime;u&&u!==e&&!W.current&&!t[u]&&a>=3e3&&s<3e3&&(W.current=!0,_(p.i.DailyWeChatCash).then(function(e){D({type:d.b.CASHCAT_SIGN,text:"滑动太快了",subText:"多看会视频吧",showPeriod:6e3,priority:-100,targets:[e],onDestory:function(){W.current=!1}})}))}},[A,t,C]),null};t.default=function(){var e=a.c.useAtom(),t=i()(e,2),r=t[0],n=r.missionExt,o=r.totalWatchVideoCount,c=t[1],s=c.setValue,d=c.operateMission,f=n.needWatchVideoCount,O=Object(u.useState)({}),l=i()(O,2),p=l[0],j=l[1],w=Object(h.a)(b.c.Sign);return Object(u.useEffect)(function(){o===f&&d().then(function(e){e&&e.rewardCount?s({isShowWatchVideoReward:!0,rewardCount:e.rewardCount}):s({isStartWatchVideoTask:!1})})},[o,f]),!w&&u.default.createElement(y,{watchedRecords:p,setWatchVideoRecords:j})}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-video-layer/js/loadable_SignCash_WatchVideoCountDownTicker_d5f45dfc112aa0d65366.js.map