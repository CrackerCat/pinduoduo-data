(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[33],{CYP8:function(e,t,n){"use strict";n.r(t);var r=n("yXPU"),o=n.n(r),c=n("J4zp"),i=n.n(c),a=n("lSNA"),u=n.n(a),s=n("o0o1"),l=n.n(s),p=n("q1tI"),f=n.n(p),b=n("TyAF"),v=n("O2NP"),O=n("uPKN"),h=n("pXFi"),d=n("wm9J"),w=n("56rA"),_=n("HAEU"),m=Object(_.b)((function(){return n.e(37).then(n.bind(null,"tpTN"))})),j=Object(_.b)((function(){return n.e(35).then(n.bind(null,"T1UW"))})),y=Object(_.b)((function(){return n.e(38).then(n.bind(null,"/D4a"))})),g=n("Vpw8"),E=Object(g.a)(b.observer)((function(e){var t=e.$service,n=e.roomId,r=Object(p.useState)(0),c=i()(r,2),a=c[0],u=c[1],s=Object(p.useState)(1e3),f=i()(s,2),b=f[0],O=f[1],h=Object(v.k)().store,d=h.isMall,_=h.fansGroupStore,m=void 0===_?{}:_,j=m.completeMission,y=m.getFansGroupInfo,g=function(){var e=o()(l.a.mark((function e(t){var n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?w.n.WatchLiveV3:d?w.n.NewWatchLiveMall:w.n.NewWatchLive,r={mission_code:n,operate_type:w.a.Both},o={defaultErrorHandler:function(){}},e.next=5,j(r,o);case 5:y({request_type:w.p.WatchNew});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=o()(l.a.mark((function e(){var r,o,c,i,a,u,s,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getEntrance({room_id:n});case 2:if(r=e.sent,o=(null==r?void 0:r.result)||{},c=o.has_open,i=o.has_favor,a=o.has_get_max_level,u=o.watch_live_day_times,s=o.current_watch_times,p=o.receive_task_switch,!c||!i||a){e.next=9;break}if(!(s>=u)){e.next=8;break}return O(null),e.abrupt("return");case 8:p&&s+1===u?O(null):g(p);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.d)((function(){var e=a+1;if(e%60==0)try{E()}catch(e){}u(e)}),b),null}));function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=Object(b.observer)((function(){var e=Object(v.k)().store,t=e.fansGroupStore,n=void 0===t?{}:t,r=e.getFollowStatus,c=n.isShowMissionListPopup,a=n.$service,u=n.roomId,s=n.openMissionListPopup,b=n.updateIsNeedAutoSign,_=Object(p.useState)(!1),g=i()(_,2),P=g[0],N=g[1];return Object(v.g)("LiveRichTextNotification",function(){var e=o()(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("LiveRichTextNotification:",t),"fans_sign"!==(null==t?void 0:t.type)){e.next=7;break}return e.next=4,r();case 4:n=e.sent,b(!0),n?s():N(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(v.l)((function(){var e;e=L(L({},w.i),{},{BANNER_IMG:w.b}),Object(h.a)(Object.keys(e).map((function(t){return Object(O.c)({src:e[t],cdnOptimize:{webpEnable:d.a.webpEnable}}).optimisedSrc})))}),1e3),f.a.createElement(f.a.Fragment,null,c&&f.a.createElement(y,null),P&&f.a.createElement(m,{onClose:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&b(!1),N(!1)},openMissionListPopup:s}),f.a.createElement(E,{$service:a,roomId:u}),f.a.createElement(j,null))}))},pXFi:function(e,t,n){"use strict";t.a=function(e){var t=[];return Promise.all([].concat(e).map((function(e){return function e(t,n,r,o){if(t)return new Promise((function(c){if(n){o=o||c;var i=new Image;i.onload=o,i.onerror=function(){e(t,n-1,r,o)},i.src=t}else r.push(t),o()}))}(e,2,t,null)}))).then((function(){return t}))}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_LiveActivityPop_FansGroupNewName_f1d5ca1b4c84fbc45c98.js.map