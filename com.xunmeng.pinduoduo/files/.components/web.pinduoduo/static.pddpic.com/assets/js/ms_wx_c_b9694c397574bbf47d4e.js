(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[14],{EP3j:function(e,a,t){"use strict";t.r(a);var r,n=t("lwsE"),h=t.n(n),i=t("W8MJ"),s=t.n(i),u=t("a1gu"),S=t.n(u),l=t("Nsbk"),o=t.n(l),E=t("7W2i"),_=t.n(E),c=t("lSNA"),f=t.n(c),C=t("dKgK"),m=t("a/1V"),p=t("chhR"),T=t("EECB"),y=t("YSLc"),R=t("W9H9"),L=t("gfNA"),A=t("Upw4"),O=t("Ne86"),I=function(e){function a(){return h()(this,a),S()(this,o()(a).apply(this,arguments))}return _()(a,e),s()(a,[{key:"normalize",value:function(e){var a=this,t=Object.assign({},this);return e===m.a.COPY_CIPHER?this.processCipher():new Promise(function(r,n){var h=t.shareURL;a.targetShareURL=a.shareURL,a.realShareURL=a.shareURL,a.useShortURL=!1,e===m.a.WECHAT_TIMELINE||e===m.a.WECHAT_SESSION?Object(O.d)(t).then(function(e){var n=e.realShareURL,h=e.targetShareURL,i=e.useShortURL;a.useShortURL=i,a.targetShareURL=h,a.realShareURL=n,r({title:t.title,desc:t.message,imgUrl:t.thumbnailURL,link:n})},function(){}):Object(A.a)(e)?(a.targetShareURL=Object(O.b)(e,h),a.realShareURL=a.targetShareURL,r({title:t.title,desc:t.message,imgUrl:t.thumbnailURL,link:a.realShareURL})):r({title:t.title,desc:t.message,imgUrl:t.thumbnailURL,link:h})})}},{key:"getShareForm",value:function(e){return e===m.a.COPY_CIPHER?R.a.COMMAND:R.a.CARD}},{key:"getShareMethod",value:function(e){return e===m.a.COPY_CIPHER?y.a.MANUAL:y.a.SDK}}]),a}(L.a),g=t("/bZk").b.ShareErrorCode,N=(r={},f()(r,m.a.WECHAT_SESSION,{name:"onMenuShareAppMessage",tag:"menuItem:share:appMessage"}),f()(r,m.a.WECHAT_TIMELINE,{name:"onMenuShareTimeline",tag:"menuItem:share:timeline"}),f()(r,m.a.QQ_CHAT_SESSION,{name:"onMenuShareQQ",tag:"menuItem:share:qq"}),f()(r,m.a.QQ_ZONE,{name:"onMenuShareQZone",tag:"menuItem:share:QZone"}),f()(r,m.a.TENCENT_WEIBO,{name:"onMenuShareWeibo",tag:"menuItem:share:weiboApp"}),r),v=[m.a.WECHAT_SESSION,m.a.WECHAT_TIMELINE,m.a.QQ_CHAT_SESSION,m.a.QQ_ZONE,m.a.TENCENT_WEIBO,m.a.COPY_CIPHER],P=function(e){function a(e){var t;return h()(this,a),(t=S()(this,o()(a).call(this,e))).ShareEntityClass=I,t._enableShareTypes=v.concat(),t}return _()(a,e),s()(a,[{key:"share",value:function(e){return e===m.a.COPY_CIPHER?this.copyCipher():g.SHARE_ACTION_DISABLE}},{key:"refreshShare",value:function(e,a){var t=this;return e?a?(this.shareEntityMap[a]=e,"undefined"==typeof wx?(this.emit(p.a.SDK_INIT_FAILED),Promise.resolve()):this.refreshWeChatChannelShare(a)):(this.shareEntity=e,this._enableShareTypes.forEach(function(a){t.shareEntityMap[a]=t.createShareEntity(e,a)}),this._setupPlatformShareSDK()):Promise.resolve()}},{key:"_setupShareTypes",value:function(){var e=this,a=this._enableShareTypes.length;return this._enableShareTypes=v.filter(function(a){return e.disableShareTypes.indexOf(a)<0}),a===this._enableShareTypes.length}},{key:"_setupPlatformShareSDK",value:function(){var e=this;return"undefined"==typeof wx?(this.emit(p.a.SDK_INIT_FAILED),Promise.resolve()):Promise.all(this._enableShareTypes.map(function(a){e.refreshWeChatChannelShare(a)}))}},{key:"_adjustMenu",value:function(){var e=this,a=v.filter(function(a){return e._enableShareTypes.indexOf(a)<0}).map(function(e){return N[e].tag});window.wx&&window.wx.hideMenuItems({menuList:a})}},{key:"refreshWeChatChannelShare",value:function(e){var a=N[e];return a?this._setupWeChatChannelShare(e,a.name):Promise.resolve()}},{key:"_setupWeChatChannelShare",value:function(e){var a=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!window.wx||"function"!=typeof window.wx[t])return Promise.resolve();var r=this.shareEntityMap[e]||this.shareEntity;return r?(this.emit(p.a.ON_SHARE_PREPARE,{shareType:e}),r.normalize(e).then(function(r){var n=Object.assign({trigger:function(){a.emit(p.a.ON_SHARE_TRIGGER,{shareType:e})},success:function(){a.emit(p.a.ON_SHARE_COMPLETED,{shareType:e,shareResultType:T.a.SUCCESS}),a.refreshWeChatChannelShare(e)},fail:function(){a.emit(p.a.ON_SHARE_COMPLETED,{shareType:e,shareResultType:T.a.FAIL}),a.refreshWeChatChannelShare(e)},cancel:function(){a.emit(p.a.ON_SHARE_COMPLETED,{shareType:e,shareResultType:T.a.CANCEL}),a.refreshWeChatChannelShare(e)}},r);window.wx[t](n)},this.getNormalizeErrorHandler(e))):Promise.resolve()}},{key:"checkShareTypeEnable",value:function(e){return this._enableShareTypes.indexOf(e)<0?g.SHARE_TYPE_DISABLED:0}}]),a}(C.a);P.SUPPORTED_SHARE_TYPE=v.concat();a.default=P}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-packet/js/ms_wx_c_b9694c397574bbf47d4e.js.map