(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2612],{66391:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(59713),o=r.n(n),i=r(17266);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=function(){};var u=r(47800);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(){};function v(e){e.onClose=e.onClose||e.onCancel,(0,u.S)()?function(e){(0,u.Z)(p(p({},e),{},{onCancel:e.onCancel||f}))}(e):function(e){(0,i.Z)(c(c({},e),{},{onCancel:e.onCancel||s}))}(e)}},47800:function(e,t,r){"use strict";r.d(t,{S:function(){return c},Z:function(){return s}});var n=r(38533),o=r(99433),i=r(36792),a=(0,n.Xf)(window.navigator.userAgent);function c(){return a.isNativePlatform}function s(e){var t=e.title,r=void 0===t?"":t,n=e.text,c=void 0===n?"":n,s=e.onConfirm,u=e.onCancel,l=e.onClose,p=e.confirmButtonLabel,f=e.cancelButtonLabel,v={title:r,text:c,ok_label:p||"确定",canceled_on_touch_outside:!1,show_close_button:!0};u&&(v.cancel_label=f||"取消");var h=a.system===o.we.IOS?"AMAlert":"JSAlert";(0,i.Q6)(h,"showAlert",v).then((function(e){2!==e.click_type?0===e.index?s&&s(e):u&&u(e):l&&l(e)}))}},17266:function(e,t,r){"use strict";r.d(t,{Z:function(){return le}});var n=r(67154),o=r.n(n),i=r(6479),a=r.n(i),c=r(67294),s=r.n(c),u=r(4026),l=r(59713),p=r.n(l),f=(r(45697),r(48676)),v=r(94184),h=r.n(v),y=r(44799),d=r(72669),m=r.n(d),b=["className"];var g=(0,y.Z)(m())((function(e){var t=e.className,r=a()(e,b);return s().createElement("div",o()({},r,{className:h()(t,m().root)}))})),O=r(33244),w=r.n(O),P=["className"];var E=(0,y.Z)(w())((function(e){var t=e.className,r=a()(e,P);return s().createElement("div",o()({},r,{className:h()(t,w().root)}))})),k=r(97823),S=r.n(k),_=["className"];var I=(0,y.Z)(S())((function(e){var t=e.className,r=a()(e,_);return s().createElement("div",o()({},r,{className:h()(t,S().root)}))})),C=r(14095),T=r.n(C),D=["className","style","type","radius"];function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){var t=e.style,r=e.radius,n=void 0===r?"":r,o=n.split(" ").map((function(e){return parseInt(e)>0?"calc(".concat(e," * 2)"):e})).join(" ");return n?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({borderRadius:o},t):t}var N=(0,y.Z)(T())((function(e){var t=e.className,r=e.style,n=e.type,i=e.radius,c=a()(e,D);return s().createElement("div",o()({},c,{style:x({style:r,radius:i}),className:h()(t,T().root,T()[n])}))})),R=r(4330),j=r.n(R),A=["className","style","type","borderRadius","borderColor","borderStyle","children"];function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e){var t=e.className,r=e.style,n=e.type,i=e.borderRadius,c=e.borderColor,u=e.borderStyle,l=e.children,p=a()(e,A);return s().createElement("div",o()({},p,{style:H({borderRadius:i},r),className:h()(t,j().root)}),s().createElement(N,{type:n,radius:i,style:{borderStyle:u,borderColor:c}}),l)}Z.defaultProps={type:"all"};var q=(0,y.Z)(j())(Z),B="#D2D2D2",M=r(53701),F=r.n(M),U=["className"];function V(e){var t=e.className,r=a()(e,U);return s().createElement(q,o()({},r,{className:h()(t,F().root)}))}V.defaultProps={type:"top",borderColor:B};var G=(0,y.Z)(F())(V),W=r(89419),$=r.n(W),Q=["className"];function K(e){var t=e.className,r=a()(e,Q);return s().createElement("div",o()({"data-active":"cell-white"},r,{className:h()(t,$().root)}))}K.defaultProps={children:"确定"};var X=(0,y.Z)($())(K),Y=r(85911),J=r.n(Y),ee=["className"];function te(e){var t=e.className,r=a()(e,ee);return s().createElement(q,o()({"data-active":"cell-white"},r,{className:h()(t,J().root)}))}te.defaultProps={type:"right",borderColor:B,children:"取消"};var re=(0,y.Z)(J())(te);function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e){var t=e.text,r=e.TitleProps,n=void 0===r?{}:r;return oe(oe({},t?{fontWeight:700}:{}),n.style)}function ae(e){var t=e.title,r=e.text,n=e.cancelButtonLabel,i=e.confirmButtonLabel,a=e.onCancel,c=e.onConfirm,u=e.onClose,l=e.slots,p=void 0===l?{}:l,v=e.DialogProps,h=e.ContentProps,y=e.TitleProps,d=e.TextProps,m=e.ActionSectionProps,b=e.CancelButtonProps,O=e.ConfirmButtonProps,w=e.CloseButtonProps;return s().createElement(f.Z,v,s().createElement(f.Z.CloseButton,o()({onClick:u},w)),p.beforeContent,s().createElement(g,h,t&&s().createElement(E,o()({},y,{style:ie(e)}),t),r&&s().createElement(I,d,r)),p.afterContent,s().createElement(G,m,a&&s().createElement(re,o()({onClick:a},b),n),s().createElement(X,o()({onClick:c},O),i)))}ae.Dialog=f.Z,ae.Content=g,ae.Title=E,ae.Text=I,ae.ActionSection=G,ae.ConfirmButton=X,ae.CancelButton=re;var ce,se=["onConfirm","onCancel","onClose"];function ue(e){e&&e(),ce&&ce(),ce=null}function le(e){var t=e.onConfirm,r=e.onCancel,n=e.onClose,i=a()(e,se);return ce&&ce(),ce=(0,u.Z)(s().createElement(ae,o()({DialogProps:{ControllerProps:{PortalComponent:null}},onConfirm:ue.bind(this,t),onCancel:r&&ue.bind(this,r),onClose:ue.bind(this,n)},i)))}},85325:function(e,t,r){"use strict";r.d(t,{u:function(){return n},B:function(){return o}});var n="virtual",o={NO_AUTHORITY:60010,NETWORK_ERROR:60009,FAIL:60050}},41468:function(e,t,r){"use strict";r.d(t,{CH:function(){return x},XA:function(){return R}});var n=r(59713),o=r.n(n),i=r(48926),a=r.n(i),c=r(87757),s=r.n(c),u=r(9936),l=r(36792),p=r(66391),f=r(38533),v=r(99433),h=r(51510),y=r(85325);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b="AMLOCATION_HAS_SET_KEY";function g(){return(0,f.zT)().platform===v.iw.PddIOS}function O(){var e=(0,f.zT)();return!!e.isNativePlatform&&e.statisfy("5.10.0","5.6.0",u.t.greaterThanEqual)}function w(){return P.apply(this,arguments)}function P(){return P=a()(s().mark((function e(){var t,r,n,o,i,a,c,u,p=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(p.length>0&&void 0!==p[0])||p[0],e.prev=1,r={no_wait:t,timeout:6e3},e.next=5,(0,l.Q6)("AMLocation","get",r);case 5:return n=e.sent,i=(o=n||{}).latitude,a=void 0===i?0:i,c=o.longitude,u=void 0===c?0:c,e.abrupt("return",{latitude:a,longitude:u});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",(0,h.f6)());case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),P.apply(this,arguments)}function E(e){return(0,f.zT)().platform===v.iw.PddAndroid&&localStorage.getItem(b)&&(e=1),e}function k(){return S.apply(this,arguments)}function S(){return(S=a()(s().mark((function e(){var t,r,n,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.Q6)("AMLocation","check");case 3:return t=e.sent,n=(r=t||{}).is_determined,o=r.is_enabled,i=r.need_reconfirm,e.abrupt("return",{isDetermined:E(n),isEnabled:o,needReconfirm:i});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function _(){return I.apply(this,arguments)}function I(){return(I=a()(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.Q6)("AMLocation","enable");case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function C(e,t){return T.apply(this,arguments)}function T(){return(T=a()(s().mark((function e(t,r){var n,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.clearTimeout(this.pollingTimeout),e.next=3,k();case 3:if(n=e.sent,o=n.isDetermined,i=n.isEnabled,(0,h.cM)("start pollingIOSPromise time:".concat(Date.now()," isDetermined: ").concat(o," isEnabled: ").concat(i)),!(i||o||r>6)){e.next=10;break}return window.clearTimeout(this.pollingTimeout),e.abrupt("return",t({isEnabled:i,isDetermined:o}));case 10:this.pollingTimeout=setTimeout((function(){r++,C(t,r)}),1e3);case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){C(t,e)}))}function L(){return new Promise((function(e,t){var r;(0,p.Z)({text:"定位服务未开启。请在系统设置中开启“定位服务”",onConfirm:(r=a()(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({}),_();case 2:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)}),onCancel:function(){e({isEnabled:!1})}})}))}function x(){return N.apply(this,arguments)}function N(){return(N=a()(s().mark((function e(){var t,r,n,o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:if(t=e.sent,r=t.isDetermined,n=t.isEnabled,(0,h.cM)("start enableHandler time:".concat(Date.now()," isDetermined: ").concat(r," isEnabled: ").concat(n)),!n){e.next=8;break}return e.abrupt("return",{isConfirm:!1});case 8:if(localStorage.setItem(b,1),o=O(),i=g(),1!==r||!i){e.next=16;break}return e.next=14,L();case 14:return a=e.sent,e.abrupt("return",m(m({},a),{},{isConfirm:!0}));case 16:if(0!==r||!i||o){e.next=23;break}return w(!1),e.next=20,D();case 20:return c=e.sent,(0,h.cM)("end enableHandler time:".concat(Date.now()," isDetermined: ").concat(r," isEnabled: ").concat(n)),e.abrupt("return",c);case 23:return e.next=25,_();case 25:return e.abrupt("return",{isConfirm:!1});case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return j.apply(this,arguments)}function j(){return j=a()(s().mark((function e(){var t,r,n,o,i=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.prev=1,e.next=4,(0,l.Q6)("AMLocation","getLocationId",m({scene:y.u,location_required:1,auto_request_auth:1,settings_permission_type:1,settings_service_type:1,location_timeout:6e3},t),"5.21.0","5.12.0");case 4:return r=e.sent,e.abrupt("return",(0,h.ZV)(r));case 8:return e.prev=8,e.t0=e.catch(1),n=e.t0||{},o=n.errorCode,e.abrupt("return",{locationId:null,errorCode:o||y.B.FAIL});case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),j.apply(this,arguments)}},51510:function(e,t,r){"use strict";r.d(t,{f6:function(){return c},cM:function(){return s},ZV:function(){return u}});var n=r(50008),o=r.n(n),i=r(68929),a=r.n(i);function c(){return{latitude:0,longitude:0}}function s(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];console.log(e,r)}function u(e,t){for(var r in t=t||{},e)e.hasOwnProperty(r)&&("object"===o()(e[r])&&null!==e[r]?t[a()(r)]=u(e[r],Array.isArray(e[r])?[]:{}):t[a()(r)]=e[r]);return t}},97719:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var n=r(59713),o=r.n(n),i=r(6479),a=r.n(i),c=r(48926),s=r.n(c),u=r(87757),l=r.n(u);r(66337);var p=r(51308),f=r(38533),v=r(36792),h=r(6341),y=r(12045),d=r(62424),m=["extraPageOptions"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(){return w.apply(this,arguments)}function w(){return(w=s()(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.X6)().then((function(e){return 1==+e.shown_type})).catch((function(){return!1}));case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,v.Rl)();case 7:(0,y.Ku)();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,d.BY)();var r=t.extraPageOptions,n=void 0===r?{}:r,o=a()(t,m),i=(0,h.rL)(o),c={appId:"100428",bizSide:"consumer-platform-fe",testAppId:"100265"};(0,p.g)(e,g(g({title:e.appConfig.title},i),{},{pmmAppInfo:c}));var s=(0,f.zT)();n.isManualPV&&s.isNativePlatform&&O()}},95419:function(e,t,r){"use strict";r(32e3),r(48977),r(98837),r(52310),r(94899),r(1268),r(30522),r(62773),r(56997),r(19371),r(58295),r(50110),r(20075),r(31842),r(19977),r(41560),r(48377),r(88416),r(11246),r(53403),r(75115),r(48646),r(22658),r(83276),r(89375),r(94882),r(98351),r(79622),r(41520),r(16917),r(30372),r(84672),r(96253),r(99176),r(64157),r(35095),r(49892),r(27476),r(43533),r(68838),r(96409),r(40851),r(9865),r(83946),r(66108),r(98184),r(95767),r(79665),r(29539),r(96620),r(50191),r(62850),r(39115),r(41784),r(92770),r(98306),r(10823),r(17732),r(65869),r(94325),r(32564),r(84633),r(91181),r(35666);var n=r(97719),o=r(34575),i=r.n(o),a=r(93913),c=r.n(a),s=r(2205),u=r.n(s),l=r(78585),p=r.n(l),f=r(29754),v=r.n(f),h=r(67294),y=r.n(h),d=r(49408),m=r(693),b=r(57068),g=r(45273),O=r(48926),w=r.n(O),P=r(21165),E=r.n(P),k=r(81506),S=r.n(k),_=r(33124),I=r.n(_),C=(r(67268),r(87757)),T=r.n(C),D=r(1607),L=r(63038),x=r.n(L),N=r(96237);function R(){return Promise.resolve()}function j(e){var t=(0,h.useRef)(null),r=(0,h.useState)(!1),n=x()(r,2),o=n[0],i=n[1],a=(0,h.useState)(null),c=x()(a,2),s=c[0],u=c[1];(0,h.useEffect)((function(){var r=t.current;r&&r.dataset.bigPipeNode?i(!0):Promise.resolve().then((function(){return(e.depLoader||R)()})).catch((function(e){u(e),(0,N.e)({errorMsg:"ClientWrapper error",stores:{},error:e})})).then((function(){i(!0)}))}),[e]);var l=null;return l=o?s?e.errorView:e.render?e.render():e.children:e.loadingView,y().createElement("div",{style:e.style,className:e.className,ref:t},l)}var A=y().createContext(null);function z(e){var t=(0,h.useContext)(A);return t&&t.skipBigPipe?y().createElement("div",{"data-big-pipe-node":"true",style:e.style,className:e.className},e.children):t?t.render(e):y().createElement(j,e)}function H(e,t,r){return e?{height:"".concat(100*(600-t+2+r/2)/812,"vh")}:{height:"73.89vh"}}function Z(e,t,r){return e?{height:"".concat(100*(600-t+2+r/2)/693,"vh")}:{height:"85vh"}}var q=r(59224),B=r(57028),M=r(41759),F="ihhD50jv",U="ExfJVUgH",V="_4DrjN3SS";function G(e){var t=e.source,r=M.V[t]||{},n=r.imgUrl,o=r.text,i=r.width;return n&&o?y().createElement("div",{className:F},n&&y().createElement(B.Z,{src:n,resizeWidth:160,className:U,style:{width:i}}),y().createElement("span",{className:V},o)):null}var W=(0,h.memo)(G),$=r(94184),Q=r.n($),K="T3SYVzB7",X="nMEyyqZ6",Y="oozZM7j-",J="PgJs1qLO",ee="c5xz9+8n";function te(){return y().createElement("div",{className:K},y().createElement("span",{className:Q()(X,Y)},"免费专线抢票"),y().createElement("span",{className:Q()(X,ee)},"支持在线选铺"),y().createElement("span",{className:Q()(X,J)},"支持先抢后付"))}var re=(0,h.memo)(te),ne=r(67154),oe=r.n(ne),ie=r(59713),ae=r.n(ie),ce=r(24281),se="UZMCLDuq",ue="AUI9r0+7",le="iFJ0aFtm",pe="RwgxIOYr";function fe(e){var t=e.title;return y().createElement("div",{className:se},t&&y().createElement("div",{className:ue},t),y().createElement("div",{className:le},y().createElement("div",{className:pe}),y().createElement("div",{className:pe})))}var ve=(0,h.memo)(fe),he=r(83201);function ye(e){var t=(0,h.useState)(!1),r=x()(t,2),n=r[0],o=r[1];return y().createElement("div",{className:Q()(he.Z.wrapper,ae()({},he.Z.hideWrapper,n))},y().createElement(ce.Z,oe()({},e,{finishCallback:function(){o(!0)}})),!n&&y().createElement(ve,e))}var de=(0,h.memo)(ye),me=r(93073),be=1,ge=5,Oe=6,we=7,Pe=r(62434),Ee=r(24684),ke=r(54268),Se=r(29404),_e=r(59180),Ie="ij7QWOao",Ce="BYBpIxdh",Te=2820051;var De=(0,d.Pi)((function(){var e=(0,me.m)().store,t=e.cashbackActivityStore,r=e.source,n=e.cpsSign,o=((null==t?void 0:t.cashEntranceInfo)||{}).entranceUrl;return o?y().createElement("div",{className:Q()(Ie,Ce)},y().createElement(Ee.Z,{trackingInfo:{page_el_sn:Te}},y().createElement(_e.Z,{preloadResourceName:"cashEntrance",src:o,forceSkipCDN:!0,fuzzyWidth:282,className:Ce,onClick:function(){(0,Se.pr)({page_el_sn:Te},"invite_user.html?wx_train_redirect_name=train_cashback_activity",{source:r},{_tp_order_source:r||null,_tp_order_cps_sign:n||null})},failDefaultImg:(0,ke.H)("/trip/cashDefault.png")}))):null})),Le=(0,d.Pi)((function(){var e=(0,me.m)().store,t=e.cashbackActivityStore,r=e.activityType,n=t.cashEntranceInfo,o=t.showReceiveCashPop,i=(n||{}).activityId;return y().createElement(y().Fragment,null,r===be&&o&&y().createElement(Pe.Z,null),!!i&&y().createElement(De,null))})),xe=r(72035),Ne=r(96160),Re=r(16932),je=r(81086),Ae=r(53980),ze="-qCAUD9a",He="JYqYuxXK",Ze="DqL5LjBz",qe="_8gDDZCi8",Be="tn+TdXT7",Me="gc8Uq9aN",Fe="BEcjxoSa";function Ue(){var e=(0,h.useState)(!1),t=x()(e,2),r=t[0],n=t[1];return(0,h.useEffect)((function(){function e(){return(e=w()(T().mark((function e(){var t,r,o,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ae.k2.SHOW_FLIGHT_TAG,r=Ae.k2.SHOW_TRAIN_FLIGHT_TAG,e.next=3,Re.Z.getItem(t);case 3:return o=e.sent,e.next=6,(0,je.W)(r);case 6:i=e.sent,n(a=!o&&i),a&&Re.Z.setItem(r,Date.now());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r?y().createElement(Ee.Z,{trackingInfo:{page_el_sn:3000896}},y().createElement("div",{className:Q()(Me,Fe)},"新")):null}var Ve,Ge,We,$e,Qe,Ke=(0,d.Pi)((function(){var e=(0,me.m)().store,t=e.immerseStore,r=e.isComposePage,n=e.source,o=t.immersiveEnable,i=t.navHeight,a=t.statusBarHeight,c=function(){var e=(n||"train").replace(/_compose$/,"");(0,Se.sl)(Se._B.FLIGHT_COMPOSE,{source:"".concat(e,"_compose")})};return o?y().createElement("div",{className:ze,style:{paddingTop:"".concat(a,"px"),height:"".concat(i,"px")}},r?y().createElement(h.Fragment,null,y().createElement("div",{className:Ze},"火车票"),y().createElement("div",{className:Be,onClick:c},"飞机票",y().createElement(Ue,null))):y().createElement("div",null,"多多火车票")):r?y().createElement("div",{className:He},y().createElement("div",{className:Q()(Ze,qe)},"火车票"),y().createElement("div",{className:Be,onClick:c},"飞机票",y().createElement(Ue,null))):null})),Xe=r(84160),Ye=r(55622),Je=803001,et="CsN0l1ma",tt="Px6KTE1s",rt="AZkaVP-B";function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var ot,it,at=(Ve=(0,d.f3)("store"),ot=Je,Ge=(0,Ye.cM)((function(e,t){return{op:"click",page_el_sn:ot}}),it),Ve(We=(0,d.Pi)(($e=function(e){u()(r,e);var t=nt(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).store=e.props.store,E()(e,"clickHandler",Qe,S()(e)),e}return c()(r,[{key:"render",value:function(){var e,t=this.store.noticeInfo||{},r=t.notice,n=t.noticeLink;return r?y().createElement("div",{className:Q()(et,null===(e=this.props)||void 0===e?void 0:e.className),onClick:this.clickHandler,"data-test":Je},y().createElement("p",{className:rt},r),n&&y().createElement("span",{className:tt})):null}}]),r}(y().Component),Qe=I()($e.prototype,"clickHandler",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.store.noticeInfo||{},r=t.noticeLink,n=t.notice,o=t.content;r?D.ZP.uniformForward(r):o&&(0,Xe.wp)({title:n,text:o,okLabel:"知道了"})}}}),We=$e))||We)||We),ct=r(49939),st=r(18906);var ut=(0,d.Pi)((function(){var e=(0,me.m)().store,t=e.bubbleList,r=e.bubbleLoadFinish,n=e.totalSubsidyStd,o=0===t.length;return y().createElement("div",{className:Q()(st.Z.bubble,ae()({},st.Z.hide,r&&o))},!o&&y().createElement(ct.Z,{bubbleList:t,totalSubsidyStd:n}))})),lt=r(96521),pt=r(12045),ft=r(66197),vt=r(9714),ht=r(14102),yt=r(80837),dt="J0w3ZeoI",mt="D47c8pmI",bt="NNoIDx5z";function gt(e,t){e.classList.add(t),e.addEventListener("animationend",(function(){e.classList.remove(t)})),e.addEventListener("webkitAnimationEnd",(function(){e.classList.remove(t)}))}function Ot(e){var t={};return["t","webkitT","MozT","msT","OT"].forEach((function(r){t[r+"ransform"]="translateX("+e+"px)"})),t}function wt(e,t,r){var n=r.left-t.left;e.animate([Ot(n),Ot(0)],{duration:180,easing:"cubic-bezier(0,0,0.32,1)"})}var Pt="_9h01lg01",Et="s1+OUoa7",kt="JA1-yqX3",St=(0,h.memo)((function(e){var t=e.searchList,r=void 0===t?[]:t;if(null==r||!r.length)return null;return y().createElement("div",{className:Pt},y().createElement("span",null,"猜你想搜："),y().createElement("div",{className:Et},r.map((function(e,t){return y().createElement("span",{key:"".concat(e.departCity,"-").concat(e.arriveCity,"-").concat(t),className:kt,onClick:function(){return function(e){var t=e.departCity,r=e.arriveCity,n=e.departDate,o=e.trainNo,i=e.departStation,a=e.arriveStation,c=e.seatType;1===e.type?(0,Se.v_)(Se._B.TRAIN_LIST,{start_station:t,end_station:r,is_start_city:1,is_end_city:1,departDate:n}):(0,Se.v_)(Se._B.TCASHIER_GRAB,{search_start_station:t,search_end_station:r,start_station:i,end_station:a,train_no:o,departDate:n,seatType:c})}(e)}},1===e.type?"".concat(e.departCity,"-").concat(e.arriveCity):e.trainNo)}))))})),_t=r(96967),It="_2EHdXHtY";var Ct,Tt,Dt,Lt,xt,Nt,Rt,jt=(0,d.Pi)((function(){var e=(0,me.m)().store,t=e.cashbackActivityStore,r=e.maxSingleCouponValueShow,n=t.cashEntranceInfo||{},o=n.showBubble,i=n.priceStd;return r||o?y().createElement("span",{className:It},r,o?" 可返".concat(i,"元"):""):null})),At=802545,zt=802546,Ht=802547,Zt=2132841,qt=802548,Bt=802549,Mt=802550,Ft=2029956,Ut=function(e,t){return(0,Ye.cM)((function(t,r){var n,o,i={op:"click",page_el_sn:e};Ht===e&&(i.depart_date=null==t||null===(n=t.store)||void 0===n||null===(o=n.trainInfo)||void 0===o?void 0:o.time);return Zt===e&&(i.depart_date=r),i}),t)},Vt=r(77964),Gt="Faya0ZaT",Wt="_691Blsfd",$t="kksM+inn",Qt="tKoVdYQx",Kt="kb1-uhRd",Xt="K381RXyi",Yt="_6voSY7e9",Jt="QgYDYDg-",er="Er2R1qWn",tr="hPJI9dhy",rr="oREss13-",nr="_7giLgIGS",or="RUozrUdL",ir="Z-ICnVTh",ar="-S4HTHbd",cr="ehJqQ9tm";function sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var ur,lr,pr,fr,vr,hr,yr,dr,mr=(Ct=(0,d.f3)("store"),Tt=Ut(qt),Dt=Ut(Ft),Ct(Lt=(0,d.Pi)((xt=function(e){u()(r,e);var t=sr(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).store=e.props.store,E()(e,"selectGtrainClick",Nt,S()(e)),E()(e,"selectStuClick",Rt,S()(e)),e}return c()(r,[{key:"onlyHighSpeedTrain",get:function(){var e;return((null===(e=this.store.trainInfo)||void 0===e?void 0:e.ifTrainType)||"").includes(Vt.E4.HIGH)}},{key:"render",value:function(){var e=this.store.trainInfo.ifStudentTicket;return y().createElement("div",{className:rr},y().createElement("div",{className:nr,"data-test":qt,onClick:this.selectGtrainClick},y().createElement("span",{className:Q()(or,ae()({},ir,this.onlyHighSpeedTrain))}),"只看高铁/动车(G/C/D)"),y().createElement("div",{className:nr,"data-test":Ft,onClick:this.selectStuClick},y().createElement("span",{className:Q()(or,ae()({},ir,!!e))}),"学生票"))}}]),r}(y().PureComponent),Nt=I()(xt.prototype,"selectGtrainClick",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.store.toggleSelectSpecialType(e.onlyHighSpeedTrain?null:Vt.E4.HIGH)}}}),Rt=I()(xt.prototype,"selectStuClick",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.store.toggleSelectStuTicket()}}}),Lt=xt))||Lt)||Lt);function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach((function(t){ae()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var wr,Pr,Er,kr,Sr,_r=(ur=(0,d.f3)("store"),lr=Ut(Bt),pr=Ut(At),fr=Ut(zt),vr=Ut(Ht),hr=Ut(Zt),ur(yr=(0,d.Pi)((dr=function(e){u()(r,e);var t=Or(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).store=e.props.store,e.checkIsInStuDuration=function(t){var r=e.store.dateInfo||{},n=r.stuIsValid,o=r.stuDateInfo,i=void 0===o?{}:o;return!n||((0,ht.W)(gr(gr({},i),{},{checkTime:t}))||{}).isInHoliday},e}return c()(r,[{key:"ChangeHandler",value:function(e){!function(){var e=document.getElementById("panel-change"),t=document.getElementById("panel-to"),r=document.getElementById("panel-from");try{if(gt(e,dt),t.animate){var n=t.getBoundingClientRect(),o=r.getBoundingClientRect();wt(t,n,o),wt(r,o,n)}else gt(t,mt),gt(r,bt)}catch(e){}}(),(0,this.store.updateStationInfo)()}},{key:"clickHandler",value:function(){var e=this.store,t=e.trainInfo,r=e.setLocalTrainInfo,n=e.source,o=e.cpsSign,i=e.queryTrainTickets,a=e.stuDialogContent,c=e.loginLess,s=t.time,u=t.ifStudentTicket,l=t.endStation,p=t.startStation;((0,pt.ax)({page_el_sn:Mt}),u&&!this.checkIsInStuDuration(s)&&a)?(0,Xe.wp)({title:a,okLabel:"知道了"}):l!==p?(((0,vt.KQ)("trainListSsr")||{}).preQueryTickets&&i(),r(),setTimeout((function(){(0,Se.v_)(Se._B.TRAIN_LIST,gr(gr({},t),{},{departDate:yt.$.dateStartTime(s),_tp_order_source:n||null,_tp_order_cps_sign:o||null,_tp_order_if_student_ticket:u,_tp_login_less:c,isChange:!1}))}),100)):(0,ft.Z)("出发地和到达地相同，请更换后\n重新查询")}},{key:"fromClick",value:function(){(0,this.store.onSelectStation)("from")}},{key:"toClick",value:function(){(0,this.store.onSelectStation)("to")}},{key:"timeClick",value:function(){this.store.setProperty("isShowCalendar")}},{key:"timeHandler",value:function(e){e&&(this.store.setProperty("isShowCalendar"),this.store.setTrainInfo({time:e}))}},{key:"render",value:function(){var e=this.store,t=e.trainInfo,r=e.dateInfo,n=e.startTimeMD,o=e.startTimeWeek,i=e.isShowCalendar,a=e.guessSearch,c=e.immerseStore,s=t.startStation,u=t.endStation,l=t.time,p=t.ifStudentTicket,f=c.immersiveEnable,v=c.navHeight,h=c.statusBarHeight,d=r||{},m=d.stuIsValid,b=d.stuDurationShow,g=1===p&&m?"学生票优惠时间为：".concat(b,"。"):"";return y().createElement("div",{className:Gt},y().createElement("div",{className:Kt},y().createElement("span",{className:Q()(Wt,$t)},"出发地"),y().createElement("span",{className:Q()(Wt,$t)},"到达地")),y().createElement("div",{className:Qt},y().createElement("div",{"data-test":At,onClick:this.fromClick,className:Q()(Wt,tr)},y().createElement("span",{id:"panel-from"},s)),y().createElement("span",{"data-test":Bt,onClick:this.ChangeHandler,className:Xt,id:"panel-change"}),y().createElement("div",{"data-test":zt,onClick:this.toClick,className:Q()(Wt,tr)},y().createElement("span",{id:"panel-to"},u))),y().createElement("p",{className:Yt},"出发日期"),y().createElement("div",{className:Q()(Jt,tr),onClick:this.timeClick,"data-test":Ht},n,y().createElement("span",{className:ar},o)),i&&y().createElement(_t.Z,oe()({},r,{selectedDate:l,onDateChanged:this.timeHandler,headerTipContent:g,style:H(f,v,h),contentStyle:f?cr:""})),y().createElement(mr,null),y().createElement(St,{searchList:a}),y().createElement("div",{onClick:this.clickHandler,className:er,"data-test":Mt},y().createElement(jt,null),"立即查询"))}}]),r}(y().Component),I()(dr.prototype,"ChangeHandler",[lt.Z,lr],Object.getOwnPropertyDescriptor(dr.prototype,"ChangeHandler"),dr.prototype),I()(dr.prototype,"clickHandler",[lt.Z],Object.getOwnPropertyDescriptor(dr.prototype,"clickHandler"),dr.prototype),I()(dr.prototype,"fromClick",[lt.Z,pr],Object.getOwnPropertyDescriptor(dr.prototype,"fromClick"),dr.prototype),I()(dr.prototype,"toClick",[lt.Z,fr],Object.getOwnPropertyDescriptor(dr.prototype,"toClick"),dr.prototype),I()(dr.prototype,"timeClick",[lt.Z,vr],Object.getOwnPropertyDescriptor(dr.prototype,"timeClick"),dr.prototype),I()(dr.prototype,"timeHandler",[lt.Z,hr],Object.getOwnPropertyDescriptor(dr.prototype,"timeHandler"),dr.prototype),yr=dr))||yr)||yr),Ir=function(e,t,r){return(0,Ye.cM)((function(t,n){return{op:r||"click",page_el_sn:e}}),t)},Cr=802551,Tr=802552,Dr="FFd1jXFN",Lr="RLeCQOzK",xr="CUSz6cEx",Nr="AI6Y+7rH";function Rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var jr=(wr=(0,d.f3)("store"),Pr=Ir(Tr),Er=Ir(Cr,!1,"left_slide"),wr(kr=(0,d.Pi)((Sr=function(e){u()(r,e);var t=Rr(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).store=e.props.store,e}return c()(r,[{key:"clickHandler",value:function(){(0,this.store.clearHistory)()}},{key:"selectHandler",value:function(e){var t=e.startStation,r=e.endStation,n=e.isStartCity,o=void 0===n?0:n,i=e.isEndCity,a=void 0===i?0:i;this.store.setTrainInfo({startStation:t,endStation:r,isStartCity:o,isEndCity:a})}},{key:"render",value:function(){var e=this,t=this.store.history;return null!=t&&t.length?y().createElement("div",{className:Dr},y().createElement("div",{className:Lr},t.map((function(t,r){return y().createElement("span",{"data-test":Cr,key:"startStation-".concat(r),className:xr,onClick:function(r){return e.selectHandler(t)}},t.startStation,"-",t.endStation)}))),y().createElement("div",{className:Nr,onClick:this.clickHandler,"data-test":Tr},"清除历史")):null}}]),r}(y().Component),I()(Sr.prototype,"clickHandler",[lt.Z,Pr],Object.getOwnPropertyDescriptor(Sr.prototype,"clickHandler"),Sr.prototype),I()(Sr.prototype,"selectHandler",[lt.Z,Er],Object.getOwnPropertyDescriptor(Sr.prototype,"selectHandler"),Sr.prototype),kr=Sr))||kr)||kr),Ar=r(6341),zr="_48SUImfu",Hr="cZFMbSMD",Zr="hT8jeDjj",qr="nLpaXfnQ",Br="nuqd8VIO",Mr=(0,ke.H)("/order_checkout/33e1a860-e520-452e-8a71-1826878028c3.png.slim.png"),Fr=(0,d.Pi)((function(e){e.props;var t=(0,me.m)().store,r=t.couponPackageInfo,n=t.cancelFoldPrize,o=(0,h.useState)(null==r?void 0:r.ifShowBtn),i=x()(o,2),a=i[0],c=i[1],s={page_el_sn:5357068};if(null==r||!r.guideText)return null;var u=function(){var e=w()(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return e.next=3,n();case 3:t=e.sent,t.cancelResult&&c(!1);case 6:(0,Ar.wP)(s,r.linkUrl);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return y().createElement(Ee.Z,{trackingInfo:s},y().createElement("div",{className:zr,onClick:u},y().createElement(B.Z,{src:Mr,className:Hr,resizeWidth:62}),y().createElement("span",{className:Zr},r.guideText),y().createElement("div",{className:Q()(qr,ae()({},Br,!a))},"立即抢购")))})),Ur=Fr,Vr=r(23493),Gr=r.n(Vr),Wr="uquOgWcc",$r="SlzekWGH",Qr="mJ2STetC",Kr="mJkA9ibl";var Xr,Yr=(0,d.Pi)((function(){var e=(0,me.m)().store,t=e.isFoldPrize,r=e.cancelFoldPrize,n=e.setProperty;if(!t)return null;var o=Gr()(w()(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:t=e.sent,t.cancelResult&&n("isFoldPrize",!1);case 5:case"end":return e.stop()}}),e)}))),1e3,{trailing:!1});return y().createElement("div",{className:Wr},y().createElement("div",{className:$r,onClick:function(){n("isShowCoupon",!0),n("isActivePrizePop",!0)}},y().createElement(B.Z,{className:Qr,resizeWidth:48,src:(0,ke.H)("/order_checkout/redmini.png")}),"您有一个优惠礼包待领取，有惊喜！"),y().createElement("span",{className:Kr,onClick:o}))})),Jr=r(10066),en={container:"ex-Tu7cV",title:"tJauv9LQ",desc:"GU1CghNN",line:"_3QI1tPLe",content:"vMQMnG2x",change:"nK8ivQP3",text:"yAiC5Dx-",coupon:"-CeZji86",snap:"hJDDjid1",cashback:"UCjWya+z",loading:"jKYaBJqC",gradual:"+RISTE7o"},tn=(Xr={},ae()(Xr,Jr.x.COUPON,"coupon"),ae()(Xr,Jr.x.SNAP,"snap"),ae()(Xr,Jr.x.CASHBACK,"cashback"),Xr);var rn=(0,d.Pi)((function(){var e=(0,me.m)().store,t=e.privilegeList,r=e.privilegeTitle;return null!=t&&t.length?y().createElement("div",{className:en.container},y().createElement("div",{className:en.title},y().createElement("div",{className:en.line}),y().createElement("div",{className:en.desc},r),y().createElement("div",{className:en.line})),y().createElement("div",{className:Q()(en.content,ae()({},en.change,(null==t?void 0:t.length)<3))},t.map((function(e,t){var r=e||{},n=r.text,o=r.type;return y().createElement("span",{className:Q()(en.text,en[tn[o]]),key:"new-rights-".concat(t)},n)})))):null})),nn=1172388,on=1725438,an=1351067,cn=4961634,sn=4961636,un="_07waTbne",ln="TdVCIXLG",pn="rfw6lS1q",fn="J9FDTa4w",vn="Y7mszLDF",hn="KBlN1ax7",yn="_2jW5xnS-",dn="r9mQgCIn",mn="XRwMQQ7+",bn="qjvJOPvs";function gn(){return y().createElement("div",{className:ln,onClick:function(){(0,Se.dT)({page_el_sn:nn})},"data-test":nn},y().createElement("div",{className:Q()(fn,vn)},"我的订单"))}var On=(0,h.memo)(gn);function wn(){return y().createElement("div",{className:ln,onClick:function(){(0,Se.pr)({page_el_sn:on},"chat_detail.html",{mall_id:"m.hutaojie.com"===window.location.hostname?1:606})},"data-test":on},y().createElement("div",{className:ln},y().createElement("div",{className:Q()(fn,hn)},"联系客服")))}var Pn=(0,h.memo)(wn),En=r(3060),kn=r(27361),Sn=r.n(kn);function _n(e,t){if(!e||0===e.length)return 0;var r=e.sort(function(e){return function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=parseInt((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[e],10)||0;return(parseInt(t[e],10)||0)-r}}(t))[0];return parseInt(Sn()(r,t))||0}var In,Cn,Tn,Dn,Ln;function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var Nn=(In=(0,d.f3)("store"),Cn=function(e,t){return(0,Ye.cM)((function(t,r){return{op:"click",page_el_sn:e}}),t)}(an),In(Tn=(0,d.Pi)((Dn=function(e){u()(r,e);var t=xn(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).store=e.props.store,E()(e,"handleClick",Ln,S()(e)),e}return c()(r,[{key:"render",value:function(){var e=this.store,t=e.couponList,r=e.isFlag,n=e.isReceive,o=e.couponFaceTotalShow,i=e.hasStudentCoupon,a=function(e){var t=e.isReceive,r=e.couponList,n=e.couponFaceTotalShow,o=_n(r,"discount");if(o)return"立享".concat(o/10,"折");var i=_n(r,"couponFaceValue"),a=(0,En.bd)(i||0);return i>=200?"立减".concat(a,"元"):t?"领".concat(n,"元券"):i?"立减".concat(a,"元"):""}({isReceive:n,couponList:t,couponFaceTotalShow:o}),c=!r&&!i;return y().createElement("div",{className:Q()(ln,c?pn:null),onClick:this.handleClick,"data-test":an},y().createElement("div",{className:Q()(fn,yn)},a),c&&y().createElement("div",{className:bn},"无门槛"))}}]),r}(h.Component),Ln=I()(Dn.prototype,"handleClick",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.store,r=t.setProperty;(0,t.setRedDot)(!0),r("isShowCouponPop")}}}),Tn=Dn))||Tn)||Tn);function Rn(){return y().createElement("div",{className:ln,onClick:function(){(0,Se.pr)({page_el_sn:cn},Se._B.STATION_SCREEN)},"data-test":cn},y().createElement("div",{className:ln},y().createElement("div",{className:Q()(fn,dn)},"车站大屏")))}var jn=(0,h.memo)(Rn);var An=(0,d.Pi)((function(){var e=(0,me.m)().store.isLogin;return y().createElement("div",{className:ln,onClick:function(){(0,Se.pr)({page_el_sn:sn,is_login:e?1:0},e?Se._B.LOGIN_CENTER:Se._B.LOGIN_MANAGEMENT)},"data-test":sn},y().createElement("div",{className:ln},y().createElement("div",{className:Q()(fn,mn)},e?"我的":"登录","12306")))}));var zn=(0,d.Pi)((function(){var e=(0,me.m)().store,t=e.isShowTip,r=e.showLoginCenter,n=e.showLoginBar;return y().createElement("div",{className:un},y().createElement(On,null),y().createElement(Pn,null),y().createElement(jn,null),t&&y().createElement(Nn,null),r&&!n&&y().createElement(An,null))})),Hn={box:"uypGzsK9",success:"xcv1CeRL",title:"_2QtvpY3t",desc:"JTiFDQJu",descInfo:"_2Oe3FuUu",fail:"Y5+MX-EJ",info:"bk-Zl7lr",infoing:"VRAYCSd0",segmentNo:"mt5PaUuq",loading:"_8WRSNIaj",gradual:"G11M9Vgo"};function Zn(e){var t=e.data||{},r=t.segmentNo,n=t.startStation,o=t.endStation,i=t.trainNo,a=t.trainDateStr,c=t.departTimeStr;return y().createElement("div",null,y().createElement("p",{className:Hn.title},r&&y().createElement("span",{className:Hn.segmentNo},"中转"),y().createElement("span",null,n," - ",o)),y().createElement("p",{className:Hn.desc},y().createElement("span",{className:Hn.descInfo},i),y().createElement("span",{className:Hn.descInfo},a),y().createElement("span",null,"".concat(c,"发车")," ")))}var qn=(0,h.memo)(Zn),Bn=1752453,Mn=809704,Fn=809706,Un=809705,Vn=809707,Gn=function(e,t){(0,pt.ax)({page_el_sn:e,type:t})},Wn=function(e,t){return{page_el_sn:e,type:t}};var $n=(0,d.Pi)((function(e){var t=e.data,r=e.className,n=(0,h.useState)(!1),o=x()(n,2),i=o[0],a=o[1];return(0,h.useEffect)((function(){var e=function(){var e=w()(T().mark((function e(){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.Z.getItem(Ae.k2.TIP_FAIL);case 2:r=e.sent,a(r!==t.travelSn);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),i?y().createElement(Ee.Z,{trackingInfo:Wn(Un,t.bookType)},y().createElement("div",{className:Q()(Hn.box,r),onClick:function(){var e=t.travelSn,r=t.bookType;Gn(Fn,r),Re.Z.setItem(Ae.k2.TIP_FAIL,e),a(!1)},"data-test":Fn},y().createElement(qn,{data:t}),y().createElement("div",{className:Hn.fail},"占座失败，请重新下单"))):null}));var Qn=function(e){var t=e.data,r=e.seatProgress,n=e.className,o=(t||{}).ifReserveTimeout,i=(0,h.useState)(!1),a=x()(i,2),c=a[0],s=a[1];(0,h.useEffect)((function(){var e=function(){var e=w()(T().mark((function e(){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.Z.getItem(Ae.k2.TIP_PROCESS);case 2:r=e.sent,s(r!==t.travelSn);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var u=o?"占座超时，请重新下单":"占座中".concat(r>95?95:r,"%");return c?y().createElement(Ee.Z,{trackingInfo:Wn(Vn,t.bookType)},y().createElement("div",{className:Q()(Hn.box,n),onClick:function(){var e=t.trainTravelType,r=t.travelSn,n=t.bookType,i=t.isLoading;o?(Gn(Bn,n),Re.Z.setItem(Ae.k2.TIP_PROCESS,r),s(!1)):i&&(0,Se.v_)(Se._B.RESERVE_DETAIL,{transacType:e,parentTravelSn:r})}},y().createElement(qn,{data:t}),y().createElement("div",{className:Hn.infoing},u))):null},Kn=1e3,Xn=36e5,Yn=864e5;function Jn(e){return String(e).padStart(2,"0")}var eo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Date.now(),n=e-(r-t);if(n<=0)return{leftTs:n,millisecond:0,second:0,minute:0,hour:0,day:0,hours:Jn(0),minutes:Jn(0),seconds:Jn(0)};var o=n%Kn,i=parseInt(n/Kn,10)%60,a=parseInt(n/6e4,10)%60,c=parseInt(n/Xn,10)%24,s=parseInt(n/Yn,10);return{leftTs:n,millisecond:o,second:i,minute:a,hour:c,day:s,hours:Jn(c),minutes:Jn(a),seconds:Jn(i)}};function to(e){var t=e.endTime,r=e.onEnd,n=e.children,o=(0,h.useState)(eo(t)),i=x()(o,2),a=i[0],c=i[1];return function(e,t){var r=(0,h.useRef)();(0,h.useEffect)((function(){r.current=e})),(0,h.useEffect)((function(){var e=setInterval((function(){r.current(n)}),t),n=function(){return clearInterval(e)};return n}),[t])}((function(e){c(eo(t)),a.leftTs<=0&&(e(),r&&r())}),500),n(a)}var ro="PeBVeDXj",no="_6s9+QvOT";function oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var io=function(e){u()(r,e);var t=oo(r);function r(){return i()(this,r),t.apply(this,arguments)}return c()(r,[{key:"renderTime",value:function(e){return y().createElement("div",{className:ro},y().createElement("div",{className:no},"".concat(e.minute,":").concat(e.second,"后失效")))}},{key:"render",value:function(){var e=this,t=this.props.endTime;return y().createElement(to,{endTime:t},(function(t){return t?e.renderTime(t):null}))}}]),r}(h.Component),ao={0:"占座成功",1:"抢票创单，去支付",2:"夜间创单，去支付"};function co(e){var t=e.data,r=(e.seatProgress,e.className),n=t.bookType,o=t.orderSn,i=t.multiple,a=ao[n]||ao[0];return y().createElement(Ee.Z,{trackingInfo:Wn(Mn,n)},y().createElement("div",{className:Q()(Hn.success,r),onClick:function(){(0,Se.Um)({orderSn:o,isBatchPay:i},{page_el_sn:Mn,type:n})},"data-test":Mn},y().createElement(qn,{data:t}),y().createElement("div",{className:Hn.info},y().createElement("div",{className:Hn.container},y().createElement("div",{className:Hn.text},a),t.payLimitTime&&y().createElement(io,{endTime:t.payLimitTime})))))}var so,uo=(0,h.memo)(co);function lo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var po=(0,d.Pi)((function(e){var t=e.reserveInfo,r=e.seatProgress,n=e.className,o=t.isFail,i=t.isLoading,a=t.isSuccess;return o?y().createElement($n,{data:t,className:n}):i?y().createElement(Qn,{data:t,seatProgress:r,className:n}):a?y().createElement(uo,{data:t,seatProgress:r,className:n}):null})),fo=(0,d.f3)("store")(so=(0,d.Pi)(so=function(e){u()(r,e);var t=lo(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).store=e.props.store,e}return c()(r,[{key:"componentDidMount",value:function(){var e,t=this,r=this.store,n=r.reserveList,o=void 0===n?[]:n,i=r.serverTime,a=Math.max((null===(e=o[0])||void 0===e?void 0:e.noticeDisableTime)-i,0);setTimeout((function(){t.store.cleanReserveInfo()}),a)}},{key:"render",value:function(){var e=this,t=this.store,r=t.reserveList,n=t.progressMap;return y().createElement(y().Fragment,null,r.map((function(t,r){var o,i=t.travelSn,a=n[i]||t.seatProgress;return y().createElement(po,{key:i,reserveInfo:t,seatProgress:a,className:null===(o=e.props)||void 0===o?void 0:o.className})})))}}]),r}(y().Component))||so)||so,vo=2913062,ho=function(){var e=w()(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,Ar.Vr)({page_el_sn:vo}),null==t||t();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yo={container:"gHUW8Vgb",item:"RcfKtVRU",ticket:"LAOaJE3z",close:"ExwJnHuU",top:"EFgbHJYq",tip:"Qpexqbh-",gate:"_1Zi0U0CB",content:"YGIHdPrI",center:"h-6AjOME",trainCode:"fK30zbN6",box:"rex8FvwN",line:"+wgMowPH",arrow:"mq9YfF0Q",station:"tlxjTf08",time:"_8zRa5XEO",date:"DJFwfGyP",label:"_8qaxhcG+",startStation:"gXGu7N7I",endStation:"BXLO3zmF",list:"TfGMIJ2A",passenger:"uy96lXuD",name:"LHeIc3rn",loading:"_3kfVuY9N",gradual:"iGdSbcMG"};function mo(e){var t=e.time,r=e.date,n=e.station,o=e.className,i=t.split(":"),a=r?" · ".concat(r):"";return y().createElement("div",{className:o},y().createElement("div",{className:yo.time},y().createElement(h.Fragment,null,i[0],i[1]&&y().createElement("span",{className:yo.colon},":"),i[1])),y().createElement("div",{className:yo.station},"".concat(n).concat(a)))}var bo=(0,h.memo)(mo);function go(e){var t=e.duration,r=e.trainNo;return y().createElement("div",{className:yo.center},y().createElement("div",{className:yo.box},y().createElement("div",{className:yo.line},y().createElement("i",{className:yo.arrow})),t&&y().createElement("div",{className:yo.label},t)),y().createElement("div",{className:yo.trainCode},r))}var Oo=(0,h.memo)(go);function wo(e){var t=e.list;return y().createElement("div",{className:yo.list},t.map((function(e,t){var r=e||{},n=r.name,o=r.typeText,i=r.seat;return y().createElement("div",{className:yo.passenger,key:t},y().createElement("div",{className:yo.name},n),y().createElement("div",null,o,y().createElement("span",{style:{color:"#58595b"}}," ",i)))})))}var Po=(0,h.memo)(wo),Eo=(0,ke.H)("/trip/2020-06-01/730e8b2a-4559-4d89-966d-9544587f4056.png");var ko=(0,d.Pi)((function(e){var t=e.data,r=(0,me.m)().store.disableShowRemindInfo,n=function(){var e=t.passengerList,r=t.orderSn;1!==(null==e?void 0:e.length)?(0,Se.dT)():(0,Se.Um)({orderSn:r})};return y().createElement(Ee.Z,{trackingInfo:{page_el_sn:vo}},y().createElement("div",{className:yo.item,onClick:function(){ho(n)}},y().createElement(B.Z,{background:!0,className:yo.ticket,resizeWidth:1017,src:Eo},y().createElement("div",{className:yo.top},y().createElement("div",{className:yo.tip},t.segmentNo?"第".concat(t.segmentNo,"程"):"即将出行"),t.gate&&y().createElement("div",{className:yo.gate},"检票口:".concat(t.gate))),y().createElement("div",{className:yo.content},y().createElement(bo,oe()({className:yo.startStation},t.departInfo)),y().createElement(Oo,t.trainInfo),y().createElement(bo,oe()({className:yo.endStation},t.arrivalInfo))),y().createElement("div",{className:yo.close,onClick:function(e){e.stopPropagation(),r(t.disableParams,t.orderSn)}})),y().createElement(Po,{list:t.passengerList})))}));var So=(0,d.Pi)((function(e){var t=e.className,r=(0,me.m)().store.remindList;return 0===r.length?null:y().createElement("div",{className:Q()(yo.container,t)},r.map((function(e,t){return y().createElement(ko,{key:t,data:e})})))})),_o=r(4558),Io=r(9770),Co=r(47284),To=r(24344),Do=r(20914);var Lo=(0,d.Pi)((function(){var e=(0,me.m)().store,t=e.isShowPacketPop,r=e.showLotteryPop,n=e.isShowPrizePop;return e.showFaceCouponPop?y().createElement(Do.Z,null):t?y().createElement(Io.Z,null):r?y().createElement(Co.Z,null):n?y().createElement(To.Z,null):null})),xo=r(33162),No=r(53613),Ro=r(1010),jo=r(52680),Ao="uab-Aipk",zo="xkusalpN",Ho="_8WIxKQZ8",Zo="qSs9vnWA";function qo(e){var t=e.activityInfo,r=void 0===t?[]:t,n=e.closeHandler,o=e.clickHandler,i=r.length;return y().createElement("div",{className:Ao},y().createElement(Ro.Z,{type:"hollow","data-test":"1351035-close",onClick:n}),y().createElement("p",{className:Ho},"恭喜您，获得".concat(i,"张专属优惠券")),y().createElement("div",{className:zo},r.map((function(e,t){return y().createElement(jo.Z,oe()({couponStyle:Ae.L9.NORMAL,key:"coupon-banner-".concat(t)},e))}))),y().createElement("div",{className:Zo,onClick:o,"data-test":"1351035"},"立即领取"))}var Bo=(0,h.memo)(qo),Mo=1351035,Fo=1667161;var Uo=(0,d.Pi)((function(){var e=(0,me.m)().store,t=e.realShowCoupon,r=e.onRefresh,n=e.setRedDot,o=e.setProperty,i=e.activityInfo;(0,h.useEffect)((function(){t&&(0,pt.wI)({page_el_sn:Mo})}),[t]);var a=function(){n(!1),o("isShowCoupon",!1)},c=Gr()((function(){return(0,No.V)(Mo,{coupontype:be},(function(){r(),a()}))}),1e3,{trailing:!1}),s=function(){return(0,No.V)(Fo,null,a)};return y().createElement(xo.Z,{visible:t,onBackdropClick:s,scrollSelector:"#scrollContainer",baseDialogProps:{style:{animation:"none",WebkitAnimation:"none"}}},y().createElement(Bo,{activityInfo:i,closeHandler:s,clickHandler:c}))})),Vo=r(56635),Go=r(7715),Wo=(0,d.Pi)((function(e){e.props;var t=(0,me.m)().store,r=t.isShowCouponPop,n=t.setProperty,o=t.showCouponPackage;return y().createElement(y().Fragment,null,y().createElement(Uo,null),o&&y().createElement(Go.Z,null),r&&y().createElement(Vo.Z,{hideCallback:function(){return n("isShowCouponPop")}}))})),$o=r(50008),Qo=r.n($o),Ko=r(98904),Xo=r(80886),Yo={"station.click":802545,"station.search.input.focus":802673,"station.search.input.change":802662,"station.location.city.click":802676,"hot-city.panel.item.click":802998,"history.panel.item.click":802675,"station-panel.panel.item.click":"","station.nav.click":802674,"station.impr":{op:"impr",page_el_sn:802672},"station.search.result.panel.item.click":1841577};function Jo(){Object.keys(Yo).forEach((function(e){Ko.QS.on(e,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.to,n=t.search,o=t.station,i=t.isCity,a={op:"click",type:"to"===r?2:1,is_city:i};n&&(a.search=n),o&&(a.city_name=o);var c=Yo[e];"object"!==Qo()(c)?a.page_el_sn=Yo[e]:Object.assign(a,c),(0,Xo.e0)(a)}))}))}var ei=(0,Ye.cM)((function(){return{op:"click",page_el_sn:2913195}})),ti=4961636,ri=r(36792),ni=r(79072),oi=r(30023);function ii(e,t){return!e||Date.now()-e>t}var ai=!0;function ci(e){ai=e}function si(e,t){if(ni.ZP.isNativePlatform){var r;(0,ri.z2)({callback:(r=w()(T().mark((function r(){var n;return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Re.Z.getItem(oi.k2.ENTRANCE_TEACH_POPUP);case 2:n=r.sent,ai&&ii(n,t)?(e(),ci(!1),Re.Z.setItem(oi.k2.ENTRANCE_TEACH_POPUP,Date.now())):D.ZP.back();case 4:case"end":return r.stop()}}),r)}))),function(){return r.apply(this,arguments)})})}}var ui,li,pi,fi="_4e+QfetV",vi="ch2lBJSZ",hi="UusgMIlh";function yi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var di,mi,bi,gi,Oi,wi,Pi,Ei,ki=(0,d.f3)("store")(ui=(0,d.Pi)((li=function(e){u()(n,e);var t,r=yi(n);function n(){var e;i()(this,n);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=r.call.apply(r,[this].concat(o))).store=e.props.store,e.setCustomBackButton=function(){var t=e.store,r=t.setProperty,n=t.grayMap,o=n.retainTimeSpacing,i=n.retainPopupType;!t.isSubjects&&si((function(){return r("isShowRetainPopup")}),o),i||ci(!1)},E()(e,"teachPopupClickHandler",pi,S()(e)),e}return c()(n,[{key:"componentDidMount",value:(t=w()(T().mark((function e(){var t,r,n,o,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.store,r=t.immerseStore,n=t.onWebviewBack,o=t.source,i=t.queryAchieveSpirit,e.next=3,r.initImmersiveOnClient();case 3:o===Ae.ae.DUODUO_SPIRIT&&i(),Jo(),this.setCustomBackButton(),(0,g.Z)(n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.store,t=e.trainSearchStore,r=e.selectType,n=e.updateSelectStation,o=e.isShowRetainPopup,i=e.showLoginBar,a=e.bannerList,c=e.source,s=this.store.immerseStore,u=s.immersiveEnable,l=s.navHeight,p=s.statusBarHeight,f=u?{paddingTop:"".concat(l,"px")}:{};return y().createElement("div",{className:vi,style:f},y().createElement(Ke,null),y().createElement(at,null),y().createElement("div",{className:fi},y().createElement(ut,null),y().createElement(_r,null),y().createElement(jr,null)),y().createElement(Ur,null),y().createElement(Yr,null),y().createElement(rn,null),i&&y().createElement(Ne.Z,{className:hi,onClick:function(){return(0,Se.pr)({page_el_sn:ti},Se._B.LOGIN_MANAGEMENT)},pageElSn:ti}),y().createElement(zn,null),y().createElement(z,null,y().createElement(y().Fragment,null,y().createElement(fo,null),y().createElement(So,null),a.length>0&&y().createElement(_o.Z,null))),y().createElement(z,null,y().createElement(y().Fragment,null,y().createElement(de,{title:"热门推荐",pageElSn:3316958}),y().createElement(W,{source:c}),y().createElement(re,null))),t.isShowTrainSearch&&y().createElement(q.Z,{immersiveEnable:u,trainSearchStore:t,to:r,callback:n,customBackButton:this.setCustomBackButton,style:Z(u,l,p)}),o&&y().createElement(xe.Z,{visible:o,clickHandler:this.teachPopupClickHandler}),y().createElement(Le,null),y().createElement(Lo,null),y().createElement(Wo,null))}}]),n}(y().Component),pi=I()(li.prototype,"teachPopupClickHandler",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.store.setProperty("isShowRetainPopup"),D.ZP.back()}}}),ui=li))||ui)||ui,Si=r(319),_i=r.n(Si),Ii=r(84753),Ci=r.n(Ii),Ti=r(22188),Di=r(38533),Li=r(48144),xi=r(30064),Ni=r(77181),Ri=r(80644),ji=r(72937),Ai=r(93054);function zi(e){return Hi.apply(this,arguments)}function Hi(){return(Hi=w()(T().mark((function e(t){var r,n,o,i,a,c,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.moduleName,n=t.defaultValue,o=void 0!==n&&n,i=t.funcName,a=t.params,c=void 0===a?null:a,s=t.minAndroidVer,u=t.minIOSVer,ni.ZP.isNativePlatform){e.next=3;break}return e.abrupt("return",o);case 3:return e.prev=3,e.next=6,(0,ri.Q6)(r,i,c,s,u);case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Zi(){return qi.apply(this,arguments)}function qi(){return(qi=w()(T().mark((function e(){var t,r,n,o,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.next=3;break;case 3:if(ni.ZP.isNativePlatform&&(0,xi.FU)(location.href)._pdd_fs){e.next=5;break}return e.abrupt("return",{immersiveEnable:0});case 5:return e.next=7,zi({moduleName:"WebScene",funcName:"getUnoContext",minAndroidVer:"4.78.0",minIOSVer:"4.78.0"});case 7:return t=e.sent,r=t.immerse,n=t.navigation_height,o=t.status_bar_height,i=t.webview_height,e.abrupt("return",{immersiveEnable:r,nh:n,sh:o,wh:i});case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{immersiveEnable:0});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function Bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var Mi=(di=Ti.aD.bound,mi=Ti.aD.bound,bi=function(e){u()(n,e);var t,r=Bi(n);function n(){var e;i()(this,n);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=r.call.apply(r,[this].concat(o)),E()(e,"immersiveEnable",gi,S()(e)),E()(e,"webviewHeight",Oi,S()(e)),E()(e,"navHeight",wi,S()(e)),E()(e,"statusBarHeight",Pi,S()(e)),E()(e,"isInitedOnClient",Ei,S()(e)),e}return c()(n,[{key:"init",value:function(e){var t=function(e){var t={};try{t=JSON.parse(Sn()(e,["headers","p-uno-context"]))}catch(e){}var r=t,n=r.immerse,o=void 0===n?0:n,i=r.nh,a=void 0===i?0:i,c=r.sh;return{immersiveEnable:o,nh:a,sh:void 0===c?0:c}}(e.__req),r=t.immersiveEnable,n=t.nh,o=t.sh;this.immersiveEnable=+r,n&&o&&(this.navHeight=n,this.statusBarHeight=o)}},{key:"initImmersiveOnClient",value:(t=w()(T().mark((function e(){var t,r,n,o,i,a=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length>0&&void 0!==a[0]&&a[0]||!this.isInitedOnClient&&!this.immersiveEnable){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Zi();case 5:if(t=e.sent,r=t.immersiveEnable,n=t.nh,o=t.sh,i=t.wh,this.immersiveEnable=+r,this.isInitedOnClient=!0,this.immersiveEnable){e.next=14;break}return e.abrupt("return");case 14:n&&o&&i&&(this.webviewHeight=i,this.navHeight=n,this.statusBarHeight=o);case 15:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}(Ai.z),gi=I()(bi.prototype,"immersiveEnable",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oi=I()(bi.prototype,"webviewHeight",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wi=I()(bi.prototype,"navHeight",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pi=I()(bi.prototype,"statusBarHeight",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ei=I()(bi.prototype,"isInitedOnClient",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I()(bi.prototype,"init",[di],Object.getOwnPropertyDescriptor(bi.prototype,"init"),bi.prototype),I()(bi.prototype,"initImmersiveOnClient",[mi],Object.getOwnPropertyDescriptor(bi.prototype,"initImmersiveOnClient"),bi.prototype),bi),Fi=r(57686),Ui=r(41474),Vi=r(68496),Gi=2,Wi=r(85068),$i=r(57186);function Qi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(r),!0).forEach((function(t){ae()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xi=function(){function e(){i()(this,e)}return c()(e,[{key:"timeMD",value:function(e){return yt.$.chineseMD(e)}},{key:"format",value:function(e,t,r,n,o){var i={};i.reserveList=this.formatReserveList(o||[]);var a=e||{},c=a.startDepartDate,s=a.noticeInfo,u=a.serverTime,l=n||{},p=l.departDate,f=l.onlyHighSpeedTrain,v=yt.$.dayIncrease(c,!0),h=p||v,y=this.setTrainInfo(t,h,f);return i.dateInfo=this.setDateInfo(e),i.trainInfo=(0,$i.TS)(r,y),i.trainInfo.time=this.getValidDate(i.dateInfo,i.trainInfo,v),i.trainInfo.time=this.getValidDate(i.dateInfo,i.trainInfo,v),i.serverTime=u,i.noticeInfo=s,i}},{key:"getValidDate",value:function(e,t,r){var n=e.preSaleStartDate,o=e.reserveEndDate,i=e.preSaleEndDate,a=t.time||0,c=o||i;return yt.$.twxDay(n,c,a)?a:r}},{key:"setDateInfo",value:function(e){var t=e.startDepartDate,r=e.endDepartDate,n=e.endBookDate,o=e.stuDateConfig,i=yt.$.buyDate(),a=i.start,c=i.end,s=i.book;return Ki({preSaleStartDate:t||a,preSaleEndDate:r||c,reserveEndDate:n||s,mode:"single",maxSelect:1},o)}},{key:"weekDayTag",value:function(e){return yt.$.tag(e)}},{key:"setTrainInfo",value:function(e,t,r){var n=e.endStation,o=e.startStation,i=e.isStartCity,a=void 0===i?0:i,c=e.isEndCity;return{startStation:o,endStation:n,isStartCity:a,isEndCity:void 0===c?0:c,time:t,ifTrainType:r?JSON.stringify(["23"]):null}}},{key:"updateTrainInfo",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.departTime;if(!e)return t;var o=Ki(Ki({},t),e);return e.time>n&&(o.time=origin.time),o}},{key:"formatReserveList",value:function(e){var t=this,r=[];return(e||[]).forEach((function(e){var n=e||{},o=n.reserveStatus,i=n.bookType,a=n.noticeDisableTime,c=void 0===a?t.serverTime:a,s=o===Wi.Mu.FAILED,u=o===Wi.Mu.SUCCESS,l=o===Wi.Mu.ONGOING||o===Wi.Mu.BEFORE_SUCCESS;if((s||u||l)&&!(c<t.serverTime)){var p=e.startStation,f=e.endStation,v=e.trainNo,h=e.departTime,y=e.trainDate,d=e.travelSn,m=e.payLimitTime,b=e.createdAt,g=e.orderSn,O=e.arriveTime,w=e.trainTravelType,P=e.multiple,E=e.ifReserveTimeout,k=e.segmentNo,S=l?Ui.Z.getSeatProgress(b):0,_=yt.$.hColonM(h),I=yt.$.chineseMD(y);r.push({seatProgress:S,startStation:p,endStation:f,departTime:h,departTimeStr:_,trainDateStr:I,travelSn:d,isFail:s,isSuccess:u,isLoading:l,trainNo:v,createdAt:b,trainDate:y,payLimitTime:m,orderSn:g,arriveTime:O,noticeDisableTime:c,trainTravelType:w,multiple:P,bookType:i,ifReserveTimeout:E,segmentNo:k})}})),r}}]),e}(),Yi=new Xi,Ji=r(92272),ea=r(60002),ta=r(60308),ra=r(9709);function na(e){return e.map((function(e){return{name:e.passengerName,seat:"".concat(e.carriageNo).concat(e.seatName),ticketType:e.ticketType,typeText:e.ticketType===ra.lL.CHILD?"(".concat(ra.ev[e.ticketType],")"):""}}))}function oa(e,t){return{time:yt.$.hColonM(t),station:e,date:yt.$.chineseMD(t)}}function ia(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(r),!0).forEach((function(t){ae()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ia(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ca={noticeInfo:{},stuDateConfig:{}};function sa(e){return aa(aa({},e=e||{}),{},{noticeInfo:{notice:e.notice||"",noticeLink:e.noticeLink,content:e.noticeContent||""},stuDateConfig:(0,ta._)(e)})}var ua={serverTime:Date.now(),historyInfo:{},bannerConfig:[],remindList:[],reserveList:[],guessSearch:[]};function la(e){var t=e=e||{},r=t.serverTime,n=t.departureOrders,o=t.pageConfig,i=t.location,a=t.reserveList,c=t.guessSearchVos,s=function(e){return(e.homeBannerList||[]).map((function(e){return{imgUrl:e.imgUrl||"",linkUrl:e.linkUrl||"",id:e.id}}))}(o||{}),u=function(e,t){var r=(t||{}).cityName,n=null;return r&&(n={startStation:r,endStation:r===Ae.og.endStation?Ae.og.startStation:Ae.og.endStation}),aa(aa({},e),{},{defaultHistory:n})}(e.queryHistory||{conditionList:[],onlyHighSpeedTrain:!1},i);return{serverTime:r,historyInfo:u,bannerConfig:s,remindList:((n||{}).list||[]).map((function(e){var t=e.passengerVolist||[],r=t[0]||{};return{departInfo:oa(e.startStation,e.departTime),arrivalInfo:oa(e.endStation,e.arriveTime),gate:r.gateNo,orderSn:r.orderSn,trainInfo:{duration:e.duration,trainNo:e.trainNo},disableParams:{departTime:e.departTime,key:e.key},passengerList:na(t)}})),reserveList:a||[],guessSearch:c||[]}}var pa,fa,va=r(19335);function ha(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(r),!0).forEach((function(t){ae()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ha(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function da(e){return(0,yt.e)(e).format("YYYY.MM.DD")}function ma(e,t){var r=e||{},n=t||{};return{title:r.title,btnText:r.btnText,btnTag:r.btnTag,linkUrl:r.btnLinkUrl,guideText:n.title,ifShowBtn:n.ifShowLinkBtn}}function ba(e,t){var r,n=e||{},o=n.startTime,i=n.endTime,a=e||{},c=a.minAmountShow,s=a.couponFaceValueShow,u=a.couponFaceValue,l=a.isCash,p=a.couponTypeShow,f=a.prizeWinning,v=a.type,h=a.discountShow,y=a.discount,d=a.maxDiscountAmountShow;o=da(o),i=t?(r=i,(0,yt.e)(r).format("MM.DD")):da(i);var m=function(e,t,r){return e?"满".concat(e,"可用"):t?"最高抵".concat(r,"元"):""}(c,h,d);return{valueShow:s||h,discountShow:h,discount:y,startTime:o,endTime:i,minAmountShow:c,couponFaceValueShow:s,couponFaceValue:u,isCash:l,couponName:p||"",prizeWinning:!!f,type:v,desc:l?"无门槛":m}}function ga(e){return e.map((function(e){return ba(e,1)}))}function Oa(e){var t=e||{},r=t.coupons,n=t.privilegePacketPrize,o=t.privilegePacketTitle;return{couponList:(r||[]).filter((function(e){return e.valid})).map((function(e){return ba(e,0)})),privilegeTitle:o||"",privilegeList:(n||[]).map((function(e){return{text:(null==e?void 0:e.text)||"",type:null==e?void 0:e.prizeType}}))}}function wa(e){return null!=e&&e.length?e.map((function(e){var t=e||{},r=t.text,n=t.prizeType,o=t.price,i=t.prizeWinning,a=t.prizeCount,c=t.discountCouponShow;return{text:r||"",priceStd:o?(0,va.T4)(o):"",type:n,isLottery:!!i,num:a,discountShow:c}})):[]}function Pa(e){var t,r,n,o,i,a,c=e||{},s=c.couponType,u=c.couponFaces,l=c.activityStatus,p=c.couponFaceTotalShow,f=c.packetVo,v=c.lotteryVo,h=c.goodsWindowVo,y=c.goodsEntranceVo,d=c.usedCouponToday,m=(t=s,n=(r=f||{}).prizeTitle,o=r.prizeList,i=r.popUp,a=t===ge&&(null==o?void 0:o.length)&&n,{title:n||"",prizeList:wa(o),hasPrize:a,isPopUp:!!i,isFold:0===i&&a}),b=function(e,t){var r,n,o,i=e||{},a=i.lotteryTitle,c=i.prizeList,s=i.popUp,u=t===Oe&&(null==c?void 0:c.length)&&a;return{title:a||"",prizeList:(r=wa(c),n=r.find((function(e){return e.isLottery})),o=r.filter((function(e){return!e.isLottery})),o.length%2==1&&o.push(o[0]),o.splice(o.length/2,0,n),o),hasPrize:u,isPopUp:!!s,isFold:0===s&&u}}(v,s),g=l===Ae.Mx.RECEIVE;return{activityInfo:ga(u||[]),isReceive:g,couponFaceTotalShow:p||"",activityType:s||be,faceTitle:(null==f?void 0:f.packetTitle)||"",packetInfo:m,lotteryInfo:b,hasPacketPrize:g&&(null==m?void 0:m.hasPrize),hasLotteryPrize:g&&(null==b?void 0:b.hasPrize),isFoldPrize:(null==m?void 0:m.isFold)||(null==b?void 0:b.isFold),couponPackageInfo:ma(h,y),totalSubsidyStd:d?(0,va.T4)(d):""}}function Ea(e){var t,r=Oa(e=e||{}).couponList;return ya(ya({},e),{},{title:(null===(t=e)||void 0===t?void 0:t.winPrizeTitle)||"",coupons:r,prizeInfo:(r||[]).find((function(e){return e.prizeWinning}))||{}})}function ka(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(r),!0).forEach((function(t){ae()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ka(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var Ia,Ca,Ta,Da,La,xa,Na,Ra,ja,Aa,za,Ha,Za,qa,Ba,Ma,Fa,Ua,Va,Ga,Wa,$a,Qa,Ka,Xa,Ya,Ja,ec,tc,rc,nc,oc,ic,ac,cc,sc,uc,lc,pc,fc,vc,hc,yc,dc,mc,bc,gc,Oc,wc,Pc,Ec,kc,Sc,_c,Ic,Cc,Tc,Dc,Lc,xc,Nc,Rc,jc,Ac,zc,Hc,Zc,qc,Bc,Mc,Fc,Uc,Vc,Gc,Wc,$c,Qc,Kc,Xc,Yc,Jc="api/mayflower/train/query/homepage/query_config",es="api/mayflower/train/query/homepage/query_user_data",ts="api/emily/train/activity/query_usable_coupon",rs="api/emily/train/activity/query",ns="api/emily/train/activity/create_coupons",os="api/mayflower/train/query/ticket/clear_history",is="api/mayflower/train/bubble/query",as="/api/mayflower/order/disable_remind_departure_info",cs="api/mayflower/train/query/ticket/query_ticket_info",ss="api/mayflower/crh/login_status",us="api/emily/train/activity/cancel_prize_packet",ls="api/emily/train/activity/confirm_popup_coupon",ps="api/hertz/mission/v2/achieve",fs=(pa=(0,ea.Z)(150),fa=function(e){u()(r,e);var t=_a(r);function r(){return i()(this,r),t.apply(this,arguments)}return c()(r,[{key:"queryCommonConfig",value:function(){return this.get({url:Jc,customDataHandler:sa,defaultValue:ca})}},{key:"queryPersonalInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=Sa(Sa({},e),{},{isFromUserCenter:e.source===Ae.ae.PERSONAL}),this.post({url:es,params:e,customDataHandler:la,defaultValue:ua})}},{key:"queryCouponList",value:function(e){return this.post({url:ts,params:e,customDataHandler:Oa,defaultValue:{couponList:[]}})}},{key:"queryCoupon",value:function(e){return this.post({url:rs,risk:!0,params:e,customDataHandler:Pa,defaultValue:{activityInfo:[]}})}},{key:"createCoupon",value:function(e){return this.post({url:ns,params:e,extrats:{defaultErrorHandler:function(e){return e}},risk:!0,customDataHandler:Ea,defaultValue:{}})}},{key:"disableRemindInfo",value:function(e){return this.post({url:as,params:e,defaultValue:{}})}},{key:"clearHostory",value:function(){return this.post({url:os,defaultValue:{}})}},{key:"queryBubble",value:function(){return this.post({url:is,customDataHandler:function(e){return e.map((function(e,t){return Sa(Sa({},e),{},{key:"".concat(e.avatar,"-").concat(t)})}))},defaultValue:[]})}},{key:"setLocalTrainInfo",value:function(e){(0,Fi.FD)(e),Re.Z.setItem(Ae.k2.TRAIN_INFO,e)}},{key:"getLocalTrainInfo",value:function(){return Re.Z.getItem(Ae.k2.TRAIN_INFO)}},{key:"queryTicketInfo",value:function(e){return this.post({url:cs,params:e,risk:!0,extrats:{encodeNativeResponse:!1},defaultValue:{}})}},{key:"query12306Account",value:function(){return this.post({url:ss,defaultValue:{}})}},{key:"cancelFoldPrize",value:function(e){return this.post({url:us,params:e,defaultValue:{}})}},{key:"noticeDisplayPop",value:function(e){return this.post({url:ls,params:e,risk:!0,defaultValue:{}})}},{key:"queryAchieveSpirit",value:function(e){return this.post({url:ps,params:e,defaultValue:{}})}}]),r}(Ji.b),I()(fa.prototype,"setLocalTrainInfo",[pa],Object.getOwnPropertyDescriptor(fa.prototype,"setLocalTrainInfo"),fa.prototype),fa);function vs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(r),!0).forEach((function(t){ae()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ys(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var ds,ms=(Ia=(0,Ni.$)(ji.Z),Ca=(0,Ni.$)(Mi),Ta=(0,Ni.$)(Vi.Z),Da=Ti.LO.shallow,La=Ti.LO.shallow,xa=Ti.LO.shallow,Na=Ti.LO.shallow,Ra=Ti.LO.shallow,ja=Ti.LO.shallow,Aa=Ti.aD.bound,za=Ti.aD.bound,Ha=Ti.aD.bound,Za=Ti.aD.bound,qa=Ti.aD.bound,Ba=Ti.aD.bound,Ma=Ti.aD.bound,Fa=Ti.aD.bound,Ua=Ti.aD.bound,Va=Ti.aD.bound,Ga=Ti.aD.bound,Wa=Ti.aD.bound,$a=Ti.aD.bound,Qa=Ti.aD.bound,Ka=Ti.aD.bound,Xa=Ti.aD.bound,Ya=Ti.aD.bound,Ja=Ti.aD.bound,ec=Ti.aD.bound,tc=Ti.aD.bound,rc=Ti.aD.bound,nc=Ti.aD.bound,oc=Ti.aD.bound,ic=Ti.aD.bound,ac=Ti.aD.bound,cc=Ti.aD.bound,sc=function(e){u()(v,e);var t,r,n,o,a,s,l,p,f=ys(v);function v(){var e;i()(this,v);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=f.call.apply(f,[this].concat(r)),E()(e,"trainSearchStore",uc,S()(e)),E()(e,"immerseStore",lc,S()(e)),E()(e,"cashbackActivityStore",pc,S()(e)),E()(e,"isNative",fc,S()(e)),E()(e,"isShowCalendar",vc,S()(e)),E()(e,"isReceive",hc,S()(e)),E()(e,"isShowCouponPop",yc,S()(e)),E()(e,"isShowCoupon",dc,S()(e)),E()(e,"isShowPacketPop",mc,S()(e)),E()(e,"isShowPrizePop",bc,S()(e)),E()(e,"isFlag",gc,S()(e)),E()(e,"isFromAppWindow",Oc,S()(e)),E()(e,"isShowRetainPopup",wc,S()(e)),E()(e,"isFoldPrize",Pc,S()(e)),E()(e,"isSubjects",Ec,S()(e)),E()(e,"isLogin",kc,S()(e)),E()(e,"hasPacketPrize",Sc,S()(e)),E()(e,"hasLotteryPrize",_c,S()(e)),E()(e,"isActivePrizePop",Ic,S()(e)),E()(e,"bubbleLoadFinish",Cc,S()(e)),e.isAddSourceLock=!1,E()(e,"history",Tc,S()(e)),E()(e,"noticeInfo",Dc,S()(e)),E()(e,"bannerList",Lc,S()(e)),E()(e,"bubbleList",xc,S()(e)),E()(e,"grayMap",Nc,S()(e)),E()(e,"dateInfo",Rc,S()(e)),E()(e,"reserveList",jc,S()(e)),E()(e,"trainInfo",Ac,S()(e)),E()(e,"seatProgress",zc,S()(e)),E()(e,"activityInfo",Hc,S()(e)),E()(e,"couponList",Zc,S()(e)),E()(e,"couponFaceTotalShow",qc,S()(e)),E()(e,"packetInfo",Bc,S()(e)),E()(e,"lotteryInfo",Mc,S()(e)),E()(e,"createCouponInfo",Fc,S()(e)),E()(e,"privilegeList",Uc,S()(e)),E()(e,"privilegeTitle",Vc,S()(e)),E()(e,"remindList",Gc,S()(e)),E()(e,"activityType",Wc,S()(e)),E()(e,"selectType",$c,S()(e)),E()(e,"couponPackageInfo",Qc,S()(e)),E()(e,"totalSubsidyStd",Kc,S()(e)),E()(e,"guessSearch",Xc,S()(e)),E()(e,"progressMap",Yc,S()(e)),e.progressInstanceMap={},e.source="",e.source_lock="",e.getGrayValue=function(t){var r=(0,vt.KQ)("backPopupSourceData",t)||{};return{grayMap:{retainPopupType:r[e.source],retainTimeSpacing:parseInt(r.showTimeSpacing,10)||864e5,loginGray:(0,vt.KQ)("homeLoginGray",t)||!1}}},e}return c()(v,[{key:"showLoginCenter",get:function(){return this.source!==oi.Hx.DDJB_PUSH}},{key:"startTimeMD",get:function(){var e=this.trainInfo.time;return Yi.timeMD(e)}},{key:"startTimeWeek",get:function(){var e=this.trainInfo.time;return Yi.weekDayTag(e,this.serverTime)}},{key:"showFaceCouponPop",get:function(){var e;return this.hasPacketPrize&&this.isShowCoupon&&((null===(e=this.packetInfo)||void 0===e?void 0:e.isPopUp)||this.isActivePrizePop)}},{key:"showLotteryPop",get:function(){var e;return this.hasLotteryPrize&&this.isShowCoupon&&((null===(e=this.lotteryInfo)||void 0===e?void 0:e.isPopUp)||this.isActivePrizePop)}},{key:"showReceiveCoupon",get:function(){return!this.isFromAppWindow&&this.isReceive&&this.activityInfo.length>0&&this.isShowCoupon}},{key:"realShowCoupon",get:function(){var e,t=((null===(e=this.cashbackActivityStore)||void 0===e?void 0:e.cashEntranceInfo)||{}).showReceivePop;return!this.hasPacketPrize&&!this.hasLotteryPrize&&(t?this.showReceiveCoupon&&!this.cashbackActivityStore.hasCashbackPopup:this.showReceiveCoupon)}},{key:"shareInfo",get:function(){return{title:"【多多火车票】买火车票就上拼多多",shareURL:(0,Fi.Q2)(Se._B.TRAIN_HOMEPAGE,this.isComposePage?{isComposePage:1}:null),message:"多多让您轻松出行",enabled_channels:[0,7]}}},{key:"stuDialogContent",get:function(){return this.dateInfo.stuIsValid?"学生票优惠时间为：".concat(this.dateInfo.stuDurationShow,"，请重新选择出发日期。"):""}},{key:"isShowTip",get:function(){return this.couponList.length>0||this.activityInfo.length>0}},{key:"sourceParam",get:function(){return Ae.pT[this.source]||Ae.pT.default}},{key:"maxSingleCouponValueShow",get:function(){var e,t;if(!this.isShowTip)return"";var r=[].concat(_i()(null!==(e=this.activityInfo)&&void 0!==e?e:[]),_i()(null!==(t=this.couponList)&&void 0!==t?t:[])),n=Ci()(r,(function(e){return parseInt(e.discount,10)||0})).discountShow;if(n)return"立享".concat(n,"折");var o=Ci()(r,(function(e){return parseInt(e.couponFaceValue,10)||0})),i=o.couponFaceValue,a=o.type;return"".concat(a===Gi?"学生票":"","立减").concat((0,En.bd)(i),"元 ")}},{key:"showCouponPackage",get:function(){var e;return this.activityType===we&&(null===(e=this.activityInfo)||void 0===e?void 0:e.length)>0}},{key:"hasStudentCoupon",get:function(){var e,t;return(null===(e=this.couponList)||void 0===e?void 0:e.find((function(e){return e.type===Gi})))||(null===(t=this.activityInfo)||void 0===t?void 0:t.find((function(e){return e.type===Gi})))}},{key:"hasReserveOrder",get:function(){var e;return null===(e=this.reserveList)||void 0===e?void 0:e.find((function(e){return e.isLoading&&!e.ifReserveTimeout}))}},{key:"showLoginBar",get:function(){return this.grayMap.loginGray&&this.showLoginCenter&&!this.isLogin}},{key:"queryTrainTickets",value:function(){var e=this.trainInfo,t=e.startStation,r=e.endStation,n=e.time,o={startStation:t,endStation:r,departDate:yt.$.dateStartTime(n),preQueryRequest:!0};this.$service.queryTicketInfo(o)}},{key:"setProperty",value:function(e,t){this[e]=void 0===t?!this[e]:t}},{key:"setRedDot",value:function(e){this.isFlag=e,Re.Z.setItem(Ae.k2.TIP_DOT,{status:e})}},{key:"setLocalTrainInfo",value:function(){this.$service.setLocalTrainInfo(this.trainInfo)}},{key:"setTrainInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.trainInfo=hs(hs({},this.trainInfo),e),this.setLocalTrainInfo()}},{key:"onSelectStation",value:function(e){this.selectType=e,this.setLocalTrainInfo(),this.trainSearchStore.showTrainSearch()}},{key:"updateSelectStation",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"to"===(t=t||this.selectType)?this.setTrainInfo({endStation:e,isEndCity:r}):"from"===t&&this.setTrainInfo({startStation:e,isStartCity:r})}},{key:"updateStationInfo",value:function(){var e=this.trainInfo,t=e.startStation,r=e.endStation,n=e.isStartCity,o=e.isEndCity;this.setTrainInfo({startStation:r,endStation:t,isStartCity:o,isEndCity:n})}},{key:"toggleSelectSpecialType",value:function(e){this.setTrainInfo({ifTrainType:e?JSON.stringify([e]):null})}},{key:"toggleSelectStuTicket",value:function(){this.setTrainInfo({ifStudentTicket:1===this.trainInfo.ifStudentTicket?0:1})}},{key:"clearHistory",value:function(){this.history=[],this.$service.clearHostory()}},{key:"setReserveList",value:function(e){this.reserveList=Yi.formatReserveList(e)}},{key:"cleanReserveInfo",value:function(){var e,t=((null===(e=this.reserveList)||void 0===e?void 0:e[0])||{}).noticeDisableTime;Date.now()>=t&&this.setReserveList([])}},{key:"noticeDisplayPop",value:function(){return this.$service.noticeDisplayPop({coupon_type:this.activityType})}},{key:"createCoupon",value:(p=w()(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$service.createCoupon(hs(hs({},this.sourceParam),{},{source:this.source,couponType:this.activityType}));case 2:t=e.sent,this.createCouponInfo=t||{},t.errorCode&&(0,ft.Z)(t.errorMsg||Ae.ET.DEFAULT);case 5:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"onRefresh",value:(l=w()(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createCoupon();case 2:this.queryCouponList(this.createCouponInfo.coupons);case 3:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"onWebviewBack",value:(s=w()(T().mark((function e(){var t,r,n,o,i,a,c,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).push(this.$service.queryPersonalInfo({source:this.source})),t.push(this.$service.query12306Account()),t.push(this.queryCouponList()),e.next=6,Promise.all(t);case 6:if(r=e.sent,n=x()(r,2),o=n[0],i=n[1],a=o.bannerConfig,c=o.reserveList,s=o.guessSearch,this.guessSearch=s,this.isLogin=1===parseInt(null==i?void 0:i.loginStatus,10),this.bannerList=a||[],this.setReserveList(c),this.hasReserveOrder){e.next=17;break}return e.abrupt("return");case 17:this.pollingReserve();case 18:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"setProgressVaule",value:function(e,t){this.progressMap[e]=parseInt(t,10)}},{key:"pollingReserve",value:function(){var e=this;clearInterval(this.pollingTimer),this.reserveList.forEach((function(t){var r=t.isLoading,n=t.createdAt,o=t.travelSn;e.progressInstanceMap[o]=e.progressInstanceMap[o]||new Ui.E,e.progressInstanceMap[o].setProgress(r,n,(function(t){return e.setProgressVaule(o,t)}))}));this.pollingTimer=setInterval(w()(T().mark((function t(){var r,n;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.hasReserveOrder){t.next=8;break}return t.next=3,e.$service.queryPersonalInfo({source:e.source});case 3:r=t.sent,n=r.reserveList,e.setReserveList(n),t.next=9;break;case 8:clearInterval(e.pollingTimer),e.reserveList.forEach((function(t){var r,n=t.isSuccess,o=t.travelSn,i=t.seatProgress;null===(r=e.progressInstanceMap[o])||void 0===r||r.setProgressSuccess(n||!0,e.progressMap[o]||i,(function(t){return e.setProgressVaule(o,t)}))}));case 9:case"end":return t.stop()}}),t)}))),1e3)}},{key:"prepareClientData",value:(a=w()(T().mark((function e(){var t,r,n,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,Li.r)(this.isComposePage?"火车票/机票":"多多火车票"),e.next=3,Promise.all([this.$service.queryBubble(),Re.Z.getItem(Ae.k2.TIP_DOT)]);case 3:t=e.sent,r=x()(t,2),n=r[0],o=r[1],n=n||[],o=o||{status:!1},this.bubbleList=n,this.bubbleLoadFinish=!0,this.setRedDot(o.status),this.trainSearchStore.initData(),this.trainSearchStore.isShowTrainSearch||(this.selectType=""),this.hasReserveOrder&&this.pollingReserve(),this.isAddSourceLock&&(0,Fi.FD)({source_lock:Ae.ae.INDEX_AGAIN});case 17:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"disableShowRemindInfo",value:(o=w()(T().mark((function e(t,r){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.remindList=this.remindList.filter((function(e){return e.orderSn!==r})),e.next=3,this.$service.disableRemindInfo(t);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"getQueryParams",value:function(e,t){var r=decodeURIComponent(Sn()(e,"container_url")||"");return((0,xi.mB)(r.split("?")[1]||"")||{})[t]||Sn()(e,[t])}},{key:"initDataFromQueries",value:function(e){var t=e.query,r=e.pathname,n={startStation:Sn()(t,["start_station"]),endStation:Sn()(t,["end_station"]),time:parseInt(Sn()(t,["time"]),10),ifTrainType:Sn()(t,["if_train_type"]),ifStudentTicket:parseInt(Sn()(t,"if_student_ticket"),10)||0,isStartCity:parseInt(Sn()(t,"is_start_city"),10)||0,isEndCity:parseInt(Sn()(t,"is_end_city"),10)||0};return{selectType:Sn()(t,["to"]),source:this.getQueryParams(t,"source"),sourceLock:Sn()(t,["source_lock"]),isComposePage:1===parseInt(Sn()(t,["is_compose_page"]),10)||r.includes("trip_tickets"),isSubjects:1===parseInt(Sn()(t,["if_subjects"]),10),launchCoupon:1===parseInt(Sn()(t,["launch_coupon"]),10),cpsSign:t.cps_sign||"",trainInfo:n,loginLess:Sn()(t,["login_less"])}}},{key:"queryCouponList",value:(n=w()(T().mark((function e(t){var r,n,o,i=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryCouponInfo();case 2:r=e.sent,n=r.couponList,o=n.length?n:t||[],(0,Ti.z)((function(){Object.assign(i,hs(hs({},r),{},{couponList:o}))}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"initCouponPopShow",value:function(){var e=this.source===Ae.ae.INDEX,t=this.sourceLock===Ae.ae.INDEX_AGAIN,r=e&&!t;return{isFromAppWindow:e||t,isAddSourceLock:r,isShowCouponPop:r&&this.isReceive||this.launchCoupon}}},{key:"queryCouponInfo",value:(r=w()(T().mark((function e(){var t,r,n,o,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={activitySubType:this.sourceParam.activitySubType,source:this.source},e.next=3,Promise.all([this.$service.queryCouponList(t),this.$service.queryCoupon(t)]);case 3:return r=e.sent,n=x()(r,2),o=n[0],i=n[1],e.abrupt("return",hs(hs({},o),i));case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"cancelFoldPrize",value:function(){return this.$service.cancelFoldPrize({couponType:this.activityType})}},{key:"queryAchieveSpirit",value:function(){var e=(0,xi.FU)(window.location.href)||{};return this.$service.queryAchieveSpirit({module_id:this.getQueryParams(e,"module_id"),mission_id:this.getQueryParams(e,"mission_id")})}},{key:"setupModel",value:(t=w()(T().mark((function e(t){var r,n,o,i,a,c,s,u,l,p,f,v,h,y,d,m;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userAgent,this.immerseStore.init(t),(n=[]).push(this.$service.queryCommonConfig()),n.push(this.$service.queryPersonalInfo({source:this.source})),n.push(this.queryCouponInfo()),n.push(this.$service.query12306Account()),n.push(this.cashbackActivityStore.initData(!0)),e.next=10,Promise.all(n);case 10:return o=e.sent,i=x()(o,4),a=i[0],c=i[1],s=i[2],u=i[3],l=c.historyInfo,p=c.bannerConfig,f=c.reserveList,v=c.remindList,h=c.guessSearch,y=l.conditionList||[],d=y[0]||l.defaultHistory||Ae.og,m=Yi.format(a,d,this.trainInfo,l,f),e.abrupt("return",hs(hs(hs({},m),s),{},{history:y,bannerList:p||[],remindList:v||[],isNative:(0,Di.Xf)(r).isNativePlatform,isLogin:1===parseInt(null==u?void 0:u.loginStatus,10),guessSearch:h}));case 21:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"initServices",value:function(e){this.$service=new fs(e)}},{key:"getDatasource",value:function(){return[this.initDataFromQueries,this.getGrayValue,this.setupModel,this.initCouponPopShow]}}]),v}(Ri._),uc=I()(sc.prototype,"trainSearchStore",[Ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lc=I()(sc.prototype,"immerseStore",[Ca],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pc=I()(sc.prototype,"cashbackActivityStore",[Ta],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fc=I()(sc.prototype,"isNative",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vc=I()(sc.prototype,"isShowCalendar",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hc=I()(sc.prototype,"isReceive",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yc=I()(sc.prototype,"isShowCouponPop",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dc=I()(sc.prototype,"isShowCoupon",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mc=I()(sc.prototype,"isShowPacketPop",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bc=I()(sc.prototype,"isShowPrizePop",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gc=I()(sc.prototype,"isFlag",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Oc=I()(sc.prototype,"isFromAppWindow",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wc=I()(sc.prototype,"isShowRetainPopup",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pc=I()(sc.prototype,"isFoldPrize",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ec=I()(sc.prototype,"isSubjects",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kc=I()(sc.prototype,"isLogin",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sc=I()(sc.prototype,"hasPacketPrize",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_c=I()(sc.prototype,"hasLotteryPrize",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ic=I()(sc.prototype,"isActivePrizePop",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cc=I()(sc.prototype,"bubbleLoadFinish",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tc=I()(sc.prototype,"history",[Da],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dc=I()(sc.prototype,"noticeInfo",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Lc=I()(sc.prototype,"bannerList",[xa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xc=I()(sc.prototype,"bubbleList",[Na],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nc=I()(sc.prototype,"grayMap",[Ra],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Rc=I()(sc.prototype,"dateInfo",[ja],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),jc=I()(sc.prototype,"reserveList",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ac=I()(sc.prototype,"trainInfo",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),zc=I()(sc.prototype,"seatProgress",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hc=I()(sc.prototype,"activityInfo",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zc=I()(sc.prototype,"couponList",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qc=I()(sc.prototype,"couponFaceTotalShow",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Bc=I()(sc.prototype,"packetInfo",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Mc=I()(sc.prototype,"lotteryInfo",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Fc=I()(sc.prototype,"createCouponInfo",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Uc=I()(sc.prototype,"privilegeList",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vc=I()(sc.prototype,"privilegeTitle",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gc=I()(sc.prototype,"remindList",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wc=I()(sc.prototype,"activityType",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$c=I()(sc.prototype,"selectType",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qc=I()(sc.prototype,"couponPackageInfo",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Kc=I()(sc.prototype,"totalSubsidyStd",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Xc=I()(sc.prototype,"guessSearch",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yc=I()(sc.prototype,"progressMap",[Ti.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I()(sc.prototype,"startTimeMD",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"startTimeMD"),sc.prototype),I()(sc.prototype,"startTimeWeek",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"startTimeWeek"),sc.prototype),I()(sc.prototype,"showFaceCouponPop",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"showFaceCouponPop"),sc.prototype),I()(sc.prototype,"showLotteryPop",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"showLotteryPop"),sc.prototype),I()(sc.prototype,"showReceiveCoupon",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"showReceiveCoupon"),sc.prototype),I()(sc.prototype,"realShowCoupon",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"realShowCoupon"),sc.prototype),I()(sc.prototype,"shareInfo",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"shareInfo"),sc.prototype),I()(sc.prototype,"stuDialogContent",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"stuDialogContent"),sc.prototype),I()(sc.prototype,"isShowTip",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"isShowTip"),sc.prototype),I()(sc.prototype,"maxSingleCouponValueShow",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"maxSingleCouponValueShow"),sc.prototype),I()(sc.prototype,"showCouponPackage",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"showCouponPackage"),sc.prototype),I()(sc.prototype,"hasStudentCoupon",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"hasStudentCoupon"),sc.prototype),I()(sc.prototype,"hasReserveOrder",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"hasReserveOrder"),sc.prototype),I()(sc.prototype,"showLoginBar",[Ti.Fl],Object.getOwnPropertyDescriptor(sc.prototype,"showLoginBar"),sc.prototype),I()(sc.prototype,"queryTrainTickets",[Aa],Object.getOwnPropertyDescriptor(sc.prototype,"queryTrainTickets"),sc.prototype),I()(sc.prototype,"setProperty",[za],Object.getOwnPropertyDescriptor(sc.prototype,"setProperty"),sc.prototype),I()(sc.prototype,"setRedDot",[Ha],Object.getOwnPropertyDescriptor(sc.prototype,"setRedDot"),sc.prototype),I()(sc.prototype,"setLocalTrainInfo",[Za],Object.getOwnPropertyDescriptor(sc.prototype,"setLocalTrainInfo"),sc.prototype),I()(sc.prototype,"setTrainInfo",[Ti.aD],Object.getOwnPropertyDescriptor(sc.prototype,"setTrainInfo"),sc.prototype),I()(sc.prototype,"onSelectStation",[qa],Object.getOwnPropertyDescriptor(sc.prototype,"onSelectStation"),sc.prototype),I()(sc.prototype,"updateSelectStation",[Ba],Object.getOwnPropertyDescriptor(sc.prototype,"updateSelectStation"),sc.prototype),I()(sc.prototype,"updateStationInfo",[Ma],Object.getOwnPropertyDescriptor(sc.prototype,"updateStationInfo"),sc.prototype),I()(sc.prototype,"toggleSelectSpecialType",[Fa],Object.getOwnPropertyDescriptor(sc.prototype,"toggleSelectSpecialType"),sc.prototype),I()(sc.prototype,"toggleSelectStuTicket",[Ua],Object.getOwnPropertyDescriptor(sc.prototype,"toggleSelectStuTicket"),sc.prototype),I()(sc.prototype,"clearHistory",[Va],Object.getOwnPropertyDescriptor(sc.prototype,"clearHistory"),sc.prototype),I()(sc.prototype,"setReserveList",[Ga],Object.getOwnPropertyDescriptor(sc.prototype,"setReserveList"),sc.prototype),I()(sc.prototype,"cleanReserveInfo",[Ti.aD],Object.getOwnPropertyDescriptor(sc.prototype,"cleanReserveInfo"),sc.prototype),I()(sc.prototype,"noticeDisplayPop",[Wa],Object.getOwnPropertyDescriptor(sc.prototype,"noticeDisplayPop"),sc.prototype),I()(sc.prototype,"createCoupon",[$a],Object.getOwnPropertyDescriptor(sc.prototype,"createCoupon"),sc.prototype),I()(sc.prototype,"onRefresh",[Qa],Object.getOwnPropertyDescriptor(sc.prototype,"onRefresh"),sc.prototype),I()(sc.prototype,"onWebviewBack",[Ka],Object.getOwnPropertyDescriptor(sc.prototype,"onWebviewBack"),sc.prototype),I()(sc.prototype,"setProgressVaule",[Xa],Object.getOwnPropertyDescriptor(sc.prototype,"setProgressVaule"),sc.prototype),I()(sc.prototype,"pollingReserve",[Ya],Object.getOwnPropertyDescriptor(sc.prototype,"pollingReserve"),sc.prototype),I()(sc.prototype,"prepareClientData",[Ja],Object.getOwnPropertyDescriptor(sc.prototype,"prepareClientData"),sc.prototype),I()(sc.prototype,"disableShowRemindInfo",[ec],Object.getOwnPropertyDescriptor(sc.prototype,"disableShowRemindInfo"),sc.prototype),I()(sc.prototype,"initDataFromQueries",[tc],Object.getOwnPropertyDescriptor(sc.prototype,"initDataFromQueries"),sc.prototype),I()(sc.prototype,"queryCouponList",[rc],Object.getOwnPropertyDescriptor(sc.prototype,"queryCouponList"),sc.prototype),I()(sc.prototype,"initCouponPopShow",[nc],Object.getOwnPropertyDescriptor(sc.prototype,"initCouponPopShow"),sc.prototype),I()(sc.prototype,"queryCouponInfo",[oc],Object.getOwnPropertyDescriptor(sc.prototype,"queryCouponInfo"),sc.prototype),I()(sc.prototype,"cancelFoldPrize",[ic],Object.getOwnPropertyDescriptor(sc.prototype,"cancelFoldPrize"),sc.prototype),I()(sc.prototype,"queryAchieveSpirit",[ac],Object.getOwnPropertyDescriptor(sc.prototype,"queryAchieveSpirit"),sc.prototype),I()(sc.prototype,"setupModel",[cc],Object.getOwnPropertyDescriptor(sc.prototype,"setupModel"),sc.prototype),sc);function bs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var gs=(0,m.I)({store:ms},Ae.ZD)(ds=(0,d.f3)("store")(ds=(0,d.Pi)(ds=function(e){u()(r,e);var t=bs(r);function r(){var e;i()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).store=e.props.store,e}return c()(r,[{key:"componentDidMount",value:function(){Jo(),(0,g.Z)(this.store.onWebviewBack)}},{key:"shareInfo",get:function(){return this.store.isSubjects?null:this.store.shareInfo}},{key:"render",value:function(){return y().createElement(b.Z,{shareInfo:this.shareInfo,perfLog:!0,isShowGotoApp:!0},y().createElement(ki,null))}}]),r}(y().Component))||ds)||ds)||ds;(0,n.Z)(gs,gs.appConfig.bootstrapOptions)},53980:function(e,t,r){"use strict";r.d(t,{ZD:function(){return n},og:function(){return o},k2:function(){return i},Mx:function(){return a},pT:function(){return c},ET:function(){return s},ae:function(){return u},L9:function(){return l}});var n={serverTemplateName:"train",fallbackCSR:!0,requireLogin:!0,bootstrapOptions:{shareInfo:{disableShare:!1},usePDDShare:!0,pageProperty:{pageName:"train",pageSN:24989,pv:{keys:["source","source_type","_pdd_fs"]},native:{disablepullreload:!0}},disablePullReload:!0,extraPageOptions:{prefetchTarget:{pageName:"train_list",leoMaxAge:"prefetchMaxAge"},isManualPV:!0}}},o={endStation:"上海",startStation:"北京"},i={TIP_FAIL:"4_tip_fail",TRAIN_INFO:"5_train_info",TIP_DOT:"5_tip_dot",TIP_PROCESS:"4_tip_process",SHOW_FLIGHT_TAG:"SHOW_FLIGHT_HOMEPAGE",SHOW_TRAIN_FLIGHT_TAG:"5_train_show_flight_tag"},a={RECEIVE:1,NON_RECEIVE:2},c={default:{channelId:3870001,activitySubType:101},monthly_card:{channelId:3870005,activitySubType:102}},s={DEFAULT:"抱歉，网络繁忙，领券失败",RECEIVE_FAIL:"活动太火爆，稍后再试"},u={PERSONAL:"individual_center",INDEX:"app_popup",INDEX_AGAIN:"app_popup_again",DUODUO_SPIRIT:"duoduo_sprite"},l={NORMAL:1,POPUP:2}},49939:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1bubble"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(1600).then(r.bind(r,25773))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 25773}},{isCloseSpinner:!0})},4558:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1Carousel"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(3214).then(r.bind(r,47401))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 47401}},{ssr:!0,style:{height:"1.14rem"}})},52680:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(34575),o=r.n(n),i=r(93913),a=r.n(i),c=r(2205),s=r.n(c),u=r(78585),l=r.n(u),p=r(29754),f=r.n(p),v=r(67294),h=r.n(v),y=r(94184),d=r.n(y),m={container:"KwNmKfps",coupon:"reQPfBXV",pcontainer:"KIpoSOAm",price:"JnOSGupy",desc:"BTVeXuh7",expire:"fKwyw+GC",cname:"RjZ17Xhq",value:"q3h-aF38","coupon-1":"y2aelxUG",icon:"YATGZVSZ","coupon-2":"yH6Ar-Yu",discount:"vpUdhw8a",receive:"_1IVu4MZ3",loading:"_9D9bqoNr",gradual:"VEeE9-nj"};function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var o=f()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l()(this,r)}}var g=function(e){s()(r,e);var t=b(r);function r(){return o()(this,r),t.apply(this,arguments)}return a()(r,[{key:"render",value:function(){var e=this.props,t=e.startTime,r=e.endTime,n=e.valueShow,o=e.couponName,i=e.couponFaceValue,a=e.discount,c=e.couponStyle,s=e.isReceive,u=e.handleReceiveClick,l=e.desc,p=s?"待领取":"有效期".concat(t,"-").concat(r);return h().createElement("div",{className:d()(m.coupon,m["coupon-".concat(c)])},h().createElement("div",{className:m.pcontainer},h().createElement("div",{className:m.price},i&&h().createElement("span",{className:m.icon},"¥"),h().createElement("span",{className:d()(m.value,a?m.discount:null)},n)),h().createElement("div",{className:m.desc},l)),h().createElement("div",{className:m.expire},h().createElement("div",{className:m.cname},o),h().createElement("div",{className:m.detail},p)),s&&h().createElement("div",{className:m.receive,onClick:u},"领取"))}}]),r}(h().PureComponent)},7715:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1couponPackage"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(2089).then(r.bind(r,86488))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 86488}},{ssr:!0,style:{}})},56635:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1couponPopup"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(6519).then(r.bind(r,85738))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 85738}},{ssr:!0,style:{}})},20914:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1FaceCouponPop"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(1203).then(r.bind(r,12403))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 12403}},{ssr:!0,style:{height:"100%"}})},47284:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1LotteryPop"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(5481).then(r.bind(r,89074))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 89074}},{ssr:!0,style:{height:"100%"}})},24344:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3PrizeResultPop"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(3221).then(r.bind(r,16004))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 16004}})},9770:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1RedPacketPop"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(6397).then(r.bind(r,86085))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 86085}},{ssr:!0,style:{}})},10066:function(e,t,r){"use strict";r.d(t,{x:function(){return n}});var n={COUPON:1,SNAP:2,CASHBACK:3}},41474:function(e,t,r){"use strict";r.d(t,{E:function(){return l}});var n=r(34575),o=r.n(n),i=r(93913),a=r.n(i),c=r(2428),s=[60,70,80,90,95],u=[50/33,.5,.25,.1,.0125],l=function(){function e(){var t=this;o()(this,e),this.progressTimer=void 0,this.cleanProgressInterval=function(){clearInterval(t.progressTimer)},this.setProgressInterval=function(e,r,n,o){var i=n;t.progressTimer=setInterval((function(){var n=t.getRangIndex(i,e);r[n]?(i+=r[n],o(i)):(o(i),t.cleanProgressInterval())}),50)},this.setProgress=function(e,r,n){if(t.cleanProgressInterval(),e){var o=t.getSeatProgress(r);t.setProgressInterval(s,u,o,n)}}}return a()(e,[{key:"getSeatProgress",value:function(e){var t=c.Z.serverTimeNow()-e;return t>0&&t<2e3?parseInt(t/33):t>=2e3&&t<3e3?60+parseInt((t-2e3)/100):t>=3e3&&t<5e3?70+parseInt((t-3e3)/200):t>=5e3&&t<1e4?80+parseInt((t-5e3)/500):t>=1e4&&t<3e4?90+parseInt((t-1e4)/4e3):t>=3e4?95:0}},{key:"getRangIndex",value:function(e,t){return t.findIndex((function(t){return e<t}))}},{key:"setProgressSuccess",value:function(e,t,r){if(this.cleanProgressInterval(),e&&0!==t){this.setProgressInterval([101],[.1],t,r)}}}]),e}();t.Z=new l},19335:function(e,t,r){"use strict";r.d(t,{T4:function(){return s},$D:function(){return u},VB:function(){return l}});var n=r(3060),o=r(9709),i=r(24538),a=r(26372);function c(e,t){var r=e.priceType,n=e.ticketType,a=e.segmentNo;if(r===i.g.TICKET){var c=n===o.lL.CHILD;return a?"第".concat(a,"程").concat(c?"儿童":"","票价").concat(c?"(预估)":""):i._[r][n]+(t&&(c||n===o.lL.STUDENT)?"(预估)":"")}return i._[r]||""}function s(e){return(0,n.bd)(e||0)}function u(e,t){return(0,a.ZV)(e||[],[]).map((function(e){return{name:c(e,t),priceStd:s(e.price),ticketType:e.ticketType,count:e.count,priceType:e.priceType}}))}function l(e,t,r){var n=e.find((function(e){return e.price_type===t}));return n?r?s(n.price):n.price||0:r?"":0}},60308:function(e,t,r){"use strict";r.d(t,{_:function(){return i}});var n=r(80837),o=function(e){return n.$.chineseMD(e)};function i(e){var t=e||{},r=t.startStudentSummerDepartDate,n=t.endStudentSummerDepartDate,i=t.startStudentWinterDepartDate,a=t.endStudentWinterDepartDate,c=t.ignoreStudentTicketTime,s=r&&n&&i&&a;return{stuDurationShow:s?"暑假(".concat(o(r),"—").concat(o(n),")，寒假(").concat(o(i),"—次年").concat(o(a),")"):"",stuIsValid:s&&!c,stuDateInfo:{summerStart:r,summerEnd:n,winterStart:i,winterEnd:a}}}},26372:function(e,t,r){"use strict";r.d(t,{$9:function(){return l},$_:function(){return p},xZ:function(){return f},ZV:function(){return v}});var n=r(50008),o=r.n(n),i=r(11865),a=r.n(i),c=r(68929),s=r.n(c);function u(e){return(e||"").startsWith("_")?"_"+a()(e):a()(e)}function l(e,t){if(!e)return e;for(var r in t=t||{},e)e.hasOwnProperty(r)&&("object"===o()(e[r])&&null!==e[r]?t[u(r)]=l(e[r],Array.isArray(e[r])?[]:{}):t[u(r)]=e[r]);return t}function p(e,t){if(!e)return e;for(var r in t=t||{},e)e.hasOwnProperty(r)&&("object"===o()(e[r])&&null!==e[r]?t[a()(r)]=p(e[r],Array.isArray(e[r])?[]:{}):t[a()(r)]=e[r]);return t}function f(e){if(!e)return e;var t={};return Object.keys(e).forEach((function(r){if(e.hasOwnProperty(r)){var n=a()(r);t[n]=e[r]}})),t}function v(e,t){for(var r in t=t||{},e)e.hasOwnProperty(r)&&("object"===o()(e[r])&&null!==e[r]?t[s()(r)]=v(e[r],Array.isArray(e[r])?[]:{}):t[s()(r)]=e[r]);return t}},29404:function(e,t,r){"use strict";r.d(t,{_B:function(){return g},v_:function(){return P},pr:function(){return E},sl:function(){return k},P5:function(){return S},dT:function(){return I},RG:function(){return C},Um:function(){return T},$b:function(){return D},Hr:function(){return L},B7:function(){return x}});var n=r(59713),o=r.n(n),i=r(1607),a=r(41859),c=r(96237),s=r(36792),u=r(53613),l=r(57686),p=r(79072);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h="tcashier_train_checkout.html?_t_timestamp=",y="order.html",d="transac_combine_order.html",m="transac_orders_search_results.html?keyWord=火车票",b="orders.html",g={TRAIN_HOMEPAGE:"train.html",TRAIN_COMPOSE:"train.html?is_compose_page=1",FLIGHT_COMPOSE:"tandy_recliner.html?is_compose_page=1",TRAIN_TICKETS:"trip_tickets.html?scene_group=12",TRAIN_LIST:"train_list.html",TRAIN_RULE:"train_booking_rules.html",TCASHIER:"tcashier_train_checkout.html",INVITE_USER:"invite_user.html",TCASHIER_CHANGE:"".concat(h,"tcashier_train_change"),TCASHIER_GRAB:"".concat(h,"tcashier_train_grab"),TCASHIER_PAID:"".concat(h,"tcashier_train_paid"),RETRIEVE_PASSWORD:"".concat(h,"tcashier_retrieve_password"),TCASHIER_REGISTER:"".concat(h,"tcashier_12306_register"),TCASHIER_REGISTER_CODE:"".concat(h,"tcashier_12306_register_code"),TCASHIER_MEMBER:"".concat(h,"tcashier_12306_member"),PASSENGER_MANAGEMENT:"".concat(h,"tcashier_passenger_management"),PASSENGER_CENTER:"".concat(h,"tcashier_passenger_center"),LOGIN_MANAGEMENT:"".concat(h,"tcashier_login_management"),LOGIN_CENTER:"".concat(h,"tcashier_login_center"),STATION_SCREEN:"".concat(h,"train_station_screen"),TRAIN_SCREEN_DETAIL:"".concat(h,"train_screen_detail"),MOBILE_CODE:"".concat(h,"tcashier_mobile_code"),RESERVE_DETAIL:"".concat(h,"tcashier_reserve_detail"),FACE_VERIFY_RESULT:"".concat(h,"tcashier_face_verify_result"),TCASHIER_PROTOCOLS:"".concat(h,"tcashier_protocols"),TRANSFER_DETAIL:"".concat(h,"train_transfer_detail"),IDENTITY_VERIFY:"".concat(h,"tcashier_identity_verify")};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.lastIndexOf("/"),r=e.indexOf("?");return e.substring(t>=0?t:0,r>=0?r:void 0)}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=O(e);t="".concat(t,"-").concat(r),p.ZP.isNativePlatform&&(0,a.k)({stores:{destUrl:e},subOp:t,isRetry:!1})}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=(0,l.Q2)(e,t,r);w(n,"forward"),n?i.ZP.uniformForward(n):(0,c.e)({errorMsg:"navigation_uniformForward_no_url",stores:{url:e,destUrl:n,params:t,keepCamelParams:r}})}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;(0,u.V)(null==e?void 0:e.page_el_sn,e,(function(){return P(t,r,n)}))}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=(0,l.Q2)(e,t,r);w(n,"reload"),n?i.ZP.reload(n):(0,c.e)({errorMsg:"navigation_reload_no_url",stores:{url:e,destUrl:n,params:t,keepCamelParams:r}})}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;(0,u.V)(null==e?void 0:e.page_el_sn,e,(function(){return k(t,r,n)}))}function _(e){var t={url:m,type:e,props:{search_key:"火车票"}};(0,s.Q6)("JSNavigation","forward",t)}function I(e){p.ZP.isNativePlatform?(0,p.BB)()&&p.ZP.isVersionGreaterThanEqual("4.82.0")?_("pdd_order_search"):(0,p.bM)()&&p.ZP.isVersionGreaterThanEqual("4.60.0")?_():E(e,m):E(e,m)}function C(e,t){var r=e||{},n=r.orderSn,o=r.isBatchPay;return t=t||{},n?{url:o?d:y,query:v(v({},t),{},{parentOrderSn:o?n:void 0,orderSn:o?void 0:n})}:{url:b,query:t}}function T(e,t,r){if(null!=e&&e.orderSn){var n=C(e,r);E(t,n.url,n.query)}else I(t)}function D(e,t,r){var n=C(e,r);S(t,n.url,n.query)}function L(e,t,r){var n=t?g.FLIGHT_COMPOSE:g.TRAIN_COMPOSE;P(p.ZP.isNativePlatform?g.TRAIN_TICKETS:n,e,r)}function x(e){i.ZP.back(window.location.href,null,!0,{props:e})}},38905:function(e,t,r){"use strict";r.d(t,{Xu:function(){return n},AQ:function(){return o},Af:function(){return i},eI:function(){return a},xr:function(){return c},hS:function(){return s}});var n=["cashBack","receive"],o={BUY_TICKETS:1,TRAIN_TICKETS:3,FLIGHT_TICKETS:4,LOGIN:5},i={COUPON:1,RULES:2,DETAIL:3,CIPHER:4,RECEIVE:5,CASH:6,SURPRISE:7},a={REC_LIST:1,CASHBACK:2},c={OLD:10002,DAILY:10003},s={DEFAULT:0,REJECT:1,OPEN:2,COMPLETE:3}},30023:function(e,t,r){"use strict";r.d(t,{p1:function(){return n},Hx:function(){return o},rC:function(){return i},sz:function(){return a},k2:function(){return c}});var n="网络不稳定，请稍后再试",o={GUOYUAN:"guoyuan",DDJB_PUSH:"1212duoduojinbao"},i={NORMAL:1,PASSWORD_INPUT:2,CARD_SELECT:4,GENDER_SELECT:5,DATE_SELECT:6,REGION_SELECT:7},a="redirect_tcashier_url",c={IF_OPEN_SKIP_VERIFY:"0_if_open_skip_verify",TCASHIER_ORIGIN_URL:"0_origin_checkout_grab_url",BUY_CHANNEL_STORAGE_KEY:"0_trip_ifDuoduoReserve",ENTRANCE_TEACH_POPUP:"4_train_teach_popup",SHOW_PRIVILEGE:"6_train_snap_show_privilege",SHOW_LOGIN_TIP:"4_loginbar_show_guide_tip",CHECKOUT_MOBILE_INPUT:"7_train_checkout_mobile_input"}},24538:function(e,t,r){"use strict";r.d(t,{g:function(){return s},_:function(){return u}});var n,o,i=r(59713),a=r.n(i),c=r(9709),s={TICKET:1,DISCOUNT:2,WINDOW:3,AVENUE:4,TOGETHER:5,TOP:6,MIDDLE_BOTTOM:7,BOTTOM:8,SKIP_VERIFY:10,PURCHASE_SERVICE_FEE:11,NIGHT_SERVICE_FEE:12,GARP_DISCOUNT:13,SKIP_LOGIN:14},u=(o={},a()(o,s.TICKET,(n={},a()(n,c.lL.ADULT,"成人票价"),a()(n,c.lL.CHILD,"儿童票价"),a()(n,c.lL.STUDENT,"学生票价"),n)),a()(o,s.DISCOUNT,"优惠金额"),a()(o,s.WINDOW,"选靠窗"),a()(o,s.AVENUE,"选过道"),a()(o,s.TOGETHER,"选连坐"),a()(o,s.TOP,"选上铺"),a()(o,s.MIDDLE_BOTTOM,"选中、下铺"),a()(o,s.BOTTOM,"选下铺"),a()(o,s.SKIP_VERIFY,"免核验购票"),a()(o,s.SKIP_LOGIN,"免登录购票"),a()(o,s.PURCHASE_SERVICE_FEE,"购票服务费"),a()(o,s.NIGHT_SERVICE_FEE,"夜间出票服务"),a()(o,s.GARP_DISCOUNT,"抢票优惠套餐"),o)},85068:function(e,t,r){"use strict";r.d(t,{_i:function(){return n},p:function(){return o},u4:function(){return i},Mu:function(){return a},nQ:function(){return c}});var n={CHECKOUT:0,GRAB:1,NIGHT:2,OFFLINE:3},o={CHECKOUT:1,CHANGE:2,GRAB:3},i={Unknown:-1,HighToLow:1,SamePrice:2,LowToHigh:3},a={ONGOING:10,SUCCESS:21,FAILED:12,SUCCESS_BUT_GO_ORDER:100,CHANGE_CONFIRM:101,BEFORE_SUCCESS:11},c=[21,12,100,101]},9709:function(e,t,r){"use strict";r.d(t,{lL:function(){return c},ev:function(){return s},FI:function(){return u}});var n,o,i=r(59713),a=r.n(i),c={ADULT:1,CHILD:2,STUDENT:3,SOLDIER:4},s=(n={},a()(n,c.ADULT,"成人"),a()(n,c.CHILD,"儿童"),a()(n,c.STUDENT,"学生"),a()(n,c.SOLDIER,"残军"),n),u=(o={},a()(o,c.ADULT,"成人票"),a()(o,c.CHILD,"儿童票"),a()(o,c.STUDENT,"学生票"),a()(o,c.SOLDIER,"残军票"),o)},77964:function(e,t,r){"use strict";r.d(t,{In:function(){return a},CX:function(){return c},n7:function(){return s},E4:function(){return u},pC:function(){return l},Qi:function(){return p}});var n,o=r(59713),i=r.n(o),a={NORMAL:0,EXTERNAL:1,STOP:2,ADJUST:3},c=function(e){return parseInt(e,10)>=a.EXTERNAL},s=function(e){return parseInt(e,10)>=a.STOP},u={ALL:"0",NORMAL:"1",HIGH:"23"},l={WAITING_FOR_TRAIN:1,CHECKING_TICKETS:2,STOP_CHECKING_TICKETS:3,PUNCTUALITY:4,ARRIVE_LATE:5,ARRIVE_LATE_NOTIME:6,ARRIVE_ADVANCE:7,STOP_RUNNING:8},p=(n={},i()(n,l.WAITING_FOR_TRAIN,"候车中"),i()(n,l.CHECKING_TICKETS,"检票中"),i()(n,l.STOP_CHECKING_TICKETS,"停止检票"),i()(n,l.PUNCTUALITY,"正点"),i()(n,l.ARRIVE_LATE,"晚点"),i()(n,l.ARRIVE_LATE_NOTIME,"晚点未定"),i()(n,l.ARRIVE_ADVANCE,"早点"),i()(n,l.STOP_RUNNING,"停运"),n)},60002:function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;return function(t,r,n){var o,i=n.value;return n.value=function(){for(var t=this,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];clearTimeout(o),o=setTimeout((function(){i.apply(t,n)}),e)},n}}r.d(t,{Z:function(){return n}})},53613:function(e,t,r){"use strict";r.d(t,{V:function(){return s},f:function(){return u}});var n=r(59713),o=r.n(n),i=r(55622),a=r(6341);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){try{if(t=t||{},!e)throw new Error("empty pageElSn");e&&(0,a.QN)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({op:"click",page_el_sn:e},t)),null==r||r()}catch(e){r&&r()}}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,i.cM)((function(){return{op:"click",page_el_sn:e}}),t)}},80837:function(e,t,r){"use strict";r.d(t,{e:function(){return f},$:function(){return v}});var n=r(34575),o=r.n(n),i=r(93913),a=r.n(i),c=r(30381),s=r.n(c),u=r(2428),l=["今天","明天","后天"],p=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],f=function(e){return s()(e).utc().utcOffset(480)},v=function(){function e(){o()(this,e)}return a()(e,null,[{key:"now",value:function(){var e=u.Z.serverTimeNow();return f(e).valueOf()}},{key:"diffNow",value:function(t){return t-e.now()}},{key:"chineseMD",value:function(e){return f(e).format("M月D日")}},{key:"hColonM",value:function(e){return f(e).format("HH:mm")}},{key:"dateStartTime",value:function(e){return f(e).startOf("day").valueOf()}},{key:"dateEndTime",value:function(e){return f(e).endOf("day").valueOf()}},{key:"isSameDay",value:function(e,t){return f(e).isSame(t,"day")}},{key:"twxDay",value:function(e,t,r){var n=f(e).startOf("day"),o=f(t).endOf("day"),i=f(r);return(i.isAfter(n,"day")||i.isSame(n,"day"))&&(i.isBefore(o,"day")||i.isSame(o,"day"))}},{key:"buyDate",value:function(){return{start:f(e.now()).startOf("day").valueOf(),end:f(e.now()).add(29,"day").endOf("day").valueOf(),book:f(e.now()).add(69,"day").endOf("day").valueOf()}}},{key:"diffNowTag",value:function(t){var r=f(e.now()),n=Math.ceil((f(t).startOf("day")-r.startOf("day"))/864e5);return l[n]||""}},{key:"weekDayTag",value:function(e){var t=f(e).day();return p[t]||""}},{key:"tag",value:function(t){return e.diffNowTag(t)||e.weekDayTag(t)}},{key:"dayIncrease",value:function(e,t){return f(e).add(t?1:-1,"day").valueOf()}},{key:"formatYMD",value:function(e){return f(e).format("YYYY.MM.DD")}},{key:"dayDifference",value:function(e,t){return e&&t?s()(e).startOf("day").diff(s()(t).startOf("day"),"days"):0}},{key:"monthDifference",value:function(e,t){return e&&t?s()(e).startOf("month").diff(s()(t).startOf("month"),"month"):0}}]),e}()},14102:function(e,t,r){"use strict";r.d(t,{L:function(){return i},W:function(){return a}});var n=r(80837),o=function(e,t,r){for(var n=e.split(":"),o=t.split(":"),i=Math.max(n.length,o.length),a=0;a<i;++a){var c=parseInt(n[a]||"0"),s=parseInt(o[a]||"0");if(c!==s)return s>c}return!!r};function i(e,t){var r=n.$.hColonM(n.$.now());return o(t,e)?o(e,r,!0)||o(r,t):o(e,r,!0)&&o(r,t)}function a(e){var t=e.summerStart,r=e.summerEnd,o=e.winterStart,i=e.winterEnd,a=e.checkTime,c=n.$.twxDay(t,r,a),s=!c&&n.$.twxDay(o,i,a);return{isInSummer:c,isInWinter:s,isInHoliday:c||s}}},45273:function(e,t,r){"use strict";r.d(t,{Z:function(){return i},k:function(){return a}});var n=r(82094),o=r(79072);function i(e){o.ZP.isNativePlatform?function(e){(0,n.Fz)(e),(0,n.rB)("onApplicationResume",e)}(e):window.addEventListener("pageshow",(function(e){e.persisted&&location.reload()}))}function a(e){try{return"string"==typeof e&&(e=JSON.parse(e)),e}catch(e){return{}}}},79072:function(e,t,r){"use strict";r.d(t,{bM:function(){return i},JD:function(){return a},BB:function(){return c},bl:function(){return s}});var n=r(38533),o=r(99433);function i(){return(0,n.zT)().platform===o.iw.PddAndroid}function a(){return(0,n.zT)().system===o.we.Android}function c(){return(0,n.zT)().platform===o.iw.PddIOS}function s(){var e=(0,n.zT)();return(0,o.yC)(e.systemVersion,"12.0")<0&&e.system===o.we.IOS}t.ZP=(0,n.zT)()},16932:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n={};r.r(n),r.d(n,{getItem:function(){return g},isNativeSupport:function(){return b},setItem:function(){return w}});var o={};r.r(o),r.d(o,{getItem:function(){return T},setConfig:function(){return D},setItem:function(){return I}});var i=r(48926),a=r.n(i),c=r(34575),s=r.n(c),u=r(93913),l=r.n(u),p=r(87757),f=r.n(p),v=r(69483),h=r.n(v),y=r(96237),d=r(36792),m=r(79072);function b(){return!!m.ZP.isNativePlatform&&m.ZP.isVersionGreaterThanEqual("4.0.0")}function g(e){return O.apply(this,arguments)}function O(){return(O=a()(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.Q6)("AMStorage","get",{key:t});case 3:return r=e.sent,e.abrupt("return",r&&r.value);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function w(e,t){return(0,d.Q6)("AMStorage","set",{key:e,value:t})}var P=r(81086);function E(e){return k.apply(this,arguments)}function k(){return(k=a()(f().mark((function e(t){var r,n,o,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h().keys();case 2:return r=e.sent,n=r.filter((function(e){var t=parseInt(e.split("_")[0]);return t>=0&&t<=6})).sort().reverse(),e.next=6,Promise.all(n.map((function(e){return h().getItem(e)})));case 6:o=e.sent,i=0,o.forEach((function(e,r){i<2*t&&(i+=JSON.stringify(e).length,h().removeItem(n[r]))}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,r,n){return _.apply(this,arguments)}function _(){return(_=a()(f().mark((function e(t,r,n,o){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(["QuotaExceededError","QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED"].includes(t&&t.name)||o<3)){e.next=5;break}return e.next=3,E(JSON.stringify(r).length);case 3:I(n,r,o),o++;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return C.apply(this,arguments)}function C(){return C=a()(f().mark((function e(t,r){var n,o=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:0,e.prev=1,e.next=4,h().setItem(t,r);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),(0,P.c)(e.t0),e.next=11,S(e.t0,r,t,n);case 11:case"end":return e.stop()}}),e,null,[[1,6]])}))),C.apply(this,arguments)}function T(e){return h().getItem(e)}function D(e){h().config({driver:[h().WEBSQL,h().INDEXEDDB,h().LOCALSTORAGE],name:e})}var L=function(){function e(){s()(this,e),this.utilforage=void 0,b()?this.utilforage=n:(this.utilforage=o,D("TRIP"))}return l()(e,[{key:"getItem",value:function(){var e=a()(f().mark((function e(t){var r,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.utilforage.getItem(t);case 3:return r=e.sent,n=JSON.parse(r),e.abrupt("return",n.value);case 8:return e.prev=8,e.t0=e.catch(0),(0,P.c)("StorageHelper getItem key ".concat(t," ").concat(e.t0)),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setItem",value:function(e,t){try{var r=JSON.stringify({value:t});this.utilforage.setItem(e,r)}catch(t){(0,y.e)({errorMsg:"StorageHelper error ".concat(e),error:t})}}}]),e}(),x=new L},81086:function(e,t,r){"use strict";r.d(t,{c:function(){return s},W:function(){return l}});var n=r(48926),o=r.n(n),i=r(87757),a=r.n(i),c=r(16932);function s(e){}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=new Date,n=new Date(Number(e));return!(r<=n)&&(r.setHours(0,0,0,0),n.setHours(0,0,0,0),(r-n)/864e5>=t)}function l(e){return p.apply(this,arguments)}function p(){return(p=o()(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.getItem(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=0;case 5:return r=e.t0,e.abrupt("return",!r||u(r,1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},57686:function(e,t,r){"use strict";r.d(t,{ZS:function(){return g},XX:function(){return O},Q2:function(){return w},FD:function(){return k},h8:function(){return S}});var n=r(48926),o=r.n(n),i=r(59713),a=r.n(i),c=r(27361),s=r.n(c),u=r(87757),l=r.n(u),p=r(30064),f=r(38533),v=r(36792),h=r(1607),y=r(96237),d=r(26372);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(){return(0,p.mB)(window.location.search)}function O(e){var t=g();return t?t[e]:null}function w(e,t,r){t=t||{},r=r||{};var n=(0,p.XP)(b(b({},(0,d.$9)(t,{})),r));return(e=e||location.pathname)+(e.includes("?")?"&":"?")+n}function P(e){var t=window.location.href;t!==e&&s()(window,"Navigation.CurrentWebUrl")!==e&&(0,y.e)({error:{},errorMsg:"".concat(window.location.pathname,"-check replaceURL failed"),stores:{targetURL:e,currentURL:t}})}function E(){return(E=o()(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=(0,f.zT)()).statisfy||!r.statisfy("1.2.5","2.1.0","greaterThan")){e.next=13;break}return e.prev=2,e.next=5,(0,v.Q6)("WebScene","replaceURL",{url:t});case 5:return window.Navigation.CurrentWebUrl=t,P(t),e.abrupt("return");case 10:e.prev=10,e.t0=e.catch(2),(0,y.e)({error:e.t0,errorMsg:"".concat(window.location.pathname,"-replaceURL failed"),stores:{url:t,currentURL:window.location.href}});case 13:h.ZP.replaceURL(t,(function(){P(t)}));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function k(e){!function(e){E.apply(this,arguments)}(function(e,t){return(0,p.De)(t||location.pathname,b(b({},g()),(0,d.$9)(e,{})))}(e,""))}function S(e){h.ZP.replaceQuery(e),k(e)}},57186:function(e,t,r){"use strict";r.d(t,{TS:function(){return u},AC:function(){return l},JE:function(){return p},XX:function(){return f}});var n=r(23493),o=r.n(n),i=r(1607),a=r(66197),c=r(30023),s=r(16932);function u(e,t){var r={};return Object.keys(e).forEach((function(n){r[n]=e[n]||t[n]})),r}var l=o()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;(0,a.Z)(e,{duration:t/1e3,onClose:function(){return i.ZP.back()}})}),2e3);function p(){var e=location.pathname+location.search;s.Z.setItem(c.k2.TCASHIER_ORIGIN_URL,e)}function f(){return s.Z.getItem(c.k2.TCASHIER_ORIGIN_URL)}},80644:function(e,t,r){"use strict";r.d(t,{_:function(){return N}});var n,o,i=r(48926),a=r.n(i),c=r(21165),s=r.n(c),u=r(34575),l=r.n(u),p=r(93913),f=r.n(p),v=r(81506),h=r.n(v),y=r(16525),d=r.n(y),m=r(2205),b=r.n(m),g=r(78585),O=r.n(g),w=r(29754),P=r.n(w),E=r(33124),k=r.n(E),S=(r(67268),r(87757)),_=r.n(S),I=r(22188),C=r(62424),T=r(96060),D=r(36406),L=r(53955);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P()(e);if(t){var o=P()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O()(this,r)}}var N=(n=function(e){b()(n,e);var t,r=x(n);function n(){var e;l()(this,n);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(e=r.call.apply(r,[this].concat(i))).$ctx=void 0,e.$axiosHttp=void 0,s()(e,"renderError",o,h()(e)),e}return f()(n,[{key:"initAxiosHttp",value:function(e){e.req,e.res,e.accessToken;var t={pageInfo:e.pageInfo};this.$axiosHttp=(0,D.W)(t)}},{key:"initClientData",value:(t=a()(_().mark((function e(t){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()(P()(n.prototype),"initClientData",this).call(this,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"initCommonPageData",value:function(e){}},{key:"initDataCallback",value:function(e){return this.$ctx=(0,L.d)(e),this.initCommonPageData(e),d()(P()(n.prototype),"initDataCallback",this).call(this,e)}},{key:"fromJS",value:function(e,t){var r;e&&e.isServerRendered&&(Object.assign(this,e),this.initAxiosHttp({pageInfo:t}),this.initServices(this.$axiosHttp),(r=this).$substores&&Object.values(r.$substores.values||{}).forEach((function(e){e.isfinishedInitData&&e.initClientData()})),this.dispatchEvent()),(0,C.zv)()}},{key:"dispatchEvent",value:function(){var e=document.createEvent("HTMLEvents");e.initEvent("PRE_RENDER_TARGET",!0,!0),document.dispatchEvent(e)}}]),n}(T.j),o=k()(n.prototype,"renderError",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k()(n.prototype,"initClientData",[I.aD],Object.getOwnPropertyDescriptor(n.prototype,"initClientData"),n.prototype),k()(n.prototype,"initDataCallback",[I.aD],Object.getOwnPropertyDescriptor(n.prototype,"initDataCallback"),n.prototype),k()(n.prototype,"fromJS",[I.aD],Object.getOwnPropertyDescriptor(n.prototype,"fromJS"),n.prototype),n)},93054:function(e,t,r){"use strict";r.d(t,{z:function(){return f}});var n=r(48926),o=r.n(n),i=r(34575),a=r.n(i),c=r(93913),s=r.n(c),u=r(87757),l=r.n(u),p=r(62331),f=function(){function e(t){var r=this;a()(this,e),this.$parent=void 0,this.isfinishedInitData=!1,this.initData=function(){var e=o()(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.initServices(r.$parent.$axiosHttp),e.next=3,r.initDataCallback(t);case 3:r.prepareClientData();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(0,p.Y)(this,"$parent",t)}var t;return s()(e,[{key:"prepareClientData",value:function(){}},{key:"initServices",value:function(e){}},{key:"getDataSource",value:function(e){}},{key:"finishInitData",value:function(){this.isfinishedInitData=!0}},{key:"initDataCallback",value:(t=o()(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataSource(t);case 2:this.finishInitData();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"initClientData",value:function(){this.initServices(this.$parent.$axiosHttp),this.prepareClientData()}}]),e}()},77181:function(e,t,r){"use strict";r.d(t,{$:function(){return h}});var n=r(34575),o=r.n(n),i=r(93913),a=r.n(i),c=r(93054),s=r(62331),u=0;function l(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}var p=function(){function e(t){o()(this,e),this.values=void 0,this.name=void 0,this.name="".concat(t.constructor.name,"@").concat(++u),this.values={}}return a()(e,[{key:"read",value:function(e,t){return this.values[t]}},{key:"write",value:function(e,t,r){Object.assign(this.values[t],r)}}]),e}();function f(e){return{configurable:!0,enumerable:!0,get:function(){return this.$substores.read(this,e)},set:function(t){this.$substores.write(this,e,t)}}}function v(e){if(!0!==e.__substoreDidRunLazyInitializers){var t=e.__substoreDecorators;if(t)for(var r in l(e,"__substoreDidRunLazyInitializers",!0),function(e){if(e.$substores)return e.$substores;var t=new p(e);(0,s.Y)(e,"$substores",t)}(e),t){var n=t[r],o=n.name,i=n.SubStoreClass;e.$substores.values[o]=new i(e),Object.defineProperty(e,o,f(o))}}}var h=function(e){return function(t,r){return Object.getPrototypeOf(e)!==c.z&&console.warn("SubStoreClass need extends SubViewStore"),Object.prototype.hasOwnProperty.call(t,"__substoreDecorators")||l(t,"__substoreDecorators",Object.assign({},t.__substoreDecorators)),t.__substoreDecorators[r]={name:r,SubStoreClass:e},{configurable:!0,enumerable:!0,get:function(){return v(this),this[r]},set:function(e){v(this),this[r]=e}}}}},62331:function(e,t,r){"use strict";function n(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}r.d(t,{Y:function(){return n}})},93073:function(e,t,r){"use strict";r.d(t,{m:function(){return a}});var n=r(67294),o=r.n(n),i=r(49408);function a(){return o().useContext(i.yX)}},53955:function(e,t,r){"use strict";r.d(t,{Z:function(){return l},d:function(){return p}});var n=r(27361),o=r.n(n),i=r(67294),a=r.n(i),c=r(38533),s=r(99433);function u(e){try{return 1===JSON.parse(o()(e,'headers["p-uno-context"]')||"{}").ls}catch(e){return!1}}var l=a().createContext(null);function p(e){return{webpEnable:o()(e,"isSupportWebp"),platform:(o()(e,"userAgent"),t=(0,c.Xf)(window.navigator.userAgent),{current:t.platform,isNativePlatform:t.isNativePlatform,isWeChat:t.isWeChatPlatform,isTinyNativePlatform:t.isTinyNativePlatform,isIOS:t.system===s.we.IOS}),pageName:o()(e,"__res.locals.pageName"),isLoadScene:u(o()(e,"__req"))};var t}},27325:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(67154),o=r.n(n),i=r(67294),a=r.n(i),c=r(53955);function s(e){return function(t){return a().createElement(c.Z.Consumer,null,(function(r){return a().createElement(e,o()({},t,{ctx:r}))}))}}},98904:function(e,t,r){"use strict";r.d(t,{CZ:function(){return w},yi:function(){return P},QS:function(){return O},CN:function(){return E},Sl:function(){return k}});var n=r(48926),o=r.n(n),i=r(59713),a=r.n(i),c=r(27361),s=r.n(c),u=r(87757),l=r.n(u),p=r(34575),f=r.n(p),v=r(93913),h=r.n(v),y=r(44924);var d=function(){function e(){f()(this,e),this._event={}}return h()(e,[{key:"on",value:function(e,t){!function(e){if("function"!=typeof e)throw Error("handler is not function")}(t),this._event[e]=this._event[e]||[],this._event[e].push(t)}},{key:"emit",value:function(e){var t=this;"logger emitter event emit ".concat(e);var r=this._event[e]||[],n=Array.prototype.slice.call(arguments,0);return Promise.all(r.map((function(e){return e.apply(t,n)}))).catch((function(e){"logger emitter event error ".concat(JSON.stringify(e&&e.stack)),(0,y.H)({op:"real_error",page:JSON.stringify(e&&e.stack),error_msg:"LoggerEmitterEvent emit函数内部错误"})}))}},{key:"off",value:function(e,t){var r=this._event[e]||[];this._event[e]=r.filter((function(e){return e!==t}))}},{key:"once",value:function(e,t){var r=this;this.on(e,(function n(){var o=Array.prototype.slice.call(arguments,0);t.apply(r,o),this.off(e,n)}))}}]),e}(),m=r(80886);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O={};O=new d;var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return O.emit(e,g(g({},O.baseParams),t))},P=function(e){var t=e.makeEmitParams,r=e.name,n=e.waitForRecord,i=void 0!==n&&n;return(0,m.WT)((function(e){return o()(l().mark((function n(){var o,a,c,u,p,f=arguments;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(o=f.length,a=new Array(o),c=0;c<o;c++)a[c]=f[c];if(u="function"==typeof t?t.apply(void 0,[this].concat(a)):t,p=s()(u,["name"],r),!i){n.next=8;break}return n.next=6,w(p,u);case 6:n.next=9;break;case 8:w(p,u);case 9:return n.abrupt("return",e.apply(this,a));case 10:case"end":return n.stop()}}),n,this)})))}))},E=function(e,t){O.on(e,(function(e){return(0,m.e0)(e)}))},k=function(e){O.baseParams=e}},80886:function(e,t,r){"use strict";r.d(t,{e0:function(){return o},WT:function(){return i}});var n=r(6341);var o=function(e,t){if(e)return(0,n.QN)(e)},i=function(e){return function(t,r,n){var o=n.value;if("function"==typeof o)n.value=e(o);else if(n.initializer)return{get:function(){return e(n.initializer.call(this)).bind(this)}}}}},92272:function(e,t,r){"use strict";r.d(t,{b:function(){return q}});var n=r(48926),o=r.n(n),i=r(59713),a=r.n(i),c=r(6479),s=r.n(c),u=r(34575),l=r.n(u),p=r(93913),f=r.n(p),v=r(87757),h=r.n(v),y=r(2428),d=r(36406),m=r(50008),b=r.n(m),g=r(97792),O=[5e6,1e7];function w(e,t){return(e=parseInt(e,10))>=O[0]&&e<=O[1]?t:""}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){return parseInt(e.errorCode,10)===g.Bq.AUTHENTICATION_FAILED||"needLogin"===e.errorMsg||"needLogin"===e.errorCode}var k=function(e,t){!function(e){if(E(e=e||{}))throw e}(e)};var S=function(e,t,r,n){var o=(n||{}).useApiErrorMsg||!r.includes("api/mayflower"),i=t||{};if("object"===b()(i)&&!Array.isArray(i)){var c=e.code,s=e.errorCode,u=e.errorMsg;i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isApiError:!0,code:c,errorCode:s,errorMsg:o?u:w(s,u)},i)}return i},_=r(12714);var I=r(46002);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=0,L=1,x={url:"api/mayflower/train/async/result",risk:!0,defaultValue:{}};function N(e,t,r,n){return new Promise((function(i){var a=1,c=null,s=function(){var s=o()(h().mark((function o(){var s,u,l;return h().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e(T(T({params:t},n),x));case 2:u=o.sent,l=null===(s=u.asyncApiData)||void 0===s?void 0:s.status,a>=30&&l===D&&(u.isApiError=!0),(u.isApiError||l===L)&&(clearInterval(c),(0,I.Q)({count:a,params:t,originParams:r,response:u}),i(u));case 6:case"end":return o.stop()}}),o)})));return function(){return s.apply(this,arguments)}}();c=setInterval((function(){a+=1,s()}),1e3),s()}))}var R=["customDataHandler","url"],j=["url","params","extrats","customConfig"],A=["url","params","risk","extrats","customConfig"],z=["url","params"];function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(){function e(t){var r=this;if(l()(this,e),this._handleResError=function(e,t){var r=t.customErrorHandler,n=t.defaultValue,o=t.url,i=t.customConfig;return k(e),r?r(e):S(e,n,o,i)},this._handleResData=function(e,t){var r=t.customDataHandler,n=t.url,o=s()(t,R),i=e;return function(e,t){var r=e||{},n=r.result;r.success&&!n&&(0,_.K2)(new Error("api response no result"),{error_msg:"api_response_no_result",params:JSON.stringify({data:e,api_url:t}),sub_op:"api_response_no_result"})}(i,n),r&&(i=r(e,Z({},o))),i},this.get=function(){var e=o()(h().mark((function e(t){var n,o,i,a,c,u,l,p;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,o=t.params,i=t.extrats,a=void 0===i?{}:i,c=t.customConfig,u=void 0===c?{}:c,l=s()(t,j),e.prev=1,e.next=4,r.$http.get(n,Z(Z({},a),{},{params:o,customConfig:u}));case 4:return p=e.sent,e.abrupt("return",r._handleResData(p,Z({url:n,params:o},l)));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r._handleResError(e.t0,Z({url:n,customConfig:u},l)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.post=function(){var e=o()(h().mark((function e(t){var n,o,i,a,c,u,l,p,f,v;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,o=t.params,i=void 0===o?{}:o,a=t.risk,c=t.extrats,u=void 0===c?{}:c,l=t.customConfig,p=void 0===l?{}:l,f=s()(t,A),e.prev=1,e.next=4,r.$http.post(n,i,Z(Z({},u),{},{customConfig:p,risk:a}));case 4:return v=e.sent,e.abrupt("return",r._handleResData(v,Z({url:n,params:i},f)));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r._handleResError(e.t0,Z({url:n,params:i,customConfig:p},f)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.asyncQuerypost=o()(h().mark((function e(){var t,n,o,i,a,c,u,l,p,f,v=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=v.length>0&&void 0!==v[0]?v[0]:{}).customConfig=Z(Z({},t.customConfig||{}),{},{asyncApi:!0}),t.params=Z(Z({},t.params||{}),{},{async:!0}),e.next=5,r.post(t);case 5:if(n=e.sent,i=(o=n||{}).isApiError,a=o.asyncApiData,!i&&null!=a&&a.requestId){e.next=9;break}return e.abrupt("return",n);case 9:return u=(c=t||{}).url,l=c.params,p=s()(c,z),f={url:u,params:l},e.abrupt("return",N(r.post,{requestId:null==a?void 0:a.requestId},f,p));case 12:case"end":return e.stop()}}),e)}))),this.isClient=!0,this.$http=t||this._initClientHttp(),!this.$http)throw Error("$http is lost");this.isClient&&y.Z.serverTime(this.get)}return f()(e,[{key:"_initClientHttp",value:function(){return this.isClient?(0,d.W)():null}}]),e}()},2428:function(e,t,r){"use strict";var n=r(48926),o=r.n(n),i=r(87757),a=r.n(i);t.Z={__serverTimeDiff:0,serverTime:function(e){var t=this;return o()(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.__serverTime){r.next=2;break}return r.abrupt("return",t.__serverTime);case 2:return t.__queryPromise=t.__queryPromise||t.queryServerTime(e),r.abrupt("return",t.__queryPromise);case 4:case"end":return r.stop()}}),r)})))()},queryServerTime:function(e){var t=this;return o()(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getServerTime(e);case 2:return t.__serverTime=r.sent,t.setServerTimeDiff(t.__serverTime),t.__queryPromise=null,r.abrupt("return",t.__serverTime);case 6:case"end":return r.stop()}}),r)})))()},setServerTimeDiff:function(e){this.__serverTimeDiff=e-Date.now()},serverTimeNow:function(){return this.__serverTimeDiff+Date.now()},getServerTime:function(e){return e({url:"api/server/_stm",customConfig:{skipBizErrorCheck:!0}}).then((function(e){return e&&e.serverTime||Date.now()})).catch((function(){return Date.now()}))}}},36406:function(e,t,r){"use strict";r.d(t,{W:function(){return P}});var n=r(25370),o=r(53527),i=r(98717),a=r(59713),c=r.n(a),s=r(97792),u=r(12714),l=r(26372),p=r(46002);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){return{request:function(e){return e.data&&(e.data=(0,l.$_)(e.data)),e.params&&(e.params=(0,l.$_)(e.params)),e}}},y=function(){return{response:function(e){var t=e.config.customConfig;return t&&t.skipCamelCaseResponse||(e.data=(0,l.ZV)(e.data)),e}}},d=function(){return{response:function(e){var t=e.config.customConfig;if(null==t||!t.asyncApi)return e;var r=e.data,n=r.result,o=r.status,i=r.requestId;return e.data.result=v(v({},n||{}),{},{asyncApiData:{status:o,requestId:i}}),e}}},m=function(){return{response:function(e){var t=e.config.customConfig;if(t&&t.skipBizErrorCheck)return e;var r=e.data,n=e.config;if(!r.success||!r.result){var o=r.errorMsg||"project unknown biz error",i=new Error(o);throw i.errorType="project_api_biz_error",i.errorCode=r.errorCode||"unknow",i.data=r,i.config=n,i.isDefaultCustomErrorChecker=!0,i.errorMsg=r.errorMsg,i}return e}}},b=function(e){return{responseError:function(t){var r=t.config,n=r.customConfig||{},o=n.needTimeoutRetry,i=n.retryDelay,a=void 0===i?1:i,c=n.retry,s=void 0===c?3:c;if(!o||![6e4,620011,-40057].includes(t.errorCode))return Promise.reject(t);if(r.__retryCount=r.__retryCount||0,r.__retryCount>=s)return Promise.reject(t);r.__retryCount+=1;var l={sub_op:"project_api_biz_error",url:r.method+":"+r.url,page_url:location.href,error_code:t.errorCode,error_msg:"axiosRetryInterceptor start ".concat(r.__retryCount," times"),error_type:t.errorType,params:JSON.stringify({params:r.params,data:r.data})};(0,u.K2)(t,v(v({},l),{},{sub_op:"api_error"}));var p=new Promise((function(e){setTimeout((function(){e()}),a)}));return r.data=JSON.parse(r.data||{}),p.then((function(){return e(r)}))}}},g=function(){return{responseError:function(e){if("project_api_biz_error"!==e.errorType)throw e;var t=e.errorCode,r=e.errorMsg,n=e.data,o=e.config,i=(o.url.split("?")[0]||"").replace(o.baseURL,""),a="".concat(t,"-").concat(i,"-").concat((0,p.b)(t,r||(0,s.fY)(t))),c={sub_op:"project_api_biz_error",url:o.method+":"+o.url,page_url:location.href,error_code:e.errorCode,error_msg:a,error_type:e.errorType,params:JSON.stringify({params:o.params,data:o.data,apiResponseTimeout:752===e.errorCode}),resData:n};throw(0,u.K2)(e,v(v({},c),{},{sub_op:"api_error"})),e}}},O=r(38356),w=function(e,t){return t.forEach((function(t){e.interceptors.request.use(t.request),e.interceptors.response.use(t.response,t.responseError)}))},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null,r=(0,o.e6)(),a={pageId:r};t=(0,n.e)({pageInfo:a},{useRawResponse:!0});var c=[(0,O.WE)(),h(),y(),d(),m(),g(e),{response:function(e){var t=e.config.customConfig;return null!=t&&t.skipBizErrorCheck?e.data:e.data.result}},b(t)];return c.unshift(i.Z),w(t,c),t}},46002:function(e,t,r){"use strict";r.d(t,{b:function(){return u},Q:function(){return l}});var n=r(59713),o=r.n(n),i=r(12714);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s={9200314:{regx:/(「).+(」)/,replaceText:"$1xxx$2"},5000002:{regx:/(乘车人).+(手机号重复)/,replaceText:"$1xxx,xxx$2"},9200309:{msg:"人脸核验+短信错误提示信息"},9200318:{msg:"核对您发送验证短信的手机号码"}};function u(e,t){var r,n;if(null!==(r=s[e])&&void 0!==r&&r.msg)return null===(n=s[e])||void 0===n?void 0:n.msg;var o=s[e];return o&&t?t.replace(o.regx,o.replaceText):t}function l(e){var t=e.count,r=e.params,n=e.originParams,o=e.response,a=new Error("asyncApi resolve result"),s=u(o.errorCode,o.errorMsg),l={error_msg:"asyncApi resolve result",sub_op:"api_error",count:t,params:JSON.stringify({params:r,originParams:n,response:c(c({},o),{},{errorMsg:s})})};(0,i.K2)(a,l)}},38356:function(e,t,r){"use strict";r.d(t,{v0:function(){return h},WE:function(){return b}});var n=r(48926),o=r.n(n),i=r(87757),a=r.n(i),c=r(38533),s=r(99433),u=r(2428),l=null,p=function(){var e=(0,c.zT)(),t=e.version;return e.isNativePlatform&&(0,s.yC)(t,"4.69.0")>=0};function f(){return v.apply(this,arguments)}function v(){return(v=o()(a().mark((function e(){var t,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(5928).then(r.bind(r,96636));case 2:return t=e.sent,n=t.default,e.next=6,u.Z.serverTime();case 6:o=e.sent,l=new n({serverTime:o});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return y.apply(this,arguments)}function y(){return(y=o()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=3;break}return e.next=3,f();case 3:return e.abrupt("return",l.messagePackSync());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return(m=o()(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=t||{},!r||!p()){e.next=4;break}return t.useNativeAntiToken=!0,e.abrupt("return",t);case 4:return e.next=6,h();case 6:if(n=e.sent,!t.risk_request){e.next=10;break}return t.risk_request={anti_content:n},e.abrupt("return",t);case 10:return t.anti_content=n,e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(){return{request:(e=o()(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.risk){e.next=2;break}return e.abrupt("return",t);case 2:return t.method,r=t.customConfig||{},n=r.useNativeRisk,e.next=6,d(t.data,n);case 6:return t.data=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})};var e}},9714:function(e,t,r){"use strict";r.d(t,{KQ:function(){return o}});var n=r(27527);function o(e,t){return(0,n.ZP)(e,t)}},68496:function(e,t,r){"use strict";r.d(t,{Z:function(){return bt}});var n,o=r(48926),i=r.n(o),a=r(21165),c=r.n(a),s=r(34575),u=r.n(s),l=r(93913),p=r.n(l),f=r(81506),v=r.n(f),h=r(2205),y=r.n(h),d=r(78585),m=r.n(d),b=r(29754),g=r.n(b),O=r(33124),w=r.n(O),P=(r(67268),r(27361)),E=r.n(P),k=r(87757),S=r.n(k),_=r(22188),I=r(66197),C=r(57686),T=r(93054),D=r(38905),L=r(59713),x=r.n(L),N=r(92272),R=r(19335),j=[33009e4,330099999],A="活动太火爆了，请稍后重试";function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e=parseInt(e,10),t&&e>=j[0]&&e<=j[1]?t:r||A}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q="好友浏览活动页面即可助力成功",B={BTN_TXT:"去购票",TEXT:"购票加快领取进度"},M=(n={},x()(n,D.AQ.BUY_TICKETS,Z({TITLE:"再次购票返",MAX_TITLE:"再次购票最高返"},B)),x()(n,D.AQ.TRAIN_TICKETS,Z({TITLE:"再买火车票返",MAX_TITLE:"再买火车票最高返"},B)),x()(n,D.AQ.FLIGHT_TICKETS,Z({TITLE:"再买飞机票返",MAX_TITLE:"再买飞机票最高返"},B)),x()(n,D.AQ.LOGIN,{TITLE:"登录12306账号返",MAX_TITLE:"登录12306账号最高返",BTN_TXT:"去登录",TEXT:"登录账号加快领取进度"}),n);function F(e){return{isApiError:e.isApiError,errorMsg:z(e.errorCode,e.errorMsg)}}function U(e){return(e||[]).map((function(e){return{desc:e.prizeDesc||"",validTime:e.receiveTime||"",rightTxt:"已领取"}}))}function V(e){var t,r=e||{},n=r.gainCashList,o=r.receivePrizeList;return{cashList:(t=n,(t||[]).map((function(e){return{desc:e.gainSource||"",validTime:e.gainTime||"",rightTxt:e.priceText||""}}))),receiveList:U(o)}}function G(e){return(e||[]).map((function(e){var t=e||{},r=t.showType,n=t.cashAmount,o=t.maxCashAmount,i=t.iconUrl,a=t.taskType,c=1===r;return Z(Z({},function(e,t){var r=M[t]||{},n=r.TITLE,o=r.MAX_TITLE;return{title:e?n:o,btnTxt:r.BTN_TXT,text:r.TEXT}}(c,a)),{},{type:a,iconUrl:i||"",priceStd:(0,R.T4)(1===r?n:o),isShowCurCash:c})}))}function W(e,t){var r,n=e||{},o=n.friendList,i=n.status,a=n.showTaskRemind,c=n.inviteFriendLimit,s=n.cashback,u=c>0?"邀请".concat(c,"位好友助力，提前领取"):"",l=(0,R.T4)(s),p=i===D.hS.COMPLETE;return Z(Z({showSurprisePop:!!a,thresholdPriceStd:(0,R.T4)(t),friendList:(r=o,(r||[]).map((function(e){return{name:e.friendNickName||"",avatar:e.friendImg||"",validTime:e.helpedTime||"",assistDesc:"已购票 +".concat((0,R.T4)(e.helpedCashAmount),"元"),helped:e.helped}}))),isComplete:p,isOpenSurprise:i>1},function(e,t,r){var n=e||{},o=n.inviteFriendLimit,i=n.status,a=n.friendList,c=(null==a?void 0:a.length)>0;return i===D.hS.OPEN?{title:t,text:c?"还差".concat(o-a.length,"人即可领取"):q,btnTxt:"继续邀请"}:r?{title:"邀请好友任务已完成，直接领取",text:c?"已邀".concat(a.length,"人"):q,btnTxt:"立即领取"}:{title:t,text:q,btnTxt:"立即邀请"}}(e,u,p)),{},{popTitle:u,priceStd:l,priceStdTxt:s>0?"".concat(l,"元"):"",status:i})}function $(e){var t,r=e||{},n=r.activityId,o=r.ruleList,i=r.hasCash,a=r.progress,c=r.taskList,s=r.prizeList,u=r.gainReward,l=r.deadlineText,p=r.uin,f=r.commandSn,v=r.tourismImg,h=r.tourismPage,y=r.surpriseTaskVo,d=r.overdueRemindVo,m=a||{},b=m.totalCashAmount,g=m.thresholdCashAmount;return Z(Z({},F(e)),{},{activityId:n,isDailyActivity:n===D.xr.DAILY,uin:p,commandSn:f||"",ruleList:o||[],deadlineText:l||"",hasCash:i,progressInfo:{totalPriceStd:(0,R.T4)(b),thresholdPriceStd:(0,R.T4)(g),overdueRemind:(null==d?void 0:d.overdueRemind)||""},taskList:G(c),prizeList:(t=s,(t||[]).map((function(e,t){return{avatar:e.userImg||"",content:"".concat(e.userNickName||""," ").concat(e.prizeDesc||""),key:"".concat(e.userImg,"-").concat(t)}}))),rewardDetail:V(u),bannerMap:{imgUrl:v||"",linkUrl:h||""},surpriseTaskInfo:W(y,g),hasDisplayTask:i||(c||[]).some((function(e){return e.taskType===D.AQ.LOGIN}))})}function Q(e){var t=e||{},r=t.reach,n=t.title,o=t.text,i=t.exchangeType,a=1===r;return Z(Z({},F(e)),{},{isReachReceive:a,reach:r,title:n||"",text:o||"",btnTxt:a?"立即领取":"知道了",exchangeType:i})}function K(e){var t=e||{},r=t.couponList,n=t.totalValue;return Z({couponList:(r||[]).map((function(e){var t=e||{},r=t.name,n=t.hasThreshold,o=t.thresholdValue,i=t.faceValue,a=t.startDate,c=t.endDate;return{desc:r||"",thresholdDesc:n?"满".concat((0,R.T4)(o),"元可用"):"无门槛",timeDesc:a&&c?"".concat(a,"-").concat(c):"",faceValue:(0,R.T4)(i)}})),totalPriceStd:(0,R.T4)(n)},F(e))}function X(e){var t=e||{},r=t.open,n=t.activityId,o=t.addPoints,i=t.totalPoints,a=t.thresholdPoints;return{isApiError:e.isApiError,activityId:n,isDailyActivity:n===D.xr.DAILY,open:r,curPriceStd:(0,R.T4)(o),totalPriceStd:(0,R.T4)(i),thresholdPriceStd:(0,R.T4)(a),diffPriceStd:(0,R.T4)(a-i),isFull:i>=a}}function Y(e){var t=e||{},r=t.activityId,n=t.prompt,o=t.entranceUrl,i=t.ruleList,a=t.showAlert,c=n||{},s=c.hasCash,u=c.showType,l=c.cashAmount,p=c.maxCashAmount,f=2===u?p:l,v=r===D.xr.DAILY;return{activityId:r,isDailyActivity:v,entranceUrl:o||"",priceStd:(0,R.T4)(f),showBubble:!s&&v&&f>0,ruleList:i||[],showReceivePop:a&&!!r}}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var o=g()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return m()(this,r)}}var re,ne,oe,ie,ae,ce,se,ue,le,pe,fe,ve,he,ye,de,me,be,ge,Oe,we,Pe,Ee,ke,Se,_e,Ie,Ce,Te,De,Le,xe,Ne,Re,je,Ae,ze,He,Ze,qe,Be,Me,Fe,Ue,Ve,Ge,We,$e,Qe,Ke,Xe,Ye,Je,et,tt,rt,nt,ot,it="api/asteroidea/activity/mayfirst/page",at="api/asteroidea/exchange/reach",ct="api/asteroidea/exchange/prize",st="api/emily/activity/cashback/popups/points",ut="api/asteroidea/share/invite",lt="api/asteroidea/activity/mayfirst/entrance",pt="api/asteroidea/activity/routine/open_surprise_task",ft="api/asteroidea/alert/report",vt={activity_id:D.xr.OLD},ht=function(e){y()(c,e);var t,r,n,o,a=te(c);function c(){return u()(this,c),a.apply(this,arguments)}return p()(c,[{key:"queryCashbackInfo",value:(o=i()(S().mark((function e(t){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post({url:it,params:ee(ee({},vt),t),risk:!0,defaultValue:{},extrats:{defaultErrorHandler:function(e){return e}}});case 2:return r=e.sent,e.abrupt("return",$(r));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"queryReceiveInfo",value:(n=i()(S().mark((function e(t){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post({url:at,params:t,risk:!0,defaultValue:{},extrats:{defaultErrorHandler:function(e){return e}}});case 2:return r=e.sent,e.abrupt("return",Q(r));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"queryCouponInfo",value:(r=i()(S().mark((function e(t){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post({url:ct,params:t,risk:!0,defaultValue:{},extrats:{defaultErrorHandler:function(e){return e}}});case 2:return r=e.sent,e.abrupt("return",K(r));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"inviteFriends",value:function(e){return this.post({url:ut,params:e,risk:!0,defaultValue:{},extrats:{defaultErrorHandler:function(e){return e}}})}},{key:"queryCashPopInfo",value:(t=i()(S().mark((function e(t){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post({url:st,params:t,risk:!0,defaultValue:{},extrats:{defaultErrorHandler:function(e){return e}}});case 2:return r=e.sent,e.abrupt("return",X(r));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getCashEntranceInfo",value:function(){return this.post({url:lt,defaultValue:{},risk:!0,params:vt,customDataHandler:Y,extrats:{defaultErrorHandler:function(e){return e}}})}},{key:"openSurpirseTask",value:function(e){return this.post({url:pt,defaultValue:{},risk:!0,params:e})}},{key:"reportPopInfo",value:function(e){return this.post({url:ft,defaultValue:{},params:e})}}]),c}(N.b);function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var o=g()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return m()(this,r)}}var dt="activity_home",mt="finish_pay",bt=(re=_.LO.shallow,ne=_.LO.shallow,oe=_.LO.shallow,ie=_.LO.shallow,ae=_.LO.shallow,ce=_.LO.shallow,se=_.LO.shallow,ue=_.LO.shallow,le=_.LO.shallow,pe=_.aD.bound,fe=_.aD.bound,ve=_.aD.bound,he=_.aD.bound,ye=_.aD.bound,de=_.aD.bound,me=_.aD.bound,be=_.aD.bound,ge=_.aD.bound,Oe=_.aD.bound,we=_.aD.bound,Pe=_.aD.bound,Ee=_.aD.bound,ke=_.aD.bound,Se=_.aD.bound,_e=_.aD.bound,Ie=function(e){y()(d,e);var t,r,n,o,a,s,l,f,h=yt(d);function d(){var e;u()(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=h.call.apply(h,[this].concat(r)),c()(e,"ruleList",Ce,v()(e)),c()(e,"deadlineText",Te,v()(e)),c()(e,"hasCash",De,v()(e)),c()(e,"progressInfo",Le,v()(e)),c()(e,"taskList",xe,v()(e)),c()(e,"prizeList",Ne,v()(e)),c()(e,"friendList",Re,v()(e)),c()(e,"rewardDetail",je,v()(e)),c()(e,"surpriseTaskInfo",Ae,v()(e)),c()(e,"isDailyActivity",ze,v()(e)),c()(e,"uin",He,v()(e)),c()(e,"shareUin",Ze,v()(e)),c()(e,"activityId",qe,v()(e)),c()(e,"commandBizSn",Be,v()(e)),c()(e,"isApiError",Me,v()(e)),c()(e,"errorMsg",Fe,v()(e)),c()(e,"isNativePlatform",Ue,v()(e)),c()(e,"inviteRemind",Ve,v()(e)),c()(e,"receiveInfo",Ge,v()(e)),c()(e,"couponInfo",We,v()(e)),c()(e,"activeTabId",$e,v()(e)),c()(e,"showPopupType",Qe,v()(e)),c()(e,"showReceiveCashPop",Ke,v()(e)),c()(e,"showCashPop",Xe,v()(e)),c()(e,"showTeachPop",Ye,v()(e)),c()(e,"isShowCashPop",Je,v()(e)),c()(e,"bottomModelType",et,v()(e)),c()(e,"cashPopInfo",tt,v()(e)),c()(e,"orderSn",rt,v()(e)),c()(e,"cashEntranceInfo",nt,v()(e)),c()(e,"hasCashbackPopup",ot,v()(e)),e.command="",e.tpParams={},e.source="",e}return p()(d,[{key:"showRetrieveDetail",get:function(){return this.activeTabId===D.Xu[1]}},{key:"closePopup",value:function(){this.showPopupType=null}},{key:"setPopType",value:function(e){this.showPopupType=e}},{key:"selectCurTab",value:function(e){D.Xu.includes(e)&&this.activeTabId!==e&&(this.activeTabId=e)}},{key:"toggleReceiveCashPop",value:function(){this.showReceiveCashPop=!this.showReceiveCashPop}},{key:"reportCashbackPop",value:function(){var e;this.$service.reportPopInfo({activityId:null===(e=this.cashEntranceInfo)||void 0===e?void 0:e.activityId,alertType:1})}},{key:"getCashEntranceInfo",value:(f=i()(S().mark((function e(){var t;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$service.getCashEntranceInfo();case 2:this.cashEntranceInfo=e.sent,null!==(t=this.cashEntranceInfo)&&void 0!==t&&t.showReceivePop?this.toggleReceiveCashPop():this.hasCashbackPopup=!1;case 4:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"queryCashbackInfo",value:(l=i()(S().mark((function e(){var t,r,n,o=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],e.next=3,this.$service.queryCashbackInfo({page_source:this.orderSn?mt:dt});case 3:r=e.sent,Object.assign(this,r),null!=(n=(r||{}).surpriseTaskInfo)&&n.showSurprisePop?this.setPopType(D.Af.SURPRISE):this.orderSn||this.setPopType(null),t&&(this.bottomModelType=D.eI.CASHBACK);case 8:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"queryCashMainInfo",value:(s=i()(S().mark((function e(){var t,r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shareUin){e.next=9;break}return e.next=3,this.$service.inviteFriends({activity_id:this.activityId,to_uin:this.shareUin});case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:t=e.t0,r=t.inviteRemind,this.inviteRemind=r;case 9:return e.next=11,this.queryCashbackInfo();case 11:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"queryReceiveInfo",value:(a=i()(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$service.queryReceiveInfo({activityId:this.activityId});case 2:this.receiveInfo=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"queryCouponInfo",value:(o=i()(S().mark((function e(){var t;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$service.queryCouponInfo({activityId:this.activityId,exchangeType:null===(t=this.receiveInfo)||void 0===t?void 0:t.exchangeType});case 2:this.couponInfo=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"queryCashPopInfo",value:(n=i()(S().mark((function e(t){var r,n,o,i,a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isShowCashPop){e.next=14;break}return e.next=3,this.$service.queryCashPopInfo({parent_order_sn:t});case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:if(r=e.t0,this.cashPopInfo=r,n=r.open,o=r.curPriceStd,i=r.isDailyActivity,a=r.isApiError,this.isDailyActivity=i,i||a){e.next=13;break}return this.bottomModelType=D.eI.REC_LIST,e.abrupt("return");case 13:n&&o>0&&(this.setPopType(D.Af.CASH),this.isShowCashPop=!0);case 14:return e.next=16,this.queryCashMainInfo();case 16:this.bottomModelType=this.isApiError||!this.isDailyActivity?D.eI.REC_LIST:D.eI.CASHBACK;case 17:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"receiveClickHandler",value:(r=i()(S().mark((function e(){var t,r,n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryReceiveInfo();case 2:if(t=this.receiveInfo,r=t.isApiError,n=t.errorMsg,!r){e.next=6;break}return(0,I.Z)(n),e.abrupt("return");case 6:this.setPopType(D.Af.RECEIVE);case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"openSurpirseTask",value:(t=i()(S().mark((function e(t){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$service.openSurpirseTask({openType:t,activityId:D.xr.DAILY});case 2:e.sent.isApiError||(this.surpriseTaskInfo.isOpenSurprise=t>1);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"copyCipher",value:function(){this.setPopType(D.Af.CIPHER)}},{key:"prepareClientData",value:function(){this.inviteRemind&&(0,I.Z)(this.inviteRemind),this.isShowCashPop&&(0,C.FD)({is_show_cash_pop:!0})}},{key:"initQueries",value:function(e){var t=this,r=e.query,n=e.platform;Object.keys(r).forEach((function(e){/^_tp_/.test(e)&&(t.tpParams[e]=r[e])})),this.source=E()(r,"source",null),this.isNativePlatform=n.isNativePlatform,this.isShowCashPop=E()(r,"is_show_cash_pop"),this.shareUin=E()(r,"share_uin",""),this.orderSn=E()(r,"order_sn"),this.activityId=E()(r,"activity_id")}},{key:"getDataSource",value:function(e){return e?this.getCashEntranceInfo():null}},{key:"initServices",value:function(e){this.$service=new ht(e)}}]),d}(T.z),Ce=w()(Ie.prototype,"ruleList",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=w()(Ie.prototype,"deadlineText",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),De=w()(Ie.prototype,"hasCash",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Le=w()(Ie.prototype,"progressInfo",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),xe=w()(Ie.prototype,"taskList",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ne=w()(Ie.prototype,"prizeList",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re=w()(Ie.prototype,"friendList",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=w()(Ie.prototype,"rewardDetail",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ae=w()(Ie.prototype,"surpriseTaskInfo",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ze=w()(Ie.prototype,"isDailyActivity",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),He=w()(Ie.prototype,"uin",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ze=w()(Ie.prototype,"shareUin",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qe=w()(Ie.prototype,"activityId",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.xr.OLD}}),Be=w()(Ie.prototype,"commandBizSn",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Me=w()(Ie.prototype,"isApiError",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fe=w()(Ie.prototype,"errorMsg",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ue=w()(Ie.prototype,"isNativePlatform",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ve=w()(Ie.prototype,"inviteRemind",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ge=w()(Ie.prototype,"receiveInfo",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),We=w()(Ie.prototype,"couponInfo",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$e=w()(Ie.prototype,"activeTabId",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.Xu[0]}}),Qe=w()(Ie.prototype,"showPopupType",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=w()(Ie.prototype,"showReceiveCashPop",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xe=w()(Ie.prototype,"showCashPop",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ye=w()(Ie.prototype,"showTeachPop",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Je=w()(Ie.prototype,"isShowCashPop",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),et=w()(Ie.prototype,"bottomModelType",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=w()(Ie.prototype,"cashPopInfo",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),rt=w()(Ie.prototype,"orderSn",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nt=w()(Ie.prototype,"cashEntranceInfo",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ot=w()(Ie.prototype,"hasCashbackPopup",[_.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w()(Ie.prototype,"showRetrieveDetail",[_.Fl],Object.getOwnPropertyDescriptor(Ie.prototype,"showRetrieveDetail"),Ie.prototype),w()(Ie.prototype,"closePopup",[pe],Object.getOwnPropertyDescriptor(Ie.prototype,"closePopup"),Ie.prototype),w()(Ie.prototype,"setPopType",[fe],Object.getOwnPropertyDescriptor(Ie.prototype,"setPopType"),Ie.prototype),w()(Ie.prototype,"selectCurTab",[ve],Object.getOwnPropertyDescriptor(Ie.prototype,"selectCurTab"),Ie.prototype),w()(Ie.prototype,"toggleReceiveCashPop",[he],Object.getOwnPropertyDescriptor(Ie.prototype,"toggleReceiveCashPop"),Ie.prototype),w()(Ie.prototype,"reportCashbackPop",[ye],Object.getOwnPropertyDescriptor(Ie.prototype,"reportCashbackPop"),Ie.prototype),w()(Ie.prototype,"getCashEntranceInfo",[de],Object.getOwnPropertyDescriptor(Ie.prototype,"getCashEntranceInfo"),Ie.prototype),w()(Ie.prototype,"queryCashbackInfo",[me],Object.getOwnPropertyDescriptor(Ie.prototype,"queryCashbackInfo"),Ie.prototype),w()(Ie.prototype,"queryCashMainInfo",[be],Object.getOwnPropertyDescriptor(Ie.prototype,"queryCashMainInfo"),Ie.prototype),w()(Ie.prototype,"queryReceiveInfo",[ge],Object.getOwnPropertyDescriptor(Ie.prototype,"queryReceiveInfo"),Ie.prototype),w()(Ie.prototype,"queryCouponInfo",[Oe],Object.getOwnPropertyDescriptor(Ie.prototype,"queryCouponInfo"),Ie.prototype),w()(Ie.prototype,"queryCashPopInfo",[we],Object.getOwnPropertyDescriptor(Ie.prototype,"queryCashPopInfo"),Ie.prototype),w()(Ie.prototype,"receiveClickHandler",[Pe],Object.getOwnPropertyDescriptor(Ie.prototype,"receiveClickHandler"),Ie.prototype),w()(Ie.prototype,"openSurpirseTask",[Ee],Object.getOwnPropertyDescriptor(Ie.prototype,"openSurpirseTask"),Ie.prototype),w()(Ie.prototype,"copyCipher",[ke],Object.getOwnPropertyDescriptor(Ie.prototype,"copyCipher"),Ie.prototype),w()(Ie.prototype,"prepareClientData",[Se],Object.getOwnPropertyDescriptor(Ie.prototype,"prepareClientData"),Ie.prototype),w()(Ie.prototype,"initQueries",[_e],Object.getOwnPropertyDescriptor(Ie.prototype,"initQueries"),Ie.prototype),Ie)},84160:function(e,t,r){"use strict";r.d(t,{wp:function(){return Q},i0:function(){return $},QM:function(){return X},GN:function(){return K},XA:function(){return Y}});var n=r(48926),o=r.n(n),i=r(34575),a=r.n(i),c=r(93913),s=r.n(c),u=r(2205),l=r.n(u),p=r(78585),f=r.n(p),v=r(29754),h=r.n(v),y=r(59713),d=r.n(y),m=r(87757),b=r.n(m),g=r(67294),O=r.n(g),w=r(94184),P=r.n(w),E=r(33162),k=r(4026),S=r(77499),_=r(1010),I="pFQuk6jJ",C="j7EVzWCm",T="Vo82WyOq",D="L7C-N9W+",L="nHgSEAbj",x="HvE-Wtqo",N="FDWMy6q+",R="_2GWFb0P0",j="CfBiUBSd",A="CP6JWdAK",z="_1nCwJY4n";function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var o=h()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f()(this,r)}}var B=0,M=1,F="确认",U="取消",V=(0,g.memo)((function(e){var t=e.okLabel,r=e.type,n=e.onOk,o=P()(N,R,d()({},j,r===B));return O().createElement("div",{className:o,onClick:n,"data-active":"link-red"},t||F)})),G=(0,g.memo)((function(e){var t=e.cancelLabel,r=e.type,n=e.onCancel;return r!==B?null:O().createElement("div",{className:N,onClick:n},t||U)})),W=function(e){l()(r,e);var t=q(r);function r(){var e;a()(this,r);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).onOk=o()(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.onOk){t.next=6;break}return t.next=3,e.props.onOk();case 3:if(!1!==t.sent){t.next=6;break}return t.abrupt("return");case 6:e.props.cleanupPopup();case 7:case"end":return t.stop()}}),t)}))),e.onCancel=o()(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.onCancel&&e.props.onCancel(),e.props.cleanupPopup();case 2:case"end":return t.stop()}}),t)}))),e.onClose=o()(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.onClose&&e.props.onClose(),e.props.cleanupPopup();case 2:case"end":return t.stop()}}),t)}))),e}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.title,r=e.text,n=e.cancelLabel,o=e.okLabel,i=e.type,a=e.textArr,c=e.textLeft,s=!!a&&a.length>0,u=P()(T,d()({},D,!!t),d()({},L,c));return O().createElement(E.Z,{visible:!0,onBackdropClick:this.onClose},O().createElement("div",{className:I},O().createElement(_.Z,{onClick:this.onClose}),!!t&&O().createElement("div",{className:C},t),!!r&&O().createElement("div",{className:u},r),s&&O().createElement("div",{className:u},a.map((function(e,t){return O().createElement("div",{key:"confirm-text-arr-".concat(t)},e)}))),O().createElement("div",{className:x},O().createElement(G,{cancelLabel:n,onCancel:this.onCancel,type:i}),O().createElement(V,{okLabel:o,type:i,onOk:this.onOk}))))}}]),r}(O().Component);function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,r=e.text,n=e.onOk,o=e.onCancel,i=e.okLabel,a=e.cancelLabel,c=e.pureClose,s=e.textArr,u=e.textLeft,l=(0,k.Z)(O().createElement(W,{title:t,text:r,textArr:s,textLeft:u,onOk:n,onCancel:o,onClose:c?null:o,cleanupPopup:function(){return l()},okLabel:i,type:B,cancelLabel:a}))}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,r=e.text,n=e.onOk,o=e.okLabel,i=e.pureClose,a=e.textArr,c=e.textLeft,s=(0,k.Z)(O().createElement(W,{title:t,text:r,textArr:a,textLeft:c,onOk:n,onClose:i?null:n,cleanupPopup:function(){return s()},okLabel:o,type:M}))}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){$(Z(Z({},e),{},{onOk:t,onCancel:r}))}))}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){Q(Z(Z({},e),{},{onOk:t}))}))}function Y(e,t){var r="<div class=".concat(A,">\n        <div class=").concat(z,"></div>\n        <div>").concat(e,"</div>\n    </div>");(0,S.Z)(r,t)}},96967:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1calendar"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(6268).then(r.bind(r,24648))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 24648}},{ssr:!0,style:{}})},62434:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_3receiveCashPop"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(4042).then(r.bind(r,37649))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 37649}})},57028:function(e,t,r){"use strict";var n=r(67154),o=r.n(n),i=r(6479),a=r.n(i),c=r(67294),s=r.n(c),u=r(22882),l=r(9164),p=r(44968),f=r(27325),v=["src","background","lazy","children"],h=["src","innerRef","resizeWidth","ctx","quality","preloadResourceName","forceSkipCDN"];function y(e){var t=e.src,r=e.background,n=e.lazy,i=e.children,c=a()(e,v);return r?s().createElement("div",o()({style:{backgroundImage:"url(".concat(t,")")}},c),i):n?s().createElement(u.Z,o()({src:t},c)):s().createElement(l.Z,o()({src:t},c))}t.Z=(0,c.memo)((0,f.Z)((function(e){var t=e.src,r=e.innerRef,n=e.resizeWidth,i=e.ctx,u=e.quality,l=void 0===u?80:u,f=(e.preloadResourceName,e.forceSkipCDN),v=a()(e,h);if(!t)return s().createElement(c.Fragment,null);var d=f?t:(0,p.FT)(t,{resizeWidth:n,quality:l,webpEnable:i.webpEnable});return s().createElement(y,o()({},v,{ref:r,src:d}))})))},59180:function(e,t,r){"use strict";var n=r(59713),o=r.n(n),i=r(63038),a=r.n(i),c=r(67154),s=r.n(c),u=r(6479),l=r.n(u),p=r(67294),f=r.n(p),v=r(44968),h=r(96237),y=r(27325),d=r(57028),m=["src","placeholder","fuzzyStyle","webpEnable","className","innerRef","resizeWidth","quality","fuzzyWidth","ssr","forceSkipCDN","failDefaultImg"],b=["src","ctx","preloadResourceName","resizeWidth","fuzzyWidth"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){var t,r,n,i,c,u,y,b,O,w,P=e.src,E=e.placeholder,k=e.fuzzyStyle,S=e.webpEnable,_=e.className,I=void 0===_?null:_,C=e.innerRef,T=e.resizeWidth,D=e.quality,L=void 0===D?80:D,x=e.fuzzyWidth,N=e.ssr,R=e.forceSkipCDN,j=e.failDefaultImg,A=l()(e,m),z=R?P:(0,v.FT)(P,{resizeWidth:T,quality:L,webpEnable:S}),H=(0,v.FT)(P,{resizeWidth:x||Math.ceil(T/6),quality:20,webpEnable:S}),Z=f().createElement(d.Z,s()({className:I},A,{src:z,ref:C,forceSkipCDN:R})),q=(0,p.useState)(E||N?Z:null),B=a()(q,2),M=B[0],F=B[1],U=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({background:(t={image:E||H},r=t.position,n=void 0===r?"center":r,i=t.size,c=void 0===i?"100% 100%":i,u=t.image,y=void 0===u?"":u,b=t.repeat,O=void 0===b?"no-repeat":b,w="",w=y.includes("//")||y.includes("data")?"url('".concat(y,"')"):y,"".concat(n," / ").concat(c," ").concat(O," ").concat(w))},k||{});return(0,p.useEffect)((function(){if(!E&&!N){var e=new Image;e.src=H,e.onload=function(){F(Z)},e.onerror=function(){(0,h.e)({errorMsg:"progressive emage onerror",stores:{data:{forceSkipCDN:R,path:z,url:H}}}),F(j?f().createElement(d.Z,s()({className:I},A,{src:j,ref:C})):Z)}}}),[]),f().createElement("a",{className:I,style:U},M)}t.Z=(0,p.memo)((0,y.Z)((function(e){var t=e.src,r=e.ctx,n=(e.preloadResourceName,e.resizeWidth),o=e.fuzzyWidth,i=l()(e,b);if(!t)return f().createElement(p.Fragment,null);var a=r.webpEnable;return f().createElement(O,s()({},i,{fuzzyWidth:o,src:t,resizeWidth:n,webpEnable:a}))})))},38005:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"dynamic_GotoApp"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(4343).then(r.bind(r,16720))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 16720}},{isCloseSpinner:!0})},99349:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1app_share"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(8320).then(r.bind(r,82337))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 82337}},{timeout:300,isCloseSpinner:!0})},37668:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1share_native"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(1312).then(r.bind(r,37578))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 37578}},{isCloseSpinner:!0,timeout:300})},57068:function(e,t,r){"use strict";r.d(t,{Z:function(){return oe}});var n=r(34575),o=r.n(n),i=r(93913),a=r.n(i),c=r(2205),s=r.n(c),u=r(78585),l=r.n(u),p=r(29754),f=r.n(p),v=r(67294),h=r.n(v),y=(r(45697),r(49408)),d=r(38533),m=r(59738),b=r(30209),g=r(66197),O=r(53955);function w(e){var t=e.ctx||(0,O.d)();return h().createElement(O.Z.Provider,{value:t},e.children)}var P,E=r(59713),k=r.n(E),S=r(33124),_=r.n(S),I=r(94184),C=r.n(I),T=r(24788),D=r(96521),L=r(65077),x="jvVVFQTB",N="_1jEsgCwd",R="+cd5MS7v",j="o66Fn2Ec",A="_8yvLPUQJ",z="jOOoTBTT",H="_5lWtf8BM";function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var o=f()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l()(this,r)}}var q="_oc_h5_isfirsterror",B=(P=function(e){s()(r,e);var t=Z(r);function r(){var e;o()(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={refreshing:!1,enableRefresh:!1,showType:2,leftSecond:9,isFirsrtError:!1},e}return a()(r,[{key:"componentDidMount",value:function(){var e=this;if(T.Cp(),(0,L.XY)(),sessionStorage.getItem(q))var t=setInterval((function(){var r=e.state.leftSecond-1;e.setState({leftSecond:r}),r<=0&&(e.setState({enableRefresh:!0}),clearInterval(t))}),1e3);else sessionStorage.setItem(q,"1"),this.setState({leftSecond:0,enableRefresh:!0,isFirsrtError:!0})}},{key:"onClick",value:function(){!this.state.refreshing&&this.state.enableRefresh&&(this.setState({refreshing:!0}),location.reload())}},{key:"render",value:function(){var e,t=this.state,r=t.refreshing,n=t.enableRefresh,o=t.leftSecond,i=C()(A,(e={},k()(e,z,!n),k()(e,H,r),e)),a="重新加载";return o>0&&(a="重新加载("+o+"s)"),h().createElement("div",{className:C()(x,N)},h().createElement("div",{className:R}),h().createElement("p",{className:j},"页面正在加载中，请稍后"),h().createElement("div",{className:i,onClick:this.onClick},a))}}]),r}(h().Component),_()(P.prototype,"onClick",[D.Z],Object.getOwnPropertyDescriptor(P.prototype,"onClick"),P.prototype),P),M=r(48926),F=r.n(M),U=r(87757),V=r.n(U),G=r(99433),W=r(79072),$=r(37668),Q=r(99349);function K(e){var t=e.shareInfo;return(0,v.useEffect)((function(){var e=function(){var e=F()(V().mark((function e(){var n,o,i;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(902).then(r.bind(r,10902));case 2:if(n=e.sent,o=n.default,i=n.ShareType,o){e.next=7;break}return e.abrupt("return");case 7:o.getInstance().prepareShareSafe(t,i.WECHAT_SESSION).catch((function(){}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),null}function X(e){var t=e.shareInfo;return W.ZP.isNativePlatform?(0,G.yC)(W.ZP.version,"5.0.0")>=0?h().createElement(Q.Z,{shareInfo:t}):h().createElement($.Z,{shareInfo:t}):h().createElement(K,{shareInfo:t})}var Y=(0,v.memo)(X);function J(e){var t=e.isAddInvisibleChar,r=e.invisibleCharCount,n=void 0===r?200:r;return t?h().createElement("div",{style:{height:0}},"​".repeat(n)):null}var ee,te=r(38005);function re(){return h().createElement("script",{dangerouslySetInnerHTML:{__html:"(function () {\n    var ua = navigator.userAgent || navigator.vendor || window.opera;\n    if (!window.pinbridge || !ua.match(/phh_(android|ios)_version/i)) {\n        return;\n    }\n    window.pinbridge.callNative('JSUIControl', 'hideLoading');\n})();"}})}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var o=f()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l()(this,r)}}var oe=(0,y.f3)("store")(ee=(0,y.Pi)(ee=function(e){s()(r,e);var t=ne(r);function r(){return o()(this,r),t.apply(this,arguments)}return a()(r,[{key:"componentDidMount",value:function(){(0,m.g)();var e=this.props.store.renderError;e&&(0,g.Z)(e.errorMsg||"系统繁忙，请稍后再试")}},{key:"clientRender",value:function(){var e=this.props,t=e.shareInfo,r=e.shareNativeMap,n=this.props,o=n.isShowGotoApp,i=n.gotoAppStyle,a=(0,d.zT)().isNativePlatform;return h().createElement(h().Fragment,null,!a&&o&&h().createElement(te.Z,{style:i}),t&&h().createElement(Y,{shareInfo:t,shareNativeMap:r}))}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.store;if(r&&r.serviceRenderError)return h().createElement(B,null);var n=r.isFinishInitLoading;return h().createElement(w,{ctx:r.$ctx},h().createElement(J,{isAddInvisibleChar:r.$ctx.platform.isIOS}),t,n&&h().createElement(b.eA,null),h().createElement(re,null),this.clientRender())}}]),r}(h().Component))||ee)||ee},41759:function(e,t,r){"use strict";r.d(t,{V:function(){return i}});var n=r(54268),o={MONTH:(0,n.H)("/trip/train/monthlyIcon.png"),HEALTH:(0,n.H)("/trip/train/healthy.png")},i={monthly_card:{imgUrl:o.MONTH,text:"专享抢票加速特权，抢票速度升至极速",width:".54rem"},duoduo_health:{imgUrl:o.HEALTH,text:"专享抢票加速特权，抢票速度升至极速",width:".65rem"}}},96160:function(e,t,r){"use strict";var n=r(67294),o=r.n(n),i=r(94184),a=r.n(i),c=r(24684),s=r(48865),u=(0,n.memo)((function(e){var t=e.text,r=e.desc,n=e.btnText,i=e.className,u=e.onClick,l=e.pageElSn;return o().createElement(c.Z,{doImpr:!!l,trackingInfo:{page_el_sn:l}},o().createElement("div",{className:a()(s.Z.loginBar,i)},o().createElement("div",{className:s.Z.content},o().createElement("div",null,t||"登录12306账号",o().createElement("div",{className:s.Z.text},r||"铁路局要求实名制购票"))),o().createElement("div",{className:s.Z.btn,onClick:u},n||"立即登录")))}));t.Z=u},24281:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_reclist"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(3259).then(r.bind(r,87655))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 87655}},{ssr:!1,style:{},isCloseSpinner:!0})},59224:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"loadable_1stationList"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(8615).then(r.bind(r,12205))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 12205}})},72937:function(e,t,r){"use strict";r.d(t,{Z:function(){return ut}});var n=r(63038),o=r.n(n),i=r(59713),a=r.n(i),c=r(48926),s=r.n(c),u=r(21165),l=r.n(u),p=r(34575),f=r.n(p),v=r(93913),h=r.n(v),y=r(81506),d=r.n(y),m=r(2205),b=r.n(m),g=r(78585),O=r.n(g),w=r(29754),P=r.n(w),E=r(33124),k=r.n(E),S=(r(67268),r(87757)),_=r.n(S),I=r(22188),C=r(66197),T=r(24788),D=r(38533),L=r(93255),x=r(51510);function N(){return new Promise((function(e,t){navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var r=t.coords||{},n=r.latitude,o=void 0===n?0:n,i=r.longitude;e({latitude:o,longitude:void 0===i?0:i})}),(function(t){e((0,x.f6)(t))}),{enableHighAccuracy:!1,timeout:6e4,maximumAge:6e4}):e((0,x.f6)())}))}function R(){return window.wx&&window.wx.ready?new Promise((function(e){window.wx.ready((function(){!function(e){window.wx.getLocation({success:function(t){var r=t.latitude,n=t.longitude;e({latitude:r,longitude:n})},cancel:function(){e((0,x.f6)())}})}(e)}))})):(0,x.f6)()}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t,r){window.mqq&&window.mqq.ready||t((0,x.f6)()),window.mqq.ready((function(){window.sensor||t((0,x.f6)()),window.mqq.sensor.getLocation({allowCacheTime:60},(function(r,n,o,i){t(0!==r?null:{latitude:n,longitude:o,coord_type:5},e)}))}))}))}var A=r(41468),z=r(25370),H=r(53527),Z=r(85325),q="/api/ptolemeaus/location/report",B="/api/ticket/channel/city",M=h()((function e(){var t=this;f()(this,e),this.axiosHttp=(0,z.e)({pageInfo:{pageId:(0,H.e6)()}},{defaultErrorHandler:function(e){return e},useNativeAntiToken:!0}),this.getLocationCity=function(){var e=s()(_().mark((function e(r){var n,o,i,a,c,s,u;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.uri,o=r.body,i=r.lng,a=r.lat,c=r.antiContent,s={payload:o,location:{coordinate_type:1,lng:i,lat:a}},(0,D.zT)().isNativePlatform||(s.anti_content=c),e.next=6,t.axiosHttp.post(n,s);case 6:return u=e.sent,e.abrupt("return",{data:u});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getLocationIdByLatLng=function(){var e=s()(_().mark((function e(r){var n,o,i,a,c,s;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.lat,o=r.lng,i=r.antiContent,e.prev=1,a={payload:{scene:Z.u},location:{coordinate_type:1,lng:o,lat:n}},(0,D.zT)().isNativePlatform||(a.anti_content=i),e.next=7,t.axiosHttp.post(q,a);case 7:return c=e.sent,s=c.result,e.abrupt("return",{locationId:(null==s?void 0:s.location_id)||null});case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",{locationId:null,errorCode:Z.B.NETWORK_ERROR});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),this.getCityByLocationId=function(){var e=s()(_().mark((function e(r,n){var o,i;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={type:r?1:0,location_id:r},(0,D.zT)().isNativePlatform||(o.anti_content=n),e.next=6,t.axiosHttp.post(B,o);case 6:return i=e.sent,e.abrupt("return",(0,x.ZV)(i.result||{}));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{name:null,code:null});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()})),F=new M;function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G={maxAge:2592e3},W=null;function $(){return Q.apply(this,arguments)}function Q(){return Q=s()(_().mark((function e(){var t,r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W){e.next=2;break}return e.abrupt("return",W);case 2:if(t=(0,x.f6)(),!(r=(0,D.zT)()).isWeChatMiniProgram){e.next=8;break}return e.abrupt("return",t);case 8:if(!(r.isWeChatPlatform&&window.wx&&window.wx.getLocation)){e.next=14;break}return e.next=11,R();case 11:t=e.sent,e.next=23;break;case 14:if(!r.isQQPlatform){e.next=20;break}return e.next=17,j();case 17:t=e.sent,e.next=23;break;case 20:return e.next=22,N();case 22:t=e.sent;case 23:return t.latitude&&(W=t),e.abrupt("return",t);case 25:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function K(e){return X.apply(this,arguments)}function X(){return(X=s()(_().mark((function e(t){var r,n,o,i,a,c,s,u,l;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(t||{}).antiContent,n=(0,D.zT)(),o=n.isNativePlatform,i={locationId:null,errorCode:Z.B.FAIL},e.prev=3,!o){e.next=10;break}return e.next=7,(0,A.XA)(t);case 7:i=e.sent,e.next=21;break;case 10:return e.next=12,$();case 12:if(a=e.sent,c=a.latitude,s=void 0===c?0:c,u=a.longitude,l=void 0===u?0:u,!s||!l){e.next=21;break}return e.next=20,F.getLocationIdByLatLng({lng:l,lat:s,antiContent:r});case 20:i=e.sent;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3);case 26:return i.locationId&&(0,L.d8)("locationId",i.locationId,G),e.abrupt("return",V(V({},i),{},{enabled:i.errorCode!==Z.B.NO_AUTHORITY}));case 28:case"end":return e.stop()}}),e,null,[[3,23]])})))).apply(this,arguments)}var Y=r(93054),J=r(38356);var ee=r(60002),te=r(57686),re=r(79072),ne=r(87185),oe=r.n(ne),ie=r(6479),ae=r.n(ie),ce=r(12714),se=r(26372),ue=r(74204),le=["apiCallback"],pe=function(e){var t=e.url,r=e.fullUrl,n=e.timeout,o=(Date.now(),"");o=location.href.includes("hutaojie")?"https://origin.htj.pdd.net/api-static-htj/":"https://apistatic.pddpic.com/api-static/";var i=r||o+t,a=!0;return Promise.race([new Promise((function(e,t){setTimeout((function(){a?t({message:"cdn请求超时"}):e()}),n||3e3)})),ue(i,{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return a=!1,null!=e&&e.result?(0,se.ZV)(null==e?void 0:e.result):null})).catch((function(e){throw new Error(JSON.stringify(e))}))])};function fe(e,t){var r={sub_op:"api_error",url:"GET:"+t,page_url:location.href,error_code:e.errorCode,error_msg:e.message,error_type:e.errorType};(0,ce.K2)(e,r)}function ve(e){return he.apply(this,arguments)}function he(){return(he=s()(_().mark((function e(t){var r,n,o;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.apiCallback,n=ae()(t,le),e.prev=1,e.next=4,pe(n);case 4:if(o=e.sent){e.next=7;break}throw new Error("cdn resolve empty data error");case 7:return e.abrupt("return",o);case 10:return e.prev=10,e.t0=e.catch(1),fe(e.t0,(null==n?void 0:n.fullUrl)||(null==n?void 0:n.url)),e.abrupt("return",r&&r());case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var ye=r(92272),de=r(9714),me=r(16932),be=r(86091);function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P()(e);if(t){var o=P()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O()(this,r)}}var Pe="api/mayflower/train/query/station/query_location_info_v2",Ee="api/mayflower/train/query/station/query_station",ke="5_trip_location_info",Se="6_trip_station_info",_e="6_trip_hot_station_info",Ie="5_trip_history_location_new";function Ce(e,t){return!(e&&e.name&&t&&t.name)||e.name.trim()===t.name.trim()}function Te(e){var t=e||{},r=t.hotStationList,n=t.stationList,o=void 0===n?[]:n;return{hotStationList:0===(r||[]).length?null:r,stationList:oe()(o,Ce)}}var De,Le,xe,Ne,Re,je,Ae,ze,He,Ze,qe,Be,Me,Fe,Ue,Ve,Ge,We,$e,Qe,Ke,Xe,Ye,Je=function(e){b()(p,e);var t,r,n,i,a,c,u,l=we(p);function p(){return f()(this,p),l.apply(this,arguments)}return h()(p,[{key:"localUpdate",value:(u=s()(_().mark((function e(t){var r,n,i,a;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([me.Z.getItem(_e),me.Z.getItem(Se)]);case 2:if(r=e.sent,n=o()(r,2),i=n[0],a=n[1],!i||!a){e.next=8;break}return e.abrupt("return",{hotStationList:i,stationList:a});case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"queryAllStations",value:(c=s()(_().mark((function e(){var t,r,n=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,de.KQ)("stationCdnTimeOut"),e.next=3,ve({url:Ee,timeout:isNaN(t)?0:t,apiCallback:function(){return n.get({url:Ee,extrats:{encodeNativeResponse:!1},defaultValue:{}})}});case 3:return(r=e.sent).hotStationList&&r.stationList&&(me.Z.setItem(_e,r.hotStationList),me.Z.setItem(Se,r.stationList)),e.abrupt("return",Te(r));case 6:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)})},{key:"getAllStations",value:(a=s()(_().mark((function e(t){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.queryAllStations(),e.next=4,this.localUpdate(r);case 4:if(!(n=e.sent).isApiError){e.next=7;break}throw new Error("get station error");case 7:return e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{hotStationList:be.dp,stationList:[],isApiError:!0});case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e){return a.apply(this,arguments)})},{key:"queryLocationInfo",value:(i=s()(_().mark((function e(t){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post({url:Pe,params:t,defaultValue:{}});case 2:return r=e.sent,me.Z.setItem(ke,Oe(Oe({},t),r)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"preLocationInfo",value:function(){return me.Z.getItem(ke)}},{key:"getLocationInfo",value:(n=s()(_().mark((function e(t){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=this.queryLocationInfo(t),e.next=4,me.Z.getItem(ke);case 4:if(!(n=e.sent)||!n.cityName||t.locationId!==n.locationId){e.next=7;break}return e.abrupt("return",n);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e){return n.apply(this,arguments)})},{key:"setLocalHistory",value:(r=s()(_().mark((function e(t,r){var n,o;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=r.slice(0,6)||[]).unshift(t),(o=oe()(n,Ce)).length=Math.min(o.length,6),me.Z.setItem(Ie,o);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"getHistory",value:(t=s()(_().mark((function e(){var t;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.Z.getItem(Ie);case 2:return t=e.sent,e.abrupt("return",t||[]);case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),p}(ye.b);function et(e){return(e||"").toLocaleLowerCase()}function tt(e,t){return e<t?-1:e>t?1:0}function rt(e){return e.sort((function(e,t){return tt(e.spell,t.spell)}))}function nt(e){var t={};return e.forEach((function(e){if(e.firstLetter){var r=e.firstLetter[0].toLocaleUpperCase();t[r]||(t[r]={char:r,data:[]}),t[r].data.push(e)}})),function(e){return e.sort((function(e,t){return tt(e.char,t.char)}))}(Object.values(t)).map((function(e){return{char:e.char,data:rt(e.data)}}))}function ot(e,t){var r=e.citySpell,n=e.cityFirstLetter,o=e.cityName;return(r||"").startsWith(t)||(n||"").includes(t)||(o||"").includes(t)}function it(e,t){t=(t||"").toLocaleLowerCase().replace(/\s+/g,"");var r=[],n=[],o=null;(e||[]).forEach((function(e){if(o||(a=t,c=(i=e).spell,s=i.fname,c!==a&&s!==a&&"".concat(s,"站")!==a)){var i,a,c,s,u=ot(e,t),l=function(e,t){var r=e.spell,n=e.fname,o=e.firstLetter;return(r||"").startsWith(t)||(o||"").includes(t)||"".concat(n,"站").includes(t)}(e,t);u&&r.push(e),!u&&l&&n.push(e)}else o=e}));var i=r.concat(n);return o&&i.unshift(o),function(e,t,r,n){for(var o={},i=[],a=0;a<e.length;a++){var c=e[a],s=c[t]||"empty";if(o[s]&&"empty"!==s)for(var u=0;u<i.length;u++){var l=i[u];if(l.name===s&&l.data.length<r){l.data.push(c);break}}else{var p=ot(c,n);i.push({name:s,data:[c],showName:"".concat(s).concat(p?"（所有车站）":"")}),o[s]=!0}}return i}(i,"cityName",8,t)}function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P()(e);if(t){var o=P()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O()(this,r)}}var ut=(De=I.aD.bound,Le=I.aD.bound,xe=I.aD.bound,Ne=I.aD.bound,Re=(0,ee.Z)(100),je=I.aD.bound,Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;return function(t,r,n){var o,i=n.value;return n.value=function(){if(!o){o=!0;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];i.apply(this,r),setTimeout((function(){o=!1}),e)}},n}}(400),ze=I.aD.bound,He=I.aD.bound,Ze=I.aD.bound,qe=I.aD.bound,Be=I.aD.bound,Me=function(e){b()(v,e);var t,r,n,i,a,c,u,p=st(v);function v(){var e;f()(this,v);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=p.call.apply(p,[this].concat(r)),l()(e,"hotStation",Fe,d()(e)),l()(e,"locationInfo",Ue,d()(e)),l()(e,"historyStation",Ve,d()(e)),l()(e,"stationCategory",Ge,d()(e)),l()(e,"navCategory",We,d()(e)),e.stationList=[],l()(e,"searchResult",$e,d()(e)),l()(e,"isSearchLock",Qe,d()(e)),l()(e,"searchKey",Ke,d()(e)),l()(e,"isApiError",Xe,d()(e)),l()(e,"isShowTrainSearch",Ye,d()(e)),e.getShowTrainSearchStatus=function(){return e.isShowTrainSearch},e}return h()(v,[{key:"showTrainSearch",value:function(){this.isShowTrainSearch=!0}},{key:"searchLock",value:function(e){this.isSearchLock=e,e||(document.getElementById("search-input").value="")}},{key:"onSelectItem",value:function(e){this.selectItem=e,this.isShowTrainSearch=!1,this.searchResult=[],this.searchKey="",this.searchLock(!1)}},{key:"searchByKey",value:function(e){this.isShowTrainSearch&&(e=e.trim(),this.searchKey=e,/^[0-9]*$/.test(e)||""===e?this.searchResult=[]:this.searchResult=it(this.stationList,e))}},{key:"setlocationLock",value:function(e){this.locationInfo.loading=e}},{key:"setLocationInfo",value:function(e){e.isFail=2===e.status,this.locationInfo=Object.assign({},this.locationInfo,e),this.setlocationLock(!1)}},{key:"queryLocation",value:(u=s()(_().mark((function e(){var t,r,n=arguments;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,e.next=3,this.$service.getLocationInfo({locationId:t});case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:r=e.t0,this.setLocationInfo(ct(ct({},r),{},{nowCity:r.cityName}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"clickLocation",value:(c=s()(_().mark((function e(){var t,r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isShowTrainSearch&&!this.locationInfo.loading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.setlocationLock(!0),e.next=6,K({antiContent:(0,J.v0)()});case 6:return t=e.sent,r=t.locationId,n=t.enabled,this.setLocationInfo({enabled:n}),e.next=12,this.queryLocation(r);case 12:this.locationInfo.isFail&&(0,C.Z)("查询结果异常，请尝试搜索站点"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),(0,C.Z)("查询结果异常，请尝试搜索站点");case 18:case"end":return e.stop()}}),e,this,[[2,15]])}))),function(){return c.apply(this,arguments)})},{key:"getLocationCity",value:(a=s()(_().mark((function e(){var t,r,n,o;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isCityInit=!0,this.setlocationLock(!0),this.$service){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.$service.preLocationInfo();case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0={};case 9:if(t=e.t0,this.setLocationInfo({enabled:!0,nowCity:t.cityName||""}),re.ZP.isNativePlatform){e.next=15;break}return e.next=14,this.queryLocation();case 14:return e.abrupt("return");case 15:return e.next=17,K({antiContent:(0,J.v0)()});case 17:if(r=e.sent,n=r.locationId,o=r.enabled,this.setLocationInfo({enabled:o}),o){e.next=23;break}return e.abrupt("return");case 23:return e.next=25,this.queryLocation(n);case 25:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"initServices",value:function(e){this.$service=new Je(e)}},{key:"prepareClientData",value:(i=s()(_().mark((function e(){var t,r,n,i,a=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"1"===(0,te.XX)("train_search_station")&&this.showTrainSearch(),e.next=4,Promise.all([this.$service.getAllStations(),this.$service.getHistory()]);case 4:t=e.sent,r=o()(t,2),n=r[0],i=r[1],(0,I.z)((function(){a.hotStation=n.hotStationList,a.historyStation=i})),this.updateStationList(n);case 10:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"setLocalHistory",value:(n=s()(_().mark((function e(t){var r,n=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$service.setLocalHistory(t,this.historyStation);case 2:return e.next=4,this.$service.getHistory();case 4:r=e.sent,(0,I.z)((function(){n.historyStation=r}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"onResume",value:(r=s()(_().mark((function e(){var t;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.locationInfo.enabled,!re.ZP.isNativePlatform||t){e.next=4;break}return e.next=4,this.getLocationCity();case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"onRefreshSearch",value:(t=s()(_().mark((function e(){var t;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T.$Z(),e.next=3,this.$service.getAllStations();case 3:t=e.sent,this.updateStationList(t),T.Cp();case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"updateStationList",value:function(e){this.isApiError=e.isApiError;var t,r=(t=e.stationList,Array.isArray(t)?t.map((function(e){return{name:e.name||"",fname:(e.name||"").replace(/\s+/g,""),spell:et(e.spell),firstLetter:et(e.firstLetter),cityName:e.cityName||"",citySpell:et(e.citySpell),cityFirstLetter:et(e.cityFirstLetter)}})).filter((function(e){return e.name})):[]);this.stationCategory=nt(r),this.navCategory=this.stationCategory.map((function(e){return e.char})),this.stationList=r}}]),v}(Y.z),Fe=k()(Me.prototype,"hotStation",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ue=k()(Me.prototype,"locationInfo",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ve=k()(Me.prototype,"historyStation",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ge=k()(Me.prototype,"stationCategory",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),We=k()(Me.prototype,"navCategory",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$e=k()(Me.prototype,"searchResult",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qe=k()(Me.prototype,"isSearchLock",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ke=k()(Me.prototype,"searchKey",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Xe=k()(Me.prototype,"isApiError",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ye=k()(Me.prototype,"isShowTrainSearch",[I.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k()(Me.prototype,"showTrainSearch",[De],Object.getOwnPropertyDescriptor(Me.prototype,"showTrainSearch"),Me.prototype),k()(Me.prototype,"searchLock",[Le],Object.getOwnPropertyDescriptor(Me.prototype,"searchLock"),Me.prototype),k()(Me.prototype,"onSelectItem",[xe],Object.getOwnPropertyDescriptor(Me.prototype,"onSelectItem"),Me.prototype),k()(Me.prototype,"searchByKey",[Ne,Re],Object.getOwnPropertyDescriptor(Me.prototype,"searchByKey"),Me.prototype),k()(Me.prototype,"setlocationLock",[I.aD],Object.getOwnPropertyDescriptor(Me.prototype,"setlocationLock"),Me.prototype),k()(Me.prototype,"setLocationInfo",[I.aD],Object.getOwnPropertyDescriptor(Me.prototype,"setLocationInfo"),Me.prototype),k()(Me.prototype,"clickLocation",[je,Ae],Object.getOwnPropertyDescriptor(Me.prototype,"clickLocation"),Me.prototype),k()(Me.prototype,"getLocationCity",[ze],Object.getOwnPropertyDescriptor(Me.prototype,"getLocationCity"),Me.prototype),k()(Me.prototype,"setLocalHistory",[He],Object.getOwnPropertyDescriptor(Me.prototype,"setLocalHistory"),Me.prototype),k()(Me.prototype,"onResume",[Ze],Object.getOwnPropertyDescriptor(Me.prototype,"onResume"),Me.prototype),k()(Me.prototype,"onRefreshSearch",[qe],Object.getOwnPropertyDescriptor(Me.prototype,"onRefreshSearch"),Me.prototype),k()(Me.prototype,"updateStationList",[Be],Object.getOwnPropertyDescriptor(Me.prototype,"updateStationList"),Me.prototype),Me)},86091:function(e,t,r){"use strict";r.d(t,{mq:function(){return n},P_:function(){return o},Cm:function(){return i},gc:function(){return a},dp:function(){return c}});var n={LOCATION_CONFIG:{name:"定位",title:"定位",id:"location"},HISTORY:{name:"历史",title:"历史",id:"history"},HOT:{name:"热门",title:"热门城市",id:"hot-city"}},o={name:"热门",title:"热门站点",id:"hot-city"},i={"hot-city":1,"station-panel":0,city:1,station:0},a={UN_ENABLE:"点击开启定位功能",RETRY:"重新定位",LOADING:"正在定位"},c=["北京","上海","广州","武汉","南京","深圳","杭州","郑州","长沙","天津","苏州","沈阳","济南","无锡","西安","徐州","厦门","合肥","福州","大连","常州"]},72035:function(e,t,r){"use strict";var n=r(38871);t.Z=(0,n.n)({resolved:{},chunkName:function(){return"1_teach_popup"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(4772).then(r.bind(r,81761))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 81761}})},53701:function(e,t,r){var n=r(7537),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},85911:function(e,t,r){var n=r(10860),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},89419:function(e,t,r){var n=r(50087),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},72669:function(e,t,r){var n=r(40521),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},97823:function(e,t,r){var n=r(37353),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},33244:function(e,t,r){var n=r(23100),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},14095:function(e,t,r){var n=r(6485),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},4330:function(e,t,r){var n=r(96302),o=r(84718),i="string"==typeof n?[[e.id,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return i},t._getCss=function(){return""+n},t._insertCss=function(e){return o(i,e)}},56029:function(e,t,r){var n=r(33448);e.exports=function(e,t,r){for(var o=-1,i=e.length;++o<i;){var a=e[o],c=t(a);if(null!=c&&(void 0===s?c==c&&!n(c):r(c,s)))var s=c,u=a}return u}},53325:function(e){e.exports=function(e,t){return e>t}},67206:function(e){e.exports=function(e){return e}},84753:function(e,t,r){var n=r(56029),o=r(53325),i=r(67206);e.exports=function(e,t){return e&&e.length?n(e,i(t,2),o):void 0}},18906:function(e,t){"use strict";t.Z={bubble:"C2RFWIcC",hide:"AhxE3Cxp",cont:"oseYtJSd",item:"md8OZKeq",avater:"fy5sJkEh",text:"n5o7I7E0",anim:"jfuVYm15",subsidy:"L5U2GfCW",wrapper:"JHCmNUdh",loading:"PSzQihXF",gradual:"BOH-rTtj"}},48865:function(e,t){"use strict";t.Z={container:"IEr2uH54",loged:"fRaVwUIg",content:"_6vGVguG2",minIcon:"yszQsSZs",text:"dot8MPCP",operate:"-WkkYQCt",btn:"_4i5QfeSO",tip:"CYEDnU-Q",triangle:"Ywv+tbkx",loginBar:"zxN3nRsh",loading:"p9d-PbOU",gradual:"tghxSVQN"}},83201:function(e,t){"use strict";t.Z={wrapper:"zPIeKuxW",hideWrapper:"_7o5XGhwy",container:"PM4YWf33",header:"_4TBbUMjg",footer:"sD-yNVJO",loading:"_3EksBOD6",gradual:"LrVRXeE9"}},49674:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=49674,e.exports=t},7537:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".I-\\+mMlrI{-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;font-size:.17rem;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.I-\\+mMlrI>*{-webkit-box-flex:1;-webkit-flex:1;flex:1}",""]),n.locals={root:"I-+mMlrI"},e.exports=n},10860:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,"._7NOqw9UP{-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#9c9c9c;display:-webkit-box;display:-webkit-flex;display:flex;font-weight:400;height:.48rem;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;line-height:normal;position:relative}",""]),n.locals={root:"_7NOqw9UP"},e.exports=n},50087:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".naEnff\\+X{-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#e02e24;display:-webkit-box;display:-webkit-flex;display:flex;font-weight:500;font-weight:700;height:.48rem;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;line-height:normal;position:relative}",""]),n.locals={root:"naEnff+X"},e.exports=n},40521:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".xmpTGZcI{padding:.24rem .2rem}",""]),n.locals={root:"xmpTGZcI"},e.exports=n},37353:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".eZQZoD9X{color:#58595b;font-size:.14rem;line-height:.21rem;margin-top:.04rem;text-align:center}",""]),n.locals={root:"eZQZoD9X"},e.exports=n},23100:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".BAq2Qm5t{color:#151516;font-size:.17rem;line-height:.25rem;text-align:center}",""]),n.locals={root:"BAq2Qm5t"},e.exports=n},6485:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".aWMezacF{border-style:solid;bottom:-100%;box-sizing:border-box;left:0;pointer-events:none;position:absolute;right:-100%;top:0;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:0 0;transform-origin:0 0}.b1qB1npF{border-left-width:1px}._6esLBwc5{border-right-width:1px}.rd\\+2uqzk{border-bottom-width:1px}._37fQ8Nib{border-top-width:1px}.jhsxLKsW{border-width:1px}",""]),n.locals={root:"aWMezacF",left:"b1qB1npF",right:"_6esLBwc5",bottom:"rd+2uqzk",top:"_37fQ8Nib",all:"jhsxLKsW"},e.exports=n},96302:function(e,t,r){var n=r(23645)((function(e){return e[1]}));n.push([e.id,".eH4g7sUH{border:none!important;position:relative}",""]),n.locals={root:"eH4g7sUH"},e.exports=n},34968:function(e){"use strict";e.exports=window.pinbridge}},function(e){e.O(0,[4736,4181],(function(){return t=95419,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/m100428/js/react_train_44a1dc0ce442c96b60c1.js.map