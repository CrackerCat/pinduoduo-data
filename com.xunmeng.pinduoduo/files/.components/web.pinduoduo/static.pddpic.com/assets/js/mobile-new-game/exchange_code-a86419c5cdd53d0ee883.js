(window["webpackJsonPmobile-new-game"]=window["webpackJsonPmobile-new-game"]||[]).push([["8e55"],{"+K+b":function(e,t,r){e.exports=r("EQ+b")("+K+b")},"+iFO":function(e,t,r){e.exports=r("EQ+b")("+iFO")},"0WgU":function(e,t,r){(t=e.exports=r("I1BE")(!1)).push([e.i,"._12Efnh5H{position:absolute;left:0;top:-.01rem;width:3.75rem;height:2.85rem;z-index:-1}",""]),t.locals={header:"_12Efnh5H"}},"1Uri":function(e,t,r){var n=r("v/E8"),i=r("Q8e5"),a="string"==typeof n?[[e.i,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return a},t._getCss=function(){return""+n},t._insertCss=function(e){return i(a,e)}},"5Tg0":function(e,t,r){e.exports=r("EQ+b")("5Tg0")},"88Gu":function(e,t,r){e.exports=r("EQ+b")("88Gu")},A90E:function(e,t,r){e.exports=r("EQ+b")("A90E")},IJF8:function(e,t,r){var n=r("tUUu"),i=r("Q8e5"),a="string"==typeof n?[[e.i,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return a},t._getCss=function(){return""+n},t._insertCss=function(e){return i(a,e)}},LcsW:function(e,t,r){e.exports=r("EQ+b")("LcsW")},Q1l4:function(e,t,r){e.exports=r("EQ+b")("Q1l4")},YO3V:function(e,t,r){e.exports=r("EQ+b")("YO3V")},dTAl:function(e,t,r){e.exports=r("EQ+b")("dTAl")},heNW:function(e,t,r){e.exports=r("EQ+b")("heNW")},jLgy:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return me}));var n=r("o0o1"),i=r.n(n),a=r("yXPU"),o=r.n(a),c=r("Rfcb"),s=r.n(c),u=r("b5Tp"),l=r("lSNA"),d=r.n(l),f=r("lwsE"),p=r.n(f),m=r("W8MJ"),h=r.n(m),v=r("7W2i"),b=r.n(v),g=r("a1gu"),w=r.n(g),_=r("Nsbk"),x=r.n(_),y=r("d0g5"),E=r("3CHX"),k=r("gz5t"),S=0,O=1,I=2,j=r("Wgwc"),P=r.n(j);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=x()(e);if(t){var i=x()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w()(this,r)}}var Q=function(e){b()(s,e);var t,r,n,a,c=C(s);function s(e){var t;p()(this,s),(t=c.call(this,z(z({},e||{}),{},{trackingBase:{pageSn:"87115",pageName:"bump_red_virtual_code_redeem"}}))).flowId=void 0,t.pageScene=S,t.tradeSn=void 0,t.$service=void 0,t.awardName=void 0,t.awardAvatar=void 0,t.validTime=void 0,t.applicationScope=void 0,t.awardUserInstruction=void 0,t.cdKey=void 0,t.awardId=void 0;var r=t.query,n=r.trade_sn,i=r.flow_id;switch(+r.page_scene){case O:t.tradeSn=n,t.pageScene=O;break;case I:t.tradeSn=n,t.pageScene=I,t.flowId=i;break;default:t.pageScene=S}return t.$service=new k.a(t.$axiosHttp),t}return h()(s,[{key:"getInitialStore",value:(a=o()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(y.a)(null===(t=this.requestContext)||void 0===t?void 0:t.__req).then((function(){})),this.mainQuery()]);case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"mainQuery",value:(n=o()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pageScene!==O){e.next=2;break}return e.abrupt("return",this.queryHot());case 2:if(this.pageScene!==I){e.next=4;break}return e.abrupt("return",this.queryBoom());case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"queryHot",value:(r=o()(i.a.mark((function e(){var t,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$service.post("api/kanon/award/gain",{trade_sn:this.tradeSn},{defaultErrorHandler:function(){}});case 3:if((t=e.sent).result){e.next=6;break}throw new Error("api/kanon/award/gain res ".concat(JSON.stringify(t)));case 6:r=t.result,this.cdKey=r.plain_cd_key,this.awardName=r.award_name,n=r.effective_start_time&&r.effective_end_time&&"".concat(P()(r.effective_start_time).format("YYYY.MM.DD")," - ").concat(P()(r.effective_end_time).format("YYYY.MM.DD")),this.validTime=n||r.award_desc,this.awardAvatar=r.hd_thumb_url,this.applicationScope=r.award_alias,this.awardId=r.award_id,this.awardUserInstruction=r.instruction,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),this.sendError(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])}))),function(){return r.apply(this,arguments)})},{key:"queryBoom",value:(t=o()(i.a.mark((function e(){var t,r,n,a,o,c,s,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$service.post("hecarim/api/award/cdkey",{flow_id:this.flowId},{defaultErrorHandler:function(){}});case 3:if((l=e.sent).result){e.next=6;break}throw new Error("hecarim/api/award/cdkey result: ".concat(JSON.stringify(l)));case 6:d=l.result,this.cdKey=null===(t=d.record_info)||void 0===t?void 0:t.biz_sn,this.awardName=null===(r=d.prize_info)||void 0===r?void 0:r.title,this.validTime="".concat(P()(null===(n=d.prize_info)||void 0===n?void 0:n.redeem_start).format("YYYY.MM.DD")," - ").concat(P()(null===(a=d.prize_info)||void 0===a?void 0:a.redeem_end).format("YYYY.MM.DD")),this.awardAvatar=null===(o=d.prize_info)||void 0===o?void 0:o.thumb_url,this.applicationScope=null===(c=d.prize_info)||void 0===c?void 0:c.used_range,this.awardId=null===(s=d.record_info)||void 0===s?void 0:s.flow_id,this.awardUserInstruction=null===(u=d.prize_info)||void 0===u?void 0:u.introduction,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),this.sendError(e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])}))),function(){return t.apply(this,arguments)})}]),s}(E.a),D=r("6MOg"),M=r.n(D),Y=r("g5zU"),A=r.n(Y),R=r("pI6X"),T=r.n(R),U=r("J1eG");function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=W(W({},{HEADER_BG:"https://promotion.pddpic.com/promo/promo/2021-01-15/04e66c9e-4fcf-4499-af22-92cf8ff6b611.png"}),{EMPTY_ICON:"https://promotion.pddpic.com/promo/2020-12-22/632caf54-0501-4efa-b96a-8e8d99864e76.png.slim.png"});function H(){return A()(T.a),M.a.createElement(U.a,{src:B.HEADER_BG,className:T.a.header})}var q=r("1Uri"),K=r.n(q),F=r("DTvM"),L=function e(t,r){var n=this;p()(this,e),this.getState=void 0,this.setState=void 0,this.isUpdating=!1,this.getService=function(){return n.getState().service},this.getState=t,this.setState=r},V=new function e(){p()(this,e),this.requestContext=void 0,this.service=void 0,this.immersiveData=null,this.awardName=void 0,this.awardAvatar=void 0,this.validTime=void 0,this.applicationScope=void 0,this.awardUserInstruction=void 0,this.cdKey=void 0,this.awardId=void 0,this.pageScene=void 0},$=Object(F.a)(V,(function(e,t){return new L(e,t)}),"ExchangeCodeState"),G=$.StateProvider,X=$.useStateContext,Z=($.useActionsContext,r("5Ojd")),ee=r("KoDT"),te=r("qJnZ");function re(e){return(null===te.b||void 0===te.b?void 0:te.b.isNativePlatform)?function(e){var t=Object(ee.compareVersion)(te.b.version,"4.53.0")>=0?"JSCipher":"JSStorage";return Object(Z.a)(t,"setPasteboard",{text:e}).catch((function(){return!1}))}(e):function(e){var t,r=document.createElement("input"),n=document.activeElement;return document.body.appendChild(r),r.value=e,r.focus(),r.setSelectionRange?r.setSelectionRange(0,r.value.length):r.select(),t=document.execCommand("copy"),document.body.removeChild(r),n.focus(),t}(e)}var ne=r("MyPv"),ie=M.a.createElement("div",null),ae=M.a.createElement("span",null,"兑换码"),oe=M.a.createElement("div",null);function ce(){A()(K.a);var e=X().state;return e.pageScene===S?M.a.createElement(U.a,{src:B.EMPTY_ICON,className:K.a.empty}):M.a.createElement("div",{className:K.a.main},M.a.createElement(U.a,{src:e.awardAvatar,className:K.a.pic}),M.a.createElement("div",{className:K.a.text1},e.awardName),M.a.createElement("div",{className:K.a.text2},ie,ae,oe),M.a.createElement("div",{className:K.a.text3},e.cdKey),M.a.createElement("div",{className:K.a.btn,onClick:function(){re(e.cdKey)&&Object(ne.info)("复制成功")}},"复制兑换码"),M.a.createElement("div",{className:K.a.text4},"使用范围：",M.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.applicationScope}})),M.a.createElement("div",{className:K.a.text5},"有效日期：",M.a.createElement("span",null,e.validTime)),M.a.createElement("div",{className:K.a.text6},"使用说明："),M.a.createElement("div",{className:K.a.desc,dangerouslySetInnerHTML:{__html:e.awardUserInstruction}}))}var se=r("IJF8"),ue=r.n(se),le=r("EhXv");var de=M.a.createElement(H,null),fe=M.a.createElement(ce,null),pe=s()(Object(u.a)(Q,{shareInfo:{disableShare:!1}}))((function(e){var t,r,n,i,a,o,c,s,u,l,d,f=e.store;return Object(D.useEffect)((function(){le.default.init({id:f.trackingBase.pageSn})}),[]),r=(t={backgroundColor:"#FFEEE2"}).btnStyle,n=void 0===r?["#ffffff","#ffffff"]:r,i=t.statusBarStyle,a=void 0===i?[1,1]:i,o=t.alpha,c=void 0===o?[0,1]:o,s=t.offset,u=void 0===s?[0,200]:s,l=t.backgroundColor,d=void 0===l?"#6615a6":l,Object(D.useEffect)((function(){te.b.isNativePlatform&&(Object(Z.a)("JSUIControl","setRollingAlpha",{alpha:c,btn_style:n,status_bar_style:a,continuous:1,offset:u,height:window.innerHeight}),Object(Z.a)("JSUIControl","setBackground",{background_color:d}))}),[]),A()(ue.a),M.a.createElement(G,{value:{service:f.$service,requestContext:f.requestContext,awardName:f.awardName,awardAvatar:f.awardAvatar,validTime:f.validTime,applicationScope:f.applicationScope,awardUserInstruction:f.awardUserInstruction,awardId:f.awardId,cdKey:f.cdKey,pageScene:f.pageScene}},M.a.createElement("div",{className:ue.a.comp},de,fe))}));function me(e){return he.apply(this,arguments)}function he(){return(he=o()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{title:"奖品兑换",chunks:["exchange_code"],component:pe,cacheKey:t.pathname,forceLogin:!0,useInlineLogger:!1});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},juv8:function(e,t,r){e.exports=r("EQ+b")("juv8")},lSCD:function(e,t,r){e.exports=r("EQ+b")("lSCD")},mTTR:function(e,t,r){e.exports=r("EQ+b")("mTTR")},mdPL:function(e,t,r){e.exports=r("EQ+b")("mdPL")},pI6X:function(e,t,r){var n=r("0WgU"),i=r("Q8e5"),a="string"==typeof n?[[e.i,n,""]]:n;(t=e.exports=n.locals||{})._getContent=function(){return a},t._getCss=function(){return""+n},t._insertCss=function(e){return i(a,e)}},sEf8:function(e,t,r){e.exports=r("EQ+b")("sEf8")},tLB3:function(e,t,r){e.exports=r("EQ+b")("tLB3")},tUUu:function(e,t,r){(t=e.exports=r("I1BE")(!1)).push([e.i,"body{background:#ffeee2}._7IVM_q5m{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:100%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}",""]),t.locals={comp:"_7IVM_q5m"}},"v/E8":function(e,t,r){(t=e.exports=r("I1BE")(!1)).push([e.i,"._2gQf_tnI{margin-top:1.27rem;width:3.27rem;border-radius:.1rem;background:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.vf09nQYM{margin-top:.3rem;width:1.2rem;height:1.2rem}._3Dc5xuYM{margin-top:.24rem;font-weight:600;line-height:.22rem;color:#a9805d;font-size:.2rem}._3Dc5xuYM,._3fWhrz33{width:100%;text-align:center}._3fWhrz33{margin-top:.2rem;line-height:.18rem;height:.18rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}._3fWhrz33>div{width:.25rem;height:.01rem;background:#a9805d}._3fWhrz33>span{margin:0 .08rem;font-size:.16rem;color:#a9805d;font-weight:600}._3M-FkzAN{margin-top:.3rem;width:100%;height:.2rem;text-align:center;line-height:.2rem;font-size:.22rem;color:#b73336;font-weight:700}._3IVfJo0w{margin-top:.22rem;width:2.67rem;height:.46rem;background:#cf3a3a;border-radius:.06rem;text-align:center;line-height:.45rem;color:#fff9e8;font-size:.16rem}._31FJ2I-z{margin-top:.24rem;padding-left:.28rem;padding-right:.28rem;width:100%;line-height:.2rem;font-size:.14rem;font-weight:600;color:#a9805d}._31FJ2I-z>span{font-weight:400}._1Wavv9A7{margin-top:.16rem;padding-left:.28rem;width:100%;height:.2rem;line-height:.2rem;font-size:.14rem;font-weight:600;color:#a9805d}._1Wavv9A7>span{font-weight:400}._20BPERba{margin-top:.16rem;padding-left:.28rem;height:.2rem;font-weight:600}._20BPERba,.gRt-0Rsp{width:100%;line-height:.2rem;font-size:.14rem;color:#a9805d}.gRt-0Rsp{margin-top:.06rem;margin-bottom:.24rem;padding:0 .28rem;font-weight:400}._3piAe2z_{position:absolute;width:.8rem;height:.8rem;left:1.5rem;top:4rem}",""]),t.locals={main:"_2gQf_tnI",pic:"vf09nQYM",text1:"_3Dc5xuYM",text2:"_3fWhrz33",text3:"_3M-FkzAN",btn:"_3IVfJo0w",text4:"_31FJ2I-z",text5:"_1Wavv9A7",text6:"_20BPERba",desc:"gRt-0Rsp",empty:"_3piAe2z_"}},yP5f:function(e,t,r){e.exports=r("EQ+b")("yP5f")},zZ0H:function(e,t,r){e.exports=r("EQ+b")("zZ0H")}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/assets/js/mobile-new-game/exchange_code-a86419c5cdd53d0ee883.js.map