(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[72],{"2DwJ":function(e,t,a){e.exports={gameBanner:"XToDA0go",gameBannerImg:"_3g_wK_qX",gameBannerContent:"_2m2aP4yn",pkAvatars:"_3A7avLeA",pkInfo:"_3HdTw4wh",pkTitle:"_2BAZsf_g",pkAmount:"_121cABok",gameBannerBtn:"_1Z6ujesl"}},"97W3":function(e,t,a){e.exports={root:"qJetII8n",slideIn:"_2oomh_HC",titlePlaceHolder:"_3SySAw_J",slideOut:"jUeOzb8e",header:"_14qqvLZF",title:"_2IKkQvd5",scrollWrapper:"_1YiFOHvh",content:"_27OjNlL3",text:"_1wJTSJ5C",arrowIcon:"_3AOaZfqN",headerContent:"_4nsGsek",number:"rdAgKdyW",btn:"ywYNqRA2",right:"l2FrB0_I",taskListContainer:"_1ftA2lWn",blockTitle:"_2LNwhwaz",bannerTitle:"_5O0nb4w1",taskListTitle:"CpvpItK1",noTaskText:"_1Ae_L44I"}},PZcl:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return e}},"h+Y7":function(e,t,a){e.exports={container:"_1QJKdrdv",animate:"iP02S0fF",BX_Class6:"_3WOLrxyM",BX_AniKey6:"_1Id4pk6u",BX_Class5:"_1TrGc7d0",BX_AniKey5:"_2mAXEkGo",BX_Class4:"_2ds6wiMV",BX_AniKey4:"_20SbvfvL",BX_Class3:"_1xQeZnAT",BX_AniKey3:"_3Egj4rl0",BX_Class2:"tNnjRRq-",BX_AniKey2:"oN9xs2ws",BX_Class1:"hyUu0Pgs",BX_AniKey1:"_9eUTekWZ",firework:"u_O-s8sj","firework-sprite":"SV4u17bb",avatarContainer:"_1xbkhBGx",avatarImg:"_2W1u5rEF"}},qsZY:function(e,t,a){e.exports={taskWrapper:"mUtoaFJZ",taskContent:"He8XvbI4",iconImg:"_285CgPiS",middle:"_2m7_BVTi",name:"_1y4_hHFU",numberTip:"_2__pP3T2",otherTip:"_3_BhWTRv",red:"_29zTYPkC",number:"JDhNe4wq",btn:"_1WCCYFpA",specialRedBoxWrapper:"_20PyNUZ-",marginLeft8:"_1ICR-pDU",notSatisfy:"_3OXuMd05",notFinish:"YbKmHg5l",hasComplete:"_3hErL1A4",finish:"_3KcK290I"}},r3eR:function(e,t,a){"use strict";a.r(t);var n=a("pVnL"),r=a.n(n),s=a("lSNA"),c=a.n(s),i=a("yXPU"),o=a.n(i),l=a("lwsE"),u=a.n(l),p=a("W8MJ"),m=a.n(p),f=a("7W2i"),d=a.n(f),v=a("a1gu"),h=a.n(v),b=a("Nsbk"),k=a.n(b),_=a("DzJC"),B=a.n(_),g=a("mwIZ"),E=a.n(g),N=a("o0o1"),w=a.n(N),C=a("q1tI"),L=a.n(C),y=a("TSYQ"),T=a.n(y),O=a("SXY3"),x=a("fkkr"),A=a("AZ7A"),I=a("YtLw"),j=a("kFzF"),W=a("HWmn"),R=a("PZcl"),S=a("mFSr"),D=a("N4rI"),M=a("kUaC"),P=a("/WLQ"),F=a("kLkQ"),X=a("FFpd"),G=a("qsZY"),K=a.n(G);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=k()(e);if(t){var r=k()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return h()(this,a)}}var q=function(e){d()(a,e);var t=H(a);function a(){var e;u()(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).pullNativeModal=function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.props.showId;Object(M.b)({showId:n,target:t,source:P.c.GoldBean,isPullSelf:a})},e.clickLog=function(e){Object(x.a)({page_el_sn:e})},e.onTaskClick=B()(o()(w.a.mark((function t(){var a,n,r,s,c,i,o,l;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props,n=a.missionCode,r=a.status,s=a.canCollectWatchLiveTask,c=a.showId,i=a.getFollowStatus,r!==X.d.Show){t.next=3;break}return t.abrupt("return");case 3:if(r!==X.d.Finish){t.next=5;break}return t.abrupt("return");case 5:if(r!==X.d.Complete){t.next=12;break}return e.clickLog(3197471),t.next=9,e.props.completeGoldenMission({mission_code:n,operate_type:X.a.Collect});case 9:return null!=(o=t.sent)&&o.success&&(Object(F.p)("领取成功"),e.props.refreshBeanData((function(e){var t=(e=e||[]).reduce((function(e,t,a){return(t=t||{}).status===X.d.Complete?e+1:e}),0);Object(D.a)("live_room_gold_bean",{show_id:c,unaccalimed_mission:t})}))),t.abrupt("return");case 12:if(n!==X.f.EnterLive){t.next=18;break}return t.next=15,e.props.completeGoldenMission({mission_code:n,operate_type:X.a.Both});case 15:return null!=(l=t.sent)&&l.success&&(e.props.refreshBeanData(),Object(F.p)("领取成功")),t.abrupt("return");case 18:if(n!==X.f.WatchLive){t.next=21;break}if(s){t.next=21;break}return t.abrupt("return");case 21:if(n!==X.f.ShareLive){t.next=26;break}return e.clickLog(3197472),e.props.closeGoldBean(),e.pullNativeModal(P.f.SharePanel),t.abrupt("return");case 26:if(n!==X.f.FollowAnchor){t.next=34;break}return e.clickLog(3365796),e.props.closeGoldBean(),t.next=31,i();case 31:return t.sent?Object(F.p)("快去关注一位喜欢的主播吧"):Object(F.p)("快点击左上角关注主播吧"),t.abrupt("return");case 34:if(n!==X.f.RewardAnchor){t.next=39;break}return e.clickLog(3197473),e.props.closeGoldBean(),e.pullNativeModal(P.f.GiftList),t.abrupt("return");case 39:if(n!==X.f.RedBoxBuy){t.next=44;break}return e.clickLog(3365797),e.props.closeGoldBean(),e.pullNativeModal(P.f.RedBox,!1),t.abrupt("return");case 44:case"end":return t.stop()}}),t)}))),500),e.renderBtn=function(){var t=e.props,a=t.status,n=t.missionCode,r=t.beanReward,s=t.currentAchieveTimes,c=t.currentAcquireTimes,i="",o=T()(K.a.btn,K.a.notFinish);if(a!==X.d.NotComplete&&a!==X.d.Show||(i=X.e[n]||"待完成",n===X.f.WatchLive&&(o=T()(K.a.btn,K.a.notSatisfy))),a===X.d.Complete&&(i="领取",o=T()(K.a.btn,K.a.hasComplete)),a===X.d.Finish&&(i="明日再来",o=T()(K.a.btn,K.a.finish)),e.isSpecialRedBoxBtn){var l=(s-c)*r;return L.a.createElement("div",{className:K.a.specialRedBoxWrapper},L.a.createElement("span",{className:K.a.number},l),L.a.createElement("div",{className:o,onClick:e.onTaskClick},i))}return L.a.createElement("div",{className:o,onClick:e.onTaskClick},i)},e.renderNumberTip=function(){var t=e.props,a=t.beanReward,n=t.missionCode,r=t.watchLiveDurationTotal,s=t.currentWatchMinutes,c=t.status,i=t.dailyAchieveTimesLimit,o=Math.floor(r/6e4);return n===X.f.WatchLive?L.a.createElement("div",{className:K.a.numberTip},"奖励",L.a.createElement("span",{className:K.a.number},a),s>=o||c!==X.d.NotComplete?L.a.createElement(C.Fragment,null,s>0&&L.a.createElement("div",{className:K.a.otherTip},"已看",s,"分钟")):L.a.createElement("div",{className:K.a.otherTip},"已看",L.a.createElement("span",{className:K.a.red},s),"/",o,"分钟")):n===X.f.RedBoxBuy?L.a.createElement("div",{className:K.a.numberTip},"拼成一单奖励",L.a.createElement("span",{className:K.a.number},a),L.a.createElement("span",{className:K.a.marginLeft8},"每日"),L.a.createElement("span",{className:K.a.red},i),"次"):L.a.createElement("div",{className:K.a.numberTip},"奖励",L.a.createElement("span",{className:K.a.number},a))},e.renderName=function(){var t=e.props,a=t.name,n=t.missionCode,r=t.watchLiveDurationTotal;if(n===X.f.WatchLive){var s=Math.floor(r/6e4);return"当前直播间连续观看".concat(s,"分钟")}return a},e}return m()(a,[{key:"componentDidMount",value:function(){this.httpClient=new j.a}},{key:"isSpecialRedBoxBtn",get:function(){var e=this.props,t=e.missionCode,a=(e.dailyAchieveTimesLimit,e.currentAchieveTimes),n=e.currentAcquireTimes;return t===X.f.RedBoxBuy&&n<a}},{key:"render",value:function(){var e=this.props.missionCode;return L.a.createElement("div",{className:K.a.taskWrapper},L.a.createElement("div",{className:K.a.taskContent},L.a.createElement(S.a,{className:K.a.iconImg,src:X.c[e]}),L.a.createElement("div",{className:K.a.middle},L.a.createElement("div",{className:K.a.name},this.renderName()),this.renderNumberTip()),this.renderBtn()))}}]),a}(C.Component),U=a("TyAF"),Z=a("ct/d"),Y=a("Vpw8"),J=a("tzzb"),z=a("J4zp"),Q=a.n(z),V=a("h+Y7"),$=a.n(V),ee=["BX_Class6","BX_Class5","BX_Class4","BX_Class3","BX_Class2","BX_Class1"],te=Object(C.memo)((function(e){var t=e.imgUrls,a=void 0===t?[]:t,n=Object(C.useState)(!1),s=Q()(n,2),i=s[0],o=s[1],l=Object(C.useRef)(null);Object(C.useEffect)((function(){return l.current=setTimeout((function(){o(!0)}),300),function(){l.current&&clearTimeout(l.current)}}),[]);var u;return a.length>=4&&L.a.createElement("div",{className:T()($.a.container,c()({},$.a.animate,i))},(u={className:$.a.avatarImg,cdnOptimize:{width:42}},a.slice(0,4).concat(a.slice(0,2).reverse()).map((function(e,t){return L.a.createElement("div",{key:t,className:T()($.a.avatarContainer,$.a[ee[t]])},L.a.createElement(S.a,r()({src:e},u)))}))),L.a.createElement("div",{className:$.a.firework},L.a.createElement(S.a,{src:"https://promotion.pddpic.com/mobile_live/48812457-fc8b-4f8a-a17e-3c332e37eb85.png.slim.png"})))})),ae=a("yEq3"),ne="https://promotion.pddpic.com/mobile_live/56d33d9c-f866-448a-8d4d-aea4b77f788e.png.slim.png",re=a("2DwJ"),se=a.n(re),ce=Object(Y.a)(Object(U.inject)(Object(J.c)(ae.a)),U.observer)((function(e){var t=e.store,a=e.closeGoldBean,n=e.pkLiveInfo,r=Object(C.useRef)(!1),s=B()(o()(w.a.mark((function e(){var n,s,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(x.a)({page_el_sn:4823947}),!r.current){e.next=3;break}return e.abrupt("return");case 3:return r.current=!0,e.next=6,t.getPkLiveShowInfo();case 6:n=e.sent,s=(null==n?void 0:n.result)||{},c=s.in_pk_show,i=s.jump_url,c?(Object(F.p)("当前直播间已在pk中"),a()):i?Z.default.uniformForward(i):Object(F.p)("当前暂无PK直播间"),r.current=!1;case 10:case"end":return e.stop()}}),e)}))),1e3);return L.a.createElement(O.a,{trackingInfo:{page_el_sn:4823947}},L.a.createElement("div",{className:se.a.gameBanner},L.a.createElement(S.a,{className:se.a.gameBannerImg,src:ne}),L.a.createElement("div",{className:se.a.gameBannerContent},L.a.createElement("div",{className:se.a.pkAvatars},L.a.createElement(te,{imgUrls:null==n?void 0:n.anchorAvatars})),L.a.createElement("div",{className:se.a.pkInfo},L.a.createElement("p",{className:se.a.pkTitle},"正在激烈PK中"),L.a.createElement("p",{className:se.a.pkAmount},(null==n?void 0:n.watchNum)||0,"人在观战")),L.a.createElement("button",{className:se.a.gameBannerBtn,onClick:s},"去观战"))))})),ie=a("97W3"),oe=a.n(ie),le=a("zRTd");function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=k()(e);if(t){var r=k()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return h()(this,a)}}a.d(t,"default",(function(){return fe}));var fe=function(e){d()(a,e);var t=me(a);function a(){var e;u()(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).isLoading=!1,e.state={isSlideOut:!1,list:[],pkLiveInfo:{},currentBeanNum:0,canCollectWatchLiveTask:!1,currentWatchMinutes:0},e.scrollRef=L.a.createRef(),e.initScroll=function(e){var t={preventDefault:!1,zoom:!1,mouseWheel:!1,probeType:1,scrollbars:!1,click:!0,scrollY:!0,useTransition:!W.d,bounce:!1};return new I.a(e,t)},e.fetchBeanData=function(){var t=o()(w.a.mark((function t(a,n){var r,s,c,i,o,l;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return e.isLoading=!0,r=e.props.getGoldenBeanMissionList,t.prev=4,t.next=7,r({scene:n||X.g.List});case 7:(s=t.sent).success&&(c=e.getBeanData(s),i=c.list,o=c.currentBeanNum,l=c.pkLiveInfo,Object(le.e)({subType:"GoldBeanPopup"}),e.computeEnableWatchLiveTask(),a&&a(i),e.setState({list:i,pkLiveInfo:l,currentBeanNum:o})),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(4);case 13:e.isLoading=!1;case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,a){return t.apply(this,arguments)}}(),e.refreshBeanDataByCompleteMission=function(){var t=o()(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchBeanData(a,X.g.CompleteMission);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.computeEnableWatchLiveTask=function(t){var a=(t||[]).find((function(e){return(null==e?void 0:e.missionCode)===X.f.WatchLive}))||{},n=e.props.enterTime,r=a.watchLiveDurationTotal,s=+new Date-n,c=Math.floor(s/6e4),i=c>=Math.floor(r/6e4);e.timer&&clearInterval(e.timer),e.timer=setInterval((function(){e.setState({currentWatchMinutes:e.state.currentWatchMinutes+1})}),6e4),e.setState({canCollectWatchLiveTask:i,currentWatchMinutes:c})},e.getBeanData=function(e){var t=Object(A.c)(E()(e,"result",{})),a=t.list,n=t.currentBeanNum,r=t.pkLiveInfo,s=Object(R.a)(n)||0;return{pkLiveInfo:r,list:(a||[]).map((function(e){return pe(pe({},e),{},{beanReward:Object(R.a)(null==e?void 0:e.beanReward)||0})})),currentBeanNum:s}},e.showHideAnimation=function(){e.setState({isSlideOut:!0})},e.openExchangeRecordClick=B()((function(){Object(x.a)({page_el_sn:3197470}),e.showHideAnimation(),e.props.openExchangeRecordModal(),e.props.closeSelf()}),500,{trailing:!1}),e.renderHeader=function(){return L.a.createElement("div",{className:oe.a.header},L.a.createElement("div",{className:oe.a.title},L.a.createElement("span",null,"领金豆 帮主播赢PK"),L.a.createElement("i",{className:oe.a.arrowIcon,onClick:function(){return e.props.closeGoldBean(!0)}})),L.a.createElement("div",{className:oe.a.titlePlaceHolder}))},e.renderBeanBanner=function(){var t=e.state.currentBeanNum;return L.a.createElement("div",{className:oe.a.content},L.a.createElement("div",{className:oe.a.text},"当前金豆"),L.a.createElement("div",{className:oe.a.headerContent},L.a.createElement("div",{className:oe.a.number},t),L.a.createElement("div",{className:oe.a.right,onClick:e.openExchangeRecordClick},"收支记录")))},e.renderGameBanner=function(){var t={closeGoldBean:e.props.closeGoldBean,pkLiveInfo:e.state.pkLiveInfo};return L.a.createElement(C.Fragment,null,L.a.createElement("div",{className:T()(oe.a.bannerTitle,oe.a.blockTitle)},"火热PK赛区"),L.a.createElement(ce,t))},e.renderTaskList=function(){var t=e.state.list,a=L.a.createElement("div",{className:oe.a.noTaskText},"当前暂时还没有任务~");if(null!=t&&t.length){var n=e.state,s=n.canCollectWatchLiveTask,c=n.currentWatchMinutes,i=e.props,o=i.showId,l=i.closeSelf,u=i.completeGoldenMission,p={showId:o,closeSelf:l,getFollowStatus:i.getFollowStatus,completeGoldenMission:u,refreshBeanData:e.refreshBeanDataByCompleteMission,closeGoldBean:e.props.closeGoldBean};a=t.map((function(e,t){return(e=e||{}).missionCode===X.f.WatchLive&&(p=pe(pe({},p),{},{canCollectWatchLiveTask:s,currentWatchMinutes:c})),L.a.createElement(q,r()({key:t},e,p))}))}return L.a.createElement(C.Fragment,null,L.a.createElement("div",{className:T()(oe.a.taskListTitle,oe.a.blockTitle)},"领金豆"),a)},e.renderTaskListWrapper=function(){return L.a.createElement("div",{className:oe.a.scrollWrapper,ref:e.scrollRef},L.a.createElement("div",null,e.renderBeanBanner(),L.a.createElement("div",{className:oe.a.taskListContainer},e.renderGameBanner(),e.renderTaskList())))},e}return m()(a,[{key:"componentDidMount",value:function(){this.props.getInstance(this),this.instance=this.initScroll(this.scrollRef.current),this.httpClient=new j.a,this.fetchBeanData()}},{key:"componentDidUpdate",value:function(e){!e.isRefreshTaskList&&this.props.isRefreshTaskList&&this.fetchBeanData(),this.instance.refresh()}},{key:"render",value:function(){return L.a.createElement(O.a,{trackingInfo:{page_el_sn:3197401}},L.a.createElement("div",{className:T()(oe.a.root,c()({},oe.a.slideOut,this.state.isSlideOut))},this.renderHeader(),this.renderTaskListWrapper()))}}]),a}(C.Component)}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_live_activity_pop_GoldenBeanTaskListModal_fc4d7f6b1d83d8e16198.js.map