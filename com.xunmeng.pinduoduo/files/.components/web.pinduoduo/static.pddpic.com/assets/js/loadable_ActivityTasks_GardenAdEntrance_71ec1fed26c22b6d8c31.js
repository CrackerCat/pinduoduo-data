(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[14],{"/BYt":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r={BuyGuide:1,LeaveDialog:2},i="GardenAdTaskDialog"},eQJp:function(e,t,n){"use strict";var r=n("yXPU"),i=n.n(r),o=n("J4zp"),a=n.n(o),s=n("o0o1"),c=n.n(s),u=n("q1tI"),l=n("TyAF"),f=n("Vpw8"),b=n("O2NP"),p=n("yo/L"),d=n("hA9s"),m=function(e){var t=e.bizKey,n=e.completeSeconds,r=e.onComplete,o=e.onUpdateSeconds,s="LiveOuterTaskWatchedSeconds_"+t,l=(Object(b.k)().store.query||{}).list_id,f=void 0===l?"":l,m=Object(u.useState)(0),w=a()(m,2),g=w[0],h=w[1],v=Object(u.useState)(null),k=a()(v,2),_=k[0],O=k[1],y=function(e){h(e||0),o(e||0)};return Object(u.useEffect)((function(){if(t)(function(){var e=i()(c.a.mark((function e(){var t,n,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(Object(p.c)(s)||"").split("$__split__$"),n=a()(t,2),r=n[0],i=n[1],o=void 0===i?0:i,r&&f===r&&y(parseInt(o)||0),O(1e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();else if(d.b)throw new Error("BrowseCountdown的bizKey不能为空！")}),[]),Object(b.d)((function(){var e=g+1;Object(p.f)(s,"".concat(f).concat("$__split__$").concat(e)),y(e),e>=n&&(O(null),r(),Object(p.a)(s))}),_),null};m.defaultProps={completeSeconds:31536e3,onComplete:function(){},onUpdateSeconds:function(){}},t.a=Object(f.a)(l.observer)(m)},gFIF:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2VFIwcE1{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;position:relative}.r28dlBvy{width:.7rem;height:.7rem}._1-Zn9Bfi{height:.2rem;line-height:.2rem;color:#0c5c6c;font-size:.14rem;top:.22rem}._1-Zn9Bfi,._3-cssizS{position:absolute;font-family:PingFangSC-Medium,PingFang SC,PingFangSC-Regular,STHeiti STXihei,Microsoft YaHei,Microsoft JhengHei,miui;font-weight:700;font-weight:500;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}._3-cssizS{background:url(https://promotion.pddpic.com/mobile_live/ffa414d8-2fff-40b4-9dcd-24f3b8b66cf3.png.slim.png) no-repeat;width:.68rem;height:.18rem;background-size:contain;line-height:.18rem;color:#fff;font-size:.1rem;bottom:.06rem;text-align:center}._2Mtnfe-e{color:hsla(0,0%,100%,.9);font-size:.12rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-left:.08rem;position:absolute;right:110%;top:.2rem;opacity:0;background:url(https://promotion.pddpic.com/mobile_live/df91d696-774b-4e2f-8ccc-a1e3ee3a582e.png.slim.c1.png) no-repeat;background-size:contain;width:1.05rem;height:.28rem;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:right center;transform-origin:right center;-webkit-transition:opacity .5s,-webkit-transform .5s;transition:opacity .5s,-webkit-transform .5s;transition:opacity .5s,transform .5s;transition:opacity .5s,transform .5s,-webkit-transform .5s}._2Mtnfe-e._3f2htAmT{opacity:1;-webkit-transform:scale(1);transform:scale(1)}",""]),t.locals={wrapper:"_2VFIwcE1",bg:"r28dlBvy",reward:"_1-Zn9Bfi",text:"_3-cssizS",bubble:"_2Mtnfe-e",show:"_3f2htAmT"}},l2GN:function(e,t,n){var r=n("gFIF"),i=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return i(o,e)}},sN3p:function(e,t,n){var r=n("sT4o"),i=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return i(o,e)}},sT4o:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2YwTQJRM{width:1.05rem;height:.28rem;position:absolute;top:50%;left:-.05rem;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%);pointer-events:none}._2YwTQJRM.Onup0dK3 .ZCnEDGQL{-webkit-transform:scale(1);transform:scale(1)}.ZCnEDGQL{-webkit-transform-origin:right center;transform-origin:right center;-webkit-transform:scale(0);transform:scale(0);will-change:transform;-webkit-transition:-webkit-transform .4s ease;transition:-webkit-transform .4s ease;transition:transform .4s ease;transition:transform .4s ease,-webkit-transform .4s ease}._3uSw1WF0,.ZCnEDGQL{width:100%;height:100%}._3uSw1WF0{position:absolute;left:0;top:0;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:center;justify-content:center;-webkit-justify-content:center;-webkit-box-align:center;align-items:center;-webkit-align-items:center;flex-wrap:nowrap;-ms-wrap-through:nowrap;-webkit-flex-wrap:nowrap;padding-right:.05rem;color:#fff;font-size:.12rem}",""]),t.locals={bubble:"_2YwTQJRM",show:"Onup0dK3",bubbleInner:"ZCnEDGQL",bubbleText:"_3uSw1WF0"}},spdq:function(e,t,n){"use strict";var r=n("lSNA"),i=n.n(r),o=n("q1tI"),a=n.n(o),s=n("TyAF"),c=n("TSYQ"),u=n.n(c),l=n("HIPb"),f=n("O2NP"),b=n("mFSr"),p=n("sN3p"),d=n.n(p);t.a=Object(s.observer)((function(e){Object(l.a)(d.a);var t=e.isShow,n=e.text,r=e.bg,o=e.children;return!Object(f.k)().store.activityPopStore.needScroll&&a.a.createElement("div",{className:u()(d.a.bubble,e.className,i()({},d.a.show,t))},a.a.createElement("div",{className:d.a.bubbleInner},a.a.createElement(b.a,{src:r}),a.a.createElement("div",{className:d.a.bubbleText},n),o))}))},ySeI:function(e,t,n){"use strict";n.r(t);var r=n("yXPU"),i=n.n(r),o=n("J4zp"),a=n.n(o),s=n("o0o1"),c=n.n(s),u=n("q1tI"),l=n.n(u),f=n("TyAF"),b=n("HIPb"),p=n("O2NP"),d=n("N4rI"),m=n("kLkQ"),w=n("mFSr"),g=n("FoiV"),h=n("spdq"),v=Object(f.observer)((function(){var e,t,n,r=Object(u.useRef)(null),o=Object(u.useRef)(null),s=Object(u.useState)(!1),f=a()(s,2),b=f[0],d=f[1],w=Object(u.useRef)(""),v=Object(p.k)().store.activityTaskStore,k=v.missionMap,_=v.gardenAdBuyMissionId,O=v.gardenAdBrowseMissionId,y=(null===(e=k[O])||void 0===e?void 0:e.status)===g.c.UNDONE,j=(null===(t=k[O])||void 0===t?void 0:t.status)===g.c.DONE,S=(null===(n=k[_])||void 0===n?void 0:n.status)===g.c.UNDONE,x=function(){r.current&&clearTimeout(r.current),o.current&&clearTimeout(o.current)},E=function(){var e=i()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(),r.current=setTimeout((function(){d(!0)}),500),o.current=setTimeout((function(){d(!1)}),6e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.m)((function(){x()})),Object(u.useEffect)((function(){var e="LiveOuterTask_Entrancebubble_gardenAdBrowse";y&&!Object(m.b)(e)&&(E(),w.current="直播间浏览可得",Object(m.m)(e))}),[y]),Object(u.useEffect)((function(){var e="LiveOuterTask_Entrancebubble_gardenAdBuy";j&&S&&!Object(m.b)(e)&&(E(),w.current="直播间下单可得",Object(m.m)(e))}),[j,S]),l.a.createElement(h.a,{isShow:b,text:w.current,bg:"https://promotion.pddpic.com/mobile_live/df91d696-774b-4e2f-8ccc-a1e3ee3a582e.png.slim.c1.png"})})),k=n("Vpw8"),_=n("eQJp"),O=Object(k.a)(f.observer)((function(e){var t=Object(p.k)().store.activityTaskStore,n=t.missionMap,r=t.refreshPendantInfo,o=t.requestCompleteMission,a=t.gardenAdBrowseMissionId,s=n[a]||{},f=s.completeSeconds,b=s.priceNum,d={bizKey:"gardenAdBrowse",completeSeconds:f,onComplete:Object(p.e)(Object(u.useCallback)(i()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(a);case 2:return null!=(t=e.sent)&&t.success&&Object(m.p)("当前浏览任务已完成，获得".concat(b,"g奖励")),e.next=6,Object(m.o)(1e3);case 6:r();case 7:case"end":return e.stop()}}),e)}))),[])),onUpdateSeconds:e.onUpdateSeconds};return l.a.createElement(_.a,d)})),y=n("/BYt"),j=n("l2GN"),S=n.n(j);t.default=Object(f.observer)((function(){Object(b.a)(S.a);var e=Object(p.k)().store,t=e.activityTaskStore,n=e.roomId,r=e.query,o=t.missionList,s=t.missionMap,f=t.refreshPendantInfo,h=t.showGardenDialog,k=t.gardenAdBuyMissionId,_=t.gardenAdBrowseMissionId,j=Object(u.useState)(0),x=a()(j,2),E=x[0],T=x[1],N=s[_]||{},A=N.status,B=N.priceNum,C=N.completeSeconds,I=void 0===C?30:C,M=s[k]||{},D=M.status,F=M.priceNum,L=D===g.c.UNDONE,z=A===g.c.UNDONE;Object(u.useEffect)((function(){var e="LiveOuterTask_gardenAdBuyGuideDialog",n=function(){var n=i()(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f();case 2:t.missionMap[k]&&!t.missionMap[k].finishCount&&(h(y.b.BuyGuide),Object(m.n)(null==r?void 0:r.list_id,e));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();7!==E||Object(m.k)(null==r?void 0:r.list_id,e)||n()}),[E]);var P,Q=(P={Total:{iconType:"total",iconText:"已获得",rewards:o.reduce((function(e,t){return e+((null==t?void 0:t.finishCount)||0)*((null==t?void 0:t.priceNum)||0)}),0),clickAction:function(){Object(m.p)("今日直播间任务已全部完成，请明日再来")}},Browse:{iconType:"browse",iconText:"看".concat(I-E,"秒得"),rewards:B||0,clickAction:function(){Object(m.p)("浏览".concat(I,"秒即可获得").concat(B,"g水滴"))}},Buy:{iconType:"buy",iconText:"直播间下单得",rewards:F||0,clickAction:function(){Object(d.a)("live_shop_coupon_dialog",{openLiveGoods:!0,room_id:n})}}},z?P.Browse:L?P.Buy:P.Total),U=Q.clickAction,G=Q.iconText,q=Q.rewards;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:S.a.wrapper,onClick:function(){U()}},l.a.createElement(w.a,{className:S.a.bg,src:"https://promotion.pddpic.com/mobile_live/67d01ce4-00b4-465f-a820-5c69b8a16600.png.slim.png"}),l.a.createElement("span",{className:S.a.reward},q,"g"),l.a.createElement("div",{className:S.a.text},G),l.a.createElement(v,null)),z&&l.a.createElement(O,{onUpdateSeconds:T}))}))}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_ActivityTasks_GardenAdEntrance_71ec1fed26c22b6d8c31.js.map