(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[50],{H754:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'._1IDubiSX{top:0;left:0;right:0;width:100vw;height:100vh;z-index:999}._1IDubiSX,._3iB0nA76{position:fixed;bottom:0}._3iB0nA76{z-index:105;max-height:3.08rem;-webkit-transform:translateY(105%);transform:translateY(105%);-webkit-animation:_34Z0DzCS .3s ease-in forwards;animation:_34Z0DzCS .3s ease-in forwards;background:-webkit-linear-gradient(left,#fd8a69,#f70018);background:linear-gradient(90deg,#fd8a69,#f70018);padding-top:.54rem}._3iB0nA76,._20PHwh1y{width:100%;border-radius:.1rem .1rem 0 0}._20PHwh1y{position:absolute;top:0;left:0}._2hSKjeW8{font-size:.22rem;height:.3rem;line-height:.3rem;background:-webkit-radial-gradient(right,#fffbf5 0,#ffc497 100%);background:radial-gradient(270deg,#fffbf5 0,#ffc497 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}._2hSKjeW8,._22t2LIVX{font-family:PingFangSC-Semibold,PingFang SC,PingFangSC-Regular,STHeiti STXihei,Microsoft YaHei,Microsoft JhengHei,miui;font-weight:700;font-weight:600;text-align:center}._22t2LIVX{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin:.15rem auto .13rem;font-size:.2rem;height:.47rem;width:3.12rem;color:#e4382b;font-size:.18rem;line-height:.47rem;border-radius:.23rem;background:-webkit-linear-gradient(#ffeca6,#ffc642);background:linear-gradient(#ffeca6,#ffc642);box-shadow:0 .05rem .08rem .01rem rgba(172,0,0,.61),inset 0 -.03rem 0 0 rgba(243,122,6,.94)}._22t2LIVX:active{background:-webkit-linear-gradient(#ffe12a,#e8a900);background:linear-gradient(#ffe12a,#e8a900)}.TqybUIQ-{position:fixed;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.004)}._3QlGnAce{position:absolute;top:.04rem;right:.04rem;height:.3rem;width:.3rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}._3QlGnAce:before{color:hsla(0,0%,100%,.6)}._3QlGnAce:active:before,._3QlGnAce:before{content:"\\E61D";font-size:.13rem;font-family:mobile-live;line-height:1;font-weight:400;-webkit-font-smoothing:antialiased}._3QlGnAce:active:before{color:hsla(0,0%,100%,.8)}._3IfbQn5n{-webkit-animation:_2jY5qv7U .3s ease-in forwards;animation:_2jY5qv7U .3s ease-in forwards}@-webkit-keyframes _34Z0DzCS{0%{-webkit-transform:translateY(105%);transform:translateY(105%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes _34Z0DzCS{0%{-webkit-transform:translateY(105%);transform:translateY(105%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes _2jY5qv7U{0%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(105%);transform:translateY(105%)}}@keyframes _2jY5qv7U{0%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(105%);transform:translateY(105%)}}@media only screen and (min-device-height:812px){._3iB0nA76{height:3.84rem}._3yLIHa9f{height:3.36rem}}._2zcvPw_P{background:url(https://promotion.pddpic.com/mobile_live/5f225338-ff22-4ec0-82fa-8c35187896b9.png.slim.png) no-repeat;background-size:100%;width:3.51rem;height:.88rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#151516;margin:.24rem 0 .12rem .12rem;position:relative}.fLt2v0L2{color:#e02e24;width:1.08rem;height:100%;padding-right:.02rem}._1VPaJ7sA{height:100%;padding-left:.21rem}._1MhdDHLU{font-size:.12rem;text-align:center;height:.12rem;margin-top:.08rem;line-height:.12rem}._2FGK1V2x{font-size:.16rem;height:.16rem;line-height:.16rem}._2FGK1V2x,._6Rb1I2oa{font-weight:700;display:inline-block}._6Rb1I2oa{font-size:.3rem;line-height:.28rem;height:.28rem}._3-1vMMWI{font-size:.18rem;font-weight:700;margin-top:.2rem;height:.25rem;line-height:.25rem;color:rgba(0,0,0,.8)}.NQkUyyLu{font-size:.14rem;height:.2rem;line-height:.2rem;margin-top:.04rem;color:#9c9c9c}._3uNuqRSu{font-size:.11rem;text-align:center}.V_q2wvLm{padding-top:.2rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:baseline;-webkit-align-items:baseline;align-items:baseline}.f9UKjWo6{height:.21rem;line-height:.21rem;text-align:center;color:#fff;font-size:.15rem;position:relative;margin-top:.04rem}.f9UKjWo6 span{color:#ffe89c}',""]),t.locals={root:"_1IDubiSX",realContent:"_3iB0nA76",slideIn:"_34Z0DzCS",bg:"_20PHwh1y",title:"_2hSKjeW8",btn:"_22t2LIVX",mask:"TqybUIQ-",closeBtn:"_3QlGnAce",closeAnime:"_3IfbQn5n",fadeOut:"_2jY5qv7U",realContentNoBullet:"_3yLIHa9f",consumeCoupon:"_2zcvPw_P",consumeLeft:"fLt2v0L2",consumeMiddle:"_1VPaJ7sA",consumeDiscount:"_1MhdDHLU",consumeNumUnit:"_2FGK1V2x",consumeNum:"_6Rb1I2oa",consumeCouponName:"_3-1vMMWI",consumeCouponDetail:"NQkUyyLu",discount:"_3uNuqRSu",discountWrap:"V_q2wvLm",tips:"f9UKjWo6"}},OmTk:function(e,t,n){"use strict";n.r(t);var a=n("yXPU"),r=n.n(a),i=n("J4zp"),o=n.n(i),s=n("o0o1"),c=n.n(s),l=n("q1tI"),u=n.n(l),m=n("TyAF"),f=n("Vpw8"),b=n("O2NP"),p=n("lSNA"),d=n.n(p),h=n("DzJC"),g=n.n(h),w=n("TSYQ"),_=n.n(w),k=n("SXY3"),v=n("mFSr"),x=n("YkDL"),j=n("kLkQ"),y=n("HIPb"),C=n("kFzF"),I=n("h7Yj"),N=n("N4rI"),O=n("alVk"),S=n("fkkr"),E=n("sKBj"),Y=n.n(E),L=Object(f.a)(m.observer)((function(e){var t=e.newFollowCouponInfo,n=e.onClosePopup;Object(y.a)(Y.a);var a=Object(b.k)().store,i=Object(l.useState)(!1),s=o()(i,2),m=s[0],f=s[1],p=a.newCollectShop,h=a.showId,w=a.roomId,E=t||{},L=E.batch_sn,A=E.discount,D=void 0===A?0:A,z=E.coupon_threshold,P=E.user_fav_mall,F=Object(l.useRef)(null),U=Object(l.useRef)({}).current,H=function(){f(!0),Object(S.a)({page_el_sn:5881514}),F.current=setTimeout((function(){n()}),400)},Q=function(){var e=r()(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L){e.next=2;break}return e.abrupt("return");case 2:return t=new C.a,n={showId:h,batchSn:L,scene:1007,activityId:3,designateAcquire:!0},e.next=6,t.post("api/eclipse/coupon/receive/receive_coupon",n,{addAntiToken:!0,antiTokenStyle:"camelCase"});case 6:return a=e.sent,e.abrupt("return",a||{});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=r()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||!t.success){e.next=6;break}Object(j.p)("领取成功"),n(),Object(N.a)("live_shop_coupon_dialog",{openLiveGoods:!0,room_id:w}),e.next=11;break;case 6:if(1000066!==(null==t?void 0:t.errorCode)){e.next=10;break}return Object(j.p)("已领取"),n(),e.abrupt("return");case 10:Object(j.p)("当前领取的人太多啦，请重试～");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=Object(l.useCallback)(g()((function(){U.handleClick()}),1e3,{trailing:!1}),[]);U.handleClick=Object(b.e)(r()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=r()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({page_el_sn:5881515,like_from:101503});case 2:if(!e.sent){e.next=9;break}return e.next=6,Q();case 6:return t=e.sent,e.next=9,q(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Object(S.a)({page_el_sn:5881515}),e.next=4,t();case 4:case"end":return e.stop()}}),e)}))));Object(l.useEffect)((function(){return Object(x.a)({source:"NewFollowCoupon"}),Object(O.b)(),function(){Object(x.b)({source:"NewFollowCoupon"}),Object(O.a)(),F.current&&clearTimeout(F.current)}}),[]);return u.a.createElement("div",{className:Y.a.root},u.a.createElement("div",{className:Y.a.mask,onClick:H}),u.a.createElement("div",{className:_()(Y.a.realContent,d()({},Y.a.closeAnime,m))},u.a.createElement(v.a,{className:Y.a.bg,src:"https://promotion.pddpic.com/mobile_live/e363c53a-271e-47c1-8ef7-d934c13cd1d9.png.slim.png"}),u.a.createElement("div",{className:Y.a.closeBtn,onClick:H}),u.a.createElement("p",{className:Y.a.tips},P?u.a.createElement(u.a.Fragment,null,"已获新人福利 有效期",u.a.createElement("span",null,"24小时")):"关注店铺即可领取"),u.a.createElement(k.a,{trackingInfo:{page_el_sn:5881513}},u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:Y.a.consumeCoupon},u.a.createElement("div",{className:Y.a.consumeLeft},u.a.createElement("p",{className:Y.a.discountWrap},u.a.createElement("span",{className:Y.a.consumeNumUnit},"￥"),u.a.createElement("span",{className:Y.a.consumeNum},Object(I.priceCent)(D))),u.a.createElement("p",{className:Y.a.consumeDiscount},"满",Object(I.priceCent)(z),"可用")),u.a.createElement("div",{className:Y.a.consumeMiddle},u.a.createElement("p",{className:Y.a.consumeCouponName},"直播间新人专享券"),u.a.createElement("p",{className:Y.a.consumeCouponDetail},"全店商品通用"))),u.a.createElement("div",{className:Y.a.btn,onClick:B},"立即领取")))))}));t.default=Object(f.a)(m.observer)((function(){var e=Object(b.k)().store,t=e.liveRoomInitInfo,n=e.mallId,a=e.showId,i=e.$service,s=e.popupStore,m=s.checkIsShowPopup,f=s.sendShowPopup,p=s.sendHidePopup,d=Object(l.useRef)(!1),h=Object(l.useState)(),g=o()(h,2),w=g[0],_=g[1],k=Object(l.useState)(null),v=o()(k,2),x=v[0],j=v[1],y=function(){var e=r()(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getFollowCoupon({mall_id:n,show_id:a});case 2:null!=(r=e.sent)&&null!==(t=r.result)&&void 0!==t&&t.batch_sn&&(_(r.result),j(f("NewFollowCouponDialog")));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){var e=null;if(!d.current&&null!=t&&t.showFreshmanCoupon){d.current=!0;var n=null==t?void 0:t.freshmanCouponPopDelay;e=setTimeout((function(){y()}),n||0===n?n:5e3)}return function(){e&&clearTimeout(e)}}),[null==t?void 0:t.showFreshmanCoupon]),m(x)&&u.a.createElement(L,{newFollowCouponInfo:w,onClosePopup:function(){p(x)}})}))},sKBj:function(e,t,n){var a=n("H754"),r=n("Q8e5"),i="string"==typeof a?[[e.i,a,""]]:a;(t=e.exports=a.locals||{})._getContent=function(){return i},t._getCss=function(){return""+a},t._insertCss=function(e){return r(i,e)}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_LiveActivityPop_NewFollowCoupon_c179997b057fc4a49d61.js.map