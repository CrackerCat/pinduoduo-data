(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[106],{"/53z":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,".x4g-vNN6{position:relative;margin-top:-3px;width:50px;height:57px}._2LTT0ee_{position:absolute;width:100%;height:100%}._29-Fo1zO{top:31px;left:50%;height:10px;line-height:1;-webkit-transform:translateX(-50%);transform:translateX(-50%);color:#fff785}._27jv9WGh,._28S0o6Yj,._29-Fo1zO{position:absolute;font-size:10px;font-weight:700;white-space:nowrap}._27jv9WGh,._28S0o6Yj{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;bottom:0;left:0;width:100%;height:16px;line-height:15px;color:#ad430d}._28S0o6Yj ._3fDbXBnh{font-size:13px;color:#f01b00}._27jv9WGh{font-size:12px;color:#ef1b00}",""]),t.locals={pendants:"x4g-vNN6",bg:"_2LTT0ee_",coin:"_29-Fo1zO",watch:"_28S0o6Yj",draw:"_27jv9WGh",time:"_3fDbXBnh"}},GVEH:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),a=n.n(r),o=n("yXPU"),i=n.n(o),c=n("J4zp"),s=n.n(c),u=n("FdF9"),l=n("g5zU"),d=n.n(l),f=n("IW0v"),p=n("Xlkr"),m=n("xNPO"),b=n("6xTs"),h=n("rZ7x"),v=n("9CSU"),_=n("7PnH"),g=n("v2IZ"),j=n("UMxp"),x=n("y4Rd"),O=n("F7s/"),w=function(e){var t=e.missionId,n=e.moduleId,r=Object(u.useState)(null),o=s()(r,2),c=o[0],l=o[1],d=Object(x.b)();return Object(m.a)(function(){t&&n&&function(){var e=i()(a.a.mark(function e(){var r,o,i,c,s,u,f,p;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d(O.a),e.next=3,r.post("/api/hertz/mission/query/mission",{module_id:n,mission_id:t});case 3:o=e.sent,i=o.success,c=o.result,s=void 0===c?{}:c,u=o.errorCode,f=o.errorMsg,console.log("duoduosprite query",i,JSON.stringify(s)),i?"string"==typeof(p=y(null===s||void 0===s?void 0:s.fairyCoinReward,0))&&l(p):console.error("".concat(u," ").concat(f));case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()}),c},k=function(e){var t=e.missionId,n=e.moduleId,r=e.coin,o=Object(x.b)();return Object(p.a)(i()(a.a.mark(function e(){var i,c,s,u,l,d,f,p;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=o(O.a),e.next=3,i.post("/api/hertz/mission/v2/achieve",{module_id:n,mission_id:t});case 3:return c=e.sent,s=c.success,u=c.result,l=void 0===u?{}:u,d=c.errorCode,f=c.errorMsg,console.log("duoduosprite achieve",r,s,JSON.stringify(l)),(p=s&&!!(null===l||void 0===l?void 0:l.finish))?null!==r&&Object(j.a)("哇，恭喜获得".concat(r,"金币")):console.error("".concat(d," ").concat(f)),e.abrupt("return",p);case 13:case"end":return e.stop()}},e)})))};function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=["个","万","亿","兆","垓"];if(!/^(([1-9][0-9]*)|0)$/.test(e))return{value:"",unit:"",valueStr:"",takeUnitStr:""};var r=""+e,a=Math.floor((r.length-1)/4),o=a<n.length?a:n.length-1,i=r.length-4*o,c=r.slice(0,i),s=r.slice(i,i+t);return(0!==o&&s?c+"."+s:c)+(0===o?"":n[o]||n[n.length-1])}var E=n("Xmea"),I=n.n(E),N=n("/N8V"),S="https://funimg.pddpic.com/mobile-subjects/0f98c35f-2056-4495-a7ed-5caa2decb018.png.slim.png",z=6004743,C=Object(u.memo)(function(e){var t=e.onEnd;d()(I.a);var n=b.c.useValue().currentPageData,r=Math.ceil((n.duration||3e4)/1e3),a=Object(_.d)(h.c),o=Object(u.useState)(r),i=s()(o,2),c=i[0],l=i[1];return Object(u.useEffect)(function(){if(a){var e=setInterval(function(){l(function(n){return--n<=0&&(clearInterval(e),t()),n})},1e3);return function(){clearInterval(e)}}},[a,t]),u.default.createElement("b",{className:I.a.time},c)});t.default=Object(u.memo)(function(){d()(I.a);var e=Object(u.useState)(!1),t=s()(e,2),n=t[0],r=t[1],o=b.c.useValue().currentPageData,c=Object(_.d)(v.e),l=c.missionId,h=c.moduleId,j=w({missionId:l,moduleId:h}),x=k({missionId:l,moduleId:h,coin:j}),O=N.b.useActions().notifyGoBack,y=Object(p.a)(i()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:e.sent&&r(!0);case 4:case"end":return e.stop()}},e)}))),E=Object(p.a)(function(){Object(g.c)({page_el_sn:z}),O()}),D=Object(u.useCallback)(function(){n&&E()},[E,n]);return Object(m.a)(function(){Object(g.d)({page_el_sn:z})}),o&&null!==j&&l&&h?u.default.createElement("div",{className:I.a.pendants,onClick:D},u.default.createElement(f.a,{className:I.a.bg,src:S,resizeWidth:208}),u.default.createElement("div",{className:I.a.coin},j),n?u.default.createElement("div",{className:I.a.draw},"去领取"):u.default.createElement("div",{className:I.a.watch},"再看",u.default.createElement(C,{onEnd:y}),"秒")):null})},Xmea:function(e,t,n){var r=n("/53z"),a=n("Q8e5"),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return a(o,e)}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-video-layer/js/loadable__DuoDuoSpirit_b74da52ccd997e09aa95.js.map