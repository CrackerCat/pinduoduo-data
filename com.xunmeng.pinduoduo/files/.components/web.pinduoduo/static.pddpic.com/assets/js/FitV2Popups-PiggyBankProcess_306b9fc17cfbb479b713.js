(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{"ZcK/":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var n,s=a("kRu4"),r=a.n(s),c=a("RgDV"),i=a("a+Ds"),o=a("p5LO"),u=a("wzp5"),l=a("w9YI"),h=a("QjaO"),m=a("cJQI"),g=a("ZsPb"),d=a("JsaZ"),p=a("MQ17"),b=a("q1tI"),y=a.n(b),k=a("TyAF"),f=a("2oo6"),_=a("gpDe"),B=a("7Qib"),O=a("rkAA"),v=a.n(O),P=a("/JFg"),j=a("ndO7"),E=a("klxc"),I=a("M3Mi"),T=a("bmJN"),N=a("TSYQ"),x=a.n(N),C=Object(k.inject)(_.b.POPUP_QUEUE,_.b.GET_MORE_CASH,_.b.PIGGY_BANK)(n=Object(k.observer)(n=function(e){Object(g.a)(PiggyBankProcess,e);var t,a,n=Object(d.a)(PiggyBankProcess);function PiggyBankProcess(e){var t;return Object(l.a)(this,PiggyBankProcess),t=n.call(this,e),Object(p.a)(Object(m.a)(t),"onClose",(function(){t.popupQueueStore.close("showPiggyBankProcess")})),Object(p.a)(Object(m.a)(t),"handleCloseClick",(function(){t.setState({"startFadeout":!0})})),Object(p.a)(Object(m.a)(t),"handleBtnClick",(function(){var e;Object(I.a)(5871797);var a=t.store,n=a.maxAmount,s=a.currentAmount,r=a.featureItem;if(s<n||(null==r||null===(e=r.featureDataVo)||void 0===e?void 0:e.status)===P.c.process||t.hasBreak)return t.onClose(),void(t.hasBreak||(t.getMoreCashStore.showGetMoneyPullUp=!0));t.handleCloseClick()})),Object(p.a)(Object(m.a)(t),"onFadeoutEnd",(function(){t.onClose()})),Object(p.a)(Object(m.a)(t),"renderProcessItem",(function(e,a){var n,s,r=(n={},Object(p.a)(n,P.b.unFinish,"piggy_bank_unfinish"),Object(p.a)(n,P.b.checkIn,"piggy_bank_checkin"),Object(p.a)(n,P.b.break,"piggy_bank_missed"),n);return y.a.createElement(o.a,{"className":x()(v.a.processItem,(s={},Object(p.a)(s,v.a.firstProcessItem,0===a),Object(p.a)(s,v.a.lastProcessItem,a===t.days.length-1),s)),"key":a},y.a.createElement(u.a,{"src":Object(B.a)(r[e]),"className":v.a.processItemBg}))})),Object(p.a)(Object(m.a)(t),"renderProcess",(function(){return y.a.createElement(o.a,{"className":v.a.process},y.a.createElement(o.a,{"className":v.a.processContent},y.a.createElement(o.a,{"className":v.a.processBarBox},y.a.createElement(o.a,{"className":v.a.processBar},y.a.createElement(o.a,{"className":v.a.processInnerBar,"style":{"width":Object(T.a)(t.processInnerBarWidth)}}),t.days.map((function(e,a){return t.renderProcessItem(e,a)}))),y.a.createElement(i.a,{"className":v.a.processText},t.processText))))})),t.state={"startFadeout":!1},t}return Object(h.a)(PiggyBankProcess,[{"key":"componentDidMount","value":(a=Object(c.a)(r.a.mark((function _callee(){return r.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return Object(I.b)(5871797),e.next=3,Object(j.I)(E.a.PIGGY_BANK_TRIGGER);case 3:this.store.featureItem&&(this.store.featureItem.popupVos=[]);case 4:case"end":return e.stop()}}),_callee,this)}))),function componentDidMount(){return a.apply(this,arguments)})},{"key":"componentWillUnmount","value":(t=Object(c.a)(r.a.mark((function _callee2(){var e;return r.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(this.store.fromTrigger=!1,!this.hasBreak){t.next=6;break}return t.next=4,Object(j.E)();case 4:e=t.sent,this.store.init(e);case 6:case"end":return t.stop()}}),_callee2,this)}))),function componentWillUnmount(){return t.apply(this,arguments)})},{"key":"render","value":function render(){var e=this.store,t=e.currentAmount,a=e.maxAmount;return y.a.createElement(f.a,{"showClose":!0,"startFadeout":this.state.startFadeout,"onClose":this.handleCloseClick,"mainTitle":this.mainTitle,"btn1Text":this.btnText,"headerTitle":this.headerTitle,"fadeOutIcon":"piggy_bank_icon_bg","targetAimSelector":"#piggy_bank_icon","popupZoomIn":!this.store.fromTrigger,"onFadeoutEnd":this.onFadeoutEnd,"onBtn1Confirm":this.handleBtnClick,"bottomDesc":this.isMulti?"* 若".concat(this.days.length,"日内领现金中断，存钱罐奖励将清空"):""},y.a.createElement(o.a,{"className":v.a.main},y.a.createElement(u.a,{"src":Object(B.a)("piggy_bank_process_bg"),"className":v.a.mainBg}),y.a.createElement(o.a,{"className":v.a.amount},this.hasBreak?"0.00":t,y.a.createElement(i.a,{"className":v.a.unit},"元")),y.a.createElement(o.a,{"className":v.a.status},this.piggyBankText)),this.isMulti?this.renderProcess():y.a.createElement(o.a,{"className":v.a.bar},y.a.createElement(o.a,{"className":v.a.innerBar,"style":{"width":100*Number(t)/Number(a)+"%"}}),y.a.createElement(o.a,{"className":v.a.percent},t,"/",a,"元")))}},{"key":"popupQueueStore","get":function get(){return this.props[_.b.POPUP_QUEUE]}},{"key":"store","get":function get(){return this.props[_.b.PIGGY_BANK]}},{"key":"getMoreCashStore","get":function get(){return this.props[_.b.GET_MORE_CASH]}},{"key":"piggyBankText","get":function get(){return this.hasBreak?"已清空":this.days.length-1!=this.currentDay&&this.isMulti?"".concat(this.days.length-this.currentDay,"日后取出"):"明日取出"}},{"key":"isMulti","get":function get(){var e;return(null===(e=this.days)||void 0===e?void 0:e.length)>1}},{"key":"processInnerBarWidth","get":function get(){var e,t,a=null===(e=this.days)||void 0===e||null===(t=e.filter((function(e){return e===P.b.checkIn})))||void 0===t?void 0:t.length;return this.isTodayFinish?2*(14*a+4*(a-1)):this.hasBreak?2*(14*(a-1)+4*(a-2)):2*(14*(a-1)+4*(a-1))}},{"key":"days","get":function get(){var e,t;return(null===(e=this.store.featureItem)||void 0===e||null===(t=e.featureDataVo)||void 0===t?void 0:t.dailyStatus)||[]}},{"key":"hasBreak","get":function get(){var e;return null===(e=this.days)||void 0===e?void 0:e.find((function(e){return e===P.b.break}))}},{"key":"currentDay","get":function get(){var e,t;return(null===(e=this.store.featureItem)||void 0===e||null===(t=e.featureDataVo)||void 0===t?void 0:t.currentDay)||0}},{"key":"isTodayFinish","get":function get(){var e;return(null===(e=this.days)||void 0===e?void 0:e[this.currentDay])===P.b.checkIn}},{"key":"processText","get":function get(){return this.hasBreak?"已中断":"".concat(this.isTodayFinish?this.currentDay+1:this.currentDay,"/").concat(this.days.length,"日")}},{"key":"btnText","get":function get(){var e=this.store,t=e.currentAmount,a=e.maxAmount;return this.isMulti?this.hasBreak?"立即重启":1!==this.currentDay||this.isTodayFinish?"继续领现金":"立即领现金":t>=a?"明日来领".concat(a,"元"):"继续领现金"}},{"key":"headerTitle","get":function get(){return this.store.fromTrigger&&!this.isMulti?"送你一个存钱罐":this.isMulti?"".concat(this.days.length,"日存钱罐"):"存钱罐"}},{"key":"mainTitle","get":function get(){return this.isMulti?this.hasBreak?["很遗憾<#y#存钱中断>，".concat(this.store.currentAmount,"元已清空"),"立即重启可继续存钱"]:["连续".concat(this.days.length,"日，每日领现金越多"),"可取出奖励越多"]:["今日领现金越多","明日可领奖励越多"]}}]),PiggyBankProcess}(b.Component))||n)||n},"rkAA":function(e,t,a){e.exports={"main":"c2An_7q","mainBg":"DMMdFcW","amount":"_2WSxDtr","unit":"_2NCKW1t","status":"_35s7zch","bar":"_2EPP7mb","innerBar":"_1P-2kzd","percent":"_23cHugY","process":"_2B48NdN","processContent":"_1zw1wQs","processBar":"_3ZA8FRP","processBarBox":"Arni0mQ","processInnerBar":"_3ecpOpZ","processText":"_9pEUtDs","processItem":"_1uiWT68","firstProcessItem":"_2cjb0wR","lastProcessItem":"_2bH6uWr","processItemBg":"_3S-xmOG"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-fit/js/FitV2Popups-PiggyBankProcess_306b9fc17cfbb479b713.js.map