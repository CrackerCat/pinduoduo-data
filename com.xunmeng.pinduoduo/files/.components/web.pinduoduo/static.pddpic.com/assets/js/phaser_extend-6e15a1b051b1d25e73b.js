/*! For license information please see phaser_extend-6e15a1b051b1d25e73b.js.LICENSE.txt */
(self.webpackChunkmobile_promote=self.webpackChunkmobile_promote||[]).push([["phaser_extend"],{79829:function(t,e,i){"use strict";i.r(e);var n={Physics:{Matter:{MatterPhysics:i(43248),Sprite:i(52043),Image:i(63688)}},Tweens:{TweenManager:i(47126),Timeline:i(28436)},Utils:i(27381),Curves:{QuadraticBezier:i(27714)}};e.default=n},71044:function(t,e,i){var n=i(47659),o=i(99824),r=i(31381),s=i(40201),a=new n({initialize:function(t){this.type=t,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new s,this._tmpVec2B=new s},draw:function(t,e){return void 0===e&&(e=32),t.strokePoints(this.getPoints(e))},getBounds:function(t,e){t||(t=new r),void 0===e&&(e=16);var i=this.getLength();e>i&&(e=i/2);var n=Math.max(1,Math.round(i/e));return o(this.getSpacedPoints(n),t)},getDistancePoints:function(t){var e=this.getLength(),i=Math.max(1,e/t);return this.getSpacedPoints(i)},getEndPoint:function(t){return void 0===t&&(t=new s),this.getPointAt(1,t)},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i=[],n=this.getPoint(0,this._tmpVec2A),o=0;i.push(0);for(var r=1;r<=t;r++)o+=(e=this.getPoint(r/t,this._tmpVec2B)).distance(n),i.push(o),n.copy(e);return this.cacheArcLengths=i,i},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t,e,i){void 0===i&&(i=[]),t||(t=e?this.getLength()/e:this.defaultDivisions);for(var n=0;n<=t;n++)i.push(this.getPoint(n/t));return i},getRandomPoint:function(t){return void 0===t&&(t=new s),this.getPoint(Math.random(),t)},getSpacedPoints:function(t,e,i){void 0===i&&(i=[]),t||(t=e?this.getLength()/e:this.defaultDivisions);for(var n=0;n<=t;n++){var o=this.getUtoTmapping(n/t,null,t);i.push(this.getPoint(o))}return i},getStartPoint:function(t){return void 0===t&&(t=new s),this.getPointAt(0,t)},getTangent:function(t,e){void 0===e&&(e=new s);var i=1e-4,n=t-i,o=t+i;return n<0&&(n=0),o>1&&(o=1),this.getPoint(n,this._tmpVec2A),this.getPoint(o,e),e.subtract(this._tmpVec2A).normalize()},getTangentAt:function(t,e){var i=this.getUtoTmapping(t);return this.getTangent(i,e)},getTFromDistance:function(t,e){return t<=0?0:this.getUtoTmapping(0,t,e)},getUtoTmapping:function(t,e,i){var n,o=this.getLengths(i),r=0,s=o.length;n=e?Math.min(e,o[s-1]):t*o[s-1];for(var a,l=0,c=s-1;l<=c;)if((a=o[r=Math.floor(l+(c-l)/2)]-n)<0)l=r+1;else{if(!(a>0)){c=r;break}c=r-1}if(o[r=c]===n)return r/(s-1);var u=o[r];return(r+(n-u)/(o[r+1]-u))/(s-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});t.exports=a},27714:function(t,e,i){var n=i(47659),o=i(71044),r=i(73934),s=i(40201),a=new n({Extends:o,initialize:function(t,e,i){o.call(this,"QuadraticBezier"),Array.isArray(t)&&(i=new s(t[4],t[5]),e=new s(t[2],t[3]),t=new s(t[0],t[1])),this.p0=t,this.p1=e,this.p2=i},getStartPoint:function(t){return void 0===t&&(t=new s),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){void 0===e&&(e=new s);var i=this.p0,n=this.p1,o=this.p2;return e.set(r(t,i.x,n.x,o.x),r(t,i.y,n.y,o.y))},draw:function(t,e){void 0===e&&(e=32);var i=this.getPoints(e);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var n=1;n<i.length;n++)t.lineTo(i[n].x,i[n].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});a.fromJSON=function(t){var e=t.points,i=new s(e[0],e[1]),n=new s(e[2],e[3]),o=new s(e[4],e[5]);return new a(i,n,o)},t.exports=a},28357:function(t){t.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},45187:function(t,e,i){var n=i(47659),o=i(40201),r=new n({initialize:function(){this.boundsCenter=new o,this.centerDiff=new o},parseBody:function(t){if(!(t=t.hasOwnProperty("body")?t.body:t).hasOwnProperty("bounds")||!t.hasOwnProperty("centerOfMass"))return!1;var e=this.boundsCenter,i=this.centerDiff,n=t.bounds.max.x-t.bounds.min.x,o=t.bounds.max.y-t.bounds.min.y,r=n*t.centerOfMass.x,s=o*t.centerOfMass.y;return e.set(n/2,o/2),i.set(r-e.x,s-e.y),!0},getTopLeft:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var n=this.boundsCenter,r=this.centerDiff;return new o(e+n.x+r.x,i+n.y+r.y)}return!1},getTopCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var n=this.boundsCenter,r=this.centerDiff;return new o(e+r.x,i+n.y+r.y)}return!1},getTopRight:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var n=this.boundsCenter,r=this.centerDiff;return new o(e-(n.x-r.x),i+n.y+r.y)}return!1},getLeftCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var n=this.boundsCenter,r=this.centerDiff;return new o(e+n.x+r.x,i+r.y)}return!1},getCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var n=this.centerDiff;return new o(e+n.x,i+n.y)}return!1},getRightCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var n=this.boundsCenter,r=this.centerDiff;return new o(e-(n.x-r.x),i+r.y)}return!1},getBottomLeft:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var n=this.boundsCenter,r=this.centerDiff;return new o(e+n.x+r.x,i-(n.y-r.y))}return!1},getBottomCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var n=this.boundsCenter,r=this.centerDiff;return new o(e+r.x,i-(n.y-r.y))}return!1},getBottomRight:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var n=this.boundsCenter,r=this.centerDiff;return new o(e-(n.x-r.x),i-(n.y-r.y))}return!1}});t.exports=r},10750:function(t,e,i){var n=i(43443);n.Body=i(55621),n.Composite=i(14399),n.World=i(70485),n.Detector=i(85944),n.Grid=i(51947),n.Pairs=i(87749),n.Pair=i(91413),n.Query=i(9533),n.Resolver=i(84362),n.SAT=i(70511),n.Constraint=i(78762),n.Common=i(95536),n.Engine=i(55074),n.Events=i(6520),n.Sleeping=i(11403),n.Plugin=i(16803),n.Bodies=i(88534),n.Composites=i(27418),n.Axes=i(11353),n.Bounds=i(93987),n.Svg=i(67973),n.Vector=i(5425),n.Vertices=i(19710),n.World.add=n.Composite.add,n.World.remove=n.Composite.remove,n.World.addComposite=n.Composite.addComposite,n.World.addBody=n.Composite.addBody,n.World.addConstraint=n.Composite.addConstraint,n.World.clear=n.Composite.clear,t.exports=n},64596:function(t,e,i){var n=i(88534),o=i(47659),r=i(27418),s=i(78762),a=i(67973),l=i(54613),c=i(63688),u=i(52043),h=i(66929),d=i(68162),p=i(8515),f=i(73783),y=i(19710),v=new o({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},rectangle:function(t,e,i,o,r){var s=n.rectangle(t,e,i,o,r);return this.world.add(s),s},trapezoid:function(t,e,i,o,r,s){var a=n.trapezoid(t,e,i,o,r,s);return this.world.add(a),a},circle:function(t,e,i,o,r){var s=n.circle(t,e,i,o,r);return this.world.add(s),s},polygon:function(t,e,i,o,r){var s=n.polygon(t,e,i,o,r);return this.world.add(s),s},fromVertices:function(t,e,i,o,r,s,a){"string"==typeof i&&(i=y.fromPath(i));var l=n.fromVertices(t,e,i,o,r,s,a);return this.world.add(l),l},fromPhysicsEditor:function(t,e,i,n,o){void 0===o&&(o=!0);var r=d.parseBody(t,e,i,n);return o&&!this.world.has(r)&&this.world.add(r),r},fromSVG:function(t,e,i,o,r,s){void 0===o&&(o=1),void 0===r&&(r={}),void 0===s&&(s=!0);for(var l=i.getElementsByTagName("path"),c=[],u=0;u<l.length;u++){var h=a.pathToVertices(l[u],30);1!==o&&y.scale(h,o,o),c.push(h)}var d=n.fromVertices(t,e,c,r);return s&&this.world.add(d),d},fromJSON:function(t,e,i,n,o){void 0===n&&(n={}),void 0===o&&(o=!0);var r=p.parseBody(t,e,i,n);return r&&o&&this.world.add(r),r},imageStack:function(t,e,i,n,o,s,a,l,u){void 0===a&&(a=0),void 0===l&&(l=0),void 0===u&&(u={});var h=this.world,d=this.sys.displayList;u.addToWorld=!1;var p=r.stack(i,n,o,s,a,l,(function(i,n){var o=new c(h,i,n,t,e,u);return d.add(o),o.body}));return h.add(p),p},stack:function(t,e,i,n,o,s,a){var l=r.stack(t,e,i,n,o,s,a);return this.world.add(l),l},pyramid:function(t,e,i,n,o,s,a){var l=r.pyramid(t,e,i,n,o,s,a);return this.world.add(l),l},chain:function(t,e,i,n,o,s){return r.chain(t,e,i,n,o,s)},mesh:function(t,e,i,n,o){return r.mesh(t,e,i,n,o)},newtonsCradle:function(t,e,i,n,o){var s=r.newtonsCradle(t,e,i,n,o);return this.world.add(s),s},car:function(t,e,i,n,o){var s=r.car(t,e,i,n,o);return this.world.add(s),s},softBody:function(t,e,i,n,o,s,a,l,c,u){var h=r.softBody(t,e,i,n,o,s,a,l,c,u);return this.world.add(h),h},joint:function(t,e,i,n,o){return this.constraint(t,e,i,n,o)},spring:function(t,e,i,n,o){return this.constraint(t,e,i,n,o)},constraint:function(t,e,i,n,o){void 0===n&&(n=1),void 0===o&&(o={}),o.bodyA="body"===t.type?t:t.body,o.bodyB="body"===e.type?e:e.body,isNaN(i)||(o.length=i),o.stiffness=n;var r=s.create(o);return this.world.add(r),r},worldConstraint:function(t,e,i,n){void 0===i&&(i=1),void 0===n&&(n={}),n.bodyB="body"===t.type?t:t.body,isNaN(e)||(n.length=e),n.stiffness=i;var o=s.create(n);return this.world.add(o),o},mouseSpring:function(t){return this.pointerConstraint(t)},pointerConstraint:function(t){void 0===t&&(t={}),t.hasOwnProperty("render")||(t.render={visible:!1});var e=new f(this.scene,this.world,t);return this.world.add(e.constraint),e},image:function(t,e,i,n,o){var r=new c(this.world,t,e,i,n,o);return this.sys.displayList.add(r),r},tileBody:function(t,e){return new h(this.world,t,e)},sprite:function(t,e,i,n,o){var r=new u(this.world,t,e,i,n,o);return this.sys.displayList.add(r),this.sys.updateList.add(r),r},gameObject:function(t,e,i){return l(this.world,t,e,i)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});t.exports=v},54613:function(t,e,i){var n=i(92658),o=i(89199),r=i(40201);t.exports=function(t,e,i,s){void 0===i&&(i={}),void 0===s&&(s=!0);var a=e.x,l=e.y;if(e.body={temp:!0,position:{x:a,y:l}},[n.Bounce,n.Collision,n.Force,n.Friction,n.Gravity,n.Mass,n.Sensor,n.SetBody,n.Sleep,n.Static,n.Transform,n.Velocity].forEach((function(t){for(var i in t)(n=t[i]).get&&"function"==typeof n.get||n.set&&"function"==typeof n.set?Object.defineProperty(e,i,{get:t[i].get,set:t[i].set}):Object.defineProperty(e,i,{value:t[i]});var n})),e.world=t,e._tempVec2=new r(a,l),i.hasOwnProperty("type")&&"body"===i.type)e.setExistingBody(i,s);else{var c=o(i,"shape",null);c||(c="rectangle"),i.addToWorld=s,e.setBody(c,i)}return e}},63688:function(t,e,i){var n=i(47659),o=i(92658),r=i(55966),s=i(89199),a=i(81066),l=i(21308),c=i(40201),u=new n({Extends:a,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,l],initialize:function(t,e,i,n,o,a){r.call(this,t.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(n,o),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new c(e,i);var l=s(a,"shape",null);l?this.setBody(l,a):this.setRectangle(this.width,this.height,a),this.setPosition(e,i),this.initPipeline("TextureTintPipeline")}});t.exports=u},43248:function(t,e,i){var n=i(28357),o=i(11353),r=i(88534),s=i(55621),a=i(45187),l=i(93987),c=i(47659),u=i(14399),h=i(27418),d=i(78762),p=i(85944),f=i(18391),y=i(64596),v=i(89199),g=i(36788),m=i(51947),x=i(85976),b=i(62013),S=i(43443),E=i(63197),C=i(11463),A=i(91413),w=i(87749),P=i(16803),T=i(6965),_=i(9533),B=i(84362),D=i(70511),M=i(35399),O=i(67973),k=i(5425),I=i(19710),L=i(90188),R=new c({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=s,this.composite=u,this.detector=p,this.grid=m,this.pair=A,this.pairs=w,this.query=_,this.resolver=B,this.sat=D,this.constraint=d,this.bodies=r,this.composites=h,this.axes=o,this.bounds=l,this.svg=O,this.vector=k,this.vertices=I,this.verts=I,this._tempVec2=k.create(),g(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),g(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),g(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),B._restingThresh=g(this.config,"restingThresh",4),B._restingThreshTangent=g(this.config,"restingThreshTangent",6),B._positionDampen=g(this.config,"positionDampen",.9),B._positionWarming=g(this.config,"positionWarming",.8),B._frictionNormalMultiplier=g(this.config,"frictionNormalMultiplier",5),t.sys.events.once(M.BOOT,this.boot,this),t.sys.events.on(M.START,this.start,this)},boot:function(){this.world=new L(this.scene,this.config),this.add=new y(this.world),this.bodyBounds=new a,this.systems.events.once(M.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new L(this.scene,this.config),this.add=new y(this.world));var t=this.systems.events;t.on(M.UPDATE,this.world.update,this.world),t.on(M.POST_UPDATE,this.world.postUpdate,this.world),t.once(M.SHUTDOWN,this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return C(v(e,"matter",{}),v(t,"matter",{}))},enableAttractorPlugin:function(){return P.register(x),P.use(S,x),this},enableWrapPlugin:function(){return P.register(E),P.use(S,E),this},enableCollisionEventsPlugin:function(){return P.register(b),P.use(S,b),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(t,e){this.world.step(t,e)},containsPoint:function(t,e,i){t=this.getMatterBodies(t);var n=k.create(e,i);return _.point(t,n).length>0},intersectPoint:function(t,e,i){i=this.getMatterBodies(i);var n=k.create(t,e),o=[];return _.point(i,n).forEach((function(t){-1===o.indexOf(t)&&o.push(t)})),o},intersectRect:function(t,e,i,n,o,r){void 0===o&&(o=!1),r=this.getMatterBodies(r);var s={min:{x:t,y:e},max:{x:t+i,y:e+n}},a=[];return _.region(r,s,o).forEach((function(t){-1===a.indexOf(t)&&a.push(t)})),a},intersectRay:function(t,e,i,n,o,r){void 0===o&&(o=1),r=this.getMatterBodies(r);for(var s=[],a=_.ray(r,k.create(t,e),k.create(i,n),o),l=0;l<a.length;l++)s.push(a[l].body);return s},intersectBody:function(t,e){e=this.getMatterBodies(e);for(var i=[],n=_.collides(t,e),o=0;o<n.length;o++){var r=n[o];r.bodyA===t?i.push(r.bodyB):i.push(r.bodyA)}return i},overlap:function(t,e,i,n,o){void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=i),Array.isArray(t)||(t=[t]),t=this.getMatterBodies(t),e=this.getMatterBodies(e);for(var r=!1,s=0;s<t.length;s++)for(var a=t[s],l=_.collides(a,e),c=0;c<l.length;c++){var u=l[c],h=u.bodyA.id===a.id?u.bodyB:u.bodyA;if(!n||n.call(o,a,h,u))if(r=!0,i)i.call(o,a,h,u);else if(!n)return!0}return r},setCollisionCategory:function(t,e){return(t=this.getMatterBodies(t)).forEach((function(t){t.collisionFilter.category=e})),this},setCollisionGroup:function(t,e){return(t=this.getMatterBodies(t)).forEach((function(t){t.collisionFilter.group=e})),this},setCollidesWith:function(t,e){t=this.getMatterBodies(t);var i=0;if(Array.isArray(e))for(var n=0;n<e.length;n++)i|=e[n];else i=e;return t.forEach((function(t){t.collisionFilter.mask=i})),this},getMatterBodies:function(t){if(!t)return this.world.getAllBodies();Array.isArray(t)||(t=[t]);for(var e=[],i=0;i<t.length;i++){var n=t[i].hasOwnProperty("body")?t[i].body:t[i];e.push(n)}return e},setVelocity:function(t,e,i){t=this.getMatterBodies(t);var n=this._tempVec2;return n.x=e,n.y=i,t.forEach((function(t){s.setVelocity(t,n)})),this},setVelocityX:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return i.x=e,t.forEach((function(t){i.y=t.velocity.y,s.setVelocity(t,i)})),this},setVelocityY:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return i.y=e,t.forEach((function(t){i.x=t.velocity.x,s.setVelocity(t,i)})),this},setAngularVelocity:function(t,e){return(t=this.getMatterBodies(t)).forEach((function(t){s.setAngularVelocity(t,e)})),this},applyForce:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return t.forEach((function(t){i.x=t.position.x,i.y=t.position.y,s.applyForce(t,i,e)})),this},applyForceFromPosition:function(t,e,i,n){t=this.getMatterBodies(t);var o=this._tempVec2;return t.forEach((function(t){void 0===n&&(n=t.angle),o.x=i*Math.cos(n),o.y=i*Math.sin(n),s.applyForce(t,e,o)})),this},applyForceFromAngle:function(t,e,i){t=this.getMatterBodies(t);var n=this._tempVec2;return t.forEach((function(t){void 0===i&&(i=t.angle),n.x=e*Math.cos(i),n.y=e*Math.sin(i),s.applyForce(t,{x:t.position.x,y:t.position.y},n)})),this},getConstraintLength:function(t){var e=t.pointA.x,i=t.pointA.y,n=t.pointB.x,o=t.pointB.y;return t.bodyA&&(e+=t.bodyA.position.x,i+=t.bodyA.position.y),t.bodyB&&(n+=t.bodyB.position.x,o+=t.bodyB.position.y),f(e,i,n,o)},alignBody:function(t,e,i,o){var r;switch(t=t.hasOwnProperty("body")?t.body:t,o){case n.TOP_LEFT:case n.LEFT_TOP:r=this.bodyBounds.getTopLeft(t,e,i);break;case n.TOP_CENTER:r=this.bodyBounds.getTopCenter(t,e,i);break;case n.TOP_RIGHT:case n.RIGHT_TOP:r=this.bodyBounds.getTopRight(t,e,i);break;case n.LEFT_CENTER:r=this.bodyBounds.getLeftCenter(t,e,i);break;case n.CENTER:r=this.bodyBounds.getCenter(t,e,i);break;case n.RIGHT_CENTER:r=this.bodyBounds.getRightCenter(t,e,i);break;case n.LEFT_BOTTOM:case n.BOTTOM_LEFT:r=this.bodyBounds.getBottomLeft(t,e,i);break;case n.BOTTOM_CENTER:r=this.bodyBounds.getBottomCenter(t,e,i);break;case n.BOTTOM_RIGHT:case n.RIGHT_BOTTOM:r=this.bodyBounds.getBottomRight(t,e,i)}return r&&s.setPosition(t,r),this},shutdown:function(){var t=this.systems.events;this.world&&(t.off(M.UPDATE,this.world.update,this.world),t.off(M.POST_UPDATE,this.world.postUpdate,this.world)),t.off(M.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(M.START,this.start,this),this.scene=null,this.systems=null}});T.register("MatterPhysics",R,"matterPhysics"),t.exports=R},52043:function(t,e,i){var n=i(53932),o=i(47659),r=i(92658),s=i(55966),a=i(89199),l=i(21308),c=i(10174),u=i(40201),h=new o({Extends:c,Mixins:[r.Bounce,r.Collision,r.Force,r.Friction,r.Gravity,r.Mass,r.Sensor,r.SetBody,r.Sleep,r.Static,r.Transform,r.Velocity,l],initialize:function(t,e,i,o,r,l){s.call(this,t.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new n(this),this.setTexture(o,r),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new u(e,i);var c=a(l,"shape",null);c?this.setBody(c,l):this.setRectangle(this.width,this.height,l),this.setPosition(e,i),this.initPipeline("TextureTintPipeline")}});t.exports=h},66929:function(t,e,i){var n=i(88534),o=i(55621),r=i(47659),s=i(92658),a=i(88903),l=i(89199),c=i(49575),u=i(19710),h=new r({Extends:a,Mixins:[s.Bounce,s.Collision,s.Friction,s.Gravity,s.Mass,s.Sensor,s.Sleep,s.Static],initialize:function(t,e,i){a.call(this),this.tile=e,this.world=t,e.physics.matterBody&&e.physics.matterBody.destroy(),e.physics.matterBody=this;var n=l(i,"body",null),o=l(i,"addToWorld",!0);if(n)this.setBody(n,o);else{var r=e.getCollisionGroup();l(r,"objects",[]).length>0?this.setFromTileCollision(i):this.setFromTileRectangle(i)}},setFromTileRectangle:function(t){void 0===t&&(t={}),c(t,"isStatic")||(t.isStatic=!0),c(t,"addToWorld")||(t.addToWorld=!0);var e=this.tile.getBounds(),i=e.x+e.width/2,o=e.y+e.height/2,r=n.rectangle(i,o,e.width,e.height,t);return this.setBody(r,t.addToWorld),this},setFromTileCollision:function(t){void 0===t&&(t={}),c(t,"isStatic")||(t.isStatic=!0),c(t,"addToWorld")||(t.addToWorld=!0);for(var e=this.tile.tilemapLayer.scaleX,i=this.tile.tilemapLayer.scaleY,r=this.tile.getLeft(),s=this.tile.getTop(),a=this.tile.getCollisionGroup(),h=l(a,"objects",[]),d=[],p=0;p<h.length;p++){var f=h[p],y=r+f.x*e,v=s+f.y*i,g=f.width*e,m=f.height*i,x=null;if(f.rectangle)x=n.rectangle(y+g/2,v+m/2,g,m,t);else if(f.ellipse)x=n.circle(y+g/2,v+m/2,g/2,t);else if(f.polygon||f.polyline){var b=(f.polygon?f.polygon:f.polyline).map((function(t){return{x:t.x*e,y:t.y*i}})),S=u.create(b),E=u.centre(S);y+=E.x,v+=E.y,x=n.fromVertices(y,v,S,t)}x&&d.push(x)}return 1===d.length?this.setBody(d[0],t.addToWorld):d.length>1&&(t.parts=d,this.setBody(o.create(t),t.addToWorld)),this},setBody:function(t,e){return void 0===e&&(e=!0),this.body&&this.removeBody(),this.body=t,this.body.gameObject=this,e&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});t.exports=h},68162:function(t,e,i){var n=i(88534),o=i(55621),r=i(95536),s=i(89199),a=i(19710),l={parseBody:function(t,e,i,n){void 0===n&&(n={});for(var a=s(i,"fixtures",[]),l=[],c=0;c<a.length;c++)for(var u=this.parseFixture(a[c]),h=0;h<u.length;h++)l.push(u[h]);var d=r.clone(i,!0);r.extend(d,n,!0),delete d.fixtures,delete d.type;var p=o.create(d);return o.setParts(p,l),o.setPosition(p,{x:t,y:e}),p},parseFixture:function(t){var e,i=r.extend({},!1,t);if(delete i.circle,delete i.vertices,t.circle){var o=s(t.circle,"x"),a=s(t.circle,"y"),l=s(t.circle,"radius");e=[n.circle(o,a,l,i)]}else t.vertices&&(e=this.parseVertices(t.vertices,i));return e},parseVertices:function(t,e){void 0===e&&(e={});for(var i=[],s=0;s<t.length;s++)a.clockwiseSort(t[s]),i.push(o.create(r.extend({position:a.centre(t[s]),vertices:t[s]},e)));return n.flagCoincidentParts(i)}};t.exports=l},8515:function(t,e,i){var n=i(88534),o=i(55621),r={parseBody:function(t,e,i,r){var s;void 0===r&&(r={});var a=i.vertices;if(1===a.length)r.vertices=a[0],s=o.create(r),n.flagCoincidentParts(s.parts);else{for(var l=[],c=0;c<a.length;c++){var u=o.create({vertices:a[c]});l.push(u)}n.flagCoincidentParts(l),r.parts=l,s=o.create(r)}return s.label=i.label,o.setPosition(s,{x:t,y:e}),s}};t.exports=r},73783:function(t,e,i){var n=i(93987),o=i(47659),r=i(14399),s=i(78762),a=i(85944),l=i(29436),c=i(35305),u=i(11463),h=i(11403),d=i(40201),p=i(19710),f=new o({initialize:function(t,e,i){void 0===i&&(i={});this.scene=t,this.world=e,this.camera=null,this.pointer=null,this.active=!0,this.position=new d,this.body=null,this.part=null,this.constraint=s.create(u(i,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(l.BEFORE_UPDATE,this.update,this),t.sys.input.on(c.POINTER_DOWN,this.onDown,this),t.sys.input.on(c.POINTER_UP,this.onUp,this)},onDown:function(t){this.pointer||(this.pointer=t,this.camera=t.camera)},onUp:function(t){t===this.pointer&&(this.pointer=null)},getBody:function(t){var e=this.position,i=this.constraint;this.camera.getWorldPoint(t.x,t.y,e);for(var o=r.allBodies(this.world.localWorld),s=0;s<o.length;s++){var c=o[s];if(!c.ignorePointer&&n.contains(c.bounds,e)&&a.canCollide(c.collisionFilter,i.collisionFilter)&&this.hitTestBody(c,e))return this.world.emit(l.DRAG_START,c,this.part,this),!0}return!1},hitTestBody:function(t,e){for(var i=this.constraint,n=t.parts.length,o=n>1?1:0;o<n;o++){var r=t.parts[o];if(p.contains(r.vertices,e))return i.pointA=e,i.pointB={x:e.x-t.position.x,y:e.y-t.position.y},i.bodyB=t,i.angleB=t.angle,h.set(t,!1),this.part=r,this.body=t,!0}return!1},update:function(){var t=this.pointer,e=this.body;if(this.active&&t)if(t.isDown||!e){if(t.isDown){if(!e&&!this.getBody(t))return;e=this.body;var i=this.position,n=this.constraint;this.camera.getWorldPoint(t.x,t.y,i),n.pointA.x=i.x,n.pointA.y=i.y,h.set(e,!1),this.world.emit(l.DRAG,e,this)}}else this.stopDrag();else e&&this.stopDrag()},stopDrag:function(){var t=this.body,e=this.constraint;e.bodyB=null,e.pointB=null,this.pointer=null,this.body=null,this.part=null,t&&this.world.emit(l.DRAG_END,t,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(l.BEFORE_UPDATE,this.update),this.scene.sys.input.off(c.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(c.POINTER_UP,this.onUp,this)}});t.exports=f},90188:function(t,e,i){var n=i(28716),o=i(88534),r=i(55621),s=i(47659),a=i(95536),l=i(14399),c=i(55074),u=i(88903),h=i(29436),d=i(89199),p=i(36788),f=i(55621),y=i(6520),v=i(66929),g=i(70485),m=i(5425),x=new s({Extends:u,initialize:function(t,e){u.call(this),this.scene=t,this.engine=c.create(e),this.localWorld=this.engine.world;var i=p(e,"gravity",null);i?this.setGravity(i.x,i.y,i.scale):!1===i&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=p(e,"enabled",!0),this.correction=p(e,"correction",1),this.getDelta=p(e,"getDelta",this.update60Hz);var o=d(e,"runner",{}),r=d(o,"fps",!1),s=d(o,"fps",60),a=d(o,"delta",1e3/s),l=d(o,"deltaMin",1e3/s),h=d(o,"deltaMax",1e3/(.5*s));r||(s=1e3/a),this.runner={fps:s,correction:d(o,"correction",1),deltaSampleSize:d(o,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:d(o,"isFixed",!1),delta:a,deltaMin:l,deltaMax:h},this.autoUpdate=p(e,"autoUpdate",!0);var f=p(e,"debug",!1);if(this.drawDebug="object"===n(f)||f,this.debugGraphic,this.debugConfig={showAxes:d(f,"showAxes",!1),showAngleIndicator:d(f,"showAngleIndicator",!1),angleColor:d(f,"angleColor",15208787),showBroadphase:d(f,"showBroadphase",!1),broadphaseColor:d(f,"broadphaseColor",16757760),showBounds:d(f,"showBounds",!1),boundsColor:d(f,"boundsColor",16777215),showVelocity:d(f,"showVelocity",!1),velocityColor:d(f,"velocityColor",44783),showCollisions:d(f,"showCollisions",!1),collisionColor:d(f,"collisionColor",16094476),showSeparations:d(f,"showSeparations",!1),separationColor:d(f,"separationColor",16753920),showBody:d(f,"showBody",!0),showStaticBody:d(f,"showStaticBody",!0),showInternalEdges:d(f,"showInternalEdges",!1),renderFill:d(f,"renderFill",!1),renderLine:d(f,"renderLine",!0),fillColor:d(f,"fillColor",1075465),fillOpacity:d(f,"fillOpacity",1),lineColor:d(f,"lineColor",2678297),lineOpacity:d(f,"lineOpacity",1),lineThickness:d(f,"lineThickness",1),staticFillColor:d(f,"staticFillColor",857979),staticLineColor:d(f,"staticLineColor",1255396),showSleeping:d(f,"showSleeping",!1),staticBodySleepOpacity:d(f,"staticBodySleepOpacity",.7),sleepFillColor:d(f,"sleepFillColor",4605510),sleepLineColor:d(f,"sleepLineColor",10066585),showSensors:d(f,"showSensors",!0),sensorFillColor:d(f,"sensorFillColor",857979),sensorLineColor:d(f,"sensorLineColor",1255396),showPositions:d(f,"showPositions",!0),positionSize:d(f,"positionSize",4),positionColor:d(f,"positionColor",14697178),showJoint:d(f,"showJoint",!0),jointColor:d(f,"jointColor",14737474),jointLineOpacity:d(f,"jointLineOpacity",1),jointLineThickness:d(f,"jointLineThickness",2),pinSize:d(f,"pinSize",4),pinColor:d(f,"pinColor",4382944),springColor:d(f,"springColor",14697184),anchorColor:d(f,"anchorColor",15724527),anchorSize:d(f,"anchorSize",4),showConvexHulls:d(f,"showConvexHulls",!1),hullColor:d(f,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),d(e,"setBounds",!1)){var y=e.setBounds;if("boolean"==typeof y)this.setBounds();else{var v=d(y,"x",0),g=d(y,"y",0),m=d(y,"width",t.sys.scale.width),x=d(y,"height",t.sys.scale.height),b=d(y,"thickness",64),S=d(y,"left",!0),E=d(y,"right",!0),C=d(y,"top",!0),A=d(y,"bottom",!0);this.setBounds(v,g,m,x,b,S,E,C,A)}}},setCompositeRenderStyle:function(t){var e,i,n,o=t.bodies,r=t.constraints,s=t.composites;for(e=0;e<o.length;e++)n=(i=o[e]).render,this.setBodyRenderStyle(i,n.lineColor,n.lineOpacity,n.lineThickness,n.fillColor,n.fillOpacity);for(e=0;e<r.length;e++)n=(i=r[e]).render,this.setConstraintRenderStyle(i,n.lineColor,n.lineOpacity,n.lineThickness,n.pinSize,n.anchorColor,n.anchorSize);for(e=0;e<s.length;e++)i=s[e],this.setCompositeRenderStyle(i);return this},setBodyRenderStyle:function(t,e,i,n,o,r){var s=t.render,a=this.debugConfig;return s?(null==e&&(e=t.isStatic?a.staticLineColor:a.lineColor),null==i&&(i=a.lineOpacity),null==n&&(n=a.lineThickness),null==o&&(o=t.isStatic?a.staticFillColor:a.fillColor),null==r&&(r=a.fillOpacity),!1!==e&&(s.lineColor=e),!1!==i&&(s.lineOpacity=i),!1!==n&&(s.lineThickness=n),!1!==o&&(s.fillColor=o),!1!==r&&(s.fillOpacity=r),this):this},setConstraintRenderStyle:function(t,e,i,n,o,r,s){var a=t.render,l=this.debugConfig;if(!a)return this;if(null==e){var c=a.type;"line"===c?e=l.jointColor:"pin"===c?e=l.pinColor:"spring"===c&&(e=l.springColor)}return null==i&&(i=l.jointLineOpacity),null==n&&(n=l.jointLineThickness),null==o&&(o=l.pinSize),null==r&&(r=l.anchorColor),null==s&&(s=l.anchorSize),!1!==e&&(a.lineColor=e),!1!==i&&(a.lineOpacity=i),!1!==n&&(a.lineThickness=n),!1!==o&&(a.pinSize=o),!1!==r&&(a.anchorColor=r),!1!==s&&(a.anchorSize=s),this},setEventsProxy:function(){var t=this,e=this.engine,i=this.localWorld;this.drawDebug&&(y.on(i,"compositeModified",(function(e){t.setCompositeRenderStyle(e)})),y.on(i,"beforeAdd",(function(e){for(var i=[].concat(e.object),n=0;n<i.length;n++){var o=i[n],r=o.render;"body"===o.type?t.setBodyRenderStyle(o,r.lineColor,r.lineOpacity,r.lineThickness,r.fillColor,r.fillOpacity):"composite"===o.type?t.setCompositeRenderStyle(o):"constraint"===o.type&&t.setConstraintRenderStyle(o,r.lineColor,r.lineOpacity,r.lineThickness,r.pinSize,r.anchorColor,r.anchorSize)}}))),y.on(i,"beforeAdd",(function(e){t.emit(h.BEFORE_ADD,e)})),y.on(i,"afterAdd",(function(e){t.emit(h.AFTER_ADD,e)})),y.on(i,"beforeRemove",(function(e){t.emit(h.BEFORE_REMOVE,e)})),y.on(i,"afterRemove",(function(e){t.emit(h.AFTER_REMOVE,e)})),y.on(e,"beforeUpdate",(function(e){t.emit(h.BEFORE_UPDATE,e)})),y.on(e,"afterUpdate",(function(e){t.emit(h.AFTER_UPDATE,e)})),y.on(e,"collisionStart",(function(e){var i,n,o=e.pairs;o.length>0&&(i=o[0].bodyA,n=o[0].bodyB),t.emit(h.COLLISION_START,e,i,n)})),y.on(e,"collisionActive",(function(e){var i,n,o=e.pairs;o.length>0&&(i=o[0].bodyA,n=o[0].bodyB),t.emit(h.COLLISION_ACTIVE,e,i,n)})),y.on(e,"collisionEnd",(function(e){var i,n,o=e.pairs;o.length>0&&(i=o[0].bodyA,n=o[0].bodyB),t.emit(h.COLLISION_END,e,i,n)}))},setBounds:function(t,e,i,n,o,r,s,a,l){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===n&&(n=this.scene.sys.scale.height),void 0===o&&(o=64),void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===a&&(a=!0),void 0===l&&(l=!0),this.updateWall(r,"left",t-o,e-o,o,n+2*o),this.updateWall(s,"right",t+i,e-o,o,n+2*o),this.updateWall(a,"top",t,e-o,i,o),this.updateWall(l,"bottom",t,e+n,i,o),this},updateWall:function(t,e,i,n,o,r){var s=this.walls[e];t?(s&&g.remove(this.localWorld,s),i+=o/2,n+=r/2,this.walls[e]=this.create(i,n,o,r,{isStatic:!0,friction:0,frictionStatic:0})):(s&&g.remove(this.localWorld,s),this.walls[e]=null)},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=1),this.localWorld.gravity.x=t,this.localWorld.gravity.y=e,void 0!==i&&(this.localWorld.gravity.scale=i),this},create:function(t,e,i,n,r){var s=o.rectangle(t,e,i,n,r);return g.add(this.localWorld,s),s},add:function(t){return g.add(this.localWorld,t),this},remove:function(t,e){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=t[i],o=n.body?n.body:n;l.remove(this.localWorld,o,e)}return this},removeConstraint:function(t,e){return l.remove(this.localWorld,t,e),this},convertTilemapLayer:function(t,e){var i=t.layer,n=t.getTilesWithin(0,0,i.width,i.height,{isColliding:!0});return this.convertTiles(n,e),this},convertTiles:function(t,e){if(0===t.length)return this;for(var i=0;i<t.length;i++)new v(this,t[i],e);return this},nextGroup:function(t){return f.nextGroup(t)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(h.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(h.RESUME),this},update:function(t,e){if(this.enabled&&this.autoUpdate){var i=this.engine,n=this.runner,o=i.timing,r=this.correction;n.isFixed?e=this.getDelta(t,e):(e=t-n.timePrev||n.delta,n.timePrev=t,n.deltaHistory.push(e),n.deltaHistory=n.deltaHistory.slice(-n.deltaSampleSize),r=(e=(e=(e=Math.min.apply(null,n.deltaHistory))<n.deltaMin?n.deltaMin:e)>n.deltaMax?n.deltaMax:e)/n.delta,n.delta=e),0!==n.timeScalePrev&&(r*=o.timeScale/n.timeScalePrev),0===o.timeScale&&(r=0),n.timeScalePrev=o.timeScale,n.correction=r,n.frameCounter+=1,t-n.counterTimestamp>=1e3&&(n.fps=n.frameCounter*((t-n.counterTimestamp)/1e3),n.counterTimestamp=t,n.frameCounter=0),c.update(i,e,r)}},step:function(t,e){c.update(this.engine,t,e)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(t){var e=t.hasOwnProperty("body")?t.body:t;return null!==l.get(this.localWorld,e.id,e.type)},getAllBodies:function(){return l.allBodies(this.localWorld)},getAllConstraints:function(){return l.allConstraints(this.localWorld)},getAllComposites:function(){return l.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var t=this.debugConfig,e=this.engine,i=this.debugGraphic,n=l.allBodies(this.localWorld);this.debugGraphic.clear(),t.showBroadphase&&e.broadphase.controller&&this.renderGrid(e.broadphase,i,t.broadphaseColor,.5),t.showBounds&&this.renderBodyBounds(n,i,t.boundsColor,.5),(t.showBody||t.showStaticBody)&&this.renderBodies(n),t.showJoint&&this.renderJoints(),(t.showAxes||t.showAngleIndicator)&&this.renderBodyAxes(n,i,t.showAxes,t.angleColor,.5),t.showVelocity&&this.renderBodyVelocity(n,i,t.velocityColor,1,2),t.showSeparations&&this.renderSeparations(e.pairs.list,i,t.separationColor),t.showCollisions&&this.renderCollisions(e.pairs.list,i,t.collisionColor)}},renderGrid:function(t,e,i,n){e.lineStyle(1,i,n);for(var o=a.keys(t.buckets),r=0;r<o.length;r++){var s=o[r];if(!(t.buckets[s].length<2)){var l=s.split(/C|R/);e.strokeRect(parseInt(l[1],10)*t.bucketWidth,parseInt(l[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}return this},renderSeparations:function(t,e,i){e.lineStyle(1,i,1);for(var n=0;n<t.length;n++){var o=t[n];if(o.isActive){var r=o.collision,s=r.bodyA,a=r.bodyB,l=s.position,c=a.position,u=r.penetration,h=s.isStatic||a.isStatic?1:4;a.isStatic&&(h=0),e.lineBetween(c.x,c.y,c.x-u.x*h,c.y-u.y*h),h=s.isStatic||a.isStatic?1:4,s.isStatic&&(h=0),e.lineBetween(l.x,l.y,l.x-u.x*h,l.y-u.y*h)}}return this},renderCollisions:function(t,e,i){var n,o;for(e.lineStyle(1,i,.5),e.fillStyle(i,1),n=0;n<t.length;n++)if((o=t[n]).isActive)for(var r=0;r<o.activeContacts.length;r++){var s=o.activeContacts[r].vertex;e.fillRect(s.x-2,s.y-2,5,5)}for(n=0;n<t.length;n++)if((o=t[n]).isActive){var a=o.collision,l=o.activeContacts;if(l.length>0){var c=l[0].vertex.x,u=l[0].vertex.y;2===l.length&&(c=(l[0].vertex.x+l[1].vertex.x)/2,u=(l[0].vertex.y+l[1].vertex.y)/2),a.bodyB===a.supports[0].body||a.bodyA.isStatic?e.lineBetween(c-8*a.normal.x,u-8*a.normal.y,c,u):e.lineBetween(c+8*a.normal.x,u+8*a.normal.y,c,u)}}return this},renderBodyBounds:function(t,e,i,n){e.lineStyle(1,i,n);for(var o=0;o<t.length;o++){var r=t[o];if(r.render.visible){var s=r.bounds;if(s)e.strokeRect(s.min.x,s.min.y,s.max.x-s.min.x,s.max.y-s.min.y);else for(var a=r.parts,l=a.length>1?1:0;l<a.length;l++){var c=a[l];e.strokeRect(c.bounds.min.x,c.bounds.min.y,c.bounds.max.x-c.bounds.min.x,c.bounds.max.y-c.bounds.min.y)}}}return this},renderBodyAxes:function(t,e,i,n,o){e.lineStyle(1,n,o);for(var r=0;r<t.length;r++){var s,a,l,c=t[r],u=c.parts;if(c.render.visible)if(i)for(a=u.length>1?1:0;a<u.length;a++)for(s=u[a],l=0;l<s.axes.length;l++){var h=s.axes[l];e.lineBetween(s.position.x,s.position.y,s.position.x+20*h.x,s.position.y+20*h.y)}else for(a=u.length>1?1:0;a<u.length;a++)for(s=u[a],l=0;l<s.axes.length;l++)e.lineBetween(s.position.x,s.position.y,(s.vertices[0].x+s.vertices[s.vertices.length-1].x)/2,(s.vertices[0].y+s.vertices[s.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(t,e,i,n,o){e.lineStyle(o,i,n);for(var r=0;r<t.length;r++){var s=t[r];s.render.visible&&e.lineBetween(s.position.x,s.position.y,s.position.x+2*(s.position.x-s.positionPrev.x),s.position.y+2*(s.position.y-s.positionPrev.y))}return this},renderBodies:function(t){for(var e=this.debugGraphic,i=this.debugConfig,n=i.showBody,o=i.showStaticBody,r=i.showSleeping,s=i.showInternalEdges,a=i.showConvexHulls,l=i.renderFill,c=i.renderLine,u=i.staticBodySleepOpacity,h=i.sleepFillColor,d=i.sleepLineColor,p=i.hullColor,f=0;f<t.length;f++){var y=t[f];if(y.render.visible&&((o||!y.isStatic)&&(n||y.isStatic))){var v=y.render.lineColor,g=y.render.lineOpacity,m=y.render.lineThickness,x=y.render.fillColor,b=y.render.fillOpacity;r&&y.isSleeping&&(y.isStatic?(g*=u,b*=u):(v=d,x=h)),l||(x=null),c||(v=null),this.renderBody(y,e,s,v,g,m,x,b);var S=y.parts.length;a&&S>1&&this.renderConvexHull(y,e,p,m)}}},renderBody:function(t,e,i,n,o,r,s,a){void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=1),void 0===s&&(s=null),void 0===a&&(a=null);for(var l=this.debugConfig,c=l.sensorFillColor,u=l.sensorLineColor,h=t.parts,d=h.length,p=d>1?1:0;p<d;p++){var f=h[p],y=f.render,v=y.opacity;if(y.visible&&0!==v&&(!f.isSensor||l.showSensors)){var g=f.circleRadius;if(e.beginPath(),f.isSensor?(null!==s&&e.fillStyle(c,a*v),null!==n&&e.lineStyle(r,u,o*v)):(null!==s&&e.fillStyle(s,a*v),null!==n&&e.lineStyle(r,n,o*v)),g)e.arc(f.position.x,f.position.y,g,0,2*Math.PI);else{var m=f.vertices,x=m.length;e.moveTo(m[0].x,m[0].y);for(var b=1;b<x;b++){var S=m[b];if(!m[b-1].isInternal||i?e.lineTo(S.x,S.y):e.moveTo(S.x,S.y),b<x&&S.isInternal&&!i){var E=(b+1)%x;e.moveTo(m[E].x,m[E].y)}}e.closePath()}null!==s&&e.fillPath(),null!==n&&e.strokePath()}}if(l.showPositions&&!t.isStatic){var C=t.position.x,A=t.position.y,w=Math.ceil(l.positionSize/2);e.fillStyle(l.positionColor,1),e.fillRect(C-w,A-w,l.positionSize,l.positionSize)}return this},renderConvexHull:function(t,e,i,n){if(void 0===n&&(n=1),t.parts.length>1){var o=t.vertices;e.lineStyle(n,i),e.beginPath(),e.moveTo(o[0].x,o[0].y);for(var r=1;r<o.length;r++)e.lineTo(o[r].x,o[r].y);e.lineTo(o[0].x,o[0].y),e.strokePath()}return this},renderJoints:function(){for(var t=this.debugGraphic,e=l.allConstraints(this.localWorld),i=0;i<e.length;i++){var n=e[i].render,o=n.lineColor,r=n.lineOpacity,s=n.lineThickness,a=n.pinSize,c=n.anchorColor,u=n.anchorSize;this.renderConstraint(e[i],t,o,r,s,a,c,u)}},renderConstraint:function(t,e,i,n,o,r,s,l){var c=t.render;if(!c.visible||!t.pointA||!t.pointB)return this;e.lineStyle(o,i,n);var u,h,d=t.bodyA,p=t.bodyB;if(u=d?m.add(d.position,t.pointA):t.pointA,"pin"===c.type)e.strokeCircle(u.x,u.y,r);else{if(h=p?m.add(p.position,t.pointB):t.pointB,e.beginPath(),e.moveTo(u.x,u.y),"spring"===c.type)for(var f,y=m.sub(h,u),v=m.perp(m.normalise(y)),g=Math.ceil(a.clamp(t.length/5,12,20)),x=1;x<g;x+=1)f=x%2==0?1:-1,e.lineTo(u.x+y.x*(x/g)+v.x*f*4,u.y+y.y*(x/g)+v.y*f*4);e.lineTo(h.x,h.y)}return e.strokePath(),c.anchors&&l>0&&(e.fillStyle(s),e.fillCircle(u.x,u.y,l),e.fillCircle(h.x,h.y,l)),this},resetCollisionIDs:function(){return r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,this},shutdown:function(){y.off(this.engine),this.removeAllListeners(),g.clear(this.localWorld,!1),c.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});t.exports=x},81710:function(t){t.exports={setBounce:function(t){return this.body.restitution=t,this}}},50999:function(t){var e={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var e=0;if(Array.isArray(t))for(var i=0;i<t.length;i++)e|=t[i];else e=t;return this.body.collisionFilter.mask=e,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,e){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=t[i].hasOwnProperty("body")?t[i].body:t[i];this.body.setOnCollideWith(n,e)}return this}};t.exports=e},68753:function(t,e,i){var n=i(55621),o={applyForce:function(t){return this._tempVec2.set(this.body.position.x,this.body.position.y),n.applyForce(this.body,this._tempVec2,t),this},applyForceFrom:function(t,e){return n.applyForce(this.body,t,e),this},thrust:function(t){var e=this.body.angle;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(t){var e=this.body.angle-Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(t){var e=this.body.angle+Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(t){var e=this.body.angle-Math.PI;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};t.exports=o},81871:function(t){var e={setFriction:function(t,e,i){return this.body.friction=t,void 0!==e&&(this.body.frictionAir=e),void 0!==i&&(this.body.frictionStatic=i),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};t.exports=e},84744:function(t){t.exports={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}}},60829:function(t,e,i){var n=i(55621),o=i(40201),r={setMass:function(t){return n.setMass(this.body,t),this},setDensity:function(t){return n.setDensity(this.body,t),this},centerOfMass:{get:function(){return new o(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};t.exports=r},16319:function(t){t.exports={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}}},23285:function(t,e,i){var n=i(88534),o=i(55621),r=i(42058),s=i(89199),a=i(68162),l=i(8515),c=i(19710),u={setRectangle:function(t,e,i){return this.setBody({type:"rectangle",width:t,height:e},i)},setCircle:function(t,e){return this.setBody({type:"circle",radius:t},e)},setPolygon:function(t,e,i){return this.setBody({type:"polygon",sides:e,radius:t},i)},setTrapezoid:function(t,e,i,n){return this.setBody({type:"trapezoid",width:t,height:e,slope:i},n)},setExistingBody:function(t,e){void 0===e&&(e=!0),this.body&&this.world.remove(this.body,!0),this.body=t;for(var i=0;i<t.parts.length;i++)t.parts[i].gameObject=this;var n=this;if(t.destroy=function(){n.world.remove(n.body,!0),n.body.gameObject=null},e&&(this.world.has(t)&&this.world.remove(t,!0),this.world.add(t)),this._originComponent){var o=t.render.sprite.xOffset,s=t.render.sprite.yOffset,a=t.centerOfMass.x,l=t.centerOfMass.y;if(r(a,.5)&&r(l,.5))this.setOrigin(o+.5,s+.5);else{var c=t.centerOffset.x,u=t.centerOffset.y;this.setOrigin(o+c/this.displayWidth,s+u/this.displayHeight)}}return this},setBody:function(t,e){if(!t)return this;var i;"string"==typeof t&&(t={type:t});var r=s(t,"type","rectangle"),u=s(t,"x",this._tempVec2.x),h=s(t,"y",this._tempVec2.y),d=s(t,"width",this.width),p=s(t,"height",this.height);switch(r){case"rectangle":i=n.rectangle(u,h,d,p,e);break;case"circle":var f=s(t,"radius",Math.max(d,p)/2),y=s(t,"maxSides",25);i=n.circle(u,h,f,e,y);break;case"trapezoid":var v=s(t,"slope",.5);i=n.trapezoid(u,h,d,p,v,e);break;case"polygon":var g=s(t,"sides",5),m=s(t,"radius",Math.max(d,p)/2);i=n.polygon(u,h,g,m,e);break;case"fromVertices":case"fromVerts":var x=s(t,"verts",null);if(x)if("string"==typeof x&&(x=c.fromPath(x)),this.body&&!this.body.hasOwnProperty("temp"))o.setVertices(this.body,x),i=this.body;else{var b=s(t,"flagInternal",!1),S=s(t,"removeCollinear",.01),E=s(t,"minimumArea",10);i=n.fromVertices(u,h,x,e,b,S,E)}break;case"fromPhysicsEditor":i=a.parseBody(u,h,t,e);break;case"fromPhysicsTracer":i=l.parseBody(u,h,t,e)}return i&&this.setExistingBody(i,t.addToWorld),this}};t.exports=u},65570:function(t,e,i){var n=i(29436),o=i(11403),r=i(6520),s={setToSleep:function(){o.set(this.body,!0)},setAwake:function(){o.set(this.body,!1)},setSleepThreshold:function(t){return void 0===t&&(t=60),this.body.sleepThreshold=t,this},setSleepEvents:function(t,e){return this.setSleepStartEvent(t),this.setSleepEndEvent(e),this},setSleepStartEvent:function(t){if(t){var e=this.world;r.on(this.body,"sleepStart",(function(t){e.emit(n.SLEEP_START,t,this)}))}else r.off(this.body,"sleepStart");return this},setSleepEndEvent:function(t){if(t){var e=this.world;r.on(this.body,"sleepEnd",(function(t){e.emit(n.SLEEP_END,t,this)}))}else r.off(this.body,"sleepEnd");return this}};t.exports=s},12249:function(t,e,i){var n=i(55621),o={setStatic:function(t){return n.setStatic(this.body,t),this},isStatic:function(){return this.body.isStatic}};t.exports=o},88351:function(t,e,i){var n=i(55621),o=i(17971),r=i(36587),s=i(35743),a={x:{get:function(){return this.body.position.x},set:function(t){this._tempVec2.set(t,this.y),n.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(t){this._tempVec2.set(this.x,t),n.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(t){var e=1/this._scaleX,i=1/this._scaleY;this._scaleX=t,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,n.scale(this.body,e,i),n.scale(this.body,t,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(t){var e=1/this._scaleX,i=1/this._scaleY;this._scaleY=t,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,n.scale(this.body,e,i),n.scale(this.body,this._scaleX,t)}},angle:{get:function(){return s(this.body.angle*o.RAD_TO_DEG)},set:function(t){this.rotation=s(t)*o.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(t){this._rotation=r(t),n.setAngle(this.body,this._rotation)}},setPosition:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._tempVec2.set(t,e),n.setPosition(this.body,this._tempVec2),this},setRotation:function(t){return void 0===t&&(t=0),this._rotation=r(t),n.setAngle(this.body,t),this},setFixedRotation:function(){return n.setInertia(this.body,1/0),this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,n.setAngle(this.body,this.rotation),this},setScale:function(t,e,i){void 0===t&&(t=1),void 0===e&&(e=t);var o=1/this._scaleX,r=1/this._scaleY;return this._scaleX=t,this._scaleY=e,n.scale(this.body,o,r,i),n.scale(this.body,t,e,i),this}};t.exports=a},32763:function(t,e,i){var n=i(55621),o={setAngularVelocity:function(t){return n.setAngularVelocity(this.body,t),this},setVelocityX:function(t){return this._tempVec2.set(t,this.body.velocity.y),n.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(t){return this._tempVec2.set(this.body.velocity.x,t),n.setVelocity(this.body,this._tempVec2),this},setVelocity:function(t,e){return this._tempVec2.set(t,e),n.setVelocity(this.body,this._tempVec2),this}};t.exports=o},92658:function(t,e,i){t.exports={Bounce:i(81710),Collision:i(50999),Force:i(68753),Friction:i(81871),Gravity:i(84744),Mass:i(60829),Static:i(12249),Sensor:i(16319),SetBody:i(23285),Sleep:i(65570),Transform:i(88351),Velocity:i(32763)}},15856:function(t){t.exports="afteradd"},33936:function(t){t.exports="afterremove"},92983:function(t){t.exports="afterupdate"},19084:function(t){t.exports="beforeadd"},67398:function(t){t.exports="beforeremove"},79864:function(t){t.exports="beforeupdate"},24357:function(t){t.exports="collisionactive"},91320:function(t){t.exports="collisionend"},11407:function(t){t.exports="collisionstart"},58930:function(t){t.exports="dragend"},43795:function(t){t.exports="drag"},73577:function(t){t.exports="dragstart"},60109:function(t){t.exports="pause"},81158:function(t){t.exports="resume"},83007:function(t){t.exports="sleepend"},78886:function(t){t.exports="sleepstart"},29436:function(t,e,i){t.exports={AFTER_ADD:i(15856),AFTER_REMOVE:i(33936),AFTER_UPDATE:i(92983),BEFORE_ADD:i(19084),BEFORE_REMOVE:i(67398),BEFORE_UPDATE:i(79864),COLLISION_ACTIVE:i(24357),COLLISION_END:i(91320),COLLISION_START:i(11407),DRAG_END:i(58930),DRAG:i(43795),DRAG_START:i(73577),PAUSE:i(60109),RESUME:i(81158),SLEEP_END:i(83007),SLEEP_START:i(78886)}},55621:function(t,e,i){var n={};t.exports=n;var o=i(19710),r=i(5425),s=i(11403),a=i(95536),l=i(93987),c=i(11353);!function(){n._inertiaScale=4,n._nextCollidingGroupId=1,n._nextNonCollidingGroupId=-1,n._nextCategory=1,n.create=function(e){var i={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!e.hasOwnProperty("position")&&e.hasOwnProperty("vertices")?e.position=o.centre(e.vertices):e.hasOwnProperty("vertices")||(i.vertices=o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var n=a.extend(i,e);return t(n,e),n.setOnCollideWith=function(t,e){return e?this.onCollideWith[t.id]=e:delete this.onCollideWith[t.id],this},n},n.nextGroup=function(t){return t?n._nextNonCollidingGroupId--:n._nextCollidingGroupId++},n.nextCategory=function(){return n._nextCategory=n._nextCategory<<1,n._nextCategory};var t=function(t,e){e=e||{},n.set(t,{bounds:t.bounds||l.create(t.vertices),positionPrev:t.positionPrev||r.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t});var i=t.bounds;if(o.rotate(t.vertices,t.angle,t.position),c.rotate(t.axes,t.angle),l.update(i,t.vertices,t.velocity),n.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia}),1===t.parts.length){var s=t.centerOfMass,a=t.centerOffset,u=i.max.x-i.min.x,h=i.max.y-i.min.y;s.x=-(i.min.x-t.position.x)/u,s.y=-(i.min.y-t.position.y)/h,a.x=u*s.x,a.y=h*s.y}};n.set=function(t,e,i){var o;for(o in"string"==typeof e&&(o=e,(e={})[o]=i),e)if(Object.prototype.hasOwnProperty.call(e,o))switch(i=e[o],o){case"isStatic":n.setStatic(t,i);break;case"isSleeping":s.set(t,i);break;case"mass":n.setMass(t,i);break;case"density":n.setDensity(t,i);break;case"inertia":n.setInertia(t,i);break;case"vertices":n.setVertices(t,i);break;case"position":n.setPosition(t,i);break;case"angle":n.setAngle(t,i);break;case"velocity":n.setVelocity(t,i);break;case"angularVelocity":n.setAngularVelocity(t,i);break;case"parts":n.setParts(t,i);break;case"centre":n.setCentre(t,i);break;default:t[o]=i}},n.setStatic=function(t,e){for(var i=0;i<t.parts.length;i++){var n=t.parts[i];n.isStatic=e,e?(n._original={restitution:n.restitution,friction:n.friction,mass:n.mass,inertia:n.inertia,density:n.density,inverseMass:n.inverseMass,inverseInertia:n.inverseInertia},n.restitution=0,n.friction=1,n.mass=n.inertia=n.density=1/0,n.inverseMass=n.inverseInertia=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.angularVelocity=0,n.speed=0,n.angularSpeed=0,n.motion=0):n._original&&(n.restitution=n._original.restitution,n.friction=n._original.friction,n.mass=n._original.mass,n.inertia=n._original.inertia,n.density=n._original.density,n.inverseMass=n._original.inverseMass,n.inverseInertia=n._original.inverseInertia,n._original=null)}},n.setMass=function(t,e){var i=t.inertia/(t.mass/6);t.inertia=i*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},n.setDensity=function(t,e){n.setMass(t,e*t.area),t.density=e},n.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},n.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=o.create(e,t),t.axes=c.fromVertices(t.vertices),t.area=o.area(t.vertices),n.setMass(t,t.density*t.area);var i=o.centre(t.vertices);o.translate(t.vertices,i,-1),n.setInertia(t,n._inertiaScale*o.inertia(t.vertices,t.mass)),o.translate(t.vertices,t.position),l.update(t.bounds,t.vertices,t.velocity)},n.setParts=function(t,e,i){var r;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,r=0;r<e.length;r++){var s=e[r];s!==t&&(s.parent=t,t.parts.push(s))}if(1!==t.parts.length){if(i=void 0===i||i){var a=[];for(r=0;r<e.length;r++)a=a.concat(e[r].vertices);o.clockwiseSort(a);var c=o.hull(a),u=o.centre(c);n.setVertices(t,c),o.translate(t.vertices,u)}var h=n._totalProperties(t),d=h.centre.x,p=h.centre.y,f=t.bounds,y=t.centerOfMass,v=t.centerOffset;l.update(f,t.vertices,t.velocity),y.x=-(f.min.x-d)/(f.max.x-f.min.x),y.y=-(f.min.y-p)/(f.max.y-f.min.y),v.x=d,v.y=p,t.area=h.area,t.parent=t,t.position.x=d,t.position.y=p,t.positionPrev.x=d,t.positionPrev.y=p,n.setMass(t,h.mass),n.setInertia(t,h.inertia),n.setPosition(t,h.centre)}},n.setCentre=function(t,e,i){i?(t.positionPrev.x+=e.x,t.positionPrev.y+=e.y,t.position.x+=e.x,t.position.y+=e.y):(t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y),t.position.x=e.x,t.position.y=e.y)},n.setPosition=function(t,e){var i=r.sub(e,t.position);t.positionPrev.x+=i.x,t.positionPrev.y+=i.y;for(var n=0;n<t.parts.length;n++){var s=t.parts[n];s.position.x+=i.x,s.position.y+=i.y,o.translate(s.vertices,i),l.update(s.bounds,s.vertices,t.velocity)}},n.setAngle=function(t,e){var i=e-t.angle;t.anglePrev+=i;for(var n=0;n<t.parts.length;n++){var s=t.parts[n];s.angle+=i,o.rotate(s.vertices,i,t.position),c.rotate(s.axes,i),l.update(s.bounds,s.vertices,t.velocity),n>0&&r.rotateAbout(s.position,i,t.position,s.position)}},n.setVelocity=function(t,e){t.positionPrev.x=t.position.x-e.x,t.positionPrev.y=t.position.y-e.y,t.velocity.x=e.x,t.velocity.y=e.y,t.speed=r.magnitude(t.velocity)},n.setAngularVelocity=function(t,e){t.anglePrev=t.angle-e,t.angularVelocity=e,t.angularSpeed=Math.abs(t.angularVelocity)},n.translate=function(t,e){n.setPosition(t,r.add(t.position,e))},n.rotate=function(t,e,i){if(i){var o=Math.cos(e),r=Math.sin(e),s=t.position.x-i.x,a=t.position.y-i.y;n.setPosition(t,{x:i.x+(s*o-a*r),y:i.y+(s*r+a*o)}),n.setAngle(t,t.angle+e)}else n.setAngle(t,t.angle+e)},n.scale=function(t,e,i,r){var s=0,a=0;r=r||t.position;for(var u=0;u<t.parts.length;u++){var h=t.parts[u];h.scale.x=e,h.scale.y=i,o.scale(h.vertices,e,i,r),h.axes=c.fromVertices(h.vertices),h.area=o.area(h.vertices),n.setMass(h,t.density*h.area),o.translate(h.vertices,{x:-h.position.x,y:-h.position.y}),n.setInertia(h,n._inertiaScale*o.inertia(h.vertices,h.mass)),o.translate(h.vertices,{x:h.position.x,y:h.position.y}),u>0&&(s+=h.area,a+=h.inertia),h.position.x=r.x+(h.position.x-r.x)*e,h.position.y=r.y+(h.position.y-r.y)*i,l.update(h.bounds,h.vertices,t.velocity)}t.parts.length>1&&(t.area=s,t.isStatic||(n.setMass(t,t.density*s),n.setInertia(t,a))),t.circleRadius&&(e===i?t.circleRadius*=e:t.circleRadius=null)},n.update=function(t,e,i,n){var s=Math.pow(e*i*t.timeScale,2),a=1-t.frictionAir*i*t.timeScale,u=t.position.x-t.positionPrev.x,h=t.position.y-t.positionPrev.y;t.velocity.x=u*a*n+t.force.x/t.mass*s,t.velocity.y=h*a*n+t.force.y/t.mass*s,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*a*n+t.torque/t.inertia*s,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=r.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var d=0;d<t.parts.length;d++){var p=t.parts[d];o.translate(p.vertices,t.velocity),d>0&&(p.position.x+=t.velocity.x,p.position.y+=t.velocity.y),0!==t.angularVelocity&&(o.rotate(p.vertices,t.angularVelocity,t.position),c.rotate(p.axes,t.angularVelocity),d>0&&r.rotateAbout(p.position,t.angularVelocity,t.position,p.position)),l.update(p.bounds,p.vertices,t.velocity)}},n.applyForce=function(t,e,i){t.force.x+=i.x,t.force.y+=i.y;var n=e.x-t.position.x,o=e.y-t.position.y;t.torque+=n*i.y-o*i.x},n._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===t.parts.length?0:1;i<t.parts.length;i++){var n=t.parts[i],o=n.mass!==1/0?n.mass:1;e.mass+=o,e.area+=n.area,e.inertia+=n.inertia,e.centre=r.add(e.centre,r.mult(n.position,o))}return e.centre=r.div(e.centre,e.mass),e}}()},14399:function(t,e,i){var n={};t.exports=n;var o=i(6520),r=i(95536),s=i(93987),a=i(55621);n.create=function(t){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},t)},n.setModified=function(t,e,i,r){if(o.trigger(t,"compositeModified",t),t.isModified=e,i&&t.parent&&n.setModified(t.parent,e,i,r),r)for(var s=0;s<t.composites.length;s++){var a=t.composites[s];n.setModified(a,e,i,r)}},n.add=function(t,e){var i=[].concat(e);o.trigger(t,"beforeAdd",{object:e});for(var s=0;s<i.length;s++){var a=i[s];switch(a.type){case"body":if(a.parent!==a){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}n.addBody(t,a);break;case"constraint":n.addConstraint(t,a);break;case"composite":n.addComposite(t,a);break;case"mouseConstraint":n.addConstraint(t,a.constraint)}}return o.trigger(t,"afterAdd",{object:e}),t},n.remove=function(t,e,i){var r=[].concat(e);o.trigger(t,"beforeRemove",{object:e});for(var s=0;s<r.length;s++){var a=r[s];switch(a.type){case"body":n.removeBody(t,a,i);break;case"constraint":n.removeConstraint(t,a,i);break;case"composite":n.removeComposite(t,a,i);break;case"mouseConstraint":n.removeConstraint(t,a.constraint)}}return o.trigger(t,"afterRemove",{object:e}),t},n.addComposite=function(t,e){return t.composites.push(e),e.parent=t,n.setModified(t,!0,!0,!1),t},n.removeComposite=function(t,e,i){var o=t.composites.indexOf(e);if(-1!==o&&(n.removeCompositeAt(t,o),n.setModified(t,!0,!0,!1)),i)for(var r=0;r<t.composites.length;r++)n.removeComposite(t.composites[r],e,!0);return t},n.removeCompositeAt=function(t,e){return t.composites.splice(e,1),n.setModified(t,!0,!0,!1),t},n.addBody=function(t,e){return t.bodies.push(e),n.setModified(t,!0,!0,!1),t},n.removeBody=function(t,e,i){var o=t.bodies.indexOf(e);if(-1!==o&&(n.removeBodyAt(t,o),n.setModified(t,!0,!0,!1)),i)for(var r=0;r<t.composites.length;r++)n.removeBody(t.composites[r],e,!0);return t},n.removeBodyAt=function(t,e){return t.bodies.splice(e,1),n.setModified(t,!0,!0,!1),t},n.addConstraint=function(t,e){return t.constraints.push(e),n.setModified(t,!0,!0,!1),t},n.removeConstraint=function(t,e,i){var o=t.constraints.indexOf(e);if(-1!==o&&n.removeConstraintAt(t,o),i)for(var r=0;r<t.composites.length;r++)n.removeConstraint(t.composites[r],e,!0);return t},n.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),n.setModified(t,!0,!0,!1),t},n.clear=function(t,e,i){if(i)for(var o=0;o<t.composites.length;o++)n.clear(t.composites[o],e,!0);return e?t.bodies=t.bodies.filter((function(t){return t.isStatic})):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,n.setModified(t,!0,!0,!1),t},n.allBodies=function(t){for(var e=[].concat(t.bodies),i=0;i<t.composites.length;i++)e=e.concat(n.allBodies(t.composites[i]));return e},n.allConstraints=function(t){for(var e=[].concat(t.constraints),i=0;i<t.composites.length;i++)e=e.concat(n.allConstraints(t.composites[i]));return e},n.allComposites=function(t){for(var e=[].concat(t.composites),i=0;i<t.composites.length;i++)e=e.concat(n.allComposites(t.composites[i]));return e},n.get=function(t,e,i){var o,r;switch(i){case"body":o=n.allBodies(t);break;case"constraint":o=n.allConstraints(t);break;case"composite":o=n.allComposites(t).concat(t)}return o?0===(r=o.filter((function(t){return t.id.toString()===e.toString()}))).length?null:r[0]:null},n.move=function(t,e,i){return n.remove(t,e),n.add(i,e),t},n.rebase=function(t){for(var e=n.allBodies(t).concat(n.allConstraints(t)).concat(n.allComposites(t)),i=0;i<e.length;i++)e[i].id=r.nextId();return n.setModified(t,!0,!0,!1),t},n.translate=function(t,e,i){for(var o=i?n.allBodies(t):t.bodies,r=0;r<o.length;r++)a.translate(o[r],e);return n.setModified(t,!0,!0,!1),t},n.rotate=function(t,e,i,o){for(var r=Math.cos(e),s=Math.sin(e),l=o?n.allBodies(t):t.bodies,c=0;c<l.length;c++){var u=l[c],h=u.position.x-i.x,d=u.position.y-i.y;a.setPosition(u,{x:i.x+(h*r-d*s),y:i.y+(h*s+d*r)}),a.rotate(u,e)}return n.setModified(t,!0,!0,!1),t},n.scale=function(t,e,i,o,r){for(var s=r?n.allBodies(t):t.bodies,l=0;l<s.length;l++){var c=s[l],u=c.position.x-o.x,h=c.position.y-o.y;a.setPosition(c,{x:o.x+u*e,y:o.y+h*i}),a.scale(c,e,i)}return n.setModified(t,!0,!0,!1),t},n.bounds=function(t){for(var e=n.allBodies(t),i=[],o=0;o<e.length;o+=1){var r=e[o];i.push(r.bounds.min,r.bounds.max)}return s.create(i)}},70485:function(t,e,i){var n={};t.exports=n;var o=i(14399),r=(i(78762),i(95536));n.create=function(t){var e=o.create(),i={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return r.extend(e,i,t)}},85944:function(t,e,i){var n={};t.exports=n;var o=i(70511),r=i(91413),s=i(93987);n.collisions=function(t,e){for(var i=[],a=e.pairs.table,l=e.metrics,c=0;c<t.length;c++){var u=t[c][0],h=t[c][1];if((!u.isStatic&&!u.isSleeping||!h.isStatic&&!h.isSleeping)&&n.canCollide(u.collisionFilter,h.collisionFilter)&&(l.midphaseTests+=1,s.overlaps(u.bounds,h.bounds)))for(var d=u.parts.length>1?1:0;d<u.parts.length;d++)for(var p=u.parts[d],f=h.parts.length>1?1:0;f<h.parts.length;f++){var y=h.parts[f];if(p===u&&y===h||s.overlaps(p.bounds,y.bounds)){var v,g=a[r.id(p,y)];v=g&&g.isActive?g.collision:null;var m=o.collides(p,y,v);l.narrowphaseTests+=1,m.reused&&(l.narrowReuseCount+=1),m.collided&&(i.push(m),l.narrowDetections+=1)}}}return i},n.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!=(t.mask&e.category)&&0!=(e.mask&t.category)}},51947:function(t,e,i){var n={};t.exports=n;var o=i(91413),r=i(85944),s=i(95536);n.create=function(t){var e={controller:n,detector:r.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(e,t)},n.update=function(t,e,i,o){var r,s,a,l,c,u=i.world,h=t.buckets,d=!1,p=i.metrics;for(p.broadphaseTests=0,r=0;r<e.length;r++){var f=e[r];if((!f.isSleeping||o)&&!(f.bounds.max.x<u.bounds.min.x||f.bounds.min.x>u.bounds.max.x||f.bounds.max.y<u.bounds.min.y||f.bounds.min.y>u.bounds.max.y)){var y=n._getRegion(t,f);if(!f.region||y.id!==f.region.id||o){p.broadphaseTests+=1,f.region&&!o||(f.region=y);var v=n._regionUnion(y,f.region);for(s=v.startCol;s<=v.endCol;s++)for(a=v.startRow;a<=v.endRow;a++){l=h[c=n._getBucketId(s,a)];var g=s>=y.startCol&&s<=y.endCol&&a>=y.startRow&&a<=y.endRow,m=s>=f.region.startCol&&s<=f.region.endCol&&a>=f.region.startRow&&a<=f.region.endRow;!g&&m&&m&&l&&n._bucketRemoveBody(t,l,f),(f.region===y||g&&!m||o)&&(l||(l=n._createBucket(h,c)),n._bucketAddBody(t,l,f))}f.region=y,d=!0}}}d&&(t.pairsList=n._createActivePairsList(t))},n.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},n._regionUnion=function(t,e){var i=Math.min(t.startCol,e.startCol),o=Math.max(t.endCol,e.endCol),r=Math.min(t.startRow,e.startRow),s=Math.max(t.endRow,e.endRow);return n._createRegion(i,o,r,s)},n._getRegion=function(t,e){var i=e.bounds,o=Math.floor(i.min.x/t.bucketWidth),r=Math.floor(i.max.x/t.bucketWidth),s=Math.floor(i.min.y/t.bucketHeight),a=Math.floor(i.max.y/t.bucketHeight);return n._createRegion(o,r,s,a)},n._createRegion=function(t,e,i,n){return{id:t+","+e+","+i+","+n,startCol:t,endCol:e,startRow:i,endRow:n}},n._getBucketId=function(t,e){return"C"+t+"R"+e},n._createBucket=function(t,e){return t[e]=[]},n._bucketAddBody=function(t,e,i){for(var n=0;n<e.length;n++){var r=e[n];if(!(i.id===r.id||i.isStatic&&r.isStatic)){var s=o.id(i,r),a=t.pairs[s];a?a[2]+=1:t.pairs[s]=[i,r,1]}}e.push(i)},n._bucketRemoveBody=function(t,e,i){e.splice(e.indexOf(i),1);for(var n=0;n<e.length;n++){var r=e[n],s=o.id(i,r),a=t.pairs[s];a&&(a[2]-=1)}},n._createActivePairsList=function(t){var e,i,n=[];e=s.keys(t.pairs);for(var o=0;o<e.length;o++)(i=t.pairs[e[o]])[2]>0?n.push(i):delete t.pairs[e[o]];return n}},91413:function(t){var e={};t.exports=e,e.create=function(t,i){var n=t.bodyA,o=t.bodyB,r={id:e.id(n,o),bodyA:n,bodyB:o,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||o.isSensor,timeCreated:i,timeUpdated:i,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(r,t,i),r},e.update=function(t,i,n){if(t.collision=i,i.collided){var o=i.supports,r=t.activeContacts,s=i.parentA,a=i.parentB;t.inverseMass=s.inverseMass+a.inverseMass,t.friction=Math.min(s.friction,a.friction),t.frictionStatic=Math.max(s.frictionStatic,a.frictionStatic),t.restitution=Math.max(s.restitution,a.restitution),t.slop=Math.max(s.slop,a.slop);for(var l=0;l<o.length;l++)r[l]=o[l].contact;var c=o.length;c<r.length&&(r.length=c),t.separation=i.depth,e.setActive(t,!0,n)}else!0===t.isActive&&e.setActive(t,!1,n)},e.setActive=function(t,e,i){e?(t.isActive=!0,t.timeUpdated=i):(t.isActive=!1,t.activeContacts.length=0)},e.id=function(t,e){return t.id<e.id?"A"+t.id+"B"+e.id:"A"+e.id+"B"+t.id}},87749:function(t,e,i){var n={};t.exports=n;var o=i(91413),r=i(95536);n._pairMaxIdleLife=1e3,n.create=function(t){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},n.update=function(t,e,i){var n,r,s,a,l=t.list,c=t.table,u=t.collisionStart,h=t.collisionEnd,d=t.collisionActive;for(u.length=0,h.length=0,d.length=0,a=0;a<l.length;a++)l[a].confirmedActive=!1;for(a=0;a<e.length;a++)(n=e[a]).collided&&((s=c[r=o.id(n.bodyA,n.bodyB)])?(s.isActive?d.push(s):u.push(s),o.update(s,n,i),s.confirmedActive=!0):(s=o.create(n,i),c[r]=s,u.push(s),l.push(s)));for(a=0;a<l.length;a++)(s=l[a]).isActive&&!s.confirmedActive&&(o.setActive(s,!1,i),h.push(s))},n.removeOld=function(t,e){var i,o,r,s,a=t.list,l=t.table,c=[];for(s=0;s<a.length;s++)(o=(i=a[s]).collision).bodyA.isSleeping||o.bodyB.isSleeping?i.timeUpdated=e:e-i.timeUpdated>n._pairMaxIdleLife&&c.push(s);for(s=0;s<c.length;s++)delete l[(i=a[r=c[s]-s]).id],a.splice(r,1)},n.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}},9533:function(t,e,i){var n={};t.exports=n;var o=i(5425),r=i(70511),s=i(93987),a=i(88534),l=i(19710);n.collides=function(t,e){for(var i=[],n=0;n<e.length;n++){var o=e[n];if(t!==o&&s.overlaps(o.bounds,t.bounds))for(var a=1===o.parts.length?0:1;a<o.parts.length;a++){var l=o.parts[a];if(s.overlaps(l.bounds,t.bounds)){var c=r.collides(l,t);if(c.collided){i.push(c);break}}}}return i},n.ray=function(t,e,i,r){r=r||1e-100;for(var s=o.angle(e,i),l=o.magnitude(o.sub(e,i)),c=.5*(i.x+e.x),u=.5*(i.y+e.y),h=a.rectangle(c,u,l,r,{angle:s}),d=n.collides(h,t),p=0;p<d.length;p+=1){var f=d[p];f.body=f.bodyB=f.bodyA}return d},n.region=function(t,e,i){for(var n=[],o=0;o<t.length;o++){var r=t[o],a=s.overlaps(r.bounds,e);(a&&!i||!a&&i)&&n.push(r)}return n},n.point=function(t,e){for(var i=[],n=0;n<t.length;n++){var o=t[n];if(s.contains(o.bounds,e))for(var r=1===o.parts.length?0:1;r<o.parts.length;r++){var a=o.parts[r];if(s.contains(a.bounds,e)&&l.contains(a.vertices,e)){i.push(o);break}}}return i}},84362:function(t,e,i){var n={};t.exports=n;var o=i(19710),r=i(5425),s=i(95536),a=i(93987);n._restingThresh=4,n._restingThreshTangent=6,n._positionDampen=.9,n._positionWarming=.8,n._frictionNormalMultiplier=5,n.preSolvePosition=function(t){var e,i,n;for(e=0;e<t.length;e++)(i=t[e]).isActive&&(n=i.activeContacts.length,i.collision.parentA.totalContacts+=n,i.collision.parentB.totalContacts+=n)},n.solvePosition=function(t,e,i){var o,r,s,a,l,c,u,h,d,p,f,y,v,g,m,x,b=i*n._positionDampen;for(o=0;o<e.length;o++){var S=e[o];S.previousPositionImpulse.x=S.positionImpulse.x,S.previousPositionImpulse.y=S.positionImpulse.y}for(o=0;o<t.length;o++)(a=t[o]).isActive&&!a.isSensor&&(c=(l=a.collision).parentA,u=l.parentB,h=l.normal,f=c.previousPositionImpulse,y=u.previousPositionImpulse,p=l.penetration,g=y.x-f.x+p.x,m=y.y-f.y+p.y,d=(r=h.x)*g+(s=h.y)*m,a.separation=d,x=(d-a.slop)*b,(c.isStatic||u.isStatic)&&(x*=2),c.isStatic||c.isSleeping||(v=x/c.totalContacts,c.positionImpulse.x+=r*v,c.positionImpulse.y+=s*v),u.isStatic||u.isSleeping||(v=x/u.totalContacts,u.positionImpulse.x-=r*v,u.positionImpulse.y-=s*v))},n.postSolvePosition=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.totalContacts=0,0!==i.positionImpulse.x||0!==i.positionImpulse.y){for(var s=0;s<i.parts.length;s++){var l=i.parts[s];o.translate(l.vertices,i.positionImpulse),a.update(l.bounds,l.vertices,i.velocity),l.position.x+=i.positionImpulse.x,l.position.y+=i.positionImpulse.y}i.positionPrev.x+=i.positionImpulse.x,i.positionPrev.y+=i.positionImpulse.y,r.dot(i.positionImpulse,i.velocity)<0?(i.positionImpulse.x=0,i.positionImpulse.y=0):(i.positionImpulse.x*=n._positionWarming,i.positionImpulse.y*=n._positionWarming)}}},n.preSolveVelocity=function(t){var e,i,n,o,s,a,l,c,u,h,d,p,f,y,v=r._temp[0],g=r._temp[1];for(e=0;e<t.length;e++)if((n=t[e]).isActive&&!n.isSensor)for(o=n.activeContacts,a=(s=n.collision).parentA,l=s.parentB,c=s.normal,u=s.tangent,i=0;i<o.length;i++)d=(h=o[i]).vertex,p=h.normalImpulse,f=h.tangentImpulse,0===p&&0===f||(v.x=c.x*p+u.x*f,v.y=c.y*p+u.y*f,a.isStatic||a.isSleeping||(y=r.sub(d,a.position,g),a.positionPrev.x+=v.x*a.inverseMass,a.positionPrev.y+=v.y*a.inverseMass,a.anglePrev+=r.cross(y,v)*a.inverseInertia),l.isStatic||l.isSleeping||(y=r.sub(d,l.position,g),l.positionPrev.x-=v.x*l.inverseMass,l.positionPrev.y-=v.y*l.inverseMass,l.anglePrev-=r.cross(y,v)*l.inverseInertia))},n.solveVelocity=function(t,e){for(var i=e*e,o=r._temp[0],a=r._temp[1],l=r._temp[2],c=r._temp[3],u=r._temp[4],h=r._temp[5],d=0;d<t.length;d++){var p=t[d];if(p.isActive&&!p.isSensor){var f=p.collision,y=f.parentA,v=f.parentB,g=f.normal,m=f.tangent,x=p.activeContacts,b=1/x.length;y.velocity.x=y.position.x-y.positionPrev.x,y.velocity.y=y.position.y-y.positionPrev.y,v.velocity.x=v.position.x-v.positionPrev.x,v.velocity.y=v.position.y-v.positionPrev.y,y.angularVelocity=y.angle-y.anglePrev,v.angularVelocity=v.angle-v.anglePrev;for(var S=0;S<x.length;S++){var E=x[S],C=E.vertex,A=r.sub(C,y.position,a),w=r.sub(C,v.position,l),P=r.add(y.velocity,r.mult(r.perp(A),y.angularVelocity),c),T=r.add(v.velocity,r.mult(r.perp(w),v.angularVelocity),u),_=r.sub(P,T,h),B=r.dot(g,_),D=r.dot(m,_),M=Math.abs(D),O=s.sign(D),k=(1+p.restitution)*B,I=s.clamp(p.separation+B,0,1)*n._frictionNormalMultiplier,L=D,R=1/0;M>p.friction*p.frictionStatic*I*i&&(R=M,L=s.clamp(p.friction*O*i,-R,R));var V=r.cross(A,g),N=r.cross(w,g),F=b/(y.inverseMass+v.inverseMass+y.inverseInertia*V*V+v.inverseInertia*N*N);if(k*=F,L*=F,B<0&&B*B>n._restingThresh*i)E.normalImpulse=0;else{var W=E.normalImpulse;E.normalImpulse=Math.min(E.normalImpulse+k,0),k=E.normalImpulse-W}if(D*D>n._restingThreshTangent*i)E.tangentImpulse=0;else{var G=E.tangentImpulse;E.tangentImpulse=s.clamp(E.tangentImpulse+L,-R,R),L=E.tangentImpulse-G}o.x=g.x*k+m.x*L,o.y=g.y*k+m.y*L,y.isStatic||y.isSleeping||(y.positionPrev.x+=o.x*y.inverseMass,y.positionPrev.y+=o.y*y.inverseMass,y.anglePrev+=r.cross(A,o)*y.inverseInertia),v.isStatic||v.isSleeping||(v.positionPrev.x-=o.x*v.inverseMass,v.positionPrev.y-=o.y*v.inverseMass,v.anglePrev-=r.cross(w,o)*v.inverseInertia)}}}}},70511:function(t,e,i){var n={};t.exports=n;var o=i(19710),r=i(5425);n.collides=function(t,e,i){var s,a,l,c,u=!1;if(i){var h=t.parent,d=e.parent,p=h.speed*h.speed+h.angularSpeed*h.angularSpeed+d.speed*d.speed+d.angularSpeed*d.angularSpeed;u=i&&i.collided&&p<.2&&!!i.axisBody.axes[i.axisNumber],c=i}else c={collided:!1,bodyA:t,bodyB:e};if(i&&u){var f=c.axisBody,y=f===t?e:t,v=[f.axes[i.axisNumber]];if(l=n._overlapAxes(f.vertices,y.vertices,v),c.reused=!0,l.overlap<=0)return c.collided=!1,c}else{if((s=n._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return c.collided=!1,c;if((a=n._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return c.collided=!1,c;s.overlap<a.overlap?(l=s,c.axisBody=t):(l=a,c.axisBody=e),c.axisNumber=l.axisNumber}c.bodyA=t.id<e.id?t:e,c.bodyB=t.id<e.id?e:t,c.collided=!0,c.depth=l.overlap,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent,t=c.bodyA,e=c.bodyB,r.dot(l.axis,r.sub(e.position,t.position))<0?c.normal={x:l.axis.x,y:l.axis.y}:c.normal={x:-l.axis.x,y:-l.axis.y},c.tangent=r.perp(c.normal),c.penetration=c.penetration||{},c.penetration.x=c.normal.x*c.depth,c.penetration.y=c.normal.y*c.depth;var g=n._findSupports(t,e,c.normal),m=[];if(o.contains(t.vertices,g[0])&&m.push(g[0]),o.contains(t.vertices,g[1])&&m.push(g[1]),m.length<2){var x=n._findSupports(e,t,r.neg(c.normal));o.contains(e.vertices,x[0])&&m.push(x[0]),m.length<2&&o.contains(e.vertices,x[1])&&m.push(x[1])}return m.length<1&&(m=[g[0]]),c.supports=m,c},n._overlapAxes=function(t,e,i){for(var o,s,a=r._temp[0],l=r._temp[1],c={overlap:Number.MAX_VALUE},u=0;u<i.length;u++){if(s=i[u],n._projectToAxis(a,t,s),n._projectToAxis(l,e,s),(o=Math.min(a.max-l.min,l.max-a.min))<=0)return c.overlap=o,c;o<c.overlap&&(c.overlap=o,c.axis=s,c.axisNumber=u)}return c},n._projectToAxis=function(t,e,i){for(var n=r.dot(e[0],i),o=n,s=1;s<e.length;s+=1){var a=r.dot(e[s],i);a>o?o=a:a<n&&(n=a)}t.min=n,t.max=o},n._findSupports=function(t,e,i){for(var n,o,s,a,l=Number.MAX_VALUE,c=r._temp[0],u=e.vertices,h=t.position,d=0;d<u.length;d++)o=u[d],c.x=o.x-h.x,c.y=o.y-h.y,(n=-r.dot(i,c))<l&&(l=n,s=o);return o=u[s.index-1>=0?s.index-1:u.length-1],c.x=o.x-h.x,c.y=o.y-h.y,l=-r.dot(i,c),a=o,o=u[(s.index+1)%u.length],c.x=o.x-h.x,c.y=o.y-h.y,(n=-r.dot(i,c))<l&&(a=o),[s,a]}},78762:function(t,e,i){var n={};t.exports=n;var o=i(19710),r=i(5425),s=i(11403),a=i(93987),l=i(11353),c=i(95536);n._warming=.4,n._torqueDampen=1,n._minLength=1e-6,n.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var i=e.bodyA?r.add(e.bodyA.position,e.pointA):e.pointA,n=e.bodyB?r.add(e.bodyB.position,e.pointB):e.pointB,o=r.magnitude(r.sub(i,n));e.length=void 0!==e.length?e.length:o,e.id=e.id||c.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var s={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===e.length&&e.stiffness>.1?(s.type="pin",s.anchors=!1):e.stiffness<.9&&(s.type="spring"),e.render=c.extend(s,e.render),e},n.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var i=t[e],n=i.constraintImpulse;i.isStatic||0===n.x&&0===n.y&&0===n.angle||(i.position.x+=n.x,i.position.y+=n.y,i.angle+=n.angle)}},n.solveAll=function(t,e){for(var i=0;i<t.length;i+=1){var o=t[i],r=!o.bodyA||o.bodyA&&o.bodyA.isStatic,s=!o.bodyB||o.bodyB&&o.bodyB.isStatic;(r||s)&&n.solve(t[i],e)}for(i=0;i<t.length;i+=1)r=!(o=t[i]).bodyA||o.bodyA&&o.bodyA.isStatic,s=!o.bodyB||o.bodyB&&o.bodyB.isStatic,r||s||n.solve(t[i],e)},n.solve=function(t,e){var i=t.bodyA,o=t.bodyB,s=t.pointA,a=t.pointB;if(i||o){i&&!i.isStatic&&(r.rotate(s,i.angle-t.angleA,s),t.angleA=i.angle),o&&!o.isStatic&&(r.rotate(a,o.angle-t.angleB,a),t.angleB=o.angle);var l=s,c=a;if(i&&(l=r.add(i.position,s)),o&&(c=r.add(o.position,a)),l&&c){var u=r.sub(l,c),h=r.magnitude(u);h<n._minLength&&(h=n._minLength);var d,p,f,y,v,g=(h-t.length)/h,m=t.stiffness<1?t.stiffness*e:t.stiffness,x=r.mult(u,g*m),b=(i?i.inverseMass:0)+(o?o.inverseMass:0),S=b+((i?i.inverseInertia:0)+(o?o.inverseInertia:0));if(t.damping){var E=r.create();f=r.div(u,h),v=r.sub(o&&r.sub(o.position,o.positionPrev)||E,i&&r.sub(i.position,i.positionPrev)||E),y=r.dot(f,v)}i&&!i.isStatic&&(p=i.inverseMass/b,i.constraintImpulse.x-=x.x*p,i.constraintImpulse.y-=x.y*p,i.position.x-=x.x*p,i.position.y-=x.y*p,t.damping&&(i.positionPrev.x-=t.damping*f.x*y*p,i.positionPrev.y-=t.damping*f.y*y*p),d=r.cross(s,x)/S*n._torqueDampen*i.inverseInertia*(1-t.angularStiffness),i.constraintImpulse.angle-=d,i.angle-=d),o&&!o.isStatic&&(p=o.inverseMass/b,o.constraintImpulse.x+=x.x*p,o.constraintImpulse.y+=x.y*p,o.position.x+=x.x*p,o.position.y+=x.y*p,t.damping&&(o.positionPrev.x+=t.damping*f.x*y*p,o.positionPrev.y+=t.damping*f.y*y*p),d=r.cross(a,x)/S*n._torqueDampen*o.inverseInertia*(1-t.angularStiffness),o.constraintImpulse.angle+=d,o.angle+=d)}}},n.postSolveAll=function(t){for(var e=0;e<t.length;e++){var i=t[e],c=i.constraintImpulse;if(!(i.isStatic||0===c.x&&0===c.y&&0===c.angle)){s.set(i,!1);for(var u=0;u<i.parts.length;u++){var h=i.parts[u];o.translate(h.vertices,c),u>0&&(h.position.x+=c.x,h.position.y+=c.y),0!==c.angle&&(o.rotate(h.vertices,c.angle,i.position),l.rotate(h.axes,c.angle),u>0&&r.rotateAbout(h.position,c.angle,i.position,h.position)),a.update(h.bounds,h.vertices,i.velocity)}c.angle*=n._warming,c.x*=n._warming,c.y*=n._warming}}},n.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+t.pointA.x,y:(t.bodyA?t.bodyA.position.y:0)+t.pointA.y}},n.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+t.pointB.x,y:(t.bodyB?t.bodyB.position.y:0)+t.pointB.y}}},95536:function(t,e,i){var n=i(28716),o={};t.exports=o,function(){o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o.extend=function(t,e){var i,n;"boolean"==typeof e?(i=2,n=e):(i=1,n=!0);for(var r=i;r<arguments.length;r++){var s=arguments[r];if(s)for(var a in s)n&&s[a]&&s[a].constructor===Object?t[a]&&t[a].constructor!==Object?t[a]=s[a]:(t[a]=t[a]||{},o.extend(t[a],n,s[a])):t[a]=s[a]}return t},o.clone=function(t,e){return o.extend({},e,t)},o.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)e.push(i);return e},o.values=function(t){var e=[];if(Object.keys){for(var i=Object.keys(t),n=0;n<i.length;n++)e.push(t[i[n]]);return e}for(var o in t)e.push(t[o]);return e},o.get=function(t,e,i,n){e=e.split(".").slice(i,n);for(var o=0;o<e.length;o+=1)t=t[e[o]];return t},o.set=function(t,e,i,n,r){var s=e.split(".").slice(n,r);return o.get(t,e,0,-1)[s[s.length-1]]=i,i},o.shuffle=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(o.random()*(e+1)),n=t[e];t[e]=t[i],t[i]=n}return t},o.choose=function(t){return t[Math.floor(o.random()*t.length)]},o.isElement=function(t){return"undefined"!=typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},o.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},o.isFunction=function(t){return"function"==typeof t},o.isPlainObject=function(t){return"object"===n(t)&&t.constructor===Object},o.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},o.clamp=function(t,e,i){return t<e?e:t>i?i:t},o.sign=function(t){return t<0?-1:1},o.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-o._nowStartTime},o.random=function(e,i){return i=void 0!==i?i:1,(e=void 0!==e?e:0)+t()*(i-e)};var t=function(){return o._seed=(9301*o._seed+49297)%233280,o._seed/233280};o.colorToNumber=function(t){return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.nextId=function(){return o._nextId++},o.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},o.map=function(t,e){if(t.map)return t.map(e);for(var i=[],n=0;n<t.length;n+=1)i.push(e(t[n]));return i},o.topologicalSort=function(t){var e=[],i=[],n=[];for(var r in t)i[r]||n[r]||o._topologicalSort(r,i,n,t,e);return e},o._topologicalSort=function(t,e,i,n,r){var s=n[t]||[];i[t]=!0;for(var a=0;a<s.length;a+=1){var l=s[a];i[l]||(e[l]||o._topologicalSort(l,e,i,n,r))}i[t]=!1,e[t]=!0,r.push(t)},o.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var i=arguments[e];i._chained?t.push.apply(t,i._chained):t.push(i)}var n=function(){for(var e,i=new Array(arguments.length),n=0,o=arguments.length;n<o;n++)i[n]=arguments[n];for(n=0;n<t.length;n+=1){var r=t[n].apply(e,i);void 0!==r&&(e=r)}return e};return n._chained=t,n},o.chainPathBefore=function(t,e,i){return o.set(t,e,o.chain(i,o.get(t,e)))},o.chainPathAfter=function(t,e,i){return o.set(t,e,o.chain(o.get(t,e),i))}}()},55074:function(t,e,i){var n={};t.exports=n;var o=i(70485),r=i(11403),s=i(84362),a=i(87749),l=i(7260),c=i(51947),u=i(6520),h=i(14399),d=i(78762),p=i(95536),f=i(55621);n.create=function(t,e){e=(e=p.isElement(t)?e:t)||{},((t=p.isElement(t)?t:null)||e.render)&&p.warn("Engine.create: engine.render is deprecated (see docs)");var i={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:c}},n=p.extend(i,e);return n.world=e.world||o.create(n.world),n.pairs=a.create(),n.broadphase=n.broadphase.controller.create(n.broadphase),n.metrics=n.metrics||{extended:!1},n.metrics=l.create(n.metrics),n},n.update=function(t,e,i){e=e||1e3/60,i=i||1;var o,c=t.world,p=t.timing,f=t.broadphase,y=[];p.timestamp+=e*p.timeScale;var v={timestamp:p.timestamp};u.trigger(t,"beforeUpdate",v);var g=h.allBodies(c),m=h.allConstraints(c);for(l.reset(t.metrics),t.enableSleeping&&r.update(g,p.timeScale),n._bodiesApplyGravity(g,c.gravity),n._bodiesUpdate(g,e,p.timeScale,i,c.bounds),d.preSolveAll(g),o=0;o<t.constraintIterations;o++)d.solveAll(m,p.timeScale);d.postSolveAll(g),f.controller?(c.isModified&&f.controller.clear(f),f.controller.update(f,g,t,c.isModified),y=f.pairsList):y=g,c.isModified&&h.setModified(c,!1,!1,!0);var x=f.detector(y,t),b=t.pairs,S=p.timestamp;for(a.update(b,x,S),a.removeOld(b,S),t.enableSleeping&&r.afterCollisions(b.list,p.timeScale),b.collisionStart.length>0&&u.trigger(t,"collisionStart",{pairs:b.collisionStart}),s.preSolvePosition(b.list),o=0;o<t.positionIterations;o++)s.solvePosition(b.list,g,p.timeScale);for(s.postSolvePosition(g),d.preSolveAll(g),o=0;o<t.constraintIterations;o++)d.solveAll(m,p.timeScale);for(d.postSolveAll(g),s.preSolveVelocity(b.list),o=0;o<t.velocityIterations;o++)s.solveVelocity(b.list,p.timeScale);return b.collisionActive.length>0&&u.trigger(t,"collisionActive",{pairs:b.collisionActive}),b.collisionEnd.length>0&&u.trigger(t,"collisionEnd",{pairs:b.collisionEnd}),l.update(t.metrics,t),n._bodiesClearForces(g),u.trigger(t,"afterUpdate",v),t},n.merge=function(t,e){if(p.extend(t,e),e.world){t.world=e.world,n.clear(t);for(var i=h.allBodies(t.world),o=0;o<i.length;o++){var s=i[o];r.set(s,!1),s.id=p.nextId()}}},n.clear=function(t){var e=t.world;a.clear(t.pairs);var i=t.broadphase;if(i.controller){var n=h.allBodies(e);i.controller.clear(i),i.controller.update(i,n,t,!0)}},n._bodiesClearForces=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.force.x=0,i.force.y=0,i.torque=0}},n._bodiesApplyGravity=function(t,e){var i=void 0!==e.scale?e.scale:.001;if((0!==e.x||0!==e.y)&&0!==i)for(var n=0;n<t.length;n++){var o=t[n];o.ignoreGravity||o.isStatic||o.isSleeping||(o.force.x+=o.mass*e.x*i*o.gravityScale.x,o.force.y+=o.mass*e.y*i*o.gravityScale.y)}},n._bodiesUpdate=function(t,e,i,n,o){for(var r=0;r<t.length;r++){var s=t[r];s.isStatic||s.isSleeping||f.update(s,e,i,n)}}},6520:function(t,e,i){var n={};t.exports=n;var o=i(95536);n.on=function(t,e,i){for(var n,o=e.split(" "),r=0;r<o.length;r++)n=o[r],t.events=t.events||{},t.events[n]=t.events[n]||[],t.events[n].push(i);return i},n.off=function(t,e,i){if(e){"function"==typeof e&&(i=e,e=o.keys(t.events).join(" "));for(var n=e.split(" "),r=0;r<n.length;r++){var s=t.events[n[r]],a=[];if(i&&s)for(var l=0;l<s.length;l++)s[l]!==i&&a.push(s[l]);t.events[n[r]]=a}}else t.events={}},n.trigger=function(t,e,i){var n,r,s,a,l=t.events;if(l&&o.keys(l).length>0){i||(i={}),n=e.split(" ");for(var c=0;c<n.length;c++)if(s=l[r=n[c]]){(a=o.clone(i,!1)).name=r,a.source=t;for(var u=0;u<s.length;u++)s[u].apply(t,[a])}}}},43443:function(t,e,i){var n={};t.exports=n;var o=i(16803),r=i(95536);n.name="matter-js",n.version="0.14.2",n.uses=[],n.used=[],n.use=function(){o.use(n,Array.prototype.slice.call(arguments))},n.before=function(t,e){return t=t.replace(/^Matter./,""),r.chainPathBefore(n,t,e)},n.after=function(t,e){return t=t.replace(/^Matter./,""),r.chainPathAfter(n,t,e)}},7260:function(t,e,i){var n={};t.exports=n;var o=i(14399),r=i(95536);n.create=function(t){return r.extend({extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,t)},n.reset=function(t){t.extended&&(t.narrowDetections=0,t.narrowphaseTests=0,t.narrowReuse=0,t.narrowReuseCount=0,t.midphaseTests=0,t.broadphaseTests=0,t.narrowEff=0,t.midEff=0,t.broadEff=0,t.collisions=0,t.buckets=0,t.pairs=0,t.bodies=0)},n.update=function(t,e){if(t.extended){var i=e.world,n=o.allBodies(i);t.collisions=t.narrowDetections,t.pairs=e.pairs.list.length,t.bodies=n.length,t.midEff=(t.narrowDetections/(t.midphaseTests||1)).toFixed(2),t.narrowEff=(t.narrowDetections/(t.narrowphaseTests||1)).toFixed(2),t.broadEff=(1-t.broadphaseTests/(n.length||1)).toFixed(2),t.narrowReuse=(t.narrowReuseCount/(t.narrowphaseTests||1)).toFixed(2)}}},16803:function(t,e,i){var n={};t.exports=n;var o=i(95536);n._registry={},n.register=function(t){if(n.isPlugin(t)||o.warn("Plugin.register:",n.toString(t),"does not implement all required fields."),t.name in n._registry){var e=n._registry[t.name],i=n.versionParse(t.version).number,r=n.versionParse(e.version).number;i>r?(o.warn("Plugin.register:",n.toString(e),"was upgraded to",n.toString(t)),n._registry[t.name]=t):i<r?o.warn("Plugin.register:",n.toString(e),"can not be downgraded to",n.toString(t)):t!==e&&o.warn("Plugin.register:",n.toString(t),"is already registered to different plugin object")}else n._registry[t.name]=t;return t},n.resolve=function(t){return n._registry[n.dependencyParse(t).name]},n.toString=function(t){return"string"==typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},n.isPlugin=function(t){return t&&t.name&&t.version&&t.install},n.isUsed=function(t,e){return t.used.indexOf(e)>-1},n.isFor=function(t,e){var i=t.for&&n.dependencyParse(t.for);return!t.for||e.name===i.name&&n.versionSatisfies(e.version,i.range)},n.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0!==t.uses.length){for(var i=n.dependencies(t),r=o.topologicalSort(i),s=[],a=0;a<r.length;a+=1)if(r[a]!==t.name){var l=n.resolve(r[a]);l?n.isUsed(t,l.name)||(n.isFor(l,t)||(o.warn("Plugin.use:",n.toString(l),"is for",l.for,"but installed on",n.toString(t)+"."),l._warned=!0),l.install?l.install(t):(o.warn("Plugin.use:",n.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(s.push("🔶 "+n.toString(l)),delete l._warned):s.push("✅ "+n.toString(l)),t.used.push(l.name)):s.push("❌ "+r[a])}s.length>0&&!l.silent&&o.info(s.join("  "))}else o.warn("Plugin.use:",n.toString(t),"does not specify any dependencies to install.")},n.dependencies=function(t,e){var i=n.dependencyParse(t),r=i.name;if(!(r in(e=e||{}))){t=n.resolve(t)||t,e[r]=o.map(t.uses||[],(function(e){n.isPlugin(e)&&n.register(e);var r=n.dependencyParse(e),s=n.resolve(e);return s&&!n.versionSatisfies(s.version,r.range)?(o.warn("Plugin.dependencies:",n.toString(s),"does not satisfy",n.toString(r),"used by",n.toString(i)+"."),s._warned=!0,t._warned=!0):s||(o.warn("Plugin.dependencies:",n.toString(e),"used by",n.toString(i),"could not be resolved."),t._warned=!0),r.name}));for(var s=0;s<e[r].length;s+=1)n.dependencies(e[r][s],e);return e}},n.dependencyParse=function(t){return o.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(t)||o.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},n.versionParse=function(t){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(t)||o.warn("Plugin.versionParse:",t,"is not a valid version or range.");var e=t.split("-");t=e[0];var i=isNaN(Number(t[0])),n=i?t.substr(1):t,r=o.map(n.split("."),(function(t){return Number(t)}));return{isRange:i,version:n,range:t,operator:i?t[0]:"",parts:r,prerelease:e[1],number:1e8*r[0]+1e4*r[1]+r[2]}},n.versionSatisfies=function(t,e){e=e||"*";var i=n.versionParse(e),o=i.parts,r=n.versionParse(t),s=r.parts;if(i.isRange){if("*"===i.operator||"*"===t)return!0;if("~"===i.operator)return s[0]===o[0]&&s[1]===o[1]&&s[2]>=o[2];if("^"===i.operator)return o[0]>0?s[0]===o[0]&&r.number>=i.number:o[1]>0?s[1]===o[1]&&s[2]>=o[2]:s[2]===o[2]}return t===e||"*"===t}},11403:function(t,e,i){var n={};t.exports=n;var o=i(6520);n._motionWakeThreshold=.18,n._motionSleepThreshold=.08,n._minBias=.9,n.update=function(t,e){for(var i=e*e*e,o=0;o<t.length;o++){var r=t[o],s=r.speed*r.speed+r.angularSpeed*r.angularSpeed;if(0===r.force.x&&0===r.force.y){var a=Math.min(r.motion,s),l=Math.max(r.motion,s);r.motion=n._minBias*a+(1-n._minBias)*l,r.sleepThreshold>0&&r.motion<n._motionSleepThreshold*i?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold&&n.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}else n.set(r,!1)}},n.afterCollisions=function(t,e){for(var i=e*e*e,o=0;o<t.length;o++){var r=t[o];if(r.isActive){var s=r.collision,a=s.bodyA.parent,l=s.bodyB.parent;if(!(a.isSleeping&&l.isSleeping||a.isStatic||l.isStatic)&&(a.isSleeping||l.isSleeping)){var c=a.isSleeping&&!a.isStatic?a:l,u=c===a?l:a;!c.isStatic&&u.motion>n._motionWakeThreshold*i&&n.set(c,!1)}}}},n.set=function(t,e){var i=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,i||o.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,i&&o.trigger(t,"sleepEnd"))}},88534:function(t,e,i){var n={};t.exports=n;var o=i(19710),r=i(95536),s=i(55621),a=i(93987),l=i(5425),c=i(62819);n.rectangle=function(t,e,i,n,a){a=a||{};var l={label:"Rectangle Body",position:{x:t,y:e},vertices:o.fromPath("L 0 0 L "+i+" 0 L "+i+" "+n+" L 0 "+n)};if(a.chamfer){var c=a.chamfer;l.vertices=o.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete a.chamfer}return s.create(r.extend({},l,a))},n.trapezoid=function(t,e,i,n,a,l){l=l||{};var c,u=i*(a*=.5),h=u+(1-2*a)*i,d=h+u;c=a<.5?"L 0 0 L "+u+" "+-n+" L "+h+" "+-n+" L "+d+" 0":"L 0 0 L "+h+" "+-n+" L "+d+" 0";var p={label:"Trapezoid Body",position:{x:t,y:e},vertices:o.fromPath(c)};if(l.chamfer){var f=l.chamfer;p.vertices=o.chamfer(p.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete l.chamfer}return s.create(r.extend({},p,l))},n.circle=function(t,e,i,o,s){o=o||{};var a={label:"Circle Body",circleRadius:i};s=s||25;var l=Math.ceil(Math.max(10,Math.min(s,i)));return l%2==1&&(l+=1),n.polygon(t,e,l,i,r.extend({},a,o))},n.polygon=function(t,e,i,a,l){if(l=l||{},i<3)return n.circle(t,e,a,l);for(var c=2*Math.PI/i,u="",h=.5*c,d=0;d<i;d+=1){var p=h+d*c,f=Math.cos(p)*a,y=Math.sin(p)*a;u+="L "+f.toFixed(3)+" "+y.toFixed(3)+" "}var v={label:"Polygon Body",position:{x:t,y:e},vertices:o.fromPath(u)};if(l.chamfer){var g=l.chamfer;v.vertices=o.chamfer(v.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete l.chamfer}return s.create(r.extend({},v,l))},n.fromVertices=function(t,e,i,a,l,u,h){var d,p,f,y,v,g;for(a=a||{},p=[],l=void 0!==l&&l,u=void 0!==u?u:.01,h=void 0!==h?h:10,c||r.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),r.isArray(i[0])||(i=[i]),g=0;g<i.length;g+=1)if(y=i[g],(f=o.isConvex(y))||!c)y=f?o.clockwiseSort(y):o.hull(y),p.push({position:{x:t,y:e},vertices:y});else{var m=y.map((function(t){return[t.x,t.y]}));c.makeCCW(m),!1!==u&&c.removeCollinearPoints(m,u);var x=c.quickDecomp(m);for(v=0;v<x.length;v++){var b=x[v].map((function(t){return{x:t[0],y:t[1]}}));h>0&&o.area(b)<h||p.push({position:o.centre(b),vertices:b})}}for(v=0;v<p.length;v++)p[v]=s.create(r.extend(p[v],a));return l&&n.flagCoincidentParts(p,5),p.length>1?(d=s.create(r.extend({parts:p.slice(0)},a)),s.setPosition(d,{x:t,y:e}),d):p[0]},n.flagCoincidentParts=function(t,e){void 0===e&&(e=5);for(var i=0;i<t.length;i++)for(var n=t[i],o=i+1;o<t.length;o++){var r=t[o];if(a.overlaps(n.bounds,r.bounds))for(var s=n.vertices,c=r.vertices,u=0;u<n.vertices.length;u++)for(var h=0;h<r.vertices.length;h++){var d=l.magnitudeSquared(l.sub(s[(u+1)%s.length],c[h])),p=l.magnitudeSquared(l.sub(s[u],c[(h+1)%c.length]));d<e&&p<e&&(s[u].isInternal=!0,c[h].isInternal=!0)}}return t}},27418:function(t,e,i){var n={};t.exports=n;var o=i(14399),r=i(78762),s=i(95536),a=i(55621),l=i(88534);n.stack=function(t,e,i,n,r,s,l){for(var c,u=o.create({label:"Stack"}),h=t,d=e,p=0,f=0;f<n;f++){for(var y=0,v=0;v<i;v++){var g=l(h,d,v,f,c,p);if(g){var m=g.bounds.max.y-g.bounds.min.y,x=g.bounds.max.x-g.bounds.min.x;m>y&&(y=m),a.translate(g,{x:.5*x,y:.5*m}),h=g.bounds.max.x+r,o.addBody(u,g),c=g,p+=1}else h+=r}d+=y+s,h=t}return u},n.chain=function(t,e,i,n,a,l){for(var c=t.bodies,u=1;u<c.length;u++){var h=c[u-1],d=c[u],p=h.bounds.max.y-h.bounds.min.y,f=h.bounds.max.x-h.bounds.min.x,y=d.bounds.max.y-d.bounds.min.y,v={bodyA:h,pointA:{x:f*e,y:p*i},bodyB:d,pointB:{x:(d.bounds.max.x-d.bounds.min.x)*n,y:y*a}},g=s.extend(v,l);o.addConstraint(t,r.create(g))}return t.label+=" Chain",t},n.mesh=function(t,e,i,n,a){var l,c,u,h,d,p=t.bodies;for(l=0;l<i;l++){for(c=1;c<e;c++)u=p[c-1+l*e],h=p[c+l*e],o.addConstraint(t,r.create(s.extend({bodyA:u,bodyB:h},a)));if(l>0)for(c=0;c<e;c++)u=p[c+(l-1)*e],h=p[c+l*e],o.addConstraint(t,r.create(s.extend({bodyA:u,bodyB:h},a))),n&&c>0&&(d=p[c-1+(l-1)*e],o.addConstraint(t,r.create(s.extend({bodyA:d,bodyB:h},a)))),n&&c<e-1&&(d=p[c+1+(l-1)*e],o.addConstraint(t,r.create(s.extend({bodyA:d,bodyB:h},a))))}return t.label+=" Mesh",t},n.pyramid=function(t,e,i,o,r,s,l){return n.stack(t,e,i,o,r,s,(function(e,n,s,c,u,h){var d=Math.min(o,Math.ceil(i/2)),p=u?u.bounds.max.x-u.bounds.min.x:0;if(!(c>d||s<(c=d-c)||s>i-1-c))return 1===h&&a.translate(u,{x:(s+(i%2==1?1:-1))*p,y:0}),l(t+(u?s*p:0)+s*r,n,s,c,u,h)}))},n.newtonsCradle=function(t,e,i,n,s){for(var a=o.create({label:"Newtons Cradle"}),c=0;c<i;c++){var u=l.circle(t+c*(1.9*n),e+s,n,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),h=r.create({pointA:{x:t+c*(1.9*n),y:e},bodyB:u});o.addBody(a,u),o.addConstraint(a,h)}return a},n.car=function(t,e,i,n,s){var c=a.nextGroup(!0),u=.5*-i+20,h=.5*i-20,d=o.create({label:"Car"}),p=l.rectangle(t,e,i,n,{collisionFilter:{group:c},chamfer:{radius:.5*n},density:2e-4}),f=l.circle(t+u,e+0,s,{collisionFilter:{group:c},friction:.8}),y=l.circle(t+h,e+0,s,{collisionFilter:{group:c},friction:.8}),v=r.create({bodyB:p,pointB:{x:u,y:0},bodyA:f,stiffness:1,length:0}),g=r.create({bodyB:p,pointB:{x:h,y:0},bodyA:y,stiffness:1,length:0});return o.addBody(d,p),o.addBody(d,f),o.addBody(d,y),o.addConstraint(d,v),o.addConstraint(d,g),d},n.softBody=function(t,e,i,o,r,a,c,u,h,d){h=s.extend({inertia:1/0},h),d=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var p=n.stack(t,e,i,o,r,a,(function(t,e){return l.circle(t,e,u,h)}));return n.mesh(p,i,o,c,d),p.label="Soft Body",p}},11353:function(t,e,i){var n={};t.exports=n;var o=i(5425),r=i(95536);n.fromVertices=function(t){for(var e={},i=0;i<t.length;i++){var n=(i+1)%t.length,s=o.normalise({x:t[n].y-t[i].y,y:t[i].x-t[n].x}),a=0===s.y?1/0:s.x/s.y;e[a=a.toFixed(3).toString()]=s}return r.values(e)},n.rotate=function(t,e){if(0!==e)for(var i=Math.cos(e),n=Math.sin(e),o=0;o<t.length;o++){var r,s=t[o];r=s.x*i-s.y*n,s.y=s.x*n+s.y*i,s.x=r}}},93987:function(t){var e={};t.exports=e,e.create=function(t){var i={min:{x:0,y:0},max:{x:0,y:0}};return t&&e.update(i,t),i},e.update=function(t,e,i){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var n=0;n<e.length;n++){var o=e[n];o.x>t.max.x&&(t.max.x=o.x),o.x<t.min.x&&(t.min.x=o.x),o.y>t.max.y&&(t.max.y=o.y),o.y<t.min.y&&(t.min.y=o.y)}i&&(i.x>0?t.max.x+=i.x:t.min.x+=i.x,i.y>0?t.max.y+=i.y:t.min.y+=i.y)},e.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},e.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},e.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},e.shift=function(t,e){var i=t.max.x-t.min.x,n=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+i,t.min.y=e.y,t.max.y=e.y+n}},67973:function(t,e,i){var n={};t.exports=n;i(93987);var o=i(95536);n.pathToVertices=function(t,e){"undefined"==typeof window||"SVGPathSeg"in window||o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,r,s,a,l,c,u,h,d,p,f,y=[],v=0,g=0,m=0;e=e||15;var x=function(t,e,i){var n=i%2==1&&i>1;if(!d||t!=d.x||e!=d.y){d&&n?(p=d.x,f=d.y):(p=0,f=0);var o={x:p+t,y:f+e};!n&&d||(d=o),y.push(o),g=p+t,m=f+e}},b=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":g=t.x,m=t.y;break;case"H":g=t.x;break;case"V":m=t.y}x(g,m,t.pathSegType)}};for(n._svgPathToAbsolute(t),s=t.getTotalLength(),c=[],i=0;i<t.pathSegList.numberOfItems;i+=1)c.push(t.pathSegList.getItem(i));for(u=c.concat();v<s;){if((l=c[t.getPathSegAtLength(v)])!=h){for(;u.length&&u[0]!=l;)b(u.shift());h=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=t.getPointAtLength(v),x(a.x,a.y,0)}v+=e}for(i=0,r=u.length;i<r;++i)b(u[i]);return y},n._svgPathToAbsolute=function(t){for(var e,i,n,o,r,s,a=t.pathSegList,l=0,c=0,u=a.numberOfItems,h=0;h<u;++h){var d=a.getItem(h),p=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in d&&(l=d.x),"y"in d&&(c=d.y);else switch("x1"in d&&(n=l+d.x1),"x2"in d&&(r=l+d.x2),"y1"in d&&(o=c+d.y1),"y2"in d&&(s=c+d.y2),"x"in d&&(l+=d.x),"y"in d&&(c+=d.y),p){case"m":a.replaceItem(t.createSVGPathSegMovetoAbs(l,c),h);break;case"l":a.replaceItem(t.createSVGPathSegLinetoAbs(l,c),h);break;case"h":a.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(l),h);break;case"v":a.replaceItem(t.createSVGPathSegLinetoVerticalAbs(c),h);break;case"c":a.replaceItem(t.createSVGPathSegCurvetoCubicAbs(l,c,n,o,r,s),h);break;case"s":a.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(l,c,r,s),h);break;case"q":a.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(l,c,n,o),h);break;case"t":a.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),h);break;case"a":a.replaceItem(t.createSVGPathSegArcAbs(l,c,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),h);break;case"z":case"Z":l=e,c=i}"M"!=p&&"m"!=p||(e=l,i=c)}}},5425:function(t){var e={};t.exports=e,e.create=function(t,e){return{x:t||0,y:e||0}},e.clone=function(t){return{x:t.x,y:t.y}},e.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},e.rotate=function(t,e,i){var n=Math.cos(e),o=Math.sin(e);i||(i={});var r=t.x*n-t.y*o;return i.y=t.x*o+t.y*n,i.x=r,i},e.rotateAbout=function(t,e,i,n){var o=Math.cos(e),r=Math.sin(e);n||(n={});var s=i.x+((t.x-i.x)*o-(t.y-i.y)*r);return n.y=i.y+((t.x-i.x)*r+(t.y-i.y)*o),n.x=s,n},e.normalise=function(t){var i=e.magnitude(t);return 0===i?{x:0,y:0}:{x:t.x/i,y:t.y/i}},e.dot=function(t,e){return t.x*e.x+t.y*e.y},e.cross=function(t,e){return t.x*e.y-t.y*e.x},e.cross3=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},e.add=function(t,e,i){return i||(i={}),i.x=t.x+e.x,i.y=t.y+e.y,i},e.sub=function(t,e,i){return i||(i={}),i.x=t.x-e.x,i.y=t.y-e.y,i},e.mult=function(t,e){return{x:t.x*e,y:t.y*e}},e.div=function(t,e){return{x:t.x/e,y:t.y/e}},e.perp=function(t,e){return{x:(e=!0===e?-1:1)*-t.y,y:e*t.x}},e.neg=function(t){return{x:-t.x,y:-t.y}},e.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},e._temp=[e.create(),e.create(),e.create(),e.create(),e.create(),e.create()]},19710:function(t,e,i){var n={};t.exports=n;var o=i(5425),r=i(95536);n.create=function(t,e){for(var i=[],n=0;n<t.length;n++){var o=t[n],r={x:o.x,y:o.y,index:n,body:e,isInternal:!1,contact:null,offset:null};r.contact={vertex:r,normalImpulse:0,tangentImpulse:0},i.push(r)}return i},n.fromPath=function(t,e){var i=[];return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(t,e,n){i.push({x:parseFloat(e),y:parseFloat(n)})})),n.create(i,e)},n.centre=function(t){for(var e,i,r,s=n.area(t,!0),a={x:0,y:0},l=0;l<t.length;l++)r=(l+1)%t.length,e=o.cross(t[l],t[r]),i=o.mult(o.add(t[l],t[r]),e),a=o.add(a,i);return o.div(a,6*s)},n.mean=function(t){for(var e={x:0,y:0},i=0;i<t.length;i++)e.x+=t[i].x,e.y+=t[i].y;return o.div(e,t.length)},n.area=function(t,e){for(var i=0,n=t.length-1,o=0;o<t.length;o++)i+=(t[n].x-t[o].x)*(t[n].y+t[o].y),n=o;return e?i/2:Math.abs(i)/2},n.inertia=function(t,e){for(var i,n,r=0,s=0,a=t,l=0;l<a.length;l++)n=(l+1)%a.length,r+=(i=Math.abs(o.cross(a[n],a[l])))*(o.dot(a[n],a[n])+o.dot(a[n],a[l])+o.dot(a[l],a[l])),s+=i;return e/6*(r/s)},n.translate=function(t,e,i){var n;if(i)for(n=0;n<t.length;n++)t[n].x+=e.x*i,t[n].y+=e.y*i;else for(n=0;n<t.length;n++)t[n].x+=e.x,t[n].y+=e.y;return t},n.rotate=function(t,e,i){if(0!==e){for(var n=Math.cos(e),o=Math.sin(e),r=0;r<t.length;r++){var s=t[r],a=s.x-i.x,l=s.y-i.y;s.x=i.x+(a*n-l*o),s.y=i.y+(a*o+l*n)}return t}},n.contains=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=t[(i+1)%t.length];if((e.x-n.x)*(o.y-n.y)+(e.y-n.y)*(n.x-o.x)>0)return!1}return!0},n.scale=function(t,e,i,r){if(1===e&&1===i)return t;var s,a;r=r||n.centre(t);for(var l=0;l<t.length;l++)s=t[l],a=o.sub(s,r),t[l].x=r.x+a.x*e,t[l].y=r.y+a.y*i;return t},n.chamfer=function(t,e,i,n,s){e="number"==typeof e?[e]:e||[8],i=void 0!==i?i:-1,n=n||2,s=s||14;for(var a=[],l=0;l<t.length;l++){var c=t[l-1>=0?l-1:t.length-1],u=t[l],h=t[(l+1)%t.length],d=e[l<e.length?l:e.length-1];if(0!==d){var p=o.normalise({x:u.y-c.y,y:c.x-u.x}),f=o.normalise({x:h.y-u.y,y:u.x-h.x}),y=Math.sqrt(2*Math.pow(d,2)),v=o.mult(r.clone(p),d),g=o.normalise(o.mult(o.add(p,f),.5)),m=o.sub(u,o.mult(g,y)),x=i;-1===i&&(x=1.75*Math.pow(d,.32)),(x=r.clamp(x,n,s))%2==1&&(x+=1);for(var b=Math.acos(o.dot(p,f))/x,S=0;S<x;S++)a.push(o.add(o.rotate(v,b*S),m))}else a.push(u)}return a},n.clockwiseSort=function(t){var e=n.mean(t);return t.sort((function(t,i){return o.angle(e,t)-o.angle(e,i)})),t},n.isConvex=function(t){var e,i,n,o,r=0,s=t.length;if(s<3)return null;for(e=0;e<s;e++)if(n=(e+2)%s,o=(t[i=(e+1)%s].x-t[e].x)*(t[n].y-t[i].y),(o-=(t[i].y-t[e].y)*(t[n].x-t[i].x))<0?r|=1:o>0&&(r|=2),3===r)return!1;return 0!==r||null},n.hull=function(t){var e,i,n=[],r=[];for((t=t.slice(0)).sort((function(t,e){var i=t.x-e.x;return 0!==i?i:t.y-e.y})),i=0;i<t.length;i+=1){for(e=t[i];r.length>=2&&o.cross3(r[r.length-2],r[r.length-1],e)<=0;)r.pop();r.push(e)}for(i=t.length-1;i>=0;i-=1){for(e=t[i];n.length>=2&&o.cross3(n[n.length-2],n[n.length-1],e)<=0;)n.pop();n.push(e)}return n.pop(),r.pop(),n.concat(r)}},85976:function(t,e,i){var n=i(10750),o={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Body.create",(function(){o.Body.init(this)})),t.before("Engine.update",(function(t){o.Engine.update(t)}))},Body:{init:function(t){t.plugin.attractors=t.plugin.attractors||[]}},Engine:{update:function(t){for(var e=t.world,i=n.Composite.allBodies(e),o=0;o<i.length;o+=1){var r=i[o],s=r.plugin.attractors;if(s&&s.length>0)for(var a=o+1;a<i.length;a+=1)for(var l=i[a],c=0;c<s.length;c+=1){var u=s[c],h=u;n.Common.isFunction(u)&&(h=u(r,l)),h&&n.Body.applyForce(l,l.position,h)}}}},Attractors:{gravityConstant:.001,gravity:function(t,e){var i=n.Vector.sub(e.position,t.position),r=n.Vector.magnitudeSquared(i)||1e-4,s=n.Vector.normalise(i),a=-o.Attractors.gravityConstant*(t.mass*e.mass/r),l=n.Vector.mult(s,a);n.Body.applyForce(t,t.position,n.Vector.neg(l)),n.Body.applyForce(e,e.position,l)}}};t.exports=o},62013:function(t){t.exports={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Engine.create",(function(){t.Events.on(this,"collisionStart",(function(e){e.pairs.map((function(e){var i=e.bodyA,n=e.bodyB;i.gameObject&&i.gameObject.emit("collide",i,n,e),n.gameObject&&n.gameObject.emit("collide",n,i,e),t.Events.trigger(i,"onCollide",{pair:e}),t.Events.trigger(n,"onCollide",{pair:e}),i.onCollideCallback&&i.onCollideCallback(e),n.onCollideCallback&&n.onCollideCallback(e),i.onCollideWith[n.id]&&i.onCollideWith[n.id](n,e),n.onCollideWith[i.id]&&n.onCollideWith[i.id](i,e)}))})),t.Events.on(this,"collisionActive",(function(e){e.pairs.map((function(e){var i=e.bodyA,n=e.bodyB;i.gameObject&&i.gameObject.emit("collideActive",i,n,e),n.gameObject&&n.gameObject.emit("collideActive",n,i,e),t.Events.trigger(i,"onCollideActive",{pair:e}),t.Events.trigger(n,"onCollideActive",{pair:e}),i.onCollideActiveCallback&&i.onCollideActiveCallback(e),n.onCollideActiveCallback&&n.onCollideActiveCallback(e)}))})),t.Events.on(this,"collisionEnd",(function(e){e.pairs.map((function(e){var i=e.bodyA,n=e.bodyB;i.gameObject&&i.gameObject.emit("collideEnd",i,n,e),n.gameObject&&n.gameObject.emit("collideEnd",n,i,e),t.Events.trigger(i,"onCollideEnd",{pair:e}),t.Events.trigger(n,"onCollideEnd",{pair:e}),i.onCollideEndCallback&&i.onCollideEndCallback(e),n.onCollideEndCallback&&n.onCollideEndCallback(e)}))}))}))}}},63197:function(t,e,i){var n=i(10750),o={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Engine.update",(function(){o.Engine.update(this)}))},Engine:{update:function(t){for(var e=t.world,i=n.Composite.allBodies(e),r=n.Composite.allComposites(e),s=0;s<i.length;s+=1){var a=i[s];a.plugin.wrap&&o.Body.wrap(a,a.plugin.wrap)}for(s=0;s<r.length;s+=1){var l=r[s];l.plugin.wrap&&o.Composite.wrap(l,l.plugin.wrap)}}},Bounds:{wrap:function(t,e){var i=null,n=null;if(void 0!==e.min.x&&void 0!==e.max.x&&(t.min.x>e.max.x?i=e.min.x-t.max.x:t.max.x<e.min.x&&(i=e.max.x-t.min.x)),void 0!==e.min.y&&void 0!==e.max.y&&(t.min.y>e.max.y?n=e.min.y-t.max.y:t.max.y<e.min.y&&(n=e.max.y-t.min.y)),null!==i||null!==n)return{x:i||0,y:n||0}}},Body:{wrap:function(t,e){var i=o.Bounds.wrap(t.bounds,e);return i&&n.Body.translate(t,i),i}},Composite:{bounds:function(t){for(var e=n.Composite.allBodies(t),i=[],o=0;o<e.length;o+=1){var r=e[o];i.push(r.bounds.min,r.bounds.max)}return n.Bounds.create(i)},wrap:function(t,e){var i=o.Bounds.wrap(o.Composite.bounds(t),e);return i&&n.Composite.translate(t,i),i}}};t.exports=o},62819:function(t){function e(t,e,i){i=i||0;var n,o,r,s,a,l,c,u=[0,0];return n=t[1][1]-t[0][1],o=t[0][0]-t[1][0],r=n*t[0][0]+o*t[0][1],s=e[1][1]-e[0][1],a=e[0][0]-e[1][0],l=s*e[0][0]+a*e[0][1],C(c=n*a-s*o,0,i)||(u[0]=(a*r-o*l)/c,u[1]=(n*l-s*r)/c),u}function i(t,e,i,n){var o=e[0]-t[0],r=e[1]-t[1],s=n[0]-i[0],a=n[1]-i[1];if(s*r-a*o==0)return!1;var l=(o*(i[1]-t[1])+r*(t[0]-i[0]))/(s*r-a*o),c=(s*(t[1]-i[1])+a*(i[0]-t[0]))/(a*o-s*r);return l>=0&&l<=1&&c>=0&&c<=1}function n(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])}function o(t,e,i){return n(t,e,i)>0}function r(t,e,i){return n(t,e,i)>=0}function s(t,e,i){return n(t,e,i)<0}function a(t,e,i){return n(t,e,i)<=0}t.exports={decomp:function(t){var e=b(t);return e.length>0?S(t,e):[t]},quickDecomp:function t(e,i,n,l,c,u,y){u=u||100,y=y||0,c=c||25,i=void 0!==i?i:[],n=n||[],l=l||[];var v=[0,0],g=[0,0],x=[0,0],b=0,S=0,C=0,A=0,w=0,P=0,T=0,_=[],B=[],D=e,M=e;if(M.length<3)return i;if(++y>u)return console.warn("quickDecomp: max level ("+u+") reached."),i;for(var O=0;O<e.length;++O)if(f(D,O)){n.push(D[O]),b=S=Number.MAX_VALUE;for(var k=0;k<e.length;++k)o(d(D,O-1),d(D,O),d(D,k))&&a(d(D,O-1),d(D,O),d(D,k-1))&&(x=E(d(D,O-1),d(D,O),d(D,k),d(D,k-1)),s(d(D,O+1),d(D,O),x)&&(C=h(D[O],x))<S&&(S=C,g=x,P=k)),o(d(D,O+1),d(D,O),d(D,k+1))&&a(d(D,O+1),d(D,O),d(D,k))&&(x=E(d(D,O+1),d(D,O),d(D,k),d(D,k+1)),o(d(D,O-1),d(D,O),x)&&(C=h(D[O],x))<b&&(b=C,v=x,w=k));if(P===(w+1)%e.length)x[0]=(g[0]+v[0])/2,x[1]=(g[1]+v[1])/2,l.push(x),O<w?(p(_,D,O,w+1),_.push(x),B.push(x),0!==P&&p(B,D,P,D.length),p(B,D,0,O+1)):(0!==O&&p(_,D,O,D.length),p(_,D,0,w+1),_.push(x),B.push(x),p(B,D,P,O+1));else{if(P>w&&(w+=e.length),A=Number.MAX_VALUE,w<P)return i;for(k=P;k<=w;++k)r(d(D,O-1),d(D,O),d(D,k))&&a(d(D,O+1),d(D,O),d(D,k))&&(C=h(d(D,O),d(D,k)))<A&&m(D,O,k)&&(A=C,T=k%e.length);O<T?(p(_,D,O,T+1),0!==T&&p(B,D,T,M.length),p(B,D,0,O+1)):(0!==O&&p(_,D,O,M.length),p(_,D,0,T+1),p(B,D,T,O+1))}return _.length<B.length?(t(_,i,n,l,c,u,y),t(B,i,n,l,c,u,y)):(t(B,i,n,l,c,u,y),t(_,i,n,l,c,u,y)),i}return i.push(e),i},isSimple:function(t){var e,n=t;for(e=0;e<n.length-1;e++)for(var o=0;o<e-1;o++)if(i(n[e],n[e+1],n[o],n[o+1]))return!1;for(e=1;e<n.length-2;e++)if(i(n[0],n[n.length-1],n[e],n[e+1]))return!1;return!0},removeCollinearPoints:function(t,e){for(var i=0,n=t.length-1;t.length>3&&n>=0;--n)u(d(t,n-1),d(t,n),d(t,n+1),e)&&(t.splice(n%t.length,1),i++);return i},removeDuplicatePoints:function(t,e){for(var i=t.length-1;i>=1;--i)for(var n=t[i],o=i-1;o>=0;--o)A(n,t[o],e)&&t.splice(i,1)},makeCCW:function(t){for(var e=0,i=t,n=1;n<t.length;++n)(i[n][1]<i[e][1]||i[n][1]===i[e][1]&&i[n][0]>i[e][0])&&(e=n);return!o(d(t,e-1),d(t,e),d(t,e+1))&&(function(t){for(var e=[],i=t.length,n=0;n!==i;n++)e.push(t.pop());for(n=0;n!==i;n++)t[n]=e[n]}(t),!0)}};var l=[],c=[];function u(t,e,i,o){if(o){var r=l,s=c;r[0]=e[0]-t[0],r[1]=e[1]-t[1],s[0]=i[0]-e[0],s[1]=i[1]-e[1];var a=r[0]*s[0]+r[1]*s[1],u=Math.sqrt(r[0]*r[0]+r[1]*r[1]),h=Math.sqrt(s[0]*s[0]+s[1]*s[1]);return Math.acos(a/(u*h))<o}return 0===n(t,e,i)}function h(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function d(t,e){var i=t.length;return t[e<0?e%i+i:e%i]}function p(t,e,i,n){for(var o=i;o<n;o++)t.push(e[o])}function f(t,e){return s(d(t,e-1),d(t,e),d(t,e+1))}var y=[],v=[];function g(t,i,n){var o,s,l=y,c=v;if(r(d(t,i+1),d(t,i),d(t,n))&&a(d(t,i-1),d(t,i),d(t,n)))return!1;s=h(d(t,i),d(t,n));for(var u=0;u!==t.length;++u)if((u+1)%t.length!==i&&u!==i&&r(d(t,i),d(t,n),d(t,u+1))&&a(d(t,i),d(t,n),d(t,u))&&(l[0]=d(t,i),l[1]=d(t,n),c[0]=d(t,u),c[1]=d(t,u+1),o=e(l,c),h(d(t,i),o)<s))return!1;return!0}function m(t,e,n){for(var o=0;o!==t.length;++o)if(o!==e&&o!==n&&(o+1)%t.length!==e&&(o+1)%t.length!==n&&i(d(t,e),d(t,n),d(t,o),d(t,o+1)))return!1;return!0}function x(t,e,i,n){var o=n||[];if(function(t){t.length=0}(o),e<i)for(var r=e;r<=i;r++)o.push(t[r]);else{for(r=0;r<=i;r++)o.push(t[r]);for(r=e;r<t.length;r++)o.push(t[r])}return o}function b(t){for(var e=[],i=[],n=[],o=[],r=Number.MAX_VALUE,s=0;s<t.length;++s)if(f(t,s))for(var a=0;a<t.length;++a)if(g(t,s,a)){i=b(x(t,s,a,o)),n=b(x(t,a,s,o));for(var l=0;l<n.length;l++)i.push(n[l]);i.length<r&&(e=i,r=i.length,e.push([d(t,s),d(t,a)]))}return e}function S(t,e){if(0===e.length)return[t];if(e instanceof Array&&e.length&&e[0]instanceof Array&&2===e[0].length&&e[0][0]instanceof Array){for(var i=[t],n=0;n<e.length;n++)for(var o=e[n],r=0;r<i.length;r++){var s=S(i[r],o);if(s){i.splice(r,1),i.push(s[0],s[1]);break}}return i}o=e,n=t.indexOf(o[0]),r=t.indexOf(o[1]);return-1!==n&&-1!==r&&[x(t,n,r),x(t,r,n)]}function E(t,e,i,n,o){o=o||0;var r=e[1]-t[1],s=t[0]-e[0],a=r*t[0]+s*t[1],l=n[1]-i[1],c=i[0]-n[0],u=l*i[0]+c*i[1],h=r*c-l*s;return C(h,0,o)?[0,0]:[(c*a-s*u)/h,(r*u-l*a)/h]}function C(t,e,i){return i=i||0,Math.abs(t-e)<=i}function A(t,e,i){return C(t[0],e[0],i)&&C(t[1],e[1],i)}},28436:function(t,e,i){var n=i(28716),o=i(47659),r=i(88903),s=i(83711),a=i(44784),l=i(22102),c=new o({Extends:r,initialize:function(t){r.call(this),this.manager=t,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=l.PENDING_ADD,this._pausedState=l.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(t,e){this.emit(t,this),e&&e.func.apply(e.scope,e.params)},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===l.ACTIVE},add:function(t){return this.queue(a(this,t))},queue:function(t){return this.isPlaying()||(t.parent=this,t.parentIsTimeline=!0,this.data.push(t),this.totalData=this.data.length),this},hasOffset:function(t){return null!==t.offset},isOffsetAbsolute:function(t){return"number"==typeof t},isOffsetRelative:function(t){if("string"===n(t)){var e=t[0];if("-"===e||"+"===e)return!0}return!1},getRelativeOffset:function(t,e){var i=t[0],n=parseFloat(t.substr(2)),o=e;switch(i){case"+":o+=n;break;case"-":o-=n}return Math.max(0,o)},calcDuration:function(){for(var t=0,e=0,i=0,n=0;n<this.totalData;n++){var o=this.data[n];o.init(),this.hasOffset(o)?this.isOffsetAbsolute(o.offset)?(o.calculatedOffset=o.offset,0===o.offset&&(i=0)):this.isOffsetRelative(o.offset)&&(o.calculatedOffset=this.getRelativeOffset(o.offset,t)):o.calculatedOffset=i,t=o.totalDuration+o.calculatedOffset,e+=o.totalDuration,i+=o.totalDuration}this.duration=e,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,!this.paused||(this.state=l.PAUSED,!1)},resetTweens:function(t){for(var e=0;e<this.totalData;e++){this.data[e].play(t)}},setCallback:function(t,e,i,n){return-1!==c.TYPES.indexOf(t)&&(this.callbacks[t]={func:e,scope:n,params:i}),this},makeActive:function(t){return this.manager.makeActive(t)},play:function(){if(this.state!==l.ACTIVE){if(this.paused)return this.paused=!1,void this.manager.makeActive(this);this.resetTweens(!1),this.state=l.ACTIVE,this.dispatchTimelineEvent(s.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=l.LOOP_DELAY):(this.state=l.ACTIVE,this.dispatchTimelineEvent(s.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=l.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=l.PENDING_REMOVE,this.dispatchTimelineEvent(s.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(t,e){if(this.state!==l.PAUSED){switch(this.useFrames&&(e=1*this.manager.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case l.ACTIVE:for(var i=this.totalData,n=0;n<this.totalData;n++){this.data[n].update(t,e)&&i--}this.dispatchTimelineEvent(s.TIMELINE_UPDATE,this.callbacks.onUpdate),0===i&&this.nextState();break;case l.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=l.ACTIVE,this.dispatchTimelineEvent(s.TIMELINE_LOOP,this.callbacks.onLoop));break;case l.COMPLETE_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=l.PENDING_REMOVE,this.dispatchTimelineEvent(s.TIMELINE_COMPLETE,this.callbacks.onComplete))}return this.state===l.PENDING_REMOVE}},stop:function(){this.state=l.PENDING_REMOVE},pause:function(){if(this.state!==l.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=l.PAUSED,this.emit(s.TIMELINE_PAUSE,this),this},resume:function(){return this.state===l.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(s.TIMELINE_RESUME,this)),this},hasTarget:function(t){for(var e=0;e<this.data.length;e++)if(this.data[e].hasTarget(t))return!0;return!1},destroy:function(){for(var t=0;t<this.data.length;t++)this.data[t].stop()}});c.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],t.exports=c},47126:function(t,e,i){var n=i(61883),o=i(47659),r=i(39607),s=i(6965),a=i(35399),l=i(78187),c=i(62591),u=i(22102),h=i(44784),d=new o({initialize:function(t){this.scene=t,this.systems=t.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,t.sys.events.once(a.BOOT,this.boot,this),t.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(a.PRE_UPDATE,this.preUpdate,this),t.on(a.UPDATE,this.update,this),t.once(a.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(t){return c(this,t)},timeline:function(t){var e=c(this,t);return e.paused||(this._add.push(e),this._toProcess++),e},create:function(t){return h(this,t)},add:function(t){var e=h(this,t);return this._add.push(e),this._toProcess++,e},existing:function(t){return this._add.push(t),this._toProcess++,this},addCounter:function(t){var e=r(this,t);return this._add.push(e),this._toProcess++,e},stagger:function(t,e){return l(t,e)},preUpdate:function(){if(0!==this._toProcess){var t,e,i=this._destroy,n=this._active,o=this._pending;for(t=0;t<i.length;t++){e=i[t];var r=n.indexOf(e);-1===r?(r=o.indexOf(e))>-1&&(e.state=u.REMOVED,o.splice(r,1)):(e.state=u.REMOVED,n.splice(r,1))}for(i.length=0,i=this._add,t=0;t<i.length;t++)(e=i[t]).state===u.PENDING_ADD&&(e.init()?(e.play(),this._active.push(e)):this._pending.push(e));i.length=0,this._toProcess=0}},update:function(t,e){var i,n=this._active;e*=this.timeScale;for(var o=0;o<n.length;o++)(i=n[o]).update(t,e)&&(this._destroy.push(i),this._toProcess++)},remove:function(t){return n(this._add,t),n(this._pending,t),n(this._active,t),n(this._destroy,t),t.state=u.REMOVED,this},makeActive:function(t){if(-1!==this._add.indexOf(t)||-1!==this._active.indexOf(t))return this;var e=this._pending.indexOf(t);return-1!==e&&this._pending.splice(e,1),this._add.push(t),t.state=u.PENDING_ADD,this._toProcess++,this},each:function(t,e){for(var i=[null],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var o in this.list)i[0]=this.list[o],t.apply(e,i)},getAllTweens:function(){for(var t=this._active,e=[],i=0;i<t.length;i++)e.push(t[i]);return e},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(t){var e,i,n=this._active,o=[];if(Array.isArray(t))for(i=0;i<n.length;i++){e=n[i];for(var r=0;r<t.length;r++)e.hasTarget(t[r])&&o.push(e)}else for(i=0;i<n.length;i++)(e=n[i]).hasTarget(t)&&o.push(e);return o},isTweening:function(t){for(var e,i=this._active,n=0;n<i.length;n++)if((e=i[n]).hasTarget(t)&&e.isPlaying())return!0;return!1},killAll:function(){for(var t=this.getAllTweens(),e=0;e<t.length;e++)t[e].stop();return this},killTweensOf:function(t){for(var e=this.getTweensOf(t),i=0;i<e.length;i++)e[i].stop();return this},pauseAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].pause();return this},resumeAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].resume();return this},setGlobalTimeScale:function(t){return this.timeScale=t,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var t=this.systems.events;t.off(a.PRE_UPDATE,this.preUpdate,this),t.off(a.UPDATE,this.update,this),t.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});s.register("TweenManager",d,"tweens"),t.exports=d},5174:function(t,e,i){var n=i(28716);t.exports=function(t,e,i){var o;t.hasOwnProperty(e)?o="function"===n(t[e])?function(i,n,o,r,s,a){return t[e](i,n,o,r,s,a)}:function(){return t[e]}:o="function"==typeof i?i:function(){return i};return o}},16025:function(t,e,i){var n=i(33293);t.exports=function(t){var e,i=[];if(t.hasOwnProperty("props"))for(e in t.props)"_"!==e.substr(0,1)&&i.push({key:e,value:t.props[e]});else for(e in t)-1===n.indexOf(e)&&"_"!==e.substr(0,1)&&i.push({key:e,value:t[e]});return i}},12615:function(t,e,i){var n=i(36788);t.exports=function(t){var e=n(t,"targets",null);return null===e||("function"==typeof e&&(e=e.call()),Array.isArray(e)||(e=[e])),e}},62709:function(t,e,i){var n=i(36788);t.exports=function(t){var e=n(t,"tweens",null);return null===e?[]:("function"==typeof e&&(e=e.call()),Array.isArray(e)||(e=[e]),e)}},75052:function(t,e,i){var n=i(28716);function o(t){return!!t.getActive&&"function"==typeof t.getActive}function r(t){return!!t.getStart&&"function"==typeof t.getStart}function s(t){return!!t.getEnd&&"function"==typeof t.getEnd}t.exports=function t(e,i){var a,l,c=function(t,e,i){return i},u=function(t,e,i){return i},h=null,d=n(i);if("number"===d)c=function(){return i};else if("string"===d){var p=i[0],f=parseFloat(i.substr(2));switch(p){case"+":c=function(t,e,i){return i+f};break;case"-":c=function(t,e,i){return i-f};break;case"*":c=function(t,e,i){return i*f};break;case"/":c=function(t,e,i){return i/f};break;default:c=function(){return parseFloat(i)}}}else if("function"===d)c=i;else if("object"===d)if(r(l=i)||s(l)||o(l))o(i)&&(h=i.getActive),s(i)&&(c=i.getEnd),r(i)&&(u=i.getStart);else if(i.hasOwnProperty("value"))a=t(e,i.value);else{var y=i.hasOwnProperty("to"),v=i.hasOwnProperty("from"),g=i.hasOwnProperty("start");if(y&&(v||g)){if(a=t(e,i.to),g){var m=t(e,i.start);a.getActive=m.getEnd}if(v){var x=t(e,i.from);a.getStart=x.getEnd}}}return a||(a={getActive:h,getEnd:c,getStart:u}),a}},39607:function(t,e,i){var n=i(71500),o=i(99309),r=i(69227),s=i(61805),a=i(5174),l=i(36788),c=i(75052),u=i(23177),h=i(95733);t.exports=function(t,e,i){void 0===i&&(i=n);var d=l(e,"from",0),p=l(e,"to",1),f=[{value:d}],y=a(e,"delay",i.delay),v=a(e,"duration",i.duration),g=l(e,"easeParams",i.easeParams),m=s(l(e,"ease",i.ease),g),x=a(e,"hold",i.hold),b=a(e,"repeat",i.repeat),S=a(e,"repeatDelay",i.repeatDelay),E=r(e,"yoyo",i.yoyo),C=[],A=c("value",p),w=h(f[0],0,"value",A.getEnd,A.getStart,A.getActive,m,y,v,E,x,b,S,!1,!1);w.start=d,w.current=d,w.to=p,C.push(w);var P=new u(t,C,f);P.offset=o(e,"offset",null),P.completeDelay=o(e,"completeDelay",0),P.loop=Math.round(o(e,"loop",0)),P.loopDelay=Math.round(o(e,"loopDelay",0)),P.paused=r(e,"paused",!1),P.useFrames=r(e,"useFrames",!1);for(var T=l(e,"callbackScope",P),_=[P,null],B=u.TYPES,D=0;D<B.length;D++){var M=B[D],O=l(e,M,!1);if(O){var k=l(e,M+"Scope",T),I=l(e,M+"Params",[]);P.setCallback(M,O,_.concat(I),k)}}return P}},78187:function(t,e,i){var n=i(61805),o=i(36788),r=i(17971);t.exports=function(t,e){void 0===e&&(e={});var i=o(e,"start",0),s=o(e,"ease",null),a=o(e,"grid",null),l=o(e,"from",0),c="first"===l,u="center"===l,h="last"===l,d="number"==typeof l,p=Array.isArray(t),f=p?parseFloat(t[0]):parseFloat(t),y=p?parseFloat(t[1]):0,v=Math.max(f,y);if(p&&(i+=f),a){var g=a[0],m=a[1],x=0,b=0,S=0,E=0,C=[];h?(x=g-1,b=m-1):d?(x=l%g,b=Math.floor(l/g)):u&&(x=(g-1)/2,b=(m-1)/2);for(var A=r.MIN_SAFE_INTEGER,w=0;w<m;w++){C[w]=[];for(var P=0;P<g;P++){S=x-P,E=b-w;var T=Math.sqrt(S*S+E*E);T>A&&(A=T),C[w][P]=T}}}var _=s?n(s):null;return a?function(t,e,n,o){var r,s=0,a=o%g,l=Math.floor(o/g);if(a>=0&&a<g&&l>=0&&l<m&&(s=C[l][a]),p){var c=y-f;r=_?s/A*c*_(s/A):s/A*c}else r=_?s*f*_(s/A):s*f;return r+i}:function(t,e,n,o,r){var s,a,g;(r--,c?s=o:u?s=Math.abs(r/2-o):h?s=r-o:d&&(s=Math.abs(l-o)),p)?(g=u?(y-f)/r*(2*s):(y-f)/r*s,a=_?g*_(s/r):g):a=_?r*v*_(s/r):s*f;return a+i}}},62591:function(t,e,i){var n=i(54383),o=i(71500),r=i(99309),s=i(69227),a=i(61805),l=i(5174),c=i(12615),u=i(62709),h=i(36788),d=i(28436),p=i(44784);t.exports=function(t,e){var i=new d(t);i.completeDelay=r(e,"completeDelay",0),i.loop=Math.round(r(e,"loop",0)),i.loopDelay=Math.round(r(e,"loopDelay",0)),i.paused=s(e,"paused",!1),i.useFrames=s(e,"useFrames",!1);var f=h(e,"callbackScope",i),y=[i],v=h(e,"onStart",!1);if(v){var g=h(e,"onStartScope",f),m=h(e,"onStartParams",[]);i.setCallback("onStart",v,y.concat(m),g)}var x=h(e,"onUpdate",!1);if(x){var b=h(e,"onUpdateScope",f),S=h(e,"onUpdateParams",[]);i.setCallback("onUpdate",x,y.concat(S),b)}var E=h(e,"onLoop",!1);if(E){var C=h(e,"onLoopScope",f),A=h(e,"onLoopParams",[]);i.setCallback("onLoop",E,y.concat(A),C)}var w=h(e,"onYoyo",!1);if(w){var P=h(e,"onYoyoScope",f),T=h(e,"onYoyoParams",[]);i.setCallback("onYoyo",w,y.concat(null,T),P)}var _=h(e,"onComplete",!1);if(_){var B=h(e,"onCompleteScope",f),D=h(e,"onCompleteParams",[]);i.setCallback("onComplete",_,y.concat(D),B)}var M=u(e);if(0===M.length)return i.paused=!0,i;var O=n(o);O.targets=c(e);var k=r(e,"totalDuration",0);O.duration=k>0?Math.floor(k/M.length):l(e,"duration",O.duration),O.delay=l(e,"delay",O.delay),O.easeParams=h(e,"easeParams",O.easeParams),O.ease=a(h(e,"ease",O.ease),O.easeParams),O.hold=l(e,"hold",O.hold),O.repeat=l(e,"repeat",O.repeat),O.repeatDelay=l(e,"repeatDelay",O.repeatDelay),O.yoyo=s(e,"yoyo",O.yoyo),O.flipX=s(e,"flipX",O.flipX),O.flipY=s(e,"flipY",O.flipY);for(var I=0;I<M.length;I++)i.queue(p(i,M[I],O));return i}},44784:function(t,e,i){var n=i(71500),o=i(99309),r=i(69227),s=i(61805),a=i(5174),l=i(16025),c=i(12615),u=i(36788),h=i(75052),d=i(23177),p=i(95733);t.exports=function(t,e,i){void 0===i&&(i=n);for(var f=i.targets?i.targets:c(e),y=l(e),v=a(e,"delay",i.delay),g=a(e,"duration",i.duration),m=u(e,"easeParams",i.easeParams),x=s(u(e,"ease",i.ease),m),b=a(e,"hold",i.hold),S=a(e,"repeat",i.repeat),E=a(e,"repeatDelay",i.repeatDelay),C=r(e,"yoyo",i.yoyo),A=r(e,"flipX",i.flipX),w=r(e,"flipY",i.flipY),P=[],T=0;T<y.length;T++)for(var _=y[T].key,B=y[T].value,D=0;D<f.length;D++){var M=h(_,B),O=p(f[D],D,_,M.getEnd,M.getStart,M.getActive,s(u(B,"ease",x),m),a(B,"delay",v),a(B,"duration",g),r(B,"yoyo",C),a(B,"hold",b),a(B,"repeat",S),a(B,"repeatDelay",E),r(B,"flipX",A),r(B,"flipY",w));P.push(O)}var k=new d(t,P,f);k.offset=o(e,"offset",null),k.completeDelay=o(e,"completeDelay",0),k.loop=Math.round(o(e,"loop",0)),k.loopDelay=Math.round(o(e,"loopDelay",0)),k.paused=r(e,"paused",!1),k.useFrames=r(e,"useFrames",!1);for(var I=u(e,"callbackScope",k),L=[k,null],R=d.TYPES,V=0;V<R.length;V++){var N=R[V],F=u(e,N,!1);if(F){var W=u(e,N+"Scope",I),G=u(e,N+"Params",[]);k.setCallback(N,F,L.concat(G),W)}}return k}},27553:function(t){t.exports="complete"},8812:function(t){t.exports="loop"},90244:function(t){t.exports="pause"},31363:function(t){t.exports="resume"},29566:function(t){t.exports="start"},52378:function(t){t.exports="update"},22663:function(t){t.exports="active"},7876:function(t){t.exports="complete"},65357:function(t){t.exports="loop"},71257:function(t){t.exports="repeat"},14978:function(t){t.exports="start"},84379:function(t){t.exports="stop"},50079:function(t){t.exports="update"},15180:function(t){t.exports="yoyo"},83711:function(t,e,i){t.exports={TIMELINE_COMPLETE:i(27553),TIMELINE_LOOP:i(8812),TIMELINE_PAUSE:i(90244),TIMELINE_RESUME:i(31363),TIMELINE_START:i(29566),TIMELINE_UPDATE:i(52378),TWEEN_ACTIVE:i(22663),TWEEN_COMPLETE:i(7876),TWEEN_LOOP:i(65357),TWEEN_REPEAT:i(71257),TWEEN_START:i(14978),TWEEN_STOP:i(84379),TWEEN_UPDATE:i(50079),TWEEN_YOYO:i(15180)}},71500:function(t){t.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1}},33293:function(t){t.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},23177:function(t,e,i){var n=i(47659),o=i(88903),r=i(83711),s=i(95662),a=i(16171),l=i(22102),c=i(17971),u=new n({Extends:o,initialize:function(t,e,i){o.call(this),this.parent=t,this.parentIsTimeline=t.hasOwnProperty("isTimeline"),this.data=e,this.totalData=e.length,this.targets=i,this.totalTargets=i.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=l.PENDING_ADD,this._pausedState=l.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(t){return void 0===t&&(t=0),this.data[t].current},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===l.ACTIVE},isPaused:function(){return this.state===l.PAUSED},hasTarget:function(t){return-1!==this.targets.indexOf(t)},updateTo:function(t,e,i){void 0===i&&(i=!1);for(var n=0;n<this.totalData;n++){var o=this.data[n];o.key===t&&(o.end=e,i&&(o.start=o.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===l.ACTIVE?this.seek(0):this.state===l.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===l.PENDING_ADD?this:this.play()},calcDuration:function(){for(var t=0,e=c.MAX_SAFE_INTEGER,i=this.data,n=0;n<this.totalData;n++){var o=i[n];o.t1=o.duration+o.hold,o.yoyo&&(o.t1+=o.duration),o.t2=o.t1+o.repeatDelay,o.totalDuration=o.delay+o.t1,-1===o.repeat?o.totalDuration+=999999999999*o.t2:o.repeat>0&&(o.totalDuration+=o.t2*o.repeat),o.totalDuration>t&&(t=o.totalDuration),o.delay<e&&(e=o.delay)}this.duration=Math.max(t,.001),this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=e},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=l.PENDING_ADD,this._pausedState=l.INIT,!1;for(var t=this.data,e=this.totalTargets,i=0;i<this.totalData;i++){var n=t[i],o=n.target,r=n.gen,s=n.key,a=n.index;n.delay=r.delay(o,s,0,a,e,this),n.duration=Math.max(r.duration(o,s,0,a,e,this),.001),n.hold=r.hold(o,s,0,a,e,this),n.repeat=r.repeat(o,s,0,a,e,this),n.repeatDelay=r.repeatDelay(o,s,0,a,e,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=l.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(r.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=l.LOOP_DELAY):(this.state=l.ACTIVE,this.dispatchTweenEvent(r.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=l.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=l.PENDING_REMOVE,this.dispatchTweenEvent(r.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===l.PAUSED||(this.paused=!0,this._pausedState=this.state,this.state=l.PAUSED),this},play:function(t){void 0===t&&(t=!1);var e=this.state;return e!==l.INIT||this.parentIsTimeline?e===l.ACTIVE||e===l.PENDING_ADD&&this._pausedState===l.PENDING_ADD?this:this.parentIsTimeline||e!==l.PENDING_REMOVE&&e!==l.REMOVED?(this.parentIsTimeline?(this.resetTweenData(t),0===this.calculatedOffset?this.state=l.ACTIVE:(this.countdown=this.calculatedOffset,this.state=l.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(t),this.state=l.ACTIVE,this.makeActive()),this):(this.seek(0),this.parent.makeActive(this),this):(this.resetTweenData(!1),this.state=l.ACTIVE,this)},resetTweenData:function(t){for(var e=this.data,i=this.totalData,n=this.totalTargets,o=0;o<i;o++){var r=e[o],s=r.target,a=r.key,c=r.index;r.progress=0,r.elapsed=0,r.repeatCounter=-1===r.repeat?999999999999:r.repeat,t?(r.start=r.getStartValue(s,a,r.start,c,n,this),r.end=r.getEndValue(s,a,r.end,c,n,this),r.current=r.start,r.state=l.PLAYING_FORWARD):r.state=l.PENDING_RENDER,r.delay>0&&(r.elapsed=r.delay,r.state=l.DELAY),r.getActiveValue&&(s[a]=r.getActiveValue(r.target,r.key,r.start))}},resume:function(){return this.state===l.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(t,e){if(void 0===e&&(e=16.6),this.totalDuration>=36e5)return console.warn("Tween.seek duration too long"),this;this.state===l.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var i=this.data,n=this.totalTargets,o=0;o<this.totalData;o++){var r=i[o],s=r.target,a=r.gen,c=r.key,u=r.index;r.progress=0,r.elapsed=0,r.repeatCounter=-1===r.repeat?999999999999:r.repeat,r.delay=a.delay(s,c,0,u,n,this),r.duration=Math.max(a.duration(s,c,0,u,n,this),.001),r.hold=a.hold(s,c,0,u,n,this),r.repeat=a.repeat(s,c,0,u,n,this),r.repeatDelay=a.repeatDelay(s,c,0,u,n,this),r.current=r.start,r.state=l.PLAYING_FORWARD,this.updateTweenData(this,r,0,u,n),r.delay>0&&(r.elapsed=r.delay,r.state=l.DELAY)}this.calcDuration();var h=!1;this.state===l.PAUSED&&(h=!0,this.state=l.ACTIVE),this.isSeeking=!0;do{this.update(0,e)}while(this.totalProgress<t);return this.isSeeking=!1,h&&(this.state=l.PAUSED),this},setCallback:function(t,e,i,n){return this.callbacks[t]={func:e,scope:n,params:i},this},complete:function(t){return void 0===t&&(t=0),t?(this.state=l.COMPLETE_DELAY,this.countdown=t):(this.state=l.PENDING_REMOVE,this.dispatchTweenEvent(r.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(t){return this.state===l.ACTIVE&&void 0!==t&&this.seek(t),this.state!==l.REMOVED&&(this.state!==l.PAUSED&&this.state!==l.PENDING_ADD||(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(r.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=l.PENDING_REMOVE),this},update:function(t,e){if(this.state===l.PAUSED)return!1;switch(this.useFrames&&(e=1*this.parent.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case l.ACTIVE:this.hasStarted||this.isSeeking||(this.startDelay-=e,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(r.TWEEN_START,this.callbacks.onStart)));for(var i=!1,n=0;n<this.totalData;n++){var o=this.data[n];this.updateTweenData(this,o,e)&&(i=!0)}i||this.nextState();break;case l.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=l.ACTIVE,this.dispatchTweenEvent(r.TWEEN_LOOP,this.callbacks.onLoop));break;case l.OFFSET_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=l.ACTIVE);break;case l.COMPLETE_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=l.PENDING_REMOVE,this.dispatchTweenEvent(r.TWEEN_COMPLETE,this.callbacks.onComplete))}return this.state===l.PENDING_REMOVE},dispatchTweenDataEvent:function(t,e,i){this.isSeeking||(this.emit(t,this,i.key,i.target,i.current,i.previous),e&&(e.params[1]=i.target,e.func.apply(e.scope,e.params)))},dispatchTweenEvent:function(t,e){this.isSeeking||(this.emit(t,this,this.targets),e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)))},setStateFromEnd:function(t,e,i){return e.yoyo?(e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),this.dispatchTweenDataEvent(r.TWEEN_YOYO,t.callbacks.onYoyo,e),e.start=e.getStartValue(e.target,e.key,e.start,e.index,t.totalTargets,t),l.PLAYING_BACKWARD):e.repeatCounter>0?(e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),e.start=e.getStartValue(e.target,e.key,e.start,e.index,t.totalTargets,t),e.end=e.getEndValue(e.target,e.key,e.start,e.index,t.totalTargets,t),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,l.REPEAT_DELAY):(this.dispatchTweenDataEvent(r.TWEEN_REPEAT,t.callbacks.onRepeat,e),l.PLAYING_FORWARD)):l.COMPLETE},setStateFromStart:function(t,e,i){return e.repeatCounter>0?(e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),e.end=e.getEndValue(e.target,e.key,e.start,e.index,t.totalTargets,t),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,l.REPEAT_DELAY):(this.dispatchTweenDataEvent(r.TWEEN_REPEAT,t.callbacks.onRepeat,e),l.PLAYING_FORWARD)):l.COMPLETE},updateTweenData:function(t,e,i){var n=e.target;switch(e.state){case l.PLAYING_FORWARD:case l.PLAYING_BACKWARD:if(!n){e.state=l.COMPLETE;break}var o=e.elapsed,s=e.duration,a=0;(o+=i)>s&&(a=o-s,o=s);var c=e.state===l.PLAYING_FORWARD,u=o/s;if(e.elapsed=o,e.progress=u,e.previous=e.current,1===u)c?(e.current=e.end,n[e.key]=e.end,e.hold>0?(e.elapsed=e.hold-a,e.state=l.HOLD_DELAY):e.state=this.setStateFromEnd(t,e,a)):(e.current=e.start,n[e.key]=e.start,e.state=this.setStateFromStart(t,e,a));else{var h=c?e.ease(u):e.ease(1-u);e.current=e.start+(e.end-e.start)*h,n[e.key]=e.current}this.dispatchTweenDataEvent(r.TWEEN_UPDATE,t.callbacks.onUpdate,e);break;case l.DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=l.PENDING_RENDER);break;case l.REPEAT_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=l.PLAYING_FORWARD,this.dispatchTweenDataEvent(r.TWEEN_REPEAT,t.callbacks.onRepeat,e));break;case l.HOLD_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.state=this.setStateFromEnd(t,e,Math.abs(e.elapsed)));break;case l.PENDING_RENDER:n?(e.start=e.getStartValue(n,e.key,n[e.key],e.index,t.totalTargets,t),e.end=e.getEndValue(n,e.key,e.start,e.index,t.totalTargets,t),e.current=e.start,n[e.key]=e.start,e.state=l.PLAYING_FORWARD):e.state=l.COMPLETE}return e.state!==l.COMPLETE}});u.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],a.register("tween",(function(t){return this.scene.sys.tweens.add(t)})),s.register("tween",(function(t){return this.scene.sys.tweens.create(t)})),t.exports=u},95733:function(t){t.exports=function(t,e,i,n,o,r,s,a,l,c,u,h,d,p,f){return{target:t,index:e,key:i,getActiveValue:r,getEndValue:n,getStartValue:o,ease:s,duration:0,totalDuration:0,delay:0,yoyo:c,hold:0,repeat:0,repeatDelay:0,flipX:p,flipY:f,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:a,duration:l,hold:u,repeat:h,repeatDelay:d},state:0}}},90005:function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports=function(t,i){for(var n=new Uint8Array(t),o=n.length,r=i?"data:"+i+";base64,":"",s=0;s<o;s+=3)r+=e[n[s]>>2],r+=e[(3&n[s])<<4|n[s+1]>>4],r+=e[(15&n[s+1])<<2|n[s+2]>>6],r+=e[63&n[s+2]];return o%3==2?r=r.substring(0,r.length-1)+"=":o%3==1&&(r=r.substring(0,r.length-2)+"=="),r}},34170:function(t,e,i){t.exports={ArrayBufferToBase64:i(90005),Base64ToArrayBuffer:i(76183)}},27381:function(t,e,i){t.exports={Array:i(19731),Base64:i(34170),Objects:i(89533),String:i(92874)}},60334:function(t,e,i){var n=i(36788),o=i(21636);t.exports=function(t,e,i,r,s){void 0===s&&(s=i);var a=n(t,e,s);return o(a,i,r)}},67947:function(t){t.exports=function(t,e){for(var i=0;i<e.length;i++)if(!t.hasOwnProperty(e[i]))return!1;return!0}},56045:function(t,e,i){var n=i(54383);t.exports=function(t,e){var i=n(t);for(var o in e)i.hasOwnProperty(o)&&(i[o]=e[o]);return i}},51530:function(t,e,i){var n=i(49575);t.exports=function(t,e){for(var i={},o=0;o<e.length;o++){var r=e[o];n(t,r)&&(i[r]=t[r])}return i}},21059:function(t){t.exports=function(t,e,i){if(!t||"number"==typeof t)return!1;if(t.hasOwnProperty(e))return t[e]=i,!0;if(-1!==e.indexOf(".")){for(var n=e.split("."),o=t,r=t,s=0;s<n.length;s++){if(!o.hasOwnProperty(n[s]))return!1;r=o,o=o[n[s]]}return r[n[n.length-1]]=i,!0}return!1}},89533:function(t,e,i){t.exports={Clone:i(54383),Extend:i(82431),GetAdvancedValue:i(99309),GetFastValue:i(89199),GetMinMaxValue:i(60334),GetValue:i(36788),HasAll:i(67947),HasAny:i(49346),HasValue:i(49575),IsPlainObject:i(8733),Merge:i(11463),MergeRight:i(56045),Pick:i(51530),SetValue:i(21059)}},8362:function(t){t.exports=function(t,e){return t.replace(/%([0-9]+)/g,(function(t,i){return e[Number(i)-1]}))}},44543:function(t){t.exports=function(t){return t.split("").reverse().join("")}},13449:function(t){t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}},92874:function(t,e,i){t.exports={Format:i(8362),Pad:i(79680),Reverse:i(44543),UppercaseFirst:i(57776),UUID:i(13449)}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-promote/js/../js/phaser_extend-6e15a1b051b1d25e73b.js.map