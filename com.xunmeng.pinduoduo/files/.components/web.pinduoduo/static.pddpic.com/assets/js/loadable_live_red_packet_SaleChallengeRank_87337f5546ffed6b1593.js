(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[81],{H1rx:function(e,a,t){e.exports={singleBorder:"OWyP6ZHN"}},JXvp:function(e,a,t){e.exports={dialog:"_16f0TkOk",dialogMask:"_7tTB3had",container:"_1g9t_l8V",successContainer:"_3VFYUDe_",title:"dC9OXnRV",failContainer:"_1FAq6MB4",tip:"UQYuDfgw",text:"_3DINVg5y",button:"_1EBh3Chh",round2:"_2-kuF8vm",failButton:"_1MGXqidW",failTitle:"_1NiMzz3h",failSubTitle:"_1hUEKSlD",rank:"_1IyoQ-JV",rankFail:"mAWNYWLz",centerFont:"_1iL-wNvE",shadow:"SHspivpZ"}},piHK:function(e,a,t){"use strict";t.r(a);var n=t("J4zp"),r=t.n(n),l=t("mwIZ"),c=t.n(l),s=t("q1tI"),i=t.n(s),o=t("TyAF"),m=t("Vpw8"),u=t("h7Yj"),d=t("O2NP"),_=t("pVnL"),v=t.n(_),f=t("lSNA"),E=t.n(f),g=t("TSYQ"),p=t.n(g),b=t("PlGL"),N=t("B+qx"),k=t("aooG"),w=t("H1rx"),h=t.n(w),y=Object(s.memo)((function(e){var a=e.hour,t=e.minute,n=e.second,r="".concat(a).split(""),l="".concat(t).split(""),c="".concat(n).split("");return i.a.createElement(s.Fragment,null,r.map((function(e){return i.a.createElement("span",{className:h.a.singleBorder},e)})),i.a.createElement("span",null," : "),l.map((function(e){return i.a.createElement("span",{className:h.a.singleBorder},e)})),i.a.createElement("span",null," : "),c.map((function(e){return i.a.createElement("span",{className:h.a.singleBorder}," ",e)})))})),T=t("sxZn"),C=t.n(T),x=Object(s.memo)((function(e){var a=Object(s.useState)(!1),t=r()(a,2),n=t[0],l=t[1],c=e||{},o=c.setClose,m=c.curRound,u=c.statusConfig||{},d=u.endTime,_=u.diff,f=u.title,g=u.curRank,w=u.showCountTime,h=u.min_gmv,T=u.hasComplete,x=u.gmvPercent,O=u.curGmv,S=u.minGmv,I=u.reward,D=u.isWinner,F=function(){l(!1),setTimeout((function(){o()}),450)},R={BackdropProps:{onClick:F,className:C.a.dialogMask},ContainerProps:{className:p()(E()({},C.a.show,n))}};Object(s.useEffect)((function(){l(!0)}),[]);var j=function(){if(!w)return null;var e={endTime:d,diff:_,onTimeout:o,moreFunc:!1};return i.a.createElement(k.a,e,(function(e){var a,t=e.hour,n=e.minute,r=e.second;return i.a.createElement("div",{className:p()((a={},E()(a,C.a.countDown,0===m),E()(a,C.a.countDownLiving,m>0),a))},m>0?i.a.createElement("span",null,"本轮",i.a.createElement("span",{className:p()(C.a.countNum,E()({},C.a.curRound,m>0))},t," : ",n," : ",r),"后结束"):i.a.createElement("span",null,i.a.createElement(y,{hour:t,minute:n,second:r}),"后开始"))}))};return m>0?i.a.createElement(b.a,v()({},R,{className:C.a.livingDialog}),i.a.createElement("div",{className:C.a.close,onClick:F}),i.a.createElement("div",{className:C.a.border},i.a.createElement("div",{className:C.a.container},i.a.createElement("div",{className:C.a.titleImg},f),D?i.a.createElement(s.Fragment,null,i.a.createElement("div",{className:C.a.progressContainer},i.a.createElement("div",{className:C.a.flex},i.a.createElement("div",{className:p()(C.a.block,C.a.blockLeft)},i.a.createElement("div",{className:C.a.label},"流量奖励"),i.a.createElement("div",{className:C.a.text},I)),i.a.createElement("div",{className:C.a.block},i.a.createElement("div",{className:C.a.label},"额外奖励"),i.a.createElement("div",{className:C.a.text},"推荐加权")))),i.a.createElement("div",{className:C.a.rankWrap},i.a.createElement("div",{className:C.a.rank},function(){if(D&&I){if(I<1e3)return i.a.createElement("div",{className:C.a.reward100},I);if(I<1e4)return i.a.createElement("div",{className:C.a.reward1000},I);var e=(I/1e4).toFixed(1);return"0"===e[e.length-1]?(e=e.substr(0,e.length-2),i.a.createElement("div",{className:C.a.reward10000},e,i.a.createElement("span",null,"万"))):i.a.createElement("div",{className:C.a.reward11000},e,i.a.createElement("span",null,"万"))}}()),i.a.createElement("div",{className:C.a.curRankText},"当前奖励"))):i.a.createElement(s.Fragment,null,void 0!==h&&i.a.createElement("div",{className:C.a.progressContainer},i.a.createElement("div",{className:C.a.flex},i.a.createElement("div",{className:C.a.leftText},"本轮任务"),i.a.createElement("div",{className:C.a.bar},i.a.createElement("div",{className:C.a.percentage,style:{width:"".concat(x,"%")}},i.a.createElement("div",{className:C.a.bubble},T?"恭喜已完成":"".concat(O,"元"),i.a.createElement("i",{className:C.a.triangle})))),i.a.createElement("div",{className:C.a.rightText},S,"元")),i.a.createElement("div",{className:C.a.sub},"已奖励",I,"流量 完成任务有机会晋级")),i.a.createElement("div",{className:p()(C.a.rankWrap,E()({},C.a.rankWrapSpecial,void 0===h))},i.a.createElement("div",{className:C.a.rank},g),i.a.createElement("div",{className:C.a.curRankText},"当前排名"))),j()))):i.a.createElement(b.a,v()({},R,{className:C.a.dialog}),i.a.createElement("div",{className:C.a.close,onClick:F}),i.a.createElement("div",{className:C.a.banner,style:{backgroundImage:"url(".concat(N.a.bannerImage,")")}}),i.a.createElement("div",{className:C.a.bottom,style:{backgroundImage:"url(".concat(N.a.backgroundImage,")")}}),j(),i.a.createElement("img",{className:C.a.middle,src:N.a.headerImage}),i.a.createElement("div",{className:C.a.rules},i.a.createElement("div",{className:C.a.ruleTitle},"活动规则"),i.a.createElement("div",null,"第一赛段：100进10，100个商家进行第一赛段的带货比拼，其中10个优胜商家将共同瓜分百万流量奖池，每个店铺获得4000流量奖励。 "),i.a.createElement("div",null,"第二赛段：10进1，最终获胜的Top1带货冠军商家将独享超额大奖—4万流量大礼包，店铺销量与品牌价值双双超速提升。")))})),O={fail:{image:N.a.quitImage,buttonText:"我知道啦",title:"挑战失败",subTitle:"就差一点点啦，下次再战吧"},success_round1:{buttonText:"开始下一轮",title:"第一轮挑战成功",tip:"即将开始第二轮"},success_round2:{buttonText:"开始下一轮",title:"挑战成功",text:"流量自动使用，即将开始下一轮"}},S=t("JXvp"),I=t.n(S);function D(e,a){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,a){if(!e)return;if("string"==typeof e)return F(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return F(e,a)}(e))||a&&e&&"number"==typeof e.length){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return c=e.done,e},e:function(e){s=!0,l=e},f:function(){try{c||null==t.return||t.return()}finally{if(s)throw l}}}}function F(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}var R=Object(s.memo)((function(e){var a,t=e||{},n=t.closeStatusPopup,r=t.statusConfig,l=r.type,s=r.curRank,o=r.reward_details,m={className:I.a.dialog,BackdropProps:{onClick:n,className:I.a.dialogMask}};return["success_round1","success_round2"].includes(l)?(a=function(){var e,a=D(o);try{for(a.s();!(e=a.n()).done;){var t=e.value;if(s>=t.start_rank&&s<=t.end_rank){var n=c()(t,"real_time_flow_reward.real_time_amount");if(n)return n+"流量"}}}catch(e){a.e(e)}finally{a.f()}}(),i.a.createElement(b.a,m,i.a.createElement("div",{className:p()(I.a.container,E()({},I.a.successContainer,!0)),style:{backgroundImage:"url(https://promotion.pddpic.com/mobile_live/bdround_dialog.png)"}},i.a.createElement("div",{className:I.a.title},O[l].title),i.a.createElement("div",{className:I.a.rank},"本轮排名第",s,"名"),i.a.createElement("div",{className:I.a.centerFont},a,i.a.createElement("div",{className:I.a.shadow},a)),"success_round1"===l&&i.a.createElement("div",{className:I.a.tip},O[l].tip),"success_round2"===l&&i.a.createElement("div",{className:I.a.text},O[l].text),i.a.createElement("div",{className:p()(I.a.button,E()({},I.a.round2,"success_round2"===l)),style:{backgroundImage:"url(".concat(N.a.buttonImage,")")},onClick:n},O[l].buttonText)))):i.a.createElement(b.a,m,i.a.createElement("div",{className:p()(I.a.container,E()({},I.a.failContainer,!0)),style:{backgroundImage:"url(".concat(O[l].image,")")}},i.a.createElement("div",{className:I.a.failTitle},O[l].title),i.a.createElement("div",{className:I.a.rankFail},"本轮排名第",s,"名"),i.a.createElement("div",{className:I.a.failSubTitle},O[l].subTitle),i.a.createElement("div",{className:p()(I.a.button,I.a.failButton),style:{backgroundImage:"url(".concat(N.a.buttonImage,")")},onClick:n},O[l].buttonText)))}));a.default=Object(m.a)(o.observer)((function(){var e=Object(d.k)().redPackEntryStore,a=Object(s.useState)(!1),t=r()(a,2),n=t[0],l=t[1],o=Object(s.useState)(""),m=r()(o,2),_=m[0],v=m[1],f=e.saleChallengeData,E=e.saleRankModalShow,g=e.setValue,p=f||{},b=p.cur_round,N=p.activity_start_time,k=p.rounds,w=p.rank,h=p.cur_round_end_time,y=p.is_eliminated,T=p.eliminate_detail,C=p.is_rewarded,O=p.timestamp,S=p.timeGap,I=p.cur_gmv,D=p.last_round_reward,F=p.reward_details,j=T||{},A=j.eliminate_start_rank,B=j.member_size,L=j.min_gmv,M=function(){g({saleRankModalShow:!1})},W=Date.now()-S,P=b>0?W<h:W<N,V=b===k,U=I>=L,K=Object(u.priceCent)(I),X=Object(u.priceCent)(L),Y=U?100:I/L*100,Z=c()(D,"real_time_flow_reward.real_time_amount",0),G={type:_,endTime:b>0?h:N,diff:S,title:V?"奖励时刻":B?"本轮".concat(B,"进").concat(A):"",curRank:w,showCountTime:P,hasComplete:U,curGmv:K,minGmv:X,min_gmv:L,gmvPercent:Y,reward:Z,isWinner:V,reward_details:F};return Object(s.useEffect)((function(){(y||C)&&(y&&v("fail"),C&&(2===b&&v("success_round1"),3===b&&v("success_round2")),l(!0),M(),_&&setTimeout((function(){l(!1)}),5e3))}),[_,b,y,C,O]),i.a.createElement(i.a.Fragment,null,!!E&&i.a.createElement(x,{setClose:M,curRound:b,statusConfig:G}),!!n&&!!_&&i.a.createElement(R,{closeStatusPopup:function(){l(!1)},statusConfig:G}))}))},sxZn:function(e,a,t){e.exports={show:"NCmKOIsj",dialog:"_3Rl-CmGc",livingDialog:"nj6O3kyv",dialogMask:"_29QwlbTs",showMask:"_3s_FUQRo",border:"_3zKbnOgf",container:"_2F8ZEI6v",titleImg:"_3Mi5cdUD",progressContainer:"_3fsN8qnU",flex:"_2WkAuNVi",block:"_3fWfCwZp",blockLeft:"_368m32pF",label:"_199zyXnO",text:"_2rYVUUhl",leftText:"_1s-lMJiX",rightText:"_3tdV_Rzy",bar:"_1YkRadMJ",percentage:"_14oan9H4",bubble:"_2aCxScS-",triangle:"_3LWhSln_",sub:"Xp0BwhJN",banner:"_293Vi4R2",middle:"_2DACmZsI",bottom:"_2p2IDYRr",close:"_3PTCZh-O",ruleTitle:"_1FxNcXT3",rules:"_1_2c08LL",countDown:"egbhK1iT",curRound:"ZaBbb38K",countDownLiving:"_35Fy37wF",countNum:"_3DaXynFY",title:"_1B6Oskdr",rankWrap:"_1NElmYyw",rankWrapSpecial:"MYeakbjD",rank:"_3kKX8xoK",reward100:"_1RBP9FMp",reward1000:"_1QJKlVZ3",reward10000:"_3cT9ukoy",reward11000:"_1yTOQNUX",curRankText:"_3a85cFMl"}}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-live-layer/js/loadable_live_red_packet_SaleChallengeRank_87337f5546ffed6b1593.js.map