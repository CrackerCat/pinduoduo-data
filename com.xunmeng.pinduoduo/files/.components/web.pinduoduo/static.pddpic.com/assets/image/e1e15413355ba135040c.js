(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{"egqP":function(e,t,a){"use strict";a.r(t);var n,r=a("99ak"),l=a("aDV6"),o=a("brQG"),c=a("JqEv"),s=a("p5LO"),i=a("1OyB"),m=a("vuIU"),u=a("JX7q"),d=a("Ji7U"),f=a("LK+K"),h=a("rePB"),b=a("q1tI"),g=a.n(b),p=a("TyAF"),E=a("EFCC"),w=a("lSgf"),O=a("tSAD"),v=a("PS6B"),N=a("tbnE"),x=a("k/Ow"),y=a("Obr0"),j=a("bdvc"),F=a("X8mR"),G=a("TSYQ"),A=a.n(G),k=a("/xfN"),T=a("lzTv"),D=a("Rj+r"),C=a("h5Qt"),P=a("8tQc"),R=a("q0O3"),L=a("3uF5"),S=a("vHnQ"),I=a("Y0Ga"),M=(a("zJxq"),Object(I.a)({"iconImg":"rg_c1","iconName":"return-all-grain-card"})(n=Object(p.observer)(n=function(e){Object(d.default)(ReturnAllGrainPop,e);var t=Object(f.default)(ReturnAllGrainPop);function ReturnAllGrainPop(){var e;Object(i.default)(this,ReturnAllGrainPop);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),Object(h.default)(Object(u.default)(e),"state",{"showGoods":!1}),Object(h.default)(Object(u.default)(e),"timer1",void 0),Object(h.default)(Object(u.default)(e),"timer2",void 0),Object(h.default)(Object(u.default)(e),"showNormal",(function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600;e.timer2=setTimeout((function(){w.a.set("popStage",k.a.normal)}),a)})),Object(h.default)(Object(u.default)(e),"onClose",(function(){e.props.onClose((function(){w.a.togglePop.iconClose()}))})),Object(h.default)(Object(u.default)(e),"goOrder",(function(){w.a.togglePop.close(),Object(C.a)(P.h.missionReturnAllGrain,(function(){R.default.refreshData()}))})),Object(h.default)(Object(u.default)(e),"drawMission",(function(){w.a.togglePop.close(),R.default.dealMissionStore.rewardGain(P.h.missionReturnAllGrain,!1,!1,!1).then((function(e){var t=(e||{}).rewardResult,a=void 0===t?[]:t;w.a.set("rewardResult",a),a.length&&w.a.toggleDrawPop()}))})),e}return Object(m.default)(ReturnAllGrainPop,[{"key":"componentDidMount","value":function componentDidMount(){var e=this,t=w.a.popStage;t===k.a.feed_on?this.timer1=setTimeout((function(){e.setState({"showGoods":!0})}),1e3):t===k.a.home_on&&this.showNormal(null,1e3)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.timer1&&clearTimeout(this.timer1),this.timer2&&clearTimeout(this.timer2)}},{"key":"renderGood","value":function renderGood(e){var t=e.thumbUrl,a=e.goodsAmount;return g.a.createElement(s.a,{"className":"gl-item relative w-140 h-140 mr-16"},g.a.createElement(O.a,{"className":"w-140 h-140 rounded-8","src":Object(D.b)(t)}),g.a.createElement(s.a,{"className":"tag price absolute bottom-0 w-full h-44 text-fff ff-m text-28 leading-44"},"¥",Object(T.b)(a,2)))}},{"key":"renderMore","value":function renderMore(){var e=w.a.popInfo.need;return g.a.createElement(s.a,{"className":"gl-more relative bg-#FFF1DA w-140 h-140 rounded-8"},g.a.createElement(O.a,{"className":"ab-x top-38 w-36 h-36","src":Object(v.g)("rg_mo")}),g.a.createElement(s.a,{"className":"tag absolute bottom-0 w-full h-44 text-fff ff-m text-24 bg-ff6 leading-44 "},"需再拼",e,"元"))}},{"key":"renderGoodsList","value":function renderGoodsList(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.length+(a?1:0);return g.a.createElement(c.a,{"className":A()("flex h-140 px-40",{"justify-center":r<=3},{"gs-sc":1===r||n}),"scrollX":!0,"scrollLeft":140*(r-2)},t.map((function(t,a){return g.a.createElement(s.a,{"key":""+a+(null==t?void 0:t.goodsAmount)},e.renderGood(t))})),a&&this.renderMore())}},{"key":"renderNormal","value":function renderNormal(){var e=w.a.popInfo,t=w.a.missionInfo,a=e||{},n=a.target,r=a.has,l=a.need,c=a.groupInfo,i=void 0===c?[]:c,m=a.rewardAmount,u=a.drawable,d=Object(j.f)(m)+"g",f=(t||{}).expireTime;return g.a.createElement(s.a,{"className":"normal-pop bg ab-xy pt-96 rounded-24 text-36 text-8b5","style":this.props.closeStyle},g.a.createElement(E.a,{"onClose":this.onClose,"type":"inTopRightOutHigh"}),g.a.createElement(s.a,{"className":"nor-title ab-x h-114"},g.a.createElement(O.a,{"className":"h-114","src":Object(v.g)("rg_ti")})),g.a.createElement(s.a,{"className":"ff-s"},"拼满",n,"元，可领",d,g.a.createElement(N.a,{"rewardType":x.c.FOOD,"size":46}),"奖励"),g.a.createElement(s.a,{"className":"nor-board bg-fff rounded-26 mx-auto mt-40 mb-56 pt-40 pb-30"},g.a.createElement(s.a,{"className":"ff-m mx-40"},"已拼",r,"元，",g.a.createElement(o.a,{"className":"text-fb7"},u?"可领饲料奖励":"再拼".concat(l,"元可领"))),g.a.createElement(s.a,{"className":"h-36 rounded-18 text-fff mt-44 mx-40"},g.a.createElement(F.a,{"width":"".concat(r/n*100,"%"),"bgColor":"linear-gradient(180deg, #BE956E 0%, #E0C7A7 100%)","barColor":"linear-gradient(180deg, #FFE270 0%, #FF9500 60%, #FFAA50 100%)","showLight":!0,"endView":function endView(){return g.a.createElement(s.a,{"className":"ab-y -right-34"},g.a.createElement(O.a,{"className":"h-144 w-144","src":Object(v.g)("rg_tar")}),g.a.createElement(s.a,{"className":"box-num ab-x bottom-40 text-26 ff-m whitespace-nowrap"},d))}},g.a.createElement(s.a,{"className":"ab-xy pro-text ff-s text-28"},r,"/",n,"元"))),g.a.createElement(s.a,{"className":"relative mt-52 w-full overflow-hidden"},this.renderGoodsList(i,!u),g.a.createElement(s.a,{"className":"linear ab-y -left-2 w-24 h-166"}),g.a.createElement(s.a,{"className":"linear ri ab-y -right-2 w-24 h-166"}))),g.a.createElement(y.a,{"btnList":u?[{"type":"Main-D","content":"领取饲料奖励","onClick":this.drawMission}]:[{"type":"Main","content":g.a.createElement(g.a.Fragment,null,"去拼单，领",d,g.a.createElement(N.a,{"rewardType":x.c.FOOD,"size":46})),"onClick":this.goOrder}]}),g.a.createElement(s.a,{"className":"ab-x text-fff opacity-80 text-30 ff-r pt-24"},g.a.createElement(L.a,{"countDown":S.a.getLeftTime(f,!0),"countText":"后福利失效","countDownText":"福利失效","outputType":"timeWithDay"})))}},{"key":"renderFullHead","value":function renderFullHead(){return g.a.createElement(s.a,{"className":"full-title h-114 w-full"},g.a.createElement(O.a,{"className":"h-114","src":Object(v.g)("rg_ti")}))}},{"key":"renderFeedOn","value":function renderFeedOn(){var e=w.a.popInfo||{},t=e.target,a=e.has,n=e.groupInfo,r=void 0===n?[]:n,l=e.rewardAmount,c=Object(j.f)(l)+"g",i=this.state.showGoods;return g.a.createElement(s.a,{"className":"ab-xy w-full"},this.renderFullHead(),g.a.createElement(s.a,{"className":A()("gradient-bg h-156 text-40 text-8b5 ff-s pt-40",{"show-goods":i})},g.a.createElement(s.a,null,"拼满",t,"元，可领",g.a.createElement(o.a,{"className":"text-fb7"},c),g.a.createElement(N.a,{"rewardType":x.c.FOOD,"size":46}),"奖励"),i&&g.a.createElement(s.a,{"className":"tran","onAnimationEnd":this.showNormal},g.a.createElement(s.a,null,"近期已拼",a,"元"),g.a.createElement(s.a,{"className":"mt-52 w-full"},this.renderGoodsList(r,!1,!0)))))}},{"key":"renderHomeOn","value":function renderHomeOn(){var e=w.a.orderInfo,t=(e[0]||{}).goodsAmount;return g.a.createElement(s.a,{"className":"ab-xy w-full"},this.renderFullHead(),g.a.createElement(s.a,{"className":"gradient-bg h-392 text-40 text-8b5 ff-s pt-40"},g.a.createElement(s.a,null,"拼单成功，拼单金额",g.a.createElement(o.a,{"className":"text-fb7"},"+",Object(T.b)(t,2),"元")),g.a.createElement(s.a,{"className":"mt-52 w-full"},this.renderGoodsList(e,!1,!0))))}},{"key":"render","value":function render(){var e=w.a.popStage;return g.a.createElement(s.a,{"className":"return-all-grain-pop"},g.a.createElement(r.a,{"isShow":!0},g.a.createElement(l.a,null),e===k.a.normal&&this.renderNormal(),e===k.a.feed_on&&this.renderFeedOn(),e===k.a.home_on&&this.renderHomeOn()))}}]),ReturnAllGrainPop}(b.Component))||n)||n);t.default=M},"zJxq":function(e,t,a){}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-ranch/js/lazy_return_grain_pop_8a10f6173b984abb29a1.js.map