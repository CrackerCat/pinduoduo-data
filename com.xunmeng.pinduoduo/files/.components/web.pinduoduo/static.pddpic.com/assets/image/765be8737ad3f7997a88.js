(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{"EC5h":function(e,a,t){},"Ph0z":function(e,a,t){},"QSpk":function(e,a,t){},"TWCx":function(e,a,t){"use strict";t.r(a);var n,r,l,c=t("p5LO"),s=t("1OyB"),i=t("vuIU"),o=t("Ji7U"),m=t("LK+K"),u=t("q1tI"),d=t.n(u),f=t("vRFZ"),E=t("99ak"),k=t("kNE3"),p=t("aDV6"),b=t("brQG"),v=t("JX7q"),g=t("rePB"),N=t("8tQc"),O=t("SLG6"),h=t("fWkr"),w=t("TyAF"),R=t("oyLW"),j=t("3m2z"),C=t("k/Ow"),F=t("JqEv"),y=t("e4cf"),L=t("PS6B"),P=t("tSAD"),x=t("TSYQ"),A=t.n(x),D=t("Rj+r"),T=t("vevb"),I=(t("Ph0z"),function(e){Object(o.default)(FeedRankingList,e);var a=Object(m.default)(FeedRankingList);function FeedRankingList(){return Object(s.default)(this,FeedRankingList),a.apply(this,arguments)}return Object(i.default)(FeedRankingList,[{"key":"renderItem","value":function renderItem(e,a){var t=e||{},n=t.nickname,r=void 0===n?"":n,l=t.uid,s=t.feedCount,i=t.avatar,o=t.area,m=void 0===o?"同城":o,u=t.rewardList,f=void 0===u?[]:u,E=t.rank,k=a<3,p=l===T.a.userID;return d.a.createElement(c.a,{"className":A()("r-item",{"mine":p}),"key":l},d.a.createElement(c.a,{"className":A()("r-item-content fl-xy",{"first-three":k})},d.a.createElement(c.a,{"className":A()("r-num",{"text-ff4":k,"ml":a>=9})},a+1),d.a.createElement(c.a,{"className":"avatar-wrap"},d.a.createElement(y.a,{"circle":!0,"size":"small","image":Object(D.b)(i)}),k&&d.a.createElement(P.a,{"className":"crown-icon ab-x","src":Object(L.g)("crown_icon_"+E)})),d.a.createElement(c.a,{"className":"r-user-info"},d.a.createElement(c.a,{"className":"fl-y w-256"},d.a.createElement(c.a,{"className":"r-nickname"},r),d.a.createElement(c.a,{"className":"pos"},m)),d.a.createElement(c.a,{"className":"r-reward"},d.a.createElement(R.a,{"preWords":"奖励","rewardResult":f}))),d.a.createElement(c.a,null,d.a.createElement(c.a,{"className":"feed-times text-ff4"},"已喂: ",s,"次"))),d.a.createElement(c.a,{"className":"border-bottom ab-x"}))}},{"key":"render","value":function render(){var e=this,a=this.props,t=a.isFixFirst,n=a.rankList,r=void 0===n?[]:n;return d.a.createElement(c.a,{"className":"feed-ranking-result"},t&&this.renderItem(r[0],0),d.a.createElement(F.a,{"className":"r-list w-full h-full","scrollY":!0},r.map((function(a,n){return t&&0===n?"":e.renderItem(a,n)}))))}}]),FeedRankingList}(u.Component)),M=t("1YS8"),B=t("GkIh"),S=t("6yFI"),W=t("h5Qt"),_=t("q0O3"),Q=t("TRXh"),G=t("vHnQ"),q=t("AKEH"),z=t("3uF5"),J=t("aqP3"),K=t("V9A7"),U=(t("QSpk"),Object(w.observer)(n=function(e){Object(o.default)(FeedRankingPop,e);var a=Object(m.default)(FeedRankingPop);function FeedRankingPop(){var e;Object(s.default)(this,FeedRankingPop);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=a.call.apply(a,[this].concat(n)),Object(g.default)(Object(v.default)(e),"onClose",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];f.a.closeAllPops(),M.a.closePop(B.a.FEED_RANKING_POP,e)})),Object(g.default)(Object(v.default)(e),"onBtnClick",(function(){e.onClose(!1),_.default.feedStore.feed()})),Object(g.default)(Object(v.default)(e),"missionBtnClick",(function(){var a=f.a.firstMissionType,t=O.a.originAllMissionMap.get(a)||{},n=t.unifiedStatus,r=t.nextCompleteTime;switch(e.onClose(!1),n){case S.b.COMPLETABLE:if(a===N.h.missionBuyFood)return void Object(W.a)(a,(function(){return _.default.refreshData()}));break;case S.b.DRAWABLE:_.default.dealMissionStore.rewardGain(a,!1,!0);break;case S.b.COMPLETABLE_CD:var l=(h.a[a]||{}).coolingText,c=void 0===l?"":l,s=r-G.a.currentTime,i=s>0?Object(q.a)(s):"刷新",o="".concat(i).concat(c);Q.a.showToast(o)}})),e}return Object(i.default)(FeedRankingPop,[{"key":"renderMission","value":function renderMission(){var e=f.a.firstMissionType,a=O.a.originAllMissionMap.get(e),t=h.a[e];if(!a||!t)return d.a.createElement(c.a,null);var n=a.rewardResult,r=void 0===n?[]:n,l=a.unifiedStatus,s=void 0===l?S.b.COMPLETABLE:l,i=a.nextCompleteTime,o=void 0===i?0:i,m=(a.targetAmount,a.accumulateCount,a.frontMap,C.a[s]),u=t.countDesc,E=t.coolingText,k=t.popupImgSrc,p=t.popupImgSrcV2,b=t.title,v=void 0===b?"":b,g=t.btnText,N=void 0===g?{}:g;u=Object(j.c)(u,a);var w="00:00:00",F=s===S.b.COMPLETABLE_CD;if(F){var y=o-G.a.currentTime;w=y>0?Object(q.a)(y):"00:00:00"}var L=v;return d.a.createElement(c.a,{"className":"mission fl-y"},d.a.createElement(c.a,{"className":"mission-icon bg-init","style":{"backgroundImage":"url(".concat(p||k,")")}}),d.a.createElement(c.a,{"className":"mission-info"},d.a.createElement(d.a.Fragment,null,d.a.createElement(c.a,{"className":"mission-title ff-m"},L),d.a.createElement(c.a,{"className":"mission-desc"},d.a.createElement(R.a,{"rewardResult":r,"preWords":"最高","suffix":u})))),F&&"00:00:00"!=w?d.a.createElement(c.a,{"className":"mission-countdown","onClick":this.missionBtnClick},d.a.createElement(c.a,{"className":"countdown-inner"},w),d.a.createElement(c.a,{"className":"countdown-inner"},E&&E)):d.a.createElement(c.a,{"className":"mission-btn ".concat(m),"onClick":this.missionBtnClick},N[s]))}},{"key":"renderCountDown","value":function renderCountDown(){var e=f.a.staticDiffTime;return d.a.createElement(b.a,{"className":"text-ff4"},d.a.createElement(z.a,{"countDown":e}))}},{"key":"render","value":function render(){var e=f.a.rankList,a=f.a.myRankNum,t=f.a.leftFeedTimes,n=a>5,r=!!f.a.firstMissionType;return d.a.createElement(c.a,{"className":"feed-ranking-pop"},d.a.createElement(E.a,{"isShow":!0},d.a.createElement(p.a,null),d.a.createElement(k.a,{"type":"pink"},d.a.createElement(J.a,{"elSn":K.a.feedRankingPop},d.a.createElement(c.a,{"className":"close_icon","onClick":this.onClose}),d.a.createElement(c.a,{"className":"relative flex flex-col"},d.a.createElement(c.a,{"className":"r-header bg-init"},d.a.createElement(c.a,{"className":"r-title ab-auto"},1===a?d.a.createElement(b.a,null,"现居第",a,"名，继续喂食保持名次"):d.a.createElement(b.a,null,"现居第",a,"名，再喂食",d.a.createElement(b.a,{"className":"text-ff4"},t,"次"),"就能反超"))),d.a.createElement(c.a,{"className":"r-content"},d.a.createElement(c.a,{"className":"r-wrap"},d.a.createElement(c.a,{"className":"r-time"},this.renderCountDown()," ",d.a.createElement(b.a,null,"后按排名发奖励")),d.a.createElement(c.a,{"className":A()("r-list-wrap",{"fix":n})},d.a.createElement(I,{"rankList":e,"isFixFirst":n,"myNum":a}))),d.a.createElement(c.a,{"className":A()("fooder-wrap bg-init",{"short":!r})},d.a.createElement(c.a,{"className":"fooder-content"},d.a.createElement(c.a,{"className":"btn-normal-v2 mt-32","onClick":this.onBtnClick},"继续喂食",a>1?"提升":"保持","排名"),r&&this.renderMission()))))))))}}]),FeedRankingPop}(u.Component))||n),V=t("EPL5"),Y=t("IBaM"),H=t("bdvc"),X=(t("EC5h"),t("Uaet")),Z=Object(w.observer)(r=function(e){Object(o.default)(FeedRankingPopResult,e);var a=Object(m.default)(FeedRankingPopResult);function FeedRankingPopResult(){var e;Object(s.default)(this,FeedRankingPopResult);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=a.call.apply(a,[this].concat(n)),Object(g.default)(Object(v.default)(e),"onClose",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];f.a.closeAllPops(),M.a.closePop(B.a.FEED_RANKING_POP,e)})),Object(g.default)(Object(v.default)(e),"gainLock",!1),Object(g.default)(Object(v.default)(e),"missionBtnClick",(function(){var a=f.a.myData;e.gainLock||_.default.isbagExceedsLimit()||(e.gainLock=!0,Object(Y.a)().then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(H.x)(e),n=t.lastCompetitionInfo,r=void 0===n?{}:n,l=t.nextCompetitionInfo,c=t.missionMap,s=r.contestantInfos,i=void 0===s?[]:s,o=i.find((function(e){return e.uid===T.a.userID}))||a||{},m=o.rewardList,u=void 0===m?[]:m;if(u.length&&(Object(X.c)(u),_.default.updateFoodAndAnimal(u)),c){var d=Object(X.a)(c);O.a.setAllMissions(d)}f.a.set("showDrawPop",!1),f.a.setNextData(l)})).catch((function(){e.onClose(!1)})).finally((function(){e.gainLock=!1})))})),e}return Object(i.default)(FeedRankingPopResult,[{"key":"render","value":function render(){var e=f.a.myData,a=void 0===e?{}:e,t=f.a.myRankNum,n=f.a.rankList,r=a.rewardList,l=void 0===r?[]:r;return d.a.createElement(c.a,{"className":"feed-ranking-result"},d.a.createElement(E.a,{"isShow":!0},d.a.createElement(p.a,null),d.a.createElement(k.a,{"type":"pink"},d.a.createElement(c.a,{"className":"close-icon","onClick":this.onClose}),d.a.createElement(c.a,{"className":"r-bg"},d.a.createElement(c.a,{"className":"r-content"},d.a.createElement(c.a,{"className":"r-top"},d.a.createElement(c.a,{"className":"r-num-desc"},"最终排名"),d.a.createElement(c.a,{"className":"r-result-num fl-x ff-m bg-init"},"第",t,"名")),d.a.createElement(c.a,{"className":"r-result-reward"},d.a.createElement(c.a,{"className":"reward-icon-wrap"},d.a.createElement(V.a,{"rewardList":l,"isBig":!0})),d.a.createElement(c.a,{"className":"r-reward-title"},d.a.createElement(R.a,{"preWords":"恭喜获得","size":46,"rewardResult":l})),d.a.createElement(c.a,{"onClick":this.missionBtnClick,"className":"btn-normal-v2 mt-32"},"领取奖励")),d.a.createElement(c.a,{"className":"r-list-wrap"},d.a.createElement(I,{"rankList":n})))))))}}]),FeedRankingPopResult}(u.Component))||r,$=(t("hW1m"),Object(w.observer)(l=function(e){Object(o.default)(FeedRanking,e);var a=Object(m.default)(FeedRanking);function FeedRanking(){return Object(s.default)(this,FeedRanking),a.apply(this,arguments)}return Object(i.default)(FeedRanking,[{"key":"render","value":function render(){var e=f.a.showDrawPop,a=f.a.showRankingPop,t=f.a.isEnd;return d.a.createElement(c.a,{"className":"feed-ranking"},a&&!t&&d.a.createElement(U,null),(e||t)&&d.a.createElement(Z,null))}}]),FeedRanking}(u.Component))||l);a.default=$},"hW1m":function(e,a,t){}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-ranch/js/lazy_feedRankPop_db78e26d861580a32465.js.map