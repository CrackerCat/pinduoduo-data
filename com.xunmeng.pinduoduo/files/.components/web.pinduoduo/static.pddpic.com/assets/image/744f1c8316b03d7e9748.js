(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{"TTiW":function(e,a,t){"use strict";t.r(a);var n=t("99ak"),r=t("JqEv"),l=t("aDV6"),s=t("ODXe"),c=t("brQG"),o=t("p5LO"),m=t("q1tI"),i=t.n(m),d=t("TyAF"),g=t("TSYQ"),u=t.n(g),f=t("BsJF"),p=t("tSAD"),w=t("PS6B"),h=t("FoPm"),E=t("bmJN"),N=t("k/Ow"),b=t("q0O3"),v=t("8tQc"),T=t("SLG6"),C=Object(d.observer)((function Tips(){return i.a.createElement(o.a,{"className":u()("bottomTip",{"hide":!f.a.showBottomTips})},"下滑查看更多奖励")}));t("l0N3");a.default=Object(d.observer)((function ProgressChallengePop(){var e=this;Object(m.useEffect)((function(){d.length<=3&&f.a.set("showBottomTips",!1)}),[]);var a=function onClose(){f.a.togglePopup(!1)},t=function handleRewardClick(e,a){e&&!a&&b.default.dealMissionStore.rewardGain(v.h.missionProgressChallenge)},d=f.a.stageTarget,g=f.a.missionInfo,O=f.a.rewardMap,k=f.a.singalStageHeight,B=h.a.stageProgress,I=T.a.rewardsConfig,P=Object(m.useCallback)((function(e){var a=!0;if(d.length<=3&&(a=!1),e&&e.detail&&e.detail.scrollTop){var t=e.detail,n=t.scrollTop;a=t.scrollHeight-n>300}f.a.set("showBottomTips",a)}),[]),S=k*(d.length-1),y=Object(E.a)(S),A=g||{},j=A.finishCount,D=void 0===j?0:j,x=A.drawCount,F=void 0===x?0:x,J=f.a.getApproachedNum(B),R=f.a.stagePercent(y),q=Object(s.default)(R,2),G=q[0],L=q[1],Q=h.a.animalAction,H=h.a.productUnit;return i.a.createElement(n.a,{"isShow":!0},i.a.createElement(l.a,null),i.a.createElement(o.a,{"className":"progressChallengePop bg-init"},i.a.createElement(o.a,{"className":"popupClose","onClick":a}),i.a.createElement(o.a,{"className":"title ff-m"},Q,"至一定进度可领取对应奖励"),i.a.createElement(r.a,{"className":"progressContent","scrollY":!0,"scrollTop":72*(J-1),"onScroll":P},d.map((function(a,n){var r=B>=d[n],l=n+1<=F,s=O[n+1]||O[-1]||{},m=(I[s.rewardType]||{}).progressChallengeRewardIcon;return i.a.createElement(o.a,{"className":"rewardItem fl-xy","key":"stage"+n,"id":"stage"+n,"onClick":t.bind(e,r,l)},i.a.createElement(o.a,{"className":"stageAmount"},Q,"至",a,H),i.a.createElement(o.a,{"className":u()("stageDot",{"redDot":r})}),i.a.createElement(o.a,{"className":"stageReward relative flex flex-row"},i.a.createElement(p.a,{"className":"rewardIcon","src":m?Object(w.d)(m):""}),function renderRewardItem(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e||{},r=n.rewardType,l=n.rewardAmount,s=N.d[r]||{},m=s.name,d=s.unit,g=h.a.isBuffAnimal(r),f=r===N.c.FOOD,p="";return f?p="".concat(l+d):g&&(p="x".concat(l)),i.a.createElement(o.a,{"className":"rewardInfo"},!a&&i.a.createElement(o.a,{"className":"textName"},"奖励"),p&&i.a.createElement(o.a,{"className":"rewardAmount ff-m"},m,i.a.createElement(c.a,{"className":"text-fb7"},p)),a&&i.a.createElement(o.a,{"className":u()("drawBtn",{"isDraw":t})},t?"已领取":"可领取"))}(s,r,l)))})),i.a.createElement(o.a,{"className":"topBar"},i.a.createElement(o.a,{"className":u()("topInner half",{"full":D>0||B>=d[0]})})),i.a.createElement(o.a,{"className":"progressBar","style":{"height":"".concat(y)}}),i.a.createElement(o.a,{"className":"barInner","style":{"height":"".concat(G)}}),i.a.createElement(o.a,{"className":"tagLine"},i.a.createElement(o.a,{"className":u()("currentTag",{"static":D<=0&&B<d[0]}),"style":{"top":"".concat(L)}},"已产",B,H))),i.a.createElement(C,null),i.a.createElement(o.a,{"className":"btn-normal-v2","onClick":function goFeed(){b.default.feedStore.feed(),a()}},"去喂食",Q,"领奖励")))}))},"l0N3":function(e,a,t){}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-ranch/js/lazy_progressRPop_254c270a38611ab75309.js.map