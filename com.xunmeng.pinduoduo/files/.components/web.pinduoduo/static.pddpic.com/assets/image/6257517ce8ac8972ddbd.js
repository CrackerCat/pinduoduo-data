(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{"BAxi":function(e,t,n){},"DWmq":function(e,t,n){},"FTzs":function(e,t,n){"use strict";n.r(t);var i,a,s,r=n("99ak"),o=n("p5LO"),c=n("aDV6"),l=n("1OyB"),u=n("vuIU"),d=n("JX7q"),p=n("Ji7U"),m=n("LK+K"),f=n("rePB"),O=n("q1tI"),b=n.n(O),M=n("TyAF"),S=n("q0O3"),y=n("KQm4"),v=n("a3ss"),C=n("Y65e"),h=(n("+JCI"),n("2vnA")),w=n("g4sS"),j=n("k/Ow"),E=new(i=function(e){Object(p.default)(RandomMissionStore,e);var t=Object(m.default)(RandomMissionStore);function RandomMissionStore(){var e;Object(l.default)(this,RandomMissionStore);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),Object(v.a)(Object(d.default)(e),"missionMap",a,Object(d.default)(e)),e}return Object(u.default)(RandomMissionStore,[{"key":"initMissions","value":function initMissions(e){e.size&&(this.missionMap=e)}},{"key":"sortRewardList","value":function sortRewardList(e){var t=Object(h.toJS)(e);(t||[]).sort((function(e,t){return Number(e.rewardType)-Number(t.rewardType)}));var n=[],i=t.find((function(e){return e.rewardType===j.c.REAL_MONEY}));return i?(n.push(i),n.push.apply(n,Object(y.default)(t.filter((function(e){return e.rewardType!==j.c.REAL_MONEY}))))):n.push.apply(n,Object(y.default)(t)),n}},{"key":"missionList","get":function get(){var e=this,t=[];return(this.missionMap||new Map).forEach((function(n,i){n.rewardResult&&(n.rewardResult=e.sortRewardList(n.rewardResult)),t.push(n)})),t.length>3&&(t.length=3),t}}]),RandomMissionStore}(w.a),a=Object(C.a)(i.prototype,"missionMap",[h.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return new Map}}),Object(C.a)(i.prototype,"missionList",[h.computed],Object.getOwnPropertyDescriptor(i.prototype,"missionList"),i.prototype),Object(C.a)(i.prototype,"initMissions",[h.action],Object.getOwnPropertyDescriptor(i.prototype,"initMissions"),i.prototype),i),I=(n("DWmq"),n("TSYQ")),P=n.n(I),T=n("oyLW"),k=n("fWkr"),L=n("PS6B"),R=n("tSAD"),g=(n("BAxi"),function(e){Object(p.default)(MissionCard,e);var t=Object(m.default)(MissionCard);function MissionCard(){return Object(l.default)(this,MissionCard),t.apply(this,arguments)}return Object(u.default)(MissionCard,[{"key":"render","value":function render(){var e=this.props,t=e.missionInfo,n=e.size,i=e.onCardClick,a=e.index,s=e.missionKvSource,r=t||{},c=r.missionType,l=void 0===c?0:c,u=r.rewardResult,d=void 0===u?[]:u,p=r.subMissionType,m=void 0===p?0:p,f=k.a[m||l]||{},O=f.cardDesc,M=void 0===O?"":O,S=f.missionCardImgSrc,y=void 0===S?"":S,v=f.sloganSub,C=void 0===v?"":v,h=s&&s.popupImgSrc?Object(L.d)(s.popupImgSrc):y,w=M.split(k.f.reward)||[];return b.a.createElement(o.a,{"className":P()("missionCardWrapper ff-m fl-y flex-col","cardSize".concat(n),{"mt":3===n&&1!==a}),"onClick":function onClick(){return i(l)},"key":"".concat(l,"_").concat(a)},b.a.createElement(o.a,{"className":"missionTitle"},C),b.a.createElement(R.a,{"className":"missionIcon","src":h}),b.a.createElement(o.a,{"className":"missionDesc"},b.a.createElement(T.a,{"rewardResult":d,"preWords":w[0]||"","suffix":w[1]||"","rewardIcon":!1})),b.a.createElement(o.a,{"className":"cardBtn fl-xy"},"选我"))}}]),MissionCard}(O.Component)),N=n("1YS8"),_=n("GkIh"),A=n("FoPm"),x=n("EFCC"),D=Object(M.observer)(s=function(e){Object(p.default)(SelectMissionPop,e);var t=Object(m.default)(SelectMissionPop);function SelectMissionPop(){var e;Object(l.default)(this,SelectMissionPop);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),Object(f.default)(Object(d.default)(e),"handleCardClick",(function(e){S.default.dealMissionStore.triggerMission(e).catch((function(){N.a.closePop(_.a.MULTI_MISSIONS_SELECT_POP)})).then((function(){N.a.closePop(_.a.MULTI_MISSIONS_SELECT_POP,!1,_.a.MISSION_TRIGGER_POP)}))})),Object(f.default)(Object(d.default)(e),"onClose",(function(){N.a.closePop(_.a.MULTI_MISSIONS_SELECT_POP)})),e}return Object(u.default)(SelectMissionPop,[{"key":"renderCard","value":function renderCard(){var e=this,t=E.missionList,n=t.length,i=A.a.animalMissionSource,a=void 0===i?{}:i;return n>0&&b.a.createElement(r.a,{"isShow":!0},b.a.createElement(c.a,null),b.a.createElement(o.a,{"className":"missionListWrapper"},b.a.createElement(x.a,{"type":"inTopRightOut","onClose":this.onClose}),b.a.createElement(o.a,{"className":"selectTitle"},"限时派送，牧场惊喜奖励",n>1?"".concat(n,"选1"):""),b.a.createElement(o.a,{"className":"fl-x mt-40"},t.map((function(t,i){var s=t.missionType,r=void 0===s?0:s,o=t.subMissionType,c=r+"_"+i,l=a[o||r];return b.a.createElement(g,{"size":n,"missionInfo":t,"onCardClick":e.handleCardClick,"key":c,"index":i,"missionKvSource":l})})))))}},{"key":"render","value":function render(){return b.a.createElement(o.a,{"className":"multi-mision-component"},this.renderCard())}}]),SelectMissionPop}(O.Component))||s;t.default=D}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-ranch/js/lazy_selectMissionPop_0e5a09130dede8ea9cfd.js.map