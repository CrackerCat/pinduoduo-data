/*! For license information please see 152_83e4a522fd0fbde95738.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[152,5],{"+Yvy":function(p,m,y){},"/D+Z":function(p,m,y){},"/jzl":function(p,m,y){p.exports=y("npJN")(52)},"0WRm":function(p,m,y){},"1U8y":function(p,m,y){},"2FKz":function(p,m,y){},"2LMo":function(p,m,y){},"2OEX":function(p,m,y){p.exports=y("YZFv")(375)},"39Em":function(p,m,y){p.exports=y("YZFv")(337)},"3OdE":function(p,m,y){p.exports=y("YZFv")(61)},"3VHQ":function(p,m,y){p.exports=y("YZFv")(36)},"4B4o":function(p,m,y){},"4TWP":function(p,m,y){},"52AB":function(p,m,y){},"5Otn":function(p,m,y){p.exports=y("YZFv")(114)},"8S1U":function(p,m,y){},"8bWy":function(p,m,y){!function(p){var m,y,g,O=String.fromCharCode;function ucs2decode(p){for(var m,y,g=[],O=0,k=p.length;O<k;)(m=p.charCodeAt(O++))>=55296&&m<=56319&&O<k?56320==(64512&(y=p.charCodeAt(O++)))?g.push(((1023&m)<<10)+(1023&y)+65536):(g.push(m),O--):g.push(m);return g}function checkScalarValue(p){if(p>=55296&&p<=57343)throw Error("Lone surrogate U+"+p.toString(16).toUpperCase()+" is not a scalar value")}function createByte(p,m){return O(p>>m&63|128)}function encodeCodePoint(p){if(0==(4294967168&p))return O(p);var m="";return 0==(4294965248&p)?m=O(p>>6&31|192):0==(4294901760&p)?(checkScalarValue(p),m=O(p>>12&15|224),m+=createByte(p,6)):0==(4292870144&p)&&(m=O(p>>18&7|240),m+=createByte(p,12),m+=createByte(p,6)),m+=O(63&p|128)}function readContinuationByte(){if(g>=y)throw Error("Invalid byte index");var p=255&m[g];if(g++,128==(192&p))return 63&p;throw Error("Invalid continuation byte")}function decodeSymbol(){var p,O;if(g>y)throw Error("Invalid byte index");if(g==y)return!1;if(p=255&m[g],g++,0==(128&p))return p;if(192==(224&p)){if((O=(31&p)<<6|readContinuationByte())>=128)return O;throw Error("Invalid continuation byte")}if(224==(240&p)){if((O=(15&p)<<12|readContinuationByte()<<6|readContinuationByte())>=2048)return checkScalarValue(O),O;throw Error("Invalid continuation byte")}if(240==(248&p)&&(O=(7&p)<<18|readContinuationByte()<<12|readContinuationByte()<<6|readContinuationByte())>=65536&&O<=1114111)return O;throw Error("Invalid UTF-8 detected")}p.version="3.0.0",p.encode=function utf8encode(p){for(var m=ucs2decode(p),y=m.length,g=-1,O="";++g<y;)O+=encodeCodePoint(m[g]);return O},p.decode=function utf8decode(p){m=ucs2decode(p),y=m.length,g=0;for(var k,j=[];!1!==(k=decodeSymbol());)j.push(k);return function ucs2encode(p){for(var m,y=p.length,g=-1,k="";++g<y;)(m=p[g])>65535&&(k+=O((m-=65536)>>>10&1023|55296),m=56320|1023&m),k+=O(m);return k}(j)}}(m)},"8oxB":function(p,m,y){p.exports=y("YZFv")(72)},"9LfL":function(p,m,y){p.exports=y("YZFv")(237)},"9rL1":function(p,m,y){p.exports=y("YZFv")(20)},"C/Wn":function(p,m,y){},"DVls":function(p,m,y){var g,O,k,j;function _typeof(p){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?typeof p:p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p}j=function(){return function e(p,m,y){function a(O,k){if(!m[O]){if(!p[O]){if(g)return g(O,!0);var j=new Error("Cannot find module '"+O+"'");throw j.code="MODULE_NOT_FOUND",j}var I=m[O]={"exports":{}};p[O][0].call(I.exports,(function(m){return a(p[O][1][m]||m)}),I,I.exports,e,p,m,y)}return m[O].exports}for(var g=!1,O=0;O<y.length;O++)a(y[O]);return a}({"1":[function(p,m,y){"use strict";function n(p,m){return Object.prototype.hasOwnProperty.call(p,m)}var g="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;y.assign=function(p){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var y=m.shift();if(y){if("object"!=_typeof(y))throw new TypeError(y+"must be non-object");for(var g in y)n(y,g)&&(p[g]=y[g])}}return p},y.shrinkBuf=function(p,m){return p.length===m?p:p.subarray?p.subarray(0,m):(p.length=m,p)};var O={"arraySet":function arraySet(p,m,y,g,O){if(m.subarray&&p.subarray)p.set(m.subarray(y,y+g),O);else for(var k=0;k<g;k++)p[O+k]=m[y+k]},"flattenChunks":function flattenChunks(p){var m,y,g,O,k,j;for(g=0,m=0,y=p.length;m<y;m++)g+=p[m].length;for(j=new Uint8Array(g),O=0,m=0,y=p.length;m<y;m++)k=p[m],j.set(k,O),O+=k.length;return j}},k={"arraySet":function arraySet(p,m,y,g,O){for(var k=0;k<g;k++)p[O+k]=m[y+k]},"flattenChunks":function flattenChunks(p){return[].concat.apply([],p)}};y.setTyped=function(p){p?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,O)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,k))},y.setTyped(g)},{}],"2":[function(p,m,y){"use strict";function n(p,m){if(m<65537&&(p.subarray&&k||!p.subarray&&O))return String.fromCharCode.apply(null,g.shrinkBuf(p,m));for(var y="",j=0;j<m;j++)y+=String.fromCharCode(p[j]);return y}var g=p("./common"),O=!0,k=!0;try{String.fromCharCode.apply(null,[0])}catch(p){O=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(p){k=!1}for(var j=new g.Buf8(256),I=0;I<256;I++)j[I]=I>=252?6:I>=248?5:I>=240?4:I>=224?3:I>=192?2:1;j[254]=j[254]=1,y.string2buf=function(p){var m,y,O,k,j,I=p.length,P=0;for(k=0;k<I;k++)55296==(64512&(y=p.charCodeAt(k)))&&k+1<I&&56320==(64512&(O=p.charCodeAt(k+1)))&&(y=65536+(y-55296<<10)+(O-56320),k++),P+=y<128?1:y<2048?2:y<65536?3:4;for(m=new g.Buf8(P),j=0,k=0;j<P;k++)55296==(64512&(y=p.charCodeAt(k)))&&k+1<I&&56320==(64512&(O=p.charCodeAt(k+1)))&&(y=65536+(y-55296<<10)+(O-56320),k++),y<128?m[j++]=y:y<2048?(m[j++]=192|y>>>6,m[j++]=128|63&y):y<65536?(m[j++]=224|y>>>12,m[j++]=128|y>>>6&63,m[j++]=128|63&y):(m[j++]=240|y>>>18,m[j++]=128|y>>>12&63,m[j++]=128|y>>>6&63,m[j++]=128|63&y);return m},y.buf2binstring=function(p){return n(p,p.length)},y.binstring2buf=function(p){for(var m=new g.Buf8(p.length),y=0,O=m.length;y<O;y++)m[y]=p.charCodeAt(y);return m},y.buf2string=function(p,m){var y,g,O,k,I=m||p.length,P=new Array(2*I);for(g=0,y=0;y<I;)if((O=p[y++])<128)P[g++]=O;else if((k=j[O])>4)P[g++]=65533,y+=k-1;else{for(O&=2===k?31:3===k?15:7;k>1&&y<I;)O=O<<6|63&p[y++],k--;k>1?P[g++]=65533:O<65536?P[g++]=O:(O-=65536,P[g++]=55296|O>>10&1023,P[g++]=56320|1023&O)}return n(P,g)},y.utf8border=function(p,m){var y;for((m=m||p.length)>p.length&&(m=p.length),y=m-1;y>=0&&128==(192&p[y]);)y--;return y<0||0===y?m:y+j[p[y]]>m?y:m}},{"./common":1}],"3":[function(p,m,y){"use strict";m.exports=function(p,m,y,g){for(var O=65535&p|0,k=p>>>16&65535|0,j=0;0!==y;){y-=j=y>2e3?2e3:y;do{k=k+(O=O+m[g++]|0)|0}while(--j);O%=65521,k%=65521}return O|k<<16|0}},{}],"4":[function(p,m,y){"use strict";m.exports={"Z_NO_FLUSH":0,"Z_PARTIAL_FLUSH":1,"Z_SYNC_FLUSH":2,"Z_FULL_FLUSH":3,"Z_FINISH":4,"Z_BLOCK":5,"Z_TREES":6,"Z_OK":0,"Z_STREAM_END":1,"Z_NEED_DICT":2,"Z_ERRNO":-1,"Z_STREAM_ERROR":-2,"Z_DATA_ERROR":-3,"Z_BUF_ERROR":-5,"Z_NO_COMPRESSION":0,"Z_BEST_SPEED":1,"Z_BEST_COMPRESSION":9,"Z_DEFAULT_COMPRESSION":-1,"Z_FILTERED":1,"Z_HUFFMAN_ONLY":2,"Z_RLE":3,"Z_FIXED":4,"Z_DEFAULT_STRATEGY":0,"Z_BINARY":0,"Z_TEXT":1,"Z_UNKNOWN":2,"Z_DEFLATED":8}},{}],"5":[function(p,m,y){"use strict";var g=function(){for(var p,m=[],y=0;y<256;y++){p=y;for(var g=0;g<8;g++)p=1&p?3988292384^p>>>1:p>>>1;m[y]=p}return m}();m.exports=function(p,m,y,O){var k=g,j=O+y;p^=-1;for(var I=O;I<j;I++)p=p>>>8^k[255&(p^m[I])];return-1^p}},{}],"6":[function(p,m,y){"use strict";m.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],"7":[function(p,m,y){"use strict";m.exports=function(p,m){var y,g,O,k,j,I,P,M,C,T,E,S,x,A,N,L,_,R,D,z,B,G,F,U,q;y=p.state,g=p.next_in,U=p.input,O=g+(p.avail_in-5),k=p.next_out,q=p.output,j=k-(m-p.avail_out),I=k+(p.avail_out-257),P=y.dmax,M=y.wsize,C=y.whave,T=y.wnext,E=y.window,S=y.hold,x=y.bits,A=y.lencode,N=y.distcode,L=(1<<y.lenbits)-1,_=(1<<y.distbits)-1;e:do{x<15&&(S+=U[g++]<<x,x+=8,S+=U[g++]<<x,x+=8),R=A[S&L];t:for(;;){if(S>>>=D=R>>>24,x-=D,0==(D=R>>>16&255))q[k++]=65535&R;else{if(!(16&D)){if(0==(64&D)){R=A[(65535&R)+(S&(1<<D)-1)];continue t}if(32&D){y.mode=12;break e}p.msg="invalid literal/length code",y.mode=30;break e}z=65535&R,(D&=15)&&(x<D&&(S+=U[g++]<<x,x+=8),z+=S&(1<<D)-1,S>>>=D,x-=D),x<15&&(S+=U[g++]<<x,x+=8,S+=U[g++]<<x,x+=8),R=N[S&_];n:for(;;){if(S>>>=D=R>>>24,x-=D,!(16&(D=R>>>16&255))){if(0==(64&D)){R=N[(65535&R)+(S&(1<<D)-1)];continue n}p.msg="invalid distance code",y.mode=30;break e}if(B=65535&R,x<(D&=15)&&(S+=U[g++]<<x,(x+=8)<D&&(S+=U[g++]<<x,x+=8)),(B+=S&(1<<D)-1)>P){p.msg="invalid distance too far back",y.mode=30;break e}if(S>>>=D,x-=D,B>(D=k-j)){if((D=B-D)>C&&y.sane){p.msg="invalid distance too far back",y.mode=30;break e}if(G=0,F=E,0===T){if(G+=M-D,D<z){z-=D;do{q[k++]=E[G++]}while(--D);G=k-B,F=q}}else if(T<D){if(G+=M+T-D,(D-=T)<z){z-=D;do{q[k++]=E[G++]}while(--D);if(G=0,T<z){z-=D=T;do{q[k++]=E[G++]}while(--D);G=k-B,F=q}}}else if(G+=T-D,D<z){z-=D;do{q[k++]=E[G++]}while(--D);G=k-B,F=q}for(;z>2;)q[k++]=F[G++],q[k++]=F[G++],q[k++]=F[G++],z-=3;z&&(q[k++]=F[G++],z>1&&(q[k++]=F[G++]))}else{G=k-B;do{q[k++]=q[G++],q[k++]=q[G++],q[k++]=q[G++],z-=3}while(z>2);z&&(q[k++]=q[G++],z>1&&(q[k++]=q[G++]))}break}}break}}while(g<O&&k<I);g-=z=x>>3,S&=(1<<(x-=z<<3))-1,p.next_in=g,p.next_out=k,p.avail_in=g<O?O-g+5:5-(g-O),p.avail_out=k<I?I-k+257:257-(k-I),y.hold=S,y.bits=x}},{}],"8":[function(p,m,y){"use strict";function n(p){return(p>>>24&255)+(p>>>8&65280)+((65280&p)<<8)+((255&p)<<24)}function a(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new k.Buf16(320),this.work=new k.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(p){var m;return p&&p.state?(m=p.state,p.total_in=p.total_out=m.total=0,p.msg="",m.wrap&&(p.adler=1&m.wrap),m.mode=x,m.last=0,m.havedict=0,m.dmax=32768,m.head=null,m.hold=0,m.bits=0,m.lencode=m.lendyn=new k.Buf32(N),m.distcode=m.distdyn=new k.Buf32(L),m.sane=1,m.back=-1,E):S}function o(p){var m;return p&&p.state?((m=p.state).wsize=0,m.whave=0,m.wnext=0,r(p)):S}function s(p,m){var y,g;return p&&p.state?(g=p.state,m<0?(y=0,m=-m):(y=1+(m>>4),m<48&&(m&=15)),m&&(m<8||m>15)?S:(null!==g.window&&g.wbits!==m&&(g.window=null),g.wrap=y,g.wbits=m,o(p))):S}function f(p,m){var y,g;return p?(g=new a,p.state=g,g.window=null,(y=s(p,m))!==E&&(p.state=null),y):S}function l(p){if(_){var m;for(g=new k.Buf32(512),O=new k.Buf32(32),m=0;m<144;)p.lens[m++]=8;for(;m<256;)p.lens[m++]=9;for(;m<280;)p.lens[m++]=7;for(;m<288;)p.lens[m++]=8;for(M(C,p.lens,0,288,g,0,p.work,{"bits":9}),m=0;m<32;)p.lens[m++]=5;M(T,p.lens,0,32,O,0,p.work,{"bits":5}),_=!1}p.lencode=g,p.lenbits=9,p.distcode=O,p.distbits=5}function d(p,m,y,g){var O,j=p.state;return null===j.window&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new k.Buf8(j.wsize)),g>=j.wsize?(k.arraySet(j.window,m,y-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):((O=j.wsize-j.wnext)>g&&(O=g),k.arraySet(j.window,m,y-g,O,j.wnext),(g-=O)?(k.arraySet(j.window,m,y-g,g,0),j.wnext=g,j.whave=j.wsize):(j.wnext+=O,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=O))),0}var g,O,k=p("../utils/common"),j=p("./adler32"),I=p("./crc32"),P=p("./inffast"),M=p("./inftrees"),C=1,T=2,E=0,S=-2,x=1,A=12,N=852,L=592,_=!0;y.inflateReset=o,y.inflateReset2=s,y.inflateResetKeep=r,y.inflateInit=function(p){return f(p,15)},y.inflateInit2=f,y.inflate=function(p,m){var y,g,O,N,L,_,R,D,z,B,G,F,U,q,W,H,K,Y,Z,V,J,X,Q,$,ee=0,te=new k.Buf8(4),ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!p||!p.state||!p.output||!p.input&&0!==p.avail_in)return S;(y=p.state).mode===A&&(y.mode=13),L=p.next_out,O=p.output,R=p.avail_out,N=p.next_in,g=p.input,_=p.avail_in,D=y.hold,z=y.bits,B=_,G=R,X=E;e:for(;;)switch(y.mode){case x:if(0===y.wrap){y.mode=13;break}for(;z<16;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}if(2&y.wrap&&35615===D){y.check=0,te[0]=255&D,te[1]=D>>>8&255,y.check=I(y.check,te,2,0),D=0,z=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&D)<<8)+(D>>8))%31){p.msg="incorrect header check",y.mode=30;break}if(8!=(15&D)){p.msg="unknown compression method",y.mode=30;break}if(z-=4,J=8+(15&(D>>>=4)),0===y.wbits)y.wbits=J;else if(J>y.wbits){p.msg="invalid window size",y.mode=30;break}y.dmax=1<<J,p.adler=y.check=1,y.mode=512&D?10:A,D=0,z=0;break;case 2:for(;z<16;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}if(y.flags=D,8!=(255&y.flags)){p.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){p.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=D>>8&1),512&y.flags&&(te[0]=255&D,te[1]=D>>>8&255,y.check=I(y.check,te,2,0)),D=0,z=0,y.mode=3;case 3:for(;z<32;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}y.head&&(y.head.time=D),512&y.flags&&(te[0]=255&D,te[1]=D>>>8&255,te[2]=D>>>16&255,te[3]=D>>>24&255,y.check=I(y.check,te,4,0)),D=0,z=0,y.mode=4;case 4:for(;z<16;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}y.head&&(y.head.xflags=255&D,y.head.os=D>>8),512&y.flags&&(te[0]=255&D,te[1]=D>>>8&255,y.check=I(y.check,te,2,0)),D=0,z=0,y.mode=5;case 5:if(1024&y.flags){for(;z<16;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}y.length=D,y.head&&(y.head.extra_len=D),512&y.flags&&(te[0]=255&D,te[1]=D>>>8&255,y.check=I(y.check,te,2,0)),D=0,z=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&((F=y.length)>_&&(F=_),F&&(y.head&&(J=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),k.arraySet(y.head.extra,g,N,F,J)),512&y.flags&&(y.check=I(y.check,g,F,N)),_-=F,N+=F,y.length-=F),y.length))break e;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(0===_)break e;F=0;do{J=g[N+F++],y.head&&J&&y.length<65536&&(y.head.name+=String.fromCharCode(J))}while(J&&F<_);if(512&y.flags&&(y.check=I(y.check,g,F,N)),_-=F,N+=F,J)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(0===_)break e;F=0;do{J=g[N+F++],y.head&&J&&y.length<65536&&(y.head.comment+=String.fromCharCode(J))}while(J&&F<_);if(512&y.flags&&(y.check=I(y.check,g,F,N)),_-=F,N+=F,J)break e}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;z<16;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}if(D!==(65535&y.check)){p.msg="header crc mismatch",y.mode=30;break}D=0,z=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),p.adler=y.check=0,y.mode=A;break;case 10:for(;z<32;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}p.adler=y.check=n(D),D=0,z=0,y.mode=11;case 11:if(0===y.havedict)return p.next_out=L,p.avail_out=R,p.next_in=N,p.avail_in=_,y.hold=D,y.bits=z,2;p.adler=y.check=1,y.mode=A;case A:if(5===m||6===m)break e;case 13:if(y.last){D>>>=7&z,z-=7&z,y.mode=27;break}for(;z<3;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}switch(y.last=1&D,z-=1,3&(D>>>=1)){case 0:y.mode=14;break;case 1:if(l(y),y.mode=20,6===m){D>>>=2,z-=2;break e}break;case 2:y.mode=17;break;case 3:p.msg="invalid block type",y.mode=30}D>>>=2,z-=2;break;case 14:for(D>>>=7&z,z-=7&z;z<32;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}if((65535&D)!=(D>>>16^65535)){p.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&D,D=0,z=0,y.mode=15,6===m)break e;case 15:y.mode=16;case 16:if(F=y.length){if(F>_&&(F=_),F>R&&(F=R),0===F)break e;k.arraySet(O,g,N,F,L),_-=F,N+=F,R-=F,L+=F,y.length-=F;break}y.mode=A;break;case 17:for(;z<14;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}if(y.nlen=257+(31&D),D>>>=5,z-=5,y.ndist=1+(31&D),D>>>=5,z-=5,y.ncode=4+(15&D),D>>>=4,z-=4,y.nlen>286||y.ndist>30){p.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;z<3;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}y.lens[ne[y.have++]]=7&D,D>>>=3,z-=3}for(;y.have<19;)y.lens[ne[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,Q={"bits":y.lenbits},X=M(0,y.lens,0,19,y.lencode,0,y.work,Q),y.lenbits=Q.bits,X){p.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;H=(ee=y.lencode[D&(1<<y.lenbits)-1])>>>16&255,K=65535&ee,!((W=ee>>>24)<=z);){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}if(K<16)D>>>=W,z-=W,y.lens[y.have++]=K;else{if(16===K){for($=W+2;z<$;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}if(D>>>=W,z-=W,0===y.have){p.msg="invalid bit length repeat",y.mode=30;break}J=y.lens[y.have-1],F=3+(3&D),D>>>=2,z-=2}else if(17===K){for($=W+3;z<$;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}z-=W,J=0,F=3+(7&(D>>>=W)),D>>>=3,z-=3}else{for($=W+7;z<$;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}z-=W,J=0,F=11+(127&(D>>>=W)),D>>>=7,z-=7}if(y.have+F>y.nlen+y.ndist){p.msg="invalid bit length repeat",y.mode=30;break}for(;F--;)y.lens[y.have++]=J}}if(30===y.mode)break;if(0===y.lens[256]){p.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,Q={"bits":y.lenbits},X=M(C,y.lens,0,y.nlen,y.lencode,0,y.work,Q),y.lenbits=Q.bits,X){p.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,Q={"bits":y.distbits},X=M(T,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,Q),y.distbits=Q.bits,X){p.msg="invalid distances set",y.mode=30;break}if(y.mode=20,6===m)break e;case 20:y.mode=21;case 21:if(_>=6&&R>=258){p.next_out=L,p.avail_out=R,p.next_in=N,p.avail_in=_,y.hold=D,y.bits=z,P(p,G),L=p.next_out,O=p.output,R=p.avail_out,N=p.next_in,g=p.input,_=p.avail_in,D=y.hold,z=y.bits,y.mode===A&&(y.back=-1);break}for(y.back=0;H=(ee=y.lencode[D&(1<<y.lenbits)-1])>>>16&255,K=65535&ee,!((W=ee>>>24)<=z);){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}if(H&&0==(240&H)){for(Y=W,Z=H,V=K;H=(ee=y.lencode[V+((D&(1<<Y+Z)-1)>>Y)])>>>16&255,K=65535&ee,!(Y+(W=ee>>>24)<=z);){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}D>>>=Y,z-=Y,y.back+=Y}if(D>>>=W,z-=W,y.back+=W,y.length=K,0===H){y.mode=26;break}if(32&H){y.back=-1,y.mode=A;break}if(64&H){p.msg="invalid literal/length code",y.mode=30;break}y.extra=15&H,y.mode=22;case 22:if(y.extra){for($=y.extra;z<$;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}y.length+=D&(1<<y.extra)-1,D>>>=y.extra,z-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;H=(ee=y.distcode[D&(1<<y.distbits)-1])>>>16&255,K=65535&ee,!((W=ee>>>24)<=z);){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}if(0==(240&H)){for(Y=W,Z=H,V=K;H=(ee=y.distcode[V+((D&(1<<Y+Z)-1)>>Y)])>>>16&255,K=65535&ee,!(Y+(W=ee>>>24)<=z);){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}D>>>=Y,z-=Y,y.back+=Y}if(D>>>=W,z-=W,y.back+=W,64&H){p.msg="invalid distance code",y.mode=30;break}y.offset=K,y.extra=15&H,y.mode=24;case 24:if(y.extra){for($=y.extra;z<$;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}y.offset+=D&(1<<y.extra)-1,D>>>=y.extra,z-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){p.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(0===R)break e;if(F=G-R,y.offset>F){if((F=y.offset-F)>y.whave&&y.sane){p.msg="invalid distance too far back",y.mode=30;break}F>y.wnext?(F-=y.wnext,U=y.wsize-F):U=y.wnext-F,F>y.length&&(F=y.length),q=y.window}else q=O,U=L-y.offset,F=y.length;F>R&&(F=R),R-=F,y.length-=F;do{O[L++]=q[U++]}while(--F);0===y.length&&(y.mode=21);break;case 26:if(0===R)break e;O[L++]=y.length,R--,y.mode=21;break;case 27:if(y.wrap){for(;z<32;){if(0===_)break e;_--,D|=g[N++]<<z,z+=8}if(G-=R,p.total_out+=G,y.total+=G,G&&(p.adler=y.check=y.flags?I(y.check,O,G,L-G):j(y.check,O,G,L-G)),G=R,(y.flags?D:n(D))!==y.check){p.msg="incorrect data check",y.mode=30;break}D=0,z=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;z<32;){if(0===_)break e;_--,D+=g[N++]<<z,z+=8}if(D!==(4294967295&y.total)){p.msg="incorrect length check",y.mode=30;break}D=0,z=0}y.mode=29;case 29:X=1;break e;case 30:X=-3;break e;case 31:return-4;case 32:default:return S}return p.next_out=L,p.avail_out=R,p.next_in=N,p.avail_in=_,y.hold=D,y.bits=z,(y.wsize||G!==p.avail_out&&y.mode<30&&(y.mode<27||4!==m))&&d(p,p.output,p.next_out,G-p.avail_out)?(y.mode=31,-4):(B-=p.avail_in,G-=p.avail_out,p.total_in+=B,p.total_out+=G,y.total+=G,y.wrap&&G&&(p.adler=y.check=y.flags?I(y.check,O,G,p.next_out-G):j(y.check,O,G,p.next_out-G)),p.data_type=y.bits+(y.last?64:0)+(y.mode===A?128:0)+(20===y.mode||15===y.mode?256:0),(0===B&&0===G||4===m)&&X===E&&(X=-5),X)},y.inflateEnd=function(p){if(!p||!p.state)return S;var m=p.state;return m.window&&(m.window=null),p.state=null,E},y.inflateGetHeader=function(p,m){var y;return p&&p.state?0==(2&(y=p.state).wrap)?S:(y.head=m,m.done=!1,E):S},y.inflateSetDictionary=function(p,m){var y,g=m.length;return p&&p.state?0!==(y=p.state).wrap&&11!==y.mode?S:11===y.mode&&j(1,m,g,0)!==y.check?-3:d(p,m,g,g)?(y.mode=31,-4):(y.havedict=1,E):S},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],"9":[function(p,m,y){"use strict";var g=p("../utils/common"),O=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],k=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],I=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(p,m,y,P,M,C,T,E){var S,x,A,N,L,_,R,D,z,B=E.bits,G=0,F=0,U=0,q=0,W=0,H=0,K=0,Y=0,Z=0,V=0,J=null,X=0,Q=new g.Buf16(16),$=new g.Buf16(16),ee=null,te=0;for(G=0;G<=15;G++)Q[G]=0;for(F=0;F<P;F++)Q[m[y+F]]++;for(W=B,q=15;q>=1&&0===Q[q];q--);if(W>q&&(W=q),0===q)return M[C++]=20971520,M[C++]=20971520,E.bits=1,0;for(U=1;U<q&&0===Q[U];U++);for(W<U&&(W=U),Y=1,G=1;G<=15;G++)if(Y<<=1,(Y-=Q[G])<0)return-1;if(Y>0&&(0===p||1!==q))return-1;for($[1]=0,G=1;G<15;G++)$[G+1]=$[G]+Q[G];for(F=0;F<P;F++)0!==m[y+F]&&(T[$[m[y+F]]++]=F);if(0===p?(J=ee=T,_=19):1===p?(J=O,X-=257,ee=k,te-=257,_=256):(J=j,ee=I,_=-1),V=0,F=0,G=U,L=C,H=W,K=0,A=-1,N=(Z=1<<W)-1,1===p&&Z>852||2===p&&Z>592)return 1;for(;;){R=G-K,T[F]<_?(D=0,z=T[F]):T[F]>_?(D=ee[te+T[F]],z=J[X+T[F]]):(D=96,z=0),S=1<<G-K,U=x=1<<H;do{M[L+(V>>K)+(x-=S)]=R<<24|D<<16|z|0}while(0!==x);for(S=1<<G-1;V&S;)S>>=1;if(0!==S?(V&=S-1,V+=S):V=0,F++,0==--Q[G]){if(G===q)break;G=m[y+T[F]]}if(G>W&&(V&N)!==A){for(0===K&&(K=W),L+=U,Y=1<<(H=G-K);H+K<q&&!((Y-=Q[H+K])<=0);)H++,Y<<=1;if(Z+=1<<H,1===p&&Z>852||2===p&&Z>592)return 1;M[A=V&N]=W<<24|H<<16|L-C|0}}return 0!==V&&(M[L+V]=G-K<<24|64<<16|0),E.bits=W,0}},{"../utils/common":1}],"10":[function(p,m,y){"use strict";m.exports={"2":"need dictionary","1":"stream end","0":"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],"11":[function(p,m,y){"use strict";m.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/inflate.js":[function(p,m,y){"use strict";function n(p){if(!(this instanceof n))return new n(p);this.options=O.assign({"chunkSize":16384,"windowBits":0,"to":""},p||{});var m=this.options;m.raw&&m.windowBits>=0&&m.windowBits<16&&(m.windowBits=-m.windowBits,0===m.windowBits&&(m.windowBits=-15)),!(m.windowBits>=0&&m.windowBits<16)||p&&p.windowBits||(m.windowBits+=32),m.windowBits>15&&m.windowBits<48&&0==(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P,this.strm.avail_out=0;var y=g.inflateInit2(this.strm,m.windowBits);if(y!==j.Z_OK)throw new Error(I[y]);this.header=new M,g.inflateGetHeader(this.strm,this.header)}function a(p,m){var y=new n(m);if(y.push(p,!0),y.err)throw y.msg||I[y.err];return y.result}var g=p("./zlib/inflate"),O=p("./utils/common"),k=p("./utils/strings"),j=p("./zlib/constants"),I=p("./zlib/messages"),P=p("./zlib/zstream"),M=p("./zlib/gzheader"),C=Object.prototype.toString;n.prototype.push=function(p,m){var y,I,P,M,T,E,S=this.strm,x=this.options.chunkSize,A=this.options.dictionary,N=!1;if(this.ended)return!1;I=m===~~m?m:!0===m?j.Z_FINISH:j.Z_NO_FLUSH,"string"==typeof p?S.input=k.binstring2buf(p):"[object ArrayBuffer]"===C.call(p)?S.input=new Uint8Array(p):S.input=p,S.next_in=0,S.avail_in=S.input.length;do{if(0===S.avail_out&&(S.output=new O.Buf8(x),S.next_out=0,S.avail_out=x),(y=g.inflate(S,j.Z_NO_FLUSH))===j.Z_NEED_DICT&&A&&(E="string"==typeof A?k.string2buf(A):"[object ArrayBuffer]"===C.call(A)?new Uint8Array(A):A,y=g.inflateSetDictionary(this.strm,E)),y===j.Z_BUF_ERROR&&!0===N&&(y=j.Z_OK,N=!1),y!==j.Z_STREAM_END&&y!==j.Z_OK)return this.onEnd(y),this.ended=!0,!1;S.next_out&&(0!==S.avail_out&&y!==j.Z_STREAM_END&&(0!==S.avail_in||I!==j.Z_FINISH&&I!==j.Z_SYNC_FLUSH)||("string"===this.options.to?(P=k.utf8border(S.output,S.next_out),M=S.next_out-P,T=k.buf2string(S.output,P),S.next_out=M,S.avail_out=x-M,M&&O.arraySet(S.output,S.output,P,M,0),this.onData(T)):this.onData(O.shrinkBuf(S.output,S.next_out)))),0===S.avail_in&&0===S.avail_out&&(N=!0)}while((S.avail_in>0||0===S.avail_out)&&y!==j.Z_STREAM_END);return y===j.Z_STREAM_END&&(I=j.Z_FINISH),I===j.Z_FINISH?(y=g.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===j.Z_OK):I!==j.Z_SYNC_FLUSH||(this.onEnd(j.Z_OK),S.avail_out=0,!0)},n.prototype.onData=function(p){this.chunks.push(p)},n.prototype.onEnd=function(p){p===j.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=O.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},y.Inflate=n,y.inflate=a,y.inflateRaw=function(p,m){return(m=m||{}).raw=!0,a(p,m)},y.ungzip=a},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")},"object"==_typeof(m)&&void 0!==p?p.exports=j():(O=[],void 0===(k="function"==typeof(g=j)?g.apply(m,O):g)||(p.exports=k))},"EJiy":function(p,m,y){p.exports=y("YZFv")(306)},"GBY4":function(p,m,y){p.exports=y("npJN")(56)},"GuQq":function(p,m,y){var g,O,k,j;j=function(){return function i(p,m,y){function u(O,k){if(!m[O]){if(!p[O]){if(g)return g(O,!0);var j=new Error("Cannot find module '"+O+"'");throw j.code="MODULE_NOT_FOUND",j}var I=m[O]={"exports":{}};p[O][0].call(I.exports,(function(m){return u(p[O][1][m]||m)}),I,I.exports,i,p,m,y)}return m[O].exports}for(var g=!1,O=0;O<y.length;O++)u(y[O]);return u}({"1":[function(p,m,y){"use strict";var g=Object.prototype.hasOwnProperty,O="~";function o(){}function f(p,m,y){this.fn=p,this.context=m,this.once=y||!1}function i(p,m,y,g,k){if("function"!=typeof y)throw new TypeError("The listener must be a function");var j=new f(y,g||p,k),I=O?O+m:m;return p._events[I]?p._events[I].fn?p._events[I]=[p._events[I],j]:p._events[I].push(j):(p._events[I]=j,p._eventsCount++),p}function u(p,m){0==--p._eventsCount?p._events=new o:delete p._events[m]}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(O=!1)),s.prototype.eventNames=function(){var p,m,y=[];if(0===this._eventsCount)return y;for(m in p=this._events)g.call(p,m)&&y.push(O?m.slice(1):m);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(p)):y},s.prototype.listeners=function(p){var m=O?O+p:p,y=this._events[m];if(!y)return[];if(y.fn)return[y.fn];for(var g=0,k=y.length,j=new Array(k);g<k;g++)j[g]=y[g].fn;return j},s.prototype.listenerCount=function(p){var m=O?O+p:p,y=this._events[m];return y?y.fn?1:y.length:0},s.prototype.emit=function(p,m,y,g,k,j){var I=O?O+p:p;if(!this._events[I])return!1;var P,M,C=this._events[I],T=arguments.length;if(C.fn){switch(C.once&&this.removeListener(p,C.fn,void 0,!0),T){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,m),!0;case 3:return C.fn.call(C.context,m,y),!0;case 4:return C.fn.call(C.context,m,y,g),!0;case 5:return C.fn.call(C.context,m,y,g,k),!0;case 6:return C.fn.call(C.context,m,y,g,k,j),!0}for(M=1,P=new Array(T-1);M<T;M++)P[M-1]=arguments[M];C.fn.apply(C.context,P)}else{var E,S=C.length;for(M=0;M<S;M++)switch(C[M].once&&this.removeListener(p,C[M].fn,void 0,!0),T){case 1:C[M].fn.call(C[M].context);break;case 2:C[M].fn.call(C[M].context,m);break;case 3:C[M].fn.call(C[M].context,m,y);break;case 4:C[M].fn.call(C[M].context,m,y,g);break;default:if(!P)for(E=1,P=new Array(T-1);E<T;E++)P[E-1]=arguments[E];C[M].fn.apply(C[M].context,P)}}return!0},s.prototype.on=function(p,m,y){return i(this,p,m,y,!1)},s.prototype.once=function(p,m,y){return i(this,p,m,y,!0)},s.prototype.removeListener=function(p,m,y,g){var k=O?O+p:p;if(!this._events[k])return this;if(!m)return u(this,k),this;var j=this._events[k];if(j.fn)j.fn!==m||g&&!j.once||y&&j.context!==y||u(this,k);else{for(var I=0,P=[],M=j.length;I<M;I++)(j[I].fn!==m||g&&!j[I].once||y&&j[I].context!==y)&&P.push(j[I]);P.length?this._events[k]=1===P.length?P[0]:P:u(this,k)}return this},s.prototype.removeAllListeners=function(p){var m;return p?(m=O?O+p:p,this._events[m]&&u(this,m)):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=O,s.EventEmitter=s,void 0!==m&&(m.exports=s)},{}]},{},[1])(1)},"object"==function _typeof(p){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?typeof p:p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p}(m)&&void 0!==p?p.exports=j():(O=[],void 0===(k="function"==typeof(g=j)?g.apply(m,O):g)||(p.exports=k))},"HaE+":function(p,m,y){p.exports=y("YZFv")(10)},"IFnD":function(p,m,y){p.exports=y("YZFv")(89)},"JX7q":function(p,m,y){p.exports=y("npJN")(13)},"JjRB":function(p,m,y){},"KKWp":function(p,m,y){},"KQm4":function(p,m,y){p.exports=y("YZFv")(67)},"KoDT":function(p,m,y){p.exports=y("YZFv")(3)},"LhOj":function(p,m,y){},"MyPv":function(p,m,y){p.exports=y("YZFv")(230)},"Ofta":function(p,m,y){},"Qi+J":function(p,m,y){},"R8eK":function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;function _typeof(p){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?typeof p:p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p}!function(b){"use strict";var r,u,t,n;r={"1":[function(p,m){m.exports=function(p,m){for(var y=Array(arguments.length-1),g=0,O=2,k=!0;O<arguments.length;)y[g++]=arguments[O++];return new Promise((function(O,j){y[g]=function(p){if(k)if(k=!1,p)j(p);else{for(var m=Array(arguments.length-1),y=0;y<m.length;)m[y++]=arguments[y];O.apply(null,m)}};try{p.apply(m||null,y)}catch(p){k&&(k=!1,j(p))}}))}},{}],"2":[function(p,m,y){var g=y;g.length=function(p){var m=p.length;if(!m)return 0;for(var y=0;1<--m%4&&"="===p.charAt(m);)++y;return Math.ceil(3*p.length)/4-y};for(var O=Array(64),k=Array(123),j=0;j<64;)k[O[j]=j<26?j+65:j<52?j+71:j<62?j-4:j-59|43]=j++;g.encode=function(p,m,y){for(var g,k=null,j=[],I=0,P=0;m<y;){var M=p[m++];switch(P){case 0:j[I++]=O[M>>2],g=(3&M)<<4,P=1;break;case 1:j[I++]=O[g|M>>4],g=(15&M)<<2,P=2;break;case 2:j[I++]=O[g|M>>6],j[I++]=O[63&M],P=0}8191<I&&((k||(k=[])).push(String.fromCharCode.apply(String,j)),I=0)}return P&&(j[I++]=O[g],j[I++]=61,1===P&&(j[I++]=61)),k?(I&&k.push(String.fromCharCode.apply(String,j.slice(0,I))),k.join("")):String.fromCharCode.apply(String,j.slice(0,I))};var I="invalid encoding";g.decode=function(p,m,y){for(var g,O=y,j=0,P=0;P<p.length;){var M=p.charCodeAt(P++);if(61===M&&1<j)break;if((M=k[M])===b)throw Error(I);switch(j){case 0:g=M,j=1;break;case 1:m[y++]=g<<2|(48&M)>>4,g=M,j=2;break;case 2:m[y++]=(15&g)<<4|(60&M)>>2,g=M,j=3;break;case 3:m[y++]=(3&g)<<6|M,j=0}}if(1===j)throw Error(I);return y-O},g.test=function(p){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(p)}},{}],"3":[function(p,m){function i(){this.t={}}(m.exports=i).prototype.on=function(p,m,y){return(this.t[p]||(this.t[p]=[])).push({"fn":m,"ctx":y||this}),this},i.prototype.off=function(p,m){if(p===b)this.t={};else if(m===b)this.t[p]=[];else for(var y=this.t[p],g=0;g<y.length;)y[g].fn===m?y.splice(g,1):++g;return this},i.prototype.emit=function(p){var m=this.t[p];if(m){for(var y=[],g=1;g<arguments.length;)y.push(arguments[g++]);for(g=0;g<m.length;)m[g].fn.apply(m[g++].ctx,y)}return this}},{}],"4":[function(p,m){function i(p){return"undefined"!=typeof Float32Array?function(){var m=new Float32Array([-0]),y=new Uint8Array(m.buffer),g=128===y[3];function n(p,g,O){m[0]=p,g[O]=y[0],g[O+1]=y[1],g[O+2]=y[2],g[O+3]=y[3]}function i(p,g,O){m[0]=p,g[O]=y[3],g[O+1]=y[2],g[O+2]=y[1],g[O+3]=y[0]}function e(p,g){return y[0]=p[g],y[1]=p[g+1],y[2]=p[g+2],y[3]=p[g+3],m[0]}function s(p,g){return y[3]=p[g],y[2]=p[g+1],y[1]=p[g+2],y[0]=p[g+3],m[0]}p.writeFloatLE=g?n:i,p.writeFloatBE=g?i:n,p.readFloatLE=g?e:s,p.readFloatBE=g?s:e}():function(){function t(p,m,y,g){var O=m<0?1:0;if(O&&(m=-m),0===m)p(0<1/m?0:2147483648,y,g);else if(isNaN(m))p(2143289344,y,g);else if(34028234663852886e22<m)p((O<<31|2139095040)>>>0,y,g);else if(m<11754943508222875e-54)p((O<<31|Math.round(m/1401298464324817e-60))>>>0,y,g);else{var k=Math.floor(Math.log(m)/Math.LN2);p((O<<31|k+127<<23|8388607&Math.round(m*Math.pow(2,-k)*8388608))>>>0,y,g)}}function n(p,m,y){var g=p(m,y),O=2*(g>>31)+1,k=g>>>23&255,j=8388607&g;return 255===k?j?NaN:O*(1/0):0===k?1401298464324817e-60*O*j:O*Math.pow(2,k-150)*(j+8388608)}p.writeFloatLE=t.bind(null,r),p.writeFloatBE=t.bind(null,u),p.readFloatLE=n.bind(null,e),p.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var m=new Float64Array([-0]),y=new Uint8Array(m.buffer),g=128===y[7];function n(p,g,O){m[0]=p,g[O]=y[0],g[O+1]=y[1],g[O+2]=y[2],g[O+3]=y[3],g[O+4]=y[4],g[O+5]=y[5],g[O+6]=y[6],g[O+7]=y[7]}function i(p,g,O){m[0]=p,g[O]=y[7],g[O+1]=y[6],g[O+2]=y[5],g[O+3]=y[4],g[O+4]=y[3],g[O+5]=y[2],g[O+6]=y[1],g[O+7]=y[0]}function e(p,g){return y[0]=p[g],y[1]=p[g+1],y[2]=p[g+2],y[3]=p[g+3],y[4]=p[g+4],y[5]=p[g+5],y[6]=p[g+6],y[7]=p[g+7],m[0]}function s(p,g){return y[7]=p[g],y[6]=p[g+1],y[5]=p[g+2],y[4]=p[g+3],y[3]=p[g+4],y[2]=p[g+5],y[1]=p[g+6],y[0]=p[g+7],m[0]}p.writeDoubleLE=g?n:i,p.writeDoubleBE=g?i:n,p.readDoubleLE=g?e:s,p.readDoubleBE=g?s:e}():function(){function t(p,m,y,g,O,k){var j=g<0?1:0;if(j&&(g=-g),0===g)p(0,O,k+m),p(0<1/g?0:2147483648,O,k+y);else if(isNaN(g))p(0,O,k+m),p(2146959360,O,k+y);else if(17976931348623157e292<g)p(0,O,k+m),p((j<<31|2146435072)>>>0,O,k+y);else{var I;if(g<22250738585072014e-324)p((I=g/5e-324)>>>0,O,k+m),p((j<<31|I/4294967296)>>>0,O,k+y);else{var P=Math.floor(Math.log(g)/Math.LN2);1024===P&&(P=1023),p(4503599627370496*(I=g*Math.pow(2,-P))>>>0,O,k+m),p((j<<31|P+1023<<20|1048576*I&1048575)>>>0,O,k+y)}}}function n(p,m,y,g,O){var k=p(g,O+m),j=p(g,O+y),I=2*(j>>31)+1,P=j>>>20&2047,M=4294967296*(1048575&j)+k;return 2047===P?M?NaN:I*(1/0):0===P?5e-324*I*M:I*Math.pow(2,P-1075)*(M+4503599627370496)}p.writeDoubleLE=t.bind(null,r,0,4),p.writeDoubleBE=t.bind(null,u,4,0),p.readDoubleLE=n.bind(null,e,0,4),p.readDoubleBE=n.bind(null,s,4,0)}(),p}function r(p,m,y){m[y]=255&p,m[y+1]=p>>>8&255,m[y+2]=p>>>16&255,m[y+3]=p>>>24}function u(p,m,y){m[y]=p>>>24,m[y+1]=p>>>16&255,m[y+2]=p>>>8&255,m[y+3]=255&p}function e(p,m){return(p[m]|p[m+1]<<8|p[m+2]<<16|p[m+3]<<24)>>>0}function s(p,m){return(p[m]<<24|p[m+1]<<16|p[m+2]<<8|p[m+3])>>>0}m.exports=i(i)},{}],"5":[function(t,n,i){function r(t){try{var n=eval("require")(t);if(n&&(n.length||Object.keys(n).length))return n}catch(t){}return null}n.exports=r},{}],"6":[function(p,m){m.exports=function(p,m,y){var g=y||8192,O=g>>>1,k=null,j=g;return function(y){if(y<1||O<y)return p(y);g<j+y&&(k=p(g),j=0);var I=m.call(k,j,j+=y);return 7&j&&(j=1+(7|j)),I}}},{}],"7":[function(p,m,y){var g=y;g.length=function(p){for(var m=0,y=0,g=0;g<p.length;++g)(y=p.charCodeAt(g))<128?m+=1:y<2048?m+=2:55296==(64512&y)&&56320==(64512&p.charCodeAt(g+1))?(++g,m+=4):m+=3;return m},g.read=function(p,m,y){if(y-m<1)return"";for(var g,O=null,k=[],j=0;m<y;)(g=p[m++])<128?k[j++]=g:191<g&&g<224?k[j++]=(31&g)<<6|63&p[m++]:239<g&&g<365?(g=((7&g)<<18|(63&p[m++])<<12|(63&p[m++])<<6|63&p[m++])-65536,k[j++]=55296+(g>>10),k[j++]=56320+(1023&g)):k[j++]=(15&g)<<12|(63&p[m++])<<6|63&p[m++],8191<j&&((O||(O=[])).push(String.fromCharCode.apply(String,k)),j=0);return O?(j&&O.push(String.fromCharCode.apply(String,k.slice(0,j))),O.join("")):String.fromCharCode.apply(String,k.slice(0,j))},g.write=function(p,m,y){for(var g,O,k=y,j=0;j<p.length;++j)(g=p.charCodeAt(j))<128?m[y++]=g:(g<2048?m[y++]=g>>6|192:(55296==(64512&g)&&56320==(64512&(O=p.charCodeAt(j+1)))?(g=65536+((1023&g)<<10)+(1023&O),++j,m[y++]=g>>18|240,m[y++]=g>>12&63|128):m[y++]=g>>12|224,m[y++]=g>>6&63|128),m[y++]=63&g|128);return y-k}},{}],"8":[function(p,m,y){var g=y;function u(){g.Reader.n(g.BufferReader),g.util.n()}g.build="minimal",g.Writer=p(16),g.BufferWriter=p(17),g.Reader=p(9),g.BufferReader=p(10),g.util=p(15),g.rpc=p(12),g.roots=p(11),g.configure=u,g.Writer.n(g.BufferWriter),u()},{"10":10,"11":11,"12":12,"15":15,"16":16,"17":17,"9":9}],"9":[function(p,m){m.exports=h;var y,g=p(15),O=g.LongBits,k=g.utf8;function s(p,m){return RangeError("index out of range: "+p.pos+" + "+(m||1)+" > "+p.len)}function h(p){this.buf=p,this.pos=0,this.len=p.length}var j,I="undefined"!=typeof Uint8Array?function(p){if(p instanceof Uint8Array||Array.isArray(p))return new h(p);throw Error("illegal buffer")}:function(p){if(Array.isArray(p))return new h(p);throw Error("illegal buffer")};function c(){var p=new O(0,0),m=0;if(!(4<this.len-this.pos)){for(;m<3;++m){if(this.pos>=this.len)throw s(this);if(p.lo=(p.lo|(127&this.buf[this.pos])<<7*m)>>>0,this.buf[this.pos++]<128)return p}return p.lo=(p.lo|(127&this.buf[this.pos++])<<7*m)>>>0,p}for(;m<4;++m)if(p.lo=(p.lo|(127&this.buf[this.pos])<<7*m)>>>0,this.buf[this.pos++]<128)return p;if(p.lo=(p.lo|(127&this.buf[this.pos])<<28)>>>0,p.hi=(p.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return p;if(m=0,4<this.len-this.pos){for(;m<5;++m)if(p.hi=(p.hi|(127&this.buf[this.pos])<<7*m+3)>>>0,this.buf[this.pos++]<128)return p}else for(;m<5;++m){if(this.pos>=this.len)throw s(this);if(p.hi=(p.hi|(127&this.buf[this.pos])<<7*m+3)>>>0,this.buf[this.pos++]<128)return p}throw Error("invalid varint encoding")}function a(p,m){return(p[m-4]|p[m-3]<<8|p[m-2]<<16|p[m-1]<<24)>>>0}function l(){if(this.pos+8>this.len)throw s(this,8);return new O(a(this.buf,this.pos+=4),a(this.buf,this.pos+=4))}h.create=g.Buffer?function(p){return(h.create=function(p){return g.Buffer.isBuffer(p)?new y(p):I(p)})(p)}:I,h.prototype.i=g.Array.prototype.subarray||g.Array.prototype.slice,h.prototype.uint32=(j=4294967295,function(){if(j=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return j;if(j=(j|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return j;if(j=(j|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return j;if(j=(j|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return j;if(j=(j|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return j;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return j}),h.prototype.int32=function(){return 0|this.uint32()},h.prototype.sint32=function(){var p=this.uint32();return p>>>1^-(1&p)|0},h.prototype.bool=function(){return 0!==this.uint32()},h.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return a(this.buf,this.pos+=4)},h.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|a(this.buf,this.pos+=4)},h.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var p=g.float.readFloatLE(this.buf,this.pos);return this.pos+=4,p},h.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var p=g.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,p},h.prototype.bytes=function(){var p=this.uint32(),m=this.pos,y=this.pos+p;if(y>this.len)throw s(this,p);return this.pos+=p,Array.isArray(this.buf)?this.buf.slice(m,y):m===y?new this.buf.constructor(0):this.i.call(this.buf,m,y)},h.prototype.string=function(){var p=this.bytes();return k.read(p,0,p.length)},h.prototype.skip=function(p){if("number"==typeof p){if(this.pos+p>this.len)throw s(this,p);this.pos+=p}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},h.prototype.skipType=function(p){switch(p){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(p=7&this.uint32());)this.skipType(p);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+p+" at offset "+this.pos)}return this},h.n=function(p){y=p;var m=g.Long?"toLong":"toNumber";g.merge(h.prototype,{"int64":function int64(){return c.call(this)[m](!1)},"uint64":function uint64(){return c.call(this)[m](!0)},"sint64":function sint64(){return c.call(this).zzDecode()[m](!1)},"fixed64":function fixed64(){return l.call(this)[m](!0)},"sfixed64":function sfixed64(){return l.call(this)[m](!1)}})}},{"15":15}],"10":[function(p,m){m.exports=u;var y=p(9);(u.prototype=Object.create(y.prototype)).constructor=u;var g=p(15);function u(p){y.call(this,p)}g.Buffer&&(u.prototype.i=g.Buffer.prototype.slice),u.prototype.string=function(){var p=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+p,this.len))}},{"15":15,"9":9}],"11":[function(p,m){m.exports={}},{}],"12":[function(p,m,y){y.Service=p(13)},{"13":13}],"13":[function(p,m){m.exports=i;var y=p(15);function i(p,m,g){if("function"!=typeof p)throw TypeError("rpcImpl must be a function");y.EventEmitter.call(this),this.rpcImpl=p,this.requestDelimited=!!m,this.responseDelimited=!!g}((i.prototype=Object.create(y.EventEmitter.prototype)).constructor=i).prototype.rpcCall=function t(p,m,g,O,k){if(!O)throw TypeError("request must be specified");var j=this;if(!k)return y.asPromise(t,j,p,m,g,O);if(!j.rpcImpl)return setTimeout((function(){k(Error("already ended"))}),0),b;try{return j.rpcImpl(p,m[j.requestDelimited?"encodeDelimited":"encode"](O).finish(),(function(m,y){if(m)return j.emit("error",m,p),k(m);if(null===y)return j.end(!0),b;if(!(y instanceof g))try{y=g[j.responseDelimited?"decodeDelimited":"decode"](y)}catch(m){return j.emit("error",m,p),k(m)}return j.emit("data",y,p),k(null,y)}))}catch(t){return j.emit("error",t,p),setTimeout((function(){k(t)}),0),b}},i.prototype.end=function(p){return this.rpcImpl&&(p||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{"15":15}],"14":[function(p,m){m.exports=u;var y=p(15);function u(p,m){this.lo=p>>>0,this.hi=m>>>0}var g=u.zero=new u(0,0);g.toNumber=function(){return 0},g.zzEncode=g.zzDecode=function(){return this},g.length=function(){return 1};var O=u.zeroHash="\0\0\0\0\0\0\0\0";u.fromNumber=function(p){if(0===p)return g;var m=p<0;m&&(p=-p);var y=p>>>0,O=(p-y)/4294967296>>>0;return m&&(O=~O>>>0,y=~y>>>0,4294967295<++y&&(y=0,4294967295<++O&&(O=0))),new u(y,O)},u.from=function(p){if("number"==typeof p)return u.fromNumber(p);if(y.isString(p)){if(!y.Long)return u.fromNumber(parseInt(p,10));p=y.Long.fromString(p)}return p.low||p.high?new u(p.low>>>0,p.high>>>0):g},u.prototype.toNumber=function(p){if(!p&&this.hi>>>31){var m=1+~this.lo>>>0,y=~this.hi>>>0;return m||(y=y+1>>>0),-(m+4294967296*y)}return this.lo+4294967296*this.hi},u.prototype.toLong=function(p){return y.Long?new y.Long(0|this.lo,0|this.hi,!!p):{"low":0|this.lo,"high":0|this.hi,"unsigned":!!p}};var k=String.prototype.charCodeAt;u.fromHash=function(p){return p===O?g:new u((k.call(p,0)|k.call(p,1)<<8|k.call(p,2)<<16|k.call(p,3)<<24)>>>0,(k.call(p,4)|k.call(p,5)<<8|k.call(p,6)<<16|k.call(p,7)<<24)>>>0)},u.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},u.prototype.zzEncode=function(){var p=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^p)>>>0,this.lo=(this.lo<<1^p)>>>0,this},u.prototype.zzDecode=function(){var p=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^p)>>>0,this.hi=(this.hi>>>1^p)>>>0,this},u.prototype.length=function(){var p=this.lo,m=(this.lo>>>28|this.hi<<4)>>>0,y=this.hi>>>24;return 0===y?0===m?p<16384?p<128?1:2:p<2097152?3:4:m<16384?m<128?5:6:m<2097152?7:8:y<128?9:10}},{"15":15}],"15":[function(p,m,y){var g=y;function u(p,m,y){for(var g=Object.keys(m),O=0;O<g.length;++O)p[g[O]]!==b&&y||(p[g[O]]=m[g[O]]);return p}function e(p){function i(p,m){if(!(this instanceof i))return new i(p,m);Object.defineProperty(this,"message",{"get":function get(){return p}}),Error.captureStackTrace?Error.captureStackTrace(this,i):Object.defineProperty(this,"stack",{"value":Error().stack||""}),m&&u(this,m)}return(i.prototype=Object.create(Error.prototype)).constructor=i,Object.defineProperty(i.prototype,"name",{"get":function get(){return p}}),i.prototype.toString=function(){return this.name+": "+this.message},i}g.asPromise=p(1),g.base64=p(2),g.EventEmitter=p(3),g.float=p(4),g.inquire=p(5),g.utf8=p(7),g.pool=p(6),g.LongBits=p(14),g.global="undefined"!=typeof window&&window||void 0!==global&&global||"undefined"!=typeof self&&self||this,g.emptyArray=Object.freeze?Object.freeze([]):[],g.emptyObject=Object.freeze?Object.freeze({}):{},g.isNode=!!(g.global.process&&g.global.process.versions&&g.global.process.versions.node),g.isInteger=Number.isInteger||function(p){return"number"==typeof p&&isFinite(p)&&Math.floor(p)===p},g.isString=function(p){return"string"==typeof p||p instanceof String},g.isObject=function(p){return p&&"object"==_typeof(p)},g.isset=g.isSet=function(p,m){var y=p[m];return!(null==y||!p.hasOwnProperty(m))&&("object"!=_typeof(y)||0<(Array.isArray(y)?y.length:Object.keys(y).length))},g.Buffer=function(){try{var p=g.inquire("buffer").Buffer;return p.prototype.utf8Write?p:null}catch(p){return null}}(),g.r=null,g.u=null,g.newBuffer=function(p){return"number"==typeof p?g.Buffer?g.u(p):new g.Array(p):g.Buffer?g.r(p):"undefined"==typeof Uint8Array?p:new Uint8Array(p)},g.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,g.Long=g.global.dcodeIO&&g.global.dcodeIO.Long||g.global.Long||g.inquire("long"),g.key2Re=/^true|false|0|1$/,g.key32Re=/^-?(?:0|[1-9][0-9]*)$/,g.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,g.longToHash=function(p){return p?g.LongBits.from(p).toHash():g.LongBits.zeroHash},g.longFromHash=function(p,m){var y=g.LongBits.fromHash(p);return g.Long?g.Long.fromBits(y.lo,y.hi,m):y.toNumber(!!m)},g.merge=u,g.lcFirst=function(p){return p.charAt(0).toLowerCase()+p.substring(1)},g.newError=e,g.ProtocolError=e("ProtocolError"),g.oneOfGetter=function(p){for(var m={},y=0;y<p.length;++y)m[p[y]]=1;return function(){for(var p=Object.keys(this),y=p.length-1;-1<y;--y)if(1===m[p[y]]&&this[p[y]]!==b&&null!==this[p[y]])return p[y]}},g.oneOfSetter=function(p){return function(m){for(var y=0;y<p.length;++y)p[y]!==m&&delete this[p[y]]}},g.toJSONOptions={"longs":String,"enums":String,"bytes":String,"json":!0},g.n=function(){var p=g.Buffer;p?(g.r=p.from!==Uint8Array.from&&p.from||function(m,y){return new p(m,y)},g.u=p.allocUnsafe||function(m){return new p(m)}):g.r=g.u=null}},{"1":1,"14":14,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7}],"16":[function(p,m){m.exports=c;var y,g=p(15),O=g.LongBits,k=g.base64,j=g.utf8;function h(p,m,y){this.fn=p,this.len=m,this.next=b,this.val=y}function f(){}function o(p){this.head=p.head,this.tail=p.tail,this.len=p.len,this.next=p.states}function c(){this.len=0,this.head=new h(f,0,0),this.tail=this.head,this.states=null}function a(p,m,y){m[y]=255&p}function l(p,m){this.len=p,this.next=b,this.val=m}function v(p,m,y){for(;p.hi;)m[y++]=127&p.lo|128,p.lo=(p.lo>>>7|p.hi<<25)>>>0,p.hi>>>=7;for(;127<p.lo;)m[y++]=127&p.lo|128,p.lo=p.lo>>>7;m[y++]=p.lo}function w(p,m,y){m[y]=255&p,m[y+1]=p>>>8&255,m[y+2]=p>>>16&255,m[y+3]=p>>>24}c.create=g.Buffer?function(){return(c.create=function(){return new y})()}:function(){return new c},c.alloc=function(p){return new g.Array(p)},g.Array!==Array&&(c.alloc=g.pool(c.alloc,g.Array.prototype.subarray)),c.prototype.e=function(p,m,y){return this.tail=this.tail.next=new h(p,m,y),this.len+=m,this},(l.prototype=Object.create(h.prototype)).fn=function(p,m,y){for(;127<p;)m[y++]=127&p|128,p>>>=7;m[y]=p},c.prototype.uint32=function(p){return this.len+=(this.tail=this.tail.next=new l((p>>>=0)<128?1:p<16384?2:p<2097152?3:p<268435456?4:5,p)).len,this},c.prototype.int32=function(p){return p<0?this.e(v,10,O.fromNumber(p)):this.uint32(p)},c.prototype.sint32=function(p){return this.uint32((p<<1^p>>31)>>>0)},c.prototype.int64=c.prototype.uint64=function(p){var m=O.from(p);return this.e(v,m.length(),m)},c.prototype.sint64=function(p){var m=O.from(p).zzEncode();return this.e(v,m.length(),m)},c.prototype.bool=function(p){return this.e(a,1,p?1:0)},c.prototype.sfixed32=c.prototype.fixed32=function(p){return this.e(w,4,p>>>0)},c.prototype.sfixed64=c.prototype.fixed64=function(p){var m=O.from(p);return this.e(w,4,m.lo).e(w,4,m.hi)},c.prototype.float=function(p){return this.e(g.float.writeFloatLE,4,p)},c.prototype.double=function(p){return this.e(g.float.writeDoubleLE,8,p)};var I=g.Array.prototype.set?function(p,m,y){m.set(p,y)}:function(p,m,y){for(var g=0;g<p.length;++g)m[y+g]=p[g]};c.prototype.bytes=function(p){var m=p.length>>>0;if(!m)return this.e(a,1,0);if(g.isString(p)){var y=c.alloc(m=k.length(p));k.decode(p,y,0),p=y}return this.uint32(m).e(I,m,p)},c.prototype.string=function(p){var m=j.length(p);return m?this.uint32(m).e(j.write,m,p):this.e(a,1,0)},c.prototype.fork=function(){return this.states=new o(this),this.head=this.tail=new h(f,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new h(f,0,0),this.len=0),this},c.prototype.ldelim=function(){var p=this.head,m=this.tail,y=this.len;return this.reset().uint32(y),y&&(this.tail.next=p.next,this.tail=m,this.len+=y),this},c.prototype.finish=function(){for(var p=this.head.next,m=this.constructor.alloc(this.len),y=0;p;)p.fn(p.val,m,y),y+=p.len,p=p.next;return m},c.n=function(p){y=p}},{"15":15}],"17":[function(p,m){m.exports=e;var y=p(16);(e.prototype=Object.create(y.prototype)).constructor=e;var g=p(15),O=g.Buffer;function e(){y.call(this)}e.alloc=function(p){return(e.alloc=g.u)(p)};var k=O&&O.prototype instanceof Uint8Array&&"set"===O.prototype.set.name?function(p,m,y){m.set(p,y)}:function(p,m,y){if(p.copy)p.copy(m,y,0,p.length);else for(var g=0;g<p.length;)m[y++]=p[g++]};function h(p,m,y){p.length<40?g.utf8.write(p,m,y):m.utf8Write(p,y)}e.prototype.bytes=function(p){g.isString(p)&&(p=g.r(p,"base64"));var m=p.length>>>0;return this.uint32(m),m&&this.e(k,m,p),this},e.prototype.string=function(p){var m=O.byteLength(p);return this.uint32(m),m&&this.e(h,m,p),this}},{"15":15,"16":16}]},u={},t=[8],n=function t(p){var m=u[p];return m||r[p][0].call(m=u[p]={"exports":{}},t,m,m.exports),m.exports}(t[0]),n.util.global.protobuf=n,__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("2lpH")],__WEBPACK_AMD_DEFINE_RESULT__=function(p){return p&&p.isLong&&(n.util.Long=p,n.configure()),n}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),"object"==_typeof(module)&&module&&module.exports&&(module.exports=n)}()}).call(this,__webpack_require__("IoS+"),__webpack_require__("VOzX")(module))},"ReuC":function(p,m,y){p.exports=y("YZFv")(273)},"TSYQ":function(p,m,y){p.exports=y("YZFv")(74)},"TrDl":function(p,m,y){},"TyAF":function(p,m,y){p.exports=y("npJN")(25)},"WVUY":function(p,m,y){"use strict";y.r(m);var g,O,k,j,I,P,M,C,T,E,S,x,A,N,L,_,R,D,z,B,G=y("p5LO"),F=y("1OyB"),U=y("vuIU"),q=y("Ji7U"),W=y("LK+K"),H=y("q1tI"),K=y.n(H),Y=y("JX7q"),Z=y("rePB"),V=y("Y65e"),J=y("rW/q"),X=y("TyAF"),Q=y("tKRR"),$=y("imAp"),ee=y("jxKE"),te=y("td5f"),ne=y("opb1"),ae=y("Et4I"),re=y("Hqx8"),oe=y("yV30"),ie=y("bdvc"),se=y("B21c"),ce=y("P/kU"),le=y("wKkk"),ue=y("XfXC"),pe=y("XbOy"),fe=y("X84O"),de=y("FUAF"),me=y("hRHy"),ye=y("2vnA"),be=y("9uCs"),he=y("zjkL"),ge=y("1oWy"),Oe=y("SATD"),ve=y("Ncp4"),we=y("EN6w"),ke=y("l2zs"),je=y("XQl4"),Ie=y("kZcb"),Pe=y("BGPw"),Me=y("GBn+"),Ce=y("VIBl"),Te=y("OJMj"),Ee=y("PS6B"),Se=y("TSYQ"),xe=y.n(Se),Ae=y("a3ss"),Ne=(y("+JCI"),y("g4sS")),Le=y("vHnQ"),_e=y("b53G"),Re=y("vevb"),De=y("VTBJ"),ze=y("laqm"),Be=(g=function(p){Object(q.default)(GrassAnimalInfoStore,p);var m=Object(W.default)(GrassAnimalInfoStore);function GrassAnimalInfoStore(p,y){var g;Object(F.default)(this,GrassAnimalInfoStore),g=m.call(this),Object(Z.default)(Object(Y.default)(g),"intervalMin",void 0),Object(Ae.a)(Object(Y.default)(g),"cowType",O,Object(Y.default)(g)),Object(Ae.a)(Object(Y.default)(g),"cowData",k,Object(Y.default)(g)),Object(Ae.a)(Object(Y.default)(g),"isBeingBorn",j,Object(Y.default)(g)),Object(Ae.a)(Object(Y.default)(g),"disappear",I,Object(Y.default)(g)),Object(Ae.a)(Object(Y.default)(g),"showAddAnimation",P,Object(Y.default)(g)),Object(Ae.a)(Object(Y.default)(g),"isInProtectTime",M,Object(Y.default)(g)),Object(Ae.a)(Object(Y.default)(g),"isMyCow",C,Object(Y.default)(g)),Object(Ae.a)(Object(Y.default)(g),"updateAmountPerMinutes",T,Object(Y.default)(g)),Object(Ae.a)(Object(Y.default)(g),"countDone",E,Object(Y.default)(g));var S=y||{},x=S.key,A=S.isBorn,N=(p||{}).cowType;return p&&N?A?(g.isBeingBorn=!0,setTimeout((function(){g.initData(p),g.isBeingBorn=!1}),800)):g.initData(p):g.cowData=Object(De.default)(Object(De.default)({},_e.p),{},{"meadowNum":x}),g}return Object(U.default)(GrassAnimalInfoStore,[{"key":"initData","value":function initData(p){var m=this.formatCowInfo(p),y=m||{},g=y.cowType,O=y.uid,k=y.leftProtectTime,j=void 0===k?0:k,I=y.predictGainFoodAmount,P=void 0===I?0:I,M=y.productFoodAmount,C=void 0===M?0:M;this.cowType=g,this.cowData=m||{},this.isMyCow=O===Re.a.userID,this.isInProtectTime=j>0,j<=0&&C<P&&this.updateAmountPerMinutes(),C<P&&(this.showAddAnimation=!0)}},{"key":"noShowAnimation","value":function noShowAnimation(p){var m=this;return new Promise((function(y,g){m.disappear=p,setTimeout((function(){m.disappear=_e.b.NO,y(!0)}),_e.q[p])}))}},{"key":"formatCowInfo","value":function formatCowInfo(p){var m=p.productStartTime,y=void 0===m?0:m,g=p.autoBackTime,O=void 0===g?0:g,k=p.protectEndTime,j=void 0===k?0:k,I=Le.a.currentTime;return p.leftProtectTime=Le.a.getLeftTime(j),p.productTime=I-y,p.leftBackTime=Le.a.getLeftTime(O),p}}]),GrassAnimalInfoStore}(Ne.a),O=Object(V.a)(g.prototype,"cowType",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":null}),k=Object(V.a)(g.prototype,"cowData",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),j=Object(V.a)(g.prototype,"isBeingBorn",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return!1}}),I=Object(V.a)(g.prototype,"disappear",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return _e.b.NO}}),P=Object(V.a)(g.prototype,"showAddAnimation",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return!1}}),M=Object(V.a)(g.prototype,"isInProtectTime",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return!1}}),C=Object(V.a)(g.prototype,"isMyCow",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return!1}}),Object(V.a)(g.prototype,"noShowAnimation",[ye.action],Object.getOwnPropertyDescriptor(g.prototype,"noShowAnimation"),g.prototype),T=Object(V.a)(g.prototype,"updateAmountPerMinutes",[ye.action],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){var p=this;return function(){p.intervalMin&&p.intervalMin.clear(),p.intervalMin=Object(ze.a)((function(){var m=p.cowData||{},y=m||{},g=y.productRate,O=void 0===g?0:g,k=y.predictGainFoodAmount,j=void 0===k?0:k,I=y.productStartTime,P=void 0===I?Date.now():I,M=Math.min(Math.floor(O*(Le.a.dateNowSecond-P)/60),j),C=Object(De.default)(Object(De.default)({},m),{},{"productFoodAmount":M});M>=j&&(p.intervalMin&&p.intervalMin.clear&&p.intervalMin.clear(),p.showAddAnimation=!1),p.set("cowData",C)}),6e4)}}}),E=Object(V.a)(g.prototype,"countDone",[ye.action],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){var p=this;return function(){var m=p.cowData||{},y=m||{},g=y.productRate,O=y.productStartTime,k=y.predictGainFoodAmount,j=Math.min(Math.floor(g*(Le.a.dateNowSecond-O)/60),k);p.cowData=Object(De.default)(Object(De.default)({},m),{},{"productFoodAmount":j,"leftProtectTime":0}),p.isInProtectTime=!1,p.updateAmountPerMinutes()}}}),g),Ge=y("awCU"),Fe=new(S=ye.observable.shallow,x=function(p){Object(q.default)(GrassMainStore,p);var m=Object(W.default)(GrassMainStore);function GrassMainStore(){var p;Object(F.default)(this,GrassMainStore);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Ae.a)(Object(Y.default)(p),"meadowId",A,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"totalNum",N,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"parkingAnimalsMap",L,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"startTime",_,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"endTime",R,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"rankList",D,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"barrageList",z,Object(Y.default)(p)),p}return Object(U.default)(GrassMainStore,[{"key":"init","value":function init(p){var m=p||{},y=m.size,g=void 0===y?6:y,O=m.userParkingInfo,k=void 0===O?{}:O,j=m.startTime,I=m.endTime,P=m.meadowId,M=m.userParkRankVos,C=void 0===M?[]:M;m.meadowRound;if(this.totalNum=g,this.parkingAnimalsMap=this.initCowMap(g,k),this.startTime=j,this.endTime=I,this.meadowId=P,this.rankList=C,I){if(Oe.a.getStorageItem(Ge.a.GL_ENDTIME)===I)return;var T=Object(Z.default)({},Ge.a.GL_ENDTIME,I);Oe.a.setLocalStorage(T)}}},{"key":"initCowMap","value":function initCowMap(p,m){for(var y=1;y<p+1;y++){var g=m[y];m[y]=new Be(g,{"key":y})}return m}},{"key":"removeOneCow","value":function removeOneCow(p){var m=this,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e.b.NORMAL_DISAPPEAR;if(p){var g=this.parkingAnimalsMap[p];return g.noShowAnimation(y).finally((function(){Object(ye.set)(m.parkingAnimalsMap,Object(Z.default)({},p,new Be({},{"key":p})))}))}}},{"key":"updateCowInfo","value":function updateCowInfo(p){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=p||{},g=y.meadowNum;g&&Object(ye.set)(this.parkingAnimalsMap,Object(Z.default)({},g,new Be(p,m)))}},{"key":"updateRankInfo","value":function updateRankInfo(p){p&&(this.rankList=p)}},{"key":"addBarrage","value":function addBarrage(p){this.barrageList.push(p)}},{"key":"getAutoGetParkNum","value":function getAutoGetParkNum(){return((Object.values(this.parkingAnimalsMap).find((function(p){return!p.cowData.cowType}))||{}).cowData||{}).meadowNum||0}},{"key":"grassLeftTime","get":function get(){return this.endTime-Le.a.dateNowSecond}},{"key":"myCowOnGround","get":function get(){var p=this,m=[];return Object.keys(this.parkingAnimalsMap).map((function(y){var g=(p.parkingAnimalsMap[y]||{}).cowData;(g||{}).uid===Re.a.userID&&m.push(g)})),m}},{"key":"myCowAmount","get":function get(){return this.myCowOnGround.length}}]),GrassMainStore}(Ne.a),A=Object(V.a)(x.prototype,"meadowId",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return 0}}),N=Object(V.a)(x.prototype,"totalNum",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return 6}}),L=Object(V.a)(x.prototype,"parkingAnimalsMap",[S],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),_=Object(V.a)(x.prototype,"startTime",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return Le.a.dateNowSecond}}),R=Object(V.a)(x.prototype,"endTime",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return Le.a.dateNowSecond}}),D=Object(V.a)(x.prototype,"rankList",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return[]}}),z=Object(V.a)(x.prototype,"barrageList",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return[]}}),Object(V.a)(x.prototype,"grassLeftTime",[ye.computed],Object.getOwnPropertyDescriptor(x.prototype,"grassLeftTime"),x.prototype),Object(V.a)(x.prototype,"myCowOnGround",[ye.computed],Object.getOwnPropertyDescriptor(x.prototype,"myCowOnGround"),x.prototype),Object(V.a)(x.prototype,"myCowAmount",[ye.computed],Object.getOwnPropertyDescriptor(x.prototype,"myCowAmount"),x.prototype),Object(V.a)(x.prototype,"init",[ye.action],Object.getOwnPropertyDescriptor(x.prototype,"init"),x.prototype),Object(V.a)(x.prototype,"removeOneCow",[ye.action],Object.getOwnPropertyDescriptor(x.prototype,"removeOneCow"),x.prototype),Object(V.a)(x.prototype,"updateCowInfo",[ye.action],Object.getOwnPropertyDescriptor(x.prototype,"updateCowInfo"),x.prototype),Object(V.a)(x.prototype,"updateRankInfo",[ye.action],Object.getOwnPropertyDescriptor(x.prototype,"updateRankInfo"),x.prototype),Object(V.a)(x.prototype,"addBarrage",[ye.action],Object.getOwnPropertyDescriptor(x.prototype,"addBarrage"),x.prototype),x),Ue=y("tSAD"),qe=(y("hkPe"),function AvatarBtnTip(p){var m=p.children,y=p.avatar,g=p.btnText,O=p.btnColor;return K.a.createElement(G.a,{"className":"avatar-btn-tip ff-m fl-y absolute left-0 -bottom-20 h-46 rounded-24 text-center text-fff"},y&&K.a.createElement(Ue.a,{"className":"avatar","src":y}),K.a.createElement(G.a,{"className":"content"},m),K.a.createElement(G.a,{"className":"btn ".concat(O)},g))}),We=y("twJL"),He=y("4bvG"),Ke=y("TRXh");!function(p){p[p.FOOD=1]="FOOD",p[p.COIN=2]="COIN"}(B||(B={}));var Ye,Ze,Ve,Je,Xe=y("8tQc");!function(p){p[p.COW=1]="COW",p[p.PROPERTY=2]="PROPERTY"}(Ve||(Ve={})),function(p){p[p.LOCK=1]="LOCK",p[p.CAN_PARK=2]="CAN_PARK",p[p.PARKING=3]="PARKING",p[p.EXPIRED=4]="EXPIRED"}(Je||(Je={}));var Qe,$e,et,tt,nt,at,rt,ot,it=(Ye={},Object(Z.default)(Ye,Je.LOCK,"未解锁"),Object(Z.default)(Ye,Je.EXPIRED,"已过期"),Ye),st=(Ze={},Object(Z.default)(Ze,_e.l.HAMMER,[Xe.h.missionBuyForExpelCard,Xe.h.missionViewForExpelCard]),Object(Z.default)(Ze,_e.l.PROTECT,[Xe.h.missionBuyForProtectCard,Xe.h.missionViewForProtectCard]),Ze),ct=y("1YS8"),lt=y("GkIh"),ut=new(Qe=Object(He.a)(),$e=function(p){Object(q.default)(MyBagStore,p);var m=Object(W.default)(MyBagStore);function MyBagStore(){var p;Object(F.default)(this,MyBagStore);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Ae.a)(Object(Y.default)(p),"currentPanel",et,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"cowList",tt,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"propertyMap",nt,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"maxReward",at,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"totalCanPark",rt,Object(Y.default)(p)),p}return Object(U.default)(MyBagStore,[{"key":"openBag","value":function openBag(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve.COW;this.currentPanel=p,this.queryBag(),ct.a.setPop(lt.a.MY_BAG)}},{"key":"updateParkCowInfo","value":function updateParkCowInfo(p){this.cowList=p,this.totalCanPark=p.filter((function(p){return p.status===Je.CAN_PARK||p.status===Je.PARKING})).length}},{"key":"updateProtectAmount","value":function updateProtectAmount(p){var m=this.propertyMap,y=m[_e.l.PROTECT],g=p<0?0:p;this.propertyMap=Object(De.default)(Object(De.default)({},m),Object(Z.default)({},_e.l.PROTECT,Object(De.default)(Object(De.default)({},y),{},{"amount":g})))}},{"key":"queryBag","value":function queryBag(){var p=this;return Object(We.i)().then((function(m){var y=Object(ie.x)(m||{}),g=y.parkCowPropInfo,O=void 0===g?[]:g,k=y.backpackInfoMap,j=void 0===k?{}:k,I=y.maxReward,P=void 0===I?[]:I;p.propertyMap=j,p.maxReward=P,p.updateParkCowInfo(O)})).catch(Ke.b)}},{"key":"changePanel","value":function changePanel(p){this.currentPanel=p}},{"key":"hasProperty","get":function get(){var p=this;return Object.values(_e.l).find((function(m){return p.propertyMap[m]&&p.propertyMap[m].amount>0}))}}]),MyBagStore}(Ne.a),et=Object(V.a)($e.prototype,"currentPanel",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return Ve.COW}}),tt=Object(V.a)($e.prototype,"cowList",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return[]}}),nt=Object(V.a)($e.prototype,"propertyMap",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),at=Object(V.a)($e.prototype,"maxReward",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return[]}}),rt=Object(V.a)($e.prototype,"totalCanPark",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return 1}}),Object(V.a)($e.prototype,"hasProperty",[ye.computed],Object.getOwnPropertyDescriptor($e.prototype,"hasProperty"),$e.prototype),Object(V.a)($e.prototype,"openBag",[ye.action],Object.getOwnPropertyDescriptor($e.prototype,"openBag"),$e.prototype),Object(V.a)($e.prototype,"updateParkCowInfo",[ye.action],Object.getOwnPropertyDescriptor($e.prototype,"updateParkCowInfo"),$e.prototype),Object(V.a)($e.prototype,"updateProtectAmount",[ye.action],Object.getOwnPropertyDescriptor($e.prototype,"updateProtectAmount"),$e.prototype),Object(V.a)($e.prototype,"queryBag",[ye.action,Qe],Object.getOwnPropertyDescriptor($e.prototype,"queryBag"),$e.prototype),Object(V.a)($e.prototype,"changePanel",[ye.action],Object.getOwnPropertyDescriptor($e.prototype,"changePanel"),$e.prototype),$e),pt=y("VggK"),ft=y("o0o1"),dt=y.n(ft),mt=y("HaE+"),yt=y("GuQq"),bt=y.n(yt),ht=y("U8pU"),gt=y("R8eK"),Ot=gt.Reader,vt=gt.Writer,wt=gt.util,kt=gt.roots.default||(gt.roots.default={}),jt=(kt.base=((ot={}).msg=function(){function msg(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return msg.create=function create(p){return new msg(p)},msg.encode=function encode(p,m){return m||(m=vt.create()),m},msg.decode=function decode(p,m){p instanceof Ot||(p=Ot.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new kt.base.msg;p.pos<y;){var O=p.uint32();p.skipType(7&O)}return g},msg.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null},msg.TitanUpstream=function(){function TitanUpstream(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return TitanUpstream.prototype.appId=0,TitanUpstream.prototype.command="",TitanUpstream.prototype.protocol=0,TitanUpstream.prototype.compress=0,TitanUpstream.prototype.host="",TitanUpstream.prototype.appinfo=wt.newBuffer([]),TitanUpstream.prototype.sessionResumptionReq=wt.newBuffer([]),TitanUpstream.prototype.body=wt.newBuffer([]),TitanUpstream.prototype.upstreamSeq=wt.Long?wt.Long.fromBits(0,0,!0):0,TitanUpstream.prototype.conId=wt.Long?wt.Long.fromBits(0,0,!0):0,TitanUpstream.prototype.ctxId=wt.Long?wt.Long.fromBits(0,0,!0):0,TitanUpstream.prototype.keyInfo=null,TitanUpstream.create=function create(p){return new TitanUpstream(p)},TitanUpstream.encode=function encode(p,m){return m||(m=vt.create()),null!=p.appId&&Object.hasOwnProperty.call(p,"appId")&&m.uint32(8).uint32(p.appId),null!=p.command&&Object.hasOwnProperty.call(p,"command")&&m.uint32(18).string(p.command),null!=p.protocol&&Object.hasOwnProperty.call(p,"protocol")&&m.uint32(24).uint32(p.protocol),null!=p.compress&&Object.hasOwnProperty.call(p,"compress")&&m.uint32(32).uint32(p.compress),null!=p.host&&Object.hasOwnProperty.call(p,"host")&&m.uint32(50).string(p.host),null!=p.appinfo&&Object.hasOwnProperty.call(p,"appinfo")&&m.uint32(58).bytes(p.appinfo),null!=p.sessionResumptionReq&&Object.hasOwnProperty.call(p,"sessionResumptionReq")&&m.uint32(66).bytes(p.sessionResumptionReq),null!=p.body&&Object.hasOwnProperty.call(p,"body")&&m.uint32(74).bytes(p.body),null!=p.upstreamSeq&&Object.hasOwnProperty.call(p,"upstreamSeq")&&m.uint32(88).uint64(p.upstreamSeq),null!=p.conId&&Object.hasOwnProperty.call(p,"conId")&&m.uint32(96).uint64(p.conId),null!=p.ctxId&&Object.hasOwnProperty.call(p,"ctxId")&&m.uint32(104).uint64(p.ctxId),null!=p.keyInfo&&Object.hasOwnProperty.call(p,"keyInfo")&&kt.base.msg.MulticastGroupKeyInfo.encode(p.keyInfo,m.uint32(114).fork()).ldelim(),m},TitanUpstream.decode=function decode(p,m){p instanceof Ot||(p=Ot.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new kt.base.msg.TitanUpstream;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.appId=p.uint32();break;case 2:g.command=p.string();break;case 3:g.protocol=p.uint32();break;case 4:g.compress=p.uint32();break;case 6:g.host=p.string();break;case 7:g.appinfo=p.bytes();break;case 8:g.sessionResumptionReq=p.bytes();break;case 9:g.body=p.bytes();break;case 11:g.upstreamSeq=p.uint64();break;case 12:g.conId=p.uint64();break;case 13:g.ctxId=p.uint64();break;case 14:g.keyInfo=kt.base.msg.MulticastGroupKeyInfo.decode(p,p.uint32());break;default:p.skipType(7&O)}}return g},TitanUpstream.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.appId&&p.hasOwnProperty("appId")&&!wt.isInteger(p.appId))return"appId: integer expected";if(null!=p.command&&p.hasOwnProperty("command")&&!wt.isString(p.command))return"command: string expected";if(null!=p.protocol&&p.hasOwnProperty("protocol")&&!wt.isInteger(p.protocol))return"protocol: integer expected";if(null!=p.compress&&p.hasOwnProperty("compress")&&!wt.isInteger(p.compress))return"compress: integer expected";if(null!=p.host&&p.hasOwnProperty("host")&&!wt.isString(p.host))return"host: string expected";if(null!=p.appinfo&&p.hasOwnProperty("appinfo")&&!(p.appinfo&&"number"==typeof p.appinfo.length||wt.isString(p.appinfo)))return"appinfo: buffer expected";if(null!=p.sessionResumptionReq&&p.hasOwnProperty("sessionResumptionReq")&&!(p.sessionResumptionReq&&"number"==typeof p.sessionResumptionReq.length||wt.isString(p.sessionResumptionReq)))return"sessionResumptionReq: buffer expected";if(null!=p.body&&p.hasOwnProperty("body")&&!(p.body&&"number"==typeof p.body.length||wt.isString(p.body)))return"body: buffer expected";if(null!=p.upstreamSeq&&p.hasOwnProperty("upstreamSeq")&&!(wt.isInteger(p.upstreamSeq)||p.upstreamSeq&&wt.isInteger(p.upstreamSeq.low)&&wt.isInteger(p.upstreamSeq.high)))return"upstreamSeq: integer|Long expected";if(null!=p.conId&&p.hasOwnProperty("conId")&&!(wt.isInteger(p.conId)||p.conId&&wt.isInteger(p.conId.low)&&wt.isInteger(p.conId.high)))return"conId: integer|Long expected";if(null!=p.ctxId&&p.hasOwnProperty("ctxId")&&!(wt.isInteger(p.ctxId)||p.ctxId&&wt.isInteger(p.ctxId.low)&&wt.isInteger(p.ctxId.high)))return"ctxId: integer|Long expected";if(null!=p.keyInfo&&p.hasOwnProperty("keyInfo")){var m=kt.base.msg.MulticastGroupKeyInfo.verify(p.keyInfo);if(m)return"keyInfo."+m}return null},TitanUpstream}(),msg.TitanDownstream=function(){function TitanDownstream(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return TitanDownstream.prototype.command="",TitanDownstream.prototype.protocol=0,TitanDownstream.prototype.errorCode=0,TitanDownstream.prototype.bizCode=0,TitanDownstream.prototype.bizErrorMsg="",TitanDownstream.prototype.compress=0,TitanDownstream.prototype.extension=wt.newBuffer([]),TitanDownstream.prototype.body=wt.newBuffer([]),TitanDownstream.prototype.downstreamSeq=wt.Long?wt.Long.fromBits(0,0,!0):0,TitanDownstream.prototype.conId=wt.Long?wt.Long.fromBits(0,0,!0):0,TitanDownstream.prototype.ctxId=wt.Long?wt.Long.fromBits(0,0,!0):0,TitanDownstream.create=function create(p){return new TitanDownstream(p)},TitanDownstream.encode=function encode(p,m){return m||(m=vt.create()),null!=p.command&&Object.hasOwnProperty.call(p,"command")&&m.uint32(10).string(p.command),null!=p.protocol&&Object.hasOwnProperty.call(p,"protocol")&&m.uint32(16).uint32(p.protocol),null!=p.errorCode&&Object.hasOwnProperty.call(p,"errorCode")&&m.uint32(24).uint32(p.errorCode),null!=p.bizCode&&Object.hasOwnProperty.call(p,"bizCode")&&m.uint32(32).uint32(p.bizCode),null!=p.bizErrorMsg&&Object.hasOwnProperty.call(p,"bizErrorMsg")&&m.uint32(42).string(p.bizErrorMsg),null!=p.compress&&Object.hasOwnProperty.call(p,"compress")&&m.uint32(48).uint32(p.compress),null!=p.extension&&Object.hasOwnProperty.call(p,"extension")&&m.uint32(74).bytes(p.extension),null!=p.body&&Object.hasOwnProperty.call(p,"body")&&m.uint32(82).bytes(p.body),null!=p.downstreamSeq&&Object.hasOwnProperty.call(p,"downstreamSeq")&&m.uint32(88).uint64(p.downstreamSeq),null!=p.conId&&Object.hasOwnProperty.call(p,"conId")&&m.uint32(96).uint64(p.conId),null!=p.ctxId&&Object.hasOwnProperty.call(p,"ctxId")&&m.uint32(104).uint64(p.ctxId),m},TitanDownstream.decode=function decode(p,m){p instanceof Ot||(p=Ot.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new kt.base.msg.TitanDownstream;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.command=p.string();break;case 2:g.protocol=p.uint32();break;case 3:g.errorCode=p.uint32();break;case 4:g.bizCode=p.uint32();break;case 5:g.bizErrorMsg=p.string();break;case 6:g.compress=p.uint32();break;case 9:g.extension=p.bytes();break;case 10:g.body=p.bytes();break;case 11:g.downstreamSeq=p.uint64();break;case 12:g.conId=p.uint64();break;case 13:g.ctxId=p.uint64();break;default:p.skipType(7&O)}}return g},TitanDownstream.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.command&&p.hasOwnProperty("command")&&!wt.isString(p.command)?"command: string expected":null!=p.protocol&&p.hasOwnProperty("protocol")&&!wt.isInteger(p.protocol)?"protocol: integer expected":null!=p.errorCode&&p.hasOwnProperty("errorCode")&&!wt.isInteger(p.errorCode)?"errorCode: integer expected":null!=p.bizCode&&p.hasOwnProperty("bizCode")&&!wt.isInteger(p.bizCode)?"bizCode: integer expected":null!=p.bizErrorMsg&&p.hasOwnProperty("bizErrorMsg")&&!wt.isString(p.bizErrorMsg)?"bizErrorMsg: string expected":null!=p.compress&&p.hasOwnProperty("compress")&&!wt.isInteger(p.compress)?"compress: integer expected":null!=p.extension&&p.hasOwnProperty("extension")&&!(p.extension&&"number"==typeof p.extension.length||wt.isString(p.extension))?"extension: buffer expected":null!=p.body&&p.hasOwnProperty("body")&&!(p.body&&"number"==typeof p.body.length||wt.isString(p.body))?"body: buffer expected":null!=p.downstreamSeq&&p.hasOwnProperty("downstreamSeq")&&!(wt.isInteger(p.downstreamSeq)||p.downstreamSeq&&wt.isInteger(p.downstreamSeq.low)&&wt.isInteger(p.downstreamSeq.high))?"downstreamSeq: integer|Long expected":null!=p.conId&&p.hasOwnProperty("conId")&&!(wt.isInteger(p.conId)||p.conId&&wt.isInteger(p.conId.low)&&wt.isInteger(p.conId.high))?"conId: integer|Long expected":null!=p.ctxId&&p.hasOwnProperty("ctxId")&&!(wt.isInteger(p.ctxId)||p.ctxId&&wt.isInteger(p.ctxId.low)&&wt.isInteger(p.ctxId.high))?"ctxId: integer|Long expected":null},TitanDownstream}(),msg.ExtensionMap=function(){function ExtensionMap(p){if(this.info={},p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return ExtensionMap.prototype.info=wt.emptyObject,ExtensionMap.create=function create(p){return new ExtensionMap(p)},ExtensionMap.encode=function encode(p,m){if(m||(m=vt.create()),null!=p.info&&Object.hasOwnProperty.call(p,"info"))for(var y=Object.keys(p.info),g=0;g<y.length;++g)m.uint32(10).fork().uint32(10).string(y[g]).uint32(18).bytes(p.info[y[g]]).ldelim();return m},ExtensionMap.decode=function decode(p,m){p instanceof Ot||(p=Ot.create(p));for(var y,g,O=void 0===m?p.len:p.pos+m,k=new kt.base.msg.ExtensionMap;p.pos<O;){var j=p.uint32();switch(j>>>3){case 1:k.info===wt.emptyObject&&(k.info={});var I=p.uint32()+p.pos;for(y="",g=[];p.pos<I;){var P=p.uint32();switch(P>>>3){case 1:y=p.string();break;case 2:g=p.bytes();break;default:p.skipType(7&P)}}k.info[y]=g;break;default:p.skipType(7&j)}}return k},ExtensionMap.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.info&&p.hasOwnProperty("info")){if(!wt.isObject(p.info))return"info: object expected";for(var m=Object.keys(p.info),y=0;y<m.length;++y)if(!(p.info[m[y]]&&"number"==typeof p.info[m[y]].length||wt.isString(p.info[m[y]])))return"info: buffer{k:string} expected"}return null},ExtensionMap}(),msg.ReconnectInfo=function(){function ReconnectInfo(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return ReconnectInfo.prototype.version=0,ReconnectInfo.prototype.delaySecond=0,ReconnectInfo.create=function create(p){return new ReconnectInfo(p)},ReconnectInfo.encode=function encode(p,m){return m||(m=vt.create()),null!=p.version&&Object.hasOwnProperty.call(p,"version")&&m.uint32(8).uint32(p.version),null!=p.delaySecond&&Object.hasOwnProperty.call(p,"delaySecond")&&m.uint32(16).uint32(p.delaySecond),m},ReconnectInfo.decode=function decode(p,m){p instanceof Ot||(p=Ot.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new kt.base.msg.ReconnectInfo;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.version=p.uint32();break;case 2:g.delaySecond=p.uint32();break;default:p.skipType(7&O)}}return g},ReconnectInfo.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.version&&p.hasOwnProperty("version")&&!wt.isInteger(p.version)?"version: integer expected":null!=p.delaySecond&&p.hasOwnProperty("delaySecond")&&!wt.isInteger(p.delaySecond)?"delaySecond: integer expected":null},ReconnectInfo}(),msg.TitanSessionRequest=function(){function TitanSessionRequest(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return TitanSessionRequest.prototype.encryptedAppInfo=wt.newBuffer([]),TitanSessionRequest.prototype.requestType=0,TitanSessionRequest.prototype.protocolVersion=0,TitanSessionRequest.prototype.isPushConn=!1,TitanSessionRequest.create=function create(p){return new TitanSessionRequest(p)},TitanSessionRequest.encode=function encode(p,m){return m||(m=vt.create()),null!=p.encryptedAppInfo&&Object.hasOwnProperty.call(p,"encryptedAppInfo")&&m.uint32(58).bytes(p.encryptedAppInfo),null!=p.requestType&&Object.hasOwnProperty.call(p,"requestType")&&m.uint32(80).uint32(p.requestType),null!=p.protocolVersion&&Object.hasOwnProperty.call(p,"protocolVersion")&&m.uint32(88).uint32(p.protocolVersion),null!=p.isPushConn&&Object.hasOwnProperty.call(p,"isPushConn")&&m.uint32(96).bool(p.isPushConn),m},TitanSessionRequest.decode=function decode(p,m){p instanceof Ot||(p=Ot.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new kt.base.msg.TitanSessionRequest;p.pos<y;){var O=p.uint32();switch(O>>>3){case 7:g.encryptedAppInfo=p.bytes();break;case 10:g.requestType=p.uint32();break;case 11:g.protocolVersion=p.uint32();break;case 12:g.isPushConn=p.bool();break;default:p.skipType(7&O)}}return g},TitanSessionRequest.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.encryptedAppInfo&&p.hasOwnProperty("encryptedAppInfo")&&!(p.encryptedAppInfo&&"number"==typeof p.encryptedAppInfo.length||wt.isString(p.encryptedAppInfo))?"encryptedAppInfo: buffer expected":null!=p.requestType&&p.hasOwnProperty("requestType")&&!wt.isInteger(p.requestType)?"requestType: integer expected":null!=p.protocolVersion&&p.hasOwnProperty("protocolVersion")&&!wt.isInteger(p.protocolVersion)?"protocolVersion: integer expected":null!=p.isPushConn&&p.hasOwnProperty("isPushConn")&&"boolean"!=typeof p.isPushConn?"isPushConn: boolean expected":null},TitanSessionRequest}(),msg.AppInfo=function(){function AppInfo(p){if(this.customPayload={},p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return AppInfo.prototype.titanid="",AppInfo.prototype.ua="",AppInfo.prototype.os=0,AppInfo.prototype.uid="",AppInfo.prototype.repackage=!1,AppInfo.prototype.accesstoken="",AppInfo.prototype.customPayload=wt.emptyObject,AppInfo.prototype.authType=0,AppInfo.prototype.sceneType=0,AppInfo.create=function create(p){return new AppInfo(p)},AppInfo.encode=function encode(p,m){if(m||(m=vt.create()),null!=p.titanid&&Object.hasOwnProperty.call(p,"titanid")&&m.uint32(10).string(p.titanid),null!=p.ua&&Object.hasOwnProperty.call(p,"ua")&&m.uint32(26).string(p.ua),null!=p.os&&Object.hasOwnProperty.call(p,"os")&&m.uint32(32).uint32(p.os),null!=p.uid&&Object.hasOwnProperty.call(p,"uid")&&m.uint32(42).string(p.uid),null!=p.repackage&&Object.hasOwnProperty.call(p,"repackage")&&m.uint32(88).bool(p.repackage),null!=p.accesstoken&&Object.hasOwnProperty.call(p,"accesstoken")&&m.uint32(98).string(p.accesstoken),null!=p.customPayload&&Object.hasOwnProperty.call(p,"customPayload"))for(var y=Object.keys(p.customPayload),g=0;g<y.length;++g)m.uint32(106).fork().uint32(10).string(y[g]).uint32(18).bytes(p.customPayload[y[g]]).ldelim();return null!=p.authType&&Object.hasOwnProperty.call(p,"authType")&&m.uint32(136).uint32(p.authType),null!=p.sceneType&&Object.hasOwnProperty.call(p,"sceneType")&&m.uint32(152).uint32(p.sceneType),m},AppInfo.decode=function decode(p,m){p instanceof Ot||(p=Ot.create(p));for(var y,g,O=void 0===m?p.len:p.pos+m,k=new kt.base.msg.AppInfo;p.pos<O;){var j=p.uint32();switch(j>>>3){case 1:k.titanid=p.string();break;case 3:k.ua=p.string();break;case 4:k.os=p.uint32();break;case 5:k.uid=p.string();break;case 11:k.repackage=p.bool();break;case 12:k.accesstoken=p.string();break;case 13:k.customPayload===wt.emptyObject&&(k.customPayload={});var I=p.uint32()+p.pos;for(y="",g=[];p.pos<I;){var P=p.uint32();switch(P>>>3){case 1:y=p.string();break;case 2:g=p.bytes();break;default:p.skipType(7&P)}}k.customPayload[y]=g;break;case 17:k.authType=p.uint32();break;case 19:k.sceneType=p.uint32();break;default:p.skipType(7&j)}}return k},AppInfo.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.titanid&&p.hasOwnProperty("titanid")&&!wt.isString(p.titanid))return"titanid: string expected";if(null!=p.ua&&p.hasOwnProperty("ua")&&!wt.isString(p.ua))return"ua: string expected";if(null!=p.os&&p.hasOwnProperty("os")&&!wt.isInteger(p.os))return"os: integer expected";if(null!=p.uid&&p.hasOwnProperty("uid")&&!wt.isString(p.uid))return"uid: string expected";if(null!=p.repackage&&p.hasOwnProperty("repackage")&&"boolean"!=typeof p.repackage)return"repackage: boolean expected";if(null!=p.accesstoken&&p.hasOwnProperty("accesstoken")&&!wt.isString(p.accesstoken))return"accesstoken: string expected";if(null!=p.customPayload&&p.hasOwnProperty("customPayload")){if(!wt.isObject(p.customPayload))return"customPayload: object expected";for(var m=Object.keys(p.customPayload),y=0;y<m.length;++y)if(!(p.customPayload[m[y]]&&"number"==typeof p.customPayload[m[y]].length||wt.isString(p.customPayload[m[y]])))return"customPayload: buffer{k:string} expected"}return null!=p.authType&&p.hasOwnProperty("authType")&&!wt.isInteger(p.authType)?"authType: integer expected":null!=p.sceneType&&p.hasOwnProperty("sceneType")&&!wt.isInteger(p.sceneType)?"sceneType: integer expected":null},AppInfo}(),msg.UpdateAppInfoRequest=function(){function UpdateAppInfoRequest(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return UpdateAppInfoRequest.prototype.appInfo=wt.newBuffer([]),UpdateAppInfoRequest.create=function create(p){return new UpdateAppInfoRequest(p)},UpdateAppInfoRequest.encode=function encode(p,m){return m||(m=vt.create()),null!=p.appInfo&&Object.hasOwnProperty.call(p,"appInfo")&&m.uint32(10).bytes(p.appInfo),m},UpdateAppInfoRequest.decode=function decode(p,m){p instanceof Ot||(p=Ot.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new kt.base.msg.UpdateAppInfoRequest;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.appInfo=p.bytes();break;default:p.skipType(7&O)}}return g},UpdateAppInfoRequest.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.appInfo&&p.hasOwnProperty("appInfo")&&!(p.appInfo&&"number"==typeof p.appInfo.length||wt.isString(p.appInfo))?"appInfo: buffer expected":null},UpdateAppInfoRequest}(),msg.MulticastGroupKeyInfo=function(){function MulticastGroupKeyInfo(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastGroupKeyInfo.prototype.appId=0,MulticastGroupKeyInfo.prototype.bizType=0,MulticastGroupKeyInfo.prototype.groupId="",MulticastGroupKeyInfo.create=function create(p){return new MulticastGroupKeyInfo(p)},MulticastGroupKeyInfo.encode=function encode(p,m){return m||(m=vt.create()),null!=p.appId&&Object.hasOwnProperty.call(p,"appId")&&m.uint32(8).uint32(p.appId),null!=p.bizType&&Object.hasOwnProperty.call(p,"bizType")&&m.uint32(16).uint32(p.bizType),null!=p.groupId&&Object.hasOwnProperty.call(p,"groupId")&&m.uint32(26).string(p.groupId),m},MulticastGroupKeyInfo.decode=function decode(p,m){p instanceof Ot||(p=Ot.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new kt.base.msg.MulticastGroupKeyInfo;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.appId=p.uint32();break;case 2:g.bizType=p.uint32();break;case 3:g.groupId=p.string();break;default:p.skipType(7&O)}}return g},MulticastGroupKeyInfo.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.appId&&p.hasOwnProperty("appId")&&!wt.isInteger(p.appId)?"appId: integer expected":null!=p.bizType&&p.hasOwnProperty("bizType")&&!wt.isInteger(p.bizType)?"bizType: integer expected":null!=p.groupId&&p.hasOwnProperty("groupId")&&!wt.isString(p.groupId)?"groupId: string expected":null},MulticastGroupKeyInfo}(),msg}(),ot),y("8bWy")),It=y.n(jt),Pt=y("DVls"),Mt=y.n(Pt),Ct="closed",Tt="connecting",Et="reconnecting",St="open",xt=0,At=10,Nt=0,Lt=102,_t="titan.session",Rt=1,Dt=1,zt=0,Bt=[622,623,624,626,627,716],Gt=kt.base.msg.TitanDownstream,Ft=function encodeContent(p){var m=p.magic,y=p.cmd,g=p.ctx,O=p.reserve,k=p.payload,j=k&&k.byteLength||0,I=new ArrayBuffer(16+j),P=new DataView(I);P.setInt16(0,m,!1),P.setInt16(2,y,!1),P.setInt32(4,g,!1),P.setInt32(8,O,!1),P.setInt32(12,j,!1);for(var M=0;M<j;M++)P.setUint8(16+M,k[M],!1);return I},Ut=function tryDo(p){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var y=p();return null==y?m:y}catch(p){return m}},qt=function jsonParse(p,m){if("string"!=typeof p)return m;var y;try{y=JSON.parse(p)||m}catch(p){y=m}return y},Wt=function nanoid(p){p=p||21;for(var m="";p-- >0;)m+="bjectSymhasOwnProp-0123456789ABCDEFGHIJKLMNQRTUVWXYZ_dfgiklquvxz"[64*Math.random()|0];return m},Ht=function escapeValue(p){return p=(p=(p=(p=p.replace(/\n/g,"\\\\n")).replace(/\r/g,"\\\\r")).replace(/\t/g,"\\\\t")).replace(/\u2028/g,"")},Kt=function parsePayload(p){for(var m=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],y=p.byteLength,g="",O=0;O<y;O++)g+=String.fromCharCode(p[O]);return m&&(g=It.a.decode(g),g=Ht(g)),qt(g,g)},Yt=function getProtoData(p,m){var y=p.verify(m);if(y)throw y;return p.encode(p.create(m)).finish()},Zt=function mixin(p,m){var y;for(y in m)Array.isArray(p[y])?p[y].push(m[y]):p[y]=[m[y]]},Vt=function noReport(){var p={"1":1,"2":.5,"4":.25,"5":.2,"10":.1},m=1;if(window.__CMT_AMPLIFY_RATE__){var y=window.__CMT_AMPLIFY_RATE__;p[y]&&(m=p[y])}return Math.random()>m},Jt="undefined"!=typeof window,Xt=function(){var p=Object(mt.default)(dt.a.mark((function _callee(p){var m,y,g,O,k,j,I,P,M;return dt.a.wrap((function _callee$(C){for(;;)switch(C.prev=C.next){case 0:if(m=p.fields&&p.fields.isWxApp,y="https://cmtw.pinduoduo.com/api/cmt/cmtc_h5",m||!Jt){C.next=6;break}if(location.hostname.indexOf("hutaojie.com")>=0&&(y="https://cmtw.hutaojie.com/api/cmt/cmtc_h5"),!Vt()){C.next=6;break}return C.abrupt("return");case 6:"10257",g=p.type,O=p.fields,k=p.longFields,j={"tags":{"type":g,"groupId":"10257"},"fields":Object(De.default)({},O),"longFields":k},O.projectName&&(j.tags.projectName=O.projectName,delete j.fields.projectName),I={"mutipleKvList":[j]},P=JSON.stringify(I),M={"method":"POST","body":P,"data":P,"headers":{"Content-Type":"application/json;charset=UTF-8"},"credentials":"include"},m?wx.request(Object(De.default)({"url":y},M)):Jt&&fetch(y,M).catch((function(p){}));case 14:case"end":return C.stop()}}),_callee)})));return function cmtvLog(m){return p.apply(this,arguments)}}(),Qt=function encode(p){for(var m=p.length,y=-1,g="undefined"==typeof Uint8Array?new Array(1.5*m):new Uint8Array(3*m),O=0,k=0,j=0;j!==m;){if(O=p.charCodeAt(j),j+=1,O>=55296&&O<=56319){if(j===m){g[y+=1]=239,g[y+=1]=191,g[y+=1]=189;break}if(!((k=p.charCodeAt(j))>=56320&&k<=57343)){g[y+=1]=239,g[y+=1]=191,g[y+=1]=189;continue}if(j+=1,(O=1024*(O-55296)+k-56320+65536)>65535){g[y+=1]=240|O>>>18,g[y+=1]=128|O>>>12&63,g[y+=1]=128|O>>>6&63,g[y+=1]=128|63&O;continue}}O<=127?g[y+=1]=0|O:O<=2047?(g[y+=1]=192|O>>>6,g[y+=1]=128|63&O):(g[y+=1]=224|O>>>12,g[y+=1]=128|O>>>6&63,g[y+=1]=128|63&O)}return"undefined"!=typeof Uint8Array?g.subarray(0,y+1):(g.length=y+1,g)};var $t=kt.base.msg,en=$t.TitanUpstream,tn=$t.AppInfo,nn=$t.UpdateAppInfoRequest,an=$t.TitanSessionRequest,rn=$t.ExtensionMap,on=$t.ReconnectInfo,sn=function(p){Object(q.default)(Titan,p);var m=Object(W.default)(Titan);function Titan(p){var y;if(Object(F.default)(this,Titan),(y=m.call(this,p)).isWxApp=!!p.isWxApp,y.os=p.os||(y.isWxApp?6:5),y.url=p.url,y.appId=p.appId,y.maxReconnectTimes=void 0!==p.maxReconnectTimes?p.maxReconnectTimes:5,y.status=Ct,y.sendMsgList=[],y.toSendMsgList=[],y.socket=null,y.ctx=100,y.uid=p.uid||"",y.accesstoken=p.accesstoken||"",y.needAuth=!!p.needAuth,y.host=!y.isWxApp&&Jt?window.location.hostname:"",y.ua=!y.isWxApp&&Jt?window.navigator.userAgent:"",y.customPayload=p.customPayload,y.titanId=p.titanId||function getTitanStorage(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{"deviceId":"".concat(p).concat(Date.now(),"_").concat(Wt())}}(p.titanIdPrefix).deviceId,y.appOriginInfo={"titanid":y.titanId,"ua":y.ua,"os":y.os,"uid":y.uid+"","repackage":!1,"accesstoken":y.accesstoken},y.customPayload){for(var g in y.customPayload)y.customPayload[g]=Qt(y.customPayload[g]+"");y.appOriginInfo.customPayload=y.customPayload}return p.authType&&(y.appOriginInfo.authType=p.authType),p.sceneType&&(y.appOriginInfo.sceneType=p.sceneType),y.appInfo=Yt(tn,y.appOriginInfo),y.reconnectCount=-1,y.apiTimeout=p.apiTimeout||3e3,y.maxTimeoutCombo=p.maxTimeoutCombo||3,y.responseTimeoutCount=0,y.checkTimeoutMsgTimer=null,y.heartBeatTimer=null,y.sessionRetryCount=0,y.retrySessionTimer=null,y.needRestart=!0,y.baseOptions=Object(De.default)(Object(De.default)(Object(De.default)({},p),p.logParams||{}),{},{"logParams":void 0,"titanId":y.titanId}),y._hooks=y.constructor.hooks,y.callHooks("init",p),y}return Object(U.default)(Titan,[{"key":"callHooks","value":function callHooks(p,m){var y=this,g=this._hooks[p];Array.isArray(g)&&g.forEach((function(p){"function"==typeof p&&p(y,m)}))}},{"key":"connect","value":function connect(){var p=this;this.reconnectCount++,this.changeStatus(this.reconnectCount<1?Tt:Et),this.checkTimeoutMsg(),this.isWxApp?this.socket=wx.connectSocket({"header":{"content-type":"application/json"},"protocols":[],"method":"POST","tcpNoDelay":!1,"url":this.url,"timeout":1e4}):this.socket=new WebSocket(this.url);var m=this.socket;m.binaryType="arraybuffer";var y=Date.now(),g=function onOpen(){Xt({"type":"connect","fields":p.baseOptions,"longFields":{"code":0,"delayTime":p.delayTime,"reconnectCount":p.reconnectCount,"timeCost":Date.now()-y}}),p.sendSession()},O=function onMessage(m){try{var g=function decodeContent(p){var m=new DataView(p,0,p.byteLength),y=m.getInt16(0,!1),g=m.getInt16(2,!1),O=m.getInt32(4,!1),k=m.getInt32(8,!1),j=m.getInt32(12,!1),I=new Uint8Array(p,16);try{var P=I=Gt.decode(I),M=P.compress,C=P.body,T=P.extension;M===Dt&&(C instanceof Uint8Array&&C.byteLength&&(I.body=Mt.a.ungzip(C)),T instanceof Uint8Array&&T.byteLength&&(I.extension=Mt.a.ungzip(T)))}catch(p){throw p}return{"magic":y,"cmd":g,"ctx":O,"reserve":k,"bodyLen":j,"payload":I}}(m.data);p.responseTimeoutCount=0,p.handleSystemMsg(g),p.handleResponse(g),p.callHooks("onMessage",g)}catch(m){throw Xt({"type":"error","fields":Object(De.default)(Object(De.default)({},p.baseOptions),{},{"err":m.stack||"socket.onmessage error"}),"longFields":{"code":-1,"connectTime":Date.now()-y,"responseTimeoutCount":p.responseTimeoutCount}}),m}},k=function onError(m){p.status===Tt?(Xt({"type":"connect","fields":Object(De.default)(Object(De.default)({},p.baseOptions),{},{"err":JSON.stringify(m)}),"longFields":{"code":-1,"delayTime":p.delayTime,"reconnectCount":p.reconnectCount,"timeCost":Date.now()-y,"responseTimeoutCount":p.responseTimeoutCount}}),p.close(),p.handleClose()):(Xt({"type":"error","fields":Object(De.default)(Object(De.default)({},p.baseOptions),{},{"err":JSON.stringify(m)}),"longFields":{"connectTime":Date.now()-y,"responseTimeoutCount":p.responseTimeoutCount}}),p.close())},j=function onClose(m){Xt({"type":"close","fields":Object(De.default)(Object(De.default)({},p.baseOptions),{},{"err":JSON.stringify(m)}),"longFields":{"connectTime":Date.now()-y,"responseTimeoutCount":p.responseTimeoutCount}}),p.handleClose()};this.isWxApp?(m.onOpen(g),m.onMessage(O),m.onError(k),m.onClose(j)):(m.onopen=g,m.onmessage=O,m.onerror=k,m.onclose=j)}},{"key":"handleSystemMsg","value":function handleSystemMsg(p){var m=this;if(p.cmd===Lt){var y=p.payload,g=y.command,O=y.extension;if("titan.ping"===g){var k=this.buildTitanData({"command":"titan.pong","protocol":1});this.send(k)}if(O&&O.byteLength){var j=rn.decode(O),I=j&&j.info&&j.info.reconnection;if(I){var P=on.decode(I),M=P.delaySecond,C=void 0===M?0:M,T=P.version;this.version&&this.version===T||(this.version=T,this.forceReconnectTimer||(this.forceReconnectTimer=setTimeout((function(){m.forceReconnectTimer=null,m.close()}),1e3*C)))}}}}},{"key":"handleClose","value":function handleClose(){var p=this;if(this.wxOnClosed=!0,!this.handleClosing){this.handleClosing=!0,this.responseTimeoutCount=0,this.sessionRetryCount=0,this.socket=null,this.sendMsgList=[];var m=this.reconnectCount>=this.maxReconnectTimes,y=this.needRestart&&!m;if(this.changeStatus(Ct,this.closeErrorMsg,y),y){var g=Math.floor(5*Math.random())+2*this.reconnectCount;this.delayTime=g>15?15:g,this.reconnectTimer=setTimeout((function(){p.handleClosing=!1,p.connect()}),1e3*this.delayTime)}}}},{"key":"handleResponse","value":function handleResponse(p){for(var m=Object.assign({},p),y=0;y<this.sendMsgList.length;y++){var g=this.sendMsgList[y].msg;if("".concat(g.ctx)==="".concat(m.ctx)){if(this.sendMsgList.splice(y,1),m.payload){var O=m.payload.errorCode;try{g.complete&&g.complete({"statusCode":O,"data":m.payload})}catch(p){g.complete&&g.complete({"errMsg":"socket response:fail - ".concat(p)})}}else g.complete&&g.complete({"errMsg":"socket response:fail - no payload"});break}}}},{"key":"send","value":function send(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1?arguments[1]:void 0,y=arguments.length>2&&void 0!==arguments[2]&&arguments[2],g=arguments.length>3&&void 0!==arguments[3]&&arguments[3],O=p.ctx,k={"ctx":O,"ts":Date.now(),"data":p,"complete":m,"isApi":g};if(this.socket)if(this.status===St||y){var j=Ft(p);this.isWxApp?this.socket.send({"data":j}):this.socket.send(j),m&&this.sendMsgList.push({"msg":k}),this.refreshHeartBeatTimer()}else g?m({"errCode":-5e4,"errMsg":"socket is closed"}):this.toSendMsgList.push({"msg":k});else this.toSendMsgList.push({"msg":k}),this.cleanLists("socket request:fail without task")}},{"key":"buildTitanData","value":function buildTitanData(p){var m=p.body,y=p.sessionResumptionReq,g=p.command,O=p.protocol,k=p.MessageType,j=p.isApi,I=p.host;this.ctx++;var P={"command":g,"protocol":O,"appId":this.appId,"compress":zt,"host":I||this.host,"upstreamSeq":this.ctx};return y&&(P.sessionResumptionReq=Yt(k,y)),m&&(P.body=j?Qt(m):Yt(k,m)),{"magic":At,"cmd":Lt,"ctx":this.ctx,"reserve":1,"payload":Yt(en,P)}}},{"key":"refreshHeartBeatTimer","value":function refreshHeartBeatTimer(){var p=this;this.heartBeatTimer&&clearTimeout(this.heartBeatTimer),this.heartBeatTimer=setTimeout((function(){p.ctx++,p.send({"magic":xt,"cmd":Nt,"ctx":p.ctx,"reserve":1,"payload":null},(function(){}))}),45e3)}},{"key":"sendSession","value":function sendSession(){var p={"requestType":4,"protocolVersion":1,"isPushConn":!0,"encryptedAppInfo":this.appInfo},m=this.buildTitanData({"sessionResumptionReq":p,"MessageType":an,"command":_t,"protocol":Rt});this.sendSessionStart=Date.now(),this.send(m,this.handleSessionResponse.bind(this),!0)}},{"key":"updateInfo","value":function updateInfo(p){var m=this;if(p.uid&&p.accesstoken){this.uid=p.uid||"",this.accesstoken=p.accesstoken||"",this.appOriginInfo.uid=this.uid+"",this.appOriginInfo.accesstoken=this.accesstoken,this.appInfo=Yt(tn,this.appOriginInfo);var y=this.buildTitanData({"MessageType":nn,"command":"titan.updateAppInfo","protocol":1,"body":{"appInfo":this.appInfo}});this.send(y,(function(p){m.handleUpdateRes(p)}))}}},{"key":"handleUpdateRes","value":function handleUpdateRes(p){Xt({"type":"updateInfo","fields":Object(De.default)(Object(De.default)({},this.baseOptions),{},{"newId":this.uid,"newToken":this.accesstoken}),"longFields":{"code":p.statusCode}}),0!==p.statusCode?this.emit("error",{"error_code":1002,"error_msg":"更新token信息失败"}):this.callHooks("onUpdateInfo")}},{"key":"handleSessionResponse","value":function handleSessionResponse(p){var m=this,y=p.statusCode;if(Xt({"type":"sendSession","fields":this.baseOptions,"longFields":{"code":y,"retryCount":this.sessionRetryCount,"timeCost":Date.now()-this.sendSessionStart}}),0===y)this.sessionRetryCount=0,this.reconnectCount=-1,this.changeStatus(St,Object(De.default)(Object(De.default)({},this.appOriginInfo),{},{"sessionData":p.data})),this.toSendMsgList.forEach((function(p){var y=p.msg;m.send(y.data,y.complete)})),this.toSendMsgList=[],this.refreshHeartBeatTimer(),this.callHooks("onSessionSuccess");else if(-1!==Bt.indexOf(y)){var g={"error_code":1001,"error_msg":"token过期或异常"};this.needAuth?(this.closeErrorMsg=g,this.close(!0)):(this.emit("error",g),this.appInfo=Yt(tn,{"titanid":this.titanId,"ua":this.ua,"os":this.os,"uid":"","repackage":!1,"accesstoken":"","customPayload":this.customPayload}),this.sendSession())}else this.sessionRetryCount>=1?this.close():this.retrySendSession()}},{"key":"retrySendSession","value":function retrySendSession(){var p=this;this.sessionRetryCount++;var m=Math.floor(5*Math.random()*1e3);this.retrySessionTimer=setTimeout((function(){p.sendSession(),p.retrySessionTimer=null}),m)}},{"key":"checkTimeoutMsg","value":function checkTimeoutMsg(){var p=this;this.checkTimeoutMsgTimer=setInterval((function(){p.cleanLists("socket request:fail timeout"),p.responseTimeoutCount>=p.maxTimeoutCombo&&p.close()}),1e3)}},{"key":"close","value":function close(p){var m=this;this.status!==Ct?(this.needRestart=!p,this.retrySessionTimer&&clearTimeout(this.retrySessionTimer),this.retrySessionTimer=null,this.heartBeatTimer&&clearTimeout(this.heartBeatTimer),this.heartBeatTimer=null,this.checkTimeoutMsgTimer&&clearInterval(this.checkTimeoutMsgTimer),this.checkTimeoutMsgTimer=null,this.socket&&this.socket.close(),this.isWxApp&&(this.wxOnClosed=!1,setTimeout((function(){m.wxOnClosed||(Xt({"type":"forceClose","fields":m.baseOptions}),m.handleClose())}),5e3))):p&&this.reconnectTimer&&clearTimeout(this.reconnectTimer)}},{"key":"cleanLists","value":function cleanLists(p){var m=this,y=function fn(y){for(var g=0;g<y.length;g++){var O=y[g].msg,k=Math.abs(Date.now()-O.ts);(O.isApi?k>m.apiTimeout:k>5e3)&&(y.splice(g,1),O.complete&&O.complete({"errMsg":p}),m.responseTimeoutCount++,g--)}};y(this.sendMsgList),y(this.toSendMsgList)}},{"key":"changeStatus","value":function changeStatus(p){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=arguments.length>2&&void 0!==arguments[2]&&arguments[2];p!==this.status&&(this.status=p,this.baseOptions.status=p,y||this.emit(p.toLowerCase(),m))}}]),Titan}(bt.a);sn.hooks={},sn.installedPlugins=[],sn.usePlugin=function(p){this.installedPlugins.indexOf(p)>-1||(p&&"function"==typeof p.install&&p.install(this),this.installedPlugins.push(p))};var cn,ln,un=sn,pn=function(){function BackOff(p){Object(F.default)(this,BackOff),p=p||{},this.ms=p.min||100,this.max=p.max||1e4,this.factor=p.factor||2,this.jitter=p.jitter>0&&p.jitter<=1?p.jitter:0,this.attempts=0}return Object(U.default)(BackOff,[{"key":"duration","value":function duration(){var p=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var m=Math.random(),y=Math.floor(m*this.jitter*p);p=0==(1&Math.floor(10*m))?p-y:p+y}return(p=0|Math.min(p,this.max))>1?1e3*p:1e3}},{"key":"reset","value":function reset(p,m){var y=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y&&(this.attempts=0),this.ms=p||this.ms,this.max=m||this.max}},{"key":"setMin","value":function setMin(p){this.ms=p}},{"key":"setMax","value":function setMax(p){this.max=p}},{"key":"setJitter","value":function setJitter(p){this.jitter=p}}]),BackOff}(),dn=gt.Reader,mn=gt.Writer,yn=gt.util,bn=gt.roots.default||(gt.roots.default={}),hn=(bn.multicast=((cn={}).msg=function(){function msg(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return msg.create=function create(p){return new msg(p)},msg.encode=function encode(p,m){return m||(m=mn.create()),m},msg.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg;p.pos<y;){var O=p.uint32();p.skipType(7&O)}return g},msg.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null},msg.MulticastLite=function(){function MulticastLite(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastLite.prototype.bizType=0,MulticastLite.prototype.groupId="",MulticastLite.prototype.msgId="",MulticastLite.prototype.payload=yn.newBuffer([]),MulticastLite.prototype.needAck=!1,MulticastLite.create=function create(p){return new MulticastLite(p)},MulticastLite.encode=function encode(p,m){return m||(m=mn.create()),null!=p.bizType&&p.hasOwnProperty("bizType")&&m.uint32(8).uint32(p.bizType),null!=p.groupId&&p.hasOwnProperty("groupId")&&m.uint32(18).string(p.groupId),null!=p.msgId&&p.hasOwnProperty("msgId")&&m.uint32(26).string(p.msgId),null!=p.payload&&p.hasOwnProperty("payload")&&m.uint32(34).bytes(p.payload),null!=p.needAck&&p.hasOwnProperty("needAck")&&m.uint32(40).bool(p.needAck),m},MulticastLite.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastLite;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.bizType=p.uint32();break;case 2:g.groupId=p.string();break;case 3:g.msgId=p.string();break;case 4:g.payload=p.bytes();break;case 5:g.needAck=p.bool();break;default:p.skipType(7&O)}}return g},MulticastLite.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.bizType&&p.hasOwnProperty("bizType")&&!yn.isInteger(p.bizType)?"bizType: integer expected":null!=p.groupId&&p.hasOwnProperty("groupId")&&!yn.isString(p.groupId)?"groupId: string expected":null!=p.msgId&&p.hasOwnProperty("msgId")&&!yn.isString(p.msgId)?"msgId: string expected":null!=p.payload&&p.hasOwnProperty("payload")&&!(p.payload&&"number"==typeof p.payload.length||yn.isString(p.payload))?"payload: buffer expected":null!=p.needAck&&p.hasOwnProperty("needAck")&&"boolean"!=typeof p.needAck?"needAck: boolean expected":null},MulticastLite}(),msg.MulticastLiteAck=function(){function MulticastLiteAck(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastLiteAck.prototype.bizType=0,MulticastLiteAck.prototype.groupId="",MulticastLiteAck.prototype.msgId="",MulticastLiteAck.prototype.errCode=0,MulticastLiteAck.create=function create(p){return new MulticastLiteAck(p)},MulticastLiteAck.encode=function encode(p,m){return m||(m=mn.create()),null!=p.bizType&&p.hasOwnProperty("bizType")&&m.uint32(8).uint32(p.bizType),null!=p.groupId&&p.hasOwnProperty("groupId")&&m.uint32(18).string(p.groupId),null!=p.msgId&&p.hasOwnProperty("msgId")&&m.uint32(26).string(p.msgId),null!=p.errCode&&p.hasOwnProperty("errCode")&&m.uint32(32).uint32(p.errCode),m},MulticastLiteAck.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastLiteAck;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.bizType=p.uint32();break;case 2:g.groupId=p.string();break;case 3:g.msgId=p.string();break;case 4:g.errCode=p.uint32();break;default:p.skipType(7&O)}}return g},MulticastLiteAck.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.bizType&&p.hasOwnProperty("bizType")&&!yn.isInteger(p.bizType)?"bizType: integer expected":null!=p.groupId&&p.hasOwnProperty("groupId")&&!yn.isString(p.groupId)?"groupId: string expected":null!=p.msgId&&p.hasOwnProperty("msgId")&&!yn.isString(p.msgId)?"msgId: string expected":null!=p.errCode&&p.hasOwnProperty("errCode")&&!yn.isInteger(p.errCode)?"errCode: integer expected":null},MulticastLiteAck}(),msg.MulticastNotify=function(){function MulticastNotify(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastNotify.prototype.bizType=0,MulticastNotify.prototype.groupId="",MulticastNotify.prototype.offset=yn.Long?yn.Long.fromBits(0,0,!0):0,MulticastNotify.prototype.ts=yn.Long?yn.Long.fromBits(0,0,!0):0,MulticastNotify.prototype.minInterval=0,MulticastNotify.prototype.maxInterval=0,MulticastNotify.prototype.payload=yn.newBuffer([]),MulticastNotify.prototype.needAck=!1,MulticastNotify.create=function create(p){return new MulticastNotify(p)},MulticastNotify.encode=function encode(p,m){return m||(m=mn.create()),null!=p.bizType&&p.hasOwnProperty("bizType")&&m.uint32(8).uint32(p.bizType),null!=p.groupId&&p.hasOwnProperty("groupId")&&m.uint32(18).string(p.groupId),null!=p.offset&&p.hasOwnProperty("offset")&&m.uint32(24).uint64(p.offset),null!=p.ts&&p.hasOwnProperty("ts")&&m.uint32(32).uint64(p.ts),null!=p.minInterval&&p.hasOwnProperty("minInterval")&&m.uint32(40).uint32(p.minInterval),null!=p.maxInterval&&p.hasOwnProperty("maxInterval")&&m.uint32(48).uint32(p.maxInterval),null!=p.payload&&p.hasOwnProperty("payload")&&m.uint32(58).bytes(p.payload),null!=p.needAck&&p.hasOwnProperty("needAck")&&m.uint32(64).bool(p.needAck),m},MulticastNotify.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastNotify;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.bizType=p.uint32();break;case 2:g.groupId=p.string();break;case 3:g.offset=p.uint64();break;case 4:g.ts=p.uint64();break;case 5:g.minInterval=p.uint32();break;case 6:g.maxInterval=p.uint32();break;case 7:g.payload=p.bytes();break;case 8:g.needAck=p.bool();break;default:p.skipType(7&O)}}return g},MulticastNotify.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.bizType&&p.hasOwnProperty("bizType")&&!yn.isInteger(p.bizType)?"bizType: integer expected":null!=p.groupId&&p.hasOwnProperty("groupId")&&!yn.isString(p.groupId)?"groupId: string expected":null!=p.offset&&p.hasOwnProperty("offset")&&!(yn.isInteger(p.offset)||p.offset&&yn.isInteger(p.offset.low)&&yn.isInteger(p.offset.high))?"offset: integer|Long expected":null!=p.ts&&p.hasOwnProperty("ts")&&!(yn.isInteger(p.ts)||p.ts&&yn.isInteger(p.ts.low)&&yn.isInteger(p.ts.high))?"ts: integer|Long expected":null!=p.minInterval&&p.hasOwnProperty("minInterval")&&!yn.isInteger(p.minInterval)?"minInterval: integer expected":null!=p.maxInterval&&p.hasOwnProperty("maxInterval")&&!yn.isInteger(p.maxInterval)?"maxInterval: integer expected":null!=p.payload&&p.hasOwnProperty("payload")&&!(p.payload&&"number"==typeof p.payload.length||yn.isString(p.payload))?"payload: buffer expected":null!=p.needAck&&p.hasOwnProperty("needAck")&&"boolean"!=typeof p.needAck?"needAck: boolean expected":null},MulticastNotify}(),msg.MulticastNotifyAck=function(){function MulticastNotifyAck(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastNotifyAck.prototype.ackInfo=null,MulticastNotifyAck.create=function create(p){return new MulticastNotifyAck(p)},MulticastNotifyAck.encode=function encode(p,m){return m||(m=mn.create()),null!=p.ackInfo&&p.hasOwnProperty("ackInfo")&&bn.multicast.msg.MulticastSyncAckItem.encode(p.ackInfo,m.uint32(10).fork()).ldelim(),m},MulticastNotifyAck.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastNotifyAck;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.ackInfo=bn.multicast.msg.MulticastSyncAckItem.decode(p,p.uint32());break;default:p.skipType(7&O)}}return g},MulticastNotifyAck.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.ackInfo&&p.hasOwnProperty("ackInfo")){var m=bn.multicast.msg.MulticastSyncAckItem.verify(p.ackInfo);if(m)return"ackInfo."+m}return null},MulticastNotifyAck}(),msg.MulticastSyncReq=function(){function MulticastSyncReq(p){if(this.syncList=[],p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastSyncReq.prototype.syncList=yn.emptyArray,MulticastSyncReq.create=function create(p){return new MulticastSyncReq(p)},MulticastSyncReq.encode=function encode(p,m){if(m||(m=mn.create()),null!=p.syncList&&p.syncList.length)for(var y=0;y<p.syncList.length;++y)bn.multicast.msg.MulticastSyncReqItem.encode(p.syncList[y],m.uint32(10).fork()).ldelim();return m},MulticastSyncReq.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastSyncReq;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.syncList&&g.syncList.length||(g.syncList=[]),g.syncList.push(bn.multicast.msg.MulticastSyncReqItem.decode(p,p.uint32()));break;default:p.skipType(7&O)}}return g},MulticastSyncReq.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.syncList&&p.hasOwnProperty("syncList")){if(!Array.isArray(p.syncList))return"syncList: array expected";for(var m=0;m<p.syncList.length;++m){var y=bn.multicast.msg.MulticastSyncReqItem.verify(p.syncList[m]);if(y)return"syncList."+y}}return null},MulticastSyncReq}(),msg.MulticastSyncReqItem=function(){function MulticastSyncReqItem(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastSyncReqItem.prototype.bizType=0,MulticastSyncReqItem.prototype.groupId="",MulticastSyncReqItem.prototype.offset=yn.Long?yn.Long.fromBits(0,0,!0):0,MulticastSyncReqItem.create=function create(p){return new MulticastSyncReqItem(p)},MulticastSyncReqItem.encode=function encode(p,m){return m||(m=mn.create()),null!=p.bizType&&p.hasOwnProperty("bizType")&&m.uint32(8).uint32(p.bizType),null!=p.groupId&&p.hasOwnProperty("groupId")&&m.uint32(18).string(p.groupId),null!=p.offset&&p.hasOwnProperty("offset")&&m.uint32(24).uint64(p.offset),m},MulticastSyncReqItem.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastSyncReqItem;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.bizType=p.uint32();break;case 2:g.groupId=p.string();break;case 3:g.offset=p.uint64();break;default:p.skipType(7&O)}}return g},MulticastSyncReqItem.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.bizType&&p.hasOwnProperty("bizType")&&!yn.isInteger(p.bizType)?"bizType: integer expected":null!=p.groupId&&p.hasOwnProperty("groupId")&&!yn.isString(p.groupId)?"groupId: string expected":null!=p.offset&&p.hasOwnProperty("offset")&&!(yn.isInteger(p.offset)||p.offset&&yn.isInteger(p.offset.low)&&yn.isInteger(p.offset.high))?"offset: integer|Long expected":null},MulticastSyncReqItem}(),msg.MulticastSyncResp=function(){function MulticastSyncResp(p){if(this.resList=[],p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastSyncResp.prototype.resList=yn.emptyArray,MulticastSyncResp.prototype.minInterval=0,MulticastSyncResp.prototype.maxInterval=0,MulticastSyncResp.prototype.needAck=!1,MulticastSyncResp.create=function create(p){return new MulticastSyncResp(p)},MulticastSyncResp.encode=function encode(p,m){if(m||(m=mn.create()),null!=p.resList&&p.resList.length)for(var y=0;y<p.resList.length;++y)bn.multicast.msg.MulticastSyncRespItem.encode(p.resList[y],m.uint32(10).fork()).ldelim();return null!=p.minInterval&&p.hasOwnProperty("minInterval")&&m.uint32(16).uint32(p.minInterval),null!=p.maxInterval&&p.hasOwnProperty("maxInterval")&&m.uint32(24).uint32(p.maxInterval),null!=p.needAck&&p.hasOwnProperty("needAck")&&m.uint32(32).bool(p.needAck),m},MulticastSyncResp.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastSyncResp;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.resList&&g.resList.length||(g.resList=[]),g.resList.push(bn.multicast.msg.MulticastSyncRespItem.decode(p,p.uint32()));break;case 2:g.minInterval=p.uint32();break;case 3:g.maxInterval=p.uint32();break;case 4:g.needAck=p.bool();break;default:p.skipType(7&O)}}return g},MulticastSyncResp.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.resList&&p.hasOwnProperty("resList")){if(!Array.isArray(p.resList))return"resList: array expected";for(var m=0;m<p.resList.length;++m){var y=bn.multicast.msg.MulticastSyncRespItem.verify(p.resList[m]);if(y)return"resList."+y}}return null!=p.minInterval&&p.hasOwnProperty("minInterval")&&!yn.isInteger(p.minInterval)?"minInterval: integer expected":null!=p.maxInterval&&p.hasOwnProperty("maxInterval")&&!yn.isInteger(p.maxInterval)?"maxInterval: integer expected":null!=p.needAck&&p.hasOwnProperty("needAck")&&"boolean"!=typeof p.needAck?"needAck: boolean expected":null},MulticastSyncResp}(),msg.MulticastSyncRespItem=function(){function MulticastSyncRespItem(p){if(this.payList=[],p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastSyncRespItem.prototype.bizType=0,MulticastSyncRespItem.prototype.groupId="",MulticastSyncRespItem.prototype.forceUpdate=!1,MulticastSyncRespItem.prototype.payList=yn.emptyArray,MulticastSyncRespItem.create=function create(p){return new MulticastSyncRespItem(p)},MulticastSyncRespItem.encode=function encode(p,m){if(m||(m=mn.create()),null!=p.bizType&&p.hasOwnProperty("bizType")&&m.uint32(8).uint32(p.bizType),null!=p.groupId&&p.hasOwnProperty("groupId")&&m.uint32(18).string(p.groupId),null!=p.forceUpdate&&p.hasOwnProperty("forceUpdate")&&m.uint32(24).bool(p.forceUpdate),null!=p.payList&&p.payList.length)for(var y=0;y<p.payList.length;++y)bn.multicast.msg.MulticastSyncRespMsg.encode(p.payList[y],m.uint32(34).fork()).ldelim();return m},MulticastSyncRespItem.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastSyncRespItem;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.bizType=p.uint32();break;case 2:g.groupId=p.string();break;case 3:g.forceUpdate=p.bool();break;case 4:g.payList&&g.payList.length||(g.payList=[]),g.payList.push(bn.multicast.msg.MulticastSyncRespMsg.decode(p,p.uint32()));break;default:p.skipType(7&O)}}return g},MulticastSyncRespItem.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.bizType&&p.hasOwnProperty("bizType")&&!yn.isInteger(p.bizType))return"bizType: integer expected";if(null!=p.groupId&&p.hasOwnProperty("groupId")&&!yn.isString(p.groupId))return"groupId: string expected";if(null!=p.forceUpdate&&p.hasOwnProperty("forceUpdate")&&"boolean"!=typeof p.forceUpdate)return"forceUpdate: boolean expected";if(null!=p.payList&&p.hasOwnProperty("payList")){if(!Array.isArray(p.payList))return"payList: array expected";for(var m=0;m<p.payList.length;++m){var y=bn.multicast.msg.MulticastSyncRespMsg.verify(p.payList[m]);if(y)return"payList."+y}}return null},MulticastSyncRespItem}(),msg.MulticastSyncRespMsg=function(){function MulticastSyncRespMsg(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastSyncRespMsg.prototype.offset=yn.Long?yn.Long.fromBits(0,0,!0):0,MulticastSyncRespMsg.prototype.payload=yn.newBuffer([]),MulticastSyncRespMsg.prototype.ts=yn.Long?yn.Long.fromBits(0,0,!0):0,MulticastSyncRespMsg.create=function create(p){return new MulticastSyncRespMsg(p)},MulticastSyncRespMsg.encode=function encode(p,m){return m||(m=mn.create()),null!=p.offset&&p.hasOwnProperty("offset")&&m.uint32(8).uint64(p.offset),null!=p.payload&&p.hasOwnProperty("payload")&&m.uint32(18).bytes(p.payload),null!=p.ts&&p.hasOwnProperty("ts")&&m.uint32(24).uint64(p.ts),m},MulticastSyncRespMsg.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastSyncRespMsg;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.offset=p.uint64();break;case 2:g.payload=p.bytes();break;case 3:g.ts=p.uint64();break;default:p.skipType(7&O)}}return g},MulticastSyncRespMsg.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.offset&&p.hasOwnProperty("offset")&&!(yn.isInteger(p.offset)||p.offset&&yn.isInteger(p.offset.low)&&yn.isInteger(p.offset.high))?"offset: integer|Long expected":null!=p.payload&&p.hasOwnProperty("payload")&&!(p.payload&&"number"==typeof p.payload.length||yn.isString(p.payload))?"payload: buffer expected":null!=p.ts&&p.hasOwnProperty("ts")&&!(yn.isInteger(p.ts)||p.ts&&yn.isInteger(p.ts.low)&&yn.isInteger(p.ts.high))?"ts: integer|Long expected":null},MulticastSyncRespMsg}(),msg.MulticastSyncAck=function(){function MulticastSyncAck(p){if(this.ackList=[],p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastSyncAck.prototype.ackList=yn.emptyArray,MulticastSyncAck.create=function create(p){return new MulticastSyncAck(p)},MulticastSyncAck.encode=function encode(p,m){if(m||(m=mn.create()),null!=p.ackList&&p.ackList.length)for(var y=0;y<p.ackList.length;++y)bn.multicast.msg.MulticastSyncAckItem.encode(p.ackList[y],m.uint32(10).fork()).ldelim();return m},MulticastSyncAck.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastSyncAck;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.ackList&&g.ackList.length||(g.ackList=[]),g.ackList.push(bn.multicast.msg.MulticastSyncAckItem.decode(p,p.uint32()));break;default:p.skipType(7&O)}}return g},MulticastSyncAck.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.ackList&&p.hasOwnProperty("ackList")){if(!Array.isArray(p.ackList))return"ackList: array expected";for(var m=0;m<p.ackList.length;++m){var y=bn.multicast.msg.MulticastSyncAckItem.verify(p.ackList[m]);if(y)return"ackList."+y}}return null},MulticastSyncAck}(),msg.MulticastSyncAckItem=function(){function MulticastSyncAckItem(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastSyncAckItem.prototype.bizType=0,MulticastSyncAckItem.prototype.groupId="",MulticastSyncAckItem.prototype.offset=yn.Long?yn.Long.fromBits(0,0,!0):0,MulticastSyncAckItem.prototype.ts=yn.Long?yn.Long.fromBits(0,0,!0):0,MulticastSyncAckItem.prototype.errCode=0,MulticastSyncAckItem.create=function create(p){return new MulticastSyncAckItem(p)},MulticastSyncAckItem.encode=function encode(p,m){return m||(m=mn.create()),null!=p.bizType&&p.hasOwnProperty("bizType")&&m.uint32(8).uint32(p.bizType),null!=p.groupId&&p.hasOwnProperty("groupId")&&m.uint32(18).string(p.groupId),null!=p.offset&&p.hasOwnProperty("offset")&&m.uint32(24).uint64(p.offset),null!=p.ts&&p.hasOwnProperty("ts")&&m.uint32(32).uint64(p.ts),null!=p.errCode&&p.hasOwnProperty("errCode")&&m.uint32(40).uint32(p.errCode),m},MulticastSyncAckItem.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastSyncAckItem;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.bizType=p.uint32();break;case 2:g.groupId=p.string();break;case 3:g.offset=p.uint64();break;case 4:g.ts=p.uint64();break;case 5:g.errCode=p.uint32();break;default:p.skipType(7&O)}}return g},MulticastSyncAckItem.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.bizType&&p.hasOwnProperty("bizType")&&!yn.isInteger(p.bizType)?"bizType: integer expected":null!=p.groupId&&p.hasOwnProperty("groupId")&&!yn.isString(p.groupId)?"groupId: string expected":null!=p.offset&&p.hasOwnProperty("offset")&&!(yn.isInteger(p.offset)||p.offset&&yn.isInteger(p.offset.low)&&yn.isInteger(p.offset.high))?"offset: integer|Long expected":null!=p.ts&&p.hasOwnProperty("ts")&&!(yn.isInteger(p.ts)||p.ts&&yn.isInteger(p.ts.low)&&yn.isInteger(p.ts.high))?"ts: integer|Long expected":null!=p.errCode&&p.hasOwnProperty("errCode")&&!yn.isInteger(p.errCode)?"errCode: integer expected":null},MulticastSyncAckItem}(),msg.MulticastHttpSyncReq=function(){function MulticastHttpSyncReq(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastHttpSyncReq.prototype.appId=0,MulticastHttpSyncReq.prototype.req=null,MulticastHttpSyncReq.create=function create(p){return new MulticastHttpSyncReq(p)},MulticastHttpSyncReq.encode=function encode(p,m){return m||(m=mn.create()),null!=p.appId&&p.hasOwnProperty("appId")&&m.uint32(8).uint32(p.appId),null!=p.req&&p.hasOwnProperty("req")&&bn.multicast.msg.MulticastSyncReq.encode(p.req,m.uint32(18).fork()).ldelim(),m},MulticastHttpSyncReq.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastHttpSyncReq;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.appId=p.uint32();break;case 2:g.req=bn.multicast.msg.MulticastSyncReq.decode(p,p.uint32());break;default:p.skipType(7&O)}}return g},MulticastHttpSyncReq.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.appId&&p.hasOwnProperty("appId")&&!yn.isInteger(p.appId))return"appId: integer expected";if(null!=p.req&&p.hasOwnProperty("req")){var m=bn.multicast.msg.MulticastSyncReq.verify(p.req);if(m)return"req."+m}return null},MulticastHttpSyncReq}(),msg.MulticastGroupItem=function(){function MulticastGroupItem(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastGroupItem.prototype.bizType=0,MulticastGroupItem.prototype.groupId="",MulticastGroupItem.create=function create(p){return new MulticastGroupItem(p)},MulticastGroupItem.encode=function encode(p,m){return m||(m=mn.create()),null!=p.bizType&&p.hasOwnProperty("bizType")&&m.uint32(8).uint32(p.bizType),null!=p.groupId&&p.hasOwnProperty("groupId")&&m.uint32(18).string(p.groupId),m},MulticastGroupItem.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastGroupItem;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.bizType=p.uint32();break;case 2:g.groupId=p.string();break;default:p.skipType(7&O)}}return g},MulticastGroupItem.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.bizType&&p.hasOwnProperty("bizType")&&!yn.isInteger(p.bizType)?"bizType: integer expected":null!=p.groupId&&p.hasOwnProperty("groupId")&&!yn.isString(p.groupId)?"groupId: string expected":null},MulticastGroupItem}(),msg.MulticastBindGroupReq=function(){function MulticastBindGroupReq(p){if(this.groupList=[],p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastBindGroupReq.prototype.groupList=yn.emptyArray,MulticastBindGroupReq.create=function create(p){return new MulticastBindGroupReq(p)},MulticastBindGroupReq.encode=function encode(p,m){if(m||(m=mn.create()),null!=p.groupList&&p.groupList.length)for(var y=0;y<p.groupList.length;++y)bn.multicast.msg.MulticastGroupItem.encode(p.groupList[y],m.uint32(10).fork()).ldelim();return m},MulticastBindGroupReq.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastBindGroupReq;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.groupList&&g.groupList.length||(g.groupList=[]),g.groupList.push(bn.multicast.msg.MulticastGroupItem.decode(p,p.uint32()));break;default:p.skipType(7&O)}}return g},MulticastBindGroupReq.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.groupList&&p.hasOwnProperty("groupList")){if(!Array.isArray(p.groupList))return"groupList: array expected";for(var m=0;m<p.groupList.length;++m){var y=bn.multicast.msg.MulticastGroupItem.verify(p.groupList[m]);if(y)return"groupList."+y}}return null},MulticastBindGroupReq}(),msg.MulticastUnBindGroupReq=function(){function MulticastUnBindGroupReq(p){if(this.groupList=[],p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return MulticastUnBindGroupReq.prototype.groupList=yn.emptyArray,MulticastUnBindGroupReq.create=function create(p){return new MulticastUnBindGroupReq(p)},MulticastUnBindGroupReq.encode=function encode(p,m){if(m||(m=mn.create()),null!=p.groupList&&p.groupList.length)for(var y=0;y<p.groupList.length;++y)bn.multicast.msg.MulticastGroupItem.encode(p.groupList[y],m.uint32(10).fork()).ldelim();return m},MulticastUnBindGroupReq.decode=function decode(p,m){p instanceof dn||(p=dn.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new bn.multicast.msg.MulticastUnBindGroupReq;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.groupList&&g.groupList.length||(g.groupList=[]),g.groupList.push(bn.multicast.msg.MulticastGroupItem.decode(p,p.uint32()));break;default:p.skipType(7&O)}}return g},MulticastUnBindGroupReq.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.groupList&&p.hasOwnProperty("groupList")){if(!Array.isArray(p.groupList))return"groupList: array expected";for(var m=0;m<p.groupList.length;++m){var y=bn.multicast.msg.MulticastGroupItem.verify(p.groupList[m]);if(y)return"groupList."+y}}return null},MulticastUnBindGroupReq}(),msg}(),cn),"titan.bdgrp"),gn="titan.unbdgrp",On="titan.mSync",vn="titan.mSyncAck",wn="titan.mLite",kn="titan.mLiteAck",jn="titan.mNotify",In="titan.mNotifyAck",Pn=1,Mn=1,Cn=bn.multicast.msg,Tn=Cn.MulticastSyncReq,En=Cn.MulticastSyncResp,Sn=Cn.MulticastSyncAck,xn=Cn.MulticastBindGroupReq,An=Cn.MulticastLite,Nn=Cn.MulticastLiteAck,Ln=Cn.MulticastNotify,_n=Cn.MulticastNotifyAck,Rn=Cn.MulticastUnBindGroupReq,Dn={},zn=function init(p,m){Bn(p,m),Gn(p)},Bn=function initOptions(p,m){var y=p.groupList,g=Dn[m.groupId]||0;m.bizType&&m.groupId&&(y?y.push({"bizType":m.bizType,"groupId":m.groupId,"offset":g}):p.groupList=[{"bizType":m.bizType,"groupId":m.groupId,"offset":g}]),p.groupBinded=!1,p.disableMulticastSync=m.disableMulticastSync,p.bindRetryNum=0,p.unbindRetryNum=0,p.backoff=new pn({"min":1,"max":16})},Gn=function initFunction(p){p.unbindGroup=function(m){Fn(p,m)},p.bindGroup=function(m){Bn(p,m),Un(p)}},Fn=function unbindGroup(p,m){var y=p.groupList,g=y.findIndex((function(p){return p.bizType===m.bizType&&p.groupId===m.groupId}));if(-1!==g){var O=(y.splice(g,1)||[])[0],k=p.buildTitanData({"body":{"groupList":[{"bizType":m.bizType,"groupId":m.groupId}]},"MessageType":Rn,"command":gn,"protocol":Mn});p.send(k,(function(g){Xt({"type":"unbindGroup","fields":Object(De.default)(Object(De.default)({},p.baseOptions),{},{"res":JSON.stringify(g)}),"longFields":{"code":g.statusCode}}),0!==g.statusCode?p.unbindRetryNum<=2&&(p.unbindRetryNum++,y.unshift(O),unbindGroup(p,m)):p.unbindRetryNum=0}))}else Xt({"type":"log","fields":Object(De.default)(Object(De.default)({},p.baseOptions),{},{"logMsg":"unbind findIndex error"})})},Un=function bindGroup(p){if(p.groupList&&0!==p.groupList.length){var m=p.buildTitanData({"body":{"groupList":p.groupList},"MessageType":xn,"command":hn,"protocol":Mn});p.bindStart=Date.now();var y=p.groupList.map((function(p){return p.groupId}));p.send(m,(function(m){0===m.statusCode?(p.sendTimer&&(clearTimeout(p.sendTimer),p.sendTimer=null),Xt({"type":"bindGroup","fields":Object(De.default)(Object(De.default)({},p.baseOptions),{},{"groupList":JSON.stringify(y),"res":JSON.stringify(m)}),"longFields":{"code":0,"timeCost":Date.now()-p.bindStart,"bindRetryNum":p.bindRetryNum,"lastCode":p.lastCode}}),Vn(p)):p.bindRetryNum>2?Xt({"type":"bindGroup","fields":Object(De.default)(Object(De.default)({},p.baseOptions),{},{"groupList":JSON.stringify(y),"res":JSON.stringify(m)}),"longFields":{"code":m.statusCode,"timeCost":Date.now()-p.bindStart,"bindRetryNum":p.bindRetryNum,"lastCode":p.lastCode}}):(p.lastCode=m.statusCode,p.bindRetryNum++,bindGroup(p))}))}},qn=function getGroupInfo(p,m){return p.groupList.find((function(p){return p.groupId===m.groupId&&p.bizType===m.bizType}))},Wn=function getMessageEventName(p,m){return p?"message_"+m.bizType+m.groupId:"message"},Hn=function onMessage(p,m){var y=Ut((function(){return m.payload.body}));y&&(m.payload.command===wn?Kn(p,y):m.payload.command===jn&&Yn(p,y))},Kn=function handleLite(p,m){var y=An.decode(m),g=y.bizType,O=y.groupId,k=y.msgId,j=y.payload,I=y.needAck;if(p.emit(Wn(p.isWxApp,y),Kt(j),O),I){var P=p.buildTitanData({"body":{"bizType":g,"groupId":O,"msgId":k},"MessageType":Nn,"command":kn,"protocol":Mn});p.send(P)}},Yn=function handleNotify(p,m){var y=Ln.decode(m),g=y.offset,O=y.ts,k=y.minInterval,j=y.maxInterval,I=y.payload,P=y.needAck,M=y.groupId,C=qn(p,y);if(C){if(C.offset&&C.offset.add){var T=C.offset.add(1);if(T.lessThan(g))return void Vn(p);if(T.greaterThan(g))return}if(C.offset=g,Dn[M]=g,Zn(p,k,j),p.emit(Wn(p.isWxApp,y),Kt(I),M),P){var E=p.buildTitanData({"body":{"ackInfo":Object(De.default)(Object(De.default)({},C),{},{"ts":O})},"MessageType":_n,"command":In,"protocol":Mn});p.send(E)}}},Zn=function resetSync(p,m,y){m&&y&&p.backoff.reset(m,y),p.sendTimer&&(clearTimeout(p.sendTimer),p.sendTimer=null);var g=p.backoff.duration();p.sendTimer=setTimeout((function(){Vn(p)}),g)},Vn=function sendSync(p){if(!p.disableMulticastSync&&0!==p.groupList.length){var m=p.buildTitanData({"body":{"syncList":p.groupList},"MessageType":Tn,"command":On,"protocol":Mn});p.send(m,(function(m){Jn(p,m)})),Zn(p)}},Jn=function handleSyncRes(p,m){var y=Ut((function(){return m.data.body}));if(y){var g=En.decode(y);if(g){var O=g.minInterval,k=g.maxInterval,j=g.needAck,I=g.resList;p.backoff.reset(O,k,!1),I.forEach((function(m){var y=m.payList||[];if(y.length){var g=qn(p,m);y.sort((function(p,m){return Ut((function(){return p.offset.greaterThan(m.offset)?1:-1}),p.offset-m.offset)}));var I=y[y.length-1],P=I.offset,M=I.ts;if(Ut((function(){return g.offset.greaterThanOrEqual(P)}),g.offset>=P))return;if(0===g.offset){var C=y.map((function(p){return{"ts":p.ts,"data":Kt(p.payload)}}));p.emit(function getHistoryEventName(p,m){return p?"history_"+m.bizType+m.groupId:"history"}(p.isWxApp,m),C)}else y.forEach((function(y){if(Ut((function(){return y.offset.greaterThan(g.offset)}),y.offset>g.offset)){var O=Kt(y.payload);p.emit(Wn(p.isWxApp,m),O)}}));g.offset=P,Dn[g.groupId]=P,Zn(p,O,k),j&&Xn(p,Object(De.default)(Object(De.default)({},g),{},{"ts":M}))}}))}}},Xn=function sendSyncAck(p,m){var y=p.buildTitanData({"body":{"ackList":[m]},"MessageType":Sn,"command":vn,"protocol":Pn});p.send(y)},Qn={"install":function install(p){Zt(p.hooks,{"init":zn,"onMessage":Hn,"onSessionSuccess":Un})}},$n=gt.Reader,ea=gt.Writer,ta=gt.util,na=gt.roots.default||(gt.roots.default={}),aa=(na.unicast=((ln={}).msg=function(){function msg(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return msg.create=function create(p){return new msg(p)},msg.encode=function encode(p,m){return m||(m=ea.create()),m},msg.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new na.unicast.msg;p.pos<y;){var O=p.uint32();p.skipType(7&O)}return g},msg.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null},msg.Notify=function(){function Notify(p){if(this.uidGroupList=[],this.titanidGroupList=[],p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return Notify.prototype.uid="",Notify.prototype.titanid="",Notify.prototype.os=0,Notify.prototype.uidGroupList=ta.emptyArray,Notify.prototype.titanidGroupList=ta.emptyArray,Notify.create=function create(p){return new Notify(p)},Notify.encode=function encode(p,m){if(m||(m=ea.create()),null!=p.uid&&p.hasOwnProperty("uid")&&m.uint32(10).string(p.uid),null!=p.titanid&&p.hasOwnProperty("titanid")&&m.uint32(18).string(p.titanid),null!=p.os&&p.hasOwnProperty("os")&&m.uint32(24).uint32(p.os),null!=p.uidGroupList&&p.uidGroupList.length){m.uint32(34).fork();for(var y=0;y<p.uidGroupList.length;++y)m.uint32(p.uidGroupList[y]);m.ldelim()}if(null!=p.titanidGroupList&&p.titanidGroupList.length){m.uint32(42).fork();for(var g=0;g<p.titanidGroupList.length;++g)m.uint32(p.titanidGroupList[g]);m.ldelim()}return m},Notify.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new na.unicast.msg.Notify;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.uid=p.string();break;case 2:g.titanid=p.string();break;case 3:g.os=p.uint32();break;case 4:if(g.uidGroupList&&g.uidGroupList.length||(g.uidGroupList=[]),2==(7&O))for(var k=p.uint32()+p.pos;p.pos<k;)g.uidGroupList.push(p.uint32());else g.uidGroupList.push(p.uint32());break;case 5:if(g.titanidGroupList&&g.titanidGroupList.length||(g.titanidGroupList=[]),2==(7&O))for(var j=p.uint32()+p.pos;p.pos<j;)g.titanidGroupList.push(p.uint32());else g.titanidGroupList.push(p.uint32());break;default:p.skipType(7&O)}}return g},Notify.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.uid&&p.hasOwnProperty("uid")&&!ta.isString(p.uid))return"uid: string expected";if(null!=p.titanid&&p.hasOwnProperty("titanid")&&!ta.isString(p.titanid))return"titanid: string expected";if(null!=p.os&&p.hasOwnProperty("os")&&!ta.isInteger(p.os))return"os: integer expected";if(null!=p.uidGroupList&&p.hasOwnProperty("uidGroupList")){if(!Array.isArray(p.uidGroupList))return"uidGroupList: array expected";for(var m=0;m<p.uidGroupList.length;++m)if(!ta.isInteger(p.uidGroupList[m]))return"uidGroupList: integer[] expected"}if(null!=p.titanidGroupList&&p.hasOwnProperty("titanidGroupList")){if(!Array.isArray(p.titanidGroupList))return"titanidGroupList: array expected";for(var y=0;y<p.titanidGroupList.length;++y)if(!ta.isInteger(p.titanidGroupList[y]))return"titanidGroupList: integer[] expected"}return null},Notify}(),msg.NotifyData=function(){function NotifyData(p){if(this.uidMap={},this.titanidMap={},this.additionalMap={},p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return NotifyData.prototype.uid="",NotifyData.prototype.titanid="",NotifyData.prototype.os=0,NotifyData.prototype.uidMap=ta.emptyObject,NotifyData.prototype.titanidMap=ta.emptyObject,NotifyData.prototype.additionalMap=ta.emptyObject,NotifyData.create=function create(p){return new NotifyData(p)},NotifyData.encode=function encode(p,m){if(m||(m=ea.create()),null!=p.uid&&p.hasOwnProperty("uid")&&m.uint32(10).string(p.uid),null!=p.titanid&&p.hasOwnProperty("titanid")&&m.uint32(18).string(p.titanid),null!=p.os&&p.hasOwnProperty("os")&&m.uint32(24).uint32(p.os),null!=p.uidMap&&p.hasOwnProperty("uidMap"))for(var y=Object.keys(p.uidMap),g=0;g<y.length;++g)m.uint32(34).fork().uint32(8).uint32(y[g]),na.unicast.msg.NotifyGroupMsgList.encode(p.uidMap[y[g]],m.uint32(18).fork()).ldelim().ldelim();if(null!=p.titanidMap&&p.hasOwnProperty("titanidMap"))for(var O=Object.keys(p.titanidMap),k=0;k<O.length;++k)m.uint32(42).fork().uint32(8).uint32(O[k]),na.unicast.msg.NotifyGroupMsgList.encode(p.titanidMap[O[k]],m.uint32(18).fork()).ldelim().ldelim();if(null!=p.additionalMap&&p.hasOwnProperty("additionalMap"))for(var j=Object.keys(p.additionalMap),I=0;I<j.length;++I)m.uint32(50).fork().uint32(10).string(j[I]).uint32(18).string(p.additionalMap[j[I]]).ldelim();return m},NotifyData.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y,g=void 0===m?p.len:p.pos+m,O=new na.unicast.msg.NotifyData;p.pos<g;){var k=p.uint32();switch(k>>>3){case 1:O.uid=p.string();break;case 2:O.titanid=p.string();break;case 3:O.os=p.uint32();break;case 4:p.skip().pos++,O.uidMap===ta.emptyObject&&(O.uidMap={}),y=p.uint32(),p.pos++,O.uidMap[y]=na.unicast.msg.NotifyGroupMsgList.decode(p,p.uint32());break;case 5:p.skip().pos++,O.titanidMap===ta.emptyObject&&(O.titanidMap={}),y=p.uint32(),p.pos++,O.titanidMap[y]=na.unicast.msg.NotifyGroupMsgList.decode(p,p.uint32());break;case 6:p.skip().pos++,O.additionalMap===ta.emptyObject&&(O.additionalMap={}),y=p.string(),p.pos++,O.additionalMap[y]=p.string();break;default:p.skipType(7&k)}}return O},NotifyData.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.uid&&p.hasOwnProperty("uid")&&!ta.isString(p.uid))return"uid: string expected";if(null!=p.titanid&&p.hasOwnProperty("titanid")&&!ta.isString(p.titanid))return"titanid: string expected";if(null!=p.os&&p.hasOwnProperty("os")&&!ta.isInteger(p.os))return"os: integer expected";if(null!=p.uidMap&&p.hasOwnProperty("uidMap")){if(!ta.isObject(p.uidMap))return"uidMap: object expected";for(var m=Object.keys(p.uidMap),y=0;y<m.length;++y){if(!ta.key32Re.test(m[y]))return"uidMap: integer key{k:uint32} expected";var g=na.unicast.msg.NotifyGroupMsgList.verify(p.uidMap[m[y]]);if(g)return"uidMap."+g}}if(null!=p.titanidMap&&p.hasOwnProperty("titanidMap")){if(!ta.isObject(p.titanidMap))return"titanidMap: object expected";for(var O=Object.keys(p.titanidMap),k=0;k<O.length;++k){if(!ta.key32Re.test(O[k]))return"titanidMap: integer key{k:uint32} expected";var j=na.unicast.msg.NotifyGroupMsgList.verify(p.titanidMap[O[k]]);if(j)return"titanidMap."+j}}if(null!=p.additionalMap&&p.hasOwnProperty("additionalMap")){if(!ta.isObject(p.additionalMap))return"additionalMap: object expected";for(var I=Object.keys(p.additionalMap),P=0;P<I.length;++P)if(!ta.isString(p.additionalMap[I[P]]))return"additionalMap: string{k:string} expected"}return null},NotifyData}(),msg.NotifyGroupMsgList=function(){function NotifyGroupMsgList(p){if(this.msgList=[],p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return NotifyGroupMsgList.prototype.msgList=ta.emptyArray,NotifyGroupMsgList.create=function create(p){return new NotifyGroupMsgList(p)},NotifyGroupMsgList.encode=function encode(p,m){if(m||(m=ea.create()),null!=p.msgList&&p.msgList.length)for(var y=0;y<p.msgList.length;++y)na.unicast.msg.NotifyMsg.encode(p.msgList[y],m.uint32(10).fork()).ldelim();return m},NotifyGroupMsgList.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new na.unicast.msg.NotifyGroupMsgList;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.msgList&&g.msgList.length||(g.msgList=[]),g.msgList.push(na.unicast.msg.NotifyMsg.decode(p,p.uint32()));break;default:p.skipType(7&O)}}return g},NotifyGroupMsgList.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.msgList&&p.hasOwnProperty("msgList")){if(!Array.isArray(p.msgList))return"msgList: array expected";for(var m=0;m<p.msgList.length;++m){var y=na.unicast.msg.NotifyMsg.verify(p.msgList[m]);if(y)return"msgList."+y}}return null},NotifyGroupMsgList}(),msg.NotifyMsg=function(){function NotifyMsg(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return NotifyMsg.prototype.bizType=0,NotifyMsg.prototype.isExpired=!1,NotifyMsg.prototype.offset=ta.Long?ta.Long.fromBits(0,0,!0):0,NotifyMsg.prototype.startOffset=ta.Long?ta.Long.fromBits(0,0,!0):0,NotifyMsg.prototype.endOffset=ta.Long?ta.Long.fromBits(0,0,!0):0,NotifyMsg.prototype.payload=ta.newBuffer([]),NotifyMsg.prototype.msgId="",NotifyMsg.prototype.subType=0,NotifyMsg.prototype.timestamp=ta.Long?ta.Long.fromBits(0,0,!0):0,NotifyMsg.prototype.expiredTs=ta.Long?ta.Long.fromBits(0,0,!0):0,NotifyMsg.create=function create(p){return new NotifyMsg(p)},NotifyMsg.encode=function encode(p,m){return m||(m=ea.create()),null!=p.bizType&&p.hasOwnProperty("bizType")&&m.uint32(8).uint32(p.bizType),null!=p.isExpired&&p.hasOwnProperty("isExpired")&&m.uint32(16).bool(p.isExpired),null!=p.offset&&p.hasOwnProperty("offset")&&m.uint32(24).uint64(p.offset),null!=p.startOffset&&p.hasOwnProperty("startOffset")&&m.uint32(32).uint64(p.startOffset),null!=p.endOffset&&p.hasOwnProperty("endOffset")&&m.uint32(40).uint64(p.endOffset),null!=p.payload&&p.hasOwnProperty("payload")&&m.uint32(50).bytes(p.payload),null!=p.msgId&&p.hasOwnProperty("msgId")&&m.uint32(58).string(p.msgId),null!=p.subType&&p.hasOwnProperty("subType")&&m.uint32(64).uint32(p.subType),null!=p.timestamp&&p.hasOwnProperty("timestamp")&&m.uint32(72).uint64(p.timestamp),null!=p.expiredTs&&p.hasOwnProperty("expiredTs")&&m.uint32(80).uint64(p.expiredTs),m},NotifyMsg.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new na.unicast.msg.NotifyMsg;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.bizType=p.uint32();break;case 2:g.isExpired=p.bool();break;case 3:g.offset=p.uint64();break;case 4:g.startOffset=p.uint64();break;case 5:g.endOffset=p.uint64();break;case 6:g.payload=p.bytes();break;case 7:g.msgId=p.string();break;case 8:g.subType=p.uint32();break;case 9:g.timestamp=p.uint64();break;case 10:g.expiredTs=p.uint64();break;default:p.skipType(7&O)}}return g},NotifyMsg.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.bizType&&p.hasOwnProperty("bizType")&&!ta.isInteger(p.bizType)?"bizType: integer expected":null!=p.isExpired&&p.hasOwnProperty("isExpired")&&"boolean"!=typeof p.isExpired?"isExpired: boolean expected":null!=p.offset&&p.hasOwnProperty("offset")&&!(ta.isInteger(p.offset)||p.offset&&ta.isInteger(p.offset.low)&&ta.isInteger(p.offset.high))?"offset: integer|Long expected":null!=p.startOffset&&p.hasOwnProperty("startOffset")&&!(ta.isInteger(p.startOffset)||p.startOffset&&ta.isInteger(p.startOffset.low)&&ta.isInteger(p.startOffset.high))?"startOffset: integer|Long expected":null!=p.endOffset&&p.hasOwnProperty("endOffset")&&!(ta.isInteger(p.endOffset)||p.endOffset&&ta.isInteger(p.endOffset.low)&&ta.isInteger(p.endOffset.high))?"endOffset: integer|Long expected":null!=p.payload&&p.hasOwnProperty("payload")&&!(p.payload&&"number"==typeof p.payload.length||ta.isString(p.payload))?"payload: buffer expected":null!=p.msgId&&p.hasOwnProperty("msgId")&&!ta.isString(p.msgId)?"msgId: string expected":null!=p.subType&&p.hasOwnProperty("subType")&&!ta.isInteger(p.subType)?"subType: integer expected":null!=p.timestamp&&p.hasOwnProperty("timestamp")&&!(ta.isInteger(p.timestamp)||p.timestamp&&ta.isInteger(p.timestamp.low)&&ta.isInteger(p.timestamp.high))?"timestamp: integer|Long expected":null!=p.expiredTs&&p.hasOwnProperty("expiredTs")&&!(ta.isInteger(p.expiredTs)||p.expiredTs&&ta.isInteger(p.expiredTs.low)&&ta.isInteger(p.expiredTs.high))?"expiredTs: integer|Long expected":null},NotifyMsg}(),msg.Sync=function(){function Sync(p){if(this.uidOffsetMap={},this.titanidOffsetMap={},p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return Sync.prototype.uidOffsetMap=ta.emptyObject,Sync.prototype.titanidOffsetMap=ta.emptyObject,Sync.prototype.syncAll=!1,Sync.prototype.accept=0,Sync.create=function create(p){return new Sync(p)},Sync.encode=function encode(p,m){if(m||(m=ea.create()),null!=p.uidOffsetMap&&p.hasOwnProperty("uidOffsetMap"))for(var y=Object.keys(p.uidOffsetMap),g=0;g<y.length;++g)m.uint32(10).fork().uint32(8).uint32(y[g]).uint32(16).uint64(p.uidOffsetMap[y[g]]).ldelim();if(null!=p.titanidOffsetMap&&p.hasOwnProperty("titanidOffsetMap"))for(var O=Object.keys(p.titanidOffsetMap),k=0;k<O.length;++k)m.uint32(18).fork().uint32(8).uint32(O[k]).uint32(16).uint64(p.titanidOffsetMap[O[k]]).ldelim();return null!=p.syncAll&&p.hasOwnProperty("syncAll")&&m.uint32(24).bool(p.syncAll),null!=p.accept&&p.hasOwnProperty("accept")&&m.uint32(32).uint32(p.accept),m},Sync.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y,g=void 0===m?p.len:p.pos+m,O=new na.unicast.msg.Sync;p.pos<g;){var k=p.uint32();switch(k>>>3){case 1:p.skip().pos++,O.uidOffsetMap===ta.emptyObject&&(O.uidOffsetMap={}),y=p.uint32(),p.pos++,O.uidOffsetMap[y]=p.uint64();break;case 2:p.skip().pos++,O.titanidOffsetMap===ta.emptyObject&&(O.titanidOffsetMap={}),y=p.uint32(),p.pos++,O.titanidOffsetMap[y]=p.uint64();break;case 3:O.syncAll=p.bool();break;case 4:O.accept=p.uint32();break;default:p.skipType(7&k)}}return O},Sync.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.uidOffsetMap&&p.hasOwnProperty("uidOffsetMap")){if(!ta.isObject(p.uidOffsetMap))return"uidOffsetMap: object expected";for(var m=Object.keys(p.uidOffsetMap),y=0;y<m.length;++y){if(!ta.key32Re.test(m[y]))return"uidOffsetMap: integer key{k:uint32} expected";if(!(ta.isInteger(p.uidOffsetMap[m[y]])||p.uidOffsetMap[m[y]]&&ta.isInteger(p.uidOffsetMap[m[y]].low)&&ta.isInteger(p.uidOffsetMap[m[y]].high)))return"uidOffsetMap: integer|Long{k:uint32} expected"}}if(null!=p.titanidOffsetMap&&p.hasOwnProperty("titanidOffsetMap")){if(!ta.isObject(p.titanidOffsetMap))return"titanidOffsetMap: object expected";for(var g=Object.keys(p.titanidOffsetMap),O=0;O<g.length;++O){if(!ta.key32Re.test(g[O]))return"titanidOffsetMap: integer key{k:uint32} expected";if(!(ta.isInteger(p.titanidOffsetMap[g[O]])||p.titanidOffsetMap[g[O]]&&ta.isInteger(p.titanidOffsetMap[g[O]].low)&&ta.isInteger(p.titanidOffsetMap[g[O]].high)))return"titanidOffsetMap: integer|Long{k:uint32} expected"}}return null!=p.syncAll&&p.hasOwnProperty("syncAll")&&"boolean"!=typeof p.syncAll?"syncAll: boolean expected":null!=p.accept&&p.hasOwnProperty("accept")&&!ta.isInteger(p.accept)?"accept: integer expected":null},Sync}(),msg.SyncResponse=function(){function SyncResponse(p){if(this.uidMap={},this.titanidMap={},this.additionalMap={},p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return SyncResponse.prototype.uid="",SyncResponse.prototype.titanid="",SyncResponse.prototype.os=0,SyncResponse.prototype.uidMap=ta.emptyObject,SyncResponse.prototype.titanidMap=ta.emptyObject,SyncResponse.prototype.additionalMap=ta.emptyObject,SyncResponse.prototype.needAck=!1,SyncResponse.prototype.interval=0,SyncResponse.create=function create(p){return new SyncResponse(p)},SyncResponse.encode=function encode(p,m){if(m||(m=ea.create()),null!=p.uid&&p.hasOwnProperty("uid")&&m.uint32(10).string(p.uid),null!=p.titanid&&p.hasOwnProperty("titanid")&&m.uint32(18).string(p.titanid),null!=p.os&&p.hasOwnProperty("os")&&m.uint32(24).uint32(p.os),null!=p.uidMap&&p.hasOwnProperty("uidMap"))for(var y=Object.keys(p.uidMap),g=0;g<y.length;++g)m.uint32(34).fork().uint32(8).uint32(y[g]),na.unicast.msg.SyncGroupMsgList.encode(p.uidMap[y[g]],m.uint32(18).fork()).ldelim().ldelim();if(null!=p.titanidMap&&p.hasOwnProperty("titanidMap"))for(var O=Object.keys(p.titanidMap),k=0;k<O.length;++k)m.uint32(42).fork().uint32(8).uint32(O[k]),na.unicast.msg.SyncGroupMsgList.encode(p.titanidMap[O[k]],m.uint32(18).fork()).ldelim().ldelim();if(null!=p.additionalMap&&p.hasOwnProperty("additionalMap"))for(var j=Object.keys(p.additionalMap),I=0;I<j.length;++I)m.uint32(50).fork().uint32(10).string(j[I]).uint32(18).string(p.additionalMap[j[I]]).ldelim();return null!=p.needAck&&p.hasOwnProperty("needAck")&&m.uint32(56).bool(p.needAck),null!=p.interval&&p.hasOwnProperty("interval")&&m.uint32(64).uint32(p.interval),m},SyncResponse.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y,g=void 0===m?p.len:p.pos+m,O=new na.unicast.msg.SyncResponse;p.pos<g;){var k=p.uint32();switch(k>>>3){case 1:O.uid=p.string();break;case 2:O.titanid=p.string();break;case 3:O.os=p.uint32();break;case 4:p.skip().pos++,O.uidMap===ta.emptyObject&&(O.uidMap={}),y=p.uint32(),p.pos++,O.uidMap[y]=na.unicast.msg.SyncGroupMsgList.decode(p,p.uint32());break;case 5:p.skip().pos++,O.titanidMap===ta.emptyObject&&(O.titanidMap={}),y=p.uint32(),p.pos++,O.titanidMap[y]=na.unicast.msg.SyncGroupMsgList.decode(p,p.uint32());break;case 6:p.skip().pos++,O.additionalMap===ta.emptyObject&&(O.additionalMap={}),y=p.string(),p.pos++,O.additionalMap[y]=p.string();break;case 7:O.needAck=p.bool();break;case 8:O.interval=p.uint32();break;default:p.skipType(7&k)}}return O},SyncResponse.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.uid&&p.hasOwnProperty("uid")&&!ta.isString(p.uid))return"uid: string expected";if(null!=p.titanid&&p.hasOwnProperty("titanid")&&!ta.isString(p.titanid))return"titanid: string expected";if(null!=p.os&&p.hasOwnProperty("os")&&!ta.isInteger(p.os))return"os: integer expected";if(null!=p.uidMap&&p.hasOwnProperty("uidMap")){if(!ta.isObject(p.uidMap))return"uidMap: object expected";for(var m=Object.keys(p.uidMap),y=0;y<m.length;++y){if(!ta.key32Re.test(m[y]))return"uidMap: integer key{k:uint32} expected";var g=na.unicast.msg.SyncGroupMsgList.verify(p.uidMap[m[y]]);if(g)return"uidMap."+g}}if(null!=p.titanidMap&&p.hasOwnProperty("titanidMap")){if(!ta.isObject(p.titanidMap))return"titanidMap: object expected";for(var O=Object.keys(p.titanidMap),k=0;k<O.length;++k){if(!ta.key32Re.test(O[k]))return"titanidMap: integer key{k:uint32} expected";var j=na.unicast.msg.SyncGroupMsgList.verify(p.titanidMap[O[k]]);if(j)return"titanidMap."+j}}if(null!=p.additionalMap&&p.hasOwnProperty("additionalMap")){if(!ta.isObject(p.additionalMap))return"additionalMap: object expected";for(var I=Object.keys(p.additionalMap),P=0;P<I.length;++P)if(!ta.isString(p.additionalMap[I[P]]))return"additionalMap: string{k:string} expected"}return null!=p.needAck&&p.hasOwnProperty("needAck")&&"boolean"!=typeof p.needAck?"needAck: boolean expected":null!=p.interval&&p.hasOwnProperty("interval")&&!ta.isInteger(p.interval)?"interval: integer expected":null},SyncResponse}(),msg.SyncGroupMsgList=function(){function SyncGroupMsgList(p){if(this.msgList=[],p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return SyncGroupMsgList.prototype.msgList=ta.emptyArray,SyncGroupMsgList.prototype.forceUpdate=!1,SyncGroupMsgList.prototype.hasMore=0,SyncGroupMsgList.create=function create(p){return new SyncGroupMsgList(p)},SyncGroupMsgList.encode=function encode(p,m){if(m||(m=ea.create()),null!=p.msgList&&p.msgList.length)for(var y=0;y<p.msgList.length;++y)na.unicast.msg.SyncMsg.encode(p.msgList[y],m.uint32(10).fork()).ldelim();return null!=p.forceUpdate&&p.hasOwnProperty("forceUpdate")&&m.uint32(16).bool(p.forceUpdate),null!=p.hasMore&&p.hasOwnProperty("hasMore")&&m.uint32(24).uint32(p.hasMore),m},SyncGroupMsgList.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new na.unicast.msg.SyncGroupMsgList;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.msgList&&g.msgList.length||(g.msgList=[]),g.msgList.push(na.unicast.msg.SyncMsg.decode(p,p.uint32()));break;case 2:g.forceUpdate=p.bool();break;case 3:g.hasMore=p.uint32();break;default:p.skipType(7&O)}}return g},SyncGroupMsgList.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.msgList&&p.hasOwnProperty("msgList")){if(!Array.isArray(p.msgList))return"msgList: array expected";for(var m=0;m<p.msgList.length;++m){var y=na.unicast.msg.SyncMsg.verify(p.msgList[m]);if(y)return"msgList."+y}}return null!=p.forceUpdate&&p.hasOwnProperty("forceUpdate")&&"boolean"!=typeof p.forceUpdate?"forceUpdate: boolean expected":null!=p.hasMore&&p.hasOwnProperty("hasMore")&&!ta.isInteger(p.hasMore)?"hasMore: integer expected":null},SyncGroupMsgList}(),msg.SyncMsg=function(){function SyncMsg(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return SyncMsg.prototype.bizType=0,SyncMsg.prototype.isExpired=!1,SyncMsg.prototype.offset=ta.Long?ta.Long.fromBits(0,0,!0):0,SyncMsg.prototype.startOffset=ta.Long?ta.Long.fromBits(0,0,!0):0,SyncMsg.prototype.endOffset=ta.Long?ta.Long.fromBits(0,0,!0):0,SyncMsg.prototype.payload=ta.newBuffer([]),SyncMsg.prototype.msgId="",SyncMsg.prototype.subType=0,SyncMsg.prototype.timestamp=ta.Long?ta.Long.fromBits(0,0,!0):0,SyncMsg.prototype.expiredTs=ta.Long?ta.Long.fromBits(0,0,!0):0,SyncMsg.create=function create(p){return new SyncMsg(p)},SyncMsg.encode=function encode(p,m){return m||(m=ea.create()),null!=p.bizType&&p.hasOwnProperty("bizType")&&m.uint32(8).uint32(p.bizType),null!=p.isExpired&&p.hasOwnProperty("isExpired")&&m.uint32(16).bool(p.isExpired),null!=p.offset&&p.hasOwnProperty("offset")&&m.uint32(24).uint64(p.offset),null!=p.startOffset&&p.hasOwnProperty("startOffset")&&m.uint32(32).uint64(p.startOffset),null!=p.endOffset&&p.hasOwnProperty("endOffset")&&m.uint32(40).uint64(p.endOffset),null!=p.payload&&p.hasOwnProperty("payload")&&m.uint32(50).bytes(p.payload),null!=p.msgId&&p.hasOwnProperty("msgId")&&m.uint32(58).string(p.msgId),null!=p.subType&&p.hasOwnProperty("subType")&&m.uint32(64).uint32(p.subType),null!=p.timestamp&&p.hasOwnProperty("timestamp")&&m.uint32(72).uint64(p.timestamp),null!=p.expiredTs&&p.hasOwnProperty("expiredTs")&&m.uint32(80).uint64(p.expiredTs),m},SyncMsg.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new na.unicast.msg.SyncMsg;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.bizType=p.uint32();break;case 2:g.isExpired=p.bool();break;case 3:g.offset=p.uint64();break;case 4:g.startOffset=p.uint64();break;case 5:g.endOffset=p.uint64();break;case 6:g.payload=p.bytes();break;case 7:g.msgId=p.string();break;case 8:g.subType=p.uint32();break;case 9:g.timestamp=p.uint64();break;case 10:g.expiredTs=p.uint64();break;default:p.skipType(7&O)}}return g},SyncMsg.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.bizType&&p.hasOwnProperty("bizType")&&!ta.isInteger(p.bizType)?"bizType: integer expected":null!=p.isExpired&&p.hasOwnProperty("isExpired")&&"boolean"!=typeof p.isExpired?"isExpired: boolean expected":null!=p.offset&&p.hasOwnProperty("offset")&&!(ta.isInteger(p.offset)||p.offset&&ta.isInteger(p.offset.low)&&ta.isInteger(p.offset.high))?"offset: integer|Long expected":null!=p.startOffset&&p.hasOwnProperty("startOffset")&&!(ta.isInteger(p.startOffset)||p.startOffset&&ta.isInteger(p.startOffset.low)&&ta.isInteger(p.startOffset.high))?"startOffset: integer|Long expected":null!=p.endOffset&&p.hasOwnProperty("endOffset")&&!(ta.isInteger(p.endOffset)||p.endOffset&&ta.isInteger(p.endOffset.low)&&ta.isInteger(p.endOffset.high))?"endOffset: integer|Long expected":null!=p.payload&&p.hasOwnProperty("payload")&&!(p.payload&&"number"==typeof p.payload.length||ta.isString(p.payload))?"payload: buffer expected":null!=p.msgId&&p.hasOwnProperty("msgId")&&!ta.isString(p.msgId)?"msgId: string expected":null!=p.subType&&p.hasOwnProperty("subType")&&!ta.isInteger(p.subType)?"subType: integer expected":null!=p.timestamp&&p.hasOwnProperty("timestamp")&&!(ta.isInteger(p.timestamp)||p.timestamp&&ta.isInteger(p.timestamp.low)&&ta.isInteger(p.timestamp.high))?"timestamp: integer|Long expected":null!=p.expiredTs&&p.hasOwnProperty("expiredTs")&&!(ta.isInteger(p.expiredTs)||p.expiredTs&&ta.isInteger(p.expiredTs.low)&&ta.isInteger(p.expiredTs.high))?"expiredTs: integer|Long expected":null},SyncMsg}(),msg.Ack=function(){function Ack(p){if(this.uidMap={},this.titanidMap={},this.additionalMap={},p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return Ack.prototype.uidMap=ta.emptyObject,Ack.prototype.titanidMap=ta.emptyObject,Ack.prototype.additionalMap=ta.emptyObject,Ack.create=function create(p){return new Ack(p)},Ack.encode=function encode(p,m){if(m||(m=ea.create()),null!=p.uidMap&&p.hasOwnProperty("uidMap"))for(var y=Object.keys(p.uidMap),g=0;g<y.length;++g)m.uint32(10).fork().uint32(8).uint32(y[g]),na.unicast.msg.AckGroupItem.encode(p.uidMap[y[g]],m.uint32(18).fork()).ldelim().ldelim();if(null!=p.titanidMap&&p.hasOwnProperty("titanidMap"))for(var O=Object.keys(p.titanidMap),k=0;k<O.length;++k)m.uint32(18).fork().uint32(8).uint32(O[k]),na.unicast.msg.AckGroupItem.encode(p.titanidMap[O[k]],m.uint32(18).fork()).ldelim().ldelim();if(null!=p.additionalMap&&p.hasOwnProperty("additionalMap"))for(var j=Object.keys(p.additionalMap),I=0;I<j.length;++I)m.uint32(26).fork().uint32(10).string(j[I]).uint32(18).string(p.additionalMap[j[I]]).ldelim();return m},Ack.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y,g=void 0===m?p.len:p.pos+m,O=new na.unicast.msg.Ack;p.pos<g;){var k=p.uint32();switch(k>>>3){case 1:p.skip().pos++,O.uidMap===ta.emptyObject&&(O.uidMap={}),y=p.uint32(),p.pos++,O.uidMap[y]=na.unicast.msg.AckGroupItem.decode(p,p.uint32());break;case 2:p.skip().pos++,O.titanidMap===ta.emptyObject&&(O.titanidMap={}),y=p.uint32(),p.pos++,O.titanidMap[y]=na.unicast.msg.AckGroupItem.decode(p,p.uint32());break;case 3:p.skip().pos++,O.additionalMap===ta.emptyObject&&(O.additionalMap={}),y=p.string(),p.pos++,O.additionalMap[y]=p.string();break;default:p.skipType(7&k)}}return O},Ack.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.uidMap&&p.hasOwnProperty("uidMap")){if(!ta.isObject(p.uidMap))return"uidMap: object expected";for(var m=Object.keys(p.uidMap),y=0;y<m.length;++y){if(!ta.key32Re.test(m[y]))return"uidMap: integer key{k:uint32} expected";var g=na.unicast.msg.AckGroupItem.verify(p.uidMap[m[y]]);if(g)return"uidMap."+g}}if(null!=p.titanidMap&&p.hasOwnProperty("titanidMap")){if(!ta.isObject(p.titanidMap))return"titanidMap: object expected";for(var O=Object.keys(p.titanidMap),k=0;k<O.length;++k){if(!ta.key32Re.test(O[k]))return"titanidMap: integer key{k:uint32} expected";var j=na.unicast.msg.AckGroupItem.verify(p.titanidMap[O[k]]);if(j)return"titanidMap."+j}}if(null!=p.additionalMap&&p.hasOwnProperty("additionalMap")){if(!ta.isObject(p.additionalMap))return"additionalMap: object expected";for(var I=Object.keys(p.additionalMap),P=0;P<I.length;++P)if(!ta.isString(p.additionalMap[I[P]]))return"additionalMap: string{k:string} expected"}return null},Ack}(),msg.AckGroupItem=function(){function AckGroupItem(p){if(this.msgMap={},this.msgDetailMap={},p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return AckGroupItem.prototype.clientOffset=ta.Long?ta.Long.fromBits(0,0,!0):0,AckGroupItem.prototype.msgMap=ta.emptyObject,AckGroupItem.prototype.msgDetailMap=ta.emptyObject,AckGroupItem.create=function create(p){return new AckGroupItem(p)},AckGroupItem.encode=function encode(p,m){if(m||(m=ea.create()),null!=p.clientOffset&&p.hasOwnProperty("clientOffset")&&m.uint32(8).uint64(p.clientOffset),null!=p.msgMap&&p.hasOwnProperty("msgMap"))for(var y=Object.keys(p.msgMap),g=0;g<y.length;++g)m.uint32(18).fork().uint32(8).uint64(y[g]).uint32(16).uint32(p.msgMap[y[g]]).ldelim();if(null!=p.msgDetailMap&&p.hasOwnProperty("msgDetailMap"))for(var O=Object.keys(p.msgDetailMap),k=0;k<O.length;++k)m.uint32(26).fork().uint32(8).uint64(O[k]),na.unicast.msg.AckItemDetailInfo.encode(p.msgDetailMap[O[k]],m.uint32(18).fork()).ldelim().ldelim();return m},AckGroupItem.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y,g=void 0===m?p.len:p.pos+m,O=new na.unicast.msg.AckGroupItem;p.pos<g;){var k=p.uint32();switch(k>>>3){case 1:O.clientOffset=p.uint64();break;case 2:p.skip().pos++,O.msgMap===ta.emptyObject&&(O.msgMap={}),y=p.uint64(),p.pos++,O.msgMap["object"===Object(ht.default)(y)?ta.longToHash(y):y]=p.uint32();break;case 3:p.skip().pos++,O.msgDetailMap===ta.emptyObject&&(O.msgDetailMap={}),y=p.uint64(),p.pos++,O.msgDetailMap["object"===Object(ht.default)(y)?ta.longToHash(y):y]=na.unicast.msg.AckItemDetailInfo.decode(p,p.uint32());break;default:p.skipType(7&k)}}return O},AckGroupItem.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.clientOffset&&p.hasOwnProperty("clientOffset")&&!(ta.isInteger(p.clientOffset)||p.clientOffset&&ta.isInteger(p.clientOffset.low)&&ta.isInteger(p.clientOffset.high)))return"clientOffset: integer|Long expected";if(null!=p.msgMap&&p.hasOwnProperty("msgMap")){if(!ta.isObject(p.msgMap))return"msgMap: object expected";for(var m=Object.keys(p.msgMap),y=0;y<m.length;++y){if(!ta.key64Re.test(m[y]))return"msgMap: integer|Long key{k:uint64} expected";if(!ta.isInteger(p.msgMap[m[y]]))return"msgMap: integer{k:uint64} expected"}}if(null!=p.msgDetailMap&&p.hasOwnProperty("msgDetailMap")){if(!ta.isObject(p.msgDetailMap))return"msgDetailMap: object expected";for(var g=Object.keys(p.msgDetailMap),O=0;O<g.length;++O){if(!ta.key64Re.test(g[O]))return"msgDetailMap: integer|Long key{k:uint64} expected";var k=na.unicast.msg.AckItemDetailInfo.verify(p.msgDetailMap[g[O]]);if(k)return"msgDetailMap."+k}}return null},AckGroupItem}(),msg.AckItemDetailInfo=function(){function AckItemDetailInfo(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return AckItemDetailInfo.prototype.bizType=0,AckItemDetailInfo.prototype.subType=0,AckItemDetailInfo.prototype.msgId="",AckItemDetailInfo.prototype.timestamp=ta.Long?ta.Long.fromBits(0,0,!0):0,AckItemDetailInfo.create=function create(p){return new AckItemDetailInfo(p)},AckItemDetailInfo.encode=function encode(p,m){return m||(m=ea.create()),null!=p.bizType&&p.hasOwnProperty("bizType")&&m.uint32(8).uint32(p.bizType),null!=p.subType&&p.hasOwnProperty("subType")&&m.uint32(16).uint32(p.subType),null!=p.msgId&&p.hasOwnProperty("msgId")&&m.uint32(26).string(p.msgId),null!=p.timestamp&&p.hasOwnProperty("timestamp")&&m.uint32(32).uint64(p.timestamp),m},AckItemDetailInfo.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new na.unicast.msg.AckItemDetailInfo;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.bizType=p.uint32();break;case 2:g.subType=p.uint32();break;case 3:g.msgId=p.string();break;case 4:g.timestamp=p.uint64();break;default:p.skipType(7&O)}}return g},AckItemDetailInfo.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.bizType&&p.hasOwnProperty("bizType")&&!ta.isInteger(p.bizType)?"bizType: integer expected":null!=p.subType&&p.hasOwnProperty("subType")&&!ta.isInteger(p.subType)?"subType: integer expected":null!=p.msgId&&p.hasOwnProperty("msgId")&&!ta.isString(p.msgId)?"msgId: string expected":null!=p.timestamp&&p.hasOwnProperty("timestamp")&&!(ta.isInteger(p.timestamp)||p.timestamp&&ta.isInteger(p.timestamp.low)&&ta.isInteger(p.timestamp.high))?"timestamp: integer|Long expected":null},AckItemDetailInfo}(),msg.NotifyDataLite=function(){function NotifyDataLite(p){if(this.additionalMap={},p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return NotifyDataLite.prototype.uid="",NotifyDataLite.prototype.titanid="",NotifyDataLite.prototype.os=0,NotifyDataLite.prototype.bizType=0,NotifyDataLite.prototype.msgId="",NotifyDataLite.prototype.payload=ta.newBuffer([]),NotifyDataLite.prototype.additionalMap=ta.emptyObject,NotifyDataLite.prototype.subType=0,NotifyDataLite.prototype.timestamp=ta.Long?ta.Long.fromBits(0,0,!0):0,NotifyDataLite.create=function create(p){return new NotifyDataLite(p)},NotifyDataLite.encode=function encode(p,m){if(m||(m=ea.create()),null!=p.uid&&p.hasOwnProperty("uid")&&m.uint32(10).string(p.uid),null!=p.titanid&&p.hasOwnProperty("titanid")&&m.uint32(18).string(p.titanid),null!=p.os&&p.hasOwnProperty("os")&&m.uint32(24).uint32(p.os),null!=p.bizType&&p.hasOwnProperty("bizType")&&m.uint32(32).uint32(p.bizType),null!=p.msgId&&p.hasOwnProperty("msgId")&&m.uint32(42).string(p.msgId),null!=p.payload&&p.hasOwnProperty("payload")&&m.uint32(50).bytes(p.payload),null!=p.additionalMap&&p.hasOwnProperty("additionalMap"))for(var y=Object.keys(p.additionalMap),g=0;g<y.length;++g)m.uint32(58).fork().uint32(10).string(y[g]).uint32(18).string(p.additionalMap[y[g]]).ldelim();return null!=p.subType&&p.hasOwnProperty("subType")&&m.uint32(64).uint32(p.subType),null!=p.timestamp&&p.hasOwnProperty("timestamp")&&m.uint32(72).uint64(p.timestamp),m},NotifyDataLite.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y,g=void 0===m?p.len:p.pos+m,O=new na.unicast.msg.NotifyDataLite;p.pos<g;){var k=p.uint32();switch(k>>>3){case 1:O.uid=p.string();break;case 2:O.titanid=p.string();break;case 3:O.os=p.uint32();break;case 4:O.bizType=p.uint32();break;case 5:O.msgId=p.string();break;case 6:O.payload=p.bytes();break;case 7:p.skip().pos++,O.additionalMap===ta.emptyObject&&(O.additionalMap={}),y=p.string(),p.pos++,O.additionalMap[y]=p.string();break;case 8:O.subType=p.uint32();break;case 9:O.timestamp=p.uint64();break;default:p.skipType(7&k)}}return O},NotifyDataLite.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.uid&&p.hasOwnProperty("uid")&&!ta.isString(p.uid))return"uid: string expected";if(null!=p.titanid&&p.hasOwnProperty("titanid")&&!ta.isString(p.titanid))return"titanid: string expected";if(null!=p.os&&p.hasOwnProperty("os")&&!ta.isInteger(p.os))return"os: integer expected";if(null!=p.bizType&&p.hasOwnProperty("bizType")&&!ta.isInteger(p.bizType))return"bizType: integer expected";if(null!=p.msgId&&p.hasOwnProperty("msgId")&&!ta.isString(p.msgId))return"msgId: string expected";if(null!=p.payload&&p.hasOwnProperty("payload")&&!(p.payload&&"number"==typeof p.payload.length||ta.isString(p.payload)))return"payload: buffer expected";if(null!=p.additionalMap&&p.hasOwnProperty("additionalMap")){if(!ta.isObject(p.additionalMap))return"additionalMap: object expected";for(var m=Object.keys(p.additionalMap),y=0;y<m.length;++y)if(!ta.isString(p.additionalMap[m[y]]))return"additionalMap: string{k:string} expected"}return null!=p.subType&&p.hasOwnProperty("subType")&&!ta.isInteger(p.subType)?"subType: integer expected":null!=p.timestamp&&p.hasOwnProperty("timestamp")&&!(ta.isInteger(p.timestamp)||p.timestamp&&ta.isInteger(p.timestamp.low)&&ta.isInteger(p.timestamp.high))?"timestamp: integer|Long expected":null},NotifyDataLite}(),msg.NotifyDataLiteAck=function(){function NotifyDataLiteAck(p){if(this.additionalMap={},p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return NotifyDataLiteAck.prototype.msgId="",NotifyDataLiteAck.prototype.bizType=0,NotifyDataLiteAck.prototype.additionalMap=ta.emptyObject,NotifyDataLiteAck.prototype.subType=0,NotifyDataLiteAck.prototype.timestamp=ta.Long?ta.Long.fromBits(0,0,!0):0,NotifyDataLiteAck.create=function create(p){return new NotifyDataLiteAck(p)},NotifyDataLiteAck.encode=function encode(p,m){if(m||(m=ea.create()),null!=p.msgId&&p.hasOwnProperty("msgId")&&m.uint32(10).string(p.msgId),null!=p.bizType&&p.hasOwnProperty("bizType")&&m.uint32(16).uint32(p.bizType),null!=p.additionalMap&&p.hasOwnProperty("additionalMap"))for(var y=Object.keys(p.additionalMap),g=0;g<y.length;++g)m.uint32(26).fork().uint32(10).string(y[g]).uint32(18).string(p.additionalMap[y[g]]).ldelim();return null!=p.subType&&p.hasOwnProperty("subType")&&m.uint32(32).uint32(p.subType),null!=p.timestamp&&p.hasOwnProperty("timestamp")&&m.uint32(40).uint64(p.timestamp),m},NotifyDataLiteAck.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y,g=void 0===m?p.len:p.pos+m,O=new na.unicast.msg.NotifyDataLiteAck;p.pos<g;){var k=p.uint32();switch(k>>>3){case 1:O.msgId=p.string();break;case 2:O.bizType=p.uint32();break;case 3:p.skip().pos++,O.additionalMap===ta.emptyObject&&(O.additionalMap={}),y=p.string(),p.pos++,O.additionalMap[y]=p.string();break;case 4:O.subType=p.uint32();break;case 5:O.timestamp=p.uint64();break;default:p.skipType(7&k)}}return O},NotifyDataLiteAck.verify=function verify(p){if("object"!==Object(ht.default)(p)||null===p)return"object expected";if(null!=p.msgId&&p.hasOwnProperty("msgId")&&!ta.isString(p.msgId))return"msgId: string expected";if(null!=p.bizType&&p.hasOwnProperty("bizType")&&!ta.isInteger(p.bizType))return"bizType: integer expected";if(null!=p.additionalMap&&p.hasOwnProperty("additionalMap")){if(!ta.isObject(p.additionalMap))return"additionalMap: object expected";for(var m=Object.keys(p.additionalMap),y=0;y<m.length;++y)if(!ta.isString(p.additionalMap[m[y]]))return"additionalMap: string{k:string} expected"}return null!=p.subType&&p.hasOwnProperty("subType")&&!ta.isInteger(p.subType)?"subType: integer expected":null!=p.timestamp&&p.hasOwnProperty("timestamp")&&!(ta.isInteger(p.timestamp)||p.timestamp&&ta.isInteger(p.timestamp.low)&&ta.isInteger(p.timestamp.high))?"timestamp: integer|Long expected":null},NotifyDataLiteAck}(),msg.NotifyInner=function(){function NotifyInner(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return NotifyInner.prototype.bizType=0,NotifyInner.prototype.body=ta.newBuffer([]),NotifyInner.create=function create(p){return new NotifyInner(p)},NotifyInner.encode=function encode(p,m){return m||(m=ea.create()),null!=p.bizType&&p.hasOwnProperty("bizType")&&m.uint32(8).uint32(p.bizType),null!=p.body&&p.hasOwnProperty("body")&&m.uint32(18).bytes(p.body),m},NotifyInner.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new na.unicast.msg.NotifyInner;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.bizType=p.uint32();break;case 2:g.body=p.bytes();break;default:p.skipType(7&O)}}return g},NotifyInner.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.bizType&&p.hasOwnProperty("bizType")&&!ta.isInteger(p.bizType)?"bizType: integer expected":null!=p.body&&p.hasOwnProperty("body")&&!(p.body&&"number"==typeof p.body.length||ta.isString(p.body))?"body: buffer expected":null},NotifyInner}(),msg.TokenFail=function(){function TokenFail(p){if(p)for(var m=Object.keys(p),y=0;y<m.length;++y)null!=p[m[y]]&&(this[m[y]]=p[m[y]])}return TokenFail.prototype.errCode=0,TokenFail.prototype.accesstoken=ta.newBuffer([]),TokenFail.create=function create(p){return new TokenFail(p)},TokenFail.encode=function encode(p,m){return m||(m=ea.create()),null!=p.errCode&&p.hasOwnProperty("errCode")&&m.uint32(8).uint32(p.errCode),null!=p.accesstoken&&p.hasOwnProperty("accesstoken")&&m.uint32(18).bytes(p.accesstoken),m},TokenFail.decode=function decode(p,m){p instanceof $n||(p=$n.create(p));for(var y=void 0===m?p.len:p.pos+m,g=new na.unicast.msg.TokenFail;p.pos<y;){var O=p.uint32();switch(O>>>3){case 1:g.errCode=p.uint32();break;case 2:g.accesstoken=p.bytes();break;default:p.skipType(7&O)}}return g},TokenFail.verify=function verify(p){return"object"!==Object(ht.default)(p)||null===p?"object expected":null!=p.errCode&&p.hasOwnProperty("errCode")&&!ta.isInteger(p.errCode)?"errCode: integer expected":null!=p.accesstoken&&p.hasOwnProperty("accesstoken")&&!(p.accesstoken&&"number"==typeof p.accesstoken.length||ta.isString(p.accesstoken))?"accesstoken: buffer expected":null},TokenFail}(),msg}(),ln),"titan.notifyDataLite"),ra="titan.notifyDataLite.ack",oa=1,ia=1,sa=na.unicast.msg,ca=sa.NotifyDataLite,la=sa.NotifyDataLiteAck,ua=sa.Notify,pa=sa.NotifyData,fa=sa.Sync,da=sa.SyncResponse,ma=sa.Ack,ya=sa.TokenFail,ba=sa.NotifyInner;function unicast_onMessage(p,m){if(m.cmd===Lt){var y=m.payload,g=y.command,O=y.protocol,k=y.body;g===aa&&O===oa?function handleUnicastResponse(p,m){var y=m||{},g=y.payload,O=y.bizType,k=y.msgId,j=y.additionalMap,I=Kt(g);p.emit("message",{"actionId":O,"payload":I}),function sendUnicastAck(p,m){var y=m.msgId,g=m.bizType,O=m.additionalMap,k={"msgId":y,"bizType":g,"additionalMap":O},j=p.buildTitanData({"body":k,"MessageType":la,"command":ra,"protocol":ia});p.send(j)}(p,{"msgId":k,"bizType":O,"additionalMap":j})}(p,ca.decode(k)):"titan.notify"===g?function unicast_handleNotify(p,m){var y=m||{},g=y.uidGroupList,O=void 0===g?[]:g,k=y.titanidGroupList,j=void 0===k?[]:k,I={},P={};O.forEach((function(m){I[m]=p.msgOffsetMap[m]||0})),j.forEach((function(m){P[m]=p.msgOffsetMap[m]||0})),unicast_sendSync(p,{"uidOffsetMap":I,"titanidOffsetMap":P})}(p,ua.decode(k)):"titan.notifyData"===g?function handleNotifyData(p,m){var y=m||{},g=y.uidMap,O=void 0===g?{}:g,k=y.titanidMap,j=void 0===k?{}:k,I={"uidMap":processNotifyMap(p,O,!0),"titanidMap":processNotifyMap(p,j,!0)};sendAck(p,I)}(p,pa.decode(k)):"titan.notify.inner"===g&&function handleNotifyInner(p,m){var y=m||{},g=y.bizType,O=y.body;if(5001===g){var k=ya.decode(O),j=k.errCode,I=k.accesstoken,P=Kt(I);Xt({"type":"handleNotifyInner","fields":Object(De.default)(Object(De.default)({},p.baseOptions),{},{"errCode":j,"errToken":P})}),p.emit("error",{"error_code":1001,"error_msg":622===j?"token过期":"多端登录toekn踢下线"})}}(p,ba.decode(k))}}function onUpdateInfo(p){p.msgOffsetMap={}}function onSessionSuccess(p){p.msgOffsetMap=p.msgOffsetMap||{},unicast_sendSync(p,{"syncAll":!0})}function unicast_sendSync(p,m){var y=p.buildTitanData({"body":m,"MessageType":fa,"command":"titan.sync","protocol":1});p.send(y,(function(m){!function unicast_handleSyncRes(p,m){if(m&&m.data&&m.data.body){var y=da.decode(m.data.body);if(y){var g=y.uidMap,O=y.titanidMap,k=y.needAck,j={"uidMap":processNotifyMap(p,g,k),"titanidMap":processNotifyMap(p,O,k)};k&&sendAck(p,j)}}}(p,m)}))}function processNotifyMap(p,m,y){var g={},O=function _loop(O){var k=m[O]&&m[O].msgList;if(k&&k.length){var j=k[k.length-1].offset,I=p.msgOffsetMap[O];if(I){if(Ut((function(){return I.greaterThanOrEqual(j)})))return Xt({"type":"unicastOffsetError","fields":Object(De.default)(Object(De.default)({},p.baseOptions),{},{"msgOffsetMap":JSON.stringify(p.msgOffsetMap),"maxOffset":j})}),"continue";Ut((function(){return I.add(1).lessThan(j.add(1))}))&&(console.log("error",JSON.stringify(p.msgOffsetMap),j),Xt({"type":"unicastOffsetError","fields":Object(De.default)(Object(De.default)({},p.baseOptions),{},{"msgOffsetMap":JSON.stringify(p.msgOffsetMap),"maxOffset":j})}))}p.msgOffsetMap[O]=j,y&&(g[O]={"clientOffset":j,"msgDetailMap":{}}),k.forEach((function(m){var k=m||{},j=k.isExpired,P=k.payload,M=k.bizType,C=k.subType,T=k.msgId,E=k.timestamp,S=k.offset;if((!I||!Ut((function(){return I.greaterThanOrEqual(S)})))&&P){var x=Kt(P);y&&(g[O].msgDetailMap[S]={"bizType":M,"subType":C,"msgId":T,"timestamp":E}),j||p.emit("message",{"actionId":M,"payload":x})}}))}};for(var k in m)O(k);return g}function sendAck(p,m){var y=p.buildTitanData({"body":m,"MessageType":ma,"command":"titan.ack","protocol":1});p.send(y)}var ha={"install":function install(p){Zt(p.hooks,{"onMessage":unicast_onMessage,"onSessionSuccess":onSessionSuccess,"onUpdateInfo":onUpdateInfo})}},ga=y("GBY4"),Oa=y.n(ga),va=2;function api_init(p){p.api=function(m){var y=m.url,g=void 0===y?"":y,O=m.method,k=void 0===O?"POST":O,j=m.params,I=void 0===j?{}:j;return new Promise((function(m,y){if(!g)throw new Error("必须提供url");var O="GET"===(k=k.toUpperCase()),j=new Oa.a(g,O),P=j.hostname,M=j.pathname,C=j.query,T=M;if(O){I=Object.assign(C,I),j.set("query",I),T+="?";var E=[];for(var S in I)I.hasOwnProperty(S)&&E.push("".concat(S,"=").concat(I[S]));T+=E.join("&"),g=j.toString()}else T+=C;var x=["".concat(k," ").concat(T," HTTP/1.1"),"Host: ".concat(P),"Connection: keep-alive","AccessToken: ".concat(p.accesstoken),"Content-Type: application/json;charset=UTF-8","Accept: */*","Accept-Encoding: *","Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,ja;q=0.7,pt;q=0.6"];if(!p.isWxApp&&Jt&&(x=x.concat(["Origin: ".concat(window.location.protocol,"//").concat(window.location.hostname),"User-Agent: ".concat(window.navigator.userAgent),"Referer: ".concat(window.location.href)])),x=x.concat("\r\n"),!O){var A=JSON.stringify(I);x.splice(3,0,"Content-Length: ".concat(Qt(A).byteLength)),x.splice(-1,1,"",A)}var N=x.join("\r\n"),L=p.buildTitanData({"body":N,"command":M,"host":P,"protocol":va,"isApi":!0});p.send(L,(function(p){!function handleApiResponse(p,m,y){if(p.errMsg)return void y({"error_code":p.errCode,"error_msg":p.errMsg});var g=p.data.body,O=(g=(g=Array.from(g)).join(",").split(",13,10,13,10,"))[1],k=(O=O.split(",13,10,")).length;if(k>1){k>=4&&"13,10"===O[k-1]&&(O=O.slice(0,-2));var j=[];O.forEach((function(p,m){1&m&&j.push(p)})),O=j.join(",")}else O=O[0];var I=function byteToStr(p){for(var m="",y=0;y<p.length;){var g=p[y],O=0;g>>>7==0?(m+=String.fromCharCode(p[y]),y+=1):252==(252&g)?(O=(3&p[y])<<30,O|=(63&p[y+1])<<24,O|=(63&p[y+2])<<18,O|=(63&p[y+3])<<12,O|=(63&p[y+4])<<6,O|=63&p[y+5],m+=String.fromCharCode(O),y+=6):248==(248&g)?(O=(7&p[y])<<24,O|=(63&p[y+1])<<18,O|=(63&p[y+2])<<12,O|=(63&p[y+3])<<6,O|=63&p[y+4],m+=String.fromCharCode(O),y+=5):240==(240&g)?(O=(15&p[y])<<18,O|=(63&p[y+1])<<12,O|=(63&p[y+2])<<6,O|=63&p[y+3],m+=String.fromCharCode(O),y+=4):224==(224&g)?(O=(31&p[y])<<12,O|=(63&p[y+1])<<6,O|=63&p[y+2],m+=String.fromCharCode(O),y+=3):192==(192&g)?(O=(63&p[y])<<6,O|=63&p[y+1],m+=String.fromCharCode(O),y+=2):(m+=String.fromCharCode(p[y]),y+=1)}return m}(O=O.split(",")),P=qt(I,I);m(P)}(p,m,y)}),!1,!0)}))}}var wa={"install":function install(p){Zt(p.hooks,{"init":api_init})}};var ka=y("kk8N"),ja=y("uhBA"),Ia=function(p){Object(q.default)(NativeSocket,p);var m=Object(W.default)(NativeSocket);function NativeSocket(p){var y;Object(F.default)(this,NativeSocket),y=m.call(this);var g=p.isMulticast,O=p.bizType,k=p.groupId;return y.isMulticast=g,y.bizType=O,y.groupId=k,y.receiverId=-1,y.closed=!1,y}return Object(U.default)(NativeSocket,[{"key":"_connectSinglecast","value":function _connectSinglecast(){var p=this,m=this;ka.default.callNative("PDDTitanPush","register",{"biz_type":this.bizType,"push_receiver":function push_receiver(p,y){if(!m.closed)try{var g=(y||{}).result[0]||{},O=g.payload;(O=JSON.parse(O)).msg_id=g.msg_id,m.emit("message",O)}catch(p){m.emit("error",p)}}},(function(y){m.emit("open"),p.receiverId=y.receiver_id}),(function(p,y){m.emit("error",y)}))}},{"key":"_closeSinglecast","value":function _closeSinglecast(){var p=this;p.closed=!0,ka.default.callNative("PDDTitanPush","unregister",{"biz_type":this.bizType,"receiver_id":this.receiverId},(function(m){p.emit("closed",m)}),(function(m,y){p.emit("error",y)}))}},{"key":"_connectMulticast","value":function _connectMulticast(){var p=this,m=this;setTimeout((function(){ka.default.callNative("JSTitanMulticast","bind",{"biz_type":p.bizType,"group_id":p.groupId,"need_sync":!0},(function(){}),(function(p,y){m.emit("error",y)})),ka.default.callNative("JSTitanMulticast","register",{"biz_type":p.bizType,"multicast_receiver":function multicast_receiver(p,y){if(!m.closed)try{var g=y.result.payloads;m.emit("message",JSON.parse(g[0]))}catch(p){m.emit("error",p)}}},(function(p){m.receiverId=p.receiver_id,m.emit("open")}),(function(p,y){m.emit("error",y)}))}),0)}},{"key":"_closeMulticast","value":function _closeMulticast(){var p=this;p.closed=!0,ka.default.callNative("JSTitanMulticast","unregister",{"biz_type":this.bizType,"receiver_id":this.receiverId},(function(){}),(function(m,y){p.emit("error",y)})),ka.default.callNative("JSTitanMulticast","unbind",{"biz_type":this.bizType,"group_id":this.groupId},(function(m){p.emit("closed",m)}),(function(m,y){p.emit("error",y)}))}},{"key":"connect","value":function connect(){this.isMulticast?this._connectMulticast():this._connectSinglecast()}},{"key":"close","value":function close(){this.isMulticast?this._closeMulticast():this._closeSinglecast()}}]),NativeSocket}(y.n(ja).a);var Pa=y("KoDT"),Ma=y("h3qu"),Ca={"getNativeVersion":Ma.getNativeVersion,"getPlatformByUa":Ma.getPlatformByUa};function selfH5Connect(p){return function h5Connect_connect(){var p,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=m.isMulticast,g=void 0!==y&&y,O=m.url,k=m.uid,j=m.accesstoken,I=m.appId,P=m.bizType,M=m.groupId,C=m.maxReconnectTimes,T=void 0===C?0:C,E=m.disableMulticastSync,S=void 0!==E&&E,x=null;if(g){if(!(O&&k&&j&&I&&P&&M))throw new Error("组播必须提供 url, uid, accesstoken, appId, bizType, groupId");p={"url":O,"uid":k,"accesstoken":j,"appId":I,"bizType":P,"groupId":M,"maxReconnectTimes":T,"disableMulticastSync":S},un.usePlugin(Qn)}else{if(!(O&&k&&j&&I))throw new Error("单播必须提供 url, uid, accesstoken, appId");p={"url":O,"uid":k,"accesstoken":j,"appId":I,"maxReconnectTimes":T,"disableMulticastSync":S},un.usePlugin(ha)}return un.usePlugin(wa),(x=new un(p)).connect(),x}({"isMulticast":!1,"url":window.location.href.indexOf("hutaojie")>-1?"wss://titan-ws.hutaojie.com":"wss://titan-ws.pinduoduo.com","uid":Re.a.userID,"accesstoken":Re.a.accessToken,"appId":1,"bizType":p,"maxReconnectTimes":0,"disableMulticastSync":!0})}var Ta,Ea=function connectSocket(p){var m,y=window.navigator.userAgent;if(Ca.getPlatformByUa(y)===Ma.PLATFORM.PddAndroid||Ca.getPlatformByUa(y)===Ma.PLATFORM.PddIOS){var g=Ca.getPlatformByUa(y)===Ma.PLATFORM.PddAndroid,O=g?"4.52.0":"4.56.0",k=Ca.getNativeVersion(y,g?Ma.PLATFORM.PddAndroid:Ma.PLATFORM.PddIOS);m=Object(Pa.compareVersion)(k,O)>=0?function nativeConnect_connect(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=p.isMulticast,y=void 0!==m&&m,g=p.bizType,O=p.groupId;if(y){if(!g||!O)throw new Error("native socket组播必须提供 bizType, groupId")}else if(!g)throw new Error("native socket单播必须提供 bizType");var k=new Ia(p);return k.connect(),k}({"isMulticast":!1,"bizType":p}):selfH5Connect(p)}else m=selfH5Connect(p);return m,m},Sa=y("jWx1"),xa=y("6OU5"),Aa=y("PDWb");!function(p){p[p.opened=1]="opened",p[p.closed=2]="closed"}(Ta||(Ta={}));var Na,La=new(function(){function H5Socket(){var p=this;Object(F.default)(this,H5Socket),Object(Z.default)(this,"init",(function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10101;p.onAppShow(),p.pageShow(),p.initSocket(),p.actionID=m})),Object(Z.default)(this,"status",Ta.closed),Object(Z.default)(this,"socketPromise",null),Object(Z.default)(this,"socketInstance",{"close":xa.e}),Object(Z.default)(this,"actionID",10101),Object(Z.default)(this,"initSocket",Object(mt.default)(dt.a.mark((function _callee(){var m,y,g=arguments;return dt.a.wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:return m=g.length>0&&void 0!==g[0]&&g[0],p.socketPromise&&!m||(y=Ea(p.actionID),p.socketPromise=new Promise((function(m,g){y&&y.receiverId&&(console.log("titan connected"),p.setStatue(Ta.opened),m(y)),y.on("open",(function(){console.log("titan connected"),p.setStatue(Ta.opened),m(y)})),y.on("error",(function(p){console.log("titan error",p),g(y)})),y.on("closed",(function(){console.log("titan closed"),p.setStatue(Ta.closed),g(y)})),y.on("message",(function(m){if(m&&m.actionId===p.actionID&&m.payload){var y=m.payload;Aa.a.emit("updateCow",y)}else m&&m.eventType&&Aa.a.emit("updateCow",m)}))}))),O.next=4,p.socketPromise;case 4:return p.socketInstance=O.sent,O.abrupt("return",p.socketInstance);case 6:case"end":return O.stop()}}),_callee)})))),Object(Z.default)(this,"close",(function(){p.status!==Ta.closed&&p.socketInstance.close()})),Object(Z.default)(this,"reconnect",(function(){var m=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("socket reconnect",p.status,m),(m||p.status===Ta.closed)&&p.initSocket(!0)}))}return Object(U.default)(H5Socket,[{"key":"setStatue","value":function setStatue(p){this.status=p}},{"key":"onAppShow","value":function onAppShow(){var p=this;fe.a.isNativePlatform()&&(Object(Sa.addNotificationCallback)("onAppShow",(function(){p.socketInstance.close(),p.reconnect(!0)})),Object(Sa.addNotificationCallback)("onPageShow",(function(){p.socketInstance.close(),p.reconnect(!0)})))}},{"key":"pageShow","value":function pageShow(){var p=this,m=window.navigator.userAgent;Object(Ma.getPlatformByUa)(m)!==Ma.PLATFORM.WeChat&&Object(Ma.getPlatformByUa)(m)!==Ma.PLATFORM.WxApp||function onPageVisibilityChange(p){var m="",y="";void 0!==document.hidden?(y="visibilitychange",m="visibilityState"):void 0!==document.webkitHidden&&(y="webkitvisibilitychange",m="webkitVisibilityState");if(y){var g=function visibilityChangeHandler(){p(document[m])};return document.addEventListener(y,g,!1),function(){document.removeEventListener(y,g,!1)}}return xa.e}((function(m){"visible"===m&&(console.log("page show"),p.socketInstance.close(),p.reconnect(!0))}))}}]),H5Socket}());!function(p){p[p.DRIVE=1]="DRIVE",p[p.AUTO_RECALL=2]="AUTO_RECALL",p[p.EXPIRE=3]="EXPIRE"}(Na||(Na={}));var _a,Ra,Da,za,Ba,Ga,Fa,Ua,qa,Wa,Ha,Ka,Ya,Za,Va,Ja,Xa,Qa,$a,er,tr,nr=y("CmQz"),ar=new(_a=function(p){Object(q.default)(CowStatusChangeStore,p);var m=Object(W.default)(CowStatusChangeStore);function CowStatusChangeStore(){var p;Object(F.default)(this,CowStatusChangeStore);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Ae.a)(Object(Y.default)(p),"popType",Ra,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"happenTime",Da,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"rewardInfo",za,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"cowList",Ba,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"expelUserList",Ga,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"maxParkTime",Fa,Object(Y.default)(p)),p}return Object(U.default)(CowStatusChangeStore,[{"key":"autoCallBackCowPop","value":function autoCallBackCowPop(p,m){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},g=p||{},O=g.rewardInfo,k=g.maxParkTime,j=g.happenTime,I=g.cowList;this.popType=k?Na.AUTO_RECALL:Na.EXPIRE,this.rewardInfo=O||{},this.happenTime=j,this.cowList=m||I||[],this.maxParkTime=k||43200,ct.a.setPop(lt.a.COW_STATUS_CHANGE_POP,Object(De.default)(Object(De.default)({},y),{},{"action_name":nr.a.AUTO_CB_COW}))}},{"key":"openExpelCowPop","value":function openExpelCowPop(p){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=p||{},g=y.rewardInfo,O=y.expelUserList,k=y.cowList,j=y.happenTime;this.popType=Na.DRIVE,this.rewardInfo=g||{},this.expelUserList=O||[],this.cowList=k||[],this.happenTime=j,ct.a.setPop(lt.a.COW_STATUS_CHANGE_POP,Object(De.default)(Object(De.default)({},m),{},{"action_name":nr.a.EXPEL_COW}))}}]),CowStatusChangeStore}(Ne.a),Ra=Object(V.a)(_a.prototype,"popType",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return Na.DRIVE}}),Da=Object(V.a)(_a.prototype,"happenTime",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return 0}}),za=Object(V.a)(_a.prototype,"rewardInfo",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),Ba=Object(V.a)(_a.prototype,"cowList",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return[]}}),Ga=Object(V.a)(_a.prototype,"expelUserList",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return[]}}),Fa=Object(V.a)(_a.prototype,"maxParkTime",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return 43200}}),Object(V.a)(_a.prototype,"autoCallBackCowPop",[ye.action],Object.getOwnPropertyDescriptor(_a.prototype,"autoCallBackCowPop"),_a.prototype),Object(V.a)(_a.prototype,"openExpelCowPop",[ye.action],Object.getOwnPropertyDescriptor(_a.prototype,"openExpelCowPop"),_a.prototype),_a),rr=y("99h7"),or=new(Ua=Object(He.a)(),qa=function(p){Object(q.default)(RuleRecordStore,p);var m=Object(W.default)(RuleRecordStore);function RuleRecordStore(){var p;Object(F.default)(this,RuleRecordStore);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Ae.a)(Object(Y.default)(p),"userRecordList",Wa,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"toggleRuleRecordPop",Ha,Object(Y.default)(p)),p}return Object(U.default)(RuleRecordStore,[{"key":"openRulePop","value":function openRulePop(){this.getRecordList(),this.toggleRuleRecordPop()}},{"key":"getRecordList","value":function getRecordList(){var p=this;return Object(rr.a)({"showScene":ee.c.GRASS_LAND}).then((function(m){var y=Object(xa.f)(m).result;p.userRecordList=y||[]})).catch(Ke.b)}}]),RuleRecordStore}(Ne.a),Wa=Object(V.a)(qa.prototype,"userRecordList",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return[]}}),Object(V.a)(qa.prototype,"openRulePop",[ye.action],Object.getOwnPropertyDescriptor(qa.prototype,"openRulePop"),qa.prototype),Ha=Object(V.a)(qa.prototype,"toggleRuleRecordPop",[ye.action],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return ct.a.togglePop(lt.a.GRASS_LAND_RULE_RECORD_POP)}}),Object(V.a)(qa.prototype,"getRecordList",[ye.action,Ua],Object.getOwnPropertyDescriptor(qa.prototype,"getRecordList"),qa.prototype),qa),ir=y("wK9Y"),sr=y("1pre"),cr=y("EmWr"),lr=(Ka={},Object(Z.default)(Ka,cr.c.orderSuperParkCow,{"mt":Xe.h.missionBuyCowInPark}),Object(Z.default)(Ka,cr.c.orderExpelCard,{"mt":Xe.h.missionBuyForExpelCard}),Object(Z.default)(Ka,cr.c.highestOrderPop,{"mt":Xe.h.missionViewForParkCowOrder}),Object(Z.default)(Ka,cr.c.orderProtectCard,{"mt":Xe.h.missionBuyForProtectCard}),Ka),ur=new(Ya=function(p){Object(q.default)(OnlinePopupStore,p);var m=Object(W.default)(OnlinePopupStore);function OnlinePopupStore(){var p;Object(F.default)(this,OnlinePopupStore);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Ae.a)(Object(Y.default)(p),"popupList",Za,Object(Y.default)(p)),p}return Object(U.default)(OnlinePopupStore,[{"key":"init","value":function init(){var p=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m instanceof Array&&0!==m.length&&(this.popupList=m,ue.k.then((function(){p.insert(m[0])})))}},{"key":"removePopup","value":function removePopup(p){var m=p?[p]:[];this.popupList.length&&this.popupList.map((function(y){var g=y||{},O=g.canRemove,k=g.popupType;O&&k!==p&&m.push(k)})),m.length&&Object(sr.q)(m).catch(xa.e)}},{"key":"insert","value":function insert(p){var m,y=Object(ie.x)(p);if(y){var g=y||{},O=g.popupType,k=(g.extraInfo||{}).cowParkPopupInfo;switch(O){case cr.c.orderSuperParkCow:case cr.c.orderExpelCard:case cr.c.highestOrderPop:case cr.c.orderProtectCard:ge.a.set("orderRewardInfo",y),ct.a.setPop(lt.a.ORDER_ONLINE_POP,{"popup_type":O,"mission_type":null===(m=lr[O])||void 0===m?void 0:m.mt,"source":nr.e.HOME}),this.removePopup(O);break;case cr.c.parkCowBeExpel:ar.openExpelCowPop(k,{"popup_type":cr.c.parkCowBeExpel,"source":nr.e.HOME});break;case cr.c.parkCowAutoCallBack:ar.autoCallBackCowPop(k,void 0,{"popup_type":cr.c.parkCowAutoCallBack,"source":nr.e.HOME}),this.removePopup(O);break;case cr.c.personalParkNotify:ge.a.set("orderRewardInfo",y),ct.a.setPop(lt.a.PERSONAL_PARK_NOTIFY),this.removePopup(O);break;case cr.c.offlineGrassInfo:ge.a.set("orderRewardInfo",y),ct.a.setPop(lt.a.OFFLINE_GRASS_INFO),this.removePopup(O);break;default:Object(sr.q)([O]).catch(xa.e)}}}}]),OnlinePopupStore}(Ne.a),Za=Object(V.a)(Ya.prototype,"popupList",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return[]}}),Object(V.a)(Ya.prototype,"init",[ye.action],Object.getOwnPropertyDescriptor(Ya.prototype,"init"),Ya.prototype),Object(V.a)(Ya.prototype,"insert",[ye.action],Object.getOwnPropertyDescriptor(Ya.prototype,"insert"),Ya.prototype),Ya),pr=y("SLG6"),fr=y("Uaet");!function(p){p[p.PROTECT_STEP_1=1]="PROTECT_STEP_1",p[p.PROTECT_STEP_2=2]="PROTECT_STEP_2",p[p.CHOOSE_COW=3]="CHOOSE_COW"}(Va||(Va={})),function(p){p[p.DISABLE=1]="DISABLE",p[p.ABLE=2]="ABLE",p[p.SELECT=3]="SELECT"}(Ja||(Ja={}));var dr,mr=new(Xa=Object(He.a)(),Qa=function(p){Object(q.default)(ProtectPopStore,p);var m=Object(W.default)(ProtectPopStore);function ProtectPopStore(){var p;Object(F.default)(this,ProtectPopStore);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Ae.a)(Object(Y.default)(p),"popType",$a,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"chooseToolNum",er,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"cowType",tr,Object(Y.default)(p)),p}return Object(U.default)(ProtectPopStore,[{"key":"openProtectPop","value":function openProtectPop(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va.PROTECT_STEP_1,m=arguments.length>1?arguments[1]:void 0;this.popType=p,this.cowType=m,ct.a.setPop(lt.a.PROTECT_POP)}},{"key":"closeProtectPop","value":function closeProtectPop(){ct.a.closePop(lt.a.PROTECT_POP)}},{"key":"protectCow","value":function protectCow(p,m){var y=(p||{}).meadowNum;return Object(We.h)(y,m).then((function(p){return(Object(xa.f)(p)||{}).userParkingCowInfo})).catch(Ke.b)}}]),ProtectPopStore}(Ne.a),$a=Object(V.a)(Qa.prototype,"popType",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return Va.CHOOSE_COW}}),er=Object(V.a)(Qa.prototype,"chooseToolNum",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return 1}}),tr=Object(V.a)(Qa.prototype,"cowType",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return _e.a.MAIN_COW}}),Object(V.a)(Qa.prototype,"openProtectPop",[ye.action],Object.getOwnPropertyDescriptor(Qa.prototype,"openProtectPop"),Qa.prototype),Object(V.a)(Qa.prototype,"closeProtectPop",[ye.action],Object.getOwnPropertyDescriptor(Qa.prototype,"closeProtectPop"),Qa.prototype),Object(V.a)(Qa.prototype,"protectCow",[Xa,ye.action],Object.getOwnPropertyDescriptor(Qa.prototype,"protectCow"),Qa.prototype),Qa),yr=y("yv+U");!function(p){p[p.AVATAR=1]="AVATAR",p[p.MSG=2]="MSG",p[p.COW=3]="COW"}(dr||(dr={}));var br,hr,gr,Or,vr,wr,kr,jr,Ir,Pr,Mr,Cr,Tr,Er,Sr,xr,Ar,Nr,Lr,_r,Rr,Dr,zr,Br,Gr,Fr,Ur,qr=y("jWrc"),Wr=new(br=Object(He.a)(),hr=Object(He.a)(),gr=function(p){Object(q.default)(CoinExchangeStore,p);var m=Object(W.default)(CoinExchangeStore);function CoinExchangeStore(){var p;Object(F.default)(this,CoinExchangeStore);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Ae.a)(Object(Y.default)(p),"rewardPool",Or,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"coinAmount",vr,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"selectedKey",wr,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"exchangedResult",kr,Object(Y.default)(p)),p}return Object(U.default)(CoinExchangeStore,[{"key":"addCoinAmount","value":function addCoinAmount(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.coinAmount+=p}},{"key":"getRewardPool","value":function getRewardPool(){var p=this;return Object(We.d)().then((function(m){var y=Object(ie.x)(m||{}),g=y.rewardPool,O=void 0===g?{}:g,k=y.goldAmount,j=void 0===k?0:k;p.rewardPool=O,p.coinAmount=j})).catch(xa.e)}},{"key":"exchangeReward","value":function exchangeReward(){var p=this;if(this.selectedKey)return Object(We.a)(this.selectedKey).then((function(m){var y=Object(ie.x)(m||{}),g=y.goldAmount,O=void 0===g?0:g,k=y.reward,j=void 0===k?{}:k;p.coinAmount=O,p.exchangedResult=j,ct.a.setPop(lt.a.COIN_EXCHANGED_POP),p.resetSelect()})).catch(Ke.b)}},{"key":"resetSelect","value":function resetSelect(){this.selectedKey=0}},{"key":"formatCoupon","value":function formatCoupon(p){var m=p||{};return{"minAmount":m.minAmount,"discount":m.disCount,"expireTime":m.expireTime}}}]),CoinExchangeStore}(Ne.a),Or=Object(V.a)(gr.prototype,"rewardPool",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),vr=Object(V.a)(gr.prototype,"coinAmount",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return 0}}),wr=Object(V.a)(gr.prototype,"selectedKey",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return 0}}),kr=Object(V.a)(gr.prototype,"exchangedResult",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),Object(V.a)(gr.prototype,"addCoinAmount",[ye.action],Object.getOwnPropertyDescriptor(gr.prototype,"addCoinAmount"),gr.prototype),Object(V.a)(gr.prototype,"getRewardPool",[br,ye.action],Object.getOwnPropertyDescriptor(gr.prototype,"getRewardPool"),gr.prototype),Object(V.a)(gr.prototype,"exchangeReward",[hr,ye.action],Object.getOwnPropertyDescriptor(gr.prototype,"exchangeReward"),gr.prototype),Object(V.a)(gr.prototype,"resetSelect",[ye.action],Object.getOwnPropertyDescriptor(gr.prototype,"resetSelect"),gr.prototype),gr),Hr=new(jr=Object(He.a)(),Ir=Object(He.a)(),Pr=Object(He.a)(),Mr=Object(He.a)(),Cr=Object(He.a)(),Tr=ye.action.bound,Er=Object(He.a)(),Sr=function(p){Object(q.default)(GrassRootStore,p);var m=Object(W.default)(GrassRootStore);function GrassRootStore(){var p;Object(F.default)(this,GrassRootStore);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"preprocess",[ue.f]),Object(Ae.a)(Object(Y.default)(p),"clickedParkNum",xr,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"curCowNum",Ar,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"gainFoodAmount",Nr,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"optCowInfo",Lr,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"iconRedDotInfo",_r,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"expelResultType",Rr,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"maxProCardPerCow",Dr,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"maxExpelCardCount",zr,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"rewardType",Br,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"scoketConnect",Gr,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"closeScoketConnect",Fr,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"removeOneCow",Ur,Object(Y.default)(p)),Object(Z.default)(Object(Y.default)(p),"updateCowInfo",(function(p,m){return Fe.updateCowInfo(p,m)})),p}return Object(U.default)(GrassRootStore,[{"key":"init","value":function init(){var p=this;return Object(We.k)().then((function(m){var y=Object(ie.x)(m||{}),g=y.meadowInfo,O=y.popupList,k=y.missionMap,j=y.parkCowPropInfo,I=void 0===j?[]:j,P=y.backpackInfoMap,M=void 0===P?{}:P,C=y.iconRedDotInfo,T=y.maxUseProtectCardCount,E=void 0===T?3:T,S=y.maxExpelCardCount,x=void 0===S?20:S,A=y.playerInfo;ue.h.then((function(){var m=A||{},y=m.rewardType,j=m.currentRewardAmount,P=void 0===j?0:j;Fe.init(g),ur.init(O),pr.a.setGrassMission(Object(fr.a)(k)),ut.updateParkCowInfo(I),p.iconRedDotInfo=C||{},p.maxProCardPerCow=E,p.maxExpelCardCount=x,y===B.COIN&&(p.rewardType=y,Wr.set("coinAmount",P)),ut.set("propertyMap",M)})),Object(ue.g)()})).catch((function(p){var m={"op":"real_error","page":"ranch_grassland_init_error","error_message":JSON.stringify(p||{})};Object(qr.a)(m,(function(){Object(ir.a)()}))}))}},{"key":"parkCow","value":function parkCow(){var p=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e.a.MAIN_COW,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,g=this.clickedParkNum||Fe.getAutoGetParkNum();if(g)return Object(We.g)({"cowType":m,"parkNum":g,"protectCardNum":y}).then((function(y){p.clickedParkNum&&(p.clickedParkNum=0);var g=Object(ie.x)(y||{}),O=g.userParkRankList,k=void 0===O?[]:O,j=g.userParkingCowInfo;Fe.updateCowInfo(j,{"isBorn":!0}),k.length&&Fe.updateRankInfo(k),(j||{}).uid!==Re.a.userID?Ke.a.showToast("该块草地已经被其他用户占用！"):Fe.addBarrage([{"type":dr.MSG,"content":"你的"},{"type":dr.COW,"content":m},{"type":dr.MSG,"content":"占领了草地"}])})).catch((function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ke.a.showToast(p.errorMsg||"")}));Ke.a.showToast("暂时没有空地可占领！")}},{"key":"queryCowInfo","value":function queryCowInfo(p){var m=this;return Object(We.j)(p).then((function(y){var g=Object(ie.x)(y||{}),O=g.userParkingCowInfo,k=g.backpackInfoMap;return O?Fe.updateCowInfo(O):m.removeOneCow(p),k&&ut.set("propertyMap",k),g})).catch((function(y){var g=y||{},O=g.code,k=g.errorMsg;O===_e.g.NO_COW&&m.removeOneCow(p),Ke.a.showToast(k||"")}))}},{"key":"gainCow","value":function gainCow(){var p=this,m=this.curClickCowItem,y=m||{},g=y.meadowNum,O=y.cowType;return g&&O?Object(We.c)({"meadowNum":g,"cowType":O}).then((function(y){var k;null===(k=p.removeOneCow(g))||void 0===k||k.then((function(){p.optCowInfo=m,p.gainOrExpel(y),Fe.addBarrage([{"type":dr.MSG,"content":"你的"},{"type":dr.COW,"content":O},{"type":dr.MSG,"content":"被领回了"}])}))})).catch((function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ke.a.showToast(p.errorMsg||"")})):Promise.reject({"fnName":"gainCow","meadowNum":g,"cowType":O})}},{"key":"expelCow","value":function expelCow(){var p=this,m=this.curClickCowItem,y=m.meadowNum,g=m.cowType,O=m.uid,k=m.avatar;return y&&g?Object(We.b)({"meadowNum":y,"cowType":g,"friendUid":O}).then((function(O){var j,I=O.expel_result_type,P=void 0===I?_e.c.SUCCESS:I;(p.optCowInfo=m,P===_e.c.SUCCESS)?null===(j=p.removeOneCow(y,_e.b.ACTIVE_EXPULSION))||void 0===j||j.then((function(){p.gainOrExpel(O),Fe.addBarrage([{"type":dr.AVATAR,"content":k},{"type":dr.MSG,"content":"的"},{"type":dr.COW,"content":g},{"type":dr.MSG,"content":"被你驱赶"}])})):p.gainOrExpel(O)})).catch((function(m){var g=m||{},O=g.code,k=g.errorMsg;O===_e.g.NO_COW&&p.removeOneCow(y),Ke.a.showToast(k||"")})):Promise.reject({"fnName":"expelCow","meadowNum":y,"cowType":g})}},{"key":"gainOrExpel","value":function gainOrExpel(p){var m=Object(ie.x)(p||{}),y=m.gainFoodAmount,g=void 0===y?0:y,O=m.userParkRankList,k=void 0===O?[]:O,j=m.expelResultType,I=void 0===j?_e.c.SUCCESS:j,P=m.userParkingCowInfo;this.gainFoodAmount=g,Fe.updateRankInfo(k),this.expelResultType=I,P&&Fe.updateCowInfo(P),ct.a.setPop(lt.a.COW_OPT_FB_POP),this.isCoinType&&Wr.addCoinAmount(g)}},{"key":"rewardGain","value":function rewardGain(p){return Object(yr.a)(p).then((function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=Object(ie.x)(p),y=m.rewardResult,g=void 0===y?[]:y,O=m.missionInfo;return g.length&&Object(fr.c)(g,"",!1),O&&pr.a.setGrassMission(Object(fr.a)(Object(Z.default)({},O.missionType,O))),m})).catch((function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ke.a.showToast(p.errorMsg||"领取失败，刷新后试试！"),{}}))}},{"key":"openClearGainPop","value":function openClearGainPop(p,m,y){pt.a.openClearGainPop(p,m,y)}},{"key":"openBag","value":function openBag(p){ut.openBag(p)}},{"key":"openRulePop","value":function openRulePop(){or.openRulePop()}},{"key":"openExpelCowPop","value":function openExpelCowPop(p,m){ar.openExpelCowPop(p,m)}},{"key":"openProtectPop","value":function openProtectPop(p,m){mr.openProtectPop(p,m)}},{"key":"protectCow","value":function protectCow(p,m){return mr.protectCow(p,m)}},{"key":"updateProtectAmount","value":function updateProtectAmount(p){ut.updateProtectAmount(p)}},{"key":"isCoinType","get":function get(){return this.rewardType===B.COIN}},{"key":"rewardIcon","get":function get(){return _e.o[this.rewardType]}},{"key":"rewardUnit","get":function get(){return this.rewardType===B.FOOD?"g":""}},{"key":"rewardName","get":function get(){return this.rewardType===B.FOOD?"饲料":"金币"}},{"key":"propertyMap","get":function get(){return ut.propertyMap}},{"key":"harmerAmount","get":function get(){var p=this.propertyMap[_e.l.HAMMER];return p&&p.amount||0}},{"key":"protectAmount","get":function get(){var p=this.propertyMap[_e.l.PROTECT];return p?p.amount||0:-1}},{"key":"canParkMore","get":function get(){return ut.totalCanPark>Fe.myCowAmount}},{"key":"curClickCowItem","get":function get(){return(Fe.parkingAnimalsMap[this.curCowNum]||{}).cowData||{}}}]),GrassRootStore}(Ne.a),xr=Object(V.a)(Sr.prototype,"clickedParkNum",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return 0}}),Ar=Object(V.a)(Sr.prototype,"curCowNum",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return 0}}),Nr=Object(V.a)(Sr.prototype,"gainFoodAmount",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return 0}}),Lr=Object(V.a)(Sr.prototype,"optCowInfo",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),_r=Object(V.a)(Sr.prototype,"iconRedDotInfo",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),Rr=Object(V.a)(Sr.prototype,"expelResultType",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return _e.c.SUCCESS}}),Dr=Object(V.a)(Sr.prototype,"maxProCardPerCow",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return 0}}),zr=Object(V.a)(Sr.prototype,"maxExpelCardCount",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return 20}}),Br=Object(V.a)(Sr.prototype,"rewardType",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return B.FOOD}}),Object(V.a)(Sr.prototype,"isCoinType",[ye.computed],Object.getOwnPropertyDescriptor(Sr.prototype,"isCoinType"),Sr.prototype),Object(V.a)(Sr.prototype,"rewardIcon",[ye.computed],Object.getOwnPropertyDescriptor(Sr.prototype,"rewardIcon"),Sr.prototype),Object(V.a)(Sr.prototype,"rewardUnit",[ye.computed],Object.getOwnPropertyDescriptor(Sr.prototype,"rewardUnit"),Sr.prototype),Object(V.a)(Sr.prototype,"rewardName",[ye.computed],Object.getOwnPropertyDescriptor(Sr.prototype,"rewardName"),Sr.prototype),Object(V.a)(Sr.prototype,"propertyMap",[ye.computed],Object.getOwnPropertyDescriptor(Sr.prototype,"propertyMap"),Sr.prototype),Object(V.a)(Sr.prototype,"harmerAmount",[ye.computed],Object.getOwnPropertyDescriptor(Sr.prototype,"harmerAmount"),Sr.prototype),Object(V.a)(Sr.prototype,"protectAmount",[ye.computed],Object.getOwnPropertyDescriptor(Sr.prototype,"protectAmount"),Sr.prototype),Object(V.a)(Sr.prototype,"canParkMore",[ye.computed],Object.getOwnPropertyDescriptor(Sr.prototype,"canParkMore"),Sr.prototype),Object(V.a)(Sr.prototype,"curClickCowItem",[ye.computed],Object.getOwnPropertyDescriptor(Sr.prototype,"curClickCowItem"),Sr.prototype),Object(V.a)(Sr.prototype,"init",[ye.action,jr],Object.getOwnPropertyDescriptor(Sr.prototype,"init"),Sr.prototype),Object(V.a)(Sr.prototype,"parkCow",[ye.action,Ir],Object.getOwnPropertyDescriptor(Sr.prototype,"parkCow"),Sr.prototype),Object(V.a)(Sr.prototype,"queryCowInfo",[ye.action,Pr],Object.getOwnPropertyDescriptor(Sr.prototype,"queryCowInfo"),Sr.prototype),Object(V.a)(Sr.prototype,"gainCow",[ye.action,Mr],Object.getOwnPropertyDescriptor(Sr.prototype,"gainCow"),Sr.prototype),Object(V.a)(Sr.prototype,"expelCow",[ye.action,Cr],Object.getOwnPropertyDescriptor(Sr.prototype,"expelCow"),Sr.prototype),Object(V.a)(Sr.prototype,"gainOrExpel",[ye.action],Object.getOwnPropertyDescriptor(Sr.prototype,"gainOrExpel"),Sr.prototype),Object(V.a)(Sr.prototype,"rewardGain",[Tr,Er],Object.getOwnPropertyDescriptor(Sr.prototype,"rewardGain"),Sr.prototype),Gr=Object(V.a)(Sr.prototype,"scoketConnect",[ye.action],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return function(){La.socketPromise?La.reconnect():La.init(10101)}}}),Fr=Object(V.a)(Sr.prototype,"closeScoketConnect",[ye.action],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return function(){La.close()}}}),Ur=Object(V.a)(Sr.prototype,"removeOneCow",[ye.action],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return function(p,m){return Fe.removeOneCow(p,m)}}}),Sr),Kr=y("3uF5"),Yr=y("bmJN"),Zr=(y("4TWP"),function(p){Object(q.default)(GrassBlock,p);var m=Object(W.default)(GrassBlock);function GrassBlock(){return Object(F.default)(this,GrassBlock),m.apply(this,arguments)}return Object(U.default)(GrassBlock,[{"key":"render","value":function render(){var p=this.props,m=p.index,y=p.showBg,g=void 0!==y&&y,O=p.blockStyle,k=p.children;return K.a.createElement(G.a,{"key":m,"style":O,"className":xe()("grass-block bg-init grass-block-".concat(m),{"block-bg":g})},k)}}]),GrassBlock}(H.Component)),Vr=y("V6Hk");function getAnimalConfig(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e.a.MAIN_COW,m=he.a.grassConfig.animal,y=Object(xa.b)(m,"".concat(p),null);return y||(y=Object(xa.b)(m,"".concat(_e.a.MAIN_COW,"}"),null)),y||{}}function getPropConfig(p){var m=he.a.grassConfig.propSource,y=Object(xa.b)(m,"".concat(p),null);return y||(y=Object(xa.b)(m,"".concat(_e.l.HAMMER,"}"),null)),y||{}}function getUiTime(p){var m=he.a.grassConfig.uiTime;return Object(xa.b)(m,"".concat(p),null)}var Jr,Xr,Qr,$r,eo,to,no,ao,ro,oo=getAnimalConfig(_e.a.MAIN_COW).standImg,io=y("VVQs"),so=Object(X.observer)(Jr=function(p){Object(q.default)(GrassAnimal,p);var m=Object(W.default)(GrassAnimal);function GrassAnimal(){var p;Object(F.default)(this,GrassAnimal);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"addGapTimer",void 0),Object(Z.default)(Object(Y.default)(p),"state",{"showAddGap":!0}),Object(Z.default)(Object(Y.default)(p),"onCowClick",(function(){p.props.onCowClick()})),Object(Z.default)(Object(Y.default)(p),"addGap",(function(){p.setState({"showAddGap":!1});var m=getUiTime("addProfitGap")||1.8;p.addGapTimer=setTimeout((function(){p.setState({"showAddGap":!0})}),1e3*m)})),p}return Object(U.default)(GrassAnimal,[{"key":"componentWillUnmount","value":function componentWillUnmount(){this.addGapTimer&&clearTimeout(this.addGapTimer)}},{"key":"render","value":function render(){var p=this.props,m=p.cowData,y=p.showAddAnimation,g=p.isInProtectTime,O=p.isMyCow,k=p.disappearAnimal,j=p.isCoinType,I=p.rewardUnit,P=m||{},M=P.cowType,C=P.lastProtectCount,T=P.productRate,E=void 0===T?10:T,S=P.meadowNum,x=getAnimalConfig(M),A=this.state.showAddGap,N=Math.floor(E)||1,L=O&&!g,_=ge.a.pageIsVisible;return K.a.createElement(G.a,{"className":xe()("grass-animals fl-y flex-col",{"disappear-animal":k}),"key":"gsa_"+S},g&&K.a.createElement(Ue.a,{"src":Object(Ee.g)("fence"),"className":"fance"}),K.a.createElement(G.a,{"className":"cow-shadow bg-init"}),!O&&!g&&_&&K.a.createElement(Ue.a,{"className":"steal_arraw_down","src":Object(Ee.f)("steal_arraw_down")}),K.a.createElement(Ue.a,{"className":"animal-img","src":Object(Ee.e)(x.mainImg),"onClick":this.onCowClick}),!!C&&K.a.createElement(G.a,{"className":"protect-wrap"},K.a.createElement(Ue.a,{"className":"box","src":Object(Ee.g)("protect_box")}),K.a.createElement(Ue.a,{"className":"light","src":Object(Ee.g)("protect_box_light")})),L&&K.a.createElement(G.a,{"className":"hand-lead-recall"},K.a.createElement(Vr.a,null)),y&&A&&_&&K.a.createElement(G.a,{"className":"add-anima-wrap flex","onAnimationEnd":this.addGap},K.a.createElement(io.a,{"fontSize":40,"textColor":"#fff","strokeColor":"#289905","strokeWidth":8,"content":"+".concat(N).concat(I)}),K.a.createElement(Ue.a,{"src":Object(Ee.g)(j?"coin_60":"food_green"),"className":"food_green"})))}}]),GrassAnimal}(H.Component))||Jr,co=(y("TrDl"),function AnimalBubbleTip(p){var m=Oe.a.isLowEndDevice;return K.a.createElement(G.a,{"className":"tipBubble bg-init ff-m ".concat(p.className||""," ").concat(m?"":"tipBubbleAni")},p.children)}),lo={"0":{"top":0,"left":Object(Yr.a)(18)},"1":{"top":Object(Yr.a)(86),"left":Object(Yr.a)(260)},"2":{"top":Object(Yr.a)(240),"left":Object(Yr.a)(12)},"3":{"top":Object(Yr.a)(326),"left":Object(Yr.a)(260)},"4":{"top":Object(Yr.a)(480),"left":Object(Yr.a)(6)},"5":{"top":Object(Yr.a)(566),"left":Object(Yr.a)(260)},"6":{"top":Object(Yr.a)(720),"left":0},"7":{"top":Object(Yr.a)(806),"left":Object(Yr.a)(260)}},uo={"0":{"top":Object(Yr.a)(150),"left":Object(Yr.a)(98)},"1":{"top":Object(Yr.a)(236),"left":Object(Yr.a)(340)},"2":{"top":Object(Yr.a)(390),"left":Object(Yr.a)(92)},"3":{"top":Object(Yr.a)(476),"left":Object(Yr.a)(340)},"4":{"top":Object(Yr.a)(630),"left":Object(Yr.a)(86)},"5":{"top":Object(Yr.a)(716),"left":Object(Yr.a)(340)},"6":{"top":Object(Yr.a)(870),"left":Object(Yr.a)(80)},"7":{"top":Object(Yr.a)(956),"left":Object(Yr.a)(340)}},po=Object(X.observer)(Xr=function(p){Object(q.default)(GrassAnimalBlock,p);var m=Object(W.default)(GrassAnimalBlock);function GrassAnimalBlock(){var p;Object(F.default)(this,GrassAnimalBlock);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"state",{"showSmoke":!1}),Object(Z.default)(Object(Y.default)(p),"intervalIns",void 0),Object(Z.default)(Object(Y.default)(p),"onCowClick",(function(){var m=p.props,y=m.cowData,g=m.cowItem,O=(y||{}).meadowNum;(g||{}).disappear?Object(Ke.b)():(Hr.set("curCowNum",O),Hr.queryCowInfo(O).then((function(p){p&&ct.a.setPop(lt.a.OPERATION_COW_POP)})))})),Object(Z.default)(Object(Y.default)(p),"countDone",(function(){p.props.cowItem.countDone()})),Object(Z.default)(Object(Y.default)(p),"parkCow",(function(p){Hr.set("clickedParkNum",p),Hr.openBag()})),Object(Z.default)(Object(Y.default)(p),"showSmoke",(function(){p.setState({"showSmoke":!0})})),p}return Object(U.default)(GrassAnimalBlock,[{"key":"componentDidMount","value":function componentDidMount(){var p=this,m=this.props.cowData,y=m||{},g=y.leftBackTime;if(y.cowType){if(g<0)return void this.animalAutoAccount(m);this.intervalIns=Object(ze.a)((function(){p.animalAutoAccount(m),p.intervalIns&&p.intervalIns.clear&&p.intervalIns.clear()}),1e3*g)}}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.intervalIns&&this.intervalIns.clear&&this.intervalIns.clear();var p=this.props.cowItem;p.intervalMin&&p.intervalMin.clear()}},{"key":"animalAutoAccount","value":function animalAutoAccount(p){if(!(Fe.grassLeftTime<=2)){var m=p||{},y=m.meadowNum,g=m.uid,O=m.cowType,k=m.avatar;Hr.removeOneCow(y,_e.b.NORMAL_DISAPPEAR);var j=[];g===Re.a.userID?j.push({"type":dr.MSG,"content":"你的"}):j.push({"type":dr.AVATAR,"content":k},{"type":dr.MSG,"content":"的"}),j.push({"type":dr.COW,"content":O},{"type":dr.MSG,"content":"被自动召回"}),Fe.addBarrage(j)}}},{"key":"renderEmptyView","value":function renderEmptyView(p,m){var y=this,g=Fe.getAutoGetParkNum(),O=Hr.canParkMore,k=this.props.cowItem.isBeingBorn;return K.a.createElement(G.a,{"className":xe()("grass-animals fl-y flex-col",{"disappear-animal":m}),"key":"emp_"+p},K.a.createElement(G.a,{"onClick":function onClick(){y.parkCow(p)}},K.a.createElement(G.a,{"className":"grass_plus bg-init"}),g===p&&O&&!k&&K.a.createElement(co,null,K.a.createElement(G.a,{"className":"tipText"},"可占领"),K.a.createElement(Ue.a,{"className":"tipIcon","src":Object(Ee.d)(oo)}))))}},{"key":"render","value":function render(){var p=Hr.isCoinType,m=Hr.rewardUnit,y=void 0===m?"":m,g=this.props,O=g.cowData,k=g.index,j=g.cowItem,I=j.isBeingBorn,P=j.disappear,M=j.showAddAnimation,C=j.isInProtectTime,T=j.isMyCow,E=O||{},S=E.cowType,x=E.meadowNum,A=E.avatar,N=E.uid,L=E.leftProtectTime,_=E.productFoodAmount,R=E.lastProtectCount,D=this.state.showSmoke,z=P===_e.b.NORMAL_DISAPPEAR||D;return K.a.createElement(G.a,{"key":x+"_"+N},K.a.createElement(Zr,{"index":k,"blockStyle":lo[k]},S?K.a.createElement(so,{"cowData":O,"onCowClick":this.onCowClick,"showAddAnimation":M,"isInProtectTime":C,"isMyCow":T,"disappearAnimal":z,"isCoinType":p,"rewardUnit":y}):this.renderEmptyView(x,z),I&&K.a.createElement(G.a,{"className":"born-cloud-box"},K.a.createElement(G.a,{"className":"born-cloud-1"},K.a.createElement(G.a,{"className":"born-cloud"})),K.a.createElement(G.a,{"className":"born-cloud-2"},K.a.createElement(G.a,{"className":"born-cloud"})),K.a.createElement(G.a,{"className":"born-cloud-3"},K.a.createElement(G.a,{"className":"born-cloud"}))),!!P&&K.a.createElement(K.a.Fragment,null,P===_e.b.ACTIVE_EXPULSION?K.a.createElement(G.a,{"className":"hit-wrap","onAnimationEnd":this.showSmoke},K.a.createElement(Ue.a,{"src":Object(Ee.g)("hammer"),"className":"hammer"}),K.a.createElement(Ue.a,{"src":Object(Ee.g)("hit_light"),"className":"hit-light"}),D&&K.a.createElement(Ue.a,{"className":"smoke ab-xy","src":Object(Ee.f)("disappear_apng")})):P===_e.b.PASSIVE_EXPULSION?K.a.createElement(G.a,null,K.a.createElement(Ue.a,{"className":"fist fist1","src":Object(Ee.g)("fist_cow")}),K.a.createElement(Ue.a,{"className":"fist fist2","src":Object(Ee.g)("fist_cow")}),K.a.createElement(Ue.a,{"className":"fist fist3","src":Object(Ee.g)("fist_cow")}),K.a.createElement(G.a,{"className":"fist_star","onAnimationEnd":this.showSmoke},K.a.createElement(Ue.a,{"className":"star1","src":Object(Ee.g)("fist_star")})),K.a.createElement(Ue.a,{"className":"fist_star star2","src":Object(Ee.g)("fist_star")}),K.a.createElement(Ue.a,{"className":"fist_star star3","src":Object(Ee.g)("fist_star")}),D&&K.a.createElement(Ue.a,{"className":"smoke ab-xy","src":Object(Ee.e)("disappear_apng.png")})):K.a.createElement(G.a,null,K.a.createElement(Ue.a,{"className":"smoke ab-xy","src":Object(Ee.e)("disappear_apng.png")})))),!!S&&K.a.createElement(G.a,{"style":uo[k],"className":xe()("grass-decs",{"disappear-animal":z})},K.a.createElement(qe,{"avatar":A,"btnText":T?"领":"赶","btnColor":C?"gray":T?"red":"blue"},R?K.a.createElement(G.a,{"className":"fl-y"},K.a.createElement(G.a,{"className":"whitespace-nowrap"},"可抵御",R,"次驱赶"),K.a.createElement(G.a,{"className":"card-wrap"},K.a.createElement(Ue.a,{"className":"protect-card","src":Object(Ee.g)("protect_card")}),K.a.createElement(G.a,{"className":"protect-num ab-xy"},R))):C?K.a.createElement(G.a,null,K.a.createElement(Kr.a,{"showTime":T,"countDown":L,"countDownText":"收益".concat(_,"g"),"onDone":this.countDone}),T?"":"免驱赶保护中"):K.a.createElement(G.a,null,"收益",_,y))))}}]),GrassAnimalBlock}(H.Component))||Xr,fo=(y("ytvb"),Object(X.observer)(Qr=function(p){Object(q.default)(GrassAnimals,p);var m=Object(W.default)(GrassAnimals);function GrassAnimals(){return Object(F.default)(this,GrassAnimals),m.apply(this,arguments)}return Object(U.default)(GrassAnimals,[{"key":"render","value":function render(){var p=Fe.parkingAnimalsMap;return K.a.createElement(G.a,{"className":"grass-animal-wrap"},Object.keys(p).map((function(m,y){var g=p[m],O=g.cowData,k=(O||{}).autoBackTime;return K.a.createElement(G.a,{"key":""+k+y},K.a.createElement(po,{"cowData":O,"index":y,"cowItem":g}))})))}}]),GrassAnimals}(H.Component))||Qr),mo=y("IbHc"),yo=y("JqEv"),bo=y("brQG"),ho=y("AKEH"),go=y("h5Qt"),Oo=y("oyLW"),vo=y("6yFI"),wo=(y("+Yvy"),Object(X.observer)($r=function(p){Object(q.default)(MyCow,p);var m=Object(W.default)(MyCow);function MyCow(){return Object(F.default)(this,MyCow),m.apply(this,arguments)}return Object(U.default)(MyCow,[{"key":"missionCanDo","value":function missionCanDo(p){var m=p===_e.a.COW_LEVEL_1?Xe.h.missionBuyCowInPark:Xe.h.missionViewForParkCow;return(pr.a.grassMissionMap.get(m)||{}).unifiedStatus===vo.b.COMPLETABLE}},{"key":"goOrderGetCow","value":function goOrderGetCow(p){if(this.props.onClose(),_e.h[p]){var m=p===_e.a.COW_LEVEL_1?Xe.h.missionBuyCowInPark:Xe.h.missionViewForParkCow;this.missionCanDo(p)&&Object(go.a)(m,(function(){Hr.init()}))}else Ke.a.showToast("请升级APP至最新版本！")}},{"key":"putCowInPark","value":function putCowInPark(p){this.props.onClose(),_e.h[p]?Hr.protectAmount>0?Hr.openProtectPop(Va.PROTECT_STEP_1,p):Hr.parkCow(p):Ke.a.showToast("请升级APP至最新版本！")}},{"key":"render","value":function render(){var p=this,m=ut.cowList,y=void 0===m?[]:m,g=ut.maxReward,O=void 0===g?[]:g,k=Hr.rewardIcon,j=Hr.rewardUnit;return K.a.createElement(G.a,{"className":"my-bag-cow-wrap"},K.a.createElement(G.a,{"className":"sub-title"},K.a.createElement(Oo.a,{"rewardResult":O,"preWords":"放牛占领草地，每天最高可得","size":40}),K.a.createElement(G.a,{"className":"decs"},"占领草地时间越长，收益越高")),K.a.createElement(yo.a,{"scrollY":!0,"className":"bag-inner"},K.a.createElement(G.a,{"className":"cards-warp"},y.map((function(m){var y=m||{},g=y.cowType,O=y.status,I=y.protectSecond,P=y.productRate,M=y.expireTime,C=void 0===M?0:M,T=y.maxProductFoodAmount,E=getAnimalConfig(g)||{},S=E.name,x=void 0===S?"牛牛":S,A=E.standImg,N=void 0===A?"":A,L="";if(g===_e.a.COW_LEVEL_3)L="限时免费";else if(C){var _=C-Le.a.dateNowSecond;if(_>0){var R=Object(ho.c)(_)||{},D=R.time,z=void 0===D?"":D,B=R.unit,F=void 0===B?"":B;L="".concat(z).concat(F,"后过期")}else L="已过期"}else L=it[O]||"";var U=Object(ho.c)(I)||{},q=U.time,W=void 0===q?"":q,H=U.unit,Y=void 0===H?"":H;return K.a.createElement(G.a,{"className":"cow-card-wrap fl-y-b","key":g},K.a.createElement(G.a,{"className":"avatar-wrap"},K.a.createElement(Ue.a,{"className":"avatar","src":Object(Ee.d)(N)}),K.a.createElement(G.a,{"className":"name"},x)),K.a.createElement(G.a,{"className":"income-info-wrap"},K.a.createElement(G.a,{"className":"product-rate"},"占领收益：",K.a.createElement(bo.a,{"className":"rate"},P,j,K.a.createElement(Ue.a,{"className":"food-icon","src":k}),"/小时")),K.a.createElement(G.a,{"className":"max"},"最高可得：",K.a.createElement(bo.a,{"className":"highlight"},T,j)),!!I&&K.a.createElement(G.a,null,"防止驱赶：",K.a.createElement(bo.a,{"className":"highlight"},W,Y))),K.a.createElement(G.a,{"className":"button-wrap"},O===Je.PARKING&&!C&&K.a.createElement(G.a,{"className":"button un-click"},"放养中"),O===Je.PARKING&&!!C&&K.a.createElement(K.a.Fragment,null,p.missionCanDo(g)?K.a.createElement(G.a,{"className":"button","onClick":p.goOrderGetCow.bind(p,g)},"延长有效期"):K.a.createElement(G.a,{"className":"button un-click"},"放养中")),O===Je.CAN_PARK&&K.a.createElement(G.a,{"className":"button","onClick":p.putCowInPark.bind(p,g)},"去放养"),(O===Je.LOCK||O===Je.EXPIRED)&&K.a.createElement(G.a,{"className":"button","onClick":p.goOrderGetCow.bind(p,g)},"去获取")),L&&K.a.createElement(G.a,{"className":"cardTag"},L))})))))}}]),MyCow}(H.Component))||$r),ko=y("uFwe"),jo=function(p){Object(q.default)(CardItem,p);var m=Object(W.default)(CardItem);function CardItem(){var p;Object(F.default)(this,CardItem);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"state",{"direction":0}),Object(Z.default)(Object(Y.default)(p),"turnOver",(function(){var m=0===p.state.direction?180:0;p.setState({"direction":m})})),Object(Z.default)(Object(Y.default)(p),"onClickFun",(function(m){m.stopPropagation&&m.stopPropagation(),m.preventDefault&&m.preventDefault();var y=p.props.data;p.props.onClickFun(y)})),p}return Object(U.default)(CardItem,[{"key":"replaceName","value":function replaceName(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return p.replace(/饲料/g,Hr.rewardName)}},{"key":"render","value":function render(){var p=this,m=this.props.data,y=this.state.direction,g=m||{},O=g.propId,k=g.amount,j=void 0===k?0:k,I=getPropConfig(O)||{},P=I.avatar,M=void 0===P?"":P,C=I.name,T=void 0===C?"":C,E=I.decs,S=void 0===E?"":E,x=I.detailDecs,A=void 0===x?[]:x,N=j>0?"使用道具":"获取道具",L={"WebkitTransform":"rotateY(".concat(y,"deg)"),"transform":"rotateY(".concat(y,"deg)")},_=Hr.maxProCardPerCow,R=void 0===_?0:_;return K.a.createElement(G.a,{"className":"prop-scroll-item prop-card-item","key":O},K.a.createElement(G.a,{"className":"prop-card-wrap","style":L,"onClick":this.turnOver},K.a.createElement(G.a,{"className":"card card-front fl-y-b flex-col"},K.a.createElement(Ue.a,{"className":"prop-avatar","src":Object(Ee.d)(M)}),K.a.createElement(G.a,null,K.a.createElement(G.a,{"className":"prop-name"},T,K.a.createElement(Ue.a,{"className":"rule-icon","src":Object(Ee.g)("roll_symbol_1")})),K.a.createElement(G.a,{"className":"decs"},this.replaceName(S))),K.a.createElement(G.a,{"className":"prop-button","onClick":this.onClickFun},N),K.a.createElement(G.a,{"className":"cardTag"},"拥有：",j)),K.a.createElement(G.a,{"className":"card card-back"},K.a.createElement(G.a,{"className":"card-back-border"},K.a.createElement(G.a,{"className":"text-30 text-fff ff-s fl-y-b"},K.a.createElement(G.a,{"className":"line"}),K.a.createElement(G.a,null,T),K.a.createElement(G.a,{"className":"line right"})),K.a.createElement(G.a,{"className":"decs back-decs"},A.map((function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return K.a.createElement(G.a,{"key":m},p.replaceName(m))})),O===_e.l.PROTECT&&K.a.createElement(G.a,null,"每张",T,"可抵御1次驱赶，每头牛最多可用",R,"张。")),K.a.createElement(G.a,{"className":"prop-button back-button"},"知道了")))))}}]),CardItem}(H.Component),Io=(y("zvg8"),Object(X.observer)(eo=function(p){Object(q.default)(MyProperty,p);var m=Object(W.default)(MyProperty);function MyProperty(){var p;Object(F.default)(this,MyProperty);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"onClickFun",(function(m){var y=m||{},g=y.propId,O=y.amount;if(!_e.h[g])return Ke.a.showToast("请升级APP至最新版本！"),void p.props.onClose();var k=Hr.rewardName;if(O>0){if(g===_e.l.HAMMER)Ke.a.showToast("找到可驱赶的牛牛，使用道具赶走得"+k);else if(g===_e.l.PROTECT){var j=Fe.myCowOnGround;if(!(void 0===j?[]:j).length)return Ke.a.showToast("放牛后才可以使用保护卡哦"),void ut.changePanel(Ve.COW);Hr.openProtectPop(Va.CHOOSE_COW)}}else{var I,P=st[g]||[],M=Object(ko.default)(P);try{for(M.s();!(I=M.n()).done;){var C=I.value;if((pr.a.grassMissionMap.get(C)||{}).unifiedStatus===vo.b.COMPLETABLE)return p.props.onClose(),void Object(go.a)(P[0],(function(){Hr.init()}))}}catch(p){M.e(p)}finally{M.f()}Ke.a.showToast("该任务今日已达上限，明天再来哦~")}p.props.onClose()})),p}return Object(U.default)(MyProperty,[{"key":"render","value":function render(){var p=this,m=Hr.rewardName,y=ut.propertyMap,g=void 0===y?{}:y,O=Object.values(_e.l);return K.a.createElement(G.a,{"className":"my-property-cow-pop"},K.a.createElement(G.a,{"className":"sub-title"},"使用道具可获得更多",m,"收益"),K.a.createElement(yo.a,{"className":"h-full pt-20 fl-b flex-wrap","scrollY":!0},Object.keys(g).map((function(m){var y=g[m],k=(null==y?void 0:y.propId)||0;return O.includes(k)&&K.a.createElement(jo,{"data":y,"key":k,"onClickFun":p.onClickFun})})),K.a.createElement(G.a,{"className":"prop-scroll-item prop-next-wrap fl-y-b flex-col"},K.a.createElement(Ue.a,{"className":"next-avatar","src":Object(Ee.d)("prop_next_avatar.png.slim.png")}),K.a.createElement(G.a,{"className":"prop-next-name"},"道具上新中"),K.a.createElement(G.a,{"className":"prop-button next-button"},"敬请期待"))))}}]),MyProperty}(H.Component))||eo),Po=(y("oRxk"),Object(X.observer)(to=function(p){Object(q.default)(MyBagPop,p);var m=Object(W.default)(MyBagPop);function MyBagPop(){var p;Object(F.default)(this,MyBagPop);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"onClose",(function(){ct.a.closePop(lt.a.MY_BAG)})),p}return Object(U.default)(MyBagPop,[{"key":"changePanel","value":function changePanel(p){ut.changePanel(p)}},{"key":"render","value":function render(){var p=ut.currentPanel,m=ut.hasProperty;return K.a.createElement(G.a,{"className":"my-bag-pop"},K.a.createElement(mo.a,{"isShow":!0,"hasCloseBtn":!0,"onClose":this.onClose},K.a.createElement(G.a,{"className":"content"},K.a.createElement(G.a,{"className":"title-wrap flex justify-around"},K.a.createElement(G.a,{"className":xe()("panel-title",{"active-title":p===Ve.COW}),"onClick":this.changePanel.bind(this,Ve.COW)},"我的牛牛"),!!m&&K.a.createElement(G.a,{"className":xe()("panel-title",{"active-title":p===Ve.PROPERTY}),"onClick":this.changePanel.bind(this,Ve.PROPERTY)},"我的道具")),K.a.createElement(G.a,null,p===Ve.COW&&K.a.createElement(wo,{"onClose":this.onClose}),p===Ve.PROPERTY&&K.a.createElement(Io,{"onClose":this.onClose})))))}}]),MyBagPop}(H.Component))||to),Mo=y("P6Fo"),Co=y("a+Ds"),To=y("vYmL"),Eo=y.n(To),So=function AnimalWithGrass(p){return K.a.createElement(G.a,{"className":xe()(Eo.a["grass-bg"],"bg-init")},K.a.createElement(Ue.a,{"className":xe()(Eo.a.cow,"ab-x"),"src":Object(Ee.d)(p.animalImg)}))},xo=y("k/Ow"),Ao=(y("b0ht"),y("fCYF")),No=Object(X.observer)(no=function(p){Object(q.default)(CowOptPop,p);var m=Object(W.default)(CowOptPop);function CowOptPop(){var p;Object(F.default)(this,CowOptPop);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"getBack",(function(){p.onClose(),Hr.gainCow()})),Object(Z.default)(Object(Y.default)(p),"driveOut",(function(){p.onClose(),ct.a.setPop(lt.a.PROP_OPT_POP)})),Object(Z.default)(Object(Y.default)(p),"openBag",(function(){p.onClose(),Hr.openBag(Ve.PROPERTY)})),Object(Z.default)(Object(Y.default)(p),"useProtectCard",(function(){var p=Hr.protectAmount,m=Hr.curClickCowItem,y=Hr.maxProCardPerCow;if(p>0){if(m.lastProtectCount+1>y)return void Ke.a.showToast("每只牛牛最多只能用".concat(y,"张哦"));Hr.protectCow(m,1).then((function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m.cowType?(Ke.a.showToast("使用保护道具成功！"),Hr.updateProtectAmount(p-1),Fe.updateCowInfo(m)):Ke.a.showToast("使用保护道具失败！")}))}else{var g,O=st[_e.l.PROTECT]||[],k=Object(ko.default)(O);try{for(k.s();!(g=k.n()).done;){var j=g.value;if((pr.a.grassMissionMap.get(j)||{}).unifiedStatus===vo.b.COMPLETABLE)return void Object(go.a)(O[0],(function(){Hr.init()}))}}catch(p){k.e(p)}finally{k.f()}Ke.a.showToast("该任务今日已达上限，明天再来哦~")}})),p}return Object(U.default)(CowOptPop,[{"key":"onClose","value":function onClose(){ct.a.closePop(lt.a.OPERATION_COW_POP)}},{"key":"renderGrassAnimal","value":function renderGrassAnimal(){var p=Hr.curClickCowItem,m=p.cowType,y=p.lastProtectCount,g=getAnimalConfig(m||_e.a.MAIN_COW);return K.a.createElement(G.a,{"className":"animal-wrap"},K.a.createElement(So,{"animalImg":g.standImg}),!!y&&K.a.createElement(G.a,{"className":"protect-decs-wrap"},K.a.createElement(G.a,{"className":"decs"},"可抵御",y,"次驱赶"),K.a.createElement(G.a,{"className":"card-wrap"},K.a.createElement(Ue.a,{"className":"protect-card","src":Object(Ee.g)("protect_card")}),K.a.createElement(G.a,{"className":"protect-num ab-xy"},y))))}},{"key":"render","value":function render(){var p=Hr.curClickCowItem,m=Hr.harmerAmount,y=Hr.protectAmount,g=Hr.isCoinType,O=Hr.rewardUnit,k=p||{},j=k.cowType,I=k.uid,P=k.avatar,M=k.nickname,C=void 0===M?"":M,T=k.productFoodAmount,E=k.productTime,S=k.expelGainFoodAmount,x=k.leftProtectTime,A=k.autoBackTime,N=k.productStartTime,L=x>0,_=I===Oe.a.currentUser,R=g?xo.c.COIN:xo.c.FOOD,D=_?[]:[{"rewardType":R,"rewardAmount":S}];return j?K.a.createElement(mo.a,{"isShow":!0,"onClose":this.onClose},K.a.createElement(G.a,{"className":"friend-pop"},K.a.createElement(Ao.a,{"bg":Object(Ee.g)("gl_pop_header"),"className":"header relative mx-auto fl-xy flex-row"},K.a.createElement(Ue.a,{"className":"avatar","src":P}),K.a.createElement(Co.a,{"className":"nickname ff-m"},_?"我":Object(ie.D)(C,5),"的牛牛")),_&&K.a.createElement(G.a,{"className":"pop-title"},"奶牛正在产生收益，确定领回吗"),K.a.createElement(G.a,{"className":"content fl-y flex-col"},this.renderGrassAnimal(),K.a.createElement(G.a,{"className":"animal-info fl-y-b flex-row"},K.a.createElement(G.a,{"className":"fl-y flex-col"},K.a.createElement(Co.a,{"className":"tag"},"累计收益"),K.a.createElement(Co.a,{"className":"label"},T,O)),K.a.createElement(G.a,{"className":"fl-y flex-col"},K.a.createElement(G.a,{"className":"tag"},L?"免驱赶时长":"占领时长"),K.a.createElement(G.a,{"className":"label"},L?K.a.createElement(Kr.a,{"countDown":x,"countDownText":_?"可领回":"可驱赶"}):K.a.createElement(Kr.a,{"isAdd":!0,"countDown":E,"endSecond":A-N,"countDownText":"收益已满"})))),K.a.createElement(G.a,{"className":"btn-wrap"},K.a.createElement(Mo.a,{"colorStyle":L?"red-disabled":"red","onClick":xa.e},L?"免驱赶保护中":_?K.a.createElement(G.a,{"className":"btnText","onClick":this.getBack},"领回"):K.a.createElement(G.a,{"className":"btnText","onClick":this.driveOut},K.a.createElement(Oo.a,{"preWords":"驱赶得","size":46,"rewardResult":D})))),_?y>-1&&K.a.createElement(G.a,{"className":"props fl-y"},K.a.createElement(G.a,{"className":"props-text"},"拥有保护道具×",y,"，",K.a.createElement(Co.a,{"onClick":this.useProtectCard},y>0?"去使用":"去获取")),K.a.createElement(Ue.a,{"className":"props_arraw","src":Object(Ee.g)("gl_arraw")})):K.a.createElement(G.a,{"className":"props fl-y","onClick":this.openBag},K.a.createElement(G.a,{"className":"props-text"},"拥有驱赶道具×",m),K.a.createElement(Ue.a,{"className":"props_arraw","src":Object(Ee.g)("gl_arraw")}))))):null}}]),CowOptPop}(H.Component))||no,Lo=y("99ak"),_o=y("ODXe"),Ro=y("aDV6"),Do=y("EFCC"),zo=y("OXsg"),Bo=y("9qcl"),Go=y("Rj+r"),Fo=(y("1U8y"),Object(X.observer)(ao=function(p){Object(q.default)(RankDetail,p);var m=Object(W.default)(RankDetail);function RankDetail(){return Object(F.default)(this,RankDetail),m.apply(this,arguments)}return Object(U.default)(RankDetail,[{"key":"onClose","value":function onClose(){ct.a.closePop(lt.a.RANK_DETAIL_POP)}},{"key":"render","value":function render(){var p=Fe.grassLeftTime,m=Fe.rankList,y=Hr.rewardIcon,g=m.slice(0,3),O=m.slice(3),k=g[0]||{},j=k.parkCount,I=void 0===j?-1:j,P=k.expelCount,M=void 0===P?-1:P,C=I>=0?_e.m.PARK:M>=0?_e.m.EXPEL:_e.m.GRAIN,T=_e.n[C],E=T.titleImg,S=void 0===E?"":E,x=T.detailDecs,A=void 0===x?"":x;return K.a.createElement(G.a,{"className":"rank-list-detail"},K.a.createElement(Lo.a,{"isShow":!0},K.a.createElement(Ro.a,null),K.a.createElement(G.a,{"className":"content ab-xy"},K.a.createElement(Do.a,{"type":"inTopRightOutHigh","onClose":this.onClose}),K.a.createElement(Ue.a,{"className":xe()("title-img",{"small-img":C===_e.m.GRAIN}),"src":Object(Ee.g)(S)}),K.a.createElement(Bo.a,null),K.a.createElement(G.a,{"className":"pop-board-wrap"},K.a.createElement(G.a,{"className":"pop-inner ab-x"},K.a.createElement(zo.a,null),K.a.createElement(G.a,{"className":"pop-board-inner"},K.a.createElement(G.a,{"className":"popup-circle fl-b"},K.a.createElement(Ue.a,{"className":"circle","src":Object(Ee.g)("popup_circle")}),K.a.createElement(Ue.a,{"className":"circle trans","src":Object(Ee.g)("popup_circle")})),K.a.createElement(G.a,{"className":"time-wrap"},K.a.createElement(G.a,{"className":"time"},K.a.createElement(bo.a,{"className":"highlight"},K.a.createElement(Kr.a,{"countDown":p,"outputType":"timeWithUnit","onDone":this.onClose})),"后草被吃完，本轮结束")),K.a.createElement(yo.a,{"scrollY":!0,"className":"left-rank-wrap"},O.map((function(p){var m=p||{},g=m.avatar,O=void 0===g?"":g,k=m.nickname,j=void 0===k?"":k,I=m.rank,P=m.uid,M=p[C]||0,T=A.split("{data}")||[],E=Object(_o.default)(T,2),S=E[0],x=void 0===S?"":S,N=E[1],L=void 0===N?"":N;return K.a.createElement(G.a,{"className":"left-item-wrap fl-y-b","key":P},K.a.createElement(G.a,{"className":"left-rank-num"},I),K.a.createElement(Ue.a,{"className":"left-avatar","src":Object(Go.b)(O)}),K.a.createElement(G.a,{"className":"left-nickname"},j),K.a.createElement(G.a,{"className":"gain-amount-left"},x,K.a.createElement(bo.a,{"className":"highlight"},M,L,C===_e.m.GRAIN&&K.a.createElement(Ue.a,{"className":"food-icon","src":y}))))})))))),K.a.createElement(G.a,{"className":"title-wrap"},K.a.createElement(Ue.a,{"className":"top-board ab-x","src":Object(Ee.g)("rank_top_board")}),K.a.createElement(G.a,{"className":"top-three flex"},g.map((function(p,m){var y=p||{},g=y.avatar,O=void 0===g?"":g,k=y.nickname,j=void 0===k?"":k,I=y.extraRewards,P=void 0===I?[]:I,M=y.rank,T=y.uid,E=p[C]||0,S=A.replace(/{data}/,String(E));return K.a.createElement(G.a,{"className":"top-item-wrap fl-y flex-col item"+m,"key":T},K.a.createElement(G.a,{"className":"top-avatar-wrap"},K.a.createElement(Ue.a,{"className":"avatar","src":Object(Go.b)(O)}),K.a.createElement(Ue.a,{"className":"rank-crown","src":Object(Ee.g)("rank_crown_"+M)})),K.a.createElement(G.a,{"className":"nickname"},j),K.a.createElement(Ue.a,{"className":"rank-num","src":Object(Ee.g)("rank_num_"+M)}),K.a.createElement(Oo.a,{"rewardResult":P,"preWords":"奖励","size":28}),K.a.createElement(G.a,{"className":"gain-amount-top"},S))})))))))}}]),RankDetail}(H.Component))||ao),Uo=y("DJ1q"),qo=y("kNE3");y("52AB");function TipText(p){var m=p.happenTime,y=Le.a.dateNow/1e3-m,g=Object(ho.c)(y),O=g.time,k=g.unit;return K.a.createElement(K.a.Fragment,null,"收益已于",O,k,"前发放")}function CowListAvatar(p){var m=p.cowList,y=void 0===m?[]:m,g=he.a.grassConfig.animal,O=void 0===g?{}:g;return K.a.createElement(K.a.Fragment,null,y.map((function(p){var m=(p||{}).cowType,y=O[m]||{},g=y.standImg,k=void 0===g?"":g,j=y.name,I=void 0===j?"奶牛":j;return K.a.createElement(G.a,{"className":"icon-wrap","key":m},K.a.createElement(Ue.a,{"className":"cow-icon","src":Object(Ee.d)(k)}),K.a.createElement(G.a,{"className":"decs"},I))})))}function AvatarList(p){var m=p.expelUserList,y=void 0===m?[]:m,g=(y[0]||{}).nickname,O=1===y.length;return K.a.createElement(K.a.Fragment,null,y.map((function(p,m){var y=p||{},g=y.avatar,O=y.uid;return g?K.a.createElement(Ue.a,{"className":xe()("avatar",{"avatar-left":m>=1}),"src":Object(Go.b)(g),"key":O}):null})),O&&Object(ie.D)(g,2))}var Wo=Object(X.observer)(ro=function(p){Object(q.default)(CowStatusChangePop,p);var m=Object(W.default)(CowStatusChangePop);function CowStatusChangePop(){return Object(F.default)(this,CowStatusChangePop),m.apply(this,arguments)}return Object(U.default)(CowStatusChangePop,[{"key":"onClose","value":function onClose(){var p=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],m=ar.popType;m===Na.DRIVE&&ur.removePopup(cr.c.parkCowBeExpel),ct.a.closePop(lt.a.COW_STATUS_CHANGE_POP,p)}},{"key":"render","value":function render(){var p=this,m=ar.popType,y=ar.rewardInfo,g=ar.maxParkTime,O=ar.happenTime,k=ar.cowList,j=void 0===k?[]:k,I=ar.expelUserList,P=void 0===I?[]:I,M=y||{},C=M.reward,T=void 0===C?[]:C,E=M.beStolen,S=void 0===E?[]:E,x=M.shouldGain,A=void 0===x?[]:x,N="牛牛";if(j.length>2)j.length=2;else if(1===j.length){N=getAnimalConfig((j[0]||{}).cowType).name||""}var L=Object(ho.c)(g),_=L.time,R=L.unit;return K.a.createElement(G.a,{"className":"gl-cow-status-change-pop"},K.a.createElement(Lo.a,{"isShow":!0},K.a.createElement(Ro.a,null),K.a.createElement(qo.a,{"type":"pink"},K.a.createElement(G.a,{"className":"content"},K.a.createElement(Do.a,{"type":"inTopRightOut","onClose":this.onClose}),!!O&&K.a.createElement(G.a,{"className":"tip"},K.a.createElement(TipText,{"happenTime":O})),K.a.createElement(G.a,{"className":"relative fl-b"},K.a.createElement(CowListAvatar,{"cowList":j}),j.length>1&&K.a.createElement(G.a,{"className":"icon-plus bg-init"})),K.a.createElement(G.a,{"className":"title-wrap"},m===Na.DRIVE&&K.a.createElement(K.a.Fragment,null,K.a.createElement(G.a,null,"你的",N,"被",K.a.createElement(AvatarList,{"expelUserList":P}),"赶走"),K.a.createElement(G.a,{"className":"drive-info"},K.a.createElement(Oo.a,{"rewardResult":A,"preWords":"原本收益：","size":32}),K.a.createElement(Oo.a,{"rewardResult":S,"preWords":"被驱赶损失：","size":32}),K.a.createElement(Oo.a,{"rewardResult":T,"preWords":"实际收益：","size":32}))),m===Na.AUTO_RECALL&&K.a.createElement(K.a.Fragment,null,K.a.createElement(G.a,null,"你的",N,"占领草地超过"),K.a.createElement(G.a,null,"最长时间",_,R,"，已自动召回"),K.a.createElement(Oo.a,{"rewardResult":T,"preWords":"实际收益","size":40})),m===Na.EXPIRE&&K.a.createElement(K.a.Fragment,null,K.a.createElement(G.a,null,"你的",N,"已过期"),K.a.createElement(G.a,null,"可重新拼单获取"),K.a.createElement(Oo.a,{"rewardResult":T,"preWords":"本次实际收益","size":40}))),K.a.createElement(G.a,{"className":"button","onClick":function onClick(){return p.onClose(!1)}},"去占领草地")))))}}]),CowStatusChangePop}(H.Component))||ro,Ho=y("EPL5");y("LhOj");var Ko=Object(X.observer)((function CowOptFbPop(){var p=Hr.gainFoodAmount,m=Hr.expelResultType,y=Hr.optCowInfo,g=Hr.isCoinType,O=Hr.rewardName,k=[{"rewardType":g?xo.c.COIN:xo.c.FOOD,"rewardAmount":p,"maxAmount":p}],j=y||{},I=j.nickname,P=j.uid,M=j.avatar,C=P===Oe.a.currentUser,T=!C&&m===_e.c.FAIL_WITH_PROTECT,E=function onClose(){ct.a.closePop(lt.a.COW_OPT_FB_POP)};return K.a.createElement(G.a,{"className":"gl-cow-opt-fb-pop"},K.a.createElement(Lo.a,{"isShow":!0},K.a.createElement(Ro.a,null),K.a.createElement(qo.a,{"type":"pink"},K.a.createElement(Do.a,{"type":"inTopRightOutHigh","onClose":E}),K.a.createElement(G.a,{"className":"tip"},C?"牛牛已领回":m===_e.c.FAIL_WITH_PROTECT?K.a.createElement(G.a,null,"驱赶失败，牛牛使用了保护卡"):K.a.createElement(G.a,null,"成功驱赶",M&&K.a.createElement(Ue.a,{"className":"avatar","src":Object(Go.b)(M)}),Object(ie.D)(I,2),"的牛牛")),K.a.createElement(G.a,{"className":xe()("content",{"more":T})},K.a.createElement(Ho.a,{"rewardList":k,"isBig":!0}),K.a.createElement(G.a,{"className":"title"},K.a.createElement(Oo.a,{"rewardResult":k,"preWords":T?"驱赶失败，获得":"恭喜获得"}),T&&K.a.createElement(G.a,{"className":"decs"},"继续驱赶仍可获得",O,"奖励")),K.a.createElement(G.a,{"className":"button","onClick":E},"开心收下")))))}));y("8S1U");var Yo=Object(X.observer)((function PropOptPop(){var p=_e.l.HAMMER,m=function onClose(){ct.a.closePop(lt.a.PROP_OPT_POP)},y=Hr.propertyMap,g=void 0===y?{}:y,O=Hr.maxExpelCardCount,k=Hr.rewardName,j=(g[_e.l.HAMMER]||{}).amount,I=void 0===j?0:j,P=getPropConfig(p)||{},M=P.avatar,C=void 0===M?"":M,T=P.name,E=void 0===T?"":T;return K.a.createElement(G.a,{"className":"gl-prop-opt-pop"},K.a.createElement(Lo.a,{"isShow":!0},K.a.createElement(Ro.a,null),K.a.createElement(qo.a,{"type":"pink"},K.a.createElement(G.a,{"className":"content"},K.a.createElement(Do.a,{"type":"inTopRightOut","onClose":m}),K.a.createElement(G.a,{"className":"prop-icon-wrap"},K.a.createElement(Ue.a,{"className":"prop-icon","src":Object(Ee.d)(C)}),K.a.createElement(G.a,{"className":"decs"},"拥有：",I)),K.a.createElement(G.a,{"className":"title"},K.a.createElement(G.a,null,"驱赶道具最多可持有",O,"个"),K.a.createElement(G.a,null,"驱赶他人奶牛可获得",k,"奖励")),K.a.createElement(G.a,{"className":"button","onClick":function onClick(){var p=Hr.harmerAmount;m(),p>0?Hr.expelCow():Object(go.a)(Xe.h.missionBuyForExpelCard,(function(){Hr.init()}))}},I>0?"使用".concat(E):"去获取")))))})),Zo=y("aMeW");y("a9+d");function CowContent(p){var m=p.rewardList,y=void 0===m?[]:m,g=p.onClose,O=y[0]||{},k=O.rewardAmount,j=O.rewardType,I=he.a.grassConfig.animal,P=(void 0===I?{}:I)[j]||{},M=P.popupImgSrc,C=void 0===M?"":M,T=P.name,E=void 0===T?"":T;return K.a.createElement(K.a.Fragment,null,K.a.createElement(G.a,{"className":"icon-wrap"},K.a.createElement(Ue.a,{"className":"reward-icon","src":Object(Ee.d)(C)}),K.a.createElement(G.a,{"className":"decs"},k,"天使用权")),K.a.createElement(G.a,{"className":"title-wrap"},K.a.createElement(G.a,null,"恭喜获得",E,K.a.createElement(bo.a,{"className":"highlight"},k,"天使用权")),K.a.createElement(G.a,null,"去占领获取收益吧")),K.a.createElement(G.a,{"className":"button","onClick":g},"去占领草地"),K.a.createElement(G.a,{"className":"extra"},"注：活动若发生恶意退款将会冻结任务"))}function PropContent(p){var m=p.rewardList,y=p.onClose;return K.a.createElement(K.a.Fragment,null,K.a.createElement(Ho.a,{"rewardList":m,"isBig":!0}),K.a.createElement(G.a,{"className":"title-wrap"},K.a.createElement(Oo.a,{"rewardResult":m,"preWords":"恭喜获得","size":38,"separator":"和"})),K.a.createElement(G.a,{"className":"button more-margin","onClick":y},"去使用"))}var Vo,Jo,Xo,Qo,$o,ei,ti,ni,ai,ri,oi,ii,si,ci,li,ui,pi,fi,di,mi,yi,bi,hi=Object(X.observer)((function OrderOnlinePopup(){var p=ge.a.orderRewardInfo||{},m=p.rewardList,y=void 0===m?[]:m,g=p.popupType,O=function onClose(){var p=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ct.a.closePop(lt.a.ORDER_ONLINE_POP,p)},k=function onClick(){O(!1)};return K.a.createElement(Zo.a,{"title":"拼单成功","close":O},K.a.createElement(G.a,{"className":"gl-order-online-pop"},g===cr.c.orderSuperParkCow?K.a.createElement(CowContent,{"rewardList":y,"onClose":k}):K.a.createElement(PropContent,{"rewardList":y,"onClose":k})))})),gi=y("mL4A"),Oi=y("arx1"),vi=Object(X.observer)(Vo=function(p){Object(q.default)(RuleAndRecordPop,p);var m=Object(W.default)(RuleAndRecordPop);function RuleAndRecordPop(){var p;Object(F.default)(this,RuleAndRecordPop);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"onClose",(function(){or.toggleRuleRecordPop(!1)})),p}return Object(U.default)(RuleAndRecordPop,[{"key":"render","value":function render(){var p=or.userRecordList,m=void 0===p?[]:p;return K.a.createElement(K.a.Fragment,null,K.a.createElement(gi.a,{"ruleKey":Hr.isCoinType?"grassCoin":"grass","recordList":m,"onClose":this.onClose,"recordType":Oi.b.TIME_LINE}))}}]),RuleAndRecordPop}(H.Component))||Vo,wi=(y("4B4o"),Object(X.observer)(Jo=function(p){Object(q.default)(ChooseCowPop,p);var m=Object(W.default)(ChooseCowPop);function ChooseCowPop(){return Object(F.default)(this,ChooseCowPop),m.apply(this,arguments)}return Object(U.default)(ChooseCowPop,[{"key":"onClick","value":function onClick(p){var m=Hr.maxProCardPerCow;p.lastProtectCount+1>m?Ke.a.showToast("每只牛牛最多只能用".concat(m,"张哦")):(mr.closeProtectPop(),mr.protectCow(p,1).then((function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p.cowType?(Ke.a.showToast("使用保护道具成功！"),Fe.updateCowInfo(p)):Ke.a.showToast("使用保护道具失败！")})))}},{"key":"render","value":function render(){var p=this,m=Fe.myCowOnGround,y=Hr.rewardIcon;return K.a.createElement(G.a,{"className":"protect-choose-cow"},K.a.createElement(G.a,{"className":"title"},"请选择一只牛牛"),K.a.createElement(G.a,null,m.map((function(m){var g=m||{},O=g.cowType,k=g.leftProtectTime,j=g.productFoodAmount,I=getAnimalConfig(O)||{},P=I.name,M=void 0===P?"奶牛":P,C=I.standImg,T=void 0===C?"":C,E=k>0;return K.a.createElement(G.a,{"className":"cow-card-wrap fl-y-b","key":O},K.a.createElement(G.a,{"className":"avatar-wrap"},K.a.createElement(Ue.a,{"className":"avatar","src":Object(Ee.d)(T)}),K.a.createElement(G.a,{"className":"name"},M)),K.a.createElement(G.a,{"className":"income-info-wrap"},K.a.createElement(G.a,{"className":"product-rate"},K.a.createElement(bo.a,{"className":"rate"},"收益累计："),j,"g",K.a.createElement(Ue.a,{"className":"food-icon","src":y})),E?K.a.createElement(G.a,null,K.a.createElement(bo.a,{"className":"rate"},"防止驱赶："),K.a.createElement(Kr.a,{"countDown":k,"countDownText":"已过免驱赶保护期"})):K.a.createElement(G.a,{"className":"expired"},"已过免驱赶保护期")),K.a.createElement(G.a,{"className":"pro-button","onClick":p.onClick.bind(p,m)},"保护它"))}))))}}]),ChooseCowPop}(H.Component))||Jo),ki=(y("2LMo"),Object(X.observer)(Xo=function(p){Object(q.default)(ProtectStepOnePop,p);var m=Object(W.default)(ProtectStepOnePop);function ProtectStepOnePop(){return Object(F.default)(this,ProtectStepOnePop),m.apply(this,arguments)}return Object(U.default)(ProtectStepOnePop,[{"key":"park","value":function park(){mr.closeProtectPop();var p=mr.cowType;Hr.parkCow(p)}},{"key":"protectNextStep","value":function protectNextStep(){mr.set("popType",Va.PROTECT_STEP_2)}},{"key":"render","value":function render(){var p=Hr.protectAmount,m=getPropConfig(_e.l.PROTECT)||{},y=m.popupImgSrc,g=void 0===y?"":y,O=m.name;return K.a.createElement(G.a,{"className":"protect-pop-step-1"},K.a.createElement(Ho.a,{"rewardList":[{"rewardType":2028,"rewardAmount":p,"nameShow":"拥有：".concat(p,"张")}],"isBig":!0,"customImg":Object(Ee.d)(g)}),K.a.createElement(G.a,{"className":"title"},"有保护卡可使用，每张卡使用后",K.a.createElement(G.a,null,"可抵御1次驱赶")),K.a.createElement(G.a,{"className":"button-wrap"},K.a.createElement(G.a,{"className":"button","onClick":this.protectNextStep},"使用",O)),K.a.createElement(G.a,{"className":"decs","onClick":this.park},"不使用，直接放养"))}}]),ProtectStepOnePop}(H.Component))||Xo),ji=(y("oOno"),Object(X.observer)(Qo=function(p){Object(q.default)(ProtectStepTwoPop,p);var m=Object(W.default)(ProtectStepTwoPop);function ProtectStepTwoPop(){return Object(F.default)(this,ProtectStepTwoPop),m.apply(this,arguments)}return Object(U.default)(ProtectStepTwoPop,[{"key":"chooseClick","value":function chooseClick(p){p>Hr.protectAmount?Ke.a.showToast("道具不足！"):mr.set("chooseToolNum",p)}},{"key":"park","value":function park(){mr.closeProtectPop();var p=mr.cowType,m=mr.chooseToolNum;Hr.parkCow(p,m)}},{"key":"render","value":function render(){var p=this,m=Hr.protectAmount,y=Hr.maxProCardPerCow,g=mr.chooseToolNum,O=(getPropConfig(_e.l.PROTECT)||{}).popupImgSrc,k=void 0===O?"":O;return K.a.createElement(G.a,{"className":"protect-pop-step-2"},K.a.createElement(G.a,{"className":"title"},"请选择使用几张保护卡"),K.a.createElement(G.a,{"className":"decs"},"每只牛牛最多可使用",y,"张"),K.a.createElement(Ho.a,{"rewardList":[{"rewardType":_e.l.PROTECT,"rewardAmount":m,"nameShow":"拥有：".concat(m,"张")}],"isBig":!0,"customImg":Object(Ee.d)(k)}),K.a.createElement(G.a,{"className":"choose-list flex flex-wrap"},new Array(y).fill(0).map((function(y,O){var k=O+1,j=k>m?Ja.DISABLE:k===g?Ja.SELECT:Ja.ABLE;return K.a.createElement(G.a,{"key":k+""+j,"className":"choose","onClick":p.chooseClick.bind(p,k)},K.a.createElement(G.a,{"className":xe()("choose-inner",{"select":j===Ja.SELECT},{"disable":j===Ja.DISABLE})},k))}))),K.a.createElement(G.a,{"className":"button button-margin","onClick":this.park},"确定"))}}]),ProtectStepTwoPop}(H.Component))||Qo),Ii=(y("Qi+J"),Object(X.observer)($o=function(p){Object(q.default)(ProtectPop,p);var m=Object(W.default)(ProtectPop);function ProtectPop(){return Object(F.default)(this,ProtectPop),m.apply(this,arguments)}return Object(U.default)(ProtectPop,[{"key":"onClose","value":function onClose(){mr.closeProtectPop()}},{"key":"render","value":function render(){var p=mr.popType;return K.a.createElement(Lo.a,{"isShow":!0},K.a.createElement(Ro.a,null),K.a.createElement(G.a,{"className":"protect-pops-wrap ab-xy"},K.a.createElement(Do.a,{"type":"inTopRightOut","onClose":this.onClose}),p===Va.CHOOSE_COW&&K.a.createElement(wi,null),p===Va.PROTECT_STEP_1&&K.a.createElement(ki,null),p===Va.PROTECT_STEP_2&&K.a.createElement(ji,null)))}}]),ProtectPop}(H.Component))||$o),Pi=y("y6ek"),Mi=new(ei=ye.observable.shallow,ti=Object(He.a)(),ni=function(p){Object(q.default)(GrassMissionStore,p);var m=Object(W.default)(GrassMissionStore);function GrassMissionStore(){var p;Object(F.default)(this,GrassMissionStore);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Ae.a)(Object(Y.default)(p),"showDailyDotOnce",ai,Object(Y.default)(p)),Object(Ae.a)(Object(Y.default)(p),"dailyMissionMap",ri,Object(Y.default)(p)),p}return Object(U.default)(GrassMissionStore,[{"key":"openDailyMissionPop","value":function openDailyMissionPop(){this.showDailyDotOnce=!1,this.getDailyMission().then((function(p){p&&ct.a.setPop(lt.a.DAILY_MISSION_POP)}))}},{"key":"closeDailyMissionPop","value":function closeDailyMissionPop(){ct.a.closePop(lt.a.DAILY_MISSION_POP)}},{"key":"getDailyMission","value":function getDailyMission(){var p=this,m=vo.a.COW_GRAB_PARKING_SPACE_MSN_LIST;return Object(Pi.e)({"tag":m}).then((function(y){var g=Object(xa.f)(y).missionMap;return p.dailyMissionMap=Object(fr.a)(g,m),g})).catch(Ke.b)}},{"key":"dailyMissionList","get":function get(){var p=[];return(this.dailyMissionMap||new Map).forEach((function(m){p.push(m)})),p.sort((function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p.finalOrder-m.finalOrder}))}}]),GrassMissionStore}(Ne.a),ai=Object(V.a)(ni.prototype,"showDailyDotOnce",[ye.observable],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return!0}}),ri=Object(V.a)(ni.prototype,"dailyMissionMap",[ei],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return new Map}}),Object(V.a)(ni.prototype,"dailyMissionList",[ye.computed],Object.getOwnPropertyDescriptor(ni.prototype,"dailyMissionList"),ni.prototype),Object(V.a)(ni.prototype,"openDailyMissionPop",[ye.action],Object.getOwnPropertyDescriptor(ni.prototype,"openDailyMissionPop"),ni.prototype),Object(V.a)(ni.prototype,"closeDailyMissionPop",[ye.action],Object.getOwnPropertyDescriptor(ni.prototype,"closeDailyMissionPop"),ni.prototype),Object(V.a)(ni.prototype,"getDailyMission",[ti,ye.action],Object.getOwnPropertyDescriptor(ni.prototype,"getDailyMission"),ni.prototype),ni),Ci=y("fWkr"),Ti=y("1toO"),Ei=y("0Tmo"),Si=y("COCT"),xi=(y("2JPO"),oi=Object(He.b)(800),Object(X.observer)((si=function(p){Object(q.default)(MissionItemCom,p);var m=Object(W.default)(MissionItemCom);function MissionItemCom(){var p;Object(F.default)(this,MissionItemCom);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"clickEventFlag",void 0),Object(Ae.a)(Object(Y.default)(p),"handleMissionClick",ci,Object(Y.default)(p)),Object(Z.default)(Object(Y.default)(p),"toggleClickEventFlag",(function(m){p.clickEventFlag=m})),p}return Object(U.default)(MissionItemCom,[{"key":"doMission","value":function doMission(p){var m=Hr.maxExpelCardCount,y=Hr.harmerAmount,g=Hr.rewardName;switch(p){case Xe.h.missionDailyParkCow:Hr.openBag();break;case Xe.h.missionDailyExpelCow:Ke.a.showToast("找到可驱赶的牛牛，使用道具赶走得"+g);break;case Xe.h.missionViewForExpelCard:if(y>=m)return void Ke.a.showToast("当前背包驱逐卡数量大于最大持有量".concat(m,"，请先使用"));Object(go.a)(Xe.h.missionBuyForExpelCard,(function(){Hr.init()}));break;default:Object(Ke.b)()}Mi.closeDailyMissionPop()}},{"key":"render","value":function render(){var p=this.props,m=p.missionInfo,y=p.tag,g=(m||{}).missionType,O=void 0===g?0:g,k=Ci.a[O]||{},j=k.popupImgSrc,I=void 0===j?"":j,P=k.title,M=void 0===P?"":P;return K.a.createElement(G.a,{"className":"gl-mission-item mission-list-mission-item-v2","key":O},K.a.createElement(G.a,{"className":"mission-item-wrap"},K.a.createElement(G.a,{"className":"mission-img-wrapper"},I&&K.a.createElement(Ue.a,{"src":I,"className":"mission-img"})),K.a.createElement(G.a,{"className":"mission-detail"},K.a.createElement(G.a,null,K.a.createElement(Si.a,{"missionInfo":m,"title":M,"tag":y})),K.a.createElement(Ei.a,{"missionInfo":m,"missionConfig":k})),K.a.createElement(G.a,{"className":"mission-btn-wrapper"},K.a.createElement(Ti.a,{"missionInfo":m,"missionConfig":k,"handleClickEvent":this.handleMissionClick}))))}}]),MissionItemCom}(H.Component),ci=Object(V.a)(si.prototype,"handleMissionClick",[oi],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){var p=this;return function(m){if(m.stopPropagation&&m.stopPropagation(),!p.clickEventFlag){p.toggleClickEventFlag(!0);var y=p.props.missionInfo||{},g=y.missionType,O=y.nextCompleteTime,k=void 0===O?0:O,j=y.unifiedStatus;if(g)if(j!==vo.b.DRAWABLE){if(j===vo.b.REACH_WEEKLY_LIMIT)return Ke.a.showToast("本周次数已达上限，下周再来哦~"),void p.toggleClickEventFlag(!1);if(j===vo.b.REACH_LIMIT)return Ke.a.showToast("今日次数已达上限，明日再来哦~"),void p.toggleClickEventFlag(!1);if(j===vo.b.COMPLETABLE_CD){var I=(Ci.a[g]||{}).coolingText,P=void 0===I?"":I,M=k-Le.a.dateNowSecond,C=M>0?Object(ho.a)(M):"请关闭任务列表，重新点开即可领取",T="".concat(C).concat(P);return Ke.a.showToast(T),void p.toggleClickEventFlag(!1)}j===vo.b.COMPLETABLE&&(p.doMission(g),p.toggleClickEventFlag(!1))}else{if(Xe.c.find((function(p){return p===g}))){var E=Hr.maxExpelCardCount;if(Hr.harmerAmount>=E)return void Ke.a.showToast("当前背包驱逐卡数量大于最大持有量".concat(E,"，请先使用再领取"))}Hr.rewardGain(g).then((function(){p.toggleClickEventFlag(!1)})).finally((function(){Mi.closeDailyMissionPop()}))}}}}}),ii=si))||ii),Ai=(y("sjng"),Object(X.observer)(li=function(p){Object(q.default)(MissionPopup,p);var m=Object(W.default)(MissionPopup);function MissionPopup(){return Object(F.default)(this,MissionPopup),m.apply(this,arguments)}return Object(U.default)(MissionPopup,[{"key":"onClose","value":function onClose(){Mi.closeDailyMissionPop()}},{"key":"render","value":function render(){var p=Mi.dailyMissionList;return K.a.createElement(G.a,{"className":"gl-mission-list"},K.a.createElement(mo.a,{"isShow":!0,"hasCloseBtn":!0,"title":"每日任务","onClose":this.onClose,"style":{"background":"#FFFAED"}},K.a.createElement(G.a,{"className":"content"},p.map((function(p){var m=(p||{}).missionType;return m&&Ci.a[m]?K.a.createElement(xi,{"missionInfo":p,"key":p.missionType,"tag":vo.a.COW_GRAB_PARKING_SPACE_MSN_LIST}):null})))))}}]),MissionPopup}(H.Component))||li),Ni=(y("tfAX"),Object(X.observer)(ui=function(p){Object(q.default)(CoinExchangeCenter,p);var m=Object(W.default)(CoinExchangeCenter);function CoinExchangeCenter(){var p;Object(F.default)(this,CoinExchangeCenter);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"onClose",(function(){ct.a.closePop(lt.a.COIN_EXCHANGE_CENTER_POP)})),Object(Z.default)(Object(Y.default)(p),"onCardClick",(function(m,y,g){y?Ke.a.showToast("金币不够，无法兑换哦～"):g<=0?Ke.a.showToast("已达到最大兑换次数，尝试兑换其他奖励吧～"):(p.onClose(),m&&(Wr.set("selectedKey",m),ct.a.setPop(lt.a.COIN_EXCHANGE_CONFIRM_POP)))})),p}return Object(U.default)(CoinExchangeCenter,[{"key":"renderCards","value":function renderCards(){var p=this,m=Wr.rewardPool,y=Wr.coinAmount,g=Wr.formatCoupon;return Object.keys(m).map((function(O){var k=m[O],j=k||{},I=j.rewardType,P=j.costGoldAmount,M=void 0===P?999999:P,C=j.exchangeLimit,T=j.exchangeCount,E=[{"rewardType":xo.c.COIN,"rewardAmount":M}];I===xo.c.COUPON&&(k.couponInfo=g(k));var S=y<M,x=C-T;return K.a.createElement(G.a,{"className":"card relative fl-y-b flex-col w-300 h-358","key":"".concat(I,"-").concat(O),"onClick":function onClick(){p.onCardClick(O,S,x)}},x>=0&&K.a.createElement(G.a,{"className":"cardTag"},"可兑",x,"次"),K.a.createElement(Ho.a,{"rewardList":[k],"hasIconDesc":!1}),K.a.createElement(G.a,{"className":"text-8b5 ff-s text-32"},K.a.createElement(Oo.a,{"size":36,"rewardResult":[k]})),K.a.createElement(G.a,{"className":xe()("prop-button bg_btn text-28 ff-m",{"button-disable":S||!x})},K.a.createElement(Oo.a,{"size":36,"rewardResult":E})))}))}},{"key":"render","value":function render(){var p=Fe.grassLeftTime,m=Wr.coinAmount;return K.a.createElement(mo.a,{"isShow":!0,"onClose":this.onClose},K.a.createElement(G.a,{"className":"coin-ex-ct"},K.a.createElement(Ao.a,{"bg":Object(Ee.g)("gl_pop_header"),"className":"header relative mx-auto fl-xy flex-row ff-m"},"金币兑换"),K.a.createElement(G.a,{"className":"pop-title fl-xy text-a05 text-32"},K.a.createElement(G.a,null,"我的金币:"),K.a.createElement(G.a,{"className":"text-fb7 text-36 pl-12"},m),K.a.createElement(G.a,{"className":"v-line w-2 h-28 mx-20 rounded-2"}),K.a.createElement(Kr.a,{"countDown":p,"outputType":"timeWithUnit","countText":"后过期"})),K.a.createElement(G.a,{"className":"content fl-y flex-col"},K.a.createElement(yo.a,{"className":"cards h-full pt-20 fl-b flex-wrap","scrollY":!0},this.renderCards(),K.a.createElement(G.a,{"className":"card-next fl-y-b flex-col w-300 h-358"},K.a.createElement(Ue.a,{"className":"w-154 h-154","src":Object(Ee.d)("prop_next_avatar.png.slim.png")}),K.a.createElement(G.a,{"className":"next-name ff-s text-32"},"道具上新中"),K.a.createElement(G.a,{"className":"prop-button bg_btn button-disable"},"敬请期待"))))))}}]),CoinExchangeCenter}(H.Component))||ui),Li=y("Jyuy"),_i=function(p){Object(q.default)(CoinExchangeConfirm,p);var m=Object(W.default)(CoinExchangeConfirm);function CoinExchangeConfirm(){var p;Object(F.default)(this,CoinExchangeConfirm);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"onClose",(function(){ct.a.closePop(lt.a.COIN_EXCHANGE_CONFIRM_POP)})),Object(Z.default)(Object(Y.default)(p),"onConfirm",(function(){p.onClose(),Wr.exchangeReward()})),p}return Object(U.default)(CoinExchangeConfirm,[{"key":"render","value":function render(){var p=Wr.selectedKey,m=Wr.rewardPool,y=Wr.formatCoupon,g=m[p],O=g||{},k=O.rewardType,j=O.costGoldAmount,I=[{"rewardType":xo.c.COIN,"rewardAmount":j}];k===xo.c.COUPON&&(g.couponInfo=y(g));var P=[g];return K.a.createElement(Li.a,{"btnList":[{"type":"Sub-S","content":"取消","onClick":this.onClose},{"type":"Main-S","content":"确定","onClick":this.onConfirm}],"onClose":this.onClose,"sloganList":[{"content":K.a.createElement(G.a,null,K.a.createElement(Oo.a,{"preWords":"确定使用","rewardResult":I,"size":38}),K.a.createElement(Oo.a,{"preWords":"兑换","suffix":"吗","rewardResult":P}))}]},K.a.createElement(G.a,{"className":"mb-72"},K.a.createElement(Ho.a,{"rewardList":P,"isBig":!0})))}}]),CoinExchangeConfirm}(H.Component),Ri=y("N6C/"),Di=y("/2wG"),zi=y("sI94"),Bi=Object(X.observer)(pi=function(p){Object(q.default)(CoinExchanged,p);var m=Object(W.default)(CoinExchanged);function CoinExchanged(){var p;Object(F.default)(this,CoinExchanged);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"onClose",(function(){ct.a.closePop(lt.a.COIN_EXCHANGED_POP)})),Object(Z.default)(Object(Y.default)(p),"onCouponClick",(function(){p.onClose(),Object(go.b)(ee.s.ranch_grassland)})),p}return Object(U.default)(CoinExchanged,[{"key":"render","value":function render(){var p=Wr.exchangedResult,m=void 0===p?{}:p,y=Wr.formatCoupon,g=m.rewardType===xo.c.COUPON;g&&(m.couponInfo=y(m));var O=[m];return g?K.a.createElement(Ri.a,{"titleObj":{"title":K.a.createElement(zi.a,{"text":"兑换成功，恭喜获得1张满减券"})},"customImg":{"randomImg":function randomImg(){return K.a.createElement(G.a,{"className":"ab-auto"},K.a.createElement(Di.a,{"couponInfo":m.couponInfo}))}},"btnList":[{"type":"Main","content":"去使用优惠券","onClick":this.onCouponClick}],"lightRotate":!0,"onClose":this.onClose}):K.a.createElement(Ri.a,{"titleObj":{"title":K.a.createElement(zi.a,{"text":"兑换成功，恭喜获得饲料奖励"})},"btnList":[{"type":"Main","content":"开心收下","onClick":this.onClose}],"lightRotate":!0,"rewardResult":O,"onClose":this.onClose})}}]),CoinExchanged}(H.Component))||pi,Gi=y("tbnE"),Fi=Object(X.observer)(fi=function(p){Object(q.default)(PersonalParkNotifyPop,p);var m=Object(W.default)(PersonalParkNotifyPop);function PersonalParkNotifyPop(){var p;Object(F.default)(this,PersonalParkNotifyPop);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"onClose",(function(){ct.a.closePop(lt.a.PERSONAL_PARK_NOTIFY,!0)})),Object(Z.default)(Object(Y.default)(p),"handleMainClick",(function(){ct.a.closePop(lt.a.PERSONAL_PARK_NOTIFY)})),p}return Object(U.default)(PersonalParkNotifyPop,[{"key":"render","value":function render(){var p=ge.a.orderRewardInfo.extraInfo||{},m=p.expelCardAccountAmount,y=void 0===m?0:m,g=p.accountFoodAmount,O=void 0===g?0:g,k=O>0;return K.a.createElement(Li.a,{"cls":"pt-340 fl-y flex-col justify-end","onClose":this.onClose,"sloganList":[{"content":"我的草场奶牛将不会再被驱赶"},{"type":"Sub","content":k&&K.a.createElement(K.a.Fragment,null,"剩余",y,"个驱赶锤子已折算成",O,"g",K.a.createElement(Gi.a,{"rewardType":xo.c.FOOD,"size":36}))}],"feedTitle":"公共草场全新升级为我的草场","btnList":[{"content":"我知道了","onClick":this.handleMainClick}]},K.a.createElement(Ao.a,{"bg":Object(Ee.g)("pop_banner"),"className":"w-580 h-298 absolute left-0 top-0"}),K.a.createElement(Ao.a,{"bg":Object(Ee.g)("grass_title_v2"),"className":"w-330 h-110 absolute top-236"}),k&&K.a.createElement(Ao.a,{"bg":Object(Ee.g)("expel_exchange"),"className":"relative w-486 h-192 mb-52"},K.a.createElement(bo.a,{"className":"w-100 absolute right-46 bottom-54 text-8b5 text-32 ff-s"},O,"g")))}}]),PersonalParkNotifyPop}(H.Component))||fi,Ui=Object(X.observer)(di=function(p){Object(q.default)(OfflineGrassInfo,p);var m=Object(W.default)(OfflineGrassInfo);function OfflineGrassInfo(){var p;Object(F.default)(this,OfflineGrassInfo);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"onClose",(function(){ct.a.closePop(lt.a.OFFLINE_GRASS_INFO,!0)})),Object(Z.default)(Object(Y.default)(p),"handleMainClick",(function(){ct.a.closePop(lt.a.OFFLINE_GRASS_INFO,!1)})),p}return Object(U.default)(OfflineGrassInfo,[{"key":"render","value":function render(){var p=((ge.a.orderRewardInfo||{}).extraInfo||{}).meadowOfflineSecond,m=void 0===p?1658419200:p;return K.a.createElement(Li.a,{"cls":"pt-340 fl-y flex-col justify-end","onClose":this.onClose,"sloganList":[{"content":"入口即将关闭，请尽快使用道具"},{"type":"Sub","content":K.a.createElement(K.a.Fragment,null,"关闭倒计时：",K.a.createElement(Kr.a,{"countDown":Le.a.getLeftTime(m,!0),"countDownText":"已到期，请刷新重进","outputType":"timeWithDay"}))}],"feedTitle":"草场即将下线","btnList":[{"content":"我知道了","onClick":this.handleMainClick}]},K.a.createElement(Ao.a,{"bg":Object(Ee.g)("pop_banner"),"className":"w-580 h-298 absolute left-0 top-0"}),K.a.createElement(Ao.a,{"bg":Object(Ee.g)("grass_title_v2"),"className":"w-330 h-110 absolute top-236"}))}}]),OfflineGrassInfo}(H.Component))||di,qi=Object(X.observer)(mi=function(p){Object(q.default)(PopupsIcons,p);var m=Object(W.default)(PopupsIcons);function PopupsIcons(){return Object(F.default)(this,PopupsIcons),m.apply(this,arguments)}return Object(U.default)(PopupsIcons,[{"key":"render","value":function render(){var p=ct.a.currentPopupId;return K.a.createElement(G.a,{"className":"gl-popups-icons"},p===lt.a.MY_BAG&&K.a.createElement(Po,null),p===lt.a.OPERATION_COW_POP&&K.a.createElement(No,null),p===lt.a.RANK_DETAIL_POP&&K.a.createElement(Fo,null),p===lt.a.CLEAR_GAIN&&K.a.createElement(Uo.default,null),p===lt.a.COW_STATUS_CHANGE_POP&&K.a.createElement(Wo,null),p===lt.a.COW_OPT_FB_POP&&K.a.createElement(Ko,null),p===lt.a.PROP_OPT_POP&&K.a.createElement(Yo,null),p===lt.a.ORDER_ONLINE_POP&&K.a.createElement(hi,null),p===lt.a.GRASS_LAND_RULE_RECORD_POP&&K.a.createElement(vi,null),p===lt.a.PROTECT_POP&&K.a.createElement(Ii,null),p===lt.a.DAILY_MISSION_POP&&K.a.createElement(Ai,null),p===lt.a.COIN_EXCHANGE_CENTER_POP&&K.a.createElement(Ni,null),p===lt.a.COIN_EXCHANGE_CONFIRM_POP&&K.a.createElement(_i,null),p===lt.a.COIN_EXCHANGED_POP&&K.a.createElement(Bi,null),p===lt.a.PERSONAL_PARK_NOTIFY&&K.a.createElement(Fi,null),p===lt.a.OFFLINE_GRASS_INFO&&K.a.createElement(Ui,null))}}]),PopupsIcons}(H.Component))||mi,Wi=y("e4cf"),Hi=(y("oGqr"),Object(X.observer)(yi=function(p){Object(q.default)(RankInMain,p);var m=Object(W.default)(RankInMain);function RankInMain(){return Object(F.default)(this,RankInMain),m.apply(this,arguments)}return Object(U.default)(RankInMain,[{"key":"onClick","value":function onClick(){ct.a.setPop(lt.a.RANK_DETAIL_POP)}},{"key":"render","value":function render(){var p=Fe.rankList,m=void 0===p?[]:p;if(m.length<1)return K.a.createElement(G.a,null);var y=Hr.rewardUnit,g=m.slice(0,3),O=g[0]||{},k=O.parkCount,j=void 0===k?-1:k,I=O.expelCount,P=void 0===I?-1:I,M=j>=0?_e.m.PARK:P>=0?_e.m.EXPEL:_e.m.GRAIN,C=_e.n[M],T=C.title,E=void 0===T?"":T,S=C.mainDecs,x=void 0===S?"":S,A=Object(Yr.a)(ge.a.navigationHeight),N=M===_e.m.GRAIN;return K.a.createElement(G.a,{"className":"rank-list-in-main fl-y-b flex-col","onClick":this.onClick,"style":{"top":A}},K.a.createElement(G.a,{"className":"title"},E),K.a.createElement(G.a,{"className":"list-wrap fl-y-b flex-col"},g.map((function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=p.avatar,g=void 0===m?"":m,O=p.rank,k=p.uid,j=p[M]||0,I=x.replace(/{data}/,String(j));return K.a.createElement(G.a,{"className":"relative","key":""+k},K.a.createElement(Wi.a,{"className":"avatar","circle":!0,"size":"small","image":Object(Go.b)(g)}),K.a.createElement(G.a,{"className":"amount ab-x whitespace-nowrap"},I,N?y:""),K.a.createElement(Ue.a,{"className":"crown-icon ab-x","src":Object(Ee.g)("crown_icon_"+O)}))}))),K.a.createElement(G.a,{"className":"more"},"更多"))}}]),RankInMain}(H.Component))||yi),Ki=(y("2FKz"),Object(X.observer)(bi=function(p){Object(q.default)(TopPart,p);var m=Object(W.default)(TopPart);function TopPart(){var p;Object(F.default)(this,TopPart);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"onDone",(function(){Object(We.f)().then((function(p){var m=Object(xa.f)(p)||{},y=m.userParkRankInfo,g=m.nextMeadowInfo;m.success&&(Hr.openClearGainPop(y,!!g,!1),g&&Fe.init(g))})).catch(Ke.b)})),Object(Z.default)(Object(Y.default)(p),"openRule",(function(){Hr.openRulePop()})),p}return Object(U.default)(TopPart,[{"key":"render","value":function render(){var p=Fe.grassLeftTime,m=Fe.meadowId,y=Hr.isCoinType;return m?K.a.createElement(G.a,{"className":"grassland-header"},K.a.createElement(Ue.a,{"className":"title","src":Object(Ee.g)(y?"grass_title_v2":"grass_title")}),K.a.createElement(G.a,{"className":"desc-wrap fl-xy ff-m","onClick":this.openRule},K.a.createElement(G.a,{"className":"time"},K.a.createElement(Kr.a,{"countDown":p,"outputType":"timeWithUnit","onDone":this.onDone})),p>0&&K.a.createElement(G.a,{"className":"desc"},"后草被吃掉，需更换草场"),K.a.createElement(Ue.a,{"className":"rule-icon","src":Object(Ee.g)("roll_symbol")}))):null}}]),TopPart}(H.Component))||bi);y("/D+Z");var Yi=Object(X.observer)((function MainButton(){return K.a.createElement(G.a,{"className":"gl-main-button","onClick":function onMainClick(){ut.openBag()}},K.a.createElement(Ue.a,{"className":"back","src":Object(Ee.g)("gl_main_icon_3")}),K.a.createElement(Ue.a,{"className":"hand","src":Object(Ee.g)("gl_main_icon_2")}),K.a.createElement(Ue.a,{"className":"front ab-xy","src":Object(Ee.g)("gl_main_icon_1")}))}));var Zi,Vi,Ji,Xi,Qi,$i,es,ts=Object(X.observer)((function PropertyIcon(){return ut.hasProperty?K.a.createElement(G.a,{"className":"gl-bottom-icon"},K.a.createElement(Ue.a,{"className":"icon","onClick":function onClick(){ut.openBag(Ve.PROPERTY)},"src":Object(Ee.g)("gl_property_cion")})):null})),ns=y("vbVB"),as=Object(X.observer)(Zi=function(p){Object(q.default)(MissionIcon,p);var m=Object(W.default)(MissionIcon);function MissionIcon(){var p;Object(F.default)(this,MissionIcon);for(var y=arguments.length,g=new Array(y),O=0;O<y;O++)g[O]=arguments[O];return p=m.call.apply(m,[this].concat(g)),Object(Z.default)(Object(Y.default)(p),"onClick",(function(){Mi.openDailyMissionPop()})),p}return Object(U.default)(MissionIcon,[{"key":"componentDidMount","value":function componentDidMount(){Mi.getDailyMission()}},{"key":"render","value":function render(){var p=Hr.iconRedDotInfo,m=(void 0===p?{}:p)[_e.d.DAILY_MISSION],y=Mi.showDailyDotOnce,g=Mi.dailyMissionList;return m&&(void 0===g?[]:g).length>0?K.a.createElement(G.a,{"className":"gl-bottom-icon"},K.a.createElement(Ue.a,{"className":"icon","onClick":this.onClick,"src":Object(Ee.g)("gl_mission_icon")}),m===_e.e.SHOW_WITH_DOT&&y&&K.a.createElement(ns.a,{"defaultCss":"-top-4 -right-10 leading-26 text-18 px-6 rounded-18 ff-m"},"可领取")):null}}]),MissionIcon}(K.a.Component))||Zi,rs=(y("0WRm"),Object(X.observer)(Vi=function(p){Object(q.default)(BottomIcons,p);var m=Object(W.default)(BottomIcons);function BottomIcons(){return Object(F.default)(this,BottomIcons),m.apply(this,arguments)}return Object(U.default)(BottomIcons,[{"key":"render","value":function render(){return K.a.createElement(K.a.Fragment,null,K.a.createElement(G.a,{"className":"gl-bottom-icons flex"},K.a.createElement(as,null),K.a.createElement(ts,null)),K.a.createElement(Yi,null))}}]),BottomIcons}(H.Component))||Vi),os=(y("KKWp"),Object(X.observer)(Ji=function(p){Object(q.default)(Barrage,p);var m=Object(W.default)(Barrage);function Barrage(){return Object(F.default)(this,Barrage),m.apply(this,arguments)}return Object(U.default)(Barrage,[{"key":"componentDidMount","value":function componentDidMount(){Fe.addBarrage([{"type":dr.MSG,"content":"欢迎来到草场！"}])}},{"key":"render","value":function render(){var p=Fe.barrageList,m=void 0===p?[]:p,y=m.length-1;return K.a.createElement(G.a,{"className":"gl-barrage-wrap"},m.map((function(p,m){var g={"bottom":Object(Yr.a)(60*(y-m))};return K.a.createElement(G.a,{"className":xe()("item-wrap fl-y",{"appear":m===y}),"key":"item"+m,"style":g},p.map((function(p,m){var y=p||{},g=y.type,O=y.content,k="".concat(g,"-").concat(O);if(g===dr.COW){var j=(getAnimalConfig(O)||{}).name,I=void 0===j?"牛牛":j;return K.a.createElement(bo.a,{"key":k},I)}return g===dr.AVATAR?K.a.createElement(Ue.a,{"key":"img"+g+m,"className":"avatar","src":Object(Go.b)(O)}):K.a.createElement(G.a,{"key":"text"+g+m},O)})))})))}}]),Barrage}(H.Component))||Ji),is=(y("Ofta"),Object(X.observer)(Xi=function(p){Object(q.default)(TopCoinBanner,p);var m=Object(W.default)(TopCoinBanner);function TopCoinBanner(){return Object(F.default)(this,TopCoinBanner),m.apply(this,arguments)}return Object(U.default)(TopCoinBanner,[{"key":"onClick","value":function onClick(){Wr.getRewardPool().then((function(){ct.a.setPop(lt.a.COIN_EXCHANGE_CENTER_POP)}))}},{"key":"render","value":function render(){var p=Fe.grassLeftTime,m=Wr.coinAmount;return K.a.createElement("div",{"className":"top-coin  h-128 rounded-20 mt-12 bg-fff"},K.a.createElement(Ue.a,{"className":"w-142 h-128 float-left","src":Object(Ee.g)("banner_coin")}),K.a.createElement(G.a,{"className":"fl-y flex-col w-192 float-left mt-30"},K.a.createElement(G.a,{"className":"coin-num text-36 leading-36 w-full"},m),K.a.createElement(G.a,{"className":"text-a05 w-full text-22"},K.a.createElement(Kr.a,{"countDown":p,"outputType":"timeWithUnit","countText":"后过期"}))),K.a.createElement(G.a,{"className":"coin-btn float-right bg_btn text-26 ff-m w-136 h-52 rounded-48 text-center leading-52 mr-20 mt-38 text-36","onClick":this.onClick},"兑换奖励"))}}]),TopCoinBanner}(H.Component))||Xi),ss=(y("C/Wn"),Object(X.observer)(Qi=function(p){Object(q.default)(GrassLand,p);var m=Object(W.default)(GrassLand);function GrassLand(){return Object(F.default)(this,GrassLand),m.apply(this,arguments)}return Object(U.default)(GrassLand,[{"key":"componentDidMount","value":function componentDidMount(){var p=this;Object(me.b)();var m=Oe.a.getStorageItem(Ge.a.GL_ENDTIME);m&&m<=Le.a.dateNowSecond?Object(We.f)().catch(xa.e).finally((function(){Hr.init()})):Hr.init();try{Hr.scoketConnect(),Aa.a.on("updateCow",(function(m){var y=m.eventType,g=m.meadowNum,O=m.userParkingCowList,k=void 0===O?[]:O,j=m.userParkRankList,I=void 0===j?[]:j,P=m.cowParkPopupInfo,M=m.userParkInfo;if(y===_e.k.ADD)return p.addCow(k),void(I.length&&Fe.updateRankInfo(I));if((y===_e.k.RECALL||y===_e.k.REMOVE||y===_e.k.REMOVE_PARK)&&g){var C,T,E=(Fe.parkingAnimalsMap[g]||{}).cowData,S=E.uid,x=E.cowType,A=E.avatar;if((null===(C=Hr.curClickCowItem)||void 0===C?void 0:C.meadowNum)===g&&ct.a.closePop(lt.a.OPERATION_COW_POP),I.length&&Fe.updateRankInfo(I),y===_e.k.REMOVE||y===_e.k.REMOVE_PARK)null===(T=Fe.removeOneCow(g,_e.b.PASSIVE_EXPULSION))||void 0===T||T.then((function(){S===Re.a.userID&&P&&Hr.openExpelCowPop(P,{"source":nr.e.CLICK});var m=P||{},g=m.expelUserList,O=void 0===g?[]:g,j=m.rewardInfo,I=void 0===j?{}:j,M=(O[0]||{}).avatar,C=S===Re.a.userID?[{"type":dr.MSG,"content":"你的"}]:[{"type":dr.AVATAR,"content":A},{"type":dr.MSG,"content":"的"}];if(Fe.addBarrage([].concat(C,[{"type":dr.COW,"content":x},{"type":dr.MSG,"content":"被"},{"type":dr.AVATAR,"content":M},{"type":dr.MSG,"content":"驱赶"}])),y===_e.k.REMOVE_PARK&&k.length&&p.addCow(k),S===Re.a.userID){var T=I.reward;(void 0===T?[]:T).forEach((function(p){var m=p||{},y=m.rewardType,g=m.rewardAmount,O=void 0===g?0:g;y===xo.c.COIN&&Wr.addCoinAmount(O)}))}}));else Fe.removeOneCow(g,_e.b.NORMAL_DISAPPEAR),Fe.addBarrage([{"type":dr.AVATAR,"content":A},{"type":dr.MSG,"content":"的"},{"type":dr.COW,"content":x},{"type":dr.MSG,"content":"被领回了"}])}if(y===_e.k.ONLINE){var N=(M||{}).avatar;Fe.addBarrage([{"type":dr.AVATAR,"content":N},{"type":dr.MSG,"content":"进入公共草场"}])}}))}catch(p){var y={"op":"real_error","page":"ranch_grassland_scoket_error","error_message":JSON.stringify(p||{})};Object(qr.a)(y)}}},{"key":"addCow","value":function addCow(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];p.map((function(p){var m=p||{},y=m.cowType,g=m.avatar;y&&Fe.updateCowInfo(p,{"isBorn":!0}),Fe.addBarrage([{"type":dr.AVATAR,"content":g},{"type":dr.MSG,"content":"的"},{"type":dr.COW,"content":y},{"type":dr.MSG,"content":"占领了草地"}])}))}},{"key":"componentWillUnmount","value":function componentWillUnmount(){Hr.closeScoketConnect(),Aa.a.removeListener("updateCow")}},{"key":"render","value":function render(){var p=pr.a.isIphoneX,m=ge.a.topHeight,y=Hr.isCoinType;return K.a.createElement(G.a,{"className":xe()("gl-wrap",{"iphoneX":p})},K.a.createElement(G.a,{"className":"gl-main"},K.a.createElement(Te.a,{"bgImg":Object(Ee.f)("gl_bg_ipx_v5","jpg")}),K.a.createElement(G.a,{"className":"ab-x topPart","style":{"top":"".concat(Object(Yr.a)(m+10))}},K.a.createElement(Ki,null),y&&K.a.createElement(is,null)),K.a.createElement(fo,null),K.a.createElement(os,null),K.a.createElement(rs,null),K.a.createElement(Hi,null),K.a.createElement(qi,null)))}}]),GrassLand}(H.Component))||Qi),cs=y("h0W9"),ls=y("mFa/"),us=y("Dn1P"),ps=y("TN9O"),fs=y("F0BJ"),ds=y("VtsB");y("JjRB");J.c.config||(J.c.config={"designWidth":750,"deviceRatio":{"640":1.17,"750":1,"828":.905}}),Object(ce.f)(),Object(ps.b)();var ms={"miniPath":"/package_activity/ranch/pages/index/index"};Object(ls.a)();var ys=Object(X.observer)((es=function(p){Object(q.default)(GrassLandMain,p);var m=Object(W.default)(GrassLandMain);function GrassLandMain(){var p;Object(F.default)(this,GrassLandMain);for(var g=arguments.length,O=new Array(g),k=0;k<g;k++)O[k]=arguments[k];return p=m.call.apply(m,[this].concat(O)),Object(Z.default)(Object(Y.default)(p),"timerId",null),Object(Z.default)(Object(Y.default)(p),"preloading",(function(){var p=Object(ie.E)(1e3,Hr.preprocess.map((function(p){return p&&p.catch?p.catch(ie.w):Promise.resolve()}))),m=[].concat(p);Promise.all(m).finally((function(){Object(ce.g)("101589",!1)}))})),Object(Z.default)(Object(Y.default)(p),"pagePrepare",(function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m.disableShare;if(re.c){ae.a.guard=!1,Object(ds.a)();var y=function pageSnMiddlewawre(m){var y={"fun_id":p.queries.fun_id,"biz_id":ee.k,"business_id":ee.l};return Object.assign({},m,y)};ke.a.addMiddleware([y]),ae.a.prepare({"disablePullReload":!0,"usePDDShare":!0,"requireLogin":!0,"shareInfo":{"noDefaultShare":!1,"forceShareToWeChatTimeline":!1,"shareToWeChatTimelineInAppDisabled":!0,"disableShare":fe.a.isPureWeChatPlatform()},"pageProperty":{"pageSN":"101589"},"pmmAppInfo":window.__PMM_APP_INFO__},(function(){p.init()}))}else{var g=Object(ie.c)(101589);p.prepareWeapp().then((function(){ke.a.addMiddleware([function pageSnMiddlewawre(p){var m={"biz_id":ee.k,"business_id":ee.l,"page_id":g};return Object.assign({},p,m)}]),p.init()}))}})),Object(Z.default)(Object(Y.default)(p),"prepareWeapp",(function(){return ae.a.prepare((function(){Object(Q.b)(179,"wait for login")}),{"disablePullReload":!0,"pageProperty":{"pageSN":"101589","pageName":"xcx_cartoon_ranch","campaignID":"ranch"}})})),Object(Z.default)(Object(Y.default)(p),"init",(function(){Promise.all([be.a.init().then((function(){var p=be.a.getDomain();ms.h5Domain=p,Oe.a.set("domain",p),be.a.getGrayShow("IOS13_FASTCLICK").then((function(p){p&&Oe.a.isIOS13&&y("/jzl").attach(document.body,{"tapDelay":50})})),Object(fs.a)((function(p){if(!be.a.isCheckPageVisibility)return!1;p||Hr.closeScoketConnect(),ge.a.set("pageIsVisible",p)}))})).finally((function(){re.e&&pe.a.init(ms)})),he.a.init(cs.a)]).then((function(){Object(ue.a)()(),p.loaded=!0})),Object(ue.c)()()})),p}return Object(U.default)(GrassLandMain,[{"key":"componentWillMount","value":function componentWillMount(){var p=this;re.e&&Object(je.e)(),Object(fs.b)(),this.loaded=!1,this.timerId=setTimeout((function(){p.loaded||!p.loaded&&Object(fs.h)()}),8e3)}},{"key":"componentDidMount","value":function componentDidMount(){var p=this;if(this.queries=Object(le.a)()||{},!this.iosBackReload()){this.pagePrepare(),this.preloading(),Ie.b.subscribe(Pe.b,(function(p,m){var y=Object(ie.B)(null==p?void 0:p.error_msg,{}),g=y.hintMsg,O=void 0===g?"":g;y.jumpType&&(Oe.a.set("isEmptyExperiment",!0),Oe.a.set("hintMsg",O)),Ce.a.toggleLoading(!0)})),ue.l.then((function(){var p={"query":Object(le.a)()};!(fe.a.isPureWeChatPlatform()&&Oe.a.isWxStayBack)&&(Object(se.d)(p,ne.b.GRASS_LAND),Oe.a.set("isWxStayBack",!1))})),fe.a.isBothBigAndSmallNativePlatform()&&de.a.addSceneReturnCallback((function(){(ie.v||{}).apply&&ie.v.apply(),Object(me.a)({"bgColor":p.bgColor})})),Object(me.a)({"bgColor":this.bgColor});var m=this.queries.fun_id,y=this.queries.pr_page_from;m&&(m===se.b?Object(Q.b)(ne.a.ENTERY_FROM_DDKL):m===se.c&&(y&&"scheme"===y?Object(Q.b)(ne.a.ENTERY_FROM_DDKL_SHORTURL):Object(Q.b)(ne.a.ENTERY_FROM_DDKL_SHORTURL_COPY)))}}},{"key":"componentDidCatch","value":function componentDidCatch(p,m){var y=document.getElementsByClassName("gl-wrap");Object(Q.e)({"error":p,"info":m},"ranch_grassland_didCatch_error","gl-wrap::".concat(y.length)),y.length<1&&Object(Q.b)(ne.a.RANCH_RENDER_ERROR)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.timerId&&clearTimeout(this.timerId)}},{"key":"componentDidShow","value":function componentDidShow(){re.e&&(this.prepareWeapp().then((function(p){oe.a.authForward&&(oe.a.authForward=!1,pe.a.reload())})).catch((function(p){})),wx&&wx.hideShareMenu()),!0===$.f.isFromShare&&($.f.isFromShare=!1,$.f.successCallback&&$.f.successCallback(),Object(Q.b)(ne.a.SHARE_SUCCESS_BY_WXAPP),Object(Q.b)(ne.a.SHARE_SUCCESS_SUMMARY)),ie.v.apply()}},{"key":"onShareAppMessage","value":function onShareAppMessage(p){$.f.isFromShare=!0,$.f.successCallback=null;var m=ve.a.echoShareInfoUtil(te.a.shareDefault);return m&&($.f.successCallback=m.shareCallback),m}},{"key":"iosBackReload","value":function iosBackReload(){var p=Object(le.a)(),m="ios"===(Object(J.d)().system||"").toLowerCase(),y=!1;return re.c&&fe.a.isPureWeChatPlatform()&&m&&"undefined"!=typeof history&&history.replaceState&&(p.is_back&&!p.is_refresh?(y=!0,p.is_refresh=1,history.replaceState(null,"","".concat(location.pathname,"?").concat(we.default.buildQuery(p))),location.reload()):p.is_refresh&&(p.is_refresh=void 0,history.replaceState(null,"","".concat(location.pathname,"?").concat(we.default.buildQuery(p))))),y}},{"key":"render","value":function render(){ge.a.isLoadingShow,Me.a.initStoreInited;return K.a.createElement(G.a,{"className":"grassland-page"},K.a.createElement(us.a,null),K.a.createElement(ss,null))}},{"key":"bgColor","get":function get(){return"#a0e2ee"}}]),GrassLandMain}(H.Component),Object(V.a)(es.prototype,"bgColor",[ye.computed],Object.getOwnPropertyDescriptor(es.prototype,"bgColor"),es.prototype),$i=es))||$i;y.d(m,"default",(function(){return bs}));var bs=function(p){Object(q.default)(GrassLandPage,p);var m=Object(W.default)(GrassLandPage);function GrassLandPage(){return Object(F.default)(this,GrassLandPage),m.apply(this,arguments)}return Object(U.default)(GrassLandPage,[{"key":"render","value":function render(){return Object(ie.u)()?K.a.createElement(G.a,null):K.a.createElement(ys,null)}}]),GrassLandPage}(H.Component)},"Wr5T":function(p,m,y){p.exports=y("npJN")(54)},"a9+d":function(p,m,y){},"b0ht":function(p,m,y){},"ct/d":function(p,m,y){p.exports=y("YZFv")(85)},"foSv":function(p,m,y){p.exports=y("YZFv")(274)},"h3qu":function(p,m,y){p.exports=y("YZFv")(2)},"hkPe":function(p,m,y){},"jWx1":function(p,m,y){p.exports=y("YZFv")(376)},"kHIg":function(p,m,y){p.exports=y("npJN")(31)},"kk8N":function(p,m,y){p.exports=y("YZFv")(45)},"md7G":function(p,m,y){p.exports=y("npJN")(34)},"o0o1":function(p,m,y){p.exports=y("YZFv")(4)},"oGqr":function(p,m,y){},"oOno":function(p,m,y){},"oRxk":function(p,m,y){},"qAYV":function(p,m,y){p.exports=y("YZFv")(377)},"rIj9":function(p,m,y){p.exports=y("YZFv")(33)},"sPbS":function(p,m,y){p.exports=y("YZFv")(238)},"sjng":function(p,m,y){},"tfAX":function(p,m,y){},"u/J7":function(p,m,y){p.exports=y("YZFv")(378)},"uf4C":function(p,m,y){p.exports=y("YZFv")(124)},"uhBA":function(p,m,y){p.exports=y("YZFv")(298)},"vDqi":function(p,m,y){p.exports=y("YZFv")(263)},"vYmL":function(p,m,y){p.exports={"grass-bg":"_gNMJEZY","cow":"_1aX258x"}},"ytvb":function(p,m,y){},"zvg8":function(p,m,y){}}]);
//# sourceMappingURL=http://vgunxpkt.com/sourcemaps/mobile-ranch/js/152_83e4a522fd0fbde95738.js.map